{"items":[{"tags":["java","regex"],"comments":[{"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"score":0,"creation_date":1316723739,"post_id":7521118,"comment_id":9109780,"body_markdown":"Is this a post-mortem fix for a character encoding issue?","body":"Is this a post-mortem fix for a character encoding issue?"},{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1316723742,"post_id":7521118,"comment_id":9109781,"body_markdown":"Any reason you want to use a regular expression for this rather than just replacing one character sequence with another?","body":"Any reason you want to use a regular expression for this rather than just replacing one character sequence with another?"},{"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":1,"creation_date":1316723768,"post_id":7521118,"comment_id":9109790,"body_markdown":"How will you avoid `Is this John?s ball?` from turning into `Is this John&#39;s ball&#39;`","body":"How will you avoid <code>Is this John?s ball?</code> from turning into <code>Is this John&#39;s ball&#39;</code>"}],"answers":[{"tags":[],"owner":{"account_id":374427,"reputation":81252,"user_id":724626,"accept_rate":100,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1316724165,"creation_date":1316723827,"answer_id":7521181,"question_id":7521118,"body_markdown":"[string.replaceall][1]\r\n\r\n     String fixed = old.replaceAll(&quot;\\\\?([ts])&quot;, &quot;&#39;$1&quot;);\r\n\r\nHere&#39;s an [**example**][2]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\r\n  [2]: http://ideone.com/cJEYh","title":"Replace a character squence in java using regular expression","body":"<p><a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\" rel=\"nofollow\">string.replaceall</a></p>\n\n<pre><code> String fixed = old.replaceAll(\"\\\\?([ts])\", \"'$1\");\n</code></pre>\n\n<p>Here's an <a href=\"http://ideone.com/cJEYh\" rel=\"nofollow\"><strong>example</strong></a></p>\n"},{"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316725197,"creation_date":1316725197,"answer_id":7521456,"question_id":7521118,"body_markdown":"In this case you could use:\r\n\r\n    s = s.replaceAll(&quot;\\\\b?\\\\b&quot;, &quot;&#39;&quot;);\r\n\r\nThen you&#39;ll be much less likely to replace legitimate question marks, as @glowcoder mentioned.  However, I think @Philipp is right, and this is really a character-encoding issue.  It looks like your text was supposed to be:\r\n\r\n    &quot;This ball isn’t yours, this one is John’s&quot;\r\n\r\nIf it was encoded as cp-1252 but decoded as ASCII, the curly single-quotes would be replaced with question marks.  If that&#39;s the case, you&#39;re likely to find other characters, like curly double-quotes (`“ ”`), en-dash (`–`) and em-dash (`—`), that have been munged in the same way.","title":"Replace a character squence in java using regular expression","body":"<p>In this case you could use:</p>\n\n<pre><code>s = s.replaceAll(\"\\\\b?\\\\b\", \"'\");\n</code></pre>\n\n<p>Then you'll be much less likely to replace legitimate question marks, as @glowcoder mentioned.  However, I think @Philipp is right, and this is really a character-encoding issue.  It looks like your text was supposed to be:</p>\n\n<pre><code>\"This ball isn’t yours, this one is John’s\"\n</code></pre>\n\n<p>If it was encoded as cp-1252 but decoded as ASCII, the curly single-quotes would be replaced with question marks.  If that's the case, you're likely to find other characters, like curly double-quotes (<code>“ ”</code>), en-dash (<code>–</code>) and em-dash (<code>—</code>), that have been munged in the same way.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692792565,"creation_date":1692792565,"answer_id":76961221,"question_id":7521118,"body_markdown":"In this particular case, a regular expression is not needed.\r\n```\r\nString s = &quot;This ball isn?t yours, this one is John?s&quot;;\r\ns = s.replace(&quot;?&quot;,&quot;&#39;&quot;);\r\nSystem.out.println(s);\r\n```\r\nprints\r\n```\r\nThis ball isn&#39;t yours, this one is John&#39;s\r\n","title":"Replace a character squence in java using regular expression","body":"<p>In this particular case, a regular expression is not needed.</p>\n<pre><code>String s = &quot;This ball isn?t yours, this one is John?s&quot;;\ns = s.replace(&quot;?&quot;,&quot;'&quot;);\nSystem.out.println(s);\n</code></pre>\n<p>prints</p>\n<pre><code>This ball isn't yours, this one is John's\n</code></pre>\n"}],"owner":{"account_id":357104,"reputation":335,"user_id":697053,"accept_rate":47,"display_name":"Amer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7521181,"answer_count":3,"score":0,"last_activity_date":1692792565,"creation_date":1316723549,"question_id":7521118,"body_markdown":"I have the following text\r\n\r\n&quot;This ball isn?t yours, this one is John?s&quot;\r\n\r\nI want to correct this to be \r\n\r\n&quot;This ball isn&#39;t yours, this one is John&#39;s&quot;\r\n\r\nHow can I do this in Java using Pattern and Matcher?","title":"Replace a character squence in java using regular expression","body":"<p>I have the following text</p>\n\n<p>\"This ball isn?t yours, this one is John?s\"</p>\n\n<p>I want to correct this to be </p>\n\n<p>\"This ball isn't yours, this one is John's\"</p>\n\n<p>How can I do this in Java using Pattern and Matcher?</p>\n"},{"tags":["java","regex","regex-greedy"],"comments":[{"owner":{"account_id":10843,"reputation":330377,"user_id":20670,"accept_rate":100,"display_name":"Tim Pietzcker"},"score":0,"creation_date":1324285678,"post_id":8558966,"comment_id":10608238,"body_markdown":"Your requirements are unclear. Do you want to assert that 11, 33, and 55 are present in the string, but that 77 isn&#39;t? Is the order of numbers relevant? What are you actually trying to achieve?","body":"Your requirements are unclear. Do you want to assert that 11, 33, and 55 are present in the string, but that 77 isn&#39;t? Is the order of numbers relevant? What are you actually trying to achieve?"},{"owner":{"account_id":1116262,"reputation":23,"user_id":1105515,"display_name":"tricpod"},"score":0,"creation_date":1324286594,"post_id":8558966,"comment_id":10608465,"body_markdown":"I want all 11 or 33 or 55. In aa33ss33dd33ee I need 3 times 33","body":"I want all 11 or 33 or 55. In aa33ss33dd33ee I need 3 times 33"},{"owner":{"account_id":1116262,"reputation":23,"user_id":1105515,"display_name":"tricpod"},"score":0,"creation_date":1324287641,"post_id":8558966,"comment_id":10608723,"body_markdown":"I use:\n    Pattern p = Pattern.compile(&quot;(11|33|55)&quot;);\n    Matcher m = p.matcher(&quot;asd11sdf33sdf55sdfg77sdf&quot;);\n    int start = 0;\n    List&lt;String&gt; matches = new ArrayList&lt;String&gt;();\n    while (m.find()) {\n        matches.add(m.group());\n    }\n    System.err.println(&quot;matches = &quot; + matches);","body":"I use:     Pattern p = Pattern.compile(&quot;(11|33|55)&quot;);     Matcher m = p.matcher(&quot;asd11sdf33sdf55sdfg77sdf&quot;);     int start = 0;     List&lt;String&gt; matches = new ArrayList&lt;String&gt;();     while (m.find()) {         matches.add(m.group());     }     System.err.println(&quot;matches = &quot; + matches);"}],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1324285138,"creation_date":1324285138,"answer_id":8558993,"question_id":8558966,"body_markdown":"Use `(?!77)(\\d\\d)` as a `Pattern` and `while (m.find()) { m.group(1) }` where `m` is a `Matcher`.","title":"Java Regexp Groups","body":"<p>Use <code>(?!77)(\\d\\d)</code> as a <code>Pattern</code> and <code>while (m.find()) { m.group(1) }</code> where <code>m</code> is a <code>Matcher</code>.</p>\n"},{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324285549,"creation_date":1324285549,"answer_id":8559046,"question_id":8558966,"body_markdown":"Groups are fixed, you cannot use &quot;+&quot; on a group to get a list of matches. You have to do this with a loop:\r\n\r\n        Pattern p = Pattern.compile(&quot;((11)|(33)|(55))&quot;);\r\n        Matcher m = p.matcher(&quot;asd11sdf33sdf55sdfg77sdf&quot;);\r\n        int start = 0;\r\n        List&lt;String&gt; matches = new ArrayList&lt;String&gt;();\r\n        while (m.find()) {\r\n            matches.add(m.group());\r\n        }\r\n        System.err.println(&quot;matches = &quot; + matches);\r\n","title":"Java Regexp Groups","body":"<p>Groups are fixed, you cannot use \"+\" on a group to get a list of matches. You have to do this with a loop:</p>\n\n<pre><code>    Pattern p = Pattern.compile(\"((11)|(33)|(55))\");\n    Matcher m = p.matcher(\"asd11sdf33sdf55sdfg77sdf\");\n    int start = 0;\n    List&lt;String&gt; matches = new ArrayList&lt;String&gt;();\n    while (m.find()) {\n        matches.add(m.group());\n    }\n    System.err.println(\"matches = \" + matches);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":455438,"reputation":2729,"user_id":853599,"accept_rate":95,"display_name":"Dante WWWW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324286578,"creation_date":1324286135,"answer_id":8559159,"question_id":8558966,"body_markdown":"try to use  \r\n\r\n    .*?(11|33|55)\r\n\r\nas your regexp to compile the pattern, and use the loop in fge&#39;s answer. (and I think his answer is more universal and meaningful...\r\n\r\nThis is because the .* or something after (11|33|55) in your regexp matches the whole string after 11. (and if you use greedy match the .* before (11|33|55) will match the whole string before 55... just because it is greedy)\r\n\r\nThis way you will get a match whose match(1) is 11, find() is the match of string after 11.\r\n\r\ntested with http://www.regexplanet.com/simple/index.html","title":"Java Regexp Groups","body":"<p>try to use  </p>\n\n<pre><code>.*?(11|33|55)\n</code></pre>\n\n<p>as your regexp to compile the pattern, and use the loop in fge's answer. (and I think his answer is more universal and meaningful...</p>\n\n<p>This is because the .* or something after (11|33|55) in your regexp matches the whole string after 11. (and if you use greedy match the .* before (11|33|55) will match the whole string before 55... just because it is greedy)</p>\n\n<p>This way you will get a match whose match(1) is 11, find() is the match of string after 11.</p>\n\n<p>tested with <a href=\"http://www.regexplanet.com/simple/index.html\" rel=\"nofollow\">http://www.regexplanet.com/simple/index.html</a></p>\n"}],"owner":{"account_id":1116262,"reputation":23,"user_id":1105515,"display_name":"tricpod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8558993,"answer_count":3,"score":2,"last_activity_date":1692792504,"creation_date":1324284939,"question_id":8558966,"body_markdown":"I need a expression to extract some alternatives. The input is:\r\n\r\n    asd11sdf33sdf55sdfg77sdf\r\n\r\nI need the 11 33 and 55 but not 77.\r\n\r\nI tried first: \r\n\r\n    .*(((11)|(33)|(55)).*)+.*\r\n\r\nSo I got only 55. But with lazy (non greedy)\r\n\r\n    .*?(((11)|(33)|(55)).*)+.*\r\n\r\nI got only 11. How to get all?\r\n\r\nregards Thomas\r\n","title":"Java Regexp Groups","body":"<p>I need a expression to extract some alternatives. The input is:</p>\n\n<pre><code>asd11sdf33sdf55sdfg77sdf\n</code></pre>\n\n<p>I need the 11 33 and 55 but not 77.</p>\n\n<p>I tried first: </p>\n\n<pre><code>.*(((11)|(33)|(55)).*)+.*\n</code></pre>\n\n<p>So I got only 55. But with lazy (non greedy)</p>\n\n<pre><code>.*?(((11)|(33)|(55)).*)+.*\n</code></pre>\n\n<p>I got only 11. How to get all?</p>\n\n<p>regards Thomas</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":1011299,"reputation":26793,"user_id":1023815,"display_name":"Adam Zalcman"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1324233048,"creation_date":1324233048,"answer_id":8553813,"question_id":8553761,"body_markdown":"It is helpful to change\r\n\r\n    System.out.print(m.start() + m.group());\r\n\r\nto\r\n\r\n    System.out.println(m.start() + &quot;: &quot; + m.group());\r\n\r\nThis way the output is much clearer:\r\n\r\n    0: \r\n    1: \r\n    2: 34\r\n    4: \r\n    5: \r\n    6: \r\n\r\nYou can see that it matched at 7 different positions: at position 2 it matched string &quot;34&quot; and at any other position it matched an empty string. **Empty string matches at the end** as well, which is why you see &quot;6&quot; at the end of your output.\r\n\r\nNote that if you run your program like this:\r\n\r\n    java Regex2 &quot;\\d+&quot; ab34ef\r\n\r\nit will only output\r\n\r\n    2: 34\r\n","title":"Regular expression - Greedy quantifier","body":"<p>It is helpful to change</p>\n\n<pre><code>System.out.print(m.start() + m.group());\n</code></pre>\n\n<p>to</p>\n\n<pre><code>System.out.println(m.start() + \": \" + m.group());\n</code></pre>\n\n<p>This way the output is much clearer:</p>\n\n<pre><code>0: \n1: \n2: 34\n4: \n5: \n6: \n</code></pre>\n\n<p>You can see that it matched at 7 different positions: at position 2 it matched string \"34\" and at any other position it matched an empty string. <strong>Empty string matches at the end</strong> as well, which is why you see \"6\" at the end of your output.</p>\n\n<p>Note that if you run your program like this:</p>\n\n<pre><code>java Regex2 \"\\d+\" ab34ef\n</code></pre>\n\n<p>it will only output</p>\n\n<pre><code>2: 34\n</code></pre>\n"}],"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1441914463,"accepted_answer_id":8553813,"answer_count":1,"score":0,"last_activity_date":1692792373,"creation_date":1324232601,"question_id":8553761,"body_markdown":"I am really struggling with this question: \r\n\r\n    import java.util.regex.*;    \r\n    class Regex2 {    \r\n        public static void main(String[] args) {    \r\n            Pattern p = Pattern.compile(args[0]);    \r\n            Matcher m = p.matcher(args[1]);    \r\n            boolean b = false;    \r\n            while(b = m.find()) {    \r\n                System.out.print(m.start() + m.group());    \r\n            }    \r\n        }\r\n    }  \r\n\r\nWhen the above program is run with the following command:\r\n\r\n    java Regex2 &quot;\\d*&quot; ab34ef \r\n\r\nIt outputs `01234456`. I don&#39;t really understand this output. Consider the following indexes for each of the characters:\r\n\r\n    a b 3 4 e f\r\n    ^ ^ ^ ^ ^ ^\r\n    0 1 2 3 4 5\r\n\r\nShouldn&#39;t the output have been `0123445`?\r\n\r\nI have been reading around and it looks like the RegEx engine will also read the end of the string but I just don&#39;t understand. Would appreciate if someone can provide a step by step guide as to how it is getting that result. i.e. how it is finding each of the numbers. ","title":"Regular expression - Greedy quantifier","body":"<p>I am really struggling with this question: </p>\n\n<pre><code>import java.util.regex.*;    \nclass Regex2 {    \n    public static void main(String[] args) {    \n        Pattern p = Pattern.compile(args[0]);    \n        Matcher m = p.matcher(args[1]);    \n        boolean b = false;    \n        while(b = m.find()) {    \n            System.out.print(m.start() + m.group());    \n        }    \n    }\n}  \n</code></pre>\n\n<p>When the above program is run with the following command:</p>\n\n<pre><code>java Regex2 \"\\d*\" ab34ef \n</code></pre>\n\n<p>It outputs <code>01234456</code>. I don't really understand this output. Consider the following indexes for each of the characters:</p>\n\n<pre><code>a b 3 4 e f\n^ ^ ^ ^ ^ ^\n0 1 2 3 4 5\n</code></pre>\n\n<p>Shouldn't the output have been <code>0123445</code>?</p>\n\n<p>I have been reading around and it looks like the RegEx engine will also read the end of the string but I just don't understand. Would appreciate if someone can provide a step by step guide as to how it is getting that result. i.e. how it is finding each of the numbers. </p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1505368828,"post_id":46211554,"comment_id":79386059,"body_markdown":"Have you research any thing?","body":"Have you research any thing?"},{"owner":{"account_id":9094546,"reputation":1250,"user_id":6768947,"accept_rate":67,"display_name":"passion"},"score":0,"creation_date":1505369421,"post_id":46211554,"comment_id":79386318,"body_markdown":"set unwanted field null","body":"set unwanted field null"},{"owner":{"account_id":7728234,"reputation":540,"user_id":5852226,"display_name":"Sukma Wardana"},"score":0,"creation_date":1505370218,"post_id":46211554,"comment_id":79386688,"body_markdown":"Possible duplicate of [Ignoring new fields on JSON objects using Jackson](https://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson\">Ignoring new fields on JSON objects using Jackson</a>"}],"answers":[{"tags":[],"owner":{"account_id":29412,"reputation":5855,"user_id":79450,"accept_rate":100,"display_name":"Catchwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505369583,"creation_date":1505369583,"answer_id":46211787,"question_id":46211554,"body_markdown":"Annotate your POJO `id` and `name` attributes with @JsonProperty and manager with @JsonIgnore\r\n\r\nWhen you want just `id` and `name`, use a default ObjectMapper.\r\nWhen you want all fields, use a custom ObjectMapper per this [question/answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7105745/how-to-specify-jackson-to-only-use-fields-preferably-globally","title":"How to use Jackson to conditionally serialise the fields of a POJO","body":"<p>Annotate your POJO <code>id</code> and <code>name</code> attributes with @JsonProperty and manager with @JsonIgnore</p>\n\n<p>When you want just <code>id</code> and <code>name</code>, use a default ObjectMapper.\nWhen you want all fields, use a custom ObjectMapper per this <a href=\"https://stackoverflow.com/questions/7105745/how-to-specify-jackson-to-only-use-fields-preferably-globally\">question/answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505370153,"creation_date":1505370153,"answer_id":46211928,"question_id":46211554,"body_markdown":"There are many ways to do this:\r\n\r\n1. set unwanted field to `null`, and use `@JsonInclude(Include.NON_NULL)` annotation at class level.\r\n\r\n2. supply `SimpleBeanPropertyFilter`, while using `ObjectMapper` and use annotation `@JsonFilter(&lt;filter_name&gt;)` at class level.\r\n\r\n3. use a custom-serializer.","title":"How to use Jackson to conditionally serialise the fields of a POJO","body":"<p>There are many ways to do this:</p>\n\n<ol>\n<li><p>set unwanted field to <code>null</code>, and use <code>@JsonInclude(Include.NON_NULL)</code> annotation at class level.</p></li>\n<li><p>supply <code>SimpleBeanPropertyFilter</code>, while using <code>ObjectMapper</code> and use annotation <code>@JsonFilter(&lt;filter_name&gt;)</code> at class level.</p></li>\n<li><p>use a custom-serializer.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6525393,"reputation":332,"user_id":5048304,"display_name":"Tob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692792111,"creation_date":1692792111,"answer_id":76961160,"question_id":46211554,"body_markdown":"You can achieve this with `@JsonView` (kudos to [baeldung][1]):\r\n\r\n**`@JsonView` indicates the View in which the property will be included for serialization/deserialization.**\r\n\r\nFor example, we&#39;ll use @JsonView to serialize an instance of Item entity.\r\n\r\nFirst, let&#39;s start with the views:\r\n```java\r\npublic class Views {\r\n    public static class Public {}\r\n    public static class Internal extends Public {}\r\n}\r\n```\r\nNext here&#39;s the Item entity using the views:\r\n```java\r\npublic class Item {\r\n    @JsonView(Views.Public.class)\r\n    public int id;\r\n\r\n    @JsonView(Views.Public.class)\r\n    public String itemName;\r\n\r\n    @JsonView(Views.Internal.class)\r\n    public String ownerName;\r\n}\r\n```\r\nFinally, the full test:\r\n```java\r\n@Test\r\npublic void whenSerializingUsingJsonView_thenCorrect()\r\n  throws JsonProcessingException {\r\n    Item item = new Item(2, &quot;book&quot;, &quot;John&quot;);\r\n\r\n    String result = new ObjectMapper()\r\n      .writerWithView(Views.Public.class)\r\n      .writeValueAsString(item);\r\n\r\n    assertThat(result, containsString(&quot;book&quot;));\r\n    assertThat(result, containsString(&quot;2&quot;));\r\n    assertThat(result, not(containsString(&quot;John&quot;)));\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-annotations#bd-4-jsonview","title":"How to use Jackson to conditionally serialise the fields of a POJO","body":"<p>You can achieve this with <code>@JsonView</code> (kudos to <a href=\"https://www.baeldung.com/jackson-annotations#bd-4-jsonview\" rel=\"nofollow noreferrer\">baeldung</a>):</p>\n<p><strong><code>@JsonView</code> indicates the View in which the property will be included for serialization/deserialization.</strong></p>\n<p>For example, we'll use @JsonView to serialize an instance of Item entity.</p>\n<p>First, let's start with the views:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Views {\n    public static class Public {}\n    public static class Internal extends Public {}\n}\n</code></pre>\n<p>Next here's the Item entity using the views:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Item {\n    @JsonView(Views.Public.class)\n    public int id;\n\n    @JsonView(Views.Public.class)\n    public String itemName;\n\n    @JsonView(Views.Internal.class)\n    public String ownerName;\n}\n</code></pre>\n<p>Finally, the full test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void whenSerializingUsingJsonView_thenCorrect()\n  throws JsonProcessingException {\n    Item item = new Item(2, &quot;book&quot;, &quot;John&quot;);\n\n    String result = new ObjectMapper()\n      .writerWithView(Views.Public.class)\n      .writeValueAsString(item);\n\n    assertThat(result, containsString(&quot;book&quot;));\n    assertThat(result, containsString(&quot;2&quot;));\n    assertThat(result, not(containsString(&quot;John&quot;)));\n}\n</code></pre>\n"}],"owner":{"account_id":9656169,"reputation":9,"user_id":7165659,"display_name":"D.Zhu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1391,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1692792111,"creation_date":1505368583,"question_id":46211554,"body_markdown":"I have a java class \r\n\r\n        public class CategoryItem implements Serializable {\r\n        private Long id;            \r\n    \r\n        private String name;           \r\n    \r\n        private Manager manager;\r\n    }\r\n\r\nIn one case,I need to convert all the fields to json.\r\non the other case,I only need &#39;id&#39;and &#39;name&#39; \r\nHow can I do? \r\n\r\nGive me some tips.Thanks\r\n","title":"How to use Jackson to conditionally serialise the fields of a POJO","body":"<p>I have a java class </p>\n\n<pre><code>    public class CategoryItem implements Serializable {\n    private Long id;            \n\n    private String name;           \n\n    private Manager manager;\n}\n</code></pre>\n\n<p>In one case,I need to convert all the fields to json.\non the other case,I only need 'id'and 'name' \nHow can I do? </p>\n\n<p>Give me some tips.Thanks</p>\n"},{"tags":["java","regex","backreference"],"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":2,"creation_date":1319397892,"post_id":7868553,"comment_id":9599549,"body_markdown":"Matcher.replaceAll(&quot;$1$2&quot;) should work. You&#39;re doing something wrong","body":"Matcher.replaceAll(&quot;$1$2&quot;) should work. You&#39;re doing something wrong"},{"owner":{"account_id":471956,"reputation":26750,"user_id":880096,"accept_rate":100,"display_name":"FailedDev"},"score":1,"creation_date":1319398092,"post_id":7868553,"comment_id":9599575,"body_markdown":"http://download.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#replaceAll(java.lang.String) Nothing strange here. Probably your second backreference is empty?","body":"<a href=\"http://download.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#replaceAll(java.lang.String)\" rel=\"nofollow noreferrer\">download.oracle.com/javase/7/docs/api/java/util/regex/&hellip;</a> Nothing strange here. Probably your second backreference is empty?"}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1319398249,"creation_date":1319398249,"answer_id":7868596,"question_id":7868553,"body_markdown":"It works just fine. The following snippet:\r\n\r\n    Pattern p = Pattern.compile(&quot;(.)(.)&quot;);\r\n    Matcher m = p.matcher(&quot;ab&quot;);\r\n    System.out.println(m.replaceAll(&quot;$2$1&quot;));\r\n\r\nwill print:\r\n\r\n    ba","title":"Multiple Backreferences in Matcher.replaceAll()","body":"<p>It works just fine. The following snippet:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"(.)(.)\");\nMatcher m = p.matcher(\"ab\");\nSystem.out.println(m.replaceAll(\"$2$1\"));\n</code></pre>\n\n<p>will print:</p>\n\n<pre><code>ba\n</code></pre>\n"}],"owner":{"account_id":374916,"reputation":6704,"user_id":725417,"accept_rate":94,"display_name":"uTubeFan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1244,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7868596,"answer_count":1,"score":1,"last_activity_date":1692792017,"creation_date":1319397793,"question_id":7868553,"body_markdown":"`Matcher.replaceAll()` with a **single** [backreference][1] works great (i.e. `Matcher.replaceAll(&quot;$2&quot;)`).\r\n\r\nBut I haven&#39;t been able to make it work with two or more backreferences, e.g. `Matcher.replaceAll(&quot;$1$2&quot;)`.\r\n\r\nDoes `Matcher.replaceAll()` support multiple backreferences at all? If so, what is the proper syntax to use it?\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/java.html","title":"Multiple Backreferences in Matcher.replaceAll()","body":"<p><code>Matcher.replaceAll()</code> with a <strong>single</strong> <a href=\"http://www.regular-expressions.info/java.html\" rel=\"nofollow\">backreference</a> works great (i.e. <code>Matcher.replaceAll(\"$2\")</code>).</p>\n\n<p>But I haven't been able to make it work with two or more backreferences, e.g. <code>Matcher.replaceAll(\"$1$2\")</code>.</p>\n\n<p>Does <code>Matcher.replaceAll()</code> support multiple backreferences at all? If so, what is the proper syntax to use it?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":471956,"reputation":26750,"user_id":880096,"accept_rate":100,"display_name":"FailedDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319314318,"creation_date":1319313174,"answer_id":7862192,"question_id":7862167,"body_markdown":"I have no idea about android but this regex : \r\n\r\n    Pattern p = Pattern.compile(&quot;\\\\W&quot;);\r\n\r\nWill match any **non** alphanumeric character. If you would expand it, it would look like this : \r\n\r\n    [^a-zA-Z0-9_]\r\n\r\nIf you want to match a single alphanumeric character including _ just use  : \r\n\r\n    Pattern p = Pattern.compile(&quot;\\\\w&quot;);\r\n\r\nelse use : `Pattern p = Pattern.compile(&quot;[a-zA-Z0-9]&quot;);`","title":"Android regex always returning false","body":"<p>I have no idea about android but this regex : </p>\n\n<pre><code>Pattern p = Pattern.compile(\"\\\\W\");\n</code></pre>\n\n<p>Will match any <strong>non</strong> alphanumeric character. If you would expand it, it would look like this : </p>\n\n<pre><code>[^a-zA-Z0-9_]\n</code></pre>\n\n<p>If you want to match a single alphanumeric character including _ just use  : </p>\n\n<pre><code>Pattern p = Pattern.compile(\"\\\\w\");\n</code></pre>\n\n<p>else use : <code>Pattern p = Pattern.compile(\"[a-zA-Z0-9]\");</code></p>\n"},{"tags":[],"owner":{"account_id":250517,"reputation":30575,"user_id":527288,"accept_rate":81,"display_name":"Kurtis Nusbaum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319317505,"creation_date":1319313399,"answer_id":7862209,"question_id":7862167,"body_markdown":"If you want a regular express that **matches all alphanumeric characters** try `[a-zA-Z0-9]*`. If you want to **match all non alphanumeric characters in a string** try this `\\\\W*`","title":"Android regex always returning false","body":"<p>If you want a regular express that <strong>matches all alphanumeric characters</strong> try <code>[a-zA-Z0-9]*</code>. If you want to <strong>match all non alphanumeric characters in a string</strong> try this <code>\\\\W*</code></p>\n"},{"tags":[],"owner":{"account_id":896870,"reputation":5766,"user_id":933926,"accept_rate":100,"display_name":"aleph_null"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319313853,"creation_date":1319313853,"answer_id":7862247,"question_id":7862167,"body_markdown":"The Matcher method, &quot;matches&quot;, tries to match the Pattern against the entire region. The regular expression &quot;\\\\W&quot; matches a SINGLE non-alphanumeric character. In other words, m.matches() will return true when you attempt to match it to a SINGLE special character. If you attempt to match it to  &quot;&amp;$@R@,&quot;, it will return false since the string contains more than just a single non-alphanumeric character.\r\n","title":"Android regex always returning false","body":"<p>The Matcher method, \"matches\", tries to match the Pattern against the entire region. The regular expression \"\\W\" matches a SINGLE non-alphanumeric character. In other words, m.matches() will return true when you attempt to match it to a SINGLE special character. If you attempt to match it to  \"&amp;$@R@,\", it will return false since the string contains more than just a single non-alphanumeric character.</p>\n"},{"tags":[],"owner":{"account_id":446184,"reputation":12356,"user_id":839086,"accept_rate":100,"display_name":"Marcus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319314131,"creation_date":1319314131,"answer_id":7862269,"question_id":7862167,"body_markdown":"First of all an uppercase `W` matches any **non**-alphanumeric character. Secondly you only matches **one** single character. To match that the string only contains alphanumerical characters use the following regex:\r\n\r\n    String pattern = &quot;[\\\\w]*&quot;;\r\n\r\nNote that `\\w` also matches underscore.","title":"Android regex always returning false","body":"<p>First of all an uppercase <code>W</code> matches any <strong>non</strong>-alphanumeric character. Secondly you only matches <strong>one</strong> single character. To match that the string only contains alphanumerical characters use the following regex:</p>\n\n<pre><code>String pattern = \"[\\\\w]*\";\n</code></pre>\n\n<p>Note that <code>\\w</code> also matches underscore.</p>\n"},{"tags":[],"owner":{"account_id":23634,"reputation":9967,"user_id":59352,"accept_rate":100,"display_name":"Lycha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1319314507,"creation_date":1319314507,"answer_id":7862296,"question_id":7862167,"body_markdown":"Instead of `matches()` which tries to match the whole string to pattern you can use `find()` which just tries to find any occurrence of the pattern. [Source][1]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/util/regex/Matcher.html#find%28%29","title":"Android regex always returning false","body":"<p>Instead of <code>matches()</code> which tries to match the whole string to pattern you can use <code>find()</code> which just tries to find any occurrence of the pattern. <a href=\"http://developer.android.com/reference/java/util/regex/Matcher.html#find%28%29\" rel=\"nofollow\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319316775,"creation_date":1319316775,"answer_id":7862527,"question_id":7862167,"body_markdown":"`\\W` (or as a java string literal, `&quot;\\\\W&quot;`) matches one non-word character.  The `matches()` method implicitly anchors the match at both ends, as if you had really written `&quot;\\\\A\\\\W\\\\z&quot;`.  So you&#39;ll only get a match if the string consists of exactly *one* non-word character.  If you want to match **one or more** characters, you should change the regex to \r\n\r\n    &quot;\\\\W+&quot;","title":"Android regex always returning false","body":"<p><code>\\W</code> (or as a java string literal, <code>\"\\\\W\"</code>) matches one non-word character.  The <code>matches()</code> method implicitly anchors the match at both ends, as if you had really written <code>\"\\\\A\\\\W\\\\z\"</code>.  So you'll only get a match if the string consists of exactly <em>one</em> non-word character.  If you want to match <strong>one or more</strong> characters, you should change the regex to </p>\n\n<pre><code>\"\\\\W+\"\n</code></pre>\n"}],"owner":{"account_id":366146,"reputation":337,"user_id":711502,"accept_rate":100,"display_name":"Taylor Kems"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1635,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7862296,"answer_count":6,"score":2,"last_activity_date":1692791947,"creation_date":1319312912,"question_id":7862167,"body_markdown":"I am having issues with regex always returning false even though \r\n&quot;http://developer.android.com/reference/java/util/regex/Pattern.html&quot; states it shouldn&#39;t.\r\n\r\nI am entering all kinds of specials charaters &quot;&amp;$@R@,&quot; and b/b2 are both returning false in the logcat. The string I am putting into the edit text even displays in logcat as the exact one I input. Anyone have an idea as to why it won&#39;t match the alphanumeric characters? \r\n\r\nCode:\r\n\r\n        EditText et1 = (EditText) findViewById(R.id.editText1);\r\n\t\tString et1Text = et1.getText().toString();\r\n\t\tint et1Length = et1.getText().toString().length();\r\n\t\tEditText et2 = (EditText) findViewById(R.id.editText2);\r\n\t\tString et2Text = et2.getText().toString();\r\n\t\tint et2Length = et2.getText().toString().length();\r\n\t\t\r\n\t\tPattern p = Pattern.compile(&quot;\\\\W&quot;);\r\n\t\tLog.d(TAG,et1Text);\r\n\t\tMatcher m = p.matcher(et1Text);\r\n\t\tboolean b = m.matches();\r\n\t\tif (b == true){\r\n\t\t\tLog.d(TAG,&quot;True&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tLog.d(TAG,&quot;False&quot;);\r\n\t\t}\r\n\t\tLog.d(TAG,et2Text);\r\n\t\tMatcher m2 = p.matcher(et2Text);\r\n\t\tboolean b2 = m2.matches();\r\n\t\tif (b2 == true){\r\n\t\t\tLog.d(TAG,&quot;True&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tLog.d(TAG,&quot;False&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif (et1Length &lt; 4 | et1Length &gt; 15 | et2Length &lt; 4 | et2Length &gt; 15){\r\n\t\t\tLog.d(TAG,&quot;Length dialog&quot;);\r\n\t\t\tdialog(1);\r\n\t\t}\r\n\t\t\r\n\t\tif (b==true | b2==true){\r\n\t\t\tLog.d(TAG,&quot;Special char dialog&quot;);\r\n\t\t\tdialog(1);\r\n\t\t}\r\n\r\n","title":"Android regex always returning false","body":"<p>I am having issues with regex always returning false even though \n\"http://developer.android.com/reference/java/util/regex/Pattern.html\" states it shouldn't.</p>\n\n<p>I am entering all kinds of specials charaters \"&amp;$@R@,\" and b/b2 are both returning false in the logcat. The string I am putting into the edit text even displays in logcat as the exact one I input. Anyone have an idea as to why it won't match the alphanumeric characters? </p>\n\n<p>Code:</p>\n\n<pre><code>    EditText et1 = (EditText) findViewById(R.id.editText1);\n    String et1Text = et1.getText().toString();\n    int et1Length = et1.getText().toString().length();\n    EditText et2 = (EditText) findViewById(R.id.editText2);\n    String et2Text = et2.getText().toString();\n    int et2Length = et2.getText().toString().length();\n\n    Pattern p = Pattern.compile(\"\\\\W\");\n    Log.d(TAG,et1Text);\n    Matcher m = p.matcher(et1Text);\n    boolean b = m.matches();\n    if (b == true){\n        Log.d(TAG,\"True\");\n    }\n    else {\n        Log.d(TAG,\"False\");\n    }\n    Log.d(TAG,et2Text);\n    Matcher m2 = p.matcher(et2Text);\n    boolean b2 = m2.matches();\n    if (b2 == true){\n        Log.d(TAG,\"True\");\n    }\n    else {\n        Log.d(TAG,\"False\");\n    }\n\n    if (et1Length &lt; 4 | et1Length &gt; 15 | et2Length &lt; 4 | et2Length &gt; 15){\n        Log.d(TAG,\"Length dialog\");\n        dialog(1);\n    }\n\n    if (b==true | b2==true){\n        Log.d(TAG,\"Special char dialog\");\n        dialog(1);\n    }\n</code></pre>\n"},{"tags":["java","regex","string"],"answers":[{"tags":[],"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1318858662,"creation_date":1318858662,"answer_id":7794585,"question_id":7794543,"body_markdown":"It&#39;s because when you split you have a trailing space.\r\n\r\n    String str = &quot;EGLA 0F 020&quot;;\r\n    String str2 = &quot;ALT 1F 001 &quot;;\r\n    //                       ^ trailing space\r\n\r\nYou could fix it a number of ways. For example:\r\n\r\n * by splitting on `&quot; TO &quot;`\r\n * trimming the result\r\n * allowing trailing spaces in your regular expression.\r\n\r\nFor example, this change would work:\r\n\r\n    String arr[] = def.split(&quot; TO &quot;);","title":"Why Matcher fails for Strings obtained or provide at Runtime in Java?","body":"<p>It's because when you split you have a trailing space.</p>\n\n<pre><code>String str = \"EGLA 0F 020\";\nString str2 = \"ALT 1F 001 \";\n//                       ^ trailing space\n</code></pre>\n\n<p>You could fix it a number of ways. For example:</p>\n\n<ul>\n<li>by splitting on <code>\" TO \"</code></li>\n<li>trimming the result</li>\n<li>allowing trailing spaces in your regular expression.</li>\n</ul>\n\n<p>For example, this change would work:</p>\n\n<pre><code>String arr[] = def.split(\" TO \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":116347,"reputation":879,"user_id":305116,"accept_rate":50,"display_name":"mtrovo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318858870,"creation_date":1318858870,"answer_id":7794630,"question_id":7794543,"body_markdown":"If you notice your split take effect only on the letters `&quot;TO&quot;`, it means str2 pattern is `&quot;ALT 1F 001 &quot;`.\r\n\r\nTo resolve this you can try to split on `&quot;\\s*TO\\s*&quot;` instead of `&quot;TO&quot;` so that any spaces surrounding the work TO would be removed too. Another solution would be to replace your pattern `&quot;[0-9][0-9][0-9]$&quot;` with `&quot;[0-9][0-9][0-9]&quot;` without the final `$`, so that it would accept ending spaces on your String.","title":"Why Matcher fails for Strings obtained or provide at Runtime in Java?","body":"<p>If you notice your split take effect only on the letters <code>\"TO\"</code>, it means str2 pattern is <code>\"ALT 1F 001 \"</code>.</p>\n\n<p>To resolve this you can try to split on <code>\"\\s*TO\\s*\"</code> instead of <code>\"TO\"</code> so that any spaces surrounding the work TO would be removed too. Another solution would be to replace your pattern <code>\"[0-9][0-9][0-9]$\"</code> with <code>\"[0-9][0-9][0-9]\"</code> without the final <code>$</code>, so that it would accept ending spaces on your String.</p>\n"},{"tags":[],"owner":{"account_id":978657,"reputation":437,"user_id":998965,"display_name":"Jo&#227;o Paulo G. Brandt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318859145,"creation_date":1318859145,"answer_id":7794687,"question_id":7794543,"body_markdown":"Try this pattern:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;[0-9][0-9][0-9]\\\\s*$&quot;); \r\n\r\nor \r\n\r\n    Pattern pattern = Pattern.compile(&quot;[0-9]{3}\\\\s*$&quot;); ","title":"Why Matcher fails for Strings obtained or provide at Runtime in Java?","body":"<p>Try this pattern:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"[0-9][0-9][0-9]\\\\s*$\"); \n</code></pre>\n\n<p>or </p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"[0-9]{3}\\\\s*$\"); \n</code></pre>\n"}],"owner":{"account_id":915334,"reputation":934,"user_id":948241,"accept_rate":62,"display_name":"cryptonkid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7794585,"answer_count":3,"score":1,"last_activity_date":1692791899,"creation_date":1318858471,"question_id":7794543,"body_markdown":"Hi I was recently developing a code where i had to extract the last 3 group of digits. So i used pattern to extract the data. But i failed to understand. CAN any one help me to understand it ??\r\n\r\n        String str =&quot;EGLA 0F 020&quot;;\r\n\t\tString def = &quot;ALT 1F 001 TO ALT 1F 029&quot;;\r\n\t\tString arr[] = def.split(&quot;TO&quot;);\r\n\t\tString str2 = arr[0];\r\n\t\tSystem.out.println(&quot;str2:&quot;+str2);\r\n\t\tPattern pt = Pattern.compile(&quot;[0-9][0-9][0-9]$&quot;);\r\n\t\tMatcher m1 = pt.matcher(str);\r\n\t\tMatcher m2 = pt.matcher(str2);\r\n\t\tboolean flag = m1.find();\r\n\t\tboolean flag2 = m2.find();\r\n\t\tif(flag)\r\n\t\t\tSystem.out.println(&quot;first match:::&quot;+m1.group(0));\r\n\t\telse \r\n\t\t\tSystem.out.println(&quot;Not found&quot;);\r\n\t\tif(flag2)\r\n\t\t\tSystem.out.println(&quot;first match:::&quot;+m2.group(0));\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Not found&quot;);\r\n\r\n\r\nThe output produced for the above code is As follows:::\r\n\r\n        str2:ALT 1F 001 \r\n        first match:::020\r\n        Not found\r\n\r\nPlease Do reply iam stuck here ??\t\t\r\n","title":"Why Matcher fails for Strings obtained or provide at Runtime in Java?","body":"<p>Hi I was recently developing a code where i had to extract the last 3 group of digits. So i used pattern to extract the data. But i failed to understand. CAN any one help me to understand it ??</p>\n\n<pre><code>    String str =\"EGLA 0F 020\";\n    String def = \"ALT 1F 001 TO ALT 1F 029\";\n    String arr[] = def.split(\"TO\");\n    String str2 = arr[0];\n    System.out.println(\"str2:\"+str2);\n    Pattern pt = Pattern.compile(\"[0-9][0-9][0-9]$\");\n    Matcher m1 = pt.matcher(str);\n    Matcher m2 = pt.matcher(str2);\n    boolean flag = m1.find();\n    boolean flag2 = m2.find();\n    if(flag)\n        System.out.println(\"first match:::\"+m1.group(0));\n    else \n        System.out.println(\"Not found\");\n    if(flag2)\n        System.out.println(\"first match:::\"+m2.group(0));\n    else\n        System.out.println(\"Not found\");\n</code></pre>\n\n<p>The output produced for the above code is As follows:::</p>\n\n<pre><code>    str2:ALT 1F 001 \n    first match:::020\n    Not found\n</code></pre>\n\n<p>Please Do reply iam stuck here ??       </p>\n"},{"tags":["java","php","regex","preg-replace-callback"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":1,"creation_date":1318705047,"post_id":7779913,"comment_id":9474134,"body_markdown":"Why wouldn&#39;t you just use `YUICompressor.php`? http://code.google.com/p/minify/source/browse/trunk/min/lib/Minify/YUICompressor.php Writing your own port sounds like a maintenance headache.","body":"Why wouldn&#39;t you just use <code>YUICompressor.php</code>? <a href=\"http://code.google.com/p/minify/source/browse/trunk/min/lib/Minify/YUICompressor.php\" rel=\"nofollow noreferrer\">code.google.com/p/minify/source/browse/trunk/min/lib/Minify/&zwnj;&#8203;&hellip;</a> Writing your own port sounds like a maintenance headache."},{"owner":{"account_id":2693,"reputation":8711,"user_id":3779,"accept_rate":73,"display_name":"Steve Clay"},"score":0,"creation_date":1318706052,"post_id":7779913,"comment_id":9474309,"body_markdown":"@MattBall because that&#39;s a wrapper for Java, which is commonly not available on shared hosting.","body":"@MattBall because that&#39;s a wrapper for Java, which is commonly not available on shared hosting."},{"owner":{"account_id":46733,"reputation":3195,"user_id":138148,"accept_rate":90,"display_name":"Nathan Loding"},"score":0,"creation_date":1318956906,"post_id":7779913,"comment_id":9517763,"body_markdown":"Sounds like no one has - sounds like a fun project!","body":"Sounds like no one has - sounds like a fun project!"}],"answers":[{"tags":[],"owner":{"account_id":37482,"reputation":33416,"user_id":107152,"accept_rate":87,"display_name":"Qtax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332397052,"creation_date":1332397052,"answer_id":9817351,"question_id":7779913,"body_markdown":"Are you looking for the `while(find next match){ do stuff }` equivalent in PHP (without using `preg_match_all`)?\r\n\r\nIn that case use `preg_match` with the offset parameter. For example:\r\n\r\n    offset = 0;\r\n    while(preg_match(re, str, matches, PREG_OFFSET_CAPTURE, offset)){\r\n        offset = matches[0][1] + strlen(matches[0][0]);\r\n\r\n        // do stuff\r\n    }","title":"Is there a PHP port of Java&#39;s Matcher class?","body":"<p>Are you looking for the <code>while(find next match){ do stuff }</code> equivalent in PHP (without using <code>preg_match_all</code>)?</p>\n\n<p>In that case use <code>preg_match</code> with the offset parameter. For example:</p>\n\n<pre><code>offset = 0;\nwhile(preg_match(re, str, matches, PREG_OFFSET_CAPTURE, offset)){\n    offset = matches[0][1] + strlen(matches[0][0]);\n\n    // do stuff\n}\n</code></pre>\n"}],"owner":{"account_id":2693,"reputation":8711,"user_id":3779,"accept_rate":73,"display_name":"Steve Clay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1692791892,"answer_count":1,"score":2,"last_activity_date":1692791824,"creation_date":1318704584,"question_id":7779913,"body_markdown":"I&#39;m porting YUI&#39;s [CssCompressor][1], which has several [Matcher][2] uses, to PHP. For the sake of long-term maintenance I&#39;d like to keep the PHP port as similar to the Java original as possible (`preg_replace_callback` of course works, but drastically changes the program flow).\r\n\r\nSo, **has anyone ported Matcher to PHP?**\r\n\r\n  [1]: https://github.com/yui/yuicompressor/blob/master/src/com/yahoo/platform/yui/compressor/CssCompressor.java\r\n  [2]: http://www.google.com/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CDAQFjAA&amp;url=http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html&amp;rct=j&amp;q=java%20matcher&amp;ei=gs6ZTsWIJa_IsQLO2eHNBA&amp;usg=AFQjCNGutJxfYmy4w3yoE04HegjfyzfixQ&amp;cad=rja","title":"Is there a PHP port of Java&#39;s Matcher class?","body":"<p>I'm porting YUI's <a href=\"https://github.com/yui/yuicompressor/blob/master/src/com/yahoo/platform/yui/compressor/CssCompressor.java\" rel=\"nofollow\">CssCompressor</a>, which has several <a href=\"http://www.google.com/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CDAQFjAA&amp;url=http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html&amp;rct=j&amp;q=java%20matcher&amp;ei=gs6ZTsWIJa_IsQLO2eHNBA&amp;usg=AFQjCNGutJxfYmy4w3yoE04HegjfyzfixQ&amp;cad=rja\" rel=\"nofollow\">Matcher</a> uses, to PHP. For the sake of long-term maintenance I'd like to keep the PHP port as similar to the Java original as possible (<code>preg_replace_callback</code> of course works, but drastically changes the program flow).</p>\n\n<p>So, <strong>has anyone ported Matcher to PHP?</strong></p>\n"},{"tags":["java","regex","regex-group"],"answers":[{"tags":[],"owner":{"account_id":324587,"reputation":18467,"user_id":645226,"accept_rate":74,"display_name":"Bhushan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1317999264,"creation_date":1317999264,"answer_id":7688995,"question_id":7688867,"body_markdown":"I think instead of having one huge complex regex, I will prefer to do it in conditional loops with multiple regexes.","title":"Java Linked regex","body":"<p>I think instead of having one huge complex regex, I will prefer to do it in conditional loops with multiple regexes.</p>\n"}],"owner":{"account_id":411019,"reputation":2223,"user_id":783204,"accept_rate":89,"display_name":"theking963"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692791811,"creation_date":1317998653,"question_id":7688867,"body_markdown":"I have to parse the following sample output. The requirements are there should be no text after `Fabric management FPC state:` i.e. it should be empty `\\s`. The next part is a bit tricky and I am stuck there. So each `FPC` has one or more `PFE` and each `FPE` has one or more `SIB`. There are four possible states for each `SIB`. They are `Plane Enabled, Link Error, Desination Error and Plane Disabled`. I am supposed to parse this using regex and keep track of the state for each `FPC, PFE and SIB`. I am not sure how to have a `&#39;linked&#39;` groups in regex. \r\n\r\n    Fabric management FPC state:                                  \r\n    FPC #0\r\n      PFE #0\r\n        SIB #0 \r\n                Plane enabled\r\n        SIB #1 \r\n                Link Error        \r\n      PFE #1\r\n        SIB #0 \r\n                Destination Error\r\n        SIB #1 \r\n                Plane Disabled\r\n        SIB #2 \r\n                Plane enabled       \r\n    FPC #1\r\n      PFE #1\r\n        SIB #0 \r\n                Plane enabled\r\n\r\nSo far what I have is \r\n\r\n    public void parseFPCS(String commandOutput) {\r\n            regex = &quot;FPC state:(\\\\s*)(FPC\\\\s*#?\\\\d+)\\\\s*(PFE\\\\s*#\\\\d+)\\\\s*(SIB\\\\s*#\\\\d+)\\\\s*(\\\\w*\\\\s*\\\\w*)&quot;;\r\n            pattern = Pattern.compile(regex, patternFlag);\r\n            matcher = pattern.matcher(commandOutput);\r\n            \r\n            while(matcher.find()) {\r\n                String empty = matcher.group(1);\r\n                Boolean isEmpty = empty.trim().isEmpty();\r\n                if(isEmpty) {\r\n                    System.out.println(&quot;Link Empty&quot;);\r\n                    System.out.println(matcher.group(2));\r\n                    System.out.println(matcher.group(3));\r\n                    System.out.println(matcher.group(4));\r\n                    System.out.println(matcher.group(5));\r\n                    //Right now I am just printing it out to see the outcome. \r\n                }\r\n                \r\n            }\r\n\r\n    The current outcome is \r\n        Link Empty\r\n        FPC #0\r\n        PFE #0\r\n        SIB #0\r\n        Plane enabled //This is expected.\r\n\r\n","title":"Java Linked regex","body":"<p>I have to parse the following sample output. The requirements are there should be no text after <code>Fabric management FPC state:</code> i.e. it should be empty <code>\\s</code>. The next part is a bit tricky and I am stuck there. So each <code>FPC</code> has one or more <code>PFE</code> and each <code>FPE</code> has one or more <code>SIB</code>. There are four possible states for each <code>SIB</code>. They are <code>Plane Enabled, Link Error, Desination Error and Plane Disabled</code>. I am supposed to parse this using regex and keep track of the state for each <code>FPC, PFE and SIB</code>. I am not sure how to have a <code>'linked'</code> groups in regex. </p>\n\n<pre><code>Fabric management FPC state:                                  \nFPC #0\n  PFE #0\n    SIB #0 \n            Plane enabled\n    SIB #1 \n            Link Error        \n  PFE #1\n    SIB #0 \n            Destination Error\n    SIB #1 \n            Plane Disabled\n    SIB #2 \n            Plane enabled       \nFPC #1\n  PFE #1\n    SIB #0 \n            Plane enabled\n</code></pre>\n\n<p>So far what I have is </p>\n\n<pre><code>public void parseFPCS(String commandOutput) {\n        regex = \"FPC state:(\\\\s*)(FPC\\\\s*#?\\\\d+)\\\\s*(PFE\\\\s*#\\\\d+)\\\\s*(SIB\\\\s*#\\\\d+)\\\\s*(\\\\w*\\\\s*\\\\w*)\";\n        pattern = Pattern.compile(regex, patternFlag);\n        matcher = pattern.matcher(commandOutput);\n\n        while(matcher.find()) {\n            String empty = matcher.group(1);\n            Boolean isEmpty = empty.trim().isEmpty();\n            if(isEmpty) {\n                System.out.println(\"Link Empty\");\n                System.out.println(matcher.group(2));\n                System.out.println(matcher.group(3));\n                System.out.println(matcher.group(4));\n                System.out.println(matcher.group(5));\n                //Right now I am just printing it out to see the outcome. \n            }\n\n        }\n\nThe current outcome is \n    Link Empty\n    FPC #0\n    PFE #0\n    SIB #0\n    Plane enabled //This is expected.\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":306012,"reputation":7257,"user_id":616504,"accept_rate":74,"display_name":"Hidden"},"score":0,"creation_date":1363210481,"post_id":5199847,"comment_id":21765885,"body_markdown":"I&#39;m getting the same. When I debug and step through it works. When I run it, it doesn&#39;t. I&#39;ve found by wrapping my code in a \nif(matcher.matches() &amp;&amp; matcher.groupCount() &gt; 0)\nCan make it work","body":"I&#39;m getting the same. When I debug and step through it works. When I run it, it doesn&#39;t. I&#39;ve found by wrapping my code in a  if(matcher.matches() &amp;&amp; matcher.groupCount() &gt; 0) Can make it work"}],"answers":[{"tags":[],"owner":{"account_id":99449,"reputation":9368,"user_id":268619,"accept_rate":86,"display_name":"Matthew Gilliard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1299277665,"creation_date":1299277133,"answer_id":5199912,"question_id":5199847,"body_markdown":"I copied and pasted your code and it compiles and runs as expected, no exception thrown.  Is there some other part of your code causing this?\r\n\r\n\r\n----------\r\n\r\nMy complete code is:\r\n\r\n    public class StackOverflow {\r\n    \r\n        private static final String numberRegex = &quot;[0-9]*[a-zA-Z]?&quot;; // 123a 123\r\n        private static final String compassRegex = &quot;N|E|S|W|NORTH|EAST|SOUTH|WEST|NORD|EST|SUD|OUEST&quot;;\r\n        private static final String typeRegex = &quot;STREET|ST|DRIVE|DR|AVENUE|AVE|AV|ROAD|RD|LOOP|LP|COURT|CT|CIRCLE|LANE|LN|BOULEVARD|BLVD|CRESCENT|CR&quot;;\r\n        private static final Pattern addrLong = Pattern.compile(&quot;(&quot; + numberRegex + &quot;)\\\\s(.*)\\\\s(&quot; + typeRegex + &quot;)\\\\s?(&quot; + compassRegex + &quot;)?&quot;);\r\n    \r\n        public static void main(final String[] args) {\r\n            final String address = &quot;12 CLARE ST E&quot;;\r\n            final Hashtable&lt;String, String&gt; result = splitAddress(address);\r\n            System.out.println(result.get(&quot;number&quot;));\r\n        }\r\n    \r\n        private static Hashtable&lt;String, String&gt; splitAddress(final String address) {\r\n            final Hashtable&lt;String, String&gt; result = new Hashtable&lt;String, String&gt;();\r\n    \r\n            final Matcher m = addrLong.matcher(address);\r\n            if (m.matches()) {\r\n                result.put(&quot;number&quot;, m.group(1));\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\nWhich runs fine and prints `12` as its output.\r\n","title":"Matcher throwing IllegalStateException after matches","body":"<p>I copied and pasted your code and it compiles and runs as expected, no exception thrown.  Is there some other part of your code causing this?</p>\n\n<hr>\n\n<p>My complete code is:</p>\n\n<pre><code>public class StackOverflow {\n\n    private static final String numberRegex = \"[0-9]*[a-zA-Z]?\"; // 123a 123\n    private static final String compassRegex = \"N|E|S|W|NORTH|EAST|SOUTH|WEST|NORD|EST|SUD|OUEST\";\n    private static final String typeRegex = \"STREET|ST|DRIVE|DR|AVENUE|AVE|AV|ROAD|RD|LOOP|LP|COURT|CT|CIRCLE|LANE|LN|BOULEVARD|BLVD|CRESCENT|CR\";\n    private static final Pattern addrLong = Pattern.compile(\"(\" + numberRegex + \")\\\\s(.*)\\\\s(\" + typeRegex + \")\\\\s?(\" + compassRegex + \")?\");\n\n    public static void main(final String[] args) {\n        final String address = \"12 CLARE ST E\";\n        final Hashtable&lt;String, String&gt; result = splitAddress(address);\n        System.out.println(result.get(\"number\"));\n    }\n\n    private static Hashtable&lt;String, String&gt; splitAddress(final String address) {\n        final Hashtable&lt;String, String&gt; result = new Hashtable&lt;String, String&gt;();\n\n        final Matcher m = addrLong.matcher(address);\n        if (m.matches()) {\n            result.put(\"number\", m.group(1));\n        }\n        return result;\n    }\n}\n</code></pre>\n\n<p>Which runs fine and prints <code>12</code> as its output.</p>\n"}],"owner":{"account_id":176705,"reputation":93,"user_id":407556,"display_name":"uzrbin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2874,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":5199912,"answer_count":1,"score":7,"last_activity_date":1692791642,"creation_date":1299276533,"question_id":5199847,"body_markdown":"I&#39;m having some strange issues with Matches, hoping someone could shed some light.  \r\nAccording to Java docs:\r\n\r\n&gt; public boolean matches() ... If the\r\n&gt; match succeeds then more information\r\n&gt; can be obtained via the start, end,\r\n&gt; and group methods.\r\n\r\nSome code:\r\n\r\n    private static Hashtable&lt;String,String&gt; splitAddress(String address){\r\n    \t\tHashtable&lt;String,String&gt; result = new Hashtable&lt;String,String&gt;();\r\n    \t\t\r\n    \t\tMatcher m = addrLong.matcher(address);\r\n    \t\tif (m.matches()) {\r\n    \t\t\tresult.put(&quot;number&quot;, m.group(1));\r\n\r\nThis is where it throws:\r\n\r\n    java.lang.IllegalStateException: No match found\r\n    \tjava.util.regex.Matcher.group(Matcher.java:485)\r\n    \tsplitAddress(WebServiceHelper.java:699)\r\n\r\nThis alone is strange to me. Here&#39;s some more info if it helps:\r\n\r\n    \tprivate static final String numberRegex = &quot;[0-9]*[a-zA-Z]?&quot;; // 123a 123\r\n    \tprivate static final String compassRegex = &quot;N|E|S|W|NORTH|EAST|SOUTH|WEST|NORD|EST|SUD|OUEST&quot;;\r\n    \tprivate static final String typeRegex = &quot;STREET|ST|DRIVE|DR|AVENUE|AVE|AV|ROAD|RD|LOOP|LP|COURT|CT|CIRCLE|LANE|LN|BOULEVARD|BLVD|CRESCENT|CR&quot;;\r\n    \r\n    addrLong = Pattern.compile(&quot;(&quot; + numberRegex + &quot;)\\\\s(.*)\\\\s(&quot; + typeRegex + &quot;)\\\\s?(&quot; + compassRegex + &quot;)?&quot;);\r\n\r\nThe input string I&#39;ve been testing against is &quot;12 CLARE ST E&quot;\r\n\r\n\r\nI know naming conventions are being broken. I didn&#39;t write that part, I swear.\r\n\r\n\r\n\r\nThis executes successfully as a standalone function.  \r\n\r\nAny ideas why it would break in a Tomcat environment?  \r\n\r\nI&#39;ll see if I can find anything that could be impacting this, but my addrLong is my only static variable and is not used anywhere else.\r\n\r\nThis is driving me crazy. I even tried:\r\n\r\n\t\tPattern p = Pattern.compile(&quot;(&quot; + numberRegex + &quot;)\\\\s(.*)&quot;);\r\n\t\tMatcher m = p.matcher(address);\r\n\t\t\r\n\t\tif (m.matches()) {\r\n\t\t\tresult.put(&quot;number&quot;, m.group(1));\r\n\r\nIn my server environment and it fails.\r\n\r\n\r\n\r\nIt even runs fine when it&#39;s alone in a servlet. I&#39;m stumped. Any hints or ideas greatly appreciated.","title":"Matcher throwing IllegalStateException after matches","body":"<p>I'm having some strange issues with Matches, hoping someone could shed some light.<br />\nAccording to Java docs:</p>\n<blockquote>\n<p>public boolean matches() ... If the\nmatch succeeds then more information\ncan be obtained via the start, end,\nand group methods.</p>\n</blockquote>\n<p>Some code:</p>\n<pre><code>private static Hashtable&lt;String,String&gt; splitAddress(String address){\n        Hashtable&lt;String,String&gt; result = new Hashtable&lt;String,String&gt;();\n        \n        Matcher m = addrLong.matcher(address);\n        if (m.matches()) {\n            result.put(&quot;number&quot;, m.group(1));\n</code></pre>\n<p>This is where it throws:</p>\n<pre><code>java.lang.IllegalStateException: No match found\n    java.util.regex.Matcher.group(Matcher.java:485)\n    splitAddress(WebServiceHelper.java:699)\n</code></pre>\n<p>This alone is strange to me. Here's some more info if it helps:</p>\n<pre><code>    private static final String numberRegex = &quot;[0-9]*[a-zA-Z]?&quot;; // 123a 123\n    private static final String compassRegex = &quot;N|E|S|W|NORTH|EAST|SOUTH|WEST|NORD|EST|SUD|OUEST&quot;;\n    private static final String typeRegex = &quot;STREET|ST|DRIVE|DR|AVENUE|AVE|AV|ROAD|RD|LOOP|LP|COURT|CT|CIRCLE|LANE|LN|BOULEVARD|BLVD|CRESCENT|CR&quot;;\n\naddrLong = Pattern.compile(&quot;(&quot; + numberRegex + &quot;)\\\\s(.*)\\\\s(&quot; + typeRegex + &quot;)\\\\s?(&quot; + compassRegex + &quot;)?&quot;);\n</code></pre>\n<p>The input string I've been testing against is &quot;12 CLARE ST E&quot;</p>\n<p>I know naming conventions are being broken. I didn't write that part, I swear.</p>\n<p>This executes successfully as a standalone function.</p>\n<p>Any ideas why it would break in a Tomcat environment?</p>\n<p>I'll see if I can find anything that could be impacting this, but my addrLong is my only static variable and is not used anywhere else.</p>\n<p>This is driving me crazy. I even tried:</p>\n<pre><code>    Pattern p = Pattern.compile(&quot;(&quot; + numberRegex + &quot;)\\\\s(.*)&quot;);\n    Matcher m = p.matcher(address);\n    \n    if (m.matches()) {\n        result.put(&quot;number&quot;, m.group(1));\n</code></pre>\n<p>In my server environment and it fails.</p>\n<p>It even runs fine when it's alone in a servlet. I'm stumped. Any hints or ideas greatly appreciated.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":4,"creation_date":1307643127,"post_id":6297119,"comment_id":7355511,"body_markdown":"Nastiest regex I&#39;ve ever seen.","body":"Nastiest regex I&#39;ve ever seen."},{"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"score":3,"creation_date":1307644091,"post_id":6297119,"comment_id":7355773,"body_markdown":"I am not sure I can understand what&#39;s your goal. Could you post the example input and expected output for it?","body":"I am not sure I can understand what&#39;s your goal. Could you post the example input and expected output for it?"},{"owner":{"account_id":410120,"reputation":953,"user_id":2278151,"accept_rate":100,"display_name":"NorthGuard"},"score":0,"creation_date":1307648578,"post_id":6297119,"comment_id":7357047,"body_markdown":"It is almost certainly easier and definitely more readable if you simply output the http part you extract from the string to a variable and then breaking that variable into 10 char pieces through a separate function than to keep adding to that regex and have it done in one line, if it&#39;s even possible. In fact, I can&#39;t believe you&#39;re seriously contemplating how to **add** to that pattern.","body":"It is almost certainly easier and definitely more readable if you simply output the http part you extract from the string to a variable and then breaking that variable into 10 char pieces through a separate function than to keep adding to that regex and have it done in one line, if it&#39;s even possible. In fact, I can&#39;t believe you&#39;re seriously contemplating how to <b>add</b> to that pattern."}],"answers":[{"tags":[],"owner":{"account_id":227595,"reputation":761,"user_id":489363,"display_name":"Peter Davis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1307864737,"creation_date":1307863898,"answer_id":6320727,"question_id":6297119,"body_markdown":"You can&#39;t use replaceAll; you should iterate through the matches and process each one individually.  Java&#39;s Matcher already has an [API](http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#appendReplacement(java.lang.StringBuffer,%20java.lang.String)) for this:\r\n\r\n     // expanding on the example in the &#39;appendReplacement&#39; JavaDoc:\r\n     Pattern p = Pattern.compile(&quot;...&quot;); // your URL regexp\r\n     Matcher m = p.matcher(text);\r\n     StringBuffer sb = new StringBuffer();\r\n     while (m.find()) {\r\n         String truncatedURL = m.group(1).replaceFirst(&quot;^(.{10}).*&quot;,&quot;$1...&quot;); // i iz smrt\r\n         m.appendReplacement(sb,\r\n             &quot;&lt;a href=\\&quot;http://$1\\&quot; target=\\&quot;_blank\\&quot;&gt;&quot;); // simple replacement for $1\r\n         sb.append(truncatedURL);\r\n         sb.append(&quot;&lt;/a&gt;&quot;);\r\n     }\r\n     m.appendTail(sb);\r\n     System.out.println(sb.toString());\r\n\r\n(For performance, you should factor out compiled Patterns for the replace* calls inside the loop.)\r\n\r\n**Edit**: use sb.append() so not to worry about escaping $ and \\ in &#39;truncatedURL&#39;.","title":"Getting value of $1 from matcher.replaceAll()","body":"<p>You can't use replaceAll; you should iterate through the matches and process each one individually.  Java's Matcher already has an <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#appendReplacement%28java.lang.StringBuffer,%20java.lang.String%29\" rel=\"nofollow\">API</a> for this:</p>\n\n<pre><code> // expanding on the example in the 'appendReplacement' JavaDoc:\n Pattern p = Pattern.compile(\"...\"); // your URL regexp\n Matcher m = p.matcher(text);\n StringBuffer sb = new StringBuffer();\n while (m.find()) {\n     String truncatedURL = m.group(1).replaceFirst(\"^(.{10}).*\",\"$1...\"); // i iz smrt\n     m.appendReplacement(sb,\n         \"&lt;a href=\\\"http://$1\\\" target=\\\"_blank\\\"&gt;\"); // simple replacement for $1\n     sb.append(truncatedURL);\n     sb.append(\"&lt;/a&gt;\");\n }\n m.appendTail(sb);\n System.out.println(sb.toString());\n</code></pre>\n\n<p>(For performance, you should factor out compiled Patterns for the replace* calls inside the loop.)</p>\n\n<p><strong>Edit</strong>: use sb.append() so not to worry about escaping $ and \\ in 'truncatedURL'.</p>\n"},{"tags":[],"owner":{"account_id":106909,"reputation":65,"user_id":1325539,"display_name":"Isaac.Lopez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334814775,"creation_date":1334814775,"answer_id":10222371,"question_id":6297119,"body_markdown":"I think that you have a similar problem to the one mentioned on this question \r\n\r\nhttps://stackoverflow.com/questions/1909534/java-replacing-text-url-with-clickable-html-link\r\n\r\nthey suggested something like this \r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String basicUrlRegex =  &quot;(.*://[^&lt;&gt;[:space:]]+[[:alnum:]/])&quot;; \r\n    myString.replaceAll(basicUrlRegex, &quot;&lt;a href=\\&quot;$1\\&quot;&gt;$1&lt;/a&gt;&quot;);\r\n\r\n","title":"Getting value of $1 from matcher.replaceAll()","body":"<p>I think that you have a similar problem to the one mentioned on this question </p>\n\n<p><a href=\"https://stackoverflow.com/questions/1909534/java-replacing-text-url-with-clickable-html-link\">Java : replacing text URL with clickable HTML link</a></p>\n\n<p>they suggested something like this </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String basicUrlRegex =  \"(.*://[^&lt;&gt;[:space:]]+[[:alnum:]/])\"; \nmyString.replaceAll(basicUrlRegex, \"&lt;a href=\\\"$1\\\"&gt;$1&lt;/a&gt;\");\n</code></pre>\n"}],"owner":{"account_id":239936,"reputation":3048,"user_id":509865,"accept_rate":70,"display_name":"Gondim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5096,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692791605,"creation_date":1307642003,"question_id":6297119,"body_markdown":"In my application I need get the link and break it if it is bigger than 10 (example) characters.\r\nThe problem is, if I send the whole text, for example: &quot;this is my website www.stackoverflow.com&quot; directly to this matcher\r\n\r\n    Pattern patt = Pattern.compile(&quot;(?i)\\\\b((?:https?://|www\\\\d{0,3}[.]|[a-z0-9.\\\\-]+[.][a-z]{2,4}/)(?:[^\\\\s()&lt;&gt;]+|\\\\(([^\\\\s()&lt;&gt;]+|(\\\\([^\\\\s()&lt;&gt;]+\\\\)))*\\\\))+(?:\\\\(([^\\\\s()&lt;&gt;]+|(\\\\([^\\\\s()&lt;&gt;]+\\\\)))*\\\\)|[^\\\\s`!()\\\\[\\\\]{};:\\&#39;\\&quot;.,&lt;&gt;???“”‘’]))&quot;);\r\n    Matcher matcher = patt.matcher(text);  \r\n\r\n  \r\n\r\n    matcher.replaceAll(&quot;&lt;a href=\\&quot;http://$1\\&quot; target=\\&quot;_blank\\&quot;&gt;$1&lt;/a&gt;&quot;);\r\n\r\nIt would show the whole website, without breaking it.\r\n\r\nWhat I was trying to do, is to get the value of $1, so I could break the second one, keeping the first one correctly.\r\n\r\nI&#39;ve got another method to break the string up.\r\n\r\nWhat I want to get is only the website so I could break it after all.","title":"Getting value of $1 from matcher.replaceAll()","body":"<p>In my application I need get the link and break it if it is bigger than 10 (example) characters.\nThe problem is, if I send the whole text, for example: &quot;this is my website www.stackoverflow.com&quot; directly to this matcher</p>\n<pre><code>Pattern patt = Pattern.compile(&quot;(?i)\\\\b((?:https?://|www\\\\d{0,3}[.]|[a-z0-9.\\\\-]+[.][a-z]{2,4}/)(?:[^\\\\s()&lt;&gt;]+|\\\\(([^\\\\s()&lt;&gt;]+|(\\\\([^\\\\s()&lt;&gt;]+\\\\)))*\\\\))+(?:\\\\(([^\\\\s()&lt;&gt;]+|(\\\\([^\\\\s()&lt;&gt;]+\\\\)))*\\\\)|[^\\\\s`!()\\\\[\\\\]{};:\\'\\&quot;.,&lt;&gt;???“”‘’]))&quot;);\nMatcher matcher = patt.matcher(text);  \n\n\n\nmatcher.replaceAll(&quot;&lt;a href=\\&quot;http://$1\\&quot; target=\\&quot;_blank\\&quot;&gt;$1&lt;/a&gt;&quot;);\n</code></pre>\n<p>It would show the whole website, without breaking it.</p>\n<p>What I was trying to do, is to get the value of $1, so I could break the second one, keeping the first one correctly.</p>\n<p>I've got another method to break the string up.</p>\n<p>What I want to get is only the website so I could break it after all.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313778474,"creation_date":1313778474,"answer_id":7125805,"question_id":7125732,"body_markdown":"One possible solution, which has a nice thing that it doesn&#39;t block the main thread, would be to spawn off the &quot;matching&quot; in a separate thread. You can create a customized `Callable` which returns `null` after the duration/threshold has expired or the &quot;match&quot; result if it is successful.","title":"How to terminate Matcher.find(), when its running too long?","body":"<p>One possible solution, which has a nice thing that it doesn't block the main thread, would be to spawn off the \"matching\" in a separate thread. You can create a customized <code>Callable</code> which returns <code>null</code> after the duration/threshold has expired or the \"match\" result if it is successful.</p>\n"},{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313778527,"creation_date":1313778527,"answer_id":7125816,"question_id":7125732,"body_markdown":"A worst case scenario and one which may have people yelling at me is:\r\n\r\nYou can run the regex matching in another thread and if its running too long you can `thread.stop()` it.  ","title":"How to terminate Matcher.find(), when its running too long?","body":"<p>A worst case scenario and one which may have people yelling at me is:</p>\n\n<p>You can run the regex matching in another thread and if its running too long you can <code>thread.stop()</code> it.  </p>\n"},{"tags":[],"owner":{"account_id":464336,"reputation":51,"user_id":867772,"display_name":"Nick"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1313782778,"creation_date":1313782778,"answer_id":7126578,"question_id":7125732,"body_markdown":"If I were you, I would make my own class that I would put between my application and the library you&#39;re using to match, and implement methods like &quot;interrupt&quot; that you need to kill the thread, and manage the matching that way.","title":"How to terminate Matcher.find(), when its running too long?","body":"<p>If I were you, I would make my own class that I would put between my application and the library you're using to match, and implement methods like \"interrupt\" that you need to kill the thread, and manage the matching that way.</p>\n"},{"tags":[],"owner":{"account_id":30849,"reputation":39971,"user_id":84378,"accept_rate":85,"display_name":"Reverend Gonzo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1313783373,"creation_date":1313783373,"answer_id":7126658,"question_id":7125732,"body_markdown":"There is a solution [here][1] which would solve your problem. (That question is the same problem yours is.)\r\n\r\nEssentially, its a CharSequence that can notice thread interrupts.\r\n\r\nThe code from that answer:\r\n\r\n    /**\r\n     * CharSequence that noticed thread interrupts -- as might be necessary \r\n     * to recover from a loose regex on unexpected challenging input. \r\n     * \r\n     * @author gojomo\r\n     */\r\n    public class InterruptibleCharSequence implements CharSequence {\r\n        CharSequence inner;\r\n        // public long counter = 0; \r\n    \r\n        public InterruptibleCharSequence(CharSequence inner) {\r\n            super();\r\n            this.inner = inner;\r\n        }\r\n    \r\n        public char charAt(int index) {\r\n            if (Thread.interrupted()) { // clears flag if set\r\n                throw new RuntimeException(new InterruptedException());\r\n            }\r\n            // counter++;\r\n            return inner.charAt(index);\r\n        }\r\n    \r\n        public int length() {\r\n            return inner.length();\r\n        }\r\n    \r\n        public CharSequence subSequence(int start, int end) {\r\n            return new InterruptibleCharSequence(inner.subSequence(start, end));\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return inner.toString();\r\n        }\r\n    }\r\n\r\nWrap your string with this and you can interrupt the thread.\r\n\r\n  [1]: https://stackoverflow.com/questions/910740/cancelling-a-long-running-regex-match/910798#910798\r\n","title":"How to terminate Matcher.find(), when its running too long?","body":"<p>There is a solution <a href=\"https://stackoverflow.com/questions/910740/cancelling-a-long-running-regex-match/910798#910798\">here</a> which would solve your problem. (That question is the same problem yours is.)</p>\n\n<p>Essentially, its a CharSequence that can notice thread interrupts.</p>\n\n<p>The code from that answer:</p>\n\n<pre><code>/**\n * CharSequence that noticed thread interrupts -- as might be necessary \n * to recover from a loose regex on unexpected challenging input. \n * \n * @author gojomo\n */\npublic class InterruptibleCharSequence implements CharSequence {\n    CharSequence inner;\n    // public long counter = 0; \n\n    public InterruptibleCharSequence(CharSequence inner) {\n        super();\n        this.inner = inner;\n    }\n\n    public char charAt(int index) {\n        if (Thread.interrupted()) { // clears flag if set\n            throw new RuntimeException(new InterruptedException());\n        }\n        // counter++;\n        return inner.charAt(index);\n    }\n\n    public int length() {\n        return inner.length();\n    }\n\n    public CharSequence subSequence(int start, int end) {\n        return new InterruptibleCharSequence(inner.subSequence(start, end));\n    }\n\n    @Override\n    public String toString() {\n        return inner.toString();\n    }\n}\n</code></pre>\n\n<p>Wrap your string with this and you can interrupt the thread.</p>\n"},{"tags":[],"owner":{"account_id":265971,"reputation":12313,"user_id":553279,"display_name":"fdreger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376818055,"creation_date":1313783811,"answer_id":7126719,"question_id":7125732,"body_markdown":"You need to use another thread and stop it when it runs out of time.\r\n\r\nThere are two ways of stopping: Thread#stop() and Thread#interrupt().\r\n\r\nUsing Thread.stop() is rather dangerous, and Matcher does not respond to Thread.interrupt (answering to interrupt is an opt-in behavior).\r\n\r\nBUT there is a really clever solution, some details are [here][1]. Use the provided InterruptibleCharSequence (it wraps yours string and works almost like one, BUT it adds support for Thread#interrupt()), then build your own Callable returning whatever matcher returns. Each runnable can be now executed using a FutureTask / ThreadPool combo, and you can get the result with any timeout you desire:\r\n\r\n    Boolean result = myMatchingTask().get(2, TimeUnit.SECONDS)\r\n\r\nIf you are in Java EE environment, you can skip the complicated part, just use the InterruptipleCharSequence and @Asynchronous calls.\r\n\r\nIf this sounds cryptic, ask for details.\r\n\r\n  [1]: https://stackoverflow.com/questions/910740/cancelling-a-long-running-regex-match\r\n\r\n","title":"How to terminate Matcher.find(), when its running too long?","body":"<p>You need to use another thread and stop it when it runs out of time.</p>\n\n<p>There are two ways of stopping: Thread#stop() and Thread#interrupt().</p>\n\n<p>Using Thread.stop() is rather dangerous, and Matcher does not respond to Thread.interrupt (answering to interrupt is an opt-in behavior).</p>\n\n<p>BUT there is a really clever solution, some details are <a href=\"https://stackoverflow.com/questions/910740/cancelling-a-long-running-regex-match\">here</a>. Use the provided InterruptibleCharSequence (it wraps yours string and works almost like one, BUT it adds support for Thread#interrupt()), then build your own Callable returning whatever matcher returns. Each runnable can be now executed using a FutureTask / ThreadPool combo, and you can get the result with any timeout you desire:</p>\n\n<pre><code>Boolean result = myMatchingTask().get(2, TimeUnit.SECONDS)\n</code></pre>\n\n<p>If you are in Java EE environment, you can skip the complicated part, just use the InterruptipleCharSequence and @Asynchronous calls.</p>\n\n<p>If this sounds cryptic, ask for details.</p>\n"},{"tags":[],"owner":{"account_id":1387426,"reputation":101,"user_id":1468211,"display_name":"wuranbo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468427717,"creation_date":1455529690,"answer_id":35406053,"question_id":7125732,"body_markdown":"Just show another solution. \r\n\r\nYou can use the NFA algorithm which is not sensitive to input and hundreds of times faster than the Java standard library.\r\n\r\nI think the sensitivity to input is the original reason which causes your problem.\r\n\r\nYou can check out the introduction here: [Regular Expression Matching Can Be Simple And Fast (but is slow in Java, Perl, PHP, Python, Ruby, ...)][1]\r\n\r\nI also answered a similar question with more detail here: https://stackoverflow.com/questions/910740/cancelling-a-long-running-regex-match/35405926#35405926\r\n\r\n\r\n  [1]: https://swtch.com/~rsc/regexp/regexp1.html","title":"How to terminate Matcher.find(), when its running too long?","body":"<p>Just show another solution. </p>\n\n<p>You can use the NFA algorithm which is not sensitive to input and hundreds of times faster than the Java standard library.</p>\n\n<p>I think the sensitivity to input is the original reason which causes your problem.</p>\n\n<p>You can check out the introduction here: <a href=\"https://swtch.com/~rsc/regexp/regexp1.html\" rel=\"nofollow noreferrer\">Regular Expression Matching Can Be Simple And Fast (but is slow in Java, Perl, PHP, Python, Ruby, ...)</a></p>\n\n<p>I also answered a similar question with more detail here: <a href=\"https://stackoverflow.com/questions/910740/cancelling-a-long-running-regex-match/35405926#35405926\">Cancelling a long running regex match?</a></p>\n"}],"owner":{"account_id":223749,"reputation":8627,"user_id":483163,"accept_rate":52,"display_name":"Fraggle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3645,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1692791570,"creation_date":1313778179,"question_id":7125732,"body_markdown":"Wondering about techniques for terminating long running regular expression matches (java matcher.find() method). Maybe subclassing Matcher and adding some logic to terminate after x number of iterations?\r\n\r\nBasically I&#39;m generating regular expressions using a genetic algorithm, so I don&#39;t have a lot of control over them. Then I test each one against some text to see if they match a certain target area of the text. \r\n\r\nSo since I&#39;m sort of randomly generating these regular expressions, I get some crazy stuff going on, and it eats a ton of cpu and some find() calls take a while to terminate. I&#39;d rather just kill them after a while, but not sure of best way to do that. \r\n\r\nSo if anyone has ideas, please let me know. \r\n\r\n","title":"How to terminate Matcher.find(), when its running too long?","body":"<p>Wondering about techniques for terminating long running regular expression matches (java matcher.find() method). Maybe subclassing Matcher and adding some logic to terminate after x number of iterations?</p>\n\n<p>Basically I'm generating regular expressions using a genetic algorithm, so I don't have a lot of control over them. Then I test each one against some text to see if they match a certain target area of the text. </p>\n\n<p>So since I'm sort of randomly generating these regular expressions, I get some crazy stuff going on, and it eats a ton of cpu and some find() calls take a while to terminate. I'd rather just kill them after a while, but not sure of best way to do that. </p>\n\n<p>So if anyone has ideas, please let me know. </p>\n"},{"tags":["java","jodatime","duration"],"comments":[{"owner":{"account_id":368939,"reputation":22613,"user_id":716027,"accept_rate":56,"display_name":"fedor.belov"},"score":1,"creation_date":1338541074,"post_id":10829870,"comment_id":14126551,"body_markdown":"I have temporary implemented this with `org.apache.commons.lang.time.DurationFormatUtils`","body":"I have temporary implemented this with <code>org.apache.commons.lang.time.DurationFormatUtils</code>"},{"owner":{"account_id":6636,"reputation":224522,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"score":0,"creation_date":1367830292,"post_id":10829870,"comment_id":23501037,"body_markdown":"Related: http://stackoverflow.com/questions/1440557/joda-time-period-to-string","body":"Related: <a href=\"http://stackoverflow.com/questions/1440557/joda-time-period-to-string\" title=\"joda time period to string\">stackoverflow.com/questions/1440557/joda-time-period-to-stri&zwnj;&#8203;ng</a>"}],"answers":[{"tags":[],"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"down_vote_count":1,"up_vote_count":33,"is_accepted":true,"score":32,"last_activity_date":1442230099,"creation_date":1338570863,"answer_id":10854663,"question_id":10829870,"body_markdown":"&lt;!-- language: lang-java --&gt;\r\n\r\n    Duration yourDuration = //...\r\n    Period period = yourDuration.toPeriod();\r\n    PeriodFormatter minutesAndSeconds = new PeriodFormatterBuilder()\r\n         .printZeroAlways()\r\n         .appendMinutes()\r\n         .appendSeparator(&quot;:&quot;)\r\n         .appendSeconds()\r\n         .toFormatter();\r\n    String result = minutesAndSeconds.print(period);","title":"Convert JodaTime duration to string","body":"<pre class=\"lang-java prettyprint-override\"><code>Duration yourDuration = //...\nPeriod period = yourDuration.toPeriod();\nPeriodFormatter minutesAndSeconds = new PeriodFormatterBuilder()\n     .printZeroAlways()\n     .appendMinutes()\n     .appendSeparator(\":\")\n     .appendSeconds()\n     .toFormatter();\nString result = minutesAndSeconds.print(period);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712991,"reputation":1257,"user_id":1570640,"accept_rate":53,"display_name":"Yokich"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1691743032,"creation_date":1424767672,"answer_id":28691397,"question_id":10829870,"body_markdown":"I wanted this for myself and I did not find llyas answer to be accurate.\r\nI want to have a counter and when I had 0 hours and 1 minute I got `0:1` with his answer- but this is fixed easily with one line of code!\r\n\r\n```java\r\nPeriod p = time.toPeriod();\r\nPeriodFormatter hm = new PeriodFormatterBuilder()\r\n    .printZeroAlways()\r\n    .minimumPrintedDigits(2) // gives the &#39;01&#39;\r\n    .appendHours()\r\n    .appendSeparator(&quot;:&quot;)\r\n    .appendMinutes()\r\n    .toFormatter();\r\nString result = hm.print(p);\r\n```\r\n\r\nThis will give you `02:07`!","title":"Convert JodaTime duration to string","body":"<p>I wanted this for myself and I did not find llyas answer to be accurate.\nI want to have a counter and when I had 0 hours and 1 minute I got <code>0:1</code> with his answer- but this is fixed easily with one line of code!</p>\n<pre class=\"lang-java prettyprint-override\"><code>Period p = time.toPeriod();\nPeriodFormatter hm = new PeriodFormatterBuilder()\n    .printZeroAlways()\n    .minimumPrintedDigits(2) // gives the '01'\n    .appendHours()\n    .appendSeparator(&quot;:&quot;)\n    .appendMinutes()\n    .toFormatter();\nString result = hm.print(p);\n</code></pre>\n<p>This will give you <code>02:07</code>!</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692791562,"creation_date":1692781632,"answer_id":76959890,"question_id":10829870,"body_markdown":"java.time\r\n--\r\n\r\nQuoted below is a notice from the [home page of **Joda-Time**](https://www.joda.org/joda-time/):\r\n\r\n&gt; **Note that from Java SE 8 onwards, users are asked to migrate to `java.time` (JSR-310) - a core part of the JDK which replaces this project**.\r\n\r\nSolution using `java.time`, the modern date-time API\r\n--\r\n\r\nYou can use [`java.time.Duration`][1] which is modelled on [ISO-8601 standards][2] and was introduced with *Java-8* as part of [JSR-310 implementation][3]. With *Java-9* some more convenience methods were introduced.\r\n\r\n**Demo:**\r\n\r\n    import java.time.Duration;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Duration duration = Duration.ofSeconds(127);\r\n            // Default format\r\n            System.out.println(duration);\r\n    \r\n            // Custom format\r\n            // ####################################Java-8####################################\r\n            String formattedElapsedTime = String.format(&quot;%02d:%02d&quot;, duration.toMinutes(), duration.toSeconds() % 60);\r\n            System.out.println(formattedElapsedTime);\r\n            // ##############################################################################\r\n    \r\n            // ####################################Java-9####################################\r\n            formattedElapsedTime = String.format(&quot;%02d:%02d&quot;, duration.toMinutesPart(),\r\n                    duration.toSecondsPart());\r\n            System.out.println(formattedElapsedTime);\r\n            // ##############################################################################\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    PT2M7S\r\n    02:07\r\n    02:07\r\n\r\n[Online Demo](https://ideone.com/MBOyPQ)\r\n\r\nLearn about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html\r\n\r\n","title":"Convert JodaTime duration to string","body":"<h2>java.time</h2>\n<p>Quoted below is a notice from the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">home page of <strong>Joda-Time</strong></a>:</p>\n<blockquote>\n<p><strong>Note that from Java SE 8 onwards, users are asked to migrate to <code>java.time</code> (JSR-310) - a core part of the JDK which replaces this project</strong>.</p>\n</blockquote>\n<h2>Solution using <code>java.time</code>, the modern date-time API</h2>\n<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>java.time.Duration</code></a> which is modelled on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO-8601 standards</a> and was introduced with <em>Java-8</em> as part of <a href=\"https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html\" rel=\"nofollow noreferrer\">JSR-310 implementation</a>. With <em>Java-9</em> some more convenience methods were introduced.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Duration;\n\npublic class Main {\n    public static void main(String[] args) {\n        Duration duration = Duration.ofSeconds(127);\n        // Default format\n        System.out.println(duration);\n\n        // Custom format\n        // ####################################Java-8####################################\n        String formattedElapsedTime = String.format(&quot;%02d:%02d&quot;, duration.toMinutes(), duration.toSeconds() % 60);\n        System.out.println(formattedElapsedTime);\n        // ##############################################################################\n\n        // ####################################Java-9####################################\n        formattedElapsedTime = String.format(&quot;%02d:%02d&quot;, duration.toMinutesPart(),\n                duration.toSecondsPart());\n        System.out.println(formattedElapsedTime);\n        // ##############################################################################\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>PT2M7S\n02:07\n02:07\n</code></pre>\n<p><a href=\"https://ideone.com/MBOyPQ\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n<p>Learn about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":368939,"reputation":22613,"user_id":716027,"accept_rate":56,"display_name":"fedor.belov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12039,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":10854663,"answer_count":3,"score":27,"last_activity_date":1692791562,"creation_date":1338452559,"question_id":10829870,"body_markdown":"I have movie with duration 127 seconds. I wanna display it as `02:07`. What is the best way to implement this?","title":"Convert JodaTime duration to string","body":"<p>I have movie with duration 127 seconds. I wanna display it as <code>02:07</code>. What is the best way to implement this?</p>\n"},{"tags":["java","android","java-9"],"comments":[{"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"score":49,"creation_date":1508452655,"post_id":46402772,"comment_id":80627592,"body_markdown":"Actually this question asks a legit problem with installing the android sdk when having java9","body":"Actually this question asks a legit problem with installing the android sdk when having java9"},{"owner":{"account_id":930765,"reputation":3811,"user_id":960691,"accept_rate":72,"display_name":"Le Mot Juiced"},"score":51,"creation_date":1508952167,"post_id":46402772,"comment_id":80824103,"body_markdown":"I has this problem, and I copy/pasted the first line of my error message into google, and this question was the first hit that came up. Not only that, one of the answers below solved it. This should totally not be closed: no matter what the rules of questions are, this question demonstrably fulfills the whole purpose of the site.","body":"I has this problem, and I copy/pasted the first line of my error message into google, and this question was the first hit that came up. Not only that, one of the answers below solved it. This should totally not be closed: no matter what the rules of questions are, this question demonstrably fulfills the whole purpose of the site."},{"owner":{"account_id":33045,"reputation":13500,"user_id":92182,"accept_rate":77,"display_name":"Dimitris"},"score":1,"creation_date":1522339470,"post_id":46402772,"comment_id":86129027,"body_markdown":"Delete anything older than Java 8 from `/Library/Java/JavaVirtualMachines`","body":"Delete anything older than Java 8 from <code>&#47;Library&#47;Java&#47;JavaVirtualMachines</code>"},{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":7,"creation_date":1571132466,"post_id":46402772,"comment_id":103129702,"body_markdown":"The problem occurs with Java 8 and Java 11 on Ubuntu 18.04 using packages `openjdk-8-jdk` and `openjdk-11-jdk`. Does anyone know what to install for `javax/xml/bind/annotation/XmlSchema`, or how to avoid `javax/xml/bind/annotation/XmlSchema` in the NDK?","body":"The problem occurs with Java 8 and Java 11 on Ubuntu 18.04 using packages <code>openjdk-8-jdk</code> and <code>openjdk-11-jdk</code>. Does anyone know what to install for <code>javax&#47;xml&#47;bind&#47;annotation&#47;XmlSchema</code>, or how to avoid <code>javax&#47;xml&#47;bind&#47;annotation&#47;XmlSchema</code> in the NDK?"},{"owner":{"account_id":4910284,"reputation":155,"user_id":3955763,"accept_rate":50,"display_name":"devsin"},"score":16,"creation_date":1625555332,"post_id":46402772,"comment_id":120649895,"body_markdown":"it is not about the Java version guys. it&#39;s about the command-line tools. I passed this error Java 16 after I install command-line tools. Also you can find the correct answer page two in this question.\n`Android Studio -&gt; SDK Manager -&gt; SDK Tools -&gt; Android SDK Command-line Tools -&gt; Install`","body":"it is not about the Java version guys. it&#39;s about the command-line tools. I passed this error Java 16 after I install command-line tools. Also you can find the correct answer page two in this question. <code>Android Studio -&gt; SDK Manager -&gt; SDK Tools -&gt; Android SDK Command-line Tools -&gt; Install</code>"},{"owner":{"account_id":10388697,"reputation":638,"user_id":7660775,"display_name":"Imrul Kayes"},"score":0,"creation_date":1625846889,"post_id":46402772,"comment_id":120744863,"body_markdown":"@ssss, thanks. that&#39;s the actual cause &quot;command-line tools&quot;.","body":"@ssss, thanks. that&#39;s the actual cause &quot;command-line tools&quot;."}],"answers":[{"tags":[],"owner":{"account_id":3759746,"reputation":3489,"user_id":3125123,"accept_rate":83,"display_name":"spassvogel"},"down_vote_count":16,"up_vote_count":203,"is_accepted":true,"score":187,"last_activity_date":1671786318,"creation_date":1506341931,"answer_id":46405092,"question_id":46402772,"body_markdown":"I had a similar problem this morning (trying to build for Android using Unity3D). I ended up uninstalling JDK9 and installing [Java SE Development Kit 8u144](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html).\r\n\r\n\r\n1. `brew cask uninstall java` # uninstall java9\r\n2. `brew tap homebrew/cask-versions` \r\n3. `brew cask install java8` # install java8 \r\n4. `touch ~/.android/repositories.cfg` # without this file, error will occur on next step \r\n5. `brew install --cask android-sdk` ","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>I had a similar problem this morning (trying to build for Android using Unity3D). I ended up uninstalling JDK9 and installing <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"noreferrer\">Java SE Development Kit 8u144</a>.</p>\n<ol>\n<li><code>brew cask uninstall java</code> # uninstall java9</li>\n<li><code>brew tap homebrew/cask-versions</code></li>\n<li><code>brew cask install java8</code> # install java8</li>\n<li><code>touch ~/.android/repositories.cfg</code> # without this file, error will occur on next step</li>\n<li><code>brew install --cask android-sdk</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5232216,"reputation":763,"user_id":4182109,"display_name":"Well Smith"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1520757963,"creation_date":1520757963,"answer_id":49218234,"question_id":46402772,"body_markdown":"Strangely Java9 is not compatible with android-sdk\r\n\r\n    $ avdmanager\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n    \tat com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n    \tat com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n    \tat com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n    \tat com.android.sdklib.tool.AvdManagerCli.run(AvdManagerCli.java:213)\r\n    \tat com.android.sdklib.tool.AvdManagerCli.main(AvdManagerCli.java:200)\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\r\n    \t... 5 more\r\n\r\n\r\n\r\nCombined all commands into one for easy reference:\r\n\r\n    $ sudo rm -fr /Library/Java/JavaVirtualMachines/jdk-9*.jdk/\r\n    $ sudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\r\n    $ sudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\r\n    \r\n    $ /usr/libexec/java_home -V\r\n    Unable to find any JVMs matching version &quot;(null)&quot;.\r\n    Matching Java Virtual Machines (0):\r\n    Default Java Virtual Machines (0):\r\n    No Java runtime present, try --request to install\r\n    \r\n    $ brew tap caskroom/versions\r\n    $ brew cask install java8\r\n    $ touch ~/.android/repositories.cfg\r\n    $ brew cask install android-sdk\r\n    $ echo &#39;export ANDROID_SDK_ROOT=&quot;/usr/local/share/android-sdk&quot;&#39; &gt;&gt; ~/.bash_profile\r\n    $ java -version\r\n    java version &quot;1.8.0_162&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_162-b12)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.162-b12, mixed mode)\r\n    $ avdmanager\r\n    \r\n    Usage:\r\n          avdmanager [global options] [action] [action options]\r\n          Global options:\r\n      -s --silent     : Silent mode, shows errors only.\r\n      -v --verbose    : Verbose mode, shows errors, warnings and all messages.\r\n         --clear-cache: Clear the SDK Manager repository manifest cache.\r\n      -h --help       : Help on a specific command.\r\n    \r\n    Valid actions are composed of a verb and an optional direct object:\r\n    -   list              : Lists existing targets or virtual devices.\r\n    -   list avd          : Lists existing Android Virtual Devices.\r\n    -   list target       : Lists existing targets.\r\n    -   list device       : Lists existing devices.\r\n    - create avd          : Creates a new Android Virtual Device.\r\n    -   move avd          : Moves or renames an Android Virtual Device.\r\n    - delete avd          : Deletes an Android Virtual Device.\r\n\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>Strangely Java9 is not compatible with android-sdk</p>\n\n<pre><code>$ avdmanager\nException in thread \"main\" java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n    at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n    at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n    at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n    at com.android.sdklib.tool.AvdManagerCli.run(AvdManagerCli.java:213)\n    at com.android.sdklib.tool.AvdManagerCli.main(AvdManagerCli.java:200)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\n    ... 5 more\n</code></pre>\n\n<p>Combined all commands into one for easy reference:</p>\n\n<pre><code>$ sudo rm -fr /Library/Java/JavaVirtualMachines/jdk-9*.jdk/\n$ sudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\n$ sudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\n\n$ /usr/libexec/java_home -V\nUnable to find any JVMs matching version \"(null)\".\nMatching Java Virtual Machines (0):\nDefault Java Virtual Machines (0):\nNo Java runtime present, try --request to install\n\n$ brew tap caskroom/versions\n$ brew cask install java8\n$ touch ~/.android/repositories.cfg\n$ brew cask install android-sdk\n$ echo 'export ANDROID_SDK_ROOT=\"/usr/local/share/android-sdk\"' &gt;&gt; ~/.bash_profile\n$ java -version\njava version \"1.8.0_162\"\nJava(TM) SE Runtime Environment (build 1.8.0_162-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.162-b12, mixed mode)\n$ avdmanager\n\nUsage:\n      avdmanager [global options] [action] [action options]\n      Global options:\n  -s --silent     : Silent mode, shows errors only.\n  -v --verbose    : Verbose mode, shows errors, warnings and all messages.\n     --clear-cache: Clear the SDK Manager repository manifest cache.\n  -h --help       : Help on a specific command.\n\nValid actions are composed of a verb and an optional direct object:\n-   list              : Lists existing targets or virtual devices.\n-   list avd          : Lists existing Android Virtual Devices.\n-   list target       : Lists existing targets.\n-   list device       : Lists existing devices.\n- create avd          : Creates a new Android Virtual Device.\n-   move avd          : Moves or renames an Android Virtual Device.\n- delete avd          : Deletes an Android Virtual Device.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7069828,"reputation":16951,"user_id":5411817,"accept_rate":100,"display_name":"SherylHohman"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1528043478,"creation_date":1526014535,"answer_id":50285218,"question_id":46402772,"body_markdown":"I found two answers that worked for me, without having to uninstall JDK 10 (or 9), which I need for `create-react-app`.  Both JDK 9 and 10 are incompatible with android-sdk !\r\n\r\n----   \r\n[Siu Ching Pong -Asuka Kenji-](https://stackoverflow.com/a/47150411/5411817) suggests modifying the `sdkmanager` script, replacing this line:  \r\n\r\n    DEFAULT_JVM_OPTS=&#39;&quot;-Dcom.android.sdklib.toolsdir=$APP_HOME&quot;&#39;  \r\nwith:\r\n\r\n    DEFAULT_JVM_OPTS=&#39;&quot;-Dcom.android.sdklib.toolsdir=$APP_HOME&quot; -XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee&#39;\r\n\r\nNote that this mod will be overwritten when updating sdkmanager.  \r\nCheck out his post, and the one he links to, for more details.  \r\nThis solution was also one of the solutions mentioned in this [github issues thread](https://github.com/NativeScript/nativescript-cli/issues/3139).\r\n\r\n\r\n----\r\n[German&#39;s post](https://stackoverflow.com/a/49630166/5411817) indicates the source of the conflict, and presents fix that will not not be overwritten by updates.  \r\nHe suggests renaming `/Library/Java/JavaVirtualMachines/Info.plist` as a means of obscuring it from the script that looks for the highest version of Java that resides on your system.  In this way, JDK 8 is returned as the default.  \r\nReferring to JDK 10 explicitly, or by setting it to `$JAVA_HOME`, you can use JDK 10 , instead of the default, whenever needed.  \r\nDetails are in his post.\r\n\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>I found two answers that worked for me, without having to uninstall JDK 10 (or 9), which I need for <code>create-react-app</code>.  Both JDK 9 and 10 are incompatible with android-sdk !</p>\n\n<hr>\n\n<p><a href=\"https://stackoverflow.com/a/47150411/5411817\">Siu Ching Pong -Asuka Kenji-</a> suggests modifying the <code>sdkmanager</code> script, replacing this line:  </p>\n\n<pre><code>DEFAULT_JVM_OPTS='\"-Dcom.android.sdklib.toolsdir=$APP_HOME\"'  \n</code></pre>\n\n<p>with:</p>\n\n<pre><code>DEFAULT_JVM_OPTS='\"-Dcom.android.sdklib.toolsdir=$APP_HOME\" -XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee'\n</code></pre>\n\n<p>Note that this mod will be overwritten when updating sdkmanager.<br>\nCheck out his post, and the one he links to, for more details.<br>\nThis solution was also one of the solutions mentioned in this <a href=\"https://github.com/NativeScript/nativescript-cli/issues/3139\" rel=\"noreferrer\">github issues thread</a>.</p>\n\n<hr>\n\n<p><a href=\"https://stackoverflow.com/a/49630166/5411817\">German's post</a> indicates the source of the conflict, and presents fix that will not not be overwritten by updates.<br>\nHe suggests renaming <code>/Library/Java/JavaVirtualMachines/Info.plist</code> as a means of obscuring it from the script that looks for the highest version of Java that resides on your system.  In this way, JDK 8 is returned as the default.<br>\nReferring to JDK 10 explicitly, or by setting it to <code>$JAVA_HOME</code>, you can use JDK 10 , instead of the default, whenever needed.<br>\nDetails are in his post.</p>\n"},{"tags":[],"owner":{"account_id":6138879,"reputation":903,"user_id":4786886,"display_name":"Tim Jen&#223;en"},"down_vote_count":4,"up_vote_count":72,"is_accepted":false,"score":68,"last_activity_date":1531523044,"creation_date":1527683706,"answer_id":50604833,"question_id":46402772,"body_markdown":"    set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee\r\n\r\nThis fixed the problem on Windows for me.\r\n\r\n[Source 1][1], [source 2][2]\r\n\r\n\r\n  [1]: https://github.com/NativeScript/nativescript-cli/issues/3139#issuecomment-363950869\r\n  [2]: https://stackoverflow.com/a/47150411/270197","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<pre><code>set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee\n</code></pre>\n\n<p>This fixed the problem on Windows for me.</p>\n\n<p><a href=\"https://github.com/NativeScript/nativescript-cli/issues/3139#issuecomment-363950869\" rel=\"noreferrer\">Source 1</a>, <a href=\"https://stackoverflow.com/a/47150411/270197\">source 2</a></p>\n"},{"tags":[],"owner":{"account_id":8524532,"reputation":79,"user_id":6390370,"display_name":"Jagan"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1527966513,"creation_date":1527966513,"answer_id":50660264,"question_id":46402772,"body_markdown":"For windows machine uninstall the JDK if its more than 1.8.172. \r\nInstall JDK 1.8.172\r\n\r\nI was facing the same issue in windows 10 with java 10. I uninstalled the java 10 and installed java8 its working fine for me now :)","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>For windows machine uninstall the JDK if its more than 1.8.172. \nInstall JDK 1.8.172</p>\n\n<p>I was facing the same issue in windows 10 with java 10. I uninstalled the java 10 and installed java8 its working fine for me now :)</p>\n"},{"tags":[],"owner":{"account_id":70834,"reputation":5583,"user_id":205049,"display_name":"oori"},"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1582075343,"creation_date":1532334914,"answer_id":51474639,"question_id":46402772,"body_markdown":"On Mac/Linux use the following command:\r\n\r\n```\r\nexport JAVA_OPTS=&#39;-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee&#39;\r\n```\r\n\r\nWorks for both JDK 9 and 10, __without__ patching any script (sdkmanager, avdmanager).\r\n\r\nFor Java 11 see: https://stackoverflow.com/a/51644855/798165","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>On Mac/Linux use the following command:</p>\n\n<pre><code>export JAVA_OPTS='-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee'\n</code></pre>\n\n<p>Works for both JDK 9 and 10, <strong>without</strong> patching any script (sdkmanager, avdmanager).</p>\n\n<p>For Java 11 see: <a href=\"https://stackoverflow.com/a/51644855/798165\">https://stackoverflow.com/a/51644855/798165</a></p>\n"},{"tags":[],"owner":{"account_id":5196485,"reputation":14190,"user_id":4157589,"accept_rate":100,"display_name":"valdeci"},"down_vote_count":8,"up_vote_count":107,"is_accepted":false,"score":99,"last_activity_date":1614693140,"creation_date":1533178508,"answer_id":51644855,"question_id":46402772,"body_markdown":"To solve this error, you can downgrade your Java version.\r\n\r\nOr exports the following option on your terminal:\r\n \r\n**Linux/MAC:**\r\n\r\n    export JAVA_OPTS=&#39;-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee&#39;\r\n\r\n**Windows**:\r\n\r\n    set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee\r\n\r\n\r\nIf this does not work try to exports the `java.xml.bind` instead.\r\n\r\n**Linux:**\r\n\r\n    export JAVA_OPTS=&#39;-XX:+IgnoreUnrecognizedVMOptions --add-modules java.xml.bind&#39;\r\n\r\n**Windows**:\r\n\r\n    set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.xml.bind\r\n\r\n\r\nAnd to save it permanently you can exports the `JAVA_OPTS` in your profile file on Linux (`.zshrc`, `.bashrc` and etc.) or add it as an environment variable permanently on Windows.\r\n\r\n---\r\n\r\n**ps.** This doesn&#39;t work for Java 11/11+, which doesn&#39;t have Java EE modules. For this option is a good idea, downgrade your Java version or wait for a Flutter [update](https://github.com/flutter/flutter/wiki/Changelog).\r\n\r\nRef: [JDK 11: End of the road for Java EE modules](https://jaxenter.com/jdk-11-java-ee-modules-140674.html)","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>To solve this error, you can downgrade your Java version.</p>\n<p>Or exports the following option on your terminal:</p>\n<p><strong>Linux/MAC:</strong></p>\n<pre><code>export JAVA_OPTS='-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee'\n</code></pre>\n<p><strong>Windows</strong>:</p>\n<pre><code>set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee\n</code></pre>\n<p>If this does not work try to exports the <code>java.xml.bind</code> instead.</p>\n<p><strong>Linux:</strong></p>\n<pre><code>export JAVA_OPTS='-XX:+IgnoreUnrecognizedVMOptions --add-modules java.xml.bind'\n</code></pre>\n<p><strong>Windows</strong>:</p>\n<pre><code>set JAVA_OPTS=-XX:+IgnoreUnrecognizedVMOptions --add-modules java.xml.bind\n</code></pre>\n<p>And to save it permanently you can exports the <code>JAVA_OPTS</code> in your profile file on Linux (<code>.zshrc</code>, <code>.bashrc</code> and etc.) or add it as an environment variable permanently on Windows.</p>\n<hr />\n<p><strong>ps.</strong> This doesn't work for Java 11/11+, which doesn't have Java EE modules. For this option is a good idea, downgrade your Java version or wait for a Flutter <a href=\"https://github.com/flutter/flutter/wiki/Changelog\" rel=\"noreferrer\">update</a>.</p>\n<p>Ref: <a href=\"https://jaxenter.com/jdk-11-java-ee-modules-140674.html\" rel=\"noreferrer\">JDK 11: End of the road for Java EE modules</a></p>\n"},{"tags":[],"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1536900429,"creation_date":1536900429,"answer_id":52325125,"question_id":46402772,"body_markdown":"Run `java -version` and `javac -version` commands in a command line to make sure that they come from the same JDK (eg: version 1.8.0_181) \r\n\r\nIf not, you have to modify `PATH` variable so that it only points to a single JDK. If you are not sure how to, just uninstall all other Java instances except for Java 8 (Add/Remove Programs in Windows). As for today, both Unity and Android recommends that you use JDK 8.\r\n\r\nWith Java 8, it is not necessary to export `java.se.ee` module as shown in some of the other answers. You may also remove any `JAVA_OPTS` or other [environment variables][1] that you have set.\r\n\r\n\r\n  [1]: https://www.java.com/en/download/help/path.xml","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>Run <code>java -version</code> and <code>javac -version</code> commands in a command line to make sure that they come from the same JDK (eg: version 1.8.0_181) </p>\n\n<p>If not, you have to modify <code>PATH</code> variable so that it only points to a single JDK. If you are not sure how to, just uninstall all other Java instances except for Java 8 (Add/Remove Programs in Windows). As for today, both Unity and Android recommends that you use JDK 8.</p>\n\n<p>With Java 8, it is not necessary to export <code>java.se.ee</code> module as shown in some of the other answers. You may also remove any <code>JAVA_OPTS</code> or other <a href=\"https://www.java.com/en/download/help/path.xml\" rel=\"nofollow noreferrer\">environment variables</a> that you have set.</p>\n"},{"tags":[],"owner":{"account_id":2117459,"reputation":1195,"user_id":1881391,"accept_rate":53,"display_name":"Sarah A"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1683681042,"creation_date":1539385815,"answer_id":52788062,"question_id":46402772,"body_markdown":"If you&#39;re on Mac OS, and you don&#39;t want to change your Java version (I don&#39;t), you can temporarily change the version in your shell:\r\n\r\nFirst run \r\n\r\n```\r\n/usr/libexec/java_home -V\r\n```\r\n\r\nThen pick a major version if you have it installed, otherwise install it first:\r\n\r\n```\r\nexport JAVA_HOME=`/usr/libexec/java_home -v 1.8`\r\n```\r\n\r\nNow you can run sdkmanager.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>If you're on Mac OS, and you don't want to change your Java version (I don't), you can temporarily change the version in your shell:</p>\n<p>First run</p>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>Then pick a major version if you have it installed, otherwise install it first:</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 1.8`\n</code></pre>\n<p>Now you can run sdkmanager.</p>\n"},{"tags":[],"owner":{"account_id":1369771,"reputation":1668,"user_id":1305332,"accept_rate":26,"display_name":"Peter Quiring"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1542382253,"creation_date":1542382253,"answer_id":53340887,"question_id":46402772,"body_markdown":"Since Java 11 has removed JavaEE you&#39;ll need to download some jars and add to the classpath:\r\n\r\nJAXB:\r\nhttps://javaee.github.io/jaxb-v2/\r\n\r\nJAF:\r\nhttps://www.oracle.com/technetwork/articles/java/index-135046.html\r\n\r\nThen edit sdkmanager.bat so that **set CLASSPATH=...** ends with **;%CLASSPATH%**\r\n\r\nSet CLASSPATH to include JAXB and JAF:\r\n\r\n    set CLASSPATH=jaxb-core.jar;jaxb-impl.jar;jaxb-api.jar;activation.jar\r\n\r\nThen sdkmanager.bat will work.\r\n\r\n\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>Since Java 11 has removed JavaEE you'll need to download some jars and add to the classpath:</p>\n\n<p>JAXB:\n<a href=\"https://javaee.github.io/jaxb-v2/\" rel=\"noreferrer\">https://javaee.github.io/jaxb-v2/</a></p>\n\n<p>JAF:\n<a href=\"https://www.oracle.com/technetwork/articles/java/index-135046.html\" rel=\"noreferrer\">https://www.oracle.com/technetwork/articles/java/index-135046.html</a></p>\n\n<p>Then edit sdkmanager.bat so that <strong>set CLASSPATH=...</strong> ends with <strong>;%CLASSPATH%</strong></p>\n\n<p>Set CLASSPATH to include JAXB and JAF:</p>\n\n<pre><code>set CLASSPATH=jaxb-core.jar;jaxb-impl.jar;jaxb-api.jar;activation.jar\n</code></pre>\n\n<p>Then sdkmanager.bat will work.</p>\n"},{"tags":[],"owner":{"account_id":14566339,"reputation":201,"user_id":10520928,"display_name":"hugovicfortman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543950920,"creation_date":1543950920,"answer_id":53619947,"question_id":46402772,"body_markdown":"For Linux users (I&#39;m using a Debian Distro, Kali)\r\nHere&#39;s how I resolved mine.\r\n\r\nIf you don&#39;t already have jdk-8, you want to get it at oracle&#39;s site\r\n\r\nhttps://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n\r\nI got the jdk-8u191-linux-x64.tar.gz\r\n\r\nStep 1 - Installing Java\r\nMove and unpack it at a suitable location like so\r\n\r\n    $ mv jdk-8u191-linux-x64.tar.gz /suitablelocation/\r\n    $ tar -xzvf /suitablelocation/jdk-8u191-linux-x64.tar.gz\r\n\r\nYou should get an unzipped folder like jdk1.8.0_191\r\nYou can delete the tarball afterwards to conserve space\r\n\r\nStep 2 - Setting up alternatives to the default java location\r\n\r\n    $ update-alternatives --install /usr/bin/java java /suitablelocation/jdk1.8.0_191/bin/java 1\r\n    $ update-alternatives --install /usr/bin/javac javac /suitablelocation/jdk1.8.0_191/bin/javac 1\r\n\r\nStep 3 - Selecting your alternatives as default\r\n\r\n    $ update-alternatives --set java /suitablelocation/jdk1.8.0_191/bin/java\r\n    $ update-alternatives --set javac /suitablelocation/jdk1.8.0_191/bin/javac\r\n\r\nStep 4 - Confirming default java version\r\n\r\n    $ java -version\r\n\r\nNotes\r\n\r\n 1. In the original article here: https://forums.kali.org/showthread.php?41-Installing-Java-on-Kali-Linux,\r\n   the default plugin for mozilla was also set. I assume we don&#39;t really need the plugins as we&#39;re\r\n   simply trying to develop for android.\r\n 2. As in @spassvogel&#39;s answer, you should also place a @repositories.cfg file in your ~/.android directory\r\n   as this is needed to update the tools repo lists\r\n 3. Moving some things around may require root authority. Use sudo wisely.\r\n 4. For sdkmanager usage, see official guide: https://developer.android.com/studio/command-line/sdkmanager","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>For Linux users (I'm using a Debian Distro, Kali)\nHere's how I resolved mine.</p>\n\n<p>If you don't already have jdk-8, you want to get it at oracle's site</p>\n\n<p><a href=\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>\n\n<p>I got the jdk-8u191-linux-x64.tar.gz</p>\n\n<p>Step 1 - Installing Java\nMove and unpack it at a suitable location like so</p>\n\n<pre><code>$ mv jdk-8u191-linux-x64.tar.gz /suitablelocation/\n$ tar -xzvf /suitablelocation/jdk-8u191-linux-x64.tar.gz\n</code></pre>\n\n<p>You should get an unzipped folder like jdk1.8.0_191\nYou can delete the tarball afterwards to conserve space</p>\n\n<p>Step 2 - Setting up alternatives to the default java location</p>\n\n<pre><code>$ update-alternatives --install /usr/bin/java java /suitablelocation/jdk1.8.0_191/bin/java 1\n$ update-alternatives --install /usr/bin/javac javac /suitablelocation/jdk1.8.0_191/bin/javac 1\n</code></pre>\n\n<p>Step 3 - Selecting your alternatives as default</p>\n\n<pre><code>$ update-alternatives --set java /suitablelocation/jdk1.8.0_191/bin/java\n$ update-alternatives --set javac /suitablelocation/jdk1.8.0_191/bin/javac\n</code></pre>\n\n<p>Step 4 - Confirming default java version</p>\n\n<pre><code>$ java -version\n</code></pre>\n\n<p>Notes</p>\n\n<ol>\n<li>In the original article here: <a href=\"https://forums.kali.org/showthread.php?41-Installing-Java-on-Kali-Linux\" rel=\"nofollow noreferrer\">https://forums.kali.org/showthread.php?41-Installing-Java-on-Kali-Linux</a>,\nthe default plugin for mozilla was also set. I assume we don't really need the plugins as we're\nsimply trying to develop for android.</li>\n<li>As in @spassvogel's answer, you should also place a @repositories.cfg file in your ~/.android directory\nas this is needed to update the tools repo lists</li>\n<li>Moving some things around may require root authority. Use sudo wisely.</li>\n<li>For sdkmanager usage, see official guide: <a href=\"https://developer.android.com/studio/command-line/sdkmanager\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/command-line/sdkmanager</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":481692,"reputation":16428,"user_id":895659,"accept_rate":55,"display_name":"Farshid Ashouri"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1544039892,"creation_date":1544039892,"answer_id":53639855,"question_id":46402772,"body_markdown":"You need to add the following to your Profile (Works on MacOS):\r\n\r\n&gt;     export JAVA_HOME=`/usr/libexec/java_home -v 1.8`\r\n\r\nNo need to patch anything.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>You need to add the following to your Profile (Works on MacOS):</p>\n\n<blockquote>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 1.8`\n</code></pre>\n</blockquote>\n\n<p>No need to patch anything.</p>\n"},{"tags":[],"owner":{"account_id":3080498,"reputation":346,"user_id":2608802,"display_name":"Sandeep"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1571132342,"creation_date":1550732833,"answer_id":54801138,"question_id":46402772,"body_markdown":"I ran into same issue when running:\r\n\r\n    $ /Users/&lt;username&gt;/Library/Android/sdk/tools/bin/sdkmanager &quot;platforms;android-28&quot; &quot;build-tools;28.0.3&quot;_\r\n\r\nI solved it as \r\n\r\n    $ echo $JAVA_HOME\r\n    /Library/Java/JavaVirtualMachines/jdk-11.0.1.jdk/Contents/Home    \r\n    \r\n    $ ls /Library/Java/JavaVirtualMachines/\r\n    \r\n    jdk-11.0.1.jdk\t\t\r\n    jdk1.8.0_202.jdk\r\n\r\n**Change Java to use 1.8**\r\n\r\n    $ export JAVA_HOME=&#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home&#39;\r\n\r\nThen the same command runs fine\r\n\r\n    $ /Users/&lt;username&gt;/Library/Android/sdk/tools/bin/sdkmanager &quot;platforms;android-28&quot; &quot;build-tools;28.0.3&quot;\r\n\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>I ran into same issue when running:</p>\n\n<pre><code>$ /Users/&lt;username&gt;/Library/Android/sdk/tools/bin/sdkmanager \"platforms;android-28\" \"build-tools;28.0.3\"_\n</code></pre>\n\n<p>I solved it as </p>\n\n<pre><code>$ echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/jdk-11.0.1.jdk/Contents/Home    \n\n$ ls /Library/Java/JavaVirtualMachines/\n\njdk-11.0.1.jdk      \njdk1.8.0_202.jdk\n</code></pre>\n\n<p><strong>Change Java to use 1.8</strong></p>\n\n<pre><code>$ export JAVA_HOME='/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home'\n</code></pre>\n\n<p>Then the same command runs fine</p>\n\n<pre><code>$ /Users/&lt;username&gt;/Library/Android/sdk/tools/bin/sdkmanager \"platforms;android-28\" \"build-tools;28.0.3\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":345385,"reputation":1224,"user_id":678284,"accept_rate":100,"display_name":"Steven"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1611659067,"creation_date":1552391821,"answer_id":55120918,"question_id":46402772,"body_markdown":"When using Linux, an easy option is installation of` JDK version 8` then selecting it as the default using:\r\n\r\n    sudo update-alternatives --config java\r\n\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>When using Linux, an easy option is installation of<code> JDK version 8</code> then selecting it as the default using:</p>\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9288944,"reputation":1488,"user_id":6897913,"display_name":"linjiejun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554986536,"creation_date":1554986536,"answer_id":55632802,"question_id":46402772,"body_markdown":"Downgrade your java version.Whatever system or ide.\r\n\r\nMake sure java version is not higher than 8\r\n\r\nIn my case.I change the ide java verion.This solves my issue.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0c9Uf.png","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>Downgrade your java version.Whatever system or ide.</p>\n\n<p>Make sure java version is not higher than 8</p>\n\n<p>In my case.I change the ide java verion.This solves my issue.\n<a href=\"https://i.stack.imgur.com/0c9Uf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0c9Uf.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6228201,"reputation":5409,"user_id":4845808,"display_name":"Chinese Cat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563175490,"creation_date":1563175490,"answer_id":57034996,"question_id":46402772,"body_markdown":"When your Android stuio/jre uses a differ version of java, you will receive this error. to solve it, just set Android studio/jre to your JAVA_HOME. and uninstall your own java.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>When your Android stuio/jre uses a differ version of java, you will receive this error. to solve it, just set Android studio/jre to your JAVA_HOME. and uninstall your own java.</p>\n"},{"tags":[],"owner":{"account_id":4501967,"reputation":4684,"user_id":3660290,"display_name":"G00fY"},"down_vote_count":1,"up_vote_count":61,"is_accepted":false,"score":60,"last_activity_date":1621747499,"creation_date":1572564229,"answer_id":58652345,"question_id":46402772,"body_markdown":"**Update 2019-10:**\r\n\r\nAs [stated in the issue tracker][1], Google has been working on a new **Android SDK Command-line Tools** release that runs on current JVMs (9, 10, 11+) and does not depend on deprecated JAXB EE modules!\r\n\r\nYou can download and use the new **Android SDK Command-line Tools** inside Android Studio or by manually downloading them from the Google servers:\r\n\r\n - [SDK Tools for Linux](https://dl.google.com/android/repository/commandlinetools-linux-6200805_latest.zip)\r\n - [SDK Tools for Mac OS](https://dl.google.com/android/repository/commandlinetools-mac-6200805_latest.zip)\r\n - [SDK Tools for Windows](https://dl.google.com/android/repository/commandlinetools-win-6200805_latest.zip)\r\n\r\nFor the latest versions check the URLs inside the [repository.xml][2].\r\n\r\nIf you manually unpack the command line tools, take care of placing them in a subfolder inside your `$ANDROID_HOME` (e.g. `$ANDROID_HOME/cmdline-tools/...`).\r\n\r\n**Update 2021-03:**\r\n\r\nThe latest stable command-line tools are available at [Googles Downloads-Website][3].  These tools are newer than those linked above.\r\n\r\n\r\n  [1]: https://issuetracker.google.com/issues/67495440#comment13\r\n  [2]: https://dl.google.com/android/repository/repository2-1.xml\r\n  [3]: https://developer.android.com/studio#command-tools","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p><strong>Update 2019-10:</strong></p>\n<p>As <a href=\"https://issuetracker.google.com/issues/67495440#comment13\" rel=\"noreferrer\">stated in the issue tracker</a>, Google has been working on a new <strong>Android SDK Command-line Tools</strong> release that runs on current JVMs (9, 10, 11+) and does not depend on deprecated JAXB EE modules!</p>\n<p>You can download and use the new <strong>Android SDK Command-line Tools</strong> inside Android Studio or by manually downloading them from the Google servers:</p>\n<ul>\n<li><a href=\"https://dl.google.com/android/repository/commandlinetools-linux-6200805_latest.zip\" rel=\"noreferrer\">SDK Tools for Linux</a></li>\n<li><a href=\"https://dl.google.com/android/repository/commandlinetools-mac-6200805_latest.zip\" rel=\"noreferrer\">SDK Tools for Mac OS</a></li>\n<li><a href=\"https://dl.google.com/android/repository/commandlinetools-win-6200805_latest.zip\" rel=\"noreferrer\">SDK Tools for Windows</a></li>\n</ul>\n<p>For the latest versions check the URLs inside the <a href=\"https://dl.google.com/android/repository/repository2-1.xml\" rel=\"noreferrer\">repository.xml</a>.</p>\n<p>If you manually unpack the command line tools, take care of placing them in a subfolder inside your <code>$ANDROID_HOME</code> (e.g. <code>$ANDROID_HOME/cmdline-tools/...</code>).</p>\n<p><strong>Update 2021-03:</strong></p>\n<p>The latest stable command-line tools are available at <a href=\"https://developer.android.com/studio#command-tools\" rel=\"noreferrer\">Googles Downloads-Website</a>.  These tools are newer than those linked above.</p>\n"},{"tags":[],"owner":{"account_id":13447875,"reputation":916,"user_id":9703362,"display_name":"THE_BLESSED_MEDIUM"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1586364828,"creation_date":1575728307,"answer_id":59226884,"question_id":46402772,"body_markdown":"I faced the same problem. Though I am a little bit backdated developer (Still using windows to develop :P)\r\n\r\nTo solve this issue **on windows** :\r\n\r\nSTEP 1: Install jdk 8 if it wasn&#39;t installed (jdk 9 or 11 doesn&#39;t work but you may have them installed for using in other dev uses).\r\n\r\nVery simple using Chocolatey:\r\n&gt; choco install jdk8\r\n\r\n**(If installed using Chocolatey, skip steps 2 and 3)**\r\n\r\n\r\nSTEP 2: Go to the Environment variables settings and set JAVA_HOME TO jdk 8&#39;s installation directory.\r\n\r\n[![JAVA_HOME][1]][1]\r\n\r\n\r\nSTEP 3: Go to path variable and add bin directory of jdk 8 and move it to top.\r\n\r\n[![Path_varriable][2]][2]\r\n\r\n\r\nSTEP 4: Close any open terminal sessions and restart a new session\r\n\r\n\r\nOPTIONAL STEP 5: Depending on your objective in the terminal run (may need to add sdkmanager to path or just navigate to the directory):\r\n\r\n&gt; sdkmanager --update\r\n\r\nThat&#39;s all! :O Enjoy fluttering! :D\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/joRg8.png\r\n  [2]: https://i.stack.imgur.com/qoqzJ.png","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>I faced the same problem. Though I am a little bit backdated developer (Still using windows to develop :P)</p>\n\n<p>To solve this issue <strong>on windows</strong> :</p>\n\n<p>STEP 1: Install jdk 8 if it wasn't installed (jdk 9 or 11 doesn't work but you may have them installed for using in other dev uses).</p>\n\n<p>Very simple using Chocolatey:</p>\n\n<blockquote>\n  <p>choco install jdk8</p>\n</blockquote>\n\n<p><strong>(If installed using Chocolatey, skip steps 2 and 3)</strong></p>\n\n<p>STEP 2: Go to the Environment variables settings and set JAVA_HOME TO jdk 8's installation directory.</p>\n\n<p><a href=\"https://i.stack.imgur.com/joRg8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/joRg8.png\" alt=\"JAVA_HOME\"></a></p>\n\n<p>STEP 3: Go to path variable and add bin directory of jdk 8 and move it to top.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qoqzJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qoqzJ.png\" alt=\"Path_varriable\"></a></p>\n\n<p>STEP 4: Close any open terminal sessions and restart a new session</p>\n\n<p>OPTIONAL STEP 5: Depending on your objective in the terminal run (may need to add sdkmanager to path or just navigate to the directory):</p>\n\n<blockquote>\n  <p>sdkmanager --update</p>\n</blockquote>\n\n<p>That's all! :O Enjoy fluttering! :D</p>\n"},{"tags":[],"owner":{"account_id":2125702,"reputation":73,"user_id":1887942,"display_name":"Michael Liesenberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576404500,"creation_date":1576404500,"answer_id":59342864,"question_id":46402772,"body_markdown":"For me i install java version 8 and just select the java version in &quot;JDK location&quot;:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2oTIW.png","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>For me i install java version 8 and just select the java version in \"JDK location\":\n<a href=\"https://i.stack.imgur.com/2oTIW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2oTIW.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3665399,"reputation":1025,"user_id":3053996,"display_name":"Brian Ng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580694640,"creation_date":1580694640,"answer_id":60032270,"question_id":46402772,"body_markdown":"For my circumstance, I&#39;m using sdkman to manage multiple java versions. I set default java version to 13. Install version 8 and now it&#39;s working fine.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>For my circumstance, I'm using sdkman to manage multiple java versions. I set default java version to 13. Install version 8 and now it's working fine.</p>\n"},{"tags":[],"owner":{"account_id":10556730,"reputation":119,"user_id":7777652,"display_name":"Milan Adhikari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585588433,"creation_date":1585588433,"answer_id":60935850,"question_id":46402772,"body_markdown":"I had recently solved this problem by uninstalling the higher version of JDK and installing JDK 8. After installing the JDK you need to give the path. Then you need to open command prompt in &quot;C:\\Users\\Milan Adhikari\\AppData\\Local\\Android\\Sdk\\tools&quot; and run &quot;sdkmanager --update&quot; which will update your sdk and then you need to run &quot;flutter doctor --android-licenses&quot; in cmd and accept all the licenses.  \r\nNow your problem should be solved.\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>I had recently solved this problem by uninstalling the higher version of JDK and installing JDK 8. After installing the JDK you need to give the path. Then you need to open command prompt in \"C:\\Users\\Milan Adhikari\\AppData\\Local\\Android\\Sdk\\tools\" and run \"sdkmanager --update\" which will update your sdk and then you need to run \"flutter doctor --android-licenses\" in cmd and accept all the licenses.<br>\nNow your problem should be solved.</p>\n"},{"tags":[],"owner":{"account_id":2811364,"reputation":513,"user_id":2417546,"accept_rate":25,"display_name":"zishan paya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589036929,"creation_date":1589036929,"answer_id":61698922,"question_id":46402772,"body_markdown":"Best way is to use below command\r\n\r\n       $ wget https://dl.google.com/android/repository/platform-tools-latest-linux.zip\r\n       $ unzip \\platform-tools-latest-linux.zip\r\n       $ sudo cp platform-tools/adb /usr/bin/adb\r\n       $ sudo cp platform-tools/fastboot /usr/bin/fastboot\r\n\r\nNow run adb version to verify it’s been updated.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>Best way is to use below command</p>\n\n<pre><code>   $ wget https://dl.google.com/android/repository/platform-tools-latest-linux.zip\n   $ unzip \\platform-tools-latest-linux.zip\n   $ sudo cp platform-tools/adb /usr/bin/adb\n   $ sudo cp platform-tools/fastboot /usr/bin/fastboot\n</code></pre>\n\n<p>Now run adb version to verify it’s been updated.</p>\n"},{"tags":[],"owner":{"account_id":12881052,"reputation":1512,"user_id":9316077,"display_name":"Will59"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1592580066,"creation_date":1592580066,"answer_id":62473418,"question_id":46402772,"body_markdown":"In my case, I need both JDK 8 (trying to use the AVD and SDK manager in Qt under ubuntu) and 11 for different tools. Removing version 11 is not an option.\r\n\r\nThe &#39;JAVA_OPTS&#39; solutions did not do anything. I don&#39;t really like the export JAVA_HOME, as it might force you do launch whatever tool calls these utils from the same shell (like Qt), or force you to make this permanent, which is not convenient.\r\n\r\nSo for me the solution is quite simple. Add something like this in the second line of ~/Android/tools/bin/sdkmanager and  ~/Android/tools/bin/avdmanager:\r\n\r\n```JAVA_HOME=&quot;/usr/lib/jvm/java-8-openjdk-amd64&quot;```\r\n\r\n(or whatever the path is to your rev 8 jdk).\r\n\r\nWith this, these command line tools work in a stand alone mode, they work also when called by other tools such as Qt, and jdk 11 is still the system default for others. No need to mix libs etc...\r\n\r\nThe only downside is that any update to these command line tools will erase these modifications, which you will have to put back in.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>In my case, I need both JDK 8 (trying to use the AVD and SDK manager in Qt under ubuntu) and 11 for different tools. Removing version 11 is not an option.</p>\n\n<p>The 'JAVA_OPTS' solutions did not do anything. I don't really like the export JAVA_HOME, as it might force you do launch whatever tool calls these utils from the same shell (like Qt), or force you to make this permanent, which is not convenient.</p>\n\n<p>So for me the solution is quite simple. Add something like this in the second line of ~/Android/tools/bin/sdkmanager and  ~/Android/tools/bin/avdmanager:</p>\n\n<p><code>JAVA_HOME=\"/usr/lib/jvm/java-8-openjdk-amd64\"</code></p>\n\n<p>(or whatever the path is to your rev 8 jdk).</p>\n\n<p>With this, these command line tools work in a stand alone mode, they work also when called by other tools such as Qt, and jdk 11 is still the system default for others. No need to mix libs etc...</p>\n\n<p>The only downside is that any update to these command line tools will erase these modifications, which you will have to put back in.</p>\n"},{"tags":[],"owner":{"account_id":6978224,"reputation":520,"user_id":5382576,"accept_rate":71,"display_name":"Enrique Ren&#233;"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1624971798,"creation_date":1596931838,"answer_id":63321328,"question_id":46402772,"body_markdown":"In my case, I have Java 14 and need Java 8.\r\n\r\nI&#39;m in a Arch Linux and has installed `jdk8-openjdk jre8-openjdk` https://www.archlinux.org/packages/extra/x86_64/java8-openjdk/\r\n\r\nFor Debian users https://wiki.debian.org/Java, or Fedora https://docs.fedoraproject.org/en-US/quick-docs/installing-java/.\r\n\r\n\r\nInstall Java 8 (or desired version, in this case `jdk8-openjdk jre8-openjdk`) using your package manager before doing the following steps.\r\n\r\n\r\n---\r\n\r\n# 1. Figuring out where is my Java:\r\n\r\n    # which java\r\n    /usr/bin/java\r\n\r\n# 2. Checking java files:\r\nI can see all java files here are links to `/usr/lib/jvm/default[something]`. This means that the `java` command is linked to some specific version of `java` executable.\r\n\r\n    # ls -l /usr/bin/java*\r\n    lrwxrwxrwx 1 root root 37 May 16 06:30 /usr/bin/java -&gt; /usr/lib/jvm/default-runtime/bin/java\r\n    lrwxrwxrwx 1 root root 30 May 16 06:30 /usr/bin/javac -&gt; /usr/lib/jvm/default/bin/javac\r\n    lrwxrwxrwx 1 root root 32 May 16 06:30 /usr/bin/javadoc -&gt; /usr/lib/jvm/default/bin/javadoc\r\n    lrwxrwxrwx 1 root root 30 May 16 06:30 /usr/bin/javah -&gt; /usr/lib/jvm/default/bin/javah\r\n    lrwxrwxrwx 1 root root 30 May 16 06:30 /usr/bin/javap -&gt; /usr/lib/jvm/default/bin/javap\r\n\r\n\r\n# 3. Checking the `default` and `default-runtime`\r\nHere I could see the default version was linked to 14 (unique installed version).\r\n\r\n    # cd /usr/lib/jvm\r\n    # ls -l\r\n    lrwxrwxrwx 1 root root   14 Aug  8 20:44 default -&gt; java-14-openjdk\r\n    lrwxrwxrwx 1 root root   14 Aug  8 20:44 default-runtime -&gt; java-14-openjdk\r\n    drwxr-xr-x 7 root root 4096 Jul 19 22:38 java-14-openjdk\r\n    drwxr-xr-x 6 root root 4096 Aug  8 20:42 java-8-openjdk\r\n\r\n# 4. Switching the default version\r\nFirst, remove the existing `default` and `default-runtime` which linked to java-14 version.\r\n\r\n    # rm default default-runtime\r\n\r\nThen, create new links to the desired version (in this case, java-8).\r\n\r\n    # ln -s java-8-openjdk default\r\n    # ln -s java-8-openjdk default-runtime\r\n\r\n---\r\n\r\nThe strategy is to make links to the desired version of software (java8 in this case) using `ln -s` above. Then, this links are linked to the binaries inside the java bin directory (**without changing the `$PATH` environment variable!**)\r\n\r\n---\r\n\r\nOr you might be wanted to change the Java version using `archlinux-java` command instead with more safely approach: https://wiki.archlinux.org/index.php/Java","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>In my case, I have Java 14 and need Java 8.</p>\n<p>I'm in a Arch Linux and has installed <code>jdk8-openjdk jre8-openjdk</code> <a href=\"https://www.archlinux.org/packages/extra/x86_64/java8-openjdk/\" rel=\"nofollow noreferrer\">https://www.archlinux.org/packages/extra/x86_64/java8-openjdk/</a></p>\n<p>For Debian users <a href=\"https://wiki.debian.org/Java\" rel=\"nofollow noreferrer\">https://wiki.debian.org/Java</a>, or Fedora <a href=\"https://docs.fedoraproject.org/en-US/quick-docs/installing-java/\" rel=\"nofollow noreferrer\">https://docs.fedoraproject.org/en-US/quick-docs/installing-java/</a>.</p>\n<p>Install Java 8 (or desired version, in this case <code>jdk8-openjdk jre8-openjdk</code>) using your package manager before doing the following steps.</p>\n<hr />\n<h1>1. Figuring out where is my Java:</h1>\n<pre><code># which java\n/usr/bin/java\n</code></pre>\n<h1>2. Checking java files:</h1>\n<p>I can see all java files here are links to <code>/usr/lib/jvm/default[something]</code>. This means that the <code>java</code> command is linked to some specific version of <code>java</code> executable.</p>\n<pre><code># ls -l /usr/bin/java*\nlrwxrwxrwx 1 root root 37 May 16 06:30 /usr/bin/java -&gt; /usr/lib/jvm/default-runtime/bin/java\nlrwxrwxrwx 1 root root 30 May 16 06:30 /usr/bin/javac -&gt; /usr/lib/jvm/default/bin/javac\nlrwxrwxrwx 1 root root 32 May 16 06:30 /usr/bin/javadoc -&gt; /usr/lib/jvm/default/bin/javadoc\nlrwxrwxrwx 1 root root 30 May 16 06:30 /usr/bin/javah -&gt; /usr/lib/jvm/default/bin/javah\nlrwxrwxrwx 1 root root 30 May 16 06:30 /usr/bin/javap -&gt; /usr/lib/jvm/default/bin/javap\n</code></pre>\n<h1>3. Checking the <code>default</code> and <code>default-runtime</code></h1>\n<p>Here I could see the default version was linked to 14 (unique installed version).</p>\n<pre><code># cd /usr/lib/jvm\n# ls -l\nlrwxrwxrwx 1 root root   14 Aug  8 20:44 default -&gt; java-14-openjdk\nlrwxrwxrwx 1 root root   14 Aug  8 20:44 default-runtime -&gt; java-14-openjdk\ndrwxr-xr-x 7 root root 4096 Jul 19 22:38 java-14-openjdk\ndrwxr-xr-x 6 root root 4096 Aug  8 20:42 java-8-openjdk\n</code></pre>\n<h1>4. Switching the default version</h1>\n<p>First, remove the existing <code>default</code> and <code>default-runtime</code> which linked to java-14 version.</p>\n<pre><code># rm default default-runtime\n</code></pre>\n<p>Then, create new links to the desired version (in this case, java-8).</p>\n<pre><code># ln -s java-8-openjdk default\n# ln -s java-8-openjdk default-runtime\n</code></pre>\n<hr />\n<p>The strategy is to make links to the desired version of software (java8 in this case) using <code>ln -s</code> above. Then, this links are linked to the binaries inside the java bin directory (<strong>without changing the <code>$PATH</code> environment variable!</strong>)</p>\n<hr />\n<p>Or you might be wanted to change the Java version using <code>archlinux-java</code> command instead with more safely approach: <a href=\"https://wiki.archlinux.org/index.php/Java\" rel=\"nofollow noreferrer\">https://wiki.archlinux.org/index.php/Java</a></p>\n"},{"tags":[],"owner":{"account_id":1204548,"reputation":5005,"user_id":1174521,"accept_rate":60,"display_name":"jbg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598855335,"creation_date":1598855335,"answer_id":63665844,"question_id":46402772,"body_markdown":"As of the latest version of the Android command-line tools (2.1 as of this writing), it is no longer necessary to patch sdkmanager nor to downgrade to an ancient version of Java.\r\n\r\nSimply update your SDK packages and switch your command-line tools to the `latest` release, which will track new versions as they come:\r\n\r\n```\r\nsdkmanager --update\r\nsdkmanager &#39;cmdline-tools;latest&#39;\r\nsdkmanager --uninstall &#39;cmdline-tools;1.0&#39;\r\n```\r\n\r\nYou may need to provide the full path to `sdkmanager` if it&#39;s not on your `PATH`, and you may need to adjust your `PATH` afterwards if it was referring to the `1.0` tools explicitly.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>As of the latest version of the Android command-line tools (2.1 as of this writing), it is no longer necessary to patch sdkmanager nor to downgrade to an ancient version of Java.</p>\n<p>Simply update your SDK packages and switch your command-line tools to the <code>latest</code> release, which will track new versions as they come:</p>\n<pre><code>sdkmanager --update\nsdkmanager 'cmdline-tools;latest'\nsdkmanager --uninstall 'cmdline-tools;1.0'\n</code></pre>\n<p>You may need to provide the full path to <code>sdkmanager</code> if it's not on your <code>PATH</code>, and you may need to adjust your <code>PATH</code> afterwards if it was referring to the <code>1.0</code> tools explicitly.</p>\n"},{"tags":[],"owner":{"account_id":9012314,"reputation":4743,"user_id":6716408,"accept_rate":58,"display_name":"locropulenton"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1600800925,"creation_date":1600800925,"answer_id":64016074,"question_id":46402772,"body_markdown":"TLDR; Try setting JAVA_HOME worked fine for me on OSX\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\r\n\r\nTo install the JDKs 8 ( LTS ) from AdoptOpenJDK:\r\n\r\n    # brew tap adoptopenjdk/openjdk\r\n\r\n    brew cask install adoptopenjdk/openjdk/adoptopenjdk8\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>TLDR; Try setting JAVA_HOME worked fine for me on OSX</p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\n</code></pre>\n<p>To install the JDKs 8 ( LTS ) from AdoptOpenJDK:</p>\n<pre><code># brew tap adoptopenjdk/openjdk\n\nbrew cask install adoptopenjdk/openjdk/adoptopenjdk8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10415396,"reputation":6504,"user_id":12585616,"display_name":"EdYuTo"},"down_vote_count":1,"up_vote_count":579,"is_accepted":false,"score":578,"last_activity_date":1692791541,"creation_date":1602853726,"answer_id":64389804,"question_id":46402772,"body_markdown":"Just had this error, solved by downloading the `Android SDK Command-line Tools (latest)` on Android Studio, under `Preferences &gt; Appearance &amp; Behavior &gt; System Settings &gt; Android SDK &gt; SDK Tools` and re-running `flutter doctor --android-licenses`\r\n\r\n&gt; **NOTE:** For Android Studio *Android Studio Giraffe | 2022.3.1 Patch 1*, find these setting under `File` &gt; `Settings` and, in the left panel, `Languages &amp; Frameworks` &gt; `Android SDK` and finally select the `SDK Tools`.\r\n\r\n[![Android SDK path on Android Studio][1]][1]\r\n\r\n[![Command-line Tools][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iUmgp.png\r\n  [2]: https://i.stack.imgur.com/vNxxw.png\r\n\r\nFinally, add the new tools to your PATH, in your `.bashrc`, `.zshrc` or similar, before the obsolete tools:\r\n\r\n    export PATH=$PATH:$ANDROID_HOME/cmdline-tools/latest/bin","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>Just had this error, solved by downloading the <code>Android SDK Command-line Tools (latest)</code> on Android Studio, under <code>Preferences &gt; Appearance &amp; Behavior &gt; System Settings &gt; Android SDK &gt; SDK Tools</code> and re-running <code>flutter doctor --android-licenses</code></p>\n<blockquote>\n<p><strong>NOTE:</strong> For Android Studio <em>Android Studio Giraffe | 2022.3.1 Patch 1</em>, find these setting under <code>File</code> &gt; <code>Settings</code> and, in the left panel, <code>Languages &amp; Frameworks</code> &gt; <code>Android SDK</code> and finally select the <code>SDK Tools</code>.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/iUmgp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iUmgp.png\" alt=\"Android SDK path on Android Studio\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/vNxxw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vNxxw.png\" alt=\"Command-line Tools\" /></a></p>\n<p>Finally, add the new tools to your PATH, in your <code>.bashrc</code>, <code>.zshrc</code> or similar, before the obsolete tools:</p>\n<pre><code>export PATH=$PATH:$ANDROID_HOME/cmdline-tools/latest/bin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7581849,"reputation":106,"user_id":5752311,"display_name":"inf3cti0n95"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603532499,"creation_date":1603532499,"answer_id":64511998,"question_id":46402772,"body_markdown":"No need to uninstall your other java version(s) that&#39;s already installed on your machine. Whenever required, you can conveniently use the utility &#39;update-alternatives&#39; to choose the Java runtime that you wish to activate. It will automagically update the required symbolic links.\r\n\r\nYou just need to run the below command and select the version of your choice. That&#39;s all!\r\n\r\n    sudo update-alternatives --config java","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>No need to uninstall your other java version(s) that's already installed on your machine. Whenever required, you can conveniently use the utility 'update-alternatives' to choose the Java runtime that you wish to activate. It will automagically update the required symbolic links.</p>\n<p>You just need to run the below command and select the version of your choice. That's all!</p>\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":309455,"reputation":2562,"user_id":973919,"accept_rate":75,"display_name":"xarlymg89"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603734041,"creation_date":1603734041,"answer_id":64542250,"question_id":46402772,"body_markdown":"As @steven pointed out, install Java 8 (here a link for Ubuntu 16.04, 18.04 and 20.04/20.10 https://computingforgeeks.com/how-to-install-java-8-on-ubuntu/) and then set it as the default Java version with this command:\r\n\r\n    sudo update-alternatives --config java","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>As @steven pointed out, install Java 8 (here a link for Ubuntu 16.04, 18.04 and 20.04/20.10 <a href=\"https://computingforgeeks.com/how-to-install-java-8-on-ubuntu/\" rel=\"nofollow noreferrer\">https://computingforgeeks.com/how-to-install-java-8-on-ubuntu/</a>) and then set it as the default Java version with this command:</p>\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14969043,"reputation":37,"user_id":10806465,"display_name":"farhan meo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604089296,"creation_date":1604087423,"answer_id":64614878,"question_id":46402772,"body_markdown":"I was having the same issue and had installed `openjdk-8-jdk` as suggested. Checking `javac -version` resulted in the correct version, but `java -version` showed version 11. \r\n\r\nThe solution was to use:\r\n\r\n    sudo update-alternatives --config java\r\n\r\nand select version 8 from the menu.\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>I was having the same issue and had installed <code>openjdk-8-jdk</code> as suggested. Checking <code>javac -version</code> resulted in the correct version, but <code>java -version</code> showed version 11.</p>\n<p>The solution was to use:</p>\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n<p>and select version 8 from the menu.</p>\n"},{"tags":[],"owner":{"account_id":7758115,"reputation":1662,"user_id":5871709,"display_name":"funder7"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607105086,"creation_date":1607105086,"answer_id":65148565,"question_id":46402772,"body_markdown":"This question has numerous answers, and they&#39;re all different due to users installing different toolchains and using different Java versions. \r\n\r\nThe recommended way of using Android development toolchain, or at least the one that I suggest to use, is to follow what&#39;s stated in Android Studio documentation: \r\n\r\n&gt; You should always keep your Build Tools component updated by downloading the latest version using the Android SDK Manager. \r\n\r\nAndroid studio allows you to easily manage installed SDKs &amp; build tools, yes, it requires some space on your hard drive, but it will save you some time. Once you get familiar with how it works, then you can think of installing command-line tools only. \r\n\r\nIf there&#39;s no particular reason of using older Java version, use the latest (stable) version, you will have interesting new features, and also the compiled application will benefit from all the new optimizations. \r\n\r\n\r\n## Fresh install \r\n\r\n1) Delete your local `Android` folder, usually in the home directory\r\n2) [Download Android studio][1] \r\n3) Once installed, open `Settings`, Search `Android SDK` and open it\r\n4) In `SDK Platforms` select the target Android version for your app\r\n5) In `SDK Tools` tab, select `Android SDK Build-Tools`, `Android SDK Command-line Tools (latest)`, `Android Emulator`, `Android SDK Platform-Tools`\r\n6) Before pressing OK, check that `Android SDK Location` path is correct for you\r\n7) Press OK and let Android Studio download &amp; install everything\r\n\r\n(Optional) if you need to use the installed binaries from command line, be sure to add their folder into your PATH variable. If you use Android studio, it&#39;s should not be required though. \r\n\r\nI&#39;ve got Java 14 installed on my machine, anyway you can use the jre shipped with Android Studio.\r\n\r\n\r\n  [1]: https://developer.android.com/studio","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>This question has numerous answers, and they're all different due to users installing different toolchains and using different Java versions.</p>\n<p>The recommended way of using Android development toolchain, or at least the one that I suggest to use, is to follow what's stated in Android Studio documentation:</p>\n<blockquote>\n<p>You should always keep your Build Tools component updated by downloading the latest version using the Android SDK Manager.</p>\n</blockquote>\n<p>Android studio allows you to easily manage installed SDKs &amp; build tools, yes, it requires some space on your hard drive, but it will save you some time. Once you get familiar with how it works, then you can think of installing command-line tools only.</p>\n<p>If there's no particular reason of using older Java version, use the latest (stable) version, you will have interesting new features, and also the compiled application will benefit from all the new optimizations.</p>\n<h2>Fresh install</h2>\n<ol>\n<li>Delete your local <code>Android</code> folder, usually in the home directory</li>\n<li><a href=\"https://developer.android.com/studio\" rel=\"nofollow noreferrer\">Download Android studio</a></li>\n<li>Once installed, open <code>Settings</code>, Search <code>Android SDK</code> and open it</li>\n<li>In <code>SDK Platforms</code> select the target Android version for your app</li>\n<li>In <code>SDK Tools</code> tab, select <code>Android SDK Build-Tools</code>, <code>Android SDK Command-line Tools (latest)</code>, <code>Android Emulator</code>, <code>Android SDK Platform-Tools</code></li>\n<li>Before pressing OK, check that <code>Android SDK Location</code> path is correct for you</li>\n<li>Press OK and let Android Studio download &amp; install everything</li>\n</ol>\n<p>(Optional) if you need to use the installed binaries from command line, be sure to add their folder into your PATH variable. If you use Android studio, it's should not be required though.</p>\n<p>I've got Java 14 installed on my machine, anyway you can use the jre shipped with Android Studio.</p>\n"},{"tags":[],"owner":{"account_id":16742469,"reputation":3041,"user_id":12793212,"display_name":"Rohan Devaki"},"down_vote_count":1,"up_vote_count":132,"is_accepted":false,"score":131,"last_activity_date":1655101589,"creation_date":1609157488,"answer_id":65477410,"question_id":46402772,"body_markdown":"* I also had this error \r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n        at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n        at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n        at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n        at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73)\r\n        at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:499)\r\n        ... 5 more\r\n``` \r\n* then instead  of uninstalling the latest java environment, (in my case it is java 13)\r\n* and installation of `java 8`,\r\n* I have done the following steps\r\n* ```open the android studio &gt; go to configure &gt; select sdk manager &gt; go to sdk tools &gt; make a tick on android sdk command line tools &gt;apply &gt; and wait for installation```\r\n\r\n\r\n [![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\n* restart the command line tool \r\n[![enter image description here][4]][4]\r\n\r\n* enter the command ```flutter doctor```\r\n* enter the command ```flutter doctor --android-licenses```\r\n* and accept all the licenses by typing `y`.\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A6J7M.png\r\n  [2]: https://i.stack.imgur.com/py4j6.png\r\n  [3]: https://i.stack.imgur.com/oCugT.png\r\n  [4]: https://i.stack.imgur.com/4bW6N.png\r\n  [5]: https://i.stack.imgur.com/z4hjq.png","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<ul>\n<li>I also had this error</li>\n</ul>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n        at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n        at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n        at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n        at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73)\n        at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:499)\n        ... 5 more\n</code></pre>\n<ul>\n<li>then instead  of uninstalling the latest java environment, (in my case it is java 13)</li>\n<li>and installation of <code>java 8</code>,</li>\n<li>I have done the following steps</li>\n<li><code>open the android studio &gt; go to configure &gt; select sdk manager &gt; go to sdk tools &gt; make a tick on android sdk command line tools &gt;apply &gt; and wait for installation</code></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/A6J7M.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/A6J7M.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/py4j6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/py4j6.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/oCugT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oCugT.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><p>restart the command line tool\n<a href=\"https://i.stack.imgur.com/4bW6N.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4bW6N.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>enter the command <code>flutter doctor</code></p>\n</li>\n<li><p>enter the command <code>flutter doctor --android-licenses</code></p>\n</li>\n<li><p>and accept all the licenses by typing <code>y</code>.</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/z4hjq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/z4hjq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":877270,"reputation":742,"user_id":153271,"accept_rate":33,"display_name":"chendu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609864120,"creation_date":1609864120,"answer_id":65582796,"question_id":46402772,"body_markdown":"My Java version is 15.0.1 . For the OS Mac.\r\n\r\nand this is how i fixed the issue. \r\n\r\n 1. downloaded zip: jaf-1_1_1.zip from: https://download.oracle.com/otn-pub/java/jaf/1.1.1/jaf-1_1_1.zip?AuthParam=1609860571_68ca6f30491c76e81970a3849504fb6a\r\n\r\n 2. downloaded the zip: jaxb-ri-2.3.1.zip from: https://download.oracle.com/otn-pub/java/jaf/1.1.1/jaf-1_1_1.zip?AuthParam=1609860571_68ca6f30491c76e81970a3849504fb6a\r\n\r\n 3. unziped into a folder: ~/jars/ . exported classpath as follows\r\n\r\n```\r\nexport  \r\n CLASSPATH=~/jars/FastInfoset.jar:~/jars/activation.jar:~/jars/codemodel.jar:~/jars/dtd-parser.jar:~/jars/istack-commons-runtime.jar:~/jars/istack-commons-tools.jar:~/jars/jaf-1.1.1:~/jars/jaf-1_1_1.zip:~/jars/javax.activation-api.jar:~/jars/jaxb-api.jar:~/jars/jaxb-jxc.jar:~/jars/jaxb-ri:~/jars/jaxb-ri-2.3.1.zip:~/jars/jaxb-runtime.jar:~/jars/jaxb-xjc.jar:~/jars/relaxng-datatype.jar:~/jars/rngom.jar:~/jars/stax-ex.jar:~/jars/txw2.jar:~/jars/xsom.jar\r\n```\r\n\r\n 1. next edit the file: `cd ~/Library/Android/sdk/tools/bin/sdkmanager` change the CLASSPATH to the below\r\n\r\n`CLASSPATH=$CLASSPATH:$APP... `\r\n\r\nsave the file and run the command again. \r\n\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>My Java version is 15.0.1 . For the OS Mac.</p>\n<p>and this is how i fixed the issue.</p>\n<ol>\n<li><p>downloaded zip: jaf-1_1_1.zip from: <a href=\"https://download.oracle.com/otn-pub/java/jaf/1.1.1/jaf-1_1_1.zip?AuthParam=1609860571_68ca6f30491c76e81970a3849504fb6a\" rel=\"nofollow noreferrer\">https://download.oracle.com/otn-pub/java/jaf/1.1.1/jaf-1_1_1.zip?AuthParam=1609860571_68ca6f30491c76e81970a3849504fb6a</a></p>\n</li>\n<li><p>downloaded the zip: jaxb-ri-2.3.1.zip from: <a href=\"https://download.oracle.com/otn-pub/java/jaf/1.1.1/jaf-1_1_1.zip?AuthParam=1609860571_68ca6f30491c76e81970a3849504fb6a\" rel=\"nofollow noreferrer\">https://download.oracle.com/otn-pub/java/jaf/1.1.1/jaf-1_1_1.zip?AuthParam=1609860571_68ca6f30491c76e81970a3849504fb6a</a></p>\n</li>\n<li><p>unziped into a folder: ~/jars/ . exported classpath as follows</p>\n</li>\n</ol>\n<pre><code>export  \n CLASSPATH=~/jars/FastInfoset.jar:~/jars/activation.jar:~/jars/codemodel.jar:~/jars/dtd-parser.jar:~/jars/istack-commons-runtime.jar:~/jars/istack-commons-tools.jar:~/jars/jaf-1.1.1:~/jars/jaf-1_1_1.zip:~/jars/javax.activation-api.jar:~/jars/jaxb-api.jar:~/jars/jaxb-jxc.jar:~/jars/jaxb-ri:~/jars/jaxb-ri-2.3.1.zip:~/jars/jaxb-runtime.jar:~/jars/jaxb-xjc.jar:~/jars/relaxng-datatype.jar:~/jars/rngom.jar:~/jars/stax-ex.jar:~/jars/txw2.jar:~/jars/xsom.jar\n</code></pre>\n<ol>\n<li>next edit the file: <code>cd ~/Library/Android/sdk/tools/bin/sdkmanager</code> change the CLASSPATH to the below</li>\n</ol>\n<p><code>CLASSPATH=$CLASSPATH:$APP... </code></p>\n<p>save the file and run the command again.</p>\n"},{"tags":[],"owner":{"account_id":11928943,"reputation":932,"user_id":8729381,"display_name":"Canberk Sinangil"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616236846,"creation_date":1616236846,"answer_id":66720616,"question_id":46402772,"body_markdown":"In my case I didn&#39;t have the required sdk version installed on my machine. \r\n\r\nSo make sure that you have installed the sdk version which is given in the error.\r\n\r\nHere you can navigate check &amp; install via Android Studio.\r\n\r\n[![Android Stuido SDK Manager][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8MinD.jpg","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>In my case I didn't have the required sdk version installed on my machine.</p>\n<p>So make sure that you have installed the sdk version which is given in the error.</p>\n<p>Here you can navigate check &amp; install via Android Studio.</p>\n<p><a href=\"https://i.stack.imgur.com/8MinD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8MinD.jpg\" alt=\"Android Stuido SDK Manager\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1168666,"reputation":871,"user_id":1146365,"accept_rate":56,"display_name":"mr.M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616610322,"creation_date":1616610322,"answer_id":66787108,"question_id":46402772,"body_markdown":"Updated my current Android SDK and everything worked like a charm. ","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>Updated my current Android SDK and everything worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":875012,"reputation":1360,"user_id":924827,"accept_rate":50,"display_name":"Katu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636448821,"creation_date":1636448821,"answer_id":69895402,"question_id":46402772,"body_markdown":"Got this error running &quot;flutter doctor --android-licenses&quot; In Windows 10. I solved it creating these two environment variables\r\n\r\n    ANDROID_SDK_ROOT\r\n    C:\\Users\\youruser\\AppData\\Local\\Android\\Sdk\r\n    \r\n    ANDROID_SDK_HOME\r\n    C:\\Users\\youruser\\.android\r\n\r\nRefresh environment variables or reboot and then run the command again.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>Got this error running &quot;flutter doctor --android-licenses&quot; In Windows 10. I solved it creating these two environment variables</p>\n<pre><code>ANDROID_SDK_ROOT\nC:\\Users\\youruser\\AppData\\Local\\Android\\Sdk\n\nANDROID_SDK_HOME\nC:\\Users\\youruser\\.android\n</code></pre>\n<p>Refresh environment variables or reboot and then run the command again.</p>\n"},{"tags":[],"owner":{"account_id":12800050,"reputation":1146,"user_id":11909003,"display_name":"Priyansh jain"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1654448746,"creation_date":1638701348,"answer_id":70233533,"question_id":46402772,"body_markdown":"While building the flutter application an error occurred saying android sdk licenses not accepted. So, while accepting the license this error occurred.\r\n\r\nReason for this error in my case was I haven&#39;t installed sdkmanager command line tools which is required to accept the license. \r\n\r\nSo, to install command line tools easiest way is:\r\n\r\n1. Open android studio.\r\n2. Open SDK Manager (refer image below):\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LCNmv.png\r\n\r\n3. Select SDK tools inside it in bar.\r\n4. Tick the option Android SDK Command-line Tools (latest)\r\n5. Apply it.\r\n6. Run flutter doctor -android-licenses if using flutter or you can continue with the process where the error occurred.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>While building the flutter application an error occurred saying android sdk licenses not accepted. So, while accepting the license this error occurred.</p>\n<p>Reason for this error in my case was I haven't installed sdkmanager command line tools which is required to accept the license.</p>\n<p>So, to install command line tools easiest way is:</p>\n<ol>\n<li>Open android studio.</li>\n<li>Open SDK Manager (refer image below):\n<a href=\"https://i.stack.imgur.com/LCNmv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LCNmv.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<ol start=\"3\">\n<li>Select SDK tools inside it in bar.</li>\n<li>Tick the option Android SDK Command-line Tools (latest)</li>\n<li>Apply it.</li>\n<li>Run flutter doctor -android-licenses if using flutter or you can continue with the process where the error occurred.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23334750,"reputation":61,"user_id":17410605,"display_name":"Nati"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662934601,"creation_date":1662934601,"answer_id":73682971,"question_id":46402772,"body_markdown":"For **Windows** users looking for solution \r\n\r\n&lt;kbd&gt;Option 1 &lt;/kbd&gt; Install the cmdline-tools from within the **Android Studio SDK manager** \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n----------\r\n\r\n\r\n&lt;kbd&gt;Option 2 &lt;/kbd&gt; Download from this link https://developer.android.com/studio#cmdline-tools\r\n\r\nThen follow this tutorial below on how to set it up \r\nhttps://www.youtube.com/watch?v=wvi03sOBKWQ\r\n\r\n\r\n----------\r\n\r\n\r\nNext copy the path to where the cmdline-tools was installed towards the ***bin*** folder\r\n&gt; *Using **Android Studio SDK Manager***          \r\n&gt; The cmdline-tools is installed under the Android SDK Location  \r\n&gt; Example:                                                                     \r\n&gt; **C:\\Users\\\\%*username*%\\\\AppData\\Local\\Android\\Sdk**\\cmdline-tools\\latest\\bin\r\n\r\n\r\n----------\r\n\r\n\r\nThen paste the path in to the Environment Variable Path\r\n\r\n&gt; &lt;kbd&gt;Control Panel&lt;/kbd&gt;&gt; Set the ***View By*** to &lt;kbd&gt;Large Icons&lt;/kbd&gt;&gt;&lt;kbd&gt;System&lt;/kbd&gt;&gt;Under &#39;***Related Settings***&#39; on the right side choose &lt;kbd&gt;Advanced System Settings&lt;/kbd&gt;&gt;&lt;kbd&gt;Environment Variables&lt;/kbd&gt;\r\n\r\nFrom here you add the path under System variables \r\n[![enter image description here][2]][2]\r\n\r\nMake sure that the cmdline-tools path is above the tools path (*highlighted in the picture in red box*) if they exist. \r\n\r\n&gt; Select the Path&gt;&lt;kbd&gt;Edit&lt;/kbd&gt;&gt;Select the cmdline-tools path (*highlighted in blue*) &gt;&lt;kbd&gt;Move Up&lt;/kbd&gt; \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/owIdO.jpg\r\n  [2]: https://i.stack.imgur.com/AsF4L.jpg","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>For <strong>Windows</strong> users looking for solution</p>\n<p><kbd>Option 1 </kbd> Install the cmdline-tools from within the <strong>Android Studio SDK manager</strong></p>\n<p><a href=\"https://i.stack.imgur.com/owIdO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/owIdO.jpg\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><kbd>Option 2 </kbd> Download from this link <a href=\"https://developer.android.com/studio#cmdline-tools\" rel=\"nofollow noreferrer\">https://developer.android.com/studio#cmdline-tools</a></p>\n<p>Then follow this tutorial below on how to set it up\n<a href=\"https://www.youtube.com/watch?v=wvi03sOBKWQ\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=wvi03sOBKWQ</a></p>\n<hr />\n<p>Next copy the path to where the cmdline-tools was installed towards the <em><strong>bin</strong></em> folder</p>\n<blockquote>\n<p><em>Using <strong>Android Studio SDK Manager</strong></em><br />\nThe cmdline-tools is installed under the Android SDK Location<br />\nExample:<br />\n<strong>C:\\Users\\%<em>username</em>%\\AppData\\Local\\Android\\Sdk</strong>\\cmdline-tools\\latest\\bin</p>\n</blockquote>\n<hr />\n<p>Then paste the path in to the Environment Variable Path</p>\n<blockquote>\n<p><kbd>Control Panel</kbd>&gt; Set the <em><strong>View By</strong></em> to <kbd>Large Icons</kbd>&gt;<kbd>System</kbd>&gt;Under '<em><strong>Related Settings</strong></em>' on the right side choose <kbd>Advanced System Settings</kbd>&gt;<kbd>Environment Variables</kbd></p>\n</blockquote>\n<p>From here you add the path under System variables\n<a href=\"https://i.stack.imgur.com/AsF4L.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AsF4L.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Make sure that the cmdline-tools path is above the tools path (<em>highlighted in the picture in red box</em>) if they exist.</p>\n<blockquote>\n<p>Select the Path&gt;<kbd>Edit</kbd>&gt;Select the cmdline-tools path (<em>highlighted in blue</em>) &gt;<kbd>Move Up</kbd></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8500585,"reputation":1414,"user_id":6373689,"accept_rate":25,"display_name":"Thomas Fischer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664314172,"creation_date":1664314172,"answer_id":73874001,"question_id":46402772,"body_markdown":"This question has multiple answers depending on the underlying issue. There are also multiple answers that indirectly fix the actual problem.\r\n\r\nThe core issues are:\r\n1. Android SDK tools have issues with the latest _Oracle_ JDK. You can use the latest _Open_ JDK. (The latest OpenJDK comes with Android Studio.)\r\n\r\n2. You don&#39;t have the latest Android SDK command line tools installed.\r\n\r\n3. You have the latest Android SDK command line tools installed, but you are using E:\\Android\\Sdk\\tools\\bin instead of E:\\Android\\Sdk\\cmdline-tools\\latest\\bin.\r\n\r\n\r\nHere are systematic steps to identify and fix any of the above issues that you may have.\r\n 1. Point environment variables to your OpenJDK installation in Android Studio. Depending on your installation that is found here: E:\\Program Files\\Android\\Android Studio\\jre. You have to go through all the necessary variables like PATH, JAVA_HOME, JAVA_BIN etc and make sure that they all point to your OpenJDK.\r\n\r\nNote: You don&#39;t have to uninstall/reinstall JDKs. That simply probably fixes your variables above as a side effect.\r\n\r\n2. Check that your environment variables are correct (Windows: echo %JAVA_HOME%, echo %PATH%, where javac, etc.)\r\n\r\n3. Go to Android Studio. In Settings, navigate to &quot;Appearances &amp; Behavior &gt; System Settings &gt; Android SDK.&quot; Install &quot;Android SDK Command Line Tools.&quot;\r\n\r\n4. In the shell, go to E:\\Android\\Sdk\\cmdline-tools\\latest\\bin and run sdkmanager --install &quot;cmdline-tools;latest&quot;\r\n\r\nAdditional troubleshooting tips:\r\nI had Android environment variables messed up as well. Run &#39;flutter doctor -v&#39; and the output will help you troubleshoot additional environment configuration issues.","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>This question has multiple answers depending on the underlying issue. There are also multiple answers that indirectly fix the actual problem.</p>\n<p>The core issues are:</p>\n<ol>\n<li><p>Android SDK tools have issues with the latest <em>Oracle</em> JDK. You can use the latest <em>Open</em> JDK. (The latest OpenJDK comes with Android Studio.)</p>\n</li>\n<li><p>You don't have the latest Android SDK command line tools installed.</p>\n</li>\n<li><p>You have the latest Android SDK command line tools installed, but you are using E:\\Android\\Sdk\\tools\\bin instead of E:\\Android\\Sdk\\cmdline-tools\\latest\\bin.</p>\n</li>\n</ol>\n<p>Here are systematic steps to identify and fix any of the above issues that you may have.</p>\n<ol>\n<li>Point environment variables to your OpenJDK installation in Android Studio. Depending on your installation that is found here: E:\\Program Files\\Android\\Android Studio\\jre. You have to go through all the necessary variables like PATH, JAVA_HOME, JAVA_BIN etc and make sure that they all point to your OpenJDK.</li>\n</ol>\n<p>Note: You don't have to uninstall/reinstall JDKs. That simply probably fixes your variables above as a side effect.</p>\n<ol start=\"2\">\n<li><p>Check that your environment variables are correct (Windows: echo %JAVA_HOME%, echo %PATH%, where javac, etc.)</p>\n</li>\n<li><p>Go to Android Studio. In Settings, navigate to &quot;Appearances &amp; Behavior &gt; System Settings &gt; Android SDK.&quot; Install &quot;Android SDK Command Line Tools.&quot;</p>\n</li>\n<li><p>In the shell, go to E:\\Android\\Sdk\\cmdline-tools\\latest\\bin and run sdkmanager --install &quot;cmdline-tools;latest&quot;</p>\n</li>\n</ol>\n<p>Additional troubleshooting tips:\nI had Android environment variables messed up as well. Run 'flutter doctor -v' and the output will help you troubleshoot additional environment configuration issues.</p>\n"},{"tags":[],"owner":{"account_id":3096314,"reputation":370,"user_id":2621411,"display_name":"inspiredMichael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689362775,"creation_date":1689362775,"answer_id":76690640,"question_id":46402772,"body_markdown":"I know this is an old question, however, another way to fix this error is by connecting an Android phone to your laptop (i.e. run the app on a physical device). Ensure the USB debug mode is enabled.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UziOP.png","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>I know this is an old question, however, another way to fix this error is by connecting an Android phone to your laptop (i.e. run the app on a physical device). Ensure the USB debug mode is enabled.\n<a href=\"https://i.stack.imgur.com/UziOP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UziOP.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":557270,"reputation":13861,"user_id":919348,"accept_rate":63,"display_name":"Novellizator"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515445,"favorite_count":0,"down_vote_count":4,"up_vote_count":534,"accepted_answer_id":46405092,"answer_count":40,"score":530,"last_activity_date":1692791541,"creation_date":1506334566,"question_id":46402772,"body_markdown":"When installing the android sdk tools the following error is emitted:\r\n&gt;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n\r\nWhy is this happening and how can it be fixed?\r\n\r\nDebug output:\r\n\r\n    $ java --version\r\n    java 9\r\n    Java(TM) SE Runtime Environment (build 9+181)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 9+181, mixed mode)\r\n    $ brew cask install android-sdk\r\n    ==&gt; Caveats\r\n    We will install android-sdk-tools, platform-tools, and build-tools for you.\r\n    You can control android sdk packages via the sdkmanager command.\r\n    You may want to add to your profile:\r\n      &#39;export ANDROID_SDK_ROOT=/usr/local/share/android-sdk&#39;\r\n    \r\n    This operation may take up to 10 minutes depending on your internet connection.\r\n    Please, be patient.\r\n    \r\n    ==&gt; Satisfying dependencies\r\n    ==&gt; Downloading https://dl.google.com/android/repository/sdk-tools-darwin-3859397.zip\r\n    Already downloaded: /Users/tomasnovella/Library/Caches/Homebrew/Cask/android-sdk--3859397,26.0.1.zip\r\n    ==&gt; Verifying checksum for Cask android-sdk\r\n    ==&gt; Installing Cask android-sdk\r\n    ==&gt; Exception in thread &quot;main&quot;\r\n    ==&gt; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n    ==&gt; \tat com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n    ==&gt; \tat com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n    ==&gt; \tat com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n    ==&gt; \tat com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:117)\r\n    ==&gt; \tat com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:93)\r\n    ==&gt; Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n    ==&gt; \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n    ==&gt; \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\r\n    ==&gt; \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\r\n    ==&gt; \t... 5 more\r\n    Error: Command failed to execute!\r\n    \r\n    ==&gt; Failed command:\r\n    /usr/local/Caskroom/android-sdk/3859397,26.0.1/tools/bin/sdkmanager tools platform-tools build-tools;26.0.1\r\n    \r\n    ==&gt; Standard Output of failed command:\r\n    \r\n    \r\n    ==&gt; Standard Error of failed command:\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n    \tat com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n    \tat com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n    \tat com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n    \tat com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:117)\r\n","title":"Failed to install android-sdk: &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;","body":"<p>When installing the android sdk tools the following error is emitted:</p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema</p>\n</blockquote>\n\n<p>Why is this happening and how can it be fixed?</p>\n\n<p>Debug output:</p>\n\n<pre><code>$ java --version\njava 9\nJava(TM) SE Runtime Environment (build 9+181)\nJava HotSpot(TM) 64-Bit Server VM (build 9+181, mixed mode)\n$ brew cask install android-sdk\n==&gt; Caveats\nWe will install android-sdk-tools, platform-tools, and build-tools for you.\nYou can control android sdk packages via the sdkmanager command.\nYou may want to add to your profile:\n  'export ANDROID_SDK_ROOT=/usr/local/share/android-sdk'\n\nThis operation may take up to 10 minutes depending on your internet connection.\nPlease, be patient.\n\n==&gt; Satisfying dependencies\n==&gt; Downloading https://dl.google.com/android/repository/sdk-tools-darwin-3859397.zip\nAlready downloaded: /Users/tomasnovella/Library/Caches/Homebrew/Cask/android-sdk--3859397,26.0.1.zip\n==&gt; Verifying checksum for Cask android-sdk\n==&gt; Installing Cask android-sdk\n==&gt; Exception in thread \"main\"\n==&gt; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n==&gt;     at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n==&gt;     at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n==&gt;     at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n==&gt;     at com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:117)\n==&gt;     at com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:93)\n==&gt; Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n==&gt;     at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n==&gt;     at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\n==&gt;     at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\n==&gt;     ... 5 more\nError: Command failed to execute!\n\n==&gt; Failed command:\n/usr/local/Caskroom/android-sdk/3859397,26.0.1/tools/bin/sdkmanager tools platform-tools build-tools;26.0.1\n\n==&gt; Standard Output of failed command:\n\n\n==&gt; Standard Error of failed command:\nException in thread \"main\" java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n    at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n    at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n    at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n    at com.android.sdklib.tool.SdkManagerCli.main(SdkManagerCli.java:117)\n</code></pre>\n"},{"tags":["java","groovy","logback","logback-classic"],"answers":[{"tags":[],"owner":{"account_id":16015279,"reputation":31,"user_id":15130712,"display_name":"Matthew Donaghey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692791117,"creation_date":1668515437,"answer_id":74445658,"question_id":74445304,"body_markdown":"Check point 4 here:\r\n\r\nhttps://logback.qos.ch/news.html#1.2.9\r\n\r\nIt was in response to [CVE-2021-42550](https://cve.report/CVE-2021-42550). See also [LOGBACK-1591](https://jira.qos.ch/browse/LOGBACK-1591).\r\n\r\n&gt; Removed Groovy configuration support. As logging is so pervasive and configuration with Groovy is probably too powerful, this feature is unlikely to be reinstated for security reasons.\r\n\r\nThere is a 3rd party plugin which re-adds Groovy support, available here: https://github.com/virtualdogbert/logback-groovy-config","title":"Is there a reason, why logback.groovy is discarded in 1.2.9+?","body":"<p>Check point 4 here:</p>\n<p><a href=\"https://logback.qos.ch/news.html#1.2.9\" rel=\"nofollow noreferrer\">https://logback.qos.ch/news.html#1.2.9</a></p>\n<p>It was in response to <a href=\"https://cve.report/CVE-2021-42550\" rel=\"nofollow noreferrer\">CVE-2021-42550</a>. See also <a href=\"https://jira.qos.ch/browse/LOGBACK-1591\" rel=\"nofollow noreferrer\">LOGBACK-1591</a>.</p>\n<blockquote>\n<p>Removed Groovy configuration support. As logging is so pervasive and configuration with Groovy is probably too powerful, this feature is unlikely to be reinstated for security reasons.</p>\n</blockquote>\n<p>There is a 3rd party plugin which re-adds Groovy support, available here: <a href=\"https://github.com/virtualdogbert/logback-groovy-config\" rel=\"nofollow noreferrer\">https://github.com/virtualdogbert/logback-groovy-config</a></p>\n"}],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692791117,"creation_date":1668513821,"question_id":74445304,"body_markdown":"I am using Logback and Slf4j for logging and the configuration is present in form of `logback.groovy` under `src/main/resources` which always worked like a charm.\r\n\r\nI was about to upgrade my logging configuration to the latest versions available and stumbled upon the unpleasant problem.\r\n\r\nThe dependency `ch.qos.logback:logback-classic:1.2.9` shows a warning:\r\n\r\n```\r\nFailed to instantiate [ch.qos.logback.classic.LoggerContext]\r\nReported exception:\r\nch.qos.logback.core.LogbackException: Unexpected filename extension of file [file:/[myproj]/build/resources/main/logback.groovy]. Should be either .groovy or .xml\r\n\tat ch.qos.logback.classic.util.ContextInitializer.configureByResource(ContextInitializer.java:67)\r\n\tat ch.qos.logback.classic.util.ContextInitializer.autoConfig(ContextInitializer.java:140)\r\n\tat org.slf4j.impl.StaticLoggerBinder.init(StaticLoggerBinder.java:84)\r\n    ...\r\n```\r\n\r\nand I checked the code of `ch.qos.logback.classic.util.ContextInitializer.configureByResource()` of the last working version `1.2.8` and `1.2.9`:\r\n\r\n```\r\n// 1.2.8\r\n    public void configureByResource(URL url) throws JoranException {\r\n        if (url == null) {\r\n            throw new IllegalArgumentException(&quot;URL argument cannot be null&quot;);\r\n        }\r\n        final String urlString = url.toString();\r\n        if (urlString.endsWith(&quot;groovy&quot;)) {\r\n            if (EnvUtil.isGroovyAvailable()) {\r\n                // avoid directly referring to GafferConfigurator so as to avoid\r\n                // loading groovy.lang.GroovyObject . See also http://jira.qos.ch/browse/LBCLASSIC-214\r\n                GafferUtil.runGafferConfiguratorOn(loggerContext, this, url);\r\n            } else {\r\n                StatusManager sm = loggerContext.getStatusManager();\r\n                sm.add(new ErrorStatus(&quot;Groovy classes are not available on the class path. ABORTING INITIALIZATION.&quot;, loggerContext));\r\n            }\r\n        } else if (urlString.endsWith(&quot;xml&quot;)) {\r\n            JoranConfigurator configurator = new JoranConfigurator();\r\n            configurator.setContext(loggerContext);\r\n            configurator.doConfigure(url);\r\n        } else {\r\n            throw new LogbackException(&quot;Unexpected filename extension of file [&quot; + url.toString() + &quot;]. Should be either .groovy or .xml&quot;);\r\n        }\r\n    }\r\n\r\n// 1.2.9\r\n    public void configureByResource(URL url) throws JoranException {\r\n        if (url == null) {\r\n            throw new IllegalArgumentException(&quot;URL argument cannot be null&quot;);\r\n        }\r\n        final String urlString = url.toString();\r\n        if (urlString.endsWith(&quot;xml&quot;)) {\r\n            JoranConfigurator configurator = new JoranConfigurator();\r\n            configurator.setContext(loggerContext);\r\n            configurator.doConfigure(url);\r\n        } else {\r\n            throw new LogbackException(&quot;Unexpected filename extension of file [&quot; + url.toString() + &quot;]. Should be either .groovy or .xml&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nSo, the warning might be misguiding, but the code change is obvious: the groovy support was removed although no &quot;deprecation&quot;-warning is provided in the [ref-doc][1].\r\n\r\nWhy groovy support has been removed?\r\n\r\nWhy no &quot;logback-groovy&quot; package was introduced to provide support?\r\n\r\nP.S. on [Project&#39;s GitHub][2] there&#39;s no &quot;Issues&quot; section, which is odd...\r\n\r\n\r\n  [1]: http://logback.qos.ch/manual/groovy.html\r\n  [2]: https://github.com/qos-ch/logback","title":"Is there a reason, why logback.groovy is discarded in 1.2.9+?","body":"<p>I am using Logback and Slf4j for logging and the configuration is present in form of <code>logback.groovy</code> under <code>src/main/resources</code> which always worked like a charm.</p>\n<p>I was about to upgrade my logging configuration to the latest versions available and stumbled upon the unpleasant problem.</p>\n<p>The dependency <code>ch.qos.logback:logback-classic:1.2.9</code> shows a warning:</p>\n<pre><code>Failed to instantiate [ch.qos.logback.classic.LoggerContext]\nReported exception:\nch.qos.logback.core.LogbackException: Unexpected filename extension of file [file:/[myproj]/build/resources/main/logback.groovy]. Should be either .groovy or .xml\n    at ch.qos.logback.classic.util.ContextInitializer.configureByResource(ContextInitializer.java:67)\n    at ch.qos.logback.classic.util.ContextInitializer.autoConfig(ContextInitializer.java:140)\n    at org.slf4j.impl.StaticLoggerBinder.init(StaticLoggerBinder.java:84)\n    ...\n</code></pre>\n<p>and I checked the code of <code>ch.qos.logback.classic.util.ContextInitializer.configureByResource()</code> of the last working version <code>1.2.8</code> and <code>1.2.9</code>:</p>\n<pre><code>// 1.2.8\n    public void configureByResource(URL url) throws JoranException {\n        if (url == null) {\n            throw new IllegalArgumentException(&quot;URL argument cannot be null&quot;);\n        }\n        final String urlString = url.toString();\n        if (urlString.endsWith(&quot;groovy&quot;)) {\n            if (EnvUtil.isGroovyAvailable()) {\n                // avoid directly referring to GafferConfigurator so as to avoid\n                // loading groovy.lang.GroovyObject . See also http://jira.qos.ch/browse/LBCLASSIC-214\n                GafferUtil.runGafferConfiguratorOn(loggerContext, this, url);\n            } else {\n                StatusManager sm = loggerContext.getStatusManager();\n                sm.add(new ErrorStatus(&quot;Groovy classes are not available on the class path. ABORTING INITIALIZATION.&quot;, loggerContext));\n            }\n        } else if (urlString.endsWith(&quot;xml&quot;)) {\n            JoranConfigurator configurator = new JoranConfigurator();\n            configurator.setContext(loggerContext);\n            configurator.doConfigure(url);\n        } else {\n            throw new LogbackException(&quot;Unexpected filename extension of file [&quot; + url.toString() + &quot;]. Should be either .groovy or .xml&quot;);\n        }\n    }\n\n// 1.2.9\n    public void configureByResource(URL url) throws JoranException {\n        if (url == null) {\n            throw new IllegalArgumentException(&quot;URL argument cannot be null&quot;);\n        }\n        final String urlString = url.toString();\n        if (urlString.endsWith(&quot;xml&quot;)) {\n            JoranConfigurator configurator = new JoranConfigurator();\n            configurator.setContext(loggerContext);\n            configurator.doConfigure(url);\n        } else {\n            throw new LogbackException(&quot;Unexpected filename extension of file [&quot; + url.toString() + &quot;]. Should be either .groovy or .xml&quot;);\n        }\n    }\n</code></pre>\n<p>So, the warning might be misguiding, but the code change is obvious: the groovy support was removed although no &quot;deprecation&quot;-warning is provided in the <a href=\"http://logback.qos.ch/manual/groovy.html\" rel=\"nofollow noreferrer\">ref-doc</a>.</p>\n<p>Why groovy support has been removed?</p>\n<p>Why no &quot;logback-groovy&quot; package was introduced to provide support?</p>\n<p>P.S. on <a href=\"https://github.com/qos-ch/logback\" rel=\"nofollow noreferrer\">Project's GitHub</a> there's no &quot;Issues&quot; section, which is odd...</p>\n"},{"tags":["java","floating-point","decimal","addition"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692803043,"post_id":76960909,"comment_id":135674491,"body_markdown":"`Float` (uppercase F) and `float` (lowercase f) are not the same thing.  You should not use objects when you only need numbers.  (But it has nothing to do with floating point precision.)","body":"<code>Float</code> (uppercase F) and <code>float</code> (lowercase f) are not the same thing.  You should not use objects when you only need numbers.  (But it has nothing to do with floating point precision.)"}],"owner":{"account_id":29282481,"reputation":1,"user_id":22434786,"display_name":"Mahadevan Mano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692790989,"answer_count":0,"score":0,"last_activity_date":1692791026,"creation_date":1692789951,"question_id":76960909,"body_markdown":"In java while add the float number a and b getting wrong output.\r\n\r\n    Float a = 39.97757f;\r\n    Float b = 59.96636f;\r\n    \r\n    System.out.println(a+b);\r\n\r\ngetting output as 99.943924 instead of 99.94393","title":"While adding two float values am getting wrong output in java","body":"<p>In java while add the float number a and b getting wrong output.</p>\n<pre><code>Float a = 39.97757f;\nFloat b = 59.96636f;\n\nSystem.out.println(a+b);\n</code></pre>\n<p>getting output as 99.943924 instead of 99.94393</p>\n"},{"tags":["java","formatting","number-formatting","cobol"],"comments":[{"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"score":0,"creation_date":1690277693,"post_id":76759181,"comment_id":135327537,"body_markdown":"If you speak of the internal storage format, then this depends on the `USAGE` of the Cobol decimal.","body":"If you speak of the internal storage format, then this depends on the <code>USAGE</code> of the Cobol decimal."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690311200,"creation_date":1690254439,"answer_id":76759211,"question_id":76759181,"body_markdown":"Cobol just stores every digit as text. Non-60 year old languages store it in IEEE754. It&#39;s _far_ faster and far more compact, but, introduces errors. Probably not an issue but you might want to read up on those. For example, in IEEE754 math, 10*0.1 != 1.0:\r\n\r\n```\r\ndouble v = 0.0;\r\nfor (int i = 0; i &lt; 10; i++) v += 0.1;\r\nSystem.out.println(1.0 == v); // false\r\n```\r\n\r\nBecause of that error.\r\n\r\nFirst, you need to format your number to 2 decimals, which rounds away errors in just about every case:\r\n\r\n```\r\npublic static String toCobol(double v) {\r\n  return String.format(Locale.ENGLISH, &quot;%.2f&quot;, v).replace(&quot;.&quot;, &quot;&quot;);\r\n}\r\n\r\npublic static void main(String[] args) {\r\n  System.out.println(toCobol(1234.56));\r\n  System.out.println(toCobol(0));\r\n  System.out.println(toCobol(1.234567));\r\n  System.out.println(toCobol(-100.5));\r\n}\r\n```\r\n\r\nprints:\r\n\r\n```\r\n123456\r\n000\r\n123\r\n-10050\r\n```\r\n\r\nI assume that&#39;s what you are looking for?\r\n","title":"Convert a decimal number in Java into its assumed decimal Cobol representation","body":"<p>Cobol just stores every digit as text. Non-60 year old languages store it in IEEE754. It's <em>far</em> faster and far more compact, but, introduces errors. Probably not an issue but you might want to read up on those. For example, in IEEE754 math, 10*0.1 != 1.0:</p>\n<pre><code>double v = 0.0;\nfor (int i = 0; i &lt; 10; i++) v += 0.1;\nSystem.out.println(1.0 == v); // false\n</code></pre>\n<p>Because of that error.</p>\n<p>First, you need to format your number to 2 decimals, which rounds away errors in just about every case:</p>\n<pre><code>public static String toCobol(double v) {\n  return String.format(Locale.ENGLISH, &quot;%.2f&quot;, v).replace(&quot;.&quot;, &quot;&quot;);\n}\n\npublic static void main(String[] args) {\n  System.out.println(toCobol(1234.56));\n  System.out.println(toCobol(0));\n  System.out.println(toCobol(1.234567));\n  System.out.println(toCobol(-100.5));\n}\n</code></pre>\n<p>prints:</p>\n<pre><code>123456\n000\n123\n-10050\n</code></pre>\n<p>I assume that's what you are looking for?</p>\n"},{"tags":[],"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692790729,"creation_date":1690311644,"answer_id":76765773,"question_id":76759181,"body_markdown":"I&#39;ve experimented a little bit more with the existing Java facilities, and stumbled upon the `movePointRight(int n)` on `BigDecimal` type which seems to be doing what @rzwitserloot suggests but more declaratively.  \r\n\r\nPut together the below randomized test and ran it enough times (it seems)  to eliminate any edge cases, as the result comes out green:\r\n\r\n \r\n\r\n\tfor (int i = 0; i &lt; 100000; i++) {\r\n\t\tFaker faker = new Faker();\r\n\t\tString number = faker.expression(&quot;#{numerify &#39;######.##&#39;}&quot;);\r\n\t\tSystem.out.println(&quot;string: &quot; + number);\r\n\t\tBigDecimal bdNumber = new BigDecimal(number);\r\n\r\n\t\tbdNumber.movePointRight(2);\r\n\t\tBigDecimal bdNumberMovedRight = bdNumber.movePointRight(2);\r\n\t\tSystem.out.println(&quot;bdNumberMovedRight: &quot; + bdNumberMovedRight);\r\n\t\t\r\n\t\tBigDecimal bdNumberMovedLeft = bdNumberMovedRight.movePointLeft(2);\r\n\t\tSystem.out.println(&quot;bdNumberMovedLeft: &quot; + bdNumberMovedLeft);\r\n\t\t\r\n\t\tAssertions.assertThat(bdNumberMovedLeft).isEqualTo(bdNumber);\r\n\t}\r\n\r\nhere&#39;s a couple of random results that seem satisfying:\r\n\r\n    string: 062533.74\r\n    bdNumberMovedRight: 6253374\r\n    bdNumberMovedLeft: 62533.74\r\n    string: 882297.73\r\n    bdNumberMovedRight: 88229773\r\n    bdNumberMovedLeft: 882297.73\r\n    string: 638429.50\r\n    bdNumberMovedRight: 63842950\r\n    bdNumberMovedLeft: 638429.50\r\n    string: 500882.06\r\n    bdNumberMovedRight: 50088206\r\n    bdNumberMovedLeft: 500882.06\r\n    string: 922547.94\r\n    bdNumberMovedRight: 92254794\r\n    bdNumberMovedLeft: 922547.94","title":"Convert a decimal number in Java into its assumed decimal Cobol representation","body":"<p>I've experimented a little bit more with the existing Java facilities, and stumbled upon the <code>movePointRight(int n)</code> on <code>BigDecimal</code> type which seems to be doing what @rzwitserloot suggests but more declaratively.</p>\n<p>Put together the below randomized test and ran it enough times (it seems)  to eliminate any edge cases, as the result comes out green:</p>\n<pre><code>for (int i = 0; i &lt; 100000; i++) {\n    Faker faker = new Faker();\n    String number = faker.expression(&quot;#{numerify '######.##'}&quot;);\n    System.out.println(&quot;string: &quot; + number);\n    BigDecimal bdNumber = new BigDecimal(number);\n\n    bdNumber.movePointRight(2);\n    BigDecimal bdNumberMovedRight = bdNumber.movePointRight(2);\n    System.out.println(&quot;bdNumberMovedRight: &quot; + bdNumberMovedRight);\n    \n    BigDecimal bdNumberMovedLeft = bdNumberMovedRight.movePointLeft(2);\n    System.out.println(&quot;bdNumberMovedLeft: &quot; + bdNumberMovedLeft);\n    \n    Assertions.assertThat(bdNumberMovedLeft).isEqualTo(bdNumber);\n}\n</code></pre>\n<p>here's a couple of random results that seem satisfying:</p>\n<pre><code>string: 062533.74\nbdNumberMovedRight: 6253374\nbdNumberMovedLeft: 62533.74\nstring: 882297.73\nbdNumberMovedRight: 88229773\nbdNumberMovedLeft: 882297.73\nstring: 638429.50\nbdNumberMovedRight: 63842950\nbdNumberMovedLeft: 638429.50\nstring: 500882.06\nbdNumberMovedRight: 50088206\nbdNumberMovedLeft: 500882.06\nstring: 922547.94\nbdNumberMovedRight: 92254794\nbdNumberMovedLeft: 922547.94\n</code></pre>\n"}],"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76765773,"answer_count":2,"score":0,"last_activity_date":1692790729,"creation_date":1690253771,"question_id":76759181,"body_markdown":"I have a requirement to convert a regular number (most likely with 2 decimal digits) into its respective Cobol counterpart with so called assumed decimal point in the following format: `9(9)v99`. \r\n\r\nI already have a way to right align and pad it with zeroes, which is part of the requirement, just need to come up with a generic way to convert something like `1234.56` into its Cobol equivalent: `123456`.\r\n\r\nIs there any good way to do it in Java 8, or perhaps a framework that does Cobol formatting conversions like that? ","title":"Convert a decimal number in Java into its assumed decimal Cobol representation","body":"<p>I have a requirement to convert a regular number (most likely with 2 decimal digits) into its respective Cobol counterpart with so called assumed decimal point in the following format: <code>9(9)v99</code>.</p>\n<p>I already have a way to right align and pad it with zeroes, which is part of the requirement, just need to come up with a generic way to convert something like <code>1234.56</code> into its Cobol equivalent: <code>123456</code>.</p>\n<p>Is there any good way to do it in Java 8, or perhaps a framework that does Cobol formatting conversions like that?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1692723634,"post_id":76955392,"comment_id":135662303,"body_markdown":"&quot;op.addObj(a3); \\\\ should be compilation error&quot; &lt;- I&#39;m 100% sure that it already is a compoilation error because nowhere in your code is there any variable defined with the name of `a3` so you&#39;ll get a very old school &quot;Symbol not found&quot; or &quot;cannot be resolved to a variable&quot; compilation error.","body":"&quot;op.addObj(a3); \\\\ should be compilation error&quot; &lt;- I&#39;m 100% sure that it already is a compoilation error because nowhere in your code is there any variable defined with the name of <code>a3</code> so you&#39;ll get a very old school &quot;Symbol not found&quot; or &quot;cannot be resolved to a variable&quot; compilation error."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1692724726,"post_id":76955392,"comment_id":135662529,"body_markdown":"a) `List` and `ArrayList` are raw types, stop using them. b) what is `T&lt;? extends T&gt;`? Don&#39;t you just mean `T`, which already only accepts the type and subtypes but no other types c) your list can be a `List&lt;T&gt;` too, probably; you don&#39;t gain anything by defining it with a wildcard","body":"a) <code>List</code> and <code>ArrayList</code> are raw types, stop using them. b) what is <code>T&lt;? extends T&gt;</code>? Don&#39;t you just mean <code>T</code>, which already only accepts the type and subtypes but no other types c) your list can be a <code>List&lt;T&gt;</code> too, probably; you don&#39;t gain anything by defining it with a wildcard"}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692790651,"creation_date":1692726569,"answer_id":76955745,"question_id":76955392,"body_markdown":"You can do this way:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nclass Op&lt;T&gt; {\r\n    private List&lt;T&gt; objects = new ArrayList&lt;&gt;();\r\n\r\n    public void addObj(T o) {\r\n        objects.add(o);\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        A a1 = new A();\r\n        Aa a2 = new Aa();\r\n        B b1 = new B();\r\n        Bb b2 = new Bb();\r\n\r\n        Op&lt;A&gt; opA = new Op&lt;&gt;();\r\n        opA.addObj(a1); // OK\r\n        opA.addObj(a2); // OK\r\n        // opA.addObj(b1); // Compilation error\r\n\r\n        Op&lt;B&gt; opB = new Op&lt;&gt;();\r\n        opB.addObj(b1); // OK\r\n        opB.addObj(b2); // OK\r\n        // opB.addObj(a1); // Compilation error\r\n    }\r\n}\r\n\r\nclass A {}\r\nclass Aa extends A {}\r\nclass B {}\r\nclass Bb extends B {}\r\n```\r\n\r\nIn this implementation, the `Op` class is parameterized with a type parameter `T` and the list `objects` is declared with `T` type too. This allows you to add objects **only of type `T`**.\r\n\r\nThe `addObj` method takes an argument of type `T`, which is the type parameter of the `Op` class. This method can now be used to add **only objects of type `T`** to the list.\r\n\r\n## Edit \r\n\r\n \r\n&gt; Why subtypes are accepted for T parameter? I mean why we write &lt;T&gt; instead of &lt;? extends T&gt;. If I correctly understand the last statement is a boundary that defines allow to add subclasses.\r\n\r\nWell, when you define a class with a generic type parameter, like `Op&lt;T&gt;`, you are creating a class that can operate on different types. \r\n\r\nThe type parameter `T` itself **doesn&#39;t inherently carry any constraints**. When you instantiate the class with a specific type argument, such as `Op&lt;A&gt;` or `Op&lt;B&gt;`, you are essentially telling Java to work with that particular type.\r\n\r\nIn the context of your example, consider `Op&lt;A&gt; opA`. While the class definition doesn&#39;t include any wildcards or type bounds, the compiler knows that `opA` can only contain objects of type `A` or its subclasses, due to the way the `Op` class is defined and instantiated.\r\n\r\nIf you used `Op&lt;? extends A&gt;`, it would indeed allow you to insert subclasses of `A` into the list, but **it would also restrict other operations** you might want to perform on `opA`. For example, you might not be able to add objects of type `A` itself to the list since the wildcard would be more permissive.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/index.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/generics/lowerBounded.html","title":"I have Op class that have a list which must contain only one typ of class or his subclasses(only A class,his subclass OR only class Band his subclass)","body":"<p>You can do this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass Op&lt;T&gt; {\n    private List&lt;T&gt; objects = new ArrayList&lt;&gt;();\n\n    public void addObj(T o) {\n        objects.add(o);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        A a1 = new A();\n        Aa a2 = new Aa();\n        B b1 = new B();\n        Bb b2 = new Bb();\n\n        Op&lt;A&gt; opA = new Op&lt;&gt;();\n        opA.addObj(a1); // OK\n        opA.addObj(a2); // OK\n        // opA.addObj(b1); // Compilation error\n\n        Op&lt;B&gt; opB = new Op&lt;&gt;();\n        opB.addObj(b1); // OK\n        opB.addObj(b2); // OK\n        // opB.addObj(a1); // Compilation error\n    }\n}\n\nclass A {}\nclass Aa extends A {}\nclass B {}\nclass Bb extends B {}\n</code></pre>\n<p>In this implementation, the <code>Op</code> class is parameterized with a type parameter <code>T</code> and the list <code>objects</code> is declared with <code>T</code> type too. This allows you to add objects <strong>only of type <code>T</code></strong>.</p>\n<p>The <code>addObj</code> method takes an argument of type <code>T</code>, which is the type parameter of the <code>Op</code> class. This method can now be used to add <strong>only objects of type <code>T</code></strong> to the list.</p>\n<h2>Edit</h2>\n<blockquote>\n<p>Why subtypes are accepted for T parameter? I mean why we write  instead of &lt;? extends T&gt;. If I correctly understand the last statement is a boundary that defines allow to add subclasses.</p>\n</blockquote>\n<p>Well, when you define a class with a generic type parameter, like <code>Op&lt;T&gt;</code>, you are creating a class that can operate on different types.</p>\n<p>The type parameter <code>T</code> itself <strong>doesn't inherently carry any constraints</strong>. When you instantiate the class with a specific type argument, such as <code>Op&lt;A&gt;</code> or <code>Op&lt;B&gt;</code>, you are essentially telling Java to work with that particular type.</p>\n<p>In the context of your example, consider <code>Op&lt;A&gt; opA</code>. While the class definition doesn't include any wildcards or type bounds, the compiler knows that <code>opA</code> can only contain objects of type <code>A</code> or its subclasses, due to the way the <code>Op</code> class is defined and instantiated.</p>\n<p>If you used <code>Op&lt;? extends A&gt;</code>, it would indeed allow you to insert subclasses of <code>A</code> into the list, but <strong>it would also restrict other operations</strong> you might want to perform on <code>opA</code>. For example, you might not be able to add objects of type <code>A</code> itself to the list since the wildcard would be more permissive.</p>\n"}],"owner":{"account_id":29276905,"reputation":13,"user_id":22430463,"display_name":"UsiKakULisi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76955745,"answer_count":1,"score":1,"last_activity_date":1692790651,"creation_date":1692723256,"question_id":76955392,"body_markdown":"I have following code:\r\n\r\n```\r\nclass A {}\r\nclass Aa extendes A {}\r\nclass B {}\r\nclass Bb extendes B {}\r\nclass Op {\r\n private List objects = new ArrayList();\r\n \r\n public void addObj(Object o) {\r\n  objects.add(o);\r\n }\r\n}\r\n\r\npublic class Main {\r\n public static void main(String[] srgs) {\r\n  A a1 = new A();\r\n  Aa a2 = new Aa();\r\n  B b1 = new B();\r\n  Bb b2 = new Bb();\r\n\r\n  Op op = new Op();\r\n  op.addObj(a1); \\\\ should be OK\r\n  op.addObj(a2); \\\\ should be OK\r\n  op.addObj(b1); \\\\ should be compilation error\r\n }\r\n}\r\n```\r\nI need change &quot;Op&quot; class in order to B and Bd classes can&#39;t be placed in objects(List) if A and Aa have been already placed there and vice versa. Solution with generics.\r\n\r\nI try this:\r\n\r\n```\r\nclass Op &lt;T&gt; {\r\n private List&lt;? extends T&gt; objects = new ArrayList();\r\n\r\n public void addObj(T&lt;? extends T&gt; o) { //compilation error here \r\n  objects.add(o); // and here \r\n }\r\n}\r\n```\r\nBut it doens&#39;t work. May you help me please. Thanks!\r\n","title":"I have Op class that have a list which must contain only one typ of class or his subclasses(only A class,his subclass OR only class Band his subclass)","body":"<p>I have following code:</p>\n<pre><code>class A {}\nclass Aa extendes A {}\nclass B {}\nclass Bb extendes B {}\nclass Op {\n private List objects = new ArrayList();\n \n public void addObj(Object o) {\n  objects.add(o);\n }\n}\n\npublic class Main {\n public static void main(String[] srgs) {\n  A a1 = new A();\n  Aa a2 = new Aa();\n  B b1 = new B();\n  Bb b2 = new Bb();\n\n  Op op = new Op();\n  op.addObj(a1); \\\\ should be OK\n  op.addObj(a2); \\\\ should be OK\n  op.addObj(b1); \\\\ should be compilation error\n }\n}\n</code></pre>\n<p>I need change &quot;Op&quot; class in order to B and Bd classes can't be placed in objects(List) if A and Aa have been already placed there and vice versa. Solution with generics.</p>\n<p>I try this:</p>\n<pre><code>class Op &lt;T&gt; {\n private List&lt;? extends T&gt; objects = new ArrayList();\n\n public void addObj(T&lt;? extends T&gt; o) { //compilation error here \n  objects.add(o); // and here \n }\n}\n</code></pre>\n<p>But it doens't work. May you help me please. Thanks!</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":0,"creation_date":1384725276,"post_id":20036485,"comment_id":29840197,"body_markdown":"Just a suggestion, instead of the `for loop` use the `for..each` syntax.  `for(WebElement element: elements)`","body":"Just a suggestion, instead of the <code>for loop</code> use the <code>for..each</code> syntax.  <code>for(WebElement element: elements)</code>"}],"answers":[{"tags":[],"owner":{"account_id":1031744,"reputation":27054,"user_id":1039952,"accept_rate":81,"display_name":"Petr Mensik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384725467,"creation_date":1384724358,"answer_id":20036521,"question_id":20036485,"body_markdown":"You forgot to call `WebDriver#get` in order to access some page.\r\n\r\n    WebDriver driver = FirefoxDriver();   \r\n    driver.get(&quot;www.google.com&quot;);\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;)); ","title":"Get link text - Selenium, Java","body":"<p>You forgot to call <code>WebDriver#get</code> in order to access some page.</p>\n\n<pre><code>WebDriver driver = FirefoxDriver();   \ndriver.get(\"www.google.com\");\nList&lt;WebElement&gt; elements = driver.findElements(By.tagName(\"a\")); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1384724934,"creation_date":1384724376,"answer_id":20036523,"question_id":20036485,"body_markdown":"In the code provided no website is retrieved.  Try accessing a web page and then getting the `a` elements.  Also trying changing from `List&lt;WebDriver&gt;` to `List&lt;WebElement&gt;`\r\n\r\n       WebDriver driver = FirefoxDriver();\r\n       driver.get(&quot;http://www.google.com&quot;); \r\n       List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;)); \r\n\r\nSee this example: http://www.seleniumhq.org/docs/03_webdriver.jsp#introducing-the-selenium-webdriver-api-by-example\r\n\r\nThe following example works for me:\r\n\r\n     public class SeleniumTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tWebDriver driver = new FirefoxDriver();\r\n    \r\n    \t\t// And now use this to visit Google\r\n    \t\tdriver.get(&quot;http://www.google.com&quot;);\r\n    \t\tList&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\r\n    \r\n    \t\tfor (WebElement element : elements) {\r\n    \t\t\tSystem.out.println(element.getText());\r\n    \t\t}\r\n    \t}\r\n    }","title":"Get link text - Selenium, Java","body":"<p>In the code provided no website is retrieved.  Try accessing a web page and then getting the <code>a</code> elements.  Also trying changing from <code>List&lt;WebDriver&gt;</code> to <code>List&lt;WebElement&gt;</code></p>\n\n<pre><code>   WebDriver driver = FirefoxDriver();\n   driver.get(\"http://www.google.com\"); \n   List&lt;WebElement&gt; elements = driver.findElements(By.tagName(\"a\")); \n</code></pre>\n\n<p>See this example: <a href=\"http://www.seleniumhq.org/docs/03_webdriver.jsp#introducing-the-selenium-webdriver-api-by-example\" rel=\"nofollow\">http://www.seleniumhq.org/docs/03_webdriver.jsp#introducing-the-selenium-webdriver-api-by-example</a></p>\n\n<p>The following example works for me:</p>\n\n<pre><code> public class SeleniumTest {\n\n    public static void main(String[] args) {\n        WebDriver driver = new FirefoxDriver();\n\n        // And now use this to visit Google\n        driver.get(\"http://www.google.com\");\n        List&lt;WebElement&gt; elements = driver.findElements(By.tagName(\"a\"));\n\n        for (WebElement element : elements) {\n            System.out.println(element.getText());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24063515,"reputation":3,"user_id":18040408,"display_name":"Harshaaaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692790632,"creation_date":1692790632,"answer_id":76960989,"question_id":20036485,"body_markdown":"I was facing same issue but now it resolved If you want to fetch all the links from the webpage you need to use List class and than use webelement \r\n\r\n\t     List&lt;WebElement&gt; allLinks = driver.findElements(By.tagName(&quot;a&quot;));\r\n\t\t      \t\t      int linkcount=allLinks.size();\r\n\t\t      \t\t      System.out.println(&quot;All Links :&quot; +linkcount);\r\n\t\t      \t\t \r\n\t\t      \t\t      for(int j=0 ;j&lt;linkcount;j++)\r\n\t\t      \t\t       {\r\n\t\t      \t\t    \tString ele= driver.findElements(By.tagName(&quot;a&quot;)).get(j).getText();\r\n\t\t      \t\t    \t \r\n\t\t      \t\t    \tSystem.out.println(ele);\r\n\t\t            \t\r\n\t\t \t\t                  \r\n\t\t      \t\t       }","title":"Get link text - Selenium, Java","body":"<p>I was facing same issue but now it resolved If you want to fetch all the links from the webpage you need to use List class and than use webelement</p>\n<pre><code>     List&lt;WebElement&gt; allLinks = driver.findElements(By.tagName(&quot;a&quot;));\n                      int linkcount=allLinks.size();\n                      System.out.println(&quot;All Links :&quot; +linkcount);\n                 \n                      for(int j=0 ;j&lt;linkcount;j++)\n                       {\n                        String ele= driver.findElements(By.tagName(&quot;a&quot;)).get(j).getText();\n                         \n                        System.out.println(ele);\n                    \n                              \n                       }\n</code></pre>\n"}],"owner":{"account_id":2162536,"reputation":156,"user_id":1916388,"accept_rate":62,"display_name":"usr999"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13386,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1692790632,"creation_date":1384724214,"question_id":20036485,"body_markdown":"I&#39;m trying to get all links from a web page. I tried to use\r\n\r\n    WebDriver driver = FirefoxDriver();\r\n    List&lt;WebDriver&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\r\n\r\nBut I get zero links. How can I fix this?\r\n\r\nI need to get the part from &amp;lt;a href=&quot;url&quot;&gt;. I need the URL text.\r\n\r\n&lt;hr/&gt;\r\n\r\nI think found what I was looking for:\r\n\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\r\n    for (int i = 0; i &lt; elements.size(); i++) {\r\n       System.out.println(elements.get(i).getAttribute(&quot;href&quot;));\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Get link text - Selenium, Java","body":"<p>I'm trying to get all links from a web page. I tried to use</p>\n<pre><code>WebDriver driver = FirefoxDriver();\nList&lt;WebDriver&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\n</code></pre>\n<p>But I get zero links. How can I fix this?</p>\n<p>I need to get the part from &lt;a href=&quot;url&quot;&gt;. I need the URL text.</p>\n<hr/>\n<p>I think found what I was looking for:</p>\n<pre><code>List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\nfor (int i = 0; i &lt; elements.size(); i++) {\n   System.out.println(elements.get(i).getAttribute(&quot;href&quot;));\n}\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa","spring-data","audit"],"comments":[{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1692875088,"post_id":76960933,"comment_id":135684681,"body_markdown":"take a look here, maybe this will help: https://stackoverflow.com/questions/67475112/lastmodifieddate-doesnt-work-when-only-nested-nested-object-is-updated","body":"take a look here, maybe this will help: <a href=\"https://stackoverflow.com/questions/67475112/lastmodifieddate-doesnt-work-when-only-nested-nested-object-is-updated\" title=\"lastmodifieddate doesnt work when only nested nested object is updated\">stackoverflow.com/questions/67475112/&hellip;</a>"}],"owner":{"account_id":23503316,"reputation":35,"user_id":17552915,"display_name":"CodeWizard1985"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692790223,"creation_date":1692790223,"question_id":76960933,"body_markdown":"I&#39;m using Spring AuditingEntityListener to collect audit information on my entities. \r\n\r\nI&#39;m looking for a way to collect the last change-date (and user) of a set of related entities. \r\n\r\nFor example, when having three entities like this:\r\n\r\n```\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class EntityA {\r\n\r\n    private long id;\r\n    \r\n    @LastModifiedDate\r\n    private Date lastModifiedDate;\r\n\r\n    @OneToMany(mappedBy = &quot;entityAId&quot;)\r\n    private List&lt;EntityB&gt; bS;\r\n}\r\n\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class EntityB {\r\n\r\n    private long id;\r\n\r\n    private long entityAId;\r\n    \r\n    @LastModifiedDate private Date lastModifiedDate;\r\n\r\n    @OneToMany(mappedBy = &quot;entityBId&quot;)\r\n    private List&lt;EntityC&gt; cS;\r\n}\r\n\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class EntityC {\r\n\r\n    private long id;\r\n\r\n    private long entityBId;\r\n    \r\n    @LastModifiedDate private Date lastModifiedDate;\r\n}\r\n```\r\n\r\nWhat&#39;s the best way to get the latest lastModifiedDate from all three Entities?","title":"Spring Auditing: Getting latest last_modified_date from all related entities","body":"<p>I'm using Spring AuditingEntityListener to collect audit information on my entities.</p>\n<p>I'm looking for a way to collect the last change-date (and user) of a set of related entities.</p>\n<p>For example, when having three entities like this:</p>\n<pre><code>@EntityListeners(AuditingEntityListener.class)\npublic class EntityA {\n\n    private long id;\n    \n    @LastModifiedDate\n    private Date lastModifiedDate;\n\n    @OneToMany(mappedBy = &quot;entityAId&quot;)\n    private List&lt;EntityB&gt; bS;\n}\n\n@EntityListeners(AuditingEntityListener.class)\npublic class EntityB {\n\n    private long id;\n\n    private long entityAId;\n    \n    @LastModifiedDate private Date lastModifiedDate;\n\n    @OneToMany(mappedBy = &quot;entityBId&quot;)\n    private List&lt;EntityC&gt; cS;\n}\n\n@EntityListeners(AuditingEntityListener.class)\npublic class EntityC {\n\n    private long id;\n\n    private long entityBId;\n    \n    @LastModifiedDate private Date lastModifiedDate;\n}\n</code></pre>\n<p>What's the best way to get the latest lastModifiedDate from all three Entities?</p>\n"},{"tags":["java","spring","hibernate","timezone","localdatetime"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1673520439,"post_id":75094935,"comment_id":132519801,"body_markdown":"what hbn version are you on?","body":"what hbn version are you on?"},{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1673520484,"post_id":75094935,"comment_id":132519814,"body_markdown":"@AndreyB.Panfilov 5.6.11","body":"@AndreyB.Panfilov 5.6.11"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1673542728,"post_id":75094935,"comment_id":132527954,"body_markdown":"@BasilBourque keep it easy, not every Q about date/time requires answer from you. This one, in particular, relates to hibernate functionality, and, yes, db engine, column types, drivers, etc - all of them are irrelevant.","body":"@BasilBourque keep it easy, not every Q about date/time requires answer from you. This one, in particular, relates to hibernate functionality, and, yes, db engine, column types, drivers, etc - all of them are irrelevant."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673572293,"post_id":75094935,"comment_id":132535356,"body_markdown":"@AndreyB.Panfilov I would like to comment on [another Question](https://stackoverflow.com/q/75103200/642706) but apparently I need your permission first. May I?","body":"@AndreyB.Panfilov I would like to comment on <a href=\"https://stackoverflow.com/q/75103200/642706\">another Question</a> but apparently I need your permission first. May I?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1673572818,"post_id":75094935,"comment_id":132535435,"body_markdown":"@BasilBourque you already had said [you cannot speak to JPA as you do not use it](https://stackoverflow.com/questions/70522389/jpa-instant-zoneddatetime-database-mapping#comment124664490_70523028), so, I do not see any reason to continue discussion.","body":"@BasilBourque you already had said <a href=\"https://stackoverflow.com/questions/70522389/jpa-instant-zoneddatetime-database-mapping#comment124664490_70523028\">you cannot speak to JPA as you do not use it</a>, so, I do not see any reason to continue discussion."}],"answers":[{"tags":[],"owner":{"account_id":27431373,"reputation":21,"user_id":20928015,"display_name":"Ravi Teja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673521785,"creation_date":1673521785,"answer_id":75095416,"question_id":75094935,"body_markdown":"we can also set it up` per-session basis:\r\n\r\n    session = HibernateUtil.getSessionFactory().withOptions()\r\n      .jdbcTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;))\r\n      .openSession();","title":"Hibernate retrieve timestamps in UTC","body":"<p>we can also set it up` per-session basis:</p>\n<pre><code>session = HibernateUtil.getSessionFactory().withOptions()\n  .jdbcTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;))\n  .openSession();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25770182,"reputation":29,"user_id":19519118,"display_name":"surendra ingle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673530930,"creation_date":1673526330,"answer_id":75096307,"question_id":75094935,"body_markdown":"My database timezone was in UTC and in my application timezone  I solved this problem by having both the Entity and the table have a date in UTC so that there will need to be no conversion between them. Then I did the conversions between timestamps in code in the getters and setters. Then I think you do it manually.\r\n\r\n**Setter and getter for that field**:\r\n\r\n    public void setCreatedDate(LocalDateTime createdAt)\r\n    {         \r\n        this.createdAt = createdAt.atZone(ZoneId.systemDefault()).withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime();\r\n    }\r\n    \r\n    public LocalDateTime getCreatedDate()\r\n    {         \r\n        return createdAt.atZone(ZoneId.systemDefault()).withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime();\r\n    }","title":"Hibernate retrieve timestamps in UTC","body":"<p>My database timezone was in UTC and in my application timezone  I solved this problem by having both the Entity and the table have a date in UTC so that there will need to be no conversion between them. Then I did the conversions between timestamps in code in the getters and setters. Then I think you do it manually.</p>\n<p><strong>Setter and getter for that field</strong>:</p>\n<pre><code>public void setCreatedDate(LocalDateTime createdAt)\n{         \n    this.createdAt = createdAt.atZone(ZoneId.systemDefault()).withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime();\n}\n\npublic LocalDateTime getCreatedDate()\n{         \n    return createdAt.atZone(ZoneId.systemDefault()).withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673595781,"creation_date":1673575903,"answer_id":75104210,"question_id":75094935,"body_markdown":"First of all, if we are talking about **Hibernate 5** (5.2.3 - 5.6.x if to be precise) the purpose of `hibernate.jdbc.time_zone` setting is not to give the ability for application developer to implement some kind of sophisticated date/time logic, but to synchronize persistence provider with underlying database, that is clearly stated in the [corresponding CR](https://hibernate.atlassian.net/browse/HHH-10399):\r\n\r\n&gt; Currently my database has implicit date times in UTC. No zoned data is appended to the end of the string (e.g. &quot;2013-10-14 04:00:00&quot;).\r\nWhen Hibernate reads this as a ZonedDateTime, it incorrectly reads it in as EST, as that is the TimeZone of the JVM.\r\nIt would be nice to be able to specify the TimeZone of a field by an annotation perhaps.\r\n\r\nbasically: you definitely need to set up `hibernate.jdbc.time_zone` if (**mine**: and only if) SQL statement like `SELECT SYSDATE FROM DUAL` (`SELECT LOCALTIMESTAMP` for PostgreSQL, etc) returns something, what you do not expect, in that case Hibernate will start adjusting non-timezone-aware JDBC data to something more or less reliable for application - that is exactly what you are observing (*when I retrieve timestamps, they are transformed into default timezone*)\r\n\r\nAt second, any speculations around JSR-310 and JDBC 4.2 (like for timezone-aware java types you need to define DB columns as `timestamp with time zone`), are not correct in case of **Hibernate 5**, that is mentioned in the [corresponding CR](https://hibernate.atlassian.net/browse/HHH-10399) as well:\r\n\r\n&gt; The whole idea of &quot;stored TZ&quot; really depends on how the database/driver treats TIMESTAMP and whether it supports a &quot;TIMESTAMP_WITH_TIMEZONE&quot; type.  I personally think it is a huge mistake to save the specific TZ differences to the DB, so I would personally continue to not support TIMESTAMP_WITH_TIMEZONE types.  This would mean we never have to bind the Calendar because we could simply convert the value to to the JVM/JDBC TZ ourselves.  Specifically I would suggest that we (continue to) assume that the driver has been set up such that the same TZ is used when ...\r\n\r\nAnd indeed, if you try to find usage of `java.sql.Types#TIMESTAMP_WITH_TIMEZONE` in **Hibernate 5** sources you will find nothing, just because that time Hibernate developers didn&#39;t get a common opinion about how timezone conversions should work in cases of different Java versions, Java types, DB engines and JDBC drivers (they are developing the most popular (**mine**: the only one) JPA implementation, that is definitely not the same as develop microservice), however, there are a lot of related changes in **Hibernate 6** (check [TimeZoneStorageType](https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/annotations/TimeZoneStorageType.java) for example). In **Hibernate 5** all timezone conversion logic passes through [TimestampTypeDescriptor](https://github.com/hibernate/hibernate-orm/blob/49fbe84dde773de84ea704bb10193c4c581d34b8/hibernate-core/src/main/java/org/hibernate/type/descriptor/sql/TimestampTypeDescriptor.java#L81):\r\n\r\n```java\r\n@Override\r\nprotected X doExtract(ResultSet rs, String name, WrapperOptions options) throws SQLException {\r\n  return options.getJdbcTimeZone() != null ?\r\n   javaTypeDescriptor.wrap( rs.getTimestamp( name, Calendar.getInstance( options.getJdbcTimeZone() ) ), options ) :\r\n   javaTypeDescriptor.wrap( rs.getTimestamp( name ), options );\r\n}\r\n```\r\n\r\nand as you can see, **Hibernate 5** just gives a hint to JDBC driver, how the last should process `#getTimestamp` call:\r\n\r\n&gt; Retrieves the value of a JDBC TIMESTAMP parameter as a java.sql.Timestamp object, using the given Calendar object to construct the Timestamp object. With a Calendar object, the driver can calculate the timestamp taking into account a custom timezone and locale. If no Calendar object is specified, the driver uses the default timezone and locale.\r\n\r\n\r\nin regard to your case:\r\n\r\nyou either need to use timezone-aware java types (`ZonedDateTime`/`OffsetDateTime`, or even `Instant`) or code your own Hibernate type, which will handle timezone conversions - that is not so hard as it might seem.","title":"Hibernate retrieve timestamps in UTC","body":"<p>First of all, if we are talking about <strong>Hibernate 5</strong> (5.2.3 - 5.6.x if to be precise) the purpose of <code>hibernate.jdbc.time_zone</code> setting is not to give the ability for application developer to implement some kind of sophisticated date/time logic, but to synchronize persistence provider with underlying database, that is clearly stated in the <a href=\"https://hibernate.atlassian.net/browse/HHH-10399\" rel=\"nofollow noreferrer\">corresponding CR</a>:</p>\n<blockquote>\n<p>Currently my database has implicit date times in UTC. No zoned data is appended to the end of the string (e.g. &quot;2013-10-14 04:00:00&quot;).\nWhen Hibernate reads this as a ZonedDateTime, it incorrectly reads it in as EST, as that is the TimeZone of the JVM.\nIt would be nice to be able to specify the TimeZone of a field by an annotation perhaps.</p>\n</blockquote>\n<p>basically: you definitely need to set up <code>hibernate.jdbc.time_zone</code> if (<strong>mine</strong>: and only if) SQL statement like <code>SELECT SYSDATE FROM DUAL</code> (<code>SELECT LOCALTIMESTAMP</code> for PostgreSQL, etc) returns something, what you do not expect, in that case Hibernate will start adjusting non-timezone-aware JDBC data to something more or less reliable for application - that is exactly what you are observing (<em>when I retrieve timestamps, they are transformed into default timezone</em>)</p>\n<p>At second, any speculations around JSR-310 and JDBC 4.2 (like for timezone-aware java types you need to define DB columns as <code>timestamp with time zone</code>), are not correct in case of <strong>Hibernate 5</strong>, that is mentioned in the <a href=\"https://hibernate.atlassian.net/browse/HHH-10399\" rel=\"nofollow noreferrer\">corresponding CR</a> as well:</p>\n<blockquote>\n<p>The whole idea of &quot;stored TZ&quot; really depends on how the database/driver treats TIMESTAMP and whether it supports a &quot;TIMESTAMP_WITH_TIMEZONE&quot; type.  I personally think it is a huge mistake to save the specific TZ differences to the DB, so I would personally continue to not support TIMESTAMP_WITH_TIMEZONE types.  This would mean we never have to bind the Calendar because we could simply convert the value to to the JVM/JDBC TZ ourselves.  Specifically I would suggest that we (continue to) assume that the driver has been set up such that the same TZ is used when ...</p>\n</blockquote>\n<p>And indeed, if you try to find usage of <code>java.sql.Types#TIMESTAMP_WITH_TIMEZONE</code> in <strong>Hibernate 5</strong> sources you will find nothing, just because that time Hibernate developers didn't get a common opinion about how timezone conversions should work in cases of different Java versions, Java types, DB engines and JDBC drivers (they are developing the most popular (<strong>mine</strong>: the only one) JPA implementation, that is definitely not the same as develop microservice), however, there are a lot of related changes in <strong>Hibernate 6</strong> (check <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/annotations/TimeZoneStorageType.java\" rel=\"nofollow noreferrer\">TimeZoneStorageType</a> for example). In <strong>Hibernate 5</strong> all timezone conversion logic passes through <a href=\"https://github.com/hibernate/hibernate-orm/blob/49fbe84dde773de84ea704bb10193c4c581d34b8/hibernate-core/src/main/java/org/hibernate/type/descriptor/sql/TimestampTypeDescriptor.java#L81\" rel=\"nofollow noreferrer\">TimestampTypeDescriptor</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected X doExtract(ResultSet rs, String name, WrapperOptions options) throws SQLException {\n  return options.getJdbcTimeZone() != null ?\n   javaTypeDescriptor.wrap( rs.getTimestamp( name, Calendar.getInstance( options.getJdbcTimeZone() ) ), options ) :\n   javaTypeDescriptor.wrap( rs.getTimestamp( name ), options );\n}\n</code></pre>\n<p>and as you can see, <strong>Hibernate 5</strong> just gives a hint to JDBC driver, how the last should process <code>#getTimestamp</code> call:</p>\n<blockquote>\n<p>Retrieves the value of a JDBC TIMESTAMP parameter as a java.sql.Timestamp object, using the given Calendar object to construct the Timestamp object. With a Calendar object, the driver can calculate the timestamp taking into account a custom timezone and locale. If no Calendar object is specified, the driver uses the default timezone and locale.</p>\n</blockquote>\n<p>in regard to your case:</p>\n<p>you either need to use timezone-aware java types (<code>ZonedDateTime</code>/<code>OffsetDateTime</code>, or even <code>Instant</code>) or code your own Hibernate type, which will handle timezone conversions - that is not so hard as it might seem.</p>\n"},{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673719458,"creation_date":1673719458,"answer_id":75120178,"question_id":75094935,"body_markdown":"As alluded to be Andrey in his answer, in Hibernate 6 the way to normalize dates/times to UTC is to use the `java.time` types `OffsetDateTime` or `ZonedDateTime`, and either:\r\n\r\n- annotate the field `@TimeZoneStorage(NORMALIZE_UTC)`, or\r\n- set the property `hibernate.timezone.default_storage=NORMALIZE_UTC`.\r\n\r\nI&#39;m not very certain what you mean about using `LocalDateTime` here. What would it even mean to normalize a local datetime to UTC? That statement just doesn&#39;t really make sense: you can&#39;t move a local datetime to a new time zone because it doesn&#39;t have an associated time zone to begin with.\r\n\r\nI *think* what you mean is that your &quot;local&quot; date times are actually zoned datetimes _in the current JVM time zone_. But if that&#39;s the case, it&#39;s very easy to use `localDateTime.atZone(ZoneId.systemDefault())` to represent that situation correctly.","title":"Hibernate retrieve timestamps in UTC","body":"<p>As alluded to be Andrey in his answer, in Hibernate 6 the way to normalize dates/times to UTC is to use the <code>java.time</code> types <code>OffsetDateTime</code> or <code>ZonedDateTime</code>, and either:</p>\n<ul>\n<li>annotate the field <code>@TimeZoneStorage(NORMALIZE_UTC)</code>, or</li>\n<li>set the property <code>hibernate.timezone.default_storage=NORMALIZE_UTC</code>.</li>\n</ul>\n<p>I'm not very certain what you mean about using <code>LocalDateTime</code> here. What would it even mean to normalize a local datetime to UTC? That statement just doesn't really make sense: you can't move a local datetime to a new time zone because it doesn't have an associated time zone to begin with.</p>\n<p>I <em>think</em> what you mean is that your &quot;local&quot; date times are actually zoned datetimes <em>in the current JVM time zone</em>. But if that's the case, it's very easy to use <code>localDateTime.atZone(ZoneId.systemDefault())</code> to represent that situation correctly.</p>\n"},{"tags":[],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692789379,"creation_date":1692788988,"answer_id":76960782,"question_id":75094935,"body_markdown":"Just use `Instant`  (Hibernate understands this).\r\nIt is as simple as this in your entity class:\r\n\r\n```java\r\n@Column(name=&quot;time_when_something_happened&quot;, columnDefinition=&quot;TIMESTAMP&quot;)\r\nprivate Instant timeWhenSomethingHappened;\r\n```\r\n\r\nThat&#39;s all. No need to set the `spring.jpa.properties.hibernate.jdbc.time_zone=UTC` property as Hibernate knows it is implied since you are using `Instant`.\r\n\r\nTested with Hibernate 6.2, Spring Boot 3.1 and PostgreSQL 11.\r\n\r\nHere is why you should (presumably) be using `Instant`:  For most applications the requirement is to record the timestamp of something which has happened. Note: past tense. So that would be the `Instant` type in Java, not `LocalDateTime` or `OffsetDateTime`.\r\n\r\nYour application in presumably something backend related?. And persistence is an implementation detail seen from the point of view of your end-users. In other words: Using for example `OffsetDateTime` really makes no sense as there is no point in carrying around such information as an offset. Just defer the decision on how you want to _present_ the timestamp value until you are actually faced with a human user, as in a UI. Bottom line: it is `Instant` you want in your persistence layer!  (*)\r\n\r\n\r\n*) Perhaps a few words on why you see so many SO and Blog answers directing you towards using java type `LocalDateTime` or `OffsetDateTime` when real need is indeed to record the time when something happened: it is because the JPA standard (until lately) did not mention `Instant`. For a long time using `Instant` without further ado like I advise has been possible but it has been a Hibernate specialty. The issue (I would call it an omission) was logged in the JPA Spec [back in 2017](https://github.com/jakartaee/persistence/issues/163) but is only now, Aug 2023, [seeing some action](https://github.com/jakartaee/persistence/commit/694f93964a31c7946e49e30c91635e34a77c38b9). So indeed it will be part of the JPA spec going forward, perhaps in v3.2. With this in mind I definitely think you should be using `Instant` : it is simple, and it conveys intent.\r\n\r\n","title":"Hibernate retrieve timestamps in UTC","body":"<p>Just use <code>Instant</code>  (Hibernate understands this).\nIt is as simple as this in your entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name=&quot;time_when_something_happened&quot;, columnDefinition=&quot;TIMESTAMP&quot;)\nprivate Instant timeWhenSomethingHappened;\n</code></pre>\n<p>That's all. No need to set the <code>spring.jpa.properties.hibernate.jdbc.time_zone=UTC</code> property as Hibernate knows it is implied since you are using <code>Instant</code>.</p>\n<p>Tested with Hibernate 6.2, Spring Boot 3.1 and PostgreSQL 11.</p>\n<p>Here is why you should (presumably) be using <code>Instant</code>:  For most applications the requirement is to record the timestamp of something which has happened. Note: past tense. So that would be the <code>Instant</code> type in Java, not <code>LocalDateTime</code> or <code>OffsetDateTime</code>.</p>\n<p>Your application in presumably something backend related?. And persistence is an implementation detail seen from the point of view of your end-users. In other words: Using for example <code>OffsetDateTime</code> really makes no sense as there is no point in carrying around such information as an offset. Just defer the decision on how you want to <em>present</em> the timestamp value until you are actually faced with a human user, as in a UI. Bottom line: it is <code>Instant</code> you want in your persistence layer!  (*)</p>\n<p>*) Perhaps a few words on why you see so many SO and Blog answers directing you towards using java type <code>LocalDateTime</code> or <code>OffsetDateTime</code> when real need is indeed to record the time when something happened: it is because the JPA standard (until lately) did not mention <code>Instant</code>. For a long time using <code>Instant</code> without further ado like I advise has been possible but it has been a Hibernate specialty. The issue (I would call it an omission) was logged in the JPA Spec <a href=\"https://github.com/jakartaee/persistence/issues/163\" rel=\"nofollow noreferrer\">back in 2017</a> but is only now, Aug 2023, <a href=\"https://github.com/jakartaee/persistence/commit/694f93964a31c7946e49e30c91635e34a77c38b9\" rel=\"nofollow noreferrer\">seeing some action</a>. So indeed it will be part of the JPA spec going forward, perhaps in v3.2. With this in mind I definitely think you should be using <code>Instant</code> : it is simple, and it conveys intent.</p>\n"}],"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1327,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75104210,"answer_count":5,"score":0,"last_activity_date":1692789379,"creation_date":1673519655,"question_id":75094935,"body_markdown":"I am using hibernate + spring and want to store/load timestamps in UTC. I&#39;ve read that I should add a property, so I added this to my application.properties\r\n\r\n\r\n    spring.jpa.properties[hibernate.jdbc.time_zone]=UTC\r\n\r\nThis worked for one part of the problem - now dates are saved in utc in the database. But when I retrieve timestamps, they are transformed into default timezone. How can I fix this without setting default time zone to UTC?\r\nThe property of the entity has type `LocalDateTime`.\r\nI ran the code, and noticed that the proper result set method is used during get(the one that accepts calendar) with instance that has zone info storing UTC. But after setting calendar&#39;s values to the one retrieved from the database, the calendar is transformed into Timestamp with this code \r\n\r\n    Timestamp ts = new Timestamp(c.getTimeInMillis());\r\nIn debug mode, I see that ts stores cdate field with value of timestamp in default time zone(not UTC).\r\n","title":"Hibernate retrieve timestamps in UTC","body":"<p>I am using hibernate + spring and want to store/load timestamps in UTC. I've read that I should add a property, so I added this to my application.properties</p>\n<pre><code>spring.jpa.properties[hibernate.jdbc.time_zone]=UTC\n</code></pre>\n<p>This worked for one part of the problem - now dates are saved in utc in the database. But when I retrieve timestamps, they are transformed into default timezone. How can I fix this without setting default time zone to UTC?\nThe property of the entity has type <code>LocalDateTime</code>.\nI ran the code, and noticed that the proper result set method is used during get(the one that accepts calendar) with instance that has zone info storing UTC. But after setting calendar's values to the one retrieved from the database, the calendar is transformed into Timestamp with this code</p>\n<pre><code>Timestamp ts = new Timestamp(c.getTimeInMillis());\n</code></pre>\n<p>In debug mode, I see that ts stores cdate field with value of timestamp in default time zone(not UTC).</p>\n"},{"tags":["java","spring-boot","exception","resttemplate"],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692789089,"creation_date":1692789089,"question_id":76960799,"body_markdown":"I can&#39;t get my `RestTemplate` to throw all the exceptions it encounter on its way down the controller&#39;s endpoint. To make my thought more clear, I&#39;ll provide an example.\r\n\r\nSimple endpoint `PATCH /api/entity/{entity_id}` which requires a body in form of JSON. Let&#39;s suppose that the entity that is being patched (of `{entity_id}` id) is not changed after client&#39;s call because the provided JSON body is the same as the actual, persisted entity.\r\n\r\nIn that case, in my service class, I throw an `ObjectsAreEqualException` with `200 OK` HTTP code and some message:\r\n\r\n```\r\npublic EntityResponse update(Long entityId, EntityUpdateRequest updateRequest) {\r\n    Entity toUpdate = entityRepository.findById(entityId).get();\r\n    // some constraint checks\r\n    if(anythingToUpdate(entityToUpdate, updateRequest)) {\r\n        throw new ObjectsAreEqualException();\r\n    }\r\n    // more constraint checks\r\n\r\n    // logic and return\r\n}\r\n```\r\n**My main question is: how to tell RestTemplate to perceive each thrown (by me) exception as actual exception / (error)?** Not only the 4xx and 5xx exceptions, but also the ones of other codes, for instance `200 OK`.\r\n\r\nFor interested, my thoughts and solutions that did not work are below.\r\n\r\n===\r\n\r\nIf `ObjectsAreEqualException` would be to have a 4xx or 5xx status codes, then I&#39;ve got no problem. However, I&#39;m stubborn and want to stay with `200 OK`.\r\n\r\nI know that the `DefaultResponseErrorHandler` that `RestTemplate` uses has a method `hasError` which returns true, when the exception&#39;s status code is 4xx or 5xx.\r\n\r\nI map errors to `ApiError` (custom) class (which is same as Spring&#39;s default error JSON), thus I thought to maybe use `ObjectMapper` on response body and if mapping were to be successful, then that&#39;d mean there was an exception thrown.\r\n\r\nHowever, I can&#39;t use `getResponseBody(ClientHttpResponse)` in `hasError` (but I can perfectly use it in `handleError`, which is a mystery to me right now) as it throws stream closed exception.","title":"How to make RestTemplate throw all custom exceptions, also the ones of 2xx codes","body":"<p>I can't get my <code>RestTemplate</code> to throw all the exceptions it encounter on its way down the controller's endpoint. To make my thought more clear, I'll provide an example.</p>\n<p>Simple endpoint <code>PATCH /api/entity/{entity_id}</code> which requires a body in form of JSON. Let's suppose that the entity that is being patched (of <code>{entity_id}</code> id) is not changed after client's call because the provided JSON body is the same as the actual, persisted entity.</p>\n<p>In that case, in my service class, I throw an <code>ObjectsAreEqualException</code> with <code>200 OK</code> HTTP code and some message:</p>\n<pre><code>public EntityResponse update(Long entityId, EntityUpdateRequest updateRequest) {\n    Entity toUpdate = entityRepository.findById(entityId).get();\n    // some constraint checks\n    if(anythingToUpdate(entityToUpdate, updateRequest)) {\n        throw new ObjectsAreEqualException();\n    }\n    // more constraint checks\n\n    // logic and return\n}\n</code></pre>\n<p><strong>My main question is: how to tell RestTemplate to perceive each thrown (by me) exception as actual exception / (error)?</strong> Not only the 4xx and 5xx exceptions, but also the ones of other codes, for instance <code>200 OK</code>.</p>\n<p>For interested, my thoughts and solutions that did not work are below.</p>\n<p>===</p>\n<p>If <code>ObjectsAreEqualException</code> would be to have a 4xx or 5xx status codes, then I've got no problem. However, I'm stubborn and want to stay with <code>200 OK</code>.</p>\n<p>I know that the <code>DefaultResponseErrorHandler</code> that <code>RestTemplate</code> uses has a method <code>hasError</code> which returns true, when the exception's status code is 4xx or 5xx.</p>\n<p>I map errors to <code>ApiError</code> (custom) class (which is same as Spring's default error JSON), thus I thought to maybe use <code>ObjectMapper</code> on response body and if mapping were to be successful, then that'd mean there was an exception thrown.</p>\n<p>However, I can't use <code>getResponseBody(ClientHttpResponse)</code> in <code>hasError</code> (but I can perfectly use it in <code>handleError</code>, which is a mystery to me right now) as it throws stream closed exception.</p>\n"},{"tags":["java","hazelcast","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":18794076,"reputation":31,"user_id":13705945,"display_name":"Jaspal Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592059902,"creation_date":1592037007,"answer_id":62357325,"question_id":62265785,"body_markdown":"We are able to reproduce the issue. \r\n\r\nWe are maintaining second level cache. Because we are keeping data of cache1 keys in second level cache during processing, this issue is not occurring every time. \r\nWe just cleared the second level cache before every cache2.get(key) for reproducing issue.\r\n\r\nIf no data found for key in cache2 hazelcast map, then system will call load method of MapLoader. Here partition thread comes into picture and operation is write through operation. \r\n\r\nIn load method of Cache2 MapLoader, we are trying to access data from cache-1 having different key type. As key type of Cache-1 and Cache-2 different, partition mismatch occurs and this results in &quot;cannot make remote call&quot; exception.\r\n\r\n**Question:**\r\nIs there any way to achieve this if this is really required?\r\n\r\n*Solution-1:* We used IExecutorService in load method of Cache2 MapLoader to access the value from Cache1. This is working fine. But this may increase data loading time as extra thread involved.\r\n\r\n*Solution-2:* Set backup count for Cache1 = Number of Nodes -1. This way,we have copy of map on each node. This exception never occur as there are very less changes of any change in Cache1 at runtime time (once a week). Number of records also not more than 1000.\r\n\r\n***Is there any other way to achieve this?***","title":"Hazelcast : cannot make remote call: com.hazelcast.map.impl.operation.GetOperation","body":"<p>We are able to reproduce the issue. </p>\n\n<p>We are maintaining second level cache. Because we are keeping data of cache1 keys in second level cache during processing, this issue is not occurring every time. \nWe just cleared the second level cache before every cache2.get(key) for reproducing issue.</p>\n\n<p>If no data found for key in cache2 hazelcast map, then system will call load method of MapLoader. Here partition thread comes into picture and operation is write through operation. </p>\n\n<p>In load method of Cache2 MapLoader, we are trying to access data from cache-1 having different key type. As key type of Cache-1 and Cache-2 different, partition mismatch occurs and this results in \"cannot make remote call\" exception.</p>\n\n<p><strong>Question:</strong>\nIs there any way to achieve this if this is really required?</p>\n\n<p><em>Solution-1:</em> We used IExecutorService in load method of Cache2 MapLoader to access the value from Cache1. This is working fine. But this may increase data loading time as extra thread involved.</p>\n\n<p><em>Solution-2:</em> Set backup count for Cache1 = Number of Nodes -1. This way,we have copy of map on each node. This exception never occur as there are very less changes of any change in Cache1 at runtime time (once a week). Number of records also not more than 1000.</p>\n\n<p><strong><em>Is there any other way to achieve this?</em></strong></p>\n"},{"tags":[],"owner":{"account_id":316230,"reputation":4509,"user_id":632293,"display_name":"jediz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692789024,"creation_date":1692789024,"answer_id":76960788,"question_id":62265785,"body_markdown":"There is a bug in Hazelcast which may throw this exception in some cases https://github.com/hazelcast/hazelcast/issues/24712","title":"Hazelcast : cannot make remote call: com.hazelcast.map.impl.operation.GetOperation","body":"<p>There is a bug in Hazelcast which may throw this exception in some cases <a href=\"https://github.com/hazelcast/hazelcast/issues/24712\" rel=\"nofollow noreferrer\">https://github.com/hazelcast/hazelcast/issues/24712</a></p>\n"}],"owner":{"account_id":18794076,"reputation":31,"user_id":13705945,"display_name":"Jaspal Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1366,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1692789024,"creation_date":1591630636,"question_id":62265785,"body_markdown":"We are using Hazelcast 3.10.4 in our project. The second level caching is also enabled.\r\nSometimes, we are getting an exception mentioned below with 3 Hazelcast nodes : 2 Nodes on same machine and 1 on different machine. But network is same. \r\nException occurs on one of the 2 nodes. Not on the node running on another machine.\r\n\r\nWe are getting this, when we start the servers and then do some operation.\r\n\r\n***Case:***\r\nConsider Cache-1 and Cache-2 both distributed hazelcast caches ( hazelcast IMap). \r\nCache-1 is initialized fully at server start up. Once the servers are up and running, Cache-1 is used only for getting data - no update, no reloading happens. Cache-1 contains all the data required for processing. Say, Cache-1 contains all system configuration defined at different levels which user is not going to change once the system is up. This cache is distributed across 3 nodes. \r\n\r\nCache-2 is initialized partially at server start up. Once the servers are up and running, system is modifying Cache-2 : deleting data from cache, modifying data in cache, *loading data for a source if not present in cache based on some configurations which exists in Cache-1* (partially on demand loading). \r\n\r\n***Please note:*** Same check happens when loading data in Cache-2 during server start up. But no failure at server start up. \r\n\r\nWe are getting below exception when system tries to retrieve the value from Cache-1:\r\n\r\n    java.lang.IllegalThreadStateException: Thread[hz._hzInstance_1_tpt-val-js-master.partition-operation.thread-1,5,main] cannot make remote call: com.hazelcast.map.impl.operation.GetOperation{serviceName=&#39;hz:impl:mapService&#39;, identityHash=1023062798, partitionId=234, replicaIndex=0, callId=0, invocationTime=-1 (1969-12-31 23:59:59.999), waitTimeout=-1, callTimeout=1800000, name=ConfigParamMap}\r\n\tat com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke0(Invocation.java:523)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke(Invocation.java:215)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.InvocationBuilderImpl.invoke(InvocationBuilderImpl.java:60)\r\n\tat com.hazelcast.map.impl.proxy.MapProxySupport.invokeOperation(MapProxySupport.java:424)\r\n\tat com.hazelcast.map.impl.proxy.MapProxySupport.getInternal(MapProxySupport.java:347)\r\n\tat com.hazelcast.map.impl.proxy.NearCachedMapProxyImpl.getInternal(NearCachedMapProxyImpl.java:114)\r\n\tat com.hazelcast.map.impl.proxy.MapProxyImpl.get(MapProxyImpl.java:116)\r\n\tat com.tpt.atlant.grid.dao.hazelcast.DataHazelcastDAO.getData(DataHazelcastDAO.java:84)\r\n\tat com.tpt.atlant.configparam.service.ConfigParamServiceImpl.getConfigParam(ConfigParamServiceImpl.java:33)\r\n\tat com.tpt.atlant.configparam.service.ConfigParamServiceImpl.getBooleanValue(ConfigParamServiceImpl.java:52)\r\n\tat com.tpt.atlant.configparam.service.ConfigParamServiceImpl$$FastClassBySpringCGLIB$$b698afe3.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.cache.interceptor.CacheInterceptor$1.invoke(CacheInterceptor.java:52)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:345)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:414)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:327)\r\n\tat org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\r\n\tat com.tpt.atlant.configparam.service.ConfigParamServiceImpl$$EnhancerBySpringCGLIB$$401b9858.getBooleanValue(&lt;generated&gt;)\r\n\tat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.isBasisPl(TermDataJDBILoader.java:411)\r\n\tat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.prepareInClauseFromList(TermDataJDBILoader.java:385)\r\n\tat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.getCmdtyInstruments(TermDataJDBILoader.java:381)\r\n\tat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.loadTermAttributes(TermDataJDBILoader.java:353)\r\n\tat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.load(TermDataJDBILoader.java:263)\r\n\tat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.load(TermDataJDBILoader.java:1)\r\n\tat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader$$FastClassBySpringCGLIB$$f032653.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:651)\r\n\tat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader$$EnhancerBySpringCGLIB$$b6e9411d.load(&lt;generated&gt;)\r\n\tat com.tpt.atlant.grid.dao.loader.hazelcast.HazelcastMapLoader.load(HazelcastMapLoader.java:62)\r\n\tat com.tpt.atlant.grid.dao.loader.hazelcast.HazelcastMapLoader.load(HazelcastMapLoader.java:33)\r\n\tat com.tpt.atlant.grid.util.hazelcast.SpringContextMapLoaderFactory$DynamicSpringContectLoaderResolver.load(SpringContextMapLoaderFactory.java:223)\r\n\tat com.tpt.atlant.grid.util.hazelcast.SpringContextMapLoaderFactory$DynamicSpringContectLoaderResolver.load(SpringContextMapLoaderFactory.java:179)\r\n\tat com.hazelcast.map.impl.MapStoreWrapper.load(MapStoreWrapper.java:165)\r\n\tat com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.load(WriteThroughStore.java:72)\r\n\tat com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.load(WriteThroughStore.java:28)\r\n\tat com.hazelcast.map.impl.recordstore.DefaultRecordStore.loadRecordOrNull(DefaultRecordStore.java:415)\r\n\tat com.hazelcast.map.impl.recordstore.DefaultRecordStore.get(DefaultRecordStore.java:626)\r\n\tat com.hazelcast.map.impl.operation.GetOperation.run(GetOperation.java:41)\r\n\tat com.hazelcast.spi.Operation.call(Operation.java:148)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:202)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:191)\r\n\tat com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:120)\r\n\tat com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:100)\r\n\tat ------ submitted from ------.(Unknown Source)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.resolve(InvocationFuture.java:127)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.resolveAndThrowIfException(InvocationFuture.java:79)\r\n\tat com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:162)\r\n\tat com.hazelcast.map.impl.proxy.MapProxySupport.invokeOperation(MapProxySupport.java:425)\r\n\tat com.hazelcast.map.impl.proxy.MapProxySupport.getInternal(MapProxySupport.java:347)\r\n\tat com.hazelcast.map.impl.proxy.NearCachedMapProxyImpl.getInternal(NearCachedMapProxyImpl.java:114)\r\n\tat com.hazelcast.map.impl.proxy.MapProxyImpl.get(MapProxyImpl.java:116)\r\n\tat com.tpt.trade.grid.dao.hazelcast.TermDataNumberHazelcastDAO.getTermData(TermDataNumberHazelcastDAO.java:54)\r\n\tat com.tpt.valuation.position.grid.value.action.BatchTermValueAction.execute(BatchTermValueAction.java:107)\r\n\r\n\r\nHazelcast code from where this exception was thrown is checking :  whether partition id of operation key matches with partition thread id. If not, then throw exception. Lot of other code also there.\r\n\r\nCan anyone please let me know the root cause of this? \r\nIf there is an issue with cache design, then this exception should occur every time. \r\nNot able to reproduce on developer machine with 2 or 3 nodes. But re-producible sometimes on test machines.\r\n\r\n**Update :** Added full stack trace. \r\nWe implemented MapLoader to load the data into cache.\r\n\r\n*Reason might be:* During write through operation, system is trying to access the data from different cache having different key. \r\n\r\nThis logic is 1 year old and working fine. We started getting this exception recently only in test environment.","title":"Hazelcast : cannot make remote call: com.hazelcast.map.impl.operation.GetOperation","body":"<p>We are using Hazelcast 3.10.4 in our project. The second level caching is also enabled.\nSometimes, we are getting an exception mentioned below with 3 Hazelcast nodes : 2 Nodes on same machine and 1 on different machine. But network is same. \nException occurs on one of the 2 nodes. Not on the node running on another machine.</p>\n\n<p>We are getting this, when we start the servers and then do some operation.</p>\n\n<p><strong><em>Case:</em></strong>\nConsider Cache-1 and Cache-2 both distributed hazelcast caches ( hazelcast IMap). \nCache-1 is initialized fully at server start up. Once the servers are up and running, Cache-1 is used only for getting data - no update, no reloading happens. Cache-1 contains all the data required for processing. Say, Cache-1 contains all system configuration defined at different levels which user is not going to change once the system is up. This cache is distributed across 3 nodes. </p>\n\n<p>Cache-2 is initialized partially at server start up. Once the servers are up and running, system is modifying Cache-2 : deleting data from cache, modifying data in cache, <em>loading data for a source if not present in cache based on some configurations which exists in Cache-1</em> (partially on demand loading). </p>\n\n<p><strong><em>Please note:</em></strong> Same check happens when loading data in Cache-2 during server start up. But no failure at server start up. </p>\n\n<p>We are getting below exception when system tries to retrieve the value from Cache-1:</p>\n\n<pre><code>java.lang.IllegalThreadStateException: Thread[hz._hzInstance_1_tpt-val-js-master.partition-operation.thread-1,5,main] cannot make remote call: com.hazelcast.map.impl.operation.GetOperation{serviceName='hz:impl:mapService', identityHash=1023062798, partitionId=234, replicaIndex=0, callId=0, invocationTime=-1 (1969-12-31 23:59:59.999), waitTimeout=-1, callTimeout=1800000, name=ConfigParamMap}\nat com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke0(Invocation.java:523)\nat com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke(Invocation.java:215)\nat com.hazelcast.spi.impl.operationservice.impl.InvocationBuilderImpl.invoke(InvocationBuilderImpl.java:60)\nat com.hazelcast.map.impl.proxy.MapProxySupport.invokeOperation(MapProxySupport.java:424)\nat com.hazelcast.map.impl.proxy.MapProxySupport.getInternal(MapProxySupport.java:347)\nat com.hazelcast.map.impl.proxy.NearCachedMapProxyImpl.getInternal(NearCachedMapProxyImpl.java:114)\nat com.hazelcast.map.impl.proxy.MapProxyImpl.get(MapProxyImpl.java:116)\nat com.tpt.atlant.grid.dao.hazelcast.DataHazelcastDAO.getData(DataHazelcastDAO.java:84)\nat com.tpt.atlant.configparam.service.ConfigParamServiceImpl.getConfigParam(ConfigParamServiceImpl.java:33)\nat com.tpt.atlant.configparam.service.ConfigParamServiceImpl.getBooleanValue(ConfigParamServiceImpl.java:52)\nat com.tpt.atlant.configparam.service.ConfigParamServiceImpl$$FastClassBySpringCGLIB$$b698afe3.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\nat org.springframework.cache.interceptor.CacheInterceptor$1.invoke(CacheInterceptor.java:52)\nat org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:345)\nat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:414)\nat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:327)\nat org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\nat com.tpt.atlant.configparam.service.ConfigParamServiceImpl$$EnhancerBySpringCGLIB$$401b9858.getBooleanValue(&lt;generated&gt;)\nat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.isBasisPl(TermDataJDBILoader.java:411)\nat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.prepareInClauseFromList(TermDataJDBILoader.java:385)\nat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.getCmdtyInstruments(TermDataJDBILoader.java:381)\nat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.loadTermAttributes(TermDataJDBILoader.java:353)\nat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.load(TermDataJDBILoader.java:263)\nat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader.load(TermDataJDBILoader.java:1)\nat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader$$FastClassBySpringCGLIB$$f032653.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:651)\nat com.tpt.trade.grid.dao.loader.jdbi.TermDataJDBILoader$$EnhancerBySpringCGLIB$$b6e9411d.load(&lt;generated&gt;)\nat com.tpt.atlant.grid.dao.loader.hazelcast.HazelcastMapLoader.load(HazelcastMapLoader.java:62)\nat com.tpt.atlant.grid.dao.loader.hazelcast.HazelcastMapLoader.load(HazelcastMapLoader.java:33)\nat com.tpt.atlant.grid.util.hazelcast.SpringContextMapLoaderFactory$DynamicSpringContectLoaderResolver.load(SpringContextMapLoaderFactory.java:223)\nat com.tpt.atlant.grid.util.hazelcast.SpringContextMapLoaderFactory$DynamicSpringContectLoaderResolver.load(SpringContextMapLoaderFactory.java:179)\nat com.hazelcast.map.impl.MapStoreWrapper.load(MapStoreWrapper.java:165)\nat com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.load(WriteThroughStore.java:72)\nat com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.load(WriteThroughStore.java:28)\nat com.hazelcast.map.impl.recordstore.DefaultRecordStore.loadRecordOrNull(DefaultRecordStore.java:415)\nat com.hazelcast.map.impl.recordstore.DefaultRecordStore.get(DefaultRecordStore.java:626)\nat com.hazelcast.map.impl.operation.GetOperation.run(GetOperation.java:41)\nat com.hazelcast.spi.Operation.call(Operation.java:148)\nat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:202)\nat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:191)\nat com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:120)\nat com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:100)\nat ------ submitted from ------.(Unknown Source)\nat com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.resolve(InvocationFuture.java:127)\nat com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.resolveAndThrowIfException(InvocationFuture.java:79)\nat com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:162)\nat com.hazelcast.map.impl.proxy.MapProxySupport.invokeOperation(MapProxySupport.java:425)\nat com.hazelcast.map.impl.proxy.MapProxySupport.getInternal(MapProxySupport.java:347)\nat com.hazelcast.map.impl.proxy.NearCachedMapProxyImpl.getInternal(NearCachedMapProxyImpl.java:114)\nat com.hazelcast.map.impl.proxy.MapProxyImpl.get(MapProxyImpl.java:116)\nat com.tpt.trade.grid.dao.hazelcast.TermDataNumberHazelcastDAO.getTermData(TermDataNumberHazelcastDAO.java:54)\nat com.tpt.valuation.position.grid.value.action.BatchTermValueAction.execute(BatchTermValueAction.java:107)\n</code></pre>\n\n<p>Hazelcast code from where this exception was thrown is checking :  whether partition id of operation key matches with partition thread id. If not, then throw exception. Lot of other code also there.</p>\n\n<p>Can anyone please let me know the root cause of this? \nIf there is an issue with cache design, then this exception should occur every time. \nNot able to reproduce on developer machine with 2 or 3 nodes. But re-producible sometimes on test machines.</p>\n\n<p><strong>Update :</strong> Added full stack trace. \nWe implemented MapLoader to load the data into cache.</p>\n\n<p><em>Reason might be:</em> During write through operation, system is trying to access the data from different cache having different key. </p>\n\n<p>This logic is 1 year old and working fine. We started getting this exception recently only in test environment.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"score":2,"creation_date":1484687831,"post_id":41707094,"comment_id":70609795,"body_markdown":"Use `.group(1)`","body":"Use <code>.group(1)</code>"},{"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1484687853,"post_id":41707094,"comment_id":70609804,"body_markdown":"maybe because you&#39;re using `PATTERN_FORMAT_1 ` instead of `REGEX_FORMAT_1` ?","body":"maybe because you&#39;re using <code>PATTERN_FORMAT_1 </code> instead of <code>REGEX_FORMAT_1</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1484688041,"creation_date":1484688041,"answer_id":41707209,"question_id":41707094,"body_markdown":"`group()` is equivalent to `group(0)` and returns the entire matched string. Use `group(1)` to pull out the first matched group.\r\n\r\n\tString  text    = &quot;asdf 2013-05-12 asdf&quot;;\r\n\tString  regex   = &quot;.+?([0-9]{4}\\\\s?-\\\\s?[0-9]{2}\\\\s?-\\\\s?[0-9]{2}).+&quot;;\r\n\tMatcher matcher = Pattern.compile(regex).matcher(text);\r\n    \r\n\tif (matcher.matches()) {\r\n    \tString matchedGroup = matcher.group(1);\r\n        System.out.println(matchedGroup);\r\n  \t}\r\n\r\nOutput:\r\n\r\n    2013-05-12","title":"Java regex extract capture group if it exists","body":"<p><code>group()</code> is equivalent to <code>group(0)</code> and returns the entire matched string. Use <code>group(1)</code> to pull out the first matched group.</p>\n\n<pre><code>String  text    = \"asdf 2013-05-12 asdf\";\nString  regex   = \".+?([0-9]{4}\\\\s?-\\\\s?[0-9]{2}\\\\s?-\\\\s?[0-9]{2}).+\";\nMatcher matcher = Pattern.compile(regex).matcher(text);\n\nif (matcher.matches()) {\n    String matchedGroup = matcher.group(1);\n    System.out.println(matchedGroup);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2013-05-12\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3714684,"reputation":31,"user_id":3091189,"display_name":"Otabek O&#39;ktamjon o&#39;gli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692788632,"creation_date":1692787731,"answer_id":76960650,"question_id":41707094,"body_markdown":"You can even use locale and format in different styles.\r\n\r\n    String sourceData = &quot;fslkdjfs 2023-08-23 13:01:18 sdflks&quot;;\r\n    String regexFormat = &quot;.*(\\\\d{4})-(\\\\d{2})-(\\\\d{2}).*&quot;;\r\n    Matcher matcher = Pattern.compile(regexFormat).matcher(sourceData);\r\n    int year = 0, month = 0, day = 0;\r\n    if (matcher.matches()) {\r\n        year = Integer.valueOf(matcher.group(1));\r\n        month = Integer.valueOf(matcher.group(2));\r\n        day = Integer.valueOf(matcher.group(3));\r\n    }\r\n    String date\r\n        = DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL)\r\n            .withLocale(new Locale(&quot;en&quot;, &quot;EN&quot;))\r\n            .format(LocalDate.of(year, month, day));\r\n    System.out.println(date);","title":"Java regex extract capture group if it exists","body":"<p>You can even use locale and format in different styles.</p>\n<pre><code>String sourceData = &quot;fslkdjfs 2023-08-23 13:01:18 sdflks&quot;;\nString regexFormat = &quot;.*(\\\\d{4})-(\\\\d{2})-(\\\\d{2}).*&quot;;\nMatcher matcher = Pattern.compile(regexFormat).matcher(sourceData);\nint year = 0, month = 0, day = 0;\nif (matcher.matches()) {\n    year = Integer.valueOf(matcher.group(1));\n    month = Integer.valueOf(matcher.group(2));\n    day = Integer.valueOf(matcher.group(3));\n}\nString date\n    = DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL)\n        .withLocale(new Locale(&quot;en&quot;, &quot;EN&quot;))\n        .format(LocalDate.of(year, month, day));\nSystem.out.println(date);\n</code></pre>\n"}],"owner":{"account_id":1841676,"reputation":153,"user_id":1670955,"display_name":"magnusson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4644,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":41707209,"answer_count":2,"score":3,"last_activity_date":1692788632,"creation_date":1484687587,"question_id":41707094,"body_markdown":"I apparently don&#39;t understand Java&#39;s regex library or regex either for that matter.\r\n\r\nfor this string:\r\n\r\n    String text = &quot;asdf 2013-05-12 asdf&quot;;\r\n\r\nthis regex explodes in my face:\r\n\r\n    String REGEX_FORMAT_1 = &quot;.+?([0-9]{4}\\\\s?-\\\\s?[0-9]{2}\\\\s?-\\\\s?[0-9]{2}).+&quot;;\r\n\r\n    Matcher matcher_1 = PATTERN_FORMAT_1.matcher(text);\r\n\tif(matcher_1.matches()) {\r\n\t\tString matchedGroup = matcher_1.group();\r\n\t\t...\r\n\t}     \r\n\r\nSemantically this makes sense to me but it seems I&#39;ve totally misunderstood something. The regex works fine in some online regex editors like regex101 but not in others. Could someone please help me understand why I don&#39;t get the capture group containing 2013-05-12 ...","title":"Java regex extract capture group if it exists","body":"<p>I apparently don't understand Java's regex library or regex either for that matter.</p>\n\n<p>for this string:</p>\n\n<pre><code>String text = \"asdf 2013-05-12 asdf\";\n</code></pre>\n\n<p>this regex explodes in my face:</p>\n\n<pre><code>String REGEX_FORMAT_1 = \".+?([0-9]{4}\\\\s?-\\\\s?[0-9]{2}\\\\s?-\\\\s?[0-9]{2}).+\";\n\nMatcher matcher_1 = PATTERN_FORMAT_1.matcher(text);\nif(matcher_1.matches()) {\n    String matchedGroup = matcher_1.group();\n    ...\n}     \n</code></pre>\n\n<p>Semantically this makes sense to me but it seems I've totally misunderstood something. The regex works fine in some online regex editors like regex101 but not in others. Could someone please help me understand why I don't get the capture group containing 2013-05-12 ...</p>\n"},{"tags":["java","facebook","rest","junit","httpclient"],"answers":[{"tags":[],"owner":{"account_id":31925,"reputation":3996,"user_id":88032,"accept_rate":52,"display_name":"fyasar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258734988,"creation_date":1258734988,"answer_id":1771699,"question_id":1409220,"body_markdown":"Try this\r\n\r\n        string GenerateSignature(IDictionary&lt;string, string&gt; parameters)\r\n        {\r\n            StringBuilder signatureBuilder = new StringBuilder();\r\n\r\n            // Sort the keys of the method call in alphabetical order\r\n            List&lt;string&gt; keyList = ParameterDictionaryToList(parameters);\r\n            keyList.Sort();\r\n\r\n            // Append all the parameters to the signature input paramaters\r\n            foreach (string key in keyList)\r\n                signatureBuilder.Append(String.Format(CultureInfo.InvariantCulture, &quot;{0}={1}&quot;, key, parameters[key]));\r\n\r\n            // Append the secret to the signature builder\r\n            signatureBuilder.Append(ConfigurationManager.AppSettings[&quot;FBApiSecret&quot;]);\r\n\r\n            MD5 md5 = MD5.Create();\r\n            // Compute the MD5 hash of the signature builder\r\n            byte[] hash = md5.ComputeHash(Encoding.UTF8.GetBytes(signatureBuilder.ToString().Trim()));\r\n\r\n            // Reinitialize the signature builder to store the actual signature\r\n            signatureBuilder = new StringBuilder();\r\n\r\n            // Append the hash to the signature\r\n            foreach (byte hashByte in hash)\r\n                signatureBuilder.Append(hashByte.ToString(&quot;x2&quot;, CultureInfo.InvariantCulture));\r\n\r\n            return signatureBuilder.ToString();\r\n        }\r\n\r\n        string CreateHTTPParameterList(IDictionary&lt;string, string&gt; parameterList)\r\n        {\r\n            StringBuilder queryBuilder = new StringBuilder();\r\n            parameterList.Add(&quot;api_key&quot;, ConfigurationManager.AppSettings[&quot;FBApiKey&quot;]);\r\n            parameterList.Add(&quot;v&quot;, &quot;1.0&quot;);\r\n            parameterList.Add(&quot;call_id&quot;, DateTime.Now.Ticks.ToString(&quot;x&quot;, CultureInfo.InvariantCulture));\r\n            parameterList.Add(&quot;sig&quot;, GenerateSignature(parameterList));\r\n            //parameterList.Add(&quot;sig&quot;, _sig);\r\n\r\n            // Build the query\r\n            foreach (KeyValuePair&lt;string, string&gt; kvp in parameterList)\r\n            {\r\n                queryBuilder.Append(kvp.Key);\r\n                queryBuilder.Append(&quot;=&quot;);\r\n                queryBuilder.Append(HttpUtility.UrlEncode(kvp.Value));\r\n                queryBuilder.Append(&quot;&amp;&quot;);\r\n            }\r\n            queryBuilder.Remove(queryBuilder.Length - 1, 1);\r\n\r\n            return queryBuilder.ToString();\r\n        }\r\n\r\n\r\nExample usage : \r\n\r\n            Dictionary&lt;string, string&gt; parameterList = new Dictionary&lt;string, string&gt;();\r\n            parameterList.Add(&quot;auth_token&quot;, authCode);\r\n            parameterList.Add(&quot;format&quot;, &quot;json&quot;);\r\n            parameterList.Add(&quot;method&quot;, &quot;facebook.auth.getSession&quot;);\r\n\r\n            string req = CreateHTTPParameterList(parameterList);\r\n\r\nI tryed to copy / paste these codes from my old project. \r\nI hope it will be help to you. \r\n","title":"Facebook: Getting Incorrect Signature (104) when Getting Session Key","body":"<p>Try this</p>\n\n<pre><code>    string GenerateSignature(IDictionary&lt;string, string&gt; parameters)\n    {\n        StringBuilder signatureBuilder = new StringBuilder();\n\n        // Sort the keys of the method call in alphabetical order\n        List&lt;string&gt; keyList = ParameterDictionaryToList(parameters);\n        keyList.Sort();\n\n        // Append all the parameters to the signature input paramaters\n        foreach (string key in keyList)\n            signatureBuilder.Append(String.Format(CultureInfo.InvariantCulture, \"{0}={1}\", key, parameters[key]));\n\n        // Append the secret to the signature builder\n        signatureBuilder.Append(ConfigurationManager.AppSettings[\"FBApiSecret\"]);\n\n        MD5 md5 = MD5.Create();\n        // Compute the MD5 hash of the signature builder\n        byte[] hash = md5.ComputeHash(Encoding.UTF8.GetBytes(signatureBuilder.ToString().Trim()));\n\n        // Reinitialize the signature builder to store the actual signature\n        signatureBuilder = new StringBuilder();\n\n        // Append the hash to the signature\n        foreach (byte hashByte in hash)\n            signatureBuilder.Append(hashByte.ToString(\"x2\", CultureInfo.InvariantCulture));\n\n        return signatureBuilder.ToString();\n    }\n\n    string CreateHTTPParameterList(IDictionary&lt;string, string&gt; parameterList)\n    {\n        StringBuilder queryBuilder = new StringBuilder();\n        parameterList.Add(\"api_key\", ConfigurationManager.AppSettings[\"FBApiKey\"]);\n        parameterList.Add(\"v\", \"1.0\");\n        parameterList.Add(\"call_id\", DateTime.Now.Ticks.ToString(\"x\", CultureInfo.InvariantCulture));\n        parameterList.Add(\"sig\", GenerateSignature(parameterList));\n        //parameterList.Add(\"sig\", _sig);\n\n        // Build the query\n        foreach (KeyValuePair&lt;string, string&gt; kvp in parameterList)\n        {\n            queryBuilder.Append(kvp.Key);\n            queryBuilder.Append(\"=\");\n            queryBuilder.Append(HttpUtility.UrlEncode(kvp.Value));\n            queryBuilder.Append(\"&amp;\");\n        }\n        queryBuilder.Remove(queryBuilder.Length - 1, 1);\n\n        return queryBuilder.ToString();\n    }\n</code></pre>\n\n<p>Example usage : </p>\n\n<pre><code>        Dictionary&lt;string, string&gt; parameterList = new Dictionary&lt;string, string&gt;();\n        parameterList.Add(\"auth_token\", authCode);\n        parameterList.Add(\"format\", \"json\");\n        parameterList.Add(\"method\", \"facebook.auth.getSession\");\n\n        string req = CreateHTTPParameterList(parameterList);\n</code></pre>\n\n<p>I tryed to copy / paste these codes from my old project. \nI hope it will be help to you. </p>\n"},{"tags":[],"owner":{"account_id":571244,"reputation":61,"user_id":218376,"display_name":"Omnia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259134155,"creation_date":1259134155,"answer_id":1795229,"question_id":1409220,"body_markdown":"you have an error in your parameter you send in generate_session_secret your secret code , it must be true or false\r\n\r\nyou set:\r\n new NameValuePair(&quot;generate_session_secret&quot;, SECRET),\r\n\r\nthere are conflict in your parameter that u set in post and the signature\r\n\r\n","title":"Facebook: Getting Incorrect Signature (104) when Getting Session Key","body":"<p>you have an error in your parameter you send in generate_session_secret your secret code , it must be true or false</p>\n\n<p>you set:\n new NameValuePair(\"generate_session_secret\", SECRET),</p>\n\n<p>there are conflict in your parameter that u set in post and the signature</p>\n"}],"owner":{"account_id":878349,"reputation":687,"user_id":144173,"accept_rate":42,"display_name":"mw_javaguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17054,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692788490,"creation_date":1252649070,"question_id":1409220,"body_markdown":"I am trying to use the [HttpClient][1] library (in order to call the Facebook API&#39;s REST end points) to obtain a session key and verify user...\r\n\r\nMy code is here:\r\n\r\n    RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations =\r\n    { &quot;classpath*:**/*applicationContext-test.xml&quot; })\r\n    public class FacebookUserTest\r\n    {\r\n        final String API_KEY = &quot;9e2568d68f182a2957878f3acedd9453&quot;;\r\n        final String SECRET = &quot;f1298956895d39110be92a672e0d2284&quot;;\r\n        final String TOKEN = &quot;aa0c41aa4532053e8d0097844ab9bc7d&quot;;\r\n        final String LOGIN = &quot;http://www.facebook.com/login.php&quot;;\r\n        final String HOST = &quot;http://www.facebook.com/restserver.php&quot;;\r\n\r\n        private static Logger log = \r\n            LoggerFactory.getLogger(FacebookUserTest.class);\r\n\r\n        protected FacebookUser FacebookUser;\r\n\r\n        @Test\r\n        public void testFindUserBySessionKey() throws Exception\r\n        {\r\n            loginToFacebook();\r\n            String sessionKey = getSessionKey();\r\n        }\r\n\r\n        public void loginToFacebook() throws Exception\r\n        {\r\n            HttpClient client = new HttpClient();\r\n            client.setParams(new HttpClientParams());\r\n            client.setState(new HttpState());\r\n\r\n            GetMethod get = new GetMethod(LOGIN + &quot;?api_key=&quot; + API_KEY\r\n                + &quot;&amp;v=1.0&amp;auth_token=&quot; + TOKEN);\r\n\r\n            // Get login screen\r\n            client.executeMethod(get);\r\n\r\n            // Post credentials to login\r\n            PostMethod post = new PostMethod(LOGIN);\r\n            post.addParameter(new NameValuePair(&quot;api_key&quot;, API_KEY));\r\n            post.addParameter(new NameValuePair(&quot;v&quot;, &quot;1.0&quot;));\r\n            post.addParameter(new NameValuePair(&quot;auth_token&quot;, TOKEN));\r\n            post.addParameter(new NameValuePair(&quot;email&quot;, &quot;user@email.com&quot;));\r\n            post.addParameter(new NameValuePair(&quot;pass&quot;, &quot;password&quot;));\r\n            client.executeMethod(post);\r\n        }\r\n\r\n        public String getSessionKey() throws Exception\r\n        {\r\n            HttpClient client = new HttpClient();\r\n\r\n            // Obtain session key\r\n            String host = &quot;http://www.facebook.com/restserver.php&quot;;\r\n            String sessSecret = &quot;false&quot;;\r\n            String toMd = &quot;api_key=&quot; + API_KEY + &quot;auth_token=&quot; + TOKEN\r\n                + &quot;format=xmlgenerate_session_secret=&quot; + sessSecret\r\n                + &quot;method=facebook.auth.getSessionv=1.0&quot; + SECRET;\r\n             String md5 = Md5Utils.MD5(toMd);\r\n\r\n             PostMethod post = new PostMethod(HOST);\r\n       \r\n             NameValuePair[] data = {\r\n                new NameValuePair(&quot;api_key&quot;, API_KEY),\r\n                new NameValuePair(&quot;auth_token&quot;, TOKEN),\r\n                new NameValuePair(&quot;format&quot;, &quot;xml&quot;),\r\n                new NameValuePair(&quot;generate_session_secret&quot;, SECRET),\r\n                new NameValuePair(&quot;method&quot;, &quot;auth.getSession&quot;),\r\n                new NameValuePair(&quot;sig&quot;, md5), new NameValuePair(&quot;v&quot;, &quot;1.0&quot;)\r\n             };\r\n        \r\n             post.setRequestBody(data);\r\n             post.setRequestHeader(&quot;Content-Type&quot;,\r\n                &quot;application/x-www-form-urlencoded&quot;);\r\n             post.setRequestHeader(&quot;User-Agent&quot;,\r\n                &quot;Facebook API PHP5 Client 1.1 (curl) 5&quot;);\r\n             \r\n             // execute method and handle any error responses.\r\n             client.executeMethod(post);\r\n\r\n             StringBuilder sb = new StringBuilder();\r\n             byte[] b = new byte[4096];\r\n       \r\n             for (int n; (n = post.getResponseBodyAsStream().read(b)) != -1;) \r\n             {\r\n                 sb.append(new String(b, 0, n));\r\n             }\r\n       \r\n             String sessionId = sb.toString();\r\n             log.warn(&quot;Session Id: &quot; + sessionId);\r\n       \r\n             return sessionId;\r\n         }\r\n    }\r\n\r\nWhen I run my JUnit test, this is what is printed from the console:\r\n\r\n\r\n    WARN : com.myapp.FacebookUserTest - Session Id: \r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;error_response xmlns=&quot;http://api.facebook.com/1.0/&quot; \r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;http://api.facebook.com/1.0/\r\n       http://api.facebook.com/1.0/facebook.xsd&quot;&gt;\r\n        &lt;error_code&gt;104&lt;/error_code&gt;\r\n        &lt;error_msg&gt;Incorrect signature&lt;/error_msg&gt;\r\n        &lt;request_args list=&quot;true&quot;&gt;\r\n            &lt;arg&gt;\r\n                &lt;key&gt;api_key&lt;/key&gt;\r\n                &lt;value&gt;9e2568d68f182a2957878f3acedd9453&lt;/value&gt;\r\n            &lt;/arg&gt;\r\n            &lt;arg&gt;\r\n                &lt;key&gt;auth_token&lt;/key&gt;\r\n                &lt;value&gt;aa0c41aa4532053e8d0097844ab9bc7d&lt;/value&gt;\r\n            &lt;/arg&gt;\r\n            &lt;arg&gt;\r\n                &lt;key&gt;format&lt;/key&gt;\r\n                &lt;value&gt;xml&lt;/value&gt;\r\n            &lt;/arg&gt;\r\n            &lt;arg&gt;\r\n                &lt;key&gt;generate_session_secret&lt;/key&gt;\r\n                &lt;value&gt;f1298956895d39110be92a672e0d2284&lt;/value&gt;\r\n             &lt;/arg&gt;\r\n             &lt;arg&gt;\r\n                &lt;key&gt;method&lt;/key&gt;\r\n                &lt;value&gt;auth.getSession&lt;/value&gt;\r\n             &lt;/arg&gt;\r\n             &lt;arg&gt;\r\n                 &lt;key&gt;sig&lt;/key&gt;\r\n                 &lt;value&gt;fcf80d658f35d66396ac521da7102782&lt;/value&gt;\r\n             &lt;/arg&gt;\r\n             &lt;arg&gt;\r\n                 &lt;key&gt;v&lt;/key&gt;\r\n                 &lt;value&gt;1.0&lt;/value&gt;\r\n              &lt;/arg&gt;\r\n         &lt;/request_args&gt;\r\n    &lt;/error_response&gt;\r\n\r\nCould it be my MD5Utils code:\r\n\r\n     public class Md5Utils\r\n     {\r\n          private static String convertToHex(byte[] data)\r\n          {\r\n               StringBuffer buf = new StringBuffer();\r\n               for (int i = 0; i &lt; data.length; i++) {\r\n                   int halfbyte = (data[i] &gt;&gt;&gt; 4) &amp; 0x0F;\r\n                   int two_halfs = 0;\r\n                   do {\r\n                       if ((0 &lt;= halfbyte) &amp;&amp; (halfbyte &lt;= 9))\r\n                           buf.append((char) (&#39;0&#39; + halfbyte));\r\n                       else\r\n                          buf.append((char) (&#39;a&#39; + (halfbyte - 10)));\r\n                          halfbyte = data[i] &amp; 0x0F;\r\n                   }\r\n                   while (two_halfs++ &lt; 1);\r\n                }\r\n            return buf.toString();\r\n          }\r\n\r\n      public static String MD5(String text) \r\n      throws NoSuchAlgorithmException, UnsupportedEncodingException {\r\n          MessageDigest md;\r\n          md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n          byte[] md5hash = new byte[32];\r\n          md.update(text.getBytes(&quot;iso-8859-1&quot;), 0, text.length());\r\n          md5hash = md.digest();\r\n          return convertToHex(md5hash);\r\n       }\r\n    }\r\n\r\nWhat am I possibly doing wrong to generate an incorrect signature?\r\n\r\nWould really appreciate it if someone could help me or point me in the right direction...\r\n\r\nHappy programming and thanks for reading!\r\n\r\n  [1]: http://hc.apache.org/httpclient-3.x/","title":"Facebook: Getting Incorrect Signature (104) when Getting Session Key","body":"<p>I am trying to use the <a href=\"http://hc.apache.org/httpclient-3.x/\" rel=\"nofollow noreferrer\">HttpClient</a> library (in order to call the Facebook API's REST end points) to obtain a session key and verify user...</p>\n\n<p>My code is here:</p>\n\n<pre><code>RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations =\n{ \"classpath*:**/*applicationContext-test.xml\" })\npublic class FacebookUserTest\n{\n    final String API_KEY = \"9e2568d68f182a2957878f3acedd9453\";\n    final String SECRET = \"f1298956895d39110be92a672e0d2284\";\n    final String TOKEN = \"aa0c41aa4532053e8d0097844ab9bc7d\";\n    final String LOGIN = \"http://www.facebook.com/login.php\";\n    final String HOST = \"http://www.facebook.com/restserver.php\";\n\n    private static Logger log = \n        LoggerFactory.getLogger(FacebookUserTest.class);\n\n    protected FacebookUser FacebookUser;\n\n    @Test\n    public void testFindUserBySessionKey() throws Exception\n    {\n        loginToFacebook();\n        String sessionKey = getSessionKey();\n    }\n\n    public void loginToFacebook() throws Exception\n    {\n        HttpClient client = new HttpClient();\n        client.setParams(new HttpClientParams());\n        client.setState(new HttpState());\n\n        GetMethod get = new GetMethod(LOGIN + \"?api_key=\" + API_KEY\n            + \"&amp;v=1.0&amp;auth_token=\" + TOKEN);\n\n        // Get login screen\n        client.executeMethod(get);\n\n        // Post credentials to login\n        PostMethod post = new PostMethod(LOGIN);\n        post.addParameter(new NameValuePair(\"api_key\", API_KEY));\n        post.addParameter(new NameValuePair(\"v\", \"1.0\"));\n        post.addParameter(new NameValuePair(\"auth_token\", TOKEN));\n        post.addParameter(new NameValuePair(\"email\", \"user@email.com\"));\n        post.addParameter(new NameValuePair(\"pass\", \"password\"));\n        client.executeMethod(post);\n    }\n\n    public String getSessionKey() throws Exception\n    {\n        HttpClient client = new HttpClient();\n\n        // Obtain session key\n        String host = \"http://www.facebook.com/restserver.php\";\n        String sessSecret = \"false\";\n        String toMd = \"api_key=\" + API_KEY + \"auth_token=\" + TOKEN\n            + \"format=xmlgenerate_session_secret=\" + sessSecret\n            + \"method=facebook.auth.getSessionv=1.0\" + SECRET;\n         String md5 = Md5Utils.MD5(toMd);\n\n         PostMethod post = new PostMethod(HOST);\n\n         NameValuePair[] data = {\n            new NameValuePair(\"api_key\", API_KEY),\n            new NameValuePair(\"auth_token\", TOKEN),\n            new NameValuePair(\"format\", \"xml\"),\n            new NameValuePair(\"generate_session_secret\", SECRET),\n            new NameValuePair(\"method\", \"auth.getSession\"),\n            new NameValuePair(\"sig\", md5), new NameValuePair(\"v\", \"1.0\")\n         };\n\n         post.setRequestBody(data);\n         post.setRequestHeader(\"Content-Type\",\n            \"application/x-www-form-urlencoded\");\n         post.setRequestHeader(\"User-Agent\",\n            \"Facebook API PHP5 Client 1.1 (curl) 5\");\n\n         // execute method and handle any error responses.\n         client.executeMethod(post);\n\n         StringBuilder sb = new StringBuilder();\n         byte[] b = new byte[4096];\n\n         for (int n; (n = post.getResponseBodyAsStream().read(b)) != -1;) \n         {\n             sb.append(new String(b, 0, n));\n         }\n\n         String sessionId = sb.toString();\n         log.warn(\"Session Id: \" + sessionId);\n\n         return sessionId;\n     }\n}\n</code></pre>\n\n<p>When I run my JUnit test, this is what is printed from the console:</p>\n\n<pre><code>WARN : com.myapp.FacebookUserTest - Session Id: \n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;error_response xmlns=\"http://api.facebook.com/1.0/\" \n   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n   xsi:schemaLocation=\"http://api.facebook.com/1.0/\n   http://api.facebook.com/1.0/facebook.xsd\"&gt;\n    &lt;error_code&gt;104&lt;/error_code&gt;\n    &lt;error_msg&gt;Incorrect signature&lt;/error_msg&gt;\n    &lt;request_args list=\"true\"&gt;\n        &lt;arg&gt;\n            &lt;key&gt;api_key&lt;/key&gt;\n            &lt;value&gt;9e2568d68f182a2957878f3acedd9453&lt;/value&gt;\n        &lt;/arg&gt;\n        &lt;arg&gt;\n            &lt;key&gt;auth_token&lt;/key&gt;\n            &lt;value&gt;aa0c41aa4532053e8d0097844ab9bc7d&lt;/value&gt;\n        &lt;/arg&gt;\n        &lt;arg&gt;\n            &lt;key&gt;format&lt;/key&gt;\n            &lt;value&gt;xml&lt;/value&gt;\n        &lt;/arg&gt;\n        &lt;arg&gt;\n            &lt;key&gt;generate_session_secret&lt;/key&gt;\n            &lt;value&gt;f1298956895d39110be92a672e0d2284&lt;/value&gt;\n         &lt;/arg&gt;\n         &lt;arg&gt;\n            &lt;key&gt;method&lt;/key&gt;\n            &lt;value&gt;auth.getSession&lt;/value&gt;\n         &lt;/arg&gt;\n         &lt;arg&gt;\n             &lt;key&gt;sig&lt;/key&gt;\n             &lt;value&gt;fcf80d658f35d66396ac521da7102782&lt;/value&gt;\n         &lt;/arg&gt;\n         &lt;arg&gt;\n             &lt;key&gt;v&lt;/key&gt;\n             &lt;value&gt;1.0&lt;/value&gt;\n          &lt;/arg&gt;\n     &lt;/request_args&gt;\n&lt;/error_response&gt;\n</code></pre>\n\n<p>Could it be my MD5Utils code:</p>\n\n<pre><code> public class Md5Utils\n {\n      private static String convertToHex(byte[] data)\n      {\n           StringBuffer buf = new StringBuffer();\n           for (int i = 0; i &lt; data.length; i++) {\n               int halfbyte = (data[i] &gt;&gt;&gt; 4) &amp; 0x0F;\n               int two_halfs = 0;\n               do {\n                   if ((0 &lt;= halfbyte) &amp;&amp; (halfbyte &lt;= 9))\n                       buf.append((char) ('0' + halfbyte));\n                   else\n                      buf.append((char) ('a' + (halfbyte - 10)));\n                      halfbyte = data[i] &amp; 0x0F;\n               }\n               while (two_halfs++ &lt; 1);\n            }\n        return buf.toString();\n      }\n\n  public static String MD5(String text) \n  throws NoSuchAlgorithmException, UnsupportedEncodingException {\n      MessageDigest md;\n      md = MessageDigest.getInstance(\"MD5\");\n      byte[] md5hash = new byte[32];\n      md.update(text.getBytes(\"iso-8859-1\"), 0, text.length());\n      md5hash = md.digest();\n      return convertToHex(md5hash);\n   }\n}\n</code></pre>\n\n<p>What am I possibly doing wrong to generate an incorrect signature?</p>\n\n<p>Would really appreciate it if someone could help me or point me in the right direction...</p>\n\n<p>Happy programming and thanks for reading!</p>\n"},{"tags":["java","swing","drag-and-drop"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1692787054,"post_id":76955424,"comment_id":135670859,"body_markdown":"Tried on Windows. `transferable.getTransferData(DataFlavor.javaFileListFlavor)` never retruned `null`, so I could access the file list during the drag. The exception on the drop is reproducible and comprehensible: the `DropTargetDropEvent` only allows access to the transferable after `acceptDrop` has been called but Swing only calls this method after `canImport` returned `true`. This restriction may seem weird as you can access the transferable during the drag, but the possibility to access it during the drag is a newer addition (Java&#160;5). Before that, the restriction may have looked reasonable","body":"Tried on Windows. <code>transferable.getTransferData(DataFlavor.javaFileListFlavor)</code> never retruned <code>null</code>, so I could access the file list during the drag. The exception on the drop is reproducible and comprehensible: the <code>DropTargetDropEvent</code> only allows access to the transferable after <code>acceptDrop</code> has been called but Swing only calls this method after <code>canImport</code> returned <code>true</code>. This restriction may seem weird as you can access the transferable during the drag, but the possibility to access it during the drag is a newer addition (Java 5). Before that, the restriction may have looked reasonable"},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":1,"creation_date":1692788289,"post_id":76955424,"comment_id":135671104,"body_markdown":"Ah ok, thank you very much for the explanation on the `InvalidDnDOperationException` as I didn&#39;t looked into it yet. Also thank you for testing on Windows. That somehow validates my understanding that DnD behavior is different between OSes.","body":"Ah ok, thank you very much for the explanation on the <code>InvalidDnDOperationException</code> as I didn&#39;t looked into it yet. Also thank you for testing on Windows. That somehow validates my understanding that DnD behavior is different between OSes."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1696079530,"post_id":76955424,"comment_id":136109735,"body_markdown":"@Holger By the way I also tried on Linux (Fedora 33) and I was also able to get the content of the files. So it&#39;s definitely a limitation of the macOs OS or JDK&#39;s macOs implementation.","body":"@Holger By the way I also tried on Linux (Fedora 33) and I was also able to get the content of the files. So it&#39;s definitely a limitation of the macOs OS or JDK&#39;s macOs implementation."}],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1692788042,"creation_date":1692723522,"question_id":76955424,"body_markdown":"I&#39;m trying to write a drag and drop mechanism that peek into the content of the dragged content **before** it is dropped.\r\n\r\nThe app is being tested on macOS. But maybe there&#39;s some subtleties on other OS.\r\n\r\nI&#39;ve been trying with both approaches `TransferHandler` and `DropTarget`/`DropTargetHandler`.\r\n\r\nHowever in both case I cannot access the dragged content, the `transferable.getTransferData(DataFlavor.javaFileListFlavor)` returns `null`.\r\n\r\n* In `TransferHandler::canImport`, the code check if the flavor is `flavorJavaFileListType`, then it tries to get the data, yet it&#39;s `null`.\r\n\r\n* In `DropTargetAdapter::dragOver` (or `dragEnter`), the code check if the flavor is `flavorJavaFileListType`, then it tries to get the data, yet it&#39;s `null`.\r\n\r\nSo I&#39;m wondering if this is a constraint of  Swing, of the OS, or simply me not using this properly.\r\n\r\n----\r\nNotes:\r\n\r\n1. The `TransferHandler::canImport` or `DropTargetAdapter::drop`), function properly.\r\n\r\n2. For a unknown reason (at this time) in `TransferHandler::canImport`, I need to `try { trasnferable.getTransferData(...) }  catch (InvalidDnDOperationException ignore)` otherwise when releasing the button (i.e. dropping the content) the call raises this exception `InvalidDnDOperationException: No drop current`.","title":"Is it possible to get file type (and generate a preview) while dragging (before droping)","body":"<p>I'm trying to write a drag and drop mechanism that peek into the content of the dragged content <strong>before</strong> it is dropped.</p>\n<p>The app is being tested on macOS. But maybe there's some subtleties on other OS.</p>\n<p>I've been trying with both approaches <code>TransferHandler</code> and <code>DropTarget</code>/<code>DropTargetHandler</code>.</p>\n<p>However in both case I cannot access the dragged content, the <code>transferable.getTransferData(DataFlavor.javaFileListFlavor)</code> returns <code>null</code>.</p>\n<ul>\n<li><p>In <code>TransferHandler::canImport</code>, the code check if the flavor is <code>flavorJavaFileListType</code>, then it tries to get the data, yet it's <code>null</code>.</p>\n</li>\n<li><p>In <code>DropTargetAdapter::dragOver</code> (or <code>dragEnter</code>), the code check if the flavor is <code>flavorJavaFileListType</code>, then it tries to get the data, yet it's <code>null</code>.</p>\n</li>\n</ul>\n<p>So I'm wondering if this is a constraint of  Swing, of the OS, or simply me not using this properly.</p>\n<hr />\n<p>Notes:</p>\n<ol>\n<li><p>The <code>TransferHandler::canImport</code> or <code>DropTargetAdapter::drop</code>), function properly.</p>\n</li>\n<li><p>For a unknown reason (at this time) in <code>TransferHandler::canImport</code>, I need to <code>try { trasnferable.getTransferData(...) }  catch (InvalidDnDOperationException ignore)</code> otherwise when releasing the button (i.e. dropping the content) the call raises this exception <code>InvalidDnDOperationException: No drop current</code>.</p>\n</li>\n</ol>\n"},{"tags":["java","spring","spring-properties"],"comments":[{"owner":{"account_id":964077,"reputation":241,"user_id":987847,"display_name":"pedjaradenkovic"},"score":6,"creation_date":1365632954,"post_id":15937592,"comment_id":22707013,"body_markdown":"Duplicated http://stackoverflow.com/questions/11890544/spring-value-annotation-in-controller-class-not-evaluating-to-value-inside-pro and http://stackoverflow.com/questions/5275724/spring-3-0-5-doesnt-evaluate-value-annotation-from-properties","body":"Duplicated <a href=\"http://stackoverflow.com/questions/11890544/spring-value-annotation-in-controller-class-not-evaluating-to-value-inside-pro\" title=\"spring value annotation in controller class not evaluating to value inside pro\">stackoverflow.com/questions/11890544/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/5275724/spring-3-0-5-doesnt-evaluate-value-annotation-from-properties\" title=\"spring 3 0 5 doesnt evaluate value annotation from properties\">stackoverflow.com/questions/5275724/&hellip;</a>"},{"owner":{"account_id":260334,"reputation":4341,"user_id":543829,"accept_rate":83,"display_name":"TS-"},"score":0,"creation_date":1365684957,"post_id":15937592,"comment_id":22726912,"body_markdown":"Thanks! didn&#39;t find that thread, most the ones I found was related to the value being NULL","body":"Thanks! didn&#39;t find that thread, most the ones I found was related to the value being NULL"}],"answers":[{"tags":[],"owner":{"account_id":1045743,"reputation":4323,"user_id":1050766,"accept_rate":64,"display_name":"Muel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365633231,"creation_date":1365633231,"answer_id":15937694,"question_id":15937592,"body_markdown":"Have a read of pedjaradenkovic&#39;s comment.\r\n\r\nFurther to the link he provides, the reason this isn&#39;t working is that `@Value` processing requires a `PropertySourcesPlaceholderConfigurer` instead of a `PropertyPlaceholderConfigurer`.","title":"Spring @Value is not resolving to value from property file","body":"<p>Have a read of pedjaradenkovic's comment.</p>\n\n<p>Further to the link he provides, the reason this isn't working is that <code>@Value</code> processing requires a <code>PropertySourcesPlaceholderConfigurer</code> instead of a <code>PropertyPlaceholderConfigurer</code>.</p>\n"},{"tags":[],"owner":{"account_id":260334,"reputation":4341,"user_id":543829,"accept_rate":83,"display_name":"TS-"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1365914102,"creation_date":1365914102,"answer_id":15995837,"question_id":15937592,"body_markdown":"Problem is due to problem in my applicationContext.xml vs spring-servlet.xml - it was scoping issue between the beans.\r\n\r\npedjaradenkovic kindly pointed me to an existing resource:\r\nhttps://stackoverflow.com/questions/11890544/spring-value-annotation-in-controller-class-not-evaluating-to-value-inside-pro\r\nand https://stackoverflow.com/questions/5275724/spring-3-0-5-doesnt-evaluate-value-annotation-from-properties ","title":"Spring @Value is not resolving to value from property file","body":"<p>Problem is due to problem in my applicationContext.xml vs spring-servlet.xml - it was scoping issue between the beans.</p>\n\n<p>pedjaradenkovic kindly pointed me to an existing resource:\n<a href=\"https://stackoverflow.com/questions/11890544/spring-value-annotation-in-controller-class-not-evaluating-to-value-inside-pro\">Spring @Value annotation in @Controller class not evaluating to value inside properties file</a>\nand <a href=\"https://stackoverflow.com/questions/5275724/spring-3-0-5-doesnt-evaluate-value-annotation-from-properties\">Spring 3.0.5 doesn&#39;t evaluate @Value annotation from properties</a> </p>\n"},{"tags":[],"owner":{"account_id":4319966,"reputation":1476,"user_id":3528528,"display_name":"Sachchidanand Singh"},"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1436163461,"creation_date":1417070851,"answer_id":27164610,"question_id":15937592,"body_markdown":"I also found the reason `@value` was not working is, `@value` requires `PropertySourcesPlaceholderConfigurer` instead of a `PropertyPlaceholderConfigurer`. i did the same changes and it worked for me, i am using spring 4.0.3 release.\r\nI configured this using below code in my configuration file - \r\n\r\n    @Bean \r\n\tpublic static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n\treturn new PropertySourcesPlaceholderConfigurer();\r\n\t}","title":"Spring @Value is not resolving to value from property file","body":"<p>I also found the reason <code>@value</code> was not working is, <code>@value</code> requires <code>PropertySourcesPlaceholderConfigurer</code> instead of a <code>PropertyPlaceholderConfigurer</code>. i did the same changes and it worked for me, i am using spring 4.0.3 release.\nI configured this using below code in my configuration file - </p>\n\n<pre><code>@Bean \npublic static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\nreturn new PropertySourcesPlaceholderConfigurer();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1124049,"reputation":6262,"user_id":1111732,"accept_rate":67,"display_name":"craastad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1504961455,"creation_date":1504961455,"answer_id":46130896,"question_id":15937592,"body_markdown":"I was using spring boot, and for me upgrading the version from `1.4.0.RELEASE` to `1.5.6.RELEASE` solved this issue.","title":"Spring @Value is not resolving to value from property file","body":"<p>I was using spring boot, and for me upgrading the version from <code>1.4.0.RELEASE</code> to <code>1.5.6.RELEASE</code> solved this issue.</p>\n"},{"tags":[],"owner":{"account_id":422488,"reputation":942,"user_id":801300,"accept_rate":40,"display_name":"Dapper Dan"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1559754472,"creation_date":1523538727,"answer_id":49797522,"question_id":15937592,"body_markdown":"for Sprig-boot User both PropertyPlaceholderConfigurer and the new PropertySourcesPlaceholderConfigurer added in Spring 3.1. so it&#39;s straightforward to access properties file. just inject \r\n\r\n**Note: Make sure  your property must not be  `Static`**\r\n\r\n    @Value(&quot;${key.value1}&quot;)\r\n    private String value;","title":"Spring @Value is not resolving to value from property file","body":"<p>for Sprig-boot User both PropertyPlaceholderConfigurer and the new PropertySourcesPlaceholderConfigurer added in Spring 3.1. so it's straightforward to access properties file. just inject </p>\n\n<p><strong>Note: Make sure  your property must not be  <code>Static</code></strong></p>\n\n<pre><code>@Value(\"${key.value1}\")\nprivate String value;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":990768,"reputation":6513,"user_id":1008162,"accept_rate":90,"display_name":"Naruto Sempai"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1528419560,"creation_date":1528419560,"answer_id":50751978,"question_id":15937592,"body_markdown":"In my case I was missing the curly braces. I had `@Value(&quot;foo.bar&quot;) String value` instead of the correct form `@Value(&quot;${foo.bar}&quot;) String value`\r\n\r\n","title":"Spring @Value is not resolving to value from property file","body":"<p>In my case I was missing the curly braces. I had <code>@Value(\"foo.bar\") String value</code> instead of the correct form <code>@Value(\"${foo.bar}\") String value</code></p>\n"},{"tags":[],"owner":{"account_id":2448055,"reputation":390,"user_id":2134923,"display_name":"Ahmed Aziz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1618921598,"creation_date":1618921598,"answer_id":67178913,"question_id":15937592,"body_markdown":"In my case, I had the lombok @AllArgsConstructor and that picked up the property as well. Deleting this annotation solved the problem. ","title":"Spring @Value is not resolving to value from property file","body":"<p>In my case, I had the lombok @AllArgsConstructor and that picked up the property as well. Deleting this annotation solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":3543091,"reputation":807,"user_id":2959707,"display_name":"Shirish Singh"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1621062273,"creation_date":1621061935,"answer_id":67544064,"question_id":15937592,"body_markdown":"@Value sometimes can take a day or a half to get resolved ;).\r\n\r\nHere is what I did :\r\n\r\n 1. Add property to properties or YAML file \r\n\r\n 2. Make Sure MAIN CLASS IS ANNOTATED WITH @EnableAutoConfiguration OR @SpringBootApplication\r\n\r\n 3. CREATE AppConfig IN WHICH YOU CAN USE @Value \r\n\r\n    @Value(&quot;${PROPERTY}&quot;)\r\n    private String URL;\r\n\r\nAnnotate this AppConfig with @Configuration at class level \r\n\r\n 4. SO FAR SETUP IS DONE NOW USE IT WHEREVER YOU WANT BY AUTOWIRING AppConfig\r\n\r\nEXAMPLE: IN SOME SERVICE     @Autowired private AppConfig appConfig;\r\nAND IN THE METHOD OF THIS SERVICE call appConfig.getUrl() to get the value of property URL from a properties file.\r\n\r\nNOTE: DON&#39;T TRY TO GET VALUE IN CONSTRUCTOR OF SERVICE IT WILL BE NULL.","title":"Spring @Value is not resolving to value from property file","body":"<p>@Value sometimes can take a day or a half to get resolved ;).</p>\n<p>Here is what I did :</p>\n<ol>\n<li><p>Add property to properties or YAML file</p>\n</li>\n<li><p>Make Sure MAIN CLASS IS ANNOTATED WITH @EnableAutoConfiguration OR @SpringBootApplication</p>\n</li>\n<li><p>CREATE AppConfig IN WHICH YOU CAN USE @Value</p>\n<p>@Value(&quot;${PROPERTY}&quot;)\nprivate String URL;</p>\n</li>\n</ol>\n<p>Annotate this AppConfig with @Configuration at class level</p>\n<ol start=\"4\">\n<li>SO FAR SETUP IS DONE NOW USE IT WHEREVER YOU WANT BY AUTOWIRING AppConfig</li>\n</ol>\n<p>EXAMPLE: IN SOME SERVICE     @Autowired private AppConfig appConfig;\nAND IN THE METHOD OF THIS SERVICE call appConfig.getUrl() to get the value of property URL from a properties file.</p>\n<p>NOTE: DON'T TRY TO GET VALUE IN CONSTRUCTOR OF SERVICE IT WILL BE NULL.</p>\n"},{"tags":[],"owner":{"account_id":18473332,"reputation":45,"user_id":13457596,"display_name":"emily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628366330,"creation_date":1628347130,"answer_id":68693341,"question_id":15937592,"body_markdown":"Mine was casued by importing a wrong `dependency`. \r\nI had it imported from `lombok` by accident instead of `&quot;import org.springframework.beans.factory.annotation.Value;&quot;`\r\nChanging it back solved the problem ","title":"Spring @Value is not resolving to value from property file","body":"<p>Mine was casued by importing a wrong <code>dependency</code>.\nI had it imported from <code>lombok</code> by accident instead of <code>&quot;import org.springframework.beans.factory.annotation.Value;&quot;</code>\nChanging it back solved the problem</p>\n"},{"tags":[],"owner":{"account_id":9912449,"reputation":1922,"user_id":7338630,"display_name":"gmexo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664217260,"creation_date":1664217260,"answer_id":73858493,"question_id":15937592,"body_markdown":"For me it was due to resources folder not marked as &quot;Resources Root&quot; in Intellij IDEA. Just right-click on resources directory -&gt; &quot;Mark directory as&quot; -&gt; &quot;Resources Root&quot;.","title":"Spring @Value is not resolving to value from property file","body":"<p>For me it was due to resources folder not marked as &quot;Resources Root&quot; in Intellij IDEA. Just right-click on resources directory -&gt; &quot;Mark directory as&quot; -&gt; &quot;Resources Root&quot;.</p>\n"},{"tags":[],"owner":{"account_id":441792,"reputation":377,"user_id":832091,"display_name":"marcel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664278780,"creation_date":1664278780,"answer_id":73866966,"question_id":15937592,"body_markdown":"The reason why things were not working for me was because I had 2 instances of PropertyPlaceholderConfigurer beans set up (in a large set of spring configurations). And once one is setup the other is completely useless. It is probably a very obvious thing, but for me it was not. I do not understand why a second instance of a PropertyPlaceholderConfigurer does not throw an exception at the moment of creation (when there is already another instance). Instead of silently ignoring the second instance. Like this you could get a meaningful error.\r\n\r\nHope it is helpful for anyone out there :.)","title":"Spring @Value is not resolving to value from property file","body":"<p>The reason why things were not working for me was because I had 2 instances of PropertyPlaceholderConfigurer beans set up (in a large set of spring configurations). And once one is setup the other is completely useless. It is probably a very obvious thing, but for me it was not. I do not understand why a second instance of a PropertyPlaceholderConfigurer does not throw an exception at the moment of creation (when there is already another instance). Instead of silently ignoring the second instance. Like this you could get a meaningful error.</p>\n<p>Hope it is helpful for anyone out there :.)</p>\n"},{"tags":[],"owner":{"account_id":16967213,"reputation":43,"user_id":12272760,"display_name":"MatthieuBlm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671786345,"creation_date":1671786019,"answer_id":74897866,"question_id":15937592,"body_markdown":"For me it was because I had moved my project root folder. I don&#39;t know why, but removing all folders `.settings`, `.mvn`, `target`, `.project` and reimport project into eclipse worked for me.","title":"Spring @Value is not resolving to value from property file","body":"<p>For me it was because I had moved my project root folder. I don't know why, but removing all folders <code>.settings</code>, <code>.mvn</code>, <code>target</code>, <code>.project</code> and reimport project into eclipse worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11302207,"reputation":103,"user_id":8287786,"display_name":"Ali Hosseinzadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675594342,"creation_date":1675594342,"answer_id":75351703,"question_id":15937592,"body_markdown":"In my case, I did not care about where does this value is used! If it uses in constructor, take care about components&#39; loading order!","title":"Spring @Value is not resolving to value from property file","body":"<p>In my case, I did not care about where does this value is used! If it uses in constructor, take care about components' loading order!</p>\n"},{"tags":[],"owner":{"account_id":129048,"reputation":1142,"user_id":327335,"display_name":"gersonZaragocin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682629350,"creation_date":1682629350,"answer_id":76124640,"question_id":15937592,"body_markdown":"This was a real case and still relevant for this question.\r\n\r\nWhen you have a config server provided configuration, and it is running in CloudFoundry. You have to make sure that you have configured the permissions to access the git repository that holds the configuration files. \r\n\r\nThe weird thing in this case is that sometimes the value was being resolved and sometimes it did not. \r\n\r\nThe cloud config server deployed had 2 instances created. One of the instances was created when the github token was still valid and the other was created when the token was invalidated using manual scalation. So this second instance was not UP although the first instance continued UP and running.\r\n\r\nThe service depending on that config server was deployed with 3 instances. When the application was deployed it created 2 instances with the values correctly injected and 1 instance with values with null because it was trying to resolve the configuration properties from the config server instance that was not UP. ","title":"Spring @Value is not resolving to value from property file","body":"<p>This was a real case and still relevant for this question.</p>\n<p>When you have a config server provided configuration, and it is running in CloudFoundry. You have to make sure that you have configured the permissions to access the git repository that holds the configuration files.</p>\n<p>The weird thing in this case is that sometimes the value was being resolved and sometimes it did not.</p>\n<p>The cloud config server deployed had 2 instances created. One of the instances was created when the github token was still valid and the other was created when the token was invalidated using manual scalation. So this second instance was not UP although the first instance continued UP and running.</p>\n<p>The service depending on that config server was deployed with 3 instances. When the application was deployed it created 2 instances with the values correctly injected and 1 instance with values with null because it was trying to resolve the configuration properties from the config server instance that was not UP.</p>\n"},{"tags":[],"owner":{"account_id":4584394,"reputation":55,"user_id":3719599,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692787957,"creation_date":1692787957,"answer_id":76960682,"question_id":15937592,"body_markdown":"Don&#39;t repeat my mistake. If this occurrs during tests only make sure you put your value(s) in property file **in** /test/resources","title":"Spring @Value is not resolving to value from property file","body":"<p>Don't repeat my mistake. If this occurrs during tests only make sure you put your value(s) in property file <strong>in</strong> /test/resources</p>\n"}],"owner":{"account_id":260334,"reputation":4341,"user_id":543829,"accept_rate":83,"display_name":"TS-"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208936,"favorite_count":0,"down_vote_count":1,"up_vote_count":92,"accepted_answer_id":15995837,"answer_count":15,"score":91,"last_activity_date":1692787957,"creation_date":1365632788,"question_id":15937592,"body_markdown":"I&#39;ve had this working in some other project before, I am just re-doing the same thing but for some reason it&#39;s not working. The Spring `@Value` is not reading from property file, but instead it&#39;s taking the value literally\r\n\r\n**AppConfig.java**\r\n\r\n    @Component\r\n    public class AppConfig\r\n    {\r\n        @Value(&quot;${key.value1}&quot;)\r\n        private String value;\r\n        \r\n        public String getValue()\r\n        {\r\n            return value;\r\n        }\r\n    }\r\n\r\n\r\n**applicationContext.xml:**\r\n\r\n    &lt;context:component-scan\r\n    \tbase-package=&quot;com.test.config&quot; /&gt;\r\n    &lt;context:annotation-config /&gt;\r\n    \r\n    &lt;bean id=&quot;appConfigProperties&quot;\r\n    \tclass=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n    \t&lt;property name=&quot;location&quot; value=&quot;classpath:appconfig.properties&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n**appconfig.properties**\r\n\r\n    key.value1=test value 1\r\n\r\nIn my controller, where I have:\r\n\r\n    @Autowired\r\n    private AppConfig appConfig;\r\n    \r\nThe application starts just fine, but when I do\r\n\r\n    appConfig.getValue()\r\n\r\nit returns \r\n\r\n    ${key.value1}\r\n\r\nIt doesn&#39;t resolve to the value inside the properties file.\r\n\r\nThoughts?","title":"Spring @Value is not resolving to value from property file","body":"<p>I've had this working in some other project before, I am just re-doing the same thing but for some reason it's not working. The Spring <code>@Value</code> is not reading from property file, but instead it's taking the value literally</p>\n\n<p><strong>AppConfig.java</strong></p>\n\n<pre><code>@Component\npublic class AppConfig\n{\n    @Value(\"${key.value1}\")\n    private String value;\n\n    public String getValue()\n    {\n        return value;\n    }\n}\n</code></pre>\n\n<p><strong>applicationContext.xml:</strong></p>\n\n<pre><code>&lt;context:component-scan\n    base-package=\"com.test.config\" /&gt;\n&lt;context:annotation-config /&gt;\n\n&lt;bean id=\"appConfigProperties\"\n    class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"location\" value=\"classpath:appconfig.properties\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p><strong>appconfig.properties</strong></p>\n\n<pre><code>key.value1=test value 1\n</code></pre>\n\n<p>In my controller, where I have:</p>\n\n<pre><code>@Autowired\nprivate AppConfig appConfig;\n</code></pre>\n\n<p>The application starts just fine, but when I do</p>\n\n<pre><code>appConfig.getValue()\n</code></pre>\n\n<p>it returns </p>\n\n<pre><code>${key.value1}\n</code></pre>\n\n<p>It doesn't resolve to the value inside the properties file.</p>\n\n<p>Thoughts?</p>\n"},{"tags":["java","docker","devops","tomcat9"],"comments":[{"owner":{"display_name":"user19238163"},"score":1,"creation_date":1692770456,"post_id":76958407,"comment_id":135667820,"body_markdown":"Do you have a target directory? did you create it? Normally target is an example we gave you should create an empty directory and place the name of that directory.","body":"Do you have a target directory? did you create it? Normally target is an example we gave you should create an empty directory and place the name of that directory."},{"owner":{"account_id":29279979,"reputation":1,"user_id":22432798,"display_name":"Vikas S"},"score":0,"creation_date":1692772846,"post_id":76958407,"comment_id":135668219,"body_markdown":"I did not create target directory, but after running mvn package it will create target folder and application packages","body":"I did not create target directory, but after running mvn package it will create target folder and application packages"},{"owner":{"display_name":"user19238163"},"score":1,"creation_date":1692777754,"post_id":76958407,"comment_id":135669091,"body_markdown":"Ok then go this path /var/lib/docker/tmp/buildkit-mount3438055024/ and then use the ls command to verify if it created the target directory. Also, some time last directory is present but some other direct from the path is missing. you need to check if this path has all the directories if not then create them.","body":"Ok then go this path /var/lib/docker/tmp/buildkit-mount3438055024/ and then use the ls command to verify if it created the target directory. Also, some time last directory is present but some other direct from the path is missing. you need to check if this path has all the directories if not then create them."},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1692787872,"post_id":76958407,"comment_id":135671022,"body_markdown":"The `target` directory needs to exist on your host before you run `docker build`; did you need to run `mvn package` first?  It could help to [edit] the question and describe the problem in a little more detail, including what command(s) you ran.","body":"The <code>target</code> directory needs to exist on your host before you run <code>docker build</code>; did you need to run <code>mvn package</code> first?  It could help to <a href=\"https://stackoverflow.com/posts/76958407/edit\">edit</a> the question and describe the problem in a little more detail, including what command(s) you ran."}],"owner":{"account_id":29279979,"reputation":1,"user_id":22432798,"display_name":"Vikas S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692787803,"creation_date":1692767141,"question_id":76958407,"body_markdown":"Dockerfile\r\n\r\n```lang-sh\r\nFROM tomcat:9.0\r\n\r\nLABEL &quot;project&quot;=&quot;java_app&quot;\r\nLABEL &quot;author&quot;=&quot;vikas&quot;\r\n\r\n# To remove the default ROOT web applications\r\nRUN rm -rf /usr/local/tomcat/webapps/ROOT\r\n\r\n\r\n# To copy war file to the webapps directory in the docker container\r\nCOPY target/*.war var/lib/tomcat9/webapps/\r\n\r\n# Expose the default tomcat port\r\nEXPOSE 8080\r\n\r\n# Start tomcat when the container starts\r\nCMD [&quot;catalina.sh&quot;,&quot;run&quot;]\r\n```\r\n\r\n```none\r\n CACHED [2/3] RUN rm -rf /usr/local/tomcat/webapps/ROOT               0.0s\r\n =&gt; ERROR [3/3] COPY target/*.war var/lib/tomcat9/webapps/               0.1s\r\n------\r\n &gt; [3/3] COPY target/*.war var/lib/tomcat9/webapps/:\r\n------\r\nDockerfile:11\r\n--------------------\r\n   9 |\r\n  10 |     # To copy war file to the webapps directory in the docker container\r\n  11 | &gt;&gt;&gt; COPY target/*.war var/lib/tomcat9/webapps/\r\n  12 |\r\n  13 |     # Expose the default tomcat port\r\n--------------------\r\nERROR: failed to solve: lstat /var/lib/docker/tmp/buildkit-mount3438055024/target: no such file or directory\r\n```","title":"while diploying or building docker image for java application using tomcat:9 i&#39;m facing error that no such directory target/*.war","body":"<p>Dockerfile</p>\n<pre class=\"lang-sh prettyprint-override\"><code>FROM tomcat:9.0\n\nLABEL &quot;project&quot;=&quot;java_app&quot;\nLABEL &quot;author&quot;=&quot;vikas&quot;\n\n# To remove the default ROOT web applications\nRUN rm -rf /usr/local/tomcat/webapps/ROOT\n\n\n# To copy war file to the webapps directory in the docker container\nCOPY target/*.war var/lib/tomcat9/webapps/\n\n# Expose the default tomcat port\nEXPOSE 8080\n\n# Start tomcat when the container starts\nCMD [&quot;catalina.sh&quot;,&quot;run&quot;]\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code> CACHED [2/3] RUN rm -rf /usr/local/tomcat/webapps/ROOT               0.0s\n =&gt; ERROR [3/3] COPY target/*.war var/lib/tomcat9/webapps/               0.1s\n------\n &gt; [3/3] COPY target/*.war var/lib/tomcat9/webapps/:\n------\nDockerfile:11\n--------------------\n   9 |\n  10 |     # To copy war file to the webapps directory in the docker container\n  11 | &gt;&gt;&gt; COPY target/*.war var/lib/tomcat9/webapps/\n  12 |\n  13 |     # Expose the default tomcat port\n--------------------\nERROR: failed to solve: lstat /var/lib/docker/tmp/buildkit-mount3438055024/target: no such file or directory\n</code></pre>\n"},{"tags":["java","eclipse","maven","selenium-webdriver","plugins"],"owner":{"account_id":24063515,"reputation":3,"user_id":18040408,"display_name":"Harshaaaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692787562,"creation_date":1692787562,"question_id":76960628,"body_markdown":"Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:3.3.0 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:3.3.0\r\n\r\nPlugin org.apache.maven.plugins:maven-resources-plugin:3.3.0 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:3.3.0\r\n\r\nwhile creating maven project getting error that plugin error. after project creating it gives plugin error in pom.xml file in first row.\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 **https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;**\r\n ","title":"Having error while creating maven project Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:3.3.0","body":"<p>Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:3.3.0 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:3.3.0</p>\n<p>Plugin org.apache.maven.plugins:maven-resources-plugin:3.3.0 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:3.3.0</p>\n<p>while creating maven project getting error that plugin error. after project creating it gives plugin error in pom.xml file in first row.</p>\n<p>**</p>\n"},{"tags":["java","if-statement","double","calculator"],"comments":[{"owner":{"account_id":915836,"reputation":6730,"user_id":948652,"accept_rate":85,"display_name":"arynaq"},"score":0,"creation_date":1388786520,"post_id":20913442,"comment_id":31396599,"body_markdown":"What is the difference between a decimal number and its rounded down value?","body":"What is the difference between a decimal number and its rounded down value?"},{"owner":{"account_id":3697360,"reputation":173,"user_id":3078305,"accept_rate":94,"display_name":"user202051"},"score":0,"creation_date":1388786676,"post_id":20913442,"comment_id":31396679,"body_markdown":"The decimal point. How about splitting the double to an array, iterating through and checking if any of the any of the values are a&quot;.&quot;","body":"The decimal point. How about splitting the double to an array, iterating through and checking if any of the any of the values are a&quot;.&quot;"},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1388788047,"post_id":20913442,"comment_id":31397297,"body_markdown":"I don&#39;t know what a &quot;recursive decimal&quot; is, but if you mean a &quot;repeating decimal&quot;, like 1/3 = 0.333333... or 1/27 = 0.037037037... -- you can&#39;t.  A `double` is incapable of representing numbers like 1/3 exactly.  Computers represent numbers in binary, and every number that a `double` represents exactly will be of the form N/(2^M) where N and M are integers.  And any such number, if it isn&#39;t a whole number, will have a decimal representation that terminates.","body":"I don&#39;t know what a &quot;recursive decimal&quot; is, but if you mean a &quot;repeating decimal&quot;, like 1/3 = 0.333333... or 1/27 = 0.037037037... -- you can&#39;t.  A <code>double</code> is incapable of representing numbers like 1/3 exactly.  Computers represent numbers in binary, and every number that a <code>double</code> represents exactly will be of the form N/(2^M) where N and M are integers.  And any such number, if it isn&#39;t a whole number, will have a decimal representation that terminates."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1388788311,"post_id":20913442,"comment_id":31397402,"body_markdown":"@ajb Of course, a &quot;repeating decimal&quot; is, IIRC, always representable as a ratio of whole numbers.  Unfortunately, however, once the number has been cast to float/double it&#39;s lost it&#39;s repeating character.","body":"@ajb Of course, a &quot;repeating decimal&quot; is, IIRC, always representable as a ratio of whole numbers.  Unfortunately, however, once the number has been cast to float/double it&#39;s lost it&#39;s repeating character."}],"answers":[{"tags":[],"owner":{"account_id":2259867,"reputation":1306,"user_id":1990228,"display_name":"Mitesh Pathak"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1388788204,"creation_date":1388786819,"answer_id":20913552,"question_id":20913442,"body_markdown":"**[UPDATE]** returns value - with 3 decimal places\r\n\r\n    public boolean isWhole(double value) {\r\n        return Math.floor(value) == value;\r\n    }\r\n\r\n+ You can&#39;t have a function that returns either `int` or `double`\r\n+ To convert `double` to `int`; simply **typecast** :- `int valueInt = (int) valueDouble;`  ","title":"Only return a decimal if it&#39;s not a whole number","body":"<p><strong>[UPDATE]</strong> returns value - with 3 decimal places</p>\n\n<pre><code>public boolean isWhole(double value) {\n    return Math.floor(value) == value;\n}\n</code></pre>\n\n<ul>\n<li>You can't have a function that returns either <code>int</code> or <code>double</code></li>\n<li>To convert <code>double</code> to <code>int</code>; simply <strong>typecast</strong> :- <code>int valueInt = (int) valueDouble;</code>  </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3535938,"reputation":4695,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1388836117,"creation_date":1388786908,"answer_id":20913580,"question_id":20913442,"body_markdown":"This was my original answer:\r\n\r\nHow about \r\n\r\n    Math.floor(x)==x\r\n\r\nThe floor leaves the x unchanged, bit-by-bit if it is a mathematical integer (say the docs), so the equality should hold exactly when there is nothing to round.\r\n\r\nAfter some thought, I think using exact comparison may lead to unwanted results. The question is, what the requirements of the OP really are. Is it\r\n\r\n 1. If it is a mathematical integer, show the number with no digits\r\n    after the decimal point, if it is not, show 3 digits after the\r\n    decimal point. Or is it\r\n\r\n 2. If formatting with three digits results in 000 after the decimal point, show only an integer.\r\n\r\nThe solution shown above and in other answers only works, if (1) is the requirement, because the number 2.000001 would turn out as 2.000, because it is not a mathematical integer.\r\n\r\nIf the Locale is fixed to a default, formatting 1.0 for the endsWith()-pattern can of course be optimized into a fixed string like &quot;.000&quot; or &quot;,000&quot;.\r\n\r\nIf (2) is actually requested, my hunch is that there is no way around first formatting the number to a string and only then stripping the zeros, like so:\r\n\r\n    String format(Locale l, double d) {\r\n      String zeros = String.format(l, &quot;%.3f&quot;, 1.0d);\r\n      String s = String.format(l, &quot;%.3f&quot;, d); \r\n      if (s.endsWith(zeros.substring(1))) {\r\n        return s.substring(0, s.length()-4);\r\n      }\r\n      return s;\r\n    }\r\n\r\n","title":"Only return a decimal if it&#39;s not a whole number","body":"<p>This was my original answer:</p>\n\n<p>How about </p>\n\n<pre><code>Math.floor(x)==x\n</code></pre>\n\n<p>The floor leaves the x unchanged, bit-by-bit if it is a mathematical integer (say the docs), so the equality should hold exactly when there is nothing to round.</p>\n\n<p>After some thought, I think using exact comparison may lead to unwanted results. The question is, what the requirements of the OP really are. Is it</p>\n\n<ol>\n<li><p>If it is a mathematical integer, show the number with no digits\nafter the decimal point, if it is not, show 3 digits after the\ndecimal point. Or is it</p></li>\n<li><p>If formatting with three digits results in 000 after the decimal point, show only an integer.</p></li>\n</ol>\n\n<p>The solution shown above and in other answers only works, if (1) is the requirement, because the number 2.000001 would turn out as 2.000, because it is not a mathematical integer.</p>\n\n<p>If the Locale is fixed to a default, formatting 1.0 for the endsWith()-pattern can of course be optimized into a fixed string like \".000\" or \",000\".</p>\n\n<p>If (2) is actually requested, my hunch is that there is no way around first formatting the number to a string and only then stripping the zeros, like so:</p>\n\n<pre><code>String format(Locale l, double d) {\n  String zeros = String.format(l, \"%.3f\", 1.0d);\n  String s = String.format(l, \"%.3f\", d); \n  if (s.endsWith(zeros.substring(1))) {\n    return s.substring(0, s.length()-4);\n  }\n  return s;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3282665,"reputation":155,"user_id":2762880,"display_name":"erzr2"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1388786927,"creation_date":1388786927,"answer_id":20913587,"question_id":20913442,"body_markdown":"To see if a double is a whole number use\r\n    \r\n        double d;        \r\n        int whole = (int) d;\r\n        if(whole == d){\r\n            return whole;\r\n        }\r\n        else{\r\n            (your formatting here)\r\n            return formattedDouble;\r\n        }\r\nYou could check if it is recursive by creating:\r\n       \r\n      String s = d + &quot;&quot;;\r\n      for(int i = 1; i &lt; s.length(); i++){\r\n          if(s.charAt(i) == s.charAt(i-1)){\r\n              continue;\r\n          }\r\n          else{\r\n             return false;\r\n          }\r\n      }\r\n","title":"Only return a decimal if it&#39;s not a whole number","body":"<p>To see if a double is a whole number use</p>\n\n<pre><code>    double d;        \n    int whole = (int) d;\n    if(whole == d){\n        return whole;\n    }\n    else{\n        (your formatting here)\n        return formattedDouble;\n    }\n</code></pre>\n\n<p>You could check if it is recursive by creating:</p>\n\n<pre><code>  String s = d + \"\";\n  for(int i = 1; i &lt; s.length(); i++){\n      if(s.charAt(i) == s.charAt(i-1)){\n          continue;\n      }\n      else{\n         return false;\n      }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2315848,"reputation":2035,"user_id":2299084,"accept_rate":50,"display_name":"flaviut"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1388787575,"creation_date":1388787040,"answer_id":20913616,"question_id":20913442,"body_markdown":"    if(Math.abs(in-Math.floor(in)) &lt; 0.001){\r\n        /* is whole number */\r\n    } else {\r\n        /* is not whole number */\r\n    }\r\n\r\nWhole number isn&#39;t really defined for doubles, so a whole number can be seen as a number that has would not result in `n.000`. `0.001` is chosen specifically because it is the intended output precision.","title":"Only return a decimal if it&#39;s not a whole number","body":"<pre><code>if(Math.abs(in-Math.floor(in)) &lt; 0.001){\n    /* is whole number */\n} else {\n    /* is not whole number */\n}\n</code></pre>\n\n<p>Whole number isn't really defined for doubles, so a whole number can be seen as a number that has would not result in <code>n.000</code>. <code>0.001</code> is chosen specifically because it is the intended output precision.</p>\n"},{"tags":[],"owner":{"account_id":145851,"reputation":20697,"user_id":355931,"accept_rate":88,"display_name":"Barranka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1388787151,"creation_date":1388787151,"answer_id":20913642,"question_id":20913442,"body_markdown":"My first advice would be: keep it simple. Java has functions that make this sort of thing easy:\r\n\r\n    import java.Math;\r\n    public class MyFunctionsLibrary {\r\n        public static boolean isWhole(double x) {\r\n            if(x - Math.floor(x) == 0)\r\n                return true;\r\n            else\r\n                return false;\r\n        }\r\n        public static void testIt() {\r\n            double a = 123.456;\r\n            Integer whole = null;\r\n            Double nonWhole = null;\r\n            if(isWhole(a))\r\n                whole = new Integer(Math.floor(a));\r\n            else\r\n                nonWhole = new Double(a);\r\n        }\r\n    }\r\n","title":"Only return a decimal if it&#39;s not a whole number","body":"<p>My first advice would be: keep it simple. Java has functions that make this sort of thing easy:</p>\n\n<pre><code>import java.Math;\npublic class MyFunctionsLibrary {\n    public static boolean isWhole(double x) {\n        if(x - Math.floor(x) == 0)\n            return true;\n        else\n            return false;\n    }\n    public static void testIt() {\n        double a = 123.456;\n        Integer whole = null;\n        Double nonWhole = null;\n        if(isWhole(a))\n            whole = new Integer(Math.floor(a));\n        else\n            nonWhole = new Double(a);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3697360,"reputation":173,"user_id":3078305,"accept_rate":94,"display_name":"user202051"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8138,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20913552,"answer_count":5,"score":3,"last_activity_date":1692787271,"creation_date":1388786373,"question_id":20913442,"body_markdown":"I&#39;ve been trying to write a function `isWhole` that is given a double and looks to see if it&#39;s a whole number, and if it is return the value without the decimal (as an int?) else return it with 3 decimal places (I can do this part with number format.\r\n\r\nMy question is how can I check if a double is a whole number and even a recursive decimal?","title":"Only return a decimal if it&#39;s not a whole number","body":"<p>I've been trying to write a function <code>isWhole</code> that is given a double and looks to see if it's a whole number, and if it is return the value without the decimal (as an int?) else return it with 3 decimal places (I can do this part with number format.</p>\n<p>My question is how can I check if a double is a whole number and even a recursive decimal?</p>\n"},{"tags":["java","spring-boot","spring-security","keycloak"],"comments":[{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1692787229,"post_id":76960564,"comment_id":135670897,"body_markdown":"+ the better &quot;question&quot; is - how can I allow this anonymous user to interact with the application? Problem is for a given role I have attributes like (&quot;email&quot;) to verify it&#39;s authenticity. An anonymous user is *anonymous* and just browsing? Should I identify them via IP?","body":"+ the better &quot;question&quot; is - how can I allow this anonymous user to interact with the application? Problem is for a given role I have attributes like (&quot;email&quot;) to verify it&#39;s authenticity. An anonymous user is <i>anonymous</i> and just browsing? Should I identify them via IP?"}],"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692787071,"creation_date":1692787071,"question_id":76960564,"body_markdown":"Currently, I have an role-based access enabled on my back-end. It&#39;s similar to @[ch4mp][1]&#39;s tutorials on [GitHub][2]. It&#39;s a very basic resource server (also a BFF, but that&#39;s not the matter) with `spring-addons-webmvc-jwt-resource-server`! That does it&#39;s job just fine. \r\n\r\nHowever, now I&#39;m looking to enable some sort of &quot;anonymous&quot; user - similar to [this StackOverflow question][3] or [this GitHub issue][4] *(and many more)*.\r\n\r\nAn &quot;anonymous&quot; user is granted some basic access to SOME endpoints. Furthermore, I want to save data attributes to said user (e.g. I got a tracking class which requires a factual role). Or like in most front-ends a user can also use the app and interact with it *(and  thus **is required access** to some endpoints)* on a rudimentary level. Further endpoints would require the user to be signed-in!\r\n\r\n**How can one implement this with a basic Role-Based Authentication? Preferably with KeyCloak?** \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/619830/ch4mp\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server\r\n  [3]: https://stackoverflow.com/questions/63389940/login-as-anonymous-user-in-keycloak\r\n  [4]: https://github.com/quarkusio/quarkus/issues/6807","title":"How to enable &quot;Anonymous&quot; Users with RBAC in KeyCloak?","body":"<p>Currently, I have an role-based access enabled on my back-end. It's similar to @<a href=\"https://stackoverflow.com/users/619830/ch4mp\">ch4mp</a>'s tutorials on <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server\" rel=\"nofollow noreferrer\">GitHub</a>. It's a very basic resource server (also a BFF, but that's not the matter) with <code>spring-addons-webmvc-jwt-resource-server</code>! That does it's job just fine.</p>\n<p>However, now I'm looking to enable some sort of &quot;anonymous&quot; user - similar to <a href=\"https://stackoverflow.com/questions/63389940/login-as-anonymous-user-in-keycloak\">this StackOverflow question</a> or <a href=\"https://github.com/quarkusio/quarkus/issues/6807\" rel=\"nofollow noreferrer\">this GitHub issue</a> <em>(and many more)</em>.</p>\n<p>An &quot;anonymous&quot; user is granted some basic access to SOME endpoints. Furthermore, I want to save data attributes to said user (e.g. I got a tracking class which requires a factual role). Or like in most front-ends a user can also use the app and interact with it <em>(and  thus <strong>is required access</strong> to some endpoints)</em> on a rudimentary level. Further endpoints would require the user to be signed-in!</p>\n<p><strong>How can one implement this with a basic Role-Based Authentication? Preferably with KeyCloak?</strong></p>\n"},{"tags":["java","json","jackson","jackson2"],"comments":[{"owner":{"account_id":8306034,"reputation":5283,"user_id":6243024,"display_name":"ck1"},"score":0,"creation_date":1629036979,"post_id":68695756,"comment_id":121575341,"body_markdown":"Have you tried mapping your JSON to POJOs instead of using a custom deserializer?","body":"Have you tried mapping your JSON to POJOs instead of using a custom deserializer?"},{"owner":{"account_id":261166,"reputation":1670,"user_id":545164,"display_name":"VimalKumar"},"score":0,"creation_date":1659448392,"post_id":68695756,"comment_id":129293794,"body_markdown":"Did you figure this out? I am also in the same boat and would appreciate your fidnings","body":"Did you figure this out? I am also in the same boat and would appreciate your fidnings"},{"owner":{"account_id":17770016,"reputation":159,"user_id":12903860,"display_name":"Alessandro Parisi"},"score":0,"creation_date":1659545834,"post_id":68695756,"comment_id":129321648,"body_markdown":"@VimalKumar unfortunately no. At the time I was having trouble with Gson becase there was a nasty &quot;bug&quot; when handling Long values. Several months later it got fixed, in the meanwhile though my conclusion was that using Gson is much simpler, even writing adapters is much easier and there are plenty of crystal clear guides, can&#39;t say the same for Jackson","body":"@VimalKumar unfortunately no. At the time I was having trouble with Gson becase there was a nasty &quot;bug&quot; when handling Long values. Several months later it got fixed, in the meanwhile though my conclusion was that using Gson is much simpler, even writing adapters is much easier and there are plenty of crystal clear guides, can&#39;t say the same for Jackson"},{"owner":{"account_id":261166,"reputation":1670,"user_id":545164,"display_name":"VimalKumar"},"score":0,"creation_date":1659558492,"post_id":68695756,"comment_id":129325882,"body_markdown":"No worries. I figured out TypeAdapterFactories are more for serialization/deserialization in one package. In our TypeAdapterFactories, we deserialized the current json to object, and then updated few fields on the object. I achieved this with JsonCreator annotation on a method and JsonProperty on method fields, to deserialize and then create the final object and return the object. Thanks for the response.","body":"No worries. I figured out TypeAdapterFactories are more for serialization/deserialization in one package. In our TypeAdapterFactories, we deserialized the current json to object, and then updated few fields on the object. I achieved this with JsonCreator annotation on a method and JsonProperty on method fields, to deserialize and then create the final object and return the object. Thanks for the response."}],"answers":[{"tags":[],"owner":{"account_id":18537481,"reputation":1557,"user_id":13506812,"display_name":"abhinav kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692786984,"creation_date":1692786984,"answer_id":76960546,"question_id":68695756,"body_markdown":"    Sharing a code snippet for implementing custom Deserializer \r\n    Basically here we are stopping the user to enter decimal point for integer type for rest api call ---&gt;&gt;\r\n        \r\n        import com.fasterxml.jackson.core.JsonParser;\r\n        import com.fasterxml.jackson.core.JsonProcessingException;\r\n        import com.fasterxml.jackson.databind.DeserializationContext;\r\n        import com.fasterxml.jackson.databind.JsonDeserializer;\r\n        import com.fasterxml.jackson.databind.JsonMappingException;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.http.HttpStatus;\r\n        \r\n        import java.io.IOException;\r\n        \r\n        public class CustomIntegerDeserializer extends JsonDeserializer&lt;Integer&gt; {\r\n        \r\n            private static Logger logger = LoggerFactory.getLogger(CustomIntegerDeserializer.class);\r\n        \r\n            @Override\r\n            public Integer deserialize(JsonParser p, DeserializationContext ctx)\r\n                 throws IOException,JsonProcessingException {\r\n                logger.info(&quot;CustomIntegerDeserializer..............................&quot;);\r\n                Double doubleVal = p.getDoubleValue();\r\n                try {\r\n                    double ceil = Math.ceil(doubleVal);\r\n                    double floor = Math.floor(doubleVal);\r\n                    if((ceil-floor)&gt;0) {\r\n                        String message = String.format(&quot;Cannot coerce a floating-point value (&#39;%s&#39;) into Integer&quot;, doubleVal.toString());\r\n                        throw new Exception(message);\r\n                    }\r\n                    return Integer.valueOf(p.getIntValue());\r\n                } catch (Exception exception) {\r\n                    logger.info(&quot;Exception in CustomIntegerDeserializer::{}&quot;,exception.getMessage());\r\n              \r\n                    //throw new custom exception which are to be managed by exception handler\r\n                    \r\n                }\r\n            }\r\n        \r\n        }\r\n    \r\n       \r\n        using on bean class--&gt;\r\n         @JsonDeserialize(using = CustomIntegerDeserializer.class)\r\n            private Integer initRatePerSec = -1;\r\n    \r\n        request--&gt;\r\n        {\r\n            .....\r\n            &quot;initRatePerSec&quot;: 5.1\r\n        }\r\n        response--&gt;\r\n        {\r\n            &quot;statusCode&quot;: 400,\r\n             ..............,\r\n            &quot;message&quot;: &quot;JSON parse error: Cannot coerce a floating-point value (&#39;5.1&#39;) into Integer; \r\n        }","title":"Jackson, how to properly write a custom deserializer","body":"<pre><code>Sharing a code snippet for implementing custom Deserializer \nBasically here we are stopping the user to enter decimal point for integer type for rest api call ---&gt;&gt;\n    \n    import com.fasterxml.jackson.core.JsonParser;\n    import com.fasterxml.jackson.core.JsonProcessingException;\n    import com.fasterxml.jackson.databind.DeserializationContext;\n    import com.fasterxml.jackson.databind.JsonDeserializer;\n    import com.fasterxml.jackson.databind.JsonMappingException;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.http.HttpStatus;\n    \n    import java.io.IOException;\n    \n    public class CustomIntegerDeserializer extends JsonDeserializer&lt;Integer&gt; {\n    \n        private static Logger logger = LoggerFactory.getLogger(CustomIntegerDeserializer.class);\n    \n        @Override\n        public Integer deserialize(JsonParser p, DeserializationContext ctx)\n             throws IOException,JsonProcessingException {\n            logger.info(&quot;CustomIntegerDeserializer..............................&quot;);\n            Double doubleVal = p.getDoubleValue();\n            try {\n                double ceil = Math.ceil(doubleVal);\n                double floor = Math.floor(doubleVal);\n                if((ceil-floor)&gt;0) {\n                    String message = String.format(&quot;Cannot coerce a floating-point value ('%s') into Integer&quot;, doubleVal.toString());\n                    throw new Exception(message);\n                }\n                return Integer.valueOf(p.getIntValue());\n            } catch (Exception exception) {\n                logger.info(&quot;Exception in CustomIntegerDeserializer::{}&quot;,exception.getMessage());\n          \n                //throw new custom exception which are to be managed by exception handler\n                \n            }\n        }\n    \n    }\n\n   \n    using on bean class--&gt;\n     @JsonDeserialize(using = CustomIntegerDeserializer.class)\n        private Integer initRatePerSec = -1;\n\n    request--&gt;\n    {\n        .....\n        &quot;initRatePerSec&quot;: 5.1\n    }\n    response--&gt;\n    {\n        &quot;statusCode&quot;: 400,\n         ..............,\n        &quot;message&quot;: &quot;JSON parse error: Cannot coerce a floating-point value ('5.1') into Integer; \n    }\n</code></pre>\n"}],"owner":{"account_id":17770016,"reputation":159,"user_id":12903860,"display_name":"Alessandro Parisi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692786984,"creation_date":1628366736,"question_id":68695756,"body_markdown":"I&#39;m trying to migrate from Gson to Jackson, but I&#39;m encountering many difficulties because I don&#39;t quite understand how to deserialize a complex JSON.  \r\nThe file looks like this:  \r\n```json\r\n{\r\n    &quot;data_type&quot;: &quot;DatType1&quot;,\r\n    &quot;data&quot;: {\r\n        &quot;data_array&quot;: [\r\n            {\r\n                &quot;data_type&quot;: &quot;DataType2&quot;,\r\n                &quot;data&quot;: {\r\n                    &quot;prop1&quot;: &quot;AString&quot;,\r\n                    &quot;prop2&quot;: ALongValue,\r\n                    &quot;prop3&quot;: null,\r\n                    &quot;prop4&quot;: &quot;AString&quot;,\r\n                }\r\n            },\r\n            {\r\n                &quot;data_type&quot;: &quot;DataType2&quot;,\r\n                &quot;data&quot;: {\r\n                    &quot;prop1&quot;: &quot;AString&quot;,\r\n                    &quot;prop2&quot;: ALongValue,\r\n                    &quot;prop3&quot;: &quot;AString&quot;,\r\n                    &quot;prop4&quot;: null,\r\n                }\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\nI tried to write this custom deserializer:  \r\n```java\r\npublic class DataListDeserializer extends StdDeserializer&lt;DataList&gt; {\r\n\r\n    public DataListDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public DataListDeserializer(Class&lt;?&gt; vc) {\r\n        super(vc);\r\n    }\r\n\r\n    @Override\r\n    public DataList deserialize(JsonParser parser, DeserializationContext context) throws IOException {\r\n        JsonNode node = parser.getCodec().readTree(parser);\r\n\r\n        DataTypeEnum type = DataTypeEnum.from(node.get(&quot;data_type&quot;).asText());\r\n        JsonNode dataNode = node.get(&quot;data&quot;);\r\n\r\n        JsonParser ps = dataNode.findValue(&quot;data_array&quot;).traverse();\r\n        ps.setCodec(parser.getCodec());\r\n        List&lt;Data2&gt; trophies = ps.readValueAs(new TypeReference&lt;List&lt;Data2&gt;&gt;() {});\r\n        return null; // Ignore null I&#39;m using the debugger to check\r\n    }\r\n}\r\n```\r\nBut the deserialized Data2 objects have all fields `null`  \r\nPlus, at the end I should build a DataList object with the parsed type and Data2 list, but I can&#39;t use a constructor because I need it to be private, the object is immutable.  \r\nHow can I do it?\r\n\r\n\r\nNote:  \r\nWith Gson I didn&#39;t write any deserializer because I was using JsonPath to get nested objects. I was using this TyepAdapterFactory with a custom annotation:  \r\n```java\r\npublic final class JsonPathTypeAdapterFactory implements TypeAdapterFactory {\r\n    //================================================================================\r\n    // Properties\r\n    //================================================================================\r\n    private static final TypeAdapterFactory jsonPathTypeAdapterFactory = new JsonPathTypeAdapterFactory();\r\n\r\n    //================================================================================\r\n    // Constructors\r\n    //================================================================================\r\n    private JsonPathTypeAdapterFactory() {\r\n    }\r\n\r\n    //================================================================================\r\n    // Getters\r\n    //================================================================================\r\n    public static TypeAdapterFactory getJsonPathTypeAdapterFactory() {\r\n        return jsonPathTypeAdapterFactory;\r\n    }\r\n\r\n    //================================================================================\r\n    // Override Methods\r\n    //================================================================================\r\n    @Override\r\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\r\n        final TypeAdapter&lt;T&gt; delegateAdapter = gson.getDelegateAdapter(this, typeToken);\r\n        final Collection&lt;FieldInfo&gt; fieldInfos = FieldInfo.of(new ArrayList&lt;&gt;(), typeToken.getRawType());\r\n        return fieldInfos.isEmpty() ? delegateAdapter : new JsonPathTypeAdapter&lt;&gt;(gson, delegateAdapter, gson.getAdapter(JsonElement.class), fieldInfos);\r\n    }\r\n\r\n    //================================================================================\r\n    // Nested Classes\r\n    //================================================================================\r\n    private static final class JsonPathTypeAdapter&lt;T&gt; extends TypeAdapter&lt;T&gt; {\r\n        private final Gson gson;\r\n        private final TypeAdapter&lt;T&gt; delegateAdapter;\r\n        private final TypeAdapter&lt;JsonElement&gt; jsonElementTypeAdapter;\r\n        private final Collection&lt;FieldInfo&gt; fieldInfos;\r\n\r\n        private JsonPathTypeAdapter(final Gson gson, final TypeAdapter&lt;T&gt; delegateAdapter, final TypeAdapter&lt;JsonElement&gt; jsonElementTypeAdapter, final Collection&lt;FieldInfo&gt; fieldInfos) {\r\n            this.gson = gson;\r\n            this.delegateAdapter = delegateAdapter;\r\n            this.jsonElementTypeAdapter = jsonElementTypeAdapter;\r\n            this.fieldInfos = fieldInfos;\r\n        }\r\n\r\n        @Override\r\n        public void write(final JsonWriter out, final T value) throws IOException {\r\n            delegateAdapter.write(out, value);\r\n        }\r\n\r\n        @Override\r\n        public T read(final JsonReader in) throws IOException {\r\n            final JsonElement outerJsonElement = jsonElementTypeAdapter.read(in).getAsJsonObject();\r\n            final T value = delegateAdapter.fromJsonTree(outerJsonElement);\r\n            for (final FieldInfo fieldInfo : fieldInfos) {\r\n                try {\r\n                    final JsonElement innerJsonElement = fieldInfo.jsonPath.read(outerJsonElement);\r\n                    final Object innerValue = gson.fromJson(innerJsonElement, fieldInfo.field.getType());\r\n                    fieldInfo.field.set(value, innerValue);\r\n                } catch (final PathNotFoundException ignored) {\r\n                } catch (final IllegalAccessException ex) {\r\n                    throw new IOException(ex);\r\n                }\r\n            }\r\n            return value;\r\n        }\r\n\r\n    }\r\n\r\n    private static final class FieldInfo {\r\n        private final Field field;\r\n        private final JsonPath jsonPath;\r\n\r\n        private FieldInfo(final Field field, final JsonPath jsonPath) {\r\n            this.field = field;\r\n            this.jsonPath = jsonPath;\r\n        }\r\n\r\n        private static Collection&lt;FieldInfo&gt; of(Collection&lt;FieldInfo&gt; fieldInfo, Class&lt;?&gt; clazz) {\r\n            fieldInfo.addAll(\r\n                    Arrays.stream(clazz.getDeclaredFields())\r\n                            .filter(f -&gt; f.getAnnotation(JsonPathExpression.class) != null)\r\n                            .map(f -&gt; {\r\n                                final JsonPathExpression jsonPathExpression = f.getAnnotation(JsonPathExpression.class);\r\n                                f.setAccessible(true);\r\n                                return new FieldInfo(f, compile(jsonPathExpression.value()));\r\n                            })\r\n                            .collect(Collectors.toList())\r\n            );\r\n\r\n            if (clazz.getSuperclass() != null) {\r\n                of(fieldInfo, clazz.getSuperclass());\r\n            }\r\n\r\n            return fieldInfo;\r\n        }\r\n    }\r\n}\r\n```\r\nIt was very good actually, very easy, but I don&#39;t think there&#39;s a way to make it work with Jackson too, isn&#39;t it?","title":"Jackson, how to properly write a custom deserializer","body":"<p>I'm trying to migrate from Gson to Jackson, but I'm encountering many difficulties because I don't quite understand how to deserialize a complex JSON.<br />\nThe file looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;data_type&quot;: &quot;DatType1&quot;,\n    &quot;data&quot;: {\n        &quot;data_array&quot;: [\n            {\n                &quot;data_type&quot;: &quot;DataType2&quot;,\n                &quot;data&quot;: {\n                    &quot;prop1&quot;: &quot;AString&quot;,\n                    &quot;prop2&quot;: ALongValue,\n                    &quot;prop3&quot;: null,\n                    &quot;prop4&quot;: &quot;AString&quot;,\n                }\n            },\n            {\n                &quot;data_type&quot;: &quot;DataType2&quot;,\n                &quot;data&quot;: {\n                    &quot;prop1&quot;: &quot;AString&quot;,\n                    &quot;prop2&quot;: ALongValue,\n                    &quot;prop3&quot;: &quot;AString&quot;,\n                    &quot;prop4&quot;: null,\n                }\n            }\n        ]\n    }\n}\n</code></pre>\n<p>I tried to write this custom deserializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DataListDeserializer extends StdDeserializer&lt;DataList&gt; {\n\n    public DataListDeserializer() {\n        this(null);\n    }\n\n    public DataListDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public DataList deserialize(JsonParser parser, DeserializationContext context) throws IOException {\n        JsonNode node = parser.getCodec().readTree(parser);\n\n        DataTypeEnum type = DataTypeEnum.from(node.get(&quot;data_type&quot;).asText());\n        JsonNode dataNode = node.get(&quot;data&quot;);\n\n        JsonParser ps = dataNode.findValue(&quot;data_array&quot;).traverse();\n        ps.setCodec(parser.getCodec());\n        List&lt;Data2&gt; trophies = ps.readValueAs(new TypeReference&lt;List&lt;Data2&gt;&gt;() {});\n        return null; // Ignore null I'm using the debugger to check\n    }\n}\n</code></pre>\n<p>But the deserialized Data2 objects have all fields <code>null</code><br />\nPlus, at the end I should build a DataList object with the parsed type and Data2 list, but I can't use a constructor because I need it to be private, the object is immutable.<br />\nHow can I do it?</p>\n<p>Note:<br />\nWith Gson I didn't write any deserializer because I was using JsonPath to get nested objects. I was using this TyepAdapterFactory with a custom annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class JsonPathTypeAdapterFactory implements TypeAdapterFactory {\n    //================================================================================\n    // Properties\n    //================================================================================\n    private static final TypeAdapterFactory jsonPathTypeAdapterFactory = new JsonPathTypeAdapterFactory();\n\n    //================================================================================\n    // Constructors\n    //================================================================================\n    private JsonPathTypeAdapterFactory() {\n    }\n\n    //================================================================================\n    // Getters\n    //================================================================================\n    public static TypeAdapterFactory getJsonPathTypeAdapterFactory() {\n        return jsonPathTypeAdapterFactory;\n    }\n\n    //================================================================================\n    // Override Methods\n    //================================================================================\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(final Gson gson, final TypeToken&lt;T&gt; typeToken) {\n        final TypeAdapter&lt;T&gt; delegateAdapter = gson.getDelegateAdapter(this, typeToken);\n        final Collection&lt;FieldInfo&gt; fieldInfos = FieldInfo.of(new ArrayList&lt;&gt;(), typeToken.getRawType());\n        return fieldInfos.isEmpty() ? delegateAdapter : new JsonPathTypeAdapter&lt;&gt;(gson, delegateAdapter, gson.getAdapter(JsonElement.class), fieldInfos);\n    }\n\n    //================================================================================\n    // Nested Classes\n    //================================================================================\n    private static final class JsonPathTypeAdapter&lt;T&gt; extends TypeAdapter&lt;T&gt; {\n        private final Gson gson;\n        private final TypeAdapter&lt;T&gt; delegateAdapter;\n        private final TypeAdapter&lt;JsonElement&gt; jsonElementTypeAdapter;\n        private final Collection&lt;FieldInfo&gt; fieldInfos;\n\n        private JsonPathTypeAdapter(final Gson gson, final TypeAdapter&lt;T&gt; delegateAdapter, final TypeAdapter&lt;JsonElement&gt; jsonElementTypeAdapter, final Collection&lt;FieldInfo&gt; fieldInfos) {\n            this.gson = gson;\n            this.delegateAdapter = delegateAdapter;\n            this.jsonElementTypeAdapter = jsonElementTypeAdapter;\n            this.fieldInfos = fieldInfos;\n        }\n\n        @Override\n        public void write(final JsonWriter out, final T value) throws IOException {\n            delegateAdapter.write(out, value);\n        }\n\n        @Override\n        public T read(final JsonReader in) throws IOException {\n            final JsonElement outerJsonElement = jsonElementTypeAdapter.read(in).getAsJsonObject();\n            final T value = delegateAdapter.fromJsonTree(outerJsonElement);\n            for (final FieldInfo fieldInfo : fieldInfos) {\n                try {\n                    final JsonElement innerJsonElement = fieldInfo.jsonPath.read(outerJsonElement);\n                    final Object innerValue = gson.fromJson(innerJsonElement, fieldInfo.field.getType());\n                    fieldInfo.field.set(value, innerValue);\n                } catch (final PathNotFoundException ignored) {\n                } catch (final IllegalAccessException ex) {\n                    throw new IOException(ex);\n                }\n            }\n            return value;\n        }\n\n    }\n\n    private static final class FieldInfo {\n        private final Field field;\n        private final JsonPath jsonPath;\n\n        private FieldInfo(final Field field, final JsonPath jsonPath) {\n            this.field = field;\n            this.jsonPath = jsonPath;\n        }\n\n        private static Collection&lt;FieldInfo&gt; of(Collection&lt;FieldInfo&gt; fieldInfo, Class&lt;?&gt; clazz) {\n            fieldInfo.addAll(\n                    Arrays.stream(clazz.getDeclaredFields())\n                            .filter(f -&gt; f.getAnnotation(JsonPathExpression.class) != null)\n                            .map(f -&gt; {\n                                final JsonPathExpression jsonPathExpression = f.getAnnotation(JsonPathExpression.class);\n                                f.setAccessible(true);\n                                return new FieldInfo(f, compile(jsonPathExpression.value()));\n                            })\n                            .collect(Collectors.toList())\n            );\n\n            if (clazz.getSuperclass() != null) {\n                of(fieldInfo, clazz.getSuperclass());\n            }\n\n            return fieldInfo;\n        }\n    }\n}\n</code></pre>\n<p>It was very good actually, very easy, but I don't think there's a way to make it work with Jackson too, isn't it?</p>\n"},{"tags":["java","json","jackson","json-deserialization"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1442162718,"post_id":32551983,"comment_id":52959999,"body_markdown":"Can you provide an MCVE?","body":"Can you provide an MCVE?"}],"answers":[{"tags":[],"owner":{"account_id":31084,"reputation":128374,"user_id":85134,"display_name":"araqnid"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1442228279,"creation_date":1442228279,"answer_id":32563089,"question_id":32551983,"body_markdown":"The immediate problem seems to be that the `@JsonDeserialize(using=...)` is being picked up for your implementations of MyInterface as well as MyInterface itself: hence the endless loop.\r\n\r\nYou can fix this my overriding the setting in each implementation:\r\n\r\n\t@JsonDeserialize(using=JsonDeserializer.None.class)\r\n\tpublic static class MySuccess implements MyInterface {\r\n\t}\r\n\r\nOr by using a module instead of an annotation to configure the deserialization (and removing the annotation from MyInterface):\r\n\r\n    mapper.registerModule(new SimpleModule() {{\r\n\t    addDeserializer(MyInterface.class, new MyDeserializer());\r\n\t}});\r\n\r\nOn a side-note, you might also consider extending `StdNodeBasedDeserializer` to implement deserialization based on JsonNode. For example:\r\n\r\n\t@Override\r\n\tpublic MyInterface convert(JsonNode root, DeserializationContext ctxt) throws IOException {\r\n\t\tjava.lang.reflect.Type targetType;\r\n\t\tif (root.has(&quot;custom_field&quot;)) {\r\n\t\t\ttargetType = MyFailure.class;\r\n\t\t} else {\r\n\t\t\ttargetType = MySuccess.class;\r\n\t\t}\r\n\t\tJavaType jacksonType = ctxt.getTypeFactory().constructType(targetType);\r\n\t\tJsonDeserializer&lt;?&gt; deserializer = ctxt.findRootValueDeserializer(jacksonType);\r\n\t\tJsonParser nodeParser = root.traverse(ctxt.getParser().getCodec());\r\n\t\tnodeParser.nextToken();\r\n\t\treturn (MyInterface) deserializer.deserialize(nodeParser, ctxt);\r\n\t}\r\n\r\nThere are a bunch of improvements to make to this custom deserializer, especially regarding tracking the context of the deserialization etc., but this should provide the functionality you&#39;re asking for.\r\n","title":"How use jackson ObjectMapper inside custom deserializer?","body":"<p>The immediate problem seems to be that the <code>@JsonDeserialize(using=...)</code> is being picked up for your implementations of MyInterface as well as MyInterface itself: hence the endless loop.</p>\n\n<p>You can fix this my overriding the setting in each implementation:</p>\n\n<pre><code>@JsonDeserialize(using=JsonDeserializer.None.class)\npublic static class MySuccess implements MyInterface {\n}\n</code></pre>\n\n<p>Or by using a module instead of an annotation to configure the deserialization (and removing the annotation from MyInterface):</p>\n\n<pre><code>mapper.registerModule(new SimpleModule() {{\n    addDeserializer(MyInterface.class, new MyDeserializer());\n}});\n</code></pre>\n\n<p>On a side-note, you might also consider extending <code>StdNodeBasedDeserializer</code> to implement deserialization based on JsonNode. For example:</p>\n\n<pre><code>@Override\npublic MyInterface convert(JsonNode root, DeserializationContext ctxt) throws IOException {\n    java.lang.reflect.Type targetType;\n    if (root.has(\"custom_field\")) {\n        targetType = MyFailure.class;\n    } else {\n        targetType = MySuccess.class;\n    }\n    JavaType jacksonType = ctxt.getTypeFactory().constructType(targetType);\n    JsonDeserializer&lt;?&gt; deserializer = ctxt.findRootValueDeserializer(jacksonType);\n    JsonParser nodeParser = root.traverse(ctxt.getParser().getCodec());\n    nodeParser.nextToken();\n    return (MyInterface) deserializer.deserialize(nodeParser, ctxt);\n}\n</code></pre>\n\n<p>There are a bunch of improvements to make to this custom deserializer, especially regarding tracking the context of the deserialization etc., but this should provide the functionality you're asking for.</p>\n"},{"tags":[],"owner":{"account_id":246072,"reputation":540,"user_id":519966,"display_name":"Julio"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1550825320,"creation_date":1550825320,"answer_id":54823209,"question_id":32551983,"body_markdown":"This did the trick for me:\r\n\r\n    ctxt.readValue(node, MyFailure.class)","title":"How use jackson ObjectMapper inside custom deserializer?","body":"<p>This did the trick for me:</p>\n\n<pre><code>ctxt.readValue(node, MyFailure.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5072657,"reputation":3280,"user_id":4071001,"display_name":"lcnicolau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554384902,"creation_date":1554384902,"answer_id":55517344,"question_id":32551983,"body_markdown":"In order to use your own `ObjectMapper` inside a custom deserializer, you can use [Jackson Mix-in Annotations][1] (_the_ `DefaultJsonDeserializer` _interface_) to dynamically remove the custom deserializer from the `POJO` classes, avoiding the `StackOverflowError` that would otherwise be thrown as a result of `objectMapper.readValue(JsonParser, Class&lt;T&gt;)`.\r\n\r\n    public class MyDeserializer extends JsonDeserializer&lt;MyInterface&gt; {\r\n\r\n        private static final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        static {\r\n            objectMapper.addMixIn(MySuccess.class, DefaultJsonDeserializer.class);\r\n            objectMapper.addMixIn(MyFailure.class, DefaultJsonDeserializer.class);\r\n        }\r\n\r\n        @Override\r\n        public MyInterface deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n            if (jp.getCodec().&lt;JsonNode&gt;readTree(jp).has(&quot;custom_field&quot;)) {\r\n                return objectMapper.readValue(jp, MyFailure.class);\r\n            } else {\r\n                return objectMapper.readValue(jp, MySuccess.class);\r\n            }           \r\n        }\r\n\r\n        @JsonDeserialize\r\n        private interface DefaultJsonDeserializer {\r\n            // Reset default json deserializer\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations","title":"How use jackson ObjectMapper inside custom deserializer?","body":"<p>In order to use your own <code>ObjectMapper</code> inside a custom deserializer, you can use <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations\" rel=\"nofollow noreferrer\">Jackson Mix-in Annotations</a> (<em>the</em> <code>DefaultJsonDeserializer</code> <em>interface</em>) to dynamically remove the custom deserializer from the <code>POJO</code> classes, avoiding the <code>StackOverflowError</code> that would otherwise be thrown as a result of <code>objectMapper.readValue(JsonParser, Class&lt;T&gt;)</code>.</p>\n\n<pre><code>public class MyDeserializer extends JsonDeserializer&lt;MyInterface&gt; {\n\n    private static final ObjectMapper objectMapper = new ObjectMapper();\n\n    static {\n        objectMapper.addMixIn(MySuccess.class, DefaultJsonDeserializer.class);\n        objectMapper.addMixIn(MyFailure.class, DefaultJsonDeserializer.class);\n    }\n\n    @Override\n    public MyInterface deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        if (jp.getCodec().&lt;JsonNode&gt;readTree(jp).has(\"custom_field\")) {\n            return objectMapper.readValue(jp, MyFailure.class);\n        } else {\n            return objectMapper.readValue(jp, MySuccess.class);\n        }           \n    }\n\n    @JsonDeserialize\n    private interface DefaultJsonDeserializer {\n        // Reset default json deserializer\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6645617,"reputation":121,"user_id":5129842,"display_name":"Shubham Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659603689,"creation_date":1659602519,"answer_id":73232848,"question_id":32551983,"body_markdown":"I find a solution to use object mapper inside custom deserialize\r\n \r\n\r\n    public class DummyDeserializer extends JsonDeserializer&lt;Dummy&gt; {\r\n    \r\n        @Override\r\n        public Dummy deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n            ObjectMapper om = new ObjectMapper();\r\n            om.addMixIn(NexusAccount.class, DefaultJsonDeserializer.class);\r\n            ObjectCodec oc = jsonParser.getCodec();\r\n            JsonNode node = oc.readTree(jsonParser);\r\n            String serviceType = node.path(&quot;serviceType&quot;).asText();\r\n            switch (serviceType) {\r\n                case &quot;Dummy1&quot;:\r\n                    return om.treeToValue(node, Dumm1.class);\r\n                case &quot;Dummy2&quot;:\r\n                    return om.treeToValue(node, Dummy2.class);\r\n                case &quot;Dummy3&quot;:\r\n                    return om.treeToValue(node, Dummy3.class);\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Unknown Dummy type&quot;);\r\n            }\r\n        }\r\n     \r\n        @JsonDeserialize\r\n        private interface DefaultJsonDeserializer {\r\n            // Reset default json deserializer\r\n        }\r\n    }\r\n\r\n\r\n    ","title":"How use jackson ObjectMapper inside custom deserializer?","body":"<p>I find a solution to use object mapper inside custom deserialize</p>\n<pre><code>public class DummyDeserializer extends JsonDeserializer&lt;Dummy&gt; {\n\n    @Override\n    public Dummy deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        ObjectMapper om = new ObjectMapper();\n        om.addMixIn(NexusAccount.class, DefaultJsonDeserializer.class);\n        ObjectCodec oc = jsonParser.getCodec();\n        JsonNode node = oc.readTree(jsonParser);\n        String serviceType = node.path(&quot;serviceType&quot;).asText();\n        switch (serviceType) {\n            case &quot;Dummy1&quot;:\n                return om.treeToValue(node, Dumm1.class);\n            case &quot;Dummy2&quot;:\n                return om.treeToValue(node, Dummy2.class);\n            case &quot;Dummy3&quot;:\n                return om.treeToValue(node, Dummy3.class);\n            default:\n                throw new IllegalArgumentException(&quot;Unknown Dummy type&quot;);\n        }\n    }\n \n    @JsonDeserialize\n    private interface DefaultJsonDeserializer {\n        // Reset default json deserializer\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18537481,"reputation":1557,"user_id":13506812,"display_name":"abhinav kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692786866,"creation_date":1692786866,"answer_id":76960529,"question_id":32551983,"body_markdown":"    Sharing a custom Deserializer implementing---&gt;\r\n    \r\n        import com.fasterxml.jackson.core.JsonParser;\r\n        import com.fasterxml.jackson.core.JsonProcessingException;\r\n        import com.fasterxml.jackson.databind.DeserializationContext;\r\n        import com.fasterxml.jackson.databind.JsonDeserializer;\r\n        import com.fasterxml.jackson.databind.JsonMappingException;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.http.HttpStatus;\r\n        \r\n        import java.io.IOException;\r\n        \r\n        public class CustomIntegerDeserializer extends JsonDeserializer&lt;Integer&gt; {\r\n        \r\n            private static Logger logger = LoggerFactory.getLogger(CustomIntegerDeserializer.class);\r\n        \r\n            @Override\r\n            public Integer deserialize(JsonParser p, DeserializationContext ctx)\r\n                 throws IOException,JsonProcessingException {\r\n                logger.info(&quot;CustomIntegerDeserializer..............................&quot;);\r\n                Double doubleVal = p.getDoubleValue();\r\n                try {\r\n                    double ceil = Math.ceil(doubleVal);\r\n                    double floor = Math.floor(doubleVal);\r\n                    if((ceil-floor)&gt;0) {\r\n                        String message = String.format(&quot;Cannot coerce a floating-point value (&#39;%s&#39;) into Integer&quot;, doubleVal.toString());\r\n                        throw new Exception(message);\r\n                    }\r\n                    return Integer.valueOf(p.getIntValue());\r\n                } catch (Exception exception) {\r\n                    logger.info(&quot;Exception in CustomIntegerDeserializer::{}&quot;,exception.getMessage());\r\n              \r\n                    //throw new custom exception which are to be managed by exception handler\r\n                    \r\n                }\r\n            }\r\n        \r\n        }","title":"How use jackson ObjectMapper inside custom deserializer?","body":"<pre><code>Sharing a custom Deserializer implementing---&gt;\n\n    import com.fasterxml.jackson.core.JsonParser;\n    import com.fasterxml.jackson.core.JsonProcessingException;\n    import com.fasterxml.jackson.databind.DeserializationContext;\n    import com.fasterxml.jackson.databind.JsonDeserializer;\n    import com.fasterxml.jackson.databind.JsonMappingException;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.http.HttpStatus;\n    \n    import java.io.IOException;\n    \n    public class CustomIntegerDeserializer extends JsonDeserializer&lt;Integer&gt; {\n    \n        private static Logger logger = LoggerFactory.getLogger(CustomIntegerDeserializer.class);\n    \n        @Override\n        public Integer deserialize(JsonParser p, DeserializationContext ctx)\n             throws IOException,JsonProcessingException {\n            logger.info(&quot;CustomIntegerDeserializer..............................&quot;);\n            Double doubleVal = p.getDoubleValue();\n            try {\n                double ceil = Math.ceil(doubleVal);\n                double floor = Math.floor(doubleVal);\n                if((ceil-floor)&gt;0) {\n                    String message = String.format(&quot;Cannot coerce a floating-point value ('%s') into Integer&quot;, doubleVal.toString());\n                    throw new Exception(message);\n                }\n                return Integer.valueOf(p.getIntValue());\n            } catch (Exception exception) {\n                logger.info(&quot;Exception in CustomIntegerDeserializer::{}&quot;,exception.getMessage());\n          \n                //throw new custom exception which are to be managed by exception handler\n                \n            }\n        }\n    \n    }\n</code></pre>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27101,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":5,"score":27,"last_activity_date":1692786866,"creation_date":1442162287,"question_id":32551983,"body_markdown":"I try to write custom jackson deserializer. I want &quot;look&quot; at one field and perform auto deserialization to class, see example below:\r\n\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.core.ObjectCodec;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonDeserializer;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.mypackage.MyInterface;\r\n    import com.mypackage.MyFailure;\r\n    import com.mypackage.MySuccess;\r\n\r\n    import java.io.IOException;\r\n\r\n    public class MyDeserializer extends JsonDeserializer&lt;MyInterface&gt; {\r\n\r\n        @Override\r\n        public MyInterface deserialize(JsonParser jp, DeserializationContext ctxt)\r\n                throws IOException, JsonProcessingException {\r\n            ObjectCodec codec = jp.getCodec();\r\n            JsonNode node = codec.readTree(jp);\r\n            if (node.has(&quot;custom_field&quot;)) {\r\n                return codec.treeToValue(node, MyFailure.class);\r\n            } else {\r\n                return codec.treeToValue(node, MySuccess.class);\r\n            }\r\n        }\r\n    }\r\n\r\nPojos:\r\n\r\n    public class MyFailure implements MyInterface {}\r\n\r\n    public class MySuccess implements MyInterface {}\r\n\r\n    @JsonDeserialize(using = MyDeserializer.class)\r\n    public interface MyInterface {}\r\n\r\nAnd I got `StackOverflowError`. In understand that `codec.treeToValue` call same deserializer. Is there a way to use `codec.treeToValue` or `ObjectMapper.readValue(String,Class&lt;T&gt;)` inside custome deseralizer?\r\n","title":"How use jackson ObjectMapper inside custom deserializer?","body":"<p>I try to write custom jackson deserializer. I want \"look\" at one field and perform auto deserialization to class, see example below:</p>\n\n<pre><code>import com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.ObjectCodec;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.mypackage.MyInterface;\nimport com.mypackage.MyFailure;\nimport com.mypackage.MySuccess;\n\nimport java.io.IOException;\n\npublic class MyDeserializer extends JsonDeserializer&lt;MyInterface&gt; {\n\n    @Override\n    public MyInterface deserialize(JsonParser jp, DeserializationContext ctxt)\n            throws IOException, JsonProcessingException {\n        ObjectCodec codec = jp.getCodec();\n        JsonNode node = codec.readTree(jp);\n        if (node.has(\"custom_field\")) {\n            return codec.treeToValue(node, MyFailure.class);\n        } else {\n            return codec.treeToValue(node, MySuccess.class);\n        }\n    }\n}\n</code></pre>\n\n<p>Pojos:</p>\n\n<pre><code>public class MyFailure implements MyInterface {}\n\npublic class MySuccess implements MyInterface {}\n\n@JsonDeserialize(using = MyDeserializer.class)\npublic interface MyInterface {}\n</code></pre>\n\n<p>And I got <code>StackOverflowError</code>. In understand that <code>codec.treeToValue</code> call same deserializer. Is there a way to use <code>codec.treeToValue</code> or <code>ObjectMapper.readValue(String,Class&lt;T&gt;)</code> inside custome deseralizer?</p>\n"},{"tags":["java","json","jackson","flickr"],"answers":[{"tags":[],"owner":{"account_id":2509000,"reputation":2724,"user_id":2181915,"accept_rate":50,"display_name":"tom"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1380801266,"creation_date":1380801266,"answer_id":19158554,"question_id":19158345,"body_markdown":"You have to make Username a class within FlickrAccount and give it a _content field","title":"Custom JSON Deserialization with Jackson","body":"<p>You have to make Username a class within FlickrAccount and give it a _content field</p>\n"},{"tags":[],"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1380881497,"creation_date":1380804267,"answer_id":19159575,"question_id":19158345,"body_markdown":"Since I don&#39;t want to implement a custom class (`Username`) just to map the username, I went with a little bit more elegant, but still quite ugly approach:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode node = mapper.readTree(in);\r\n    JsonNode user = node.get(&quot;user&quot;);\r\n    FlickrAccount account = new FlickrAccount();\r\n    account.setId(user.get(&quot;id&quot;).asText());\r\n    account.setUsername(user.get(&quot;username&quot;).get(&quot;_content&quot;).asText());\r\n\r\nIt&#39;s still not as elegant as I hoped, but at least I got rid of all the ugly casting.\r\nAnother advantage of this solution is, that my domain class (`FlickrAccount`) is not polluted with any Jackson annotations.\r\n\r\nBased on [@Michał Ziober&#39;s answer](https://stackoverflow.com/a/19167145/1277252), I decided to use the - in my opinion - most straight forward solution. Using a `@JsonDeserialize` annotation with a custom deserializer:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @JsonDeserialize( using = FlickrAccountDeserializer.class )\r\n    public class FlickrAccount {\r\n        ...\r\n    }\r\n\r\nBut the deserializer does not use any internal classes, just the `JsonNode` as above:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    class FlickrAccountDeserializer extends JsonDeserializer&lt;FlickrAccount&gt; {\r\n        @Override\r\n        public FlickrAccount deserialize(JsonParser jp, DeserializationContext ctxt) throws \r\n                IOException, JsonProcessingException {\r\n            FlickrAccount account = new FlickrAccount();\r\n            JsonNode node = jp.readValueAsTree();\r\n            JsonNode user = node.get(&quot;user&quot;);\r\n            account.setId(user.get(&quot;id&quot;).asText());\r\n            account.setUsername(user.get(&quot;username&quot;).get(&quot;_content&quot;).asText());\r\n            return account;\r\n        }\r\n    }\r\n","title":"Custom JSON Deserialization with Jackson","body":"<p>Since I don't want to implement a custom class (<code>Username</code>) just to map the username, I went with a little bit more elegant, but still quite ugly approach:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\nJsonNode node = mapper.readTree(in);\nJsonNode user = node.get(\"user\");\nFlickrAccount account = new FlickrAccount();\naccount.setId(user.get(\"id\").asText());\naccount.setUsername(user.get(\"username\").get(\"_content\").asText());\n</code></pre>\n\n<p>It's still not as elegant as I hoped, but at least I got rid of all the ugly casting.\nAnother advantage of this solution is, that my domain class (<code>FlickrAccount</code>) is not polluted with any Jackson annotations.</p>\n\n<p>Based on <a href=\"https://stackoverflow.com/a/19167145/1277252\">@Michał Ziober's answer</a>, I decided to use the - in my opinion - most straight forward solution. Using a <code>@JsonDeserialize</code> annotation with a custom deserializer:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@JsonDeserialize( using = FlickrAccountDeserializer.class )\npublic class FlickrAccount {\n    ...\n}\n</code></pre>\n\n<p>But the deserializer does not use any internal classes, just the <code>JsonNode</code> as above:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class FlickrAccountDeserializer extends JsonDeserializer&lt;FlickrAccount&gt; {\n    @Override\n    public FlickrAccount deserialize(JsonParser jp, DeserializationContext ctxt) throws \n            IOException, JsonProcessingException {\n        FlickrAccount account = new FlickrAccount();\n        JsonNode node = jp.readValueAsTree();\n        JsonNode user = node.get(\"user\");\n        account.setId(user.get(\"id\").asText());\n        account.setUsername(user.get(\"username\").get(\"_content\").asText());\n        return account;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1542382337,"creation_date":1380826931,"answer_id":19167145,"question_id":19158345,"body_markdown":"You can write custom deserializer for this class. It could look like this:\r\n\r\n    class FlickrAccountJsonDeserializer extends JsonDeserializer&lt;FlickrAccount&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic FlickrAccount deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n    \t\tRoot root = jp.readValueAs(Root.class);\r\n    \r\n    \t\tFlickrAccount account = new FlickrAccount();\r\n    \t\tif (root != null &amp;&amp; root.user != null) {\r\n    \t\t\taccount.setId(root.user.id);\r\n    \t\t\tif (root.user.username != null) {\r\n    \t\t\t\taccount.setUsername(root.user.username.content);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn account;\r\n    \t}\r\n    \r\n    \tprivate static class Root {\r\n    \r\n    \t\tpublic User user;\r\n    \t\tpublic String stat;\r\n    \t}\r\n    \r\n    \tprivate static class User {\r\n    \r\n    \t\tpublic String id;\r\n    \t\tpublic UserName username;\r\n    \t}\r\n    \r\n    \tprivate static class UserName {\r\n    \r\n    \t\t@JsonProperty(&quot;_content&quot;)\r\n    \t\tpublic String content;\r\n    \t}\r\n    }\r\n\r\nAfter that, you have to define a deserializer for your class. You can do this as follows:\r\n\r\n    @JsonDeserialize(using = FlickrAccountJsonDeserializer.class)\r\n    class FlickrAccount {\r\n        ...\r\n    }","title":"Custom JSON Deserialization with Jackson","body":"<p>You can write custom deserializer for this class. It could look like this:</p>\n\n<pre><code>class FlickrAccountJsonDeserializer extends JsonDeserializer&lt;FlickrAccount&gt; {\n\n    @Override\n    public FlickrAccount deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        Root root = jp.readValueAs(Root.class);\n\n        FlickrAccount account = new FlickrAccount();\n        if (root != null &amp;&amp; root.user != null) {\n            account.setId(root.user.id);\n            if (root.user.username != null) {\n                account.setUsername(root.user.username.content);\n            }\n        }\n\n        return account;\n    }\n\n    private static class Root {\n\n        public User user;\n        public String stat;\n    }\n\n    private static class User {\n\n        public String id;\n        public UserName username;\n    }\n\n    private static class UserName {\n\n        @JsonProperty(\"_content\")\n        public String content;\n    }\n}\n</code></pre>\n\n<p>After that, you have to define a deserializer for your class. You can do this as follows:</p>\n\n<pre><code>@JsonDeserialize(using = FlickrAccountJsonDeserializer.class)\nclass FlickrAccount {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1501583384,"creation_date":1501583384,"answer_id":45435382,"question_id":19158345,"body_markdown":"You can also use SimpleModule.\r\n\r\n        SimpleModule module = new SimpleModule();\r\n        module.setDeserializerModifier(new BeanDeserializerModifier() {\r\n        @Override public JsonDeserializer&lt;?&gt; modifyDeserializer(\r\n            DeserializationConfig config, BeanDescription beanDesc, JsonDeserializer&lt;?&gt; deserializer) {\r\n            if (beanDesc.getBeanClass() == YourClass.class) {\r\n                return new YourClassDeserializer(deserializer);\r\n            }\r\n\r\n            return deserializer;\r\n        }});\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(module);\r\n        objectMapper.readValue(json, classType);","title":"Custom JSON Deserialization with Jackson","body":"<p>You can also use SimpleModule.</p>\n\n<pre><code>    SimpleModule module = new SimpleModule();\n    module.setDeserializerModifier(new BeanDeserializerModifier() {\n    @Override public JsonDeserializer&lt;?&gt; modifyDeserializer(\n        DeserializationConfig config, BeanDescription beanDesc, JsonDeserializer&lt;?&gt; deserializer) {\n        if (beanDesc.getBeanClass() == YourClass.class) {\n            return new YourClassDeserializer(deserializer);\n        }\n\n        return deserializer;\n    }});\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.registerModule(module);\n    objectMapper.readValue(json, classType);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3436378,"reputation":81,"user_id":2879414,"display_name":"Aliaksei Tatarynchyk"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1616172346,"creation_date":1616172346,"answer_id":66712277,"question_id":19158345,"body_markdown":"I made it this way:\r\n\r\n    public class FlickrAccount {\r\n      private String id;\r\n      @JsonDeserialize(converter = ContentConverter.class)\r\n      private String username;\r\n      \r\n      private static class ContentConverter extends StdConverter&lt;Map&lt;String, String&gt;, String&gt; {\r\n        @Override\r\n        public String convert(Map&lt;String, String&gt; content) {\r\n          return content.get(&quot;_content&quot;));\r\n        }\r\n      }\r\n    }","title":"Custom JSON Deserialization with Jackson","body":"<p>I made it this way:</p>\n<pre><code>public class FlickrAccount {\n  private String id;\n  @JsonDeserialize(converter = ContentConverter.class)\n  private String username;\n  \n  private static class ContentConverter extends StdConverter&lt;Map&lt;String, String&gt;, String&gt; {\n    @Override\n    public String convert(Map&lt;String, String&gt; content) {\n      return content.get(&quot;_content&quot;));\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18537481,"reputation":1557,"user_id":13506812,"display_name":"abhinav kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692786632,"creation_date":1692786632,"answer_id":76960495,"question_id":19158345,"body_markdown":"    Sharing a code snippet for implementing custom Deserializer \r\n    Basically here we are stopping the user to enter decimal point for integer type for rest api call ---&gt;&gt;\r\n    \r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonDeserializer;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class CustomIntegerDeserializer extends JsonDeserializer&lt;Integer&gt; {\r\n    \r\n        private static Logger logger = LoggerFactory.getLogger(CustomIntegerDeserializer.class);\r\n    \r\n        @Override\r\n        public Integer deserialize(JsonParser p, DeserializationContext ctx)\r\n             throws IOException,JsonProcessingException {\r\n            logger.info(&quot;CustomIntegerDeserializer..............................&quot;);\r\n            Double doubleVal = p.getDoubleValue();\r\n            try {\r\n                double ceil = Math.ceil(doubleVal);\r\n                double floor = Math.floor(doubleVal);\r\n                if((ceil-floor)&gt;0) {\r\n                    String message = String.format(&quot;Cannot coerce a floating-point value (&#39;%s&#39;) into Integer&quot;, doubleVal.toString());\r\n                    throw new Exception(message);\r\n                }\r\n                return Integer.valueOf(p.getIntValue());\r\n            } catch (Exception exception) {\r\n                logger.info(&quot;Exception in CustomIntegerDeserializer::{}&quot;,exception.getMessage());\r\n          \r\n                //throw new custom exception which are to be managed by exception handler\r\n                \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n   \r\n    using on bean class--&gt;\r\n     @JsonDeserialize(using = CustomIntegerDeserializer.class)\r\n        private Integer initRatePerSec = -1;\r\n\r\n    request--&gt;\r\n    {\r\n        .....\r\n        &quot;initRatePerSec&quot;: 5.1\r\n    }\r\n    response--&gt;\r\n    {\r\n        &quot;statusCode&quot;: 400,\r\n         ..............,\r\n        &quot;message&quot;: &quot;JSON parse error: Cannot coerce a floating-point value (&#39;5.1&#39;) into Integer; \r\n    }","title":"Custom JSON Deserialization with Jackson","body":"<pre><code>Sharing a code snippet for implementing custom Deserializer \nBasically here we are stopping the user to enter decimal point for integer type for rest api call ---&gt;&gt;\n\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\n\nimport java.io.IOException;\n\npublic class CustomIntegerDeserializer extends JsonDeserializer&lt;Integer&gt; {\n\n    private static Logger logger = LoggerFactory.getLogger(CustomIntegerDeserializer.class);\n\n    @Override\n    public Integer deserialize(JsonParser p, DeserializationContext ctx)\n         throws IOException,JsonProcessingException {\n        logger.info(&quot;CustomIntegerDeserializer..............................&quot;);\n        Double doubleVal = p.getDoubleValue();\n        try {\n            double ceil = Math.ceil(doubleVal);\n            double floor = Math.floor(doubleVal);\n            if((ceil-floor)&gt;0) {\n                String message = String.format(&quot;Cannot coerce a floating-point value ('%s') into Integer&quot;, doubleVal.toString());\n                throw new Exception(message);\n            }\n            return Integer.valueOf(p.getIntValue());\n        } catch (Exception exception) {\n            logger.info(&quot;Exception in CustomIntegerDeserializer::{}&quot;,exception.getMessage());\n      \n            //throw new custom exception which are to be managed by exception handler\n            \n        }\n    }\n\n}\n\n\nusing on bean class--&gt;\n @JsonDeserialize(using = CustomIntegerDeserializer.class)\n    private Integer initRatePerSec = -1;\n\nrequest--&gt;\n{\n    .....\n    &quot;initRatePerSec&quot;: 5.1\n}\nresponse--&gt;\n{\n    &quot;statusCode&quot;: 400,\n     ..............,\n    &quot;message&quot;: &quot;JSON parse error: Cannot coerce a floating-point value ('5.1') into Integer; \n}\n</code></pre>\n"}],"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139127,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":19167145,"answer_count":6,"score":53,"last_activity_date":1692786632,"creation_date":1380800704,"question_id":19158345,"body_markdown":"I&#39;m using the [Flickr API](http://www.flickr.com/services/api/). When calling the [`flickr.test.login`][1] method, the default JSON result is:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    {\r\n        &quot;user&quot;: {\r\n            &quot;id&quot;: &quot;21207597@N07&quot;,\r\n            &quot;username&quot;: {\r\n                &quot;_content&quot;: &quot;jamalfanaian&quot;\r\n            }\r\n        },\r\n        &quot;stat&quot;: &quot;ok&quot;\r\n    }\r\n\r\n\r\nI&#39;d like to parse this response into a Java object:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class FlickrAccount {\r\n        private String id;\r\n        private String username;\r\n        // ... getter &amp; setter ...\r\n    }\r\n\r\nThe JSON properties should be mapped like this:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    &quot;user&quot; -&gt; &quot;id&quot; ==&gt; FlickrAccount.id\r\n    &quot;user&quot; -&gt; &quot;username&quot; -&gt; &quot;_content&quot; ==&gt; FlickrAccount.username\r\n\r\nUnfortunately, I&#39;m not able to find a nice, elegant way to do this using Annotations. My approach so far is, to read the JSON String into a `Map&lt;String, Object&gt;` and get the values from there.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Map&lt;String, Object&gt; value = new ObjectMapper().readValue(response.getStream(),\r\n            new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {\r\n            });\r\n    @SuppressWarnings( &quot;unchecked&quot; )\r\n    Map&lt;String, Object&gt; user = (Map&lt;String, Object&gt;) value.get(&quot;user&quot;);\r\n    String id = (String) user.get(&quot;id&quot;);\r\n    @SuppressWarnings( &quot;unchecked&quot; )\r\n    String username = (String) ((Map&lt;String, Object&gt;) user.get(&quot;username&quot;)).get(&quot;_content&quot;);\r\n    FlickrAccount account = new FlickrAccount();\r\n    account.setId(id);\r\n    account.setUsername(username);\r\n\r\nBut I think, this is the most non-elegant way, ever. Is there any simple way, either using Annotations or a custom Deserializer?\r\n\r\nThis would be very obvious for me, but of course it doesn&#39;t work:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class FlickrAccount {\r\n        @JsonProperty( &quot;user.id&quot; ) private String id;\r\n        @JsonProperty( &quot;user.username._content&quot; ) private String username;\r\n        // ... getter and setter ...\r\n    }\r\n\r\n\r\n\r\n\r\n[1]: http://www.flickr.com/services/api/flickr.test.login.html\r\n","title":"Custom JSON Deserialization with Jackson","body":"<p>I'm using the <a href=\"http://www.flickr.com/services/api/\" rel=\"noreferrer\">Flickr API</a>. When calling the <a href=\"http://www.flickr.com/services/api/flickr.test.login.html\" rel=\"noreferrer\"><code>flickr.test.login</code></a> method, the default JSON result is:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n    \"user\": {\n        \"id\": \"21207597@N07\",\n        \"username\": {\n            \"_content\": \"jamalfanaian\"\n        }\n    },\n    \"stat\": \"ok\"\n}\n</code></pre>\n\n<p>I'd like to parse this response into a Java object:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class FlickrAccount {\n    private String id;\n    private String username;\n    // ... getter &amp; setter ...\n}\n</code></pre>\n\n<p>The JSON properties should be mapped like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\"user\" -&gt; \"id\" ==&gt; FlickrAccount.id\n\"user\" -&gt; \"username\" -&gt; \"_content\" ==&gt; FlickrAccount.username\n</code></pre>\n\n<p>Unfortunately, I'm not able to find a nice, elegant way to do this using Annotations. My approach so far is, to read the JSON String into a <code>Map&lt;String, Object&gt;</code> and get the values from there.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; value = new ObjectMapper().readValue(response.getStream(),\n        new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {\n        });\n@SuppressWarnings( \"unchecked\" )\nMap&lt;String, Object&gt; user = (Map&lt;String, Object&gt;) value.get(\"user\");\nString id = (String) user.get(\"id\");\n@SuppressWarnings( \"unchecked\" )\nString username = (String) ((Map&lt;String, Object&gt;) user.get(\"username\")).get(\"_content\");\nFlickrAccount account = new FlickrAccount();\naccount.setId(id);\naccount.setUsername(username);\n</code></pre>\n\n<p>But I think, this is the most non-elegant way, ever. Is there any simple way, either using Annotations or a custom Deserializer?</p>\n\n<p>This would be very obvious for me, but of course it doesn't work:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class FlickrAccount {\n    @JsonProperty( \"user.id\" ) private String id;\n    @JsonProperty( \"user.username._content\" ) private String username;\n    // ... getter and setter ...\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1692383915,"post_id":76931263,"comment_id":135620598,"body_markdown":"Share `g_cache` code to understand how the cache works. Remember that you should provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"Share <code>g_cache</code> code to understand how the cache works. Remember that you should provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":2,"creation_date":1692604748,"post_id":76931263,"comment_id":135640777,"body_markdown":"This is not a JNI problem as such. If `getObj` were implemented in Java you would have the same problem. The only solution is to rearchitect and avoid finalizers.","body":"This is not a JNI problem as such. If <code>getObj</code> were implemented in Java you would have the same problem. The only solution is to rearchitect and avoid finalizers."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1692607174,"post_id":76931263,"comment_id":135641275,"body_markdown":"See [this recent question](https://stackoverflow.com/questions/76882381/alternative-for-deprecated-finalize-method-in-java-for-jni) for a replacement to finalizers","body":"See <a href=\"https://stackoverflow.com/questions/76882381/alternative-for-deprecated-finalize-method-in-java-for-jni\">this recent question</a> for a replacement to finalizers"},{"owner":{"account_id":14670661,"reputation":21,"user_id":10595216,"display_name":"comrade_bender"},"score":0,"creation_date":1692614780,"post_id":76931263,"comment_id":135642758,"body_markdown":"Without the use of finalizers, it&#39;s very hard to tell when an object is no longer needed, especially in my case in Jetpack Compose code that makes heavy use of the C++ backend.\n\nBut I found a very interesting comment in the djinni project:\n\n&quot;We don&#39;t use JNI WeakGlobalRef objects, because they last longer than is safe - a WeakGlobalRef can still be upgraded to a strong reference even during finalization, which leads to use-after-free. Java WeakRefs provide the right lifetime guarantee.&quot;\n\nDjinni uses in the same case JNI wrapper around WeakReference. I hope it solves my issue.","body":"Without the use of finalizers, it&#39;s very hard to tell when an object is no longer needed, especially in my case in Jetpack Compose code that makes heavy use of the C++ backend.  But I found a very interesting comment in the djinni project:  &quot;We don&#39;t use JNI WeakGlobalRef objects, because they last longer than is safe - a WeakGlobalRef can still be upgraded to a strong reference even during finalization, which leads to use-after-free. Java WeakRefs provide the right lifetime guarantee.&quot;  Djinni uses in the same case JNI wrapper around WeakReference. I hope it solves my issue."}],"answers":[{"tags":[],"owner":{"account_id":14670661,"reputation":21,"user_id":10595216,"display_name":"comrade_bender"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692786450,"creation_date":1692784749,"answer_id":76960264,"question_id":76931263,"body_markdown":"In general, Botje is right, don&#39;t use the `finalize` method along with JNI.\r\n\r\nBut if you still need to `finalize` then don&#39;t use `jweak` variables created with `NewWeakGlobalRef`.\r\n\r\nComment from djinni project:\r\n\r\n&gt; We don&#39;t use JNI WeakGlobalRef objects, because they last longer than\r\n&gt; is safe - a WeakGlobalRef can still be upgraded to a strong reference\r\n&gt; even during finalization, which leads to use-after-free. Java WeakRefs\r\n&gt; provide the right lifetime guarantee.\r\n\r\nIf you can&#39;t do without weak references, use `java.lang.ref.WeakReference`. `WeakReference` objects in `finilize` must return `null`.\r\n\r\nA simple C++ `WeakReference` wrapper:\r\n\r\n    struct GlobalRefDeleter {\r\n        void operator()(jobject globalRef) noexcept {\r\n            if (globalRef != nullptr) {\r\n                if (JNIEnv* env = getEnv()) {\r\n                    env-&gt;DeleteGlobalRef(globalRef);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    \r\n    template &lt;typename PointerType&gt;\r\n    class GlobalRef : public std::unique_ptr&lt;typename std::remove_pointer_t&lt;PointerType&gt;, GlobalRefDeleter&gt; {\r\n        using Parent = std::unique_ptr&lt;typename std::remove_pointer_t&lt;PointerType&gt;, GlobalRefDeleter&gt;;\r\n    \r\n      public:\r\n        GlobalRef() = default;\r\n        GlobalRef(JNIEnv* env, PointerType localRef) : Parent(static_cast&lt;PointerType&gt;(env-&gt;NewGlobalRef(localRef)), GlobalRefDeleter{}) {\r\n        }\r\n    \r\n        bool isSame(JNIEnv* env, jobject obj) const {\r\n            return env-&gt;IsSameObject(obj, Parent::get());\r\n        }\r\n    };\r\n    \r\n    struct WeakReferenceJniInfo {\r\n        GlobalRef&lt;jclass&gt; clazz;\r\n        jmethodID constructor;\r\n        jmethodID get;\r\n    \r\n        explicit WeakReferenceJniInfo(JNIEnv* env)\r\n            : clazz{env, env-&gt;FindClass(&quot;java/lang/ref/WeakReference&quot;)},\r\n              constructor{env-&gt;GetMethodID(clazz.get(), &quot;&lt;init&gt;&quot;, &quot;(Ljava/lang/Object;)V&quot;)},\r\n              get{env-&gt;GetMethodID(clazz.get(), &quot;get&quot;, &quot;()Ljava/lang/Object;&quot;)} {\r\n        }\r\n    };\r\n    \r\n    // created in JNI_OnLoad\r\n    inline std::unique_ptr&lt;const WeakReferenceJniInfo&gt; g_weakReferenceJniInfo;\r\n    \r\n    class WeakRef {\r\n      public:\r\n        WeakRef() = default;\r\n        WeakRef(JNIEnv* env, jobject obj)\r\n            : _weakRef(std::make_shared&lt;GlobalRef&lt;jobject&gt;&gt;(\r\n                  env, env-&gt;NewObject(g_weakReferenceJniInfo-&gt;clazz.get(), g_weakReferenceJniInfo-&gt;constructor, obj))) {\r\n        }\r\n    \r\n        // Get the object pointed to if it&#39;s still strongly reachable or, return null if not.\r\n        // (Analogous to weak_ptr::lock.) Returns a local reference.\r\n        jobject lock(JNIEnv* env) const {\r\n            if (_weakRef == nullptr) {\r\n                return nullptr;\r\n            }\r\n            else {\r\n                return env-&gt;CallObjectMethod(_weakRef-&gt;get(), g_weakReferenceJniInfo-&gt;get);\r\n            }\r\n        }\r\n    \r\n        bool isSame(JNIEnv* env, jobject obj) const {\r\n            auto local = lock(env);\r\n            auto result = env-&gt;IsSameObject(obj, local);\r\n            env-&gt;DeleteLocalRef(local);\r\n            return result;\r\n        }\r\n    \r\n      private:\r\n        std::shared_ptr&lt;GlobalRef&lt;jobject&gt;&gt; _weakRef;\r\n    };","title":"GC issue with objects returned from JNI to Java","body":"<p>In general, Botje is right, don't use the <code>finalize</code> method along with JNI.</p>\n<p>But if you still need to <code>finalize</code> then don't use <code>jweak</code> variables created with <code>NewWeakGlobalRef</code>.</p>\n<p>Comment from djinni project:</p>\n<blockquote>\n<p>We don't use JNI WeakGlobalRef objects, because they last longer than\nis safe - a WeakGlobalRef can still be upgraded to a strong reference\neven during finalization, which leads to use-after-free. Java WeakRefs\nprovide the right lifetime guarantee.</p>\n</blockquote>\n<p>If you can't do without weak references, use <code>java.lang.ref.WeakReference</code>. <code>WeakReference</code> objects in <code>finilize</code> must return <code>null</code>.</p>\n<p>A simple C++ <code>WeakReference</code> wrapper:</p>\n<pre><code>struct GlobalRefDeleter {\n    void operator()(jobject globalRef) noexcept {\n        if (globalRef != nullptr) {\n            if (JNIEnv* env = getEnv()) {\n                env-&gt;DeleteGlobalRef(globalRef);\n            }\n        }\n    }\n};\n\ntemplate &lt;typename PointerType&gt;\nclass GlobalRef : public std::unique_ptr&lt;typename std::remove_pointer_t&lt;PointerType&gt;, GlobalRefDeleter&gt; {\n    using Parent = std::unique_ptr&lt;typename std::remove_pointer_t&lt;PointerType&gt;, GlobalRefDeleter&gt;;\n\n  public:\n    GlobalRef() = default;\n    GlobalRef(JNIEnv* env, PointerType localRef) : Parent(static_cast&lt;PointerType&gt;(env-&gt;NewGlobalRef(localRef)), GlobalRefDeleter{}) {\n    }\n\n    bool isSame(JNIEnv* env, jobject obj) const {\n        return env-&gt;IsSameObject(obj, Parent::get());\n    }\n};\n\nstruct WeakReferenceJniInfo {\n    GlobalRef&lt;jclass&gt; clazz;\n    jmethodID constructor;\n    jmethodID get;\n\n    explicit WeakReferenceJniInfo(JNIEnv* env)\n        : clazz{env, env-&gt;FindClass(&quot;java/lang/ref/WeakReference&quot;)},\n          constructor{env-&gt;GetMethodID(clazz.get(), &quot;&lt;init&gt;&quot;, &quot;(Ljava/lang/Object;)V&quot;)},\n          get{env-&gt;GetMethodID(clazz.get(), &quot;get&quot;, &quot;()Ljava/lang/Object;&quot;)} {\n    }\n};\n\n// created in JNI_OnLoad\ninline std::unique_ptr&lt;const WeakReferenceJniInfo&gt; g_weakReferenceJniInfo;\n\nclass WeakRef {\n  public:\n    WeakRef() = default;\n    WeakRef(JNIEnv* env, jobject obj)\n        : _weakRef(std::make_shared&lt;GlobalRef&lt;jobject&gt;&gt;(\n              env, env-&gt;NewObject(g_weakReferenceJniInfo-&gt;clazz.get(), g_weakReferenceJniInfo-&gt;constructor, obj))) {\n    }\n\n    // Get the object pointed to if it's still strongly reachable or, return null if not.\n    // (Analogous to weak_ptr::lock.) Returns a local reference.\n    jobject lock(JNIEnv* env) const {\n        if (_weakRef == nullptr) {\n            return nullptr;\n        }\n        else {\n            return env-&gt;CallObjectMethod(_weakRef-&gt;get(), g_weakReferenceJniInfo-&gt;get);\n        }\n    }\n\n    bool isSame(JNIEnv* env, jobject obj) const {\n        auto local = lock(env);\n        auto result = env-&gt;IsSameObject(obj, local);\n        env-&gt;DeleteLocalRef(local);\n        return result;\n    }\n\n  private:\n    std::shared_ptr&lt;GlobalRef&lt;jobject&gt;&gt; _weakRef;\n};\n</code></pre>\n"}],"owner":{"account_id":14670661,"reputation":21,"user_id":10595216,"display_name":"comrade_bender"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76960264,"answer_count":1,"score":0,"last_activity_date":1692786450,"creation_date":1692377788,"question_id":76931263,"body_markdown":"There is a java application that actively uses C++. C++ code often calls methods in java and java code often calls methods in C++.\r\n\r\nThere is a cache on the C++ side that stores `jweak` references on java objects.\r\n\r\nAt some point in time, the java side call `getObj` on the C++ side, which should return an object from the cache.\r\n\r\n```\r\nJNIEXPORT jobject JNICALL Java_a_b_c_getObj(JNIEnv* env, jlong id) {\r\n      jweak weak_obj = g_cache.get_obj_by_id(id);\r\n      return env-&gt;NewLocalRef(weak_obj);\r\n}\r\n```\r\nOn the java side, this object is captured in the UI code and can even be processed somehow, but after a short time it may be called to finalize, the application crashes.\r\n\r\n```\r\nval obj = getObj(id) as Foo\r\nobj.methodA() // good\r\n// a little bit later\r\nobj.methodB() // error because there was a finalize function that cast to the implementation of the object on the C++ side\r\n```\r\n\r\nReproduced relatively stable.\r\n\r\n\r\n\r\nIt turns out that the garbage collector starts its work before the call to `getObj`, but the finalizer has not yet been dispatched.\r\nWhen an object fire in java starts to happen, finalize is called and the garbage collector doesn&#39;t know that the object is being used again.","title":"GC issue with objects returned from JNI to Java","body":"<p>There is a java application that actively uses C++. C++ code often calls methods in java and java code often calls methods in C++.</p>\n<p>There is a cache on the C++ side that stores <code>jweak</code> references on java objects.</p>\n<p>At some point in time, the java side call <code>getObj</code> on the C++ side, which should return an object from the cache.</p>\n<pre><code>JNIEXPORT jobject JNICALL Java_a_b_c_getObj(JNIEnv* env, jlong id) {\n      jweak weak_obj = g_cache.get_obj_by_id(id);\n      return env-&gt;NewLocalRef(weak_obj);\n}\n</code></pre>\n<p>On the java side, this object is captured in the UI code and can even be processed somehow, but after a short time it may be called to finalize, the application crashes.</p>\n<pre><code>val obj = getObj(id) as Foo\nobj.methodA() // good\n// a little bit later\nobj.methodB() // error because there was a finalize function that cast to the implementation of the object on the C++ side\n</code></pre>\n<p>Reproduced relatively stable.</p>\n<p>It turns out that the garbage collector starts its work before the call to <code>getObj</code>, but the finalizer has not yet been dispatched.\nWhen an object fire in java starts to happen, finalize is called and the garbage collector doesn't know that the object is being used again.</p>\n"},{"tags":["java","csv","illegalargumentexception"],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591954247,"creation_date":1591871600,"answer_id":62322384,"question_id":62321959,"body_markdown":"Do it as follows:\r\n\r\n    final int NO_OF_FIELDS = 10;\r\n    for (String csvLine : csvContents) {\r\n    \r\n    \t// split by comma and remove redundant spaces\r\n    \tString[] data = csvLine.split(&quot;,&quot;, -1);\r\n    \tif (data.length == NO_OF_FIELDS) {// &lt;---Add this check to avoid ArrayIndexOutOfBoundsException\r\n    \t\tSystem.out.println(data[1]);\r\n    \r\n    \t\tCharacter character = null;\r\n    \t\tString clazz = data[0].trim().toLowerCase();// &lt;---Trim to get rid of leading and trailing space\r\n    \r\n    \t\tif (clazz.startsWith(&quot;scenario&quot; &amp;&amp; data.length == 1)) {\r\n    \t\t\t// ...\r\n    \t\t} else if (&quot;person&quot;.equals(clazz) &amp;&amp; data.length == 10) {\r\n    \t\t\t// Handle the exception as shown below\r\n    \t\t\tProfession professionEnum;\r\n    \t\t\ttry {\r\n    \t\t\t\tprofessionEnum = Profession.valueOf(data[4].trim().toUpperCase());// &lt;---First trim then apply\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// toUpperCase()\r\n    \t\t\t} catch (IllegalArgumentException e) {\r\n    \t\t\t\tprofessionEnum = Profession.UNKNOWN;\r\n    \t\t\t}\r\n    \r\n    \t\t\t// ...\r\n    \r\n    \t\t} else if (&quot;animal&quot;.equals(clazz)) {\r\n    \t\t\t// ...\r\n    \t\t}\r\n    \t}\r\n    }","title":"parsing csv file dealing with empty value java","body":"<p>Do it as follows:</p>\n\n<pre><code>final int NO_OF_FIELDS = 10;\nfor (String csvLine : csvContents) {\n\n    // split by comma and remove redundant spaces\n    String[] data = csvLine.split(\",\", -1);\n    if (data.length == NO_OF_FIELDS) {// &lt;---Add this check to avoid ArrayIndexOutOfBoundsException\n        System.out.println(data[1]);\n\n        Character character = null;\n        String clazz = data[0].trim().toLowerCase();// &lt;---Trim to get rid of leading and trailing space\n\n        if (clazz.startsWith(\"scenario\" &amp;&amp; data.length == 1)) {\n            // ...\n        } else if (\"person\".equals(clazz) &amp;&amp; data.length == 10) {\n            // Handle the exception as shown below\n            Profession professionEnum;\n            try {\n                professionEnum = Profession.valueOf(data[4].trim().toUpperCase());// &lt;---First trim then apply\n                                                                                    // toUpperCase()\n            } catch (IllegalArgumentException e) {\n                professionEnum = Profession.UNKNOWN;\n            }\n\n            // ...\n\n        } else if (\"animal\".equals(clazz)) {\n            // ...\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62450,"reputation":10263,"user_id":185565,"accept_rate":91,"display_name":"Whome"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692785724,"creation_date":1692785724,"answer_id":76960390,"question_id":62321959,"body_markdown":"If you later hit a problem with quoted string tokens then you could use [OpenCSV library][1] or more csv compliant reader loop. See this example.\r\n\r\n\tList&lt;String&gt; tokens = new ArrayList&lt;String&gt;(32);\r\n\tString line;\r\n\twhile( (line=fileReader.readLine())!=null) {\r\n\t\tline=line.trim();\r\n\t\tif(line.isEmpty()) continue;\r\n\t\ttokens.clear();\r\n\t\tif (parseCSVLine(tokens, line, &#39;,&#39;)&gt;0) {\r\n\t\t\tfor(int idx=0; idx&lt;tokens.size(); idx++)\r\n\t\t\t\tSystem.out.print(&quot;|&quot;+tokens.get(idx));\r\n\t\t\tSystem.out.println(&quot;|&quot;);\r\n\t\t}\r\n\t}\r\n\r\n    - - - - \r\n    public static int parseCSVLine(List&lt;String&gt; tokens, String line, char delim) {\r\n    \t// this handles quoted string and tuple &quot;&quot; escape values,\r\n    \t// array string is returned as a [&quot;drama&quot;,&quot;comedy&quot;] string value, reader must split to sub tokens.\r\n\t\t// ABCD, &quot;string value&quot;, &quot;string &quot;&quot; escape value&quot;, &quot;[&quot;&quot;drama&quot;&quot;,&quot;&quot;comedy&quot;&quot;]&quot;, DEFG    \t\r\n    \tint count=0;\r\n    \tline = line+delim;\r\n    \tfinal int maxIdx = line.length()-1;\r\n    \tint startIdx=0, endIdx=-1; // both inclusive index\r\n    \tboolean inQuote=false;\r\n    \tfor(int idx=0; idx&lt;=maxIdx; idx++) {\r\n    \t\tchar ch = line.charAt(idx);\r\n    \t\tif(ch==delim &amp;&amp; !inQuote) {\r\n    \t\t\tcount++;\r\n    \t\t\t//if(line.charAt(startIdx)==&#39;&quot;&#39;) startIdx++; // drop leading and trailing &quot; string delimiter\r\n    \t\t\t//if(line.charAt(endIdx)==&#39;&quot;&#39;) endIdx--;    \t\t\t\r\n    \t\t\tString value = startIdx&lt;=endIdx ? line.substring(startIdx, endIdx+1).trim() : &quot;&quot;; // trim tokens\r\n    \t\t\tvalue = value.replace(&quot;\\&quot;\\&quot;&quot;, &quot;\\&quot;&quot;); // convert &quot;&quot; -&gt; &quot;\r\n    \t\t\ttokens.add(value);\r\n    \t\t\tstartIdx=idx+1;\r\n    \t\t\t//endIdx=startIdx-1; // use -1\r\n    \t\t\tinQuote=false;\r\n    \t\t} else if(ch==&#39;&quot;&#39;) {\r\n    \t\t\tif(idx&lt;maxIdx &amp;&amp; line.charAt(idx+1)==&#39;&quot;&#39;) {\r\n    \t\t\t\tendIdx+=2; // tuple &quot;&quot; inside the quoted string value\r\n    \t\t\t\tidx++;\r\n    \t\t\t} else if(!inQuote) {\r\n    \t\t\t\tinQuote=true; // start quoted string\r\n    \t\t\t\tstartIdx=idx+1; // drop leading &quot; from the token\r\n    \t\t\t\t//endIdx=startIdx;\r\n    \t\t\t} else {\r\n    \t\t\t\tinQuote=false; // end quoted string\r\n    \t\t\t\tendIdx=idx-1;    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tendIdx=idx; // &quot;increment&quot; endIdx, inclusive index to the last char of token\r\n    \t\t}    \t\t\r\n    \t}    \t\r\n    \treturn count;\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/opencsv","title":"parsing csv file dealing with empty value java","body":"<p>If you later hit a problem with quoted string tokens then you could use <a href=\"https://www.baeldung.com/opencsv\" rel=\"nofollow noreferrer\">OpenCSV library</a> or more csv compliant reader loop. See this example.</p>\n<pre><code>List&lt;String&gt; tokens = new ArrayList&lt;String&gt;(32);\nString line;\nwhile( (line=fileReader.readLine())!=null) {\n    line=line.trim();\n    if(line.isEmpty()) continue;\n    tokens.clear();\n    if (parseCSVLine(tokens, line, ',')&gt;0) {\n        for(int idx=0; idx&lt;tokens.size(); idx++)\n            System.out.print(&quot;|&quot;+tokens.get(idx));\n        System.out.println(&quot;|&quot;);\n    }\n}\n\n- - - - \npublic static int parseCSVLine(List&lt;String&gt; tokens, String line, char delim) {\n    // this handles quoted string and tuple &quot;&quot; escape values,\n    // array string is returned as a [&quot;drama&quot;,&quot;comedy&quot;] string value, reader must split to sub tokens.\n    // ABCD, &quot;string value&quot;, &quot;string &quot;&quot; escape value&quot;, &quot;[&quot;&quot;drama&quot;&quot;,&quot;&quot;comedy&quot;&quot;]&quot;, DEFG       \n    int count=0;\n    line = line+delim;\n    final int maxIdx = line.length()-1;\n    int startIdx=0, endIdx=-1; // both inclusive index\n    boolean inQuote=false;\n    for(int idx=0; idx&lt;=maxIdx; idx++) {\n        char ch = line.charAt(idx);\n        if(ch==delim &amp;&amp; !inQuote) {\n            count++;\n            //if(line.charAt(startIdx)=='&quot;') startIdx++; // drop leading and trailing &quot; string delimiter\n            //if(line.charAt(endIdx)=='&quot;') endIdx--;                \n            String value = startIdx&lt;=endIdx ? line.substring(startIdx, endIdx+1).trim() : &quot;&quot;; // trim tokens\n            value = value.replace(&quot;\\&quot;\\&quot;&quot;, &quot;\\&quot;&quot;); // convert &quot;&quot; -&gt; &quot;\n            tokens.add(value);\n            startIdx=idx+1;\n            //endIdx=startIdx-1; // use -1\n            inQuote=false;\n        } else if(ch=='&quot;') {\n            if(idx&lt;maxIdx &amp;&amp; line.charAt(idx+1)=='&quot;') {\n                endIdx+=2; // tuple &quot;&quot; inside the quoted string value\n                idx++;\n            } else if(!inQuote) {\n                inQuote=true; // start quoted string\n                startIdx=idx+1; // drop leading &quot; from the token\n                //endIdx=startIdx;\n            } else {\n                inQuote=false; // end quoted string\n                endIdx=idx-1;                   \n            }\n        } else {\n            endIdx=idx; // &quot;increment&quot; endIdx, inclusive index to the last char of token\n        }           \n    }       \n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":18058911,"reputation":1134,"user_id":13126518,"display_name":"Woden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62322384,"answer_count":2,"score":1,"last_activity_date":1692785724,"creation_date":1591870267,"question_id":62321959,"body_markdown":"I am new to java and practicing parsing csv file. I&#39;ve figured out how to parse and use a constructor to create an instance. However, there are empty strings in my csv file, and the console just throw `IllegalArgumentException: No enum constant` to me.\r\n\r\nI&#39;ve referred to:\r\n\r\n 1. https://stackoverflow.com/questions/6062925/enum-valueof-illegalargumentexception-no-enum-const-class\r\n 2. https://stackoverflow.com/questions/32068129/parse-csv-file-in-java-and-delaing-with-empty-values\r\n\r\nUnfortunately, it doesn&#39;t work. When it comes to the `Person` with empty `Profession`, the program breaks. Do I need to fill some string like &quot;NONE&quot; for matching the enum, or there is any way to deal with this? Any help or hint is highly appreciated.\r\n\r\nHere is my `Profession` for example:\r\n\r\n    public enum Profession {\r\n        DOCTOR, CEO, CRIMINAL, HOMELESS, UNEMPLOYED, MUSICIAN, BOXER , UNKNOWN, NONE;\r\n    }\r\n\r\nHere is how my csv file looks like:\r\n\r\n      [0],    [1], [2],    [3]  ,    [4]    ,   [5]   ,  [6] ,   [7]  ,  [8] , [9]\r\n    class, gender, age, bodyType, profession, pregnant, isYou ,species, isPet, role\r\n    scenario:green,   ,         ,           ,         ,        ,      ,      ,\r\n    person, female, 24, average ,           , FALSE   ,        ,      ,      , passenger\r\n    animal, male  ,  4,         ,           , FALSE   ,        , dog  , TRUE , pedestrian\r\n      .\r\n      .\r\n\r\nHere is the parsing code:\r\n\r\n    try (BufferedReader csvReader = new BufferedReader(new FileReader(csvFile));) {\r\n    String headerLine = csvReader.readLine(); //get rid of header\r\n\r\n    while ((line = csvReader.readLine()) != null) { \r\n        csvContents.add(line);// add the line to the ArrayList      \r\n    }\r\n\r\n    for (String csvLine : csvContents) {\r\n\r\n        // split by comma and remove redundant spaces\r\n        String[] data = csvLine.split(&quot;,&quot;,-1); \r\n        System.out.println(data[1]);// IndexOutOfBound\r\n\r\n        Character character = null;\r\n        String clazz = data[0].toLowerCase();// cannot use word &quot;class&quot; as a variable\r\n\r\n\r\n        if (clazz.startsWith(&quot;scenario&quot;&amp;&amp; data.length == 1)) { \r\n            scenario = new Scenario();\r\n            scenario.setLegalCrossing(clazz.endsWith(&quot;green&quot;));\r\n            continue;\r\n        } else if (&quot;person&quot;.equals(clazz)&amp;&amp; data.length == 10) {\r\n            Profession professionEnum = Profession.valueOf(data[4].toUpperCase().trim());  \r\n            Gender genderEnum = Gender.valueOf(data[1].toUpperCase().trim());\r\n            BodyType bodyTypeEnum =BodyType.valueOf(data[3].toUpperCase().trim());\r\n\r\n            person = new Person(Integer.parseInt(data[2]), professionEnum ,genderEnum , bodyTypeEnum , Boolean.parseBoolean(data[5]));\r\n            person.setAsYou(Boolean.parseBoolean(data[6]));\r\n\r\n        } else if (&quot;animal&quot;.equals(clazz)) {\r\n            Gender genderEnum = Gender.valueOf(data[1].toUpperCase().trim());\r\n            BodyType bodyTypeEnum =BodyType.valueOf(data[3].toUpperCase().trim());\r\n\r\n            animal = new Animal(Integer.parseInt(data[2]) , genderEnum , bodyTypeEnum, data[7]);\r\n            animal.setIsPet(Boolean.parseBoolean(data[8]));\r\n        }\r\n    } catch (someException e) {\r\n      e.printStackTrace();\r\n    }\r\n\r\nand the parsed line looks like:\r\n\r\n    scenario:green,,,,,,,,,\r\n    person,female,24,average,doctor,false,false,,,passenger\r\n    person,male,40,overweight,unknown,false,false,,,passenger\r\n    person,female,2,average,,false,false,,,passenger\r\n    person,male,82,average,,false,false,,,pedestrian\r\n    person,female,32,average,ceo,true,false,,,pedestrian\r\n    person,male,7,athletic,,false,false,,,pedestrian\r\n    animal,male,4,,,false,false,dog,true,pedestrian\r\n    scenario:red,,,,,,,,,","title":"parsing csv file dealing with empty value java","body":"<p>I am new to java and practicing parsing csv file. I've figured out how to parse and use a constructor to create an instance. However, there are empty strings in my csv file, and the console just throw <code>IllegalArgumentException: No enum constant</code> to me.</p>\n\n<p>I've referred to:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/6062925/enum-valueof-illegalargumentexception-no-enum-const-class\">enum valueOf IllegalArgumentException: No enum const class</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32068129/parse-csv-file-in-java-and-delaing-with-empty-values\">Parse CSV file in java, and delaing with empty values</a></li>\n</ol>\n\n<p>Unfortunately, it doesn't work. When it comes to the <code>Person</code> with empty <code>Profession</code>, the program breaks. Do I need to fill some string like \"NONE\" for matching the enum, or there is any way to deal with this? Any help or hint is highly appreciated.</p>\n\n<p>Here is my <code>Profession</code> for example:</p>\n\n<pre><code>public enum Profession {\n    DOCTOR, CEO, CRIMINAL, HOMELESS, UNEMPLOYED, MUSICIAN, BOXER , UNKNOWN, NONE;\n}\n</code></pre>\n\n<p>Here is how my csv file looks like:</p>\n\n<pre><code>  [0],    [1], [2],    [3]  ,    [4]    ,   [5]   ,  [6] ,   [7]  ,  [8] , [9]\nclass, gender, age, bodyType, profession, pregnant, isYou ,species, isPet, role\nscenario:green,   ,         ,           ,         ,        ,      ,      ,\nperson, female, 24, average ,           , FALSE   ,        ,      ,      , passenger\nanimal, male  ,  4,         ,           , FALSE   ,        , dog  , TRUE , pedestrian\n  .\n  .\n</code></pre>\n\n<p>Here is the parsing code:</p>\n\n<pre><code>try (BufferedReader csvReader = new BufferedReader(new FileReader(csvFile));) {\nString headerLine = csvReader.readLine(); //get rid of header\n\nwhile ((line = csvReader.readLine()) != null) { \n    csvContents.add(line);// add the line to the ArrayList      \n}\n\nfor (String csvLine : csvContents) {\n\n    // split by comma and remove redundant spaces\n    String[] data = csvLine.split(\",\",-1); \n    System.out.println(data[1]);// IndexOutOfBound\n\n    Character character = null;\n    String clazz = data[0].toLowerCase();// cannot use word \"class\" as a variable\n\n\n    if (clazz.startsWith(\"scenario\"&amp;&amp; data.length == 1)) { \n        scenario = new Scenario();\n        scenario.setLegalCrossing(clazz.endsWith(\"green\"));\n        continue;\n    } else if (\"person\".equals(clazz)&amp;&amp; data.length == 10) {\n        Profession professionEnum = Profession.valueOf(data[4].toUpperCase().trim());  \n        Gender genderEnum = Gender.valueOf(data[1].toUpperCase().trim());\n        BodyType bodyTypeEnum =BodyType.valueOf(data[3].toUpperCase().trim());\n\n        person = new Person(Integer.parseInt(data[2]), professionEnum ,genderEnum , bodyTypeEnum , Boolean.parseBoolean(data[5]));\n        person.setAsYou(Boolean.parseBoolean(data[6]));\n\n    } else if (\"animal\".equals(clazz)) {\n        Gender genderEnum = Gender.valueOf(data[1].toUpperCase().trim());\n        BodyType bodyTypeEnum =BodyType.valueOf(data[3].toUpperCase().trim());\n\n        animal = new Animal(Integer.parseInt(data[2]) , genderEnum , bodyTypeEnum, data[7]);\n        animal.setIsPet(Boolean.parseBoolean(data[8]));\n    }\n} catch (someException e) {\n  e.printStackTrace();\n}\n</code></pre>\n\n<p>and the parsed line looks like:</p>\n\n<pre><code>scenario:green,,,,,,,,,\nperson,female,24,average,doctor,false,false,,,passenger\nperson,male,40,overweight,unknown,false,false,,,passenger\nperson,female,2,average,,false,false,,,passenger\nperson,male,82,average,,false,false,,,pedestrian\nperson,female,32,average,ceo,true,false,,,pedestrian\nperson,male,7,athletic,,false,false,,,pedestrian\nanimal,male,4,,,false,false,dog,true,pedestrian\nscenario:red,,,,,,,,,\n</code></pre>\n"},{"tags":["java","printing","printf"],"comments":[{"owner":{"account_id":259131,"reputation":411,"user_id":541790,"accept_rate":84,"display_name":"m.qayyum"},"score":0,"creation_date":1323602071,"post_id":8463477,"comment_id":10465547,"body_markdown":"use System.out.println instead of System.out.print","body":"use System.out.println instead of System.out.print"},{"owner":{"account_id":162312,"reputation":2475,"user_id":383688,"accept_rate":100,"display_name":"MockerTim"},"score":0,"creation_date":1323602207,"post_id":8463477,"comment_id":10465566,"body_markdown":"What do you mean by `without moving new line`? Does this mean, that you don&#39;t want to print new line? You should also check the punctuation of your question.","body":"What do you mean by <code>without moving new line</code>? Does this mean, that you don&#39;t want to print new line? You should also check the punctuation of your question."},{"owner":{"account_id":1058083,"reputation":76416,"user_id":1060350,"accept_rate":76,"display_name":"Has QUIT--Anony-Mousse"},"score":1,"creation_date":1323603306,"post_id":8463477,"comment_id":10465711,"body_markdown":"Rephrased question: how do I remove the `%n` from the `printf`? Sorry, I&#39;m giving the question a *downvote* for not having done enough research on what printf format strings are ...","body":"Rephrased question: how do I remove the <code>%n</code> from the <code>printf</code>? Sorry, I&#39;m giving the question a <i>downvote</i> for not having done enough research on what printf format strings are ..."},{"owner":{"account_id":333967,"reputation":1711,"user_id":660096,"accept_rate":80,"display_name":"agiles"},"score":0,"creation_date":1323604211,"post_id":8463477,"comment_id":10465821,"body_markdown":"sorry iam not well look up on code line and this is need to finish with some amount of time that&#39;s y happen ask sorry again","body":"sorry iam not well look up on code line and this is need to finish with some amount of time that&#39;s y happen ask sorry again"}],"answers":[{"tags":[],"owner":{"account_id":238594,"reputation":646,"user_id":507587,"accept_rate":62,"display_name":"tobier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1323601995,"creation_date":1323601995,"answer_id":8463490,"question_id":8463477,"body_markdown":"Do you mean like this?\r\n\r\n    System.out.printf(&quot;%7s  %s%n&quot;,names[i], &quot; &quot;);\r\n            for(int j=0; j&lt;5;j++){\r\n            System.out.print( grades[i][j]+ &quot; &quot; );\r\n            }\r\n    System.out.println();","title":"Can i use printf in java without moving to new line","body":"<p>Do you mean like this?</p>\n\n<pre><code>System.out.printf(\"%7s  %s%n\",names[i], \" \");\n        for(int j=0; j&lt;5;j++){\n        System.out.print( grades[i][j]+ \" \" );\n        }\nSystem.out.println();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323602035,"creation_date":1323602035,"answer_id":8463498,"question_id":8463477,"body_markdown":"Use [`System.out.format(String, Object...)`][1], which doesn&#39;t feed a line\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/PrintStream.html#format%28java.lang.String,%20java.lang.Object...%29","title":"Can i use printf in java without moving to new line","body":"<p>Use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/PrintStream.html#format%28java.lang.String,%20java.lang.Object...%29\" rel=\"nofollow\"><code>System.out.format(String, Object...)</code></a>, which doesn't feed a line</p>\n"},{"tags":[],"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1323603248,"creation_date":1323603248,"answer_id":8463634,"question_id":8463477,"body_markdown":"printf wont print a newline by itself, the `%n` at the end of your format String causes the new line . Replacing `&quot;%7s  %s%n&quot;` with `&quot;%7s  %s&quot;` should work.\r\n","title":"Can i use printf in java without moving to new line","body":"<p>printf wont print a newline by itself, the <code>%n</code> at the end of your format String causes the new line . Replacing <code>\"%7s  %s%n\"</code> with <code>\"%7s  %s\"</code> should work.</p>\n"},{"tags":[],"owner":{"account_id":1058083,"reputation":76416,"user_id":1060350,"accept_rate":76,"display_name":"Has QUIT--Anony-Mousse"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1323603257,"creation_date":1323603257,"answer_id":8463635,"question_id":8463477,"body_markdown":"`printf` doesn&#39;t by default print a new line. You *really* should read the documentation. When you **explicitly** print a new line using the `%n` newline placeholder, you shouldn&#39;t be surprised you get a newline ...\r\n\r\nSo just remove the `%n` if you don&#39;t want it.","title":"Can i use printf in java without moving to new line","body":"<p><code>printf</code> doesn't by default print a new line. You <em>really</em> should read the documentation. When you <strong>explicitly</strong> print a new line using the <code>%n</code> newline placeholder, you shouldn't be surprised you get a newline ...</p>\n\n<p>So just remove the <code>%n</code> if you don't want it.</p>\n"},{"tags":[],"owner":{"account_id":951663,"reputation":12014,"user_id":977676,"display_name":"COD3BOY"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1323604232,"creation_date":1323604232,"answer_id":8463738,"question_id":8463477,"body_markdown":"I suppose this is what you need,\n\n&gt;To print the name of students along with their grades in each line.\n\nTo accomplish this, you need,\n\n   \n\n    for(int i=0;i&lt;number_of_students;i++)\n    {\n     System.out.printf(&quot;%7s  %s &quot;,names[i], &quot; &quot;);\n                               ^                                 //note the ^\n                for(int j=0; j&lt;5;j++){\n                System.out.print( grades[i][j]+ &quot; &quot; );\n                }\n     \n    System.out.println();\n    }\n\nThis will give you something like this :\n\n&gt;*Name*   *Grade*  *Grade*  *Grade*  *Grade*  *Grade* \n&gt;\n&gt;*Name*   *Grade*  *Grade*  *Grade*  *Grade*  *Grade* \n&gt;\n&gt;...\n\n","title":"Can i use printf in java without moving to new line","body":"<p>I suppose this is what you need,</p>\n<blockquote>\n<p>To print the name of students along with their grades in each line.</p>\n</blockquote>\n<p>To accomplish this, you need,</p>\n<pre><code>for(int i=0;i&lt;number_of_students;i++)\n{\n System.out.printf(&quot;%7s  %s &quot;,names[i], &quot; &quot;);\n                           ^                                 //note the ^\n            for(int j=0; j&lt;5;j++){\n            System.out.print( grades[i][j]+ &quot; &quot; );\n            }\n \nSystem.out.println();\n}\n</code></pre>\n<p>This will give you something like this :</p>\n<blockquote>\n<p><em>Name</em>   <em>Grade</em>  <em>Grade</em>  <em>Grade</em>  <em>Grade</em>  <em>Grade</em></p>\n<p><em>Name</em>   <em>Grade</em>  <em>Grade</em>  <em>Grade</em>  <em>Grade</em>  <em>Grade</em></p>\n<p>...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":44076,"reputation":783,"user_id":129134,"accept_rate":75,"display_name":"JoseJC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432752630,"creation_date":1432752630,"answer_id":30490792,"question_id":8463477,"body_markdown":"You can print outside your loop.\r\n \r\n    String gradesString;\r\n    System.out.printf(&quot;%7s  %s%n&quot;,names[i], &quot; &quot;);\r\n        for(int j=0; j&lt;5;j++){\r\n            gradesString += grades[i][j]+ &quot; &quot;;\r\n        }\r\n    System.out.println(gradesString);","title":"Can i use printf in java without moving to new line","body":"<p>You can print outside your loop.</p>\n\n<pre><code>String gradesString;\nSystem.out.printf(\"%7s  %s%n\",names[i], \" \");\n    for(int j=0; j&lt;5;j++){\n        gradesString += grades[i][j]+ \" \";\n    }\nSystem.out.println(gradesString);\n</code></pre>\n"}],"owner":{"account_id":333967,"reputation":1711,"user_id":660096,"accept_rate":80,"display_name":"agiles"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72766,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":8463635,"answer_count":6,"score":2,"last_activity_date":1692785450,"creation_date":1323601772,"question_id":8463477,"body_markdown":"I use System.out.printf method to format the string and print a line but\r\nafter that i need to print another line through for loop with print method without moving new line.\r\n\r\nNow after used printf method it will move to new line. but i don&#39;t need to move new line until print my for loop.\r\n\r\nis it possible??\r\nor can u tell any other way\r\n \r\nhere is my sample code\r\n\r\n    System.out.printf(&quot;%7s  %s%n&quot;,names[i], &quot; &quot;);\r\n    for (int j = 0; j &lt; 5; j++) {\r\n        System.out.print( grades[i][j] + &quot; &quot; );\r\n    }\r\n    System.out.println();\r\n","title":"Can i use printf in java without moving to new line","body":"<p>I use System.out.printf method to format the string and print a line but\nafter that i need to print another line through for loop with print method without moving new line.</p>\n<p>Now after used printf method it will move to new line. but i don't need to move new line until print my for loop.</p>\n<p>is it possible??\nor can u tell any other way</p>\n<p>here is my sample code</p>\n<pre><code>System.out.printf(&quot;%7s  %s%n&quot;,names[i], &quot; &quot;);\nfor (int j = 0; j &lt; 5; j++) {\n    System.out.print( grades[i][j] + &quot; &quot; );\n}\nSystem.out.println();\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1692700848,"post_id":76952394,"comment_id":135656854,"body_markdown":"&quot;not allowing me to use gethyperlink method. It will always give me error on this method&quot;: What error? (full stack-trace please!) - Using what code? ([minimal-reproducible-example](https://stackoverflow.com/help/minimal-reproducible-example) please!).","body":"&quot;not allowing me to use gethyperlink method. It will always give me error on this method&quot;: What error? (full stack-trace please!) - Using what code? (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal-reproducible-example</a> please!)."},{"owner":{"account_id":29274493,"reputation":11,"user_id":22428538,"display_name":"Esha Agarwal"},"score":0,"creation_date":1692701663,"post_id":76952394,"comment_id":135656999,"body_markdown":"I Just edited my question. \nFor getHyperlinks - I always used to get error like -&gt; getHyperlinks is undefined for type XSLFTextParagraph","body":"I Just edited my question.  For getHyperlinks - I always used to get error like -&gt; getHyperlinks is undefined for type XSLFTextParagraph"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1692702930,"post_id":76952394,"comment_id":135657229,"body_markdown":"See [class-use of XSLFHyperlink](https://poi.apache.org/apidocs/dev/org/apache/poi/xslf/usermodel/class-use/XSLFHyperlink.html). A `XSLFTextParagraph` does not have access to hyperlinks. Only `XSLFTextRun` and `XSLFSimpleShape` have. One can iterate over all `XSLFTextRun` of `XSLFTextParagraph` and then try to get `XSLFHyperlink` from `XSLFTextRun` using `XSLFTextRun.getHyperlink`.","body":"See <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xslf/usermodel/class-use/XSLFHyperlink.html\" rel=\"nofollow noreferrer\">class-use of XSLFHyperlink</a>. A <code>XSLFTextParagraph</code> does not have access to hyperlinks. Only <code>XSLFTextRun</code> and <code>XSLFSimpleShape</code> have. One can iterate over all <code>XSLFTextRun</code> of <code>XSLFTextParagraph</code> and then try to get <code>XSLFHyperlink</code> from <code>XSLFTextRun</code> using <code>XSLFTextRun.getHyperlink</code>."},{"owner":{"account_id":29274493,"reputation":11,"user_id":22428538,"display_name":"Esha Agarwal"},"score":0,"creation_date":1692703295,"post_id":76952394,"comment_id":135657294,"body_markdown":"I tried to use the same as suggested by you. But still getting error.","body":"I tried to use the same as suggested by you. But still getting error."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1692704509,"post_id":76952394,"comment_id":135657564,"body_markdown":"It is singular `XSLFTextRun.getHyperlink` and not plural getHyperlinks.","body":"It is singular <code>XSLFTextRun.getHyperlink</code> and not plural getHyperlinks."},{"owner":{"account_id":29274493,"reputation":11,"user_id":22428538,"display_name":"Esha Agarwal"},"score":0,"creation_date":1692778023,"post_id":76952394,"comment_id":135669160,"body_markdown":"Thanks it worked actually i was including textRun.getHyperlink() in for loop but it was throwing me error so i modified my code a little bit and removed a for loop with XSLFHyperlink hyperlink = textRun.getHyperlink();","body":"Thanks it worked actually i was including textRun.getHyperlink() in for loop but it was throwing me error so i modified my code a little bit and removed a for loop with XSLFHyperlink hyperlink = textRun.getHyperlink();"}],"owner":{"account_id":29274493,"reputation":11,"user_id":22428538,"display_name":"Esha Agarwal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692785383,"creation_date":1692700194,"question_id":76952394,"body_markdown":"I want to extract all the hyperlinks present in PowerPoint and print the text along with its corresponding URLs. Can anyone help me in providing a correct java code?\r\n\r\nI tried to use Apache POI but is not allowing me to use `gethyperlink` method. It will always give me error on this method.\r\nIt would be really helpful if anyone can provide me the solution.\r\n\r\nMy Code:\r\n\r\n    FileInputStream fis = new FileInputStream(&quot;file.pptx&quot;) \r\n    XMLSlideShow ppt = new XMLSlideShow(fis);\r\n    for (XSLFSlide slide : ppt.getSlides()) {\r\n        for (XSLFShape shape : slide.getShapes()) {\r\n            if (shape instanceof XSLFTextShape) {\r\n                XSLFTextShape textShape = (XSLFTextShape) shape;\r\n                for (XSLFTextParagraph paragraph : textShape) {\r\n                    for (XSLFHyperlink hyperlink : paragraph.getHyperlinks()) {\r\n                        String linkAddress = hyperlink.getAddress();\r\n                        String linkLabel = hyperlink.getLabel();\r\n                        System.out.println(&quot;Label: &quot; + linkLabel);\r\n                        System.out.println(&quot;URL: &quot; + linkAddress);\r\n                        System.out.println();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nEdit\r\n----\r\nI tried to use `XSLFTextRun` but still getting error on `getHyperlinks` method like it is undefined for type `XSLFTextRun`.\r\n\r\n    FileInputStream fis = new FileInputStream(&quot;file.pptx&quot;)\r\n    XMLSlideShow ppt = new XMLSlideShow(fis);\r\n    for (XSLFSlide slide : ppt.getSlides()) {\r\n        for (XSLFShape shape : slide.getShapes()) {\r\n            if (shape instanceof XSLFTextShape) {\r\n                XSLFTextShape textShape = (XSLFTextShape) shape;\r\n                for (XSLFTextParagraph paragraph : textShape.getTextParagraphs()) {\r\n                    for (XSLFTextRun textRun : paragraph.getTextRuns()) {\r\n                        for (XSLFHyperlink hyperlink : textRun.getHyperlinks()) {\r\n                            String linkAddress = hyperlink.getAddress();\r\n                            String linkLabel = textRun.getRawText();\r\n                            System.out.println(&quot;Label: &quot; + linkLabel);\r\n                            System.out.println(&quot;URL: &quot; + linkAddress);\r\n                            System.out.println();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Extract hyperlinks from ppt","body":"<p>I want to extract all the hyperlinks present in PowerPoint and print the text along with its corresponding URLs. Can anyone help me in providing a correct java code?</p>\n<p>I tried to use Apache POI but is not allowing me to use <code>gethyperlink</code> method. It will always give me error on this method.\nIt would be really helpful if anyone can provide me the solution.</p>\n<p>My Code:</p>\n<pre><code>FileInputStream fis = new FileInputStream(&quot;file.pptx&quot;) \nXMLSlideShow ppt = new XMLSlideShow(fis);\nfor (XSLFSlide slide : ppt.getSlides()) {\n    for (XSLFShape shape : slide.getShapes()) {\n        if (shape instanceof XSLFTextShape) {\n            XSLFTextShape textShape = (XSLFTextShape) shape;\n            for (XSLFTextParagraph paragraph : textShape) {\n                for (XSLFHyperlink hyperlink : paragraph.getHyperlinks()) {\n                    String linkAddress = hyperlink.getAddress();\n                    String linkLabel = hyperlink.getLabel();\n                    System.out.println(&quot;Label: &quot; + linkLabel);\n                    System.out.println(&quot;URL: &quot; + linkAddress);\n                    System.out.println();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<h2>Edit</h2>\n<p>I tried to use <code>XSLFTextRun</code> but still getting error on <code>getHyperlinks</code> method like it is undefined for type <code>XSLFTextRun</code>.</p>\n<pre><code>FileInputStream fis = new FileInputStream(&quot;file.pptx&quot;)\nXMLSlideShow ppt = new XMLSlideShow(fis);\nfor (XSLFSlide slide : ppt.getSlides()) {\n    for (XSLFShape shape : slide.getShapes()) {\n        if (shape instanceof XSLFTextShape) {\n            XSLFTextShape textShape = (XSLFTextShape) shape;\n            for (XSLFTextParagraph paragraph : textShape.getTextParagraphs()) {\n                for (XSLFTextRun textRun : paragraph.getTextRuns()) {\n                    for (XSLFHyperlink hyperlink : textRun.getHyperlinks()) {\n                        String linkAddress = hyperlink.getAddress();\n                        String linkLabel = textRun.getRawText();\n                        System.out.println(&quot;Label: &quot; + linkLabel);\n                        System.out.println(&quot;URL: &quot; + linkAddress);\n                        System.out.println();\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","image4j"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1692717781,"post_id":76954764,"comment_id":135661020,"body_markdown":"Welcome! https://stackoverflow.com/questions/908672/why-do-i-get-exception-must-be-caught-or-declared-to-be-thrown-when-i-try-to should answer your question - if not, please [edit] your question to elaborate. In short - you need to either catch the exception and do something about it, or mark your constructor as `throws IOException` and make the caller of the constructor do something about it.","body":"Welcome! <a href=\"https://stackoverflow.com/questions/908672/why-do-i-get-exception-must-be-caught-or-declared-to-be-thrown-when-i-try-to\" title=\"why do i get exception must be caught or declared to be thrown when i try to\">stackoverflow.com/questions/908672/&hellip;</a> should answer your question - if not, please <a href=\"https://stackoverflow.com/posts/76954764/edit\">edit</a> your question to elaborate. In short - you need to either catch the exception and do something about it, or mark your constructor as <code>throws IOException</code> and make the caller of the constructor do something about it."},{"owner":{"account_id":26893907,"reputation":21,"user_id":20472173,"display_name":"Anonymous2840938028"},"score":0,"creation_date":1692717982,"post_id":76954764,"comment_id":135661069,"body_markdown":"@nanofarad I can&#39;t seem to find the answer to this issue in that question (by that I mean I don&#39;t know how to prevent this exception)","body":"@nanofarad I can&#39;t seem to find the answer to this issue in that question (by that I mean I don&#39;t know how to prevent this exception)"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1692718392,"post_id":76954764,"comment_id":135661166,"body_markdown":"Sorry, I pasted the wrong link - please try https://stackoverflow.com/q/72751842/1424875 for a longer explanation (compared to the tl;dr in my previous comment)","body":"Sorry, I pasted the wrong link - please try <a href=\"https://stackoverflow.com/q/72751842/1424875\">stackoverflow.com/q/72751842/1424875</a> for a longer explanation (compared to the tl;dr in my previous comment)"},{"owner":{"account_id":26893907,"reputation":21,"user_id":20472173,"display_name":"Anonymous2840938028"},"score":0,"creation_date":1692719660,"post_id":76954764,"comment_id":135661457,"body_markdown":"Thanks, that was really helpful, before this I submitted an edit for review and reopening,  is there any way I can cancel that now? (I&#39;m new to Stack overflow)","body":"Thanks, that was really helpful, before this I submitted an edit for review and reopening,  is there any way I can cancel that now? (I&#39;m new to Stack overflow)"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1692720023,"post_id":76954764,"comment_id":135661539,"body_markdown":"I don&#39;t think there&#39;s a need to cancel it (and I&#39;m not sure how to cancel it either); worst case nothing will be done when a reviewer hits it. Thanks and welcome again!","body":"I don&#39;t think there&#39;s a need to cancel it (and I&#39;m not sure how to cancel it either); worst case nothing will be done when a reviewer hits it. Thanks and welcome again!"}],"owner":{"account_id":26893907,"reputation":21,"user_id":20472173,"display_name":"Anonymous2840938028"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1692717738,"answer_count":0,"score":1,"last_activity_date":1692785258,"creation_date":1692717597,"question_id":76954764,"body_markdown":"When using `ICODecoder.read(new File(&quot;path&quot;));` in IntelliJ IDEA the read is underlined in read and states _&quot;java: unreported exception java.io.IOException; must be caught or declared to be thrown&quot;_ in the build output. How can I fix this?\r\n\r\n    import net.sf.image4j.codec.ico.ICODecoder;\r\n    \r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.util.List;\r\n    \r\n    public class GUI {\r\n        public GUI() {\r\n            List&lt;BufferedImage&gt; imageList = ICODecoder.read(new File(&quot;path (it&#39;s  a proper, valid file path in the actual code)&quot;));\r\n        }\r\n        public static void main(String[] args) {\r\n            new GUI();\r\n        }\r\n    }\r\n\r\nimage4j is downloaded from the official site and added as a dependency.","title":"image4j is ICODecode.read is throwing IOException","body":"<p>When using <code>ICODecoder.read(new File(&quot;path&quot;));</code> in IntelliJ IDEA the read is underlined in read and states <em>&quot;java: unreported exception java.io.IOException; must be caught or declared to be thrown&quot;</em> in the build output. How can I fix this?</p>\n<pre><code>import net.sf.image4j.codec.ico.ICODecoder;\n\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.util.List;\n\npublic class GUI {\n    public GUI() {\n        List&lt;BufferedImage&gt; imageList = ICODecoder.read(new File(&quot;path (it's  a proper, valid file path in the actual code)&quot;));\n    }\n    public static void main(String[] args) {\n        new GUI();\n    }\n}\n</code></pre>\n<p>image4j is downloaded from the official site and added as a dependency.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"score":1,"creation_date":1315841939,"post_id":7390365,"comment_id":8924874,"body_markdown":"Did you try it? If you did, you would have known that `matcher.group()` will do exactly what you need.","body":"Did you try it? If you did, you would have known that <code>matcher.group()</code> will do exactly what you need."},{"owner":{"account_id":266404,"reputation":1784,"user_id":553952,"accept_rate":93,"display_name":"arin"},"score":0,"creation_date":1315842465,"post_id":7390365,"comment_id":8925039,"body_markdown":"@Marcelo please read comment to last answer","body":"@Marcelo please read comment to last answer"},{"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"score":0,"creation_date":1315842793,"post_id":7390365,"comment_id":8925163,"body_markdown":"Added an answer after seeing your source code.","body":"Added an answer after seeing your source code."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1315841864,"creation_date":1315841864,"answer_id":7390405,"question_id":7390365,"body_markdown":"Why do you think that `group()` returns the input?\r\n\r\nAccording to [the JavaDoc][1]:\r\n\r\n&gt; Returns the input subsequence matched by the previous match.\r\n\r\nIn other words: it returns *that part* of the input that was matched.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#group%28%29","title":"Java: Obtain matched string from an input","body":"<p>Why do you think that <code>group()</code> returns the input?</p>\n\n<p>According to <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#group%28%29\" rel=\"nofollow\">the JavaDoc</a>:</p>\n\n<blockquote>\n  <p>Returns the input subsequence matched by the previous match.</p>\n</blockquote>\n\n<p>In other words: it returns <em>that part</em> of the input that was matched.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1315842740,"creation_date":1315842740,"answer_id":7390588,"question_id":7390365,"body_markdown":"After seeing your update it seems like you need matcher groups. Also you need to make your matches non-greedy (`.*?` instead of `.*`). Try this:\r\n\r\n\r\n    private static String fileExtensionPattern = \r\n        &quot;.*&lt;input type=\\&quot;hidden\\&quot; name=\\&quot;.*?\\&quot; value=\\&quot;(.*?)\\&quot; /&gt;([^&lt;]*)&quot;;\r\n\r\n    // etc.\r\n    private static void findFileExtension() {\r\n\r\n         // etc.\r\n         if(fileXtensionMatcher.find()) {\r\n            // etc.\r\n            System.out.println(fileXtensionMatcher.group(1));\r\n            System.out.println(fileXtensionMatcher.group(2));\r\n        }\r\n    }\r\n\r\n","title":"Java: Obtain matched string from an input","body":"<p>After seeing your update it seems like you need matcher groups. Also you need to make your matches non-greedy (<code>.*?</code> instead of <code>.*</code>). Try this:</p>\n\n<pre><code>private static String fileExtensionPattern = \n    \".*&lt;input type=\\\"hidden\\\" name=\\\".*?\\\" value=\\\"(.*?)\\\" /&gt;([^&lt;]*)\";\n\n// etc.\nprivate static void findFileExtension() {\n\n     // etc.\n     if(fileXtensionMatcher.find()) {\n        // etc.\n        System.out.println(fileXtensionMatcher.group(1));\n        System.out.println(fileXtensionMatcher.group(2));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1315842741,"creation_date":1315842741,"answer_id":7390589,"question_id":7390365,"body_markdown":"After you added the source code, I can assure you the `group()` returns the whole input string because it matches your regular expression. If you want just the `&lt;input&gt;` element use:\r\n\r\n    private static String fileExtensionPattern = &quot;&lt;input type=\\&quot;hidden\\&quot; name=\\&quot;.*\\&quot; value=\\&quot;.*\\&quot; /&gt;&quot;;\r\n\r\nOr use:\r\n\r\n    private static String fileExtensionPattern = &quot;.*(&lt;input type=\\&quot;hidden\\&quot; name=\\&quot;.*\\&quot; value=\\&quot;.*\\&quot; /&gt;).*&quot;;\r\n    . . .\r\n    System.out.println(fileXtensionMatcher.group(1));","title":"Java: Obtain matched string from an input","body":"<p>After you added the source code, I can assure you the <code>group()</code> returns the whole input string because it matches your regular expression. If you want just the <code>&lt;input&gt;</code> element use:</p>\n\n<pre><code>private static String fileExtensionPattern = \"&lt;input type=\\\"hidden\\\" name=\\\".*\\\" value=\\\".*\\\" /&gt;\";\n</code></pre>\n\n<p>Or use:</p>\n\n<pre><code>private static String fileExtensionPattern = \".*(&lt;input type=\\\"hidden\\\" name=\\\".*\\\" value=\\\".*\\\" /&gt;).*\";\n. . .\nSystem.out.println(fileXtensionMatcher.group(1));\n</code></pre>\n"}],"owner":{"account_id":266404,"reputation":1784,"user_id":553952,"accept_rate":93,"display_name":"arin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3821,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":7390589,"answer_count":3,"score":4,"last_activity_date":1692785172,"creation_date":1315841682,"question_id":7390365,"body_markdown":"I am trying to obtain the string that my matcher is able to find using my provided expression. Something like this..\r\n\r\n    if(matcher.find())\r\n        System.out.println(&quot;Matched string is: &quot; + ?);\r\n\r\nWhat would be the appropriate code for this? According to [Oracle][1] the \r\n\r\n    matcher.group();\r\n\r\nmethod returns only the provided input same as \r\n\r\n    matcher.group(0);\r\n\r\nThanks in advance..\r\n\r\nEdit:\r\n\r\nExample follows below: \r\n\r\n    private static String fileExtensionPattern = &quot;.*&lt;input type=\\&quot;hidden\\&quot; name=\\&quot;.*\\&quot; value=\\&quot;.*\\&quot; /&gt;.*&quot;;\r\n    private static Matcher fileXtensionMatcher;\r\n    private static String input = text\t&quot;&lt;html&gt;&lt;body&gt;&lt;table width=&quot;96&quot;&gt;&lt;tr&gt;&lt;td&gt;&lt;img src=&amp;quot;file:/test&amp;quot;  /&gt;&lt;input type=&quot;hidden&quot; name=&quot;docExt&quot; value=&quot;.doc&quot; /&gt;Employee Trv Log 2011 Training Trip.doc&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&quot;\r\n\r\n    private static void findFileExtension() {\r\n\t\tSystem.out.println(&quot;** Searching for file extension **&quot;);\r\n\t\tSystem.out.println(&quot;Looking for pattern: &quot; + fileExtensionPattern);\r\n\t\tfileXtensionMatcher = fileXtensionExp.matcher(input);\r\n\t\t\r\n\t\tif(fileXtensionMatcher.find()) {\r\n\t\t\t//the extension expression is contained in the string\r\n\t\t\tSystem.out.println(&quot;Extension expression found.&quot;);\r\n\t\t\tSystem.out.println(fileXtensionMatcher.group());\r\n\t\t}\r\n\t}\r\n\r\nThe obtained result is:\r\n\r\n    text\t&quot;&lt;html&gt;&lt;body&gt;&lt;table width=&quot;96&quot;&gt;&lt;tr&gt;&lt;td&gt;&lt;img src=&amp;quot;file:/test&amp;quot;  /&gt;&lt;input type=&quot;hidden&quot; name=&quot;docExt&quot; value=&quot;.doc&quot; /&gt;Employee Trv Log 2011 Training Trip.doc&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&quot;\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html\r\n\r\n","title":"Java: Obtain matched string from an input","body":"<p>I am trying to obtain the string that my matcher is able to find using my provided expression. Something like this..</p>\n\n<pre><code>if(matcher.find())\n    System.out.println(\"Matched string is: \" + ?);\n</code></pre>\n\n<p>What would be the appropriate code for this? According to <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html\" rel=\"nofollow\">Oracle</a> the </p>\n\n<pre><code>matcher.group();\n</code></pre>\n\n<p>method returns only the provided input same as </p>\n\n<pre><code>matcher.group(0);\n</code></pre>\n\n<p>Thanks in advance..</p>\n\n<p>Edit:</p>\n\n<p>Example follows below: </p>\n\n<pre><code>private static String fileExtensionPattern = \".*&lt;input type=\\\"hidden\\\" name=\\\".*\\\" value=\\\".*\\\" /&gt;.*\";\nprivate static Matcher fileXtensionMatcher;\nprivate static String input = text  \"&lt;html&gt;&lt;body&gt;&lt;table width=\"96\"&gt;&lt;tr&gt;&lt;td&gt;&lt;img src=&amp;quot;file:/test&amp;quot;  /&gt;&lt;input type=\"hidden\" name=\"docExt\" value=\".doc\" /&gt;Employee Trv Log 2011 Training Trip.doc&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;\"\n\nprivate static void findFileExtension() {\n    System.out.println(\"** Searching for file extension **\");\n    System.out.println(\"Looking for pattern: \" + fileExtensionPattern);\n    fileXtensionMatcher = fileXtensionExp.matcher(input);\n\n    if(fileXtensionMatcher.find()) {\n        //the extension expression is contained in the string\n        System.out.println(\"Extension expression found.\");\n        System.out.println(fileXtensionMatcher.group());\n    }\n}\n</code></pre>\n\n<p>The obtained result is:</p>\n\n<pre><code>text    \"&lt;html&gt;&lt;body&gt;&lt;table width=\"96\"&gt;&lt;tr&gt;&lt;td&gt;&lt;img src=&amp;quot;file:/test&amp;quot;  /&gt;&lt;input type=\"hidden\" name=\"docExt\" value=\".doc\" /&gt;Employee Trv Log 2011 Training Trip.doc&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;\"\n</code></pre>\n"},{"tags":["java","regex","string","validation"],"comments":[{"owner":{"account_id":216196,"reputation":79145,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":4,"creation_date":1315576819,"post_id":7362567,"comment_id":8884683,"body_markdown":"Don’t make any assumptions about people’s names.  Period.  Don’t use `[a-z]` when you should be using `[\\pL\\pM\\p{Nl}]`.  Don’t forget punctuation.","body":"Don’t make any assumptions about people’s names.  Period.  Don’t use <code>[a-z]</code> when you should be using <code>[\\pL\\pM\\p{Nl}]</code>.  Don’t forget punctuation."},{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":4,"creation_date":1315576999,"post_id":7362567,"comment_id":8884750,"body_markdown":"How about people who have names like Scarlett O&#39;Hara or Bashar al-Assad?","body":"How about people who have names like Scarlett O&#39;Hara or Bashar al-Assad?"},{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":2,"creation_date":1315577693,"post_id":7362567,"comment_id":8884982,"body_markdown":"To quote [tchrist](http://stackoverflow.com/questions/6162484/why-does-modern-perl-avoid-utf-8-by-default/6163129#6163129), &quot;Code that believes someone’s name can only contain certain characters is stupid, offensive, and wrong.&quot;","body":"To quote <a href=\"http://stackoverflow.com/questions/6162484/why-does-modern-perl-avoid-utf-8-by-default/6163129#6163129\">tchrist</a>, &quot;Code that believes someone’s name can only contain certain characters is stupid, offensive, and wrong.&quot;"},{"owner":{"account_id":892271,"reputation":2125,"user_id":930293,"accept_rate":50,"display_name":"nic"},"score":1,"creation_date":1315578381,"post_id":7362567,"comment_id":8885200,"body_markdown":"Thank you very much tchrist. I now realize that I shouldn&#39;t be validating regexes for full names. But still I would have to think that even symbols can pass the validation as well &quot;%^@^#!@*&quot;","body":"Thank you very much tchrist. I now realize that I shouldn&#39;t be validating regexes for full names. But still I would have to think that even symbols can pass the validation as well &quot;%^@^#!@*&quot;"},{"owner":{"account_id":2067820,"reputation":85,"user_id":1842984,"accept_rate":40,"display_name":"BullShark"},"score":0,"creation_date":1364746728,"post_id":7362567,"comment_id":22349960,"body_markdown":"http://stackoverflow.com/questions/2385701/regular-expression-for-first-and-last-name","body":"<a href=\"http://stackoverflow.com/questions/2385701/regular-expression-for-first-and-last-name\" title=\"regular expression for first and last name\">stackoverflow.com/questions/2385701/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":551450,"reputation":31923,"user_id":916299,"accept_rate":96,"display_name":"James Webster"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1315842408,"creation_date":1315576383,"answer_id":7362700,"question_id":7362567,"body_markdown":"`[A-Z]` match a single capital letter (first letter of name)\r\n\r\n`[a-z]*` match any number of small letters (other letters or name)\r\n\r\n`(\\s)` match 1 whitespace character (the space between names) \r\n\r\n`+` one or more of the previous expression (to match more than one name)\r\n\r\n\r\n\r\nall together:\r\n\r\n`- matches first names / lastname -`  \r\n`^([A-Z][a-z]*((\\s)))+[A-Z][a-z]*$`\r\n\r\nor to match names like DiMaggio St. Croix, O&#39;Reilly and Le-Pew. You can add similar characters like the &#39;ᶜ&#39; in MᶜKinley as you remember them or come across people with those less common characters in their name\r\n\r\n`^([A-z\\&#39;\\.-ᶜ]*(\\s))+[A-z\\&#39;\\.-ᶜ]*$`\r\n","title":"Java - Regex for Full Name","body":"<p><code>[A-Z]</code> match a single capital letter (first letter of name)</p>\n\n<p><code>[a-z]*</code> match any number of small letters (other letters or name)</p>\n\n<p><code>(\\s)</code> match 1 whitespace character (the space between names) </p>\n\n<p><code>+</code> one or more of the previous expression (to match more than one name)</p>\n\n<p>all together:</p>\n\n<p><code>- matches first names / lastname -</code><br>\n<code>^([A-Z][a-z]*((\\s)))+[A-Z][a-z]*$</code></p>\n\n<p>or to match names like DiMaggio St. Croix, O'Reilly and Le-Pew. You can add similar characters like the 'ᶜ' in MᶜKinley as you remember them or come across people with those less common characters in their name</p>\n\n<p><code>^([A-z\\'\\.-ᶜ]*(\\s))+[A-z\\'\\.-ᶜ]*$</code></p>\n"},{"tags":[],"owner":{"account_id":475872,"reputation":1775,"user_id":886464,"display_name":"Dragon8"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1315576430,"creation_date":1315576430,"answer_id":7362715,"question_id":7362567,"body_markdown":"    public static boolean isFullname(String str) {\r\n        return str.matches(&quot;^[a-zA-z ]*$&quot;);\r\n    }\r\n\r\nthis method returns true if the string only contains alphabets and spaces.\r\n\r\nBut it also return true if the string contains nothing.\r\n","title":"Java - Regex for Full Name","body":"<pre><code>public static boolean isFullname(String str) {\n    return str.matches(\"^[a-zA-z ]*$\");\n}\n</code></pre>\n\n<p>this method returns true if the string only contains alphabets and spaces.</p>\n\n<p>But it also return true if the string contains nothing.</p>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1315576455,"creation_date":1315576455,"answer_id":7362726,"question_id":7362567,"body_markdown":"Use `\\s` for spaces. You can also use [`String.matches(regex)`][1] to test if the string matches a regular expression.\r\n\r\n    public static boolean isFullname(String str) {\r\n        String expression = &quot;^[a-zA-Z\\\\s]*$&quot;; \r\n        return str.matches(expression);        \r\n    }\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/lang/String.html#matches%28java.lang.String%29","title":"Java - Regex for Full Name","body":"<p>Use <code>\\s</code> for spaces. You can also use <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/String.html#matches%28java.lang.String%29\" rel=\"nofollow\"><code>String.matches(regex)</code></a> to test if the string matches a regular expression.</p>\n\n<pre><code>public static boolean isFullname(String str) {\n    String expression = \"^[a-zA-Z\\\\s]*$\"; \n    return str.matches(expression);        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":90696,"reputation":33605,"user_id":249543,"accept_rate":98,"display_name":"jefflunt"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1406666546,"creation_date":1315578328,"answer_id":7363159,"question_id":7362567,"body_markdown":"This problem of identifying names is very culture-centric, and it really has no hope of working reliably. I would really recommend against this, as there is **NO** canonical form for what makes up a person&#39;s name in any country, anywhere on Earth that I know of. I could legally change my name to `#&amp;*∫Ω∆ Smith`, and that&#39;s not going to fit into anyone&#39;s algorithm. It&#39;s not that this specific example is something that a lot of people do, but many people don&#39;t think outside of the ASCII table when considering data input, and that&#39;s going to lead to problems.\r\n\r\nYou can argue against the probability of this happening, but in a global world, it&#39;s increasingly unlikely that ALL of your users are going to have English-transliterated spellings for their names. It&#39;s also very possible that you&#39;ll have users from cultures that don&#39;t have a concept of first/last name. Don&#39;t assume that, even if your application is only running in a given country, that some of your users won&#39;t be from other places (people move from country to country all the time, and some of them might want to use your software).\r\n\r\nProtect your app against SQL injection for fields such as this (if you&#39;re storing these in a DB), and leave it at that.\r\n","title":"Java - Regex for Full Name","body":"<p>This problem of identifying names is very culture-centric, and it really has no hope of working reliably. I would really recommend against this, as there is <strong>NO</strong> canonical form for what makes up a person's name in any country, anywhere on Earth that I know of. I could legally change my name to <code>#&amp;*∫Ω∆ Smith</code>, and that's not going to fit into anyone's algorithm. It's not that this specific example is something that a lot of people do, but many people don't think outside of the ASCII table when considering data input, and that's going to lead to problems.</p>\n\n<p>You can argue against the probability of this happening, but in a global world, it's increasingly unlikely that ALL of your users are going to have English-transliterated spellings for their names. It's also very possible that you'll have users from cultures that don't have a concept of first/last name. Don't assume that, even if your application is only running in a given country, that some of your users won't be from other places (people move from country to country all the time, and some of them might want to use your software).</p>\n\n<p>Protect your app against SQL injection for fields such as this (if you're storing these in a DB), and leave it at that.</p>\n"},{"tags":[],"owner":{"account_id":3993838,"reputation":107,"user_id":3291936,"display_name":"Ahmed El Reweny"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1392018307,"creation_date":1392018307,"answer_id":21671547,"question_id":7362567,"body_markdown":"This method validate the name and return false if the name has nothing or has numbers or special characters:\r\n\r\n    public static boolean isFullname(String str) {\r\n\t    String expression = &quot;^[a-zA-Z\\\\s]+&quot;; \r\n\t    return str.matches(expression);        \r\n\t}","title":"Java - Regex for Full Name","body":"<p>This method validate the name and return false if the name has nothing or has numbers or special characters:</p>\n\n<pre><code>public static boolean isFullname(String str) {\n    String expression = \"^[a-zA-Z\\\\s]+\"; \n    return str.matches(expression);        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454002088,"creation_date":1453999298,"answer_id":35067082,"question_id":7362567,"body_markdown":"**What Was Asked For**\r\n\r\nInstead of `&quot;^[a-zA-Z][ ]*$&quot;` you want `&quot;^[a-zA-Z ]*$&quot;`. There are some answers that reference `\\s` but you don&#39;t want those because they give you other white space like tabs.\r\n\r\n**Additional Common Examples**\r\n\r\nOn a side note, there are first and last names that contain hypens, like `Mary-Ann` for a first name or a hyphenated last name like `Jones-Garcia`. There are also last names that have periods, like `St. Marc`. Lastly, you have `&#39;` in some last names like `O&#39;Donnel`.\r\n\r\n**Side Note**\r\n\r\nLegally, you could change your name to be [Little Bobby Drop Tables][1]... or include other random characters... but I&#39;m not sure how many systems really accommodate for stuff like that. \r\n\r\nIf you want the general case (world wide), then don&#39;t limit the fields by any character type, as you can have names in Greek Letters, Cyrillic Letters, Chinese letters, etc. There are also non English accent characters and other things like the german umlaut.\r\n\r\nIf you are worried about SQL injection, use parameterized queries instead of dynamic queries. \r\n\r\n**Suggested Solution**\r\n\r\nIf you are only worried about English letters, and want to use a regular expression that handles the sample cases above, then you could use `&quot;^[a-zA-Z \\-\\.\\&#39;]*$&quot;`\r\n\r\n\r\n  [1]: http://bobby-tables.com/","title":"Java - Regex for Full Name","body":"<p><strong>What Was Asked For</strong></p>\n\n<p>Instead of <code>\"^[a-zA-Z][ ]*$\"</code> you want <code>\"^[a-zA-Z ]*$\"</code>. There are some answers that reference <code>\\s</code> but you don't want those because they give you other white space like tabs.</p>\n\n<p><strong>Additional Common Examples</strong></p>\n\n<p>On a side note, there are first and last names that contain hypens, like <code>Mary-Ann</code> for a first name or a hyphenated last name like <code>Jones-Garcia</code>. There are also last names that have periods, like <code>St. Marc</code>. Lastly, you have <code>'</code> in some last names like <code>O'Donnel</code>.</p>\n\n<p><strong>Side Note</strong></p>\n\n<p>Legally, you could change your name to be <a href=\"http://bobby-tables.com/\" rel=\"nofollow\">Little Bobby Drop Tables</a>... or include other random characters... but I'm not sure how many systems really accommodate for stuff like that. </p>\n\n<p>If you want the general case (world wide), then don't limit the fields by any character type, as you can have names in Greek Letters, Cyrillic Letters, Chinese letters, etc. There are also non English accent characters and other things like the german umlaut.</p>\n\n<p>If you are worried about SQL injection, use parameterized queries instead of dynamic queries. </p>\n\n<p><strong>Suggested Solution</strong></p>\n\n<p>If you are only worried about English letters, and want to use a regular expression that handles the sample cases above, then you could use <code>\"^[a-zA-Z \\-\\.\\']*$\"</code></p>\n"}],"owner":{"account_id":892271,"reputation":2125,"user_id":930293,"accept_rate":50,"display_name":"nic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57203,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":7363159,"answer_count":6,"score":10,"last_activity_date":1692785161,"creation_date":1315575846,"question_id":7362567,"body_markdown":"How can I validate regex for full name? I only want alphabets (no numericals) and only spaces for the regex. This is what I have done so far. Would you please help me fix the regex? Thank you very much\r\n\r\n    public static boolean isFullname(String str) {\r\n\t\tboolean isValid = false;\r\n\t\tString expression = &quot;^[a-zA-Z][ ]*$&quot;; //I know this one is wrong for sure &gt;,&lt;\r\n\t\tCharSequence inputStr = str;\r\n\t\tPattern pattern = Pattern.compile(expression, Pattern.CASE_INSENSITIVE);\r\n\t\tMatcher matcher = pattern.matcher(inputStr);\r\n\t\tif (matcher.matches()) {\r\n\t\t\tisValid = true;\r\n\t\t}\r\n\t\treturn isValid;\r\n\t}","title":"Java - Regex for Full Name","body":"<p>How can I validate regex for full name? I only want alphabets (no numericals) and only spaces for the regex. This is what I have done so far. Would you please help me fix the regex? Thank you very much</p>\n\n<pre><code>public static boolean isFullname(String str) {\n    boolean isValid = false;\n    String expression = \"^[a-zA-Z][ ]*$\"; //I know this one is wrong for sure &gt;,&lt;\n    CharSequence inputStr = str;\n    Pattern pattern = Pattern.compile(expression, Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(inputStr);\n    if (matcher.matches()) {\n        isValid = true;\n    }\n    return isValid;\n}\n</code></pre>\n"},{"tags":["java","android","bluetooth","device"],"answers":[{"tags":[],"owner":{"account_id":20650460,"reputation":57,"user_id":15160871,"display_name":"Romko Smuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613614567,"creation_date":1613614567,"answer_id":66252651,"question_id":66148729,"body_markdown":"The issue I found out was that the devices I was trying to connect to send data back and forth require Bluetooth Low Energy support from the app. ","title":"Why am I not able to connect to device via Bluetooth android?","body":"<p>The issue I found out was that the devices I was trying to connect to send data back and forth require Bluetooth Low Energy support from the app.</p>\n"}],"owner":{"account_id":20650460,"reputation":57,"user_id":15160871,"display_name":"Romko Smuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692785026,"creation_date":1613017390,"question_id":66148729,"body_markdown":"I am able to pair devices with the android studio app but I get the tag \r\n\r\n&gt;&quot;CouldNotConnectToSocket&quot; even though the device is paired. \r\n\r\nI am new to android studio so I am really stuck with where to go next. \r\n\r\nI also get \r\n\r\n&gt;getBluetoothService() called with no BluetoothManagerCallback\r\n\r\nThe UUID I created is:\r\n\r\n    private final static UUID BTMODULEUUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\r\n\r\nCan anyone please help me? \r\n\r\n\r\n    new Thread() {\r\n                @Override\r\n                public void run() {\r\n                    device = BA.getRemoteDevice(address);\r\n                    try {\r\n                        BTSocket = device.createRfcommSocketToServiceRecord(BTMODULEUUID);\r\n                        //BTSocket = createBluetoothSocket(device);\r\n                        Log.d(TAG, &quot;Device Connected&quot;);\r\n                        BA.cancelDiscovery();\r\n                        BTSocket.connect();\r\n                    } catch (IOException ex) {\r\n                        Log.d(TAG, &quot;CouldNotConnectToSocket&quot;);\r\n                        closeSocket(BTSocket);\r\n                    }\r\n                }\r\n                }.start();","title":"Why am I not able to connect to device via Bluetooth android?","body":"<p>I am able to pair devices with the android studio app but I get the tag</p>\n<blockquote>\n<p>&quot;CouldNotConnectToSocket&quot; even though the device is paired.</p>\n</blockquote>\n<p>I am new to android studio so I am really stuck with where to go next.</p>\n<p>I also get</p>\n<blockquote>\n<p>getBluetoothService() called with no BluetoothManagerCallback</p>\n</blockquote>\n<p>The UUID I created is:</p>\n<pre><code>private final static UUID BTMODULEUUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\n</code></pre>\n<p>Can anyone please help me?</p>\n<pre><code>new Thread() {\n            @Override\n            public void run() {\n                device = BA.getRemoteDevice(address);\n                try {\n                    BTSocket = device.createRfcommSocketToServiceRecord(BTMODULEUUID);\n                    //BTSocket = createBluetoothSocket(device);\n                    Log.d(TAG, &quot;Device Connected&quot;);\n                    BA.cancelDiscovery();\n                    BTSocket.connect();\n                } catch (IOException ex) {\n                    Log.d(TAG, &quot;CouldNotConnectToSocket&quot;);\n                    closeSocket(BTSocket);\n                }\n            }\n            }.start();\n</code></pre>\n"},{"tags":["java","http","proxy","akka","akka-http"],"answers":[{"tags":[],"owner":{"account_id":80592,"reputation":26519,"user_id":227803,"display_name":"Viktor Klang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615070687,"creation_date":1615070687,"answer_id":66511433,"question_id":66441044,"body_markdown":"Have you tried matching the incoming HttpRequest&#39;s `method` with [CONNECT](https://doc.akka.io/api/akka-http/current/akka/http/scaladsl/model/HttpMethods$.html#CONNECT:akka.http.scaladsl.model.HttpMethod)","title":"Parse CONNECT requests using Akka-http","body":"<p>Have you tried matching the incoming HttpRequest's <code>method</code> with <a href=\"https://doc.akka.io/api/akka-http/current/akka/http/scaladsl/model/HttpMethods$.html#CONNECT:akka.http.scaladsl.model.HttpMethod\" rel=\"nofollow noreferrer\">CONNECT</a></p>\n"}],"owner":{"account_id":20841839,"reputation":1,"user_id":15308395,"display_name":"Kevin Davids"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692785007,"creation_date":1614694312,"question_id":66441044,"body_markdown":"Is there a way to make an HTTP CONNECT request in akka?\r\n\r\nI am trying to write a proxy app in akka and I am getting this error for every request that I am making:\r\n\r\n&gt; 16:10:19.179 [default-akka.actor.default-dispatcher-7] WARN akka.actor.ActorSystemImpl - Illegal request, responding with status &#39;400 Bad Request&#39;: CONNECT requests are not supported: Rejectin\r\ng CONNECT request to &#39;doc.akka.io:443&#39;\r\n","title":"Parse CONNECT requests using Akka-http","body":"<p>Is there a way to make an HTTP CONNECT request in akka?</p>\n<p>I am trying to write a proxy app in akka and I am getting this error for every request that I am making:</p>\n<blockquote>\n<p>16:10:19.179 [default-akka.actor.default-dispatcher-7] WARN akka.actor.ActorSystemImpl - Illegal request, responding with status '400 Bad Request': CONNECT requests are not supported: Rejectin\ng CONNECT request to 'doc.akka.io:443'</p>\n</blockquote>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":183857,"reputation":15364,"user_id":419516,"accept_rate":87,"display_name":"user219882"},"score":0,"creation_date":1315305586,"post_id":7318469,"comment_id":8821941,"body_markdown":"Why do you have the dot in here `a[a-z].{0,2}b`? If you want to have patern `a_b` where `_` can be 0-2 alphabetical chars then the dot is wrong in there, doesn&#39;t it?","body":"Why do you have the dot in here <code>a[a-z].{0,2}b</code>? If you want to have patern <code>a_b</code> where <code>_</code> can be 0-2 alphabetical chars then the dot is wrong in there, doesn&#39;t it?"},{"owner":{"account_id":263812,"reputation":7348,"user_id":549641,"display_name":"jmg"},"score":2,"creation_date":1315305619,"post_id":7318469,"comment_id":8821951,"body_markdown":"How is `aaxxbb` a string &quot;that starts with a and ends with b&quot; and can have *up to two* letters between?","body":"How is <code>aaxxbb</code> a string &quot;that starts with a and ends with b&quot; and can have <i>up to two</i> letters between?"},{"owner":{"account_id":892438,"reputation":51,"user_id":930440,"display_name":"cnc4ever"},"score":0,"creation_date":1315316570,"post_id":7318469,"comment_id":8825067,"body_markdown":"Thanks Tom and jmg for pointing that out!!! I edited the original post.","body":"Thanks Tom and jmg for pointing that out!!! I edited the original post."}],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1315305536,"creation_date":1315305536,"answer_id":7318547,"question_id":7318469,"body_markdown":"One thing you could do is:\r\n\r\n - Create all possible Substrings that are 4 characters or longer (good\r\n   luck with that if your String is large)\r\n - Create a new Matcher for each of these substrings\r\n - do a match() instead of a find()\r\n - calculate the absolute offset from the substring&#39;s relative offset and the matcher info","title":"Java recursive(?) repeated(?) deep(?) pattern matching","body":"<p>One thing you could do is:</p>\n\n<ul>\n<li>Create all possible Substrings that are 4 characters or longer (good\nluck with that if your String is large)</li>\n<li>Create a new Matcher for each of these substrings</li>\n<li>do a match() instead of a find()</li>\n<li>calculate the absolute offset from the substring's relative offset and the matcher info</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":892161,"reputation":11512,"user_id":930207,"display_name":"mcfinnigan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315306473,"creation_date":1315306473,"answer_id":7318733,"question_id":7318469,"body_markdown":"you are in effect searching for the strings ab, a_b, and a__b in an input string, where \r\n_ denotes a non-whitespace character whose value you do not care about.  \r\n\r\nThat&#39;s three search targets.  The most efficient way I can think of to do this would be to use a search algorithm like the [Knuth-Morris-Pratt][1] algorithm, with a few modifications.  In effect your pseudocode would be something like:\r\n\r\n    for i in 0 to sourcestring.length\r\n        check sourcestring[i] - is it a? if so, check sourcestring[i+x] \r\n           // where x is the index of the search string - 1\r\n        if matches then save i to output list\r\n        else i = i + searchstring.length\r\n\r\nobviously if you have a position match you must then check the inner characters of the substring to make sure they are alphabetical.\r\n\r\n  \r\n\r\nrun the algorithm 3 times, one for each search term.  It will doubtless be much faster than trying to do the search using pattern matching.\r\n\r\nedit - sorry, didn&#39;t read the question properly.  If you *have* to use regex then the above will not work for you.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm","title":"Java recursive(?) repeated(?) deep(?) pattern matching","body":"<p>you are in effect searching for the strings ab, a_b, and a__b in an input string, where \n_ denotes a non-whitespace character whose value you do not care about.  </p>\n\n<p>That's three search targets.  The most efficient way I can think of to do this would be to use a search algorithm like the <a href=\"http://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm\" rel=\"nofollow\">Knuth-Morris-Pratt</a> algorithm, with a few modifications.  In effect your pseudocode would be something like:</p>\n\n<pre><code>for i in 0 to sourcestring.length\n    check sourcestring[i] - is it a? if so, check sourcestring[i+x] \n       // where x is the index of the search string - 1\n    if matches then save i to output list\n    else i = i + searchstring.length\n</code></pre>\n\n<p>obviously if you have a position match you must then check the inner characters of the substring to make sure they are alphabetical.</p>\n\n<p>run the algorithm 3 times, one for each search term.  It will doubtless be much faster than trying to do the search using pattern matching.</p>\n\n<p>edit - sorry, didn't read the question properly.  If you <em>have</em> to use regex then the above will not work for you.</p>\n"},{"tags":[],"owner":{"account_id":88401,"reputation":12934,"user_id":244526,"accept_rate":77,"display_name":"dsg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1341532542,"creation_date":1341513736,"answer_id":11350550,"question_id":7318469,"body_markdown":"(see: https://stackoverflow.com/q/11303309/244526 )\r\n\r\nHere is the full solution that I came up with. It can handle zero-width patterns, boundaries, etc. in the original regular expression. It looks through all substrings of the text string and checks whether the regular expression matches only at the specific position by padding the pattern with the appropriate number of wildcards at the beginning and end. It seems to work for the cases I tried -- although I haven&#39;t done extensive testing. It is most certainly less efficient than it could be.\r\n\r\n      public static void allMatches(String text, String regex)\r\n      {\r\n        for (int i = 0; i &lt; text.length(); ++i) {\r\n          for (int j = i + 1; j &lt;= text.length(); ++j) {\r\n            String positionSpecificPattern = &quot;((?&lt;=^.{&quot;+i+&quot;})(&quot;+regex+&quot;)(?=.{&quot;+(text.length() - j)+&quot;}$))&quot;;\r\n            Matcher m = Pattern.compile(positionSpecificPattern).matcher(text);\r\n    \r\n            if (m.find()) \r\n            {   \r\n              System.out.println(&quot;Match found: \\&quot;&quot; + (m.group()) + &quot;\\&quot; at position [&quot; + i + &quot;, &quot; + j + &quot;)&quot;);\r\n            }   \r\n          }   \r\n        }   \r\n      }\r\n","title":"Java recursive(?) repeated(?) deep(?) pattern matching","body":"<p>(see: <a href=\"https://stackoverflow.com/q/11303309/244526\">All overlapping substrings matching a java regex</a> )</p>\n\n<p>Here is the full solution that I came up with. It can handle zero-width patterns, boundaries, etc. in the original regular expression. It looks through all substrings of the text string and checks whether the regular expression matches only at the specific position by padding the pattern with the appropriate number of wildcards at the beginning and end. It seems to work for the cases I tried -- although I haven't done extensive testing. It is most certainly less efficient than it could be.</p>\n\n<pre><code>  public static void allMatches(String text, String regex)\n  {\n    for (int i = 0; i &lt; text.length(); ++i) {\n      for (int j = i + 1; j &lt;= text.length(); ++j) {\n        String positionSpecificPattern = \"((?&lt;=^.{\"+i+\"})(\"+regex+\")(?=.{\"+(text.length() - j)+\"}$))\";\n        Matcher m = Pattern.compile(positionSpecificPattern).matcher(text);\n\n        if (m.find()) \n        {   \n          System.out.println(\"Match found: \\\"\" + (m.group()) + \"\\\" at position [\" + i + \", \" + j + \")\");\n        }   \n      }   \n    }   \n  }\n</code></pre>\n"}],"owner":{"account_id":892438,"reputation":51,"user_id":930440,"display_name":"cnc4ever"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3943,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1692784884,"creation_date":1315305141,"question_id":7318469,"body_markdown":"I&#39;m trying to get ***ALL*** the substrings in the input string that match the given pattern.\r\n\r\nFor example,\r\n\r\nGiven string: aaxxbbaxb&lt;br&gt;\r\nPattern: a[a-z]{0,3}b&lt;br&gt;\r\n(What I actually want to express is: all the patterns that starts with a and ends with b, but can have up to 2 alphabets in between them)\r\n\r\nExact results that I want (with their indexes):\r\n\r\naaxxb: index 0~4&lt;br&gt;\r\naxxb: index 1~4&lt;br&gt;\r\naxxbb: index 1~5&lt;br&gt;\r\naxb: index 6~8&lt;br&gt;\r\n\r\nBut when I run it through the Pattern and Matcher classes using `Pattern.compile()` and `Matcher.find()`, it only gives me:\r\n\r\naaxxb : index 0~4&lt;br&gt;\r\naxb : index 6~8&lt;br&gt;\r\n\r\nThis is the piece of code I used.\r\n\r\n    Pattern pattern = Pattern.compile(&quot;a[a-z]{0,3}b&quot;, Pattern.CASE_INSENSITIVE);\r\n    Matcher match = pattern.matcher(&quot;aaxxbbaxb&quot;);\r\n    while (match.find()) {\r\n        System.out.println(match.group());\r\n    }\r\nHow can I retrieve ***every single piece of string that matches the pattern***?\r\n\r\nOf course, it doesn&#39;t have to use Pattern and Matcher classes, as long as it&#39;s efficient :)","title":"Java recursive(?) repeated(?) deep(?) pattern matching","body":"<p>I'm trying to get <strong><em>ALL</em></strong> the substrings in the input string that match the given pattern.</p>\n\n<p>For example,</p>\n\n<p>Given string: aaxxbbaxb<br>\nPattern: a[a-z]{0,3}b<br>\n(What I actually want to express is: all the patterns that starts with a and ends with b, but can have up to 2 alphabets in between them)</p>\n\n<p>Exact results that I want (with their indexes):</p>\n\n<p>aaxxb: index 0~4<br>\naxxb: index 1~4<br>\naxxbb: index 1~5<br>\naxb: index 6~8<br></p>\n\n<p>But when I run it through the Pattern and Matcher classes using <code>Pattern.compile()</code> and <code>Matcher.find()</code>, it only gives me:</p>\n\n<p>aaxxb : index 0~4<br>\naxb : index 6~8<br></p>\n\n<p>This is the piece of code I used.</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"a[a-z]{0,3}b\", Pattern.CASE_INSENSITIVE);\nMatcher match = pattern.matcher(\"aaxxbbaxb\");\nwhile (match.find()) {\n    System.out.println(match.group());\n}\n</code></pre>\n\n<p>How can I retrieve <strong><em>every single piece of string that matches the pattern</em></strong>?</p>\n\n<p>Of course, it doesn't have to use Pattern and Matcher classes, as long as it's efficient :)</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":413001,"reputation":8914,"user_id":786388,"accept_rate":94,"display_name":"ean5533"},"score":0,"creation_date":1314102273,"post_id":7160948,"comment_id":8592392,"body_markdown":"`[a-zA-Z]` means match any SINGLE character in that range. You need to add a qualifier afterwards, such as `*` (0 or more) or `+` (1 or more).","body":"<code>[a-zA-Z]</code> means match any SINGLE character in that range. You need to add a qualifier afterwards, such as <code>*</code> (0 or more) or <code>+</code> (1 or more)."}],"answers":[{"tags":[],"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1314102544,"creation_date":1314102189,"answer_id":7160974,"question_id":7160948,"body_markdown":"Try using this expression: `[a-zA-Z]*` (will match zero or more characters).\r\n\r\nIf you require at least one character, use: `[a-zA-Z]+`\r\n\r\nThe expression you&#39;re using will only match a single alpha character since it&#39;s not [quantified][1].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/essential/regex/quant.html","title":"Java string.matches() returns wrong statement","body":"<p>Try using this expression: <code>[a-zA-Z]*</code> (will match zero or more characters).</p>\n\n<p>If you require at least one character, use: <code>[a-zA-Z]+</code></p>\n\n<p>The expression you're using will only match a single alpha character since it's not <a href=\"http://download.oracle.com/javase/tutorial/essential/regex/quant.html\" rel=\"nofollow\">quantified</a>.</p>\n"},{"tags":[],"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1314102200,"creation_date":1314102200,"answer_id":7160976,"question_id":7160948,"body_markdown":"I think it should be `a[1].matches(&quot;[a-zA-Z]*&quot;)`","title":"Java string.matches() returns wrong statement","body":"<p>I think it should be <code>a[1].matches(\"[a-zA-Z]*\")</code></p>\n"},{"tags":[],"owner":{"account_id":456563,"reputation":4395,"user_id":855395,"accept_rate":75,"display_name":"Eran Zimmerman Gonen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314102209,"creation_date":1314102209,"answer_id":7160978,"question_id":7160948,"body_markdown":"`[a-zA-Z]` would only accept a single letter. You probably need `[a-zA-Z]*`.","title":"Java string.matches() returns wrong statement","body":"<p><code>[a-zA-Z]</code> would only accept a single letter. You probably need <code>[a-zA-Z]*</code>.</p>\n"},{"tags":[],"owner":{"account_id":34604,"reputation":5435,"user_id":97869,"accept_rate":50,"display_name":"JJ."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314102219,"creation_date":1314102219,"answer_id":7160981,"question_id":7160948,"body_markdown":"Try `a[1].matches(&quot;[a-zA-Z]+&quot;)`. It says &quot;one or more characters&quot; must match instead of only a single character.\r\n\r\nNote that &#39;*&#39; instead of &#39;+&#39; matches &quot;zero or more characters&#39; so it will match empty String (probably not what you want).","title":"Java string.matches() returns wrong statement","body":"<p>Try <code>a[1].matches(\"[a-zA-Z]+\")</code>. It says \"one or more characters\" must match instead of only a single character.</p>\n\n<p>Note that '*' instead of '+' matches \"zero or more characters' so it will match empty String (probably not what you want).</p>\n"},{"tags":[],"owner":{"account_id":20059,"reputation":80086,"user_id":47550,"accept_rate":89,"display_name":"Paul Sasik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314102241,"creation_date":1314102241,"answer_id":7160985,"question_id":7160948,"body_markdown":"The reason that you&#39;re not matching that is string is that your RegEx expression is trying to match just a single character. Try this:\r\n\r\n    a[1].matches(&quot;[a-zA-Z]*&quot;)","title":"Java string.matches() returns wrong statement","body":"<p>The reason that you're not matching that is string is that your RegEx expression is trying to match just a single character. Try this:</p>\n\n<pre><code>a[1].matches(\"[a-zA-Z]*\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11400870,"reputation":47,"user_id":8357863,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502640462,"creation_date":1502640259,"answer_id":45662292,"question_id":7160948,"body_markdown":"    a[1].matches(&quot;[a-zA-Z\\\\s]+&quot;)  \r\n\r\nmay help","title":"Java string.matches() returns wrong statement","body":"<pre><code>a[1].matches(\"[a-zA-Z\\\\s]+\")  \n</code></pre>\n\n<p>may help</p>\n"},{"tags":[],"owner":{"account_id":11887266,"reputation":11,"user_id":8699244,"display_name":"rakibul sadik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646129503,"creation_date":1646127084,"answer_id":71306306,"question_id":7160948,"body_markdown":"This expression should work for checking whether a string contains all alphabet or not.\r\n```\r\na[1].matches(&quot;^[a-zA-Z]*$&quot;)\r\n```","title":"Java string.matches() returns wrong statement","body":"<p>This expression should work for checking whether a string contains all alphabet or not.</p>\n<pre><code>a[1].matches(&quot;^[a-zA-Z]*$&quot;)\n</code></pre>\n"}],"owner":{"account_id":480407,"reputation":6044,"user_id":893630,"accept_rate":85,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5512,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":7160974,"answer_count":7,"score":4,"last_activity_date":1692784820,"creation_date":1314102068,"question_id":7160948,"body_markdown":"I&#39;m running some code through the eclipse debugger and `a[1].matches(&quot;[a-zA-Z]&quot;)` is not equating to `true` when `a[1] = &quot;ABCD&quot;` (`a` is a string array).\r\n\r\nI&#39;ve read the javadoc on `matches` and `[a-zA-Z]` should be a valid regular expression..\r\n\r\nAnyone know where I&#39;m going wrong?","title":"Java string.matches() returns wrong statement","body":"<p>I'm running some code through the eclipse debugger and <code>a[1].matches(\"[a-zA-Z]\")</code> is not equating to <code>true</code> when <code>a[1] = \"ABCD\"</code> (<code>a</code> is a string array).</p>\n\n<p>I've read the javadoc on <code>matches</code> and <code>[a-zA-Z]</code> should be a valid regular expression..</p>\n\n<p>Anyone know where I'm going wrong?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":396748,"reputation":30697,"user_id":760489,"accept_rate":72,"display_name":"Pratik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1311774682,"creation_date":1311774682,"answer_id":6845489,"question_id":6845399,"body_markdown":"try this code\r\n\r\n    Pattern p = Pattern.compile(&quot;^[a-zA-Z]+([0-9]+).*&quot;);\r\n\tMatcher m = p.matcher(&quot;Testing1234Testing&quot;);\r\n\r\n\tif (m.find()) {\r\n\t    System.out.println(m.group(1));\r\n\t}","title":"Java Matcher Digit method","body":"<p>try this code</p>\n\n<pre><code>Pattern p = Pattern.compile(\"^[a-zA-Z]+([0-9]+).*\");\nMatcher m = p.matcher(\"Testing1234Testing\");\n\nif (m.find()) {\n    System.out.println(m.group(1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":457002,"reputation":2198,"user_id":856047,"display_name":"alexblum"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1311774817,"creation_date":1311774817,"answer_id":6845535,"question_id":6845399,"body_markdown":"    public static void main(String[] args) {\r\n        String s = &quot;Color Red, Size 32 / Text text&quot;;\r\n        Matcher matcher = Pattern.compile(&quot;\\\\d+&quot;).matcher(s);\r\n        if (matcher.find()) {\r\n          String find = matcher.group();\r\n          Integer i = Integer.parseInt(find);\r\n        }\r\n    }","title":"Java Matcher Digit method","body":"<pre><code>public static void main(String[] args) {\n    String s = \"Color Red, Size 32 / Text text\";\n    Matcher matcher = Pattern.compile(\"\\\\d+\").matcher(s);\n    if (matcher.find()) {\n      String find = matcher.group();\n      Integer i = Integer.parseInt(find);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":182479,"reputation":105,"user_id":417208,"accept_rate":80,"display_name":"KoKo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3347,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":6845535,"answer_count":2,"score":2,"last_activity_date":1692784779,"creation_date":1311774323,"question_id":6845399,"body_markdown":"How can Match Digit Integer from a Strings and return the Integer value.?\r\ne.g;\r\n\r\n    String = &quot;Color Red, Size 32 / Text text&quot;;\r\n\r\nI would like to get from this string that &quot;32&quot; Integer value.\r\n\r\nmany thanks in advance.\r\n\r\nregards,\r\nKoko","title":"Java Matcher Digit method","body":"<p>How can Match Digit Integer from a Strings and return the Integer value.?\ne.g;</p>\n\n<pre><code>String = \"Color Red, Size 32 / Text text\";\n</code></pre>\n\n<p>I would like to get from this string that \"32\" Integer value.</p>\n\n<p>many thanks in advance.</p>\n\n<p>regards,\nKoko</p>\n"},{"tags":["java","sockets","asynchronous"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692748321,"post_id":76952245,"comment_id":135666000,"body_markdown":"Issue the next read in the completion handler for the current read.","body":"Issue the next read in the completion handler for the current read."}],"owner":{"account_id":27166750,"reputation":11,"user_id":20704160,"display_name":"seeusoon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692784689,"answer_count":0,"score":0,"last_activity_date":1692784603,"creation_date":1692699081,"question_id":76952245,"body_markdown":"I need to read some amount of bytes from `AsynchronousSocketChannel`, process them and read bytes again. During the second reading I get a `java.nio.channels.ReadPendingException`. \r\nIs it possible to avoid this exception without using blocking methods like `Future.get()`?\r\n\r\nIn the example, `readOneByte()` and `readTwoBytes()` read bytes and process them. Should this function also return an instance of `CompletableFuture`? How to avoid callback chaos then?\r\n\r\n\r\n\r\n```\r\nbyte[] bytes = { 0x00 };\r\nCompletableFuture.supplyAsync(() -&gt; writeBytes(bytes, channel))\r\n                .thenRun(() -&gt; readOneByte(channel))\r\n                .thenApply(f -&gt; readTwoBytes(channel)) // here is ReadPendingException\r\n                .thenAccept(bytes -&gt; doSmthWithBytes(bytes))\r\n```","title":"How to use AsynchronousSocketChannel with CompletableFuture?","body":"<p>I need to read some amount of bytes from <code>AsynchronousSocketChannel</code>, process them and read bytes again. During the second reading I get a <code>java.nio.channels.ReadPendingException</code>.\nIs it possible to avoid this exception without using blocking methods like <code>Future.get()</code>?</p>\n<p>In the example, <code>readOneByte()</code> and <code>readTwoBytes()</code> read bytes and process them. Should this function also return an instance of <code>CompletableFuture</code>? How to avoid callback chaos then?</p>\n<pre><code>byte[] bytes = { 0x00 };\nCompletableFuture.supplyAsync(() -&gt; writeBytes(bytes, channel))\n                .thenRun(() -&gt; readOneByte(channel))\n                .thenApply(f -&gt; readTwoBytes(channel)) // here is ReadPendingException\n                .thenAccept(bytes -&gt; doSmthWithBytes(bytes))\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1311589545,"creation_date":1311589545,"answer_id":6814692,"question_id":6814598,"body_markdown":"You can use `Matcher.find(int)` to reset the matcher and start search from the remembered point.","title":"Is there a way to peek() or go back using a Matcher","body":"<p>You can use <code>Matcher.find(int)</code> to reset the matcher and start search from the remembered point.</p>\n"},{"tags":[],"owner":{"account_id":444856,"reputation":8760,"user_id":836941,"accept_rate":73,"display_name":"zacheusz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1311589634,"creation_date":1311589634,"answer_id":6814707,"question_id":6814598,"body_markdown":"Try iterating over groups and getting groups by number instead.","title":"Is there a way to peek() or go back using a Matcher","body":"<p>Try iterating over groups and getting groups by number instead.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1311589709,"creation_date":1311589709,"answer_id":6814720,"question_id":6814598,"body_markdown":"I think that you can write pattern like this:\r\n\r\n`Pattern.compile(&quot;GUZ\\\\d{2}-(.*)\\r?\\n.*?(\\\\dd{1,3}&#176;(\\\\d{1,2}).(\\\\d{3})&#39;)&quot;, Pattern.MULTILINE | Pattern.DOTALL)`\r\n\r\nThis pattern will catch the region name and the first coordinate. \r\n\r\nIf you wish to catch all coordinates you just have to separate the pattern into 2: first matches name: `Pattern.compile(&quot;^GUZ\\\\d{2}-(.*)$&quot;)`\r\n\r\nSecond matches coordinates:\r\n`Pattern.compile(&quot;(\\\\dd{1,3}&#176;(\\\\d{1,2}).(\\\\d{3})&#39;)&quot;)`\r\n\r\nNow you can split the text using the first pattern:\r\ntext.split(^GUZ\\\\d{2}-(.*)$);\r\n\r\nNow go over the subtexts and catch all coordinates using the second pattern. \r\n\r\n \r\n","title":"Is there a way to peek() or go back using a Matcher","body":"<p>I think that you can write pattern like this:</p>\n\n<p><code>Pattern.compile(\"GUZ\\\\d{2}-(.*)\\r?\\n.*?(\\\\dd{1,3}°(\\\\d{1,2}).(\\\\d{3})')\", Pattern.MULTILINE | Pattern.DOTALL)</code></p>\n\n<p>This pattern will catch the region name and the first coordinate. </p>\n\n<p>If you wish to catch all coordinates you just have to separate the pattern into 2: first matches name: <code>Pattern.compile(\"^GUZ\\\\d{2}-(.*)$\")</code></p>\n\n<p>Second matches coordinates:\n<code>Pattern.compile(\"(\\\\dd{1,3}°(\\\\d{1,2}).(\\\\d{3})')\")</code></p>\n\n<p>Now you can split the text using the first pattern:\ntext.split(^GUZ\\d{2}-(.*)$);</p>\n\n<p>Now go over the subtexts and catch all coordinates using the second pattern. </p>\n"}],"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":6814692,"answer_count":3,"score":3,"last_activity_date":1692784132,"creation_date":1311588907,"question_id":6814598,"body_markdown":"I&#39;m trying to parse a text document containing region names and a list of coordinates that comprise the region.  The text is not structured in an easily parse-able way, as it is written freeform like this:\r\n\r\n&gt; GUZ06—Caboolture River &lt;br /&gt;\r\n&gt; The area bounded by a line starting at the\r\n&gt; intersection of the marine park boundary on the mainland and the\r\n&gt; parallel of latitude 27&#176;08.981&#39; south (at or about the point of\r\n&gt; 27&#176;08.981&#39; south, 153&#176;01.822&#39; east) then running progressively—\r\n&gt; (a)\tgenerally north-westerly and south-easterly (via the Caboolture\r\n&gt; River) along the marine park boundary on the mainland to its\r\n&gt; intersection with the meridian of longitude 153&#176;02.197&#39; east (at or\r\n&gt; about the point of 27&#176;08.762&#39; south, 153&#176;02.197&#39; east); and&lt;br /&gt;\r\n&gt; ...&lt;br /&gt;\r\n&gt; GUZ07-[...]\r\n\r\nWhat I&#39;d like to be able to do is match against the name of a region, and then find where the next region is, and extract the block of text between the two match points, and run my coordinate extraction logic on that block of text, using something like:\r\n\r\n    while (matcher.find()) {\r\n        int textStart = matcher.end() + 1;  //remember the end of the current title\r\n        matcher.find();                     //find the start of the next title\r\n        String regionData = myBigString.substring(textStart, matcher.start());  //extract the text for this region\r\n        \r\n        //[process the region data]\r\n    \r\n        matcher.forgetLastFind();  //need to go back so that the next iteration starts from the correct place\r\n    }\r\n\r\nOf course, `forgetLastFind()` isn&#39;t a real thing.  Is there any way to approximate this behavior using the `Matcher` API?  Ideally I would like something like `Stack.peek()` which returns the next element without actually modifying the internal state of the data structure.","title":"Is there a way to peek() or go back using a Matcher","body":"<p>I'm trying to parse a text document containing region names and a list of coordinates that comprise the region.  The text is not structured in an easily parse-able way, as it is written freeform like this:</p>\n\n<blockquote>\n  <p>GUZ06—Caboolture River <br />\n  The area bounded by a line starting at the\n  intersection of the marine park boundary on the mainland and the\n  parallel of latitude 27°08.981' south (at or about the point of\n  27°08.981' south, 153°01.822' east) then running progressively—\n  (a)   generally north-westerly and south-easterly (via the Caboolture\n  River) along the marine park boundary on the mainland to its\n  intersection with the meridian of longitude 153°02.197' east (at or\n  about the point of 27°08.762' south, 153°02.197' east); and<br />\n  ...<br />\n  GUZ07-[...]</p>\n</blockquote>\n\n<p>What I'd like to be able to do is match against the name of a region, and then find where the next region is, and extract the block of text between the two match points, and run my coordinate extraction logic on that block of text, using something like:</p>\n\n<pre><code>while (matcher.find()) {\n    int textStart = matcher.end() + 1;  //remember the end of the current title\n    matcher.find();                     //find the start of the next title\n    String regionData = myBigString.substring(textStart, matcher.start());  //extract the text for this region\n\n    //[process the region data]\n\n    matcher.forgetLastFind();  //need to go back so that the next iteration starts from the correct place\n}\n</code></pre>\n\n<p>Of course, <code>forgetLastFind()</code> isn't a real thing.  Is there any way to approximate this behavior using the <code>Matcher</code> API?  Ideally I would like something like <code>Stack.peek()</code> which returns the next element without actually modifying the internal state of the data structure.</p>\n"},{"tags":["java","printing"],"comments":[{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":0,"creation_date":1340813911,"post_id":11230502,"comment_id":14752567,"body_markdown":"Printers available through &#39;lookupPrintServices()&#39; lists printers registered to the O/S and registered to the user who is running the application. For example, if in Windows, you need to make sure the Printer you want is registered as whichever active directory user the app is running as (local user, registered service, etc.)  This is a one-time registration.  On a network, you can also register a printer to the network and access it //server/printername","body":"Printers available through &#39;lookupPrintServices()&#39; lists printers registered to the O/S and registered to the user who is running the application. For example, if in Windows, you need to make sure the Printer you want is registered as whichever active directory user the app is running as (local user, registered service, etc.)  This is a one-time registration.  On a network, you can also register a printer to the network and access it //server/printername"},{"owner":{"account_id":1535325,"reputation":155,"user_id":1431544,"display_name":"user1431544"},"score":0,"creation_date":1340815825,"post_id":11230502,"comment_id":14753474,"body_markdown":"I dont need to use lookupPrintServices(). I&#39;ve got printer names in //server/printername format. Problem is, that lookupPrintServices cannot see any of them and I cannot register or install it. In .NET you can simply set printer name in object printersettings. I want to know, if some similar possibility exists in Java too. It&#39;s simple. I&#39;ve got pdf file (which handles PDFBox) and printer name and I want to silently print it without opening Acrobat. I want to know simplest way.","body":"I dont need to use lookupPrintServices(). I&#39;ve got printer names in //server/printername format. Problem is, that lookupPrintServices cannot see any of them and I cannot register or install it. In .NET you can simply set printer name in object printersettings. I want to know, if some similar possibility exists in Java too. It&#39;s simple. I&#39;ve got pdf file (which handles PDFBox) and printer name and I want to silently print it without opening Acrobat. I want to know simplest way."},{"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"score":1,"creation_date":1340821505,"post_id":11230502,"comment_id":14756044,"body_markdown":"Even if it is registered to the network, if the printer isn&#39;t visible in the windows control panel for the domain user running the java app, it won&#39;t be visible to Java via the awt print api.  You may have the name and the correct path, but if it&#39;s not registered to the server the app is running on, it won&#39;t be found.","body":"Even if it is registered to the network, if the printer isn&#39;t visible in the windows control panel for the domain user running the java app, it won&#39;t be visible to Java via the awt print api.  You may have the name and the correct path, but if it&#39;s not registered to the server the app is running on, it won&#39;t be found."}],"answers":[{"tags":[],"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1604607324,"creation_date":1340822639,"answer_id":11232987,"question_id":11230502,"body_markdown":"Java AWT Printing will not find a printer via a path if it is not registered to the Windows / Active Directory user that is running the printing application.  You must register the printer path through Windows &quot;Devices and Printers&quot; as a printer for that user for it to be visible.  Then, as that user, you must run `lookupPrintServices` to see the list of printers available and retrieve the proper `PrintService` by the exact name `String` listed.\r\n\r\n    \r\n    /**\r\n     * Retrieve the specified Print Service; will return null if not found.\r\n     * @return\r\n     */\r\n    public static PrintService findPrintService(String printerName) {\r\n\r\n        PrintService service = null;\r\n        \r\n        // Get array of all print services - sort order NOT GUARANTEED!\r\n        PrintService[] services = PrinterJob.lookupPrintServices();\r\n        \r\n        // Retrieve specified print service from the array\r\n        for (int index = 0; service == null &amp;&amp; index &lt; services.length; index++) {\r\n            \r\n            if (services[index].getName().equalsIgnoreCase(printerName)) {\r\n\r\n                service = services[index];\r\n            }\r\n        }\r\n\r\n        // Return the print service\r\n        return service;\r\n    }\r\n\r\n    /**\r\n     * Retrieve a PrinterJob instance set with the PrinterService using the printerName.\r\n     * \r\n     * @return\r\n     * @throws Exception IllegalStateException if expected printer is not found.\r\n     */\r\n    public static PrinterJob findPrinterJob(String printerName) throws Exception {\r\n\r\n        // Retrieve the Printer Service\r\n        PrintService printService = PrintUtility.findPrintService(printerName);\r\n\r\n        // Validate the Printer Service\r\n        if (printService == null) {\r\n\r\n            throw new IllegalStateException(&quot;Unrecognized Printer Service \\&quot;&quot; + printerName + &#39;&quot;&#39;);\r\n        }\r\n        \r\n        // Obtain a Printer Job instance.\r\n        PrinterJob printerJob = PrinterJob.getPrinterJob();\r\n        \r\n        // Set the Print Service.\r\n        printerJob.setPrintService(printService);\r\n\r\n        // Return Print Job\r\n        return printerJob;\r\n    }\r\n\r\n    /**\r\n     * Printer list does not necessarily refresh if you change the list of \r\n     * printers within the O/S; you can run this to refresh if necessary.\r\n     */\r\n    public static void refreshSystemPrinterList() {\r\n\r\n\t\tClass[] classes = PrintServiceLookup.class.getDeclaredClasses();\r\n\r\n\t\tfor (int i = 0; i &lt; classes.length; i++) {\r\n\r\n\t\t\tif (&quot;javax.print.PrintServiceLookup$Services&quot;.equals(classes[i].getName())) {\r\n\r\n                sun.awt.AppContext.getAppContext().remove(classes[i]);\r\n\t\t\t    break;\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How to use Java to print on a network printer?","body":"<p>Java AWT Printing will not find a printer via a path if it is not registered to the Windows / Active Directory user that is running the printing application.  You must register the printer path through Windows &quot;Devices and Printers&quot; as a printer for that user for it to be visible.  Then, as that user, you must run <code>lookupPrintServices</code> to see the list of printers available and retrieve the proper <code>PrintService</code> by the exact name <code>String</code> listed.</p>\n<pre><code>/**\n * Retrieve the specified Print Service; will return null if not found.\n * @return\n */\npublic static PrintService findPrintService(String printerName) {\n\n    PrintService service = null;\n    \n    // Get array of all print services - sort order NOT GUARANTEED!\n    PrintService[] services = PrinterJob.lookupPrintServices();\n    \n    // Retrieve specified print service from the array\n    for (int index = 0; service == null &amp;&amp; index &lt; services.length; index++) {\n        \n        if (services[index].getName().equalsIgnoreCase(printerName)) {\n\n            service = services[index];\n        }\n    }\n\n    // Return the print service\n    return service;\n}\n\n/**\n * Retrieve a PrinterJob instance set with the PrinterService using the printerName.\n * \n * @return\n * @throws Exception IllegalStateException if expected printer is not found.\n */\npublic static PrinterJob findPrinterJob(String printerName) throws Exception {\n\n    // Retrieve the Printer Service\n    PrintService printService = PrintUtility.findPrintService(printerName);\n\n    // Validate the Printer Service\n    if (printService == null) {\n\n        throw new IllegalStateException(&quot;Unrecognized Printer Service \\&quot;&quot; + printerName + '&quot;');\n    }\n    \n    // Obtain a Printer Job instance.\n    PrinterJob printerJob = PrinterJob.getPrinterJob();\n    \n    // Set the Print Service.\n    printerJob.setPrintService(printService);\n\n    // Return Print Job\n    return printerJob;\n}\n\n/**\n * Printer list does not necessarily refresh if you change the list of \n * printers within the O/S; you can run this to refresh if necessary.\n */\npublic static void refreshSystemPrinterList() {\n\n    Class[] classes = PrintServiceLookup.class.getDeclaredClasses();\n\n    for (int i = 0; i &lt; classes.length; i++) {\n\n        if (&quot;javax.print.PrintServiceLookup$Services&quot;.equals(classes[i].getName())) {\n\n            sun.awt.AppContext.getAppContext().remove(classes[i]);\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502446759,"creation_date":1502446759,"answer_id":45632761,"question_id":11230502,"body_markdown":"In my case there was an authentication error, I could not find shared printer because i searched them with LocalUser account, using another account or changing printer grants I could find it.","title":"How to use Java to print on a network printer?","body":"<p>In my case there was an authentication error, I could not find shared printer because i searched them with LocalUser account, using another account or changing printer grants I could find it.</p>\n"}],"owner":{"account_id":1535325,"reputation":155,"user_id":1431544,"display_name":"user1431544"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34969,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":11232987,"answer_count":2,"score":10,"last_activity_date":1692784130,"creation_date":1340812962,"question_id":11230502,"body_markdown":"Using Java, I need to print on network printer, which is not installed locally.  I only know the printer name.  All tutorials I&#39;ve seen started with something like:\r\n\r\n`PrintService []services = PrinterJob.lookupPrintServices();`\r\n\r\nThe problem is there can be no printers installed, so the services will be empty in that case.  I need to set the printer name directly, not just enumerate through visible printers.\r\n","title":"How to use Java to print on a network printer?","body":"<p>Using Java, I need to print on network printer, which is not installed locally.  I only know the printer name.  All tutorials I've seen started with something like:</p>\n\n<p><code>PrintService []services = PrinterJob.lookupPrintServices();</code></p>\n\n<p>The problem is there can be no printers installed, so the services will be empty in that case.  I need to set the printer name directly, not just enumerate through visible printers.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":237205,"reputation":1180,"user_id":505206,"display_name":"adotout"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1308014790,"creation_date":1308014610,"answer_id":6338138,"question_id":6338096,"body_markdown":"Your first regex consumes the entire string `(\\\\\\\\s*)`. When the second regex is run there is nothing left to match.\r\n\r\nIf you call `matcher.reset()` it works as expected.","title":"What kind of state is retained by Java&#39;s matcher.find() after an unsuccessful match with quantifiers?","body":"<p>Your first regex consumes the entire string <code>(\\\\\\\\s*)</code>. When the second regex is run there is nothing left to match.</p>\n\n<p>If you call <code>matcher.reset()</code> it works as expected.</p>\n"},{"tags":[],"owner":{"account_id":403847,"reputation":23234,"user_id":771837,"display_name":"trutheality"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1308015546,"creation_date":1308015546,"answer_id":6338222,"question_id":6338096,"body_markdown":"Looks like the documentation is a little misleading (or actually, it just doesn&#39;t specify) what the behavior is when you call `find()` after failure.\r\n\r\nI suppose that the expected usage is that `find()` is called repeatedly until failure, but never after failure without resetting.\r\n\r\nLooking at the [source code](http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Core/Collections-Jar-Zip-Logging-regex/java/util/regex/Matcher.java.htm) confirms that `Matcher` has an index (the field `last`) from which it starts searching when doing the next &#39;find()&#39;, and when `find()` fails, that index is advanced to the end and isn&#39;t reset.\r\n\r\n`reset()` resets that index, `usePattern()` doesn&#39;t.","title":"What kind of state is retained by Java&#39;s matcher.find() after an unsuccessful match with quantifiers?","body":"<p>Looks like the documentation is a little misleading (or actually, it just doesn't specify) what the behavior is when you call <code>find()</code> after failure.</p>\n\n<p>I suppose that the expected usage is that <code>find()</code> is called repeatedly until failure, but never after failure without resetting.</p>\n\n<p>Looking at the <a href=\"http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Core/Collections-Jar-Zip-Logging-regex/java/util/regex/Matcher.java.htm\" rel=\"nofollow\">source code</a> confirms that <code>Matcher</code> has an index (the field <code>last</code>) from which it starts searching when doing the next 'find()', and when <code>find()</code> fails, that index is advanced to the end and isn't reset.</p>\n\n<p><code>reset()</code> resets that index, <code>usePattern()</code> doesn't.</p>\n"}],"owner":{"account_id":341271,"reputation":53,"user_id":671771,"display_name":"Rich Fletcher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":6338222,"answer_count":2,"score":1,"last_activity_date":1692784122,"creation_date":1308013947,"question_id":6338096,"body_markdown":"In the following, I expect the second find() to succeed, but it does not.  Why?\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Matcher matcher = \r\n        Pattern.compile(&quot;\\\\s*asdf&quot;).matcher(&quot;apple banana cookie&quot;);\r\n\r\n    // returns false as expected\r\n    matcher.find();\r\n\r\n    // resets groups (that weren&#39;t being explicitly being used anyway), but not state.\r\n    matcher.usePattern(Pattern.compile(&quot;\\\\s*banana&quot;)); \r\n\r\n    // returns false, expected true.\r\n    System.out.println(matcher.find());\r\n\r\n\r\nIf the quantifier is removed from the first regex (becoming simply &quot;asdf&quot;), the second match succeeds.  Looking at the Matcher object reveals some kind of group information is stored after the first unsuccessful find(), although I wouldn&#39;t have expected it.  Find() is [supposed](http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#find%28%29) to start either at the beginning (if no previous match) or at the index of the last successful match.  UsePattern() is [supposed](http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#usePattern%28java.util.regex.Pattern%29) to preserve the Matcher&#39;s position in the input, and discard group information (that, again, I wasn&#39;t using explicitly).\r\n\r\nI&#39;m missing something, but I don&#39;t know what.  I&#39;m suspecting I have to implement this with lookingAt() and updating the region (such as [this example](https://stackoverflow.com/questions/244115/how-do-i-tokenize-input-using-javas-scanner-class-and-regular-expressions)), but I don&#39;t know why this approach isn&#39;t working.","title":"What kind of state is retained by Java&#39;s matcher.find() after an unsuccessful match with quantifiers?","body":"<p>In the following, I expect the second find() to succeed, but it does not.  Why?\n</p>\n\n<pre><code>Matcher matcher = \n    Pattern.compile(\"\\\\s*asdf\").matcher(\"apple banana cookie\");\n\n// returns false as expected\nmatcher.find();\n\n// resets groups (that weren't being explicitly being used anyway), but not state.\nmatcher.usePattern(Pattern.compile(\"\\\\s*banana\")); \n\n// returns false, expected true.\nSystem.out.println(matcher.find());\n</code></pre>\n\n<p>If the quantifier is removed from the first regex (becoming simply \"asdf\"), the second match succeeds.  Looking at the Matcher object reveals some kind of group information is stored after the first unsuccessful find(), although I wouldn't have expected it.  Find() is <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#find%28%29\" rel=\"nofollow noreferrer\">supposed</a> to start either at the beginning (if no previous match) or at the index of the last successful match.  UsePattern() is <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Matcher.html#usePattern%28java.util.regex.Pattern%29\" rel=\"nofollow noreferrer\">supposed</a> to preserve the Matcher's position in the input, and discard group information (that, again, I wasn't using explicitly).</p>\n\n<p>I'm missing something, but I don't know what.  I'm suspecting I have to implement this with lookingAt() and updating the region (such as <a href=\"https://stackoverflow.com/questions/244115/how-do-i-tokenize-input-using-javas-scanner-class-and-regular-expressions\">this example</a>), but I don't know why this approach isn't working.</p>\n"},{"tags":["java","regex","parsing"],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305138599,"creation_date":1305138599,"answer_id":5968872,"question_id":5968720,"body_markdown":"You have reached the point where regular expressions break down.\r\n\r\nI would recommend that you write a simple splitter instead which handles your special cases as _you_ wish.  Test Driven Development is great for doing this.\r\n\r\nIt looks, however, like you are trying to parse CSV lines.  Have you considered using a CSV-library for this?","title":"Splitting comma separated string, ignore commas in quotes, but allow strings with one double quotation","body":"<p>You have reached the point where regular expressions break down.</p>\n\n<p>I would recommend that you write a simple splitter instead which handles your special cases as <em>you</em> wish.  Test Driven Development is great for doing this.</p>\n\n<p>It looks, however, like you are trying to parse CSV lines.  Have you considered using a CSV-library for this?</p>\n"},{"tags":[],"owner":{"account_id":95875,"reputation":9861,"user_id":260894,"accept_rate":56,"display_name":"dhblah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305145145,"creation_date":1305139100,"answer_id":5968974,"question_id":5968720,"body_markdown":"Split against this pattern:\r\n\r\n    (?&lt;=\\&quot;?),(?!\\&quot;)|(?&lt;!\\&quot;),(?=\\&quot;)\r\n\r\nso it will be:\r\n\r\n    String[] splitArray = subjectString.split(&quot;(?&lt;=\\&quot;?),(?!\\&quot;)|(?&lt;!\\&quot;),(?=\\&quot;)&quot;);\r\n\r\nUPD: according to recent changes in question logic, it&#39;s better not to use naked split, you should firstly separated text in comma from non-in-commas text, then make simple split(&quot;,&quot;) on the last one. Just use simple for loop and check how many quotes you&#39;ve met, simultaneously saving characters you&#39;ve read into a StringBuffer. At first you saving your characters into StringBuffer, until you met quotes, then you put your StringBuffer into array containing Strings that wasn&#39;t in quotes. Then you make new StringBuffer and saving next characters you read into it, after you&#39;ve met second comma, you&#39;ve stopping and putting your new StringBuffer into array containing strings that were in commas. Repeating until the end of the string. So you will have 2 arrays, one with Strings that were in commas, others with strings not in commas. Then you should split all elements of the second array.","title":"Splitting comma separated string, ignore commas in quotes, but allow strings with one double quotation","body":"<p>Split against this pattern:</p>\n\n<pre><code>(?&lt;=\\\"?),(?!\\\")|(?&lt;!\\\"),(?=\\\")\n</code></pre>\n\n<p>so it will be:</p>\n\n<pre><code>String[] splitArray = subjectString.split(\"(?&lt;=\\\"?),(?!\\\")|(?&lt;!\\\"),(?=\\\")\");\n</code></pre>\n\n<p>UPD: according to recent changes in question logic, it's better not to use naked split, you should firstly separated text in comma from non-in-commas text, then make simple split(\",\") on the last one. Just use simple for loop and check how many quotes you've met, simultaneously saving characters you've read into a StringBuffer. At first you saving your characters into StringBuffer, until you met quotes, then you put your StringBuffer into array containing Strings that wasn't in quotes. Then you make new StringBuffer and saving next characters you read into it, after you've met second comma, you've stopping and putting your new StringBuffer into array containing strings that were in commas. Repeating until the end of the string. So you will have 2 arrays, one with Strings that were in commas, others with strings not in commas. Then you should split all elements of the second array.</p>\n"},{"tags":[],"owner":{"account_id":8709,"reputation":5827,"user_id":15816,"display_name":"Chris Mazzola"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1305144379,"creation_date":1305144379,"answer_id":5969974,"question_id":5968720,"body_markdown":"Unless you really need to DIY, you should consider the Apache Commons class org.apache.commons.csv.CSVParser\r\n\r\nhttp://commons.apache.org/sandbox/csv/apidocs/org/apache/commons/csv/CSVParser.html","title":"Splitting comma separated string, ignore commas in quotes, but allow strings with one double quotation","body":"<p>Unless you really need to DIY, you should consider the Apache Commons class org.apache.commons.csv.CSVParser</p>\n\n<p><a href=\"http://commons.apache.org/sandbox/csv/apidocs/org/apache/commons/csv/CSVParser.html\" rel=\"nofollow\">http://commons.apache.org/sandbox/csv/apidocs/org/apache/commons/csv/CSVParser.html</a></p>\n"},{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305149522,"creation_date":1305149522,"answer_id":5970862,"question_id":5968720,"body_markdown":"Try this:\r\n\r\n    import java.util.regex.*;\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) throws Exception {\r\n    \r\n        String text = &quot;test05, \\&quot;test, 05\\&quot;, test\\&quot;, test 05&quot;;\r\n    \r\n        Pattern p = Pattern.compile(\r\n            &quot;(?x)          # enable comments                                      \\n&quot; +\r\n            &quot;(\\&quot;[^\\&quot;]*\\&quot;)  # quoted data, and store in group #1                   \\n&quot; +\r\n            &quot;|             # OR                                                   \\n&quot; +\r\n            &quot;([^,]+)       # one or more chars other than &#39;,&#39;, and store it in #2 \\n&quot; +\r\n            &quot;|             # OR                                                   \\n&quot; +\r\n            &quot;\\\\s*,\\\\s*     # a &#39;,&#39; optionally surrounded by space-chars           \\n&quot;\r\n        );\r\n    \r\n        Matcher m = p.matcher(text);\r\n    \r\n        while (m.find()) {\r\n          // get the match\r\n          String matched = m.group().trim();\r\n    \r\n          // only print the match if it&#39;s group #1 or #2\r\n          if(m.group(1) != null || m.group(2) != null) {\r\n            System.out.println(matched);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nFor `test05, &quot;test, 05&quot;, test&quot;, test 05` it produces:\r\n\r\n&lt;pre&gt;\r\ntest05\r\n&quot;test, 05&quot;\r\ntest&quot;\r\ntest 05\r\n&lt;/pre&gt;\r\n\r\nand for `test05, &quot;test 05&quot;, test&quot;, test 05` it produces:\r\n\r\n&lt;pre&gt;\r\ntest05\r\n&quot;test 05&quot;\r\ntest&quot;\r\ntest 05\r\n&lt;/pre&gt;","title":"Splitting comma separated string, ignore commas in quotes, but allow strings with one double quotation","body":"<p>Try this:</p>\n\n<pre><code>import java.util.regex.*;\n\npublic class Main {\n  public static void main(String[] args) throws Exception {\n\n    String text = \"test05, \\\"test, 05\\\", test\\\", test 05\";\n\n    Pattern p = Pattern.compile(\n        \"(?x)          # enable comments                                      \\n\" +\n        \"(\\\"[^\\\"]*\\\")  # quoted data, and store in group #1                   \\n\" +\n        \"|             # OR                                                   \\n\" +\n        \"([^,]+)       # one or more chars other than ',', and store it in #2 \\n\" +\n        \"|             # OR                                                   \\n\" +\n        \"\\\\s*,\\\\s*     # a ',' optionally surrounded by space-chars           \\n\"\n    );\n\n    Matcher m = p.matcher(text);\n\n    while (m.find()) {\n      // get the match\n      String matched = m.group().trim();\n\n      // only print the match if it's group #1 or #2\n      if(m.group(1) != null || m.group(2) != null) {\n        System.out.println(matched);\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>For <code>test05, \"test, 05\", test\", test 05</code> it produces:</p>\n\n<pre>\ntest05\n\"test, 05\"\ntest\"\ntest 05\n</pre>\n\n<p>and for <code>test05, \"test 05\", test\", test 05</code> it produces:</p>\n\n<pre>\ntest05\n\"test 05\"\ntest\"\ntest 05\n</pre>\n"},{"tags":[],"owner":{"account_id":1492671,"reputation":49,"user_id":1399396,"display_name":"Uberbot7147"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430928155,"creation_date":1430927471,"answer_id":30081694,"question_id":5968720,"body_markdown":"I&#39;ve had similar issues with this, and I&#39;ve found no good .net solution so went DIY. \r\n\r\nIn my application I&#39;m parsing a csv so my split credential is &quot;,&quot;. this method I suppose only works for where you have a single char split argument.\r\n\r\nSo, I&#39;ve written a function that ignores commas within double quotes. it does it by converting the input string into a character array and parsing char by char\r\n\r\n    public static string[] Splitter_IgnoreQuotes(string stringToSplit)\r\n        {   \r\n            char[] CharsOfData = stringToSplit.ToCharArray();\r\n            //enter your expected array size here or alloc.\r\n            string[] dataArray = new string[37];\r\n            int arrayIndex = 0;\r\n            bool DoubleQuotesJustSeen = false;          \r\n            foreach (char theChar in CharsOfData)\r\n            {\r\n                //did we just see double quotes, and no command? dont split then. you could make &#39;,&#39; a variable for your split parameters I&#39;m working with a csv.\r\n                if ((theChar != &#39;,&#39; || DoubleQuotesJustSeen) &amp;&amp; theChar != &#39;&quot;&#39;)\r\n                {\r\n                    dataArray[arrayIndex] = dataArray[arrayIndex] + theChar;\r\n                }\r\n                else if (theChar == &#39;&quot;&#39;)\r\n                {\r\n                    if (DoubleQuotesJustSeen)\r\n                    {\r\n                        DoubleQuotesJustSeen = false;\r\n                    }\r\n                    else\r\n                    {\r\n                        DoubleQuotesJustSeen = true;\r\n                    }\r\n                }\r\n                else if (theChar == &#39;,&#39; &amp;&amp; !DoubleQuotesJustSeen)\r\n                {\r\n                    arrayIndex++;\r\n                }\r\n            }\r\n            return dataArray;\r\n        }\r\n\r\nThis function, to my application taste also ignores (&quot;&quot;) in any input as these are unneeded and present in my input.","title":"Splitting comma separated string, ignore commas in quotes, but allow strings with one double quotation","body":"<p>I've had similar issues with this, and I've found no good .net solution so went DIY. </p>\n\n<p>In my application I'm parsing a csv so my split credential is \",\". this method I suppose only works for where you have a single char split argument.</p>\n\n<p>So, I've written a function that ignores commas within double quotes. it does it by converting the input string into a character array and parsing char by char</p>\n\n<pre><code>public static string[] Splitter_IgnoreQuotes(string stringToSplit)\n    {   \n        char[] CharsOfData = stringToSplit.ToCharArray();\n        //enter your expected array size here or alloc.\n        string[] dataArray = new string[37];\n        int arrayIndex = 0;\n        bool DoubleQuotesJustSeen = false;          \n        foreach (char theChar in CharsOfData)\n        {\n            //did we just see double quotes, and no command? dont split then. you could make ',' a variable for your split parameters I'm working with a csv.\n            if ((theChar != ',' || DoubleQuotesJustSeen) &amp;&amp; theChar != '\"')\n            {\n                dataArray[arrayIndex] = dataArray[arrayIndex] + theChar;\n            }\n            else if (theChar == '\"')\n            {\n                if (DoubleQuotesJustSeen)\n                {\n                    DoubleQuotesJustSeen = false;\n                }\n                else\n                {\n                    DoubleQuotesJustSeen = true;\n                }\n            }\n            else if (theChar == ',' &amp;&amp; !DoubleQuotesJustSeen)\n            {\n                arrayIndex++;\n            }\n        }\n        return dataArray;\n    }\n</code></pre>\n\n<p>This function, to my application taste also ignores (\"\") in any input as these are unneeded and present in my input.</p>\n"}],"owner":{"account_id":389670,"reputation":11,"user_id":749254,"display_name":"btshore721"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1692784109,"creation_date":1305137783,"question_id":5968720,"body_markdown":"I have searched through several posts on stackoverflow on how to split a string on comma delimiter, but ignore splitting on comma in quotes (see: https://stackoverflow.com/questions/4982542/how-do-i-split-a-string-into-an-array-by-comma-but-ignore-commas-inside-double-qu) I am trying to achieve just similar results, but need to also allow for a string that contains one double quote. \r\n\r\n\r\nIE. Need `&quot;test05, \\&quot;test, 05\\&quot;, test\\&quot;, test 05&quot;` to splits into\r\n\r\n - `test05`\r\n - `&quot;test, 05&quot;`\r\n - `test&quot;`\r\n - `test 05`\r\n\r\nI tried a similar method to one mentioned here: \r\n\r\nhttps://stackoverflow.com/questions/366202/regex-for-splitting-a-string-using-space-when-not-surrounded-by-single-or-double\r\n\r\nUsing Matcher, instead of `split()`. however, that specific examples it splits on spaces, and not on commas. I&#39;ve tried to adjust the pattern to account for commas, instead, but have not had any luck.\r\n\r\n    String str = &quot;test05, \\&quot;test, 05\\&quot;, test\\&quot;, test 05&quot;;\r\n    str = str + &quot; &quot;; // add trailing space\r\n    int len = str.length();\r\n    Matcher m = Pattern.compile(&quot;((\\&quot;[^\\&quot;]+?\\&quot;)|([^,]+?)),++&quot;).matcher(str);\r\n    \r\n    for (int i = 0; i &lt; len; i++)\r\n    {\r\n        m.region(i, len);\r\n    \r\n        if (m.lookingAt())\r\n        {\r\n            String s = m.group(1);\r\n    \r\n            if ((s.startsWith(&quot;\\&quot;&quot;) &amp;&amp; s.endsWith(&quot;\\&quot;&quot;)))\r\n            {\r\n                s = s.substring(1, s.length() - 1);\r\n            }\r\n    \r\n            System.out.println(i + &quot;: \\&quot;&quot; + s + &quot;\\&quot;&quot;);\r\n            i += (m.group(0).length() - 1);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Splitting comma separated string, ignore commas in quotes, but allow strings with one double quotation","body":"<p>I have searched through several posts on stackoverflow on how to split a string on comma delimiter, but ignore splitting on comma in quotes (see: <a href=\"https://stackoverflow.com/questions/4982542/how-do-i-split-a-string-into-an-array-by-comma-but-ignore-commas-inside-double-qu\">How do I split a string into an array by comma but ignore commas inside double quotes?</a>) I am trying to achieve just similar results, but need to also allow for a string that contains one double quote. </p>\n\n<p>IE. Need <code>\"test05, \\\"test, 05\\\", test\\\", test 05\"</code> to splits into</p>\n\n<ul>\n<li><code>test05</code></li>\n<li><code>\"test, 05\"</code></li>\n<li><code>test\"</code></li>\n<li><code>test 05</code></li>\n</ul>\n\n<p>I tried a similar method to one mentioned here: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/366202/regex-for-splitting-a-string-using-space-when-not-surrounded-by-single-or-double\">Regex for splitting a string using space when not surrounded by single or double quotes</a></p>\n\n<p>Using Matcher, instead of <code>split()</code>. however, that specific examples it splits on spaces, and not on commas. I've tried to adjust the pattern to account for commas, instead, but have not had any luck.</p>\n\n<pre><code>String str = \"test05, \\\"test, 05\\\", test\\\", test 05\";\nstr = str + \" \"; // add trailing space\nint len = str.length();\nMatcher m = Pattern.compile(\"((\\\"[^\\\"]+?\\\")|([^,]+?)),++\").matcher(str);\n\nfor (int i = 0; i &lt; len; i++)\n{\n    m.region(i, len);\n\n    if (m.lookingAt())\n    {\n        String s = m.group(1);\n\n        if ((s.startsWith(\"\\\"\") &amp;&amp; s.endsWith(\"\\\"\")))\n        {\n            s = s.substring(1, s.length() - 1);\n        }\n\n        System.out.println(i + \": \\\"\" + s + \"\\\"\");\n        i += (m.group(0).length() - 1);\n    }\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":259073,"reputation":8102,"user_id":541688,"display_name":"Oleg Estekhin"},"score":0,"creation_date":1510926750,"post_id":5902090,"comment_id":81656388,"body_markdown":"Possible duplicate of [Parse a URI String into Name-Value Collection](https://stackoverflow.com/questions/13592236/parse-a-uri-string-into-name-value-collection)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/13592236/parse-a-uri-string-into-name-value-collection\">Parse a URI String into Name-Value Collection</a>"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":2,"up_vote_count":46,"is_accepted":true,"score":44,"last_activity_date":1304618300,"creation_date":1304618300,"answer_id":5902142,"question_id":5902090,"body_markdown":"It doesn&#39;t have to be regex. Since I think there&#39;s no standard method to handle this thing, I&#39;m using something that I copied from somewhere (and perhaps modified a bit):\r\n\r\n\r\n    public static Map&lt;String, List&lt;String&gt;&gt; getQueryParams(String url) {\r\n        try {\r\n            Map&lt;String, List&lt;String&gt;&gt; params = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n            String[] urlParts = url.split(&quot;\\\\?&quot;);\r\n            if (urlParts.length &gt; 1) {\r\n                String query = urlParts[1];\r\n                for (String param : query.split(&quot;&amp;&quot;)) {\r\n                    String[] pair = param.split(&quot;=&quot;);\r\n                    String key = URLDecoder.decode(pair[0], &quot;UTF-8&quot;);\r\n                    String value = &quot;&quot;;\r\n                    if (pair.length &gt; 1) {\r\n                        value = URLDecoder.decode(pair[1], &quot;UTF-8&quot;);\r\n                    }\r\n\r\n                    List&lt;String&gt; values = params.get(key);\r\n                    if (values == null) {\r\n                        values = new ArrayList&lt;String&gt;();\r\n                        params.put(key, values);\r\n                    }\r\n                    values.add(value);\r\n                }\r\n            }\r\n\r\n            return params;\r\n        } catch (UnsupportedEncodingException ex) {\r\n            throw new AssertionError(ex);\r\n        }\r\n    }\r\n\r\nSo, when you call it, you will get all parameters and their values. The method handles multi-valued params, hence the `List&lt;String&gt;` rather than `String`, and in your case you&#39;ll need to get the first list element.","title":"How to extract parameters from a given url","body":"<p>It doesn't have to be regex. Since I think there's no standard method to handle this thing, I'm using something that I copied from somewhere (and perhaps modified a bit):</p>\n\n<pre><code>public static Map&lt;String, List&lt;String&gt;&gt; getQueryParams(String url) {\n    try {\n        Map&lt;String, List&lt;String&gt;&gt; params = new HashMap&lt;String, List&lt;String&gt;&gt;();\n        String[] urlParts = url.split(\"\\\\?\");\n        if (urlParts.length &gt; 1) {\n            String query = urlParts[1];\n            for (String param : query.split(\"&amp;\")) {\n                String[] pair = param.split(\"=\");\n                String key = URLDecoder.decode(pair[0], \"UTF-8\");\n                String value = \"\";\n                if (pair.length &gt; 1) {\n                    value = URLDecoder.decode(pair[1], \"UTF-8\");\n                }\n\n                List&lt;String&gt; values = params.get(key);\n                if (values == null) {\n                    values = new ArrayList&lt;String&gt;();\n                    params.put(key, values);\n                }\n                values.add(value);\n            }\n        }\n\n        return params;\n    } catch (UnsupportedEncodingException ex) {\n        throw new AssertionError(ex);\n    }\n}\n</code></pre>\n\n<p>So, when you call it, you will get all parameters and their values. The method handles multi-valued params, hence the <code>List&lt;String&gt;</code> rather than <code>String</code>, and in your case you'll need to get the first list element.</p>\n"},{"tags":[],"owner":{"account_id":253336,"reputation":4115,"user_id":531961,"display_name":"Staffan N&#246;teberg"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1304680517,"creation_date":1304624203,"answer_id":5903184,"question_id":5902090,"body_markdown":"Not sure how you used `find` and `group`, but this works fine:\r\n\r\n    String params = &quot;depCity=PAR&amp;roomType=D&amp;depCity=NYC&quot;;\r\n    \r\n    try {\r\n    \tPattern p = Pattern.compile(&quot;depCity=([^&amp;]+)&quot;);\r\n    \tMatcher m = p.matcher(params);\r\n    \twhile (m.find()) {\r\n    \t\tSystem.out.println(m.group());\r\n    \t} \r\n    } catch (PatternSyntaxException ex) {\r\n    \t// error handling\r\n    }\r\n\r\nHowever, If you only want the values, not the key `depCity=` then you can either use `m.group(1)` or use a regex with lookarounds:\r\n\r\n    Pattern p = Pattern.compile(&quot;(?&lt;=depCity=).*?(?=&amp;|$)&quot;);\r\n\r\nIt works in the same Java code as above. It tries to find a start position right after `depCity=`. Then matches anything but as little as possible until it reaches a point facing `&amp;` or end of input.","title":"How to extract parameters from a given url","body":"<p>Not sure how you used <code>find</code> and <code>group</code>, but this works fine:</p>\n\n<pre><code>String params = \"depCity=PAR&amp;roomType=D&amp;depCity=NYC\";\n\ntry {\n    Pattern p = Pattern.compile(\"depCity=([^&amp;]+)\");\n    Matcher m = p.matcher(params);\n    while (m.find()) {\n        System.out.println(m.group());\n    } \n} catch (PatternSyntaxException ex) {\n    // error handling\n}\n</code></pre>\n\n<p>However, If you only want the values, not the key <code>depCity=</code> then you can either use <code>m.group(1)</code> or use a regex with lookarounds:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"(?&lt;=depCity=).*?(?=&amp;|$)\");\n</code></pre>\n\n<p>It works in the same Java code as above. It tries to find a start position right after <code>depCity=</code>. Then matches anything but as little as possible until it reaches a point facing <code>&amp;</code> or end of input.</p>\n"},{"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1554706924,"creation_date":1407942814,"answer_id":25289891,"question_id":5902090,"body_markdown":"I have three solutions, the third one is an improved version of Bozho&#39;s.\r\n\r\nFirst, if you don&#39;t want to write stuff yourself and simply use a lib, then use Apache&#39;s httpcomponents lib&#39;s URIBuilder class: http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/utils/URIBuilder.html\r\n\r\n    new URIBuilder(&quot;http://...&quot;).getQueryParams()...\r\n\r\nSecond:\r\n\r\n    // overwrites duplicates\r\n    import org.apache.http.NameValuePair;\r\n    import org.apache.http.client.utils.URLEncodedUtils;\r\n    public static Map&lt;String, String&gt; readParamsIntoMap(String url, String charset) throws URISyntaxException {\r\n        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n\r\n        List&lt;NameValuePair&gt; result = URLEncodedUtils.parse(new URI(url), charset);\r\n\r\n        for (NameValuePair nvp : result) {\r\n            params.put(nvp.getName(), nvp.getValue());\r\n        }\r\n\r\n        return params;\r\n    }\r\n\r\nThird:\r\n\r\n    public static Map&lt;String, List&lt;String&gt;&gt; getQueryParams(String url) throws UnsupportedEncodingException {\r\n        Map&lt;String, List&lt;String&gt;&gt; params = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n        String[] urlParts = url.split(&quot;\\\\?&quot;);\r\n        if (urlParts.length &lt; 2) {\r\n            return params;\r\n        }\r\n\r\n        String query = urlParts[1];\r\n        for (String param : query.split(&quot;&amp;&quot;)) {\r\n            String[] pair = param.split(&quot;=&quot;);\r\n            String key = URLDecoder.decode(pair[0], &quot;UTF-8&quot;);\r\n            String value = &quot;&quot;;\r\n            if (pair.length &gt; 1) {\r\n                value = URLDecoder.decode(pair[1], &quot;UTF-8&quot;);\r\n            }\r\n\r\n            // skip ?&amp; and &amp;&amp;\r\n            if (&quot;&quot;.equals(key) &amp;&amp; pair.length == 1) {\r\n                continue;\r\n            }\r\n\r\n            List&lt;String&gt; values = params.get(key);\r\n            if (values == null) {\r\n                values = new ArrayList&lt;String&gt;();\r\n                params.put(key, values);\r\n            }\r\n            values.add(value);\r\n        }\r\n\r\n        return params;\r\n    }\r\n","title":"How to extract parameters from a given url","body":"<p>I have three solutions, the third one is an improved version of Bozho's.</p>\n\n<p>First, if you don't want to write stuff yourself and simply use a lib, then use Apache's httpcomponents lib's URIBuilder class: <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/utils/URIBuilder.html\" rel=\"noreferrer\">http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/client/utils/URIBuilder.html</a></p>\n\n<pre><code>new URIBuilder(\"http://...\").getQueryParams()...\n</code></pre>\n\n<p>Second:</p>\n\n<pre><code>// overwrites duplicates\nimport org.apache.http.NameValuePair;\nimport org.apache.http.client.utils.URLEncodedUtils;\npublic static Map&lt;String, String&gt; readParamsIntoMap(String url, String charset) throws URISyntaxException {\n    Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n\n    List&lt;NameValuePair&gt; result = URLEncodedUtils.parse(new URI(url), charset);\n\n    for (NameValuePair nvp : result) {\n        params.put(nvp.getName(), nvp.getValue());\n    }\n\n    return params;\n}\n</code></pre>\n\n<p>Third:</p>\n\n<pre><code>public static Map&lt;String, List&lt;String&gt;&gt; getQueryParams(String url) throws UnsupportedEncodingException {\n    Map&lt;String, List&lt;String&gt;&gt; params = new HashMap&lt;String, List&lt;String&gt;&gt;();\n    String[] urlParts = url.split(\"\\\\?\");\n    if (urlParts.length &lt; 2) {\n        return params;\n    }\n\n    String query = urlParts[1];\n    for (String param : query.split(\"&amp;\")) {\n        String[] pair = param.split(\"=\");\n        String key = URLDecoder.decode(pair[0], \"UTF-8\");\n        String value = \"\";\n        if (pair.length &gt; 1) {\n            value = URLDecoder.decode(pair[1], \"UTF-8\");\n        }\n\n        // skip ?&amp; and &amp;&amp;\n        if (\"\".equals(key) &amp;&amp; pair.length == 1) {\n            continue;\n        }\n\n        List&lt;String&gt; values = params.get(key);\n        if (values == null) {\n            values = new ArrayList&lt;String&gt;();\n            params.put(key, values);\n        }\n        values.add(value);\n    }\n\n    return params;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1576733,"reputation":1248,"user_id":1462969,"accept_rate":5,"display_name":"Mikhail Valuyskiy"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1609997338,"creation_date":1475502419,"answer_id":39833230,"question_id":5902090,"body_markdown":"If you are developing an Android application, try this:\r\n\r\n    String yourParam = null;\r\n    Uri uri = Uri.parse(url);\r\n    try {\r\n        yourParam = URLDecoder.decode(uri.getQueryParameter(PARAM_NAME), &quot;UTF-8&quot;);\r\n    } catch (UnsupportedEncodingException exception) {\r\n        exception.printStackTrace();\r\n    }        \r\n","title":"How to extract parameters from a given url","body":"<p>If you are developing an Android application, try this:</p>\n<pre><code>String yourParam = null;\nUri uri = Uri.parse(url);\ntry {\n    yourParam = URLDecoder.decode(uri.getQueryParameter(PARAM_NAME), &quot;UTF-8&quot;);\n} catch (UnsupportedEncodingException exception) {\n    exception.printStackTrace();\n}        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7086683,"reputation":646,"user_id":5423310,"display_name":"manish Prasad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482129635,"creation_date":1482129635,"answer_id":41217032,"question_id":5902090,"body_markdown":" Simple Solution create the map out of all param name and values and use it :).    \r\n   \r\n   \r\n\r\n  \r\n\r\n \r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    \r\n        public String splitURL(String url, String parameter){\r\n            \t\tHashMap&lt;String, String&gt; urlMap=new HashMap&lt;String, String&gt;();\r\n            \t\tString queryString=StringUtils.substringAfter(url,&quot;?&quot;);\r\n            \t\tfor(String param : queryString.split(&quot;&amp;&quot;)){\r\n            \t\t\turlMap.put(StringUtils.substringBefore(param, &quot;=&quot;),StringUtils.substringAfter(param, &quot;=&quot;));\r\n            \t\t}\r\n            \t\treturn urlMap.get(parameter);\r\n            \t}","title":"How to extract parameters from a given url","body":"<p>Simple Solution create the map out of all param name and values and use it :).    </p>\n\n<pre><code>import org.apache.commons.lang3.StringUtils;\n\n    public String splitURL(String url, String parameter){\n                HashMap&lt;String, String&gt; urlMap=new HashMap&lt;String, String&gt;();\n                String queryString=StringUtils.substringAfter(url,\"?\");\n                for(String param : queryString.split(\"&amp;\")){\n                    urlMap.put(StringUtils.substringBefore(param, \"=\"),StringUtils.substringAfter(param, \"=\"));\n                }\n                return urlMap.get(parameter);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112078,"reputation":609,"user_id":295765,"display_name":"qza"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1505047563,"creation_date":1505047563,"answer_id":46140838,"question_id":5902090,"body_markdown":"If *spring-web* is present on classpath, *UriComponentsBuilder* can be used.\r\n\r\n    MultiValueMap&lt;String, String&gt; queryParams =\r\n                UriComponentsBuilder.fromUriString(url).build().getQueryParams();\r\n\r\n","title":"How to extract parameters from a given url","body":"<p>If <em>spring-web</em> is present on classpath, <em>UriComponentsBuilder</em> can be used.</p>\n\n<pre><code>MultiValueMap&lt;String, String&gt; queryParams =\n            UriComponentsBuilder.fromUriString(url).build().getQueryParams();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10971183,"reputation":1,"user_id":8061414,"display_name":"Mario Alberto Saldana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575496011,"creation_date":1575496011,"answer_id":59185099,"question_id":5902090,"body_markdown":"same but with jsonobject:\r\n\r\n\tpublic static JSONObject getQueryParams2(String url) {\r\n\t\tJSONObject json = new JSONObject();\r\n\t    try {\r\n\t        String[] urlParts = url.split(&quot;\\\\?&quot;);\r\n\t        JSONArray array = new  JSONArray();\r\n\t        if (urlParts.length &gt; 1) {\r\n\t            String query = urlParts[1];\r\n\t            for (String param : query.split(&quot;&amp;&quot;)) {\r\n\t                String[] pair = param.split(&quot;=&quot;);\r\n\t                String key = URLDecoder.decode(pair[0], &quot;UTF-8&quot;);\r\n\t                String value = &quot;&quot;;\r\n\t                if (pair.length &gt; 1) {\r\n\t                    value = URLDecoder.decode(pair[1], &quot;UTF-8&quot;);\r\n\t                    if(json.has(key)) {\r\n\t                    \tarray = json.getJSONArray(key);\r\n\t                    \tarray.put(value);\r\n\t                    \tjson.put(key, array);\r\n\t                    \tarray = new JSONArray();\r\n\t                    } else {\r\n\t                    \tarray.put(value);\r\n\t                    \tjson.put(key, array);\r\n\t                    \tarray = new JSONArray();\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        return json;\r\n\t    } catch (Exception ex) {\r\n\t        throw new AssertionError(ex);\r\n\t    }\r\n\t}","title":"How to extract parameters from a given url","body":"<p>same but with jsonobject:</p>\n\n<pre><code>public static JSONObject getQueryParams2(String url) {\n    JSONObject json = new JSONObject();\n    try {\n        String[] urlParts = url.split(\"\\\\?\");\n        JSONArray array = new  JSONArray();\n        if (urlParts.length &gt; 1) {\n            String query = urlParts[1];\n            for (String param : query.split(\"&amp;\")) {\n                String[] pair = param.split(\"=\");\n                String key = URLDecoder.decode(pair[0], \"UTF-8\");\n                String value = \"\";\n                if (pair.length &gt; 1) {\n                    value = URLDecoder.decode(pair[1], \"UTF-8\");\n                    if(json.has(key)) {\n                        array = json.getJSONArray(key);\n                        array.put(value);\n                        json.put(key, array);\n                        array = new JSONArray();\n                    } else {\n                        array.put(value);\n                        json.put(key, array);\n                        array = new JSONArray();\n                    }\n                }\n            }\n        }\n        return json;\n    } catch (Exception ex) {\n        throw new AssertionError(ex);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":384161,"reputation":1163,"user_id":740488,"accept_rate":57,"display_name":"gospodin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96068,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":5902142,"answer_count":7,"score":25,"last_activity_date":1692784081,"creation_date":1304618019,"question_id":5902090,"body_markdown":"In Java I have:\r\n\r\n    String params = &quot;depCity=PAR&amp;roomType=D&amp;depCity=NYC&quot;;\r\n\r\nI want to get values of `depCity` parameters (PAR,NYC).\r\n\r\nSo I created regex:\r\n\r\n    String regex = &quot;depCity=([^&amp;]+)&quot;;\r\n    Pattern p = Pattern.compile(regex);\r\n    Matcher m = p.matcher(params);\r\n\r\n`m.find()` is returning false. `m.groups()` is returning `IllegalArgumentException`.\r\n\r\nWhat am I doing wrong?","title":"How to extract parameters from a given url","body":"<p>In Java I have:</p>\n\n<pre><code>String params = \"depCity=PAR&amp;roomType=D&amp;depCity=NYC\";\n</code></pre>\n\n<p>I want to get values of <code>depCity</code> parameters (PAR,NYC).</p>\n\n<p>So I created regex:</p>\n\n<pre><code>String regex = \"depCity=([^&amp;]+)\";\nPattern p = Pattern.compile(regex);\nMatcher m = p.matcher(params);\n</code></pre>\n\n<p><code>m.find()</code> is returning false. <code>m.groups()</code> is returning <code>IllegalArgumentException</code>.</p>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","regex","regex-group"],"answers":[{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1303218089,"creation_date":1303218089,"answer_id":5716751,"question_id":5716703,"body_markdown":"Group 0 is the whole match. Real groups start with 1, i.e. you need this:\r\n\r\n    System.out.println(fileNameMatcher.group(i + 1)); ","title":"java.util.regex.Matcher confused group","body":"<p>Group 0 is the whole match. Real groups start with 1, i.e. you need this:</p>\n\n<pre><code>System.out.println(fileNameMatcher.group(i + 1)); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1303218151,"creation_date":1303218151,"answer_id":5716765,"question_id":5716703,"body_markdown":"  - `group(0)` should be the entire match (&quot;test_test_test_test_20110101_0000.xml&quot;);\r\n  - `group(1)` should be the sole capture group in your regex (&quot;20110101_0000&quot;).\r\n\r\nThis is what I am getting. I am puzzled as to why you&#39;d be getting a different value for `group(1)`.","title":"java.util.regex.Matcher confused group","body":"<ul>\n<li><code>group(0)</code> should be the entire match (\"test_test_test_test_20110101_0000.xml\");</li>\n<li><code>group(1)</code> should be the sole capture group in your regex (\"20110101_0000\").</li>\n</ul>\n\n<p>This is what I am getting. I am puzzled as to why you'd be getting a different value for <code>group(1)</code>.</p>\n"},{"tags":[],"owner":{"account_id":302544,"reputation":30455,"user_id":610979,"accept_rate":92,"display_name":"Frank Schmitt"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1303218245,"creation_date":1303218245,"answer_id":5716780,"question_id":5716703,"body_markdown":"Group(0) is the whole match, and group(1), group(2), ... are the sub-groups matched by the regular expression.  \r\nWhy do you expect &quot;test&quot; to be contained in your groups? You didn&#39;t define a group to match test (your regex contains only the group \\\\d*_\\\\d*).","title":"java.util.regex.Matcher confused group","body":"<p>Group(0) is the whole match, and group(1), group(2), ... are the sub-groups matched by the regular expression.<br>\nWhy do you expect \"test\" to be contained in your groups? You didn't define a group to match test (your regex contains only the group \\d*_\\d*).</p>\n"},{"tags":[],"owner":{"account_id":4036017,"reputation":361,"user_id":3320453,"display_name":"RobbySherwood"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393273413,"creation_date":1393273413,"answer_id":21998208,"question_id":5716703,"body_markdown":"actually your for loop should INCLUDE groupCount() using &quot;&lt;**=**&quot; :\r\n\r\n    for (int i = 0; i &lt;= fileNameMatcher.groupCount(); ++i) {\r\n        System.out.println(fileNameMatcher.group(i));\r\n    }\r\n\r\nthus your output then will be:\r\n\r\n    2\r\n    test_test_test_test_20110101_0000.xml\r\n    test\r\n    20110101_0000\r\n\r\nthe groupCount() will not count group 0 matching the whole string.\r\n\r\nfirst group will be &quot;test&quot; as matched by (\\\\w+) and \r\n\r\nsecond group will be &quot;20110101_0000&quot; as matched by (\\\\d*_\\\\d*)","title":"java.util.regex.Matcher confused group","body":"<p>actually your for loop should INCLUDE groupCount() using \"&lt;<strong>=</strong>\" :</p>\n\n<pre><code>for (int i = 0; i &lt;= fileNameMatcher.groupCount(); ++i) {\n    System.out.println(fileNameMatcher.group(i));\n}\n</code></pre>\n\n<p>thus your output then will be:</p>\n\n<pre><code>2\ntest_test_test_test_20110101_0000.xml\ntest\n20110101_0000\n</code></pre>\n\n<p>the groupCount() will not count group 0 matching the whole string.</p>\n\n<p>first group will be \"test\" as matched by (\\w+) and </p>\n\n<p>second group will be \"20110101_0000\" as matched by (\\d*_\\d*)</p>\n"}],"owner":{"account_id":368425,"reputation":2878,"user_id":715236,"accept_rate":80,"display_name":"Will"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2928,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5716780,"answer_count":4,"score":1,"last_activity_date":1692784072,"creation_date":1303217883,"question_id":5716703,"body_markdown":"I&#39;m having trouble getting the right group of a regex match. My code boils down to following:\r\n\r\n    Pattern fileNamePattern = Pattern.compile(&quot;\\\\w+_\\\\w+_\\\\w+_(\\\\w+)_(\\\\d*_\\\\d*)\\\\.xml&quot;);\r\n\tMatcher fileNameMatcher = fileNamePattern.matcher(&quot;test_test_test_test_20110101_0000.xml&quot;);\r\n\r\n\tSystem.out.println(fileNameMatcher.groupCount());\r\n\t\t\r\n\tif (fileNameMatcher.matches()) {\r\n\t\tfor (int i = 0; i &lt; fileNameMatcher.groupCount(); ++i) {\r\n\t\t\tSystem.out.println(fileNameMatcher.group(i));\r\n\t\t}\r\n\t}\r\n\r\nI expect the output to be:\r\n\r\n    2\r\n    test\r\n    20110101_0000\r\n\r\nHowever its:\r\n\r\n    2\r\n    test_test_test_test_20110101_0000.xml\r\n    test\r\n\r\nDoes anyone have an explanation?","title":"java.util.regex.Matcher confused group","body":"<p>I'm having trouble getting the right group of a regex match. My code boils down to following:</p>\n\n<pre><code>Pattern fileNamePattern = Pattern.compile(\"\\\\w+_\\\\w+_\\\\w+_(\\\\w+)_(\\\\d*_\\\\d*)\\\\.xml\");\nMatcher fileNameMatcher = fileNamePattern.matcher(\"test_test_test_test_20110101_0000.xml\");\n\nSystem.out.println(fileNameMatcher.groupCount());\n\nif (fileNameMatcher.matches()) {\n    for (int i = 0; i &lt; fileNameMatcher.groupCount(); ++i) {\n        System.out.println(fileNameMatcher.group(i));\n    }\n}\n</code></pre>\n\n<p>I expect the output to be:</p>\n\n<pre><code>2\ntest\n20110101_0000\n</code></pre>\n\n<p>However its:</p>\n\n<pre><code>2\ntest_test_test_test_20110101_0000.xml\ntest\n</code></pre>\n\n<p>Does anyone have an explanation?</p>\n"},{"tags":["java","regex","file","search"],"answers":[{"tags":[],"owner":{"account_id":57990,"reputation":3210,"user_id":173689,"accept_rate":85,"display_name":"Daniel Bleisteiner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300262709,"creation_date":1300262709,"answer_id":5322476,"question_id":5322452,"body_markdown":"Is &quot;little pig&quot; constantly terminated by any other character like space or linefeed? Then you might add this to the pattern.\r\n\r\n    String pattern = &quot;(little pig)[ \\\\r\\\\n]+&quot;;\r\n\r\n","title":"Setting up Matcher for String phrase that may include special characters as literals","body":"<p>Is \"little pig\" constantly terminated by any other character like space or linefeed? Then you might add this to the pattern.</p>\n\n<pre><code>String pattern = \"(little pig)[ \\\\r\\\\n]+\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":144642,"reputation":29072,"user_id":353852,"display_name":"krock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300263859,"creation_date":1300263093,"answer_id":5322517,"question_id":5322452,"body_markdown":"How about this pattern which will match any line that contains the string `little pig` only once:\r\n\r\n    ^.*little pig.*$\r\n\r\nWhich contains:\r\n\r\n* `^` start of line\r\n* `.*` zero or more chars\r\n* `$` end of line","title":"Setting up Matcher for String phrase that may include special characters as literals","body":"<p>How about this pattern which will match any line that contains the string <code>little pig</code> only once:</p>\n\n<pre><code>^.*little pig.*$\n</code></pre>\n\n<p>Which contains:</p>\n\n<ul>\n<li><code>^</code> start of line</li>\n<li><code>.*</code> zero or more chars</li>\n<li><code>$</code> end of line</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":159523,"reputation":12477,"user_id":378968,"accept_rate":87,"display_name":"Dead Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300263869,"creation_date":1300263869,"answer_id":5322631,"question_id":5322452,"body_markdown":"    String poet = &quot;3 little pigs built houses and 1 little pig went to the market&quot;;\r\n    Pattern p = Pattern.compile(&quot;(little pig)\\\\B&quot;);\r\n    Matcher m = p.matcher(poet);\r\n    List&lt;String&gt; idx = new ArrayList&lt;String&gt;();\r\n    idx.add(m.group());\r\n    System.out.println(idx);","title":"Setting up Matcher for String phrase that may include special characters as literals","body":"<pre><code>String poet = \"3 little pigs built houses and 1 little pig went to the market\";\nPattern p = Pattern.compile(\"(little pig)\\\\B\");\nMatcher m = p.matcher(poet);\nList&lt;String&gt; idx = new ArrayList&lt;String&gt;();\nidx.add(m.group());\nSystem.out.println(idx);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":335132,"reputation":1,"user_id":662048,"display_name":"randomCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1300327644,"creation_date":1300290992,"answer_id":5327989,"question_id":5322452,"body_markdown":"Edit 4 (final one): Totally forgot needing `\\\\s|^` at the start\r\n\r\nEdit 3: Did a bit of tweaking to take into account that char after searchString could be end of string `search P = Pattern.compile(&quot;\\\\s&quot;+Pattern.quote(searchString)+&quot;(\\\\s|$)&quot;);`\r\n\r\nEdit 2: Ok I got it! `searchP = Pattern.compile(&quot;\\\\s&quot;+Pattern.quote(searchString)+&quot;\\\\s&quot;);`\r\n\r\nNot sure why I didn&#39;t notice that quote method...oh well first time for everything :)\r\n\r\nEdit: Well turns out I got ahead of myself - code didn&#39;t help at all for special characters as literalP is converted to String in searchP and loses `LITERAL` rule for the user String.\r\n\r\nI think I got it! The following converts the user&#39;s string to a literal then puts it in new pattern that allows `\\\\s`. If anyone sees problems with it, though, please let me know.\r\n\r\n    Pattern literalP = Pattern.compile(searchString, Pattern.LITERAL);\r\n    Pattern searchP = Pattern.compile(&quot;\\\\s&quot;+literalPattern+&quot;\\\\s+&quot;);","title":"Setting up Matcher for String phrase that may include special characters as literals","body":"<p>Edit 4 (final one): Totally forgot needing <code>\\\\s|^</code> at the start</p>\n\n<p>Edit 3: Did a bit of tweaking to take into account that char after searchString could be end of string <code>search P = Pattern.compile(\"\\\\s\"+Pattern.quote(searchString)+\"(\\\\s|$)\");</code></p>\n\n<p>Edit 2: Ok I got it! <code>searchP = Pattern.compile(\"\\\\s\"+Pattern.quote(searchString)+\"\\\\s\");</code></p>\n\n<p>Not sure why I didn't notice that quote method...oh well first time for everything :)</p>\n\n<p>Edit: Well turns out I got ahead of myself - code didn't help at all for special characters as literalP is converted to String in searchP and loses <code>LITERAL</code> rule for the user String.</p>\n\n<p>I think I got it! The following converts the user's string to a literal then puts it in new pattern that allows <code>\\\\s</code>. If anyone sees problems with it, though, please let me know.</p>\n\n<pre><code>Pattern literalP = Pattern.compile(searchString, Pattern.LITERAL);\nPattern searchP = Pattern.compile(\"\\\\s\"+literalPattern+\"\\\\s+\");\n</code></pre>\n"}],"owner":{"account_id":335132,"reputation":1,"user_id":662048,"display_name":"randomCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":5327989,"answer_count":4,"score":0,"last_activity_date":1692784060,"creation_date":1300262466,"question_id":5322452,"body_markdown":"Having trouble figuring out how to match a phrase string to a phrase in file stream. The file I&#39;m dealing with contains random words such as:\r\n\r\n    3 little pigs built houses and 1 little pig went to the market\r\n\r\netc. for many lines. There might be special characters in the pattern string such as `V++ **A` so I need the `LITERAL` flag so they can be found instead of having a special meaning in regex.\r\n\r\nMy pattern is `pattern = Pattern.compile(searchString, Pattern.LITERAL);`\r\n\r\nUsing &quot;`little pig`&quot; as my pattern string and `matcher.find()` I can locate 2 matches: &quot;little pig&quot; and &quot;little pigs&quot;. However, I only want it to match &quot;little pig&quot;. \r\n\r\nWhat can I do? I thought about using `matcher.lookingAt()` or `matcher.matches()` but I wouldn&#39;t know how to set a proper region when I can&#39;t rely on the file string phrases I&#39;m matching being on separate lines.","title":"Setting up Matcher for String phrase that may include special characters as literals","body":"<p>Having trouble figuring out how to match a phrase string to a phrase in file stream. The file I'm dealing with contains random words such as:</p>\n\n<pre><code>3 little pigs built houses and 1 little pig went to the market\n</code></pre>\n\n<p>etc. for many lines. There might be special characters in the pattern string such as <code>V++ **A</code> so I need the <code>LITERAL</code> flag so they can be found instead of having a special meaning in regex.</p>\n\n<p>My pattern is <code>pattern = Pattern.compile(searchString, Pattern.LITERAL);</code></p>\n\n<p>Using \"<code>little pig</code>\" as my pattern string and <code>matcher.find()</code> I can locate 2 matches: \"little pig\" and \"little pigs\". However, I only want it to match \"little pig\". </p>\n\n<p>What can I do? I thought about using <code>matcher.lookingAt()</code> or <code>matcher.matches()</code> but I wouldn't know how to set a proper region when I can't rely on the file string phrases I'm matching being on separate lines.</p>\n"},{"tags":["java","http","post","byte","nashorn"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1692783525,"post_id":76960068,"comment_id":135670242,"body_markdown":"What&#39;s inside `content_pack`? Looks like the problem is that it contains `&quot;content-pack\\&quot;: \\&quot;[B@5e3b67a5\\&quot;`","body":"What&#39;s inside <code>content_pack</code>? Looks like the problem is that it contains <code>&quot;content-pack\\&quot;: \\&quot;[B@5e3b67a5\\&quot;</code>"},{"owner":{"account_id":288263,"reputation":1099,"user_id":2360915,"accept_rate":85,"display_name":"user2360915"},"score":0,"creation_date":1692783613,"post_id":76960068,"comment_id":135670258,"body_markdown":"content_pack (or mycontent in the code) is a zip file, that&#39;s the data I want to send over.","body":"content_pack (or mycontent in the code) is a zip file, that&#39;s the data I want to send over."},{"owner":{"account_id":288263,"reputation":1099,"user_id":2360915,"accept_rate":85,"display_name":"user2360915"},"score":0,"creation_date":1692784101,"post_id":76960068,"comment_id":135670343,"body_markdown":"I added a sample for the kind of data I have in content_pack","body":"I added a sample for the kind of data I have in content_pack"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1692784445,"post_id":76960068,"comment_id":135670407,"body_markdown":"I&#39;m a bit hazy maybe, but what happens if you remove `.toString().getBytes()` from the line where you decode the Base64-encoded zip?","body":"I&#39;m a bit hazy maybe, but what happens if you remove <code>.toString().getBytes()</code> from the line where you decode the Base64-encoded zip?"},{"owner":{"account_id":288263,"reputation":1099,"user_id":2360915,"accept_rate":85,"display_name":"user2360915"},"score":0,"creation_date":1692785009,"post_id":76960068,"comment_id":135670508,"body_markdown":"With httpbin now i am getting something that looks much more of something I was expecting {\n    &quot;data&quot;: &quot;{  \\&quot;args\\&quot;: {},   \\&quot;data\\&quot;: \\&quot;\\&quot;,   \\&quot;files\\&quot;: {    \\&quot;content-pack\\&quot;: \\&quot;data:application/octet-stream;base64,UEsDBBQACAgIAGFPF1cAAAAAAAAAAAAAAAAQAAAAY29udGVudC1wYWNrLmphcqWXeThUff/Hx76UsmUpO9masc...\\&quot;  },   ... however, my server still send me a 500, so the issue might be somewhere else.","body":"With httpbin now i am getting something that looks much more of something I was expecting {     &quot;data&quot;: &quot;{  \\&quot;args\\&quot;: {},   \\&quot;data\\&quot;: \\&quot;\\&quot;,   \\&quot;files\\&quot;: {    \\&quot;content-pack\\&quot;: \\&quot;data:application/octet-stream;base64,UEsDBBQACAgIAGFPF1cAA&zwnj;&#8203;AAAAAAAAAAAAAAQAAAAY&zwnj;&#8203;29udGVudC1wYWNrLmphc&zwnj;&#8203;qWXeThUff/Hx76UsmUpO&zwnj;&#8203;9masc...\\&quot;  },   ... however, my server still send me a 500, so the issue might be somewhere else."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692788217,"post_id":76960068,"comment_id":135671089,"body_markdown":"You&#39;re using the `toString` of your byte array instead of its contents (or were before I refreshed)","body":"You&#39;re using the <code>toString</code> of your byte array instead of its contents (or were before I refreshed)"}],"owner":{"account_id":288263,"reputation":1099,"user_id":2360915,"accept_rate":85,"display_name":"user2360915"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692784043,"creation_date":1692783209,"question_id":76960068,"body_markdown":"Note: I am running the following code in Nashorn.\r\nI have a file downloaded by the application and the raw content stored in a variable encoded in base64, and I want to send this over http in a multipart form.\r\n\r\nI tried many things but it looks like I am missing something in the way I am sending bytes over.\r\n\r\n    //some code before to get the bearer token, no issue with that\r\n    var boundary = java.util.UUID.randomUUID().toString();\r\n    var headers = {\r\n       &quot;Authorization&quot;: &quot;Bearer &quot;+ token,\r\n       &quot;Transfer-Encoding&quot;: &quot;chunked&quot;,\r\n       &quot;Content-Type&quot;: &quot;multipart/form-data; boundary=&quot; + boundary\r\n    };\r\n    var con = new java.net.URL(&quot;theUrl&quot;).openConnection();\r\n    con.requestMethod = &quot;POST&quot;;\r\n    var hk = Object.keys(headers);\r\n    for (var key of hk){\r\n        con.setRequestProperty(key, headers[key]);\r\n    }\r\n    // Send post request\r\n    con.doOutput=true;\r\n    var rn=&quot;\\r\\n&quot;;\r\n    var dos = new java.io.DataOutputStream(con.outputStream);\r\n    var b64 = Java.type(&quot;java.util.Base64&quot;);\r\n    dos.writeBytes(&quot;--&quot; + boundary + rn);\r\n    dos.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;mycontent\\&quot;; filename=\\&quot;mycontent.zip\\&quot;&quot; + rn);\r\n    dos.writeBytes(&quot;Content-Type: application/octet-stream&quot; + rn);\r\n    dos.writeBytes(&quot;Content-Transfer-Encoding: binary&quot; + rn);\r\n    dos.writeBytes(rn);\r\n    mydata = b64.getDecoder().decode(content_pack).toString().getBytes(); //here is probably my problem\r\n    dos.write(mydata, 0, mydata.length); //or maybe here?\r\n    dos.writeBytes(rn); \r\n    dos.flush(); \r\n    // End of multipart/form-data.\r\n    dos.writeBytes(&quot;--&quot; + boundary + &quot;--&quot; + rn);\r\n    dos.flush();\r\n    dos.close();    \r\n    \r\n    asResponse(con); //just read the response and return a json object\r\n\r\nThe above sent to httpbin.org would result as the following :\r\n\r\n    {\r\n    &quot;data&quot;: &quot;{  \\&quot;args\\&quot;: {},   \\&quot;data\\&quot;: \\&quot;\\&quot;,   \\&quot;files\\&quot;: {    \\&quot;content-pack\\&quot;: \\&quot;[B@5e3b67a5\\&quot;  },   \\&quot;form\\&quot;: {},   \\&quot;headers\\&quot;: {    \\&quot;Accept\\&quot;: \\&quot;text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\\&quot;,     \\&quot;Authorization\\&quot;: \\&quot;Bearer Dab35ZB60lIdgI\\&quot;,     \\&quot;Content-Length\\&quot;: \\&quot;254\\&quot;,     \\&quot;Content-Type\\&quot;: \\&quot;multipart/form-data;boundary=b9aff414-4066-4e4b-9165-fc315ca4e02e\\&quot;,     \\&quot;Host\\&quot;: \\&quot;httpbin.org\\&quot;,     \\&quot;User-Agent\\&quot;: \\&quot;Java/11.0.20\\&quot;,     \\&quot;X-Amzn-Trace-Id\\&quot;: \\&quot;Root=1-64e5cbc3-3feefbcc4bcb86c374402dc8\\&quot;  },   \\&quot;json\\&quot;: null,   \\&quot;origin\\&quot;: \\&quot;111.1.26.12\\&quot;,   \\&quot;url\\&quot;: \\&quot;https://httpbin.org/post\\&quot;}&quot;,\r\n    &quot;headers&quot;: {\r\n        &quot;null&quot;: &quot;HTTP/1.1 200 OK&quot;,\r\n        &quot;Server&quot;: &quot;gunicorn/19.9.0&quot;,\r\n        &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;,\r\n        &quot;Access-Control-Allow-Credentials&quot;: &quot;true&quot;,\r\n        &quot;Connection&quot;: &quot;keep-alive&quot;,\r\n        &quot;Content-Length&quot;: &quot;587&quot;,\r\n        &quot;Date&quot;: &quot;Wed, 23 Aug 2023 09:05:08 GMT&quot;,\r\n        &quot;Content-Type&quot;: &quot;application/json&quot;\r\n    },\r\n    &quot;statusCode&quot;: 200}\r\n\r\nAnd sent to the real server that would just give me a 500 error with no explanation.\r\nNow, I cant use ByteArrayBody because the class is not found on the system the code should run, so I need to stick to the bare minimum.\r\n\r\nIf would appreciate very much if someone could help and let me know what I am doing wrong.\r\nThanks a lot.\r\n\r\n===\r\nExample of base64 encoded zip file\r\n\r\n    UEsDBBQAAAAAAFyVF1cAAAAAAAAAAAAAAAAJACAAY29udGVudDEvVVQNAAeh1OVkp9TlZK3U5WR1eAsAAQS2FQQ2BFtqZANQSwMEFAAIAAgAS5UXVwAAAAAAAAAABBgAABIAIABjb250ZW50MS8uRFNfU3RvcmVVVA0AB3/U5WSd1OVkf9TlZHV4CwABBLYVBDYEW2pkA+2YOw7CMBBEZ40LSzQuKd1wAG5gRckJuAAFV6D30SHaEbIUUlAlgnmS9VaKf2kcTwDY8LhfgAwgwY0zPpLYFoSuNs4hhBBCiH1jrnTcdhtCiB0ynw+FrnRzG58HOnZjMl3oSje3sV+gI53oTBe60s3NQ8sYPowrGxOKMYVYoetXryzE33Bw5fn7P2E1/wshfhiL43Uc8A4Eyw6vduvqhvVLQPCfhadubKEr3dy6CAixFU9QSwcIagCIbbIAAAAEGAAAUEsDBBQACAAIAEuVF1cAAAAAAAAAAHgAAAAdACAAX19NQUNPU1gvY29udGVudDEvLl8uRFNfU3RvcmVVVA0AB3/U5WSd1OVksdTlZHV4CwABBLYVBDYEW2pkA2NgFWNnYGJg8E1MVvAPVohQgAKQGAMnEBsBsRsQg/gVQMwAU+EgwIADOIaEBEGZFTBd6AAAUEsHCAuIwDg1AAAAeAAAAFBLAwQUAAgACABclRdXAAAAAAAAAAASAAAAGwAgAGNvbnRlbnQxL0EgZGF0YSBmaWxlIHppcHBlZFVUDQAHodTlZKHU5WSh1OVkdXgLAAEEthUENgRbamQDc1RISSxJVEjLzElVqMosKEhNAQBQSwcIht83GRQAAAASAAAAUEsBAhQDFAAAAAAAXJUXVwAAAAAAAAAAAAAAAAkAIAAAAAAAAAAAAMBBAAAAAGNvbnRlbnQxL1VUDQAHodTlZKfU5WSt1OVkdXgLAAEEthUENgRbamQDUEsBAhQDFAAIAAgAS5UXV2oAiG2yAAAABBgAABIAIAAAAAAAAAAAAKSBRwAAAGNvbnRlbnQxLy5EU19TdG9yZVVUDQAHf9TlZJ3U5WR/1OVkdXgLAAEEthUENgRbamQDUEsBAhQDFAAIAAgAS5UXVwuIwDg1AAAAeAAAAB0AIAAAAAAAAAAAAKSBWQEAAF9fTUFDT1NYL2NvbnRlbnQxLy5fLkRTX1N0b3JlVVQNAAd/1OVkndTlZLHU5WR1eAsAAQS2FQQ2BFtqZANQSwECFAMUAAgACABclRdXht83GRQAAAASAAAAGwAgAAAAAAAAAAAApIH5AQAAY29udGVudDEvQSBkYXRhIGZpbGUgemlwcGVkVVQNAAeh1OVkodTlZKHU5WR1eAsAAQS2FQQ2BFtqZANQSwUGAAAAAAQABACLAQAAdgIAAAAA\r\n\r\n\r\n ","title":"How to post a file to url without saving the data to disk?","body":"<p>Note: I am running the following code in Nashorn.\nI have a file downloaded by the application and the raw content stored in a variable encoded in base64, and I want to send this over http in a multipart form.</p>\n<p>I tried many things but it looks like I am missing something in the way I am sending bytes over.</p>\n<pre><code>//some code before to get the bearer token, no issue with that\nvar boundary = java.util.UUID.randomUUID().toString();\nvar headers = {\n   &quot;Authorization&quot;: &quot;Bearer &quot;+ token,\n   &quot;Transfer-Encoding&quot;: &quot;chunked&quot;,\n   &quot;Content-Type&quot;: &quot;multipart/form-data; boundary=&quot; + boundary\n};\nvar con = new java.net.URL(&quot;theUrl&quot;).openConnection();\ncon.requestMethod = &quot;POST&quot;;\nvar hk = Object.keys(headers);\nfor (var key of hk){\n    con.setRequestProperty(key, headers[key]);\n}\n// Send post request\ncon.doOutput=true;\nvar rn=&quot;\\r\\n&quot;;\nvar dos = new java.io.DataOutputStream(con.outputStream);\nvar b64 = Java.type(&quot;java.util.Base64&quot;);\ndos.writeBytes(&quot;--&quot; + boundary + rn);\ndos.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;mycontent\\&quot;; filename=\\&quot;mycontent.zip\\&quot;&quot; + rn);\ndos.writeBytes(&quot;Content-Type: application/octet-stream&quot; + rn);\ndos.writeBytes(&quot;Content-Transfer-Encoding: binary&quot; + rn);\ndos.writeBytes(rn);\nmydata = b64.getDecoder().decode(content_pack).toString().getBytes(); //here is probably my problem\ndos.write(mydata, 0, mydata.length); //or maybe here?\ndos.writeBytes(rn); \ndos.flush(); \n// End of multipart/form-data.\ndos.writeBytes(&quot;--&quot; + boundary + &quot;--&quot; + rn);\ndos.flush();\ndos.close();    \n\nasResponse(con); //just read the response and return a json object\n</code></pre>\n<p>The above sent to httpbin.org would result as the following :</p>\n<pre><code>{\n&quot;data&quot;: &quot;{  \\&quot;args\\&quot;: {},   \\&quot;data\\&quot;: \\&quot;\\&quot;,   \\&quot;files\\&quot;: {    \\&quot;content-pack\\&quot;: \\&quot;[B@5e3b67a5\\&quot;  },   \\&quot;form\\&quot;: {},   \\&quot;headers\\&quot;: {    \\&quot;Accept\\&quot;: \\&quot;text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\\&quot;,     \\&quot;Authorization\\&quot;: \\&quot;Bearer Dab35ZB60lIdgI\\&quot;,     \\&quot;Content-Length\\&quot;: \\&quot;254\\&quot;,     \\&quot;Content-Type\\&quot;: \\&quot;multipart/form-data;boundary=b9aff414-4066-4e4b-9165-fc315ca4e02e\\&quot;,     \\&quot;Host\\&quot;: \\&quot;httpbin.org\\&quot;,     \\&quot;User-Agent\\&quot;: \\&quot;Java/11.0.20\\&quot;,     \\&quot;X-Amzn-Trace-Id\\&quot;: \\&quot;Root=1-64e5cbc3-3feefbcc4bcb86c374402dc8\\&quot;  },   \\&quot;json\\&quot;: null,   \\&quot;origin\\&quot;: \\&quot;111.1.26.12\\&quot;,   \\&quot;url\\&quot;: \\&quot;https://httpbin.org/post\\&quot;}&quot;,\n&quot;headers&quot;: {\n    &quot;null&quot;: &quot;HTTP/1.1 200 OK&quot;,\n    &quot;Server&quot;: &quot;gunicorn/19.9.0&quot;,\n    &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;,\n    &quot;Access-Control-Allow-Credentials&quot;: &quot;true&quot;,\n    &quot;Connection&quot;: &quot;keep-alive&quot;,\n    &quot;Content-Length&quot;: &quot;587&quot;,\n    &quot;Date&quot;: &quot;Wed, 23 Aug 2023 09:05:08 GMT&quot;,\n    &quot;Content-Type&quot;: &quot;application/json&quot;\n},\n&quot;statusCode&quot;: 200}\n</code></pre>\n<p>And sent to the real server that would just give me a 500 error with no explanation.\nNow, I cant use ByteArrayBody because the class is not found on the system the code should run, so I need to stick to the bare minimum.</p>\n<p>If would appreciate very much if someone could help and let me know what I am doing wrong.\nThanks a lot.</p>\n<p>===\nExample of base64 encoded zip file</p>\n<pre><code>UEsDBBQAAAAAAFyVF1cAAAAAAAAAAAAAAAAJACAAY29udGVudDEvVVQNAAeh1OVkp9TlZK3U5WR1eAsAAQS2FQQ2BFtqZANQSwMEFAAIAAgAS5UXVwAAAAAAAAAABBgAABIAIABjb250ZW50MS8uRFNfU3RvcmVVVA0AB3/U5WSd1OVkf9TlZHV4CwABBLYVBDYEW2pkA+2YOw7CMBBEZ40LSzQuKd1wAG5gRckJuAAFV6D30SHaEbIUUlAlgnmS9VaKf2kcTwDY8LhfgAwgwY0zPpLYFoSuNs4hhBBCiH1jrnTcdhtCiB0ynw+FrnRzG58HOnZjMl3oSje3sV+gI53oTBe60s3NQ8sYPowrGxOKMYVYoetXryzE33Bw5fn7P2E1/wshfhiL43Uc8A4Eyw6vduvqhvVLQPCfhadubKEr3dy6CAixFU9QSwcIagCIbbIAAAAEGAAAUEsDBBQACAAIAEuVF1cAAAAAAAAAAHgAAAAdACAAX19NQUNPU1gvY29udGVudDEvLl8uRFNfU3RvcmVVVA0AB3/U5WSd1OVksdTlZHV4CwABBLYVBDYEW2pkA2NgFWNnYGJg8E1MVvAPVohQgAKQGAMnEBsBsRsQg/gVQMwAU+EgwIADOIaEBEGZFTBd6AAAUEsHCAuIwDg1AAAAeAAAAFBLAwQUAAgACABclRdXAAAAAAAAAAASAAAAGwAgAGNvbnRlbnQxL0EgZGF0YSBmaWxlIHppcHBlZFVUDQAHodTlZKHU5WSh1OVkdXgLAAEEthUENgRbamQDc1RISSxJVEjLzElVqMosKEhNAQBQSwcIht83GRQAAAASAAAAUEsBAhQDFAAAAAAAXJUXVwAAAAAAAAAAAAAAAAkAIAAAAAAAAAAAAMBBAAAAAGNvbnRlbnQxL1VUDQAHodTlZKfU5WSt1OVkdXgLAAEEthUENgRbamQDUEsBAhQDFAAIAAgAS5UXV2oAiG2yAAAABBgAABIAIAAAAAAAAAAAAKSBRwAAAGNvbnRlbnQxLy5EU19TdG9yZVVUDQAHf9TlZJ3U5WR/1OVkdXgLAAEEthUENgRbamQDUEsBAhQDFAAIAAgAS5UXVwuIwDg1AAAAeAAAAB0AIAAAAAAAAAAAAKSBWQEAAF9fTUFDT1NYL2NvbnRlbnQxLy5fLkRTX1N0b3JlVVQNAAd/1OVkndTlZLHU5WR1eAsAAQS2FQQ2BFtqZANQSwECFAMUAAgACABclRdXht83GRQAAAASAAAAGwAgAAAAAAAAAAAApIH5AQAAY29udGVudDEvQSBkYXRhIGZpbGUgemlwcGVkVVQNAAeh1OVkodTlZKHU5WR1eAsAAQS2FQQ2BFtqZANQSwUGAAAAAAQABACLAQAAdgIAAAAA\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":180820,"reputation":75,"user_id":414383,"display_name":"Keith &#211; D&#250;laigh"},"score":0,"creation_date":1298145602,"post_id":5034465,"comment_id":5656969,"body_markdown":"It is okay now but the problem was that I didn&#39;t know how to &quot;ask Java&quot; what it is using as the \\\\w. In the above, Java is using \\\\w to mean the letter &#39;y&#39;. $1 was the syntax that I needed.","body":"It is okay now but the problem was that I didn&#39;t know how to &quot;ask Java&quot; what it is using as the \\\\w. In the above, Java is using \\\\w to mean the letter &#39;y&#39;. $1 was the syntax that I needed."}],"answers":[{"tags":[],"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1297976221,"creation_date":1297975870,"answer_id":5034491,"question_id":5034465,"body_markdown":"Your question is not so clear, but I think you want to use a lookahead:\r\n\r\n    Pattern p = Pattern.compile(&quot;Mar(?=\\\\w)&quot;);\r\n    Matcher m = p.matcher(&quot;Mary&quot;);\r\n    String result = m.replaceAll(&quot;&quot;);\r\n\r\nSee it online: [ideone][1]\r\n\r\n[1]: http://ideone.com/6ercj\r\n\r\nOr you could use a capturing group:\r\n\r\n    Pattern p = Pattern.compile(&quot;Mar(\\\\w)&quot;);\r\n    Matcher m = p.matcher(&quot;Mary&quot;);\r\n    String result = m.replaceAll(&quot;$1&quot;);\r\n\r\nSee it online: [ideone][2]\r\n\r\n[2]: http://ideone.com/PDtBm\r\n","title":"Java Regular Expressions","body":"<p>Your question is not so clear, but I think you want to use a lookahead:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"Mar(?=\\\\w)\");\nMatcher m = p.matcher(\"Mary\");\nString result = m.replaceAll(\"\");\n</code></pre>\n\n<p>See it online: <a href=\"http://ideone.com/6ercj\" rel=\"nofollow\">ideone</a></p>\n\n<p>Or you could use a capturing group:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"Mar(\\\\w)\");\nMatcher m = p.matcher(\"Mary\");\nString result = m.replaceAll(\"$1\");\n</code></pre>\n\n<p>See it online: <a href=\"http://ideone.com/PDtBm\" rel=\"nofollow\">ideone</a></p>\n"}],"owner":{"account_id":180820,"reputation":75,"user_id":414383,"display_name":"Keith &#211; D&#250;laigh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":5034491,"answer_count":1,"score":3,"last_activity_date":1692784016,"creation_date":1297975702,"question_id":5034465,"body_markdown":"I am trying to write something like this:\r\n\r\n    Pattern p = Pattern.compile(&quot;Mar\\\\w&quot;);\r\n    Matcher m = p.matcher(&quot;Mary&quot;);\r\n\r\n    String result = m.replaceAll(&quot;\\\\w&quot;);\r\n\r\nThe result would ideally be `&quot;y&quot;`. Any ideas?\r\n","title":"Java Regular Expressions","body":"<p>I am trying to write something like this:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"Mar\\\\w\");\nMatcher m = p.matcher(\"Mary\");\n\nString result = m.replaceAll(\"\\\\w\");\n</code></pre>\n\n<p>The result would ideally be <code>\"y\"</code>. Any ideas?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1692773159,"post_id":76958904,"comment_id":135668274,"body_markdown":"Try hitting the gradle refresh button on the top right of your editor tab","body":"Try hitting the gradle refresh button on the top right of your editor tab"},{"owner":{"account_id":18792585,"reputation":1,"user_id":13704726,"display_name":"Robert Russell Monsalud"},"score":0,"creation_date":1692773710,"post_id":76958904,"comment_id":135668381,"body_markdown":"I tried to click the gradle refresh button on the top right but the run button is still not enabled.","body":"I tried to click the gradle refresh button on the top right but the run button is still not enabled."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1692776479,"post_id":76958904,"comment_id":135668895,"body_markdown":"The presence of the `mvnw` files suggests that this is using a Maven build and not a Gradle build. IDEA supports both, but you might have imported the project wrong and/or might need to enable the Maven tool window.","body":"The presence of the <code>mvnw</code> files suggests that this is using a Maven build and not a Gradle build. IDEA supports both, but you might have imported the project wrong and/or might need to enable the Maven tool window."},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692779791,"post_id":76958904,"comment_id":135669493,"body_markdown":"Have you set up java sdk?","body":"Have you set up java sdk?"}],"answers":[{"tags":[],"owner":{"account_id":6441151,"reputation":413,"user_id":4991139,"display_name":"Gunnar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692774408,"creation_date":1692774408,"answer_id":76959035,"question_id":76958904,"body_markdown":"- The bell with the red dot indicates some error.\r\n- The refresh button top right in the editor indicates that Maven need dependency refresh.\r\n- And after right click / run on the DemoApplication it should appear in the run configuration list.","title":"Unable to run a Java code in IntelliJ (Spring Boot)","body":"<ul>\n<li>The bell with the red dot indicates some error.</li>\n<li>The refresh button top right in the editor indicates that Maven need dependency refresh.</li>\n<li>And after right click / run on the DemoApplication it should appear in the run configuration list.</li>\n</ul>\n"}],"owner":{"account_id":18792585,"reputation":1,"user_id":13704726,"display_name":"Robert Russell Monsalud"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1692783960,"creation_date":1692773105,"question_id":76958904,"body_markdown":"I am currently a beginner in Java especially in Spring Boot and I am trying to execute a Java code in IntelliJ. However, the run button is not enabled. May I know the possible cause of this problem? \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe run button is enabled. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K3LO0.png","title":"Unable to run a Java code in IntelliJ (Spring Boot)","body":"<p>I am currently a beginner in Java especially in Spring Boot and I am trying to execute a Java code in IntelliJ. However, the run button is not enabled. May I know the possible cause of this problem?</p>\n<p><a href=\"https://i.stack.imgur.com/K3LO0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K3LO0.png\" alt=\"enter image description here\" /></a></p>\n<p>The run button is enabled.</p>\n"},{"tags":["java","regex","greedy","character-class"],"answers":[{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1296239366,"creation_date":1296239366,"answer_id":4831742,"question_id":4831697,"body_markdown":"You need a negative lookbehind:\r\n\r\n    (?&lt;!\\d)(0::\\d{1,8})\r\n\r\nIt means &quot;match `0::\\d{1,8}` not preceded by `\\d`&quot;.","title":"Match input starting with non-number or empty string followed by specific pattern","body":"<p>You need a negative lookbehind:</p>\n\n<pre><code>(?&lt;!\\d)(0::\\d{1,8})\n</code></pre>\n\n<p>It means \"match <code>0::\\d{1,8}</code> not preceded by <code>\\d</code>\".</p>\n"}],"owner":{"account_id":202528,"reputation":9635,"user_id":449652,"accept_rate":70,"display_name":"Dave L."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4831742,"answer_count":1,"score":0,"last_activity_date":1692783765,"creation_date":1296239087,"question_id":4831697,"body_markdown":"I&#39;m using Java regular expressions to match and capture a string such as:\r\n\r\n`0::10000`\r\n\r\nA solution would be:\r\n\r\n`(0::\\d{1,8})`\r\n\r\nHowever, the match would succeed for the input\r\n\r\n`10::10000`\r\n\r\nAs well, which is wrong. Therefore, I now have:\r\n\r\n`\\[^\\d\\](0::\\d{1,8})`\r\n\r\nWhich means it must lead with any character except a number, but that means there needs to be **some** character before the first zero. What I really want (and what I need help with) is to say &quot;lead with a non-number or nothing at all.&quot;\r\n\r\nIn conclusion the final solution regular expression **should match** the following:\r\n\r\n```lang-none\r\n0::10000\r\nkjkj0::10000\r\n```\r\n\r\nAnd **should not** match the following:\r\n\r\n```lang-none\r\n10::10000\r\n```\r\n\r\n&lt;a href=&quot;http://www.regexplanet.com/simple/index.html&quot;&gt;This site&lt;/a&gt; may be of use if someone wants to help.\r\n","title":"Match input starting with non-number or empty string followed by specific pattern","body":"<p>I'm using Java regular expressions to match and capture a string such as:</p>\n<p><code>0::10000</code></p>\n<p>A solution would be:</p>\n<p><code>(0::\\d{1,8})</code></p>\n<p>However, the match would succeed for the input</p>\n<p><code>10::10000</code></p>\n<p>As well, which is wrong. Therefore, I now have:</p>\n<p><code>\\[^\\d\\](0::\\d{1,8})</code></p>\n<p>Which means it must lead with any character except a number, but that means there needs to be <strong>some</strong> character before the first zero. What I really want (and what I need help with) is to say &quot;lead with a non-number or nothing at all.&quot;</p>\n<p>In conclusion the final solution regular expression <strong>should match</strong> the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>0::10000\nkjkj0::10000\n</code></pre>\n<p>And <strong>should not</strong> match the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>10::10000\n</code></pre>\n<p><a href=\"http://www.regexplanet.com/simple/index.html\" rel=\"nofollow noreferrer\">This site</a> may be of use if someone wants to help.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":33759,"reputation":36049,"user_id":94813,"accept_rate":70,"display_name":"Rakesh Juyal"},"score":0,"creation_date":1295696247,"post_id":4767456,"comment_id":5275561,"body_markdown":"`String replaceStr = File.separator + File.separator;`   this will work :)","body":"<code>String replaceStr = File.separator + File.separator;</code>   this will work :)"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1295695219,"creation_date":1295694893,"answer_id":4767485,"question_id":4767456,"body_markdown":"     String str = &quot; \\\\server\\\\share\\\\&quot;;\r\n     String result = str.replaceAll(&quot;\\\\\\\\&quot;, &quot;%%&quot;);\r\n     System.out.println(result);\r\n\r\n\r\n**Output**\r\n\r\n     %%server%%share%%\r\n\r\nand back\r\n\r\n    String path=null;\r\n    if (File.separator.equals(&quot;\\\\&quot;)) {\r\n        path = result.replaceAll(&quot;%%&quot;, &quot;\\\\\\\\&quot;);\r\n    } else {\r\n        path = result.replaceAll(&quot;%%&quot;, &quot;//&quot;);\r\n    }","title":"Replacing character with File.separator using java.regex Pattern Matcher","body":"<pre><code> String str = \" \\\\server\\\\share\\\\\";\n String result = str.replaceAll(\"\\\\\\\\\", \"%%\");\n System.out.println(result);\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code> %%server%%share%%\n</code></pre>\n\n<p>and back</p>\n\n<pre><code>String path=null;\nif (File.separator.equals(\"\\\\\")) {\n    path = result.replaceAll(\"%%\", \"\\\\\\\\\");\n} else {\n    path = result.replaceAll(\"%%\", \"//\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1295695838,"creation_date":1295695838,"answer_id":4767550,"question_id":4767456,"body_markdown":"I think you should store URIs in your database because they are platform independent.\r\n\r\nExample, in **Windows**:\r\n\r\n    File f = new File(&quot;C:\\\\temp\\\\file.txt&quot;);\r\n    System.out.println(f.toURI());\r\n\r\nprints\r\n\r\n    file:/C:/temp/file.txt\r\n\r\nOn **Unix**:\r\n\r\n    File f = new File(&quot;/path/to/file.txt&quot;);\r\n    System.out.println(f.toURI());\r\n\r\nprints\r\n\r\n    file:/path/to/file.txt\r\n\r\n\r\n**To convert a URI to File:**\r\n\r\n    File f = new File(new URI(&quot;file:/C:/temp/file.txt&quot;));","title":"Replacing character with File.separator using java.regex Pattern Matcher","body":"<p>I think you should store URIs in your database because they are platform independent.</p>\n\n<p>Example, in <strong>Windows</strong>:</p>\n\n<pre><code>File f = new File(\"C:\\\\temp\\\\file.txt\");\nSystem.out.println(f.toURI());\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>file:/C:/temp/file.txt\n</code></pre>\n\n<p>On <strong>Unix</strong>:</p>\n\n<pre><code>File f = new File(\"/path/to/file.txt\");\nSystem.out.println(f.toURI());\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>file:/path/to/file.txt\n</code></pre>\n\n<p><strong>To convert a URI to File:</strong></p>\n\n<pre><code>File f = new File(new URI(\"file:/C:/temp/file.txt\"));\n</code></pre>\n"}],"owner":{"account_id":702322,"reputation":1,"user_id":585521,"display_name":"Deepak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4869,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692783715,"creation_date":1295694505,"question_id":4767456,"body_markdown":"I have a field called &#39;path&#39; in back end database, which stores the path to certain resource. Instead of storing lots of backslashed (escaped) path for windows path, my idea is to let user enter the path with certain character as file separator (independent of OS).\r\n\r\nFor example:\r\n\r\noriginal path: \r\n  \r\n    \\\\\\\\server\\\\share\\\\\r\n\r\nwith escaped path in db: \r\n\r\n    \\\\\\\\\\\\\\\\server\\\\\\\\share\\\\\\\\\r\n\r\ninstead I want: \r\n\r\n    %%server%share%\r\n\r\nand later I wanted to replace those with java&#39;s `File.separator` for the real thing. For this job, the quickest solution I found is to use the java.regex Pattern Matcher.\r\n\r\nMy function for this job is:\r\n\r\n    private String convertToRealPathFromDB(String pth) {\r\n        String patternStr = &quot;%&quot;;\r\n        String replaceStr = File.separator;\r\n        String convertedpath;\r\n\r\n\r\n        //Compile regular expression\r\n        Pattern pattern = Pattern.compile(patternStr); //pattern to look for\r\n\r\n        //replace all occurance of percentage character to file separator\r\n        Matcher matcher = pattern.matcher(pth);\r\n        convertedpath = matcher.replaceAll(replaceStr);\r\n\r\n        System.out.println(convertedpath);\r\n\r\n        return convertedpath;\r\n    }\r\n\r\n\r\nbut the same File.separator which was supposed to save life is creating trouble with \r\n\r\n&gt; java.lang.StringIndexOutOfBoundsException: String index out of range: 1\r\n\r\nI have tested with other characters (for example: replace &#39;%&#39; with &#39;q&#39;) and this function works fine but `File.separator` and `&quot;\\\\\\\\&quot;` as replace string is not working.\r\n\r\nI like to know it there is workaround for this. Or better, easier and elegant solution.\r\n\r\n","title":"Replacing character with File.separator using java.regex Pattern Matcher","body":"<p>I have a field called 'path' in back end database, which stores the path to certain resource. Instead of storing lots of backslashed (escaped) path for windows path, my idea is to let user enter the path with certain character as file separator (independent of OS).</p>\n\n<p>For example:</p>\n\n<p>original path: </p>\n\n<pre><code>\\\\\\\\server\\\\share\\\\\n</code></pre>\n\n<p>with escaped path in db: </p>\n\n<pre><code>\\\\\\\\\\\\\\\\server\\\\\\\\share\\\\\\\\\n</code></pre>\n\n<p>instead I want: </p>\n\n<pre><code>%%server%share%\n</code></pre>\n\n<p>and later I wanted to replace those with java's <code>File.separator</code> for the real thing. For this job, the quickest solution I found is to use the java.regex Pattern Matcher.</p>\n\n<p>My function for this job is:</p>\n\n<pre><code>private String convertToRealPathFromDB(String pth) {\n    String patternStr = \"%\";\n    String replaceStr = File.separator;\n    String convertedpath;\n\n\n    //Compile regular expression\n    Pattern pattern = Pattern.compile(patternStr); //pattern to look for\n\n    //replace all occurance of percentage character to file separator\n    Matcher matcher = pattern.matcher(pth);\n    convertedpath = matcher.replaceAll(replaceStr);\n\n    System.out.println(convertedpath);\n\n    return convertedpath;\n}\n</code></pre>\n\n<p>but the same File.separator which was supposed to save life is creating trouble with </p>\n\n<blockquote>\n  <p>java.lang.StringIndexOutOfBoundsException: String index out of range: 1</p>\n</blockquote>\n\n<p>I have tested with other characters (for example: replace '%' with 'q') and this function works fine but <code>File.separator</code> and <code>\"\\\\\\\\\"</code> as replace string is not working.</p>\n\n<p>I like to know it there is workaround for this. Or better, easier and elegant solution.</p>\n"},{"tags":["java","html","regex"],"comments":[{"owner":{"account_id":288843,"reputation":3953,"user_id":589490,"accept_rate":43,"display_name":"vaibhav"},"score":0,"creation_date":1295642510,"post_id":4763579,"comment_id":5270370,"body_markdown":"TAG &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;","body":"TAG &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;"},{"owner":{"account_id":10162,"reputation":922311,"user_id":19068,"display_name":"Quentin"},"score":4,"creation_date":1295642574,"post_id":4763579,"comment_id":5270389,"body_markdown":"**All** the possibilities? Don&#39;t try to do this with a regular expression. You can get away with them for HTML that fits a template, but for generic parsing, you need a real HTML parser.","body":"<b>All</b> the possibilities? Don&#39;t try to do this with a regular expression. You can get away with them for HTML that fits a template, but for generic parsing, you need a real HTML parser."},{"owner":{"account_id":84485,"reputation":19109,"user_id":236139,"accept_rate":100,"display_name":"Reid"},"score":3,"creation_date":1295642593,"post_id":4763579,"comment_id":5270391,"body_markdown":"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454","body":"<a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>"},{"owner":{"account_id":16209,"reputation":280482,"user_id":35070,"accept_rate":78,"display_name":"phihag"},"score":0,"creation_date":1295642652,"post_id":4763579,"comment_id":5270401,"body_markdown":"@David @Reid Since &lt;meta only occurs in the (non-nested) header, it actually can be parsed by regular expressions","body":"@David @Reid Since &lt;meta only occurs in the (non-nested) header, it actually can be parsed by regular expressions"},{"owner":{"account_id":10162,"reputation":922311,"user_id":19068,"display_name":"Quentin"},"score":1,"creation_date":1295642710,"post_id":4763579,"comment_id":5270414,"body_markdown":"A meta that specifies the character encoding *should* only occur once.","body":"A meta that specifies the character encoding <i>should</i> only occur once."},{"owner":{"account_id":16209,"reputation":280482,"user_id":35070,"accept_rate":78,"display_name":"phihag"},"score":0,"creation_date":1295642815,"post_id":4763579,"comment_id":5270440,"body_markdown":"@David Dorward Precisely, and regular expressions are therefore as applicable as searching for the string &quot;&lt;meta ...&quot;","body":"@David Dorward Precisely, and regular expressions are therefore as applicable as searching for the string &quot;&lt;meta ...&quot;"},{"owner":{"account_id":10162,"reputation":922311,"user_id":19068,"display_name":"Quentin"},"score":0,"creation_date":1295642861,"post_id":4763579,"comment_id":5270447,"body_markdown":"My point was that &quot;should&quot; and &quot;will&quot; are not the same thing, I have stumbled across documents with multiple, contradictory encoding declarations. (And that&#39;s just limiting this to `&lt;meta&gt;`, if you actually want to figure out what the encoding of a document is, then there are half a dozen places you need to look.)","body":"My point was that &quot;should&quot; and &quot;will&quot; are not the same thing, I have stumbled across documents with multiple, contradictory encoding declarations. (And that&#39;s just limiting this to <code>&lt;meta&gt;</code>, if you actually want to figure out what the encoding of a document is, then there are half a dozen places you need to look.)"},{"owner":{"account_id":63368,"reputation":443997,"user_id":187606,"accept_rate":90,"display_name":"Pekka"},"score":1,"creation_date":1295642935,"post_id":4763579,"comment_id":5270464,"body_markdown":"@phihag still, there are endless variations in case, in attribute order, in other attributes....","body":"@phihag still, there are endless variations in case, in attribute order, in other attributes...."}],"answers":[{"tags":[],"owner":{"account_id":10162,"reputation":922311,"user_id":19068,"display_name":"Quentin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1295644863,"creation_date":1295643520,"answer_id":4763739,"question_id":4763579,"body_markdown":"To cover &quot;all the possibilities&quot;, you really should be using HTML 5&#39;s [Determining the character encoding][1] rules. These aren&#39;t expressible as a regular expression. \r\n\r\nThere is an open source [Java implementation of it in validator.nu][2]\r\n\r\n---\r\n\r\nIf you insist on using a regular expression, then this will probably cover most cases where the encoding it declared with a meta element (it won&#39;t, for instance, cover XML declarations). It is however, dirty, makes some assumptions that are usually (but may not always be) right and I do not recommend it.\r\n\r\n    /&lt;meta[^&gt;]+charset=[&#39;&quot;]?(.*?)[&#39;&quot;]?[\\/\\s&gt;]/i\r\n\r\n\r\n  [1]: http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#determining-the-character-encoding\r\n  [2]: http://about.validator.nu/htmlparser/","title":"Java regex for HTML &quot;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt; &quot; parsing","body":"<p>To cover \"all the possibilities\", you really should be using HTML 5's <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#determining-the-character-encoding\" rel=\"nofollow\">Determining the character encoding</a> rules. These aren't expressible as a regular expression. </p>\n\n<p>There is an open source <a href=\"http://about.validator.nu/htmlparser/\" rel=\"nofollow\">Java implementation of it in validator.nu</a></p>\n\n<hr>\n\n<p>If you insist on using a regular expression, then this will probably cover most cases where the encoding it declared with a meta element (it won't, for instance, cover XML declarations). It is however, dirty, makes some assumptions that are usually (but may not always be) right and I do not recommend it.</p>\n\n<pre><code>/&lt;meta[^&gt;]+charset=['\"]?(.*?)['\"]?[\\/\\s&gt;]/i\n</code></pre>\n"}],"owner":{"account_id":288843,"reputation":3953,"user_id":589490,"accept_rate":43,"display_name":"vaibhav"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692783709,"creation_date":1295642490,"question_id":4763579,"body_markdown":"I am new to regexps, can someone help me in getting a regex for parsing the tag\r\n\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt; \r\n\r\nwith all the possiblities?\r\n","title":"Java regex for HTML &quot;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt; &quot; parsing","body":"<p>I am new to regexps, can someone help me in getting a regex for parsing the tag</p>\n\n<pre><code>&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt; \n</code></pre>\n\n<p>with all the possiblities?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":50123,"reputation":365443,"user_id":149392,"display_name":"sepp2k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1293942958,"creation_date":1293942958,"answer_id":4577150,"question_id":4577128,"body_markdown":"`matches` on returns true if the whole string matches - it doesn&#39;t match substrings.\r\n\r\nSo if `stringWithSingleSlash` were just `&quot;\\\\&quot;` instead of `&quot;mabye\\\\no&quot;`, `matches` would return true.\r\n\r\nIf the fact that `doubleSlash` matches a single backslash confuses you, the explanation is that `&quot;\\\\\\\\&quot;` is a string with two backslashes and the regex engine interprets two backslashes as one escaped backslash (because the backslash is an escape character in regexes as well as in string literals).","title":"java.util.regex.Matcher.replaceAll replacing without a match?","body":"<p><code>matches</code> on returns true if the whole string matches - it doesn't match substrings.</p>\n\n<p>So if <code>stringWithSingleSlash</code> were just <code>\"\\\\\"</code> instead of <code>\"mabye\\\\no\"</code>, <code>matches</code> would return true.</p>\n\n<p>If the fact that <code>doubleSlash</code> matches a single backslash confuses you, the explanation is that <code>\"\\\\\\\\\"</code> is a string with two backslashes and the regex engine interprets two backslashes as one escaped backslash (because the backslash is an escape character in regexes as well as in string literals).</p>\n"},{"tags":[],"owner":{"account_id":26267,"reputation":18227,"user_id":68172,"accept_rate":98,"display_name":"Bobby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1293943130,"creation_date":1293943130,"answer_id":4577157,"question_id":4577128,"body_markdown":"The `matches()` function attempts to match the pattern against the entire string.  \r\nIt seems like what you should use is to check if `.find()` returns `true`.\r\n\r\nTake a look at the [Matcher javadoc][1], here&#39;s an excerpt:\r\n\r\n&gt; Once created, a matcher can be used to\r\n&gt; perform three different kinds of match\r\n&gt; operations:\r\n&gt; \r\n&gt; * The matches method attempts to match\r\n&gt; the entire input sequence against the\r\n&gt; pattern.\r\n&gt; \r\n&gt; * The lookingAt method attempts to match\r\n&gt; the input sequence, starting at the\r\n&gt; beginning, against the pattern.\r\n&gt; \r\n&gt; * The find method scans the input\r\n&gt; sequence looking for the next\r\n&gt; subsequence that matches the pattern.\r\n&gt; \r\n&gt; Each of these methods returns a\r\n&gt; boolean indicating success or failure.\r\n&gt; More information about a successful\r\n&gt; match can be obtained by querying the\r\n&gt; state of the matcher.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html","title":"java.util.regex.Matcher.replaceAll replacing without a match?","body":"<p>The <code>matches()</code> function attempts to match the pattern against the entire string.<br>\nIt seems like what you should use is to check if <code>.find()</code> returns <code>true</code>.</p>\n\n<p>Take a look at the <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html\" rel=\"nofollow\">Matcher javadoc</a>, here's an excerpt:</p>\n\n<blockquote>\n  <p>Once created, a matcher can be used to\n  perform three different kinds of match\n  operations:</p>\n  \n  <ul>\n  <li><p>The matches method attempts to match\n  the entire input sequence against the\n  pattern.</p></li>\n  <li><p>The lookingAt method attempts to match\n  the input sequence, starting at the\n  beginning, against the pattern.</p></li>\n  <li><p>The find method scans the input\n  sequence looking for the next\n  subsequence that matches the pattern.</p></li>\n  </ul>\n  \n  <p>Each of these methods returns a\n  boolean indicating success or failure.\n  More information about a successful\n  match can be obtained by querying the\n  state of the matcher.</p>\n</blockquote>\n"}],"owner":{"account_id":80795,"reputation":8986,"user_id":228208,"accept_rate":88,"display_name":"Kylar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1583,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4577150,"answer_count":2,"score":2,"last_activity_date":1692783695,"creation_date":1293942440,"question_id":4577128,"body_markdown":"According to the javadoc: \r\n\r\nReplaces every subsequence of the input sequence that matches the pattern with the given replacement string.\r\n\r\nThis seems to indicate that this call will not replace, unless a match is made.\r\n\r\nAnd yet:\r\n\r\n\r\n    public class MisMatch {\r\n        public static void main(String args[]){\r\n            Pattern doubleSlash = Pattern.compile(&quot;\\\\\\\\&quot;);\r\n            String stringWithSingleSlash = &quot;maybe\\\\no&quot;;\r\n            System.out.println(&quot;Matches:&quot;+doubleSlash.matcher(stringWithSingleSlash).matches());\r\n            String replace = doubleSlash.matcher(stringWithSingleSlash).replaceAll(&quot;ABC&quot;);\r\n            System.out.println(replace);\r\n            System.out.println(&quot;Equal:&quot;+(stringWithSingleSlash.equals(replace)));\r\n        }\r\n    }\r\n\r\nThis prints:\r\n\r\nMatches:false\r\n\r\nmaybeABCno\r\n\r\nEqual:false\r\n\r\n- so it is not matching, but still replacing. What am I missing here?","title":"java.util.regex.Matcher.replaceAll replacing without a match?","body":"<p>According to the javadoc: </p>\n\n<p>Replaces every subsequence of the input sequence that matches the pattern with the given replacement string.</p>\n\n<p>This seems to indicate that this call will not replace, unless a match is made.</p>\n\n<p>And yet:</p>\n\n<pre><code>public class MisMatch {\n    public static void main(String args[]){\n        Pattern doubleSlash = Pattern.compile(\"\\\\\\\\\");\n        String stringWithSingleSlash = \"maybe\\\\no\";\n        System.out.println(\"Matches:\"+doubleSlash.matcher(stringWithSingleSlash).matches());\n        String replace = doubleSlash.matcher(stringWithSingleSlash).replaceAll(\"ABC\");\n        System.out.println(replace);\n        System.out.println(\"Equal:\"+(stringWithSingleSlash.equals(replace)));\n    }\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<p>Matches:false</p>\n\n<p>maybeABCno</p>\n\n<p>Equal:false</p>\n\n<ul>\n<li>so it is not matching, but still replacing. What am I missing here?</li>\n</ul>\n"},{"tags":["java","spring-boot","jackson","jackson-databind"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1692699463,"post_id":76952227,"comment_id":135656566,"body_markdown":"It looks like the string contains the double quotes. Is that correct?","body":"It looks like the string contains the double quotes. Is that correct?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692699598,"post_id":76952227,"comment_id":135656595,"body_markdown":"I don&#39;t know if it will help, but if you have a stack trace for the `DateTimeParseException`, can you post it?","body":"I don&#39;t know if it will help, but if you have a stack trace for the <code>DateTimeParseException</code>, can you post it?"},{"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"score":0,"creation_date":1692699649,"post_id":76952227,"comment_id":135656606,"body_markdown":"Yeah from strings in Json use double quotes @JustanotherJavaprogrammer","body":"Yeah from strings in Json use double quotes @JustanotherJavaprogrammer"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1692699742,"post_id":76952227,"comment_id":135656634,"body_markdown":"It they always do, the quotes should be in the pattern.","body":"It they always do, the quotes should be in the pattern."},{"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"score":1,"creation_date":1692700280,"post_id":76952227,"comment_id":135656747,"body_markdown":"@JustanotherJavaprogrammer just tried `@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;\\&quot;yyyy-MM-dd HH:mm:ss\\&quot;&quot;)` and it did not work anyway","body":"@JustanotherJavaprogrammer just tried <code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;\\&quot;yyyy-MM-dd HH:mm:ss\\&quot;&quot;)</code> and it did not work anyway"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1692709391,"post_id":76952227,"comment_id":135658807,"body_markdown":"@JustanotherJavaprogrammer There is no double quote at index 10 of the string, so that is not the problem causing the exception. It may seem that Jackson is no longer respecting `pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;` and is trying to parse using the default ISO 8601 format, which would have a `T` rather than a space before the time of day. But this is only a guess.","body":"@JustanotherJavaprogrammer There is no double quote at index 10 of the string, so that is not the problem causing the exception. It may seem that Jackson is no longer respecting <code>pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;</code> and is trying to parse using the default ISO 8601 format, which would have a <code>T</code> rather than a space before the time of day. But this is only a guess."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1692709506,"post_id":76952227,"comment_id":135658846,"body_markdown":"Are you using the same Jackson version as before migration? Can you reproduce the problem in a minimal example not involving Spring?","body":"Are you using the same Jackson version as before migration? Can you reproduce the problem in a minimal example not involving Spring?"},{"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"score":1,"creation_date":1692711719,"post_id":76952227,"comment_id":135659456,"body_markdown":"I updated it but as soon as I saw the error I tried with the previous version and I got the same result","body":"I updated it but as soon as I saw the error I tried with the previous version and I got the same result"},{"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"score":0,"creation_date":1692711841,"post_id":76952227,"comment_id":135659497,"body_markdown":"@OleV.V. You are right, I just tried with the T and it worked, the problem now is how to make it not ignore the pattern. And this is not the only instance of it happening. Not only that, I don&#39;t really see it viable to simply start using the ISO 8601 format.","body":"@OleV.V. You are right, I just tried with the T and it worked, the problem now is how to make it not ignore the pattern. And this is not the only instance of it happening. Not only that, I don&#39;t really see it viable to simply start using the ISO 8601 format."}],"answers":[{"tags":[],"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692776173,"creation_date":1692776173,"answer_id":76959266,"question_id":76952227,"body_markdown":"For some reason, adding `@NoArgsConstructor` to the classes containing these fields seems to have fixed my problem.","title":"Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text &#39;2021-02-05 10:11:22&#39; could not be parsed at index 10&quot;","body":"<p>For some reason, adding <code>@NoArgsConstructor</code> to the classes containing these fields seems to have fixed my problem.</p>\n"}],"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76959266,"answer_count":1,"score":0,"last_activity_date":1692783151,"creation_date":1692698960,"question_id":76952227,"body_markdown":"I&#39;ve been days stuck with this problem, I know there are a lot of similar ones but none of them are helping.\r\n\r\nSo I am just in the process of migrating from Java 8 -&gt;  Java 11, and the application is in a state where it deploys but the JUnit tests fail and some features of it also fail, so far I&#39;ve narrowed it down to a problem of parsing `LocalDateTime` from `Json`.\r\n\r\nSo basically, I got this problem repeated several times, I am expecting as request body an object with LocalDateTime fields i.e:\r\n\r\n\r\n    @Schema(\r\n            name = &quot;shopOrderDate&quot;,\r\n            example = &quot;2018-10-04 12:24:06&quot;,\r\n            title = &quot;The timestamp when this order was created.&quot;,\r\n            required = true)\r\n    @NotNull\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n    private LocalDateTime shopOrderDate;\r\n\r\nThe problem is that both tests and calls I do on my own fail and throw the following error:\r\n\r\n    &quot;Cannot deserialize value of type `java.time.LocalDateTime` from String \\&quot;2021-02-05 10:11:22\\&quot;: Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text &#39;2021-02-05 10:11:22&#39; could not be parsed at index 10&quot;\r\n\r\nIndex 10, is the whitespace between the date and the time and I&#39;ve looked to see if there are wierd characters there but there aren&#39;t, and that part was unchanged in the migration process so I don&#39;t really think that&#39;s the problem.\r\n\r\nCan anyone see what the problem is?\r\n\r\nEDIT: This is the Stacktrace\r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String &quot;2021-02-05 10:11:22&quot;: Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text &#39;2021-02-05 10:11:22&#39; could not be parsed at index 10\r\n     at [Source: (PushbackInputStream); line: 5, column: 20] (through reference chain: com.tss.pago.core.order.port.dto.request.OrderCreateRequestDto[&quot;shopOrderDate&quot;])\r\n    \tat com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:2002) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1230) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n    \tat com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._handleDateTimeException(JSR310DeserializerBase.java:176) ~[jackson-datatype-jsr310-2.13.1.jar:2.13.1]\r\n    \tat com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:179) ~[jackson-datatype-jsr310-2.13.1.jar:2.13.1]\r\n    \tat com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:81) ~[jackson-datatype-jsr310-2.13.1.jar:2.13.1]\r\n    \tat com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:40) ~[jackson-datatype-jsr310-2.13.1.jar:2.13.1]\r\n    \tat com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:545) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeWithErrorWrapping(BeanDeserializer.java:570) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:439) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1409) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:352) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n    \tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3825) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n    \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:378) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:342) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:185) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:160) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:133) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n    Caused by: java.time.format.DateTimeParseException: Text &#39;2021-02-05 10:11:22&#39; could not be parsed at index 10\r\n    \tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2046) ~[na:na]\r\n    \tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1948) ~[na:na]\r\n    \tat java.base/java.time.LocalDateTime.parse(LocalDateTime.java:492) ~[na:na]\r\n    \tat com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:177) ~[jackson-datatype-jsr310-2.13.1.jar:2.13.1]\r\n    \t... 109 common frames omitted\r\n\r\n\r\n","title":"Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text &#39;2021-02-05 10:11:22&#39; could not be parsed at index 10&quot;","body":"<p>I've been days stuck with this problem, I know there are a lot of similar ones but none of them are helping.</p>\n<p>So I am just in the process of migrating from Java 8 -&gt;  Java 11, and the application is in a state where it deploys but the JUnit tests fail and some features of it also fail, so far I've narrowed it down to a problem of parsing <code>LocalDateTime</code> from <code>Json</code>.</p>\n<p>So basically, I got this problem repeated several times, I am expecting as request body an object with LocalDateTime fields i.e:</p>\n<pre><code>@Schema(\n        name = &quot;shopOrderDate&quot;,\n        example = &quot;2018-10-04 12:24:06&quot;,\n        title = &quot;The timestamp when this order was created.&quot;,\n        required = true)\n@NotNull\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\nprivate LocalDateTime shopOrderDate;\n</code></pre>\n<p>The problem is that both tests and calls I do on my own fail and throw the following error:</p>\n<pre><code>&quot;Cannot deserialize value of type `java.time.LocalDateTime` from String \\&quot;2021-02-05 10:11:22\\&quot;: Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2021-02-05 10:11:22' could not be parsed at index 10&quot;\n</code></pre>\n<p>Index 10, is the whitespace between the date and the time and I've looked to see if there are wierd characters there but there aren't, and that part was unchanged in the migration process so I don't really think that's the problem.</p>\n<p>Can anyone see what the problem is?</p>\n<p>EDIT: This is the Stacktrace</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String &quot;2021-02-05 10:11:22&quot;: Failed to deserialize java.time.LocalDateTime: (java.time.format.DateTimeParseException) Text '2021-02-05 10:11:22' could not be parsed at index 10\n at [Source: (PushbackInputStream); line: 5, column: 20] (through reference chain: com.tss.pago.core.order.port.dto.request.OrderCreateRequestDto[&quot;shopOrderDate&quot;])\n    at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:2002) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:1230) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.datatype.jsr310.deser.JSR310DeserializerBase._handleDateTimeException(JSR310DeserializerBase.java:176) ~[jackson-datatype-jsr310-2.13.1.jar:2.13.1]\n    at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:179) ~[jackson-datatype-jsr310-2.13.1.jar:2.13.1]\n    at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:81) ~[jackson-datatype-jsr310-2.13.1.jar:2.13.1]\n    at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer.deserialize(LocalDateTimeDeserializer.java:40) ~[jackson-datatype-jsr310-2.13.1.jar:2.13.1]\n    at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:545) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeWithErrorWrapping(BeanDeserializer.java:570) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:439) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1409) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:352) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3825) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:378) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:342) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:185) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:160) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:133) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.3.jar:2.6.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\nCaused by: java.time.format.DateTimeParseException: Text '2021-02-05 10:11:22' could not be parsed at index 10\n    at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2046) ~[na:na]\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1948) ~[na:na]\n    at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:492) ~[na:na]\n    at com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer._fromString(LocalDateTimeDeserializer.java:177) ~[jackson-datatype-jsr310-2.13.1.jar:2.13.1]\n    ... 109 common frames omitted\n</code></pre>\n"},{"tags":["java","hive","hdfs"],"owner":{"account_id":5635082,"reputation":397,"user_id":4460797,"accept_rate":80,"display_name":"Shinoy Shaji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692783009,"creation_date":1692783009,"question_id":76960041,"body_markdown":"I&#39;m trying to use the HiveShell in Hiverunner to do some hive script validation. So far all the examples I found contains the JUNIT integration to create and run the HiveRunner. I just wanted to know, is there anyway to use HiveRunner similar to workerbee?\r\n\r\n[HiveRunner Examples][1]\r\n\r\n\r\n  [1]: https://github.com/HiveRunner/HiveRunner/tree/main/src/test/java/com/klarna/hiverunner/examples","title":"How to use the Hiverunner shell independently without the JUNIT?","body":"<p>I'm trying to use the HiveShell in Hiverunner to do some hive script validation. So far all the examples I found contains the JUNIT integration to create and run the HiveRunner. I just wanted to know, is there anyway to use HiveRunner similar to workerbee?</p>\n<p><a href=\"https://github.com/HiveRunner/HiveRunner/tree/main/src/test/java/com/klarna/hiverunner/examples\" rel=\"nofollow noreferrer\">HiveRunner Examples</a></p>\n"},{"tags":["java","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692782709,"creation_date":1692758327,"answer_id":76957915,"question_id":76953872,"body_markdown":"**Solution 1**: Use `RequestLoggingFilter` to log specific which part in request. [Detail][1]\r\n\r\n```java\r\nimport static io.restassured.filter.log.LogDetail.*;\r\n\r\n...\r\n\r\n.filters(\r\n   RequestLoggingFilter.with(URI, METHOD, HEADERS, PARAMS), \r\n   new ResponseLoggingFilter()\r\n);\r\n```\r\n\r\n**Solution 2**: Write custom RequestLoggingFilter\r\n\r\n```java\r\nimport com.jayway.jsonpath.JsonPath;\r\nimport io.restassured.filter.Filter;\r\nimport io.restassured.filter.FilterContext;\r\nimport io.restassured.internal.support.Prettifier;\r\nimport io.restassured.parsing.Parser;\r\nimport io.restassured.response.Response;\r\nimport io.restassured.specification.FilterableRequestSpecification;\r\nimport io.restassured.specification.FilterableResponseSpecification;\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.apache.commons.lang3.SystemUtils;\r\n\r\nimport java.io.PrintStream;\r\n\r\npublic class CustomRequestLoggingFilter implements Filter {\r\n\r\n    private static final String HIDDEN = &quot;****&quot;;\r\n    private static final String TAB = &quot;\\t&quot;;\r\n    private final PrintStream stream;\r\n    private String path;\r\n\r\n    public CustomRequestLoggingFilter(PrintStream stream) {\r\n        this.stream = stream;\r\n    }\r\n\r\n    public CustomRequestLoggingFilter() {\r\n        this.stream = System.out;\r\n    }\r\n\r\n    public CustomRequestLoggingFilter(String path) {\r\n        this.stream = System.out;\r\n        this.path = path;\r\n    }\r\n\r\n    @Override\r\n    public Response filter(FilterableRequestSpecification requestSpec, FilterableResponseSpecification responseSpec, FilterContext ctx) {\r\n        String body = requestSpec.getBody().toString();\r\n        if (this.path != null) {\r\n            body = JsonPath.parse(body).set(path, HIDDEN).jsonString();\r\n            String prettified = new Prettifier().prettify(body, Parser.JSON);\r\n            body = StringUtils.replace(prettified, SystemUtils.LINE_SEPARATOR, SystemUtils.LINE_SEPARATOR + TAB + TAB + TAB + TAB);\r\n        }\r\n        stream.println(body);\r\n        return ctx.next(requestSpec, responseSpec);\r\n    }\r\n}\r\n\r\n```\r\n\r\nTo use it in client code, need to specific path to key you want to exclude. I don&#39;t like excluding key-value in body --&gt; mis information in log, so I change to hidden character `***`.\r\n\r\n```\r\n.filters(\r\n  new CustomRequestLoggingFilter(&quot;$.data.files.data[0].content_encoded&quot;), \r\n  new ResponseLoggingFilter()\r\n);\r\n```\r\n\r\nSample log:\r\n\r\n```json\r\n{\r\n    &quot;data&quot;: {\r\n        &quot;type&quot;: &quot;instance&quot;,\r\n        &quot;attributes&quot;: {\r\n            &quot;run-duration&quot;: &quot;00:00:01&quot;,\r\n            &quot;exit-code&quot;: &quot;1&quot;,\r\n            &quot;instance-id&quot;: &quot;88344198&quot;,\r\n            &quot;automated-execution-output&quot;: &quot;Step&quot;\r\n        },\r\n        &quot;files&quot;: {\r\n            &quot;data&quot;: [\r\n                {\r\n                    &quot;filename&quot;: &quot;attachment&quot;,\r\n                    &quot;content_encoded&quot;: &quot;****&quot;\r\n                }\r\n            ]\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://javadoc.io/doc/io.rest-assured/rest-assured/latest/io/restassured/filter/log/RequestLoggingFilter.html#with-io.restassured.filter.log.LogDetail...-","title":"RestAssured+Java. How to exclude a specific field from request logs?","body":"<p><strong>Solution 1</strong>: Use <code>RequestLoggingFilter</code> to log specific which part in request. <a href=\"https://javadoc.io/doc/io.rest-assured/rest-assured/latest/io/restassured/filter/log/RequestLoggingFilter.html#with-io.restassured.filter.log.LogDetail...-\" rel=\"nofollow noreferrer\">Detail</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import static io.restassured.filter.log.LogDetail.*;\n\n...\n\n.filters(\n   RequestLoggingFilter.with(URI, METHOD, HEADERS, PARAMS), \n   new ResponseLoggingFilter()\n);\n</code></pre>\n<p><strong>Solution 2</strong>: Write custom RequestLoggingFilter</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.jayway.jsonpath.JsonPath;\nimport io.restassured.filter.Filter;\nimport io.restassured.filter.FilterContext;\nimport io.restassured.internal.support.Prettifier;\nimport io.restassured.parsing.Parser;\nimport io.restassured.response.Response;\nimport io.restassured.specification.FilterableRequestSpecification;\nimport io.restassured.specification.FilterableResponseSpecification;\nimport org.apache.commons.lang3.StringUtils;\nimport org.apache.commons.lang3.SystemUtils;\n\nimport java.io.PrintStream;\n\npublic class CustomRequestLoggingFilter implements Filter {\n\n    private static final String HIDDEN = &quot;****&quot;;\n    private static final String TAB = &quot;\\t&quot;;\n    private final PrintStream stream;\n    private String path;\n\n    public CustomRequestLoggingFilter(PrintStream stream) {\n        this.stream = stream;\n    }\n\n    public CustomRequestLoggingFilter() {\n        this.stream = System.out;\n    }\n\n    public CustomRequestLoggingFilter(String path) {\n        this.stream = System.out;\n        this.path = path;\n    }\n\n    @Override\n    public Response filter(FilterableRequestSpecification requestSpec, FilterableResponseSpecification responseSpec, FilterContext ctx) {\n        String body = requestSpec.getBody().toString();\n        if (this.path != null) {\n            body = JsonPath.parse(body).set(path, HIDDEN).jsonString();\n            String prettified = new Prettifier().prettify(body, Parser.JSON);\n            body = StringUtils.replace(prettified, SystemUtils.LINE_SEPARATOR, SystemUtils.LINE_SEPARATOR + TAB + TAB + TAB + TAB);\n        }\n        stream.println(body);\n        return ctx.next(requestSpec, responseSpec);\n    }\n}\n\n</code></pre>\n<p>To use it in client code, need to specific path to key you want to exclude. I don't like excluding key-value in body --&gt; mis information in log, so I change to hidden character <code>***</code>.</p>\n<pre><code>.filters(\n  new CustomRequestLoggingFilter(&quot;$.data.files.data[0].content_encoded&quot;), \n  new ResponseLoggingFilter()\n);\n</code></pre>\n<p>Sample log:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;data&quot;: {\n        &quot;type&quot;: &quot;instance&quot;,\n        &quot;attributes&quot;: {\n            &quot;run-duration&quot;: &quot;00:00:01&quot;,\n            &quot;exit-code&quot;: &quot;1&quot;,\n            &quot;instance-id&quot;: &quot;88344198&quot;,\n            &quot;automated-execution-output&quot;: &quot;Step&quot;\n        },\n        &quot;files&quot;: {\n            &quot;data&quot;: [\n                {\n                    &quot;filename&quot;: &quot;attachment&quot;,\n                    &quot;content_encoded&quot;: &quot;****&quot;\n                }\n            ]\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29275671,"reputation":11,"user_id":22429452,"display_name":"Serhio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76957915,"answer_count":1,"score":0,"last_activity_date":1692782709,"creation_date":1692711410,"question_id":76953872,"body_markdown":"Im using a RestAssured filter to get request and response logs. The following method doing that:\r\n\r\n```\r\npublic RequestSpecification setUpRequestSpec() {\r\n        return given()\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .header(&quot;PTToken&quot;, ProjectData.practiTestConfigs.ptToken())\r\n                .filters(new RequestLoggingFilter(), new ResponseLoggingFilter());\r\n}\r\n\r\n```\r\nWhen requests are sending all the Request and Response logs are shown, but the problem is that in request body there is a field in which Im sending a picture in Base64 format, and it looks like a thousands of characters. How can I exclude this field with Base64 picture only from Request logs?\r\n\r\nAs far as I understood I have to write a custom filter for that purpose... maybe someone can give an example.\r\n\r\nRequest log sample:\r\n\r\n    {\r\n    &quot;data&quot;: {\r\n        &quot;type&quot;: &quot;instance&quot;,\r\n        &quot;attributes&quot;: {\r\n            &quot;run-duration&quot;: &quot;00:00:01&quot;,\r\n            &quot;exit-code&quot;: &quot;1&quot;,\r\n            &quot;instance-id&quot;: &quot;88344198&quot;,\r\n            &quot;automated-execution-output&quot;: &quot;Step&quot;\r\n        },\r\n        &quot;files&quot;: {\r\n            &quot;data&quot;: [\r\n                {\r\n                    &quot;filename&quot;: &quot;attachment&quot;,\r\n                    &quot;content_encoded&quot;: &quot;  ......a lot of chars. this field I&#39;d like to exclude from logs .... &quot;\r\n                }\r\n            ]\r\n        }\r\n    }\r\n}\r\n\r\n","title":"RestAssured+Java. How to exclude a specific field from request logs?","body":"<p>Im using a RestAssured filter to get request and response logs. The following method doing that:</p>\n<pre><code>public RequestSpecification setUpRequestSpec() {\n        return given()\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .header(&quot;PTToken&quot;, ProjectData.practiTestConfigs.ptToken())\n                .filters(new RequestLoggingFilter(), new ResponseLoggingFilter());\n}\n\n</code></pre>\n<p>When requests are sending all the Request and Response logs are shown, but the problem is that in request body there is a field in which Im sending a picture in Base64 format, and it looks like a thousands of characters. How can I exclude this field with Base64 picture only from Request logs?</p>\n<p>As far as I understood I have to write a custom filter for that purpose... maybe someone can give an example.</p>\n<p>Request log sample:</p>\n<pre><code>{\n&quot;data&quot;: {\n    &quot;type&quot;: &quot;instance&quot;,\n    &quot;attributes&quot;: {\n        &quot;run-duration&quot;: &quot;00:00:01&quot;,\n        &quot;exit-code&quot;: &quot;1&quot;,\n        &quot;instance-id&quot;: &quot;88344198&quot;,\n        &quot;automated-execution-output&quot;: &quot;Step&quot;\n    },\n    &quot;files&quot;: {\n        &quot;data&quot;: [\n            {\n                &quot;filename&quot;: &quot;attachment&quot;,\n                &quot;content_encoded&quot;: &quot;  ......a lot of chars. this field I'd like to exclude from logs .... &quot;\n            }\n        ]\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","rest","servlet-filters","servlet-3.0"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":1,"creation_date":1692780125,"post_id":76958248,"comment_id":135669556,"body_markdown":"Don&#39;t use hand-rolled authentication, use container facilities. Use security-constraint element(s) and login-config element in your web.xml and configure the realm, Tomcat/Container will take care of it","body":"Don&#39;t use hand-rolled authentication, use container facilities. Use security-constraint element(s) and login-config element in your web.xml and configure the realm, Tomcat/Container will take care of it"},{"owner":{"account_id":28934605,"reputation":1,"user_id":22162454,"display_name":"user080320"},"score":0,"creation_date":1692802573,"post_id":76958248,"comment_id":135674395,"body_markdown":"@Ironluca - We are using weblogic instead of tomcat. Is it the same? I dont know where to find the tomcat-user.xml in weblogic to store the username/password.","body":"@Ironluca - We are using weblogic instead of tomcat. Is it the same? I dont know where to find the tomcat-user.xml in weblogic to store the username/password."},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1692811413,"post_id":76958248,"comment_id":135676193,"body_markdown":"Far as I recollect Weblogic has an UI to configure realms. Try the concept out in Tomcat","body":"Far as I recollect Weblogic has an UI to configure realms. Try the concept out in Tomcat"},{"owner":{"account_id":28934605,"reputation":1,"user_id":22162454,"display_name":"user080320"},"score":0,"creation_date":1693355490,"post_id":76958248,"comment_id":135748951,"body_markdown":"@Ironluca - thank you. I figure out the configuration security realms in WebLogic and it is already working. Thank you for the help :)","body":"@Ironluca - thank you. I figure out the configuration security realms in WebLogic and it is already working. Thank you for the help :)"}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692782542,"creation_date":1692782542,"answer_id":76959983,"question_id":76958248,"body_markdown":"You have created a custom filter, you still have to add it to the security filter chain with something like that\r\n\r\n```\r\n@Bean\r\nSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        // ...\r\n        .addFilterBefore(new RestAuthenticationFilter(), AuthorizationFilter.class); \r\n    return http.build();\r\n}\r\n```\r\n\r\n&gt; TIP: Instead of implementing Filter, you can extend from OncePerRequestFilter which is a base class for filters that provides a doFilterInternal method with the HttpServletRequest and HttpServletResponse parameters to avoid casting.\r\n\r\nalso you can refer to [docs][1] to help you understand how basic Auth is handled by default which you can use to provide some implementations instead of creating your own classes\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/basic.html","title":"Integrate Servlet Security using Basic Authentication","body":"<p>You have created a custom filter, you still have to add it to the security filter chain with something like that</p>\n<pre><code>@Bean\nSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        // ...\n        .addFilterBefore(new RestAuthenticationFilter(), AuthorizationFilter.class); \n    return http.build();\n}\n</code></pre>\n<blockquote>\n<p>TIP: Instead of implementing Filter, you can extend from OncePerRequestFilter which is a base class for filters that provides a doFilterInternal method with the HttpServletRequest and HttpServletResponse parameters to avoid casting.</p>\n</blockquote>\n<p>also you can refer to <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/basic.html\" rel=\"nofollow noreferrer\">docs</a> to help you understand how basic Auth is handled by default which you can use to provide some implementations instead of creating your own classes</p>\n"}],"owner":{"account_id":28934605,"reputation":1,"user_id":22162454,"display_name":"user080320"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692782542,"creation_date":1692764263,"question_id":76958248,"body_markdown":"I need to expose the rest api and we are currently using servlet. No frontend needed to test our api and we are only using postman to test the endpoint. My Get and Delete api mapping are working fine except the basic authentication security. I found a reference in google related to my requirements and it is not working when I select the Basic Auth in postman it didn&#39;t call the RestAuthenticationFilter method. This is my code:\r\n\r\n```\r\npublic class RestAuthenticationFilter implements Filter {\r\n\t  public static final String AUTHENTICATION_HEADER = &quot;Authorization&quot;;\r\n\r\n\t  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n\t      throws IOException, ServletException {\r\n\t\t  System.out.println(&quot;Filter&quot;);\r\n\t    if (request instanceof HttpServletRequest) {\r\n\t      final HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n\t      final String authCredentials = httpServletRequest.getHeader(AUTHENTICATION_HEADER);\r\n\t      System.out.println(&quot;authCredentials: &quot;+authCredentials);\r\n\r\n\t      final AuthService authService = new AuthService();\r\n\t      final boolean authenticationStatus = authService.authenticate(authCredentials);\r\n\t      System.out.println(&quot;authenticationStatus: &quot;+authenticationStatus);\r\n\t      if (authenticationStatus) {\r\n\t        chain.doFilter(request, response);\r\n\t      } else {\r\n\t        if (response instanceof HttpServletResponse) {\r\n\t          HttpServletResponse httpServletResponse = (HttpServletResponse) response;\r\n\t          httpServletResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n\t        }\r\n\t      }\r\n\t    }\r\n\t  }\r\n\r\n\t  public void init(FilterConfig filterConfig) throws ServletException {\r\n\t    // No Implementation\r\n\t  }\r\n\r\n\t  public void destroy() {\r\n\t    // No Implementation\r\n\t  }\r\n}\r\n```\r\n\r\nAdd service\r\n\r\n```\r\npublic class AuthService {\r\n\t  public boolean authenticate(final String authCredentials) {\r\n\t\t System.out.println(&quot;autservice&quot;);\r\n\t    if (null == authCredentials) {\r\n\t      return false;\r\n\t    }\r\n\r\n\t    // Header value format for Basic authentication will be &quot;Basic encodedstring&quot;\r\n\t    final String encodedUserAuthCredentials = authCredentials.replaceFirst(&quot;Basic &quot;, &quot;&quot;);\r\n\t    System.out.println(&quot;encodedUserAuthCredentials: &quot;+encodedUserAuthCredentials);\r\n\t    String decodedUserAuthCredentials = null;\r\n\t    try {\r\n//\t\t\tsun.misc.BASE64Decoder dec = new sun.misc.BASE64Decoder();\r\n//\t\t\tString userpassDecoded = new String(dec.decodeBuffer(encodedUserAuthCredentials));\r\n//\t    \tString base64String = BaseEncoding.base64().encode(encodedUserAuthCredentials.getBytes(&quot;UTF-8&quot;));\r\n//\t    \tbyte[] decodedBytes = Base64.getDecoder().decode(encodedUserAuthCredentials);\r\n//\t    \tdecodedUserAuthCredentials = base64String;\r\n\t    \tdecodedUserAuthCredentials = DatatypeConverter.printBase64Binary((&quot;admin:admin&quot;).getBytes(&quot;UTF-8&quot;));\r\n//\t    \tSystem.out.println(&quot;base64String: &quot;+base64String);\r\n\t    \tSystem.out.println(&quot;decodedUserAuthCredentials: &quot;+decodedUserAuthCredentials);\r\n\t    } catch (IOException e) {\r\n\t      System.out.println(&quot;LOGGER&quot;);\r\n\t    }\r\n\r\n\t    final StringTokenizer tokenizer = new StringTokenizer(decodedUserAuthCredentials, &quot;:&quot;);\r\n\t    final String userName = tokenizer.nextToken();\r\n\t    final String userPassword = tokenizer.nextToken();\r\n\r\n\t    return &quot;admin&quot;.equals(userName) &amp;&amp; &quot;admin&quot;.equals(userPassword);\r\n\t  }\r\n}\r\n```\r\n\r\nweb.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\r\n  &lt;display-name&gt;test&lt;/display-name&gt;\r\n  &lt;servlet&gt;\r\n  \t&lt;servlet-name&gt;\r\n  \t\tAppContoller\r\n  \t&lt;/servlet-name&gt;\r\n  \t&lt;servlet-class&gt;\r\n  \t\tcom.test.control.web.AppController\r\n  \t&lt;/servlet-class&gt;\r\n  &lt;/servlet&gt;\r\n  \r\n  &lt;servlet-mapping&gt;\r\n  \t&lt;servlet-name&gt;\r\n  \t\tAppController\r\n  \t&lt;/servlet-name&gt;\r\n  \t&lt;url-pattern&gt;\r\n  \t\t/control/*\r\n  \t&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n   \r\n  &lt;welcome-file-list&gt;\r\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n  &lt;/welcome-file-list&gt;\r\n  \r\n   &lt;filter&gt;\r\n      &lt;filter-name&gt;AuthenticationFilter&lt;/filter-name&gt;\r\n      &lt;filter-class&gt;com.test.control.web.api.RestAuthenticationFilter&lt;/filter-class&gt;\r\n   &lt;/filter&gt;\r\n   &lt;filter-mapping&gt;\r\n      &lt;filter-name&gt;AuthenticationFilter&lt;/filter-name&gt;\r\n      &lt;url-pattern&gt;/control/*&lt;/url-pattern&gt;\r\n   &lt;/filter-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\nMay I know what is wrong in my code?\r\n\r\nIf I select the Bearer Token, API Key under Authorization Type in postman it hits the RestAuthenticationFilter method but not when I select the Basic Auth.","title":"Integrate Servlet Security using Basic Authentication","body":"<p>I need to expose the rest api and we are currently using servlet. No frontend needed to test our api and we are only using postman to test the endpoint. My Get and Delete api mapping are working fine except the basic authentication security. I found a reference in google related to my requirements and it is not working when I select the Basic Auth in postman it didn't call the RestAuthenticationFilter method. This is my code:</p>\n<pre><code>public class RestAuthenticationFilter implements Filter {\n      public static final String AUTHENTICATION_HEADER = &quot;Authorization&quot;;\n\n      public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n          throws IOException, ServletException {\n          System.out.println(&quot;Filter&quot;);\n        if (request instanceof HttpServletRequest) {\n          final HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n          final String authCredentials = httpServletRequest.getHeader(AUTHENTICATION_HEADER);\n          System.out.println(&quot;authCredentials: &quot;+authCredentials);\n\n          final AuthService authService = new AuthService();\n          final boolean authenticationStatus = authService.authenticate(authCredentials);\n          System.out.println(&quot;authenticationStatus: &quot;+authenticationStatus);\n          if (authenticationStatus) {\n            chain.doFilter(request, response);\n          } else {\n            if (response instanceof HttpServletResponse) {\n              HttpServletResponse httpServletResponse = (HttpServletResponse) response;\n              httpServletResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n            }\n          }\n        }\n      }\n\n      public void init(FilterConfig filterConfig) throws ServletException {\n        // No Implementation\n      }\n\n      public void destroy() {\n        // No Implementation\n      }\n}\n</code></pre>\n<p>Add service</p>\n<pre><code>public class AuthService {\n      public boolean authenticate(final String authCredentials) {\n         System.out.println(&quot;autservice&quot;);\n        if (null == authCredentials) {\n          return false;\n        }\n\n        // Header value format for Basic authentication will be &quot;Basic encodedstring&quot;\n        final String encodedUserAuthCredentials = authCredentials.replaceFirst(&quot;Basic &quot;, &quot;&quot;);\n        System.out.println(&quot;encodedUserAuthCredentials: &quot;+encodedUserAuthCredentials);\n        String decodedUserAuthCredentials = null;\n        try {\n//          sun.misc.BASE64Decoder dec = new sun.misc.BASE64Decoder();\n//          String userpassDecoded = new String(dec.decodeBuffer(encodedUserAuthCredentials));\n//          String base64String = BaseEncoding.base64().encode(encodedUserAuthCredentials.getBytes(&quot;UTF-8&quot;));\n//          byte[] decodedBytes = Base64.getDecoder().decode(encodedUserAuthCredentials);\n//          decodedUserAuthCredentials = base64String;\n            decodedUserAuthCredentials = DatatypeConverter.printBase64Binary((&quot;admin:admin&quot;).getBytes(&quot;UTF-8&quot;));\n//          System.out.println(&quot;base64String: &quot;+base64String);\n            System.out.println(&quot;decodedUserAuthCredentials: &quot;+decodedUserAuthCredentials);\n        } catch (IOException e) {\n          System.out.println(&quot;LOGGER&quot;);\n        }\n\n        final StringTokenizer tokenizer = new StringTokenizer(decodedUserAuthCredentials, &quot;:&quot;);\n        final String userName = tokenizer.nextToken();\n        final String userPassword = tokenizer.nextToken();\n\n        return &quot;admin&quot;.equals(userName) &amp;&amp; &quot;admin&quot;.equals(userPassword);\n      }\n}\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\n  &lt;display-name&gt;test&lt;/display-name&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;\n        AppContoller\n    &lt;/servlet-name&gt;\n    &lt;servlet-class&gt;\n        com.test.control.web.AppController\n    &lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  \n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;\n        AppController\n    &lt;/servlet-name&gt;\n    &lt;url-pattern&gt;\n        /control/*\n    &lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n   \n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n  \n   &lt;filter&gt;\n      &lt;filter-name&gt;AuthenticationFilter&lt;/filter-name&gt;\n      &lt;filter-class&gt;com.test.control.web.api.RestAuthenticationFilter&lt;/filter-class&gt;\n   &lt;/filter&gt;\n   &lt;filter-mapping&gt;\n      &lt;filter-name&gt;AuthenticationFilter&lt;/filter-name&gt;\n      &lt;url-pattern&gt;/control/*&lt;/url-pattern&gt;\n   &lt;/filter-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>May I know what is wrong in my code?</p>\n<p>If I select the Bearer Token, API Key under Authorization Type in postman it hits the RestAuthenticationFilter method but not when I select the Basic Auth.</p>\n"},{"tags":["java","spring","rest","spring-rest"],"comments":[{"owner":{"account_id":7074458,"reputation":3504,"user_id":5415018,"display_name":"Urosh T."},"score":0,"creation_date":1543319973,"post_id":53498979,"comment_id":93867483,"body_markdown":"For XMLs, you can use a simple String as the entity body and yo don&#39;t have to write any custom converters.","body":"For XMLs, you can use a simple String as the entity body and yo don&#39;t have to write any custom converters."},{"owner":{"account_id":1975908,"reputation":805,"user_id":1773702,"accept_rate":44,"display_name":"azaveri7"},"score":0,"creation_date":1543321867,"post_id":53498979,"comment_id":93868627,"body_markdown":"I do not want the output in String but the response object. here it is not able to convert the POJO into xml. Please mention the solution with the code changes.","body":"I do not want the output in String but the response object. here it is not able to convert the POJO into xml. Please mention the solution with the code changes."},{"owner":{"account_id":7074458,"reputation":3504,"user_id":5415018,"display_name":"Urosh T."},"score":0,"creation_date":1543322126,"post_id":53498979,"comment_id":93868771,"body_markdown":"I said that you can use a String as the http request entity body, not a response. Your error log shows that it cannot write the request, it mentions nothing of your response. So the issue is with the request.","body":"I said that you can use a String as the http request entity body, not a response. Your error log shows that it cannot write the request, it mentions nothing of your response. So the issue is with the request."},{"owner":{"account_id":1975908,"reputation":805,"user_id":1773702,"accept_rate":44,"display_name":"azaveri7"},"score":0,"creation_date":1543322210,"post_id":53498979,"comment_id":93868820,"body_markdown":"So what changes need to be made in the code.","body":"So what changes need to be made in the code."}],"answers":[{"tags":[],"owner":{"account_id":7074458,"reputation":3504,"user_id":5415018,"display_name":"Urosh T."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1543322558,"creation_date":1543322558,"answer_id":53499992,"question_id":53498979,"body_markdown":"You can create your own XML as a string and use it your request, like so:\r\n\r\n    @Repository\r\n    public class AdmissionRepository {\r\n    \r\n       @Autowired\r\n       private RestTemplate restTemplate;\r\n    \r\n       public ResponseObject updateAdmission(RequestAdmission requestAdmission, String admissionId) {\r\n    \r\n       UriBuilder uriBuilder =  UriBuilder.fromUri(&quot;https://admissionportal.com&quot;).path(&quot;admission&quot;).path(&quot;admissionId=&quot;+admissionId);\r\n       String xmlString = // create an actual valid XML string with all the &lt;tag&gt;value&lt;/tag&gt; and the whole structure.\r\n       HttpEntity&lt;String&gt; admissionEntity = new HttpEntity&lt;&gt;(xmlString, this.getHeaders);\r\n    \r\n       ResponseEntity&lt;ResponseAdmission&gt; responseEntity = this.restServiceESBSupport.exchange(uriBuilder.build(), HttpMethod.PATCH, admissionEntity , ResponseAdmission.class);\r\n    \r\n       return responseEntity.getBody();\r\n    \r\n    }","title":"Spring Resttemplate exchange method to call a PATCH request","body":"<p>You can create your own XML as a string and use it your request, like so:</p>\n\n<pre><code>@Repository\npublic class AdmissionRepository {\n\n   @Autowired\n   private RestTemplate restTemplate;\n\n   public ResponseObject updateAdmission(RequestAdmission requestAdmission, String admissionId) {\n\n   UriBuilder uriBuilder =  UriBuilder.fromUri(\"https://admissionportal.com\").path(\"admission\").path(\"admissionId=\"+admissionId);\n   String xmlString = // create an actual valid XML string with all the &lt;tag&gt;value&lt;/tag&gt; and the whole structure.\n   HttpEntity&lt;String&gt; admissionEntity = new HttpEntity&lt;&gt;(xmlString, this.getHeaders);\n\n   ResponseEntity&lt;ResponseAdmission&gt; responseEntity = this.restServiceESBSupport.exchange(uriBuilder.build(), HttpMethod.PATCH, admissionEntity , ResponseAdmission.class);\n\n   return responseEntity.getBody();\n\n}\n</code></pre>\n"}],"owner":{"account_id":1975908,"reputation":805,"user_id":1773702,"accept_rate":44,"display_name":"azaveri7"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53499992,"answer_count":1,"score":0,"last_activity_date":1692782482,"creation_date":1543319249,"question_id":53498979,"body_markdown":"I have a Java 8 application with Spring framework. We need to call a patch operation using REST from our application.\r\n\r\nThe code snippet is as follows:\r\n\r\n    import com.xyz.myobject.ResponseAdmission;\r\n    import com.xyz.myobject.RequestAdmission;\r\n    \r\n    @Repository\r\n    public class AdmissionRepository {\r\n    \r\n       @Autowired\r\n       private RestTemplate restTemplate;\r\n       \r\n       public ResponseObject updateAdmission(RequestAdmission requestAdmission, String admissionId) {\r\n    \r\n       UriBuilder uriBuilder =  UriBuilder.fromUri(&quot;https://admissionportal.com&quot;).path(&quot;admission&quot;).path(&quot;admissionId=&quot;+admissionId);\r\n    \r\n       HttpEntity&lt;RequestAdmission&gt; admissionEntity = new HttpEntity&lt;&gt;(requestAdmission, this.getHeaders);\r\n       \r\n       ResponseEntity&lt;ResponseAdmission&gt; responseEntity = this.restServiceESBSupport.exchange(uriBuilder.build(), HttpMethod.PATCH, admissionEntity , ResponseAdmission.class);\r\n     \r\n       return responseEntity.getBody();\r\n    \r\n    }\r\n    \r\n    public MultiValueMap&lt;String, String&gt; getHeaders() {\r\n    \t\tMultiValueMap&lt;String, String&gt; headers = new LinkedMultiValueMap&lt;&gt;();\r\n    \t\theaders.add(&quot;Accept&quot;, &quot;application/xml&quot;);\r\n    \t\theaders.add(&quot;Content-Type&quot;, &quot;application/xml&quot;);\r\n    \t\treturn headers;\r\n    \t}\r\n    \r\n    }\r\n\r\nWhen I execute the above code, when the line with &#39;exchange&#39; keyword is executed, it gives an error as:\r\n\r\n&gt; org.springframework.web.client.RestClientException: Could not write request: no suitable HttpMessageConverter found for request type [com.xyz.myobject.RequestAdmission] and content type [application/xml]\r\n\r\nWhen I debugged the code, the restTemplate has the following 7 convertors registered:\r\n\r\n    ByteArrayHttpMessageConverter,\r\n    StringHttpMessageConverter,\r\n    ResourceHttpMessageConverter,\r\n    SourceHttpMessageConverter,\r\n    AllEncompassingFormHttpMessageConverter,\r\n    Jaxb2RootElementHttpMessageConverter,\r\n    MappingJackson2HttpMessageConverter\r\n\r\nI also tried to add following line:\r\n\r\n    this.restTemplate.getMessageConverters().add(new Jaxb2RootElementHttpMessageConverter());\r\n\r\nBut still not working.\r\n\r\n**RequestAdmission and ResponseAdmission are the JAXB POJO objects generated from xsds.**\r\n\r\nThe webservice accepts the request in form of XML and response is also in form of XML.\r\n","title":"Spring Resttemplate exchange method to call a PATCH request","body":"<p>I have a Java 8 application with Spring framework. We need to call a patch operation using REST from our application.</p>\n<p>The code snippet is as follows:</p>\n<pre><code>import com.xyz.myobject.ResponseAdmission;\nimport com.xyz.myobject.RequestAdmission;\n\n@Repository\npublic class AdmissionRepository {\n\n   @Autowired\n   private RestTemplate restTemplate;\n   \n   public ResponseObject updateAdmission(RequestAdmission requestAdmission, String admissionId) {\n\n   UriBuilder uriBuilder =  UriBuilder.fromUri(&quot;https://admissionportal.com&quot;).path(&quot;admission&quot;).path(&quot;admissionId=&quot;+admissionId);\n\n   HttpEntity&lt;RequestAdmission&gt; admissionEntity = new HttpEntity&lt;&gt;(requestAdmission, this.getHeaders);\n   \n   ResponseEntity&lt;ResponseAdmission&gt; responseEntity = this.restServiceESBSupport.exchange(uriBuilder.build(), HttpMethod.PATCH, admissionEntity , ResponseAdmission.class);\n \n   return responseEntity.getBody();\n\n}\n\npublic MultiValueMap&lt;String, String&gt; getHeaders() {\n        MultiValueMap&lt;String, String&gt; headers = new LinkedMultiValueMap&lt;&gt;();\n        headers.add(&quot;Accept&quot;, &quot;application/xml&quot;);\n        headers.add(&quot;Content-Type&quot;, &quot;application/xml&quot;);\n        return headers;\n    }\n\n}\n</code></pre>\n<p>When I execute the above code, when the line with 'exchange' keyword is executed, it gives an error as:</p>\n<blockquote>\n<p>org.springframework.web.client.RestClientException: Could not write request: no suitable HttpMessageConverter found for request type [com.xyz.myobject.RequestAdmission] and content type [application/xml]</p>\n</blockquote>\n<p>When I debugged the code, the restTemplate has the following 7 convertors registered:</p>\n<pre><code>ByteArrayHttpMessageConverter,\nStringHttpMessageConverter,\nResourceHttpMessageConverter,\nSourceHttpMessageConverter,\nAllEncompassingFormHttpMessageConverter,\nJaxb2RootElementHttpMessageConverter,\nMappingJackson2HttpMessageConverter\n</code></pre>\n<p>I also tried to add following line:</p>\n<pre><code>this.restTemplate.getMessageConverters().add(new Jaxb2RootElementHttpMessageConverter());\n</code></pre>\n<p>But still not working.</p>\n<p><strong>RequestAdmission and ResponseAdmission are the JAXB POJO objects generated from xsds.</strong></p>\n<p>The webservice accepts the request in form of XML and response is also in form of XML.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":9691960,"reputation":1583,"user_id":7189767,"display_name":"Fallenhero"},"score":0,"creation_date":1482251994,"post_id":41246858,"comment_id":69694296,"body_markdown":"I&#39;d say because `\\w` does not match `-`","body":"I&#39;d say because <code>\\w</code> does not match <code>-</code>"},{"owner":{"account_id":4090948,"reputation":4755,"user_id":3358927,"accept_rate":79,"display_name":"ddd"},"score":0,"creation_date":1482252039,"post_id":41246858,"comment_id":69694332,"body_markdown":"@Fallenhero `\\w` is for words. What should I use instead?","body":"@Fallenhero <code>\\w</code> is for words. What should I use instead?"},{"owner":{"account_id":9691960,"reputation":1583,"user_id":7189767,"display_name":"Fallenhero"},"score":0,"creation_date":1482252085,"post_id":41246858,"comment_id":69694362,"body_markdown":"I don&#39;t know what you like to match, but maybe `[0-9a-zA-Z_-]`?","body":"I don&#39;t know what you like to match, but maybe <code>[0-9a-zA-Z_-]</code>?"},{"owner":{"account_id":9691960,"reputation":1583,"user_id":7189767,"display_name":"Fallenhero"},"score":0,"creation_date":1482252142,"post_id":41246858,"comment_id":69694405,"body_markdown":"or easier (if supported) `[\\w-]`","body":"or easier (if supported) <code>[\\w-]</code>"},{"owner":{"account_id":4090948,"reputation":4755,"user_id":3358927,"accept_rate":79,"display_name":"ddd"},"score":0,"creation_date":1482253507,"post_id":41246858,"comment_id":69695282,"body_markdown":"@Fallenhero tried both `([a-zA-Z_-])(:|&lt;|&gt;)([0-9a-zA-Z_-])` and `([\\w-])(:|&lt;|&gt;)([\\w-])` and still does not work. I think the individual pattern is fine. It is the matcher groups that is not working.","body":"@Fallenhero tried both <code>([a-zA-Z_-])(:|&lt;|&gt;)([0-9a-zA-Z_-])</code> and <code>([\\w-])(:|&lt;|&gt;)([\\w-])</code> and still does not work. I think the individual pattern is fine. It is the matcher groups that is not working."}],"answers":[{"tags":[],"owner":{"account_id":2421034,"reputation":732,"user_id":2113970,"accept_rate":75,"display_name":"Derek Fredrickson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1482254008,"creation_date":1482254008,"answer_id":41247796,"question_id":41246858,"body_markdown":"I got this to work: (\\w+?)(:|&lt;|&gt;)[a-zA-Z0-9\\\\-]*,\r\n\r\nI used this to figure it out: https://regex101.com/r/fOEzd9/1\r\n\r\nI think the main problem was the numbers makes \\w not match as a word. You also need to account for the dashes.","title":"Why this regex pattern matching does not work","body":"<p>I got this to work: (\\w+?)(:|&lt;|>)[a-zA-Z0-9\\-]*,</p>\n\n<p>I used this to figure it out: <a href=\"https://regex101.com/r/fOEzd9/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/fOEzd9/1</a></p>\n\n<p>I think the main problem was the numbers makes \\w not match as a word. You also need to account for the dashes.</p>\n"},{"tags":[],"owner":{"account_id":7904610,"reputation":175,"user_id":5970538,"accept_rate":75,"display_name":"Henrique Schmitt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507231221,"creation_date":1507231101,"answer_id":46593246,"question_id":41246858,"body_markdown":"I had the same problem and I solved using this string: \r\n\r\n    &quot;(\\\\w+?)(:|&lt;|&gt;)(\\\\w+?),&quot;","title":"Why this regex pattern matching does not work","body":"<p>I had the same problem and I solved using this string: </p>\n\n<pre><code>\"(\\\\w+?)(:|&lt;|&gt;)(\\\\w+?),\"\n</code></pre>\n"}],"owner":{"account_id":4090948,"reputation":4755,"user_id":3358927,"accept_rate":79,"display_name":"ddd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41247796,"answer_count":2,"score":0,"last_activity_date":1692782395,"creation_date":1482250975,"question_id":41246858,"body_markdown":"I am implementing RESTful query with JPA specification. Would like to handle url with multiple criteria that looks like this:\r\n\r\n`http://localhost:8080/samples?search=lastName:doe,age&gt;25`\r\n\r\nThe search string would match pattern `(\\\\w+?)(:|&lt;|&gt;)(\\\\w+?)` separated by &quot;,&quot;.\r\n\r\nTherefore, I wrote the following code to obtain Matcher from a string:\r\n\r\n    static Matcher getMatcherFromString(String str) {                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  \r\n    \tPattern pattern = Pattern.compile(&quot;(\\\\w+?)(:|&lt;|&gt;)(\\\\w+?),&quot;);\r\n        Matcher matcher = pattern.matcher(str + &quot;,&quot;);\r\n        return matcher;\r\n    }\r\n\r\nThis method is then called in controller to parse the url.\r\n\r\nHowever, when I tested the method with string `analysisId:fdebfd6e-d046-4192-8b97-ac9f65dc2009`, it returns null. Why did I do wrong for the pattern matching?","title":"Why this regex pattern matching does not work","body":"<p>I am implementing RESTful query with JPA specification. Would like to handle url with multiple criteria that looks like this:</p>\n\n<p><code>http://localhost:8080/samples?search=lastName:doe,age&gt;25</code></p>\n\n<p>The search string would match pattern <code>(\\\\w+?)(:|&lt;|&gt;)(\\\\w+?)</code> separated by \",\".</p>\n\n<p>Therefore, I wrote the following code to obtain Matcher from a string:</p>\n\n<pre><code>static Matcher getMatcherFromString(String str) {                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  \n    Pattern pattern = Pattern.compile(\"(\\\\w+?)(:|&lt;|&gt;)(\\\\w+?),\");\n    Matcher matcher = pattern.matcher(str + \",\");\n    return matcher;\n}\n</code></pre>\n\n<p>This method is then called in controller to parse the url.</p>\n\n<p>However, when I tested the method with string <code>analysisId:fdebfd6e-d046-4192-8b97-ac9f65dc2009</code>, it returns null. Why did I do wrong for the pattern matching?</p>\n"},{"tags":["java","rest","jersey","multipartform-data"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1550039137,"post_id":54650648,"comment_id":96118145,"body_markdown":"Those aren&#39;t all your dependencies. It looks like you&#39;re using Spring also. Is there something else pulling in a different version of mimepull? Anytime you see a NoSuchMethodError, it&#39;s almost always an incompatible version of a dependency you are mixing.","body":"Those aren&#39;t all your dependencies. It looks like you&#39;re using Spring also. Is there something else pulling in a different version of mimepull? Anytime you see a NoSuchMethodError, it&#39;s almost always an incompatible version of a dependency you are mixing."}],"owner":{"account_id":1975908,"reputation":805,"user_id":1773702,"accept_rate":44,"display_name":"azaveri7"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1081,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692782384,"creation_date":1549976318,"question_id":54650648,"body_markdown":"We are working on a Java REST service which will consume multipart/form-data.\r\n\r\nWe need to upload a file and an XML payload in the same REST operation.\r\n\r\nThe following is our code:\r\n\r\n**web.xml**\r\n\r\n    &lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;ServletName&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\t\t\r\n    \t\t&lt;init-param&gt;\r\n                &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n                &lt;param-value&gt;package-name&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n    \t\t&lt;init-param&gt;\r\n                &lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\r\n                &lt;param-value&gt;org.glassfish.jersey.filter.LoggingFilter;org.glassfish.jersey.media.multipart.MultiPartFeature&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\t\t\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n\r\n**dependencies.gradle**\r\n\r\n    compile(&#39;org.glassfish.jersey.media:jersey-media-multipart:2.22.2&#39;)\r\n    \tcompile(&#39;org.glassfish.jersey.containers:jersey-container-servlet-core:2.22.2&#39;)\r\n\r\n**java changes**\r\n\r\n    @POST\r\n    \t@Path(&quot;/upload&quot;)\r\n    \t@Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    @Produces(MediaType.APPLICATION_XML)\r\n    \tpublic Response upload(@Context HttpServletRequest request, \r\n    \t\t\t@Context UriInfo uriInfo,\r\n    \t\t\t@FormDataParam(&quot;file&quot;) InputStream in,\r\n    \t\t\t@FormDataParam(&quot;s&quot;) String s){\r\n...java code...\r\n}\r\n\r\nBut when we try to upload a file and pass a String parameter to the REST operation via POSTMAN, it gives following exception:\r\n\r\n    org.glassfish.jersey.server.ContainerException: java.lang.NoSuchMethodError: org.jvnet.mimepull.MIMEMessage.close&amp;#40;&amp;#41;V\r\n    \tat org.glassfish.jersey.servlet.internal.ResponseWriter.rethrow(ResponseWriter.java:278)\r\n    \tat org.glassfish.jersey.servlet.internal.ResponseWriter.failure(ResponseWriter.java:260)\r\n    \tat org.glassfish.jersey.server.ServerRuntime$Responder.process(ServerRuntime.java:509)\r\n    \tat org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:334)\r\n    \tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\r\n    \tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:267)\r\n    \tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\r\n    \tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)\r\n    \tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)\r\n    \tat org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)\r\n    \tat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)\r\n    \tat weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:280)\r\n    \tat weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:254)\r\n    \tat weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:136)\r\n    \tat weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:346)\r\n    \tat weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:25)\r\n    \tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\r\n    \tat org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:102)\r\n    \t....\r\n    \tat org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:106)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:106)\r\n    \t...\r\n    \tat org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:106)\r\n    \t...\r\n    \tat org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:106)\r\n    \tat org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:85)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261)\r\n    \tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\r\n    \tat weblogic.servlet.internal.RequestEventsFilter.doFilter(RequestEventsFilter.java:27)\r\n    \tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\r\n    \tat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3436)\r\n    \tat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3402)\r\n    \tat weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\r\n    \tat weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\r\n    \tat weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:57)\r\n    \tat weblogic.servlet.internal.WebAppServletContext.doSecuredExecute(WebAppServletContext.java:2285)\r\n    \tat weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2201)\r\n    \tat weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2179)\r\n    \tat weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1572)\r\n    \tat weblogic.servlet.provider.ContainerSupportProviderImpl$WlsRequestExecutor.run(ContainerSupportProviderImpl.java:255)\r\n    \tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:311)\r\n    \tat weblogic.work.ExecuteThread.run(ExecuteThread.java:263)\r\n    Caused by: java.lang.NoSuchMethodError: org.jvnet.mimepull.MIMEMessage.close&amp;#40;&amp;#41;V\r\n    \tat org.glassfish.jersey.media.multipart.internal.MultiPartReaderClientSide.getMimeParts(MultiPartReaderClientSide.java:276)\r\n    \tat org.glassfish.jersey.media.multipart.internal.MultiPartReaderClientSide.readMultiPart(MultiPartReaderClientSide.java:231)\r\n    \tat org.glassfish.jersey.media.multipart.internal.MultiPartReaderServerSide.readMultiPart(MultiPartReaderServerSide.java:91)\r\n    \tat org.glassfish.jersey.media.multipart.internal.MultiPartReaderClientSide.readFrom(MultiPartReaderClientSide.java:183)\r\n    \tat org.glassfish.jersey.media.multipart.internal.MultiPartReaderClientSide.readFrom(MultiPartReaderClientSide.java:93)\r\n    \tat org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.invokeReadFrom(ReaderInterceptorExecutor.java:256)\r\n    \tat org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.aroundReadFrom(ReaderInterceptorExecutor.java:235)\r\n    \tat org.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:155)\r\n    \tat org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor.aroundReadFrom(MappableExceptionWrapperInterceptor.java:74)\r\n    \tat org.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:155)\r\n    \tat org.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:1085)\r\n    \tat org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:874)\r\n    \tat org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:808)\r\n    \tat org.glassfish.jersey.server.ContainerRequest.readEntity(ContainerRequest.java:234)\r\n    \tat org.glassfish.jersey.media.multipart.internal.FormDataParamValueFactoryProvider$ValueFactory.getEntity(FormDataParamValueFactoryProvider.java:126)\r\n    \tat org.glassfish.jersey.media.multipart.internal.FormDataParamValueFactoryProvider$FormDataMultiPartFactory.provide(FormDataParamValueFactoryProvider.java:144)\r\n    \tat org.glassfish.jersey.media.multipart.internal.FormDataParamValueFactoryProvider$FormDataMultiPartFactory.provide(FormDataParamValueFactoryProvider.java:140)\r\n    \tat org.glassfish.jersey.server.spi.internal.ParamValueFactoryWithSource.provide(ParamValueFactoryWithSource.java:71)\r\n    \tat org.glassfish.jersey.server.spi.internal.ParameterValueHelper.getParameterValues(ParameterValueHelper.java:94)\r\n    \tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$AbstractMethodParamInvoker.getParamValues(JavaResourceMethodDispatcherProvider.java:127)\r\n    \tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)\r\n    \tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)\r\n    \tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)\r\n    \tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)\r\n    \tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)\r\n    \tat org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)\r\n","title":"How to resolve org.glassfish.jersey.server.ContainerException: java.lang.NoSuchMethodError: org.jvnet.mimepull.MIMEMessage.close()V","body":"<p>We are working on a Java REST service which will consume multipart/form-data.</p>\n<p>We need to upload a file and an XML payload in the same REST operation.</p>\n<p>The following is our code:</p>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;servlet&gt;\n        &lt;servlet-name&gt;ServletName&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;        \n        &lt;init-param&gt;\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n            &lt;param-value&gt;package-name&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\n            &lt;param-value&gt;org.glassfish.jersey.filter.LoggingFilter;org.glassfish.jersey.media.multipart.MultiPartFeature&lt;/param-value&gt;\n        &lt;/init-param&gt;       \n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n</code></pre>\n<p><strong>dependencies.gradle</strong></p>\n<pre><code>compile('org.glassfish.jersey.media:jersey-media-multipart:2.22.2')\n    compile('org.glassfish.jersey.containers:jersey-container-servlet-core:2.22.2')\n</code></pre>\n<p><strong>java changes</strong></p>\n<pre><code>@POST\n    @Path(&quot;/upload&quot;)\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\n@Produces(MediaType.APPLICATION_XML)\n    public Response upload(@Context HttpServletRequest request, \n            @Context UriInfo uriInfo,\n            @FormDataParam(&quot;file&quot;) InputStream in,\n            @FormDataParam(&quot;s&quot;) String s){\n</code></pre>\n<p>...java code...\n}</p>\n<p>But when we try to upload a file and pass a String parameter to the REST operation via POSTMAN, it gives following exception:</p>\n<pre><code>org.glassfish.jersey.server.ContainerException: java.lang.NoSuchMethodError: org.jvnet.mimepull.MIMEMessage.close&amp;#40;&amp;#41;V\n    at org.glassfish.jersey.servlet.internal.ResponseWriter.rethrow(ResponseWriter.java:278)\n    at org.glassfish.jersey.servlet.internal.ResponseWriter.failure(ResponseWriter.java:260)\n    at org.glassfish.jersey.server.ServerRuntime$Responder.process(ServerRuntime.java:509)\n    at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:334)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:267)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\n    at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305)\n    at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154)\n    at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473)\n    at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341)\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228)\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:280)\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:254)\n    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:136)\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:346)\n    at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:25)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\n    at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:102)\n    ....\n    at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:106)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:106)\n    ...\n    at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:106)\n    ...\n    at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:106)\n    at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:85)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\n    at weblogic.servlet.internal.RequestEventsFilter.doFilter(RequestEventsFilter.java:27)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3436)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3402)\n    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n    at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\n    at weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:57)\n    at weblogic.servlet.internal.WebAppServletContext.doSecuredExecute(WebAppServletContext.java:2285)\n    at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2201)\n    at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2179)\n    at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1572)\n    at weblogic.servlet.provider.ContainerSupportProviderImpl$WlsRequestExecutor.run(ContainerSupportProviderImpl.java:255)\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:311)\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:263)\nCaused by: java.lang.NoSuchMethodError: org.jvnet.mimepull.MIMEMessage.close&amp;#40;&amp;#41;V\n    at org.glassfish.jersey.media.multipart.internal.MultiPartReaderClientSide.getMimeParts(MultiPartReaderClientSide.java:276)\n    at org.glassfish.jersey.media.multipart.internal.MultiPartReaderClientSide.readMultiPart(MultiPartReaderClientSide.java:231)\n    at org.glassfish.jersey.media.multipart.internal.MultiPartReaderServerSide.readMultiPart(MultiPartReaderServerSide.java:91)\n    at org.glassfish.jersey.media.multipart.internal.MultiPartReaderClientSide.readFrom(MultiPartReaderClientSide.java:183)\n    at org.glassfish.jersey.media.multipart.internal.MultiPartReaderClientSide.readFrom(MultiPartReaderClientSide.java:93)\n    at org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.invokeReadFrom(ReaderInterceptorExecutor.java:256)\n    at org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.aroundReadFrom(ReaderInterceptorExecutor.java:235)\n    at org.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:155)\n    at org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor.aroundReadFrom(MappableExceptionWrapperInterceptor.java:74)\n    at org.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:155)\n    at org.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:1085)\n    at org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:874)\n    at org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:808)\n    at org.glassfish.jersey.server.ContainerRequest.readEntity(ContainerRequest.java:234)\n    at org.glassfish.jersey.media.multipart.internal.FormDataParamValueFactoryProvider$ValueFactory.getEntity(FormDataParamValueFactoryProvider.java:126)\n    at org.glassfish.jersey.media.multipart.internal.FormDataParamValueFactoryProvider$FormDataMultiPartFactory.provide(FormDataParamValueFactoryProvider.java:144)\n    at org.glassfish.jersey.media.multipart.internal.FormDataParamValueFactoryProvider$FormDataMultiPartFactory.provide(FormDataParamValueFactoryProvider.java:140)\n    at org.glassfish.jersey.server.spi.internal.ParamValueFactoryWithSource.provide(ParamValueFactoryWithSource.java:71)\n    at org.glassfish.jersey.server.spi.internal.ParameterValueHelper.getParameterValues(ParameterValueHelper.java:94)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$AbstractMethodParamInvoker.getParamValues(JavaResourceMethodDispatcherProvider.java:127)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)\n    at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","tomcat"],"answers":[{"tags":[],"owner":{"account_id":17031547,"reputation":1,"user_id":22420641,"display_name":"Veseha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692782175,"creation_date":1692782175,"answer_id":76959938,"question_id":76942389,"body_markdown":"Well, after two days of searching for the problem I created an empty project and started to manually move all files and set dependencies manually and it worked, as I realized in the library directory accumulated several versions of the same libraries that were taken into account when compiling the package and because of them did not load pages, I realized this by the size of the compiled file before and after (was 98mb, became 60mb, the code is the same).","title":"Spring Boot pages/views works when running from IntelliJ, but when running from .jar I get a blank page for any url/request","body":"<p>Well, after two days of searching for the problem I created an empty project and started to manually move all files and set dependencies manually and it worked, as I realized in the library directory accumulated several versions of the same libraries that were taken into account when compiling the package and because of them did not load pages, I realized this by the size of the compiled file before and after (was 98mb, became 60mb, the code is the same).</p>\n"}],"owner":{"account_id":17031547,"reputation":1,"user_id":22420641,"display_name":"Veseha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76959938,"answer_count":1,"score":0,"last_activity_date":1692782175,"creation_date":1692591940,"question_id":76942389,"body_markdown":"When I run the project through IDE (Intellij) all pages, mvc, controllers work fine, but when I compile the executable (package) and run it with the same JDK, I get blank pages, and Spring Boot sees that I&#39;m trying to access a certain page, but then it redirects to ErrorController right away\r\n\r\n\r\n\r\nThe log of.jar \r\n```\r\n2023-08-21T09:29:11.495+06:00 DEBUG 468841 --- [io-10000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.emailcalendarjava.controller.PPWController#showmyPPWList(Model, Principal)\r\n2023-08-21T09:29:11.546+06:00 DEBUG 468841 --- [io-10000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.emailcalendarjava.controller.ErrorController#handleError(HttpServletRequest, Model)\r\n```\r\n\r\nin Intellij:\r\n\r\n```\r\n2023-08-21T09:51:11.149+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n2023-08-21T09:51:11.150+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n2023-08-21T09:51:11.150+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n2023-08-21T09:51:11.151+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n2023-08-21T09:51:11.152+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n2023-08-21T09:51:11.152+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n2023-08-21T09:51:11.153+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n2023-08-21T09:51:11.153+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.web.servlet.DispatcherServlet        : GET &quot;/favicon.ico&quot;, parameters={}\r\n2023-08-21T09:51:11.154+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n2023-08-21T09:51:11.167+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n```\r\n\r\nAttempts to change library versions, security configuration, tomcat settings (now I use as before embedded without additional settings) did not give any result. Set Error contrloeer to default is also not give result.\r\n\r\nmy pom.xml\r\n&lt;!-- language: xml --&gt;\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;EmailCalendarJava&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;EmailCalendarJava&lt;/name&gt;\r\n    &lt;description&gt;EmailCalendarJava&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-envers&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-audit-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n            &lt;!-- Temporary explicit version to fix Thymeleaf bug --&gt;\r\n            &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;BeeTasks&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;executable&gt;\r\n                        true\r\n                    &lt;/executable&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nThe main file\r\n&lt;!-- language: java --&gt;\r\n```\r\n@Configuration\r\n@EnableAutoConfiguration\r\n//@SpringBootApplication\r\n@SpringBootConfiguration\r\n@EnableScheduling\r\n@ComponentScan  //(basePackages = &quot;com.example.emailcalendarjava&quot;)\r\npublic class EmailCalendarJavaApplication extends SpringBootServletInitializer {\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n        return builder.sources(SpringApplicationBuilder.class);\r\n    }\r\n    public static final Logger log = LoggerFactory.getLogger(EmailCalendarJavaApplication.class);\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(EmailCalendarJavaApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\nOne of the example of my controller\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\n@Controller\r\n@RequiredArgsConstructor\r\npublic class PPWController {\r\n    private final SomeServices someServices;\r\n\r\n    @GetMapping(&quot;/show&quot;)\r\n    public String show(Model model, Principal principal) {... returm &quot;template&quot;}\r\n\r\n```\r\n\r\nSecurity (II&#39;m not sure if it&#39;s a security issue, but just in case, I&#39;ll put it here too.)\r\n\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@Order(Ordered.LOWEST_PRECEDENCE)\r\n@RequiredArgsConstructor\r\npublic class EndToEndSecurityDemo {\r\n\r\n    private final EndToEndUserDetailsService userDetailsService;\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider(){\r\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n        authenticationProvider.setUserDetailsService(userDetailsService);\r\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\r\n        return authenticationProvider;\r\n    }\r\n   @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http.csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/**&quot;).denyAll()\r\n                .requestMatchers(\r\n                        &quot;/&quot;,\r\n                        &quot;/login&quot;,\r\n                        &quot;/error&quot;,\r\n                        &quot;/registration/**&quot;,\r\n                        &quot;/public-img/**&quot;,\r\n                        &quot;favicon.ico&quot;\r\n\r\n                )\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n\r\n                .and()\r\n\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .usernameParameter(&quot;email&quot;)\r\n                .defaultSuccessUrl(&quot;/&quot;)\r\n                .permitAll()\r\n\r\n                .and()\r\n                .logout()\r\n                .invalidateHttpSession(true)\r\n                .clearAuthentication(true)\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                .logoutSuccessUrl(&quot;/&quot;)\r\n                .and()\r\n                .build()\r\n                ;\r\n    }\r\n}\r\n\r\n```","title":"Spring Boot pages/views works when running from IntelliJ, but when running from .jar I get a blank page for any url/request","body":"<p>When I run the project through IDE (Intellij) all pages, mvc, controllers work fine, but when I compile the executable (package) and run it with the same JDK, I get blank pages, and Spring Boot sees that I'm trying to access a certain page, but then it redirects to ErrorController right away</p>\n<p>The log of.jar</p>\n<pre><code>2023-08-21T09:29:11.495+06:00 DEBUG 468841 --- [io-10000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.emailcalendarjava.controller.PPWController#showmyPPWList(Model, Principal)\n2023-08-21T09:29:11.546+06:00 DEBUG 468841 --- [io-10000-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.emailcalendarjava.controller.ErrorController#handleError(HttpServletRequest, Model)\n</code></pre>\n<p>in Intellij:</p>\n<pre><code>2023-08-21T09:51:11.149+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n2023-08-21T09:51:11.150+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n2023-08-21T09:51:11.150+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n2023-08-21T09:51:11.151+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n2023-08-21T09:51:11.152+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n2023-08-21T09:51:11.152+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n2023-08-21T09:51:11.153+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n2023-08-21T09:51:11.153+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.web.servlet.DispatcherServlet        : GET &quot;/favicon.ico&quot;, parameters={}\n2023-08-21T09:51:11.154+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n2023-08-21T09:51:11.167+06:00 DEBUG 4728 --- [io-10000-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n</code></pre>\n<p>Attempts to change library versions, security configuration, tomcat settings (now I use as before embedded without additional settings) did not give any result. Set Error contrloeer to default is also not give result.</p>\n<p>my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;EmailCalendarJava&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;EmailCalendarJava&lt;/name&gt;\n    &lt;description&gt;EmailCalendarJava&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-envers&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-audit-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n            &lt;!-- Temporary explicit version to fix Thymeleaf bug --&gt;\n            &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;BeeTasks&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;\n                        true\n                    &lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>The main file</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableAutoConfiguration\n//@SpringBootApplication\n@SpringBootConfiguration\n@EnableScheduling\n@ComponentScan  //(basePackages = &quot;com.example.emailcalendarjava&quot;)\npublic class EmailCalendarJavaApplication extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        return builder.sources(SpringApplicationBuilder.class);\n    }\n    public static final Logger log = LoggerFactory.getLogger(EmailCalendarJavaApplication.class);\n    public static void main(String[] args) {\n        SpringApplication.run(EmailCalendarJavaApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>One of the example of my controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequiredArgsConstructor\npublic class PPWController {\n    private final SomeServices someServices;\n\n    @GetMapping(&quot;/show&quot;)\n    public String show(Model model, Principal principal) {... returm &quot;template&quot;}\n\n</code></pre>\n<p>Security (II'm not sure if it's a security issue, but just in case, I'll put it here too.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@Order(Ordered.LOWEST_PRECEDENCE)\n@RequiredArgsConstructor\npublic class EndToEndSecurityDemo {\n\n    private final EndToEndUserDetailsService userDetailsService;\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n    @Bean\n    public AuthenticationProvider authenticationProvider(){\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService);\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        return authenticationProvider;\n    }\n   @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http.csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/**&quot;).denyAll()\n                .requestMatchers(\n                        &quot;/&quot;,\n                        &quot;/login&quot;,\n                        &quot;/error&quot;,\n                        &quot;/registration/**&quot;,\n                        &quot;/public-img/**&quot;,\n                        &quot;favicon.ico&quot;\n\n                )\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n\n                .and()\n\n                .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .usernameParameter(&quot;email&quot;)\n                .defaultSuccessUrl(&quot;/&quot;)\n                .permitAll()\n\n                .and()\n                .logout()\n                .invalidateHttpSession(true)\n                .clearAuthentication(true)\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/&quot;)\n                .and()\n                .build()\n                ;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670900478,"creation_date":1670900478,"answer_id":74779525,"question_id":74779212,"body_markdown":"4.25 and 4.26 both support *developing* for Java 11, they just have components that require Java 17 to run properly. You can download a compatible JDK from https://adoptium.net/temurin/releases/ .\r\n\r\nIf there&#39;s a newer WebLogic plug-in, you should also get that. Version 17.3.0.201903121357 indicates a build from 2019.","title":"An internal error occurred during: &quot;Requesting Java AST from selection&quot;. java.lang.NoSuchMethodError: com.ibm.icu.text.UTF16.isSurrogate(C)Z","body":"<p>4.25 and 4.26 both support <em>developing</em> for Java 11, they just have components that require Java 17 to run properly. You can download a compatible JDK from <a href=\"https://adoptium.net/temurin/releases/\" rel=\"nofollow noreferrer\">https://adoptium.net/temurin/releases/</a> .</p>\n<p>If there's a newer WebLogic plug-in, you should also get that. Version 17.3.0.201903121357 indicates a build from 2019.</p>\n"},{"tags":[],"owner":{"account_id":27660794,"reputation":11,"user_id":21113681,"display_name":"Gerry Rush"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675111456,"creation_date":1675111456,"answer_id":75289920,"question_id":74779212,"body_markdown":"Very frustrating.  I&#39;m getting this error in a little box. \r\n\r\n&quot;An internal error occurred during: &quot;Requesting Java AST from selection&quot;.\r\ncom.ibm.icu.text.UTF16.isSurrogate(C)Z&quot; \r\n\r\nI minimize the error box. It drops to the lower left corner of the screen, and everything seems to work fine. Will research this later.","title":"An internal error occurred during: &quot;Requesting Java AST from selection&quot;. java.lang.NoSuchMethodError: com.ibm.icu.text.UTF16.isSurrogate(C)Z","body":"<p>Very frustrating.  I'm getting this error in a little box.</p>\n<p>&quot;An internal error occurred during: &quot;Requesting Java AST from selection&quot;.\ncom.ibm.icu.text.UTF16.isSurrogate(C)Z&quot;</p>\n<p>I minimize the error box. It drops to the lower left corner of the screen, and everything seems to work fine. Will research this later.</p>\n"},{"tags":[],"owner":{"account_id":6469743,"reputation":2377,"user_id":5010285,"display_name":"Petronella"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692781703,"creation_date":1692781703,"answer_id":76959895,"question_id":74779212,"body_markdown":"In Eclipse Menu window &gt; Settings &gt; Java &gt; Editor &gt; Mark Occurrences \r\nDisable &quot;Mark occurrences&quot;","title":"An internal error occurred during: &quot;Requesting Java AST from selection&quot;. java.lang.NoSuchMethodError: com.ibm.icu.text.UTF16.isSurrogate(C)Z","body":"<p>In Eclipse Menu window &gt; Settings &gt; Java &gt; Editor &gt; Mark Occurrences\nDisable &quot;Mark occurrences&quot;</p>\n"}],"owner":{"account_id":14836949,"reputation":83,"user_id":10714736,"display_name":"bulbasarous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18622,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1692781703,"creation_date":1670896824,"question_id":74779212,"body_markdown":"I&#39;m using \r\n- eclipse.buildId=4.24.0.I20220607-0700 \r\n- java.version=11.0.17.\r\n- BootLoader constants: OS=macosx, ARCH=aarch64, WS=cocoa\r\n\r\nError: An internal error occurred during: &quot;Requesting Java AST from selection&quot;. java.lang.NoSuchMethodError: com.ibm.icu.text.UTF16.isSurrogate(C)Z\r\n\r\nThis error occurred after downloading the Oracle WebLogic Server Tools plugin (17.3.0.201903121357) on eclipse.\r\n\r\nFrom what I&#39;ve found, it&#39;s probably because there are two versions of ICU4J, and the 72v only has this method ```boolean isSurrogate(int codePoint)``` and not ```boolean isSurrogate(char char16)```. \r\n\r\n[![Two versions of icu4j installed][1]][1]\r\n\r\nDoes anyone know how to fix this without upgrading eclipse to 4.25? As it seems like 4.24 is the most recent version that supports Java 11.\r\n\r\nI&#39;ve already tried deleting the ICU4J 72 plugin manually but it removes maven from my eclipse.\r\n\r\nFull error logs:\r\n&gt;An internal error occurred during: &quot;Requesting Java AST from selection&quot;.\r\njava.lang.NoSuchMethodError: com.ibm.icu.text.UTF16.isSurrogate(C)Z\r\n\tat org.eclipse.jdt.internal.ui.text.JavaWordFinder.findWord(JavaWordFinder.java:39)\r\n\tat org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.updateOccurrenceAnnotations(JavaEditor.java:3300)\r\n\tat org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.lambda$4(JavaEditor.java:3363)\r\n\tat org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:175)\r\n\tat org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup$1.run(SelectionListenerWithASTManager.java:151)\r\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n\r\n&gt;Problems occurred when invoking code from plug-in: &quot;org.eclipse.ui.workbench&quot;.\r\njava.lang.NoSuchMethodError: com.ibm.icu.text.UTF16.isSurrogate(C)Z\r\n\tat org.eclipse.jdt.internal.ui.text.JavaWordFinder.findWord(JavaWordFinder.java:39)\r\n\tat org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.updateOccurrenceAnnotations(JavaEditor.java:3300)\r\n\tat org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$ActivationListener.windowActivated(JavaEditor.java:1216)\r\n\tat org.eclipse.ui.internal.Workbench$8.run(Workbench.java:1005)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.ui.internal.Workbench.fireWindowActivated(Workbench.java:1002)\r\n\tat org.eclipse.ui.internal.WorkbenchWindow$6.shellActivated(WorkbenchWindow.java:2459)\r\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:92)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4604)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1524)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1547)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1528)\r\n\tat org.eclipse.swt.widgets.Shell.windowDidBecomeKey(Shell.java:2314)\r\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:6373)\r\n\tat org.eclipse.swt.internal.cocoa.OS.objc_msgSendSuper(Native Method)\r\n\tat org.eclipse.swt.widgets.Widget.callSuper(Widget.java:229)\r\n\tat org.eclipse.swt.widgets.Widget.becomeKeyWindow(Widget.java:390)\r\n\tat org.eclipse.swt.widgets.Shell.becomeKeyWindow(Shell.java:533)\r\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:6092)\r\n\tat org.eclipse.swt.internal.cocoa.OS.objc_msgSend(Native Method)\r\n\tat org.eclipse.swt.internal.cocoa.NSWindow.close(NSWindow.java:57)\r\n\tat org.eclipse.swt.widgets.Shell.destroyWidget(Shell.java:819)\r\n\tat org.eclipse.swt.widgets.Widget.release(Widget.java:1373)\r\n\tat org.eclipse.swt.widgets.Control.release(Control.java:2970)\r\n\tat org.eclipse.swt.widgets.Widget.dispose(Widget.java:695)\r\n\tat org.eclipse.jface.window.Window.close(Window.java:335)\r\n\tat org.eclipse.jface.dialogs.Dialog.close(Dialog.java:988)\r\n\tat org.eclipse.ui.internal.statushandlers.InternalDialog.close(InternalDialog.java:651)\r\n\tat org.eclipse.jface.window.Window.handleShellCloseEvent(Window.java:739)\r\n\tat org.eclipse.jface.dialogs.TrayDialog.handleShellCloseEvent(TrayDialog.java:220)\r\n\tat org.eclipse.jface.window.Window$1.shellClosed(Window.java:685)\r\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:102)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4604)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1524)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1547)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1532)\r\n\tat org.eclipse.swt.widgets.Shell.closeWidget(Shell.java:624)\r\n\tat org.eclipse.swt.widgets.Shell.windowShouldClose(Shell.java:2518)\r\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:6278)\r\n\tat org.eclipse.swt.internal.cocoa.OS.objc_msgSendSuper(Native Method)\r\n\tat org.eclipse.swt.widgets.Widget.callSuper(Widget.java:236)\r\n\tat org.eclipse.swt.widgets.Widget.windowSendEvent(Widget.java:2162)\r\n\tat org.eclipse.swt.widgets.Shell.windowSendEvent(Shell.java:2487)\r\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:6405)\r\n\tat org.eclipse.swt.internal.cocoa.OS.objc_msgSendSuper(Native Method)\r\n\tat org.eclipse.swt.widgets.Display.applicationSendEvent(Display.java:5653)\r\n\tat org.eclipse.swt.widgets.Display.applicationProc(Display.java:5792)\r\n\tat org.eclipse.swt.internal.cocoa.OS.objc_msgSend(Native Method)\r\n\tat org.eclipse.swt.internal.cocoa.NSApplication.sendEvent(NSApplication.java:117)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3963)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:644)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T9KCq.png","title":"An internal error occurred during: &quot;Requesting Java AST from selection&quot;. java.lang.NoSuchMethodError: com.ibm.icu.text.UTF16.isSurrogate(C)Z","body":"<p>I'm using</p>\n<ul>\n<li>eclipse.buildId=4.24.0.I20220607-0700</li>\n<li>java.version=11.0.17.</li>\n<li>BootLoader constants: OS=macosx, ARCH=aarch64, WS=cocoa</li>\n</ul>\n<p>Error: An internal error occurred during: &quot;Requesting Java AST from selection&quot;. java.lang.NoSuchMethodError: com.ibm.icu.text.UTF16.isSurrogate(C)Z</p>\n<p>This error occurred after downloading the Oracle WebLogic Server Tools plugin (17.3.0.201903121357) on eclipse.</p>\n<p>From what I've found, it's probably because there are two versions of ICU4J, and the 72v only has this method <code>boolean isSurrogate(int codePoint)</code> and not <code>boolean isSurrogate(char char16)</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/T9KCq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/T9KCq.png\" alt=\"Two versions of icu4j installed\" /></a></p>\n<p>Does anyone know how to fix this without upgrading eclipse to 4.25? As it seems like 4.24 is the most recent version that supports Java 11.</p>\n<p>I've already tried deleting the ICU4J 72 plugin manually but it removes maven from my eclipse.</p>\n<p>Full error logs:</p>\n<blockquote>\n<p>An internal error occurred during: &quot;Requesting Java AST from selection&quot;.\njava.lang.NoSuchMethodError: com.ibm.icu.text.UTF16.isSurrogate(C)Z\nat org.eclipse.jdt.internal.ui.text.JavaWordFinder.findWord(JavaWordFinder.java:39)\nat org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.updateOccurrenceAnnotations(JavaEditor.java:3300)\nat org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.lambda$4(JavaEditor.java:3363)\nat org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:175)\nat org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup$1.run(SelectionListenerWithASTManager.java:151)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)</p>\n</blockquote>\n<blockquote>\n<p>Problems occurred when invoking code from plug-in: &quot;org.eclipse.ui.workbench&quot;.\njava.lang.NoSuchMethodError: com.ibm.icu.text.UTF16.isSurrogate(C)Z\nat org.eclipse.jdt.internal.ui.text.JavaWordFinder.findWord(JavaWordFinder.java:39)\nat org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.updateOccurrenceAnnotations(JavaEditor.java:3300)\nat org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$ActivationListener.windowActivated(JavaEditor.java:1216)\nat org.eclipse.ui.internal.Workbench$8.run(Workbench.java:1005)\nat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\nat org.eclipse.ui.internal.Workbench.fireWindowActivated(Workbench.java:1002)\nat org.eclipse.ui.internal.WorkbenchWindow$6.shellActivated(WorkbenchWindow.java:2459)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:92)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\nat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4604)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1524)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1547)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1528)\nat org.eclipse.swt.widgets.Shell.windowDidBecomeKey(Shell.java:2314)\nat org.eclipse.swt.widgets.Display.windowProc(Display.java:6373)\nat org.eclipse.swt.internal.cocoa.OS.objc_msgSendSuper(Native Method)\nat org.eclipse.swt.widgets.Widget.callSuper(Widget.java:229)\nat org.eclipse.swt.widgets.Widget.becomeKeyWindow(Widget.java:390)\nat org.eclipse.swt.widgets.Shell.becomeKeyWindow(Shell.java:533)\nat org.eclipse.swt.widgets.Display.windowProc(Display.java:6092)\nat org.eclipse.swt.internal.cocoa.OS.objc_msgSend(Native Method)\nat org.eclipse.swt.internal.cocoa.NSWindow.close(NSWindow.java:57)\nat org.eclipse.swt.widgets.Shell.destroyWidget(Shell.java:819)\nat org.eclipse.swt.widgets.Widget.release(Widget.java:1373)\nat org.eclipse.swt.widgets.Control.release(Control.java:2970)\nat org.eclipse.swt.widgets.Widget.dispose(Widget.java:695)\nat org.eclipse.jface.window.Window.close(Window.java:335)\nat org.eclipse.jface.dialogs.Dialog.close(Dialog.java:988)\nat org.eclipse.ui.internal.statushandlers.InternalDialog.close(InternalDialog.java:651)\nat org.eclipse.jface.window.Window.handleShellCloseEvent(Window.java:739)\nat org.eclipse.jface.dialogs.TrayDialog.handleShellCloseEvent(TrayDialog.java:220)\nat org.eclipse.jface.window.Window$1.shellClosed(Window.java:685)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:102)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\nat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4604)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1524)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1547)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1532)\nat org.eclipse.swt.widgets.Shell.closeWidget(Shell.java:624)\nat org.eclipse.swt.widgets.Shell.windowShouldClose(Shell.java:2518)\nat org.eclipse.swt.widgets.Display.windowProc(Display.java:6278)\nat org.eclipse.swt.internal.cocoa.OS.objc_msgSendSuper(Native Method)\nat org.eclipse.swt.widgets.Widget.callSuper(Widget.java:236)\nat org.eclipse.swt.widgets.Widget.windowSendEvent(Widget.java:2162)\nat org.eclipse.swt.widgets.Shell.windowSendEvent(Shell.java:2487)\nat org.eclipse.swt.widgets.Display.windowProc(Display.java:6405)\nat org.eclipse.swt.internal.cocoa.OS.objc_msgSendSuper(Native Method)\nat org.eclipse.swt.widgets.Display.applicationSendEvent(Display.java:5653)\nat org.eclipse.swt.widgets.Display.applicationProc(Display.java:5792)\nat org.eclipse.swt.internal.cocoa.OS.objc_msgSend(Native Method)\nat org.eclipse.swt.internal.cocoa.NSApplication.sendEvent(NSApplication.java:117)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3963)\nat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\nat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\nat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\nat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:644)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\nat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1467)</p>\n</blockquote>\n"},{"tags":["java","regex","url"],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1439824318,"creation_date":1439818707,"answer_id":32051898,"question_id":32051819,"body_markdown":"Use\r\n\r\n    static String AdrPattern=&quot;http://www\\\\.([^&amp;]+)\\\\.com.*&quot;;\r\n                                        ^^              ^\r\n\r\nYou escaped the final dot, and it was treated as a literal, and `matches` could not match the entire string. Also, the first dot must be escaped.\r\n\r\nAlso, to make the regex a bit more strict, you can replace the `[^&amp;]+` with `[^/&amp;]`.\r\n\r\n**UPDATE**:\r\n\r\n    static String AdrPattern=&quot;http://www\\\\.([^/&amp;]+)\\\\.com/([^/]+)/([^/]+)/([^/]+).*&quot;;\r\n    static Pattern WebUrlPattern = Pattern.compile (AdrPattern);\r\n    static Matcher WebUrlMatcher = WebUrlPattern.matcher(&quot;http://www.lego.com/en-us/technic/?domainredir=technic.lego&quot;);\r\n    if(WebUrlMatcher.matches()) {\r\n        String  extractedPath = WebUrlMatcher.group(1);\r\n        String  extractedPart1 = WebUrlMatcher.group(2);\r\n        String  extractedPart2 = WebUrlMatcher.group(3);\r\n        String  extractedPart3 = WebUrlMatcher.group(4);\r\n    }\r\n\r\nOr, with `\\G`:\r\n\r\n    static String AdrPattern=&quot;(?:http://www\\\\.([^/&amp;]+)\\\\.com/|(?!^)\\\\G)/?([^/]+)&quot;;\r\n    static String AdrPattern=&quot;http://www\\\\.([^/&amp;]+)\\\\.com/([^/]+)/([^/]+)/([^/]+)&quot;;\r\n    static Pattern WebUrlPattern = Pattern.compile (AdrPattern);\r\n    static Matcher WebUrlMatcher = WebUrlPattern.matcher(&quot;http://www.lego.com/en-us/technic/?domainredir=technic.lego&quot;);\r\n    int cnt = 0;\r\n    while(WebUrlMatcher.find()) {\r\n        if (cnt == 0) {\r\n           String extractedPath = WebUrlMatcher.group(1);\r\n           String extractedPart = WebUrlMatcher.group(2);\r\n           cnt = cnt + 1;\r\n        }\r\n        else {\r\n           String extractedPart = WebUrlMatcher.group(2);\r\n        }\r\n    }","title":"Using Matcher to extract URL domain name","body":"<p>Use</p>\n\n<pre><code>static String AdrPattern=\"http://www\\\\.([^&amp;]+)\\\\.com.*\";\n                                    ^^              ^\n</code></pre>\n\n<p>You escaped the final dot, and it was treated as a literal, and <code>matches</code> could not match the entire string. Also, the first dot must be escaped.</p>\n\n<p>Also, to make the regex a bit more strict, you can replace the <code>[^&amp;]+</code> with <code>[^/&amp;]</code>.</p>\n\n<p><strong>UPDATE</strong>:</p>\n\n<pre><code>static String AdrPattern=\"http://www\\\\.([^/&amp;]+)\\\\.com/([^/]+)/([^/]+)/([^/]+).*\";\nstatic Pattern WebUrlPattern = Pattern.compile (AdrPattern);\nstatic Matcher WebUrlMatcher = WebUrlPattern.matcher(\"http://www.lego.com/en-us/technic/?domainredir=technic.lego\");\nif(WebUrlMatcher.matches()) {\n    String  extractedPath = WebUrlMatcher.group(1);\n    String  extractedPart1 = WebUrlMatcher.group(2);\n    String  extractedPart2 = WebUrlMatcher.group(3);\n    String  extractedPart3 = WebUrlMatcher.group(4);\n}\n</code></pre>\n\n<p>Or, with <code>\\G</code>:</p>\n\n<pre><code>static String AdrPattern=\"(?:http://www\\\\.([^/&amp;]+)\\\\.com/|(?!^)\\\\G)/?([^/]+)\";\nstatic String AdrPattern=\"http://www\\\\.([^/&amp;]+)\\\\.com/([^/]+)/([^/]+)/([^/]+)\";\nstatic Pattern WebUrlPattern = Pattern.compile (AdrPattern);\nstatic Matcher WebUrlMatcher = WebUrlPattern.matcher(\"http://www.lego.com/en-us/technic/?domainredir=technic.lego\");\nint cnt = 0;\nwhile(WebUrlMatcher.find()) {\n    if (cnt == 0) {\n       String extractedPath = WebUrlMatcher.group(1);\n       String extractedPart = WebUrlMatcher.group(2);\n       cnt = cnt + 1;\n    }\n    else {\n       String extractedPart = WebUrlMatcher.group(2);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1035579,"reputation":2534,"user_id":1042952,"accept_rate":59,"display_name":"lonesome"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32051898,"answer_count":1,"score":1,"last_activity_date":1692781480,"creation_date":1439818459,"question_id":32051819,"body_markdown":"        static String AdrPattern=&quot;http://www.([^&amp;]+)\\\\.com\\\\.*&quot;;\r\n        static Pattern WebUrlPattern = Pattern.compile (AdrPattern);\r\n        static Matcher WebUrlMatcher;\r\n                    WebUrlMatcher = WebUrlPattern.matcher (&quot;keyword&quot;);\r\n                    if(WebUrlMatcher.matches())\r\n                 String  extractedPath = WebUrlMatcher.group (1);\r\n                  \r\n                    \r\n                \r\n\r\nConsidering above codes, My aim is to extract the domain name from the URL and dismiss the rest. But the trouble is that, first of all, if the URL has deeper path, it will not ignore it and second, it does not work for all URL with `.com` extension.\r\n\r\nFor example, if the URL is `http://www.lego.com/en-us/technic/?domainredir=technic.lego`, the result will not be `lego` but `lego.com/en-us/technic/?domainredir=technic.lego`.","title":"Using Matcher to extract URL domain name","body":"<pre><code>    static String AdrPattern=\"http://www.([^&amp;]+)\\\\.com\\\\.*\";\n    static Pattern WebUrlPattern = Pattern.compile (AdrPattern);\n    static Matcher WebUrlMatcher;\n                WebUrlMatcher = WebUrlPattern.matcher (\"keyword\");\n                if(WebUrlMatcher.matches())\n             String  extractedPath = WebUrlMatcher.group (1);\n</code></pre>\n\n<p>Considering above codes, My aim is to extract the domain name from the URL and dismiss the rest. But the trouble is that, first of all, if the URL has deeper path, it will not ignore it and second, it does not work for all URL with <code>.com</code> extension.</p>\n\n<p>For example, if the URL is <code>http://www.lego.com/en-us/technic/?domainredir=technic.lego</code>, the result will not be <code>lego</code> but <code>lego.com/en-us/technic/?domainredir=technic.lego</code>.</p>\n"},{"tags":["java","search"],"comments":[{"owner":{"account_id":3393940,"reputation":1717,"user_id":2848117,"accept_rate":100,"display_name":"Dom"},"score":2,"creation_date":1387286856,"post_id":20635394,"comment_id":30886888,"body_markdown":"What are you expecting and what are you getting?","body":"What are you expecting and what are you getting?"},{"owner":{"account_id":1889421,"reputation":777,"user_id":1710775,"accept_rate":57,"display_name":"Ray.R.Chua"},"score":0,"creation_date":1387287691,"post_id":20635394,"comment_id":30887478,"body_markdown":"@Dom, I have added a map to explain a bit more. I am trying to find the shortest path from Arad to Bucharest. The path should be [Arad, Sibiu, Rimnicu Vilcea, Pitesti, Bucharest]. But I am getting [Arad, Sibiu, Fagaras, Bucharest]","body":"@Dom, I have added a map to explain a bit more. I am trying to find the shortest path from Arad to Bucharest. The path should be [Arad, Sibiu, Rimnicu Vilcea, Pitesti, Bucharest]. But I am getting [Arad, Sibiu, Fagaras, Bucharest]"}],"answers":[{"tags":[],"owner":{"account_id":1889421,"reputation":777,"user_id":1710775,"accept_rate":57,"display_name":"Ray.R.Chua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387289702,"creation_date":1387289702,"answer_id":20636454,"question_id":20635394,"body_markdown":"Wow. I manage to figure out! Apparently, I added a 2-way edges instead of just 1-way edges. Instead of having Edge e1 going from Node A to Node B and Edge e2 going from Node B to Node A, I remove e2, such that it becomes a single directed graph. Thus, the algorithm works!","title":"Uniform Cost Search Implementation","body":"<p>Wow. I manage to figure out! Apparently, I added a 2-way edges instead of just 1-way edges. Instead of having Edge e1 going from Node A to Node B and Edge e2 going from Node B to Node A, I remove e2, such that it becomes a single directed graph. Thus, the algorithm works!</p>\n"},{"tags":[],"owner":{"account_id":398094,"reputation":636,"user_id":762588,"display_name":"Viktor Seifert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387292383,"creation_date":1387292383,"answer_id":20637445,"question_id":20635394,"body_markdown":"The problem with your algorith is the part when you find a new shorter path to a node that is already in the queue.  You should not set `current` outside the call to `poll` as this breaks the algorithms scheme.  Instead you should decrease the key/priority/current-shortest-path-cost of the node.\r\n\r\nI&#39;ve updated your code to do this.  It provides the expected result.  But like I said in a comment, when it comes to asymptotic complexity this is not the most efficient solution.  The best option is to find or write a `PriorityQueue` that supports dynamically keys efficiently.\r\n\r\nBut here is the updated code:\r\n\r\n\timport java.util.PriorityQueue;\r\n\timport java.util.HashSet;\r\n\timport java.util.Set;\r\n\timport java.util.Collections;\r\n\timport java.util.List;\r\n\timport java.util.ArrayList;\r\n\timport java.util.Comparator;\r\n\r\n\t//diff between uniform cost search and dijkstra algo is that UCS has a goal\r\n\r\n\tpublic class UniformCostSearchAlgo{\r\n\t\tpublic static void main(String[] args){\r\n\r\n\t\t\t//initialize the graph base on the Romania map\r\n\t\t\tNode n1 = new Node(&quot;Arad&quot;);\r\n\t\t\tNode n2 = new Node(&quot;Zerind&quot;);\r\n\t\t\tNode n3 = new Node(&quot;Oradea&quot;);\r\n\t\t\tNode n4 = new Node(&quot;Sibiu&quot;);\r\n\t\t\tNode n5 = new Node(&quot;Fagaras&quot;);\r\n\t\t\tNode n6 = new Node(&quot;Rimnicu Vilcea&quot;);\r\n\t\t\tNode n7 = new Node(&quot;Pitesti&quot;);\r\n\t\t\tNode n8 = new Node(&quot;Timisoara&quot;);\r\n\t\t\tNode n9 = new Node(&quot;Lugoj&quot;);\r\n\t\t\tNode n10 = new Node(&quot;Mehadia&quot;);\r\n\t\t\tNode n11 = new Node(&quot;Drobeta&quot;);\r\n\t\t\tNode n12 = new Node(&quot;Craiova&quot;);\r\n\t\t\tNode n13 = new Node(&quot;Bucharest&quot;);\r\n\t\t\tNode n14 = new Node(&quot;Giurgiu&quot;);\r\n\r\n\t\t\t//initialize the edges\r\n\t\t\tn1.adjacencies = new Edge[]{\r\n\t\t\t\tnew Edge(n2,75),\r\n\t\t\t\tnew Edge(n4,140),\r\n\t\t\t\tnew Edge(n8,118)\r\n\t\t\t};\r\n\r\n\t\t\tn2.adjacencies = new Edge[]{\r\n\t\t\t\tnew Edge(n1,75),\r\n\t\t\t\tnew Edge(n3,71)\r\n\t\t\t};\r\n\r\n\t\t\tn3.adjacencies = new Edge[]{\r\n\t\t\t\tnew Edge(n2,71),\r\n\t\t\t\tnew Edge(n4,151)\r\n\t\t\t};\r\n\r\n\t\t\tn4.adjacencies = new Edge[]{\r\n\t\t\t\tnew Edge(n1,140),\r\n\t\t\t\tnew Edge(n5,99),\r\n\t\t\t\tnew Edge(n3,151),\r\n\t\t\t\tnew Edge(n6,80),\r\n\t\t\t};\r\n\r\n\t\t\tn5.adjacencies = new Edge[]{\r\n\t\t\t\tnew Edge(n4,99),\r\n\t\t\t\tnew Edge(n13,211)\r\n\t\t\t};\r\n\r\n\t\t\tn6.adjacencies = new Edge[]{\r\n\t\t\t\tnew Edge(n4,80),\r\n\t\t\t\tnew Edge(n7,97),\r\n\t\t\t\tnew Edge(n12,146)\r\n\t\t\t};\r\n\r\n\t\t\tn7.adjacencies = new Edge[]{\r\n\t\t\t\tnew Edge(n6,97),\r\n\t\t\t\tnew Edge(n13,101),\r\n\t\t\t\tnew Edge(n12,138)\r\n\t\t\t};\r\n\r\n\t\t\tn8.adjacencies = new Edge[]{\r\n\t\t\t\tnew Edge(n1,118),\r\n\t\t\t\tnew Edge(n9,111)\r\n\t\t\t};\r\n\r\n\t\t\tn9.adjacencies = new Edge[]{\r\n\t\t\t\tnew Edge(n8,111),\r\n\t\t\t\tnew Edge(n10,70)\r\n\t\t\t};\r\n\r\n\t\t\tn10.adjacencies = new Edge[]{\r\n\t\t\t\tnew Edge(n9,70),\r\n\t\t\t\tnew Edge(n11,75)\r\n\t\t\t};\r\n\r\n\t\t\tn11.adjacencies = new Edge[]{\r\n\t\t\t\tnew Edge(n10,75),\r\n\t\t\t\tnew Edge(n12,120)\r\n\t\t\t};\r\n\r\n\t\t\tn12.adjacencies = new Edge[]{\r\n\t\t\t\tnew Edge(n11,120),\r\n\t\t\t\tnew Edge(n6,146),\r\n\t\t\t\tnew Edge(n7,138)\r\n\t\t\t};\r\n\r\n\t\t\tn13.adjacencies = new Edge[]{\r\n\t\t\t\tnew Edge(n7,101),\r\n\t\t\t\tnew Edge(n14,90),\r\n\t\t\t\tnew Edge(n5,211)\r\n\t\t\t};\r\n\r\n\t\t\tn14.adjacencies = new Edge[]{\r\n\t\t\t\tnew Edge(n13,90)\r\n\t\t\t};\r\n\r\n\t\t\tUniformCostSearch(n1,n13);\r\n\r\n\t\t\tList&lt;Node&gt; path = printPath(n13);\r\n\r\n\t\t\tSystem.out.println(&quot;Path: &quot; + path);\r\n\r\n\t\t}\r\n\r\n\t\tpublic static void UniformCostSearch(Node source, Node goal){\r\n\r\n\t\t\tsource.pathCost = 0;\r\n\t\t\tPriorityQueue&lt;Node&gt; queue = new PriorityQueue&lt;Node&gt;(20, \r\n\t\t\t\tnew Comparator&lt;Node&gt;(){\r\n\r\n\t\t\t\t\t//override compare method\r\n\t\t\t\t\tpublic int compare(Node i, Node j){\r\n\t\t\t\t\t\tif(i.pathCost &gt; j.pathCost){\r\n\t\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\telse if (i.pathCost &lt; j.pathCost){\r\n\t\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t);\r\n\r\n\t\t\tqueue.add(source);\r\n\t\t\tSet&lt;Node&gt; explored = new HashSet&lt;Node&gt;();\r\n\t\t\tboolean found = false;\r\n\r\n\t\t\t//while frontier is not empty\r\n\t\t\tdo{\r\n\r\n\t\t\t\tNode current = queue.poll();\r\n\t\t\t\texplored.add(current);\r\n\r\n\r\n\t\t\t\tif(current.value.equals(goal.value)){\r\n\t\t\t\t\tfound = true;\r\n\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t\tfor(Edge e: current.adjacencies){\r\n\t\t\t\t\tNode child = e.target;\r\n\t\t\t\t\tdouble cost = e.cost;\r\n\t\t\t\t\tchild.pathCost = current.pathCost + cost;\r\n\r\n\r\n\r\n\t\t\t\t\tif(!explored.contains(child) &amp;&amp; !queue.contains(child)){\r\n\r\n\t\t\t\t\t\tchild.parent = current;\r\n\t\t\t\t\t\tqueue.add(child);\r\n\r\n\t\t\t\t\t\tSystem.out.println(child);\r\n\t\t\t\t\t\tSystem.out.println(queue);\r\n\t\t\t\t\t\tSystem.out.println();\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if((queue.contains(child))&amp;&amp;(child.pathCost&gt;current.pathCost)){\r\n\t\t\t\t\t\tchild.parent=current;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// the next two calls decrease the key of the node in the queue\r\n\t\t\t\t\t\tqueue.remove(child);\r\n\t\t\t\t\t\tqueue.add(child);\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t}\r\n\t\t\t}while(!queue.isEmpty());\r\n\r\n\t\t}\r\n\r\n\t\tpublic static List&lt;Node&gt; printPath(Node target){\r\n\t\t\tList&lt;Node&gt; path = new ArrayList&lt;Node&gt;();\r\n\t\t\tfor(Node node = target; node!=null; node = node.parent){\r\n\t\t\t\tpath.add(node);\r\n\t\t\t}\r\n\r\n\t\t\tCollections.reverse(path);\r\n\r\n\t\t\treturn path;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tclass Node{\r\n\r\n\t\tpublic final String value;\r\n\t\tpublic double pathCost;\r\n\t\tpublic Edge[] adjacencies;\r\n\t\tpublic Node parent;\r\n\r\n\t\tpublic Node(String val){\r\n\r\n\t\t\tvalue = val;\r\n\r\n\t\t}\r\n\r\n\t\tpublic String toString(){\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tclass Edge{\r\n\t\tpublic final double cost;\r\n\t\tpublic final Node target;\r\n\r\n\t\tpublic Edge(Node targetNode, double costVal){\r\n\t\t\tcost = costVal;\r\n\t\t\ttarget = targetNode;\r\n\r\n\t\t}\r\n\t}","title":"Uniform Cost Search Implementation","body":"<p>The problem with your algorith is the part when you find a new shorter path to a node that is already in the queue.  You should not set <code>current</code> outside the call to <code>poll</code> as this breaks the algorithms scheme.  Instead you should decrease the key/priority/current-shortest-path-cost of the node.</p>\n\n<p>I've updated your code to do this.  It provides the expected result.  But like I said in a comment, when it comes to asymptotic complexity this is not the most efficient solution.  The best option is to find or write a <code>PriorityQueue</code> that supports dynamically keys efficiently.</p>\n\n<p>But here is the updated code:</p>\n\n<pre><code>import java.util.PriorityQueue;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.ArrayList;\nimport java.util.Comparator;\n\n//diff between uniform cost search and dijkstra algo is that UCS has a goal\n\npublic class UniformCostSearchAlgo{\n    public static void main(String[] args){\n\n        //initialize the graph base on the Romania map\n        Node n1 = new Node(\"Arad\");\n        Node n2 = new Node(\"Zerind\");\n        Node n3 = new Node(\"Oradea\");\n        Node n4 = new Node(\"Sibiu\");\n        Node n5 = new Node(\"Fagaras\");\n        Node n6 = new Node(\"Rimnicu Vilcea\");\n        Node n7 = new Node(\"Pitesti\");\n        Node n8 = new Node(\"Timisoara\");\n        Node n9 = new Node(\"Lugoj\");\n        Node n10 = new Node(\"Mehadia\");\n        Node n11 = new Node(\"Drobeta\");\n        Node n12 = new Node(\"Craiova\");\n        Node n13 = new Node(\"Bucharest\");\n        Node n14 = new Node(\"Giurgiu\");\n\n        //initialize the edges\n        n1.adjacencies = new Edge[]{\n            new Edge(n2,75),\n            new Edge(n4,140),\n            new Edge(n8,118)\n        };\n\n        n2.adjacencies = new Edge[]{\n            new Edge(n1,75),\n            new Edge(n3,71)\n        };\n\n        n3.adjacencies = new Edge[]{\n            new Edge(n2,71),\n            new Edge(n4,151)\n        };\n\n        n4.adjacencies = new Edge[]{\n            new Edge(n1,140),\n            new Edge(n5,99),\n            new Edge(n3,151),\n            new Edge(n6,80),\n        };\n\n        n5.adjacencies = new Edge[]{\n            new Edge(n4,99),\n            new Edge(n13,211)\n        };\n\n        n6.adjacencies = new Edge[]{\n            new Edge(n4,80),\n            new Edge(n7,97),\n            new Edge(n12,146)\n        };\n\n        n7.adjacencies = new Edge[]{\n            new Edge(n6,97),\n            new Edge(n13,101),\n            new Edge(n12,138)\n        };\n\n        n8.adjacencies = new Edge[]{\n            new Edge(n1,118),\n            new Edge(n9,111)\n        };\n\n        n9.adjacencies = new Edge[]{\n            new Edge(n8,111),\n            new Edge(n10,70)\n        };\n\n        n10.adjacencies = new Edge[]{\n            new Edge(n9,70),\n            new Edge(n11,75)\n        };\n\n        n11.adjacencies = new Edge[]{\n            new Edge(n10,75),\n            new Edge(n12,120)\n        };\n\n        n12.adjacencies = new Edge[]{\n            new Edge(n11,120),\n            new Edge(n6,146),\n            new Edge(n7,138)\n        };\n\n        n13.adjacencies = new Edge[]{\n            new Edge(n7,101),\n            new Edge(n14,90),\n            new Edge(n5,211)\n        };\n\n        n14.adjacencies = new Edge[]{\n            new Edge(n13,90)\n        };\n\n        UniformCostSearch(n1,n13);\n\n        List&lt;Node&gt; path = printPath(n13);\n\n        System.out.println(\"Path: \" + path);\n\n    }\n\n    public static void UniformCostSearch(Node source, Node goal){\n\n        source.pathCost = 0;\n        PriorityQueue&lt;Node&gt; queue = new PriorityQueue&lt;Node&gt;(20, \n            new Comparator&lt;Node&gt;(){\n\n                //override compare method\n                public int compare(Node i, Node j){\n                    if(i.pathCost &gt; j.pathCost){\n                        return 1;\n                    }\n\n                    else if (i.pathCost &lt; j.pathCost){\n                        return -1;\n                    }\n\n                    else{\n                        return 0;\n                    }\n                }\n            }\n\n        );\n\n        queue.add(source);\n        Set&lt;Node&gt; explored = new HashSet&lt;Node&gt;();\n        boolean found = false;\n\n        //while frontier is not empty\n        do{\n\n            Node current = queue.poll();\n            explored.add(current);\n\n\n            if(current.value.equals(goal.value)){\n                found = true;\n\n\n            }\n\n\n\n\n            for(Edge e: current.adjacencies){\n                Node child = e.target;\n                double cost = e.cost;\n                child.pathCost = current.pathCost + cost;\n\n\n\n                if(!explored.contains(child) &amp;&amp; !queue.contains(child)){\n\n                    child.parent = current;\n                    queue.add(child);\n\n                    System.out.println(child);\n                    System.out.println(queue);\n                    System.out.println();\n\n                }\n                else if((queue.contains(child))&amp;&amp;(child.pathCost&gt;current.pathCost)){\n                    child.parent=current;\n\n                    // the next two calls decrease the key of the node in the queue\n                    queue.remove(child);\n                    queue.add(child);\n                }\n\n\n            }\n        }while(!queue.isEmpty());\n\n    }\n\n    public static List&lt;Node&gt; printPath(Node target){\n        List&lt;Node&gt; path = new ArrayList&lt;Node&gt;();\n        for(Node node = target; node!=null; node = node.parent){\n            path.add(node);\n        }\n\n        Collections.reverse(path);\n\n        return path;\n\n    }\n\n}\n\nclass Node{\n\n    public final String value;\n    public double pathCost;\n    public Edge[] adjacencies;\n    public Node parent;\n\n    public Node(String val){\n\n        value = val;\n\n    }\n\n    public String toString(){\n        return value;\n    }\n\n}\n\nclass Edge{\n    public final double cost;\n    public final Node target;\n\n    public Edge(Node targetNode, double costVal){\n        cost = costVal;\n        target = targetNode;\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3860530,"reputation":1,"user_id":3198383,"display_name":"user3198383"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425044910,"creation_date":1425043095,"answer_id":28766085,"question_id":20635394,"body_markdown":"This is solved problem of Uniform Cost Search with added path, what is wrong in your algorithm. \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.PriorityQueue;\r\n    import java.util.Set;\r\n\r\n    public class UniformCostSearchAlgo {\r\n\r\n    public static void main(String[] args) {\r\n    Node n1 = new Node(&quot;Arad&quot;);\r\n    Node n2 = new Node(&quot;Zerind&quot;);\r\n    Node n3 = new Node(&quot;Oradea&quot;);\r\n    Node n4 = new Node(&quot;Sibiu&quot;);\r\n    Node n5 = new Node(&quot;Fagaras&quot;);\r\n    Node n6 = new Node(&quot;Rimnicu Vilcea&quot;);\r\n    Node n7 = new Node(&quot;Pitesti&quot;);\r\n    Node n8 = new Node(&quot;Timisoara&quot;);\r\n    Node n9 = new Node(&quot;Lugoj&quot;);\r\n    Node n10 = new Node(&quot;Mehadia&quot;);\r\n    Node n11 = new Node(&quot;Drobeta&quot;);\r\n    Node n12 = new Node(&quot;Craiova&quot;);\r\n    Node n13 = new Node(&quot;Bucharest&quot;);\r\n    Node n14 = new Node(&quot;Giurgiu&quot;);\r\n\r\n    // initialize the edges\r\n    n1.adjacencies = new Edge[] { new Edge(n2, 75), new Edge(n4, 140),\r\n            new Edge(n8, 118) };\r\n\r\n    n2.adjacencies = new Edge[] { new Edge(n1, 75), new Edge(n3, 71) };\r\n\r\n    n3.adjacencies = new Edge[] { new Edge(n2, 71), new Edge(n4, 151) };\r\n\r\n    n4.adjacencies = new Edge[] { new Edge(n1, 140), new Edge(n5, 99),\r\n            new Edge(n3, 151), new Edge(n6, 80), };\r\n\r\n    n5.adjacencies = new Edge[] { new Edge(n4, 99), new Edge(n13, 211) };\r\n\r\n    n6.adjacencies = new Edge[] { new Edge(n4, 80), new Edge(n7, 97),\r\n            new Edge(n12, 146) };\r\n\r\n    n7.adjacencies = new Edge[] { new Edge(n6, 97), new Edge(n13, 101),\r\n            new Edge(n12, 138) };\r\n\r\n    n8.adjacencies = new Edge[] { new Edge(n1, 118), new Edge(n9, 111) };\r\n\r\n    n9.adjacencies = new Edge[] { new Edge(n8, 111), new Edge(n10, 70) };\r\n\r\n    n10.adjacencies = new Edge[] { new Edge(n9, 70), new Edge(n11, 75) };\r\n\r\n    n11.adjacencies = new Edge[] { new Edge(n10, 75), new Edge(n12, 120) };\r\n\r\n    n12.adjacencies = new Edge[] { new Edge(n11, 120), new Edge(n6, 146),\r\n            new Edge(n7, 138) };\r\n\r\n    n13.adjacencies = new Edge[] { new Edge(n7, 101), new Edge(n14, 90),\r\n            new Edge(n5, 211) };\r\n\r\n    n14.adjacencies = new Edge[] { new Edge(n13, 90) };\r\n\r\n    UniformCostSearch(n1, n13);\r\n\r\n    List&lt;Node&gt; path = printPath(n13);\r\n\r\n    System.out.println(&quot;Path: &quot; + path);\r\n\r\n    }\r\n\r\n    public static void UniformCostSearch(Node source, Node goal) {\r\n\r\n    List&lt;Node&gt; list = new ArrayList&lt;Node&gt;();\r\n    source.pathCost = 0;\r\n    PriorityQueue&lt;Node&gt; queue = new PriorityQueue&lt;Node&gt;(20,\r\n            new Comparator&lt;Node&gt;() {\r\n\r\n                // override compare method\r\n                public int compare(Node i, Node j) {\r\n                    if ((i.pathCost &gt; j.pathCost)) {\r\n                        return 1;\r\n                    }\r\n\r\n                    else if (i.pathCost &lt; j.pathCost) {\r\n                        return -1;\r\n                    }\r\n\r\n                    else {\r\n                        return 0;\r\n                    }\r\n                }\r\n            }\r\n\r\n    );\r\n\r\n    queue.add(source);\r\n    Set&lt;Node&gt; explored = new HashSet&lt;Node&gt;();\r\n    List&lt;Node&gt; path = new ArrayList&lt;Node&gt;();\r\n\r\n    // while frontier is not empty\r\n    do {\r\n\r\n        path.clear();\r\n        Node current = queue.poll();\r\n        explored.add(current);\r\n        for (Node node = current; node != null; node = node.parent) {\r\n            path.add(node);\r\n        }\r\n        if (current.value.equals(goal.value)) {\r\n            goal.parent = current.parent;\r\n            goal.pathCost = current.pathCost;\r\n            break;\r\n\r\n        }\r\n\r\n        for (Edge e : current.adjacencies) {\r\n            Node child = e.target;\r\n            double cost = e.cost;\r\n            if ((queue.contains(child) || explored.contains(child))\r\n                    &amp;&amp; !path.contains(child)) {\r\n                Node n = new Node(child);\r\n                list.add(n);\r\n                list.get(list.size() - 1).pathCost = current.pathCost\r\n                        + cost;\r\n                list.get(list.size() - 1).parent = current;\r\n                queue.add(list.get(list.size() - 1));\r\n\r\n                System.out.println(list.get(list.size() - 1));\r\n                System.out.println(queue);\r\n            } else if (!path.contains(child)) {\r\n                child.pathCost = current.pathCost + cost;\r\n                child.parent = current;\r\n                queue.add(child);\r\n\r\n                System.out.println(child);\r\n                System.out.println(queue);\r\n            }\r\n\r\n        }\r\n    } while (!queue.isEmpty());\r\n\r\n    }\r\n\r\n    public static List&lt;Node&gt; printPath(Node target) {\r\n    List&lt;Node&gt; path = new ArrayList&lt;Node&gt;();\r\n    for (Node node = target; node != null; node = node.parent) {\r\n        path.add(node);\r\n    }\r\n\r\n    Collections.reverse(path);\r\n\r\n    return path;\r\n\r\n    }\r\n    }\r\n    class Node {\r\n    public final String value;\r\n    public double pathCost;\r\n    public Edge[] adjacencies;\r\n    public Node parent;\r\n\r\n    public Node(String val) {\r\n\r\n    value = val;\r\n\r\n    }\r\n\r\n    public Node(Node node) {\r\n    int i = 0;\r\n    adjacencies = new Edge[node.adjacencies.length];\r\n    value = node.value;\r\n    pathCost = node.pathCost;\r\n    for (Edge e : node.adjacencies) {\r\n        adjacencies[i++] = e;\r\n    }\r\n    parent = node.parent;\r\n    }\r\n\r\n    public String toString() {\r\n    return value + pathCost + &quot;   &quot;;\r\n    }\r\n\r\n    }\r\n    class Edge {\r\n    public final double cost;\r\n    public final Node target;\r\n\r\n    public Edge(Node targetNode, double costVal) {\r\n    cost = costVal;\r\n    target = targetNode;\r\n \r\n    }\r\n\r\n    }","title":"Uniform Cost Search Implementation","body":"<p>This is solved problem of Uniform Cost Search with added path, what is wrong in your algorithm. </p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.PriorityQueue;\nimport java.util.Set;\n\npublic class UniformCostSearchAlgo {\n\npublic static void main(String[] args) {\nNode n1 = new Node(\"Arad\");\nNode n2 = new Node(\"Zerind\");\nNode n3 = new Node(\"Oradea\");\nNode n4 = new Node(\"Sibiu\");\nNode n5 = new Node(\"Fagaras\");\nNode n6 = new Node(\"Rimnicu Vilcea\");\nNode n7 = new Node(\"Pitesti\");\nNode n8 = new Node(\"Timisoara\");\nNode n9 = new Node(\"Lugoj\");\nNode n10 = new Node(\"Mehadia\");\nNode n11 = new Node(\"Drobeta\");\nNode n12 = new Node(\"Craiova\");\nNode n13 = new Node(\"Bucharest\");\nNode n14 = new Node(\"Giurgiu\");\n\n// initialize the edges\nn1.adjacencies = new Edge[] { new Edge(n2, 75), new Edge(n4, 140),\n        new Edge(n8, 118) };\n\nn2.adjacencies = new Edge[] { new Edge(n1, 75), new Edge(n3, 71) };\n\nn3.adjacencies = new Edge[] { new Edge(n2, 71), new Edge(n4, 151) };\n\nn4.adjacencies = new Edge[] { new Edge(n1, 140), new Edge(n5, 99),\n        new Edge(n3, 151), new Edge(n6, 80), };\n\nn5.adjacencies = new Edge[] { new Edge(n4, 99), new Edge(n13, 211) };\n\nn6.adjacencies = new Edge[] { new Edge(n4, 80), new Edge(n7, 97),\n        new Edge(n12, 146) };\n\nn7.adjacencies = new Edge[] { new Edge(n6, 97), new Edge(n13, 101),\n        new Edge(n12, 138) };\n\nn8.adjacencies = new Edge[] { new Edge(n1, 118), new Edge(n9, 111) };\n\nn9.adjacencies = new Edge[] { new Edge(n8, 111), new Edge(n10, 70) };\n\nn10.adjacencies = new Edge[] { new Edge(n9, 70), new Edge(n11, 75) };\n\nn11.adjacencies = new Edge[] { new Edge(n10, 75), new Edge(n12, 120) };\n\nn12.adjacencies = new Edge[] { new Edge(n11, 120), new Edge(n6, 146),\n        new Edge(n7, 138) };\n\nn13.adjacencies = new Edge[] { new Edge(n7, 101), new Edge(n14, 90),\n        new Edge(n5, 211) };\n\nn14.adjacencies = new Edge[] { new Edge(n13, 90) };\n\nUniformCostSearch(n1, n13);\n\nList&lt;Node&gt; path = printPath(n13);\n\nSystem.out.println(\"Path: \" + path);\n\n}\n\npublic static void UniformCostSearch(Node source, Node goal) {\n\nList&lt;Node&gt; list = new ArrayList&lt;Node&gt;();\nsource.pathCost = 0;\nPriorityQueue&lt;Node&gt; queue = new PriorityQueue&lt;Node&gt;(20,\n        new Comparator&lt;Node&gt;() {\n\n            // override compare method\n            public int compare(Node i, Node j) {\n                if ((i.pathCost &gt; j.pathCost)) {\n                    return 1;\n                }\n\n                else if (i.pathCost &lt; j.pathCost) {\n                    return -1;\n                }\n\n                else {\n                    return 0;\n                }\n            }\n        }\n\n);\n\nqueue.add(source);\nSet&lt;Node&gt; explored = new HashSet&lt;Node&gt;();\nList&lt;Node&gt; path = new ArrayList&lt;Node&gt;();\n\n// while frontier is not empty\ndo {\n\n    path.clear();\n    Node current = queue.poll();\n    explored.add(current);\n    for (Node node = current; node != null; node = node.parent) {\n        path.add(node);\n    }\n    if (current.value.equals(goal.value)) {\n        goal.parent = current.parent;\n        goal.pathCost = current.pathCost;\n        break;\n\n    }\n\n    for (Edge e : current.adjacencies) {\n        Node child = e.target;\n        double cost = e.cost;\n        if ((queue.contains(child) || explored.contains(child))\n                &amp;&amp; !path.contains(child)) {\n            Node n = new Node(child);\n            list.add(n);\n            list.get(list.size() - 1).pathCost = current.pathCost\n                    + cost;\n            list.get(list.size() - 1).parent = current;\n            queue.add(list.get(list.size() - 1));\n\n            System.out.println(list.get(list.size() - 1));\n            System.out.println(queue);\n        } else if (!path.contains(child)) {\n            child.pathCost = current.pathCost + cost;\n            child.parent = current;\n            queue.add(child);\n\n            System.out.println(child);\n            System.out.println(queue);\n        }\n\n    }\n} while (!queue.isEmpty());\n\n}\n\npublic static List&lt;Node&gt; printPath(Node target) {\nList&lt;Node&gt; path = new ArrayList&lt;Node&gt;();\nfor (Node node = target; node != null; node = node.parent) {\n    path.add(node);\n}\n\nCollections.reverse(path);\n\nreturn path;\n\n}\n}\nclass Node {\npublic final String value;\npublic double pathCost;\npublic Edge[] adjacencies;\npublic Node parent;\n\npublic Node(String val) {\n\nvalue = val;\n\n}\n\npublic Node(Node node) {\nint i = 0;\nadjacencies = new Edge[node.adjacencies.length];\nvalue = node.value;\npathCost = node.pathCost;\nfor (Edge e : node.adjacencies) {\n    adjacencies[i++] = e;\n}\nparent = node.parent;\n}\n\npublic String toString() {\nreturn value + pathCost + \"   \";\n}\n\n}\nclass Edge {\npublic final double cost;\npublic final Node target;\n\npublic Edge(Node targetNode, double costVal) {\ncost = costVal;\ntarget = targetNode;\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6006688,"reputation":4642,"user_id":4718406,"accept_rate":36,"display_name":"Erfan Eghterafi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431193736,"creation_date":1431193736,"answer_id":30143191,"question_id":20635394,"body_markdown":"Change this part of code\r\n\r\n    else if((queue.contains(child))&amp;&amp;(child.pathCost&gt;current.pathCost)){\r\n\r\n                                child.parent=current;\r\n                                current = child;\r\n\r\n                        }\r\nto\r\n\r\n     else if((queue.contains(child))&amp;&amp;(child.pathCost&gt;current.pathCost+cost)){\r\n\r\n                                child.parent=current;\r\n                                child.pathCost = current.pathCost+cost;\r\n                                queue.remove(child);\r\n                                queue.add(child);\r\n\r\n\r\n                        }","title":"Uniform Cost Search Implementation","body":"<p>Change this part of code</p>\n\n<pre><code>else if((queue.contains(child))&amp;&amp;(child.pathCost&gt;current.pathCost)){\n\n                            child.parent=current;\n                            current = child;\n\n                    }\n</code></pre>\n\n<p>to</p>\n\n<pre><code> else if((queue.contains(child))&amp;&amp;(child.pathCost&gt;current.pathCost+cost)){\n\n                            child.parent=current;\n                            child.pathCost = current.pathCost+cost;\n                            queue.remove(child);\n                            queue.add(child);\n\n\n                    }\n</code></pre>\n"}],"owner":{"account_id":1889421,"reputation":777,"user_id":1710775,"accept_rate":57,"display_name":"Ray.R.Chua"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25894,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1692781470,"creation_date":1387286742,"question_id":20635394,"body_markdown":"I am trying to implement the Uniform Cost Search after watching the &quot;Intro to AI&quot; course in Udacity. However, my algorithm is not getting the correct path. Have been trying the whole day before posting here. I have added a map to help to visualize the scene. The algorithm should find the shortest weighted path from Arad to Bucharest![Romania Map][1] \r\n\r\n\r\n    import java.util.PriorityQueue;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    \r\n    //diff between uniform cost search and dijkstra algo is that UCS has a goal\r\n    \r\n    public class UniformCostSearchAlgo{\r\n    \tpublic static void main(String[] args){\r\n    \r\n    \t\t//initialize the graph base on the Romania map\r\n    \t\tNode n1 = new Node(&quot;Arad&quot;);\r\n    \t\tNode n2 = new Node(&quot;Zerind&quot;);\r\n    \t\tNode n3 = new Node(&quot;Oradea&quot;);\r\n    \t\tNode n4 = new Node(&quot;Sibiu&quot;);\r\n    \t\tNode n5 = new Node(&quot;Fagaras&quot;);\r\n    \t\tNode n6 = new Node(&quot;Rimnicu Vilcea&quot;);\r\n    \t\tNode n7 = new Node(&quot;Pitesti&quot;);\r\n    \t\tNode n8 = new Node(&quot;Timisoara&quot;);\r\n    \t\tNode n9 = new Node(&quot;Lugoj&quot;);\r\n    \t\tNode n10 = new Node(&quot;Mehadia&quot;);\r\n    \t\tNode n11 = new Node(&quot;Drobeta&quot;);\r\n    \t\tNode n12 = new Node(&quot;Craiova&quot;);\r\n    \t\tNode n13 = new Node(&quot;Bucharest&quot;);\r\n    \t\tNode n14 = new Node(&quot;Giurgiu&quot;);\r\n     \r\n    \t\t//initialize the edges\r\n    \t\tn1.adjacencies = new Edge[]{\r\n    \t\t\tnew Edge(n2,75),\r\n    \t\t\tnew Edge(n4,140),\r\n    \t\t\tnew Edge(n8,118)\r\n    \t\t};\r\n     \r\n    \t\tn2.adjacencies = new Edge[]{\r\n    \t\t\tnew Edge(n1,75),\r\n    \t\t\tnew Edge(n3,71)\r\n    \t\t};\r\n     \r\n    \t\tn3.adjacencies = new Edge[]{\r\n    \t\t\tnew Edge(n2,71),\r\n    \t\t\tnew Edge(n4,151)\r\n    \t\t};\r\n     \r\n    \t\tn4.adjacencies = new Edge[]{\r\n    \t\t\tnew Edge(n1,140),\r\n    \t\t\tnew Edge(n5,99),\r\n    \t\t\tnew Edge(n3,151),\r\n    \t\t\tnew Edge(n6,80),\r\n    \t\t};\r\n     \r\n    \t\tn5.adjacencies = new Edge[]{\r\n    \t\t\tnew Edge(n4,99),\r\n    \t\t\tnew Edge(n13,211)\r\n    \t\t};\r\n     \r\n    \t\tn6.adjacencies = new Edge[]{\r\n    \t\t\tnew Edge(n4,80),\r\n    \t\t\tnew Edge(n7,97),\r\n    \t\t\tnew Edge(n12,146)\r\n    \t\t};\r\n     \r\n    \t\tn7.adjacencies = new Edge[]{\r\n    \t\t\tnew Edge(n6,97),\r\n    \t\t\tnew Edge(n13,101),\r\n    \t\t\tnew Edge(n12,138)\r\n    \t\t};\r\n     \r\n    \t\tn8.adjacencies = new Edge[]{\r\n    \t\t\tnew Edge(n1,118),\r\n    \t\t\tnew Edge(n9,111)\r\n    \t\t};\r\n     \r\n    \t\tn9.adjacencies = new Edge[]{\r\n    \t\t\tnew Edge(n8,111),\r\n    \t\t\tnew Edge(n10,70)\r\n    \t\t};\r\n     \r\n    \t\tn10.adjacencies = new Edge[]{\r\n    \t\t\tnew Edge(n9,70),\r\n    \t\t\tnew Edge(n11,75)\r\n    \t\t};\r\n     \r\n    \t\tn11.adjacencies = new Edge[]{\r\n    \t\t\tnew Edge(n10,75),\r\n    \t\t\tnew Edge(n12,120)\r\n    \t\t};\r\n     \r\n    \t\tn12.adjacencies = new Edge[]{\r\n    \t\t\tnew Edge(n11,120),\r\n    \t\t\tnew Edge(n6,146),\r\n    \t\t\tnew Edge(n7,138)\r\n    \t\t};\r\n     \r\n    \t\tn13.adjacencies = new Edge[]{\r\n    \t\t\tnew Edge(n7,101),\r\n    \t\t\tnew Edge(n14,90),\r\n    \t\t\tnew Edge(n5,211)\r\n    \t\t};\r\n     \r\n    \t\tn14.adjacencies = new Edge[]{\r\n    \t\t\tnew Edge(n13,90)\r\n    \t\t};\r\n    \r\n    \t\tUniformCostSearch(n1,n13);\r\n    \r\n    \t\tList&lt;Node&gt; path = printPath(n13);\r\n    \r\n    \t\tSystem.out.println(&quot;Path: &quot; + path);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void UniformCostSearch(Node source, Node goal){\r\n    \t\t\r\n    \t\tsource.pathCost = 0;\r\n    \t\tPriorityQueue&lt;Node&gt; queue = new PriorityQueue&lt;Node&gt;(20, \r\n    \t\t\tnew Comparator&lt;Node&gt;(){\r\n    \r\n    \t\t\t\t//override compare method\r\n    \t\t\t\tpublic int compare(Node i, Node j){\r\n    \t\t\t\t\tif(i.pathCost &gt; j.pathCost){\r\n    \t\t\t\t\t\treturn 1;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\telse if (i.pathCost &lt; j.pathCost){\r\n    \t\t\t\t\t\treturn -1;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\telse{\r\n    \t\t\t\t\t\treturn 0;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t);\r\n    \t\t\r\n    \t\tqueue.add(source);\r\n    \t\tSet&lt;Node&gt; explored = new HashSet&lt;Node&gt;();\r\n    \t\tboolean found = false;\r\n    \t\t\r\n    \t\t//while frontier is not empty\r\n    \t\tdo{\r\n    \r\n    \t\t\tNode current = queue.poll();\r\n    \t\t\texplored.add(current);\r\n    \r\n    \r\n    \t\t\tif(current.value.equals(goal.value)){\r\n    \t\t\t\tfound = true;\r\n    \r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t\t\r\n    \r\n    \r\n    \t\t\tfor(Edge e: current.adjacencies){\r\n    \t\t\t\tNode child = e.target;\r\n    \t\t\t\tdouble cost = e.cost;\r\n    \t\t\t\tchild.pathCost = current.pathCost + cost;\r\n    \r\n    \t\t\t\t\r\n    \r\n    \t\t\t\tif(!explored.contains(child) &amp;&amp; !queue.contains(child)){\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tchild.parent = current;\r\n    \t\t\t\t\tqueue.add(child);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tSystem.out.println(child);\r\n    \t\t\t\t\tSystem.out.println(queue);\r\n    \t\t\t\t\tSystem.out.println();\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\t\r\n    \r\n    \t\t\t\telse if((queue.contains(child))&amp;&amp;(child.pathCost&gt;current.pathCost)){\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tchild.parent=current;\r\n    \t\t\t\t\tcurrent = child;\r\n    \t\t\t\r\n    \t\t\t\t}\r\n    \r\n    \r\n    \t\t\t}\r\n    \t\t}while(!queue.isEmpty());\r\n    \r\n    \t}\r\n    \r\n    \tpublic static List&lt;Node&gt; printPath(Node target){\r\n    \t\tList&lt;Node&gt; path = new ArrayList&lt;Node&gt;();\r\n    \t\tfor(Node node = target; node!=null; node = node.parent){\r\n    \t\t\tpath.add(node);\r\n    \t\t}\r\n    \r\n    \t\tCollections.reverse(path);\r\n    \r\n    \t\treturn path;\r\n    \r\n    \t}\r\n    \r\n    }\r\n    \r\n    class Node{\r\n    \r\n    \tpublic final String value;\r\n    \tpublic double pathCost;\r\n    \tpublic Edge[] adjacencies;\r\n    \tpublic Node parent;\r\n    \r\n    \tpublic Node(String val){\r\n    \r\n    \t\tvalue = val;\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic String toString(){\r\n    \t\treturn value;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class Edge{\r\n    \tpublic final double cost;\r\n    \tpublic final Node target;\r\n    \r\n    \tpublic Edge(Node targetNode, double costVal){\r\n    \t\tcost = costVal;\r\n    \t\ttarget = targetNode;\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/wjrA7.jpg","title":"Uniform Cost Search Implementation","body":"<p>I am trying to implement the Uniform Cost Search after watching the \"Intro to AI\" course in Udacity. However, my algorithm is not getting the correct path. Have been trying the whole day before posting here. I have added a map to help to visualize the scene. The algorithm should find the shortest weighted path from Arad to Bucharest<img src=\"https://i.stack.imgur.com/wjrA7.jpg\" alt=\"Romania Map\"> </p>\n\n<pre><code>import java.util.PriorityQueue;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.ArrayList;\nimport java.util.Comparator;\n\n//diff between uniform cost search and dijkstra algo is that UCS has a goal\n\npublic class UniformCostSearchAlgo{\n    public static void main(String[] args){\n\n        //initialize the graph base on the Romania map\n        Node n1 = new Node(\"Arad\");\n        Node n2 = new Node(\"Zerind\");\n        Node n3 = new Node(\"Oradea\");\n        Node n4 = new Node(\"Sibiu\");\n        Node n5 = new Node(\"Fagaras\");\n        Node n6 = new Node(\"Rimnicu Vilcea\");\n        Node n7 = new Node(\"Pitesti\");\n        Node n8 = new Node(\"Timisoara\");\n        Node n9 = new Node(\"Lugoj\");\n        Node n10 = new Node(\"Mehadia\");\n        Node n11 = new Node(\"Drobeta\");\n        Node n12 = new Node(\"Craiova\");\n        Node n13 = new Node(\"Bucharest\");\n        Node n14 = new Node(\"Giurgiu\");\n\n        //initialize the edges\n        n1.adjacencies = new Edge[]{\n            new Edge(n2,75),\n            new Edge(n4,140),\n            new Edge(n8,118)\n        };\n\n        n2.adjacencies = new Edge[]{\n            new Edge(n1,75),\n            new Edge(n3,71)\n        };\n\n        n3.adjacencies = new Edge[]{\n            new Edge(n2,71),\n            new Edge(n4,151)\n        };\n\n        n4.adjacencies = new Edge[]{\n            new Edge(n1,140),\n            new Edge(n5,99),\n            new Edge(n3,151),\n            new Edge(n6,80),\n        };\n\n        n5.adjacencies = new Edge[]{\n            new Edge(n4,99),\n            new Edge(n13,211)\n        };\n\n        n6.adjacencies = new Edge[]{\n            new Edge(n4,80),\n            new Edge(n7,97),\n            new Edge(n12,146)\n        };\n\n        n7.adjacencies = new Edge[]{\n            new Edge(n6,97),\n            new Edge(n13,101),\n            new Edge(n12,138)\n        };\n\n        n8.adjacencies = new Edge[]{\n            new Edge(n1,118),\n            new Edge(n9,111)\n        };\n\n        n9.adjacencies = new Edge[]{\n            new Edge(n8,111),\n            new Edge(n10,70)\n        };\n\n        n10.adjacencies = new Edge[]{\n            new Edge(n9,70),\n            new Edge(n11,75)\n        };\n\n        n11.adjacencies = new Edge[]{\n            new Edge(n10,75),\n            new Edge(n12,120)\n        };\n\n        n12.adjacencies = new Edge[]{\n            new Edge(n11,120),\n            new Edge(n6,146),\n            new Edge(n7,138)\n        };\n\n        n13.adjacencies = new Edge[]{\n            new Edge(n7,101),\n            new Edge(n14,90),\n            new Edge(n5,211)\n        };\n\n        n14.adjacencies = new Edge[]{\n            new Edge(n13,90)\n        };\n\n        UniformCostSearch(n1,n13);\n\n        List&lt;Node&gt; path = printPath(n13);\n\n        System.out.println(\"Path: \" + path);\n\n    }\n\n    public static void UniformCostSearch(Node source, Node goal){\n\n        source.pathCost = 0;\n        PriorityQueue&lt;Node&gt; queue = new PriorityQueue&lt;Node&gt;(20, \n            new Comparator&lt;Node&gt;(){\n\n                //override compare method\n                public int compare(Node i, Node j){\n                    if(i.pathCost &gt; j.pathCost){\n                        return 1;\n                    }\n\n                    else if (i.pathCost &lt; j.pathCost){\n                        return -1;\n                    }\n\n                    else{\n                        return 0;\n                    }\n                }\n            }\n\n        );\n\n        queue.add(source);\n        Set&lt;Node&gt; explored = new HashSet&lt;Node&gt;();\n        boolean found = false;\n\n        //while frontier is not empty\n        do{\n\n            Node current = queue.poll();\n            explored.add(current);\n\n\n            if(current.value.equals(goal.value)){\n                found = true;\n\n\n            }\n\n\n\n\n            for(Edge e: current.adjacencies){\n                Node child = e.target;\n                double cost = e.cost;\n                child.pathCost = current.pathCost + cost;\n\n\n\n                if(!explored.contains(child) &amp;&amp; !queue.contains(child)){\n\n                    child.parent = current;\n                    queue.add(child);\n\n                    System.out.println(child);\n                    System.out.println(queue);\n                    System.out.println();\n\n                }\n\n\n                else if((queue.contains(child))&amp;&amp;(child.pathCost&gt;current.pathCost)){\n\n                    child.parent=current;\n                    current = child;\n\n                }\n\n\n            }\n        }while(!queue.isEmpty());\n\n    }\n\n    public static List&lt;Node&gt; printPath(Node target){\n        List&lt;Node&gt; path = new ArrayList&lt;Node&gt;();\n        for(Node node = target; node!=null; node = node.parent){\n            path.add(node);\n        }\n\n        Collections.reverse(path);\n\n        return path;\n\n    }\n\n}\n\nclass Node{\n\n    public final String value;\n    public double pathCost;\n    public Edge[] adjacencies;\n    public Node parent;\n\n    public Node(String val){\n\n        value = val;\n\n    }\n\n    public String toString(){\n        return value;\n    }\n\n}\n\nclass Edge{\n    public final double cost;\n    public final Node target;\n\n    public Edge(Node targetNode, double costVal){\n        cost = costVal;\n        target = targetNode;\n\n    }\n}\n</code></pre>\n"},{"tags":["java","string","apache-commons"],"comments":[{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":3,"creation_date":1314607595,"post_id":7227949,"comment_id":8689993,"body_markdown":"You&#39;re close. Just add an `else` (if the term *is not* in the map already)","body":"You&#39;re close. Just add an <code>else</code> (if the term <i>is not</i> in the map already)"}],"answers":[{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1314607677,"creation_date":1314607677,"answer_id":7227987,"question_id":7227949,"body_markdown":"Modified code:\r\n\r\n    String[] split = q.toString().split(&quot;\\\\s&quot;);\r\n    Map&lt;String, Integer&gt; terms = new HashMap&lt;String, Integer&gt;();\r\n    \r\n    for (String term : split) {\r\n    \tint score = 0;\r\n    \tif(terms.containsKey(term)){\r\n    \t\tscore = terms.get(term);\r\n    \t}\r\n    \t\r\n    \tterms.put(term, score +1);\r\n    }\r\n\r\n**PS:** Untested.\r\n","title":"How to count duplicates in an array of strings?","body":"<p>Modified code:</p>\n\n<pre><code>String[] split = q.toString().split(\"\\\\s\");\nMap&lt;String, Integer&gt; terms = new HashMap&lt;String, Integer&gt;();\n\nfor (String term : split) {\n    int score = 0;\n    if(terms.containsKey(term)){\n        score = terms.get(term);\n    }\n\n    terms.put(term, score +1);\n}\n</code></pre>\n\n<p><strong>PS:</strong> Untested.</p>\n"},{"tags":[],"owner":{"account_id":537921,"reputation":3524,"user_id":906184,"accept_rate":100,"display_name":"Ashkan Aryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314619513,"creation_date":1314619513,"answer_id":7229816,"question_id":7227949,"body_markdown":"I would go with the code suggested by Elite Gentleman, but I&#39;m just putting this as a discussion point: What about using StringTokenizer? If scalability/performance was an issue, would tokenizer perform better? You may have to loop throught the string only once in that case, as opposed to doing the regex split first and then another traverse through the array. \r\n\r\nSomething like this:\r\n\r\n    StringTokenizer st = new StringTokenizer(s);\r\n    HashMap&lt;String, Integer&gt; terms = new HashMap&lt;String, Integer&gt;();\r\n\r\n    while (st.hasMoreElements()) {\r\n\r\n        String term = st.nextToken();\r\n        int score = 0;\r\n        if(terms.containsKey(term)){\r\n            score = terms.get(term);\r\n        }\r\n\r\n        terms.put(term, score +1);\r\n    }\r\n\r\nI know that StringTokenizer, thought not deprecated, is a Legacy class according to java docs and it&#39;s use is not recommended:\r\n\r\n&gt; StringTokenizer is a legacy class that is retained for compatibility\r\n&gt; reasons although its use is discouraged in new code. It is recommended\r\n&gt; that anyone seeking this functionality use the split method of String\r\n&gt; or the java.util.regex package instead.\r\n\r\nHowever I wonder if in this case for a simple token it gives more performant results.\r\n\r\nAny thoughts?","title":"How to count duplicates in an array of strings?","body":"<p>I would go with the code suggested by Elite Gentleman, but I'm just putting this as a discussion point: What about using StringTokenizer? If scalability/performance was an issue, would tokenizer perform better? You may have to loop throught the string only once in that case, as opposed to doing the regex split first and then another traverse through the array. </p>\n\n<p>Something like this:</p>\n\n<pre><code>StringTokenizer st = new StringTokenizer(s);\nHashMap&lt;String, Integer&gt; terms = new HashMap&lt;String, Integer&gt;();\n\nwhile (st.hasMoreElements()) {\n\n    String term = st.nextToken();\n    int score = 0;\n    if(terms.containsKey(term)){\n        score = terms.get(term);\n    }\n\n    terms.put(term, score +1);\n}\n</code></pre>\n\n<p>I know that StringTokenizer, thought not deprecated, is a Legacy class according to java docs and it's use is not recommended:</p>\n\n<blockquote>\n  <p>StringTokenizer is a legacy class that is retained for compatibility\n  reasons although its use is discouraged in new code. It is recommended\n  that anyone seeking this functionality use the split method of String\n  or the java.util.regex package instead.</p>\n</blockquote>\n\n<p>However I wonder if in this case for a simple token it gives more performant results.</p>\n\n<p>Any thoughts?</p>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692781406,"creation_date":1692780990,"answer_id":76959804,"question_id":7227949,"body_markdown":"Using **Java 8** :\r\n\r\n    \tString name = &quot;anandha&quot;;\r\n    \t name.chars()   //returns IntStream \r\n    \t.mapToObj(ch -&gt; (char)ch) //returns Stream&lt;Character&gt;\r\n    \t.collect(Collectors.groupingBy(ch -&gt; ch, Collectors.counting())) //returns  Map&lt;Character, Long&gt;\r\n    \t.forEach((k, v)-&gt;{\r\n    \t\tSystem.out.println(k+ &quot; : &quot; + v);\r\n    \t});\r\n\r\n**Output**:\r\n\r\n     a : 3\r\n     d : 1\r\n     h : 1\r\n     n : 2","title":"How to count duplicates in an array of strings?","body":"<p>Using <strong>Java 8</strong> :</p>\n<pre><code>    String name = &quot;anandha&quot;;\n     name.chars()   //returns IntStream \n    .mapToObj(ch -&gt; (char)ch) //returns Stream&lt;Character&gt;\n    .collect(Collectors.groupingBy(ch -&gt; ch, Collectors.counting())) //returns  Map&lt;Character, Long&gt;\n    .forEach((k, v)-&gt;{\n        System.out.println(k+ &quot; : &quot; + v);\n    });\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code> a : 3\n d : 1\n h : 1\n n : 2\n</code></pre>\n"}],"owner":{"account_id":114124,"reputation":10809,"user_id":300248,"accept_rate":74,"display_name":"simpatico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2063,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7227987,"answer_count":3,"score":2,"last_activity_date":1692781406,"creation_date":1314607360,"question_id":7227949,"body_markdown":"How do I partition a String to extract all the words/terms that occur in it and count how many times each occurs?\r\nFor example let:\r\nString `q = &quot;foo bar foo&quot;`\r\nI want a DS `{&lt;foo,2&gt;, &lt;bar,1&gt;}`. This is the least verbose code I code come with*. Faults or less verbose alternatives?\r\n\r\n    String[] split = q.toString().split(&quot;\\\\s&quot;);\r\n            Map&lt;String, Integer&gt; terms = new HashMap&lt;String, Integer&gt;();\r\n\r\n            for (String term : split) {\r\n                if(terms.containsKey(term)){\r\n                    terms.put(term, terms.get(term)+1);\r\n                }\r\n            }\r\n\r\n*(haven&#39;t compiled it)*","title":"How to count duplicates in an array of strings?","body":"<p>How do I partition a String to extract all the words/terms that occur in it and count how many times each occurs?\nFor example let:\nString <code>q = \"foo bar foo\"</code>\nI want a DS <code>{&lt;foo,2&gt;, &lt;bar,1&gt;}</code>. This is the least verbose code I code come with*. Faults or less verbose alternatives?</p>\n\n<pre><code>String[] split = q.toString().split(\"\\\\s\");\n        Map&lt;String, Integer&gt; terms = new HashMap&lt;String, Integer&gt;();\n\n        for (String term : split) {\n            if(terms.containsKey(term)){\n                terms.put(term, terms.get(term)+1);\n            }\n        }\n</code></pre>\n\n<p><em>(haven't compiled it)</em></p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":16623298,"reputation":390,"user_id":12012989,"display_name":"yur"},"score":0,"creation_date":1574148247,"post_id":58928549,"comment_id":104117412,"body_markdown":"[This](https://howtodoinjava.com/java/string/find-duplicate-characters/) should probably answer your question.","body":"<a href=\"https://howtodoinjava.com/java/string/find-duplicate-characters/\" rel=\"nofollow noreferrer\">This</a> should probably answer your question."},{"owner":{"account_id":3864235,"reputation":113,"user_id":3201142,"accept_rate":50,"display_name":"xerocool"},"score":0,"creation_date":1574148290,"post_id":58928549,"comment_id":104117434,"body_markdown":"The count variable isn&#39;t being set correctly.","body":"The count variable isn&#39;t being set correctly."},{"owner":{"account_id":11475627,"reputation":1206,"user_id":8411228,"display_name":"Uli Sotschok"},"score":0,"creation_date":1574148292,"post_id":58928549,"comment_id":104117437,"body_markdown":"You have to reset the count variable to 1 after every iteration","body":"You have to reset the count variable to 1 after every iteration"},{"owner":{"account_id":1228795,"reputation":8221,"user_id":1193808,"display_name":"Subir Kumar Sao"},"score":0,"creation_date":1574148320,"post_id":58928549,"comment_id":104117457,"body_markdown":"You will many solutions online for this problem. Just add all characters in the string to the map with count 1. If the character already exists in map, increment the counter.","body":"You will many solutions online for this problem. Just add all characters in the string to the map with count 1. If the character already exists in map, increment the counter."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574148271,"creation_date":1574148271,"answer_id":58928627,"question_id":58928549,"body_markdown":"You only need one level of loops:\r\n\r\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;Character, Integer&gt;();\r\n        for (int i = 0; i &lt; string.length; i++) {\r\n            Integer count = map.get(string[i]);\r\n            if (count == null) {\r\n                map .put(string[i], 1);\r\n            } else {\r\n                map .put(string[i], count+1);\r\n            }\r\n        }\r\n","title":"Find duplicate characters in string","body":"<p>You only need one level of loops:</p>\n\n<pre><code>    Map&lt;Character, Integer&gt; map = new HashMap&lt;Character, Integer&gt;();\n    for (int i = 0; i &lt; string.length; i++) {\n        Integer count = map.get(string[i]);\n        if (count == null) {\n            map .put(string[i], 1);\n        } else {\n            map .put(string[i], count+1);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574148292,"creation_date":1574148292,"answer_id":58928630,"question_id":58928549,"body_markdown":"You can simplify it by just using the hashMap directly and only using one loop\r\n\r\n        String string1 = &quot;Great responsibility&quot;;\r\n\r\n        HashMap&lt;Character, Integer&gt; hashMap = new HashMap&lt;Character, Integer&gt;();\r\n        for (Character c : string1.toCharArray()) {\r\n        \t\r\n        \tif (hashMap.containsKey(c)) {\r\n        \t\tint val  = hashMap.get(c);\r\n        \t\thashMap.put(c, val + 1);\r\n        \t}\r\n        \telse {\r\n        \t\thashMap.put(c, 1);\r\n        \t}\r\n        }\r\n        System.out.println(hashMap);\r\n\r\n**output**\r\n\r\n    { =1, a=1, b=1, e=2, G=1, i=3, l=1, n=1, o=1, p=1, r=2, s=2, t=2, y=1}","title":"Find duplicate characters in string","body":"<p>You can simplify it by just using the hashMap directly and only using one loop</p>\n\n<pre><code>    String string1 = \"Great responsibility\";\n\n    HashMap&lt;Character, Integer&gt; hashMap = new HashMap&lt;Character, Integer&gt;();\n    for (Character c : string1.toCharArray()) {\n\n        if (hashMap.containsKey(c)) {\n            int val  = hashMap.get(c);\n            hashMap.put(c, val + 1);\n        }\n        else {\n            hashMap.put(c, 1);\n        }\n    }\n    System.out.println(hashMap);\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>{ =1, a=1, b=1, e=2, G=1, i=3, l=1, n=1, o=1, p=1, r=2, s=2, t=2, y=1}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9921486,"reputation":5699,"user_id":7344445,"display_name":"Atif AbbAsi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574148724,"creation_date":1574148724,"answer_id":58928744,"question_id":58928549,"body_markdown":"first create a list of characters and then loop over your desired string.\r\n\r\n    ArrayList&lt;Character&gt; charList=new ArrayList();\r\n    charList.clear();\r\n    \r\n    for (int i = 0; i &lt; string.length; i++) {\r\n    \r\n    if(!charList.Contains(string[i])){\r\n    charList.add(string[i]))\r\n    }\r\n        \r\n     }\r\n\r\n        HashMap&lt;Character, Integer&gt; hashMap = new HashMap&lt;Character, Integer&gt;();\r\n        for (Char char:charList) {\r\n          count=0;\r\n            for (int j = i + 1; j &lt; string.length; j++) {\r\n                if (char == string[j]) {\r\n                    hashMap.put(char, count++);\r\n                } \r\n            }\r\n        }\r\n        System.out.println(hashMap);\r\n    }\r\n","title":"Find duplicate characters in string","body":"<p>first create a list of characters and then loop over your desired string.</p>\n\n<pre><code>ArrayList&lt;Character&gt; charList=new ArrayList();\ncharList.clear();\n\nfor (int i = 0; i &lt; string.length; i++) {\n\nif(!charList.Contains(string[i])){\ncharList.add(string[i]))\n}\n\n }\n\n    HashMap&lt;Character, Integer&gt; hashMap = new HashMap&lt;Character, Integer&gt;();\n    for (Char char:charList) {\n      count=0;\n        for (int j = i + 1; j &lt; string.length; j++) {\n            if (char == string[j]) {\n                hashMap.put(char, count++);\n            } \n        }\n    }\n    System.out.println(hashMap);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16681901,"reputation":1,"user_id":12056756,"display_name":"udhay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574148970,"creation_date":1574148970,"answer_id":58928802,"question_id":58928549,"body_markdown":"        String string1 = &quot;Great responsibility&quot;;\r\n        char[] chars = string1.toCharArray();\r\n         \r\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for(char c : chars) \r\n        {\r\n            if(map.containsKey(c)) {\r\n                int counter = map.get(c);\r\n                map.put(c, ++counter);\r\n            } else {\r\n                map.put(c, 1);\r\n            }\r\n        }\r\n\r\n\r\nI hope it will help you..","title":"Find duplicate characters in string","body":"<pre><code>    String string1 = \"Great responsibility\";\n    char[] chars = string1.toCharArray();\n\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n    for(char c : chars) \n    {\n        if(map.containsKey(c)) {\n            int counter = map.get(c);\n            map.put(c, ++counter);\n        } else {\n            map.put(c, 1);\n        }\n    }\n</code></pre>\n\n<p>I hope it will help you..</p>\n"},{"tags":[],"owner":{"account_id":1051589,"reputation":14287,"user_id":1055395,"display_name":"Anatolii"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1574157395,"creation_date":1574150679,"answer_id":58929219,"question_id":58928549,"body_markdown":"There are many answers how to optimise the solution but there are none to show how the original `O(N^2)` time complexity solution could be fixed.\r\n\r\nHere are the things to fix in the original solution (besides the obvious inefficiency)\r\n\r\n 1. If a character doesn&#39;t exist in the map yet then `value` should be set to `1` as that&#39;s its first time occurrence.\r\n 2. If the current char doesn&#39;t equal to another char then keep its original count.\r\n\r\nThe fixed code is below:\r\n\r\n    public static void main(String[] args) {\r\n        String string1 = &quot;Great responsibility&quot;;\r\n        char string[] = string1.toCharArray();\r\n        HashMap&lt;Character, Integer&gt; hashMap = new HashMap&lt;Character, Integer&gt;();\r\n        for (int i = 0; i &lt; string.length; i++) {\r\n            for (int j = i + 1; j &lt; string.length; j++) {\r\n                Integer value = hashMap.get(string[i]);\r\n                if (value == null) {\r\n                    value = 1;\r\n                }\r\n                if (string[i] == string[j]) {\r\n                    hashMap.put(string[i], value + 1);\r\n                } else {\r\n                    hashMap.put(string[i], value);\r\n                }\r\n            }\r\n        }\r\n        System.out.println(hashMap);\r\n    }","title":"Find duplicate characters in string","body":"<p>There are many answers how to optimise the solution but there are none to show how the original <code>O(N^2)</code> time complexity solution could be fixed.</p>\n\n<p>Here are the things to fix in the original solution (besides the obvious inefficiency)</p>\n\n<ol>\n<li>If a character doesn't exist in the map yet then <code>value</code> should be set to <code>1</code> as that's its first time occurrence.</li>\n<li>If the current char doesn't equal to another char then keep its original count.</li>\n</ol>\n\n<p>The fixed code is below:</p>\n\n<pre><code>public static void main(String[] args) {\n    String string1 = \"Great responsibility\";\n    char string[] = string1.toCharArray();\n    HashMap&lt;Character, Integer&gt; hashMap = new HashMap&lt;Character, Integer&gt;();\n    for (int i = 0; i &lt; string.length; i++) {\n        for (int j = i + 1; j &lt; string.length; j++) {\n            Integer value = hashMap.get(string[i]);\n            if (value == null) {\n                value = 1;\n            }\n            if (string[i] == string[j]) {\n                hashMap.put(string[i], value + 1);\n            } else {\n                hashMap.put(string[i], value);\n            }\n        }\n    }\n    System.out.println(hashMap);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17771654,"reputation":33,"user_id":12905066,"display_name":"Samrat Chakraborty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586722421,"creation_date":1586722421,"answer_id":61177519,"question_id":58928549,"body_markdown":"You can also use **Java8 lambda function** to solve the problem. You can simply convert the String into the count Map.\r\n\r\n        String string1 = &quot;aabacdceefeg&quot;;\r\n        Map&lt;Character,Long&gt; countMap = string1.chars().mapToObj(i -&gt; (char)i).collect(\r\n                Collectors.groupingBy(Function.identity(), Collectors.counting())\r\n            );\r\n        System.out.println(countMap);\r\n\r\n","title":"Find duplicate characters in string","body":"<p>You can also use <strong>Java8 lambda function</strong> to solve the problem. You can simply convert the String into the count Map.</p>\n\n<pre><code>    String string1 = \"aabacdceefeg\";\n    Map&lt;Character,Long&gt; countMap = string1.chars().mapToObj(i -&gt; (char)i).collect(\n            Collectors.groupingBy(Function.identity(), Collectors.counting())\n        );\n    System.out.println(countMap);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16300382,"reputation":1,"user_id":11771657,"display_name":"Karthik Gunasekaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680151360,"creation_date":1680151332,"answer_id":75884195,"question_id":58928549,"body_markdown":"```\r\n// Will return the sorted order based on the character count value\r\nString input = &quot;stackoverflow&quot;;\r\nMap&lt;Character, Long&gt; result = input.chars().mapToObj(c -&gt; Character.valueOf((char) c))\r\n.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\r\n.entrySet().stream().sorted(Map.Entry.comparingByValue()).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (v1, v2) -&gt; v1, LinkedHashMap::new));\r\n\r\n//output\r\nresult = {a=1, r=1, c=1, t=1, e=1, f=1, v=1, w=1, k=1, l=1, o=2, s=3}\r\n\r\n```","title":"Find duplicate characters in string","body":"<pre><code>// Will return the sorted order based on the character count value\nString input = &quot;stackoverflow&quot;;\nMap&lt;Character, Long&gt; result = input.chars().mapToObj(c -&gt; Character.valueOf((char) c))\n.collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\n.entrySet().stream().sorted(Map.Entry.comparingByValue()).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (v1, v2) -&gt; v1, LinkedHashMap::new));\n\n//output\nresult = {a=1, r=1, c=1, t=1, e=1, f=1, v=1, w=1, k=1, l=1, o=2, s=3}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692781378,"creation_date":1692781378,"answer_id":76959862,"question_id":58928549,"body_markdown":"Using **Java 8** :\r\n\r\n    \tString name = &quot;anandha&quot;;\r\n    \t name.chars()   //returns IntStream \r\n    \t.mapToObj(ch -&gt; (char)ch) //returns Stream&lt;Character&gt;\r\n    \t.collect(Collectors.groupingBy(ch -&gt; ch, Collectors.counting())) //returns  Map&lt;Character, Long&gt;\r\n    \t.forEach((k, v)-&gt;{\r\n    \t\tSystem.out.println(k+ &quot; : &quot; + v);\r\n    \t});\r\n\r\n**Output**:\r\n\r\n     a : 3\r\n     d : 1\r\n     h : 1\r\n     n : 2","title":"Find duplicate characters in string","body":"<p>Using <strong>Java 8</strong> :</p>\n<pre><code>    String name = &quot;anandha&quot;;\n     name.chars()   //returns IntStream \n    .mapToObj(ch -&gt; (char)ch) //returns Stream&lt;Character&gt;\n    .collect(Collectors.groupingBy(ch -&gt; ch, Collectors.counting())) //returns  Map&lt;Character, Long&gt;\n    .forEach((k, v)-&gt;{\n        System.out.println(k+ &quot; : &quot; + v);\n    });\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code> a : 3\n d : 1\n h : 1\n n : 2\n</code></pre>\n"}],"owner":{"account_id":6825598,"reputation":4204,"user_id":5251414,"accept_rate":36,"display_name":"Krish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1199,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":58929219,"answer_count":8,"score":-3,"last_activity_date":1692781378,"creation_date":1574147997,"question_id":58928549,"body_markdown":"I am trying to print `duplicate` characters in a string for example if string input is: `&quot;aabacdceefeg&quot;` output should be `a--&gt;3,b--&gt;1,c---&gt;2,e--&gt;3` like this way have to print values but below code not working for this logic can some one suggest me please\r\n\r\n  \r\n\r\n      public class Test {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\t String string1 = &quot;Great responsibility&quot;;\r\n          char string[] = string1.toCharArray();\r\n          HashMap&lt;Character, Integer&gt; hashMap = new HashMap&lt;Character, Integer&gt;();\r\n          for (int i = 0; i &lt; string.length; i++) {\r\n              for (int j = i + 1; j &lt; string.length; j++) {\r\n                  if (string[i] == string[j]) {\r\n                     Integer value = hashMap.get(string[i]);\r\n                \t hashMap.put(string[i], value+1);\r\n                  } else {\r\n                      hashMap.put(string[i], 1);\r\n                  }\r\n              }\r\n          }\r\n          System.out.println(hashMap);\r\n    \t}\r\n        \r\n       }\r\n\r\n","title":"Find duplicate characters in string","body":"<p>I am trying to print <code>duplicate</code> characters in a string for example if string input is: <code>\"aabacdceefeg\"</code> output should be <code>a--&gt;3,b--&gt;1,c---&gt;2,e--&gt;3</code> like this way have to print values but below code not working for this logic can some one suggest me please</p>\n\n<pre><code>  public class Test {\n\n        public static void main(String[] args) {\n             String string1 = \"Great responsibility\";\n      char string[] = string1.toCharArray();\n      HashMap&lt;Character, Integer&gt; hashMap = new HashMap&lt;Character, Integer&gt;();\n      for (int i = 0; i &lt; string.length; i++) {\n          for (int j = i + 1; j &lt; string.length; j++) {\n              if (string[i] == string[j]) {\n                 Integer value = hashMap.get(string[i]);\n                 hashMap.put(string[i], value+1);\n              } else {\n                  hashMap.put(string[i], 1);\n              }\n          }\n      }\n      System.out.println(hashMap);\n    }\n\n   }\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":2935510,"reputation":5773,"user_id":2514521,"accept_rate":67,"display_name":"AMADANON Inc."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421288397,"creation_date":1421288397,"answer_id":27955824,"question_id":27955811,"body_markdown":"To match a literal character which has special meaning in regexes, you need to escape it. For example, to match a literal `.`, your regex would be `\\.`; so `\\.\\*` would match exactly two characters: a dot followed by an asterisk.\r\n\r\nYour pattern might be something like: `regexChecker\\(\\&quot;\\(______\\)\\&quot;, input\\); \\&lt;\\-\\-\\- pattern \\?`","title":"regex matching special characters","body":"<p>To match a literal character which has special meaning in regexes, you need to escape it. For example, to match a literal <code>.</code>, your regex would be <code>\\.</code>; so <code>\\.\\*</code> would match exactly two characters: a dot followed by an asterisk.</p>\n\n<p>Your pattern might be something like: <code>regexChecker\\(\\\"\\(______\\)\\\", input\\); \\&lt;\\-\\-\\- pattern \\?</code></p>\n"},{"tags":[],"owner":{"account_id":3438751,"reputation":172981,"user_id":3297613,"accept_rate":74,"display_name":"Avinash Raj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421288728,"creation_date":1421288728,"answer_id":27955867,"question_id":27955811,"body_markdown":"&gt; How can I define my pattern for this? ( ) , [ ] , { } \r\n\r\n    String theRegex = &quot;^(?:\\\\(\\\\)|\\\\[\\\\]|\\\\{})$&quot;;","title":"regex matching special characters","body":"<blockquote>\n  <p>How can I define my pattern for this? ( ) , [ ] , { } </p>\n</blockquote>\n\n<pre><code>String theRegex = \"^(?:\\\\(\\\\)|\\\\[\\\\]|\\\\{})$\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4681862,"reputation":4855,"user_id":3790360,"accept_rate":57,"display_name":"Andie2302"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421294006,"creation_date":1421293445,"answer_id":27956479,"question_id":27955811,"body_markdown":"In java you can use the regex:\r\n\r\n    []()\\[{}]\r\n\r\nThe regex as escaped string:\r\n\r\n    &quot;[]()\\\\[{}]&quot;\r\n\r\n\r\n----------\r\nThere are also Unicode categories for open and close punctuation.\r\n\r\n    [\\p{Ps}\\p{Pe}]\r\n\r\nThe regex as escaped string:\r\n\r\n    &quot;[\\\\p{Ps}\\\\p{Pe}]&quot;","title":"regex matching special characters","body":"<p>In java you can use the regex:</p>\n\n<pre><code>[]()\\[{}]\n</code></pre>\n\n<p>The regex as escaped string:</p>\n\n<pre><code>\"[]()\\\\[{}]\"\n</code></pre>\n\n<hr>\n\n<p>There are also Unicode categories for open and close punctuation.</p>\n\n<pre><code>[\\p{Ps}\\p{Pe}]\n</code></pre>\n\n<p>The regex as escaped string:</p>\n\n<pre><code>\"[\\\\p{Ps}\\\\p{Pe}]\"\n</code></pre>\n"}],"owner":{"account_id":4482944,"reputation":109,"user_id":3646508,"accept_rate":78,"display_name":"user3646508"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1692781216,"creation_date":1421288223,"question_id":27955811,"body_markdown":"I&#39;m trying to find matching special characters.\r\nHow can I define my pattern for this?\r\n( ) , [ ] , { } \r\n\r\nhere&#39;s my code thus far..\r\nI plan on calling the regexChecker() in the matchSpecChars()\r\nThen matchSpecChars() in the main.\r\n\r\nregexChecker(&quot;(______)&quot;, input);   &lt;--- pattern ?\r\n\r\n    import java.util.Scanner;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class VictorSolutions {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void matchSpecChars() {\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter characters: &quot;);\r\n    \t\tinput.next();\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void regexChecker(String theRegex, String str2Check) {\r\n    \r\n    \t\tPattern checkRegex = Pattern.compile(theRegex);\r\n    \r\n    \t\tMatcher regexMatcher = checkRegex.matcher(str2Check);\r\n    \r\n    \t\twhile (regexMatcher.find()) {\r\n    \t\t\tSystem.out.println(regexMatcher.group().trim());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"regex matching special characters","body":"<p>I'm trying to find matching special characters.\nHow can I define my pattern for this?\n( ) , [ ] , { } </p>\n\n<p>here's my code thus far..\nI plan on calling the regexChecker() in the matchSpecChars()\nThen matchSpecChars() in the main.</p>\n\n<p>regexChecker(\"(______)\", input);   &lt;--- pattern ?</p>\n\n<pre><code>import java.util.Scanner;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class VictorSolutions {\n\n    public static void main(String[] args) {\n\n\n    }\n\n    public static void matchSpecChars() {\n        Scanner input = new Scanner(System.in);\n        System.out.println(\"Enter characters: \");\n        input.next();\n\n    }\n\n    public static void regexChecker(String theRegex, String str2Check) {\n\n        Pattern checkRegex = Pattern.compile(theRegex);\n\n        Matcher regexMatcher = checkRegex.matcher(str2Check);\n\n        while (regexMatcher.find()) {\n            System.out.println(regexMatcher.group().trim());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","adaptive-cards"],"comments":[{"owner":{"account_id":60479,"reputation":1743,"user_id":180624,"display_name":"Matt Hidinger"},"score":0,"creation_date":1580496958,"post_id":60005993,"comment_id":106129794,"body_markdown":"Unfortunately there is no plain-Java SDK available at this time. The source code is available here, hopefully you would be able to pull out the parts you need: https://github.com/microsoft/AdaptiveCards/tree/master/source/android","body":"Unfortunately there is no plain-Java SDK available at this time. The source code is available here, hopefully you would be able to pull out the parts you need: <a href=\"https://github.com/microsoft/AdaptiveCards/tree/master/source/android\" rel=\"nofollow noreferrer\">github.com/microsoft/AdaptiveCards/tree/master/source/androi&zwnj;&#8203;d</a>"}],"answers":[{"tags":[],"owner":{"account_id":11752811,"reputation":10047,"user_id":8601372,"display_name":"Hilton Giesenow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1580714091,"creation_date":1580714091,"answer_id":60034648,"question_id":60005993,"body_markdown":"At the end of the day, although it sounds fancy, an &quot;Adaptive Card&quot; is actually just a JSON string. As a result, even without a good strongly-typed library, you can just create the raw JSON yourself to send, do your own string/token replacements, and send it to the end destination. Just as an example, have a look at this question and the 2nd option in my answer: https://stackoverflow.com/questions/59662677/display-number-in-adaptive-card/59663953#59663953\r\n\r\nAs a further suggestion, once it&#39;s all working, perhaps you can contribute to a Java version of Adaptive Cards - it *is* an open source project, after all :-)\r\n","title":"Adaptive Cards Rendering and Authoring using Java","body":"<p>At the end of the day, although it sounds fancy, an \"Adaptive Card\" is actually just a JSON string. As a result, even without a good strongly-typed library, you can just create the raw JSON yourself to send, do your own string/token replacements, and send it to the end destination. Just as an example, have a look at this question and the 2nd option in my answer: <a href=\"https://stackoverflow.com/questions/59662677/display-number-in-adaptive-card/59663953#59663953\">Display number in adaptive card</a></p>\n\n<p>As a further suggestion, once it's all working, perhaps you can contribute to a Java version of Adaptive Cards - it <em>is</em> an open source project, after all :-)</p>\n"},{"tags":[],"owner":{"account_id":182104,"reputation":465,"user_id":416570,"accept_rate":80,"display_name":"Rob Moffat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692781105,"creation_date":1692781105,"answer_id":76959821,"question_id":60005993,"body_markdown":"You could see how we did this in the [Spring Bot][1] project, which uses Graalvm Polyglot to render from within the JVM.  Check out the JavascriptSubstitution class \r\n\r\n\r\n  [1]: https://github.com/finos/spring-bot","title":"Adaptive Cards Rendering and Authoring using Java","body":"<p>You could see how we did this in the <a href=\"https://github.com/finos/spring-bot\" rel=\"nofollow noreferrer\">Spring Bot</a> project, which uses Graalvm Polyglot to render from within the JVM.  Check out the JavascriptSubstitution class</p>\n"}],"owner":{"account_id":12219577,"reputation":185,"user_id":8919002,"display_name":"AhmedVali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60034648,"answer_count":2,"score":0,"last_activity_date":1692781105,"creation_date":1580481614,"question_id":60005993,"body_markdown":"I am trying to implement an Approval Flow using Adaptive Cards and building an RESTful API in Java to use for Actions in Adaptive Cards.\r\n\r\nI was able to validate the token from the Adaptive Card using [this](https://github.com/OfficeDev/outlook-actionable-messages-java-token-validation).\r\n\r\nBut in order for my API to send a Refresh Card as a response, i need to author and render the Adaptive Card. \r\n\r\nThere is an SDK for Android but not for specifically for Java.I have tried to work with adaptivecards-android-1.2.5 jar, but just unable to load the classes.\r\n\r\nIs there any SDK for Java or any other way how we can utilize the Android SDK?","title":"Adaptive Cards Rendering and Authoring using Java","body":"<p>I am trying to implement an Approval Flow using Adaptive Cards and building an RESTful API in Java to use for Actions in Adaptive Cards.</p>\n<p>I was able to validate the token from the Adaptive Card using <a href=\"https://github.com/OfficeDev/outlook-actionable-messages-java-token-validation\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>But in order for my API to send a Refresh Card as a response, i need to author and render the Adaptive Card.</p>\n<p>There is an SDK for Android but not for specifically for Java.I have tried to work with adaptivecards-android-1.2.5 jar, but just unable to load the classes.</p>\n<p>Is there any SDK for Java or any other way how we can utilize the Android SDK?</p>\n"},{"tags":["java","swing","jlayeredpane"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1692782682,"post_id":76959820,"comment_id":135670056,"body_markdown":"There is no special significance to the default layer—these are just convenient predefined depth values. Make sure to call `setOpaque(false)` on the `topLayer` as otherwise Swing assumes that the components beneath it are not visible when completely behind the `topLayer`.","body":"There is no special significance to the default layer—these are just convenient predefined depth values. Make sure to call <code>setOpaque(false)</code> on the <code>topLayer</code> as otherwise Swing assumes that the components beneath it are not visible when completely behind the <code>topLayer</code>."},{"owner":{"account_id":1584513,"reputation":75,"user_id":1469174,"accept_rate":62,"display_name":"user1469174"},"score":0,"creation_date":1692785860,"post_id":76959820,"comment_id":135670642,"body_markdown":"Thank you so much @Holger . It worked perfectly, I wasnt aware of this.","body":"Thank you so much @Holger . It worked perfectly, I wasnt aware of this."}],"owner":{"account_id":1584513,"reputation":75,"user_id":1469174,"accept_rate":62,"display_name":"user1469174"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692781104,"creation_date":1692781104,"question_id":76959820,"body_markdown":"I have two panels that are layered on a JLayeredPane. The default layer contains an image. The top layer has a circle that is transparent and I can see part of the default layer image through it. I however want the transparent layer to be bigger than the default layer so that the image behind does not ever show on the sides.\r\n\r\n```\r\n// This works but shows the image behind by 1 pixel which I do not want\r\nJLayeredPane layeredPane = new JLayeredPane();\r\nbottomLayer.setBounds(10, 10, 550, 500); //defaultLayer panel\r\ntopLayer.setBounds(11, 0, 620, 580)); // modalLayer panel\r\n\r\n//this does not work and makes the default panel with the image not show anymore\r\nJLayeredPane layeredPane = new JLayeredPane();\r\nbottomLayer.setBounds(20, 0, 550, 500)); //defaultLayer panel\r\ntopLayer.setBounds(10, 0, 620, 580)); // modalLayer panel\r\n","title":"Can the default layer be smaller than the modal layer on a JLayeredPane? The default layer does not seem to show if it is smaller than the modal layer","body":"<p>I have two panels that are layered on a JLayeredPane. The default layer contains an image. The top layer has a circle that is transparent and I can see part of the default layer image through it. I however want the transparent layer to be bigger than the default layer so that the image behind does not ever show on the sides.</p>\n<pre><code>// This works but shows the image behind by 1 pixel which I do not want\nJLayeredPane layeredPane = new JLayeredPane();\nbottomLayer.setBounds(10, 10, 550, 500); //defaultLayer panel\ntopLayer.setBounds(11, 0, 620, 580)); // modalLayer panel\n\n//this does not work and makes the default panel with the image not show anymore\nJLayeredPane layeredPane = new JLayeredPane();\nbottomLayer.setBounds(20, 0, 550, 500)); //defaultLayer panel\ntopLayer.setBounds(10, 0, 620, 580)); // modalLayer panel\n</code></pre>\n"},{"tags":["java","android","regex","string"],"comments":[{"owner":{"account_id":2540011,"reputation":70006,"user_id":2206004,"accept_rate":100,"display_name":"hwnd"},"score":0,"creation_date":1379893890,"post_id":18949914,"comment_id":27984712,"body_markdown":"What does your string data look like and are you using Java platform?","body":"What does your string data look like and are you using Java platform?"},{"owner":{"account_id":1173800,"reputation":12255,"user_id":1150311,"accept_rate":58,"display_name":"edwoollard"},"score":0,"creation_date":1379893970,"post_id":18949914,"comment_id":27984739,"body_markdown":"It&#39;s a set of ingredients. An example would be like this: 1 egg, 2 bacon rashers, 3 potatoes. I need to find all three of those numbers, in that example. Currently I&#39;m only pulling back the first.","body":"It&#39;s a set of ingredients. An example would be like this: 1 egg, 2 bacon rashers, 3 potatoes. I need to find all three of those numbers, in that example. Currently I&#39;m only pulling back the first."}],"answers":[{"tags":[],"owner":{"account_id":2540011,"reputation":70006,"user_id":2206004,"accept_rate":100,"display_name":"hwnd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1379896023,"creation_date":1379894124,"answer_id":18949971,"question_id":18949914,"body_markdown":"In your posted code:\r\n\r\n    matcher.find();\r\n    String inputInt = matcher.group();\r\n\r\nYou are matching the whole string with a single call to find. And then assigning the first match of digits to your String `inputInt`. So for example, if you have the below string data, your return will only be `1`.\r\n\r\n    1 egg, 2 bacon rashers, 3 potatoes\r\n\r\nYou should use a `while` loop to loop over your matches.\r\n\r\n    Pattern intsOnly = Pattern.compile(&quot;\\\\d+&quot;);\r\n    Matcher matcher = intsOnly.matcher(o1.getIngredients());\r\n    while (matcher.find()) {\r\n      System.out.println(matcher.group());\r\n    }\r\n","title":"Finding Multiple Integers Inside A String Using Regex","body":"<p>In your posted code:</p>\n\n<pre><code>matcher.find();\nString inputInt = matcher.group();\n</code></pre>\n\n<p>You are matching the whole string with a single call to find. And then assigning the first match of digits to your String <code>inputInt</code>. So for example, if you have the below string data, your return will only be <code>1</code>.</p>\n\n<pre><code>1 egg, 2 bacon rashers, 3 potatoes\n</code></pre>\n\n<p>You should use a <code>while</code> loop to loop over your matches.</p>\n\n<pre><code>Pattern intsOnly = Pattern.compile(\"\\\\d+\");\nMatcher matcher = intsOnly.matcher(o1.getIngredients());\nwhile (matcher.find()) {\n  System.out.println(matcher.group());\n}\n</code></pre>\n"}],"owner":{"account_id":1173800,"reputation":12255,"user_id":1150311,"accept_rate":58,"display_name":"edwoollard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18949971,"answer_count":1,"score":0,"last_activity_date":1692781044,"creation_date":1379893561,"question_id":18949914,"body_markdown":"I currently have this code below:\r\n\r\n        Pattern intsOnly = Pattern.compile(&quot;\\\\d+&quot;);\r\n\t\tMatcher matcher = intsOnly.matcher(o1.getIngredients());\r\n\t\tmatcher.find();\r\n\t\tString inputInt = matcher.group();\r\n\r\nWhat currently happens is that using Regex, it finds the first integer inside a string and separates it so that I can carry out actions on it. The string that I am using to find integers inside of has many integers and I want them all separate. How can I tweak this code so that it also records the other integers from the string, not just the first one.\r\n\r\nThanks in advance!","title":"Finding Multiple Integers Inside A String Using Regex","body":"<p>I currently have this code below:</p>\n\n<pre><code>    Pattern intsOnly = Pattern.compile(\"\\\\d+\");\n    Matcher matcher = intsOnly.matcher(o1.getIngredients());\n    matcher.find();\n    String inputInt = matcher.group();\n</code></pre>\n\n<p>What currently happens is that using Regex, it finds the first integer inside a string and separates it so that I can carry out actions on it. The string that I am using to find integers inside of has many integers and I want them all separate. How can I tweak this code so that it also records the other integers from the string, not just the first one.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","arrays","loops","if-statement","while-loop"],"comments":[{"owner":{"account_id":4663157,"reputation":15204,"user_id":3776927,"display_name":"derpirscher"},"score":0,"creation_date":1692781420,"post_id":76959807,"comment_id":135669801,"body_markdown":"Depending on what line `257` exactly is, either `customerContactArray` itself or one of its entries is `null` ...","body":"Depending on what line <code>257</code> exactly is, either <code>customerContactArray</code> itself or one of its entries is <code>null</code> ..."},{"owner":{"account_id":4663157,"reputation":15204,"user_id":3776927,"display_name":"derpirscher"},"score":0,"creation_date":1692781551,"post_id":76959807,"comment_id":135669827,"body_markdown":"BTW: Your loop will never exit, because if you enter anything different from `Y` or `y` it will still continue, because of the `while (true)`","body":"BTW: Your loop will never exit, because if you enter anything different from <code>Y</code> or <code>y</code> it will still continue, because of the <code>while (true)</code>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1692782008,"post_id":76959807,"comment_id":135669935,"body_markdown":"The actual error happens in line 15. If that line is the one that starts the `for` loop, then your array is `null`. If it&#39;s the next line, with the `if` statement, then the element `i` of your array is `null`.","body":"The actual error happens in line 15. If that line is the one that starts the <code>for</code> loop, then your array is <code>null</code>. If it&#39;s the next line, with the <code>if</code> statement, then the element <code>i</code> of your array is <code>null</code>."},{"owner":{"account_id":4663157,"reputation":15204,"user_id":3776927,"display_name":"derpirscher"},"score":0,"creation_date":1692790616,"post_id":76959807,"comment_id":135671608,"body_markdown":"@k314159 Yes, you are right, took the wrong line number from the error message, but still meant the code inside the `searchingArray` method ...","body":"@k314159 Yes, you are right, took the wrong line number from the error message, but still meant the code inside the <code>searchingArray</code> method ..."}],"owner":{"account_id":27649850,"reputation":1,"user_id":21105011,"display_name":"Yasith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692782306,"answer_count":0,"score":0,"last_activity_date":1692781021,"creation_date":1692781021,"question_id":76959807,"body_markdown":"```\r\n public static void searchCustomer(){\r\n\t\tScanner input=new Scanner(System.in);\r\n\t  L1:do{\r\n\t\t\tclearConsole();\r\n\t\t\tsearchCustomerHomepage();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Enter Customer phone number : &quot;);\r\n\t\t\tString phone=input.next();\r\n\t\t\tif(!isValidTpnumber(phone)){\r\n\t\t\t\tSystem.out.println(&quot;\\n\\tInvalid input :&quot;);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tint i=searchingArray(phone);\r\n\t\t\tif(i!=-1){\r\n\t\t\t\tSystem.out.println(orderIdArray[i]);\r\n\t\t\t\tSystem.out.println(customerContactArray[i]);\r\n\t\t\t\tSystem.out.println(tshirtSizeArray[i]);\r\n\t\t\t\tSystem.out.println(amountArray[i]);\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\tSystem.out.print(&quot;Do you want to search another customer report? (Y/N)&quot;);\r\n\t\t\tchar op=input.next().charAt(0);\r\n\t\t\tif(op==&#39;Y&#39;||op==&#39;y&#39;){\r\n\t\t\t\tcontinue L1;\r\n\t\t\t}\r\n\t\t}while(true);\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t//////SEARCHINGARRAY/////\r\n\tpublic static int searchingArray(String phone){\r\n\t\tfor(int i=0;i&lt;customerContactArray.length;i++){\r\n\t\t\tif(customerContactArray[i].equals(phone)){\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\r\n\r\n\r\n\r\n```\r\n\r\nIn this code why null exception error occuring.I will put the error below.. Exception in thread &quot;main&quot; java.lang.NullPointerException at fashion.searchingArray(fashion.java:15) at fashion.searchCustomer(fashion.java:257) at fashion.main(fashion.java:127)\r\n\r\nI want to solve above error &amp; want to get knowledge about that mistake..I hope code is clear for you","title":"I want to fix my error which is shows as nullpoint exception error","body":"<pre><code> public static void searchCustomer(){\n        Scanner input=new Scanner(System.in);\n      L1:do{\n            clearConsole();\n            searchCustomerHomepage();\n            \n            \n            System.out.print(&quot;Enter Customer phone number : &quot;);\n            String phone=input.next();\n            if(!isValidTpnumber(phone)){\n                System.out.println(&quot;\\n\\tInvalid input :&quot;);\n                \n            }\n            int i=searchingArray(phone);\n            if(i!=-1){\n                System.out.println(orderIdArray[i]);\n                System.out.println(customerContactArray[i]);\n                System.out.println(tshirtSizeArray[i]);\n                System.out.println(amountArray[i]);\n                \n                }\n            System.out.print(&quot;Do you want to search another customer report? (Y/N)&quot;);\n            char op=input.next().charAt(0);\n            if(op=='Y'||op=='y'){\n                continue L1;\n            }\n        }while(true);\n    }\n\n\n\n\n\n\n\n    //////SEARCHINGARRAY/////\n    public static int searchingArray(String phone){\n        for(int i=0;i&lt;customerContactArray.length;i++){\n            if(customerContactArray[i].equals(phone)){\n                return i;\n            }\n        }\n        return -1;\n    }\n\n\n\n\n</code></pre>\n<p>In this code why null exception error occuring.I will put the error below.. Exception in thread &quot;main&quot; java.lang.NullPointerException at fashion.searchingArray(fashion.java:15) at fashion.searchCustomer(fashion.java:257) at fashion.main(fashion.java:127)</p>\n<p>I want to solve above error &amp; want to get knowledge about that mistake..I hope code is clear for you</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1401358793,"post_id":23930664,"comment_id":36857059,"body_markdown":"You don&#39;t appear to have any code writing the file out again after the changes - is it that simple?","body":"You don&#39;t appear to have any code writing the file out again after the changes - is it that simple?"},{"owner":{"account_id":3417560,"reputation":1124,"user_id":2865997,"display_name":"Artur Malinowski"},"score":0,"creation_date":1401360264,"post_id":23930664,"comment_id":36857979,"body_markdown":"@Gagravarr Yes, it is that simple... However, I do not understand why it is required to store doc in a file in order to have changes applied.","body":"@Gagravarr Yes, it is that simple... However, I do not understand why it is required to store doc in a file in order to have changes applied."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1401361484,"post_id":23930664,"comment_id":36858695,"body_markdown":"Because that&#39;s how the library works - it loads it into memory, you make changes in memory, then you save. Just the same as Word - you need to tell it to save when you&#39;re done!","body":"Because that&#39;s how the library works - it loads it into memory, you make changes in memory, then you save. Just the same as Word - you need to tell it to save when you&#39;re done!"},{"owner":{"account_id":3417560,"reputation":1124,"user_id":2865997,"display_name":"Artur Malinowski"},"score":4,"creation_date":1401361946,"post_id":23930664,"comment_id":36858952,"body_markdown":"Nope. I make changes in memory using `setText()`, so I want to read from memory with `getText()`. For me it is quite obvious while using methods similar to getters and setters. And if you replace text in Word, you can see the replaced value without saving.","body":"Nope. I make changes in memory using <code>setText()</code>, so I want to read from memory with <code>getText()</code>. For me it is quite obvious while using methods similar to getters and setters. And if you replace text in Word, you can see the replaced value without saving."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1401370049,"post_id":23930664,"comment_id":36863780,"body_markdown":"Ah, I understand now! What happens if you use `XWPFRun.toString()` to get the text out of the run, does that help? And have you made sure you&#39;re using the latest version of Apache POI?","body":"Ah, I understand now! What happens if you use <code>XWPFRun.toString()</code> to get the text out of the run, does that help? And have you made sure you&#39;re using the latest version of Apache POI?"},{"owner":{"account_id":2688855,"reputation":51,"user_id":2322598,"display_name":"sp_nz"},"score":0,"creation_date":1622358373,"post_id":23930664,"comment_id":119766380,"body_markdown":"You do need to save to a file e.g. doc.write(new FileOutputStream(outfile));","body":"You do need to save to a file e.g. doc.write(new FileOutputStream(outfile));"}],"answers":[{"tags":[],"owner":{"account_id":2106355,"reputation":230,"user_id":1872605,"display_name":"Sindre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483366119,"creation_date":1483361804,"answer_id":41427277,"question_id":23930664,"body_markdown":"I had to use `run.toString()` to solve an issue similar to yours. (org.apache.poi 3.15) The output from `.toString()` is changed after `setText(..)` is called.\r\n\r\n`System.out.println(&quot;toString(): &quot; + run.toString());`","title":"Apache POI XWPFRun.setText() does not work","body":"<p>I had to use <code>run.toString()</code> to solve an issue similar to yours. (org.apache.poi 3.15) The output from <code>.toString()</code> is changed after <code>setText(..)</code> is called.</p>\n\n<p><code>System.out.println(\"toString(): \" + run.toString());</code></p>\n"},{"tags":[],"owner":{"account_id":3417560,"reputation":1124,"user_id":2865997,"display_name":"Artur Malinowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1558360629,"creation_date":1558360629,"answer_id":56222456,"question_id":23930664,"body_markdown":"*It&#39;s been a while and the explanation is somehow hidden between comments, so it may be worth to sum it up.*\r\n\r\nActually, there is no bug in Apache POI behavior. The problem is in the naming convention - although POI uses get/set methods, it does not mean that classes obey JavaBeans rules. In this example, `setText` method really does the job - all of the changes would be applied after saving edited document.","title":"Apache POI XWPFRun.setText() does not work","body":"<p><em>It's been a while and the explanation is somehow hidden between comments, so it may be worth to sum it up.</em></p>\n\n<p>Actually, there is no bug in Apache POI behavior. The problem is in the naming convention - although POI uses get/set methods, it does not mean that classes obey JavaBeans rules. In this example, <code>setText</code> method really does the job - all of the changes would be applied after saving edited document.</p>\n"},{"tags":[],"owner":{"account_id":18088848,"reputation":131,"user_id":13149020,"display_name":"tkalvin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692780976,"creation_date":1692780976,"answer_id":76959801,"question_id":23930664,"body_markdown":"This is what worked for me:\r\n---------------------------\r\n```java\r\nfor (XWPFParagraph paragraph : document.getParagraphs()) {\r\n    for (XWPFRun run : paragraph.getRuns()) {\r\n        int textPosition = run.getTextPosition();\r\n        if (run.getText(textPosition) != null) {\r\n            System.out.println(&quot;old value: &quot; + run.getText(textPosition));\r\n            run.setText(&quot;value changed&quot;, 0); // &lt;&lt;------ the difference is here\r\n            System.out.println(&quot;new value: &quot; + run.getText(textPosition));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe question owner said you had to save the document before you see changes, and the code was actually good. I didn&#39;t have to save anything, it just worked for me with a little difference:\r\n\r\n**I had to pass ```0``` as ```pos``` argument in ```run.setText```** instead of ```textPosition``` previously got from ```run``` so it overwrote the text.\r\n\r\n(I also wanted to change the text, and for me ```setText(String value)``` appended text instead of replacing it, and ```setText(String value, int pos)``` did the job for me.)","title":"Apache POI XWPFRun.setText() does not work","body":"<h2>This is what worked for me:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>for (XWPFParagraph paragraph : document.getParagraphs()) {\n    for (XWPFRun run : paragraph.getRuns()) {\n        int textPosition = run.getTextPosition();\n        if (run.getText(textPosition) != null) {\n            System.out.println(&quot;old value: &quot; + run.getText(textPosition));\n            run.setText(&quot;value changed&quot;, 0); // &lt;&lt;------ the difference is here\n            System.out.println(&quot;new value: &quot; + run.getText(textPosition));\n        }\n    }\n}\n</code></pre>\n<p>The question owner said you had to save the document before you see changes, and the code was actually good. I didn't have to save anything, it just worked for me with a little difference:</p>\n<p><strong>I had to pass <code>0</code> as <code>pos</code> argument in <code>run.setText</code></strong> instead of <code>textPosition</code> previously got from <code>run</code> so it overwrote the text.</p>\n<p>(I also wanted to change the text, and for me <code>setText(String value)</code> appended text instead of replacing it, and <code>setText(String value, int pos)</code> did the job for me.)</p>\n"}],"owner":{"account_id":3417560,"reputation":1124,"user_id":2865997,"display_name":"Artur Malinowski"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2386,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56222456,"answer_count":3,"score":4,"last_activity_date":1692780976,"creation_date":1401357617,"question_id":23930664,"body_markdown":"I want to manipulate text runs in the XWPFDocument using Apache POI 3.10 and the method `XWPFRun.setText()` does not work the way I was expecting. This code:\r\n\r\n    XWPFDocument doc = new XWPFDocument(resp.getContent());\r\n    for (XWPFParagraph paragraph : doc.getParagraphs()) {\r\n    \tfor (XWPFRun run : paragraph.getRuns()) {\r\n    \t\tint textPosition = run.getTextPosition();\r\n    \t\tif (run.getText(textPosition) != null) {\r\n    \t\t\tSystem.out.println(&quot;old value: &quot; + run.getText(textPosition));\r\n    \t\t\trun.setText(&quot;value changed&quot;, textPosition);\r\n    \t\t\tSystem.out.println(&quot;new value: &quot; + run.getText(textPosition));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nproduces the output:\r\n\r\n    old value: change me\r\n    new value: change me\r\n\r\nWhat is the correct way of updating single run in XWPFDocument?","title":"Apache POI XWPFRun.setText() does not work","body":"<p>I want to manipulate text runs in the XWPFDocument using Apache POI 3.10 and the method <code>XWPFRun.setText()</code> does not work the way I was expecting. This code:</p>\n\n<pre><code>XWPFDocument doc = new XWPFDocument(resp.getContent());\nfor (XWPFParagraph paragraph : doc.getParagraphs()) {\n    for (XWPFRun run : paragraph.getRuns()) {\n        int textPosition = run.getTextPosition();\n        if (run.getText(textPosition) != null) {\n            System.out.println(\"old value: \" + run.getText(textPosition));\n            run.setText(\"value changed\", textPosition);\n            System.out.println(\"new value: \" + run.getText(textPosition));\n        }\n    }\n}\n</code></pre>\n\n<p>produces the output:</p>\n\n<pre><code>old value: change me\nnew value: change me\n</code></pre>\n\n<p>What is the correct way of updating single run in XWPFDocument?</p>\n"},{"tags":["java","gradle","checkstyle"],"answers":[{"tags":[],"owner":{"account_id":8356918,"reputation":329,"user_id":6276802,"accept_rate":25,"display_name":"PeaceIsPearl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692780719,"creation_date":1462893295,"answer_id":37142557,"question_id":37141602,"body_markdown":"https://checkstyle.org/filters/suppressioncommentfilter.html#SuppressionCommentFilter. Please add the module to your checkstyle.xml\r\n\r\n&lt;module name=&quot;SuppressionCommentFilter&quot;/&gt;\r\nYou can add comments to your code to turn off checkstyle (at various levels) and then back on again through the use of comments in your code. E.g.\r\n\r\n    //CHECKSTYLE:OFF\r\n    public void someMethod(String arg1, String arg2, String arg3, String arg4) {\r\n    //CHECKSTYLE:ON","title":"Checkstyle off is not working for Checkstyle Gradle","body":"<p><a href=\"https://checkstyle.org/filters/suppressioncommentfilter.html#SuppressionCommentFilter\" rel=\"nofollow noreferrer\">https://checkstyle.org/filters/suppressioncommentfilter.html#SuppressionCommentFilter</a>. Please add the module to your checkstyle.xml</p>\n\nYou can add comments to your code to turn off checkstyle (at various levels) and then back on again through the use of comments in your code. E.g.\n<pre><code>//CHECKSTYLE:OFF\npublic void someMethod(String arg1, String arg2, String arg3, String arg4) {\n//CHECKSTYLE:ON\n</code></pre>\n"}],"owner":{"account_id":4211138,"reputation":4722,"user_id":3448799,"accept_rate":26,"display_name":"richersoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1868,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37142557,"answer_count":1,"score":2,"last_activity_date":1692780719,"creation_date":1462890915,"question_id":37141602,"body_markdown":"I would like to use //@checkstyle:off and //@checkstyle:on to exempt certain part of the code from being check by checkstyle but it is still complaining.\r\n\r\n\r\n    public void invoke() {\r\n        //@checkstyle:off\r\n        String foo=&quot;Don&#39;t scan me please&quot;;\r\n        //@checkstyle:on\r\n    }\r\n","title":"Checkstyle off is not working for Checkstyle Gradle","body":"<p>I would like to use //@checkstyle:off and //@checkstyle:on to exempt certain part of the code from being check by checkstyle but it is still complaining.</p>\n\n<pre><code>public void invoke() {\n    //@checkstyle:off\n    String foo=\"Don't scan me please\";\n    //@checkstyle:on\n}\n</code></pre>\n"},{"tags":["java","regex","bitset"],"comments":[{"owner":{"account_id":1303947,"reputation":27081,"user_id":1253312,"accept_rate":85,"display_name":"000"},"score":0,"creation_date":1335109561,"post_id":10269353,"comment_id":13205914,"body_markdown":"Add some debug statements to figure out exactly what m.group(1) contains at each loop.","body":"Add some debug statements to figure out exactly what m.group(1) contains at each loop."}],"answers":[{"tags":[],"owner":{"account_id":10843,"reputation":330377,"user_id":20670,"accept_rate":100,"display_name":"Tim Pietzcker"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1335112198,"creation_date":1335112198,"answer_id":10269775,"question_id":10269353,"body_markdown":"Your problem is that the regex is using a [lookahead assertion][1] `(?=...)` which finds overlapping matches. I can&#39;t think of a reason why you would need that in these circumstances.\r\n\r\nTry removing it; that will make sure that only entire numbers are found. You also don&#39;t need a capturing group since you can simply use the entire match which is in `.group(0)` anyway:\r\n\r\n    Matcher m = Pattern.compile(&quot;\\\\d+&quot;).matcher(temp);\r\n    while(m.find()) {\r\n        String test2 = m.group(0); // why is this here? You&#39;re not using it.\r\n        answer.setCharAt((2*OpSize -1 - Integer.valueOf(m.group(0))), &#39;1&#39;);\r\n    }\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/lookaround.html","title":"Regex &quot;\\\\d+&quot; finds integer twice in string: &quot;{10}&quot;. matcher matches 10 and 0","body":"<p>Your problem is that the regex is using a <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"noreferrer\">lookahead assertion</a> <code>(?=...)</code> which finds overlapping matches. I can't think of a reason why you would need that in these circumstances.</p>\n\n<p>Try removing it; that will make sure that only entire numbers are found. You also don't need a capturing group since you can simply use the entire match which is in <code>.group(0)</code> anyway:</p>\n\n<pre><code>Matcher m = Pattern.compile(\"\\\\d+\").matcher(temp);\nwhile(m.find()) {\n    String test2 = m.group(0); // why is this here? You're not using it.\n    answer.setCharAt((2*OpSize -1 - Integer.valueOf(m.group(0))), '1');\n}\n</code></pre>\n"}],"owner":{"account_id":1128402,"reputation":936,"user_id":1115070,"accept_rate":97,"display_name":"ollo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10269775,"answer_count":1,"score":1,"last_activity_date":1692780713,"creation_date":1335109231,"question_id":10269353,"body_markdown":"Im using regex to convert BitSet normal toString to a binary string. for instance if the myBitSet.toString() returns {10}, it sets the 10th and the 0th bit, but should only set the 10th. \r\n                 \r\n               \r\n        ...\r\n        Matcher m = Pattern.compile(&quot;(?=(&quot; + &quot;\\\\d+&quot; + &quot;))&quot;).matcher(temp);\r\n        while(m.find()) {\r\n        \tString test2 = m.group(1);\r\n        \tanswer.setCharAt((2*OpSize -1 - Integer.valueOf(m.group(1))), &#39;1&#39;);\r\n\t\t\t\r\n\t\t}\r\n        .....","title":"Regex &quot;\\\\d+&quot; finds integer twice in string: &quot;{10}&quot;. matcher matches 10 and 0","body":"<p>Im using regex to convert BitSet normal toString to a binary string. for instance if the myBitSet.toString() returns {10}, it sets the 10th and the 0th bit, but should only set the 10th. </p>\n\n<pre><code>    ...\n    Matcher m = Pattern.compile(\"(?=(\" + \"\\\\d+\" + \"))\").matcher(temp);\n    while(m.find()) {\n        String test2 = m.group(1);\n        answer.setCharAt((2*OpSize -1 - Integer.valueOf(m.group(1))), '1');\n\n    }\n    .....\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":32380,"reputation":134937,"user_id":89806,"accept_rate":58,"display_name":"moinudin"},"score":1,"creation_date":1290848752,"post_id":4290714,"comment_id":4655875,"body_markdown":"Can you tell us what leftContext and rightContext are? And give us an example of a failing match.","body":"Can you tell us what leftContext and rightContext are? And give us an example of a failing match."},{"owner":{"account_id":216196,"reputation":79145,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":1,"creation_date":1290865942,"post_id":4290714,"comment_id":4657143,"body_markdown":"Getting the regex matcher to capture overlapping things is usually a slightly tricky matter, not something that happens by default. Without seeing the contents of the patterns, it&#39;s hard to say what is happening. It would basically require lookarounds to get the matcher to go over the same part of the string more than once.  Are you doing that?","body":"Getting the regex matcher to capture overlapping things is usually a slightly tricky matter, not something that happens by default. Without seeing the contents of the patterns, it&#39;s hard to say what is happening. It would basically require lookarounds to get the matcher to go over the same part of the string more than once.  Are you doing that?"},{"owner":{"account_id":108533,"reputation":1391,"user_id":288019,"accept_rate":59,"display_name":"Ricardo"},"score":0,"creation_date":1291007543,"post_id":4290714,"comment_id":4669099,"body_markdown":"rightContext and leftContext are plain Strings e.g leftContext=&quot;ab&quot; rightContext=&quot;cd&quot;","body":"rightContext and leftContext are plain Strings e.g leftContext=&quot;ab&quot; rightContext=&quot;cd&quot;"},{"owner":{"account_id":241614,"reputation":9009,"user_id":512535,"accept_rate":80,"display_name":"Dmitri"},"score":0,"creation_date":1291008306,"post_id":4290714,"comment_id":4669162,"body_markdown":"The `*` quantifier is greedy by default, the regex you describe would not produce multiple matches.  Why don&#39;t you post a complete example?","body":"The <code>*</code> quantifier is greedy by default, the regex you describe would not produce multiple matches.  Why don&#39;t you post a complete example?"},{"owner":{"account_id":108533,"reputation":1391,"user_id":288019,"accept_rate":59,"display_name":"Ricardo"},"score":0,"creation_date":1291019048,"post_id":4290714,"comment_id":4670232,"body_markdown":"ah, so thats what happening, any chance i can change the default behavior of * to be non-greedy?","body":"ah, so thats what happening, any chance i can change the default behavior of * to be non-greedy?"}],"answers":[{"tags":[],"owner":{"account_id":227533,"reputation":46580,"user_id":489261,"display_name":"darioo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1290848261,"creation_date":1290848261,"answer_id":4290832,"question_id":4290714,"body_markdown":"There are few possibilities, depending on what you really need.\r\n\r\nYou can append `$` at the end of your regex, like this:\r\n\r\n    &quot;(&quot; + leftContext + &quot;)&quot; + &quot;.*&quot; + &quot;(&quot; + rightContext + &quot;)$&quot;\r\n\r\nso if `rightContext` isn&#39;t the last thing, your regex won&#39;t match.\r\n\r\nNext, you can capture everything after `rightContext`:\r\n\r\n    &quot;(&quot; + leftContext + &quot;)&quot; + &quot;.*&quot; + &quot;(&quot; + rightContext + &quot;)(.*)&quot;\r\n\r\nand after that discard everything in your third matching group.\r\n\r\nBut, since we don&#39;t know what `leftContext` and `rightContext` really are, maybe your problem lies within them.","title":"Avoid overlapping regex matching in Java","body":"<p>There are few possibilities, depending on what you really need.</p>\n\n<p>You can append <code>$</code> at the end of your regex, like this:</p>\n\n<pre><code>\"(\" + leftContext + \")\" + \".*\" + \"(\" + rightContext + \")$\"\n</code></pre>\n\n<p>so if <code>rightContext</code> isn't the last thing, your regex won't match.</p>\n\n<p>Next, you can capture everything after <code>rightContext</code>:</p>\n\n<pre><code>\"(\" + leftContext + \")\" + \".*\" + \"(\" + rightContext + \")(.*)\"\n</code></pre>\n\n<p>and after that discard everything in your third matching group.</p>\n\n<p>But, since we don't know what <code>leftContext</code> and <code>rightContext</code> really are, maybe your problem lies within them.</p>\n"},{"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1291066844,"creation_date":1291066844,"answer_id":4308376,"question_id":4290714,"body_markdown":"Your use of the word &quot;overlapping&quot; is confusing.  Apparently, what you meant was that the regex is too greedy, matching everything from the first `leftContext` to the last `rightContext`.  It seems you figured that out already--and came up with a better approach as well--but there&#39;s still at least one potential problem.  \r\n\r\nYou said `leftContext` and `rightContext` are &quot;plain Strings&quot;, by which I assume you meant they aren&#39;t supposed to be interpreted as regexes, but they will be.  You need to escape them, or any regex metacharacters they contain will cause incorrect results or run-time exceptions.  The same goes for your replacement string, although only `$` and the backslash have special meanings there.  Here&#39;s an example (notice the non-greedy `.*?`, too):\r\n\r\n    public static String replaceWithContext(String input, String leftContext, String rightContext, String newString){\r\n      String lcRegex = Pattern.quote(leftContext);\r\n      String rcRegex = Pattern.quote(rightContext);\r\n      String replace = Matcher.quoteReplacment(newString);\r\n      Pattern pat = Pattern.compile(&quot;(&quot; + lcRegex + &quot;).*?(&quot; + rcRegex + &quot;)&quot;, Pattern.DOTALL);\r\n\r\nOne other thing: if you aren&#39;t doing any post-match processing on the matched text, you can use `replaceAll` instead of rolling your own with `appendReplacement` and `appendTail`:\r\n\r\n    return input.replaceAll(&quot;(?s)(&quot; + lcRegex + &quot;)&quot; +\r\n                            &quot;(?:(?!&quot; + rcRegex + &quot;).)*&quot; +\r\n                            &quot;(&quot; + rcRegex + &quot;)&quot;,\r\n        &quot;$1&quot; + replace + &quot;$2&quot;);","title":"Avoid overlapping regex matching in Java","body":"<p>Your use of the word \"overlapping\" is confusing.  Apparently, what you meant was that the regex is too greedy, matching everything from the first <code>leftContext</code> to the last <code>rightContext</code>.  It seems you figured that out already--and came up with a better approach as well--but there's still at least one potential problem.  </p>\n\n<p>You said <code>leftContext</code> and <code>rightContext</code> are \"plain Strings\", by which I assume you meant they aren't supposed to be interpreted as regexes, but they will be.  You need to escape them, or any regex metacharacters they contain will cause incorrect results or run-time exceptions.  The same goes for your replacement string, although only <code>$</code> and the backslash have special meanings there.  Here's an example (notice the non-greedy <code>.*?</code>, too):</p>\n\n<pre><code>public static String replaceWithContext(String input, String leftContext, String rightContext, String newString){\n  String lcRegex = Pattern.quote(leftContext);\n  String rcRegex = Pattern.quote(rightContext);\n  String replace = Matcher.quoteReplacment(newString);\n  Pattern pat = Pattern.compile(\"(\" + lcRegex + \").*?(\" + rcRegex + \")\", Pattern.DOTALL);\n</code></pre>\n\n<p>One other thing: if you aren't doing any post-match processing on the matched text, you can use <code>replaceAll</code> instead of rolling your own with <code>appendReplacement</code> and <code>appendTail</code>:</p>\n\n<pre><code>return input.replaceAll(\"(?s)(\" + lcRegex + \")\" +\n                        \"(?:(?!\" + rcRegex + \").)*\" +\n                        \"(\" + rcRegex + \")\",\n    \"$1\" + replace + \"$2\");\n</code></pre>\n"}],"owner":{"account_id":108533,"reputation":1391,"user_id":288019,"accept_rate":59,"display_name":"Ricardo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1197,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4308376,"answer_count":2,"score":4,"last_activity_date":1692780559,"creation_date":1290845812,"question_id":4290714,"body_markdown":"For some reason this piece of Java code is giving me overlapping matches:\r\n\r\n    Pattern pat = Pattern.compile(&quot;(&quot; + leftContext + &quot;)&quot; + &quot;.*&quot; + &quot;(&quot; + rightContext + &quot;)&quot;, Pattern.DOTALL);\r\n\r\nany way/option so it avoids detecting overlaps? e.g.\r\nleftContext rightContext rightContext \r\nshould be be 1 match instead of 2\r\n\r\nHere&#39;s the complete code:\r\n\r\n    public static String replaceWithContext(String input, String leftContext, String rightContext, String newString){   \r\n      Pattern pat = Pattern.compile(&quot;(&quot; + leftContext + &quot;)&quot; + &quot;.*&quot; + &quot;(&quot; + rightContext + &quot;)&quot;, Pattern.DOTALL);\r\n      Matcher matcher = pat.matcher(input);\r\n      StringBuffer buffer = new StringBuffer();\r\n    \r\n      while (matcher.find()) { \r\n       matcher.appendReplacement(buffer, &quot;&quot;);\r\n       buffer.append(matcher.group(1) + newString + matcher.group(2));\r\n      }\r\n      matcher.appendTail(buffer);\r\n    \r\n      return buffer.toString();\r\n     }\r\n\r\nSo here&#39;s the final answer using a negative lookahead, my bad for not realizing * was greedy:\r\n\r\n \r\n\r\n    Pattern pat = Pattern.compile(&quot;(&quot; +\r\n        leftContext + &quot;)&quot; + &quot;(?:(?!&quot; +\r\n        rightContext + &quot;).)*&quot; + &quot;(&quot; +\r\n        rightContext + &quot;)&quot;, Pattern.DOTALL);","title":"Avoid overlapping regex matching in Java","body":"<p>For some reason this piece of Java code is giving me overlapping matches:</p>\n\n<pre><code>Pattern pat = Pattern.compile(\"(\" + leftContext + \")\" + \".*\" + \"(\" + rightContext + \")\", Pattern.DOTALL);\n</code></pre>\n\n<p>any way/option so it avoids detecting overlaps? e.g.\nleftContext rightContext rightContext \nshould be be 1 match instead of 2</p>\n\n<p>Here's the complete code:</p>\n\n<pre><code>public static String replaceWithContext(String input, String leftContext, String rightContext, String newString){   \n  Pattern pat = Pattern.compile(\"(\" + leftContext + \")\" + \".*\" + \"(\" + rightContext + \")\", Pattern.DOTALL);\n  Matcher matcher = pat.matcher(input);\n  StringBuffer buffer = new StringBuffer();\n\n  while (matcher.find()) { \n   matcher.appendReplacement(buffer, \"\");\n   buffer.append(matcher.group(1) + newString + matcher.group(2));\n  }\n  matcher.appendTail(buffer);\n\n  return buffer.toString();\n }\n</code></pre>\n\n<p>So here's the final answer using a negative lookahead, my bad for not realizing * was greedy:</p>\n\n<pre><code>Pattern pat = Pattern.compile(\"(\" +\n    leftContext + \")\" + \"(?:(?!\" +\n    rightContext + \").)*\" + \"(\" +\n    rightContext + \")\", Pattern.DOTALL);\n</code></pre>\n"},{"tags":["java","regex","append"],"answers":[{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1287128010,"creation_date":1287127455,"answer_id":3940243,"question_id":3940195,"body_markdown":"Let&#39;s say your entire pattern matches `&quot;(prefix)(infix)(suffix)&quot;`, capturing the 3 parts into groups 1, 2 and 3 respectively. Now let&#39;s say you want to replace only group 2 (the infix), leaving the prefix and suffix intact the way they were.\r\n\r\nThen what you do is you append what `group(1)` matched (unaltered), the new replacement for `group(2)`, and what `group(3)` matched (unaltered), so something like this:\r\n\r\n    matcher.appendReplacement(\r\n        buffer,\r\n        matcher.group(1) + processTheGroup(matcher.group(2)) + matcher.group(3)\r\n    );\r\n\r\nThis will still match and replace the entire pattern, but since groups 1 and 3 are left untouched, effectively only the infix is replaced.\r\n\r\n\r\nYou should be able to adapt the same basic technique for your particular scenario.","title":"How to appendReplacement on a Matcher group instead of the whole pattern?","body":"<p>Let's say your entire pattern matches <code>\"(prefix)(infix)(suffix)\"</code>, capturing the 3 parts into groups 1, 2 and 3 respectively. Now let's say you want to replace only group 2 (the infix), leaving the prefix and suffix intact the way they were.</p>\n\n<p>Then what you do is you append what <code>group(1)</code> matched (unaltered), the new replacement for <code>group(2)</code>, and what <code>group(3)</code> matched (unaltered), so something like this:</p>\n\n<pre><code>matcher.appendReplacement(\n    buffer,\n    matcher.group(1) + processTheGroup(matcher.group(2)) + matcher.group(3)\n);\n</code></pre>\n\n<p>This will still match and replace the entire pattern, but since groups 1 and 3 are left untouched, effectively only the infix is replaced.</p>\n\n<p>You should be able to adapt the same basic technique for your particular scenario.</p>\n"},{"tags":[],"owner":{"account_id":124384,"reputation":1943,"user_id":319438,"display_name":"Warren"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1414062947,"creation_date":1300971018,"answer_id":5419393,"question_id":3940195,"body_markdown":"I see this already has an accepted answer, but it is not fully correct.  The correct answer appears to be something like this:\r\n\r\n    .appendReplacement(&quot;$1&quot; + process(m.group(2)) + &quot;$3&quot;);\r\n\r\nThis also illustrates that &quot;$&quot; is a special character in .appendReplacement.  Therefore you must take care in your &quot;process()&quot; function to replace all &quot;$&quot; with &quot;\\\\$&quot;. Matcher.quoteReplacement(replacementString) will do this for you (thanks @Med)\r\n\r\nThe previous accepted answer will fail if either groups 1 or 3 happen to contain a &quot;$&quot;.  You&#39;ll end up with &quot;java.lang.IllegalArgumentException: Illegal group reference&quot;","title":"How to appendReplacement on a Matcher group instead of the whole pattern?","body":"<p>I see this already has an accepted answer, but it is not fully correct.  The correct answer appears to be something like this:</p>\n\n<pre><code>.appendReplacement(\"$1\" + process(m.group(2)) + \"$3\");\n</code></pre>\n\n<p>This also illustrates that \"$\" is a special character in .appendReplacement.  Therefore you must take care in your \"process()\" function to replace all \"$\" with \"\\$\". Matcher.quoteReplacement(replacementString) will do this for you (thanks @Med)</p>\n\n<p>The previous accepted answer will fail if either groups 1 or 3 happen to contain a \"$\".  You'll end up with \"java.lang.IllegalArgumentException: Illegal group reference\"</p>\n"}],"owner":{"account_id":199821,"reputation":21300,"user_id":445348,"accept_rate":77,"display_name":"cottonBallPaws"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16989,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":3940243,"answer_count":2,"score":24,"last_activity_date":1692780554,"creation_date":1287126840,"question_id":3940195,"body_markdown":"I am using a `while(matcher.find())` to loop through all of the matches of a Pattern.  For each instance or match of that pattern it finds, I want to replace `matcher.group(3)` with some new text.  This text will be different for each one so I am using `matcher.appendReplacement()` to rebuild the original string with the new changes as it goes through. However, `appendReplacement()` replaces the entire Pattern instead of just the group.\r\n\r\nHow can I do this but only modify the third group of the match rather than the entire Pattern?\r\n\r\nHere is some example code:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;THE (REGEX) (EXPRESSION) (WITH MULTIPLE) GROUPS&quot;);\r\n    Matcher matcher = pattern.matcher(&quot;THE TEXT TO SEARCH AND MODIFY&quot;);\r\n    StringBuffer buffer = new StringBuffer();\r\n    \r\n    while(matcher.find()){\r\n       matcher.appendReplacement(buffer, processTheGroup(matcher.group(3));\r\n    }\r\n\r\nbut I would like to do something like this (obviously this doesn&#39;t work).\r\n\r\n    ...\r\n    while(matcher.find()){\r\n       matcher.group(3).appendReplacement(buffer, processTheGroup(matcher.group(3));\r\n    }\r\n\r\nSomething like that, where it only replaces a certain group, not the whole Pattern.\r\n\r\n*EDIT:  changed the regex example to show that not all of the pattern is grouped.*","title":"How to appendReplacement on a Matcher group instead of the whole pattern?","body":"<p>I am using a <code>while(matcher.find())</code> to loop through all of the matches of a Pattern.  For each instance or match of that pattern it finds, I want to replace <code>matcher.group(3)</code> with some new text.  This text will be different for each one so I am using <code>matcher.appendReplacement()</code> to rebuild the original string with the new changes as it goes through. However, <code>appendReplacement()</code> replaces the entire Pattern instead of just the group.</p>\n\n<p>How can I do this but only modify the third group of the match rather than the entire Pattern?</p>\n\n<p>Here is some example code:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"THE (REGEX) (EXPRESSION) (WITH MULTIPLE) GROUPS\");\nMatcher matcher = pattern.matcher(\"THE TEXT TO SEARCH AND MODIFY\");\nStringBuffer buffer = new StringBuffer();\n\nwhile(matcher.find()){\n   matcher.appendReplacement(buffer, processTheGroup(matcher.group(3));\n}\n</code></pre>\n\n<p>but I would like to do something like this (obviously this doesn't work).</p>\n\n<pre><code>...\nwhile(matcher.find()){\n   matcher.group(3).appendReplacement(buffer, processTheGroup(matcher.group(3));\n}\n</code></pre>\n\n<p>Something like that, where it only replaces a certain group, not the whole Pattern.</p>\n\n<p><em>EDIT:  changed the regex example to show that not all of the pattern is grouped.</em></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":651498,"reputation":389,"user_id":442386,"accept_rate":56,"display_name":"Wilko"},"score":0,"creation_date":1285772546,"post_id":3820167,"comment_id":4057223,"body_markdown":"Many thanks to all who took time to answer my query.  This has been a really useful exercise for me as I&#39;m still very much a Java novice.  Incidentally, I added some more specific information on the Pattern RegExp and that seemed to help matters.  There&#39;s a known string (&quot;aliases&quot;) just before the first alias/IP pair which I put in and that definitely helped.  Thanks again guys!","body":"Many thanks to all who took time to answer my query.  This has been a really useful exercise for me as I&#39;m still very much a Java novice.  Incidentally, I added some more specific information on the Pattern RegExp and that seemed to help matters.  There&#39;s a known string (&quot;aliases&quot;) just before the first alias/IP pair which I put in and that definitely helped.  Thanks again guys!"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285752526,"creation_date":1285752526,"answer_id":3820305,"question_id":3820167,"body_markdown":"If the line may not contain anything except that alias definition, then using `.match()` instead of `.find()` might speed up the searching on non-matches.","title":"Java Regular Expressions using Pattern and Matcher","body":"<p>If the line may not contain anything except that alias definition, then using <code>.match()</code> instead of <code>.find()</code> might speed up the searching on non-matches.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1285772612,"creation_date":1285753004,"answer_id":3820353,"question_id":3820167,"body_markdown":"I&#39;m afraid your code looks pretty efficient already.\r\nHere&#39;s my version:\r\n\r\n    Matcher match = Pattern\r\n                    .compile(&quot;(\\\\w+)\\\\s+\\&quot;(\\\\d+\\\\.\\\\d+\\\\.\\\\d+\\\\.\\\\d+)\\&quot;&quot;)\r\n                    .matcher(lineInFile);  \r\n    while(match.find()) {  \r\n        //do something  \r\n    }\r\n\r\nThere are two micro-optimizations:\r\n\r\n 1. No need to keep pattern in an extra\r\n    variable, inlined that\r\n 2. For the alias, search for word\r\n    characters, not non-space characters\r\n\r\nActually, if you do a lot of processing like this and the pattern never changes, you should keep the compiled pattern in a constant:\r\n\r\n    private static final Pattern PATTERN = Pattern\r\n                .compile(&quot;(\\\\w+)\\\\s+\\&quot;(\\\\d+\\\\.\\\\d+\\\\.\\\\d+\\\\.\\\\d+)\\&quot;&quot;);\r\n\r\n    Matcher match = PATTERN.matcher(lineInFile);  \r\n    while(match.find()) {  \r\n        //do something  \r\n    }\r\n\r\n\r\n----------\r\n\r\nUpdate: I took some time on [RegExr][1] to come up with a much more specific pattern, which *should* only detect valid IP addresses as a bonus. I know it&#39;s ugly as hell, but my guess is that it&#39;s pretty efficient, as it eliminates most of the backtracking:\r\n\r\n    ([A-Z]+)\\s*\\&quot;((?:1[0-9]{2}|2(?:(?:5[0-5]|[0-9]{2})|[0-9]{1,2})\\.)\r\n    {3}(?:1[0-9]{2}|2(?:5[0-5]|[0-9]{2})|[0-9]{1,2}))\r\n\r\n(Wrapped for readability, all back-slashes need to be escaped in java, but you can test it on RegExr as it is with the OP&#39;s test string)\r\n\r\n  [1]: http://gskinner.com/RegExr/\r\n","title":"Java Regular Expressions using Pattern and Matcher","body":"<p>I'm afraid your code looks pretty efficient already.\nHere's my version:</p>\n\n<pre><code>Matcher match = Pattern\n                .compile(\"(\\\\w+)\\\\s+\\\"(\\\\d+\\\\.\\\\d+\\\\.\\\\d+\\\\.\\\\d+)\\\"\")\n                .matcher(lineInFile);  \nwhile(match.find()) {  \n    //do something  \n}\n</code></pre>\n\n<p>There are two micro-optimizations:</p>\n\n<ol>\n<li>No need to keep pattern in an extra\nvariable, inlined that</li>\n<li>For the alias, search for word\ncharacters, not non-space characters</li>\n</ol>\n\n<p>Actually, if you do a lot of processing like this and the pattern never changes, you should keep the compiled pattern in a constant:</p>\n\n<pre><code>private static final Pattern PATTERN = Pattern\n            .compile(\"(\\\\w+)\\\\s+\\\"(\\\\d+\\\\.\\\\d+\\\\.\\\\d+\\\\.\\\\d+)\\\"\");\n\nMatcher match = PATTERN.matcher(lineInFile);  \nwhile(match.find()) {  \n    //do something  \n}\n</code></pre>\n\n<hr>\n\n<p>Update: I took some time on <a href=\"http://gskinner.com/RegExr/\" rel=\"nofollow\">RegExr</a> to come up with a much more specific pattern, which <em>should</em> only detect valid IP addresses as a bonus. I know it's ugly as hell, but my guess is that it's pretty efficient, as it eliminates most of the backtracking:</p>\n\n<pre><code>([A-Z]+)\\s*\\\"((?:1[0-9]{2}|2(?:(?:5[0-5]|[0-9]{2})|[0-9]{1,2})\\.)\n{3}(?:1[0-9]{2}|2(?:5[0-5]|[0-9]{2})|[0-9]{1,2}))\n</code></pre>\n\n<p>(Wrapped for readability, all back-slashes need to be escaped in java, but you can test it on RegExr as it is with the OP's test string)</p>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1285753126,"creation_date":1285753126,"answer_id":3820368,"question_id":3820167,"body_markdown":"You can improve your regex to: `&quot;(\\\\S{2})\\\\s+\\&quot;((\\\\d{1,3}\\\\.){3}\\\\d{1,3})\\&quot;&quot;` by specifying an IP address more explicitly.\r\n\r\nTry out the performance of using a `StringTokenizer`. It does not use regular expressions.\r\n(If you are concerned about using a legacy class, then take a look at its source and see how it is done.)\r\n\r\n    StringTokenizer st = new StringTokenizer(lineInFile, &quot; ,\\&quot;&quot;);\r\n    while(st.hasMoreTokens()){\r\n        String key = st.nextToken();\r\n        String ip = st.nextToken();\r\n        System.out.println(key + &quot; ip: &quot; +  ip);\r\n    }\r\n        ","title":"Java Regular Expressions using Pattern and Matcher","body":"<p>You can improve your regex to: <code>\"(\\\\S{2})\\\\s+\\\"((\\\\d{1,3}\\\\.){3}\\\\d{1,3})\\\"\"</code> by specifying an IP address more explicitly.</p>\n\n<p>Try out the performance of using a <code>StringTokenizer</code>. It does not use regular expressions.\n(If you are concerned about using a legacy class, then take a look at its source and see how it is done.)</p>\n\n<pre><code>StringTokenizer st = new StringTokenizer(lineInFile, \" ,\\\"\");\nwhile(st.hasMoreTokens()){\n    String key = st.nextToken();\n    String ip = st.nextToken();\n    System.out.println(key + \" ip: \" +  ip);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10843,"reputation":330377,"user_id":20670,"accept_rate":100,"display_name":"Tim Pietzcker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1285754401,"creation_date":1285754401,"answer_id":3820522,"question_id":3820167,"body_markdown":"I don&#39;t know if this will yield a big performance benefit, but you could also first do\r\n\r\n    string.split(&quot;, &quot;) // separate groups\r\n\r\nand then\r\n\r\n    string.split(&quot; ?\\&quot;&quot;) // separate alias from IP address\r\n\r\non the matches.","title":"Java Regular Expressions using Pattern and Matcher","body":"<p>I don't know if this will yield a big performance benefit, but you could also first do</p>\n\n<pre><code>string.split(\", \") // separate groups\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>string.split(\" ?\\\"\") // separate alias from IP address\n</code></pre>\n\n<p>on the matches.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1285758808,"creation_date":1285758808,"answer_id":3821051,"question_id":3820167,"body_markdown":"Precompiling and reusing the Pattern object is (IMO) likely to be the most effective optimization.  Pattern compilation is potentially an expensive step.  \r\n\r\nReusing the Matcher instance (e.g. using `reset(CharSequence)`) might help, but I doubt that it will make much difference.\r\n\r\nThe regex itself cannot be optimized significantly.  One possible speedup would be to replace `(\\d+\\.\\d+\\.\\d+\\.\\d+)` with `([0-9\\.]+)`.  This might help because it reduces the number of potential backtrack points ... but you&#39;d need to do some experiments to be sure.  And the obvious downside is that it matches character sequences that are not valid IP addresses.","title":"Java Regular Expressions using Pattern and Matcher","body":"<p>Precompiling and reusing the Pattern object is (IMO) likely to be the most effective optimization.  Pattern compilation is potentially an expensive step.  </p>\n\n<p>Reusing the Matcher instance (e.g. using <code>reset(CharSequence)</code>) might help, but I doubt that it will make much difference.</p>\n\n<p>The regex itself cannot be optimized significantly.  One possible speedup would be to replace <code>(\\d+\\.\\d+\\.\\d+\\.\\d+)</code> with <code>([0-9\\.]+)</code>.  This might help because it reduces the number of potential backtrack points ... but you'd need to do some experiments to be sure.  And the obvious downside is that it matches character sequences that are not valid IP addresses.</p>\n"},{"tags":[],"owner":{"account_id":93838,"reputation":13057,"user_id":256544,"display_name":"splash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1285760533,"creation_date":1285760533,"answer_id":3821254,"question_id":3820167,"body_markdown":"If you`re noticing a difference of &lt; 1 sec on that piece of code, then your input string must contain around a million (ot at least some 100k) of entries. I think that&#39;s a pretty fair performance and I cannot see how you could significantly optimize that without writing your own specialized parser.","title":"Java Regular Expressions using Pattern and Matcher","body":"<p>If you`re noticing a difference of &lt; 1 sec on that piece of code, then your input string must contain around a million (ot at least some 100k) of entries. I think that's a pretty fair performance and I cannot see how you could significantly optimize that without writing your own specialized parser.</p>\n"}],"owner":{"account_id":651498,"reputation":389,"user_id":442386,"accept_rate":56,"display_name":"Wilko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3438,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1692780535,"creation_date":1285751038,"question_id":3820167,"body_markdown":"My question is related to Regular Expressions in Java, and in particular, multiple matches for a given search pattern. All of the info i need to get is on 1 line and it contains an alias (e.g. SA) which maps to an IP address.  Each one is separated by a comma.  I need to extract each one.  \r\n\r\n    SA &quot;239.255.252.1&quot;, SB &quot;239.255.252.2&quot;, SC &quot;239.255.252.3&quot;, SD &quot;239.255.252.4&quot;\r\n\r\nMy Reg Ex looks like this:\r\n\r\n    Pattern alias = Pattern.compile(&quot;(\\\\S+)\\\\s+\\&quot;(\\\\d+\\\\.\\\\d+\\\\.\\\\d+\\\\.\\\\d+)\\&quot;&quot;);  \r\n    Matcher match = alias.matcher(lineInFile)  \r\n    while(match.find()) {  \r\n       // do something  \r\n    }\r\n\t\t\t\t\t\r\nThis works but I&#39;m not totally happy with it because since introducing this small piece of code, my program has slowed down a bit (&lt; 1 sec) but enough to notice a difference.\r\n\r\nSo my question is, am I going about this in the correct manner?  Is there a more efficient or possibly lightweight solution without the need for a while(match) loop? and/or Pattern/Matcher classes?\r\n","title":"Java Regular Expressions using Pattern and Matcher","body":"<p>My question is related to Regular Expressions in Java, and in particular, multiple matches for a given search pattern. All of the info i need to get is on 1 line and it contains an alias (e.g. SA) which maps to an IP address.  Each one is separated by a comma.  I need to extract each one.  </p>\n\n<pre><code>SA \"239.255.252.1\", SB \"239.255.252.2\", SC \"239.255.252.3\", SD \"239.255.252.4\"\n</code></pre>\n\n<p>My Reg Ex looks like this:</p>\n\n<pre><code>Pattern alias = Pattern.compile(\"(\\\\S+)\\\\s+\\\"(\\\\d+\\\\.\\\\d+\\\\.\\\\d+\\\\.\\\\d+)\\\"\");  \nMatcher match = alias.matcher(lineInFile)  \nwhile(match.find()) {  \n   // do something  \n}\n</code></pre>\n\n<p>This works but I'm not totally happy with it because since introducing this small piece of code, my program has slowed down a bit (&lt; 1 sec) but enough to notice a difference.</p>\n\n<p>So my question is, am I going about this in the correct manner?  Is there a more efficient or possibly lightweight solution without the need for a while(match) loop? and/or Pattern/Matcher classes?</p>\n"},{"tags":["java","html","regex"],"comments":[{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1282036848,"post_id":3500992,"comment_id":3658102,"body_markdown":"There are *lots* of regular expressions which would match those strings. &quot;.*&quot; would do it for example... as well as matching everything else, too. Please give more details about what you&#39;re trying to do.","body":"There are <i>lots</i> of regular expressions which would match those strings. &quot;.*&quot; would do it for example... as well as matching everything else, too. Please give more details about what you&#39;re trying to do."},{"owner":{"account_id":130979,"reputation":80000,"user_id":330644,"accept_rate":99,"display_name":"Delan Azabani"},"score":1,"creation_date":1282037203,"post_id":3500992,"comment_id":3658152,"body_markdown":"`ab&lt;XYZ&gt;ab|&lt;XYZ&gt;` should match both of those ;)","body":"<code>ab&lt;XYZ&gt;ab|&lt;XYZ&gt;</code> should match both of those ;)"},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1282055840,"post_id":3500992,"comment_id":3661233,"body_markdown":"possible duplicate of [RegEx match open tags except XHTML self-contained tags](http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\">RegEx match open tags except XHTML self-contained tags</a>"}],"answers":[{"tags":[],"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282036930,"creation_date":1282036930,"answer_id":3501017,"question_id":3500992,"body_markdown":"Off the cuff I think it should be something like `(.*)&lt;XYZ&gt;\\1`","title":"java regular expression matching","body":"<p>Off the cuff I think it should be something like <code>(.*)&lt;XYZ&gt;\\1</code></p>\n"},{"tags":[],"owner":{"account_id":173161,"reputation":3495,"user_id":401667,"accept_rate":80,"display_name":"KristofMols"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282037028,"creation_date":1282037028,"answer_id":3501034,"question_id":3500992,"body_markdown":"Use http://www.weitz.de/regex-coach/ to check whether a regular expression matches a string\r\n\r\nThat&#39;s the only advice I can give you with the info you&#39;re giving us.","title":"java regular expression matching","body":"<p>Use <a href=\"http://www.weitz.de/regex-coach/\" rel=\"nofollow noreferrer\">http://www.weitz.de/regex-coach/</a> to check whether a regular expression matches a string</p>\n\n<p>That's the only advice I can give you with the info you're giving us.</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1282037287,"creation_date":1282037287,"answer_id":3501065,"question_id":3500992,"body_markdown":"The pattern `^([a-z]*)&lt;[A-Z]*&gt;\\1$` will match these strings ([as seen on rubular.com](http://www.rubular.com/r/5F22Z87whl)):\r\n\r\n    ab&lt;XYZ&gt;ab\r\n    &lt;XYZ&gt;\r\n    bleh&lt;FOO&gt;bleh\r\n    &lt;&gt;\r\n\r\nIt will not match these:\r\n\r\n    ab&lt;XYZ&gt;de\r\n    x&lt;XYZ&gt;y\r\n    FOO&lt;foo&gt;FOO\r\n\r\nThat is, the pattern is something like\r\n\r\n&gt; _`tag`_`&lt;CONTENT&gt;`_`tag`_\r\n\r\nThe same _`tag`_ appears for both the &quot;prefix&quot; and the &quot;suffix&quot;. Tag consists of zero or more lowercase letters. Content consists of zero or more uppercase letters. The prefix part is matched and [captured by group](http://www.regular-expressions.info/brackets.html) 1, and then a backreference `\\1` is used to match that string again for the suffix.\r\n\r\nThe `[…]` is a [_character class_](http://www.regular-expressions.info/charclass.html). Something like `[aeiou]` matches one of any of the lowercase vowels. `[^…]` is a _negated_ character class. `[^aeiou]` matches one of _anything but_ the lowercase vowels.\r\n\r\nAs a Java string literal, the pattern is `&quot;^([a-z]*)&lt;[A-Z]*&gt;\\\\1$&quot;`. ","title":"java regular expression matching","body":"<p>The pattern <code>^([a-z]*)&lt;[A-Z]*&gt;\\1$</code> will match these strings (<a href=\"http://www.rubular.com/r/5F22Z87whl\" rel=\"nofollow noreferrer\">as seen on rubular.com</a>):</p>\n\n<pre><code>ab&lt;XYZ&gt;ab\n&lt;XYZ&gt;\nbleh&lt;FOO&gt;bleh\n&lt;&gt;\n</code></pre>\n\n<p>It will not match these:</p>\n\n<pre><code>ab&lt;XYZ&gt;de\nx&lt;XYZ&gt;y\nFOO&lt;foo&gt;FOO\n</code></pre>\n\n<p>That is, the pattern is something like</p>\n\n<blockquote>\n  <p><em><code>tag</code></em><code>&lt;CONTENT&gt;</code><em><code>tag</code></em></p>\n</blockquote>\n\n<p>The same <em><code>tag</code></em> appears for both the \"prefix\" and the \"suffix\". Tag consists of zero or more lowercase letters. Content consists of zero or more uppercase letters. The prefix part is matched and <a href=\"http://www.regular-expressions.info/brackets.html\" rel=\"nofollow noreferrer\">captured by group</a> 1, and then a backreference <code>\\1</code> is used to match that string again for the suffix.</p>\n\n<p>The <code>[…]</code> is a <a href=\"http://www.regular-expressions.info/charclass.html\" rel=\"nofollow noreferrer\"><em>character class</em></a>. Something like <code>[aeiou]</code> matches one of any of the lowercase vowels. <code>[^…]</code> is a <em>negated</em> character class. <code>[^aeiou]</code> matches one of <em>anything but</em> the lowercase vowels.</p>\n\n<p>As a Java string literal, the pattern is <code>\"^([a-z]*)&lt;[A-Z]*&gt;\\\\1$\"</code>. </p>\n"},{"tags":[],"owner":{"account_id":116709,"reputation":4927,"user_id":305949,"accept_rate":95,"display_name":"FK82"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1282037412,"creation_date":1282037412,"answer_id":3501084,"question_id":3500992,"body_markdown":"Not sure what you try to do, but this captures all the possibly relevant groups:\r\n\r\n    ([a-z]+)?(&lt;[A-Z]+&gt;)([a-z]+)?\r\n\r\nGood Luck!","title":"java regular expression matching","body":"<p>Not sure what you try to do, but this captures all the possibly relevant groups:</p>\n\n<pre><code>([a-z]+)?(&lt;[A-Z]+&gt;)([a-z]+)?\n</code></pre>\n\n<p>Good Luck!</p>\n"}],"owner":{"account_id":99559,"reputation":17675,"user_id":268850,"accept_rate":68,"display_name":"java_geek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":3501065,"answer_count":4,"score":2,"last_activity_date":1692780526,"creation_date":1282036745,"question_id":3500992,"body_markdown":"What is the regular expression that can match the following 2 strings.\r\n\r\n`Hi&lt;Dog&gt;Hi` and `&lt;Dog&gt;` in a given text.\r\n\r\nUpdate:\r\n--------\r\n\r\nWhat regex will match this one? \r\n\r\n    &lt;FONT FACE=&quot;Verdana&quot; SIZE=&quot;16&quot; COLOR=&quot;#0B333C&quot; LETTERSPACING=&quot;0&quot; KERNING=&quot;0&quot;&gt;If you access the web site click the link below:&lt;FONT SIZE=&quot;12&quot;&gt;&lt;/FONT&gt;&lt;/FONT&gt;\r\n\r\n`&lt;FONT.*?&lt;\\/FONT&gt;` matches only till the first `&lt;/FONT&gt;`","title":"java regular expression matching","body":"<p>What is the regular expression that can match the following 2 strings.</p>\n\n<p><code>Hi&lt;Dog&gt;Hi</code> and <code>&lt;Dog&gt;</code> in a given text.</p>\n\n<h2>Update:</h2>\n\n<p>What regex will match this one? </p>\n\n<pre><code>&lt;FONT FACE=\"Verdana\" SIZE=\"16\" COLOR=\"#0B333C\" LETTERSPACING=\"0\" KERNING=\"0\"&gt;If you access the web site click the link below:&lt;FONT SIZE=\"12\"&gt;&lt;/FONT&gt;&lt;/FONT&gt;\n</code></pre>\n\n<p><code>&lt;FONT.*?&lt;\\/FONT&gt;</code> matches only till the first <code>&lt;/FONT&gt;</code></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2397,"reputation":179869,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1281981417,"post_id":3495819,"comment_id":3652189,"body_markdown":"Which part are you looking for and which parts can vary?  Are you looking for *exactly* that string, or are you looking for &quot;My Name is&quot; whatever the font face is, or what?","body":"Which part are you looking for and which parts can vary?  Are you looking for <i>exactly</i> that string, or are you looking for &quot;My Name is&quot; whatever the font face is, or what?"},{"owner":{"account_id":2397,"reputation":179869,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1281981483,"post_id":3495819,"comment_id":3652204,"body_markdown":"possible duplicate of [Java Regular expression](http://stackoverflow.com/questions/3474755/java-regular-expression)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3474755/java-regular-expression\">Java Regular expression</a>"},{"owner":{"account_id":99559,"reputation":17675,"user_id":268850,"accept_rate":68,"display_name":"java_geek"},"score":0,"creation_date":1281981701,"post_id":3495819,"comment_id":3652244,"body_markdown":"I am looking for a regex which will match either of the 2 strings completely above.","body":"I am looking for a regex which will match either of the 2 strings completely above."},{"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1282025706,"post_id":3495819,"comment_id":3656757,"body_markdown":"@java_geek: `.*` will match those 2 strings completely. And many other strings as well. If you don&#39;t want to match the other strings, then say what those strings are. It always helps to be specific in saying what you want to match and what you don&#39;t want to match in regex questions.","body":"@java_geek: <code>.*</code> will match those 2 strings completely. And many other strings as well. If you don&#39;t want to match the other strings, then say what those strings are. It always helps to be specific in saying what you want to match and what you don&#39;t want to match in regex questions."},{"owner":{"account_id":99559,"reputation":17675,"user_id":268850,"accept_rate":68,"display_name":"java_geek"},"score":0,"creation_date":1282029630,"post_id":3495819,"comment_id":3657162,"body_markdown":"ok....assume that there is a huge file and u want to match either of the above lines using ur regular expression. Thats what i want exactly","body":"ok....assume that there is a huge file and u want to match either of the above lines using ur regular expression. Thats what i want exactly"},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1282055356,"post_id":3495819,"comment_id":3661119,"body_markdown":"you realize that HTML isn&#39;t a &quot;regular&quot; language, making regular expressions inappropriate for processing them. use one of the dozen solutions available for Java for processing HTML. or better yet look at Beautiful Soup.","body":"you realize that HTML isn&#39;t a &quot;regular&quot; language, making regular expressions inappropriate for processing them. use one of the dozen solutions available for Java for processing HTML. or better yet look at Beautiful Soup."}],"answers":[{"tags":[],"owner":{"account_id":163667,"reputation":13300,"user_id":385950,"accept_rate":94,"display_name":"treeface"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1281981258,"creation_date":1281981258,"answer_id":3495844,"question_id":3495819,"body_markdown":"Why not use a [Java XML parser][1]?\r\n\r\n\r\n  [1]: http://www.google.com/search?aq=1&amp;oq=java+xml&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=java+xml+parser","title":"java regular expression question","body":"<p>Why not use a <a href=\"http://www.google.com/search?aq=1&amp;oq=java+xml&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=java+xml+parser\" rel=\"nofollow noreferrer\">Java XML parser</a>?</p>\n"},{"tags":[],"owner":{"account_id":71001,"reputation":24087,"user_id":205426,"accept_rate":60,"display_name":"Woot4Moo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1281981315,"creation_date":1281981315,"answer_id":3495852,"question_id":3495819,"body_markdown":"You should not be using regular expressions for this","title":"java regular expression question","body":"<p>You should not be using regular expressions for this</p>\n"},{"tags":[],"owner":{"account_id":47344,"reputation":72967,"user_id":140185,"accept_rate":93,"display_name":"Manoj Govindan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1281981388,"creation_date":1281981388,"answer_id":3495860,"question_id":3495819,"body_markdown":"[Three][1] [questions][2] in as many hours. Must be a record of some sorts.\r\n\r\nFor the sake of humanity, [don&#39;t use regular expressions to parse XML][3]!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3495700/help-with-multiline-regex-match\r\n  [2]: https://stackoverflow.com/questions/3494079/how-can-i-find-tag-with-regular-expression-python-closed\r\n  [3]: https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454","title":"java regular expression question","body":"<p><a href=\"https://stackoverflow.com/questions/3495700/help-with-multiline-regex-match\">Three</a> <a href=\"https://stackoverflow.com/questions/3494079/how-can-i-find-tag-with-regular-expression-python-closed\">questions</a> in as many hours. Must be a record of some sorts.</p>\n\n<p>For the sake of humanity, <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">don't use regular expressions to parse XML</a>!</p>\n"},{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350835420,"creation_date":1282055474,"answer_id":3503526,"question_id":3495819,"body_markdown":"[You can&#39;t parse \\[X\\]HTML with regex. Because HTML can&#39;t be parsed by regex. Regex is not a tool that can be used to correctly parse HTML. As I have answered in HTML-and-regex questions here so many times before, the use of regex will not allow you to consume HTML. Regular expressions are a tool that is insufficiently sophisticated to understand the constructs employed by HTML. HTML is not a regular language and hence cannot be parsed by regular expressions. Regex queries are not equipped to break down HTML into its meaningful parts][1]\r\n\r\nthe beginning of the answer to this exact question with over 4300 up votes. If you don&#39;t understand this and insist on ignoring this advice then you probably should not be programming.\r\n\r\nWhat happens when FACE and SIZE are in opposite order?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454","title":"java regular expression question","body":"<p><a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">You can't parse [X]HTML with regex. Because HTML can't be parsed by regex. Regex is not a tool that can be used to correctly parse HTML. As I have answered in HTML-and-regex questions here so many times before, the use of regex will not allow you to consume HTML. Regular expressions are a tool that is insufficiently sophisticated to understand the constructs employed by HTML. HTML is not a regular language and hence cannot be parsed by regular expressions. Regex queries are not equipped to break down HTML into its meaningful parts</a></p>\n\n<p>the beginning of the answer to this exact question with over 4300 up votes. If you don't understand this and insist on ignoring this advice then you probably should not be programming.</p>\n\n<p>What happens when FACE and SIZE are in opposite order?</p>\n"}],"owner":{"account_id":99559,"reputation":17675,"user_id":268850,"accept_rate":68,"display_name":"java_geek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"closed_date":1350840715,"answer_count":4,"score":-4,"last_activity_date":1692780512,"creation_date":1281981111,"question_id":3495819,"body_markdown":"I want a regular expression that can match \r\n  `&lt;FONT FACE=\\&quot;Verdana\\&quot; SIZE=\\&quot;12\\&quot;&gt; My Name is xyz &lt;/FONT&gt;` or \r\n\r\n  `&lt;LI&gt;&lt;FONT FACE=\\&quot;Verdana\\&quot; SIZE=\\&quot;12\\&quot;&gt; My Name is xyz &lt;/FONT&gt;&lt;/LI&gt;` and it should not be greedy","title":"java regular expression question","body":"<p>I want a regular expression that can match \n  <code>&lt;FONT FACE=\\\"Verdana\\\" SIZE=\\\"12\\\"&gt; My Name is xyz &lt;/FONT&gt;</code> or </p>\n\n<p><code>&lt;LI&gt;&lt;FONT FACE=\\\"Verdana\\\" SIZE=\\\"12\\\"&gt; My Name is xyz &lt;/FONT&gt;&lt;/LI&gt;</code> and it should not be greedy</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":0,"creation_date":1281397595,"post_id":3444970,"comment_id":3590378,"body_markdown":"While I haven&#39;t analyzed the whole pattern, this looks overly complicated. In particular, in `(abc|def|[a-z]+)` the `[a-z]+` part will match &quot;abc&quot; or &quot;def&quot; so listing them as alternatives makes no difference.","body":"While I haven&#39;t analyzed the whole pattern, this looks overly complicated. In particular, in <code>(abc|def|[a-z]+)</code> the <code>[a-z]+</code> part will match &quot;abc&quot; or &quot;def&quot; so listing them as alternatives makes no difference."},{"owner":{"account_id":166203,"reputation":10902,"user_id":390177,"accept_rate":83,"display_name":"CSchulz"},"score":0,"creation_date":1281398250,"post_id":3444970,"comment_id":3590446,"body_markdown":"I have forgotten to use the actual pattern. ;) Now it is correct.","body":"I have forgotten to use the actual pattern. ;) Now it is correct."},{"owner":{"account_id":2239,"reputation":7171,"user_id":3087,"display_name":"Cem Catikkas"},"score":0,"creation_date":1281398715,"post_id":3444970,"comment_id":3590479,"body_markdown":"the pattern might match the input fine, but does it match the groups correctly?","body":"the pattern might match the input fine, but does it match the groups correctly?"},{"owner":{"account_id":166203,"reputation":10902,"user_id":390177,"accept_rate":83,"display_name":"CSchulz"},"score":0,"creation_date":1281399298,"post_id":3444970,"comment_id":3590525,"body_markdown":"Yes it works, but I notice that I can simplify the regex. abc|def are commands and then there are the parameters seperated by space. And I search for a way to get them. But I think it is easier to cut off the command and split by space, isn&#39;t it?","body":"Yes it works, but I notice that I can simplify the regex. abc|def are commands and then there are the parameters seperated by space. And I search for a way to get them. But I think it is easier to cut off the command and split by space, isn&#39;t it?"}],"answers":[{"tags":[],"owner":{"account_id":2239,"reputation":7171,"user_id":3087,"display_name":"Cem Catikkas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1281398748,"creation_date":1281398146,"answer_id":3445049,"question_id":3444970,"body_markdown":"You have to get each group individually instead of `m.group()`. The [javadoc][1] states that `m.group()` is equivalent to `m.group(0)`, and individual groups can be accessed with the `m.group(int)` version. So the following assertions should reflect the grouping as you expect.\r\n\r\n    Assert.assertEquals(&quot;abc&quot;, m.group(1));\r\n    Assert.assertEquals(&quot;123&quot;, m.group(2));\r\n    Assert.assertEquals(&quot;456&quot;, m.group(3));\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/regex/Matcher.html#group()","title":"A match is found but how do I extract the data?","body":"<p>You have to get each group individually instead of <code>m.group()</code>. The <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/regex/Matcher.html#group()\" rel=\"nofollow noreferrer\">javadoc</a> states that <code>m.group()</code> is equivalent to <code>m.group(0)</code>, and individual groups can be accessed with the <code>m.group(int)</code> version. So the following assertions should reflect the grouping as you expect.</p>\n\n<pre><code>Assert.assertEquals(\"abc\", m.group(1));\nAssert.assertEquals(\"123\", m.group(2));\nAssert.assertEquals(\"456\", m.group(3));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":166203,"reputation":10902,"user_id":390177,"accept_rate":83,"display_name":"CSchulz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1282744443,"creation_date":1282744443,"answer_id":3566536,"question_id":3444970,"body_markdown":"I used the solution explained in my comment above:\r\n\r\n&gt; Yes it works, but I notice that I can\r\n&gt; simplify the regex. abc|def are\r\n&gt; commands and then there are the\r\n&gt; parameters seperated by space. And I\r\n&gt; search for a way to get them. But I\r\n&gt; think it is easier to cut off the\r\n&gt; command and split by space, isn&#39;t it?","title":"A match is found but how do I extract the data?","body":"<p>I used the solution explained in my comment above:</p>\n\n<blockquote>\n  <p>Yes it works, but I notice that I can\n  simplify the regex. abc|def are\n  commands and then there are the\n  parameters seperated by space. And I\n  search for a way to get them. But I\n  think it is easier to cut off the\n  command and split by space, isn't it?</p>\n</blockquote>\n"}],"owner":{"account_id":166203,"reputation":10902,"user_id":390177,"accept_rate":83,"display_name":"CSchulz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":3566536,"answer_count":2,"score":-1,"last_activity_date":1692780490,"creation_date":1281396932,"question_id":3444970,"body_markdown":"I have following regex `(abc|def)( ?(\\\\d+|(?:(?!\\\\1)[a-z])+)?)*` with matches perfectly the subject `abc123 456`.  \r\nNow I want to get all parts *abc*, *123* and *456*.\r\n\r\nI use following code:\r\n\r\n\tPattern p = Pattern.compile(pattern);\r\n\tMatcher m = p.matcher(subject);\r\n\r\n\twhile(m.find())\r\n\t{\r\n\t\tSystem.out.println(m.group());\r\n\t}\r\n\r\nBut so I get only `abc123 456`.\r\n\r\nAny ideas are welcome.","title":"A match is found but how do I extract the data?","body":"<p>I have following regex <code>(abc|def)( ?(\\\\d+|(?:(?!\\\\1)[a-z])+)?)*</code> with matches perfectly the subject <code>abc123 456</code>.<br>\nNow I want to get all parts <em>abc</em>, <em>123</em> and <em>456</em>.</p>\n\n<p>I use following code:</p>\n\n<pre><code>Pattern p = Pattern.compile(pattern);\nMatcher m = p.matcher(subject);\n\nwhile(m.find())\n{\n    System.out.println(m.group());\n}\n</code></pre>\n\n<p>But so I get only <code>abc123 456</code>.</p>\n\n<p>Any ideas are welcome.</p>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"account_id":55219,"reputation":58940,"user_id":165297,"accept_rate":75,"display_name":"Amarghosh"},"score":0,"creation_date":1275887023,"post_id":2987156,"comment_id":3049628,"body_markdown":"what do you want the output to be? at what point should it split?","body":"what do you want the output to be? at what point should it split?"},{"owner":{"account_id":116650,"reputation":63673,"user_id":305818,"accept_rate":88,"display_name":"JPReddy"},"score":0,"creation_date":1299005102,"post_id":2987156,"comment_id":5792594,"body_markdown":"Did you find any of the below answers as a solution? If so, please accept the answer that will give others motivation to give answer to your future questions. You have not accepted single answer yet to any of your questions.","body":"Did you find any of the below answers as a solution? If so, please accept the answer that will give others motivation to give answer to your future questions. You have not accepted single answer yet to any of your questions."}],"answers":[{"tags":[],"owner":{"account_id":144642,"reputation":29072,"user_id":353852,"display_name":"krock"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1275890890,"creation_date":1275887615,"answer_id":2987199,"question_id":2987156,"body_markdown":"String.split does not use capturing groups as its result.  It finds whatever matches and uses that as the delimiter.  So the resulting String[] are substrings in between what the regex matches.  As it is the regex matches the whole string, and with the whole string as a delimiter there is nothing else left so it returns an empty array.\r\n\r\nIf you want to use [regex capturing groups][1] you will have to use [Matcher.group()][2], String.split() will not do.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#cg\r\n  [2]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Matcher.html#group%28%29","title":"Java Split not working as expected","body":"<p>String.split does not use capturing groups as its result.  It finds whatever matches and uses that as the delimiter.  So the resulting String[] are substrings in between what the regex matches.  As it is the regex matches the whole string, and with the whole string as a delimiter there is nothing else left so it returns an empty array.</p>\n\n<p>If you want to use <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html#cg\" rel=\"noreferrer\">regex capturing groups</a> you will have to use <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Matcher.html#group%28%29\" rel=\"noreferrer\">Matcher.group()</a>, String.split() will not do.</p>\n"},{"tags":[],"owner":{"account_id":108862,"reputation":51242,"user_id":288773,"display_name":"oezi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1275887975,"creation_date":1275887975,"answer_id":2987219,"question_id":2987156,"body_markdown":"for your example, you could simply do this:\r\n\r\n    String s = &quot;00-00000&quot;;\r\n    \r\n    String pattern = &quot;-&quot;;\r\n    \r\n    String[] parts = s.split(pattern);","title":"Java Split not working as expected","body":"<p>for your example, you could simply do this:</p>\n\n<pre><code>String s = \"00-00000\";\n\nString pattern = \"-\";\n\nString[] parts = s.split(pattern);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35282,"reputation":2831,"user_id":99901,"accept_rate":53,"display_name":"Nishan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1275892342,"creation_date":1275892342,"answer_id":2987487,"question_id":2987156,"body_markdown":"I can not be sure, but I think what you are trying to do is to get each matched group into an array.  \r\n\r\n        Matcher matcher = Pattern.compile(pattern).matcher();\r\n\r\n        if (matcher.matches()) {\r\n            String s[] = new String[matcher.groupCount()) {\r\n               for (int i=0;i&lt;matches.groupCount();i++) {\r\n                   s[i] = matcher.group(i);\r\n                }\r\n             }\r\n        }\r\n\r\n\r\n","title":"Java Split not working as expected","body":"<p>I can not be sure, but I think what you are trying to do is to get each matched group into an array.  </p>\n\n<pre><code>    Matcher matcher = Pattern.compile(pattern).matcher();\n\n    if (matcher.matches()) {\n        String s[] = new String[matcher.groupCount()) {\n           for (int i=0;i&lt;matches.groupCount();i++) {\n               s[i] = matcher.group(i);\n            }\n         }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1275892492,"creation_date":1275892492,"answer_id":2987498,"question_id":2987156,"body_markdown":"From the documentation:\r\n\r\n&gt; [`String[] split(String regex)`](http://java.sun.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29) -- **Returns:** the array of strings computed by splitting this string around matches of the given regular expression\r\n\r\nEssentially the regular expression is used to define delimiters in the input string. You can use capturing groups and backreferences in your pattern (e.g. for lookarounds), but ultimately what matters is what and where the pattern matches, because that defines what goes into the returned array.\r\n\r\nIf you want to split your original string into 7 parts using regular expression, then you can do something like this:\r\n\r\n\t\tString s = &quot;12-3456&quot;;\r\n\t\tString[] parts = s.split(&quot;(?!^)&quot;);\r\n\r\n\t\tSystem.out.println(parts.length); // prints &quot;7&quot;\r\n\r\n\t\tfor (String part : parts) {\r\n\t\t\tSystem.out.println(&quot;Part [&quot; + part + &quot;]&quot;);\r\n\t\t} // prints &quot;[1] [2] [-] [3] [4] [5] [6] &quot;\r\n\r\nThis splits on zero-length matching assertion `(?!^)`, which is anywhere except before the first character in the string. This prevents the empty string to be the first element in the array, and trailing empty string is already discarded because we use the default `limit` parameter to `split`.\r\n\r\nUsing regular expression to get individual character of a string like this is an overkill, though. If you have only a few characters, then the most concise option is to use `foreach` on the `toCharArray()`:\r\n\r\n\t\tfor (char ch : &quot;12-3456&quot;.toCharArray()) {\r\n\t\t\tSystem.out.print(&quot;[&quot; + ch + &quot;] &quot;);\r\n\t\t}\r\n\r\nThis is not the most efficient option if you have a longer string.\r\n\r\n---\r\n\r\n### Splitting on `-`\r\n\r\nThis may also be what you&#39;re looking for:\r\n\r\n\t\tString s = &quot;12-3456&quot;;\r\n\t\tString[] parts = s.split(&quot;-&quot;);\r\n\r\n\t\tSystem.out.println(parts.length); // prints &quot;2&quot;\r\n\r\n\t\tfor (String part : parts) {\r\n\t\t\tSystem.out.print(&quot;[&quot; + part + &quot;] &quot;);\r\n\t\t} // prints &quot;[12] [3456] &quot;\r\n","title":"Java Split not working as expected","body":"<p>From the documentation:</p>\n\n<blockquote>\n  <p><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"nofollow noreferrer\"><code>String[] split(String regex)</code></a> -- <strong>Returns:</strong> the array of strings computed by splitting this string around matches of the given regular expression</p>\n</blockquote>\n\n<p>Essentially the regular expression is used to define delimiters in the input string. You can use capturing groups and backreferences in your pattern (e.g. for lookarounds), but ultimately what matters is what and where the pattern matches, because that defines what goes into the returned array.</p>\n\n<p>If you want to split your original string into 7 parts using regular expression, then you can do something like this:</p>\n\n<pre><code>    String s = \"12-3456\";\n    String[] parts = s.split(\"(?!^)\");\n\n    System.out.println(parts.length); // prints \"7\"\n\n    for (String part : parts) {\n        System.out.println(\"Part [\" + part + \"]\");\n    } // prints \"[1] [2] [-] [3] [4] [5] [6] \"\n</code></pre>\n\n<p>This splits on zero-length matching assertion <code>(?!^)</code>, which is anywhere except before the first character in the string. This prevents the empty string to be the first element in the array, and trailing empty string is already discarded because we use the default <code>limit</code> parameter to <code>split</code>.</p>\n\n<p>Using regular expression to get individual character of a string like this is an overkill, though. If you have only a few characters, then the most concise option is to use <code>foreach</code> on the <code>toCharArray()</code>:</p>\n\n<pre><code>    for (char ch : \"12-3456\".toCharArray()) {\n        System.out.print(\"[\" + ch + \"] \");\n    }\n</code></pre>\n\n<p>This is not the most efficient option if you have a longer string.</p>\n\n<hr>\n\n<h3>Splitting on <code>-</code></h3>\n\n<p>This may also be what you're looking for:</p>\n\n<pre><code>    String s = \"12-3456\";\n    String[] parts = s.split(\"-\");\n\n    System.out.println(parts.length); // prints \"2\"\n\n    for (String part : parts) {\n        System.out.print(\"[\" + part + \"] \");\n    } // prints \"[12] [3456] \"\n</code></pre>\n"}],"owner":{"account_id":153949,"reputation":682,"user_id":369572,"accept_rate":58,"display_name":"LDAdams"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2099,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":2987487,"answer_count":4,"score":6,"last_activity_date":1692780486,"creation_date":1275886870,"question_id":2987156,"body_markdown":"I am trying to use a simple split to break up the following string: 00-00000\r\n\r\nMy expression is: `^([0-9][0-9])(-)([0-9])([0-9])([0-9])([0-9])([0-9])`\r\n\r\nAnd my usage is:\r\n\r\n    String s = &quot;00-00000&quot;;\r\n    \r\n    String pattern = &quot;^([0-9][0-9])(-)([0-9])([0-9])([0-9])([0-9])([0-9])&quot;;\r\n    \r\n    String[] parts = s.split(pattern);\r\n\r\nIf I play around with the Pattern and Matcher classes I can see that my pattern does match and the matcher tells me my groupCount is 7 which is correct.  But when I try and split them I have no luck.\r\n","title":"Java Split not working as expected","body":"<p>I am trying to use a simple split to break up the following string: 00-00000</p>\n\n<p>My expression is: <code>^([0-9][0-9])(-)([0-9])([0-9])([0-9])([0-9])([0-9])</code></p>\n\n<p>And my usage is:</p>\n\n<pre><code>String s = \"00-00000\";\n\nString pattern = \"^([0-9][0-9])(-)([0-9])([0-9])([0-9])([0-9])([0-9])\";\n\nString[] parts = s.split(pattern);\n</code></pre>\n\n<p>If I play around with the Pattern and Matcher classes I can see that my pattern does match and the matcher tells me my groupCount is 7 which is correct.  But when I try and split them I have no luck.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1275574083,"creation_date":1275574083,"answer_id":2966704,"question_id":2966657,"body_markdown":"Use `appendReplacement`/`appendTail`:\r\n\r\n    StringBuffer output = new StringBuffer();\r\n    while (matcher.find()) {\r\n        matcher.appendReplacement(output, SelectRandomFromTemplate(matcher.group(1), count)); \r\n    }\r\n    matcher.appendTail(output);\r\n    return output.toString(); ","title":"How to replace a regexp group with a post proceed value?","body":"<p>Use <code>appendReplacement</code>/<code>appendTail</code>:</p>\n\n<pre><code>StringBuffer output = new StringBuffer();\nwhile (matcher.find()) {\n    matcher.appendReplacement(output, SelectRandomFromTemplate(matcher.group(1), count)); \n}\nmatcher.appendTail(output);\nreturn output.toString(); \n</code></pre>\n"}],"owner":{"account_id":88036,"reputation":205429,"user_id":243782,"accept_rate":94,"display_name":"Pentium10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":2966704,"answer_count":1,"score":0,"last_activity_date":1692780479,"creation_date":1275573676,"question_id":2966657,"body_markdown":"I have this code to \r\n\r\n    public static String ProcessTemplateInput(String input, int count) {\r\n            Pattern pattern = Pattern.compile(&quot;\\\\{([^\\\\}]+)\\\\}&quot;);\r\n            Matcher matcher = pattern.matcher(input);\r\n            while (matcher.find()) {\r\n                String newelem=SelectRandomFromTemplate(matcher.group(1), count);\r\n            }\r\n            return input;\r\n        }\r\n\r\n\r\nInput is:\r\n\r\n     String s1 = &quot;planets {Sun|Mercury|Venus|Earth|Mars|Jupiter|Saturn|Uranus|Neptune}{?|!|.} Is this ok? &quot;;\r\n\r\nOutput example:\r\n\r\n    String s2=&quot;planets Sun, Mercury. Is this ok? &quot;;\r\n\r\nI would like to replace the {} set of templates with the picked value returned by the method. How do I do that in Java1.5?","title":"How to replace a regexp group with a post proceed value?","body":"<p>I have this code to </p>\n\n<pre><code>public static String ProcessTemplateInput(String input, int count) {\n        Pattern pattern = Pattern.compile(\"\\\\{([^\\\\}]+)\\\\}\");\n        Matcher matcher = pattern.matcher(input);\n        while (matcher.find()) {\n            String newelem=SelectRandomFromTemplate(matcher.group(1), count);\n        }\n        return input;\n    }\n</code></pre>\n\n<p>Input is:</p>\n\n<pre><code> String s1 = \"planets {Sun|Mercury|Venus|Earth|Mars|Jupiter|Saturn|Uranus|Neptune}{?|!|.} Is this ok? \";\n</code></pre>\n\n<p>Output example:</p>\n\n<pre><code>String s2=\"planets Sun, Mercury. Is this ok? \";\n</code></pre>\n\n<p>I would like to replace the {} set of templates with the picked value returned by the method. How do I do that in Java1.5?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1267905236,"post_id":2393866,"comment_id":2372706,"body_markdown":"Hard to say without seeing more code. My guess is that you&#39;re instantiating the `Vector`s  inside a loop.","body":"Hard to say without seeing more code. My guess is that you&#39;re instantiating the <code>Vector</code>s  inside a loop."},{"owner":{"account_id":879091,"reputation":903,"user_id":171033,"accept_rate":80,"display_name":"Becky"},"score":0,"creation_date":1267910532,"post_id":2393866,"comment_id":2373059,"body_markdown":"This was rightt, thankyouu very much! Too bad you didn&#39;t post this as an answer lol so I can&#39;t mark any as correct :[ Hate it when I do this though lol, post a question and the answer ends up being something really obvious!","body":"This was rightt, thankyouu very much! Too bad you didn&#39;t post this as an answer lol so I can&#39;t mark any as correct :[ Hate it when I do this though lol, post a question and the answer ends up being something really obvious!"}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1267905900,"creation_date":1267905900,"answer_id":2393950,"question_id":2393866,"body_markdown":"Maybe the regex matches only one time instead of 10 times. You can check this if you count how often you iterate throught the while loop. The easiest way is to define a help variable `int i=0;` and increase this value inside the loop with `i++;` (and print it inside or outside the loop). Also check the size of the Vectors with `list.size()` inside the while loop to see how the size is actually growing.","title":"java regex matcher","body":"<p>Maybe the regex matches only one time instead of 10 times. You can check this if you count how often you iterate throught the while loop. The easiest way is to define a help variable <code>int i=0;</code> and increase this value inside the loop with <code>i++;</code> (and print it inside or outside the loop). Also check the size of the Vectors with <code>list.size()</code> inside the while loop to see how the size is actually growing.</p>\n"}],"owner":{"account_id":879091,"reputation":903,"user_id":171033,"accept_rate":80,"display_name":"Becky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1085,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692780449,"creation_date":1267904684,"question_id":2393866,"body_markdown":"     codes = new Vector&lt;String&gt;();\r\n     titles = new Vector&lt;String&gt;();\r\n     urls = new Vector&lt;String&gt;();\r\n     lecturers = new Vector&lt;String&gt;();\r\n     while (m.find()) {\r\n        String courseCode = m.group(1);\r\n        String courseTitle = m.group(2);\r\n        String courseURL = url;\r\n        String lecturerName = m.group(4);\r\n        codes.add(courseCode);\r\n        titles.add(courseTitle);\r\n        urls.add(courseURL);\r\n        lecturers.add(lecturerName);\r\n     }\r\n\r\nI&#39;m trying to get data from like 10 websites and it works alright if you just print out each group by itself eg:\r\n   system.out.println(courseCode);\r\nprints out a list of 10 courseCodes but when I try to add them into these vectors it only adds the last courseCode instead of each one. So each vector SHOULD have like 10 elements but they only have 1. Is there a way to like iterate through the matches?","title":"java regex matcher","body":"<pre><code> codes = new Vector&lt;String&gt;();\n titles = new Vector&lt;String&gt;();\n urls = new Vector&lt;String&gt;();\n lecturers = new Vector&lt;String&gt;();\n while (m.find()) {\n    String courseCode = m.group(1);\n    String courseTitle = m.group(2);\n    String courseURL = url;\n    String lecturerName = m.group(4);\n    codes.add(courseCode);\n    titles.add(courseTitle);\n    urls.add(courseURL);\n    lecturers.add(lecturerName);\n }\n</code></pre>\n\n<p>I'm trying to get data from like 10 websites and it works alright if you just print out each group by itself eg:\n   system.out.println(courseCode);\nprints out a list of 10 courseCodes but when I try to add them into these vectors it only adds the last courseCode instead of each one. So each vector SHOULD have like 10 elements but they only have 1. Is there a way to like iterate through the matches?</p>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"score":0,"creation_date":1462280090,"post_id":37004579,"comment_id":61561907,"body_markdown":"Don&#39;t optimise prematurely. You either have to box (which you don&#39;t know the cost of), or test for `isPresent()` (which you also don&#39;t know the cost of). `maybeFoo.equals(Optional.of(...))` is readable, so use it.","body":"Don&#39;t optimise prematurely. You either have to box (which you don&#39;t know the cost of), or test for <code>isPresent()</code> (which you also don&#39;t know the cost of). <code>maybeFoo.equals(Optional.of(...))</code> is readable, so use it."},{"owner":{"account_id":1363756,"reputation":4981,"user_id":1300626,"accept_rate":95,"display_name":"Franz Ebner"},"score":0,"creation_date":1462280317,"post_id":37004579,"comment_id":61562087,"body_markdown":"I agree about premature optimization, but it&#39;s more about code golf than timing.. talking about Java right ;)","body":"I agree about premature optimization, but it&#39;s more about code golf than timing.. talking about Java right ;)"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1462280318,"post_id":37004579,"comment_id":61562089,"body_markdown":"&quot;I&#39;m not happy&quot; There&#39;s nothing special about `Optional`: it&#39;s just a container for a reference. Would you expect another class which happened to contain a `String` to return true for `new Frobnitz(&quot;some string&quot;).equals(&quot;some string&quot;)`? The cases where the brevity is useful are outweighed by the cases where it&#39;s just plain incorrect.","body":"&quot;I&#39;m not happy&quot; There&#39;s nothing special about <code>Optional</code>: it&#39;s just a container for a reference. Would you expect another class which happened to contain a <code>String</code> to return true for <code>new Frobnitz(&quot;some string&quot;).equals(&quot;some string&quot;)</code>? The cases where the brevity is useful are outweighed by the cases where it&#39;s just plain incorrect."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1462280417,"post_id":37004579,"comment_id":61562161,"body_markdown":"The cleanest possible standard way of checking for equality, but you&#39;re not happy. Maybe you should switch to a different language.","body":"The cleanest possible standard way of checking for equality, but you&#39;re not happy. Maybe you should switch to a different language."},{"owner":{"account_id":4264083,"reputation":6317,"user_id":3487617,"display_name":"Hank D"},"score":0,"creation_date":1462282516,"post_id":37004579,"comment_id":61563743,"body_markdown":"If you look at the source code for `Optional`, it is really a bunch of convenience functions that look just as ugly. If this is something you do often, don&#39;t hesitate to start your own `name.ebner.franz.Optionals` and make the ugly go away.","body":"If you look at the source code for <code>Optional</code>, it is really a bunch of convenience functions that look just as ugly. If this is something you do often, don&#39;t hesitate to start your own <code>name.ebner.franz.Optionals</code> and make the ugly go away."}],"answers":[{"tags":[],"owner":{"account_id":29404,"reputation":45520,"user_id":79439,"accept_rate":62,"display_name":"thecoop"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1462351450,"creation_date":1462279786,"answer_id":37004657,"question_id":37004579,"body_markdown":"`Optional` implements the `equals` method directly:\r\n\r\n    if (maybeUSB.equals(Optional.ofNullable(testUSB))) {\r\n        ...\r\n    }\r\n\r\n(you can also use `Objects.equals` rather than calling `equals` directly)\r\n\r\nEDIT:\r\n\r\nIf you want both not present to be false, you can do this:\r\n\r\n    if (maybeUSB.equals(Optional.ofNullable(testUSB)) &amp;&amp; maybeUSB.isPresent()) {\r\n        ...\r\n    }\r\n","title":"Convenient way of checking equality for Optionals","body":"<p><code>Optional</code> implements the <code>equals</code> method directly:</p>\n\n<pre><code>if (maybeUSB.equals(Optional.ofNullable(testUSB))) {\n    ...\n}\n</code></pre>\n\n<p>(you can also use <code>Objects.equals</code> rather than calling <code>equals</code> directly)</p>\n\n<p>EDIT:</p>\n\n<p>If you want both not present to be false, you can do this:</p>\n\n<pre><code>if (maybeUSB.equals(Optional.ofNullable(testUSB)) &amp;&amp; maybeUSB.isPresent()) {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1462280891,"creation_date":1462280891,"answer_id":37005067,"question_id":37004579,"body_markdown":"You have many options.\r\n\r\nAlready noted:\r\n\r\n    boolean isEqual = maybeFoo.equals(Optional.of(testFoo));\r\n\r\nAlternatively:\r\n\r\n    boolean isEqual = maybeFoo.isPresent() &amp;&amp; maybeFoo.get().equals(testFoo);\r\n\r\nOr:\r\n\r\n    boolean isEqual = testFoo.equals(maybeFoo.orElse(null));\r\n\r\nThese last two do have slightly different semantics: each returns a different value when `maybeFoo` is empty and `testFoo` is null. It&#39;s not clear which is the correct response (which I guess is one reason there&#39;s not a standard API method that does this).\r\n\r\nYou can probably come up with others if you read the `Optional` API doc and apply some thought. There&#39;s nothing magic that&#39;s absent from the docs.\r\n\r\nMore generally, if you&#39;re knocking against this often enough for it to bother you, you might be approaching `Optional` with the wrong philosophy.\r\n\r\nAs I see it, `Optional` is about acknowledging that something won&#39;t always be present, and that you need (sometimes verbose) code to handle that.\r\n\r\nThis should be the exception. Wherever possible, try and create variables that **can&#39;t** be null or `Optional.empty()`. \r\n\r\nIn situations where this is unavoidable, embrace the fact that you need extra code.\r\n","title":"Convenient way of checking equality for Optionals","body":"<p>You have many options.</p>\n\n<p>Already noted:</p>\n\n<pre><code>boolean isEqual = maybeFoo.equals(Optional.of(testFoo));\n</code></pre>\n\n<p>Alternatively:</p>\n\n<pre><code>boolean isEqual = maybeFoo.isPresent() &amp;&amp; maybeFoo.get().equals(testFoo);\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>boolean isEqual = testFoo.equals(maybeFoo.orElse(null));\n</code></pre>\n\n<p>These last two do have slightly different semantics: each returns a different value when <code>maybeFoo</code> is empty and <code>testFoo</code> is null. It's not clear which is the correct response (which I guess is one reason there's not a standard API method that does this).</p>\n\n<p>You can probably come up with others if you read the <code>Optional</code> API doc and apply some thought. There's nothing magic that's absent from the docs.</p>\n\n<p>More generally, if you're knocking against this often enough for it to bother you, you might be approaching <code>Optional</code> with the wrong philosophy.</p>\n\n<p>As I see it, <code>Optional</code> is about acknowledging that something won't always be present, and that you need (sometimes verbose) code to handle that.</p>\n\n<p>This should be the exception. Wherever possible, try and create variables that <strong>can't</strong> be null or <code>Optional.empty()</code>. </p>\n\n<p>In situations where this is unavoidable, embrace the fact that you need extra code.</p>\n"},{"tags":[],"owner":{"account_id":80160,"reputation":6410,"user_id":226844,"display_name":"Sarsaparilla"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1548369240,"creation_date":1548369240,"answer_id":54356366,"question_id":37004579,"body_markdown":"Would this work?\r\n\r\n```\r\nif (maybeUSB.map(c -&gt; c.getVersion().equals(&quot;3.0&quot;)).orElse(false))\r\n```","title":"Convenient way of checking equality for Optionals","body":"<p>Would this work?</p>\n\n<pre><code>if (maybeUSB.map(c -&gt; c.getVersion().equals(\"3.0\")).orElse(false))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":972509,"reputation":697,"user_id":994749,"display_name":"Oleg Poltoratskii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692780445,"creation_date":1680110205,"answer_id":75880262,"question_id":37004579,"body_markdown":"It&#39;s possible to check equality of Optional by it&#39;s existed method `equals`.\r\nIt compares two Optional by it&#39;s inner values.\r\n\r\n~~~\r\npackage java.util;\r\npublic final class Optional&lt;T&gt; {\r\n...\r\n    public boolean equals(Object obj) {\r\n...\r\n        return obj instanceof Optional&lt;?&gt; other\r\n                &amp;&amp; Objects.equals(value, other.value);\r\n~~~","title":"Convenient way of checking equality for Optionals","body":"<p>It's possible to check equality of Optional by it's existed method <code>equals</code>.\nIt compares two Optional by it's inner values.</p>\n<pre><code>package java.util;\npublic final class Optional&lt;T&gt; {\n...\n    public boolean equals(Object obj) {\n...\n        return obj instanceof Optional&lt;?&gt; other\n                &amp;&amp; Objects.equals(value, other.value);\n</code></pre>\n"}],"owner":{"account_id":1363756,"reputation":4981,"user_id":1300626,"accept_rate":95,"display_name":"Franz Ebner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50664,"favorite_count":0,"down_vote_count":1,"up_vote_count":31,"accepted_answer_id":37005067,"answer_count":4,"score":30,"last_activity_date":1692780445,"creation_date":1462279591,"question_id":37004579,"body_markdown":"I&#39;m looking for a more convenient way of proofing equality for an Optional value.\r\n\r\nThis is what an [Oracle Blog post][1] suggests:\r\n\r\n\r\n    Optional&lt;USB&gt; maybeUSB = ...;\r\n    maybeUSB.filter(usb -&gt; &quot;3.0&quot;.equals(usb.getVersion())\r\n                        .ifPresent(() -&gt; System.out.println(&quot;ok&quot;));\r\n\r\nIMHO results in something like\r\n\r\n    if (maybeUSB.filter(c -&gt; &quot;3.0&quot;.equals(c.getVersion())).isPresent()) {\r\n       ...\r\n    }\r\n\r\nOf course that&#39;s kind of a poor example because it compares the Version and not the instance of USB itself but I think it should still proof my point.\r\n\r\nIs this really as good as it gets?\r\n\r\nNo\r\n\r\n    boolean presentAndEquals(Object)\r\n\r\nor\r\n\r\n    boolean deepEquals(Object)\r\n\r\nAm I missing something here?\r\n\r\n**EDIT:**\r\n\r\nI&#39;m not that happy with Optionals.equals either.\r\nDo I really have to box an Object first to instantly unbox and check for equality ?\r\n\r\n\r\n**EDIT II:**\r\n\r\nPretty damn happy with:\r\n\r\n    optional\r\n        .filter(nonOptional::equals)\r\n        .isPresent()\r\n\r\nnowadays.\r\n\r\nAfter some years of functional programming, `if` looses a **lot** of relevance.\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/java/java8-optional-2175753.html\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/java/java8-optional-2175753.html","title":"Convenient way of checking equality for Optionals","body":"<p>I'm looking for a more convenient way of proofing equality for an Optional value.</p>\n<p>This is what an <a href=\"http://www.oracle.com/technetwork/articles/java/java8-optional-2175753.html\" rel=\"nofollow noreferrer\">Oracle Blog post</a> suggests:</p>\n<pre><code>Optional&lt;USB&gt; maybeUSB = ...;\nmaybeUSB.filter(usb -&gt; &quot;3.0&quot;.equals(usb.getVersion())\n                    .ifPresent(() -&gt; System.out.println(&quot;ok&quot;));\n</code></pre>\n<p>IMHO results in something like</p>\n<pre><code>if (maybeUSB.filter(c -&gt; &quot;3.0&quot;.equals(c.getVersion())).isPresent()) {\n   ...\n}\n</code></pre>\n<p>Of course that's kind of a poor example because it compares the Version and not the instance of USB itself but I think it should still proof my point.</p>\n<p>Is this really as good as it gets?</p>\n<p>No</p>\n<pre><code>boolean presentAndEquals(Object)\n</code></pre>\n<p>or</p>\n<pre><code>boolean deepEquals(Object)\n</code></pre>\n<p>Am I missing something here?</p>\n<p><strong>EDIT:</strong></p>\n<p>I'm not that happy with Optionals.equals either.\nDo I really have to box an Object first to instantly unbox and check for equality ?</p>\n<p><strong>EDIT II:</strong></p>\n<p>Pretty damn happy with:</p>\n<pre><code>optional\n    .filter(nonOptional::equals)\n    .isPresent()\n</code></pre>\n<p>nowadays.</p>\n<p>After some years of functional programming, <code>if</code> looses a <strong>lot</strong> of relevance.</p>\n"},{"tags":["java","regex","regexbuddy"],"comments":[{"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"score":0,"creation_date":1265192796,"post_id":2191186,"comment_id":2139665,"body_markdown":"Note: I don&#39;t think you need `?:` when you use `?!`.","body":"Note: I don&#39;t think you need <code>?:</code> when you use <code>?!</code>."},{"owner":{"account_id":54612,"reputation":720,"user_id":163439,"accept_rate":75,"display_name":"nvrs"},"score":0,"creation_date":1265193030,"post_id":2191186,"comment_id":2139689,"body_markdown":"the ?: is for not capturing the groups with backreferences, it&#39;s there for perfomance and shouldn&#39;t be trouble. But i have tried without it to no avail","body":"the ?: is for not capturing the groups with backreferences, it&#39;s there for perfomance and shouldn&#39;t be trouble. But i have tried without it to no avail"},{"owner":{"account_id":790,"reputation":23125,"user_id":1030,"accept_rate":98,"display_name":"ninesided"},"score":1,"creation_date":1265193227,"post_id":2191186,"comment_id":2139708,"body_markdown":"if you posted some sample inputs and what you expect from the output in each case, I think more people would be in a position to help.","body":"if you posted some sample inputs and what you expect from the output in each case, I think more people would be in a position to help."},{"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"score":1,"creation_date":1265193416,"post_id":2191186,"comment_id":2139728,"body_markdown":"@nvrs: regarding the `?:` - zero-width assertions are not captured *by default*. As far as the regex engine is concerned, `(?:(?!(sin|cos|tan)))` is a complex way of saying `(?!sin|cos|tan)`.","body":"@nvrs: regarding the <code>?:</code> - zero-width assertions are not captured <i>by default</i>. As far as the regex engine is concerned, <code>(?:(?!(sin|cos|tan)))</code> is a complex way of saying <code>(?!sin|cos|tan)</code>."},{"owner":{"account_id":54612,"reputation":720,"user_id":163439,"accept_rate":75,"display_name":"nvrs"},"score":0,"creation_date":1265193747,"post_id":2191186,"comment_id":2139755,"body_markdown":"@ninesided: You are right. I am actually trying to parse a mathematical equation and extract the variables. The variables could be any string with characters [a-z] followed by an optional single digit. e.g.\nx1 + yvar2\nhowever i want to exclude some strings such as log,sin,etc since they are bound by implemented functions by my lib.","body":"@ninesided: You are right. I am actually trying to parse a mathematical equation and extract the variables. The variables could be any string with characters [a-z] followed by an optional single digit. e.g. x1 + yvar2 however i want to exclude some strings such as log,sin,etc since they are bound by implemented functions by my lib."},{"owner":{"account_id":15680,"reputation":21519,"user_id":33358,"accept_rate":100,"display_name":"Jan Goyvaerts"},"score":0,"creation_date":1267265312,"post_id":2191186,"comment_id":2319462,"body_markdown":"If something works in RegexBuddy but not in your actual application, the most likely cause is that you&#39;re not doing the same thing in RegexBuddy as in your actual application.  In such cases it is very helpful if you post both the regex you&#39;re using in RegexBuddy and the code you&#39;re using in your application (Java code, in this case).","body":"If something works in RegexBuddy but not in your actual application, the most likely cause is that you&#39;re not doing the same thing in RegexBuddy as in your actual application.  In such cases it is very helpful if you post both the regex you&#39;re using in RegexBuddy and the code you&#39;re using in your application (Java code, in this case)."}],"answers":[{"tags":[],"owner":{"account_id":10108,"reputation":530002,"user_id":18936,"display_name":"bobince"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1265193769,"creation_date":1265193769,"answer_id":2191288,"question_id":2191186,"body_markdown":"The `\\b` is in the wrong place. It would be looking for a word boundary that didn&#39;t have sin/cos/tan *before* it. But a boundary just *after* any of those would have a letter at the end, so it would have to be an end-of-word boundary, which is can&#39;t be if the next character is a-z.\r\n\r\nAlso, the negative lookahead would (if it worked) exclude strings like `cost`, which I&#39;m not sure you want if you&#39;re just filtering out keywords.\r\n\r\nI suggest:\r\n\r\n    \\b(?!sin\\b|cos\\b|tan\\b)[a-z]+[0-9]?\\b\r\n\r\nOr, more simply, you could just match `\\b[a-z]+[0-9]?\\b` and filter out the strings in the keyword list afterwards. You don&#39;t always have to do everything in regex.","title":"java regex to exclude specific strings from a larger one","body":"<p>The <code>\\b</code> is in the wrong place. It would be looking for a word boundary that didn't have sin/cos/tan <em>before</em> it. But a boundary just <em>after</em> any of those would have a letter at the end, so it would have to be an end-of-word boundary, which is can't be if the next character is a-z.</p>\n\n<p>Also, the negative lookahead would (if it worked) exclude strings like <code>cost</code>, which I'm not sure you want if you're just filtering out keywords.</p>\n\n<p>I suggest:</p>\n\n<pre><code>\\b(?!sin\\b|cos\\b|tan\\b)[a-z]+[0-9]?\\b\n</code></pre>\n\n<p>Or, more simply, you could just match <code>\\b[a-z]+[0-9]?\\b</code> and filter out the strings in the keyword list afterwards. You don't always have to do everything in regex.</p>\n"},{"tags":[],"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1265193939,"creation_date":1265193939,"answer_id":2191307,"question_id":2191186,"body_markdown":"So you want `[a-z]+[0-9]?` (a sequence of at least one letter, optionally followed by a digit), *unless* that letter sequence resembles one of `sin` `cos` `tan`?\r\n\r\n    \\b(?!(sin|cos|tan)(?=\\d|\\b))[a-z]+\\d?\\b\r\n\r\nresults:\r\n\r\n&lt;pre&gt;\r\ncos   - no match\r\ncosy  - full match\r\ncos1  - no match\r\ncosy1 - full match\r\nbla9  - full match\r\nbla99 - no match\r\n&lt;/pre&gt;","title":"java regex to exclude specific strings from a larger one","body":"<p>So you want <code>[a-z]+[0-9]?</code> (a sequence of at least one letter, optionally followed by a digit), <em>unless</em> that letter sequence resembles one of <code>sin</code> <code>cos</code> <code>tan</code>?</p>\n\n<pre><code>\\b(?!(sin|cos|tan)(?=\\d|\\b))[a-z]+\\d?\\b\n</code></pre>\n\n<p>results:</p>\n\n<pre>\ncos   - no match\ncosy  - full match\ncos1  - no match\ncosy1 - full match\nbla9  - full match\nbla99 - no match\n</pre>\n"},{"tags":[],"owner":{"account_id":54612,"reputation":720,"user_id":163439,"accept_rate":75,"display_name":"nvrs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1265195513,"creation_date":1265195513,"answer_id":2191411,"question_id":2191186,"body_markdown":"i forgot to escape the `\\b` for java so `\\b` should be `\\\\b` and it now works.\r\ncheers","title":"java regex to exclude specific strings from a larger one","body":"<p>i forgot to escape the <code>\\b</code> for java so <code>\\b</code> should be <code>\\\\b</code> and it now works.\ncheers</p>\n"}],"owner":{"account_id":54612,"reputation":720,"user_id":163439,"accept_rate":75,"display_name":"nvrs"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12918,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2191288,"answer_count":3,"score":5,"last_activity_date":1692780430,"creation_date":1265192517,"question_id":2191186,"body_markdown":"I have been banging my head against this for some time now:\r\nI want to capture all `[a-z]+[0-9]?` character sequences excluding strings such as `sin|cos|tan` etc.\r\nSo having done my regex homework the following regex should work:\r\n \r\n    (?:(?!(sin|cos|tan)))\\b[a-z]+[0-9]?\r\n\r\nAs you see I am using negative lookahead along with alternation - the `\\b` after the non-capturing group closing parenthesis is critical to avoid matching the `in` of `sin` etc. The regex makes sense and as a matter of fact I have tried it with RegexBuddy and Java as the target implementation and get the wanted result but it doesn&#39;t work using Java Matcher and Pattern objects!\r\nAny thoughts?\r\n\r\ncheers","title":"java regex to exclude specific strings from a larger one","body":"<p>I have been banging my head against this for some time now:\nI want to capture all <code>[a-z]+[0-9]?</code> character sequences excluding strings such as <code>sin|cos|tan</code> etc.\nSo having done my regex homework the following regex should work:</p>\n\n<pre><code>(?:(?!(sin|cos|tan)))\\b[a-z]+[0-9]?\n</code></pre>\n\n<p>As you see I am using negative lookahead along with alternation - the <code>\\b</code> after the non-capturing group closing parenthesis is critical to avoid matching the <code>in</code> of <code>sin</code> etc. The regex makes sense and as a matter of fact I have tried it with RegexBuddy and Java as the target implementation and get the wanted result but it doesn't work using Java Matcher and Pattern objects!\nAny thoughts?</p>\n\n<p>cheers</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":806,"reputation":123161,"user_id":1053,"accept_rate":81,"display_name":"Ed S."},"score":2,"creation_date":1263840572,"post_id":2088412,"comment_id":2020484,"body_markdown":"In your situation a regex may be ok, but have you read this?  http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454","body":"In your situation a regex may be ok, but have you read this?  <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>"},{"owner":{"account_id":64005,"reputation":122073,"user_id":189179,"display_name":"Ben James"},"score":3,"creation_date":1263840895,"post_id":2088412,"comment_id":2020523,"body_markdown":"There should be an option *Vote to close: User is parsing HTML with regex*","body":"There should be an option <i>Vote to close: User is parsing HTML with regex</i>"}],"answers":[{"tags":[],"owner":{"account_id":75807,"reputation":81445,"user_id":217332,"accept_rate":100,"display_name":"danben"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1263840581,"creation_date":1263840581,"answer_id":2088421,"question_id":2088412,"body_markdown":"SO is about to descend on you.  But let me be the first to say, don&#39;t use regular expressions to parse HTML.  [Here][1] is a list of Java HTML Parsers.  Look around until you see an API that suits your fancy and use that instead.\r\n\r\n\r\n  [1]: http://java-source.net/open-source/html-parsers","title":"get text between html tags","body":"<p>SO is about to descend on you.  But let me be the first to say, don't use regular expressions to parse HTML.  <a href=\"http://java-source.net/open-source/html-parsers\" rel=\"nofollow noreferrer\">Here</a> is a list of Java HTML Parsers.  Look around until you see an API that suits your fancy and use that instead.</p>\n"},{"tags":[],"owner":{"account_id":21534,"reputation":59456,"user_id":52443,"display_name":"Welbog"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1263840632,"creation_date":1263840632,"answer_id":2088429,"question_id":2088412,"body_markdown":"Don&#39;t use regular expressions when parsing HTML.\r\n\r\nUse [XPath][1] instead (if your HTML is well formed). You can reference text nodes using the `text()` function very easily.\r\n\r\n\r\n  [1]: http://www.w3schools.com/XPath/default.asp","title":"get text between html tags","body":"<p>Don't use regular expressions when parsing HTML.</p>\n\n<p>Use <a href=\"http://www.w3schools.com/XPath/default.asp\" rel=\"nofollow noreferrer\">XPath</a> instead (if your HTML is well formed). You can reference text nodes using the <code>text()</code> function very easily.</p>\n"},{"tags":[],"owner":{"account_id":26521,"reputation":690186,"user_id":69083,"display_name":"Guffa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1263840755,"creation_date":1263840755,"answer_id":2088443,"question_id":2088412,"body_markdown":"It looks like you are trying to use the `|` operator inside a negative set, which is neither working nor needed. Just specify the characters that you don&#39;t want to match:\r\n\r\n    Pattern pText = Pattern.compile(&quot;&gt;([^&lt;&gt;]*?)&lt;&quot;);\r\n","title":"get text between html tags","body":"<p>It looks like you are trying to use the <code>|</code> operator inside a negative set, which is neither working nor needed. Just specify the characters that you don't want to match:</p>\n\n<pre><code>Pattern pText = Pattern.compile(\"&gt;([^&lt;&gt;]*?)&lt;\");\n</code></pre>\n"}],"owner":{"account_id":585620,"reputation":1,"user_id":253440,"display_name":"Fran Rodriguez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2556,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692780383,"creation_date":1263840500,"question_id":2088412,"body_markdown":"&gt; Possible duplicate: https://stackoverflow.com/questions/299942/regex-matching-html-tags-and-extracting-text\r\n\r\nI need to get the text between the html tag like `&lt;p&gt;&lt;/p&gt;` or whatever. My pattern is this\r\n\r\n    Pattern pText = Pattern.compile(&quot;&gt;([^&gt;|^&lt;]*?)&lt;&quot;);\r\n\r\nAnyone knows some better pattern, because this one its not very usefull. I need it to get for  index the content from web page. \r\n\r\nThanks","title":"get text between html tags","body":"<blockquote>\n  <p>Possible duplicate: <a href=\"https://stackoverflow.com/questions/299942/regex-matching-html-tags-and-extracting-text\">RegEx matching HTML tags and extracting text</a></p>\n</blockquote>\n\n<p>I need to get the text between the html tag like <code>&lt;p&gt;&lt;/p&gt;</code> or whatever. My pattern is this</p>\n\n<pre><code>Pattern pText = Pattern.compile(\"&gt;([^&gt;|^&lt;]*?)&lt;\");\n</code></pre>\n\n<p>Anyone knows some better pattern, because this one its not very usefull. I need it to get for  index the content from web page. </p>\n\n<p>Thanks</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1260910297,"creation_date":1260910297,"answer_id":1910329,"question_id":1910271,"body_markdown":"Just read the documentation for\r\n\r\n[Matcher.appendReplacement][1] and\r\n\r\n[Matcher.appendTail][2]\r\n\r\nIt&#39;s all explained there what is the intention on using these two methods together.\r\n\r\n----------\r\n\r\nChanging the pattern after having created an instance of a matcher of course won&#39;t influence the already created matcher. You have to change the pattern before you create the matcher.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#appendReplacement&amp;#40;java.lang.StringBuffer&amp;#44;&amp;#32;java.lang.String&amp;#41;\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#appendTail&amp;#40;java.lang.StringBuffer&amp;#41;","title":"Understanding Pattern and Matcher","body":"<p>Just read the documentation for</p>\n\n<p><a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#appendReplacement&#40;java.lang.StringBuffer&#44;&#32;java.lang.String&#41;\" rel=\"nofollow noreferrer\">Matcher.appendReplacement</a> and</p>\n\n<p><a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#appendTail&#40;java.lang.StringBuffer&#41;\" rel=\"nofollow noreferrer\">Matcher.appendTail</a></p>\n\n<p>It's all explained there what is the intention on using these two methods together.</p>\n\n<hr>\n\n<p>Changing the pattern after having created an instance of a matcher of course won't influence the already created matcher. You have to change the pattern before you create the matcher.</p>\n"},{"tags":[],"owner":{"account_id":80104,"reputation":386,"user_id":226720,"display_name":"Craig Putnam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1260910753,"creation_date":1260910753,"answer_id":1910363,"question_id":1910271,"body_markdown":"Answer to b)\r\n\r\n&lt;code&gt;Pattern.compile()&lt;/code&gt; is a static method.  If you uncomment &lt;code&gt;p.compile();&lt;/code&gt;, it will create a new object that you discard (it isn&#39;t assigned to anything).  To get what you intended, you would need to do something like:\r\n\r\n``p = Pattern.compile(&quot;mom&quot;);``\r\n\r\nand then get a new matcher from the newly created pattern.","title":"Understanding Pattern and Matcher","body":"<p>Answer to b)</p>\n\n<p><code>Pattern.compile()</code> is a static method.  If you uncomment <code>p.compile();</code>, it will create a new object that you discard (it isn't assigned to anything).  To get what you intended, you would need to do something like:</p>\n\n<p><code>p = Pattern.compile(\"mom\");</code></p>\n\n<p>and then get a new matcher from the newly created pattern.</p>\n"},{"tags":[],"owner":{"account_id":80718,"reputation":361,"user_id":228054,"display_name":"John Kinzie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1260913299,"creation_date":1260912830,"answer_id":1910567,"question_id":1910271,"body_markdown":"Answer to a)\r\n\r\n.appendReplacement() iterates along the Matcher String (&quot;Our mom and Our dad&quot;) and, if the pattern (&quot;Our&quot;) is found, it substitutes the replacement String (&quot;My&quot;) for the pattern (&quot;Our&quot;) and puts whatever it iterated over into the StringBuffer (s).  If no more patterns are found, it does nothing.  That is, it won&#39;t append anything after the last pattern. Therefore, .appendTail() is called to get the remainder of the Matcher String.\r\n  \r\nm.replaceAll(&quot;My&quot;); can be used to achieve the same result.","title":"Understanding Pattern and Matcher","body":"<p>Answer to a)</p>\n\n<p>.appendReplacement() iterates along the Matcher String (\"Our mom and Our dad\") and, if the pattern (\"Our\") is found, it substitutes the replacement String (\"My\") for the pattern (\"Our\") and puts whatever it iterated over into the StringBuffer (s).  If no more patterns are found, it does nothing.  That is, it won't append anything after the last pattern. Therefore, .appendTail() is called to get the remainder of the Matcher String.</p>\n\n<p>m.replaceAll(\"My\"); can be used to achieve the same result.</p>\n"}],"owner":{"account_id":19578,"reputation":22026,"user_id":45963,"accept_rate":79,"display_name":"andandandand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":871,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":1910329,"answer_count":3,"score":0,"last_activity_date":1692780361,"creation_date":1260909880,"question_id":1910271,"body_markdown":"Consider this code:\r\n\r\n    import java.util.regex.*;\r\n    \r\n    public class Pattern3 {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            // TODO code application logic here\r\n    \r\n            Pattern p = Pattern.compile(&quot;Our&quot;); //line 1\r\n            Matcher m = p.matcher(&quot;Our mom and Our dad&quot;); //line 2\r\n            \r\n            //p.compile(mom); commented line\r\n    \r\n             StringBuffer s = new StringBuffer();\r\n    \r\n    \r\n    \r\n           boolean found = m.find();\r\n    \r\n            while (found){\r\n                m.appendReplacement(s, &quot;My&quot;); //line 3\r\n                found=m.find();\r\n            }\r\n    \r\n           m.appendTail(s); //line 4\r\n           System.out.println(s);\r\n        }\r\n    \r\n    }\r\n\r\na) Why do I need to call `m.appendTrail(s)` on line 4 to get the unchopped string?\r\n\r\nb) Why doesn&#39;t the output change when I uncomment and place `&quot;mom&quot;` as the new regex expression?\r\n","title":"Understanding Pattern and Matcher","body":"<p>Consider this code:</p>\n\n<pre><code>import java.util.regex.*;\n\npublic class Pattern3 {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        // TODO code application logic here\n\n        Pattern p = Pattern.compile(\"Our\"); //line 1\n        Matcher m = p.matcher(\"Our mom and Our dad\"); //line 2\n\n        //p.compile(mom); commented line\n\n         StringBuffer s = new StringBuffer();\n\n\n\n       boolean found = m.find();\n\n        while (found){\n            m.appendReplacement(s, \"My\"); //line 3\n            found=m.find();\n        }\n\n       m.appendTail(s); //line 4\n       System.out.println(s);\n    }\n\n}\n</code></pre>\n\n<p>a) Why do I need to call <code>m.appendTrail(s)</code> on line 4 to get the unchopped string?</p>\n\n<p>b) Why doesn't the output change when I uncomment and place <code>\"mom\"</code> as the new regex expression?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1245341085,"creation_date":1245341085,"answer_id":1013583,"question_id":1013569,"body_markdown":"Use [`Matcher.group(int)`][1], not [`Matcher.group()`][2].  \r\nWith the given regex and input, `group(1)` should be &quot;1&quot; and `group(2)` should be &quot;23&quot;.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#group(int)\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#group()","title":"How to get several regex groups from Matcher in Java?","body":"<p>Use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#group(int)\" rel=\"noreferrer\"><code>Matcher.group(int)</code></a>, not <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#group()\" rel=\"noreferrer\"><code>Matcher.group()</code></a>.<br>\nWith the given regex and input, <code>group(1)</code> should be \"1\" and <code>group(2)</code> should be \"23\".</p>\n"}],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":1013583,"answer_count":1,"score":1,"last_activity_date":1692780353,"creation_date":1245340962,"question_id":1013569,"body_markdown":"I have a Java program that does some String matching. I&#39;m looking for anything that matches `\\d+x\\d+` in a String. This works, using the `Pattern` and `Matcher` classes. However, to parse the `String` parts I have found, I have to manually parse the `String` I get from the `Matcher.find()` and `Matcher.group()`. How can I tell the `Pattern` I&#39;m looking for something in the form of `(\\d+)x(\\d+)` and get the `Matcher` to return those groups separately?\r\nSo instead of the string &quot;1x23&quot; I want to get two strings, &quot;1&quot; and &quot;23&quot;.\r\n","title":"How to get several regex groups from Matcher in Java?","body":"<p>I have a Java program that does some String matching. I'm looking for anything that matches <code>\\d+x\\d+</code> in a String. This works, using the <code>Pattern</code> and <code>Matcher</code> classes. However, to parse the <code>String</code> parts I have found, I have to manually parse the <code>String</code> I get from the <code>Matcher.find()</code> and <code>Matcher.group()</code>. How can I tell the <code>Pattern</code> I'm looking for something in the form of <code>(\\d+)x(\\d+)</code> and get the <code>Matcher</code> to return those groups separately?\nSo instead of the string \"1x23\" I want to get two strings, \"1\" and \"23\".</p>\n"},{"tags":["java","html","regex"],"answers":[{"tags":[],"owner":{"account_id":1889,"reputation":120472,"user_id":2603,"accept_rate":75,"display_name":"Aaron Maenpaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1233768494,"creation_date":1233768494,"answer_id":512426,"question_id":512342,"body_markdown":"I would use something that looked like:\r\n\r\n    &quot;&lt;select&gt;([^&lt;&gt;]+)&lt;/select&gt;&quot;\r\n\r\nI&#39;m not sure why you left off the &#39;&gt;&#39;s and I wouldn&#39;t want to match other tags (here I&#39;m assuming we&#39;re looking for textual data and not a document fragment).\r\n\r\nThat being said, I&#39;d really look into getting a DOM and using XPath (or similar) to do your queries as regex&#39;s are not [well known for their ability to deal with trees](http://steve.yegge.googlepages.com/the-emacs-problem).","title":"Regex in Java, finding start and end tag","body":"<p>I would use something that looked like:</p>\n\n<pre><code>\"&lt;select&gt;([^&lt;&gt;]+)&lt;/select&gt;\"\n</code></pre>\n\n<p>I'm not sure why you left off the '>'s and I wouldn't want to match other tags (here I'm assuming we're looking for textual data and not a document fragment).</p>\n\n<p>That being said, I'd really look into getting a DOM and using XPath (or similar) to do your queries as regex's are not <a href=\"http://steve.yegge.googlepages.com/the-emacs-problem\" rel=\"nofollow noreferrer\">well known for their ability to deal with trees</a>.</p>\n"},{"tags":[],"owner":{"account_id":20498,"reputation":8303,"user_id":49032,"accept_rate":45,"display_name":"hyperboreean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1233768692,"creation_date":1233768692,"answer_id":512444,"question_id":512342,"body_markdown":"I think more safer would be to have something like:\r\n\r\n    &quot;&lt;\\s*select\\s*&gt;(.*?)&lt;\\s*/select\\s*&gt;&quot;\r\n\r\nFor more security you should probably add \\w* after the first select in case any other select options appear.\r\n\r\nAlso the 3rd \\s* could be probably skipped if your HTML is standard compliant.","title":"Regex in Java, finding start and end tag","body":"<p>I think more safer would be to have something like:</p>\n\n<pre><code>\"&lt;\\s*select\\s*&gt;(.*?)&lt;\\s*/select\\s*&gt;\"\n</code></pre>\n\n<p>For more security you should probably add \\w* after the first select in case any other select options appear.</p>\n\n<p>Also the 3rd \\s* could be probably skipped if your HTML is standard compliant.</p>\n"},{"tags":[],"owner":{"account_id":21746,"reputation":646219,"user_id":53114,"accept_rate":45,"display_name":"Gumbo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1233768692,"creation_date":1233768692,"answer_id":512445,"question_id":512342,"body_markdown":"If you really want to stich with regular expressions (which are not the best choice) I’d use:\r\n\r\n    &quot;&lt;select[^&gt;]*&gt;(.+?)&lt;/select\\s*&gt;&quot;","title":"Regex in Java, finding start and end tag","body":"<p>If you really want to stich with regular expressions (which are not the best choice) I’d use:</p>\n\n<pre><code>\"&lt;select[^&gt;]*&gt;(.+?)&lt;/select\\s*&gt;\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344368925,"creation_date":1344368925,"answer_id":11853012,"question_id":512342,"body_markdown":"I understand that you don&#39;t think you need a full blown parser - we&#39;ve all written an HTML regex parser at some point, thinking &quot;My use case is so simple, surely I can use regex *this* time!&quot;\r\n\r\nBut I think everyone who&#39;s gone and done it ultimately comes to the conclusion that just outsourcing the heavy lifting to one of the many excellent existing parsers would have been faster, easier, simpler, and safer.  I know I have.\r\n\r\nCheck out [jSoup][1] - it&#39;s simple, it&#39;s fast, and it works.  There&#39;s really no good reason not to use it.\r\n\r\nIf you&#39;re still not convinced, the fact that you had to come and ask what the right pattern was - *and you got three different answers in response - none of which do the whole job* - should be telling that the problem is much more complex than it seems at first glance.\r\n\r\n\r\n  [1]: http://jsoup.org/","title":"Regex in Java, finding start and end tag","body":"<p>I understand that you don't think you need a full blown parser - we've all written an HTML regex parser at some point, thinking \"My use case is so simple, surely I can use regex <em>this</em> time!\"</p>\n\n<p>But I think everyone who's gone and done it ultimately comes to the conclusion that just outsourcing the heavy lifting to one of the many excellent existing parsers would have been faster, easier, simpler, and safer.  I know I have.</p>\n\n<p>Check out <a href=\"http://jsoup.org/\" rel=\"nofollow\">jSoup</a> - it's simple, it's fast, and it works.  There's really no good reason not to use it.</p>\n\n<p>If you're still not convinced, the fact that you had to come and ask what the right pattern was - <em>and you got three different answers in response - none of which do the whole job</em> - should be telling that the problem is much more complex than it seems at first glance.</p>\n"},{"tags":[],"owner":{"account_id":1563533,"reputation":1504,"user_id":1452831,"accept_rate":100,"display_name":"S&#248;ren Ullidtz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379067996,"creation_date":1378215398,"answer_id":18593777,"question_id":512342,"body_markdown":"Depending on your needs, I would also recommend doing a negative look-ahead to make sure you stop at the first occurrence of select.\r\n\r\n    &quot;(?&lt;selectGroupName&gt;&lt;select&gt;((?:(?!select).)*)&lt;/select&gt;)&quot;\r\n\r\nThe important part here is &quot;((?:(?!select).)*)&quot; which takes anything that doesn&#39;t conflict with the negative look-ahead.\r\n\r\nThe same could also be accomplished by using a lazy quantifier:\r\n\r\n    &quot;(?&lt;selectGroupName&gt;&lt;select&gt;(.*?)&lt;/select&gt;)&quot;\r\n\r\nThese would both ensure that you will stop at the first occurrence of &lt;/select&gt; preventing you from taking several sections at the same time. It does however not protect you against nested select tags, on the contrary those would cause problems with this expression.\r\nWith this expression the following would be an issue:\r\n\r\n    &lt;select&gt;\r\n        &lt;select&gt;\r\n        &lt;/select&gt;\r\n    &lt;/select&gt;\r\n\r\nWithout the look ahead or lazy quantifier the following would be an issue instead:\r\n\r\n    &lt;select&gt;\r\n    &lt;/select&gt;\r\n    &lt;a&gt;\r\n        &lt;select&gt;\r\n        &lt;/select&gt;\r\n    &lt;/a&gt;","title":"Regex in Java, finding start and end tag","body":"<p>Depending on your needs, I would also recommend doing a negative look-ahead to make sure you stop at the first occurrence of select.</p>\n\n<pre><code>\"(?&lt;selectGroupName&gt;&lt;select&gt;((?:(?!select).)*)&lt;/select&gt;)\"\n</code></pre>\n\n<p>The important part here is \"((?:(?!select).)*)\" which takes anything that doesn't conflict with the negative look-ahead.</p>\n\n<p>The same could also be accomplished by using a lazy quantifier:</p>\n\n<pre><code>\"(?&lt;selectGroupName&gt;&lt;select&gt;(.*?)&lt;/select&gt;)\"\n</code></pre>\n\n<p>These would both ensure that you will stop at the first occurrence of  preventing you from taking several sections at the same time. It does however not protect you against nested select tags, on the contrary those would cause problems with this expression.\nWith this expression the following would be an issue:</p>\n\n<pre><code>&lt;select&gt;\n    &lt;select&gt;\n    &lt;/select&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Without the look ahead or lazy quantifier the following would be an issue instead:</p>\n\n<pre><code>&lt;select&gt;\n&lt;/select&gt;\n&lt;a&gt;\n    &lt;select&gt;\n    &lt;/select&gt;\n&lt;/a&gt;\n</code></pre>\n"}],"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":512445,"answer_count":5,"score":1,"last_activity_date":1692780340,"creation_date":1233767707,"question_id":512342,"body_markdown":"I am trying to find data within a HTML document.  I don&#39;t need a full blown parser as it is just the data between one tag.\r\n\r\nBut, I want to detect the &#39;select&#39; tag and the data in between. \r\n\r\n    return Pattern.compile(pattern, \r\n                           Pattern.CASE_INSENSITIVE | Pattern.MULTILINE |\r\n                           Pattern.DOTALL);\r\n    \r\n    /// End right angle bracket left off intentionally:\r\n    track_pattern_buf.append(&quot;&lt;select&quot;);\r\n    track_pattern_buf.append(&quot;(.*?)&quot;);\r\n    track_pattern_buf.append(&quot;&lt;/select&quot;);\r\n\r\nIs this the &#39;regex&#39; that you would use?\r\n\r\n","title":"Regex in Java, finding start and end tag","body":"<p>I am trying to find data within a HTML document.  I don't need a full blown parser as it is just the data between one tag.</p>\n\n<p>But, I want to detect the 'select' tag and the data in between. </p>\n\n<pre><code>return Pattern.compile(pattern, \n                       Pattern.CASE_INSENSITIVE | Pattern.MULTILINE |\n                       Pattern.DOTALL);\n\n/// End right angle bracket left off intentionally:\ntrack_pattern_buf.append(\"&lt;select\");\ntrack_pattern_buf.append(\"(.*?)\");\ntrack_pattern_buf.append(\"&lt;/select\");\n</code></pre>\n\n<p>Is this the 'regex' that you would use?</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692768979,"creation_date":1692768979,"answer_id":76958523,"question_id":76956309,"body_markdown":"I&#39;m answering this question to show why it&#39;s recommended to **always** use the latest version of Apache POI. \r\n\r\n**Short answer**\r\n\r\nThis was a bug in Apache POI version 3.17 while setting the dimension field of a `XSSFSheet`. It was fixed in Version 4.0.0. But Apache POI will not fix bugs in prevoius version&#39;s code. Versions before 3.17 didn&#39;t have that bug because they didn&#39;t set the dimension field of a `XSSFSheet` at all.\r\n\r\nSo my recommendation is: **Always** use latest Apache POI version (5.2.3 for now).\r\n\r\n**Problem**\r\n\r\nIn result `*.xlsx` file the `/xl/worksheets/sheet1.xml` has the wrong dimension set. It sets the dimension one column too big.\r\n\r\nExample:\r\n\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    \r\n    class CreateXSSF {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      try (XSSFWorkbook workbook = new XSSFWorkbook(); \r\n           FileOutputStream fileout = new FileOutputStream(&quot;./Excel.xlsx&quot;) ) {\r\n    \r\n       XSSFSheet sheet = (XSSFSheet) workbook.createSheet(&quot;Data&quot;);\r\n       XSSFRow row = sheet.createRow(0);\r\n    \r\n       XSSFCell cell = row.createCell(0);\r\n       cell.setCellValue(&quot;TEST1&quot;);\r\n       XSSFCell cell1 = row.createCell(1);\r\n       cell1.setCellValue(&quot;TEST2&quot;);\r\n       \r\n       workbook.write(fileout);   \r\n      }\r\n     }\r\n    }\r\n\r\nUsing Apache POI 3.17:\r\n\r\n    &lt;dimension ref=&quot;A1:C1&quot;/&gt;\r\n\r\nOne column too big.\r\n\r\nUsing current Apache POI 5.2.3:\r\n\r\n    &lt;dimension ref=&quot;A1:B1&quot;/&gt;\r\n\r\n**Reason**\r\n\r\nCode of Apache POI 3.17 [XSSFSheet.java](https://svn.apache.org/viewvc/poi/tags/REL_3_17_FINAL/src/ooxml/java/org/apache/poi/xssf/usermodel/XSSFSheet.java?view=markup#l3501) sets `maxCell = Math.max(maxCell, row.getLastCellNum())` and then uses that `maxCell` to set the dimension reference. But `Row.getLastCellNum` will get the index of the last cell contained in this row **PLUS ONE**.\r\n\r\nCode of Apache POI 4.0.0 [XSSFSheet.java](https://svn.apache.org/viewvc/poi/tags/REL_4_0_0_FINAL/src/ooxml/java/org/apache/poi/xssf/usermodel/XSSFSheet.java?view=markup#l3624) corrects this and do `maxCell = Math.max(maxCell, row.getLastCellNum()-1)`.\r\n\r\n**Is there a workaround for Apache POI 3.17?**\r\n\r\nNot really. `XSSFSheet` method `protected void write(OutputStream out)` gets called while `XSSFWorkbook.write`.   So even if one would set the correct dimension in `XSSFSheet` XML before write, that would overwritten when writing.\r\n\r\nOne could change the source code of `XSSFSheet.java` in Apache POI 3.17 and then using a new compiled version of that. But why? Why not using current version which has that bug fixed? \r\n\r\n\r\n\r\n\r\n\r\n","title":"Apache poi-3.17 creating an extra null column in Excel sheet","body":"<p>I'm answering this question to show why it's recommended to <strong>always</strong> use the latest version of Apache POI.</p>\n<p><strong>Short answer</strong></p>\n<p>This was a bug in Apache POI version 3.17 while setting the dimension field of a <code>XSSFSheet</code>. It was fixed in Version 4.0.0. But Apache POI will not fix bugs in prevoius version's code. Versions before 3.17 didn't have that bug because they didn't set the dimension field of a <code>XSSFSheet</code> at all.</p>\n<p>So my recommendation is: <strong>Always</strong> use latest Apache POI version (5.2.3 for now).</p>\n<p><strong>Problem</strong></p>\n<p>In result <code>*.xlsx</code> file the <code>/xl/worksheets/sheet1.xml</code> has the wrong dimension set. It sets the dimension one column too big.</p>\n<p>Example:</p>\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.xssf.usermodel.*;\n\nclass CreateXSSF {\n\n public static void main(String[] args) throws Exception {\n\n  try (XSSFWorkbook workbook = new XSSFWorkbook(); \n       FileOutputStream fileout = new FileOutputStream(&quot;./Excel.xlsx&quot;) ) {\n\n   XSSFSheet sheet = (XSSFSheet) workbook.createSheet(&quot;Data&quot;);\n   XSSFRow row = sheet.createRow(0);\n\n   XSSFCell cell = row.createCell(0);\n   cell.setCellValue(&quot;TEST1&quot;);\n   XSSFCell cell1 = row.createCell(1);\n   cell1.setCellValue(&quot;TEST2&quot;);\n   \n   workbook.write(fileout);   \n  }\n }\n}\n</code></pre>\n<p>Using Apache POI 3.17:</p>\n<pre><code>&lt;dimension ref=&quot;A1:C1&quot;/&gt;\n</code></pre>\n<p>One column too big.</p>\n<p>Using current Apache POI 5.2.3:</p>\n<pre><code>&lt;dimension ref=&quot;A1:B1&quot;/&gt;\n</code></pre>\n<p><strong>Reason</strong></p>\n<p>Code of Apache POI 3.17 <a href=\"https://svn.apache.org/viewvc/poi/tags/REL_3_17_FINAL/src/ooxml/java/org/apache/poi/xssf/usermodel/XSSFSheet.java?view=markup#l3501\" rel=\"nofollow noreferrer\">XSSFSheet.java</a> sets <code>maxCell = Math.max(maxCell, row.getLastCellNum())</code> and then uses that <code>maxCell</code> to set the dimension reference. But <code>Row.getLastCellNum</code> will get the index of the last cell contained in this row <strong>PLUS ONE</strong>.</p>\n<p>Code of Apache POI 4.0.0 <a href=\"https://svn.apache.org/viewvc/poi/tags/REL_4_0_0_FINAL/src/ooxml/java/org/apache/poi/xssf/usermodel/XSSFSheet.java?view=markup#l3624\" rel=\"nofollow noreferrer\">XSSFSheet.java</a> corrects this and do <code>maxCell = Math.max(maxCell, row.getLastCellNum()-1)</code>.</p>\n<p><strong>Is there a workaround for Apache POI 3.17?</strong></p>\n<p>Not really. <code>XSSFSheet</code> method <code>protected void write(OutputStream out)</code> gets called while <code>XSSFWorkbook.write</code>.   So even if one would set the correct dimension in <code>XSSFSheet</code> XML before write, that would overwritten when writing.</p>\n<p>One could change the source code of <code>XSSFSheet.java</code> in Apache POI 3.17 and then using a new compiled version of that. But why? Why not using current version which has that bug fixed?</p>\n"}],"owner":{"account_id":29277891,"reputation":1,"user_id":22431215,"display_name":"Shavi Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692779944,"creation_date":1692732158,"question_id":76956309,"body_markdown":"I am creating an excel sheet using Apache poi-3.17. When the excel sheet is opened, it looks okay, but the same when opened in MS Access, a new blank column gets added in the end. This behavior is only observed with poi-3.17 version and not in any other versions(have tried with 3.11, 3.7, 5.18,4.*). Can somebody please help me with this?\r\n\r\nThe code that I am using is as below.\r\n\r\n\r\n\tpublic static String createExcel(String test) {\r\n\t\tString encodedBase64 = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;Start of method : Test : &quot; + test);\r\n\t\t\tDocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\r\n\t\t\tDocumentBuilder docBuilder;\r\n\r\n\t\t\tdocBuilder = docBuilderFactory.newDocumentBuilder();\r\n\t\t\tXSSFWorkbook workbook = new XSSFWorkbook();\r\n\t\t\tXSSFSheet sheet = (XSSFSheet) workbook.createSheet(&quot;Data&quot;);\r\n\t\t\tXSSFRow row = sheet.createRow(0);\r\n\r\n\t\t\tXSSFCell cell = row.createCell(0);\r\n\t\t\tcell.setCellValue(&quot;TEST1&quot;);\r\n\t\t\tXSSFCell cell1 = row.createCell(1);\r\n\t\t\tcell1.setCellValue(&quot;TEST2&quot;);\r\n\t\t\tworkbook.write(baos);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tbyte[] bytes = baos.toByteArray();\r\n\t\t\t\tFile file = new File(&quot;C:\\\\Files\\\\test.xlsx&quot;);\r\n\r\n\t\t\t\tOutputStream out = new FileOutputStream(file);\r\n\t\t\t\tout.write(baos.toByteArray());\r\n\t\t\t\tout.close();\r\n           workbook.close();\r\n\t\t\t\tencodedBase64 = Base64.getEncoder().encodeToString(bytes).trim();\r\n\t\t\t\tSystem.out.println(&quot;encodedBase64 :&quot; + encodedBase64);\r\n               \r\n\t\t\t} catch (Exception e) {\r\n\r\n\t\t\t\tSystem.out.println(&quot;Message :&quot; + e.getMessage());\r\n\t\t\t}&lt;kbd&gt;your text&lt;/kbd&gt;\r\n\r\n\t\t} \r\n\t\treturn encodedBase64;\r\n\t}\r\n\r\n\t\r\n\r\n\r\n\r\n\r\n\r\n I also tried using row.removeCell(getCell(2)) just to see if it fetches any extra column but it gives nullPointerException.","title":"Apache poi-3.17 creating an extra null column in Excel sheet","body":"<p>I am creating an excel sheet using Apache poi-3.17. When the excel sheet is opened, it looks okay, but the same when opened in MS Access, a new blank column gets added in the end. This behavior is only observed with poi-3.17 version and not in any other versions(have tried with 3.11, 3.7, 5.18,4.*). Can somebody please help me with this?</p>\n<p>The code that I am using is as below.</p>\n<pre><code>public static String createExcel(String test) {\n    String encodedBase64 = &quot;&quot;;\n    try {\n        System.out.println(&quot;Start of method : Test : &quot; + test);\n        DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder docBuilder;\n\n        docBuilder = docBuilderFactory.newDocumentBuilder();\n        XSSFWorkbook workbook = new XSSFWorkbook();\n        XSSFSheet sheet = (XSSFSheet) workbook.createSheet(&quot;Data&quot;);\n        XSSFRow row = sheet.createRow(0);\n\n        XSSFCell cell = row.createCell(0);\n        cell.setCellValue(&quot;TEST1&quot;);\n        XSSFCell cell1 = row.createCell(1);\n        cell1.setCellValue(&quot;TEST2&quot;);\n        workbook.write(baos);\n\n        try {\n            byte[] bytes = baos.toByteArray();\n            File file = new File(&quot;C:\\\\Files\\\\test.xlsx&quot;);\n\n            OutputStream out = new FileOutputStream(file);\n            out.write(baos.toByteArray());\n            out.close();\n       workbook.close();\n            encodedBase64 = Base64.getEncoder().encodeToString(bytes).trim();\n            System.out.println(&quot;encodedBase64 :&quot; + encodedBase64);\n           \n        } catch (Exception e) {\n\n            System.out.println(&quot;Message :&quot; + e.getMessage());\n        }&lt;kbd&gt;your text&lt;/kbd&gt;\n\n    } \n    return encodedBase64;\n}\n</code></pre>\n<p>I also tried using row.removeCell(getCell(2)) just to see if it fetches any extra column but it gives nullPointerException.</p>\n"},{"tags":["java","postgresql","spring-boot","insomnia"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692723125,"post_id":76955273,"comment_id":135662198,"body_markdown":"Please, put your *request* in the question.","body":"Please, put your <i>request</i> in the question."},{"owner":{"account_id":29205640,"reputation":21,"user_id":22374788,"display_name":"GreatTeacherNullPointer"},"score":0,"creation_date":1692779329,"post_id":76955273,"comment_id":135669385,"body_markdown":"I&#39;m sorry, I edited the question, thank you for your time!","body":"I&#39;m sorry, I edited the question, thank you for your time!"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692790963,"post_id":76955273,"comment_id":135671665,"body_markdown":"Are you sure that your application is running on port `8080`?","body":"Are you sure that your application is running on port <code>8080</code>?"},{"owner":{"account_id":29205640,"reputation":21,"user_id":22374788,"display_name":"GreatTeacherNullPointer"},"score":1,"creation_date":1692798305,"post_id":76955273,"comment_id":135673260,"body_markdown":"@DiegoBorba yes","body":"@DiegoBorba yes"}],"owner":{"account_id":29205640,"reputation":21,"user_id":22374788,"display_name":"GreatTeacherNullPointer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692779303,"creation_date":1692722180,"question_id":76955273,"body_markdown":"Hi I&#39;m learning SpringBoot and I&#39;m trying to make a simple Microservice using Postgresql and SpringBoot, when I make a request (`GET` in this case) from Insomnia I get this response body:\r\n\r\n```json\r\n{\r\n  &quot;timestamp&quot;: &quot;2023-08-22T16:25:43.756+00:00&quot;,\r\n  &quot;status&quot;: 404,\r\n  &quot;error&quot;: &quot;Not Found&quot;,\r\n  &quot;message&quot;: &quot;No message available&quot;,\r\n  &quot;path&quot;: &quot;/postgres/all&quot;\r\n}\r\n```\r\n\r\nThis is my method:\r\n\r\n```java\r\n@Override\r\npublic List&lt;Person&gt; selectAll() {\r\n    String query = &quot;SELECT * FROM PERSON&quot;;\r\n    return jdbcTemplate.query(query, new BeanPropertyRowMapper&lt;&gt;(Person.class));\r\n}\r\n```\r\n\r\nThis is my controller:\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/postgres&quot;)\r\npublic class PersonController {\r\n\r\n    private AppService appService;\r\n\r\n\r\n    @GetMapping(value = (&quot;/all&quot;), produces = {MediaType.APPLICATION_JSON_VALUE})\r\n    public ResponseEntity&lt;List&lt;Person&gt;&gt; selectAll() {\r\n        return new ResponseEntity&lt;&gt;(appService.selectAll(), HttpStatus.OK);\r\n    }\r\n\r\n    @PostMapping(value = (&quot;/ins&quot;), produces = {MediaType.APPLICATION_JSON_VALUE})\r\n    public ResponseEntity&lt;Person&gt; insert(@RequestBody Person person) throws ClassNotFoundException {\r\n        return new ResponseEntity&lt;&gt;(appService.insert(person), HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nThis is my connection:\r\n\r\n```java\r\n@Configuration\r\npublic class Connect {\r\n    @Value(&quot;postgres&quot;)\r\n    String username;\r\n\r\n    @Value(&quot;postgres&quot;)\r\n    String password;\r\n\r\n    @Value(&quot;jdbc:postgresql://localhost:5432/postgres&quot;)\r\n    String url;\r\n\r\n    public DataSource postgresConfig() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setUsername(username);\r\n        dataSource.setPassword(password);\r\n        dataSource.setUrl(url);\r\n\r\n        return dataSource;\r\n    }\r\n}\r\n```\r\n\r\nEDIT\r\nThis is my request using insomnia\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bnrJZ.png","title":"Error 404 not found using Insomnia and SpringBoot","body":"<p>Hi I'm learning SpringBoot and I'm trying to make a simple Microservice using Postgresql and SpringBoot, when I make a request (<code>GET</code> in this case) from Insomnia I get this response body:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;timestamp&quot;: &quot;2023-08-22T16:25:43.756+00:00&quot;,\n  &quot;status&quot;: 404,\n  &quot;error&quot;: &quot;Not Found&quot;,\n  &quot;message&quot;: &quot;No message available&quot;,\n  &quot;path&quot;: &quot;/postgres/all&quot;\n}\n</code></pre>\n<p>This is my method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic List&lt;Person&gt; selectAll() {\n    String query = &quot;SELECT * FROM PERSON&quot;;\n    return jdbcTemplate.query(query, new BeanPropertyRowMapper&lt;&gt;(Person.class));\n}\n</code></pre>\n<p>This is my controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/postgres&quot;)\npublic class PersonController {\n\n    private AppService appService;\n\n\n    @GetMapping(value = (&quot;/all&quot;), produces = {MediaType.APPLICATION_JSON_VALUE})\n    public ResponseEntity&lt;List&lt;Person&gt;&gt; selectAll() {\n        return new ResponseEntity&lt;&gt;(appService.selectAll(), HttpStatus.OK);\n    }\n\n    @PostMapping(value = (&quot;/ins&quot;), produces = {MediaType.APPLICATION_JSON_VALUE})\n    public ResponseEntity&lt;Person&gt; insert(@RequestBody Person person) throws ClassNotFoundException {\n        return new ResponseEntity&lt;&gt;(appService.insert(person), HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>This is my connection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Connect {\n    @Value(&quot;postgres&quot;)\n    String username;\n\n    @Value(&quot;postgres&quot;)\n    String password;\n\n    @Value(&quot;jdbc:postgresql://localhost:5432/postgres&quot;)\n    String url;\n\n    public DataSource postgresConfig() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setUsername(username);\n        dataSource.setPassword(password);\n        dataSource.setUrl(url);\n\n        return dataSource;\n    }\n}\n</code></pre>\n<p>EDIT\nThis is my request using insomnia</p>\n<p><a href=\"https://i.stack.imgur.com/bnrJZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bnrJZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":2924385,"reputation":11793,"user_id":2506025,"accept_rate":60,"display_name":"Prokash Sarkar"},"score":0,"creation_date":1692778045,"post_id":76959395,"comment_id":135669164,"body_markdown":"Can you post the logcat log? Have you declared the activity in the manifest file?","body":"Can you post the logcat log? Have you declared the activity in the manifest file?"},{"owner":{"account_id":4787734,"reputation":2768,"user_id":3867722,"accept_rate":71,"display_name":"hopeman"},"score":0,"creation_date":1692778158,"post_id":76959395,"comment_id":135669180,"body_markdown":"What does the log say? Usually, this happens when the new activity isn&#39;t defined in your manifest. Can you upload your manifest as well?","body":"What does the log say? Usually, this happens when the new activity isn&#39;t defined in your manifest. Can you upload your manifest as well?"},{"owner":{"account_id":5696321,"reputation":165,"user_id":4502721,"accept_rate":33,"display_name":"Amrita Deb"},"score":0,"creation_date":1692778566,"post_id":76959395,"comment_id":135669246,"body_markdown":"I think it is because in the first activity I am extending the class ComponentActivity and in the latter I am using AppCompatActivity. Can anyone explain why? Sofar I know AppCompatActivity is a descendant of ComponentActivity right?","body":"I think it is because in the first activity I am extending the class ComponentActivity and in the latter I am using AppCompatActivity. Can anyone explain why? Sofar I know AppCompatActivity is a descendant of ComponentActivity right?"},{"owner":{"account_id":7758137,"reputation":1831,"user_id":6059583,"accept_rate":62,"display_name":"Jeeva"},"score":0,"creation_date":1692785659,"post_id":76959395,"comment_id":135670615,"body_markdown":"@AmritaDeb https://stackoverflow.com/q/21814825/6059583 you can follow this link","body":"@AmritaDeb <a href=\"https://stackoverflow.com/q/21814825/6059583\">stackoverflow.com/q/21814825/6059583</a> you can follow this link"}],"answers":[{"tags":[],"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692779232,"creation_date":1692779232,"answer_id":76959601,"question_id":76959395,"body_markdown":"The error message you&#39;re encountering indicates that the theme you&#39;ve set for your `KickTrend` activity is not compatible with the AppCompat theme requirements. The `AppCompatActivity` class (which KickTrend extends) requires that the theme used in the activity is a descendant of `Theme.AppCompat`. I suppose you can do following things to fix the issue:\r\n1. Extend your MainActivity from `AppCompatActivity`, not the `ComponentActivity`\r\n2. Make sure that your `Theme.TrackMyBaby` is extended from AppCompat theme, not the regular one. You cannot use non-appcompat themes for `AppCompatActivity`. Like this\r\n\r\n    &lt;!-- res/values/styles.xml --&gt;\r\n        &lt;resources&gt;\r\n        &lt;style name=&quot;Theme.TrackMyBaby&quot; parent=&quot;Theme.AppCompat.Light&quot;&gt;\r\n            &lt;!-- ... theme attributes ... --&gt;\r\n        &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n3. Just in case you can define a theme in `AndroidManifest.xml` for your `KickTrend` activity. \r\n\r\n        &lt;!-- AndroidManifest.xml --&gt;\r\n        &lt;activity\r\n            android:name=&quot;.KickTrend&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.Light&quot;&gt;\r\n        &lt;/activity&gt;","title":"Kotlin Android app crashes when moving to new activity","body":"<p>The error message you're encountering indicates that the theme you've set for your <code>KickTrend</code> activity is not compatible with the AppCompat theme requirements. The <code>AppCompatActivity</code> class (which KickTrend extends) requires that the theme used in the activity is a descendant of <code>Theme.AppCompat</code>. I suppose you can do following things to fix the issue:</p>\n<ol>\n<li><p>Extend your MainActivity from <code>AppCompatActivity</code>, not the <code>ComponentActivity</code></p>\n</li>\n<li><p>Make sure that your <code>Theme.TrackMyBaby</code> is extended from AppCompat theme, not the regular one. You cannot use non-appcompat themes for <code>AppCompatActivity</code>. Like this</p>\n \n<pre><code> &lt;resources&gt;\n &lt;style name=&quot;Theme.TrackMyBaby&quot; parent=&quot;Theme.AppCompat.Light&quot;&gt;\n     &lt;!-- ... theme attributes ... --&gt;\n &lt;/style&gt;\n</code></pre>\n \n</li>\n<li><p>Just in case you can define a theme in <code>AndroidManifest.xml</code> for your <code>KickTrend</code> activity.</p>\n<pre><code> &lt;!-- AndroidManifest.xml --&gt;\n &lt;activity\n     android:name=&quot;.KickTrend&quot;\n     android:theme=&quot;@style/Theme.AppCompat.Light&quot;&gt;\n &lt;/activity&gt;\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":5696321,"reputation":165,"user_id":4502721,"accept_rate":33,"display_name":"Amrita Deb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76959601,"answer_count":1,"score":0,"last_activity_date":1692779232,"creation_date":1692777370,"question_id":76959395,"body_markdown":"This should be simple but I am not sure what I am doing wrong. \r\nI want my code to go from one activity to another when a button is clicked.\r\n\r\nThe current activity is called MainActivity and the activity it redirects to is called &#39;KickTrend&#39;\r\n\r\n\r\n    class MainActivity : ComponentActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n            val trend_btn : Button = findViewById(R.id.viewTrend)\r\n            trend_btn.setOnClickListener {\r\n                val intent = Intent(this,KickTrend::class.java)\r\n                Toast.makeText(this, &quot;moving to new Activity&quot;, Toast.LENGTH_SHORT).show()\r\n                startActivity(intent)\r\n            }\r\n        }\r\n    }\r\n\r\nThe toast is showing up but the then the app crashes at `startActivity(intent)` line\r\nThe Kick Trend activity kotlin file looks like this:\r\n\r\n    class KickTrend : AppCompatActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_kick_trend)\r\n        }\r\n    }\r\n\r\n\r\nCan anyone tell me what i am doing wrong. I am coming back to Android development after almost 6-7 years and alot has changed so maybe I am missing some syntax or library..I dunno.\r\n\r\nThe Manifest looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.TrackMyBaby&quot;\r\n            tools:targetApi=&quot;31&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:theme=&quot;@style/Theme.TrackMyBaby&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.KickTrend&quot;&gt;&lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nThe log cat is as follows:\r\n\r\n&gt; FATAL EXCEPTION: main\r\n&gt;                                                                                                     Process: com.example.trackmybaby, PID: 19231\r\n&gt;                                                                                                     java.lang.RuntimeException: Unable to start activity\r\n&gt; ComponentInfo{com.example.trackmybaby/com.example.trackmybaby.KickTrend}:\r\n&gt; java.lang.IllegalStateException: You need to use a Theme.AppCompat\r\n&gt; theme (or descendant) with this activity.\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4111)\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4277)\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\r\n&gt;                                                                                                     \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n&gt;                                                                                                     \tat android.os.Looper.loopOnce(Looper.java:226)\r\n&gt;                                                                                                     \tat android.os.Looper.loop(Looper.java:313)\r\n&gt;                                                                                                     \tat android.app.ActivityThread.main(ActivityThread.java:8751)\r\n&gt;                                                                                                     \tat java.lang.reflect.Method.invoke(Native Method)\r\n&gt;                                                                                                     \tat\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n&gt;                                                                                                     \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n&gt;                                                                                                     Caused by: java.lang.IllegalStateException: You need to use a\r\n&gt; Theme.AppCompat theme (or descendant) with this activity.\r\n&gt;                                                                                                     \tat\r\n&gt; androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:926)\r\n&gt;                                                                                                     \tat\r\n&gt; androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:889)\r\n&gt;                                                                                                     \tat\r\n&gt; androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:772)\r\n&gt;                                                                                                     \tat\r\n&gt; androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:197)\r\n&gt;                                                                                                     \tat com.example.trackmybaby.KickTrend.onCreate(KickTrend.kt:9)\r\n&gt;                                                                                                     \tat android.app.Activity.performCreate(Activity.java:8290)\r\n&gt;                                                                                                     \tat android.app.Activity.performCreate(Activity.java:8270)\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4085)\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4277)&#160;\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)&#160;\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)&#160;\r\n&gt;                                                                                                     \tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n&gt;                                                                                                     \tat android.os.Looper.loopOnce(Looper.java:226)&#160;\r\n&gt;                                                                                                     \tat android.os.Looper.loop(Looper.java:313)&#160;\r\n&gt;                                                                                                     \tat android.app.ActivityThread.main(ActivityThread.java:8751)&#160;\r\n&gt;                                                                                                     \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n&gt;                                                                                                     \tat\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)&#160;\r\n&gt;                                                                                                     \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)","title":"Kotlin Android app crashes when moving to new activity","body":"<p>This should be simple but I am not sure what I am doing wrong.\nI want my code to go from one activity to another when a button is clicked.</p>\n<p>The current activity is called MainActivity and the activity it redirects to is called 'KickTrend'</p>\n<pre><code>class MainActivity : ComponentActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val trend_btn : Button = findViewById(R.id.viewTrend)\n        trend_btn.setOnClickListener {\n            val intent = Intent(this,KickTrend::class.java)\n            Toast.makeText(this, &quot;moving to new Activity&quot;, Toast.LENGTH_SHORT).show()\n            startActivity(intent)\n        }\n    }\n}\n</code></pre>\n<p>The toast is showing up but the then the app crashes at <code>startActivity(intent)</code> line\nThe Kick Trend activity kotlin file looks like this:</p>\n<pre><code>class KickTrend : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_kick_trend)\n    }\n}\n</code></pre>\n<p>Can anyone tell me what i am doing wrong. I am coming back to Android development after almost 6-7 years and alot has changed so maybe I am missing some syntax or library..I dunno.</p>\n<p>The Manifest looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.TrackMyBaby&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Theme.TrackMyBaby&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;.KickTrend&quot;&gt;&lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>The log cat is as follows:</p>\n<blockquote>\n<p>FATAL EXCEPTION: main\nProcess: com.example.trackmybaby, PID: 19231\njava.lang.RuntimeException: Unable to start activity\nComponentInfo{com.example.trackmybaby/com.example.trackmybaby.KickTrend}:\njava.lang.IllegalStateException: You need to use a Theme.AppCompat\ntheme (or descendant) with this activity.\nat\nandroid.app.ActivityThread.performLaunchActivity(ActivityThread.java:4111)\nat\nandroid.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4277)\nat\nandroid.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\nat\nandroid.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat\nandroid.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat\nandroid.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:226)\nat android.os.Looper.loop(Looper.java:313)\nat android.app.ActivityThread.main(ActivityThread.java:8751)\nat java.lang.reflect.Method.invoke(Native Method)\nat\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\nCaused by: java.lang.IllegalStateException: You need to use a\nTheme.AppCompat theme (or descendant) with this activity.\nat\nandroidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:926)\nat\nandroidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:889)\nat\nandroidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:772)\nat\nandroidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:197)\nat com.example.trackmybaby.KickTrend.onCreate(KickTrend.kt:9)\nat android.app.Activity.performCreate(Activity.java:8290)\nat android.app.Activity.performCreate(Activity.java:8270)\nat\nandroid.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\nat\nandroid.app.ActivityThread.performLaunchActivity(ActivityThread.java:4085)\nat\nandroid.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4277) \nat\nandroid.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103) \nat\nandroid.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \nat\nandroid.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \nat\nandroid.app.ActivityThread$H.handleMessage(ActivityThread.java:2443) \nat android.os.Handler.dispatchMessage(Handler.java:106) \nat android.os.Looper.loopOnce(Looper.java:226) \nat android.os.Looper.loop(Looper.java:313) \nat android.app.ActivityThread.main(ActivityThread.java:8751) \nat java.lang.reflect.Method.invoke(Native Method) \nat\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)</p>\n</blockquote>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9762,"page":230,"page_size":100}
