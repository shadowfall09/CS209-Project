{"items":[{"tags":["java","android","listview","pdf","android-external-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667804508,"post_id":74341373,"comment_id":131245921,"body_markdown":"`but pdf file is not loaded in android 11, 12 with my code. ` Wrong problem description. Your pdf file is just not listed by .listFiles(). Why did you post so much irrelevant code?","body":"<code>but pdf file is not loaded in android 11, 12 with my code. </code> Wrong problem description. Your pdf file is just not listed by .listFiles(). Why did you post so much irrelevant code?"},{"owner":{"account_id":26507559,"reputation":69,"user_id":20143472,"display_name":"jackie Maik"},"score":0,"creation_date":1667806478,"post_id":74341373,"comment_id":131246417,"body_markdown":"can you help me how to solve this issue?","body":"can you help me how to solve this issue?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667809260,"post_id":74341373,"comment_id":131247221,"body_markdown":"Not if you do not agree with a wrong problem description. And not if you dont post the relevant code and not if you do not remove all irrelevant code. Your problem is just .listFiles() on File class.","body":"Not if you do not agree with a wrong problem description. And not if you dont post the relevant code and not if you do not remove all irrelevant code. Your problem is just .listFiles() on File class."}],"owner":{"account_id":26507559,"reputation":69,"user_id":20143472,"display_name":"jackie Maik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667874160,"creation_date":1667788155,"question_id":74341373,"body_markdown":"I created app to load pdf file to listview from external storage. my app seems to work successfully in android 5.6. However in android 11,12 my app don&#39;t show any pdf file to list view. after searching in internet similar issues. I don&#39;t find solution for it.\r\n\r\nin my main activity.java, I coded below: \r\n`\r\n```\r\npublic ArrayList&lt;File&gt; findPdf (File file){\r\n    ArrayList&lt;File&gt; arrayList = new ArrayList&lt;&gt;();\r\n    File[] files = file.listFiles();\r\n\r\n    if (files != null){\r\n\r\n        for (File singleFile: files){\r\n\r\n            try {\r\n                if (singleFile.isDirectory() &amp;&amp; !singleFile.isHidden()){\r\n                    arrayList.addAll(findPdf(singleFile));\r\n                }\r\n                else {\r\n                    if (singleFile.getName().endsWith(&quot;.pdf&quot;)){\r\n                        arrayList.add(singleFile);\r\n                    }\r\n                }\r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n        }\r\n        return arrayList;\r\n\r\n    }\r\n    return arrayList;\r\n\r\n\r\n\r\n}\r\n\r\npublic void displayPdf(){\r\n    recyclerView = findViewById(R.id.rv);\r\n    recyclerView.setHasFixedSize(true);\r\n    recyclerView.setLayoutManager(new GridLayoutManager(this,3));\r\n    pdfList = new ArrayList&lt;&gt;();\r\n    pdfList.addAll(findPdf(Environment.getExternalStorageDirectory()));\r\n    adapter = new MainAdapter(this,pdfList,this);\r\n    recyclerView.setAdapter(adapter);\r\n\r\n}\r\n\r\n@Override\r\npublic void onPdfSelected(File file) {\r\n\r\n\r\n    Intent intent = new Intent(MainActivity.this,PDFwatch.class);\r\n\r\n    intent.putExtra(&quot;path&quot;,file.getAbsoluteFile());\r\n\r\n    startActivity(intent);\r\n\r\n}\r\n```\r\nin Manifest.xml file, I added permission below:\r\n`\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n```\r\nand add below code in tab &lt;application as well.`\r\n`\r\n```\r\nandroid:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\nandroid:requestLegacyExternalStorage=&quot;true&quot;\r\n```\r\n`\r\nPlease help me how to overcome this obstacle. thanks and best wish\r\n`\r\n\r\nmy app loaded successfully pdf file in listview in android 5, 6 but my app fail to show pdf file in listview in android version 11.12.. I don&#39;t know how to fix this problem.","title":"unable to view pdf file in listview from external storage with android 11.12","body":"<p>I created app to load pdf file to listview from external storage. my app seems to work successfully in android 5.6. However in android 11,12 my app don't show any pdf file to list view. after searching in internet similar issues. I don't find solution for it.</p>\n<p>in my main activity.java, I coded below:\n`</p>\n<pre><code>public ArrayList&lt;File&gt; findPdf (File file){\n    ArrayList&lt;File&gt; arrayList = new ArrayList&lt;&gt;();\n    File[] files = file.listFiles();\n\n    if (files != null){\n\n        for (File singleFile: files){\n\n            try {\n                if (singleFile.isDirectory() &amp;&amp; !singleFile.isHidden()){\n                    arrayList.addAll(findPdf(singleFile));\n                }\n                else {\n                    if (singleFile.getName().endsWith(&quot;.pdf&quot;)){\n                        arrayList.add(singleFile);\n                    }\n                }\n            }catch (Exception e){\n                e.printStackTrace();\n            }\n\n\n        }\n        return arrayList;\n\n    }\n    return arrayList;\n\n\n\n}\n\npublic void displayPdf(){\n    recyclerView = findViewById(R.id.rv);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(new GridLayoutManager(this,3));\n    pdfList = new ArrayList&lt;&gt;();\n    pdfList.addAll(findPdf(Environment.getExternalStorageDirectory()));\n    adapter = new MainAdapter(this,pdfList,this);\n    recyclerView.setAdapter(adapter);\n\n}\n\n@Override\npublic void onPdfSelected(File file) {\n\n\n    Intent intent = new Intent(MainActivity.this,PDFwatch.class);\n\n    intent.putExtra(&quot;path&quot;,file.getAbsoluteFile());\n\n    startActivity(intent);\n\n}\n</code></pre>\n<p>in Manifest.xml file, I added permission below:\n`</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n\n</code></pre>\n<p>and add below code in tab &lt;application as well.<code> </code></p>\n<pre><code>android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\nandroid:requestLegacyExternalStorage=&quot;true&quot;\n</code></pre>\n<p><code>Please help me how to overcome this obstacle. thanks and best wish</code></p>\n<p>my app loaded successfully pdf file in listview in android 5, 6 but my app fail to show pdf file in listview in android version 11.12.. I don't know how to fix this problem.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667731716,"post_id":74334980,"comment_id":131232282,"body_markdown":"What line exactly is the crash?","body":"What line exactly is the crash?"},{"owner":{"account_id":15770601,"reputation":45,"user_id":11379774,"display_name":"Pasha Grobov"},"score":0,"creation_date":1667731890,"post_id":74334980,"comment_id":131232322,"body_markdown":"line 32 - if (Double.parseDouble(result.getText().toString()) == 0.0), if I comment it there aren&#39;t any crashes, but then I just get numbers on the screen and can&#39;t perform the calculations. @LawrenceGimenez","body":"line 32 - if (Double.parseDouble(result.getText().toString()) == 0.0), if I comment it there aren&#39;t any crashes, but then I just get numbers on the screen and can&#39;t perform the calculations. @LawrenceGimenez"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667732537,"post_id":74334980,"comment_id":131232442,"body_markdown":"The crash is NumberFormatException?","body":"The crash is NumberFormatException?"},{"owner":{"account_id":15770601,"reputation":45,"user_id":11379774,"display_name":"Pasha Grobov"},"score":0,"creation_date":1667732915,"post_id":74334980,"comment_id":131232516,"body_markdown":"@LawrenceGimenez yes, NumberFormatException : empty string","body":"@LawrenceGimenez yes, NumberFormatException : empty string"},{"owner":{"account_id":15770601,"reputation":45,"user_id":11379774,"display_name":"Pasha Grobov"},"score":0,"creation_date":1667734052,"post_id":74334980,"comment_id":131232748,"body_markdown":"@LawrenceGimenez still crashes with the  NumberFormatException : empty string . :/","body":"@LawrenceGimenez still crashes with the  NumberFormatException : empty string . :/"}],"answers":[{"tags":[],"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667873302,"creation_date":1667733062,"answer_id":74335314,"question_id":74334980,"body_markdown":"Try trimming your result and checking for null and empty first before parsing\r\n\r\n```\r\nString result = result.getText().toString()).trim();\r\nif (result != null &amp;&amp; result.length() &gt; 0) {\r\n   if (Double.parseDouble(result) == 0.0)\r\n      result.setText(str);\r\n   else\r\n      result.append(str);\r\n}\r\n\r\n```","title":"Android calculator getting crashes","body":"<p>Try trimming your result and checking for null and empty first before parsing</p>\n<pre><code>String result = result.getText().toString()).trim();\nif (result != null &amp;&amp; result.length() &gt; 0) {\n   if (Double.parseDouble(result) == 0.0)\n      result.setText(str);\n   else\n      result.append(str);\n}\n\n</code></pre>\n"}],"owner":{"account_id":15770601,"reputation":45,"user_id":11379774,"display_name":"Pasha Grobov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74335314,"answer_count":1,"score":0,"last_activity_date":1667873302,"creation_date":1667730426,"question_id":74334980,"body_markdown":"I&#39;m making a simple android calculator that has to support +,-,*,/ .\r\n\r\nWhen I try to press any button - the app crashes. After some investigations, I found out that the problem is in the inner if statement :\r\n\r\n```    \r\npublic void buttonFunctionNumber(View view) {\r\n        if (view instanceof Button){\r\n            Button button = (Button) view;\r\n            String str = button.getText().toString();\r\n            \r\n            if (Double.parseDouble(result.getText().toString()) == 0)\r\n                result.setText(str);\r\n            else\r\n                result.append(str);\r\n        }\r\n    }\r\n```\r\n\r\nThe ```if```: after the user pressed the desired number, and right before he prasses the second - the calculator&#39;s screen will show a 0. So in this ```if``` I want to check whether the result is 0 (the ```result``` is what the calculator&#39;s screen shows) to know that the user want to continue to the next number.\r\n\r\nthe ```else```: the user wants to continue adding more digits to the number for the calculations so we append the next digit.\r\n\r\nI would like to know how can I solve this problem. \r\n\r\nThanks for your time :)\r\n\r\n\r\nThe whole code:\r\n\r\n```\r\npackage com.example.myfirstproj;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    TextView result;\r\n    double num1=0.0, num2=0.0;\r\n    String sign = &quot;&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        result = findViewById(R.id.textViewResult);\r\n    }\r\n\r\n\r\n    public void buttonFunctionNumber(View view) {\r\n        if (view instanceof Button){\r\n            Button button = (Button) view;\r\n            String str = button.getText().toString();\r\n\r\n            if (Double.parseDouble(result.getText().toString()) == 0.0)\r\n                result.setText(str);\r\n            else\r\n                result.append(str);\r\n        }\r\n    }\r\n\r\n    public void buttonEqualFunction(View view) {\r\n        if (view instanceof Button) {\r\n            String temp2 = result.getText().toString();\r\n            num2 = Double.parseDouble(temp2);\r\n            double res = 0.0;\r\n\r\n            switch (sign) {\r\n                case &quot;+&quot;:\r\n                    res = num1 + num2;\r\n                    break;\r\n                case &quot;-&quot;:\r\n                    res = num1 - num2;\r\n                    break;\r\n                case &quot;*&quot;:\r\n                    res = num1 * num2;\r\n                    break;\r\n                case &quot;/&quot;:\r\n                    if (num2 != 0.0)\r\n                        res = num1 / num2;\r\n                    else\r\n                        Toast.makeText(this, &quot;Error Cant divide by 0&quot;, Toast.LENGTH_LONG).show();\r\n                    break;\r\n                default:\r\n                    break;\r\n\r\n            }\r\n            num1 = res;\r\n            result.setText(res + &quot;&quot;);\r\n        }\r\n    }\r\n\r\n    public void buttonAddFunction(View view) {\r\n        if (view instanceof Button){\r\n            String temp1 = result.getText().toString();\r\n            num1 = Double.parseDouble(temp1);\r\n            sign = &quot;+&quot;;\r\n            result.setText(&quot; &quot;);\r\n        }\r\n    }\r\n\r\n    public void buttonSubtractFunction(View view) {\r\n        if (view instanceof Button) {\r\n            String temp1 = result.getText().toString();\r\n            num1 = Double.parseDouble(temp1);\r\n            sign = &quot;-&quot;;\r\n            result.setText(&quot;0&quot;);\r\n        }\r\n    }\r\n\r\n    public void buttonMultiplyFunction(View view) {\r\n        if (view instanceof Button) {\r\n            String temp1 = result.getText().toString();\r\n            num1 = Double.parseDouble(temp1);\r\n            sign = &quot;*&quot;;\r\n            result.setText(&quot;0&quot;);\r\n        }\r\n    }\r\n\r\n    public void buttonDivideFunction(View view) {\r\n        if (view instanceof Button) {\r\n            String temp1 = result.getText().toString();\r\n            num1 = Double.parseDouble(temp1);\r\n            sign = &quot;/&quot;;\r\n            result.setText(&quot;0&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public void buttonClearFunction(View view) {\r\n        result.setText(&quot;0&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Android calculator getting crashes","body":"<p>I'm making a simple android calculator that has to support +,-,*,/ .</p>\n<p>When I try to press any button - the app crashes. After some investigations, I found out that the problem is in the inner if statement :</p>\n<pre><code>public void buttonFunctionNumber(View view) {\n        if (view instanceof Button){\n            Button button = (Button) view;\n            String str = button.getText().toString();\n            \n            if (Double.parseDouble(result.getText().toString()) == 0)\n                result.setText(str);\n            else\n                result.append(str);\n        }\n    }\n</code></pre>\n<p>The <code>if</code>: after the user pressed the desired number, and right before he prasses the second - the calculator's screen will show a 0. So in this <code>if</code> I want to check whether the result is 0 (the <code>result</code> is what the calculator's screen shows) to know that the user want to continue to the next number.</p>\n<p>the <code>else</code>: the user wants to continue adding more digits to the number for the calculations so we append the next digit.</p>\n<p>I would like to know how can I solve this problem.</p>\n<p>Thanks for your time :)</p>\n<p>The whole code:</p>\n<pre><code>package com.example.myfirstproj;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n    TextView result;\n    double num1=0.0, num2=0.0;\n    String sign = &quot;&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        result = findViewById(R.id.textViewResult);\n    }\n\n\n    public void buttonFunctionNumber(View view) {\n        if (view instanceof Button){\n            Button button = (Button) view;\n            String str = button.getText().toString();\n\n            if (Double.parseDouble(result.getText().toString()) == 0.0)\n                result.setText(str);\n            else\n                result.append(str);\n        }\n    }\n\n    public void buttonEqualFunction(View view) {\n        if (view instanceof Button) {\n            String temp2 = result.getText().toString();\n            num2 = Double.parseDouble(temp2);\n            double res = 0.0;\n\n            switch (sign) {\n                case &quot;+&quot;:\n                    res = num1 + num2;\n                    break;\n                case &quot;-&quot;:\n                    res = num1 - num2;\n                    break;\n                case &quot;*&quot;:\n                    res = num1 * num2;\n                    break;\n                case &quot;/&quot;:\n                    if (num2 != 0.0)\n                        res = num1 / num2;\n                    else\n                        Toast.makeText(this, &quot;Error Cant divide by 0&quot;, Toast.LENGTH_LONG).show();\n                    break;\n                default:\n                    break;\n\n            }\n            num1 = res;\n            result.setText(res + &quot;&quot;);\n        }\n    }\n\n    public void buttonAddFunction(View view) {\n        if (view instanceof Button){\n            String temp1 = result.getText().toString();\n            num1 = Double.parseDouble(temp1);\n            sign = &quot;+&quot;;\n            result.setText(&quot; &quot;);\n        }\n    }\n\n    public void buttonSubtractFunction(View view) {\n        if (view instanceof Button) {\n            String temp1 = result.getText().toString();\n            num1 = Double.parseDouble(temp1);\n            sign = &quot;-&quot;;\n            result.setText(&quot;0&quot;);\n        }\n    }\n\n    public void buttonMultiplyFunction(View view) {\n        if (view instanceof Button) {\n            String temp1 = result.getText().toString();\n            num1 = Double.parseDouble(temp1);\n            sign = &quot;*&quot;;\n            result.setText(&quot;0&quot;);\n        }\n    }\n\n    public void buttonDivideFunction(View view) {\n        if (view instanceof Button) {\n            String temp1 = result.getText().toString();\n            num1 = Double.parseDouble(temp1);\n            sign = &quot;/&quot;;\n            result.setText(&quot;0&quot;);\n        }\n\n    }\n\n    public void buttonClearFunction(View view) {\n        result.setText(&quot;0&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8985379,"reputation":325,"user_id":6699096,"display_name":"某某某"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667872395,"creation_date":1667872395,"answer_id":74354904,"question_id":74354707,"body_markdown":"Because you were using the [Generic Types](https://docs.oracle.com/javase/tutorial/java/generics/types.html) Java compiler will [erase](https://docs.oracle.com/javase/tutorial/java/generics/erasure.html) all `E` to the `Integer` type, so you can&#39;t set the `ListNode&lt;Integer&gt;`\r\n\r\n\r\nthe code will be this:\r\n\r\n```java\r\npackage com.github.lemon.office;\r\n\r\nimport joptsimple.internal.Strings;\r\n\r\npublic class SingleLinkedListWorkSheetQ2Q3 {\r\n\tpublic static void main(String[] args) {\r\n\t\tListNode&lt;Integer&gt; rear = new ListNode&lt;&gt;(0, null);\r\n\t\tListNode&lt;Integer&gt; list = new ListNode&lt;&gt;(1, rear);\r\n\t\tlist = new ListNode&lt;&gt;(2, list);\r\n\t\tlist = new ListNode&lt;&gt;(3, list);\r\n\r\n\t\tLList2&lt;Integer&gt; temp = new LList2&lt;&gt;(list, rear);\r\n\r\n\t\ttemp.printWhile();\r\n\r\n\t\ttemp.addLast(-2);\r\n\r\n\t\ttemp.printWhile();\r\n\t}\r\n}\r\n\r\nclass ListNode&lt;E&gt; {\r\n\tprivate final E val;\r\n\tprivate ListNode&lt;E&gt; next;\r\n\r\n\tpublic ListNode(E val, ListNode&lt;E&gt; next) {\r\n\t\tthis.val = val;\r\n\t\tthis.next = next;\r\n\t}\r\n\r\n\tpublic E getVal() {\r\n\t\treturn val;\r\n\t}\r\n\r\n\tpublic ListNode&lt;E&gt; getNext() {\r\n\t\treturn next;\r\n\t}\r\n\r\n\tpublic boolean hasNext() {\r\n\t\treturn next != null;\r\n\t}\r\n\r\n\tpublic void updateNext(ListNode&lt;E&gt; node) {\r\n\t\tnext = node;\r\n\t}\r\n}\r\n\r\n\r\nclass LList2&lt;E&gt; {\r\n\tprivate ListNode&lt;E&gt; front;\r\n\tprivate ListNode&lt;E&gt; rear;\r\n\r\n\tpublic LList2(ListNode&lt;E&gt; front, ListNode&lt;E&gt; rear) {\r\n\t\tthis.front = front;\r\n\t\tthis.rear = rear;\r\n\t}\r\n\r\n\tpublic void printWhile() {\r\n\t\tStringBuilder sb = new StringBuilder(&quot;[&quot;);\r\n\r\n\t\tfor (ListNode&lt;E&gt; temp = front; temp != null; temp = temp.getNext()) {\r\n\t\t\tsb.append(temp.getVal());\r\n\t\t\tif (temp.hasNext()) {\r\n\t\t\t\tsb.append(&quot;,&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsb.append(&quot;]&quot;);\r\n\t\tSystem.out.println(sb);\r\n\t}\r\n\r\n\tpublic void printFor() {\r\n\t\tSystem.out.print(&quot;[&quot;);\r\n\t\tfor (ListNode&lt;E&gt; temp = front; temp != null; temp = temp.getNext()) {\r\n\t\t\tSystem.out.print(temp.getVal() + &quot;, &quot;);\r\n\t\t}\r\n\t\tSystem.out.print(&quot;]&quot;);\r\n\t}\r\n\r\n\t// obj represents value\r\n\tpublic void addFirst(E obj) {\r\n\t\tfront = new ListNode&lt;E&gt;(obj, front);\r\n\t\tif (front.getNext() == null) {\r\n\t\t\trear = front;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void addLast(E obj) {\r\n\t\tif (rear != null)\r\n\t\t\trear.updateNext(new ListNode&lt;E&gt;(obj, null));\r\n\t\telse {\r\n\t\t\trear = new ListNode&lt;E&gt;(obj, null);\r\n\t\t\tfront = rear;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n}\r\n```","title":"SingleLinkedListWorkSheetQ2Q3.java:14: error: incompatible types: ListNode&lt;Integer&gt; cannot be converted to Integer","body":"<p>Because you were using the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">Generic Types</a> Java compiler will <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">erase</a> all <code>E</code> to the <code>Integer</code> type, so you can't set the <code>ListNode&lt;Integer&gt;</code></p>\n<p>the code will be this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.github.lemon.office;\n\nimport joptsimple.internal.Strings;\n\npublic class SingleLinkedListWorkSheetQ2Q3 {\n    public static void main(String[] args) {\n        ListNode&lt;Integer&gt; rear = new ListNode&lt;&gt;(0, null);\n        ListNode&lt;Integer&gt; list = new ListNode&lt;&gt;(1, rear);\n        list = new ListNode&lt;&gt;(2, list);\n        list = new ListNode&lt;&gt;(3, list);\n\n        LList2&lt;Integer&gt; temp = new LList2&lt;&gt;(list, rear);\n\n        temp.printWhile();\n\n        temp.addLast(-2);\n\n        temp.printWhile();\n    }\n}\n\nclass ListNode&lt;E&gt; {\n    private final E val;\n    private ListNode&lt;E&gt; next;\n\n    public ListNode(E val, ListNode&lt;E&gt; next) {\n        this.val = val;\n        this.next = next;\n    }\n\n    public E getVal() {\n        return val;\n    }\n\n    public ListNode&lt;E&gt; getNext() {\n        return next;\n    }\n\n    public boolean hasNext() {\n        return next != null;\n    }\n\n    public void updateNext(ListNode&lt;E&gt; node) {\n        next = node;\n    }\n}\n\n\nclass LList2&lt;E&gt; {\n    private ListNode&lt;E&gt; front;\n    private ListNode&lt;E&gt; rear;\n\n    public LList2(ListNode&lt;E&gt; front, ListNode&lt;E&gt; rear) {\n        this.front = front;\n        this.rear = rear;\n    }\n\n    public void printWhile() {\n        StringBuilder sb = new StringBuilder(&quot;[&quot;);\n\n        for (ListNode&lt;E&gt; temp = front; temp != null; temp = temp.getNext()) {\n            sb.append(temp.getVal());\n            if (temp.hasNext()) {\n                sb.append(&quot;,&quot;);\n            }\n        }\n\n        sb.append(&quot;]&quot;);\n        System.out.println(sb);\n    }\n\n    public void printFor() {\n        System.out.print(&quot;[&quot;);\n        for (ListNode&lt;E&gt; temp = front; temp != null; temp = temp.getNext()) {\n            System.out.print(temp.getVal() + &quot;, &quot;);\n        }\n        System.out.print(&quot;]&quot;);\n    }\n\n    // obj represents value\n    public void addFirst(E obj) {\n        front = new ListNode&lt;E&gt;(obj, front);\n        if (front.getNext() == null) {\n            rear = front;\n        }\n    }\n\n    public void addLast(E obj) {\n        if (rear != null)\n            rear.updateNext(new ListNode&lt;E&gt;(obj, null));\n        else {\n            rear = new ListNode&lt;E&gt;(obj, null);\n            front = rear;\n\n        }\n\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":22676405,"reputation":21,"user_id":16847325,"display_name":"George Wu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667872395,"creation_date":1667870384,"question_id":74354707,"body_markdown":"I&#39;m trying to construct a single linked list. The single linked list has a method, addLast, that adds a node to the tail of the linked list. I created a *LList2 *class to store the first and last node of the list.\r\n\r\nThe error occurs when I try to use the addLast method in the driver class. Below is my code. Any suggestions would be helpful!\r\n\r\n`\r\n```\r\n// Part One Question 2,3\r\n\r\npublic class SingleLinkedListWorkSheetQ2Q3{\r\n   public static void main (String[] args){\r\n      ListNode&lt;Integer&gt; rear = new ListNode&lt;&gt;(0, null);\r\n      ListNode&lt;Integer&gt; list = new ListNode&lt;&gt;(1, rear);\r\n      list = new ListNode&lt;&gt;(2, list);\r\n      list = new ListNode&lt;&gt;(3, list);\r\n      \r\n      LList2 &lt;Integer&gt; temp = new LList2 &lt;&gt; (list, rear);\r\n      \r\n      temp.printWhile();\r\n      \r\n      temp.addLast(new ListNode&lt;Integer&gt; (-2, null));\r\n   }\r\n}\r\n\r\nclass ListNode &lt;E&gt; {\r\n   private E val;\r\n   private ListNode &lt;E&gt; next;\r\n   \r\n   public ListNode(E val, ListNode &lt;E&gt; next){\r\n      this.val = val;\r\n      this.next = next;\r\n   }\r\n   \r\n   public E getVal(){\r\n      return val;\r\n   }\r\n   \r\n   public ListNode &lt;E&gt; getNext(){\r\n      return next;\r\n   }\r\n   \r\n   public void updateNext(ListNode &lt;E&gt; node){\r\n      next = node;\r\n   }\r\n}\r\n\r\n\r\n\r\nclass LList2 &lt;E&gt; {\r\n   private ListNode &lt;E&gt; front;\r\n   private ListNode &lt;E&gt; rear;\r\n   \r\n   public LList2(ListNode &lt;E&gt; front, ListNode &lt;E&gt; rear){\r\n      this.front = front;\r\n      this.rear = rear;\r\n   }\r\n   \r\n   public void printWhile(){\r\n      System.out.print(&quot;[&quot;);\r\n      while(front != null){\r\n         System.out.print(front.getVal() + &quot;, &quot;);\r\n         front = front.getNext();\r\n      }\r\n      System.out.print(&quot;]&quot;);\r\n   }\r\n   \r\n   public void printFor(){\r\n      System.out.print(&quot;[&quot;);\r\n      for(ListNode &lt;E&gt; temp = front; temp != null; temp = temp.getNext()){\r\n         System.out.print(temp.getVal() + &quot;, &quot;);\r\n      }\r\n      System.out.print(&quot;]&quot;);\r\n   }\r\n   \r\n   // obj represents value\r\n   public void addFirst(E obj){\r\n      front = new ListNode&lt;E&gt;(obj, front);\r\n      if(front.getNext() == null){\r\n         rear = front;\r\n      }\r\n   }\r\n   \r\n   public void addLast(E obj){\r\n      if(rear != null)\r\n         rear.updateNext(new ListNode&lt;E&gt;(obj, null));\r\n      else{\r\n         rear = new ListNode&lt;E&gt;(obj, null);\r\n         front = rear;\r\n         \r\n      }\r\n      \r\n   }\r\n   \r\n   \r\n\r\n}\r\n```\r\n`\r\n","title":"SingleLinkedListWorkSheetQ2Q3.java:14: error: incompatible types: ListNode&lt;Integer&gt; cannot be converted to Integer","body":"<p>I'm trying to construct a single linked list. The single linked list has a method, addLast, that adds a node to the tail of the linked list. I created a *LList2 *class to store the first and last node of the list.</p>\n<p>The error occurs when I try to use the addLast method in the driver class. Below is my code. Any suggestions would be helpful!</p>\n<p>`</p>\n<pre><code>// Part One Question 2,3\n\npublic class SingleLinkedListWorkSheetQ2Q3{\n   public static void main (String[] args){\n      ListNode&lt;Integer&gt; rear = new ListNode&lt;&gt;(0, null);\n      ListNode&lt;Integer&gt; list = new ListNode&lt;&gt;(1, rear);\n      list = new ListNode&lt;&gt;(2, list);\n      list = new ListNode&lt;&gt;(3, list);\n      \n      LList2 &lt;Integer&gt; temp = new LList2 &lt;&gt; (list, rear);\n      \n      temp.printWhile();\n      \n      temp.addLast(new ListNode&lt;Integer&gt; (-2, null));\n   }\n}\n\nclass ListNode &lt;E&gt; {\n   private E val;\n   private ListNode &lt;E&gt; next;\n   \n   public ListNode(E val, ListNode &lt;E&gt; next){\n      this.val = val;\n      this.next = next;\n   }\n   \n   public E getVal(){\n      return val;\n   }\n   \n   public ListNode &lt;E&gt; getNext(){\n      return next;\n   }\n   \n   public void updateNext(ListNode &lt;E&gt; node){\n      next = node;\n   }\n}\n\n\n\nclass LList2 &lt;E&gt; {\n   private ListNode &lt;E&gt; front;\n   private ListNode &lt;E&gt; rear;\n   \n   public LList2(ListNode &lt;E&gt; front, ListNode &lt;E&gt; rear){\n      this.front = front;\n      this.rear = rear;\n   }\n   \n   public void printWhile(){\n      System.out.print(&quot;[&quot;);\n      while(front != null){\n         System.out.print(front.getVal() + &quot;, &quot;);\n         front = front.getNext();\n      }\n      System.out.print(&quot;]&quot;);\n   }\n   \n   public void printFor(){\n      System.out.print(&quot;[&quot;);\n      for(ListNode &lt;E&gt; temp = front; temp != null; temp = temp.getNext()){\n         System.out.print(temp.getVal() + &quot;, &quot;);\n      }\n      System.out.print(&quot;]&quot;);\n   }\n   \n   // obj represents value\n   public void addFirst(E obj){\n      front = new ListNode&lt;E&gt;(obj, front);\n      if(front.getNext() == null){\n         rear = front;\n      }\n   }\n   \n   public void addLast(E obj){\n      if(rear != null)\n         rear.updateNext(new ListNode&lt;E&gt;(obj, null));\n      else{\n         rear = new ListNode&lt;E&gt;(obj, null);\n         front = rear;\n         \n      }\n      \n   }\n   \n   \n\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","vlc","vlcj"],"answers":[{"tags":[],"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1545563013,"creation_date":1545563013,"answer_id":53903055,"question_id":53822108,"body_markdown":"I don&#39;t know for certain, but you could try some other event listener methods - perhaps the videoOutput, elementaryStreamAdded or elementaryStreamSelected (and check the stream type parameter was video), or maybe wait for the very first positionChanged event (whilst not ideal, it might work well enough for your use case).","title":"Vlcj change video background color","body":"<p>I don't know for certain, but you could try some other event listener methods - perhaps the videoOutput, elementaryStreamAdded or elementaryStreamSelected (and check the stream type parameter was video), or maybe wait for the very first positionChanged event (whilst not ideal, it might work well enough for your use case).</p>\n"}],"owner":{"account_id":11992382,"reputation":25,"user_id":8775060,"display_name":"R&#233;mi Grandzinski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53903055,"answer_count":1,"score":1,"last_activity_date":1667870821,"creation_date":1545076291,"question_id":53822108,"body_markdown":"I&#39;m creating a narrative application in which I need to play videos.\r\n\r\nWhen playing a media with `MediaPlayer.playMedia(Media media)`.\r\nIn order to avoid the black background I wait the wait for the playing event before showing the media player.\r\n\r\n            player.addMediaPlayerEventListener(new MediaPlayerEventAdapter() {\r\n                \r\n                @Override\r\n                public void playing(MediaPlayer mediaPlayer) {\r\n                    showVideo();\r\n                }\r\n            }\r\n\r\nThe problem is that this event is triggered before the video actually starts playing, so it still displays black for a little while before.\r\n\r\nHow can I find a way around this? Thanks","title":"Vlcj change video background color","body":"<p>I'm creating a narrative application in which I need to play videos.</p>\n<p>When playing a media with <code>MediaPlayer.playMedia(Media media)</code>.\nIn order to avoid the black background I wait the wait for the playing event before showing the media player.</p>\n<pre><code>        player.addMediaPlayerEventListener(new MediaPlayerEventAdapter() {\n            \n            @Override\n            public void playing(MediaPlayer mediaPlayer) {\n                showVideo();\n            }\n        }\n</code></pre>\n<p>The problem is that this event is triggered before the video actually starts playing, so it still displays black for a little while before.</p>\n<p>How can I find a way around this? Thanks</p>\n"},{"tags":["java","jwt"],"comments":[{"owner":{"account_id":12908729,"reputation":1,"user_id":9335192,"display_name":"Jogeswar Challapalli"},"score":0,"creation_date":1667920167,"post_id":74353633,"comment_id":131279942,"body_markdown":"I am using the sample code on GitHub  https://github.com/sangonzal/jwt-validation-java Only thing I am running on IBM integration platform as a module instead of a standalone Java program. Also, the description of this code is well documented here.. https://sgonzal.com/2020/04/06/jwt-validation.html.","body":"I am using the sample code on GitHub  <a href=\"https://github.com/sangonzal/jwt-validation-java\" rel=\"nofollow noreferrer\">github.com/sangonzal/jwt-validation-java</a> Only thing I am running on IBM integration platform as a module instead of a standalone Java program. Also, the description of this code is well documented here.. <a href=\"https://sgonzal.com/2020/04/06/jwt-validation.html\" rel=\"nofollow noreferrer\">sgonzal.com/2020/04/06/jwt-validation.html</a>."}],"answers":[{"tags":[],"owner":{"account_id":1611204,"reputation":650,"user_id":1490061,"display_name":"Stof"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667870354,"creation_date":1667870354,"answer_id":74354702,"question_id":74353633,"body_markdown":"Several things.\r\n\r\n1. the sample is incomplete, and seems mixed up. Is this the role of consumer doing a signature verification?\r\n\r\n2. You are generating a public key which is not an expected behaviour for the verify method of a consumer, you typically &#39;use&#39; the JWK retrieved from the JWKS URL provided by the JWT producer (AzureAD) not generate a new public key that was not used to generate the signature? To verify a signature, you need to reproduce the same signature by having all the inputs the server used when they generated it. A signature is simply a representation of the payload to ensure the payload was not modified, i.e. integrity check. This is the purpose of the signature and why you must have the same inputs to generate it on the client, wither you gain the inputs used out-of-band somehow (not how AzureAD works) or you use the JWKS to retrieve the appropriate public key for the verify method.\r\n\r\n3. It appears you also expect there to be encrypted claims, based on the RSA reference in your example. If this is intended you would also require you to *decipher* the payload to access the *cleartext*. This requires you to have implemented the appropriate PKI. As a consumer (client) the private key must be generated and never shared (or retrieved). Encryption implemented correctly ensures that only the client intended to read the cleartext data &#39;can&#39; decipher it with the private key, which it itself generated for this purpose, and only it (the client) has control of the private key. Have you the appropriate PKI to do the encrypted JWT properly? Or are you expecting to  only utilise the HMAC-based JWT that has no encryption at all and relies on only signature verification (and therefore all claims are public, not protected).\r\n\r\nTo summaries, there are 2 distinct modes of JWT; 1) HMAC-based that uses signatures where the same inputs are needed on client to verify the signature as was used on server to generate the signature, and this is for integrity only, there is no encryption to protect data. 2) encryption-based JWT that uses a public key for signature verification and the private key used by clients to decipher the encrypted claims data.\r\n\r\n1 requires PKI, 2 doesn&#39;t.\r\n2 has no data protection and is useful for stateless claims that are intended to be public and therefore verification of the &#39;claims&#39; before use is how you gain security assurance. Whereas 1 offers the security characteristic of confidentiality and if the PKI is done correctly (private keys are never shared) then the confidential claims data can have more private use cases.","title":"JWT validation using Jwts.parser giving Invalid signature","body":"<p>Several things.</p>\n<ol>\n<li><p>the sample is incomplete, and seems mixed up. Is this the role of consumer doing a signature verification?</p>\n</li>\n<li><p>You are generating a public key which is not an expected behaviour for the verify method of a consumer, you typically 'use' the JWK retrieved from the JWKS URL provided by the JWT producer (AzureAD) not generate a new public key that was not used to generate the signature? To verify a signature, you need to reproduce the same signature by having all the inputs the server used when they generated it. A signature is simply a representation of the payload to ensure the payload was not modified, i.e. integrity check. This is the purpose of the signature and why you must have the same inputs to generate it on the client, wither you gain the inputs used out-of-band somehow (not how AzureAD works) or you use the JWKS to retrieve the appropriate public key for the verify method.</p>\n</li>\n<li><p>It appears you also expect there to be encrypted claims, based on the RSA reference in your example. If this is intended you would also require you to <em>decipher</em> the payload to access the <em>cleartext</em>. This requires you to have implemented the appropriate PKI. As a consumer (client) the private key must be generated and never shared (or retrieved). Encryption implemented correctly ensures that only the client intended to read the cleartext data 'can' decipher it with the private key, which it itself generated for this purpose, and only it (the client) has control of the private key. Have you the appropriate PKI to do the encrypted JWT properly? Or are you expecting to  only utilise the HMAC-based JWT that has no encryption at all and relies on only signature verification (and therefore all claims are public, not protected).</p>\n</li>\n</ol>\n<p>To summaries, there are 2 distinct modes of JWT; 1) HMAC-based that uses signatures where the same inputs are needed on client to verify the signature as was used on server to generate the signature, and this is for integrity only, there is no encryption to protect data. 2) encryption-based JWT that uses a public key for signature verification and the private key used by clients to decipher the encrypted claims data.</p>\n<p>1 requires PKI, 2 doesn't.\n2 has no data protection and is useful for stateless claims that are intended to be public and therefore verification of the 'claims' before use is how you gain security assurance. Whereas 1 offers the security characteristic of confidentiality and if the PKI is done correctly (private keys are never shared) then the confidential claims data can have more private use cases.</p>\n"}],"owner":{"account_id":12908729,"reputation":1,"user_id":9335192,"display_name":"Jogeswar Challapalli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667870354,"creation_date":1667860134,"question_id":74353633,"body_markdown":"I have a token issued by Azure AD. I need to verify the token in my API, which is running on IBM platform.\r\nI am writing the token verifier in Java,using\r\nclaims = Jwts.parser().setSigningKeyResolver(signingKeyResolver).parseClaimsJws(accessToken);\r\nThe signingKeyResolver is returning a public key. No issues.\r\nI use the following code to get the public key :\r\n\r\n```\r\nBigInteger modulus = new BigInteger(1, Base64.getUrlDecoder().decode(key.getN()));\r\n\t            BigInteger exponent = new BigInteger(1, Base64.getUrlDecoder().decode(key.getE()));\r\n\r\n\t            RSAPublicKeySpec publicSpec = new RSAPublicKeySpec(modulus, exponent);\r\n\t            KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\t            Provider provider = factory.getProvider();\r\n\t            PublicKey pubkey = factory.generatePublic(publicSpec);\r\n\t            return factory.generatePublic(publicSpec);\r\n```\r\nCan any one throw some light on Why the signature is invalid ? I observe one thing when I create the factory, the Provider name shows IBMJCEPLUS. Does it have any impact on the key generation ? If so, how do I create the correct factory for Microsoft issued keys ?\r\n\r\nLooking for a general advice in creating the factory..","title":"JWT validation using Jwts.parser giving Invalid signature","body":"<p>I have a token issued by Azure AD. I need to verify the token in my API, which is running on IBM platform.\nI am writing the token verifier in Java,using\nclaims = Jwts.parser().setSigningKeyResolver(signingKeyResolver).parseClaimsJws(accessToken);\nThe signingKeyResolver is returning a public key. No issues.\nI use the following code to get the public key :</p>\n<pre><code>BigInteger modulus = new BigInteger(1, Base64.getUrlDecoder().decode(key.getN()));\n                BigInteger exponent = new BigInteger(1, Base64.getUrlDecoder().decode(key.getE()));\n\n                RSAPublicKeySpec publicSpec = new RSAPublicKeySpec(modulus, exponent);\n                KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\n                Provider provider = factory.getProvider();\n                PublicKey pubkey = factory.generatePublic(publicSpec);\n                return factory.generatePublic(publicSpec);\n</code></pre>\n<p>Can any one throw some light on Why the signature is invalid ? I observe one thing when I create the factory, the Provider name shows IBMJCEPLUS. Does it have any impact on the key generation ? If so, how do I create the correct factory for Microsoft issued keys ?</p>\n<p>Looking for a general advice in creating the factory..</p>\n"},{"tags":["java","android","dalvik","decompiling","smali"],"comments":[{"owner":{"account_id":3895256,"reputation":3542,"user_id":3224483,"accept_rate":70,"display_name":"Rainbolt"},"score":2,"creation_date":1392837269,"post_id":21889983,"comment_id":33147587,"body_markdown":"If this is Java, I&#39;m far less familiar with the language than I thought I was.","body":"If this is Java, I&#39;m far less familiar with the language than I thought I was."},{"owner":{"account_id":4049514,"reputation":11,"user_id":3329615,"display_name":"user3329615"},"score":0,"creation_date":1392837346,"post_id":21889983,"comment_id":33147633,"body_markdown":"this is not java. it is smali. and it looks much more logically to me too when it is decompiled back to java:","body":"this is not java. it is smali. and it looks much more logically to me too when it is decompiled back to java:"},{"owner":{"account_id":4049514,"reputation":11,"user_id":3329615,"display_name":"user3329615"},"score":0,"creation_date":1392839301,"post_id":21889983,"comment_id":33148971,"body_markdown":"In java it looks something like this: \nhttp://pastebin.com/yMRngsGb","body":"In java it looks something like this:  <a href=\"http://pastebin.com/yMRngsGb\" rel=\"nofollow noreferrer\">pastebin.com/yMRngsGb</a>"},{"owner":{"account_id":4049514,"reputation":11,"user_id":3329615,"display_name":"user3329615"},"score":0,"creation_date":1392839428,"post_id":21889983,"comment_id":33149055,"body_markdown":"Dalvik opcodes\nhttp://pallergabor.uw.hu/androidblog/dalvik_opcodes.html","body":"Dalvik opcodes <a href=\"http://pallergabor.uw.hu/androidblog/dalvik_opcodes.html\" rel=\"nofollow noreferrer\">pallergabor.uw.hu/androidblog/dalvik_opcodes.html</a>"},{"owner":{"account_id":164385,"reputation":4273,"user_id":387103,"accept_rate":71,"display_name":"danfuzz"},"score":0,"creation_date":1392839702,"post_id":21889983,"comment_id":33149256,"body_markdown":"Official docs  (more complete and up-to-date): https://source.android.com/devices/tech/dalvik/dalvik-bytecode.html","body":"Official docs  (more complete and up-to-date): <a href=\"https://source.android.com/devices/tech/dalvik/dalvik-bytecode.html\" rel=\"nofollow noreferrer\">source.android.com/devices/tech/dalvik/dalvik-bytecode.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":2260432,"reputation":13453,"user_id":1990684,"accept_rate":60,"display_name":"DevZer0"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1394263086,"creation_date":1394263086,"answer_id":22266372,"question_id":21889983,"body_markdown":"just before the `return-object v0` do the following\r\n\r\n    const-string v0, &quot;8c0f0f0f0f0f0f0f&quot;\r\n\r\nso your full code will read\r\n\r\n    const-string v0, &quot;8c0f0f0f0f0f0f0f&quot;\r\n    return-object v0\r\n\r\nyou can also comment out the other code which uses the `StringBuilder` if you want.","title":"How to return a static result in smali function","body":"<p>just before the <code>return-object v0</code> do the following</p>\n\n<pre><code>const-string v0, \"8c0f0f0f0f0f0f0f\"\n</code></pre>\n\n<p>so your full code will read</p>\n\n<pre><code>const-string v0, \"8c0f0f0f0f0f0f0f\"\nreturn-object v0\n</code></pre>\n\n<p>you can also comment out the other code which uses the <code>StringBuilder</code> if you want.</p>\n"},{"tags":[],"owner":{"account_id":137078,"reputation":937,"user_id":341032,"display_name":"QJGui"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395226704,"creation_date":1395226704,"answer_id":22503642,"question_id":21889983,"body_markdown":"Here I use apktool to convert java to smali.\r\n\r\nJava Code:\r\n\r\n    private static final String TAG = &quot;Loop&quot;;\r\n    \r\n    public static String getTag()\r\n    {\r\n        return TAG;\r\n    }\r\n\r\nsmali code:\r\n\r\n    # static fields\r\n    .field private static final TAG:Ljava/lang/String; = &quot;Loop&quot;\r\n    \r\n    .method public static getTag()Ljava/lang/String;\r\n        .locals 1\r\n    \r\n        .prologue\r\n      .line 35\r\n        const-string v0, &quot;Loop&quot;\r\n    \r\n      .line 38\r\n        return-object v0\r\n    .end method\r\n\r\n","title":"How to return a static result in smali function","body":"<p>Here I use apktool to convert java to smali.</p>\n\n<p>Java Code:</p>\n\n<pre><code>private static final String TAG = \"Loop\";\n\npublic static String getTag()\n{\n    return TAG;\n}\n</code></pre>\n\n<p>smali code:</p>\n\n<pre><code># static fields\n.field private static final TAG:Ljava/lang/String; = \"Loop\"\n\n.method public static getTag()Ljava/lang/String;\n    .locals 1\n\n    .prologue\n  .line 35\n    const-string v0, \"Loop\"\n\n  .line 38\n    return-object v0\n.end method\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26861533,"reputation":1,"user_id":20444933,"display_name":"Rahul Choudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667867168,"creation_date":1667867168,"answer_id":74354459,"question_id":21889983,"body_markdown":" const-string v31, &quot;iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAuNJREFUeAHtmeeOjVEUho/ee5cwOrfgMlyD30KIECJEiD+EjBAhBEEQRG9Ro/cyRi+jzfyUuAGexVmJfNnfWXPG2cd821rJmn1mvbus592nTCmVPNwBd8AdcAfcAXfAHXAH3AF3wB1Iy4Fe4Kwh28opj3uS/0UI/GnyRybFhORD4E+RWXj5vi11enmKn8yBFwNaUzZA4I9XgBcDkn0J9ADumAF/Bj3JN0GBP2rAn0WX94bkQuCPkKE3PK2dQ++dHDlA3cnDpIKGxvPoycIfMuAvoPchkwu5+YNk6Ma1dhE9SfhugB0w4C+h9yWTC4HfT+oth8bL6MnC7zPgr6D3I5MLufm9ZOjGtXYVPUn4roDtMeCvofcnkwuB303qLYfG6+hR4OUnrJnllMf1DoHfRYagtXYDfUCMxhrY9NkfhzfxeEaMg3L2FPidpIKGxpvoUeDZt3QicLj8IWG6iJGjC/vvIEPQWruFPjBmH99zGmilPi3iwQK/Pedshb+NHhVe+JorNPEVbapMqnEI/DZSQUPjHfRBNT43uN0so5Ev6FOCKztWFPitZAhaa3fR6wKvCHOMhmplgsBvMc66hz6YrHvM5US9gdD4GX3yX3Ql8JuNM+6j/xN45ZpnNPgJfZJOrnLcZOz9AH1IlXtGmT7faPQj+sQqT95o7PkQfWiVe0advsBouAV9AtmeaGRS6CWltUfonQpeoRYajbegN+jknHEDdQUNjY/Rh+Ws7RTlRQbAB/TxOZ2uN9Y+QR+es7ZTlRcbIO/RsyasM9Y8RS8EPH3+iiV8DT2FtfYOfdzvqaW1xtwm9BHluYUalhpgb9Gtz3n5rbOQ8HpTywwT9BkRGptZO1I3KvK4vAMmPGfNqCJDZ3tfQSF0y6HaC+aOzm6Qwvcr22HCy1Th9QJXVTDhFdoYnZjyuDpgwmtqY1OGzrLNpvCG/EbKf3QK/VFH/x7ugDvgDrgD7oA74A64A+6AO5CYAz8BTKvBYQffZ+YAAAAASUVORK5CYII=&quot;\r\n\r\n    invoke-direct/range {v24 .. v31}, Lcom/facebook/ads/redexgen/X/Od;-&gt;&lt;init&gt;(Ljava/lang/String;ILjava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V","title":"How to return a static result in smali function","body":"<p>const-string v31, &quot;iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAuNJREFUeAHtmeeOjVEUho/ee5cwOrfgMlyD30KIECJEiD+EjBAhBEEQRG9Ro/cyRi+jzfyUuAGexVmJfNnfWXPG2cd821rJmn1mvbus592nTCmVPNwBd8AdcAfcAXfAHXAH3AF3wB1Iy4Fe4Kwh28opj3uS/0UI/GnyRybFhORD4E+RWXj5vi11enmKn8yBFwNaUzZA4I9XgBcDkn0J9ADumAF/Bj3JN0GBP2rAn0WX94bkQuCPkKE3PK2dQ++dHDlA3cnDpIKGxvPoycIfMuAvoPchkwu5+YNk6Ma1dhE9SfhugB0w4C+h9yWTC4HfT+oth8bL6MnC7zPgr6D3I5MLufm9ZOjGtXYVPUn4roDtMeCvofcnkwuB303qLYfG6+hR4OUnrJnllMf1DoHfRYagtXYDfUCMxhrY9NkfhzfxeEaMg3L2FPidpIKGxpvoUeDZt3QicLj8IWG6iJGjC/vvIEPQWruFPjBmH99zGmilPi3iwQK/Pedshb+NHhVe+JorNPEVbapMqnEI/DZSQUPjHfRBNT43uN0so5Ev6FOCKztWFPitZAhaa3fR6wKvCHOMhmplgsBvMc66hz6YrHvM5US9gdD4GX3yX3Ql8JuNM+6j/xN45ZpnNPgJfZJOrnLcZOz9AH1IlXtGmT7faPQj+sQqT95o7PkQfWiVe0advsBouAV9AtmeaGRS6CWltUfonQpeoRYajbegN+jknHEDdQUNjY/Rh+Ws7RTlRQbAB/TxOZ2uN9Y+QR+es7ZTlRcbIO/RsyasM9Y8RS8EPH3+iiV8DT2FtfYOfdzvqaW1xtwm9BHluYUalhpgb9Gtz3n5rbOQ8HpTywwT9BkRGptZO1I3KvK4vAMmPGfNqCJDZ3tfQSF0y6HaC+aOzm6Qwvcr22HCy1Th9QJXVTDhFdoYnZjyuDpgwmtqY1OGzrLNpvCG/EbKf3QK/VFH/x7ugDvgDrgD7oA74A64A+6AO5CYAz8BTKvBYQffZ+YAAAAASUVORK5CYII=&quot;</p>\n<pre><code>invoke-direct/range {v24 .. v31}, Lcom/facebook/ads/redexgen/X/Od;-&gt;&lt;init&gt;(Ljava/lang/String;ILjava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V\n</code></pre>\n"}],"owner":{"account_id":4049514,"reputation":11,"user_id":3329615,"display_name":"user3329615"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7722,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1667867168,"creation_date":1392836822,"question_id":21889983,"body_markdown":"    .method public c()Ljava/lang/String;\r\n    .locals 3\r\n\r\n    const/4 v1, 0x0\r\n\r\n    const-string v0, &quot;wifi&quot;\r\n\r\n    invoke-virtual {p0, v0}, Lcom/genwen/looltv/start/Appstart;-&gt;getSystemService(Ljava/lang/String;)Ljava/lang/Object;\r\n\r\n    move-result-object v0\r\n\r\n    check-cast v0, Landroid/net/wifi/WifiManager;\r\n\r\n    if-nez v0, :cond_1\r\n\r\n    move-object v0, v1\r\n\r\n    :goto_0\r\n    if-eqz v0, :cond_2\r\n\r\n    invoke-virtual {v0}, Landroid/net/wifi/WifiInfo;-&gt;getMacAddress()Ljava/lang/String;\r\n\r\n    move-result-object v0\r\n\r\n    if-eqz v0, :cond_0\r\n\r\n    const-string v1, &quot;:&quot;\r\n\r\n    const-string v2, &quot;&quot;\r\n\r\n    invoke-virtual {v0, v1, v2}, Ljava/lang/String;-&gt;replaceAll(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\r\n\r\n    move-result-object v0\r\n\r\n\tnew-instance v1, Ljava/lang/StringBuilder;\r\n\r\n    const-string v2, &quot;8c0f&quot;\r\n\r\n    invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/String;)V\r\n\r\n    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n\r\n    move-result-object v0\r\n\r\n    invoke-virtual {v0}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\r\n\r\n    move-result-object v0\r\n\r\n    :cond_0\r\n    :goto_1\r\n    return-object v0\r\n\r\n    :cond_1\r\n    invoke-virtual {v0}, Landroid/net/wifi/WifiManager;-&gt;getConnectionInfo()Landroid/net/wifi/WifiInfo;\r\n\r\n    move-result-object v0\r\n\r\n    goto :goto_0\r\n\r\n    :cond_2\r\n    move-object v0, v1\r\n\r\n    goto :goto_1\r\n    .end method\r\n\r\nthis is a simple smali function that returns the mac address of the device with &#39;8c0f&#39; at the beginning after stripping the : from the mac address. \r\n\r\ni want it to return a static mac address like &#39;8c0f0f0f0f0f0f0f&#39; not the real mac address. how can i do that?","title":"How to return a static result in smali function","body":"<pre><code>.method public c()Ljava/lang/String;\n.locals 3\n\nconst/4 v1, 0x0\n\nconst-string v0, \"wifi\"\n\ninvoke-virtual {p0, v0}, Lcom/genwen/looltv/start/Appstart;-&gt;getSystemService(Ljava/lang/String;)Ljava/lang/Object;\n\nmove-result-object v0\n\ncheck-cast v0, Landroid/net/wifi/WifiManager;\n\nif-nez v0, :cond_1\n\nmove-object v0, v1\n\n:goto_0\nif-eqz v0, :cond_2\n\ninvoke-virtual {v0}, Landroid/net/wifi/WifiInfo;-&gt;getMacAddress()Ljava/lang/String;\n\nmove-result-object v0\n\nif-eqz v0, :cond_0\n\nconst-string v1, \":\"\n\nconst-string v2, \"\"\n\ninvoke-virtual {v0, v1, v2}, Ljava/lang/String;-&gt;replaceAll(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\n\nmove-result-object v0\n\nnew-instance v1, Ljava/lang/StringBuilder;\n\nconst-string v2, \"8c0f\"\n\ninvoke-direct {v1, v2}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/String;)V\n\ninvoke-virtual {v1, v0}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n\nmove-result-object v0\n\ninvoke-virtual {v0}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\n\nmove-result-object v0\n\n:cond_0\n:goto_1\nreturn-object v0\n\n:cond_1\ninvoke-virtual {v0}, Landroid/net/wifi/WifiManager;-&gt;getConnectionInfo()Landroid/net/wifi/WifiInfo;\n\nmove-result-object v0\n\ngoto :goto_0\n\n:cond_2\nmove-object v0, v1\n\ngoto :goto_1\n.end method\n</code></pre>\n\n<p>this is a simple smali function that returns the mac address of the device with '8c0f' at the beginning after stripping the : from the mac address. </p>\n\n<p>i want it to return a static mac address like '8c0f0f0f0f0f0f0f' not the real mac address. how can i do that?</p>\n"},{"tags":["java","arrays","file"],"comments":[{"owner":{"account_id":23052047,"reputation":133,"user_id":17168710,"display_name":"hopperelec"},"score":1,"creation_date":1667842829,"post_id":74350680,"comment_id":131259364,"body_markdown":"There are ways to parse that file format, but it would be significantly easier to use a more common format such as JSON where many libraries already exist to parse it for you. Is using an alternative file format an option for you?","body":"There are ways to parse that file format, but it would be significantly easier to use a more common format such as JSON where many libraries already exist to parse it for you. Is using an alternative file format an option for you?"},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1667842945,"post_id":74350680,"comment_id":131259399,"body_markdown":"I also think that JSON would be better as @hopperelec mentioned. Or XML format.","body":"I also think that JSON would be better as @hopperelec mentioned. Or XML format."},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":1,"creation_date":1667843058,"post_id":74350680,"comment_id":131259432,"body_markdown":"It is a bit strange. Why after `itemName` there is a colon `:`, but after `itemStats` there isn&#39;t?","body":"It is a bit strange. Why after <code>itemName</code> there is a colon <code>:</code>, but after <code>itemStats</code> there isn&#39;t?"},{"owner":{"account_id":26858687,"reputation":5,"user_id":20442581,"display_name":"fenicemaster"},"score":0,"creation_date":1667843128,"post_id":74350680,"comment_id":131259459,"body_markdown":"it&#39;s not the file the problem it&#39;s taking the data, i can acess and read it, i just don&#39;t know how to make te code get the name and stats","body":"it&#39;s not the file the problem it&#39;s taking the data, i can acess and read it, i just don&#39;t know how to make te code get the name and stats"},{"owner":{"account_id":23052047,"reputation":133,"user_id":17168710,"display_name":"hopperelec"},"score":0,"creation_date":1667843292,"post_id":74350680,"comment_id":131259522,"body_markdown":"&#39;make the code get the name and stats&#39; so you&#39;re looking to read properties from text, which is known as parsing. Parsing custom file formats (I don&#39;t recognise this file format so I&#39;m assuming it&#39;s custom) can be quite difficult, but there are alternative formats, such as what I and Christoph suggested, where the code to parse it has already been written for you","body":"&#39;make the code get the name and stats&#39; so you&#39;re looking to read properties from text, which is known as parsing. Parsing custom file formats (I don&#39;t recognise this file format so I&#39;m assuming it&#39;s custom) can be quite difficult, but there are alternative formats, such as what I and Christoph suggested, where the code to parse it has already been written for you"},{"owner":{"account_id":26858687,"reputation":5,"user_id":20442581,"display_name":"fenicemaster"},"score":0,"creation_date":1667843635,"post_id":74350680,"comment_id":131259631,"body_markdown":"the format is just a .txt so the user can create a new item using the same &quot;formula&quot;. i didn&#39;t know it was called parsing, now i may search better for how to do it... ah and sorry for my bad english, i&#39;m not a native speaker.","body":"the format is just a .txt so the user can create a new item using the same &quot;formula&quot;. i didn&#39;t know it was called parsing, now i may search better for how to do it... ah and sorry for my bad english, i&#39;m not a native speaker."},{"owner":{"account_id":23052047,"reputation":133,"user_id":17168710,"display_name":"hopperelec"},"score":0,"creation_date":1667843820,"post_id":74350680,"comment_id":131259710,"body_markdown":".txt is just a file extension which doesn&#39;t necessarily indicate whether the contents are formatted in a specific way. JSON is actually pretty similar to your &quot;formula&quot; and I think it is formatted in a way which would actually be easier for a user to make changes to, partly because it is slightly more flexible (for example, both speech marks and apostrophes work for strings + most whitespace and new lines are ignored so can be used for formatting to make it more readable). Here is what your file would look like in JSON format: {&quot;itemName&quot;: &quot;Steel Sword&quot;, &quot;itemStats&quot;: [2,0,0]}","body":".txt is just a file extension which doesn&#39;t necessarily indicate whether the contents are formatted in a specific way. JSON is actually pretty similar to your &quot;formula&quot; and I think it is formatted in a way which would actually be easier for a user to make changes to, partly because it is slightly more flexible (for example, both speech marks and apostrophes work for strings + most whitespace and new lines are ignored so can be used for formatting to make it more readable). Here is what your file would look like in JSON format: {&quot;itemName&quot;: &quot;Steel Sword&quot;, &quot;itemStats&quot;: [2,0,0]}"},{"owner":{"account_id":26858687,"reputation":5,"user_id":20442581,"display_name":"fenicemaster"},"score":0,"creation_date":1667844439,"post_id":74350680,"comment_id":131259944,"body_markdown":"great i just need to parse now right? i&#39;m searchin but can&#39;t understand much, so i&#39;m trying diffrent methods tomorrow. thanks","body":"great i just need to parse now right? i&#39;m searchin but can&#39;t understand much, so i&#39;m trying diffrent methods tomorrow. thanks"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667847894,"post_id":74350680,"comment_id":131261091,"body_markdown":"If you can’t change the file format to JSON or CSV or anything a pre-defined parser, you could go for regular expressions using java.util.regex.Pattern.","body":"If you can’t change the file format to JSON or CSV or anything a pre-defined parser, you could go for regular expressions using java.util.regex.Pattern."}],"answers":[{"tags":[],"owner":{"account_id":23052047,"reputation":133,"user_id":17168710,"display_name":"hopperelec"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667844826,"creation_date":1667844826,"answer_id":74351087,"question_id":74350680,"body_markdown":"What you&#39;re looking for is to &#39;parse&#39; your text file. Parsing is where you convert arbitrary data (usually human-readable text) into data your computer program can understand. Parsing custom formats (which I assume this is since I don&#39;t seem to recognise it) can be quite difficult, so you may want to consider using a more popular format such as JSON which already has plenty of libraries to parse it for you. JSON is actually pretty similar to the format you&#39;re using already, so it shouldn&#39;t be too difficult to make the switch! The data you provided could look like this in the JSON format (some minor changes can be made, for example the whitespace between values can be removed):\r\n```\r\n{&quot;itemName&quot;: &quot;Steel Sword&quot;, &quot;itemStats&quot;: [2,0,0]}\r\n```","title":"Taking data from a line of another file","body":"<p>What you're looking for is to 'parse' your text file. Parsing is where you convert arbitrary data (usually human-readable text) into data your computer program can understand. Parsing custom formats (which I assume this is since I don't seem to recognise it) can be quite difficult, so you may want to consider using a more popular format such as JSON which already has plenty of libraries to parse it for you. JSON is actually pretty similar to the format you're using already, so it shouldn't be too difficult to make the switch! The data you provided could look like this in the JSON format (some minor changes can be made, for example the whitespace between values can be removed):</p>\n<pre><code>{&quot;itemName&quot;: &quot;Steel Sword&quot;, &quot;itemStats&quot;: [2,0,0]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667866275,"creation_date":1667866275,"answer_id":74354384,"question_id":74350680,"body_markdown":"The following code makes use of an **Item** class so that instances of Items can be instantiated since you must have more than one Item within the file. A List Interface (`List&lt;Item&gt;`) will hold instances of **Item** once the file is read. Read comments in code:\r\n\r\n**The Item class:**\r\n\r\n    public class Item {\r\n        \r\n        private String itemName;    // Item Name  \r\n        // For lack of better member variable names since none were supplied in post.\r\n        private int manna = 0;      // Stat 1\r\n        private int banna = 0;      // Stat 2\r\n        private int hanna = 0;      // Stat 3\r\n\r\n        \r\n        public Item() { }\r\n\r\n        public Item(String itemName, int manna, int banna, int hanna) {\r\n            this.itemName = itemName;\r\n            this.manna = manna;\r\n            this.banna = banna;\r\n            this.hanna = hanna;\r\n        }\r\n\r\n        // Getters &amp; Setters\r\n        public String getItemName() {\r\n            return itemName;\r\n        }\r\n\r\n        public void setItemName(String itemName) {\r\n            this.itemName = itemName;\r\n        }\r\n\r\n        public int getManna() {\r\n            return manna;\r\n        }\r\n\r\n        public void setManna(int manna) {\r\n            this.manna = manna;\r\n        }\r\n\r\n        public int getBanna() {\r\n            return banna;\r\n        }\r\n\r\n        public void setBanna(int banna) {\r\n            this.banna = banna;\r\n        }\r\n\r\n        public int getHanna() {\r\n            return hanna;\r\n        }\r\n\r\n        public void setHanna(int hanna) {    \r\n            this.hanna = hanna;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return itemName + &quot;, &quot; + manna + &quot;, &quot; + banna + &quot;, &quot; + hanna;\r\n        }\r\n    }\r\n\r\n**The File Reader/Parser (*getItemsFromFile()*) code:**\r\n\r\n    public void getItemsFromFile(String filePath) throws IOException {\r\n        itemsList = new ArrayList&lt;&gt;();  // Initialize itemsList\r\n\r\n        // Read file...\r\n        // &#39;Try With Resources&#39; used here to Auot-Close reader and free resources:\r\n        try (BufferedReader reader = new BufferedReader(new FileReader(filePath))) {\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                line = line.trim();  // Remove leading/trailing whitespaces (if any);\r\n                // Skip blank lines (if any).\r\n                if (line.isEmpty()) {\r\n                    continue;\r\n                }\r\n                \r\n                // Get Items (only) ...\r\n                if (line.startsWith(&quot;itemName:&quot;)) {\r\n                    // Parse the Item line...\r\n                    String[] parts = line.split(&quot;itemStats&quot;);\r\n                    String name = parts[0].substring(parts[0].indexOf(&quot;(\\&quot;&quot;) + 2, parts[0].indexOf(&quot;\\&quot;)&quot;));\r\n                    parts[1] = parts[1].replaceAll(&quot;[^0-9,]&quot;, &quot;&quot;);\r\n                    String[] statValues = parts[1].split(&quot;,&quot;);\r\n                    int m = Integer.parseInt(statValues[0]);\r\n                    int b = Integer.parseInt(statValues[1]);\r\n                    int h = Integer.parseInt(statValues[2]);\r\n                    itemsList.add(new Item(name, m, b, h)); // Add Item instance to List.\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**How you might use the above *getItemsFromFile()* method:**\r\n\r\n    // Declare as Class member\r\n    List&lt;Item&gt; itemsList;  \r\n\r\n    // In some class method...\r\n    try {\r\n        // Do as the method name states (use the proper file path):\r\n        getItemsFromFile(&quot;GameConfig.txt&quot;);\r\n    }\r\n    catch (IOException ex) {\r\n        /* Do what you want with the exception (if there is one).\r\n           Whatever you do, don&#39;t leave this blank.          */\r\n        System.err.println(ex);\r\n    }\r\n        \r\n    //Display Items contained within the itemsList List:\r\n    for (Item items : itemsList) {\r\n        /* Using the Item class toString() method:  */\r\n        System.out.println(items.toString());\r\n             \r\n        /* Example of retrieving each object within an Item instance:\r\n           using Item class Getter methods:                     */\r\n        System.out.println(&quot;Item Name:  &quot; + items.getItemName());  // String\r\n        System.out.println(&quot;The Manna:  &quot; + items.getManna());     // int\r\n        System.out.println(&quot;The Banna:  &quot; + items.getBanna());     // int\r\n        System.out.println(&quot;The Hanna:  &quot; + items.getHanna());     // int\r\n        System.out.println();\r\n    }","title":"Taking data from a line of another file","body":"<p>The following code makes use of an <strong>Item</strong> class so that instances of Items can be instantiated since you must have more than one Item within the file. A List Interface (<code>List&lt;Item&gt;</code>) will hold instances of <strong>Item</strong> once the file is read. Read comments in code:</p>\n<p><strong>The Item class:</strong></p>\n<pre><code>public class Item {\n    \n    private String itemName;    // Item Name  \n    // For lack of better member variable names since none were supplied in post.\n    private int manna = 0;      // Stat 1\n    private int banna = 0;      // Stat 2\n    private int hanna = 0;      // Stat 3\n\n    \n    public Item() { }\n\n    public Item(String itemName, int manna, int banna, int hanna) {\n        this.itemName = itemName;\n        this.manna = manna;\n        this.banna = banna;\n        this.hanna = hanna;\n    }\n\n    // Getters &amp; Setters\n    public String getItemName() {\n        return itemName;\n    }\n\n    public void setItemName(String itemName) {\n        this.itemName = itemName;\n    }\n\n    public int getManna() {\n        return manna;\n    }\n\n    public void setManna(int manna) {\n        this.manna = manna;\n    }\n\n    public int getBanna() {\n        return banna;\n    }\n\n    public void setBanna(int banna) {\n        this.banna = banna;\n    }\n\n    public int getHanna() {\n        return hanna;\n    }\n\n    public void setHanna(int hanna) {    \n        this.hanna = hanna;\n    }\n\n    @Override\n    public String toString() {\n        return itemName + &quot;, &quot; + manna + &quot;, &quot; + banna + &quot;, &quot; + hanna;\n    }\n}\n</code></pre>\n<p><strong>The File Reader/Parser (<em>getItemsFromFile()</em>) code:</strong></p>\n<pre><code>public void getItemsFromFile(String filePath) throws IOException {\n    itemsList = new ArrayList&lt;&gt;();  // Initialize itemsList\n\n    // Read file...\n    // 'Try With Resources' used here to Auot-Close reader and free resources:\n    try (BufferedReader reader = new BufferedReader(new FileReader(filePath))) {\n        String line;\n        while ((line = reader.readLine()) != null) {\n            line = line.trim();  // Remove leading/trailing whitespaces (if any);\n            // Skip blank lines (if any).\n            if (line.isEmpty()) {\n                continue;\n            }\n            \n            // Get Items (only) ...\n            if (line.startsWith(&quot;itemName:&quot;)) {\n                // Parse the Item line...\n                String[] parts = line.split(&quot;itemStats&quot;);\n                String name = parts[0].substring(parts[0].indexOf(&quot;(\\&quot;&quot;) + 2, parts[0].indexOf(&quot;\\&quot;)&quot;));\n                parts[1] = parts[1].replaceAll(&quot;[^0-9,]&quot;, &quot;&quot;);\n                String[] statValues = parts[1].split(&quot;,&quot;);\n                int m = Integer.parseInt(statValues[0]);\n                int b = Integer.parseInt(statValues[1]);\n                int h = Integer.parseInt(statValues[2]);\n                itemsList.add(new Item(name, m, b, h)); // Add Item instance to List.\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>How you might use the above <em>getItemsFromFile()</em> method:</strong></p>\n<pre><code>// Declare as Class member\nList&lt;Item&gt; itemsList;  \n\n// In some class method...\ntry {\n    // Do as the method name states (use the proper file path):\n    getItemsFromFile(&quot;GameConfig.txt&quot;);\n}\ncatch (IOException ex) {\n    /* Do what you want with the exception (if there is one).\n       Whatever you do, don't leave this blank.          */\n    System.err.println(ex);\n}\n    \n//Display Items contained within the itemsList List:\nfor (Item items : itemsList) {\n    /* Using the Item class toString() method:  */\n    System.out.println(items.toString());\n         \n    /* Example of retrieving each object within an Item instance:\n       using Item class Getter methods:                     */\n    System.out.println(&quot;Item Name:  &quot; + items.getItemName());  // String\n    System.out.println(&quot;The Manna:  &quot; + items.getManna());     // int\n    System.out.println(&quot;The Banna:  &quot; + items.getBanna());     // int\n    System.out.println(&quot;The Hanna:  &quot; + items.getHanna());     // int\n    System.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":26858687,"reputation":5,"user_id":20442581,"display_name":"fenicemaster"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74354384,"answer_count":2,"score":0,"last_activity_date":1667866275,"creation_date":1667842697,"question_id":74350680,"body_markdown":"i&#39;m creating a simple rpg game and i need to get information from one file and store it in my variables to be able to make the user save/modify items in the game easily, i can read my files but i do not know how to get the name and the numbers inside this lables:\r\n\r\n```\r\nitemName:(&quot;Steel Sword&quot;),itemStats(2,0,0);\r\n```\r\ni need to get &quot;Steel Sword&quot; in a String and the numbers to the other variables...\r\n\r\nmaybe you could tell me also how to connect the name to the stats, i don&#39;t have really a good way to do it.\r\n\r\ni tried to use indexOf to get the start and end of the string but i need to figure out the separators on the stats and maybe there&#39;s a more reliable way to do this...","title":"Taking data from a line of another file","body":"<p>i'm creating a simple rpg game and i need to get information from one file and store it in my variables to be able to make the user save/modify items in the game easily, i can read my files but i do not know how to get the name and the numbers inside this lables:</p>\n<pre><code>itemName:(&quot;Steel Sword&quot;),itemStats(2,0,0);\n</code></pre>\n<p>i need to get &quot;Steel Sword&quot; in a String and the numbers to the other variables...</p>\n<p>maybe you could tell me also how to connect the name to the stats, i don't have really a good way to do it.</p>\n<p>i tried to use indexOf to get the start and end of the string but i need to figure out the separators on the stats and maybe there's a more reliable way to do this...</p>\n"},{"tags":["java","nlp","stanford-nlp"],"answers":[{"tags":[],"owner":{"account_id":4013253,"reputation":1306,"user_id":3306097,"display_name":"kkgarg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667865640,"creation_date":1667865640,"answer_id":74354327,"question_id":74354282,"body_markdown":"Fixed using the flag `-Xms3056m` which increases the default memory to `3GB` to be used by `CoreNLP`.\r\n\r\n```\r\njava -Xms3056m -cp &quot;*&quot; edu.stanford.nlp.pipeline.StanfordCoreNLP -file input.txt\r\n```","title":"Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded using Stanford CoreNLP","body":"<p>Fixed using the flag <code>-Xms3056m</code> which increases the default memory to <code>3GB</code> to be used by <code>CoreNLP</code>.</p>\n<pre><code>java -Xms3056m -cp &quot;*&quot; edu.stanford.nlp.pipeline.StanfordCoreNLP -file input.txt\n</code></pre>\n"}],"owner":{"account_id":4013253,"reputation":1306,"user_id":3306097,"display_name":"kkgarg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74354327,"answer_count":1,"score":0,"last_activity_date":1667865640,"creation_date":1667865249,"question_id":74354282,"body_markdown":"While setting up `Stanford CoreNLP`, I am running into following exception since a long time:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded\r\n\tat java.lang.StringBuilder.toString(StringBuilder.java:407)\r\n\tat java.io.ObjectInputStream$BlockDataInputStream.readUTFBody(ObjectInputStream.java:3388)\r\n\tat java.io.ObjectInputStream$BlockDataInputStream.readUTF(ObjectInputStream.java:3183)\r\n\tat java.io.ObjectInputStream.readString(ObjectInputStream.java:1863)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1526)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:422)\r\n\tat java.util.HashMap.readObject(HashMap.java:1402)\r\n\tat sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1058)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2136)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2027)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1535)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2245)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2169)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2027)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1535)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:422)\r\n\tat edu.stanford.nlp.io.IOUtils.readObjectFromURLOrClasspathOrFileSystem(IOUtils.java:310)\r\n\tat edu.stanford.nlp.coref.statistical.FeatureExtractor.loadVocabulary(FeatureExtractor.java:90)\r\n\tat edu.stanford.nlp.coref.statistical.FeatureExtractor.&lt;init&gt;(FeatureExtractor.java:75)\r\n\tat edu.stanford.nlp.coref.statistical.StatisticalCorefAlgorithm.&lt;init&gt;(StatisticalCorefAlgorithm.java:63)\r\n\tat edu.stanford.nlp.coref.statistical.StatisticalCorefAlgorithm.&lt;init&gt;(StatisticalCorefAlgorithm.java:44)\r\n\tat edu.stanford.nlp.coref.CorefAlgorithm.fromProps(CorefAlgorithm.java:30)\r\n\tat edu.stanford.nlp.coref.CorefSystem.&lt;init&gt;(CorefSystem.java:40)\r\n\tat edu.stanford.nlp.pipeline.CorefAnnotator.&lt;init&gt;(CorefAnnotator.java:69)\r\n\tat edu.stanford.nlp.pipeline.AnnotatorImplementations.coref(AnnotatorImplementations.java:218)\r\n\tat edu.stanford.nlp.pipeline.StanfordCoreNLP.lambda$getNamedAnnotators$17(StanfordCoreNLP.java:641)\r\n\tat edu.stanford.nlp.pipeline.StanfordCoreNLP$$Lambda$27/1579572132.apply(Unknown Source)\r\n\tat edu.stanford.nlp.pipeline.StanfordCoreNLP.lambda$null$33(StanfordCoreNLP.java:711)\r\n\tat edu.stanford.nlp.pipeline.StanfordCoreNLP$$Lambda$40/2104457164.get(Unknown Source)\r\n```\r\n\r\n\r\nSystem Details:\r\n```\r\nMacOS\r\njava version &quot;1.8.0_131&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\r\n```\r\n\r\nCommand for which the exception occurs:\r\n```\r\njava edu.stanford.nlp.pipeline.StanfordCoreNLP -file input.txt\r\n```\r\n\r\nI think I also have setup the right `CLASSPATH`. See the result for `echo $CLASSPATH`\r\n```\r\n:/Users/krishna/Downloads/NLP/stanford-corenlp-4.5.1/*\r\n```\r\n","title":"Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded using Stanford CoreNLP","body":"<p>While setting up <code>Stanford CoreNLP</code>, I am running into following exception since a long time:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded\n    at java.lang.StringBuilder.toString(StringBuilder.java:407)\n    at java.io.ObjectInputStream$BlockDataInputStream.readUTFBody(ObjectInputStream.java:3388)\n    at java.io.ObjectInputStream$BlockDataInputStream.readUTF(ObjectInputStream.java:3183)\n    at java.io.ObjectInputStream.readString(ObjectInputStream.java:1863)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1526)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:422)\n    at java.util.HashMap.readObject(HashMap.java:1402)\n    at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1058)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2136)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2027)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1535)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2245)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2169)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2027)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1535)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:422)\n    at edu.stanford.nlp.io.IOUtils.readObjectFromURLOrClasspathOrFileSystem(IOUtils.java:310)\n    at edu.stanford.nlp.coref.statistical.FeatureExtractor.loadVocabulary(FeatureExtractor.java:90)\n    at edu.stanford.nlp.coref.statistical.FeatureExtractor.&lt;init&gt;(FeatureExtractor.java:75)\n    at edu.stanford.nlp.coref.statistical.StatisticalCorefAlgorithm.&lt;init&gt;(StatisticalCorefAlgorithm.java:63)\n    at edu.stanford.nlp.coref.statistical.StatisticalCorefAlgorithm.&lt;init&gt;(StatisticalCorefAlgorithm.java:44)\n    at edu.stanford.nlp.coref.CorefAlgorithm.fromProps(CorefAlgorithm.java:30)\n    at edu.stanford.nlp.coref.CorefSystem.&lt;init&gt;(CorefSystem.java:40)\n    at edu.stanford.nlp.pipeline.CorefAnnotator.&lt;init&gt;(CorefAnnotator.java:69)\n    at edu.stanford.nlp.pipeline.AnnotatorImplementations.coref(AnnotatorImplementations.java:218)\n    at edu.stanford.nlp.pipeline.StanfordCoreNLP.lambda$getNamedAnnotators$17(StanfordCoreNLP.java:641)\n    at edu.stanford.nlp.pipeline.StanfordCoreNLP$$Lambda$27/1579572132.apply(Unknown Source)\n    at edu.stanford.nlp.pipeline.StanfordCoreNLP.lambda$null$33(StanfordCoreNLP.java:711)\n    at edu.stanford.nlp.pipeline.StanfordCoreNLP$$Lambda$40/2104457164.get(Unknown Source)\n</code></pre>\n<p>System Details:</p>\n<pre><code>MacOS\njava version &quot;1.8.0_131&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\n</code></pre>\n<p>Command for which the exception occurs:</p>\n<pre><code>java edu.stanford.nlp.pipeline.StanfordCoreNLP -file input.txt\n</code></pre>\n<p>I think I also have setup the right <code>CLASSPATH</code>. See the result for <code>echo $CLASSPATH</code></p>\n<pre><code>:/Users/krishna/Downloads/NLP/stanford-corenlp-4.5.1/*\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit5","spring-test"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1642954585,"creation_date":1642953227,"answer_id":70823870,"question_id":70807604,"body_markdown":"But using `@ExtendWith(SpringExtension.class)` will also start the spring context. The difference is that it starts the context in a traditional way but `@SpringBootTest` starts it in a spring-boot way. So no matter you use which of them , it still requires to start the spring context.\r\n\r\nIf your concern is to minimise the number of beans required to be loaded into the spring context when using `@SpringBootTest`, you can actually configure a specified `@Configuration` like the following as by default `@SpringBootTest` will load all beans defined in your applications which may be too much for testing (see [this][1] for details) : \r\n\r\n``` java\r\n@SpringBootTest\r\npublic class MongoPropertiesTest {\r\n\r\n    @Autowired\r\n    private  MongoProperties properties;\r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties({MongoProperties.class})\r\n    public static class Config {\r\n\r\n    }\r\n}\r\n```\r\n\r\nIf you really want to just use `@ExtendWith(SpringExtension.class)` , you will lose the spring-boot feature such as [externalising configuration features][2] which cause you cannot load properties from `application.properties` and cannot support loading properties from `YAML` file etc. You have to manually configure `ConfigDataApplicationContextInitializer` to enable such features :\r\n\r\n``` java\r\n@ExtendWith(SpringExtension.class)\r\n@ContextConfiguration(initializers = ConfigDataApplicationContextInitializer.class)\r\npublic class MongoPropertiesTest {\r\n\t\r\n\t@Autowired\r\n    private MongoProperties properties;\r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties({MongoProperties.class})\r\n    public static class Config {\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou can consider to further use `@SpringJUnitConfig` to combine `@ExtendWith(SpringExtension.class)` and `@ContextConfiguration` together which gives you :\r\n\r\n``` java\r\n@SpringJUnitConfig(initializers = ConfigDataApplicationContextInitializer.class)\r\npublic class MongoPropertiesTest {\r\n\t\r\n\t@Autowired\r\n    private MongoProperties properties;\r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties({MongoProperties.class})\r\n    public static class Config {\r\n\r\n    }\r\n}\r\n```\r\n\r\nActually both approaches do not have much differences in term of speed , so I prefer to just use `@SpringBootTest` for simplicity as it does not requires you to configure `ConfigDataApplicationContextInitializer`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.detecting-configuration\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config","title":"Testing @ConfigurationProperties annotation without loading Spring context","body":"<p>But using <code>@ExtendWith(SpringExtension.class)</code> will also start the spring context. The difference is that it starts the context in a traditional way but <code>@SpringBootTest</code> starts it in a spring-boot way. So no matter you use which of them , it still requires to start the spring context.</p>\n<p>If your concern is to minimise the number of beans required to be loaded into the spring context when using <code>@SpringBootTest</code>, you can actually configure a specified <code>@Configuration</code> like the following as by default <code>@SpringBootTest</code> will load all beans defined in your applications which may be too much for testing (see <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.detecting-configuration\" rel=\"noreferrer\">this</a> for details) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\npublic class MongoPropertiesTest {\n\n    @Autowired\n    private  MongoProperties properties;\n\n    @Configuration\n    @EnableConfigurationProperties({MongoProperties.class})\n    public static class Config {\n\n    }\n}\n</code></pre>\n<p>If you really want to just use <code>@ExtendWith(SpringExtension.class)</code> , you will lose the spring-boot feature such as <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"noreferrer\">externalising configuration features</a> which cause you cannot load properties from <code>application.properties</code> and cannot support loading properties from <code>YAML</code> file etc. You have to manually configure <code>ConfigDataApplicationContextInitializer</code> to enable such features :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(initializers = ConfigDataApplicationContextInitializer.class)\npublic class MongoPropertiesTest {\n    \n    @Autowired\n    private MongoProperties properties;\n\n    @Configuration\n    @EnableConfigurationProperties({MongoProperties.class})\n    public static class Config {\n\n    }\n\n}\n</code></pre>\n<p>You can consider to further use <code>@SpringJUnitConfig</code> to combine <code>@ExtendWith(SpringExtension.class)</code> and <code>@ContextConfiguration</code> together which gives you :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringJUnitConfig(initializers = ConfigDataApplicationContextInitializer.class)\npublic class MongoPropertiesTest {\n    \n    @Autowired\n    private MongoProperties properties;\n\n    @Configuration\n    @EnableConfigurationProperties({MongoProperties.class})\n    public static class Config {\n\n    }\n}\n</code></pre>\n<p>Actually both approaches do not have much differences in term of speed , so I prefer to just use <code>@SpringBootTest</code> for simplicity as it does not requires you to configure <code>ConfigDataApplicationContextInitializer</code>.</p>\n"}],"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4966,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":70823870,"answer_count":1,"score":7,"last_activity_date":1667865272,"creation_date":1642798998,"question_id":70807604,"body_markdown":"I&#39;m trying to test a class that has the `@ConfigurationProperties` annotation but without loading the entire Spring context. I tried using only the JUnit5&#39;s features in order to do that but until now didn&#39;t succeed in that.\r\n\r\nI&#39;m using `spring-boot-starter-parent` v2.6.2 .\r\n\r\nThe class I&#39;m testing : \r\n\r\n    @ConfigurationProperties(&quot;db.mongo&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class MongoProperties {\r\n        private String host;\r\n        private String db;\r\n        private String user;\r\n        private String password;\r\n    }\r\n\r\nThe application.yaml : \r\n\r\n    db:\r\n      mongo:\r\n        host: localhost\r\n        db: test\r\n        user: test-user\r\n        password: secret\r\n\r\n\r\nMy Test class : \r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @EnableConfigurationProperties({MongoProperties.class})\r\n    public class MongoPropertiesTest {\r\n    \r\n        @Autowired\r\n        private  MongoProperties properties;\r\n    \r\n        @Test\r\n        public void mongoPropertiesLoadedTest(){\r\n            assertNotNull(properties.getDb());\r\n            assertNotNull(properties.getHost());\r\n            assertNotNull(properties.getPassword());\r\n            assertNotNull(properties.getUser());\r\n        }\r\n    }\r\n\r\nThe `MongoProperties` bean is injected successfully, but all the values inside are null and the asserts fail.\r\n\r\nAdding the `@SpringBootTest` solves the issue of the null values in the instance of the bean, but it also starts the whole spring context which is what I don&#39;t want.\r\n","title":"Testing @ConfigurationProperties annotation without loading Spring context","body":"<p>I'm trying to test a class that has the <code>@ConfigurationProperties</code> annotation but without loading the entire Spring context. I tried using only the JUnit5's features in order to do that but until now didn't succeed in that.</p>\n<p>I'm using <code>spring-boot-starter-parent</code> v2.6.2 .</p>\n<p>The class I'm testing :</p>\n<pre><code>@ConfigurationProperties(&quot;db.mongo&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class MongoProperties {\n    private String host;\n    private String db;\n    private String user;\n    private String password;\n}\n</code></pre>\n<p>The application.yaml :</p>\n<pre><code>db:\n  mongo:\n    host: localhost\n    db: test\n    user: test-user\n    password: secret\n</code></pre>\n<p>My Test class :</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@EnableConfigurationProperties({MongoProperties.class})\npublic class MongoPropertiesTest {\n\n    @Autowired\n    private  MongoProperties properties;\n\n    @Test\n    public void mongoPropertiesLoadedTest(){\n        assertNotNull(properties.getDb());\n        assertNotNull(properties.getHost());\n        assertNotNull(properties.getPassword());\n        assertNotNull(properties.getUser());\n    }\n}\n</code></pre>\n<p>The <code>MongoProperties</code> bean is injected successfully, but all the values inside are null and the asserts fail.</p>\n<p>Adding the <code>@SpringBootTest</code> solves the issue of the null values in the instance of the bean, but it also starts the whole spring context which is what I don't want.</p>\n"},{"tags":["java","arrays","loops","linkedhashmap"],"comments":[{"owner":{"account_id":14797915,"reputation":796,"user_id":10687061,"display_name":"Karl"},"score":0,"creation_date":1667800006,"post_id":74342284,"comment_id":131244981,"body_markdown":"You probably need to check this post to know how to iterate Map entries https://stackoverflow.com/questions/46898/how-do-i-efficiently-iterate-over-each-entry-in-a-java-map","body":"You probably need to check this post to know how to iterate Map entries <a href=\"https://stackoverflow.com/questions/46898/how-do-i-efficiently-iterate-over-each-entry-in-a-java-map\" title=\"how do i efficiently iterate over each entry in a java map\">stackoverflow.com/questions/46898/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":189447,"reputation":1115,"user_id":428780,"display_name":"Vinicius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667865254,"creation_date":1667865254,"answer_id":74354283,"question_id":74342284,"body_markdown":"You can&#39;t really access maps by index, but as it seems your use case is that you need to find pairs from both maps with the same key (chargeTypeName).\r\n\r\nOne way is using a grouping collector:\r\n\r\n    var grouped = Stream.of(chargeTypeMap1, chargeTypeMap2)\r\n            .flatMap(c -&gt; c.values().stream())\r\n            .collect(Collectors.groupingBy(ChargeType::getChargeTypeName));\r\n\r\nThis will return a map which the value is a List with all ChargeTypes with the same chargeTypeName. You can go further and select only the entries which are really pairs:\r\n\r\n    var result = grouped.values().stream()\r\n            .filter(list -&gt; list.size() == 2)\r\n            .collect(Collectors.toList());\r\n\r\nNow we have all the pairs of items with the same chargeTypeName from both maps and can do whatever you need with them.","title":"Get LinkedHashMap value by index","body":"<p>You can't really access maps by index, but as it seems your use case is that you need to find pairs from both maps with the same key (chargeTypeName).</p>\n<p>One way is using a grouping collector:</p>\n<pre><code>var grouped = Stream.of(chargeTypeMap1, chargeTypeMap2)\n        .flatMap(c -&gt; c.values().stream())\n        .collect(Collectors.groupingBy(ChargeType::getChargeTypeName));\n</code></pre>\n<p>This will return a map which the value is a List with all ChargeTypes with the same chargeTypeName. You can go further and select only the entries which are really pairs:</p>\n<pre><code>var result = grouped.values().stream()\n        .filter(list -&gt; list.size() == 2)\n        .collect(Collectors.toList());\n</code></pre>\n<p>Now we have all the pairs of items with the same chargeTypeName from both maps and can do whatever you need with them.</p>\n"}],"owner":{"account_id":10290358,"reputation":127,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667865254,"creation_date":1667798767,"question_id":74342284,"body_markdown":"is it possible to get values of LinkedHashMap by index ?\r\n\r\n\r\nthis is my linkedmap (the reason why i mapped it this way because i need to accumulate the amount and quantity for the duplicated chargeType:\r\n\r\n    Map&lt;String, ChargeType&gt; chargeTypeCol;\r\n\r\n    return chargeTypeCol = chargeTypeList\r\n    \t\t\t\t.stream().collect(Collectors.toMap(ChargeType::getChargeTypeName,\r\n    \t\t\t\t\t\tFunction.identity(),\r\n    \t\t\t\t\t\t(a, b) -&gt; new ChargeType(a.getId(), b.getChargeTypeName(), a.getAmount() + b.getAmount(), a.getQuantity() + b.getQuantity()),\r\n    \t\t\t\t\t\tLinkedHashMap::new));\r\n\r\nI have 2 of these LinkedHashMap in my logic. What i am trying to do is to compare if the values (getChargeTypeName, getAmount, getQuantity) is equals between the 2 map. Was wondering if there are any possible way to do like\r\n\r\n\r\n    for(int i = 0; i &lt; chargeTypeList.size(); i++){\r\n           for(int j = 0; j &lt; chargeTypeList2.size(); j++){\r\n                 if(chargeTypeList.get(i).getChargeTypeName.equalsIgnoreCase(chargeTypeList2.get(j).getChargeTypeName)){\r\n                 //todo something here\r\n                 }\r\n           }\r\n    }","title":"Get LinkedHashMap value by index","body":"<p>is it possible to get values of LinkedHashMap by index ?</p>\n<p>this is my linkedmap (the reason why i mapped it this way because i need to accumulate the amount and quantity for the duplicated chargeType:</p>\n<pre><code>Map&lt;String, ChargeType&gt; chargeTypeCol;\n\nreturn chargeTypeCol = chargeTypeList\n                .stream().collect(Collectors.toMap(ChargeType::getChargeTypeName,\n                        Function.identity(),\n                        (a, b) -&gt; new ChargeType(a.getId(), b.getChargeTypeName(), a.getAmount() + b.getAmount(), a.getQuantity() + b.getQuantity()),\n                        LinkedHashMap::new));\n</code></pre>\n<p>I have 2 of these LinkedHashMap in my logic. What i am trying to do is to compare if the values (getChargeTypeName, getAmount, getQuantity) is equals between the 2 map. Was wondering if there are any possible way to do like</p>\n<pre><code>for(int i = 0; i &lt; chargeTypeList.size(); i++){\n       for(int j = 0; j &lt; chargeTypeList2.size(); j++){\n             if(chargeTypeList.get(i).getChargeTypeName.equalsIgnoreCase(chargeTypeList2.get(j).getChargeTypeName)){\n             //todo something here\n             }\n       }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":26770940,"reputation":226,"user_id":20367321,"display_name":"F.G."},"score":0,"creation_date":1667843824,"post_id":74350599,"comment_id":131259711,"body_markdown":"I&#39;m not sure if thats what you want, but you can filter by message as well: `package:mine level:debug tag:TestTag message:MyText`. [Documentation](https://developer.android.com/studio/debug/am-logcat#searching)","body":"I&#39;m not sure if thats what you want, but you can filter by message as well: <code>package:mine level:debug tag:TestTag message:MyText</code>. <a href=\"https://developer.android.com/studio/debug/am-logcat#searching\" rel=\"nofollow noreferrer\">Documentation</a>"},{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1667844713,"post_id":74350599,"comment_id":131260045,"body_markdown":"@F.G. thanks your comment is really close, however, it doesn&#39;t cover all the cases, I edited my question, please take a look","body":"@F.G. thanks your comment is really close, however, it doesn&#39;t cover all the cases, I edited my question, please take a look"},{"owner":{"account_id":26770940,"reputation":226,"user_id":20367321,"display_name":"F.G."},"score":0,"creation_date":1667845266,"post_id":74350599,"comment_id":131260234,"body_markdown":"Can you try `package:mine message:message is:` just without the quotation marks?","body":"Can you try <code>package:mine message:message is:</code> just without the quotation marks?"},{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1667859053,"post_id":74350599,"comment_id":131264156,"body_markdown":"@F.G. yes, it works the same way","body":"@F.G. yes, it works the same way"}],"answers":[{"tags":[],"owner":{"account_id":17894989,"reputation":306,"user_id":13000604,"display_name":"Sasa Arsenovic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667864999,"creation_date":1667864999,"answer_id":74354263,"question_id":74350599,"body_markdown":"Next to &quot;package:mine&quot; you just need to type what you want for filter. You don&#39;t need to type &quot;message&quot;. For example: \r\n\r\n    package:mine WHATEVER_YOU_WANT_TO_SHOW\r\n\r\n\r\nWhen I typed: \r\n\r\n    Log.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\r\n    Log.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\r\n    Log.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\r\n    Log.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\r\n    Log.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\r\n\r\nI got:\r\n[![This][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mpgzd.png","title":"Is there a way with a new logcat implementation to filter out the values by string?","body":"<p>Next to &quot;package:mine&quot; you just need to type what you want for filter. You don't need to type &quot;message&quot;. For example:</p>\n<pre><code>package:mine WHATEVER_YOU_WANT_TO_SHOW\n</code></pre>\n<p>When I typed:</p>\n<pre><code>Log.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\nLog.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\nLog.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\nLog.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\nLog.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\n</code></pre>\n<p>I got:\n<a href=\"https://i.stack.imgur.com/mpgzd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mpgzd.png\" alt=\"This\" /></a></p>\n"}],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74354263,"answer_count":1,"score":0,"last_activity_date":1667864999,"creation_date":1667842268,"question_id":74350599,"body_markdown":"After a new logcat presentation I found it nice, however, I don&#39;t see an option to filter out the values by a custom string. \r\n\r\nfor example, I can set such an argument in the query line: `package:mine level:error ` and my log will be filtered out properly, however, if I need to filter out the result log by my custom string value, there is no such an option. I mean you can click `Ctrl + F` and find something specific in the result (filtered out log), however, what am I asking is not to find the specific line in the log, I need to filter out the log by my custom string, so only relevant values left in the logcat. \r\n\r\nP.S. This was available in the previous logcat version.\r\n\r\n**EDIT**\r\n\r\nThanks for @F.G. this comment is really close, however, in case I need to filter out my log by two words it doesn&#39;t work\r\n\r\nEg:\r\n\r\n```\r\n        Log.e(&quot;HERE&quot;, &quot;message is: onConfigurationChanged 1&quot;)\r\n        Log.e(&quot;HERE&quot;, &quot;message is: onConfigurationChanged 2&quot;)\r\n        Log.e(&quot;HERE&quot;, &quot;message is: onConfigurationChanged 3&quot;)\r\n        Log.e(&quot;HERE&quot;, &quot;message is: onConfigurationChanged 4&quot;)\r\n```\r\n\r\nmy query looks like this\r\n\r\n    level:error message:&quot;message is&quot;\r\n\r\nand the result is an empty logcat.\r\n\r\nWhat am I missing here?","title":"Is there a way with a new logcat implementation to filter out the values by string?","body":"<p>After a new logcat presentation I found it nice, however, I don't see an option to filter out the values by a custom string.</p>\n<p>for example, I can set such an argument in the query line: <code>package:mine level:error </code> and my log will be filtered out properly, however, if I need to filter out the result log by my custom string value, there is no such an option. I mean you can click <code>Ctrl + F</code> and find something specific in the result (filtered out log), however, what am I asking is not to find the specific line in the log, I need to filter out the log by my custom string, so only relevant values left in the logcat.</p>\n<p>P.S. This was available in the previous logcat version.</p>\n<p><strong>EDIT</strong></p>\n<p>Thanks for @F.G. this comment is really close, however, in case I need to filter out my log by two words it doesn't work</p>\n<p>Eg:</p>\n<pre><code>        Log.e(&quot;HERE&quot;, &quot;message is: onConfigurationChanged 1&quot;)\n        Log.e(&quot;HERE&quot;, &quot;message is: onConfigurationChanged 2&quot;)\n        Log.e(&quot;HERE&quot;, &quot;message is: onConfigurationChanged 3&quot;)\n        Log.e(&quot;HERE&quot;, &quot;message is: onConfigurationChanged 4&quot;)\n</code></pre>\n<p>my query looks like this</p>\n<pre><code>level:error message:&quot;message is&quot;\n</code></pre>\n<p>and the result is an empty logcat.</p>\n<p>What am I missing here?</p>\n"},{"tags":["java","passwords"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1667867790,"post_id":74354207,"comment_id":131265858,"body_markdown":"Note that this is a fine way to make your users make __insecure__ passwords, and inconvenience them while you&#39;re at it, and you have more code to maintain. Lose-Lose-Lose. [more info](https://xkcd.com/936/).","body":"Note that this is a fine way to make your users make <b>insecure</b> passwords, and inconvenience them while you&#39;re at it, and you have more code to maintain. Lose-Lose-Lose. <a href=\"https://xkcd.com/936/\" rel=\"nofollow noreferrer\">more info</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667869039,"post_id":74354207,"comment_id":131266011,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":8102989,"reputation":117,"user_id":6105632,"display_name":"BestQualityVacuum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667864895,"creation_date":1667864895,"answer_id":74354251,"question_id":74354207,"body_markdown":"I would suggest having WHILE loop to contain the part of your code where the user types in a password. You can use a variable to keep track if the password is valid or keep track of the number of times the user goes through the loop and break out of it under certain conditions. \r\n\r\n \r\n\r\n    PSEUDO CODE:\r\n    int ntimes = 0;\r\n    boolean isValid = false;\r\n    while(isValid == false){\r\n      //Prompt for Password\r\n      //User Enters Password\r\n      if(password is valid){\r\n        isValid = true;\r\n      }\r\n      else{\r\n       ntimes++;\r\n      }\r\n      if(ntimes == 7) break;\r\n    }\r\n    \r\n    if(isValid == false){\r\n      &quot;You entered a bad password too many times.&quot;\r\n      QUIT\r\n    }","title":"How can I terminate a program when the user input is not a valid password","body":"<p>I would suggest having WHILE loop to contain the part of your code where the user types in a password. You can use a variable to keep track if the password is valid or keep track of the number of times the user goes through the loop and break out of it under certain conditions.</p>\n<pre><code>PSEUDO CODE:\nint ntimes = 0;\nboolean isValid = false;\nwhile(isValid == false){\n  //Prompt for Password\n  //User Enters Password\n  if(password is valid){\n    isValid = true;\n  }\n  else{\n   ntimes++;\n  }\n  if(ntimes == 7) break;\n}\n\nif(isValid == false){\n  &quot;You entered a bad password too many times.&quot;\n  QUIT\n}\n</code></pre>\n"}],"owner":{"account_id":26861313,"reputation":1,"user_id":20444748,"display_name":"Amimir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667864895,"creation_date":1667864484,"question_id":74354207,"body_markdown":"I&#39;m new in java programming, How can I terminate my program when the user input is not a valid password?\r\n\r\nHere is my code that has a problem\r\n\r\n\r\n```\r\nfinal int MAX = 8;\r\n    final int MIN_Uppercase = 1;\r\n    final int NUM_Digits = 1;\r\n    final int Special = 1;\r\n    \r\n    int invalidCount = 0;\r\n    int uppercaseCounter = 0;\r\n    int digitCounter = 0;\r\n    int specialCounter = 0;\r\n    int spaceCounter = 0;\r\n    \r\n    Scanner sc = new Scanner (System.in);\r\n    \r\n    System.out.println (&quot;Enter Name: &quot;);\r\n    String name = sc.nextLine();\r\n    int spacePosition = name.indexOf(&quot; &quot;);\r\n    \r\n    System.out.print (&quot;\\n&quot;);\r\n    \r\n    System.out.println (&quot;Enter Birthday (MM DD YYYY): &quot;);\r\n    String birthday = sc.nextLine();\r\n    \r\n    System.out.print (&quot;\\n&quot;);\r\n    \r\n    System.out.println (&quot;Enter password: &quot;);\r\n    Scanner input = new Scanner (System.in);\r\n    \r\n    String password = input.nextLine();\r\n    \t\r\n    \tfor (int i = 0; i &lt; password.length(); i ++)\r\n        {\r\n          char c = password.charAt(i);\r\n          \r\n          if (Character.isUpperCase(c))\r\n            uppercaseCounter ++;\r\n          \r\n          if (c == &#39; &#39;)\r\n            spaceCounter ++;\r\n          \r\n          if (c == &#39;$&#39; || c == &#39;#&#39; || c == &#39;?&#39; || c == &#39;!&#39; || c == &#39;_&#39; || c == &#39;=&#39; || c == &#39;%&#39; || c == &#39;.&#39;)\r\n            specialCounter ++;\r\n          \r\n          else if (Character.isDigit(c))\r\n            digitCounter ++;\r\n        }\r\n    if (password.length() &gt;= MAX &amp;&amp; uppercaseCounter &gt;= MIN_Uppercase &amp;&amp; specialCounter == 1 &amp;&amp; digitCounter == 1)\r\n    {\r\n      System.out.println(&quot; &quot;);\r\n      \r\n      System.out.println (&quot;\\n&quot;);\r\n    }\r\n    else\r\n    {\r\n      \r\n      if (password.length() &lt; MAX)\r\n        System.out.println(&quot;Enter atleast 8 characters&quot;);\r\n      \r\n      if (spaceCounter &gt; 0)\r\n        System.out.println(&quot;Password contains whitespaces&quot;);\r\n      \r\n      if (uppercaseCounter &lt; MIN_Uppercase)\r\n        System.out.println(&quot;Enter atleast 1 Uppercase Character&quot;);\r\n      \r\n      if (digitCounter &lt; 1)\r\n        System.out.println(&quot;Enter atleast 1 digit&quot;);\r\n      \r\n      if (specialCounter &lt; 1)\r\n        System.out.println(&quot;Enter atleast 1 special character&quot;);\r\n      \r\n      System.out.print (&quot;\\n&quot;);\r\n      \r\n      \r\n    }\r\n    \r\n    System.out.println (&quot;Your login details&quot;);\r\n    System.out.print (&quot;\\n&quot;);\r\n    \r\n    System.out.println (&quot;Name    : &quot; + name);\r\n    System.out.println (&quot;Birthday: &quot; + birthday);\r\n    System.out.println (&quot;Username: &quot; + name.substring(0, 2) + name.substring(spacePosition + 3) + birthday.substring(3,5));\r\n    System.out.println (&quot;Password: &quot; + password);\r\n```\r\n\r\n\r\nThe problem is that when the user enters an invalid password, the process will continue to print the login details.\r\n\r\nI want to know how I can terminate the program or loop back into entering the password.\r\n\r\nIf the password is valid, then the details will print; if the password is invalid, then the program will loop back to requesting the password or the program will be terminated.","title":"How can I terminate a program when the user input is not a valid password","body":"<p>I'm new in java programming, How can I terminate my program when the user input is not a valid password?</p>\n<p>Here is my code that has a problem</p>\n<pre><code>final int MAX = 8;\n    final int MIN_Uppercase = 1;\n    final int NUM_Digits = 1;\n    final int Special = 1;\n    \n    int invalidCount = 0;\n    int uppercaseCounter = 0;\n    int digitCounter = 0;\n    int specialCounter = 0;\n    int spaceCounter = 0;\n    \n    Scanner sc = new Scanner (System.in);\n    \n    System.out.println (&quot;Enter Name: &quot;);\n    String name = sc.nextLine();\n    int spacePosition = name.indexOf(&quot; &quot;);\n    \n    System.out.print (&quot;\\n&quot;);\n    \n    System.out.println (&quot;Enter Birthday (MM DD YYYY): &quot;);\n    String birthday = sc.nextLine();\n    \n    System.out.print (&quot;\\n&quot;);\n    \n    System.out.println (&quot;Enter password: &quot;);\n    Scanner input = new Scanner (System.in);\n    \n    String password = input.nextLine();\n        \n        for (int i = 0; i &lt; password.length(); i ++)\n        {\n          char c = password.charAt(i);\n          \n          if (Character.isUpperCase(c))\n            uppercaseCounter ++;\n          \n          if (c == ' ')\n            spaceCounter ++;\n          \n          if (c == '$' || c == '#' || c == '?' || c == '!' || c == '_' || c == '=' || c == '%' || c == '.')\n            specialCounter ++;\n          \n          else if (Character.isDigit(c))\n            digitCounter ++;\n        }\n    if (password.length() &gt;= MAX &amp;&amp; uppercaseCounter &gt;= MIN_Uppercase &amp;&amp; specialCounter == 1 &amp;&amp; digitCounter == 1)\n    {\n      System.out.println(&quot; &quot;);\n      \n      System.out.println (&quot;\\n&quot;);\n    }\n    else\n    {\n      \n      if (password.length() &lt; MAX)\n        System.out.println(&quot;Enter atleast 8 characters&quot;);\n      \n      if (spaceCounter &gt; 0)\n        System.out.println(&quot;Password contains whitespaces&quot;);\n      \n      if (uppercaseCounter &lt; MIN_Uppercase)\n        System.out.println(&quot;Enter atleast 1 Uppercase Character&quot;);\n      \n      if (digitCounter &lt; 1)\n        System.out.println(&quot;Enter atleast 1 digit&quot;);\n      \n      if (specialCounter &lt; 1)\n        System.out.println(&quot;Enter atleast 1 special character&quot;);\n      \n      System.out.print (&quot;\\n&quot;);\n      \n      \n    }\n    \n    System.out.println (&quot;Your login details&quot;);\n    System.out.print (&quot;\\n&quot;);\n    \n    System.out.println (&quot;Name    : &quot; + name);\n    System.out.println (&quot;Birthday: &quot; + birthday);\n    System.out.println (&quot;Username: &quot; + name.substring(0, 2) + name.substring(spacePosition + 3) + birthday.substring(3,5));\n    System.out.println (&quot;Password: &quot; + password);\n</code></pre>\n<p>The problem is that when the user enters an invalid password, the process will continue to print the login details.</p>\n<p>I want to know how I can terminate the program or loop back into entering the password.</p>\n<p>If the password is valid, then the details will print; if the password is invalid, then the program will loop back to requesting the password or the program will be terminated.</p>\n"},{"tags":["java","arrays","recursion","stack-overflow","factorial"],"comments":[{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":0,"creation_date":1667847942,"post_id":74351598,"comment_id":131261104,"body_markdown":"Use debug to find out what factorials you are calculating. Check the size of those factorials to see if they overflow the variable you are using. For example 100! has 158 digits: 100! = 9.3e157","body":"Use debug to find out what factorials you are calculating. Check the size of those factorials to see if they overflow the variable you are using. For example 100! has 158 digits: 100! = 9.3e157"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1667847992,"post_id":74351598,"comment_id":131261129,"body_markdown":"What is the input ?","body":"What is the input ?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1667848021,"post_id":74351598,"comment_id":131261135,"body_markdown":"BTW: Take care of java naming conventions. Class names should start with upper case character","body":"BTW: Take care of java naming conventions. Class names should start with upper case character"},{"owner":{"account_id":19845379,"reputation":1,"user_id":14953599,"display_name":"457r4"},"score":0,"creation_date":1667848807,"post_id":74351598,"comment_id":131261388,"body_markdown":"Good point, i never considered the result of (factorial(n) / 2 * factorial(n - 2)) could be wrong, in fact, it returns wrong values; i&#39;m testing different things like using all values of the same type (long) to do the calculation, but it doesn&#39;t seem to work, how can i correct that?","body":"Good point, i never considered the result of (factorial(n) / 2 * factorial(n - 2)) could be wrong, in fact, it returns wrong values; i&#39;m testing different things like using all values of the same type (long) to do the calculation, but it doesn&#39;t seem to work, how can i correct that?"},{"owner":{"account_id":19845379,"reputation":1,"user_id":14953599,"display_name":"457r4"},"score":0,"creation_date":1667848874,"post_id":74351598,"comment_id":131261410,"body_markdown":"The input of how big the array can be goes from 2 to 20","body":"The input of how big the array can be goes from 2 to 20"},{"owner":{"account_id":19845379,"reputation":1,"user_id":14953599,"display_name":"457r4"},"score":0,"creation_date":1667849150,"post_id":74351598,"comment_id":131261497,"body_markdown":"It works only if i save factorial(n), factorial(n - 2) and (factorial(n) / 2 * factorial(n - 2)) in different variables before returning the one containing the result... why. And it is still in overflow in the end","body":"It works only if i save factorial(n), factorial(n - 2) and (factorial(n) / 2 * factorial(n - 2)) in different variables before returning the one containing the result... why. And it is still in overflow in the end"}],"answers":[{"tags":[],"owner":{"account_id":11394190,"reputation":331,"user_id":8353152,"display_name":"DBear"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667864691,"creation_date":1667864691,"answer_id":74354230,"question_id":74351598,"body_markdown":"So, `deleteRepeated` is all messed up. The issue is `deleteRepeated` does not actually remove duplicate elements, so the check for the base case of recursion always fails. I&#39;m not sure why you&#39;re using recursion here anyway; if the while loop worked properly, it could remove all duplicates without need for recursion.\r\n\r\nIt appears that you copy-pasted the implementation of `repeated` into `deleteRepeated`, and you replaced the logic for handling _repeated_ elements with logic that handles _non-repeated_ elements.\r\n\r\nHere is how I would implement the method:\r\n\r\n```java\r\npublic static int deleteRepeated(int arr[], int newArr[]) {\r\n  int n = 0;\r\n  for(int i = 0; i &lt; arr.length; i++) {\r\n    boolean unique = true;\r\n    for(int j = 0; j &lt; n; j++)\r\n      unique = unique &amp;&amp; newArr[j] != arr[i];\r\n    if(unique)\r\n      newArr[n++] = arr[i];\r\n    if(n &gt;= newArr.length) break;\r\n  }\r\n  return n;\r\n}\r\n```","title":"java.lang.StackOverflowError on factorial function being called by another recursive function","body":"<p>So, <code>deleteRepeated</code> is all messed up. The issue is <code>deleteRepeated</code> does not actually remove duplicate elements, so the check for the base case of recursion always fails. I'm not sure why you're using recursion here anyway; if the while loop worked properly, it could remove all duplicates without need for recursion.</p>\n<p>It appears that you copy-pasted the implementation of <code>repeated</code> into <code>deleteRepeated</code>, and you replaced the logic for handling <em>repeated</em> elements with logic that handles <em>non-repeated</em> elements.</p>\n<p>Here is how I would implement the method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int deleteRepeated(int arr[], int newArr[]) {\n  int n = 0;\n  for(int i = 0; i &lt; arr.length; i++) {\n    boolean unique = true;\n    for(int j = 0; j &lt; n; j++)\n      unique = unique &amp;&amp; newArr[j] != arr[i];\n    if(unique)\n      newArr[n++] = arr[i];\n    if(n &gt;= newArr.length) break;\n  }\n  return n;\n}\n</code></pre>\n"}],"owner":{"account_id":19845379,"reputation":1,"user_id":14953599,"display_name":"457r4"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667864691,"creation_date":1667847622,"question_id":74351598,"body_markdown":"I have a factorial function on my program that works fine until i try to execute the function deleteRepeated(), the console is telling me that the error is in the return of the factorial function, maybe it&#39;s being called by a single function too many times in a short period of time? I&#39;ve been stuck for hours.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class ex9 {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            int n = sc.nextInt();\r\n            int[] arr = new int[n];\r\n            for (int i = 0; i &lt; n; i++) {\r\n                arr[i] = sc.nextInt();\r\n            }\r\n            int[] newArr = new int[n - repeated(arr)];\r\n            int[] finalArr = deleteRepeated(arr, newArr);\r\n            for (int a : finalArr) {\r\n                System.out.println(a);\r\n            }\r\n        }\r\n    \r\n        public static long factorial(int n) {\r\n            if (n == 0)\r\n                return 1;\r\n            return (n * factorial(n - 1));\r\n        }\r\n        \r\n        public static int repeated(int arr[]) {\r\n            int n = arr.length;\r\n            int mix = (int) (factorial(n) / (2 * factorial(n - 2)));\r\n            int i = 0;\r\n            int k = 0;\r\n            int rep = 0;\r\n            int a = -100;\r\n            while (i &lt; mix) {\r\n                for (int j = k + 1; j &lt; n; j++) {\r\n                    if (arr[k] == arr[j] &amp;&amp; a != j) {\r\n                        a = j;\r\n                        rep += 1;\r\n                    }\r\n                    i++;\r\n                }\r\n                k++;\r\n            }\r\n            return rep;\r\n        }\r\n        \r\n        public static int[] deleteRepeated(int arr[], int newArr[]) {\r\n            int n = arr.length;\r\n            int rep = repeated(arr);\r\n            int i = 0;\r\n            int k = 0;\r\n            int a = -100;\r\n            while (i &lt; newArr.length) {\r\n                for (int j = k + 1; j &lt; n; j++) {\r\n                    if (arr[k] == arr[j] &amp;&amp; a != arr[k]) {\r\n                        a = arr[j];\r\n                        newArr[k] = arr[k];\r\n                    }\r\n                    i++;\r\n                }\r\n                k++;\r\n            }\r\n            rep = repeated(newArr);\r\n            if (rep &gt; 0) {\r\n                int[] newArr2 = new int[newArr.length - rep];\r\n                deleteRepeated(newArr, newArr2);\r\n            }\r\n            return newArr;\r\n        }\r\n    }\r\n\r\nOnly thing i could do to avoid the error was stopping the function from executing :/, maybe it has to do with how i&#39;m re-calling it at the end of each execution...? is what i did allowed?\r\n","title":"java.lang.StackOverflowError on factorial function being called by another recursive function","body":"<p>I have a factorial function on my program that works fine until i try to execute the function deleteRepeated(), the console is telling me that the error is in the return of the factorial function, maybe it's being called by a single function too many times in a short period of time? I've been stuck for hours.</p>\n<pre><code>import java.util.Scanner;\n\npublic class ex9 {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int[] arr = new int[n];\n        for (int i = 0; i &lt; n; i++) {\n            arr[i] = sc.nextInt();\n        }\n        int[] newArr = new int[n - repeated(arr)];\n        int[] finalArr = deleteRepeated(arr, newArr);\n        for (int a : finalArr) {\n            System.out.println(a);\n        }\n    }\n\n    public static long factorial(int n) {\n        if (n == 0)\n            return 1;\n        return (n * factorial(n - 1));\n    }\n    \n    public static int repeated(int arr[]) {\n        int n = arr.length;\n        int mix = (int) (factorial(n) / (2 * factorial(n - 2)));\n        int i = 0;\n        int k = 0;\n        int rep = 0;\n        int a = -100;\n        while (i &lt; mix) {\n            for (int j = k + 1; j &lt; n; j++) {\n                if (arr[k] == arr[j] &amp;&amp; a != j) {\n                    a = j;\n                    rep += 1;\n                }\n                i++;\n            }\n            k++;\n        }\n        return rep;\n    }\n    \n    public static int[] deleteRepeated(int arr[], int newArr[]) {\n        int n = arr.length;\n        int rep = repeated(arr);\n        int i = 0;\n        int k = 0;\n        int a = -100;\n        while (i &lt; newArr.length) {\n            for (int j = k + 1; j &lt; n; j++) {\n                if (arr[k] == arr[j] &amp;&amp; a != arr[k]) {\n                    a = arr[j];\n                    newArr[k] = arr[k];\n                }\n                i++;\n            }\n            k++;\n        }\n        rep = repeated(newArr);\n        if (rep &gt; 0) {\n            int[] newArr2 = new int[newArr.length - rep];\n            deleteRepeated(newArr, newArr2);\n        }\n        return newArr;\n    }\n}\n</code></pre>\n<p>Only thing i could do to avoid the error was stopping the function from executing :/, maybe it has to do with how i'm re-calling it at the end of each execution...? is what i did allowed?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1667862845,"post_id":74353980,"comment_id":131264986,"body_markdown":"You&#39;re spelling the name of the first directory wrong. Also you should arrange that the path to the file be passed in to the program otherwise it becomes unmanageable","body":"You&#39;re spelling the name of the first directory wrong. Also you should arrange that the path to the file be passed in to the program otherwise it becomes unmanageable"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1667863842,"post_id":74353980,"comment_id":131265194,"body_markdown":"You should also not be referencing `src` in your code.  In this context, I would suggest looking at how &quot;embedded resources&quot; work, but if it&#39;s a &quot;web app&quot;, this might require a different workflow","body":"You should also not be referencing <code>src</code> in your code.  In this context, I would suggest looking at how &quot;embedded resources&quot; work, but if it&#39;s a &quot;web app&quot;, this might require a different workflow"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667864611,"post_id":74353980,"comment_id":131265361,"body_markdown":"MadProgrammer is correct. You also need to get familiarized with how to properly create and use relative paths, particularly if inside your project.","body":"MadProgrammer is correct. You also need to get familiarized with how to properly create and use relative paths, particularly if inside your project."},{"owner":{"account_id":24816882,"reputation":11,"user_id":18697632,"display_name":"Marissa Smith"},"score":0,"creation_date":1667875417,"post_id":74353980,"comment_id":131266864,"body_markdown":"I&#39;m curious how do I go about arranging a path? I understand now my StudentMain class is unable to find my excel file. I thought adding a file under web app, that contains the excel file would work.  Then dependencies I am using are older versions and are highlighted in yellow Is there a way to fix that? Following videos instructed by my teacher...","body":"I&#39;m curious how do I go about arranging a path? I understand now my StudentMain class is unable to find my excel file. I thought adding a file under web app, that contains the excel file would work.  Then dependencies I am using are older versions and are highlighted in yellow Is there a way to fix that? Following videos instructed by my teacher..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667894681,"post_id":74353980,"comment_id":131270194,"body_markdown":"It doesn&#39;t work for the reason I and others gave. It is difficult to know what the best way to treat the means of inputting the file path without knowing more about the app. Begin by correcting your spelling mistake","body":"It doesn&#39;t work for the reason I and others gave. It is difficult to know what the best way to treat the means of inputting the file path without knowing more about the app. Begin by correcting your spelling mistake"}],"owner":{"account_id":24816882,"reputation":11,"user_id":18697632,"display_name":"Marissa Smith"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667864435,"creation_date":1667862503,"question_id":74353980,"body_markdown":"Output Student data to the Console\r\n\r\nI have made the Student data into a List of Student objects, I want to output the contents of the List to the Console. I don&#39;t understand what this error means. Any clarification is much appreciated!\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.io.FileNotFoundException: scr\\main\\webapp\\assets\\JavaWebProgramming.xlsx\r\n\tat StudentMain.main(StudentMain.java:23)\r\nCaused by: java.io.FileNotFoundException: scr\\main\\webapp\\assets\\JavaWebProgramming.xlsx\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:293)\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:271)\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:252)\r\n\tat utility.WorkbookUtility.retrievePeopleFromWorkbook(WorkbookUtility.java:17)\r\n\tat StudentMain.main(StudentMain.java:16)\r\n\r\nProcess finished with exit code 1\r\n```\r\nHere is the code I believe is causing the error\r\n```\r\nimport model.Person;\r\nimport utility.WorkbookUtility;\r\n    \r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n    \r\npublic class StudentMain {\r\n    public final static String INPUT_FILE =&quot;scr\\\\main\\\\webapp\\\\assets\\\\JavaWebProgramming.xlsx&quot;;\r\n    \r\n    public static void main(String[] args) {\r\n    \r\n        final File inputFile = new File(INPUT_FILE);\r\n    \r\n        try {\r\n            final List&lt;Person&gt;  people = WorkbookUtility.retrievePeopleFromWorkbook(inputFile);\r\n        \r\n            for(final Person person : people) {\r\n                System.out.println(person);\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```","title":"java.io.FileNotFoundException? Unable to ouput data from excel file to console","body":"<p>Output Student data to the Console</p>\n<p>I have made the Student data into a List of Student objects, I want to output the contents of the List to the Console. I don't understand what this error means. Any clarification is much appreciated!</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.io.FileNotFoundException: scr\\main\\webapp\\assets\\JavaWebProgramming.xlsx\n    at StudentMain.main(StudentMain.java:23)\nCaused by: java.io.FileNotFoundException: scr\\main\\webapp\\assets\\JavaWebProgramming.xlsx\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:293)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:271)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:252)\n    at utility.WorkbookUtility.retrievePeopleFromWorkbook(WorkbookUtility.java:17)\n    at StudentMain.main(StudentMain.java:16)\n\nProcess finished with exit code 1\n</code></pre>\n<p>Here is the code I believe is causing the error</p>\n<pre><code>import model.Person;\nimport utility.WorkbookUtility;\n    \nimport java.io.File;\nimport java.io.IOException;\nimport java.util.List;\n    \npublic class StudentMain {\n    public final static String INPUT_FILE =&quot;scr\\\\main\\\\webapp\\\\assets\\\\JavaWebProgramming.xlsx&quot;;\n    \n    public static void main(String[] args) {\n    \n        final File inputFile = new File(INPUT_FILE);\n    \n        try {\n            final List&lt;Person&gt;  people = WorkbookUtility.retrievePeopleFromWorkbook(inputFile);\n        \n            for(final Person person : people) {\n                System.out.println(person);\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","lambda","key-value","collectors"],"comments":[{"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"score":2,"creation_date":1667860322,"post_id":74353433,"comment_id":131264437,"body_markdown":"Do you mean `Map&lt;K,Collection&lt;V&gt;&gt;` instead of `Map&lt;K,V&gt;`?","body":"Do you mean <code>Map&lt;K,Collection&lt;V&gt;&gt;</code> instead of <code>Map&lt;K,V&gt;</code>?"},{"owner":{"display_name":"user19320502"},"score":0,"creation_date":1667861364,"post_id":74353433,"comment_id":131264661,"body_markdown":"@Alex.T apologies, thank you, edited.","body":"@Alex.T apologies, thank you, edited."},{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1667861724,"post_id":74353433,"comment_id":131264734,"body_markdown":"You mean you want to merge the lists corresponding to the same key?","body":"You mean you want to merge the lists corresponding to the same key?"}],"answers":[{"tags":[],"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667860700,"creation_date":1667860700,"answer_id":74353723,"question_id":74353433,"body_markdown":"You can use `associate` to covert it. For exampe:\r\n\r\n```kotlin\r\nlistOf(\r\n    Pair(1, listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;)),\r\n    Pair(2, listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;)),\r\n    Pair(3, listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;))\r\n).associate { it.first to it.second }\r\n```\r\n\r\nThe result is map: \r\n```\r\n{1=[1, 2, 3], 2=[1, 2, 3], 3=[1, 2, 3]}\r\n```\r\n\r\nIf you need only first element as a value, you need to modify only value mapping to `it.second.first()`.","title":"Convert List&lt;Pair&lt;K, Collection&lt;V&gt;&gt;&gt; to Map&lt;K,Collection&lt;V&gt;&gt; in Kotlin","body":"<p>You can use <code>associate</code> to covert it. For exampe:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>listOf(\n    Pair(1, listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;)),\n    Pair(2, listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;)),\n    Pair(3, listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;))\n).associate { it.first to it.second }\n</code></pre>\n<p>The result is map:</p>\n<pre><code>{1=[1, 2, 3], 2=[1, 2, 3], 3=[1, 2, 3]}\n</code></pre>\n<p>If you need only first element as a value, you need to modify only value mapping to <code>it.second.first()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667864213,"creation_date":1667861652,"answer_id":74353873,"question_id":74353433,"body_markdown":"FYI, Kotlin has a [toMap](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-map.html) function exactly for that in cases where you don&#39;t need to merge the values of duplicate keys.\r\n\r\nHowever, if you want to merge, you&#39;ll have to go with slightly more complicated. Assuming you have a list of pairs like this:\r\n\r\n```kotlin\r\nval pairs = listOf(\r\n    1 to listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;),\r\n    1 to listOf(&quot;4&quot;),\r\n    2 to listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;),\r\n    3 to listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;),\r\n    3 to listOf(&quot;4&quot;, &quot;5&quot;, &quot;6&quot;),\r\n)\r\n```\r\n\r\nYou can use [groupBy](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html) and [mapValues](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-values.html) like this:\r\n\r\n```kotlin\r\nval map = pairs.groupBy({ it.first }, { it.second })\r\n               .mapValues { (k, v) -&gt; v.flatten() }\r\n```\r\n\r\nThe `groupBy` will create a `Map&lt;Int, List&lt;List&lt;String&gt;&gt;&gt;`, so each key will be mapped to the list of all the values corresponding to it. Then the `mapValues` flattens each list of lists so it becomes a single list.\r\n\r\nNote that this create an intermediate map and may not be very efficient in performance-sensitive code compared to the provided Java. If you need efficiency, you can use [groupingBy](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/grouping-by.html) instead to get a more lazy grouping and aggregate it as you please. For instance:\r\n\r\n```kotlin\r\nval map = pairs.groupingBy { it.first }\r\n               .fold(emptyList&lt;String&gt;()) { acc, v -&gt; acc + v.second }\r\n```\r\n\r\nwhich is nice but creates intermediate lists when merging. Or:\r\n\r\n```kotlin\r\nval map = pairs.groupingBy { it.first }.fold(\r\n    initialValueSelector = { _, _ -&gt; mutableListOf&lt;String&gt;() },\r\n    operation = { _, acc, v -&gt; acc.addAll(v.second); acc }\r\n)\r\n```\r\nwhich creates a single list per key, but is a bit more complicated. Or another variant if you want to get crazier:\r\n\r\n```kotlin\r\nval map = pairs.groupingBy { it.first }.aggregate { k, acc: List&lt;String&gt;?, v, _ -&gt;\r\n    if (acc == null) v.second else acc + v.second\r\n}\r\n```\r\n(which admittedly is a bit of a mouthful, and still creates intermediate lists)","title":"Convert List&lt;Pair&lt;K, Collection&lt;V&gt;&gt;&gt; to Map&lt;K,Collection&lt;V&gt;&gt; in Kotlin","body":"<p>FYI, Kotlin has a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-map.html\" rel=\"nofollow noreferrer\">toMap</a> function exactly for that in cases where you don't need to merge the values of duplicate keys.</p>\n<p>However, if you want to merge, you'll have to go with slightly more complicated. Assuming you have a list of pairs like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val pairs = listOf(\n    1 to listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;),\n    1 to listOf(&quot;4&quot;),\n    2 to listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;),\n    3 to listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;),\n    3 to listOf(&quot;4&quot;, &quot;5&quot;, &quot;6&quot;),\n)\n</code></pre>\n<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html\" rel=\"nofollow noreferrer\">groupBy</a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-values.html\" rel=\"nofollow noreferrer\">mapValues</a> like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val map = pairs.groupBy({ it.first }, { it.second })\n               .mapValues { (k, v) -&gt; v.flatten() }\n</code></pre>\n<p>The <code>groupBy</code> will create a <code>Map&lt;Int, List&lt;List&lt;String&gt;&gt;&gt;</code>, so each key will be mapped to the list of all the values corresponding to it. Then the <code>mapValues</code> flattens each list of lists so it becomes a single list.</p>\n<p>Note that this create an intermediate map and may not be very efficient in performance-sensitive code compared to the provided Java. If you need efficiency, you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/grouping-by.html\" rel=\"nofollow noreferrer\">groupingBy</a> instead to get a more lazy grouping and aggregate it as you please. For instance:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val map = pairs.groupingBy { it.first }\n               .fold(emptyList&lt;String&gt;()) { acc, v -&gt; acc + v.second }\n</code></pre>\n<p>which is nice but creates intermediate lists when merging. Or:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val map = pairs.groupingBy { it.first }.fold(\n    initialValueSelector = { _, _ -&gt; mutableListOf&lt;String&gt;() },\n    operation = { _, acc, v -&gt; acc.addAll(v.second); acc }\n)\n</code></pre>\n<p>which creates a single list per key, but is a bit more complicated. Or another variant if you want to get crazier:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val map = pairs.groupingBy { it.first }.aggregate { k, acc: List&lt;String&gt;?, v, _ -&gt;\n    if (acc == null) v.second else acc + v.second\n}\n</code></pre>\n<p>(which admittedly is a bit of a mouthful, and still creates intermediate lists)</p>\n"}],"owner":{"display_name":"user19320502"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74353873,"answer_count":2,"score":2,"last_activity_date":1667864213,"creation_date":1667858658,"question_id":74353433,"body_markdown":"&gt; Does anyone know how to convert a List&lt;Pair&lt;K, Collection&lt; V &gt;&gt;&gt; to\r\n&gt; Map&lt;K,Collection&lt; V &gt;&gt; in Kotlin, merging the collections associated with the same key?\r\n\r\nIn Java I would use something like:\r\n\r\n    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (c1, c2) -&gt; {\r\n          List result = new ArrayList&lt;&gt;();\r\n          result.addAll(c1);\r\n          result.addAll(c2);\r\n          return result;\r\n    })\r\n\r\nDoes Kotlin have a similar device, or a better one? Any advice is appreciated.\r\n\r\n\r\n","title":"Convert List&lt;Pair&lt;K, Collection&lt;V&gt;&gt;&gt; to Map&lt;K,Collection&lt;V&gt;&gt; in Kotlin","body":"<blockquote>\n<p>Does anyone know how to convert a List&lt;Pair&lt;K, Collection&lt; V &gt;&gt;&gt; to\nMap&lt;K,Collection&lt; V &gt;&gt; in Kotlin, merging the collections associated with the same key?</p>\n</blockquote>\n<p>In Java I would use something like:</p>\n<pre><code>.collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (c1, c2) -&gt; {\n      List result = new ArrayList&lt;&gt;();\n      result.addAll(c1);\n      result.addAll(c2);\n      return result;\n})\n</code></pre>\n<p>Does Kotlin have a similar device, or a better one? Any advice is appreciated.</p>\n"},{"tags":["java","cryptography","bouncycastle","pbkdf2"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1667863820,"post_id":74354098,"comment_id":131265186,"body_markdown":"Try and show the output of the bytes using a base 64 or hexadecimal encoder. What you are currently looking at is the *reference to the object* printed out as string, as byte arrays don&#39;t implement a special `toString()`  method themselves. Java 17+ has HexFormat, or otherwise there is an [so Q/A](https://stackoverflow.com/q/9655181/589259)","body":"Try and show the output of the bytes using a base 64 or hexadecimal encoder. What you are currently looking at is the <i>reference to the object</i> printed out as string, as byte arrays don&#39;t implement a special <code>toString()</code>  method themselves. Java 17+ has HexFormat, or otherwise there is an <a href=\"https://stackoverflow.com/q/9655181/589259\">so Q/A</a>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1667895799,"post_id":74354098,"comment_id":131270554,"body_markdown":"In Java you can not print `byte[]` types using `toString()` (or if you do you only get a string like you did). Please learn how to properly print the content of byte arrays e.g. encode it hex or base64.","body":"In Java you can not print <code>byte[]</code> types using <code>toString()</code> (or if you do you only get a string like you did). Please learn how to properly print the content of byte arrays e.g. encode it hex or base64."}],"owner":{"account_id":20252831,"reputation":1,"user_id":14853381,"display_name":"Jeremy Romano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667863298,"creation_date":1667863298,"question_id":74354098,"body_markdown":"I&#39;m trying to write a password hashing function using PBKDF2 and Bouncy Castle as the provider. I&#39;m new to cryptography, so the majority of the code below was taken from another SO post. However, every time I run the function for a given password, it produces the same hash. Shouldn&#39;t the hash be different, considering I&#39;m generating a new salt each time from the Secure Random object?\r\nHere is the code:\r\n\r\n```\r\n    SecureRandom random = new SecureRandom();\r\n    byte[] salt = new byte[8];\r\n    final int iterationCount = 20000;\r\n    final int keyLength = 256;\r\n    random.nextBytes(salt);\r\n\r\n    try {\r\n         SecretKeyFactory factoryBC =  SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA3-256&quot;, &quot;BC&quot;);\r\n         KeySpec keySpecBC = new PBEKeySpec(password.toCharArray(), salt, iterationCount, keyLength);\r\n         SecretKey keyBC = factoryBC.generateSecret(keySpecBC);\r\n         String hashedPW = keyBC.getEncoded().toString();\r\n         }\r\n\r\n```\r\n\r\n\r\nFor example, if I pass in the string &quot;hello&quot;, I will get back &quot;[B@44af588b&quot; each time. \r\n","title":"Duplicate Output for PBKDF2 using Bouncy Castle","body":"<p>I'm trying to write a password hashing function using PBKDF2 and Bouncy Castle as the provider. I'm new to cryptography, so the majority of the code below was taken from another SO post. However, every time I run the function for a given password, it produces the same hash. Shouldn't the hash be different, considering I'm generating a new salt each time from the Secure Random object?\nHere is the code:</p>\n<pre><code>    SecureRandom random = new SecureRandom();\n    byte[] salt = new byte[8];\n    final int iterationCount = 20000;\n    final int keyLength = 256;\n    random.nextBytes(salt);\n\n    try {\n         SecretKeyFactory factoryBC =  SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA3-256&quot;, &quot;BC&quot;);\n         KeySpec keySpecBC = new PBEKeySpec(password.toCharArray(), salt, iterationCount, keyLength);\n         SecretKey keyBC = factoryBC.generateSecret(keySpecBC);\n         String hashedPW = keyBC.getEncoded().toString();\n         }\n\n</code></pre>\n<p>For example, if I pass in the string &quot;hello&quot;, I will get back &quot;[B@44af588b&quot; each time.</p>\n"},{"tags":["java","concurrency","thread-safety","concurrenthashmap"],"comments":[{"owner":{"account_id":20758614,"reputation":11,"user_id":15255478,"display_name":"Question_283"},"score":0,"creation_date":1667842183,"post_id":74350363,"comment_id":131259151,"body_markdown":"Technically, I can use my locks and the classic hashmap, but as far as I know, it&#39;s not very productive.","body":"Technically, I can use my locks and the classic hashmap, but as far as I know, it&#39;s not very productive."},{"owner":{"account_id":20758614,"reputation":11,"user_id":15255478,"display_name":"Question_283"},"score":0,"creation_date":1667842391,"post_id":74350363,"comment_id":131259210,"body_markdown":"yeah, but... Map is &lt;Integer, ?&gt; and I can&#39;t just use #computeIfAbsent(Object from Record)","body":"yeah, but... Map is &lt;Integer, ?&gt; and I can&#39;t just use #computeIfAbsent(Object from Record)"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1667843147,"post_id":74350363,"comment_id":131259467,"body_markdown":"Wait, Never mind. I wasn&#39;t looking closely enough at what you are trying to do. I have withdrawn my previous comments.","body":"Wait, Never mind. I wasn&#39;t looking closely enough at what you are trying to do. I have withdrawn my previous comments."}],"answers":[{"tags":[],"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667862548,"creation_date":1667862548,"answer_id":74353989,"question_id":74350363,"body_markdown":"What you&#39;re suggesting would defeat the purpose of using a HashMap since you&#39;re iterating through the Map instead of retrieving from the Map.\r\n\r\nWhat you should really do is create a new Map where the field in Record.a is the Key and the field in Record.B is the value (or just the whole Record). Then just update your logic to insert into both Maps appropriately.","title":"ConcurrentHashMap, find by value, compare fields and put","body":"<p>What you're suggesting would defeat the purpose of using a HashMap since you're iterating through the Map instead of retrieving from the Map.</p>\n<p>What you should really do is create a new Map where the field in Record.a is the Key and the field in Record.B is the value (or just the whole Record). Then just update your logic to insert into both Maps appropriately.</p>\n"}],"owner":{"account_id":20758614,"reputation":11,"user_id":15255478,"display_name":"Question_283"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667862548,"creation_date":1667841091,"question_id":74350363,"body_markdown":"How can I check if there is a value using the fields of a given value? And put new one? \r\nIn ConcurrentHashMap, cause I have N threads.\r\n\r\nHere is an example of what I want. However, it is not thread-safe.\r\n```\r\nMap&lt;Integer, Record&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n\r\n// it works, but I think it&#39;s unsafe\r\nint get(Object key) {\r\n   for (Map.Entry&lt;Integer, Record&gt; next : map.entrySet()) {\r\n        if (next.getValue().a == key) {\r\n          return next.getValue().b;\r\n        }\r\n      }\r\n    int code = ...newCode();\r\n    map.put(code, new Record(...))\r\n    return code;\r\n}\r\n\r\nrecord Record(Object a, int b) {\r\n}\r\n```","title":"ConcurrentHashMap, find by value, compare fields and put","body":"<p>How can I check if there is a value using the fields of a given value? And put new one?\nIn ConcurrentHashMap, cause I have N threads.</p>\n<p>Here is an example of what I want. However, it is not thread-safe.</p>\n<pre><code>Map&lt;Integer, Record&gt; map = new ConcurrentHashMap&lt;&gt;();\n\n// it works, but I think it's unsafe\nint get(Object key) {\n   for (Map.Entry&lt;Integer, Record&gt; next : map.entrySet()) {\n        if (next.getValue().a == key) {\n          return next.getValue().b;\n        }\n      }\n    int code = ...newCode();\n    map.put(code, new Record(...))\n    return code;\n}\n\nrecord Record(Object a, int b) {\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1072940,"reputation":1307,"user_id":1071777,"display_name":"user1071777"},"score":6,"creation_date":1412950543,"post_id":26301465,"comment_id":41271639,"body_markdown":"Are you looking for Java Applets? Note you need to get it signed by a CA due to new Java security requirements.","body":"Are you looking for Java Applets? Note you need to get it signed by a CA due to new Java security requirements."},{"owner":{"account_id":2120248,"reputation":7754,"user_id":1883647,"display_name":"ajp15243"},"score":2,"creation_date":1412950793,"post_id":26301465,"comment_id":41271787,"body_markdown":"If you go the way of Java applets, you&#39;ll probably encounter a slew of users who have Java disabled in their browser because of a history of severe insecurities with applets.","body":"If you go the way of Java applets, you&#39;ll probably encounter a slew of users who have Java disabled in their browser because of a history of severe insecurities with applets."}],"owner":{"account_id":5155557,"reputation":21,"user_id":4128886,"display_name":"johnson dubula"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11045,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1667862120,"creation_date":1412950378,"question_id":26301465,"body_markdown":"i have created a sophisticated software using java,but most people these day use internet applications,if i create a web based application using html/css/javascript it will take me months or years,i wanted to know if its possible to run my jar application online? \r\n\r\nis it possible to run a jar file on mobile (android,ios,blackberry os),Xamarin converts c# application is it possible to convert jar files?","title":"How do I run jar files online","body":"<p>i have created a sophisticated software using java,but most people these day use internet applications,if i create a web based application using html/css/javascript it will take me months or years,i wanted to know if its possible to run my jar application online? </p>\n\n<p>is it possible to run a jar file on mobile (android,ios,blackberry os),Xamarin converts c# application is it possible to convert jar files?</p>\n"},{"tags":["java","user-interface","console","output","panel"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1228460708,"post_id":342990,"comment_id":177815,"body_markdown":"Do you mean &quot;The java console&quot; the one that provides information about the applets and JNLP applications in use?","body":"Do you mean &quot;The java console&quot; the one that provides information about the applets and JNLP applications in use?"}],"answers":[{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1667861944,"creation_date":1228456055,"answer_id":343007,"question_id":342990,"body_markdown":"Here&#39;s a functioning class.  You can install an instance of this into the system out and err using:\r\n\r\n    PrintStream con=new PrintStream(new TextAreaOutputStream(...));\r\n    System.setOut(con);\r\n    System.setErr(con);\r\n\r\n**Updated 2014-02-19**: To use EventQueue.invokeLater() to avoid GUI threading issues which can crop up very rarely with the original.\r\n\r\n**Updated 2014-02-27**: Better implementation\r\n\r\n**Updated 2014-03-25**: Correct recording &amp; deletion of lines in text area to be within the `run()` method to avoid race-condition between appending and deleting which can happen if the console is flooded with output. The end result seems cleaner to me, as well.\r\n\r\n**Updated 2022-11-07**: Further improve implementation to completely eliminate problems from flooding with output. Note that this version will outright suppress output (with a one-line note) when it is overwhelmed with output. Previous version would eventually begin GC thrashing and the VM response would largely freeze (without actually crashing) until it finally managed to catch up.\r\n\r\n    import java.awt.*;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.util.regex.*;\r\n    import java.util.List;\r\n    import javax.swing.*;\r\n\r\n    public class TextAreaOutputStream\r\n    extends OutputStream\r\n    {\r\n\r\n    // *************************************************************************************************\r\n    // INSTANCE PROPERTIES\r\n    // *************************************************************************************************\r\n\r\n    private byte[]                          oneByte;                                                    // array for write(int val);\r\n    private Appender                        appender;                                                   // most recent action\r\n\r\n    // *************************************************************************************************\r\n    // INSTANCE CONSTRUCTORS/INIT/CLOSE/FINALIZE\r\n    // *************************************************************************************************\r\n\r\n    public TextAreaOutputStream(JTextArea txtara) {\r\n        this(txtara,1000);\r\n        }\r\n\r\n    public TextAreaOutputStream(JTextArea txtara, int maxlin) {\r\n        this(txtara,maxlin,null);\r\n        }\r\n\r\n    public TextAreaOutputStream(JTextArea txtara, int maxlin, Pattern rmvptn) {\r\n        if(maxlin&lt;1) { throw new IllegalArgumentException(&quot;TextAreaOutputStream maximum lines must be positive (value=&quot;+maxlin+&quot;)&quot;); }\r\n        oneByte=new byte[1];\r\n        appender=new Appender(txtara,maxlin,rmvptn);\r\n        }\r\n\r\n    // *************************************************************************************************\r\n    // INSTANCE METHODS - ACCESSORS\r\n    // *************************************************************************************************\r\n\r\n    /** Clear the current console text area. */\r\n    public synchronized void clear() {\r\n        if(appender!=null) { appender.clear(); }\r\n        }\r\n\r\n    // *************************************************************************************************\r\n    // INSTANCE METHODS - OUTPUT STREAM IMPLEMENTATION\r\n    // *************************************************************************************************\r\n\r\n    public synchronized void close() {\r\n        appender=null;\r\n        }\r\n\r\n    public synchronized void flush() {\r\n        }\r\n\r\n    public synchronized void write(int val) {\r\n        oneByte[0]=(byte)val;\r\n        write(oneByte,0,1);\r\n        }\r\n\r\n    public synchronized void write(byte[] ba) {\r\n        write(ba,0,ba.length);\r\n        }\r\n\r\n    public synchronized void write(byte[] ba,int str,int len) {\r\n        if(appender!=null) { appender.append(bytesToString(ba,str,len)); }\r\n        }\r\n\r\n    // *************************************************************************************************\r\n    // INSTANCE METHODS - UTILITY\r\n    // *************************************************************************************************\r\n\r\n    @edu.umd.cs.findbugs.annotations.SuppressWarnings(&quot;DM_DEFAULT_ENCODING&quot;)\r\n    static private String bytesToString(byte[] ba, int str, int len) {\r\n        try { return new String(ba,str,len,&quot;UTF-8&quot;); } catch(UnsupportedEncodingException thr) { return new String(ba,str,len); } // all JVMs are required to support UTF-8\r\n        }\r\n\r\n    // *************************************************************************************************\r\n    // STATIC NESTED CLASSES\r\n    // *************************************************************************************************\r\n\r\n        static class Appender\r\n        implements Runnable\r\n        {\r\n        private final StringBuilder         line    = new StringBuilder(1000);                                              // current line being assembled\r\n        private final List&lt;String&gt;          lines   = new ArrayList&lt;String&gt;();                                              // lines waiting to be appended\r\n        private final LinkedList&lt;Integer&gt;   lengths = new LinkedList&lt;Integer&gt;();                                            // lengths of each line within text area\r\n\r\n        private final JTextArea             textArea;\r\n        private final int                   maxLines;                                                                       // maximum lines allowed in text area\r\n        private final Pattern               rmvPattern;\r\n\r\n        private boolean                     clear;\r\n        private boolean                     queue;\r\n        private boolean                     wrapped;\r\n\r\n        Appender(JTextArea txtara, int maxlin, Pattern rmvptn) {\r\n            textArea    = txtara;\r\n            maxLines    = maxlin;\r\n            rmvPattern  = rmvptn;\r\n\r\n            clear       = false;\r\n            queue       = true;\r\n            wrapped     = false;\r\n            }\r\n\r\n        synchronized void append(String val) {\r\n            boolean eol                     = val.endsWith(EOL1) || val.endsWith(EOL2);\r\n\r\n            line.append(val);\r\n            while(line.length()&gt;LINE_MAX) {\r\n                emitLine(line.substring(0,LINE_MAX)+EOL1);\r\n                line.replace(0,LINE_MAX,&quot;[&gt;&gt;] &quot;);\r\n                }\r\n            if(eol) {\r\n                emitLine(line.toString());\r\n                line.setLength(0);\r\n                }\r\n            }\r\n\r\n        private void emitLine(String lin) {\r\n            if(lines.size()&gt;10_000) {\r\n                lines.clear();\r\n                lines.add(&quot;&lt;console-overflowed&gt;\\n&quot;);\r\n                }\r\n            else {\r\n                if(rmvPattern!=null) { lin = rmvPattern.matcher(lin).replaceAll(&quot;&quot;); }\r\n                lines.add(lin);\r\n                }\r\n            if(queue) {\r\n                queue=false;\r\n                EventQueue.invokeLater(this);\r\n                }\r\n            }\r\n\r\n        synchronized void clear() {\r\n            clear = true;\r\n            if(queue) { queue = false; EventQueue.invokeLater(this); }\r\n            wrapped = false;\r\n            }\r\n\r\n        // MUST BE THE ONLY METHOD THAT TOUCHES textArea!\r\n        public synchronized void run() {\r\n            int                             don = 0;\r\n\r\n            if(clear) {\r\n                lengths     . clear();\r\n                lines       . clear();\r\n                textArea    . setText(&quot;&quot;);\r\n                clear       = false;\r\n                }\r\n\r\n            for(String lin: lines) {\r\n                don += 1;\r\n                lengths.addLast(lin.length());\r\n                if(lengths.size()&gt;=maxLines) { textArea.replaceRange(&quot;&quot;,0,lengths.removeFirst()); }\r\n                textArea.append(lin);\r\n                if(don&gt;=100) { break; }\r\n                }\r\n            if(don==lines.size()) {\r\n                lines.clear();\r\n                queue = true;\r\n                }\r\n            else {\r\n                lines.subList(0,don).clear();\r\n                EventQueue.invokeLater(this);\r\n                }\r\n            }\r\n\r\n        static private final String         EOL1        = &quot;\\n&quot;;\r\n        static private final String         EOL2        = System.getProperty(&quot;line.separator&quot;,EOL1);\r\n        static private final int            LINE_MAX    = 1000;\r\n    }\r\n\r\nAnd here&#39;s a screenshot of it in action:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Eq20j.png","title":"Create Java console inside a GUI panel","body":"<p>Here's a functioning class.  You can install an instance of this into the system out and err using:</p>\n<pre><code>PrintStream con=new PrintStream(new TextAreaOutputStream(...));\nSystem.setOut(con);\nSystem.setErr(con);\n</code></pre>\n<p><strong>Updated 2014-02-19</strong>: To use EventQueue.invokeLater() to avoid GUI threading issues which can crop up very rarely with the original.</p>\n<p><strong>Updated 2014-02-27</strong>: Better implementation</p>\n<p><strong>Updated 2014-03-25</strong>: Correct recording &amp; deletion of lines in text area to be within the <code>run()</code> method to avoid race-condition between appending and deleting which can happen if the console is flooded with output. The end result seems cleaner to me, as well.</p>\n<p><strong>Updated 2022-11-07</strong>: Further improve implementation to completely eliminate problems from flooding with output. Note that this version will outright suppress output (with a one-line note) when it is overwhelmed with output. Previous version would eventually begin GC thrashing and the VM response would largely freeze (without actually crashing) until it finally managed to catch up.</p>\n<pre><code>import java.awt.*;\nimport java.io.*;\nimport java.util.*;\nimport java.util.regex.*;\nimport java.util.List;\nimport javax.swing.*;\n\npublic class TextAreaOutputStream\nextends OutputStream\n{\n\n// *************************************************************************************************\n// INSTANCE PROPERTIES\n// *************************************************************************************************\n\nprivate byte[]                          oneByte;                                                    // array for write(int val);\nprivate Appender                        appender;                                                   // most recent action\n\n// *************************************************************************************************\n// INSTANCE CONSTRUCTORS/INIT/CLOSE/FINALIZE\n// *************************************************************************************************\n\npublic TextAreaOutputStream(JTextArea txtara) {\n    this(txtara,1000);\n    }\n\npublic TextAreaOutputStream(JTextArea txtara, int maxlin) {\n    this(txtara,maxlin,null);\n    }\n\npublic TextAreaOutputStream(JTextArea txtara, int maxlin, Pattern rmvptn) {\n    if(maxlin&lt;1) { throw new IllegalArgumentException(&quot;TextAreaOutputStream maximum lines must be positive (value=&quot;+maxlin+&quot;)&quot;); }\n    oneByte=new byte[1];\n    appender=new Appender(txtara,maxlin,rmvptn);\n    }\n\n// *************************************************************************************************\n// INSTANCE METHODS - ACCESSORS\n// *************************************************************************************************\n\n/** Clear the current console text area. */\npublic synchronized void clear() {\n    if(appender!=null) { appender.clear(); }\n    }\n\n// *************************************************************************************************\n// INSTANCE METHODS - OUTPUT STREAM IMPLEMENTATION\n// *************************************************************************************************\n\npublic synchronized void close() {\n    appender=null;\n    }\n\npublic synchronized void flush() {\n    }\n\npublic synchronized void write(int val) {\n    oneByte[0]=(byte)val;\n    write(oneByte,0,1);\n    }\n\npublic synchronized void write(byte[] ba) {\n    write(ba,0,ba.length);\n    }\n\npublic synchronized void write(byte[] ba,int str,int len) {\n    if(appender!=null) { appender.append(bytesToString(ba,str,len)); }\n    }\n\n// *************************************************************************************************\n// INSTANCE METHODS - UTILITY\n// *************************************************************************************************\n\n@edu.umd.cs.findbugs.annotations.SuppressWarnings(&quot;DM_DEFAULT_ENCODING&quot;)\nstatic private String bytesToString(byte[] ba, int str, int len) {\n    try { return new String(ba,str,len,&quot;UTF-8&quot;); } catch(UnsupportedEncodingException thr) { return new String(ba,str,len); } // all JVMs are required to support UTF-8\n    }\n\n// *************************************************************************************************\n// STATIC NESTED CLASSES\n// *************************************************************************************************\n\n    static class Appender\n    implements Runnable\n    {\n    private final StringBuilder         line    = new StringBuilder(1000);                                              // current line being assembled\n    private final List&lt;String&gt;          lines   = new ArrayList&lt;String&gt;();                                              // lines waiting to be appended\n    private final LinkedList&lt;Integer&gt;   lengths = new LinkedList&lt;Integer&gt;();                                            // lengths of each line within text area\n\n    private final JTextArea             textArea;\n    private final int                   maxLines;                                                                       // maximum lines allowed in text area\n    private final Pattern               rmvPattern;\n\n    private boolean                     clear;\n    private boolean                     queue;\n    private boolean                     wrapped;\n\n    Appender(JTextArea txtara, int maxlin, Pattern rmvptn) {\n        textArea    = txtara;\n        maxLines    = maxlin;\n        rmvPattern  = rmvptn;\n\n        clear       = false;\n        queue       = true;\n        wrapped     = false;\n        }\n\n    synchronized void append(String val) {\n        boolean eol                     = val.endsWith(EOL1) || val.endsWith(EOL2);\n\n        line.append(val);\n        while(line.length()&gt;LINE_MAX) {\n            emitLine(line.substring(0,LINE_MAX)+EOL1);\n            line.replace(0,LINE_MAX,&quot;[&gt;&gt;] &quot;);\n            }\n        if(eol) {\n            emitLine(line.toString());\n            line.setLength(0);\n            }\n        }\n\n    private void emitLine(String lin) {\n        if(lines.size()&gt;10_000) {\n            lines.clear();\n            lines.add(&quot;&lt;console-overflowed&gt;\\n&quot;);\n            }\n        else {\n            if(rmvPattern!=null) { lin = rmvPattern.matcher(lin).replaceAll(&quot;&quot;); }\n            lines.add(lin);\n            }\n        if(queue) {\n            queue=false;\n            EventQueue.invokeLater(this);\n            }\n        }\n\n    synchronized void clear() {\n        clear = true;\n        if(queue) { queue = false; EventQueue.invokeLater(this); }\n        wrapped = false;\n        }\n\n    // MUST BE THE ONLY METHOD THAT TOUCHES textArea!\n    public synchronized void run() {\n        int                             don = 0;\n\n        if(clear) {\n            lengths     . clear();\n            lines       . clear();\n            textArea    . setText(&quot;&quot;);\n            clear       = false;\n            }\n\n        for(String lin: lines) {\n            don += 1;\n            lengths.addLast(lin.length());\n            if(lengths.size()&gt;=maxLines) { textArea.replaceRange(&quot;&quot;,0,lengths.removeFirst()); }\n            textArea.append(lin);\n            if(don&gt;=100) { break; }\n            }\n        if(don==lines.size()) {\n            lines.clear();\n            queue = true;\n            }\n        else {\n            lines.subList(0,don).clear();\n            EventQueue.invokeLater(this);\n            }\n        }\n\n    static private final String         EOL1        = &quot;\\n&quot;;\n    static private final String         EOL2        = System.getProperty(&quot;line.separator&quot;,EOL1);\n    static private final int            LINE_MAX    = 1000;\n}\n</code></pre>\n<p>And here's a screenshot of it in action:</p>\n<p><img src=\"https://i.stack.imgur.com/Eq20j.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1500815236,"creation_date":1228460478,"answer_id":343084,"question_id":342990,"body_markdown":"@Sofware Monkey:\r\n\r\nIt works! :)\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.io.*;\r\n\r\n    public class Main{\r\n        public static void main( String [] args ) throws InterruptedException  {\r\n            JFrame frame = new JFrame();\r\n            frame.add( new JLabel(&quot; Outout&quot; ), BorderLayout.NORTH );\r\n\r\n            JTextArea ta = new JTextArea();\r\n            TextAreaOutputStream taos = new TextAreaOutputStream( ta, 60 );\r\n            PrintStream ps = new PrintStream( taos );\r\n            System.setOut( ps );\r\n            System.setErr( ps );\r\n\r\n\r\n            frame.add( new JScrollPane( ta )  );\r\n\r\n            frame.pack();\r\n            frame.setVisible( true );\r\n            frame.setSize(800,600);\r\n\r\n            for( int i = 0 ; i &lt; 100 ; i++ ) {\r\n                System.out.println( i );\r\n                Thread.sleep( 500 );\r\n            }\r\n        }\r\n    }\r\n","title":"Create Java console inside a GUI panel","body":"<p>@Sofware Monkey:</p>\n\n<p>It works! :)</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.io.*;\n\npublic class Main{\n    public static void main( String [] args ) throws InterruptedException  {\n        JFrame frame = new JFrame();\n        frame.add( new JLabel(\" Outout\" ), BorderLayout.NORTH );\n\n        JTextArea ta = new JTextArea();\n        TextAreaOutputStream taos = new TextAreaOutputStream( ta, 60 );\n        PrintStream ps = new PrintStream( taos );\n        System.setOut( ps );\n        System.setErr( ps );\n\n\n        frame.add( new JScrollPane( ta )  );\n\n        frame.pack();\n        frame.setVisible( true );\n        frame.setSize(800,600);\n\n        for( int i = 0 ; i &lt; 100 ; i++ ) {\n            System.out.println( i );\n            Thread.sleep( 500 );\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1949382,"reputation":49,"user_id":1753832,"display_name":"Derive McNeill"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1350490671,"creation_date":1350490671,"answer_id":12938749,"question_id":342990,"body_markdown":"I know that this is an old thread but the fact that I found it while trying to figure out a good way of doing this means others probably will too.\r\n\r\nHere&#39;s a (Probably) cleaner way of doing what software monkey posted:\r\n\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import java.util.ArrayList;\r\n    \r\n    import javax.swing.JTextArea;\r\n    \r\n    /**\r\n     * Represents a console viewable through a &lt;code&gt;JTextArea&lt;/code&gt;.\r\n     * \r\n     * &lt;p&gt;\r\n     * \tImplementation:\r\n     * \t&lt;code&gt;\r\n     * \t\tSystem.setOut(new PrintStream(new Console( ... )));\r\n     * \t&lt;/code&gt;\r\n     * \t&lt;/p&gt;\r\n     * \r\n     * @author Derive McNeill\r\n     *\r\n     */\r\n    public class Console extends OutputStream {\r\n    \r\n    \t/**\r\n    \t * Represents the data written to the stream.\r\n    \t */\r\n    \tArrayList &lt;Byte&gt; data = new ArrayList &lt;Byte&gt; ();\r\n    \t\r\n    \t/**\r\n    \t * Represents the text area that will be showing the written data.\r\n    \t */\r\n    \tprivate JTextArea output;\r\n    \t\r\n    \t/**\r\n    \t * Creates a console context.\r\n    \t * @param output\r\n    \t * \t\tThe text area to output the consoles text.\r\n    \t */\r\n    \tpublic Console(JTextArea output) {\r\n    \t\tthis.output = output;\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Called when data has been written to the console.\r\n    \t */\r\n    \tprivate void fireDataWritten() {\r\n    \t\t\r\n    \t\t// First we loop through our written data counting the lines.\r\n    \t\tint lines = 0;\r\n    \t\tfor (int i = 0; i &lt; data.size(); i++) {\r\n    \t\t\tbyte b = data.get(i);\r\n    \t\t\t\r\n    \t\t\t// Specifically we look for 10 which represents &quot;\\n&quot;.\r\n    \t\t\tif (b == 10) {\r\n    \t\t\t\tlines++;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t// If the line count exceeds 250 we remove older lines.\r\n    \t\t\tif (lines &gt;= 250) {\r\n    \t\t\t\tdata = (ArrayList&lt;Byte&gt;) data.subList(i, data.size());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t// We then create a string builder to append our text data.\r\n    \t\tStringBuilder bldr = new StringBuilder();\r\n    \t\t\r\n    \t\t// We loop through the text data appending it to the string builder.\r\n    \t\tfor (byte b : data) {\r\n    \t\t\tbldr.append((char) b);\r\n    \t\t}\r\n    \t\t\r\n    \t\t// Finally we set the outputs text to our built string.\r\n    \t\toutput.setText(bldr.toString());\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void write(int i) throws IOException {\r\n    \t\t\r\n    \t\t// Append the piece of data to our array of data.\r\n    \t\tdata.add((byte) i);\r\n    \t\t\r\n    \t\t// Indicate that data has just been written.\r\n    \t\tfireDataWritten();\r\n    \t}\r\n    \r\n    }","title":"Create Java console inside a GUI panel","body":"<p>I know that this is an old thread but the fact that I found it while trying to figure out a good way of doing this means others probably will too.</p>\n\n<p>Here's a (Probably) cleaner way of doing what software monkey posted:</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.OutputStream;\nimport java.util.ArrayList;\n\nimport javax.swing.JTextArea;\n\n/**\n * Represents a console viewable through a &lt;code&gt;JTextArea&lt;/code&gt;.\n * \n * &lt;p&gt;\n *  Implementation:\n *  &lt;code&gt;\n *      System.setOut(new PrintStream(new Console( ... )));\n *  &lt;/code&gt;\n *  &lt;/p&gt;\n * \n * @author Derive McNeill\n *\n */\npublic class Console extends OutputStream {\n\n    /**\n     * Represents the data written to the stream.\n     */\n    ArrayList &lt;Byte&gt; data = new ArrayList &lt;Byte&gt; ();\n\n    /**\n     * Represents the text area that will be showing the written data.\n     */\n    private JTextArea output;\n\n    /**\n     * Creates a console context.\n     * @param output\n     *      The text area to output the consoles text.\n     */\n    public Console(JTextArea output) {\n        this.output = output;\n    }\n\n    /**\n     * Called when data has been written to the console.\n     */\n    private void fireDataWritten() {\n\n        // First we loop through our written data counting the lines.\n        int lines = 0;\n        for (int i = 0; i &lt; data.size(); i++) {\n            byte b = data.get(i);\n\n            // Specifically we look for 10 which represents \"\\n\".\n            if (b == 10) {\n                lines++;\n            }\n\n            // If the line count exceeds 250 we remove older lines.\n            if (lines &gt;= 250) {\n                data = (ArrayList&lt;Byte&gt;) data.subList(i, data.size());\n            }\n        }\n\n        // We then create a string builder to append our text data.\n        StringBuilder bldr = new StringBuilder();\n\n        // We loop through the text data appending it to the string builder.\n        for (byte b : data) {\n            bldr.append((char) b);\n        }\n\n        // Finally we set the outputs text to our built string.\n        output.setText(bldr.toString());\n    }\n\n    @Override\n    public void write(int i) throws IOException {\n\n        // Append the piece of data to our array of data.\n        data.add((byte) i);\n\n        // Indicate that data has just been written.\n        fireDataWritten();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63625,"reputation":2306,"user_id":188256,"display_name":"snipsnipsnip"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1354615446,"creation_date":1352545500,"answer_id":13321464,"question_id":342990,"body_markdown":"[ByteArrayOutputStream][1] can be used to omit buffering stuff.\r\n\r\n    private void redirectConsoleTo(final JTextArea textarea) {\r\n        PrintStream out = new PrintStream(new ByteArrayOutputStream() {\r\n            public synchronized void flush() throws IOException {\r\n                textarea.setText(toString());\r\n            }\r\n        }, true);\r\n\r\n        System.setErr(out);\r\n        System.setOut(out);\r\n    }\r\n\r\nRather than limiting line number, you can bind [ByteArrayOutputStream#reset()][2] to some button.\r\n\r\n    private void redirectConsoleWithClearButton(final JTextArea textarea, JButton clearButton) {\r\n        final ByteArrayOutputStream bytes = new ByteArrayOutputStream() {\r\n            public synchronized void flush() throws IOException {\r\n                textarea.setText(toString());\r\n            }\r\n        };\r\n\r\n        clearButton.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                bytes.reset();\r\n            }\r\n        });\r\n\r\n        PrintStream out = new PrintStream(bytes, true);\r\n\r\n        System.setErr(out);\r\n        System.setOut(out);\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html#reset%28%29","title":"Create Java console inside a GUI panel","body":"<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html\" rel=\"nofollow\">ByteArrayOutputStream</a> can be used to omit buffering stuff.</p>\n\n<pre><code>private void redirectConsoleTo(final JTextArea textarea) {\n    PrintStream out = new PrintStream(new ByteArrayOutputStream() {\n        public synchronized void flush() throws IOException {\n            textarea.setText(toString());\n        }\n    }, true);\n\n    System.setErr(out);\n    System.setOut(out);\n}\n</code></pre>\n\n<p>Rather than limiting line number, you can bind <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html#reset%28%29\" rel=\"nofollow\">ByteArrayOutputStream#reset()</a> to some button.</p>\n\n<pre><code>private void redirectConsoleWithClearButton(final JTextArea textarea, JButton clearButton) {\n    final ByteArrayOutputStream bytes = new ByteArrayOutputStream() {\n        public synchronized void flush() throws IOException {\n            textarea.setText(toString());\n        }\n    };\n\n    clearButton.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            bytes.reset();\n        }\n    });\n\n    PrintStream out = new PrintStream(bytes, true);\n\n    System.setErr(out);\n    System.setOut(out);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1420173239,"creation_date":1420172035,"answer_id":27737289,"question_id":342990,"body_markdown":"I recently use the [excellent code][1] provided by [Lawrence Dol][1] in one of my project.\n\nHowever, in my case the code consumed too many memory. I managed to reduce drastically the memory comsuption by replacing `JTextarea` by a `JLabel`.\n\nMy memory saving searches showed that `JTextarea` internal code tends to hold the actual text sent too much time. Consequently, all this text could not be garbage collected.\n\nHere is the flexible version of initial code (with thread synchronization replaced by locks).\n\n## JComponentOutputStream.java\n\n    import java.awt.EventQueue;\n    import java.io.OutputStream;\n    import java.io.UnsupportedEncodingException;\n    import java.util.ArrayList;\n    import java.util.LinkedList;\n    import java.util.List;\n    import java.util.concurrent.locks.Lock;\n    import java.util.concurrent.locks.ReentrantLock;\n\n    import javax.swing.JComponent;\n\n    public class JComponentOutputStream extends OutputStream {\n\n        // *************************************************************************************************\n        // INSTANCE MEMBERS\n        // *************************************************************************************************\n\n        private byte[] oneByte; // array for write(int val);\n        private Appender appender; // most recent action\n\n        private Lock jcosLock = new ReentrantLock();\n\n        public JComponentOutputStream(JComponent txtara, JComponentHandler handler) {\n            this(txtara, 1000, handler);\n        }\n\n        public JComponentOutputStream(JComponent txtara, int maxlin, JComponentHandler handler) {\n            if (maxlin &lt; 1) {\n                throw new IllegalArgumentException(&quot;JComponentOutputStream maximum lines must be positive (value=&quot; + maxlin + &quot;)&quot;);\n            }\n            oneByte = new byte[1];\n            appender = new Appender(txtara, maxlin, handler);\n        }\n\n        /** Clear the current console text area. */\n        public void clear() {\n            jcosLock.lock();\n            try {\n                if (appender != null) {\n                    appender.clear();\n                }\n            } finally {\n                jcosLock.unlock();\n            }\n        }\n\n        public void close() {\n            jcosLock.lock();\n            try {\n                appender = null;\n            } finally {\n                jcosLock.unlock();\n            }\n        }\n\n        public void flush() {\n            // sstosLock.lock();\n            // try {\n            // // TODO: Add necessary code here...\n            // } finally {\n            // sstosLock.unlock();\n            // }\n        }\n\n        public void write(int val) {\n            jcosLock.lock();\n            try {\n                oneByte[0] = (byte) val;\n                write(oneByte, 0, 1);\n            } finally {\n                jcosLock.unlock();\n            }\n        }\n\n        public void write(byte[] ba) {\n            jcosLock.lock();\n            try {\n                write(ba, 0, ba.length);\n            } finally {\n                jcosLock.unlock();\n            }\n        }\n\n        public void write(byte[] ba, int str, int len) {\n            jcosLock.lock();\n            try {\n                if (appender != null) {\n                    appender.append(bytesToString(ba, str, len));\n                }\n            } finally {\n                jcosLock.unlock();\n            }\n        }\n\n        static private String bytesToString(byte[] ba, int str, int len) {\n            try {\n                return new String(ba, str, len, &quot;UTF-8&quot;);\n            } catch (UnsupportedEncodingException thr) {\n                return new String(ba, str, len);\n            } // all JVMs are required to support UTF-8\n        }\n\n        // *************************************************************************************************\n        // STATIC MEMBERS\n        // *************************************************************************************************\n\n        static class Appender implements Runnable {\n            private final JComponent swingComponent;\n            private final int maxLines; // maximum lines allowed in text area\n            private final LinkedList&lt;Integer&gt; lengths; // length of lines within\n                                                        // text area\n            private final List&lt;String&gt; values; // values waiting to be appended\n\n            private int curLength; // length of current line\n            private boolean clear;\n            private boolean queue;\n\n            private Lock appenderLock;\n\n            private JComponentHandler handler;\n\n            Appender(JComponent cpt, int maxlin, JComponentHandler hndlr) {\n                appenderLock = new ReentrantLock();\n\n                swingComponent = cpt;\n                maxLines = maxlin;\n                lengths = new LinkedList&lt;Integer&gt;();\n                values = new ArrayList&lt;String&gt;();\n\n                curLength = 0;\n                clear = false;\n                queue = true;\n\n                handler = hndlr;\n            }\n\n            void append(String val) {\n                appenderLock.lock();\n                try {\n                    values.add(val);\n                    if (queue) {\n                        queue = false;\n                        EventQueue.invokeLater(this);\n                    }\n                } finally {\n                    appenderLock.unlock();\n                }\n            }\n\n            void clear() {\n                appenderLock.lock();\n                try {\n\n                    clear = true;\n                    curLength = 0;\n                    lengths.clear();\n                    values.clear();\n                    if (queue) {\n                        queue = false;\n                        EventQueue.invokeLater(this);\n                    }\n                } finally {\n                    appenderLock.unlock();\n                }\n            }\n\n            // MUST BE THE ONLY METHOD THAT TOUCHES the JComponent!\n            public void run() {\n                appenderLock.lock();\n                try {\n                    if (clear) {\n                        handler.setText(swingComponent, &quot;&quot;);\n                    }\n                    for (String val : values) {\n                        curLength += val.length();\n                        if (val.endsWith(EOL1) || val.endsWith(EOL2)) {\n                            if (lengths.size() &gt;= maxLines) {\n                                handler.replaceRange(swingComponent, &quot;&quot;, 0, lengths.removeFirst());\n                            }\n                            lengths.addLast(curLength);\n                            curLength = 0;\n                        }\n                        handler.append(swingComponent, val);\n                    }\n\n                    values.clear();\n                    clear = false;\n                    queue = true;\n                } finally {\n                    appenderLock.unlock();\n                }\n            }\n\n            static private final String EOL1 = &quot;\\n&quot;;\n            static private final String EOL2 = System.getProperty(&quot;line.separator&quot;, EOL1);\n        }\n\n        public interface JComponentHandler {\n            void setText(JComponent swingComponent, String text);\n\n            void replaceRange(JComponent swingComponent, String text, int start, int end);\n\n            void append(JComponent swingComponent, String text);\n        }\n\n    } /* END PUBLIC CLASS */\n\n----\n## Sample usage\n\n    JLabel console = new JLabel();\n    JComponentOutputStream consoleOutputStream = new JComponentOutputStream(console, new JComponentHandler() {\n        private StringBuilder sb = new StringBuilder();\n\n        @Override\n        public void setText(JComponent swingComponent, String text) {\n            sb.delete(0, sb.length());\n            append(swingComponent, text);\n        }\n\n        @Override\n        public void replaceRange(JComponent swingComponent, String text, int start, int end) {\n            sb.replace(start, end, text);\n            redrawTextOf(swingComponent);\n        }\n\n        @Override\n        public void append(JComponent swingComponent, String text) {\n            sb.append(text);\n            redrawTextOf(swingComponent);\n        }\n\n        private void redrawTextOf(JComponent swingComponent) {\n            ((JLabel)swingComponent).setText(&quot;&lt;html&gt;&lt;pre&gt;&quot; + sb.toString() + &quot;&lt;/pre&gt;&lt;/html&gt;&quot;);\n        }\n    });\n\n    PrintStream con = new PrintStream(consoleOutputStream);\n    System.setOut(con);\n    System.setErr(con);    \n    \n    // Optional: add a scrollpane around the console for having scrolling bars\n    JScrollPane sp = new JScrollPane( //\n            console, //\n            ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED, //\n            ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED //\n    );\n    myPanel.add(sp);\n\n\n  [1]: https://stackoverflow.com/a/343007/363573","title":"Create Java console inside a GUI panel","body":"<p>I recently use the <a href=\"https://stackoverflow.com/a/343007/363573\">excellent code</a> provided by <a href=\"https://stackoverflow.com/a/343007/363573\">Lawrence Dol</a> in one of my project.</p>\n<p>However, in my case the code consumed too many memory. I managed to reduce drastically the memory comsuption by replacing <code>JTextarea</code> by a <code>JLabel</code>.</p>\n<p>My memory saving searches showed that <code>JTextarea</code> internal code tends to hold the actual text sent too much time. Consequently, all this text could not be garbage collected.</p>\n<p>Here is the flexible version of initial code (with thread synchronization replaced by locks).</p>\n<h2>JComponentOutputStream.java</h2>\n<pre><code>import java.awt.EventQueue;\nimport java.io.OutputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.util.ArrayList;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\nimport javax.swing.JComponent;\n\npublic class JComponentOutputStream extends OutputStream {\n\n    // *************************************************************************************************\n    // INSTANCE MEMBERS\n    // *************************************************************************************************\n\n    private byte[] oneByte; // array for write(int val);\n    private Appender appender; // most recent action\n\n    private Lock jcosLock = new ReentrantLock();\n\n    public JComponentOutputStream(JComponent txtara, JComponentHandler handler) {\n        this(txtara, 1000, handler);\n    }\n\n    public JComponentOutputStream(JComponent txtara, int maxlin, JComponentHandler handler) {\n        if (maxlin &lt; 1) {\n            throw new IllegalArgumentException(&quot;JComponentOutputStream maximum lines must be positive (value=&quot; + maxlin + &quot;)&quot;);\n        }\n        oneByte = new byte[1];\n        appender = new Appender(txtara, maxlin, handler);\n    }\n\n    /** Clear the current console text area. */\n    public void clear() {\n        jcosLock.lock();\n        try {\n            if (appender != null) {\n                appender.clear();\n            }\n        } finally {\n            jcosLock.unlock();\n        }\n    }\n\n    public void close() {\n        jcosLock.lock();\n        try {\n            appender = null;\n        } finally {\n            jcosLock.unlock();\n        }\n    }\n\n    public void flush() {\n        // sstosLock.lock();\n        // try {\n        // // TODO: Add necessary code here...\n        // } finally {\n        // sstosLock.unlock();\n        // }\n    }\n\n    public void write(int val) {\n        jcosLock.lock();\n        try {\n            oneByte[0] = (byte) val;\n            write(oneByte, 0, 1);\n        } finally {\n            jcosLock.unlock();\n        }\n    }\n\n    public void write(byte[] ba) {\n        jcosLock.lock();\n        try {\n            write(ba, 0, ba.length);\n        } finally {\n            jcosLock.unlock();\n        }\n    }\n\n    public void write(byte[] ba, int str, int len) {\n        jcosLock.lock();\n        try {\n            if (appender != null) {\n                appender.append(bytesToString(ba, str, len));\n            }\n        } finally {\n            jcosLock.unlock();\n        }\n    }\n\n    static private String bytesToString(byte[] ba, int str, int len) {\n        try {\n            return new String(ba, str, len, &quot;UTF-8&quot;);\n        } catch (UnsupportedEncodingException thr) {\n            return new String(ba, str, len);\n        } // all JVMs are required to support UTF-8\n    }\n\n    // *************************************************************************************************\n    // STATIC MEMBERS\n    // *************************************************************************************************\n\n    static class Appender implements Runnable {\n        private final JComponent swingComponent;\n        private final int maxLines; // maximum lines allowed in text area\n        private final LinkedList&lt;Integer&gt; lengths; // length of lines within\n                                                    // text area\n        private final List&lt;String&gt; values; // values waiting to be appended\n\n        private int curLength; // length of current line\n        private boolean clear;\n        private boolean queue;\n\n        private Lock appenderLock;\n\n        private JComponentHandler handler;\n\n        Appender(JComponent cpt, int maxlin, JComponentHandler hndlr) {\n            appenderLock = new ReentrantLock();\n\n            swingComponent = cpt;\n            maxLines = maxlin;\n            lengths = new LinkedList&lt;Integer&gt;();\n            values = new ArrayList&lt;String&gt;();\n\n            curLength = 0;\n            clear = false;\n            queue = true;\n\n            handler = hndlr;\n        }\n\n        void append(String val) {\n            appenderLock.lock();\n            try {\n                values.add(val);\n                if (queue) {\n                    queue = false;\n                    EventQueue.invokeLater(this);\n                }\n            } finally {\n                appenderLock.unlock();\n            }\n        }\n\n        void clear() {\n            appenderLock.lock();\n            try {\n\n                clear = true;\n                curLength = 0;\n                lengths.clear();\n                values.clear();\n                if (queue) {\n                    queue = false;\n                    EventQueue.invokeLater(this);\n                }\n            } finally {\n                appenderLock.unlock();\n            }\n        }\n\n        // MUST BE THE ONLY METHOD THAT TOUCHES the JComponent!\n        public void run() {\n            appenderLock.lock();\n            try {\n                if (clear) {\n                    handler.setText(swingComponent, &quot;&quot;);\n                }\n                for (String val : values) {\n                    curLength += val.length();\n                    if (val.endsWith(EOL1) || val.endsWith(EOL2)) {\n                        if (lengths.size() &gt;= maxLines) {\n                            handler.replaceRange(swingComponent, &quot;&quot;, 0, lengths.removeFirst());\n                        }\n                        lengths.addLast(curLength);\n                        curLength = 0;\n                    }\n                    handler.append(swingComponent, val);\n                }\n\n                values.clear();\n                clear = false;\n                queue = true;\n            } finally {\n                appenderLock.unlock();\n            }\n        }\n\n        static private final String EOL1 = &quot;\\n&quot;;\n        static private final String EOL2 = System.getProperty(&quot;line.separator&quot;, EOL1);\n    }\n\n    public interface JComponentHandler {\n        void setText(JComponent swingComponent, String text);\n\n        void replaceRange(JComponent swingComponent, String text, int start, int end);\n\n        void append(JComponent swingComponent, String text);\n    }\n\n} /* END PUBLIC CLASS */\n</code></pre>\n<hr />\n<h2>Sample usage</h2>\n<pre><code>JLabel console = new JLabel();\nJComponentOutputStream consoleOutputStream = new JComponentOutputStream(console, new JComponentHandler() {\n    private StringBuilder sb = new StringBuilder();\n\n    @Override\n    public void setText(JComponent swingComponent, String text) {\n        sb.delete(0, sb.length());\n        append(swingComponent, text);\n    }\n\n    @Override\n    public void replaceRange(JComponent swingComponent, String text, int start, int end) {\n        sb.replace(start, end, text);\n        redrawTextOf(swingComponent);\n    }\n\n    @Override\n    public void append(JComponent swingComponent, String text) {\n        sb.append(text);\n        redrawTextOf(swingComponent);\n    }\n\n    private void redrawTextOf(JComponent swingComponent) {\n        ((JLabel)swingComponent).setText(&quot;&lt;html&gt;&lt;pre&gt;&quot; + sb.toString() + &quot;&lt;/pre&gt;&lt;/html&gt;&quot;);\n    }\n});\n\nPrintStream con = new PrintStream(consoleOutputStream);\nSystem.setOut(con);\nSystem.setErr(con);    \n\n// Optional: add a scrollpane around the console for having scrolling bars\nJScrollPane sp = new JScrollPane( //\n        console, //\n        ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED, //\n        ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED //\n);\nmyPanel.add(sp);\n</code></pre>\n"}],"owner":{"display_name":"raman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82626,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"answer_count":5,"score":50,"last_activity_date":1667861944,"creation_date":1228455215,"question_id":342990,"body_markdown":"How can I create an instance of the Java console inside of a GUI panel?","title":"Create Java console inside a GUI panel","body":"<p>How can I create an instance of the Java console inside of a GUI panel?</p>\n"},{"tags":["java","arraylist","system.out"],"comments":[{"owner":{"account_id":11394190,"reputation":331,"user_id":8353152,"display_name":"DBear"},"score":2,"creation_date":1667861407,"post_id":74353739,"comment_id":131264672,"body_markdown":"It&#39;s hard to say what the problem is from this information. Perhaps a minimal, reproducible example would help. To help with debugging, I would recommend making the program simpler and simpler until the problem goes away. What does `System.out.println(&quot;a\\n\\nb&quot;)` print?","body":"It&#39;s hard to say what the problem is from this information. Perhaps a minimal, reproducible example would help. To help with debugging, I would recommend making the program simpler and simpler until the problem goes away. What does <code>System.out.println(&quot;a\\n\\nb&quot;)</code> print?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1667862747,"post_id":74353739,"comment_id":131264966,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."}],"answers":[{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667861591,"creation_date":1667861591,"answer_id":74353859,"question_id":74353739,"body_markdown":"Can you try below please?\r\n\r\n    String newLine = System.lineSeparator();\r\n    System.out.println(c.toString() + newLine + newLine); \r\n\r\nThe line break could depend on your system.\r\nhttps://docs.oracle.com/javase/7/docs/api/java/lang/System.html#lineSeparator%28%29\r\n\r\nI suggest you debug and see what the lineSeparator is on your system.","title":"Why isn&#39;t my program adding a blank line after printing the .toString method?","body":"<p>Can you try below please?</p>\n<pre><code>String newLine = System.lineSeparator();\nSystem.out.println(c.toString() + newLine + newLine); \n</code></pre>\n<p>The line break could depend on your system.\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#lineSeparator%28%29\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#lineSeparator%28%29</a></p>\n<p>I suggest you debug and see what the lineSeparator is on your system.</p>\n"}],"owner":{"account_id":25576253,"reputation":29,"user_id":19355648,"display_name":"Aaron Hall"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667861591,"creation_date":1667860847,"question_id":74353739,"body_markdown":"I am writing code to output parts of an ArrayList named Bikes using classes and if statements.\r\n\r\nI added the new line characters after the print statements, but the output is still not seperated.\r\n\r\n```\r\n\r\n```\r\n`\r\n```\r\nfor(Bicycle c : Bikes){\r\n            if(c instanceof MountainBike){\r\n                ((MountainBike) c).setHeight(99);\r\n                System.out.println(&quot;New Mountain Bike Info: &quot;);\r\n                System.out.println(c.toString() + &quot;\\n\\n&quot;);\r\n            }\r\n            \r\n            if(c instanceof TandemBike){\r\n                ((TandemBike) c).setBetweenSpace(88);\r\n                System.out.println(&quot;New Tandem Bike Info: &quot;);\r\n                System.out.println(c.toString() + &quot;\\n\\n&quot;);    \r\n            }\r\n           \r\n            if(c instanceof RoadBike){\r\n                ((RoadBike) c).setHandlebarType(&quot;NewType&quot;);\r\n                System.out.println(&quot;New Road Bike Info: &quot;);\r\n                System.out.println(c.toString() + &quot;\\n\\n&quot;);   \r\n            }\r\n            \r\n        }\r\n```\r\n`\r\n\r\nThis is what the output looks like despite the \\n: \r\n\r\nNew Mountain Bike Info:&lt;br/&gt; \r\nCadence: 43&lt;br/&gt;\r\nGear: 2&lt;br/&gt;\r\nSpeed: 3&lt;br/&gt;\r\nSeat Height: 99&lt;br/&gt;\r\nNew Tandem Bike Info:&lt;br/&gt;\r\nCadence: 37&lt;br/&gt;\r\nGear: 1&lt;br/&gt;\r\nSpeed: 2&lt;br/&gt;\r\nBetween Space: 88&lt;br/&gt;\r\nNew Road Bike Info:&lt;br/&gt; \r\nCadence: 40&lt;br/&gt;\r\nGear: 1&lt;br/&gt;\r\nSpeed: 1&lt;br/&gt;\r\nHandelbars: NewType&lt;br/&gt;","title":"Why isn&#39;t my program adding a blank line after printing the .toString method?","body":"<p>I am writing code to output parts of an ArrayList named Bikes using classes and if statements.</p>\n<p>I added the new line characters after the print statements, but the output is still not seperated.</p>\n<pre><code>\n</code></pre>\n<p>`</p>\n<pre><code>for(Bicycle c : Bikes){\n            if(c instanceof MountainBike){\n                ((MountainBike) c).setHeight(99);\n                System.out.println(&quot;New Mountain Bike Info: &quot;);\n                System.out.println(c.toString() + &quot;\\n\\n&quot;);\n            }\n            \n            if(c instanceof TandemBike){\n                ((TandemBike) c).setBetweenSpace(88);\n                System.out.println(&quot;New Tandem Bike Info: &quot;);\n                System.out.println(c.toString() + &quot;\\n\\n&quot;);    \n            }\n           \n            if(c instanceof RoadBike){\n                ((RoadBike) c).setHandlebarType(&quot;NewType&quot;);\n                System.out.println(&quot;New Road Bike Info: &quot;);\n                System.out.println(c.toString() + &quot;\\n\\n&quot;);   \n            }\n            \n        }\n</code></pre>\n<p>`</p>\n<p>This is what the output looks like despite the \\n:</p>\n<p>New Mountain Bike Info:<br/>\nCadence: 43<br/>\nGear: 2<br/>\nSpeed: 3<br/>\nSeat Height: 99<br/>\nNew Tandem Bike Info:<br/>\nCadence: 37<br/>\nGear: 1<br/>\nSpeed: 2<br/>\nBetween Space: 88<br/>\nNew Road Bike Info:<br/>\nCadence: 40<br/>\nGear: 1<br/>\nSpeed: 1<br/>\nHandelbars: NewType<br/></p>\n"},{"tags":["java","visual-studio-code","gradle","gson"],"answers":[{"tags":[],"owner":{"account_id":21103731,"reputation":41,"user_id":15513157,"display_name":"flying_kaktus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667861392,"creation_date":1667861392,"answer_id":74353834,"question_id":74353360,"body_markdown":"I had a mistake in the build.gradle, now it works by using\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;application&#39;\r\n        id &#39;distribution&#39;\r\n    }","title":"Creating .jar with gradle causes a java.lang.NoClassDefFoundError","body":"<p>I had a mistake in the build.gradle, now it works by using</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'distribution'\n}\n</code></pre>\n"}],"owner":{"account_id":21103731,"reputation":41,"user_id":15513157,"display_name":"flying_kaktus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667861392,"creation_date":1667858193,"question_id":74353360,"body_markdown":"I use vscode and gradle to build my java jar. In the project I import com.google.gson.Gson and can create an object of Gson. If I run the code everything works fine, but if I use gradlew build to create the jar and when I try to executed the jar file then I get this Error: &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/gson/GsonBuilder&quot;\r\n\r\n&gt;     dependencies {\r\n&gt;         // Use JUnit Jupiter for testing.\r\n&gt;         testImplementation &#39;org.junit.jupiter:junit-jupiter:5.7.2&#39;\r\n&gt;     \r\n&gt;         // This dependency is used by the application.\r\n&gt;         implementation &#39;com.google.guava:guava:30.1.1-jre&#39;\r\n&gt;         implementation &#39;com.google.code.gson:gson:2.10&#39;\r\n&gt;     } \r\n&gt;     jar {\r\n&gt;     manifest {\r\n&gt;         attributes(\r\n&gt;                 &#39;Main-Class&#39;: &#39;analyser.Run&#39;\r\n&gt;         )\r\n&gt;     } }\r\n\r\nI do not understand what is wrong here. Any  ideas?","title":"Creating .jar with gradle causes a java.lang.NoClassDefFoundError","body":"<p>I use vscode and gradle to build my java jar. In the project I import com.google.gson.Gson and can create an object of Gson. If I run the code everything works fine, but if I use gradlew build to create the jar and when I try to executed the jar file then I get this Error: &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/gson/GsonBuilder&quot;</p>\n<blockquote>\n<pre><code>dependencies {\n    // Use JUnit Jupiter for testing.\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.7.2'\n\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:30.1.1-jre'\n    implementation 'com.google.code.gson:gson:2.10'\n} \njar {\nmanifest {\n    attributes(\n            'Main-Class': 'analyser.Run'\n    )\n} }\n</code></pre>\n</blockquote>\n<p>I do not understand what is wrong here. Any  ideas?</p>\n"},{"tags":["java","hibernate","jpa","spring-data"],"comments":[{"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"score":0,"creation_date":1667853840,"post_id":74352665,"comment_id":131262810,"body_markdown":"blah, guess it is a bug https://hibernate.atlassian.net/browse/HHH-14579","body":"blah, guess it is a bug <a href=\"https://hibernate.atlassian.net/browse/HHH-14579\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-14579</a>"},{"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"score":0,"creation_date":1667857161,"post_id":74352665,"comment_id":131263707,"body_markdown":"This seems like some workaround: https://vladmihalcea.com/how-to-increment-the-parent-entity-version-whenever-a-child-entity-gets-modified-with-jpa-and-hibernate/","body":"This seems like some workaround: <a href=\"https://vladmihalcea.com/how-to-increment-the-parent-entity-version-whenever-a-child-entity-gets-modified-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667861354,"creation_date":1667861354,"answer_id":74353827,"question_id":74352665,"body_markdown":"Why are you adding the force optimistic lock mode to your query? `@Lock(LockModeType.OPTIMISTIC_FORCE_INCREMENT)`. This forces the`@Version` field in an entity to be incremented. I think the issue is that your query is joining an Entity &quot;Collect&quot; which does not have a `@Version` field. So I would try either adding an `@Version` field to the &quot;Collect&quot; entity or removing that `@Lock` from the query.","title":"Hibernate: cannot force version increment on non-versioned entity","body":"<p>Why are you adding the force optimistic lock mode to your query? <code>@Lock(LockModeType.OPTIMISTIC_FORCE_INCREMENT)</code>. This forces the<code>@Version</code> field in an entity to be incremented. I think the issue is that your query is joining an Entity &quot;Collect&quot; which does not have a <code>@Version</code> field. So I would try either adding an <code>@Version</code> field to the &quot;Collect&quot; entity or removing that <code>@Lock</code> from the query.</p>\n"}],"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":770,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667861354,"creation_date":1667853574,"question_id":74352665,"body_markdown":"I have following simple code that basically creates entity with collections nested 2 levels deep. Then I save the collection, and I fetch collection again from DB, update it and try saving again. Hibernate gives me following exception:\r\n\r\n`Unable to perform beforeTransactionCompletion callback: cannot force version increment on non-versioned entity;`\r\n\r\nThe problem is in this code (when I remove it it works) `@Query(&quot;SELECT re FROM RootEntity re LEFT JOIN FETCH re.collects WHERE re.id=:id&quot;)` but I do not know why it doesn&#39;t allow me to eagerly fetch the collection?\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    }\r\n    \r\n    @RequiredArgsConstructor\r\n    @Component\r\n    class Clr implements CommandLineRunner{\r\n    \r\n    \tprivate final RootEntityRepository repository;\r\n    \tprivate Clr self;\r\n    \r\n    \t@Autowired\r\n    \t@Lazy\r\n    \tpublic void setClr(Clr clr) {\r\n    \t\tthis.self = clr;\r\n    \t}\r\n    \r\n    \t@Transactional(Transactional.TxType.REQUIRES_NEW)\r\n    \tpublic void save(RootEntity r){\r\n    \t\trepository.save(r);\r\n    \t}\r\n    \r\n    \t@Transactional(Transactional.TxType.REQUIRES_NEW)\r\n    \tpublic void updateAndSave(String id) {\r\n    \t\tOptional&lt;RootEntity&gt; oe = repository.findById(id);\r\n    \r\n    \t\tRootEntity e = oe.get();\r\n    \r\n    \t\te.getCollects().stream().findFirst().get().getEmbeddedCollects().stream().findFirst().get().setValue(&quot;v2&quot;);\r\n    \r\n    \t\trepository.save(e);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \t\tEmbeddedCollect ec = new EmbeddedCollect();\r\n    \t\tec.setValue(&quot;v1&quot;);\r\n    \r\n    \t\tCollect cl = new Collect();\r\n    \t\tcl.getEmbeddedCollects().add(ec);\r\n    \r\n    \t\tRootEntity re = new RootEntity();\r\n    \t\tcl.setRoot(re);\r\n    \t\tre.setId(&quot;1&quot;);\r\n    \t\tre.getCollects().add(cl);\r\n    \r\n    \t\tself.save(re);\r\n    \r\n    \t\tself.updateAndSave(re.getId());\r\n    \t}\r\n    }\r\n    \r\n    @Repository\r\n    interface RootEntityRepository extends JpaRepository&lt;RootEntity, String&gt;{\r\n    \t@Lock(LockModeType.OPTIMISTIC_FORCE_INCREMENT)\r\n    \t@Query(&quot;SELECT re FROM RootEntity re LEFT JOIN FETCH re.collects WHERE re.id=:id&quot;)\r\n    \tOptional&lt;RootEntity&gt; findById(String id);\r\n    }\r\n    \r\n    @Entity @Getter @Setter\r\n    class RootEntity{\r\n    \t@Id\r\n    \tprivate String id;\r\n    \t@OneToMany(\r\n    \t\t\tmappedBy = &quot;root&quot;,\r\n    \t\t\tcascade = CascadeType.ALL,\r\n    \t\t\torphanRemoval = true)\r\n    \tprivate Set&lt;Collect&gt; collects = new HashSet&lt;&gt;();\r\n    \t@Version private Long version;\r\n    }\r\n    @Entity @Getter @Setter\r\n    class Collect{\r\n    \t@Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \t@ElementCollection\r\n    \tprivate Set&lt;EmbeddedCollect&gt; embeddedCollects = new HashSet&lt;&gt;();\r\n    \t@ManyToOne private RootEntity root;\r\n    }\r\n    @Embeddable @Getter @Setter\r\n    class EmbeddedCollect{\r\n    \t@Column(name = &quot;val&quot;)\r\n    \tprivate String value;\r\n    }\r\n\r\nand the code for spring boot application.properties file:\r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.sql.init.platform=h2\r\n\r\nwith these gradle deps:\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \truntimeOnly &#39;com.h2database:h2&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }","title":"Hibernate: cannot force version increment on non-versioned entity","body":"<p>I have following simple code that basically creates entity with collections nested 2 levels deep. Then I save the collection, and I fetch collection again from DB, update it and try saving again. Hibernate gives me following exception:</p>\n<p><code>Unable to perform beforeTransactionCompletion callback: cannot force version increment on non-versioned entity;</code></p>\n<p>The problem is in this code (when I remove it it works) <code>@Query(&quot;SELECT re FROM RootEntity re LEFT JOIN FETCH re.collects WHERE re.id=:id&quot;)</code> but I do not know why it doesn't allow me to eagerly fetch the collection?</p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n\n@RequiredArgsConstructor\n@Component\nclass Clr implements CommandLineRunner{\n\n    private final RootEntityRepository repository;\n    private Clr self;\n\n    @Autowired\n    @Lazy\n    public void setClr(Clr clr) {\n        this.self = clr;\n    }\n\n    @Transactional(Transactional.TxType.REQUIRES_NEW)\n    public void save(RootEntity r){\n        repository.save(r);\n    }\n\n    @Transactional(Transactional.TxType.REQUIRES_NEW)\n    public void updateAndSave(String id) {\n        Optional&lt;RootEntity&gt; oe = repository.findById(id);\n\n        RootEntity e = oe.get();\n\n        e.getCollects().stream().findFirst().get().getEmbeddedCollects().stream().findFirst().get().setValue(&quot;v2&quot;);\n\n        repository.save(e);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        EmbeddedCollect ec = new EmbeddedCollect();\n        ec.setValue(&quot;v1&quot;);\n\n        Collect cl = new Collect();\n        cl.getEmbeddedCollects().add(ec);\n\n        RootEntity re = new RootEntity();\n        cl.setRoot(re);\n        re.setId(&quot;1&quot;);\n        re.getCollects().add(cl);\n\n        self.save(re);\n\n        self.updateAndSave(re.getId());\n    }\n}\n\n@Repository\ninterface RootEntityRepository extends JpaRepository&lt;RootEntity, String&gt;{\n    @Lock(LockModeType.OPTIMISTIC_FORCE_INCREMENT)\n    @Query(&quot;SELECT re FROM RootEntity re LEFT JOIN FETCH re.collects WHERE re.id=:id&quot;)\n    Optional&lt;RootEntity&gt; findById(String id);\n}\n\n@Entity @Getter @Setter\nclass RootEntity{\n    @Id\n    private String id;\n    @OneToMany(\n            mappedBy = &quot;root&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true)\n    private Set&lt;Collect&gt; collects = new HashSet&lt;&gt;();\n    @Version private Long version;\n}\n@Entity @Getter @Setter\nclass Collect{\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @ElementCollection\n    private Set&lt;EmbeddedCollect&gt; embeddedCollects = new HashSet&lt;&gt;();\n    @ManyToOne private RootEntity root;\n}\n@Embeddable @Getter @Setter\nclass EmbeddedCollect{\n    @Column(name = &quot;val&quot;)\n    private String value;\n}\n</code></pre>\n<p>and the code for spring boot application.properties file:</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.sql.init.platform=h2\n</code></pre>\n<p>with these gradle deps:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'com.h2database:h2'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n"},{"tags":["java","quadratic"],"comments":[{"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"score":0,"creation_date":1667860192,"post_id":74353582,"comment_id":131264406,"body_markdown":"does it give you a line number?","body":"does it give you a line number?"},{"owner":{"account_id":19951126,"reputation":1,"user_id":14620764,"display_name":"Brando"},"score":0,"creation_date":1667860299,"post_id":74353582,"comment_id":131264432,"body_markdown":"It says java:56","body":"It says java:56"}],"answers":[{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667860678,"creation_date":1667860298,"answer_id":74353655,"question_id":74353582,"body_markdown":"The issue is your print statements:\r\n\r\n```\r\n    System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\r\n    ...\r\n    System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\r\n    ...\r\n    System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c);\r\n```\r\n\r\nI think you have a typo in all of these: `%.of` should be `%.0f` as they are elsewhere in the string.\r\n\r\nAlso the last print statement needs to have all four arguments `a, b, c, r` like the first two do.\r\n\r\n\r\n----------\r\n\r\nIn general, it is always helpful to look at the stack trace java provides on an error to see what line of the code you wrote is causing the issue","title":"After running code, I received the Exception in thread &quot;main&quot; java.util.UnknownFormatConversionException: Conversion = &#39;-&#39; error","body":"<p>The issue is your print statements:</p>\n<pre><code>    System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\n    ...\n    System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\n    ...\n    System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c);\n</code></pre>\n<p>I think you have a typo in all of these: <code>%.of</code> should be <code>%.0f</code> as they are elsewhere in the string.</p>\n<p>Also the last print statement needs to have all four arguments <code>a, b, c, r</code> like the first two do.</p>\n<hr />\n<p>In general, it is always helpful to look at the stack trace java provides on an error to see what line of the code you wrote is causing the issue</p>\n"},{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667860671,"creation_date":1667860671,"answer_id":74353716,"question_id":74353582,"body_markdown":"You have a typo in your messages, the second parameter &quot;of&quot; instead of &quot;0f&quot;, and r == 0 print statement requires 4 parameters you have only given 3. Check below.\r\n\r\n    if (r &gt; 1) {\r\n                System.out.printf(&quot;%.0f, %.0f, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\r\n                System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r1);\r\n                System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r2);\r\n            }\r\n    \r\n            else if (r == 1)\r\n            {\r\n                System.out.printf(&quot;%.0f, %.0f, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\r\n                System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r1);\r\n            }\r\n    \r\n            else if (r == 0) {\r\n                System.out.printf(&quot;%.0f, %.0f, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\r\n            }","title":"After running code, I received the Exception in thread &quot;main&quot; java.util.UnknownFormatConversionException: Conversion = &#39;-&#39; error","body":"<p>You have a typo in your messages, the second parameter &quot;of&quot; instead of &quot;0f&quot;, and r == 0 print statement requires 4 parameters you have only given 3. Check below.</p>\n<pre><code>if (r &gt; 1) {\n            System.out.printf(&quot;%.0f, %.0f, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\n            System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r1);\n            System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r2);\n        }\n\n        else if (r == 1)\n        {\n            System.out.printf(&quot;%.0f, %.0f, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\n            System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r1);\n        }\n\n        else if (r == 0) {\n            System.out.printf(&quot;%.0f, %.0f, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\n        }\n</code></pre>\n"}],"owner":{"account_id":19951126,"reputation":1,"user_id":14620764,"display_name":"Brando"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667860678,"creation_date":1667859765,"question_id":74353582,"body_markdown":"The problem is &quot; Conversion = &#39;-&#39;&quot;. The source code is listed below. This is a program used to caculating the value of Coefficent A, B, and C based on the quadratic function. \r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class RootsTestHamer {\r\n\tpublic static void main(String[] args) {\r\n\t\t//declare variables\r\n\t\tdouble a, b, c;\r\n\t\tdouble r1, r2;\r\n\t\t\r\n\tScanner input = new Scanner(System.in); // Create a Scanner\r\n\t\r\n\t\t// prompts user to enter values for coefficents A, B, and C\r\n\t\tSystem.out.print(&quot;Enter the A coefficent:&quot;);\r\n\t\t a = input.nextDouble();\r\n\t\tSystem.out.print(&quot;Enter the B coefficent:&quot;);\r\n\t\t b = input.nextDouble();\r\n\t\tSystem.out.print(&quot;Enter the C coefficent:&quot;);\r\n\t\t c = input.nextDouble();\r\n\r\n\t\t// calucating roots\r\n\t\tr1 = ( Math.pow(b,2) - (4 * a * c));\r\n\t\tr1 = (-b + (Math.sqrt(r1))) / (2 * a);\r\n\r\n\t\tr2 = ( Math.pow(b,2) - (4 * a * c));\r\n\t\tr2 = (-b - (Math.sqrt(r2))) / (2 * a);\r\n\r\n\t\t// calls the method and determines # of roots\r\n\t\tdouble r = roots (a, b, c);\r\n\r\n\t\t// if statements and display\r\n\t\tif (r &gt; 1) {\r\n\t\t\tSystem.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\r\n\t\t\tSystem.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r1);\r\n\t\t\tSystem.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r2);\r\n\t\t}\r\n\r\n\t\telse if (r == 1) \r\n\t\t{\r\n\t\tSystem.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\r\n\t\tSystem.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r1);\r\n\t\t}\r\n\r\n\t\telse if (r == 0) {\r\n\t\tSystem.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c);\r\n\t\t}\r\n}\r\n\r\n\t\t//user - defined root method\r\n\tpublic static double roots(double a, double b, double c) {\r\n\t\tdouble roots = 0;\r\n\r\n\t\t//number of roots\r\n\t\tif (Math.pow(b,2) - (4 * a * c) &gt; 0) {\r\n\t\t\troots = 2;\r\n\t\t}\r\n\t\telse if (Math.pow(b,2) - (4 * a * c) == 0) {\r\n\t\t\troots = 1;\r\n\t\t}\r\n\t\telse if (Math.pow(b,2) - (4 * a * c) &lt; 0) {\r\n\t\t\troots = 0;\r\n\t\t}\t\t\r\n\r\n\t\t\treturn roots;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI attempted to run the code. After entering the value 1, 2,3 for coefficents A, B,and C, the code returned Exception in thread &quot;main&quot; java.util.UnknownFormatConversionException: Conversion = &#39;-&#39;","title":"After running code, I received the Exception in thread &quot;main&quot; java.util.UnknownFormatConversionException: Conversion = &#39;-&#39; error","body":"<p>The problem is &quot; Conversion = '-'&quot;. The source code is listed below. This is a program used to caculating the value of Coefficent A, B, and C based on the quadratic function.</p>\n<pre><code>import java.util.Scanner;\n\npublic class RootsTestHamer {\n    public static void main(String[] args) {\n        //declare variables\n        double a, b, c;\n        double r1, r2;\n        \n    Scanner input = new Scanner(System.in); // Create a Scanner\n    \n        // prompts user to enter values for coefficents A, B, and C\n        System.out.print(&quot;Enter the A coefficent:&quot;);\n         a = input.nextDouble();\n        System.out.print(&quot;Enter the B coefficent:&quot;);\n         b = input.nextDouble();\n        System.out.print(&quot;Enter the C coefficent:&quot;);\n         c = input.nextDouble();\n\n        // calucating roots\n        r1 = ( Math.pow(b,2) - (4 * a * c));\n        r1 = (-b + (Math.sqrt(r1))) / (2 * a);\n\n        r2 = ( Math.pow(b,2) - (4 * a * c));\n        r2 = (-b - (Math.sqrt(r2))) / (2 * a);\n\n        // calls the method and determines # of roots\n        double r = roots (a, b, c);\n\n        // if statements and display\n        if (r &gt; 1) {\n            System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\n            System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r1);\n            System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r2);\n        }\n\n        else if (r == 1) \n        {\n        System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\n        System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r1);\n        }\n\n        else if (r == 0) {\n        System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c);\n        }\n}\n\n        //user - defined root method\n    public static double roots(double a, double b, double c) {\n        double roots = 0;\n\n        //number of roots\n        if (Math.pow(b,2) - (4 * a * c) &gt; 0) {\n            roots = 2;\n        }\n        else if (Math.pow(b,2) - (4 * a * c) == 0) {\n            roots = 1;\n        }\n        else if (Math.pow(b,2) - (4 * a * c) &lt; 0) {\n            roots = 0;\n        }       \n\n            return roots;\n    }\n}\n</code></pre>\n<p>I attempted to run the code. After entering the value 1, 2,3 for coefficents A, B,and C, the code returned Exception in thread &quot;main&quot; java.util.UnknownFormatConversionException: Conversion = '-'</p>\n"},{"tags":["java","spring-boot","elasticsearch"],"owner":{"account_id":7653865,"reputation":25,"user_id":5801522,"accept_rate":75,"display_name":"Ciobanu Rares-Constantin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667860371,"creation_date":1667860371,"question_id":74353667,"body_markdown":"Let&#39;s say that we have this ElasticsearchRepository in a SpringBoot app:\r\n\r\n    interface TransactionsRepository extends ElasticsearchRepository&lt;Transaction, String&gt; {\r\n        Stream&lt;Transaction&gt; findAllBySomething(String something);\r\n    }\r\n\r\nIf I have too many records to fetch after 105 seconds the call fails with the error:\r\n\r\n&gt; org.elasticsearch.ElasticsearchException: Elasticsearch exception\r\n&gt; [type=search_context_missing_exception, reason=No search context found\r\n&gt; for id [44763]]\r\n&gt; Blockquote\r\n\r\n\r\nWhat do I need to configure to increase the Scroll API time, so I don&#39;t get this error anymore? Or what are the solutions when you have &gt;10,000 records to fetch?\r\n\r\nI don&#39;t know if this is set correctly in the application.properties:\r\n\r\n    spring.jpa.properties.hibernate.jdbc.batch_size=100\r\n    spring.jpa.properties.hibernate.order_inserts=true\r\n    spring.jpa.properties.hibernate.order_updates=true\r\n    spring.jpa.properties.hibernate.jdbc.fetch_size=400\r\n\r\n","title":"SpringBoot ElasticsearchRepository: search_context_missing_exception","body":"<p>Let's say that we have this ElasticsearchRepository in a SpringBoot app:</p>\n<pre><code>interface TransactionsRepository extends ElasticsearchRepository&lt;Transaction, String&gt; {\n    Stream&lt;Transaction&gt; findAllBySomething(String something);\n}\n</code></pre>\n<p>If I have too many records to fetch after 105 seconds the call fails with the error:</p>\n<blockquote>\n<p>org.elasticsearch.ElasticsearchException: Elasticsearch exception\n[type=search_context_missing_exception, reason=No search context found\nfor id [44763]]\nBlockquote</p>\n</blockquote>\n<p>What do I need to configure to increase the Scroll API time, so I don't get this error anymore? Or what are the solutions when you have &gt;10,000 records to fetch?</p>\n<p>I don't know if this is set correctly in the application.properties:</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.batch_size=100\nspring.jpa.properties.hibernate.order_inserts=true\nspring.jpa.properties.hibernate.order_updates=true\nspring.jpa.properties.hibernate.jdbc.fetch_size=400\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","many-to-many"],"comments":[{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":1,"creation_date":1667856081,"post_id":74352774,"comment_id":131263457,"body_markdown":"With `group2.setUsers(userSet);` you seem to add users to the group, but the relation between groups and users is not visible in the source of Group class. Could you please complete the source code.","body":"With <code>group2.setUsers(userSet);</code> you seem to add users to the group, but the relation between groups and users is not visible in the source of Group class. Could you please complete the source code."}],"answers":[{"tags":[],"owner":{"account_id":2224963,"reputation":305,"user_id":1963948,"accept_rate":60,"display_name":"Saurabh Kumar Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667859782,"creation_date":1667859782,"answer_id":74353584,"question_id":74352774,"body_markdown":"The issue was my database schema which got created by an earlier incorrect JPA model. after dropping and recreating the database it got resolved.","title":"Hibernate JPA @ManyToMany Mapping Cannot add or update a child row: a foreign key constraint fails","body":"<p>The issue was my database schema which got created by an earlier incorrect JPA model. after dropping and recreating the database it got resolved.</p>\n"}],"owner":{"account_id":2224963,"reputation":305,"user_id":1963948,"accept_rate":60,"display_name":"Saurabh Kumar Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667859782,"creation_date":1667854298,"question_id":74352774,"body_markdown":" I am trying to have a many to many relationship between user and group, so when I save group the user and group information should get saved in user_group table, but  I am getting this error while trying to save Group information,In request I am just passing groupName.\r\n \r\nError\r\n\r\n    2022-11-07 14:45:47.565 ERROR 29066 --- [nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot add or update a child row: a foreign key constraint fails (`testdb`.`user_group`, CONSTRAINT `FK7k9ade3lqbo483u9vuryxmm34` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))\r\n\r\nUser.java\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;, \r\n        uniqueConstraints = { \r\n          @UniqueConstraint(columnNames = &quot;username&quot;),\r\n          @UniqueConstraint(columnNames = &quot;email&quot;) \r\n        })\r\n    public class User {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      private Long id;\r\n      \r\n    \r\n      @ManyToMany(fetch = FetchType.LAZY)\r\n      @JoinTable(  name = &quot;user_roles&quot;, \r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;), \r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n      private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n    \r\n      @ManyToMany(fetch = FetchType.LAZY,\r\n              cascade = {\r\n                      CascadeType.PERSIST,\r\n                      CascadeType.MERGE\r\n              },\r\n              mappedBy = &quot;users&quot;)\r\n      @JsonIgnore\r\n      private Set&lt;Group&gt; groups = new HashSet&lt;&gt;();\r\n    \r\n      public Set&lt;Group&gt; getGroups() {\r\n        return groups;\r\n      }\r\n    }\r\n\r\nGroup.java\r\n\r\n    @Entity\r\n    @Table(name = &quot;grp&quot;)\r\n    public class Group {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column\r\n        private String groupName;\r\n    \r\n        @Column\r\n        private String createdBy;\r\n    \r\n        public Group(String groupName, String createdBy ) {\r\n            this.groupName = groupName;\r\n            this.createdBy = createdBy;\r\n        }\r\n    \r\n    \r\n        public Group() {\r\n    \r\n        }\r\n    }\r\n\r\nGroupController.java\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class GroupController  {\r\n    \r\n    \r\n        @Autowired\r\n        GroupRepository groupRepository;\r\n    \r\n        @Autowired\r\n        UserRepository userRepository;\r\n    \r\n        @PostMapping(&quot;/group&quot;)\r\n        public ResponseEntity&lt;Group&gt; createTutorial(@RequestBody Group group, Principal principal) {\r\n            try {\r\n                Set&lt;User&gt; userSet = new HashSet&lt;&gt;();\r\n                Optional&lt;User&gt; user = userRepository.findByUsername(principal.getName());\r\n                userSet.add(user.get());\r\n                Group group2 = new Group(group.getGroupName(), principal.getName());\r\n                group2.setUsers(userSet);\r\n                Group group1 = groupRepository.save(group2);\r\n                return new ResponseEntity&lt;&gt;(group1, HttpStatus.CREATED);\r\n            } catch (Exception e) {\r\n                return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n[![degug of controller][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ItLZR.jpg\r\n","title":"Hibernate JPA @ManyToMany Mapping Cannot add or update a child row: a foreign key constraint fails","body":"<p>I am trying to have a many to many relationship between user and group, so when I save group the user and group information should get saved in user_group table, but  I am getting this error while trying to save Group information,In request I am just passing groupName.</p>\n<p>Error</p>\n<pre><code>2022-11-07 14:45:47.565 ERROR 29066 --- [nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot add or update a child row: a foreign key constraint fails (`testdb`.`user_group`, CONSTRAINT `FK7k9ade3lqbo483u9vuryxmm34` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))\n</code></pre>\n<p>User.java</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;, \n    uniqueConstraints = { \n      @UniqueConstraint(columnNames = &quot;username&quot;),\n      @UniqueConstraint(columnNames = &quot;email&quot;) \n    })\npublic class User {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n  \n\n  @ManyToMany(fetch = FetchType.LAZY)\n  @JoinTable(  name = &quot;user_roles&quot;, \n        joinColumns = @JoinColumn(name = &quot;user_id&quot;), \n        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n  private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n\n  @ManyToMany(fetch = FetchType.LAZY,\n          cascade = {\n                  CascadeType.PERSIST,\n                  CascadeType.MERGE\n          },\n          mappedBy = &quot;users&quot;)\n  @JsonIgnore\n  private Set&lt;Group&gt; groups = new HashSet&lt;&gt;();\n\n  public Set&lt;Group&gt; getGroups() {\n    return groups;\n  }\n}\n</code></pre>\n<p>Group.java</p>\n<pre><code>@Entity\n@Table(name = &quot;grp&quot;)\npublic class Group {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column\n    private String groupName;\n\n    @Column\n    private String createdBy;\n\n    public Group(String groupName, String createdBy ) {\n        this.groupName = groupName;\n        this.createdBy = createdBy;\n    }\n\n\n    public Group() {\n\n    }\n}\n</code></pre>\n<p>GroupController.java</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class GroupController  {\n\n\n    @Autowired\n    GroupRepository groupRepository;\n\n    @Autowired\n    UserRepository userRepository;\n\n    @PostMapping(&quot;/group&quot;)\n    public ResponseEntity&lt;Group&gt; createTutorial(@RequestBody Group group, Principal principal) {\n        try {\n            Set&lt;User&gt; userSet = new HashSet&lt;&gt;();\n            Optional&lt;User&gt; user = userRepository.findByUsername(principal.getName());\n            userSet.add(user.get());\n            Group group2 = new Group(group.getGroupName(), principal.getName());\n            group2.setUsers(userSet);\n            Group group1 = groupRepository.save(group2);\n            return new ResponseEntity&lt;&gt;(group1, HttpStatus.CREATED);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ItLZR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ItLZR.jpg\" alt=\"degug of controller\" /></a></p>\n"},{"tags":["java","spring","spring-boot","eclipse","startup-error"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1663862081,"post_id":73817318,"comment_id":130344384,"body_markdown":"Look in the .log file in the workspace .metadata directory to see if there is a more detailed message. [Edit] your question to show us the extra detail.","body":"Look in the .log file in the workspace .metadata directory to see if there is a more detailed message. <a href=\"https://stackoverflow.com/posts/73817318/edit\">Edit</a> your question to show us the extra detail."}],"answers":[{"tags":[],"owner":{"account_id":16053106,"reputation":39,"user_id":11586363,"display_name":"nobody "},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665067216,"creation_date":1663886927,"answer_id":73821375,"question_id":73817318,"body_markdown":"Running with temurin-18.jdk on MacOS, stack below.\r\n\r\nOffending call to new StringTokenizer(..): \r\n\r\nhttps://git.eclipse.org/r/plugins/gitiles/sourceediting/webtools.sourceediting/+/refs/heads/master/core/bundles/org.eclipse.wst.sse.core/src/org/eclipse/wst/sse/core/utils/StringUtils.java#777\r\n\r\nLooks like an errant import from com.ibm instead of java.util.StringTokenizer:\r\n\r\n\r\n\r\nhttps://git.eclipse.org/r/plugins/gitiles/sourceediting/webtools.sourceediting/+/refs/heads/master/core/bundles/org.eclipse.wst.sse.core/src/org/eclipse/wst/sse/core/utils/StringUtils.java#27\r\n\r\n\r\n&gt; import com.ibm.icu.util.StringTokenizer;\r\n\r\nStack:\r\n\r\n```\r\n!ENTRY org.eclipse.core.jobs 4 2 2022-09-22 08:11:42.471\r\n!MESSAGE An internal error occurred during: &quot;SSE core task scheduler startup&quot;.\r\n!STACK 0\r\njava.lang.NoClassDefFoundError: com/ibm/icu/util/StringTokenizer\r\n\tat org.eclipse.wst.sse.core.utils.StringUtils.unpack(StringUtils.java:777)\r\n\tat org.eclipse.wst.sse.core.internal.tasks.TaskScanningJob.getScannedProjects(TaskScanningJob.java:295)\r\n\tat org.eclipse.wst.sse.core.internal.tasks.TaskScanningJob.projectHasNotBeenFullyScanned(TaskScanningJob.java:152)\r\n\tat org.eclipse.wst.sse.core.internal.tasks.TaskScanningJob.addProject(TaskScanningJob.java:118)\r\n\tat org.eclipse.wst.sse.core.internal.tasks.TaskScanningScheduler.enqueue(TaskScanningScheduler.java:137)\r\n\tat org.eclipse.wst.sse.core.internal.tasks.TaskScanningScheduler.startup(TaskScanningScheduler.java:117)\r\n\tat org.eclipse.wst.sse.core.internal.SSECorePlugin.lambda$0(SSECorePlugin.java:96)\r\n\tat org.eclipse.core.runtime.jobs.Job$1.run(Job.java:166)\r\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\nCaused by: java.lang.ClassNotFoundException: com.ibm.icu.util.StringTokenizer cannot be found by org.eclipse.wst.sse.core_1.2.800.v202207121749\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.generateException(BundleLoader.java:541)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:487)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\r\n\tat org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 9 more\r\n```","title":"SSE core task scheduler startup problem in eclipse","body":"<p>Running with temurin-18.jdk on MacOS, stack below.</p>\n<p>Offending call to new StringTokenizer(..):</p>\n<p><a href=\"https://git.eclipse.org/r/plugins/gitiles/sourceediting/webtools.sourceediting/+/refs/heads/master/core/bundles/org.eclipse.wst.sse.core/src/org/eclipse/wst/sse/core/utils/StringUtils.java#777\" rel=\"nofollow noreferrer\">https://git.eclipse.org/r/plugins/gitiles/sourceediting/webtools.sourceediting/+/refs/heads/master/core/bundles/org.eclipse.wst.sse.core/src/org/eclipse/wst/sse/core/utils/StringUtils.java#777</a></p>\n<p>Looks like an errant import from com.ibm instead of java.util.StringTokenizer:</p>\n<p><a href=\"https://git.eclipse.org/r/plugins/gitiles/sourceediting/webtools.sourceediting/+/refs/heads/master/core/bundles/org.eclipse.wst.sse.core/src/org/eclipse/wst/sse/core/utils/StringUtils.java#27\" rel=\"nofollow noreferrer\">https://git.eclipse.org/r/plugins/gitiles/sourceediting/webtools.sourceediting/+/refs/heads/master/core/bundles/org.eclipse.wst.sse.core/src/org/eclipse/wst/sse/core/utils/StringUtils.java#27</a></p>\n<blockquote>\n<p>import com.ibm.icu.util.StringTokenizer;</p>\n</blockquote>\n<p>Stack:</p>\n<pre><code>!ENTRY org.eclipse.core.jobs 4 2 2022-09-22 08:11:42.471\n!MESSAGE An internal error occurred during: &quot;SSE core task scheduler startup&quot;.\n!STACK 0\njava.lang.NoClassDefFoundError: com/ibm/icu/util/StringTokenizer\n    at org.eclipse.wst.sse.core.utils.StringUtils.unpack(StringUtils.java:777)\n    at org.eclipse.wst.sse.core.internal.tasks.TaskScanningJob.getScannedProjects(TaskScanningJob.java:295)\n    at org.eclipse.wst.sse.core.internal.tasks.TaskScanningJob.projectHasNotBeenFullyScanned(TaskScanningJob.java:152)\n    at org.eclipse.wst.sse.core.internal.tasks.TaskScanningJob.addProject(TaskScanningJob.java:118)\n    at org.eclipse.wst.sse.core.internal.tasks.TaskScanningScheduler.enqueue(TaskScanningScheduler.java:137)\n    at org.eclipse.wst.sse.core.internal.tasks.TaskScanningScheduler.startup(TaskScanningScheduler.java:117)\n    at org.eclipse.wst.sse.core.internal.SSECorePlugin.lambda$0(SSECorePlugin.java:96)\n    at org.eclipse.core.runtime.jobs.Job$1.run(Job.java:166)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\nCaused by: java.lang.ClassNotFoundException: com.ibm.icu.util.StringTokenizer cannot be found by org.eclipse.wst.sse.core_1.2.800.v202207121749\n    at org.eclipse.osgi.internal.loader.BundleLoader.generateException(BundleLoader.java:541)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:487)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 9 more\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1383500,"reputation":917,"user_id":1316011,"accept_rate":12,"display_name":"Thad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663952394,"creation_date":1663952394,"answer_id":73830897,"question_id":73817318,"body_markdown":"For me, Eclipse was *almost* working until these two updates occurred:\r\n\r\n    Mylyn WikiText\t3.0.43.202209151832\torg.eclipse.mylyn.wikitext_feature.feature.group\tEclipse Mylyn\r\n\r\n    M2E - Maven Integration for Eclipse\t2.0.5.20220912-1211\torg.eclipse.m2e.feature.feature.group\tEclipse.org - m2e\r\n\r\nThe StringTokenizer error appeared immediately after Eclipse restarted.\r\n\r\n(I emphasize *almost* because M2E was never copying the Maven Dependencies into the WEB-INF/lib of my configured server.)","title":"SSE core task scheduler startup problem in eclipse","body":"<p>For me, Eclipse was <em>almost</em> working until these two updates occurred:</p>\n<pre><code>Mylyn WikiText  3.0.43.202209151832 org.eclipse.mylyn.wikitext_feature.feature.group    Eclipse Mylyn\n\nM2E - Maven Integration for Eclipse 2.0.5.20220912-1211 org.eclipse.m2e.feature.feature.group   Eclipse.org - m2e\n</code></pre>\n<p>The StringTokenizer error appeared immediately after Eclipse restarted.</p>\n<p>(I emphasize <em>almost</em> because M2E was never copying the Maven Dependencies into the WEB-INF/lib of my configured server.)</p>\n"},{"tags":[],"owner":{"account_id":24072457,"reputation":384,"user_id":18048232,"display_name":"EG-IT"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1664549904,"creation_date":1664549904,"answer_id":73910621,"question_id":73817318,"body_markdown":"Maybe a missing or an outdated plugin. You should verify your ICU4J plugin version (menu: Help -&gt; About Eclipse IDE -&gt; Installation Details -&gt; plugins).\r\n[![eclipse plugins][1]][1]\r\n\r\nIf &quot;Eclipse Orbit&quot; plugin version is older than &quot;Unicode, Inc&quot; version check for missing/outdated software site and add/update &quot;Eclipse Orbit&quot;  https://download.eclipse.org/tools/orbit/downloads/2022-09.\r\n\r\nThen check for new updates or install ICU4J.\r\n\r\n[![icu4j installation][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Khti.png\r\n  [2]: https://i.stack.imgur.com/NaO5w.png","title":"SSE core task scheduler startup problem in eclipse","body":"<p>Maybe a missing or an outdated plugin. You should verify your ICU4J plugin version (menu: Help -&gt; About Eclipse IDE -&gt; Installation Details -&gt; plugins).\n<a href=\"https://i.stack.imgur.com/6Khti.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6Khti.png\" alt=\"eclipse plugins\" /></a></p>\n<p>If &quot;Eclipse Orbit&quot; plugin version is older than &quot;Unicode, Inc&quot; version check for missing/outdated software site and add/update &quot;Eclipse Orbit&quot;  <a href=\"https://download.eclipse.org/tools/orbit/downloads/2022-09\" rel=\"noreferrer\">https://download.eclipse.org/tools/orbit/downloads/2022-09</a>.</p>\n<p>Then check for new updates or install ICU4J.</p>\n<p><a href=\"https://i.stack.imgur.com/NaO5w.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NaO5w.png\" alt=\"icu4j installation\" /></a></p>\n"},{"tags":[],"owner":{"account_id":26543233,"reputation":36,"user_id":20173650,"display_name":"OfbizGuest"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665044015,"creation_date":1665043959,"answer_id":73970552,"question_id":73817318,"body_markdown":"I had the same problem today.\r\n\r\nUpdating Eclipse solved it for me:\r\n\r\nHelp -&gt; About Eclipse -&gt; Installation Details -&gt; Update\r\n\r\n\r\n","title":"SSE core task scheduler startup problem in eclipse","body":"<p>I had the same problem today.</p>\n<p>Updating Eclipse solved it for me:</p>\n<p>Help -&gt; About Eclipse -&gt; Installation Details -&gt; Update</p>\n"},{"tags":[],"owner":{"account_id":24299794,"reputation":231,"user_id":18243455,"display_name":"Patel Harsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667859269,"creation_date":1665416027,"answer_id":74017296,"question_id":73817318,"body_markdown":"This is the exact same thing from the below link, if you want to know more check [here][1]\r\n\r\nRun the System File Checker tool (SFC.exe)\r\nTo do this, follow these steps:\r\n\r\nOpen an elevated command prompt. To do this, do the following as your appropriate:\r\n\r\nIf you are running Windows 10, Windows 8.1 or Windows 8, first run the inbox Deployment Image Servicing and Management (DISM) tool prior to running the System File Checker.  (If you are running Windows 7 or Windows Vista, skip to Step 3.) \r\n\r\nType the following command, and then press Enter.  It may take several minutes for the command operation to be completed.\r\n\r\nDISM.exe /Online /Cleanup-image /Restorehealth\r\n\r\nImportant: When you run this command, DISM uses Windows Update to provide the files that are required to fix corruptions. However, if your Windows Update client is already broken, use a running Windows installation as the repair source, or use a Windows side-by-side folder from a network share or from a removable media, such as the Windows DVD, as the source of the files. To do this, run the following command instead:\r\n\r\nDISM.exe /Online /Cleanup-Image /RestoreHealth /Source:C:\\RepairSource\\Windows /LimitAccess\r\n\r\nNote: Replace the C:\\RepairSource\\Windows placeholder with the location of your repair source. For more information about using the DISM tool to repair Windows, reference Repair a Windows Image.\r\n\r\nAt the command prompt, type the following command, and then press ENTER:\r\n\r\nsfc /scannow\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe sfc /scannow command will scan all protected system files, and replace corrupted files with a cached copy that is located in a compressed folder at %WinDir%\\System32\\dllcache.\r\nThe %WinDir% placeholder represents the Windows operating system folder. For example, C:\\Windows.\r\n\r\nNote Do not close this Command Prompt window until the verification is 100% complete. The scan results will be shown after this process is finished.\r\n\r\nAfter the process is finished, you may receive one of the following messages:\r\n\r\nWindows Resource Protection did not find any integrity violations.\r\n\r\n\r\nThis means that you do not have any missing or corrupted system files.\r\n\r\nWindows Resource Protection could not perform the requested operation.\r\n\r\n\r\nTo resolve this problem, perform the System File Checker scan in safe mode, and make sure that the PendingDeletes and PendingRenames folders exist under %WinDir%\\WinSxS\\Temp.\r\n\r\nWindows Resource Protection found corrupt files and successfully repaired them. Details are included in the CBS.Log %WinDir%\\Logs\\CBS\\CBS.log.\r\n\r\n\r\nTo view the detail information about the system file scan and restoration, go to How to view details of the System File Checker process.\r\n\r\nWindows Resource Protection found corrupt files but was unable to fix some of them. Details are included in the CBS.Log %WinDir%\\Logs\\CBS\\CBS.log.\r\n\r\n\r\nTo repair the corrupted files manually, view details of the System File Checker process to find the corrupted file, and then manually replace the corrupted file with a known good copy of the file.\r\n\r\n\r\n  [1]: https://support.microsoft.com/en-us/topic/use-the-system-file-checker-tool-to-repair-missing-or-corrupted-system-files-79aa86cb-ca52-166a-92a3-966e85d4094e\r\n  [2]: https://i.stack.imgur.com/VZvZl.png","title":"SSE core task scheduler startup problem in eclipse","body":"<p>This is the exact same thing from the below link, if you want to know more check <a href=\"https://support.microsoft.com/en-us/topic/use-the-system-file-checker-tool-to-repair-missing-or-corrupted-system-files-79aa86cb-ca52-166a-92a3-966e85d4094e\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Run the System File Checker tool (SFC.exe)\nTo do this, follow these steps:</p>\n<p>Open an elevated command prompt. To do this, do the following as your appropriate:</p>\n<p>If you are running Windows 10, Windows 8.1 or Windows 8, first run the inbox Deployment Image Servicing and Management (DISM) tool prior to running the System File Checker.  (If you are running Windows 7 or Windows Vista, skip to Step 3.)</p>\n<p>Type the following command, and then press Enter.  It may take several minutes for the command operation to be completed.</p>\n<p>DISM.exe /Online /Cleanup-image /Restorehealth</p>\n<p>Important: When you run this command, DISM uses Windows Update to provide the files that are required to fix corruptions. However, if your Windows Update client is already broken, use a running Windows installation as the repair source, or use a Windows side-by-side folder from a network share or from a removable media, such as the Windows DVD, as the source of the files. To do this, run the following command instead:</p>\n<p>DISM.exe /Online /Cleanup-Image /RestoreHealth /Source:C:\\RepairSource\\Windows /LimitAccess</p>\n<p>Note: Replace the C:\\RepairSource\\Windows placeholder with the location of your repair source. For more information about using the DISM tool to repair Windows, reference Repair a Windows Image.</p>\n<p>At the command prompt, type the following command, and then press ENTER:</p>\n<p>sfc /scannow</p>\n<p><a href=\"https://i.stack.imgur.com/VZvZl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VZvZl.png\" alt=\"enter image description here\" /></a></p>\n<p>The sfc /scannow command will scan all protected system files, and replace corrupted files with a cached copy that is located in a compressed folder at %WinDir%\\System32\\dllcache.\nThe %WinDir% placeholder represents the Windows operating system folder. For example, C:\\Windows.</p>\n<p>Note Do not close this Command Prompt window until the verification is 100% complete. The scan results will be shown after this process is finished.</p>\n<p>After the process is finished, you may receive one of the following messages:</p>\n<p>Windows Resource Protection did not find any integrity violations.</p>\n<p>This means that you do not have any missing or corrupted system files.</p>\n<p>Windows Resource Protection could not perform the requested operation.</p>\n<p>To resolve this problem, perform the System File Checker scan in safe mode, and make sure that the PendingDeletes and PendingRenames folders exist under %WinDir%\\WinSxS\\Temp.</p>\n<p>Windows Resource Protection found corrupt files and successfully repaired them. Details are included in the CBS.Log %WinDir%\\Logs\\CBS\\CBS.log.</p>\n<p>To view the detail information about the system file scan and restoration, go to How to view details of the System File Checker process.</p>\n<p>Windows Resource Protection found corrupt files but was unable to fix some of them. Details are included in the CBS.Log %WinDir%\\Logs\\CBS\\CBS.log.</p>\n<p>To repair the corrupted files manually, view details of the System File Checker process to find the corrupted file, and then manually replace the corrupted file with a known good copy of the file.</p>\n"},{"tags":[],"owner":{"account_id":16598426,"reputation":99,"user_id":11994767,"display_name":"Umakanth Sahu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665671726,"creation_date":1665671336,"answer_id":74057500,"question_id":73817318,"body_markdown":"This error caused lot of issues to me like unable to open jsp editor in Eclipse, multiple crashes when autocomplete is selected.\r\n\r\nThis is what i did..\r\n\r\n1. First go to `Menu Bar &gt; Help &gt; Install New Software &gt; Manage Button` in Eclipse.\r\nSearch for m2e. There may be one item with icon and without any name. Click on **edit** and then update the url to [http://download.eclipse.org/technology/m2e/releases/latest][1] . Click on **Add** and then **Apply and close** and then **Finish**.\r\n\r\n2. As suggested by user [@EG-IT][2],\r\n\r\nNow Go to `Menu Bar &gt; Help &gt; Install New Software` in Eclipse. In the work with text area insert this link [https://download.eclipse.org/tools/orbit/downloads/2022-09][3].  If drop down menu appears then fine, If not add a space and press backspace now a drop down should appear. \r\n\r\nSelect the option with **orbit - https://download.eclipse.org/tools/orbit/downloads/2022-09**\r\n\r\nClick on the **Select All** button on the right and click **Next** button. Select all items if prompted to install. Agree to term and conditions, wait till updates are installed. Restart IDE.\r\n\r\nIf same error persists please update the Eclipse.\r\n\r\nI hope this detailed explanation works.\r\n\r\n\r\n  [1]: http://download.eclipse.org/technology/m2e/releases/latest\r\n  [2]: https://stackoverflow.com/users/18048232/eg-it\r\n  [3]: https://download.eclipse.org/tools/orbit/downloads/2022-09","title":"SSE core task scheduler startup problem in eclipse","body":"<p>This error caused lot of issues to me like unable to open jsp editor in Eclipse, multiple crashes when autocomplete is selected.</p>\n<p>This is what i did..</p>\n<ol>\n<li><p>First go to <code>Menu Bar &gt; Help &gt; Install New Software &gt; Manage Button</code> in Eclipse.\nSearch for m2e. There may be one item with icon and without any name. Click on <strong>edit</strong> and then update the url to <a href=\"http://download.eclipse.org/technology/m2e/releases/latest\" rel=\"nofollow noreferrer\">http://download.eclipse.org/technology/m2e/releases/latest</a> . Click on <strong>Add</strong> and then <strong>Apply and close</strong> and then <strong>Finish</strong>.</p>\n</li>\n<li><p>As suggested by user <a href=\"https://stackoverflow.com/users/18048232/eg-it\">@EG-IT</a>,</p>\n</li>\n</ol>\n<p>Now Go to <code>Menu Bar &gt; Help &gt; Install New Software</code> in Eclipse. In the work with text area insert this link <a href=\"https://download.eclipse.org/tools/orbit/downloads/2022-09\" rel=\"nofollow noreferrer\">https://download.eclipse.org/tools/orbit/downloads/2022-09</a>.  If drop down menu appears then fine, If not add a space and press backspace now a drop down should appear.</p>\n<p>Select the option with <strong>orbit - <a href=\"https://download.eclipse.org/tools/orbit/downloads/2022-09\" rel=\"nofollow noreferrer\">https://download.eclipse.org/tools/orbit/downloads/2022-09</a></strong></p>\n<p>Click on the <strong>Select All</strong> button on the right and click <strong>Next</strong> button. Select all items if prompted to install. Agree to term and conditions, wait till updates are installed. Restart IDE.</p>\n<p>If same error persists please update the Eclipse.</p>\n<p>I hope this detailed explanation works.</p>\n"}],"owner":{"account_id":24299794,"reputation":231,"user_id":18243455,"display_name":"Patel Harsh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11601,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":73970552,"answer_count":6,"score":22,"last_activity_date":1667859269,"creation_date":1663860950,"question_id":73817318,"body_markdown":"Whenever I&#39;m launching my eclipse IDE with my project workspace, there is one popup window showing some internal error with the task scheduler. I&#39;m attaching the picture of that popup window here.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy project is all in java language and also uses spring boot in it.\r\n\r\nThe error says something like \r\n\r\n*An internal error occurred during: &quot;SSE core task scheduler startup&quot;*\r\n\r\nSorry I&#39;m not able to add a direct image for this as Stack overflow is not allowing me to do that.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KycYG.jpg","title":"SSE core task scheduler startup problem in eclipse","body":"<p>Whenever I'm launching my eclipse IDE with my project workspace, there is one popup window showing some internal error with the task scheduler. I'm attaching the picture of that popup window here.</p>\n<p><a href=\"https://i.stack.imgur.com/KycYG.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KycYG.jpg\" alt=\"enter image description here\" /></a></p>\n<p>My project is all in java language and also uses spring boot in it.</p>\n<p>The error says something like</p>\n<p><em>An internal error occurred during: &quot;SSE core task scheduler startup&quot;</em></p>\n<p>Sorry I'm not able to add a direct image for this as Stack overflow is not allowing me to do that.</p>\n"},{"tags":["java","performance","collections"],"answers":[{"tags":[],"owner":{"account_id":4276,"reputation":14213,"user_id":6365,"accept_rate":65,"display_name":"Michael Barker"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1667859104,"creation_date":1286348196,"answer_id":3870093,"question_id":3870064,"body_markdown":"The most common case where using entrySet is preferable over keySet is when you are iterating through all of the key/value pairs in a Map.\r\n\r\nThis is more efficient:\r\n\r\n    for (Map.Entry entry : map.entrySet()) {\r\n        Object key = entry.getKey();\r\n        Object value = entry.getValue();\r\n    }\r\n\r\nthan:\r\n\r\n    for (Object key : map.keySet()) {\r\n        Object value = map.get(key);\r\n    }\r\n\r\nBecause in the second case, for every key in the keySet the `map.get()` method is called, which - in the case of a HashMap - requires that the `hashCode()` and `equals()` methods of the key object be evaluated in order to find the associated value*.  In the first case that extra work is eliminated.\r\n\r\nEdit: This is even worse if you consider a TreeMap, where a call to get is O(log(n)), i.e. the comparator may need to run log2(n) times (n = size of the Map) before finding the associated value.\r\n\r\n*Some Map implementations have internal optimisations that check the objects&#39; identity before the `hashCode()` and `equals()` are called.","title":"Performance considerations for keySet() and entrySet() of Map","body":"<p>The most common case where using entrySet is preferable over keySet is when you are iterating through all of the key/value pairs in a Map.</p>\n<p>This is more efficient:</p>\n<pre><code>for (Map.Entry entry : map.entrySet()) {\n    Object key = entry.getKey();\n    Object value = entry.getValue();\n}\n</code></pre>\n<p>than:</p>\n<pre><code>for (Object key : map.keySet()) {\n    Object value = map.get(key);\n}\n</code></pre>\n<p>Because in the second case, for every key in the keySet the <code>map.get()</code> method is called, which - in the case of a HashMap - requires that the <code>hashCode()</code> and <code>equals()</code> methods of the key object be evaluated in order to find the associated value*.  In the first case that extra work is eliminated.</p>\n<p>Edit: This is even worse if you consider a TreeMap, where a call to get is O(log(n)), i.e. the comparator may need to run log2(n) times (n = size of the Map) before finding the associated value.</p>\n<p>*Some Map implementations have internal optimisations that check the objects' identity before the <code>hashCode()</code> and <code>equals()</code> are called.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1663783573,"creation_date":1286349449,"answer_id":3870210,"question_id":3870064,"body_markdown":"First of all, this depends entirely on which type of `Map` you&#39;re using. But since the *JavaRanch* thread talks about `HashMap`, I&#39;ll assume that that&#39;s the implementation you&#39;re referring to. And let&#39;s assume also that you&#39;re talking about the standard API implementation from Sun/Oracle.\r\n\r\n\r\nSecondly, if you&#39;re concerned about performance when iterating through your hash map, I suggest you have a look at [`LinkedHashMap`](http://download.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html). From the docs:\r\n\r\n&gt; *Iteration over the collection-views of a `LinkedHashMap` requires time proportional to the size  of the map, regardless of its capacity. Iteration over a `HashMap`  is likely to be more expensive, requiring time proportional to its capacity.* \r\n\r\n### HashMap.entrySet() ###\r\n\r\nThe source-code for this implementation is available. The implementation basically just returns a new `HashMap.EntrySet`. A class which looks like this:\r\n\r\n\r\n    private final class EntrySet extends AbstractSet&lt;Map.Entry&lt;K,V&gt;&gt; {\r\n        public Iterator&lt;Map.Entry&lt;K,V&gt;&gt; iterator() {\r\n            return newEntryIterator(); // returns a HashIterator...\r\n        }\r\n        // ...\r\n    }\r\n\r\nand a `HashIterator` looks like\r\n\r\n\r\n    private abstract class HashIterator&lt;E&gt; implements Iterator&lt;E&gt; {\r\n        Entry&lt;K,V&gt; next;\t// next entry to return\r\n        int expectedModCount;\t// For fast-fail\r\n        int index;\t\t// current slot\r\n        Entry&lt;K,V&gt; current;\t// current entry\r\n\r\n        HashIterator() {\r\n            expectedModCount = modCount;\r\n            if (size &gt; 0) { // advance to first entry\r\n                Entry[] t = table;\r\n                while (index &lt; t.length &amp;&amp; (next = t[index++]) == null);\r\n            }\r\n        }\r\n\r\n        final Entry&lt;K,V&gt; nextEntry() {\r\n            if (modCount != expectedModCount)\r\n                throw new ConcurrentModificationException();\r\n            Entry&lt;K,V&gt; e = next;\r\n            if (e == null)\r\n                throw new NoSuchElementException();\r\n\r\n            if ((next = e.next) == null) {\r\n                Entry[] t = table;\r\n                while (index &lt; t.length &amp;&amp; (next = t[index++]) == null);\r\n            }\r\n\t        current = e;\r\n            return e;\r\n        }\r\n\r\n        // ...\r\n    }\r\n\r\nSo there you have it... That&#39;s the code dictating what will happen when you iterate through an `entrySet`. It walks through the entire array, which is as long as the map&#39;s capacity.\r\n\r\n### HashMap.keySet() and .get() ###\r\n\r\nHere you first need to get hold of the set of keys. This takes time proportional to the *capacity* of the map (as opposed to *size* for the `LinkedHashMap`). After this is done, you call `get()` once for each key. Sure, in the average case, with a good hashCode-implementation this takes constant time. However, it will inevitably require lots of `hashCode()` and `equals()` calls, which will obviously take more time than just doing a `entry.value()` call.","title":"Performance considerations for keySet() and entrySet() of Map","body":"<p>First of all, this depends entirely on which type of <code>Map</code> you're using. But since the <em>JavaRanch</em> thread talks about <code>HashMap</code>, I'll assume that that's the implementation you're referring to. And let's assume also that you're talking about the standard API implementation from Sun/Oracle.</p>\n<p>Secondly, if you're concerned about performance when iterating through your hash map, I suggest you have a look at <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\"><code>LinkedHashMap</code></a>. From the docs:</p>\n<blockquote>\n<p><em>Iteration over the collection-views of a <code>LinkedHashMap</code> requires time proportional to the size  of the map, regardless of its capacity. Iteration over a <code>HashMap</code>  is likely to be more expensive, requiring time proportional to its capacity.</em></p>\n</blockquote>\n<h3>HashMap.entrySet()</h3>\n<p>The source-code for this implementation is available. The implementation basically just returns a new <code>HashMap.EntrySet</code>. A class which looks like this:</p>\n<pre><code>private final class EntrySet extends AbstractSet&lt;Map.Entry&lt;K,V&gt;&gt; {\n    public Iterator&lt;Map.Entry&lt;K,V&gt;&gt; iterator() {\n        return newEntryIterator(); // returns a HashIterator...\n    }\n    // ...\n}\n</code></pre>\n<p>and a <code>HashIterator</code> looks like</p>\n<pre><code>private abstract class HashIterator&lt;E&gt; implements Iterator&lt;E&gt; {\n    Entry&lt;K,V&gt; next;    // next entry to return\n    int expectedModCount;   // For fast-fail\n    int index;      // current slot\n    Entry&lt;K,V&gt; current; // current entry\n\n    HashIterator() {\n        expectedModCount = modCount;\n        if (size &gt; 0) { // advance to first entry\n            Entry[] t = table;\n            while (index &lt; t.length &amp;&amp; (next = t[index++]) == null);\n        }\n    }\n\n    final Entry&lt;K,V&gt; nextEntry() {\n        if (modCount != expectedModCount)\n            throw new ConcurrentModificationException();\n        Entry&lt;K,V&gt; e = next;\n        if (e == null)\n            throw new NoSuchElementException();\n\n        if ((next = e.next) == null) {\n            Entry[] t = table;\n            while (index &lt; t.length &amp;&amp; (next = t[index++]) == null);\n        }\n        current = e;\n        return e;\n    }\n\n    // ...\n}\n</code></pre>\n<p>So there you have it... That's the code dictating what will happen when you iterate through an <code>entrySet</code>. It walks through the entire array, which is as long as the map's capacity.</p>\n<h3>HashMap.keySet() and .get()</h3>\n<p>Here you first need to get hold of the set of keys. This takes time proportional to the <em>capacity</em> of the map (as opposed to <em>size</em> for the <code>LinkedHashMap</code>). After this is done, you call <code>get()</code> once for each key. Sure, in the average case, with a good hashCode-implementation this takes constant time. However, it will inevitably require lots of <code>hashCode()</code> and <code>equals()</code> calls, which will obviously take more time than just doing a <code>entry.value()</code> call.</p>\n"},{"tags":[],"owner":{"account_id":76118,"reputation":1539,"user_id":218139,"display_name":"Stefan L"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1515776935,"creation_date":1312380319,"answer_id":6927754,"question_id":3870064,"body_markdown":"[Here is the link to an article][1] comparing the performance of `entrySet()`, `keySet()` and `values()`, and advice regarding when to use each approach. \r\n\r\nApparently the use of `keySet()` is faster (besides being more convenient) than `entrySet()` as long as you don&#39;t need to `Map.get()` the values.\r\n\r\n  [1]: https://web.archive.org/web/20140209172758/http://www.sergiy.ca/how-to-iterate-over-a-map-in-java/","title":"Performance considerations for keySet() and entrySet() of Map","body":"<p><a href=\"https://web.archive.org/web/20140209172758/http://www.sergiy.ca/how-to-iterate-over-a-map-in-java/\" rel=\"nofollow noreferrer\">Here is the link to an article</a> comparing the performance of <code>entrySet()</code>, <code>keySet()</code> and <code>values()</code>, and advice regarding when to use each approach. </p>\n\n<p>Apparently the use of <code>keySet()</code> is faster (besides being more convenient) than <code>entrySet()</code> as long as you don't need to <code>Map.get()</code> the values.</p>\n"}],"owner":{"account_id":61688,"reputation":9624,"user_id":183717,"accept_rate":95,"display_name":"name_masked"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63107,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":3870210,"answer_count":3,"score":83,"last_activity_date":1667859104,"creation_date":1286347759,"question_id":3870064,"body_markdown":"All,\r\n\r\nCan anyone please let me know exactly what are the performance issues between the 2? The site : [CodeRanch][1] provides a brief overview of the internal calls that would be needed when using keySet() and get(). But it would be great if anyone can provide exact details about the flow when keySet() and get() methods are used. This would help me understand the performance issues better.\r\n \r\n\r\n  [1]: http://www.coderanch.com/t/203203/Performance/java/entrySet-keySet-Map","title":"Performance considerations for keySet() and entrySet() of Map","body":"<p>All,</p>\n\n<p>Can anyone please let me know exactly what are the performance issues between the 2? The site : <a href=\"http://www.coderanch.com/t/203203/Performance/java/entrySet-keySet-Map\" rel=\"noreferrer\">CodeRanch</a> provides a brief overview of the internal calls that would be needed when using keySet() and get(). But it would be great if anyone can provide exact details about the flow when keySet() and get() methods are used. This would help me understand the performance issues better.</p>\n"},{"tags":["java","sql","spring","sybase","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":5425221,"reputation":32111,"user_id":7366100,"display_name":"markp-fuso"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667858986,"creation_date":1667575551,"answer_id":74319343,"question_id":74311140,"body_markdown":"I can&#39;t speak to the java/spring coding but on a purely SQL basis it looks and sounds like the `update/select` is not being performed within a transaction.\r\n\r\nWithout a transaction wrapper (eg, explicit `begin/commit tran`, `autocommit=false`, `set chained on`) the `update/select` is a prime target for a race condition and duplicate key errors.\r\n\r\n**NOTE:** the isolation level has no effect if the `update/select` is performed outside of a transaction wrapper\r\n\r\nTracking down a &#39;missing transaction wrapper&#39; issue is a good idea as there could be other pieces of SQL code suffering from poor/missing transaction management.  Having said that ...\r\n\r\nFor this particular case one easy fix would be to add a transaction wrapper in the proc, eg:\r\n\r\n    CREATE PROC getId\r\n    (@val int = -1 output) \r\n    AS\r\n    BEGIN\r\n\r\n    begin tran\r\n        UPDATE ID_TABLE SET LAST_VALUE = LAST_VALUE + 1\r\n        SELECT @val = LAST_VALUE FROM ID_TABLE\r\n    commit tran\r\n\r\n    RETURN @val\r\n    END\r\n\r\nEven better would be a rewrite of the `update` that eliminates the need for the `select`, eg:\r\n\r\n    CREATE PROC getId\r\n    (@val int = -1 output) \r\n    AS\r\n    BEGIN\r\n    \r\n    UPDATE ID_TABLE SET @val=LAST_VALUE+1, LAST_VALUE = LAST_VALUE + 1\r\n    \r\n    RETURN @val\r\n    END\r\n\r\n**NOTE:** as a standalone operation this eliminates the need for a transaction wrapper and should eliminate the generation of duplicate keys (assuming this proc is the root cause of the duplicate key issue)\r\n\r\nAssuming this is `Sybase ASE` I&#39;d want to look at making sure the table is configured to use `datarows` locking; with `allpages` locking, and to a limited extent `datapages` locking, there&#39;s a chance of a race condition on index updates (which in turn could lead to a deadlock scenario).","title":"Stored Procedure to generate IDs returning duplicate values","body":"<p>I can't speak to the java/spring coding but on a purely SQL basis it looks and sounds like the <code>update/select</code> is not being performed within a transaction.</p>\n<p>Without a transaction wrapper (eg, explicit <code>begin/commit tran</code>, <code>autocommit=false</code>, <code>set chained on</code>) the <code>update/select</code> is a prime target for a race condition and duplicate key errors.</p>\n<p><strong>NOTE:</strong> the isolation level has no effect if the <code>update/select</code> is performed outside of a transaction wrapper</p>\n<p>Tracking down a 'missing transaction wrapper' issue is a good idea as there could be other pieces of SQL code suffering from poor/missing transaction management.  Having said that ...</p>\n<p>For this particular case one easy fix would be to add a transaction wrapper in the proc, eg:</p>\n<pre><code>CREATE PROC getId\n(@val int = -1 output) \nAS\nBEGIN\n\nbegin tran\n    UPDATE ID_TABLE SET LAST_VALUE = LAST_VALUE + 1\n    SELECT @val = LAST_VALUE FROM ID_TABLE\ncommit tran\n\nRETURN @val\nEND\n</code></pre>\n<p>Even better would be a rewrite of the <code>update</code> that eliminates the need for the <code>select</code>, eg:</p>\n<pre><code>CREATE PROC getId\n(@val int = -1 output) \nAS\nBEGIN\n\nUPDATE ID_TABLE SET @val=LAST_VALUE+1, LAST_VALUE = LAST_VALUE + 1\n\nRETURN @val\nEND\n</code></pre>\n<p><strong>NOTE:</strong> as a standalone operation this eliminates the need for a transaction wrapper and should eliminate the generation of duplicate keys (assuming this proc is the root cause of the duplicate key issue)</p>\n<p>Assuming this is <code>Sybase ASE</code> I'd want to look at making sure the table is configured to use <code>datarows</code> locking; with <code>allpages</code> locking, and to a limited extent <code>datapages</code> locking, there's a chance of a race condition on index updates (which in turn could lead to a deadlock scenario).</p>\n"}],"owner":{"account_id":3850212,"reputation":192,"user_id":3190586,"accept_rate":57,"display_name":"gnzlrm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667858986,"creation_date":1667524393,"question_id":74311140,"body_markdown":"I&#39;m currently working in a legacy application that uses an Stored Procedure in a Sybase DB to generate some IDs incrementally. The procedure is defined as:\r\n\r\n```sqlserver\r\nCREATE PROC getId\r\n(@val int = -1 output) \r\nAS\r\nBEGIN\r\nUPDATE ID_TABLE SET LAST_VALUE = LAST_VALUE + 1\r\nSELECT @val = LAST_VALUE FROM ID_TABLE\r\nRETURN @val\r\nEND\r\n```\r\n\r\nThis procedure is being called from a Java application using Spring&#39;s `TransactionTemplate` to handle the transaction in a declarative manner.\r\n\r\n```java\r\npublic Integer getId() {\r\n    TransactionTemplate txTemplate = new TransactionTemplate(txManager); // txManager is an autowired instance of PlatformTransactionManager.\r\n    txTemplate.setIsolationLevel(TransactionDefinition.ISOLATION_SERIALIZABLE);\r\n    txTemplate.setTimeout(-1);\r\n    return (Integer) txTemplate.execute((TransactionCallback) status -&gt; idDao.generateId());\r\n}\r\n```\r\n\r\nInternally, *idDao* uses a `JdbcTemplate` to call the Stored Procedure using a `CallableStatementCreatorFactory`. Nothing too out of the ordinary there.\r\n\r\nThe Stored Procedure is called ~10k times/day. From time to time, we see some ID collisions. My understanding was that the isolation level being set to *SERIALIZABLE* should prevent this from happening, and I can&#39;t seem to reproduce this even calling `getId` simultaneously with several threads. Does anybody have a hint on what might be happening here?","title":"Stored Procedure to generate IDs returning duplicate values","body":"<p>I'm currently working in a legacy application that uses an Stored Procedure in a Sybase DB to generate some IDs incrementally. The procedure is defined as:</p>\n<pre><code>CREATE PROC getId\n(@val int = -1 output) \nAS\nBEGIN\nUPDATE ID_TABLE SET LAST_VALUE = LAST_VALUE + 1\nSELECT @val = LAST_VALUE FROM ID_TABLE\nRETURN @val\nEND\n</code></pre>\n<p>This procedure is being called from a Java application using Spring's <code>TransactionTemplate</code> to handle the transaction in a declarative manner.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Integer getId() {\n    TransactionTemplate txTemplate = new TransactionTemplate(txManager); // txManager is an autowired instance of PlatformTransactionManager.\n    txTemplate.setIsolationLevel(TransactionDefinition.ISOLATION_SERIALIZABLE);\n    txTemplate.setTimeout(-1);\n    return (Integer) txTemplate.execute((TransactionCallback) status -&gt; idDao.generateId());\n}\n</code></pre>\n<p>Internally, <em>idDao</em> uses a <code>JdbcTemplate</code> to call the Stored Procedure using a <code>CallableStatementCreatorFactory</code>. Nothing too out of the ordinary there.</p>\n<p>The Stored Procedure is called ~10k times/day. From time to time, we see some ID collisions. My understanding was that the isolation level being set to <em>SERIALIZABLE</em> should prevent this from happening, and I can't seem to reproduce this even calling <code>getId</code> simultaneously with several threads. Does anybody have a hint on what might be happening here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":0,"creation_date":1667858802,"post_id":74353373,"comment_id":131264103,"body_markdown":"Have you tried it?","body":"Have you tried it?"},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1667860570,"post_id":74353373,"comment_id":131264480,"body_markdown":"https://www.baeldung.com/spring-autowire","body":"<a href=\"https://www.baeldung.com/spring-autowire\" rel=\"nofollow noreferrer\">baeldung.com/spring-autowire</a>"}],"owner":{"account_id":9697315,"reputation":21,"user_id":7193336,"display_name":"spicymaggisauce101"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667858251,"creation_date":1667858251,"question_id":74353373,"body_markdown":"I have this class (that looks like this, pseudo-code wise):\r\n```\r\n   @Component\r\n    public class classA() {\r\n    private variable a;\r\n    public A() {\r\n    }\r\n    @Autowired\r\n    public classA(variable a) {\r\n    this.a = a;\r\n    }\r\n  }\r\n```\r\nBasically, the variable &quot;a&quot; that I want to inject is a spring bean from a configuration file defined elsewhere (at run-time)\r\n\r\nIs this the correct way to go about defining the class so that &quot;a&quot; gets injected from the configuration file at run-time? I was wondering how this would work if we also have a no-args constructor?\r\n\r\nIE: If I create an instance of classA using the no-args constructor, will &quot;a&quot; still be properly injected?","title":"spring bean dependency injection","body":"<p>I have this class (that looks like this, pseudo-code wise):</p>\n<pre><code>   @Component\n    public class classA() {\n    private variable a;\n    public A() {\n    }\n    @Autowired\n    public classA(variable a) {\n    this.a = a;\n    }\n  }\n</code></pre>\n<p>Basically, the variable &quot;a&quot; that I want to inject is a spring bean from a configuration file defined elsewhere (at run-time)</p>\n<p>Is this the correct way to go about defining the class so that &quot;a&quot; gets injected from the configuration file at run-time? I was wondering how this would work if we also have a no-args constructor?</p>\n<p>IE: If I create an instance of classA using the no-args constructor, will &quot;a&quot; still be properly injected?</p>\n"},{"tags":["java","android"],"owner":{"account_id":26141869,"reputation":21,"user_id":19831115,"display_name":"Andrew Hunt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1667856886,"creation_date":1667856886,"question_id":74353190,"body_markdown":"The app allows users to search their installed apps. The way I have it now, it will let the user search and returns the correct responses when the softkeyboard is closed. I want it to update in real time when the softkeyboard is open. Using the physical keyboard in Emulator updates the RecyclerView no problem. Why does the softkeyboard not do the same?\r\n\r\nThis is the Fragment class\r\n\r\n```\r\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n    super.onViewCreated(view, savedInstanceState);\r\n    recyclerView = view.findViewById(R.id.justtype_view);\r\n    layoutManager = new GridLayoutManager(getContext(), 4);\r\n    recyclerView.setLayoutManager(layoutManager);\r\n    jt = view.findViewById(R.id.jtInput);\r\n    jt.requestFocus();\r\n    jt.isFocusableInTouchMode();\r\n    jt.setFocusable(true);\r\n    if (jt.requestFocus()) {\r\n        InputMethodManager imm = (InputMethodManager) view.getContext().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n        imm.showSoftInput(jt, InputMethodManager.SHOW_IMPLICIT);\r\n    }\r\n\r\n    Window w = requireActivity().getWindow();\r\n    w.setStatusBarColor(ContextCompat.getColor(requireActivity(), R.color.status));\r\n    recyclerView.setVisibility(View.INVISIBLE);\r\n    jtAdapter = new JTAdapter(requireContext(), jt.getText().toString());\r\n    recyclerView.setAdapter(jtAdapter);\r\n\r\n\r\n    new Thread(this::contactsSearch).start();\r\n\r\n    jt.addTextChangedListener(new TextWatcher() {\r\n        @Override\r\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void afterTextChanged(Editable s) {\r\n            if (jt.getText().toString().length()&gt;0) {\r\n                jtAdapter = new JTAdapter(requireContext(), s.toString());\r\n                recyclerView.setAdapter(jtAdapter);\r\n                jtAdapter.notifyDataSetChanged();\r\n                recyclerView.setVisibility(View.VISIBLE);\r\n                textChange(view);\r\n            } else {\r\n                recyclerView.setVisibility(View.INVISIBLE);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n```\r\n\r\n\r\nThis is the Adapter Class\r\n\r\n```\r\npublic class JTAdapter extends RecyclerView.Adapter&lt;JTAdapter.ViewHolder&gt; {\r\n\r\n    public static List&lt;AppInfo&gt; jtList;\r\n\r\n    public JTAdapter(Context c, String q) {\r\n        new Thread(() -&gt; {\r\n            PackageManager pm = c.getPackageManager();\r\n            jtList = new ArrayList&lt;&gt;();\r\n            Intent i = new Intent(Intent.ACTION_MAIN, null);\r\n            i.addCategory(Intent.CATEGORY_LAUNCHER);\r\n            List&lt;ResolveInfo&gt; allApps = pm.queryIntentActivities(i, 0);\r\n            if(q.length() == 0) {\r\n                for (ResolveInfo ri : allApps) {\r\n                    AppInfo app = new AppInfo();\r\n                    app.label = ri.loadLabel(pm);\r\n                    app.packageName = ri.activityInfo.packageName;\r\n                    app.icon = ri.activityInfo.loadIcon(pm);\r\n                    jtList.add(app);\r\n                }\r\n                jtList.sort(Comparator.comparing(o -&gt; o.label.toString()));\r\n            } else {\r\n                for (ResolveInfo ri : allApps) {\r\n                    AppInfo app = new AppInfo();\r\n                    app.label = ri.loadLabel(pm);\r\n                    app.packageName = ri.activityInfo.packageName;\r\n                    app.icon = ri.activityInfo.loadIcon(pm);\r\n                    if(app.label.toString().toLowerCase().startsWith(q)) {\r\n                        jtList.add(app);\r\n                    }\r\n                }\r\n\r\n                jtList.sort(Comparator.comparing(o -&gt; o.label.toString()));\r\n\r\n            }\r\n\r\n        }).start();\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return jtList.size();\r\n    }\r\n\r\n    public void onBindViewHolder(@NonNull JTAdapter.ViewHolder viewHolder, int i) {\r\n        try {\r\n            String appLabel = jtList.get(i).label.toString();\r\n            Drawable appIcon = jtList.get(i).icon;\r\n            TextView textView = viewHolder.textView;\r\n            textView.setText(appLabel);\r\n            ImageView imageView = viewHolder.img;\r\n            imageView.setImageDrawable(appIcon);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    @NonNull\r\n    public JTAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n        View view = inflater.inflate(R.layout.jt_item_row_layout, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n        public TextView textView;\r\n        public ImageView img;\r\n\r\n        public ViewHolder(View itemView) {\r\n\r\n            super(itemView);\r\n            textView = itemView.findViewById(R.id.jt_app_name);\r\n            img = itemView.findViewById(R.id.jt_app_icon);\r\n\r\n            itemView.setOnClickListener(v -&gt; {\r\n                int pos = getAdapterPosition();\r\n                Context context = v.getContext();\r\n                Intent launchIntent = context.getPackageManager().getLaunchIntentForPackage(jtList.get(pos).packageName.toString());\r\n                context.startActivity(launchIntent);\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI expect when I type with the softkeyboard that the RecyclerView will update with the new list of apps. This does not happen until after softkeyboard is closed. The RecyclerView appears blank when typing with the softkeyboard.","title":"Apps List RecyclerView not updating when SoftKeyboard is open","body":"<p>The app allows users to search their installed apps. The way I have it now, it will let the user search and returns the correct responses when the softkeyboard is closed. I want it to update in real time when the softkeyboard is open. Using the physical keyboard in Emulator updates the RecyclerView no problem. Why does the softkeyboard not do the same?</p>\n<p>This is the Fragment class</p>\n<pre><code>public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n    recyclerView = view.findViewById(R.id.justtype_view);\n    layoutManager = new GridLayoutManager(getContext(), 4);\n    recyclerView.setLayoutManager(layoutManager);\n    jt = view.findViewById(R.id.jtInput);\n    jt.requestFocus();\n    jt.isFocusableInTouchMode();\n    jt.setFocusable(true);\n    if (jt.requestFocus()) {\n        InputMethodManager imm = (InputMethodManager) view.getContext().getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.showSoftInput(jt, InputMethodManager.SHOW_IMPLICIT);\n    }\n\n    Window w = requireActivity().getWindow();\n    w.setStatusBarColor(ContextCompat.getColor(requireActivity(), R.color.status));\n    recyclerView.setVisibility(View.INVISIBLE);\n    jtAdapter = new JTAdapter(requireContext(), jt.getText().toString());\n    recyclerView.setAdapter(jtAdapter);\n\n\n    new Thread(this::contactsSearch).start();\n\n    jt.addTextChangedListener(new TextWatcher() {\n        @Override\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n        }\n\n        @Override\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n        }\n\n        @Override\n        public void afterTextChanged(Editable s) {\n            if (jt.getText().toString().length()&gt;0) {\n                jtAdapter = new JTAdapter(requireContext(), s.toString());\n                recyclerView.setAdapter(jtAdapter);\n                jtAdapter.notifyDataSetChanged();\n                recyclerView.setVisibility(View.VISIBLE);\n                textChange(view);\n            } else {\n                recyclerView.setVisibility(View.INVISIBLE);\n            }\n        }\n    });\n}\n\n</code></pre>\n<p>This is the Adapter Class</p>\n<pre><code>public class JTAdapter extends RecyclerView.Adapter&lt;JTAdapter.ViewHolder&gt; {\n\n    public static List&lt;AppInfo&gt; jtList;\n\n    public JTAdapter(Context c, String q) {\n        new Thread(() -&gt; {\n            PackageManager pm = c.getPackageManager();\n            jtList = new ArrayList&lt;&gt;();\n            Intent i = new Intent(Intent.ACTION_MAIN, null);\n            i.addCategory(Intent.CATEGORY_LAUNCHER);\n            List&lt;ResolveInfo&gt; allApps = pm.queryIntentActivities(i, 0);\n            if(q.length() == 0) {\n                for (ResolveInfo ri : allApps) {\n                    AppInfo app = new AppInfo();\n                    app.label = ri.loadLabel(pm);\n                    app.packageName = ri.activityInfo.packageName;\n                    app.icon = ri.activityInfo.loadIcon(pm);\n                    jtList.add(app);\n                }\n                jtList.sort(Comparator.comparing(o -&gt; o.label.toString()));\n            } else {\n                for (ResolveInfo ri : allApps) {\n                    AppInfo app = new AppInfo();\n                    app.label = ri.loadLabel(pm);\n                    app.packageName = ri.activityInfo.packageName;\n                    app.icon = ri.activityInfo.loadIcon(pm);\n                    if(app.label.toString().toLowerCase().startsWith(q)) {\n                        jtList.add(app);\n                    }\n                }\n\n                jtList.sort(Comparator.comparing(o -&gt; o.label.toString()));\n\n            }\n\n        }).start();\n    }\n\n    @Override\n    public int getItemCount() {\n        return jtList.size();\n    }\n\n    public void onBindViewHolder(@NonNull JTAdapter.ViewHolder viewHolder, int i) {\n        try {\n            String appLabel = jtList.get(i).label.toString();\n            Drawable appIcon = jtList.get(i).icon;\n            TextView textView = viewHolder.textView;\n            textView.setText(appLabel);\n            ImageView imageView = viewHolder.img;\n            imageView.setImageDrawable(appIcon);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    @NonNull\n    public JTAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n        View view = inflater.inflate(R.layout.jt_item_row_layout, parent, false);\n        return new ViewHolder(view);\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n        public TextView textView;\n        public ImageView img;\n\n        public ViewHolder(View itemView) {\n\n            super(itemView);\n            textView = itemView.findViewById(R.id.jt_app_name);\n            img = itemView.findViewById(R.id.jt_app_icon);\n\n            itemView.setOnClickListener(v -&gt; {\n                int pos = getAdapterPosition();\n                Context context = v.getContext();\n                Intent launchIntent = context.getPackageManager().getLaunchIntentForPackage(jtList.get(pos).packageName.toString());\n                context.startActivity(launchIntent);\n            });\n        }\n    }\n}\n\n</code></pre>\n<p>I expect when I type with the softkeyboard that the RecyclerView will update with the new list of apps. This does not happen until after softkeyboard is closed. The RecyclerView appears blank when typing with the softkeyboard.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7991,"reputation":205509,"user_id":14104,"display_name":"epascarello"},"score":2,"creation_date":1667854875,"post_id":74352855,"comment_id":131263102,"body_markdown":"JavaScript has nothing to do with Java","body":"JavaScript has nothing to do with Java"},{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1667854938,"post_id":74352855,"comment_id":131263120,"body_markdown":"What `addLikes` does?","body":"What <code>addLikes</code> does?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1667854974,"post_id":74352855,"comment_id":131263132,"body_markdown":"Note `if (something) { return true; } return false;` can be shortened to `return something;`. You should also show your example output, in addition to the methods you&#39;ve used in your example (e.g. `addLikes`, `addRetweets`, etc)","body":"Note <code>if (something) { return true; } return false;</code> can be shortened to <code>return something;</code>. You should also show your example output, in addition to the methods you&#39;ve used in your example (e.g. <code>addLikes</code>, <code>addRetweets</code>, etc)"},{"owner":{"account_id":17947811,"reputation":76,"user_id":13041661,"display_name":"pete_bc"},"score":0,"creation_date":1667858586,"post_id":74352855,"comment_id":131264043,"body_markdown":"kindaLiked is true if likes &lt; retweets; You start with 3 &lt; 28 -- true; then you have 38 &lt; 28 -- false. Why do you think that 38 &lt; 28 should return true?","body":"kindaLiked is true if likes &lt; retweets; You start with 3 &lt; 28 -- true; then you have 38 &lt; 28 -- false. Why do you think that 38 &lt; 28 should return true?"}],"answers":[{"tags":[],"owner":{"account_id":15034414,"reputation":43,"user_id":10851322,"display_name":"Eden Refaelov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667855988,"creation_date":1667855988,"answer_id":74353061,"question_id":74352855,"body_markdown":"your desired output is:\r\n```\r\ntrue false true false false false true\r\n```\r\nlets take the first scenario\r\n```\r\n        sample.addLikes( 3 );\r\n        sample.addRetweets( 28 );\r\n        System.out.println( sample.notLiked() );\r\n        System.out.println( sample.kindaLiked() );\r\n```\r\nwe can easily see that in the start you have\r\n```\r\n3likes, 28retweets.\r\n```\r\nand lets take `kindaLikes()` method:\r\n```\r\n    public boolean kindaLiked()\r\n    {\r\n        if (likes &lt; retweets)\r\n        {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n```\r\nis `if likes &lt; retweets return true` and `3&lt;28` so it will return true.\r\n\r\nso it looks like you did `true true...` you should change the `&lt;` to `&gt;` that makes the `likes` greater than `retweets`.\r\n\r\n","title":"boolean returns same answer despite value change","body":"<p>your desired output is:</p>\n<pre><code>true false true false false false true\n</code></pre>\n<p>lets take the first scenario</p>\n<pre><code>        sample.addLikes( 3 );\n        sample.addRetweets( 28 );\n        System.out.println( sample.notLiked() );\n        System.out.println( sample.kindaLiked() );\n</code></pre>\n<p>we can easily see that in the start you have</p>\n<pre><code>3likes, 28retweets.\n</code></pre>\n<p>and lets take <code>kindaLikes()</code> method:</p>\n<pre><code>    public boolean kindaLiked()\n    {\n        if (likes &lt; retweets)\n        {\n            return true;\n        }\n        return false;\n    }\n</code></pre>\n<p>is <code>if likes &lt; retweets return true</code> and <code>3&lt;28</code> so it will return true.</p>\n<p>so it looks like you did <code>true true...</code> you should change the <code>&lt;</code> to <code>&gt;</code> that makes the <code>likes</code> greater than <code>retweets</code>.</p>\n"}],"owner":{"account_id":26860305,"reputation":1,"user_id":20443922,"display_name":"user20443922"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667855988,"creation_date":1667854771,"question_id":74352855,"body_markdown":"Im trying to find true or false values based on the number of likes and retweets it gives me, by the second  kindaLiked method it should return true but it returns false. first one works fine along with the notLiked method. \r\noutput im looking for\r\ntrue\r\nfalse\r\ntrue\r\nfalse\r\nfalse\r\nfalse\r\ntrue\r\nmsg aplus rt 75 lk 51\r\noutput im getting\r\ntrue\r\nfalse\r\nfalse\r\nfalse\r\ntrue\r\nfalse\r\nfalse\r\nmsg null\r\n```\r\nTweet sample = new Tweet(&quot;aplus&quot;, 0, 0 );\r\n\t\tsample.addLikes( 3 );\r\n\t\tsample.addRetweets( 28 );\r\n\t\tSystem.out.println( sample.notLiked() );\r\n\t\tSystem.out.println( sample.kindaLiked() );\r\n\t\tsample.addLikes(35);\r\n\t\tSystem.out.println( sample.kindaLiked() );\r\n\t\tSystem.out.println( sample.isTrending() );\r\n\t\tsample.addLikes( 13 );\r\n\t\tsample.addRetweets( 47 );\r\n\t\tSystem.out.println( sample.notLiked() );\r\n\t\tSystem.out.println( sample.kindaLiked() );\r\n\t\tSystem.out.println( sample.isTrending() );\r\n\t\tSystem.out.println( sample );\r\n```\r\n```\r\n\r\npublic boolean notLiked()\r\n\t{\r\n\t\tif (likes &lt; 10)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic boolean kindaLiked()\r\n\t{\r\n\t\tif (likes &lt; retweets)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic boolean isTrending()\r\n\t{\r\n\t\tif ( retweets + likes &gt;= 75)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic String toString()\r\n\t{\r\n\t\treturn &quot;msg &quot; + message;\r\n\t}\r\n}\r\n```\r\nafter the value of retweets and likes changes Im still getting the same true/false value\r\n\r\n\r\nThe code is presented to us as fill in the blank so im trying to avoid adding more methods","title":"boolean returns same answer despite value change","body":"<p>Im trying to find true or false values based on the number of likes and retweets it gives me, by the second  kindaLiked method it should return true but it returns false. first one works fine along with the notLiked method.\noutput im looking for\ntrue\nfalse\ntrue\nfalse\nfalse\nfalse\ntrue\nmsg aplus rt 75 lk 51\noutput im getting\ntrue\nfalse\nfalse\nfalse\ntrue\nfalse\nfalse\nmsg null</p>\n<pre><code>Tweet sample = new Tweet(&quot;aplus&quot;, 0, 0 );\n        sample.addLikes( 3 );\n        sample.addRetweets( 28 );\n        System.out.println( sample.notLiked() );\n        System.out.println( sample.kindaLiked() );\n        sample.addLikes(35);\n        System.out.println( sample.kindaLiked() );\n        System.out.println( sample.isTrending() );\n        sample.addLikes( 13 );\n        sample.addRetweets( 47 );\n        System.out.println( sample.notLiked() );\n        System.out.println( sample.kindaLiked() );\n        System.out.println( sample.isTrending() );\n        System.out.println( sample );\n</code></pre>\n<pre><code>\npublic boolean notLiked()\n    {\n        if (likes &lt; 10)\n        {\n            return true;\n        }\n        return false;\n    }\n\n    public boolean kindaLiked()\n    {\n        if (likes &lt; retweets)\n        {\n            return true;\n        }\n        return false;\n    }\n\n    public boolean isTrending()\n    {\n        if ( retweets + likes &gt;= 75)\n        {\n            return true;\n        }\n        return false;\n    }\n\n    public String toString()\n    {\n        return &quot;msg &quot; + message;\n    }\n}\n</code></pre>\n<p>after the value of retweets and likes changes Im still getting the same true/false value</p>\n<p>The code is presented to us as fill in the blank so im trying to avoid adding more methods</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1667426994,"post_id":74295424,"comment_id":131167708,"body_markdown":"There is too much code missing to advise, consider providing a [mcve], not the whole app, but a specially coded example that demonstrates only the issue via copy/paste with no change or addition.  Theoretically `toFront()` on the node would work if all relevant nodes are siblings (that it didn&#39;t work indicates that this was not the case).  You can adjust the z co-ordinate (e.g. -1) to make it paint on top of everything regardless, but you might want to better understand what you are doing before you do that.","body":"There is too much code missing to advise, consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, not the whole app, but a specially coded example that demonstrates only the issue via copy/paste with no change or addition.  Theoretically <code>toFront()</code> on the node would work if all relevant nodes are siblings (that it didn&#39;t work indicates that this was not the case).  You can adjust the z co-ordinate (e.g. -1) to make it paint on top of everything regardless, but you might want to better understand what you are doing before you do that."},{"owner":{"account_id":25167048,"reputation":31,"user_id":19522451,"display_name":"Demi76"},"score":1,"creation_date":1667553789,"post_id":74295424,"comment_id":131198142,"body_markdown":"@jewelsea Thanks for the advice, I solved the problem using setViewOrder with -1 parameter (before I used a positive value)","body":"@jewelsea Thanks for the advice, I solved the problem using setViewOrder with -1 parameter (before I used a positive value)"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667585849,"post_id":74295424,"comment_id":131209642,"body_markdown":"With enough reputation you will be able to [answer your an question](https://stackoverflow.com/help/self-answer).","body":"With enough reputation you will be able to <a href=\"https://stackoverflow.com/help/self-answer\">answer your an question</a>."}],"answers":[{"tags":[],"owner":{"account_id":25167048,"reputation":31,"user_id":19522451,"display_name":"Demi76"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667855838,"creation_date":1667855838,"answer_id":74353042,"question_id":74295424,"body_markdown":"I solved the problem using setViewOrder with -1 parameter (before I used a positive value)","title":"Javafx how to put shape above another shapes","body":"<p>I solved the problem using setViewOrder with -1 parameter (before I used a positive value)</p>\n"}],"owner":{"account_id":25167048,"reputation":31,"user_id":19522451,"display_name":"Demi76"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667855838,"creation_date":1667421882,"question_id":74295424,"body_markdown":"Trying to write a snake game. I want to mark place where the snake bites itself in red ,but the snake body overlaping it.\r\nI tried to put the shape from the head over the body with getHead().shape.toFront() command, but it didn&#39;t work. Possibly because the snake is added to paneGame.getChildren() as a list and toFront doesn&#39;t allow changing the order in which the elements list are drawn.\r\n\r\nI solved this problem change color overlaping body part. Can somebody advise more simply solution?\r\n```\r\n public class Draw extends Application {\r\n    Pane paneGame;\r\n    static Snake snake;\r\n\r\n    static final public int xLField = 50;\r\n    static final public int yLField = 53;\r\n    static final public int yLFieldGame = 50;\r\n    static public int sizeCell = 10;\r\n    int speed = 100;\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        BorderPane borderPane = new BorderPane();\r\n        paneGame = new Pane();\r\n        borderPane.setCenter(paneGame);\r\n        Scene scene = new Scene(borderPane, xLField * sizeCell, yLField * sizeCell, Color.GRAY);\r\n        setOnKey(scene);\r\n        snake = Snake.generatedSnake();\r\n        Timeline timeline = new Timeline(\r\n                new KeyFrame(Duration.millis(speed),\r\n                        event -&gt; gameProcessing()));\r\n        timeline.setCycleCount(Timeline.INDEFINITE);\r\n        timeline.play();\r\n        stage.setTitle(&quot;Snake&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    void gameProcessing() {\r\n                paneGame.getChildren().clear();\r\n                snake.move();\r\n                if (snake.getHead().hasIntersection(snake.getBody())) {\r\n                    snake.snakeDead();\r\n                }\r\n                paneGame.getChildren().addAll(snake.getBodyShapes());\r\n    }\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    void setOnKey(Scene scene) {\r\n        scene.setOnKeyPressed(key -&gt; {\r\n            if (key.getCode() == KeyCode.UP) snake.setDirection(Direction.UP);\r\n            if (key.getCode() == KeyCode.DOWN) snake.setDirection(Direction.DOWN);\r\n            if (key.getCode() == KeyCode.LEFT) snake.setDirection(Direction.LEFT);\r\n            if (key.getCode() == KeyCode.RIGHT) snake.setDirection(Direction.RIGHT);\r\n        });\r\n    }\r\n}\r\n\r\nenum Direction {\r\n    UP, DOWN, LEFT, RIGHT\r\n}\r\n\r\npublic class Snake {\r\n    private final ArrayList&lt;Body&gt; body;\r\n    private Body head;\r\n    public ArrayList&lt;Shape&gt; getBodyShapes() {\r\n        ArrayList&lt;Shape&gt; shapeListFromBody = new ArrayList&lt;&gt;();\r\n        for (Body body : this.body) {\r\n            shapeListFromBody.add(body.getShape());\r\n        }\r\n        return shapeListFromBody;\r\n    }\r\n    public ArrayList&lt;Body&gt; getBody(){return body;}\r\n    Body getHead() {\r\n        return head;\r\n    }\r\n\r\n    public void move() {\r\n\r\n           int x = head.getX();\r\n           int y = head.getY();\r\n            switch (direction) {\r\n                case UP -&gt; y -= 1;\r\n                case DOWN -&gt; y += 1;\r\n                case LEFT -&gt; x -= 1;\r\n                case RIGHT -&gt; x += 1;\r\n            }\r\n        body.add(0, new Body(x, y));\r\n            Cell.cellPool.remove((body.get(body.size() - 1).cellId));\r\n            body.remove(body.size() - 1);\r\n        head = body.get(0);\r\n    }\r\n\r\n    public Snake() {\r\n        direction = Direction.RIGHT;\r\n        this.body = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            body.add(new Body(Draw.xLField/2 - i, Draw.yLFieldGame/2));\r\n        }\r\n        head = this.body.get(0);\r\n    }\r\n    private Direction direction;\r\n    public static Snake generatedSnake(){\r\n        return new Snake();\r\n    }\r\n    public void snakeDead(){\r\n        getHead().shape.setFill(RED);\r\n        getHead().shape.toFront();\r\n        /*for(Body body: body){\r\n           if(getHead().hasIntersection(body)) {\r\n               body.shape.setFill(RED);\r\n           }\r\n        }*/\r\n    }\r\n    public void setDirection(Direction direction) {\r\n        this.direction = direction;\r\n    }\r\n\r\n    static class Body extends Cell {\r\n        private final Shape shape;\r\n\r\n        public Body(int x, int y) {\r\n            super(x, y);\r\n            shape = new Rectangle(getPixelsX(), getPixelsY(), size, size);\r\n            shape.setFill(GREEN);\r\n        }\r\n\r\n        public Shape getShape() {\r\n            return shape;\r\n        }\r\n    }\r\n}\r\npublic class Cell {\r\n\r\n    int x;\r\n    int y;\r\n    String cellId;\r\n    final int size = Draw.sizeCell;\r\n    public static HashSet&lt;String&gt; cellPool = new HashSet&lt;&gt;();\r\n\r\n    public int getPixelsX() {\r\n        return x * size;\r\n    }\r\n\r\n    public int getPixelsY() {\r\n        return y * size;\r\n    }\r\n\r\n    public Cell(int x, int y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.cellId = x + &quot;_&quot; + y;\r\n        Cell.cellPool.add(this.cellId);\r\n    }\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n\r\n    public int getY() {\r\n        return y;\r\n    }\r\n\r\n    public boolean hasIntersection(Cell otherCell) {\r\n        return otherCell != this &amp;&amp; this.cellId.equals(otherCell.cellId);\r\n    }\r\n\r\n    public boolean hasIntersection(List&lt;? extends Cell&gt; cells) {\r\n        for (Cell otherCell : cells) {\r\n            if (this.hasIntersection(otherCell)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\npublic class Cell {\r\n\r\n    int x;\r\n    int y;\r\n    String cellId;\r\n    final int size = Draw.sizeCell;\r\n    public static HashSet&lt;String&gt; cellPool = new HashSet&lt;&gt;();\r\n\r\n    public int getPixelsX() {\r\n        return x * size;\r\n    }\r\n\r\n    public int getPixelsY() {\r\n        return y * size;\r\n    }\r\n\r\n    public Cell(int x, int y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.cellId = x + &quot;_&quot; + y;\r\n        Cell.cellPool.add(this.cellId);\r\n    }\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n\r\n    public int getY() {\r\n        return y;\r\n    }\r\n\r\n\r\n    public boolean hasIntersection(Cell otherCell) {\r\n        return otherCell != this &amp;&amp; this.cellId.equals(otherCell.cellId);\r\n    }\r\n\r\n    public boolean hasIntersection(List&lt;? extends Cell&gt; cells) {\r\n        for (Cell otherCell : cells) {\r\n            if (this.hasIntersection(otherCell)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Javafx how to put shape above another shapes","body":"<p>Trying to write a snake game. I want to mark place where the snake bites itself in red ,but the snake body overlaping it.\nI tried to put the shape from the head over the body with getHead().shape.toFront() command, but it didn't work. Possibly because the snake is added to paneGame.getChildren() as a list and toFront doesn't allow changing the order in which the elements list are drawn.</p>\n<p>I solved this problem change color overlaping body part. Can somebody advise more simply solution?</p>\n<pre><code> public class Draw extends Application {\n    Pane paneGame;\n    static Snake snake;\n\n    static final public int xLField = 50;\n    static final public int yLField = 53;\n    static final public int yLFieldGame = 50;\n    static public int sizeCell = 10;\n    int speed = 100;\n\n    @Override\n    public void start(Stage stage) {\n\n        BorderPane borderPane = new BorderPane();\n        paneGame = new Pane();\n        borderPane.setCenter(paneGame);\n        Scene scene = new Scene(borderPane, xLField * sizeCell, yLField * sizeCell, Color.GRAY);\n        setOnKey(scene);\n        snake = Snake.generatedSnake();\n        Timeline timeline = new Timeline(\n                new KeyFrame(Duration.millis(speed),\n                        event -&gt; gameProcessing()));\n        timeline.setCycleCount(Timeline.INDEFINITE);\n        timeline.play();\n        stage.setTitle(&quot;Snake&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    void gameProcessing() {\n                paneGame.getChildren().clear();\n                snake.move();\n                if (snake.getHead().hasIntersection(snake.getBody())) {\n                    snake.snakeDead();\n                }\n                paneGame.getChildren().addAll(snake.getBodyShapes());\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n    void setOnKey(Scene scene) {\n        scene.setOnKeyPressed(key -&gt; {\n            if (key.getCode() == KeyCode.UP) snake.setDirection(Direction.UP);\n            if (key.getCode() == KeyCode.DOWN) snake.setDirection(Direction.DOWN);\n            if (key.getCode() == KeyCode.LEFT) snake.setDirection(Direction.LEFT);\n            if (key.getCode() == KeyCode.RIGHT) snake.setDirection(Direction.RIGHT);\n        });\n    }\n}\n\nenum Direction {\n    UP, DOWN, LEFT, RIGHT\n}\n\npublic class Snake {\n    private final ArrayList&lt;Body&gt; body;\n    private Body head;\n    public ArrayList&lt;Shape&gt; getBodyShapes() {\n        ArrayList&lt;Shape&gt; shapeListFromBody = new ArrayList&lt;&gt;();\n        for (Body body : this.body) {\n            shapeListFromBody.add(body.getShape());\n        }\n        return shapeListFromBody;\n    }\n    public ArrayList&lt;Body&gt; getBody(){return body;}\n    Body getHead() {\n        return head;\n    }\n\n    public void move() {\n\n           int x = head.getX();\n           int y = head.getY();\n            switch (direction) {\n                case UP -&gt; y -= 1;\n                case DOWN -&gt; y += 1;\n                case LEFT -&gt; x -= 1;\n                case RIGHT -&gt; x += 1;\n            }\n        body.add(0, new Body(x, y));\n            Cell.cellPool.remove((body.get(body.size() - 1).cellId));\n            body.remove(body.size() - 1);\n        head = body.get(0);\n    }\n\n    public Snake() {\n        direction = Direction.RIGHT;\n        this.body = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 10; i++) {\n            body.add(new Body(Draw.xLField/2 - i, Draw.yLFieldGame/2));\n        }\n        head = this.body.get(0);\n    }\n    private Direction direction;\n    public static Snake generatedSnake(){\n        return new Snake();\n    }\n    public void snakeDead(){\n        getHead().shape.setFill(RED);\n        getHead().shape.toFront();\n        /*for(Body body: body){\n           if(getHead().hasIntersection(body)) {\n               body.shape.setFill(RED);\n           }\n        }*/\n    }\n    public void setDirection(Direction direction) {\n        this.direction = direction;\n    }\n\n    static class Body extends Cell {\n        private final Shape shape;\n\n        public Body(int x, int y) {\n            super(x, y);\n            shape = new Rectangle(getPixelsX(), getPixelsY(), size, size);\n            shape.setFill(GREEN);\n        }\n\n        public Shape getShape() {\n            return shape;\n        }\n    }\n}\npublic class Cell {\n\n    int x;\n    int y;\n    String cellId;\n    final int size = Draw.sizeCell;\n    public static HashSet&lt;String&gt; cellPool = new HashSet&lt;&gt;();\n\n    public int getPixelsX() {\n        return x * size;\n    }\n\n    public int getPixelsY() {\n        return y * size;\n    }\n\n    public Cell(int x, int y) {\n        this.x = x;\n        this.y = y;\n        this.cellId = x + &quot;_&quot; + y;\n        Cell.cellPool.add(this.cellId);\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public boolean hasIntersection(Cell otherCell) {\n        return otherCell != this &amp;&amp; this.cellId.equals(otherCell.cellId);\n    }\n\n    public boolean hasIntersection(List&lt;? extends Cell&gt; cells) {\n        for (Cell otherCell : cells) {\n            if (this.hasIntersection(otherCell)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\npublic class Cell {\n\n    int x;\n    int y;\n    String cellId;\n    final int size = Draw.sizeCell;\n    public static HashSet&lt;String&gt; cellPool = new HashSet&lt;&gt;();\n\n    public int getPixelsX() {\n        return x * size;\n    }\n\n    public int getPixelsY() {\n        return y * size;\n    }\n\n    public Cell(int x, int y) {\n        this.x = x;\n        this.y = y;\n        this.cellId = x + &quot;_&quot; + y;\n        Cell.cellPool.add(this.cellId);\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n\n    public boolean hasIntersection(Cell otherCell) {\n        return otherCell != this &amp;&amp; this.cellId.equals(otherCell.cellId);\n    }\n\n    public boolean hasIntersection(List&lt;? extends Cell&gt; cells) {\n        for (Cell otherCell : cells) {\n            if (this.hasIntersection(otherCell)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n\n</code></pre>\n"},{"tags":["python","java","opencv","mat"],"answers":[{"tags":[],"owner":{"account_id":2610992,"reputation":3083,"user_id":5836291,"accept_rate":79,"display_name":"Vtik"},"down_vote_count":6,"up_vote_count":7,"is_accepted":false,"score":1,"last_activity_date":1463053357,"creation_date":1463052955,"answer_id":37185722,"question_id":37182774,"body_markdown":"**For OpenCV 1.x :**\r\n\r\nYou can use [CreateMat][1] to do that :\r\n\r\n&gt; Creates a matrix header and allocates the matrix data.\r\n\r\n    Python: cv.CreateMat(rows, cols, type) → mat\r\n        Parameters:\t\r\n            rows – Number of rows in the matrix\r\n            cols – Number of columns in the matrix\r\n            type – The type of the matrix elements in the form CV_&lt;bit depth&gt;&lt;S|U|F&gt;C&lt;number of channels&gt; , where S=signed, U=unsigned, F=float. For example, CV _ 8UC1 means the elements are 8-bit unsigned and the there is 1 channel, and CV _ 32SC2 means the elements are 32-bit signed and there are 2 channels.\r\n\r\nThe function call is equivalent to the following code:\r\n\r\n    CvMat* mat = cvCreateMatHeader(rows, cols, type);\r\n    cvCreateData(mat);\r\n\r\n**For cv2 interface :**\r\n\r\nThe new cv2 interface for Python integrates [numpy][2] arrays into the OpenCV framework, which makes operations much simpler as they are represented with simple multidimensional arrays.\r\nhere&#39;s a starting example :\r\n\r\n    import numpy as np, cv\r\n    vis = np.zeros((384, 836), np.float32)\r\n    h,w = vis.shape\r\n    vis2 = cv.CreateMat(h, w, cv.CV_32FC3)\r\n    vis0 = cv.fromarray(vis)\r\n\r\n  [1]: http://docs.opencv.org/2.4/modules/core/doc/old_basic_structures.html#createmat\r\n  [2]: http://www.numpy.org/","title":"creating Mat with OpenCV in python","body":"<p><strong>For OpenCV 1.x :</strong></p>\n\n<p>You can use <a href=\"http://docs.opencv.org/2.4/modules/core/doc/old_basic_structures.html#createmat\" rel=\"nofollow\">CreateMat</a> to do that :</p>\n\n<blockquote>\n  <p>Creates a matrix header and allocates the matrix data.</p>\n</blockquote>\n\n<pre><code>Python: cv.CreateMat(rows, cols, type) → mat\n    Parameters: \n        rows – Number of rows in the matrix\n        cols – Number of columns in the matrix\n        type – The type of the matrix elements in the form CV_&lt;bit depth&gt;&lt;S|U|F&gt;C&lt;number of channels&gt; , where S=signed, U=unsigned, F=float. For example, CV _ 8UC1 means the elements are 8-bit unsigned and the there is 1 channel, and CV _ 32SC2 means the elements are 32-bit signed and there are 2 channels.\n</code></pre>\n\n<p>The function call is equivalent to the following code:</p>\n\n<pre><code>CvMat* mat = cvCreateMatHeader(rows, cols, type);\ncvCreateData(mat);\n</code></pre>\n\n<p><strong>For cv2 interface :</strong></p>\n\n<p>The new cv2 interface for Python integrates <a href=\"http://www.numpy.org/\" rel=\"nofollow\">numpy</a> arrays into the OpenCV framework, which makes operations much simpler as they are represented with simple multidimensional arrays.\nhere's a starting example :</p>\n\n<pre><code>import numpy as np, cv\nvis = np.zeros((384, 836), np.float32)\nh,w = vis.shape\nvis2 = cv.CreateMat(h, w, cv.CV_32FC3)\nvis0 = cv.fromarray(vis)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7180502,"reputation":3936,"user_id":5484662,"display_name":"Ankit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667855756,"creation_date":1630594530,"answer_id":69032663,"question_id":37182774,"body_markdown":"Even though the question was asked a long time ago, this should help anyone looking for an answer today.\r\n\r\nThis should be applicable to opencv versions &gt;= 2.X. In python, the opencv images are now represented as numpy arrays. So, a `Mat` object can simply be created as follows:\r\n\r\n```python\r\ncvImg = np.zeros((rows, columns, channels), dtype = &quot;uint8&quot;)\r\n```","title":"creating Mat with OpenCV in python","body":"<p>Even though the question was asked a long time ago, this should help anyone looking for an answer today.</p>\n<p>This should be applicable to opencv versions &gt;= 2.X. In python, the opencv images are now represented as numpy arrays. So, a <code>Mat</code> object can simply be created as follows:</p>\n<pre class=\"lang-py prettyprint-override\"><code>cvImg = np.zeros((rows, columns, channels), dtype = &quot;uint8&quot;)\n</code></pre>\n"}],"owner":{"account_id":1332346,"reputation":11339,"user_id":1275959,"accept_rate":57,"display_name":"epsilones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62840,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"closed_date":1662991251,"answer_count":2,"score":6,"last_activity_date":1667855756,"creation_date":1463045364,"question_id":37182774,"body_markdown":"I am used to [Java&#39;s implementation of OpenCV](https://docs.opencv.org/3.4/javadoc/org/opencv/core/Mat.html#%3Cinit%3E(int,int,int)). I want to create a `Mat` structure, fill data into it, extract a `submat` and then apply some image transform. In Java, I use:\r\n\r\n```java\r\nmy_mat = new Mat(my_rows, my_cols, CvType.CV_8U);\r\nmy_mat.put(0, 0, my_data);\r\nmy_mat.submat(0, my_other_rows, 0, my_other_cols);\r\n```\r\n\r\nBut I didn&#39;t find anything working in python&#39;s OpenCV. I found this link on the OpenCV forums: [cv2.CreateMat in python](http://answers.opencv.org/question/30037/cv2createmat-in-python/), &lt;s&gt;but the link is broken&lt;/s&gt;\r\n","title":"creating Mat with OpenCV in python","body":"<p>I am used to <a href=\"https://docs.opencv.org/3.4/javadoc/org/opencv/core/Mat.html#%3Cinit%3E(int,int,int)\" rel=\"nofollow noreferrer\">Java's implementation of OpenCV</a>. I want to create a <code>Mat</code> structure, fill data into it, extract a <code>submat</code> and then apply some image transform. In Java, I use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>my_mat = new Mat(my_rows, my_cols, CvType.CV_8U);\nmy_mat.put(0, 0, my_data);\nmy_mat.submat(0, my_other_rows, 0, my_other_cols);\n</code></pre>\n<p>But I didn't find anything working in python's OpenCV. I found this link on the OpenCV forums: <a href=\"http://answers.opencv.org/question/30037/cv2createmat-in-python/\" rel=\"nofollow noreferrer\">cv2.CreateMat in python</a>, <s>but the link is broken</s></p>\n"},{"tags":["java","junit","junit5","test-coverage"],"comments":[{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":0,"creation_date":1667699991,"post_id":74332820,"comment_id":131228543,"body_markdown":"If what you&#39;re trying to do is just ensure each branch is covered then what about refactoring the valueOrDefault check in line 13 into a utility method and testing that separately ... then the line 13 will be 100% covered.  Of course if what you really want is to test what happens with the different versions of custom container in the service then you will need to have 2 different tests or configurations in the test..","body":"If what you&#39;re trying to do is just ensure each branch is covered then what about refactoring the valueOrDefault check in line 13 into a utility method and testing that separately ... then the line 13 will be 100% covered.  Of course if what you really want is to test what happens with the different versions of custom container in the service then you will need to have 2 different tests or configurations in the test.."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667700000,"post_id":74332820,"comment_id":131228544,"body_markdown":"*How* is but the form following the function of *why*. So *why* do you want 100% of coverage?","body":"<i>How</i> is but the form following the function of <i>why</i>. So <i>why</i> do you want 100% of coverage?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667700220,"post_id":74332820,"comment_id":131228570,"body_markdown":"Create another component for accessing environment variables, which you can mock.","body":"Create another component for accessing environment variables, which you can mock."},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1667700350,"post_id":74332820,"comment_id":131228582,"body_markdown":"@tgdavies Could you show in an answer how can it be achieved? But I wonder if I do that, this new component will not be 100% covered? Because this System.getenv() will now go into it","body":"@tgdavies Could you show in an answer how can it be achieved? But I wonder if I do that, this new component will not be 100% covered? Because this System.getenv() will now go into it"},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1667700436,"post_id":74332820,"comment_id":131228593,"body_markdown":"@Turing85 I need it because I need a % of coverage in order to be able to submit merge request and also why not have coverage of something","body":"@Turing85 I need it because I need a % of coverage in order to be able to submit merge request and also why not have coverage of something"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667700548,"post_id":74332820,"comment_id":131228604,"body_markdown":"&quot;Coverage of something&quot; doesn&#39;t sound like a good metric for code quality. Coverage of relevant business logic sounds much more sensible.","body":"&quot;Coverage of something&quot; doesn&#39;t sound like a good metric for code quality. Coverage of relevant business logic sounds much more sensible."},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1667700807,"post_id":74332820,"comment_id":131228625,"body_markdown":"@MrR I am sorry I did not really understand the suggestion, if I execute the tests setting the environment variable then it will not be null, but now the branch of it being null will not be covered :/","body":"@MrR I am sorry I did not really understand the suggestion, if I execute the tests setting the environment variable then it will not be null, but now the branch of it being null will not be covered :/"},{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":0,"creation_date":1667701095,"post_id":74332820,"comment_id":131228644,"body_markdown":"@BugsOverflow - you can use the idea suggested by tgdavies answer, or if it doesn&#39;t actually matter what the specific value is - then move the valueOrDefault selection code into a new static method you can tests to 100% (both ways - branch coverage), and then you get 100% method coverage in the constructor because there is no longer a branch in the constructor.","body":"@BugsOverflow - you can use the idea suggested by tgdavies answer, or if it doesn&#39;t actually matter what the specific value is - then move the valueOrDefault selection code into a new static method you can tests to 100% (both ways - branch coverage), and then you get 100% method coverage in the constructor because there is no longer a branch in the constructor."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1667718026,"post_id":74332820,"comment_id":131230267,"body_markdown":"`when(serviceToTest.getContainerName()).thenReturn(&quot;hi&quot;);` does nothing, because `serviceToTest` is not a mock. You want to mock that method on `mockCustomContainer`. You don&#39;t need to use `ReflectionTestUtils` -- get `customContainerFactoryMock` to return `mockCustomContainer`.","body":"<code>when(serviceToTest.getContainerName()).thenReturn(&quot;hi&quot;);</code> does nothing, because <code>serviceToTest</code> is not a mock. You want to mock that method on <code>mockCustomContainer</code>. You don&#39;t need to use <code>ReflectionTestUtils</code> -- get <code>customContainerFactoryMock</code> to return <code>mockCustomContainer</code>."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667700798,"creation_date":1667700798,"answer_id":74332871,"question_id":74332820,"body_markdown":"Refactor your code to make it testable, by moving object creation and static method calls to components, which you can mock in your tests:\r\n```java\r\ninterface ContainerFactory {\r\n    CustomContainer create(Object configuration, String name);\r\n}\r\n\r\ninterface EnvironmentAccessor {\r\n    String getEnv(String name);\r\n}\r\n\r\n@Service\r\npublic class ServiceToTest {\r\n\r\n    private final CustomContainer customContainer;\r\n\r\n    public ServiceToTest(ContainerFactory containerFactory, EnvironmentAccessor environmentAccessor) {\r\n        Object configuration = new Object();\r\n        String envWord = environmentAccessor.getEnv(&quot;envword&quot;);\r\n        this.customContainer = containerFactory.create(configuration, envWord == null ? &quot;default&quot; : envWord);\r\n    }\r\n\r\n    public String getContainerName() {\r\n        return customContainer.getContainerName();\r\n    }\r\n}\r\n```","title":"How to fully test coverage a constructor that has a System.getenv(&quot;name&quot;) operation inside","body":"<p>Refactor your code to make it testable, by moving object creation and static method calls to components, which you can mock in your tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface ContainerFactory {\n    CustomContainer create(Object configuration, String name);\n}\n\ninterface EnvironmentAccessor {\n    String getEnv(String name);\n}\n\n@Service\npublic class ServiceToTest {\n\n    private final CustomContainer customContainer;\n\n    public ServiceToTest(ContainerFactory containerFactory, EnvironmentAccessor environmentAccessor) {\n        Object configuration = new Object();\n        String envWord = environmentAccessor.getEnv(&quot;envword&quot;);\n        this.customContainer = containerFactory.create(configuration, envWord == null ? &quot;default&quot; : envWord);\n    }\n\n    public String getContainerName() {\n        return customContainer.getContainerName();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74332871,"answer_count":1,"score":2,"last_activity_date":1667855744,"creation_date":1667699742,"question_id":74332820,"body_markdown":"I am using JUNIT5, have been trying to fully coverage a piece of code that involves System.getenv(&quot;&quot;); I writed a couple classes to replicate what I am experiencing right now and so you can use them to understand me also (**minimal reproducible example**):\r\n\r\nFirst we have the service I need to get with full coverage (**ServiceToTest.class**) (it has a CustomContainer object which contains methods that it needs):\r\n\r\n    @Service\r\n    public class ServiceToTest {\r\n    \r\n    \tprivate final CustomContainer customContainer;\r\n    \r\n    \tpublic ServiceToTest() {\r\n    \t\tObject configuration = new Object();\r\n    \t\tString envWord = System.getenv(&quot;envword&quot;);\r\n    \t\tthis.customContainer = new CustomContainer(configuration, envWord == null ? &quot;default&quot; : envWord);\r\n    \r\n    \t}\r\n    \r\n    \tpublic String getContainerName() {\r\n    \t\treturn customContainer.getContainerName();\r\n    \t}\r\n    \r\n    }\r\n    \r\n**CustomContainer.class:**\r\n\r\n    public class CustomContainer {\r\n    \t@Getter\r\n    \tString containerName;\r\n    \tObject configuration;\r\n    \r\n    \tpublic CustomContainer(Object configuration, String containerName) {\r\n    \t\tthis.configuration = configuration;\r\n    \t\tthis.containerName = containerName;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nI have tried using ReflectionTestUtils to set the envWord variable without success... I tried this https://stackoverflow.com/a/496849/12085680, also tried using @SystemStubsExtension https://stackoverflow.com/a/64892484/12085680, and finally I also tried using Spy like in this answer https://stackoverflow.com/a/31029944/12085680\r\n\r\nBut the problem is that this variable is inside the constructor so this only executes once and I think that it happens before any of this configs I tried before can apply, here is my **test class**:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class TestService {\r\n    \t// I have to mock this becase in real project it has methods which I need mocked behavour\r\n    \tprivate static CustomContainer mockCustomContainer = mock(CustomContainer.class);\r\n    \t// The serviceToTest class in which I use ReflectionTestUtils to use the mock above\r\n    \t// Here is where the constructor gets called and it happens BEFORE (debuged) the setup method\r\n    \t// which is anotated with @BeforeAll\r\n    \tprivate static ServiceToTest serviceToTest = new ServiceToTest();\r\n    \r\n    \t@BeforeAll\r\n    \tstatic void setup() {\r\n    \t\t// set the field customContainer at serviceToTest class to mockCustomContainer\r\n    \t\tReflectionTestUtils.setField(serviceToTest, &quot;customContainer&quot;, mockCustomContainer);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid testGetContainerNameNotNull() {\r\n    \t\tassertNull(serviceToTest.getContainerName());\r\n    \t}\r\n    \r\n    }\r\n\r\nI need to write a test in which serviceToTest.getContainerName is not null but the real purpose of this is to have coverage of this sentence `envWord == null ? &quot;default&quot; : envWord` so it would be a test that is capable of executing the constructor and mocking System.getenv() so that it returns not null...\r\n\r\nRight now the coverage looks like this and I can not find a way to **make it 100%** Any ideas??\r\n\r\n[![coverage][1]][1]\r\n\r\n\r\n**EDIT:**\r\nSo after following tgdavies suggestion, the code can be 100% covered, so this is the way:\r\n\r\n**Interface CustomContainerFactory:**\r\n\r\n    public interface CustomContainerFactory {\r\n    \tCustomContainer create(Object configuration, String name);\r\n    }\r\n\r\n**CustomContainerFactoryImpl:**\r\n\r\n    @Service\r\n    public class CustomContainerFactoryImpl implements CustomContainerFactory {\r\n    \r\n    \t@Override\r\n    \tpublic CustomContainer create(Object configuration, String name) {\r\n    \t\treturn new CustomContainer(configuration, name);\r\n    \t}\r\n    \r\n    }\r\n\r\n**EnvironmentAccessor Interface:**\r\n\r\n    public interface EnvironmentAccessor {\r\n    \tString getEnv(String name);\r\n    }\r\n\r\n**EnvironmentAccessorImpl:**\r\n\r\n    @Service\r\n    public class EnvironmentAccessorImpl implements EnvironmentAccessor {\r\n    \r\n    \t@Override\r\n    \tpublic String getEnv(String name) {\r\n    \t\treturn System.getenv(name);\r\n    \t}\r\n    \r\n    }\r\n\r\n**Class ServiceToTest after refactoring:**\r\n\r\n    @Service\r\n    public class ServiceToTest {\r\n    \r\n    \tprivate final CustomContainer customContainer;\r\n    \t\r\n    \tpublic ServiceToTest(EnvironmentAccessor environmentAccessor, CustomContainerFactory customContainerFactory) {\r\n    \t\tObject configuration = new Object();\r\n    \t\tString envWord = environmentAccessor.getEnv(&quot;anything&quot;);\r\n    \t\tthis.customContainer = customContainerFactory.create(configuration, envWord == null ? &quot;default&quot; : envWord);\r\n    \r\n    \t}\r\n    \r\n    \tpublic String getContainerName() {\r\n    \t\treturn customContainer.getContainerName();\r\n    \t}\r\n    \r\n    }\r\n\r\n**Finally the test case after refactoring (here is were I think it can be improved maybe?):**\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class TestService {\r\n    \r\n    \tprivate static CustomContainer mockCustomContainer = mock(CustomContainer.class);\r\n    \tprivate static CustomContainerFactory customContainerFactoryMock = mock(CustomContainerFactoryImpl.class);\r\n    \tprivate static EnvironmentAccessor environmentAccessorMock = mock(EnvironmentAccessorImpl.class);\r\n    \r\n    \tprivate static ServiceToTest serviceToTest;\r\n    \r\n    \t@BeforeAll\r\n    \tstatic void setup() {\r\n    \t\twhen(environmentAccessorMock.getEnv(anyString())).thenReturn(&quot;hi&quot;);\r\n    \t\tserviceToTest = new ServiceToTest(environmentAccessorMock, customContainerFactoryMock);\r\n    \t\tReflectionTestUtils.setField(serviceToTest, &quot;customContainer&quot;, mockCustomContainer);\r\n    \t\twhen(serviceToTest.getContainerName()).thenReturn(&quot;hi&quot;);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid testGetContainerNameNotNull() {\r\n    \t\tassertNotNull(serviceToTest.getContainerName());\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid coverNullReturnFromGetEnv() {\r\n    \t\twhen(environmentAccessorMock.getEnv(anyString())).thenReturn(null);\r\n    \t\tassertAll(() -&gt; new ServiceToTest(environmentAccessorMock, customContainerFactoryMock));\r\n    \t}\r\n    \r\n    }\r\n\r\nNow the **coverage** is 100%:\r\n\r\n[![coverage100][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rXUni.png\r\n  [2]: https://i.stack.imgur.com/rRlJk.png\r\n\r\n**EDIT 2:**\r\n\r\nWe can improve the test class and get the same 100% coverage like so:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class TestService {\r\n    \r\n    \tprivate static CustomContainer mockCustomContainer = mock(CustomContainer.class);\r\n    \tprivate static IContainerFactory customContainerFactoryMock = mock(ContainerFactoryImpl.class);\r\n    \tprivate static IEnvironmentAccessor environmentAccessorMock = mock(EnvironmentAccessorImpl.class);\r\n    \r\n    \tprivate static ServiceToTest serviceToTest;\r\n    \r\n    \t@BeforeAll\r\n    \tstatic void setup() {\r\n    \t\twhen(environmentAccessorMock.getEnv(anyString())).thenReturn(&quot;hi&quot;);\r\n    \t\twhen(customContainerFactoryMock.create(any(), anyString())).thenReturn(mockCustomContainer);\r\n    \t\tserviceToTest = new ServiceToTest(environmentAccessorMock, customContainerFactoryMock);\r\n    \r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid testGetContainerNameNotNull() {\r\n    \t\tassertNotNull(serviceToTest.getContainerName());\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid coverNullReturnFromGetEnv() {\r\n    \t\twhen(environmentAccessorMock.getEnv(anyString())).thenReturn(null);\r\n    \t\tassertAll(() -&gt; new ServiceToTest(environmentAccessorMock, customContainerFactoryMock));\r\n    \t}\r\n    \r\n    }","title":"How to fully test coverage a constructor that has a System.getenv(&quot;name&quot;) operation inside","body":"<p>I am using JUNIT5, have been trying to fully coverage a piece of code that involves System.getenv(&quot;&quot;); I writed a couple classes to replicate what I am experiencing right now and so you can use them to understand me also (<strong>minimal reproducible example</strong>):</p>\n<p>First we have the service I need to get with full coverage (<strong>ServiceToTest.class</strong>) (it has a CustomContainer object which contains methods that it needs):</p>\n<pre><code>@Service\npublic class ServiceToTest {\n\n    private final CustomContainer customContainer;\n\n    public ServiceToTest() {\n        Object configuration = new Object();\n        String envWord = System.getenv(&quot;envword&quot;);\n        this.customContainer = new CustomContainer(configuration, envWord == null ? &quot;default&quot; : envWord);\n\n    }\n\n    public String getContainerName() {\n        return customContainer.getContainerName();\n    }\n\n}\n</code></pre>\n<p><strong>CustomContainer.class:</strong></p>\n<pre><code>public class CustomContainer {\n    @Getter\n    String containerName;\n    Object configuration;\n\n    public CustomContainer(Object configuration, String containerName) {\n        this.configuration = configuration;\n        this.containerName = containerName;\n    }\n\n}\n</code></pre>\n<p>I have tried using ReflectionTestUtils to set the envWord variable without success... I tried this <a href=\"https://stackoverflow.com/a/496849/12085680\">https://stackoverflow.com/a/496849/12085680</a>, also tried using @SystemStubsExtension <a href=\"https://stackoverflow.com/a/64892484/12085680\">https://stackoverflow.com/a/64892484/12085680</a>, and finally I also tried using Spy like in this answer <a href=\"https://stackoverflow.com/a/31029944/12085680\">https://stackoverflow.com/a/31029944/12085680</a></p>\n<p>But the problem is that this variable is inside the constructor so this only executes once and I think that it happens before any of this configs I tried before can apply, here is my <strong>test class</strong>:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass TestService {\n    // I have to mock this becase in real project it has methods which I need mocked behavour\n    private static CustomContainer mockCustomContainer = mock(CustomContainer.class);\n    // The serviceToTest class in which I use ReflectionTestUtils to use the mock above\n    // Here is where the constructor gets called and it happens BEFORE (debuged) the setup method\n    // which is anotated with @BeforeAll\n    private static ServiceToTest serviceToTest = new ServiceToTest();\n\n    @BeforeAll\n    static void setup() {\n        // set the field customContainer at serviceToTest class to mockCustomContainer\n        ReflectionTestUtils.setField(serviceToTest, &quot;customContainer&quot;, mockCustomContainer);\n    }\n\n    @Test\n    void testGetContainerNameNotNull() {\n        assertNull(serviceToTest.getContainerName());\n    }\n\n}\n</code></pre>\n<p>I need to write a test in which serviceToTest.getContainerName is not null but the real purpose of this is to have coverage of this sentence <code>envWord == null ? &quot;default&quot; : envWord</code> so it would be a test that is capable of executing the constructor and mocking System.getenv() so that it returns not null...</p>\n<p>Right now the coverage looks like this and I can not find a way to <strong>make it 100%</strong> Any ideas??</p>\n<p><a href=\"https://i.stack.imgur.com/rXUni.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rXUni.png\" alt=\"coverage\" /></a></p>\n<p><strong>EDIT:</strong>\nSo after following tgdavies suggestion, the code can be 100% covered, so this is the way:</p>\n<p><strong>Interface CustomContainerFactory:</strong></p>\n<pre><code>public interface CustomContainerFactory {\n    CustomContainer create(Object configuration, String name);\n}\n</code></pre>\n<p><strong>CustomContainerFactoryImpl:</strong></p>\n<pre><code>@Service\npublic class CustomContainerFactoryImpl implements CustomContainerFactory {\n\n    @Override\n    public CustomContainer create(Object configuration, String name) {\n        return new CustomContainer(configuration, name);\n    }\n\n}\n</code></pre>\n<p><strong>EnvironmentAccessor Interface:</strong></p>\n<pre><code>public interface EnvironmentAccessor {\n    String getEnv(String name);\n}\n</code></pre>\n<p><strong>EnvironmentAccessorImpl:</strong></p>\n<pre><code>@Service\npublic class EnvironmentAccessorImpl implements EnvironmentAccessor {\n\n    @Override\n    public String getEnv(String name) {\n        return System.getenv(name);\n    }\n\n}\n</code></pre>\n<p><strong>Class ServiceToTest after refactoring:</strong></p>\n<pre><code>@Service\npublic class ServiceToTest {\n\n    private final CustomContainer customContainer;\n    \n    public ServiceToTest(EnvironmentAccessor environmentAccessor, CustomContainerFactory customContainerFactory) {\n        Object configuration = new Object();\n        String envWord = environmentAccessor.getEnv(&quot;anything&quot;);\n        this.customContainer = customContainerFactory.create(configuration, envWord == null ? &quot;default&quot; : envWord);\n\n    }\n\n    public String getContainerName() {\n        return customContainer.getContainerName();\n    }\n\n}\n</code></pre>\n<p><strong>Finally the test case after refactoring (here is were I think it can be improved maybe?):</strong></p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass TestService {\n\n    private static CustomContainer mockCustomContainer = mock(CustomContainer.class);\n    private static CustomContainerFactory customContainerFactoryMock = mock(CustomContainerFactoryImpl.class);\n    private static EnvironmentAccessor environmentAccessorMock = mock(EnvironmentAccessorImpl.class);\n\n    private static ServiceToTest serviceToTest;\n\n    @BeforeAll\n    static void setup() {\n        when(environmentAccessorMock.getEnv(anyString())).thenReturn(&quot;hi&quot;);\n        serviceToTest = new ServiceToTest(environmentAccessorMock, customContainerFactoryMock);\n        ReflectionTestUtils.setField(serviceToTest, &quot;customContainer&quot;, mockCustomContainer);\n        when(serviceToTest.getContainerName()).thenReturn(&quot;hi&quot;);\n    }\n\n    @Test\n    void testGetContainerNameNotNull() {\n        assertNotNull(serviceToTest.getContainerName());\n    }\n\n    @Test\n    void coverNullReturnFromGetEnv() {\n        when(environmentAccessorMock.getEnv(anyString())).thenReturn(null);\n        assertAll(() -&gt; new ServiceToTest(environmentAccessorMock, customContainerFactoryMock));\n    }\n\n}\n</code></pre>\n<p>Now the <strong>coverage</strong> is 100%:</p>\n<p><a href=\"https://i.stack.imgur.com/rRlJk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rRlJk.png\" alt=\"coverage100\" /></a></p>\n<p><strong>EDIT 2:</strong></p>\n<p>We can improve the test class and get the same 100% coverage like so:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass TestService {\n\n    private static CustomContainer mockCustomContainer = mock(CustomContainer.class);\n    private static IContainerFactory customContainerFactoryMock = mock(ContainerFactoryImpl.class);\n    private static IEnvironmentAccessor environmentAccessorMock = mock(EnvironmentAccessorImpl.class);\n\n    private static ServiceToTest serviceToTest;\n\n    @BeforeAll\n    static void setup() {\n        when(environmentAccessorMock.getEnv(anyString())).thenReturn(&quot;hi&quot;);\n        when(customContainerFactoryMock.create(any(), anyString())).thenReturn(mockCustomContainer);\n        serviceToTest = new ServiceToTest(environmentAccessorMock, customContainerFactoryMock);\n\n    }\n\n    @Test\n    void testGetContainerNameNotNull() {\n        assertNotNull(serviceToTest.getContainerName());\n    }\n\n    @Test\n    void coverNullReturnFromGetEnv() {\n        when(environmentAccessorMock.getEnv(anyString())).thenReturn(null);\n        assertAll(() -&gt; new ServiceToTest(environmentAccessorMock, customContainerFactoryMock));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13802031,"reputation":1105,"user_id":9961828,"display_name":"pratik vekariya"},"score":1,"creation_date":1626933032,"post_id":68479520,"comment_id":121024325,"body_markdown":"add line &quot;wisataList = new ArrayList&lt;&gt;(Arrays.asList(jsonResponse.getData().getJSONObject(i)));&quot; in your if condition inside for loop and remove before loop. So you will get only that data which match condition.","body":"add line &quot;wisataList = new ArrayList&lt;&gt;(Arrays.asList(jsonResponse.getData().getJSONObje&zwnj;&#8203;ct(i)));&quot; in your if condition inside for loop and remove before loop. So you will get only that data which match condition."}],"answers":[{"tags":[],"owner":{"account_id":19680463,"reputation":171,"user_id":14407699,"display_name":"Arnau Mas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626932495,"creation_date":1626932495,"answer_id":68479714,"question_id":68479520,"body_markdown":"You can use [org.json.simple][1] library. You would do it like this:\r\n\r\n    import org.json.simple.*;\r\n\r\n    // I imagine response.body() is a String, if not, convert it to String\r\n    JSONObject jsonObject = (JSONObject) JSONValue.parse(response.body());\r\n    JSONArray data = (JSONArray) jsonObject.get(&quot;data&quot;);\r\n \r\n    for (int i = 0; i &lt; data.size(); i++) {\r\n        JSONObject jsonObject2 = (JSONObject)data.get(i);\r\n        String id = (String) jsonObject2.get(&quot;id&quot;);\r\n        \r\n        if((id != null) &amp;&amp; (id.equals(&quot;3&quot;))){\r\n            String nama_ = (String) jsonObject3.get(&quot;nama&quot;);\r\n            //...\r\n        }\r\n       \r\n    }\r\n\r\n  [1]: http://www.java2s.com/Code/Jar/j/Downloadjsonsimple11jar.htm","title":"How to get specific value from nested JSON object?","body":"<p>You can use <a href=\"http://www.java2s.com/Code/Jar/j/Downloadjsonsimple11jar.htm\" rel=\"nofollow noreferrer\">org.json.simple</a> library. You would do it like this:</p>\n<pre><code>import org.json.simple.*;\n\n// I imagine response.body() is a String, if not, convert it to String\nJSONObject jsonObject = (JSONObject) JSONValue.parse(response.body());\nJSONArray data = (JSONArray) jsonObject.get(&quot;data&quot;);\n\nfor (int i = 0; i &lt; data.size(); i++) {\n    JSONObject jsonObject2 = (JSONObject)data.get(i);\n    String id = (String) jsonObject2.get(&quot;id&quot;);\n    \n    if((id != null) &amp;&amp; (id.equals(&quot;3&quot;))){\n        String nama_ = (String) jsonObject3.get(&quot;nama&quot;);\n        //...\n    }\n   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4598289,"reputation":1210,"user_id":3763032,"accept_rate":62,"display_name":"mochadwi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1626936146,"creation_date":1626935782,"answer_id":68480198,"question_id":68479520,"body_markdown":"From the following class: `JSONResponse` \r\n\r\nNot sure if you were using a library, or has a POJOs called `JSONResponse`\r\n\r\nAlso, you&#39;re calling the `JSONResponse#getData`, it means there&#39;s a getter called `getData`\r\n\r\npresumably, your project already has a POJO for the attributes inside `&quot;data&quot;: [ { ... }, { ... } ]` objects\r\n\r\nE.g:\r\n\r\n```java\r\npublic class JSONResponse {\r\n   private List&lt;Data&gt; data;\r\n   private String success;\r\n\r\n   // getter &amp; setter omitted\r\n}\r\n```\r\n\r\n```java\r\n\r\npublic class Data {\r\n\r\n   private Integer id;\r\n   private String nama;\r\n   private Integer harga;\r\n   private String deskripsi;\r\n   private Integer gambarid;\r\n   private Boolean paketan;\r\n   private String fasilitas;\r\n   private Integer totalTiket;\r\n   private Integer minTiket;\r\n   private String createdAt;\r\n   private String updatedAt;\r\n   private Object deletedAt;\r\n   private Integer gambarId;\r\n   private Gambar gambar;\r\n\r\n   // getter and setter omitted\r\n\r\n}\r\n```\r\n\r\n```java\r\n\r\npublic class Gambar {\r\n\r\n   private Integer id;\r\n   private String url;\r\n   private Object isGallery;\r\n   private String createdAt;\r\n   private String updatedAt;\r\n   private Object deletedAt;\r\n\r\n   // getter and setter omitted\r\n\r\n}\r\n```\r\n\r\n&gt; Generate POJOs from JSON: https://www.jsonschema2pojo.org/\r\n&gt;\r\n&gt; Or you can use plugins: https://plugins.jetbrains.com/plugin/8533-json2pojo\r\n\r\n\r\nHere&#39;s the alternative approach might works for your usecases:\r\n\r\n```java\r\n@override\r\npublic void onResponse(Call&lt;JSONResponse&gt; call, Response&lt;JSONResponse&gt; response)\r\n{\r\n    JSONResponse jsonResponse = response.body();\r\n    wisataList = new ArrayList&lt;Data&gt;();\r\n\r\n    Intent intent = getIntent();\r\n    int id = intent.getIntExtra(HomeActivity.EXTRA_NUMBER, 0);\r\n    for (int i = 0; i&lt;jsonResponse.getData().length; i++)\r\n    {\r\n        Data wisata = jsonResponse.getData().get(i);\r\n        if (id == wisata.getId())\r\n        {\r\n            wisatList.add(wisata);\r\n            // break; // optional if you want to stop iterating, if the wisata already found\r\n        }\r\n    }\r\n    PutDataIntoRecyclerView(wisataList);\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4920304/3763032","title":"How to get specific value from nested JSON object?","body":"<p>From the following class: <code>JSONResponse</code></p>\n<p>Not sure if you were using a library, or has a POJOs called <code>JSONResponse</code></p>\n<p>Also, you're calling the <code>JSONResponse#getData</code>, it means there's a getter called <code>getData</code></p>\n<p>presumably, your project already has a POJO for the attributes inside <code>&quot;data&quot;: [ { ... }, { ... } ]</code> objects</p>\n<p>E.g:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JSONResponse {\n   private List&lt;Data&gt; data;\n   private String success;\n\n   // getter &amp; setter omitted\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class Data {\n\n   private Integer id;\n   private String nama;\n   private Integer harga;\n   private String deskripsi;\n   private Integer gambarid;\n   private Boolean paketan;\n   private String fasilitas;\n   private Integer totalTiket;\n   private Integer minTiket;\n   private String createdAt;\n   private String updatedAt;\n   private Object deletedAt;\n   private Integer gambarId;\n   private Gambar gambar;\n\n   // getter and setter omitted\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class Gambar {\n\n   private Integer id;\n   private String url;\n   private Object isGallery;\n   private String createdAt;\n   private String updatedAt;\n   private Object deletedAt;\n\n   // getter and setter omitted\n\n}\n</code></pre>\n<blockquote>\n<p>Generate POJOs from JSON: <a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">https://www.jsonschema2pojo.org/</a></p>\n<p>Or you can use plugins: <a href=\"https://plugins.jetbrains.com/plugin/8533-json2pojo\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/8533-json2pojo</a></p>\n</blockquote>\n<p>Here's the alternative approach might works for your usecases:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@override\npublic void onResponse(Call&lt;JSONResponse&gt; call, Response&lt;JSONResponse&gt; response)\n{\n    JSONResponse jsonResponse = response.body();\n    wisataList = new ArrayList&lt;Data&gt;();\n\n    Intent intent = getIntent();\n    int id = intent.getIntExtra(HomeActivity.EXTRA_NUMBER, 0);\n    for (int i = 0; i&lt;jsonResponse.getData().length; i++)\n    {\n        Data wisata = jsonResponse.getData().get(i);\n        if (id == wisata.getId())\n        {\n            wisatList.add(wisata);\n            // break; // optional if you want to stop iterating, if the wisata already found\n        }\n    }\n    PutDataIntoRecyclerView(wisataList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":522861,"reputation":1708,"user_id":915636,"accept_rate":83,"display_name":"Sagive"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667855518,"creation_date":1667855518,"answer_id":74352997,"question_id":68479520,"body_markdown":"But.. where are you assigning the json data into?  \r\nto simplify it - a small example - hope this helps\r\n\r\n**dataset:**\r\n\r\n    let jsonData = {\r\n        &quot;success&quot;: true,\r\n        &quot;data&quot;: [\r\n            {\r\n                &quot;id&quot;: 1,\r\n                &quot;name&quot;: &quot;test&quot;,\r\n            },\r\n            {\r\n                &quot;id&quot;: 2,\r\n                &quot;name&quot;: &quot;test2&quot;,\r\n            },\r\n            {\r\n                &quot;id&quot;: 3,\r\n                &quot;name&quot;: &quot;test3&quot;,\r\n            }\r\n        ]\r\n    };\r\n\r\n\r\n**Get id==&#39;2&#39;:**\r\n\r\n    let response = jsonData.data.find(ele =&gt; ele.id == &#39;2&#39;);\r\n\r\n**Response now has value of:**\r\n\r\n    { &quot;id&quot;: 2, &quot;name&quot;: &quot;test2&quot; }","title":"How to get specific value from nested JSON object?","body":"<p>But.. where are you assigning the json data into?<br />\nto simplify it - a small example - hope this helps</p>\n<p><strong>dataset:</strong></p>\n<pre><code>let jsonData = {\n    &quot;success&quot;: true,\n    &quot;data&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;test&quot;,\n        },\n        {\n            &quot;id&quot;: 2,\n            &quot;name&quot;: &quot;test2&quot;,\n        },\n        {\n            &quot;id&quot;: 3,\n            &quot;name&quot;: &quot;test3&quot;,\n        }\n    ]\n};\n</code></pre>\n<p><strong>Get id=='2':</strong></p>\n<pre><code>let response = jsonData.data.find(ele =&gt; ele.id == '2');\n</code></pre>\n<p><strong>Response now has value of:</strong></p>\n<pre><code>{ &quot;id&quot;: 2, &quot;name&quot;: &quot;test2&quot; }\n</code></pre>\n"}],"owner":{"account_id":22260634,"reputation":25,"user_id":16492105,"display_name":"Untitled99"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68480198,"answer_count":3,"score":0,"last_activity_date":1667855518,"creation_date":1626930946,"question_id":68479520,"body_markdown":"I want to get a specific value from my nested JSON object like this:\r\n\r\n    {\r\n        &quot;success&quot;: true,\r\n        &quot;data&quot;: [\r\n            {\r\n             ...\r\n            },\r\n            {\r\n                &quot;id&quot;: 5,\r\n                &quot;nama&quot;: &quot;Ngagoes Ulin Kalembur&quot;,\r\n                &quot;harga&quot;: 250000,\r\n                &quot;deskripsi&quot;: &quot;Menikmati serunya berwisata keliling desa-desa di sekitaran desa alamendah menggunakan sepeda, menyusuri pemukiman, kebun-kebun dan pemandangan anda akan menemukan hal menarik selama perjalanan di desa alamendah, Pengemasan sayuran, pengrajin sovenir dll.&quot;,\r\n                &quot;gambarid&quot;: 11,\r\n                &quot;paketan&quot;: true,\r\n                &quot;fasilitas&quot;: &quot;Sepeda,Angkutan Umum,Wisata Perternakan,Wisata Kuliner,Wisata Pertanian,Snack,Pemandu Lokal,Air Mineral&quot;,\r\n                &quot;totalTiket&quot;: 100,\r\n                &quot;minTiket&quot;: 50,\r\n                &quot;createdAt&quot;: &quot;2021-03-07T10:44:10.000Z&quot;,\r\n                &quot;updatedAt&quot;: &quot;2021-04-28T13:07:05.000Z&quot;,\r\n                &quot;deletedAt&quot;: null,\r\n                &quot;gambarId&quot;: 11,\r\n                &quot;Gambar&quot;: {\r\n                    &quot;id&quot;: 11,\r\n                    &quot;url&quot;: &quot;https://desaalamendah.id/images/upload/ImageWisata-1615114030139.png&quot;,\r\n                    &quot;isGallery&quot;: null,\r\n                    &quot;createdAt&quot;: &quot;2021-03-07T10:44:10.000Z&quot;,\r\n                    &quot;updatedAt&quot;: &quot;2021-03-07T10:47:10.000Z&quot;,\r\n                    &quot;deletedAt&quot;: null\r\n                }\r\n            },\r\n\r\nI already try `for()` and `if()` condition like this:\r\n\r\n    @override\r\n    public void onResponse(Call&lt;JSONResponse&gt; call, Response&lt;JSONResponse&gt; response)\r\n    {\r\n        JSONResponse jsonResponse = response.body();\r\n        wisataList = new ArrayList&lt;&gt;(Arrays.asList(jsonResponse.getData()));\r\n    \r\n        Intent intent = getIntent();\r\n        int id = intent.getIntExtra(HomeActivity.EXTRA_NUMBER, 0);\r\n        for (int i = 0; i&lt;jsonResponse.getData().length; i++)\r\n        {\r\n           if (id == i)\r\n           {\r\n             PutDataIntoRecyclerView(wisataList);\r\n           }\r\n        }\r\n    }\r\n\r\nWhen I run it, it keeps returning all of the values. How to get a specific value, for example `id = 3`, from my nested JSON object?","title":"How to get specific value from nested JSON object?","body":"<p>I want to get a specific value from my nested JSON object like this:</p>\n<pre><code>{\n    &quot;success&quot;: true,\n    &quot;data&quot;: [\n        {\n         ...\n        },\n        {\n            &quot;id&quot;: 5,\n            &quot;nama&quot;: &quot;Ngagoes Ulin Kalembur&quot;,\n            &quot;harga&quot;: 250000,\n            &quot;deskripsi&quot;: &quot;Menikmati serunya berwisata keliling desa-desa di sekitaran desa alamendah menggunakan sepeda, menyusuri pemukiman, kebun-kebun dan pemandangan anda akan menemukan hal menarik selama perjalanan di desa alamendah, Pengemasan sayuran, pengrajin sovenir dll.&quot;,\n            &quot;gambarid&quot;: 11,\n            &quot;paketan&quot;: true,\n            &quot;fasilitas&quot;: &quot;Sepeda,Angkutan Umum,Wisata Perternakan,Wisata Kuliner,Wisata Pertanian,Snack,Pemandu Lokal,Air Mineral&quot;,\n            &quot;totalTiket&quot;: 100,\n            &quot;minTiket&quot;: 50,\n            &quot;createdAt&quot;: &quot;2021-03-07T10:44:10.000Z&quot;,\n            &quot;updatedAt&quot;: &quot;2021-04-28T13:07:05.000Z&quot;,\n            &quot;deletedAt&quot;: null,\n            &quot;gambarId&quot;: 11,\n            &quot;Gambar&quot;: {\n                &quot;id&quot;: 11,\n                &quot;url&quot;: &quot;https://desaalamendah.id/images/upload/ImageWisata-1615114030139.png&quot;,\n                &quot;isGallery&quot;: null,\n                &quot;createdAt&quot;: &quot;2021-03-07T10:44:10.000Z&quot;,\n                &quot;updatedAt&quot;: &quot;2021-03-07T10:47:10.000Z&quot;,\n                &quot;deletedAt&quot;: null\n            }\n        },\n</code></pre>\n<p>I already try <code>for()</code> and <code>if()</code> condition like this:</p>\n<pre><code>@override\npublic void onResponse(Call&lt;JSONResponse&gt; call, Response&lt;JSONResponse&gt; response)\n{\n    JSONResponse jsonResponse = response.body();\n    wisataList = new ArrayList&lt;&gt;(Arrays.asList(jsonResponse.getData()));\n\n    Intent intent = getIntent();\n    int id = intent.getIntExtra(HomeActivity.EXTRA_NUMBER, 0);\n    for (int i = 0; i&lt;jsonResponse.getData().length; i++)\n    {\n       if (id == i)\n       {\n         PutDataIntoRecyclerView(wisataList);\n       }\n    }\n}\n</code></pre>\n<p>When I run it, it keeps returning all of the values. How to get a specific value, for example <code>id = 3</code>, from my nested JSON object?</p>\n"},{"tags":["java","findbugs","spotbugs"],"answers":[{"tags":[],"owner":{"account_id":216207,"reputation":2038,"user_id":471293,"accept_rate":47,"display_name":"ekaqu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667855480,"creation_date":1667855480,"answer_id":74352991,"question_id":74323979,"body_markdown":"In ant I set reportLevel=&quot;low&quot;, seems that this was getting filtered out","title":"SpotBugs SE_NO_SERIALVERSIONID not triggering","body":"<p>In ant I set reportLevel=&quot;low&quot;, seems that this was getting filtered out</p>\n"}],"owner":{"account_id":216207,"reputation":2038,"user_id":471293,"accept_rate":47,"display_name":"ekaqu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667855480,"creation_date":1667604996,"question_id":74323979,"body_markdown":"I am trying to add SpotBugs to my project specifically for SE_NO_SERIALVERSIONID and after running with effort=max I don&#39;t see a single class detected, but we know 10 examples we testing to see if they would get detected... all classes have this pattern\r\n\r\n    public final class SessionInfo implements Serializable\r\n    {\r\n    ...\r\n    }\r\n\r\nso we know clearly that the check should have happened but didn&#39;t.\r\n\r\nIs there a way to see why or to explicitly enable this check?\r\n\r\nEDIT:\r\n\r\nI am trying to debug why this isn&#39;t triggering and see it should looking at the spotbugs source code https://github.com/spotbugs/spotbugs/blob/master/spotbugs/src/main/java/edu/umd/cs/findbugs/detect/SerializableIdiom.java#L410-L413\r\n\r\nWhen I turn on debug logging I see\r\n\r\n \r\n\r\n    [spotbugs] Directly implements Serializable: org/apache/cassandra/streaming/SessionInfo\r\n    ...\r\n     [spotbugs] org.apache.cassandra.streaming.SessionInfo\r\n     [spotbugs]   hasPublicVoidConstructor: false\r\n     [spotbugs]   superClassHasVoidConstructor: true\r\n     [spotbugs]   isExternalizable: false\r\n     [spotbugs]   isSerializable: true\r\n     [spotbugs]   isAbstract: false\r\n     [spotbugs]   superClassImplementsSerializable: false\r\n     [spotbugs]   isGUIClass: false\r\n     [spotbugs]   isEjbImplClass: false\r\n     [spotbugs]   isJSPClass: false\r\n\r\nNot every variable is logged, but knowing the code being inspected it really should trigger...","title":"SpotBugs SE_NO_SERIALVERSIONID not triggering","body":"<p>I am trying to add SpotBugs to my project specifically for SE_NO_SERIALVERSIONID and after running with effort=max I don't see a single class detected, but we know 10 examples we testing to see if they would get detected... all classes have this pattern</p>\n<pre><code>public final class SessionInfo implements Serializable\n{\n...\n}\n</code></pre>\n<p>so we know clearly that the check should have happened but didn't.</p>\n<p>Is there a way to see why or to explicitly enable this check?</p>\n<p>EDIT:</p>\n<p>I am trying to debug why this isn't triggering and see it should looking at the spotbugs source code <a href=\"https://github.com/spotbugs/spotbugs/blob/master/spotbugs/src/main/java/edu/umd/cs/findbugs/detect/SerializableIdiom.java#L410-L413\" rel=\"nofollow noreferrer\">https://github.com/spotbugs/spotbugs/blob/master/spotbugs/src/main/java/edu/umd/cs/findbugs/detect/SerializableIdiom.java#L410-L413</a></p>\n<p>When I turn on debug logging I see</p>\n<pre><code>[spotbugs] Directly implements Serializable: org/apache/cassandra/streaming/SessionInfo\n...\n [spotbugs] org.apache.cassandra.streaming.SessionInfo\n [spotbugs]   hasPublicVoidConstructor: false\n [spotbugs]   superClassHasVoidConstructor: true\n [spotbugs]   isExternalizable: false\n [spotbugs]   isSerializable: true\n [spotbugs]   isAbstract: false\n [spotbugs]   superClassImplementsSerializable: false\n [spotbugs]   isGUIClass: false\n [spotbugs]   isEjbImplClass: false\n [spotbugs]   isJSPClass: false\n</code></pre>\n<p>Not every variable is logged, but knowing the code being inspected it really should trigger...</p>\n"},{"tags":["java","jackson","jsonnode"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1661439231,"creation_date":1545320355,"answer_id":53871740,"question_id":53871675,"body_markdown":"That&#39;s good enough to use [JsonNode.equals][1]:\r\n\r\n&gt;Equality for node objects is defined as full (deep) value equality. This means that it is possible to compare complete JSON trees for equality by comparing equality of root nodes.\r\n\r\nMaybe also add a null check as `test != null`\r\n\r\n[1]:https://fasterxml.github.io/jackson-databind/javadoc/2.2/com/fasterxml/jackson/databind/JsonNode.html#equals(java.lang.Object)","title":"How to compare two JsonNodes with Jackson?","body":"<p>That's good enough to use <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.2/com/fasterxml/jackson/databind/JsonNode.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">JsonNode.equals</a>:</p>\n<blockquote>\n<p>Equality for node objects is defined as full (deep) value equality. This means that it is possible to compare complete JSON trees for equality by comparing equality of root nodes.</p>\n</blockquote>\n<p>Maybe also add a null check as <code>test != null</code></p>\n"},{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545320370,"creation_date":1545320370,"answer_id":53871744,"question_id":53871675,"body_markdown":"You current code looks ok, the `JsonNode` class provides [`JsonNode.equals(Object)`][1] method for checking:\r\n\r\n&gt; Equality for node objects is defined as full (deep) value equality.\r\n\r\nSince version 2.6 there is also overloaded version which uses a custom comparator:\r\n\r\n\r\n    public boolean equals(Comparator&lt;JsonNode&gt; comparator, JsonNode other){\r\n        return comparator.compare(this, other) == 0;\r\n    }\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/JsonNode.html#equals(java.lang.Object)","title":"How to compare two JsonNodes with Jackson?","body":"<p>You current code looks ok, the <code>JsonNode</code> class provides <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/JsonNode.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>JsonNode.equals(Object)</code></a> method for checking:</p>\n\n<blockquote>\n  <p>Equality for node objects is defined as full (deep) value equality.</p>\n</blockquote>\n\n<p>Since version 2.6 there is also overloaded version which uses a custom comparator:</p>\n\n<pre><code>public boolean equals(Comparator&lt;JsonNode&gt; comparator, JsonNode other){\n    return comparator.compare(this, other) == 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1521806,"reputation":11725,"user_id":1421254,"accept_rate":100,"display_name":"Dmitriusan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667854836,"creation_date":1667854836,"answer_id":74352869,"question_id":53871675,"body_markdown":"Yet another solution (especially suitable for unit tests because it is customizable) is to use a custom comparator that ignores the order of child nodes. Comparing JSONs is not as trivial a task as it sounds; there are various caveats, and you will likely have to make customizations according to your case and serialization approach.\r\n\r\nHere is a sample that works with Jackson and AssertJ (but it is easy to re-write it for other frameworks).\r\n\r\n      assertThat(json1)\r\n          .usingComparator(new ComparatorWithoutOrder(true))\r\n          .isEqualTo(json2);\r\n\r\n\r\nFirst of all, you should set up `ObjectMapper` to serialize dates in some predictable way, for example:\r\n\r\n      mapper = new ObjectMapper();\r\n      mapper.registerModule(new JavaTimeModule());\r\n      mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n    \r\nOtherwise, you will end up serializing some `Instant` fields as `TextNode` and some fields as `DecimalNode` depending on how you create a JsonNode.\r\n\r\nAlso, the may be a trouble with fields like `value: null`, they may be present at one JSON and just missing at another JSON. The comparator mentioned below just ignores fields with `null` value that are missing at other JSON\r\n\r\nYet another caveat is that you are serializing fields of `Set` type, you will get JSON arrays (with some order), and an additional effort is needed to handle this case. It is an example of metainformation that is just lost during when serializing from Java `Set` to JSON array.\r\n\r\nHere is a sample comparator. It is configurable to ignore element order inside JSON arrays, or to pay attention to element order  (see `ignoreElementOrderInArrays` variable)\r\n\r\n\r\n    import static java.util.Spliterators.spliteratorUnknownSize;\r\n    import static java.util.stream.StreamSupport.stream;\r\n    \r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.node.JsonNodeType;\r\n    import com.google.common.collect.Sets;\r\n    import java.util.Collection;\r\n    import java.util.Comparator;\r\n    import java.util.Optional;\r\n    import java.util.Spliterator;\r\n    \r\n    class ComparatorWithoutOrder implements Comparator&lt;Iterable&lt;? extends JsonNode&gt;&gt; {\r\n    \r\n      private boolean ignoreElementOrderInArrays;\r\n    \r\n      public ComparatorWithoutOrder(boolean ignoreElementOrderInArrays) {\r\n        this.ignoreElementOrderInArrays = ignoreElementOrderInArrays;\r\n      }\r\n    \r\n      @Override\r\n      public int compare(Iterable&lt;? extends JsonNode&gt; o1, Iterable&lt;? extends JsonNode&gt; o2) {\r\n        if (o1 == null || o2 == null) {\r\n          return -1;\r\n        }\r\n        if (o1 == o2) {\r\n          return 0;\r\n        }\r\n        if (o1 instanceof JsonNode &amp;&amp; o2 instanceof JsonNode) {\r\n          return compareJsonNodes((JsonNode) o1, (JsonNode) o2);\r\n        }\r\n        return -1;\r\n      }\r\n    \r\n      private int compareJsonNodes(JsonNode o1, JsonNode o2) {\r\n        if (o1 == null || o2 == null) {\r\n          return -1;\r\n        }\r\n        if (o1 == o2) {\r\n          return 0;\r\n        }\r\n        if (!o1.getNodeType().equals(o2.getNodeType())) {\r\n          return -1;\r\n        }\r\n        switch (o1.getNodeType()) {\r\n          case NULL:\r\n            return o2.isNull() ? 0 : -1;\r\n          case BOOLEAN:\r\n            return o1.asBoolean() == o2.asBoolean() ? 0 : -1;\r\n          case STRING:\r\n            return o1.asText().equals(o2.asText()) ? 0 : -1;\r\n          case NUMBER:\r\n            double double1 = o1.asDouble();\r\n            double double2 = o2.asDouble();\r\n            return Math.abs(double1 - double2) / Math.max(double1, double2) &lt; 0.999 ? 0 : -1;\r\n          case OBJECT:\r\n            // ignores fields with null value that are missing at other JSON\r\n            var missingNotNullFields = Sets\r\n                .symmetricDifference(Sets.newHashSet(o1.fieldNames()), Sets.newHashSet(o2.fieldNames()))\r\n                .stream()\r\n                .filter(missingField -&gt; isNotNull(o1, missingField) || isNotNull(o2, missingField))\r\n                .toList();\r\n            if (!missingNotNullFields.isEmpty()) {\r\n              return -1;\r\n            }\r\n            Integer reduce1 = stream(spliteratorUnknownSize(o1.fieldNames(), Spliterator.ORDERED), false)\r\n                .map(key -&gt; compareJsonNodes(o1.get(key), o2.get(key)))\r\n                .reduce(0, (a, b) -&gt; a == -1 || b == -1 ? -1 : 0);\r\n            return reduce1;\r\n          case ARRAY:\r\n            if (o1.size() != o2.size()) {\r\n              return -1;\r\n            }\r\n            if (o1.isEmpty()) {\r\n              return 0;\r\n            }\r\n            var o1Iterator = o1.elements();\r\n            var o2Iterator = o2.elements();\r\n            var o2Elements = Sets.newHashSet(o2.elements());\r\n            Integer reduce = stream(spliteratorUnknownSize(o1Iterator, Spliterator.ORDERED), false)\r\n                .map(o1Next -&gt; ignoreElementOrderInArrays ?\r\n                    lookForMatchingElement(o1Next, o2Elements) : compareJsonNodes(o1Next, o2Iterator.next()))\r\n                .reduce(0, (a, b) -&gt; a == -1 || b == -1 ? -1 : 0);\r\n            return reduce;\r\n          case MISSING:\r\n          case BINARY:\r\n          case POJO:\r\n          default:\r\n            return -1;\r\n        }\r\n      }\r\n    \r\n      private int lookForMatchingElement(JsonNode elementToLookFor, Collection&lt;JsonNode&gt; collectionOfElements) {\r\n        // Note: O(n^2) complexity\r\n        return collectionOfElements.stream()\r\n            .filter(o2Element -&gt; compareJsonNodes(elementToLookFor, o2Element) == 0)\r\n            .findFirst()\r\n            .map(o2Element -&gt; 0)\r\n            .orElse(-1);\r\n      }\r\n    \r\n      private static boolean isNotNull(JsonNode jsonObject, String fieldName) {\r\n        return Optional.ofNullable(jsonObject.get(fieldName))\r\n            .map(JsonNode::getNodeType)\r\n            .filter(nodeType -&gt; nodeType != JsonNodeType.NULL)\r\n            .isPresent();\r\n      }\r\n    }","title":"How to compare two JsonNodes with Jackson?","body":"<p>Yet another solution (especially suitable for unit tests because it is customizable) is to use a custom comparator that ignores the order of child nodes. Comparing JSONs is not as trivial a task as it sounds; there are various caveats, and you will likely have to make customizations according to your case and serialization approach.</p>\n<p>Here is a sample that works with Jackson and AssertJ (but it is easy to re-write it for other frameworks).</p>\n<pre><code>  assertThat(json1)\n      .usingComparator(new ComparatorWithoutOrder(true))\n      .isEqualTo(json2);\n</code></pre>\n<p>First of all, you should set up <code>ObjectMapper</code> to serialize dates in some predictable way, for example:</p>\n<pre><code>  mapper = new ObjectMapper();\n  mapper.registerModule(new JavaTimeModule());\n  mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n</code></pre>\n<p>Otherwise, you will end up serializing some <code>Instant</code> fields as <code>TextNode</code> and some fields as <code>DecimalNode</code> depending on how you create a JsonNode.</p>\n<p>Also, the may be a trouble with fields like <code>value: null</code>, they may be present at one JSON and just missing at another JSON. The comparator mentioned below just ignores fields with <code>null</code> value that are missing at other JSON</p>\n<p>Yet another caveat is that you are serializing fields of <code>Set</code> type, you will get JSON arrays (with some order), and an additional effort is needed to handle this case. It is an example of metainformation that is just lost during when serializing from Java <code>Set</code> to JSON array.</p>\n<p>Here is a sample comparator. It is configurable to ignore element order inside JSON arrays, or to pay attention to element order  (see <code>ignoreElementOrderInArrays</code> variable)</p>\n<pre><code>import static java.util.Spliterators.spliteratorUnknownSize;\nimport static java.util.stream.StreamSupport.stream;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.node.JsonNodeType;\nimport com.google.common.collect.Sets;\nimport java.util.Collection;\nimport java.util.Comparator;\nimport java.util.Optional;\nimport java.util.Spliterator;\n\nclass ComparatorWithoutOrder implements Comparator&lt;Iterable&lt;? extends JsonNode&gt;&gt; {\n\n  private boolean ignoreElementOrderInArrays;\n\n  public ComparatorWithoutOrder(boolean ignoreElementOrderInArrays) {\n    this.ignoreElementOrderInArrays = ignoreElementOrderInArrays;\n  }\n\n  @Override\n  public int compare(Iterable&lt;? extends JsonNode&gt; o1, Iterable&lt;? extends JsonNode&gt; o2) {\n    if (o1 == null || o2 == null) {\n      return -1;\n    }\n    if (o1 == o2) {\n      return 0;\n    }\n    if (o1 instanceof JsonNode &amp;&amp; o2 instanceof JsonNode) {\n      return compareJsonNodes((JsonNode) o1, (JsonNode) o2);\n    }\n    return -1;\n  }\n\n  private int compareJsonNodes(JsonNode o1, JsonNode o2) {\n    if (o1 == null || o2 == null) {\n      return -1;\n    }\n    if (o1 == o2) {\n      return 0;\n    }\n    if (!o1.getNodeType().equals(o2.getNodeType())) {\n      return -1;\n    }\n    switch (o1.getNodeType()) {\n      case NULL:\n        return o2.isNull() ? 0 : -1;\n      case BOOLEAN:\n        return o1.asBoolean() == o2.asBoolean() ? 0 : -1;\n      case STRING:\n        return o1.asText().equals(o2.asText()) ? 0 : -1;\n      case NUMBER:\n        double double1 = o1.asDouble();\n        double double2 = o2.asDouble();\n        return Math.abs(double1 - double2) / Math.max(double1, double2) &lt; 0.999 ? 0 : -1;\n      case OBJECT:\n        // ignores fields with null value that are missing at other JSON\n        var missingNotNullFields = Sets\n            .symmetricDifference(Sets.newHashSet(o1.fieldNames()), Sets.newHashSet(o2.fieldNames()))\n            .stream()\n            .filter(missingField -&gt; isNotNull(o1, missingField) || isNotNull(o2, missingField))\n            .toList();\n        if (!missingNotNullFields.isEmpty()) {\n          return -1;\n        }\n        Integer reduce1 = stream(spliteratorUnknownSize(o1.fieldNames(), Spliterator.ORDERED), false)\n            .map(key -&gt; compareJsonNodes(o1.get(key), o2.get(key)))\n            .reduce(0, (a, b) -&gt; a == -1 || b == -1 ? -1 : 0);\n        return reduce1;\n      case ARRAY:\n        if (o1.size() != o2.size()) {\n          return -1;\n        }\n        if (o1.isEmpty()) {\n          return 0;\n        }\n        var o1Iterator = o1.elements();\n        var o2Iterator = o2.elements();\n        var o2Elements = Sets.newHashSet(o2.elements());\n        Integer reduce = stream(spliteratorUnknownSize(o1Iterator, Spliterator.ORDERED), false)\n            .map(o1Next -&gt; ignoreElementOrderInArrays ?\n                lookForMatchingElement(o1Next, o2Elements) : compareJsonNodes(o1Next, o2Iterator.next()))\n            .reduce(0, (a, b) -&gt; a == -1 || b == -1 ? -1 : 0);\n        return reduce;\n      case MISSING:\n      case BINARY:\n      case POJO:\n      default:\n        return -1;\n    }\n  }\n\n  private int lookForMatchingElement(JsonNode elementToLookFor, Collection&lt;JsonNode&gt; collectionOfElements) {\n    // Note: O(n^2) complexity\n    return collectionOfElements.stream()\n        .filter(o2Element -&gt; compareJsonNodes(elementToLookFor, o2Element) == 0)\n        .findFirst()\n        .map(o2Element -&gt; 0)\n        .orElse(-1);\n  }\n\n  private static boolean isNotNull(JsonNode jsonObject, String fieldName) {\n    return Optional.ofNullable(jsonObject.get(fieldName))\n        .map(JsonNode::getNodeType)\n        .filter(nodeType -&gt; nodeType != JsonNodeType.NULL)\n        .isPresent();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14542,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":53871740,"answer_count":3,"score":11,"last_activity_date":1667854836,"creation_date":1545320105,"question_id":53871675,"body_markdown":"I have a method which compares two objects, but I don&#39;t know how to compare JsonNode by Jackson library.\r\n\r\nI want get something like that:\r\n\r\n    private boolean test(JsonNode source) {\r\n        JsonNode test = compiler.process(file);\r\n        return test.equals(source);\r\n    }\r\n\r\n    ","title":"How to compare two JsonNodes with Jackson?","body":"<p>I have a method which compares two objects, but I don't know how to compare JsonNode by Jackson library.</p>\n\n<p>I want get something like that:</p>\n\n<pre><code>private boolean test(JsonNode source) {\n    JsonNode test = compiler.process(file);\n    return test.equals(source);\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":0,"creation_date":1545319147,"post_id":53871333,"comment_id":94589966,"body_markdown":"&quot;how can I configure maven, that the program uses JSON version 20170516, but spring-test can still use jsonassert&quot; Is maven [dependency scope](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope) what you&#39;re looking for? You could make certain versions used during tests and other versions using in compiling and building.","body":"&quot;how can I configure maven, that the program uses JSON version 20170516, but spring-test can still use jsonassert&quot; Is maven <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope\" rel=\"nofollow noreferrer\">dependency scope</a> what you&#39;re looking for? You could make certain versions used during tests and other versions using in compiling and building."},{"owner":{"account_id":2030705,"reputation":2040,"user_id":1814493,"accept_rate":86,"display_name":"Paflow"},"score":0,"creation_date":1545319883,"post_id":53871333,"comment_id":94590389,"body_markdown":"No, that does not help. As I wrote, the critical point where the newer version of JsonObject is used is in the class, not in the test of that class.","body":"No, that does not help. As I wrote, the critical point where the newer version of JsonObject is used is in the class, not in the test of that class."}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1545321094,"creation_date":1545319165,"answer_id":53871431,"question_id":53871333,"body_markdown":"Unless `spring-test` or `jsonassert` will shade the `org.json:json` dependency internally in the future version you are stuck having to use one version of `org.json:json` across the classpath. \r\n\r\nNot all Java dependencies are compatible, see [classpath hell][1].\r\n\r\nYou can try defining a [Dependency Exclusion][2] for the problematic version but this can potentially brake `jsonassert` dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n      &lt;version&gt;1.5.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n          &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/373193/what-is-classpath-hell-and-is-was-it-really-a-problem-for-java\r\n  [2]: https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html","title":"Two versions of library dependency in Maven","body":"<p>Unless <code>spring-test</code> or <code>jsonassert</code> will shade the <code>org.json:json</code> dependency internally in the future version you are stuck having to use one version of <code>org.json:json</code> across the classpath. </p>\n\n<p>Not all Java dependencies are compatible, see <a href=\"https://stackoverflow.com/questions/373193/what-is-classpath-hell-and-is-was-it-really-a-problem-for-java\">classpath hell</a>.</p>\n\n<p>You can try defining a <a href=\"https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html\" rel=\"nofollow noreferrer\">Dependency Exclusion</a> for the problematic version but this can potentially brake <code>jsonassert</code> dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n  &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n  &lt;version&gt;1.5.0&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n      &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1545319216,"creation_date":1545319216,"answer_id":53871444,"question_id":53871333,"body_markdown":"you need to add the dependencies that you want to enforce specific version when there is conflict in `dependencyManagement`. This ensures the maven uses 20170516 version of `json` dependency even though `jsonassert` depends different version.\r\n\r\n\r\n        &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20170516&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n\r\nPlease see https://stackoverflow.com/questions/2619598/differences-between-dependencymanagement-and-dependencies-in-maven?rq=1\r\n\r\nor you can use `&lt;exclusions&gt;` to exclude a child dependency. ","title":"Two versions of library dependency in Maven","body":"<p>you need to add the dependencies that you want to enforce specific version when there is conflict in <code>dependencyManagement</code>. This ensures the maven uses 20170516 version of <code>json</code> dependency even though <code>jsonassert</code> depends different version.</p>\n\n<pre><code>    &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20170516&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n            &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>Please see <a href=\"https://stackoverflow.com/questions/2619598/differences-between-dependencymanagement-and-dependencies-in-maven?rq=1\">Differences between dependencyManagement and dependencies in Maven</a></p>\n\n<p>or you can use <code>&lt;exclusions&gt;</code> to exclude a child dependency. </p>\n"}],"owner":{"account_id":2030705,"reputation":2040,"user_id":1814493,"accept_rate":86,"display_name":"Paflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1099,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53871431,"answer_count":2,"score":1,"last_activity_date":1667854802,"creation_date":1545318768,"question_id":53871333,"body_markdown":"In my `pom.xml` I have \r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;20170516&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nAnd my Program needs and uses this version om JSON.\r\n\r\n    import org.json.JSONObject;\r\n\r\nWhen I put in\r\n\r\n    final JsonObject jsonObject = new JsonObject();\r\n    System.out.println( jsonObject.getClass().getPackage().getImplementationVersion());\r\n\r\nI get \r\n\r\n    20170516\r\n\r\nOkay, alright. (Note: This is a class of the program, not the test!)\r\n\r\nNow I run my Unittest (Mockito, JUnit) with `mvn test`. I get an error, which is related to the JSONObject version. And the log says:\r\n\r\n    0.0.20131108.vaadin1\r\n\r\nI found out, that this version comes from this dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf I delete it, my test works fine.\r\n\r\nBut now other tests fail, which uses this dependency\r\n\r\n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\n\r\nand in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.3.4.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nHow can I configure maven, that the program uses JSON version 20170516, but spring-test can still use jsonassert?\r\n\r\nEven if almost the same name, I don&#39;t think this is a duplicate of \r\n* https://stackoverflow.com/questions/7406604/two-versions-of-dependencies-in-maven\r\n\r\n-- Edit 1\r\n\r\n    mvn dependency:tree | grep json \r\n    [INFO] +- org.skyscreamer:jsonassert:jar:1.5.0:test \r\n    [INFO] |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test \r\n    [INFO] +- com.jayway.jsonpath:json-path-assert:jar:2.2.0:test \r\n    [INFO] |  +- com.jayway.jsonpath:json-path:jar:2.2.0:test \r\n    [INFO] |  |  \\- net.minidev:json-smart:jar:2.2.1:test \r\n    [INFO] +- org.json:json:jar:20170516:compile\r\n\r\n","title":"Two versions of library dependency in Maven","body":"<p>In my <code>pom.xml</code> I have</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20170516&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And my Program needs and uses this version om JSON.</p>\n<pre><code>import org.json.JSONObject;\n</code></pre>\n<p>When I put in</p>\n<pre><code>final JsonObject jsonObject = new JsonObject();\nSystem.out.println( jsonObject.getClass().getPackage().getImplementationVersion());\n</code></pre>\n<p>I get</p>\n<pre><code>20170516\n</code></pre>\n<p>Okay, alright. (Note: This is a class of the program, not the test!)</p>\n<p>Now I run my Unittest (Mockito, JUnit) with <code>mvn test</code>. I get an error, which is related to the JSONObject version. And the log says:</p>\n<pre><code>0.0.20131108.vaadin1\n</code></pre>\n<p>I found out, that this version comes from this dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n    &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n    &lt;version&gt;1.5.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If I delete it, my test works fine.</p>\n<p>But now other tests fail, which uses this dependency</p>\n<pre><code>import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\n</code></pre>\n<p>and in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n    &lt;version&gt;4.3.4.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>How can I configure maven, that the program uses JSON version 20170516, but spring-test can still use jsonassert?</p>\n<p>Even if almost the same name, I don't think this is a duplicate of</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7406604/two-versions-of-dependencies-in-maven\">two versions of dependencies in maven</a></li>\n</ul>\n<p>-- Edit 1</p>\n<pre><code>mvn dependency:tree | grep json \n[INFO] +- org.skyscreamer:jsonassert:jar:1.5.0:test \n[INFO] |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test \n[INFO] +- com.jayway.jsonpath:json-path-assert:jar:2.2.0:test \n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.2.0:test \n[INFO] |  |  \\- net.minidev:json-smart:jar:2.2.1:test \n[INFO] +- org.json:json:jar:20170516:compile\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1581069152,"post_id":60110885,"comment_id":106314455,"body_markdown":"You haven&#39;t defined any class instance variables, nor have you instanciated an object to use them.","body":"You haven&#39;t defined any class instance variables, nor have you instanciated an object to use them."},{"owner":{"account_id":17709755,"reputation":25,"user_id":12857535,"display_name":"NMard"},"score":0,"creation_date":1581069640,"post_id":60110885,"comment_id":106314718,"body_markdown":"@Abra This is actually exactly how the code in the book was written on page 355. Perhaps I&#39;m to infer that I need to make these changes per automatik when I add the changeButtonText method?","body":"@Abra This is actually exactly how the code in the book was written on page 355. Perhaps I&#39;m to infer that I need to make these changes per automatik when I add the changeButtonText method?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1581070296,"post_id":60110885,"comment_id":106315066,"body_markdown":"Method `changeButtonText()` does not appear in the code on page 355 of the book _Head First Java_.","body":"Method <code>changeButtonText()</code> does not appear in the code on page 355 of the book <i>Head First Java</i>."},{"owner":{"account_id":17709755,"reputation":25,"user_id":12857535,"display_name":"NMard"},"score":0,"creation_date":1581070463,"post_id":60110885,"comment_id":106315147,"body_markdown":"@Abra changeButtonText() is my name for the author&#39;s &quot;changeIt()&quot; on page 357. The preceding code is as it appears on page 355","body":"@Abra changeButtonText() is my name for the author&#39;s &quot;changeIt()&quot; on page 357. The preceding code is as it appears on page 355"},{"owner":{"account_id":3467880,"reputation":5813,"user_id":2902996,"accept_rate":44,"display_name":"Joel"},"score":0,"creation_date":1581070700,"post_id":60110885,"comment_id":106315291,"body_markdown":"@NMard Please read my answer and let me know if there&#39;s anything you want me to clarify further :) thank you.","body":"@NMard Please read my answer and let me know if there&#39;s anything you want me to clarify further :) thank you."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1581071180,"post_id":60110885,"comment_id":106315542,"body_markdown":"Continue reading up to page 360. The code on that page is a proper, working example.","body":"Continue reading up to page 360. The code on that page is a proper, working example."}],"answers":[{"tags":[],"owner":{"account_id":4799108,"reputation":4545,"user_id":3876196,"accept_rate":95,"display_name":"AntoineB"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1581069117,"creation_date":1581069117,"answer_id":60110977,"question_id":60110885,"body_markdown":"The reason you cannot access the variable is because of its scope (tutorial about the scope of variables: https://www.baeldung.com/java-variable-scope).\r\n\r\nYou declare the variable `JButton button` in the `main` method, therefore it is not accessible anywhere outside of it, even in a method that `main` calls itself.\r\n\r\nTo make `changeButtonText` aware that the `button` variable exists, you have to pass it as parameters of this method:\r\n\r\n```\r\nimport javax.swing.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        JButton button = new JButton(&quot;Click Me&quot;);\r\n\r\n\t\tchangeButtonText(button);\r\n    }\r\n\r\n    public static void changeButtonText(JButton button){\r\n        button.setText(&quot;I&#39;ve been clicked&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI also added the `static` keyword in front of the `changeButtonText` method, because `main` is also a static method. Check this link for example to have more details about the difference: https://www.geeksforgeeks.org/static-methods-vs-instance-methods-java/","title":"Cannot access class instance methods outside main method","body":"<p>The reason you cannot access the variable is because of its scope (tutorial about the scope of variables: <a href=\"https://www.baeldung.com/java-variable-scope\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-variable-scope</a>).</p>\n\n<p>You declare the variable <code>JButton button</code> in the <code>main</code> method, therefore it is not accessible anywhere outside of it, even in a method that <code>main</code> calls itself.</p>\n\n<p>To make <code>changeButtonText</code> aware that the <code>button</code> variable exists, you have to pass it as parameters of this method:</p>\n\n<pre><code>import javax.swing.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        JButton button = new JButton(\"Click Me\");\n\n        changeButtonText(button);\n    }\n\n    public static void changeButtonText(JButton button){\n        button.setText(\"I've been clicked\");\n    }\n}\n</code></pre>\n\n<p>I also added the <code>static</code> keyword in front of the <code>changeButtonText</code> method, because <code>main</code> is also a static method. Check this link for example to have more details about the difference: <a href=\"https://www.geeksforgeeks.org/static-methods-vs-instance-methods-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/static-methods-vs-instance-methods-java/</a></p>\n"},{"tags":[],"owner":{"account_id":3467880,"reputation":5813,"user_id":2902996,"accept_rate":44,"display_name":"Joel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1581070881,"creation_date":1581069364,"answer_id":60111033,"question_id":60110885,"body_markdown":"There&#39;s a couple of things that is wrong with your code and concepts that you seem to not fully grasp. These concepts are `this.` and `scopes`.\r\n\r\n    public void changeButtonText(){\r\n        button.setText(&quot;I&#39;ve been clicked&quot;);\r\n    }\r\n\r\nFirst we need to talk about scopes. A scope is what&#39;s declared between `{ /* here */ }` i.e. two curly brackets. From within a scope you can access and declare both local and global *objects, variables, members etc*.\r\n\r\nSo here&#39;s an example using local scope (what you did):\r\n\r\n    public void myFunction(){\r\n        JButton button = new Jbutton();\r\n    }\r\n    \r\nIf I then go ahead and try to access the button outside of the scope, it wont know what `button` is. Since it&#39;s not declared within that local scope.\r\n\r\n\r\n\r\n    public void myFunction(){\r\n        JButton button = new Jbutton();\r\n    }\r\n    public static void main(String[] args) {\r\n        button.setText(&quot;hello&quot;); //error\r\n        // compiler thinks: what&#39;s `button` referring to here? its not declared in this scope.\r\n    }\r\n\r\nGlobal class scope:\r\n\r\n\r\n    JButton button = new JButton(); //declaring button in global class scope\r\n    public void myFunction(){\r\n        this.button.setText(&quot;hello&quot;); // will access the globally declared variable, object, member called `button`.\r\n        //^ notice the usage of `this`. \r\n        //`this` will look outside of the local functions scope for publically declared class-members.\r\n    }\r\n\r\n\r\nTo fix your particular problem, you could either make your function static and pass in a `JButton` object, or you could *declare your button in the global class scope* like this:\r\n\r\n    public class Main {\r\n        \r\n        JButton button = new JButton(&quot;Click Me&quot;); //global class scope\r\n\r\n        public static void main(String[] args) { //local scope of main start {\r\n            Main myClass = new Main(); //instantiate class\r\n            myClass.changeButtonText(); //access class-member function\r\n            JFrame frame = new JFrame();\r\n    \r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            frame.getContentPane().add(this.button); // this.\r\n    \r\n            frame.setSize(300,300);\r\n            frame.setVisible(true);\r\n    \r\n        } // local scope of main ends }\r\n    \r\n        public void changeButtonText(){\r\n            this.button.setText(&quot;I&#39;ve been clicked&quot;); //access global class members using `this` keyword\r\n        }\r\n\r\n    }","title":"Cannot access class instance methods outside main method","body":"<p>There's a couple of things that is wrong with your code and concepts that you seem to not fully grasp. These concepts are <code>this.</code> and <code>scopes</code>.</p>\n\n<pre><code>public void changeButtonText(){\n    button.setText(\"I've been clicked\");\n}\n</code></pre>\n\n<p>First we need to talk about scopes. A scope is what's declared between <code>{ /* here */ }</code> i.e. two curly brackets. From within a scope you can access and declare both local and global <em>objects, variables, members etc</em>.</p>\n\n<p>So here's an example using local scope (what you did):</p>\n\n<pre><code>public void myFunction(){\n    JButton button = new Jbutton();\n}\n</code></pre>\n\n<p>If I then go ahead and try to access the button outside of the scope, it wont know what <code>button</code> is. Since it's not declared within that local scope.</p>\n\n<pre><code>public void myFunction(){\n    JButton button = new Jbutton();\n}\npublic static void main(String[] args) {\n    button.setText(\"hello\"); //error\n    // compiler thinks: what's `button` referring to here? its not declared in this scope.\n}\n</code></pre>\n\n<p>Global class scope:</p>\n\n<pre><code>JButton button = new JButton(); //declaring button in global class scope\npublic void myFunction(){\n    this.button.setText(\"hello\"); // will access the globally declared variable, object, member called `button`.\n    //^ notice the usage of `this`. \n    //`this` will look outside of the local functions scope for publically declared class-members.\n}\n</code></pre>\n\n<p>To fix your particular problem, you could either make your function static and pass in a <code>JButton</code> object, or you could <em>declare your button in the global class scope</em> like this:</p>\n\n<pre><code>public class Main {\n\n    JButton button = new JButton(\"Click Me\"); //global class scope\n\n    public static void main(String[] args) { //local scope of main start {\n        Main myClass = new Main(); //instantiate class\n        myClass.changeButtonText(); //access class-member function\n        JFrame frame = new JFrame();\n\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.getContentPane().add(this.button); // this.\n\n        frame.setSize(300,300);\n        frame.setVisible(true);\n\n    } // local scope of main ends }\n\n    public void changeButtonText(){\n        this.button.setText(\"I've been clicked\"); //access global class members using `this` keyword\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3274311,"reputation":673,"user_id":2756832,"display_name":"Kandy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581071294,"creation_date":1581071294,"answer_id":60111571,"question_id":60110885,"body_markdown":"Surely this is a problem of scope and it can be overcome with defining variable at global level and initialize wherever you required. something like -\r\n\r\n    public class Main {\r\n\t\r\n\tprivate static JButton button;\r\n\t\r\n\t  public static void main(String[] args) {\r\n\r\n\t        JFrame frame = new JFrame();\r\n\t        button = new JButton(&quot;Click Me&quot;);\r\n\t        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t        frame.getContentPane().add(button);\r\n\t        frame.setSize(300,300);\r\n\t        frame.setVisible(true);\r\n\t        Main.changeButtonText();\r\n\r\n\t    }\r\n\r\n\t    public static void changeButtonText(){\r\n\t    \tbutton.setText(&quot;I&#39;ve been clicked&quot;);\r\n\t    }\r\n\r\n    }","title":"Cannot access class instance methods outside main method","body":"<p>Surely this is a problem of scope and it can be overcome with defining variable at global level and initialize wherever you required. something like -</p>\n\n<pre><code>public class Main {\n\nprivate static JButton button;\n\n  public static void main(String[] args) {\n\n        JFrame frame = new JFrame();\n        button = new JButton(\"Click Me\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(button);\n        frame.setSize(300,300);\n        frame.setVisible(true);\n        Main.changeButtonText();\n\n    }\n\n    public static void changeButtonText(){\n        button.setText(\"I've been clicked\");\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":17709755,"reputation":25,"user_id":12857535,"display_name":"NMard"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1930,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60110977,"answer_count":3,"score":2,"last_activity_date":1667854646,"creation_date":1581068809,"question_id":60110885,"body_markdown":"I&#39;m working through the book &quot;Head first Java&quot; and started chapter 12.\r\n\r\nWhen I tried to create the method `changeButtonText()` I cannot access any of the class methods from `button`. \r\n\r\nWhy is this? What have I done wrong in this code?\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        JFrame frame = new JFrame();\r\n        JButton button = new JButton(&quot;Click Me&quot;);\r\n\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        frame.getContentPane().add(button);\r\n\r\n        frame.setSize(300,300);\r\n        frame.setVisible(true);\r\n        \r\n    }\r\n\r\n    public void changeButtonText(){\r\n        button.setText(&quot;I&#39;ve been clicked&quot;);\r\n    }\r\n}\r\n```\r\n","title":"Cannot access class instance methods outside main method","body":"<p>I'm working through the book &quot;Head first Java&quot; and started chapter 12.</p>\n<p>When I tried to create the method <code>changeButtonText()</code> I cannot access any of the class methods from <code>button</code>.</p>\n<p>Why is this? What have I done wrong in this code?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        JFrame frame = new JFrame();\n        JButton button = new JButton(&quot;Click Me&quot;);\n\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.getContentPane().add(button);\n\n        frame.setSize(300,300);\n        frame.setVisible(true);\n        \n    }\n\n    public void changeButtonText(){\n        button.setText(&quot;I've been clicked&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","web-services","jboss","wildfly-18"],"answers":[{"tags":[],"owner":{"account_id":143069,"reputation":7079,"user_id":351154,"accept_rate":92,"display_name":"user8128167"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667854094,"creation_date":1667611119,"answer_id":74324392,"question_id":74323935,"body_markdown":"Please note that I finally figured out that I needed to use this URL:\r\n\r\n[http://localhost:8080/myapp-ws/myappws?wsdl][1]\r\n\r\nInstead of this value:\r\n\r\n [http://localhost:8080/myapp-ws/MyAppWSImpl?wsdl][2]\r\n\r\n\r\n  [1]: http://localhost:8080/myapp-ws/myappws?wsdl\r\n  [2]: http://localhost:8080/myapp-ws/MyAppWSImpl?wsdl","title":"Failed to process phase POST_MODULE of deployment \\&quot;myapp-ws.war\\&quot; Caused by: java.lang.RuntimeException: WFLYSRV0177: Error getting reflective","body":"<p>Please note that I finally figured out that I needed to use this URL:</p>\n<p><a href=\"http://localhost:8080/myapp-ws/myappws?wsdl\" rel=\"nofollow noreferrer\">http://localhost:8080/myapp-ws/myappws?wsdl</a></p>\n<p>Instead of this value:</p>\n<p><a href=\"http://localhost:8080/myapp-ws/MyAppWSImpl?wsdl\" rel=\"nofollow noreferrer\">http://localhost:8080/myapp-ws/MyAppWSImpl?wsdl</a></p>\n"}],"owner":{"account_id":143069,"reputation":7079,"user_id":351154,"accept_rate":92,"display_name":"user8128167"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74324392,"answer_count":1,"score":0,"last_activity_date":1667854443,"creation_date":1667604492,"question_id":74323935,"body_markdown":"Presently, I have an `ejb` project and a web service project.  The problem is that my webservice project cannot access EJBs from my library project:\r\n\r\n    {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;myapp-ws.war\\&quot;.POST_MODULE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase POST_MODULE of deployment \\&quot;myapp-ws.war\\&quot;\r\n        Caused by: java.lang.RuntimeException: WFLYSRV0177: Error getting reflective information for class org.ws.MyAppWSImpl with ClassLoader ModuleClassLoader for Module \\&quot;deployment.myapp-ws.war\\&quot; from Service Module Loader\r\n        Caused by: java.lang.NoClassDefFoundError: Lorg/myapp/MyAppStatelessLocal;\r\n        Caused by: java.lang.ClassNotFoundException: org.myappp.InfossStatelessLocal from [Module \\&quot;deployment.myapp-ws.war\\&quot; from Service Module Loader]&quot;}}\r\n\r\nAs far as I can tell the dependencies are setup properly in the `pom.xml` files.  Here is my root pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;org.myapp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myapp-app&lt;/artifactId&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;version&gt;0.1.0&lt;/version&gt;\r\n        &lt;modules&gt;\r\n    \t\t&lt;module&gt;myapp-ejb&lt;/module&gt;\r\n    \t\t&lt;module&gt;myapp-web&lt;/module&gt;\t\t\r\n    \t\t&lt;module&gt;myapp-ear&lt;/module&gt;\r\n            &lt;module&gt;myapp-ws&lt;/module&gt;\t\t\r\n        &lt;/modules&gt;\r\n        &lt;properties&gt;\r\n            &lt;root.dir&gt;${project.basedir}&lt;/root.dir&gt;\r\n            &lt;jboss.home.name&gt;JBOSS_HOME&lt;/jboss.home.name&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;version.server.bom&gt;18.0.1.Final&lt;/version.server.bom&gt;\r\n            &lt;version.wildfly.maven.plugin&gt;2.0.0.Final&lt;/version.wildfly.maven.plugin&gt;\r\n            &lt;version.jaxws-tools-maven-plugin&gt;1.2.3.Final&lt;/version.jaxws-tools-maven-plugin&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;wildfly-jakartaee8-with-tools&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.server.bom}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\t\t\t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;myapp-ejb&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;ejb&lt;/type&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;myapp-web&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;war&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;  \t\t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;myapp-ws&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;war&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;  \t\t\t        \r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n        ...\r\n    &lt;/project&gt;\r\n\r\nHere my my `ear` pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;org.myapp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myapp-ear&lt;/artifactId&gt;\r\n        &lt;packaging&gt;ear&lt;/packaging&gt;\r\n    \t&lt;version&gt;0.1.0&lt;/version&gt;\r\n        &lt;name&gt;myapp-ear&lt;/name&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.myapp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;myapp-app&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;description&gt;This project packages myapp-ejb and myapp-web in an EAR; this is the EAR POM file&lt;/description&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;myapp-ejb&lt;/artifactId&gt;\r\n                &lt;type&gt;ejb&lt;/type&gt;\r\n                &lt;version&gt;0.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;myapp-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.1.0&lt;/version&gt;\r\n                &lt;type&gt;war&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;myapp-ws&lt;/artifactId&gt;\r\n    \t\t\t&lt;type&gt;war&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\t\t\r\n        &lt;/dependencies&gt;\r\n       ...\r\n    &lt;/project&gt;\r\n\r\nHere is my web service `pom.xml`:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;org.myapp&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;myapp-ws&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;0.1.0&lt;/version&gt;\r\n    \t&lt;name&gt;myapp-ws Maven Soap WS&lt;/name&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.myapp&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;myapp-app&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.1.0&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;dependencies&gt;\r\n            ...\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;myapp-ejb&lt;/artifactId&gt;\r\n    \t\t\t&lt;type&gt;ejb&lt;/type&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n        ....\r\n    &lt;/project&gt;\r\n\r\nThe `ear` project deploys without a problem but the webservice deployment fails.  Basically, I am trying to follow this guide:\r\n\r\nhttps://docs.wildfly.org/18/Getting_Started_Developing_Applications_Guide.html\r\n\r\nhttps://github.com/wildfly/quickstart/blob/10.x/guide/HelloworldQuickstart.asciidoc\r\n\r\nhttps://developers.redhat.com/quickstarts/eap/helloworld-ws#\r\n\r\nDoes anyone have any suggestions?  TIA\r\n\r\n**UPDATE:**\r\n\r\nHere is my `MyAppWSImpl.java`: \r\n\r\n    package myapp.ws;\r\n    \r\n    import javax.ejb.EJB;\r\n    import javax.jws.WebMethod;\r\n    import javax.jws.WebService;\r\n    import myapp.lab.MyAppStatelessLocal;\r\n    \r\n    @WebService(endpointInterface = &quot;myapp.ws.MyAppWS&quot;)\r\n    public class MyAppWSImpl implements MyAppWS {\r\n        @EJB\r\n        MyAppStatelessLocal masl;\r\n                \r\n        @WebMethod()\r\n        public String predict(int value) {\r\n            return masl.getPrediction(value);\r\n        }\r\n    }\r\n\r\nHere is my `web.xml`.  HTH.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\r\n      &lt;display-name&gt;myapp-ws&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n        \r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;myappws&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;myapp.ws.MyAppWSImpl&lt;/servlet-class&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;myappws&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/myappws&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n      \r\n    &lt;/web-app&gt;","title":"Failed to process phase POST_MODULE of deployment \\&quot;myapp-ws.war\\&quot; Caused by: java.lang.RuntimeException: WFLYSRV0177: Error getting reflective","body":"<p>Presently, I have an <code>ejb</code> project and a web service project.  The problem is that my webservice project cannot access EJBs from my library project:</p>\n<pre><code>{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;myapp-ws.war\\&quot;.POST_MODULE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase POST_MODULE of deployment \\&quot;myapp-ws.war\\&quot;\n    Caused by: java.lang.RuntimeException: WFLYSRV0177: Error getting reflective information for class org.ws.MyAppWSImpl with ClassLoader ModuleClassLoader for Module \\&quot;deployment.myapp-ws.war\\&quot; from Service Module Loader\n    Caused by: java.lang.NoClassDefFoundError: Lorg/myapp/MyAppStatelessLocal;\n    Caused by: java.lang.ClassNotFoundException: org.myappp.InfossStatelessLocal from [Module \\&quot;deployment.myapp-ws.war\\&quot; from Service Module Loader]&quot;}}\n</code></pre>\n<p>As far as I can tell the dependencies are setup properly in the <code>pom.xml</code> files.  Here is my root pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.myapp&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp-app&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;modules&gt;\n        &lt;module&gt;myapp-ejb&lt;/module&gt;\n        &lt;module&gt;myapp-web&lt;/module&gt;      \n        &lt;module&gt;myapp-ear&lt;/module&gt;\n        &lt;module&gt;myapp-ws&lt;/module&gt;       \n    &lt;/modules&gt;\n    &lt;properties&gt;\n        &lt;root.dir&gt;${project.basedir}&lt;/root.dir&gt;\n        &lt;jboss.home.name&gt;JBOSS_HOME&lt;/jboss.home.name&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;version.server.bom&gt;18.0.1.Final&lt;/version.server.bom&gt;\n        &lt;version.wildfly.maven.plugin&gt;2.0.0.Final&lt;/version.wildfly.maven.plugin&gt;\n        &lt;version.jaxws-tools-maven-plugin&gt;1.2.3.Final&lt;/version.jaxws-tools-maven-plugin&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-jakartaee8-with-tools&lt;/artifactId&gt;\n                &lt;version&gt;${version.server.bom}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;               \n            &lt;dependency&gt;\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                &lt;artifactId&gt;myapp-ejb&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n                &lt;type&gt;ejb&lt;/type&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                &lt;artifactId&gt;myapp-web&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n                &lt;type&gt;war&lt;/type&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;           \n            &lt;dependency&gt;\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                &lt;artifactId&gt;myapp-ws&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n                &lt;type&gt;war&lt;/type&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;                   \n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    ...\n&lt;/project&gt;\n</code></pre>\n<p>Here my my <code>ear</code> pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.myapp&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp-ear&lt;/artifactId&gt;\n    &lt;packaging&gt;ear&lt;/packaging&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;name&gt;myapp-ear&lt;/name&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.myapp&lt;/groupId&gt;\n        &lt;artifactId&gt;myapp-app&lt;/artifactId&gt;\n        &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;description&gt;This project packages myapp-ejb and myapp-web in an EAR; this is the EAR POM file&lt;/description&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n            &lt;artifactId&gt;myapp-ejb&lt;/artifactId&gt;\n            &lt;type&gt;ejb&lt;/type&gt;\n            &lt;version&gt;0.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n            &lt;artifactId&gt;myapp-web&lt;/artifactId&gt;\n            &lt;version&gt;0.1.0&lt;/version&gt;\n            &lt;type&gt;war&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n            &lt;artifactId&gt;myapp-ws&lt;/artifactId&gt;\n            &lt;type&gt;war&lt;/type&gt;\n        &lt;/dependency&gt;       \n    &lt;/dependencies&gt;\n   ...\n&lt;/project&gt;\n</code></pre>\n<p>Here is my web service <code>pom.xml</code>:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.myapp&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp-ws&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;name&gt;myapp-ws Maven Soap WS&lt;/name&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.myapp&lt;/groupId&gt;\n        &lt;artifactId&gt;myapp-app&lt;/artifactId&gt;\n        &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;\n        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n            &lt;artifactId&gt;myapp-ejb&lt;/artifactId&gt;\n            &lt;type&gt;ejb&lt;/type&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    ....\n&lt;/project&gt;\n</code></pre>\n<p>The <code>ear</code> project deploys without a problem but the webservice deployment fails.  Basically, I am trying to follow this guide:</p>\n<p><a href=\"https://docs.wildfly.org/18/Getting_Started_Developing_Applications_Guide.html\" rel=\"nofollow noreferrer\">https://docs.wildfly.org/18/Getting_Started_Developing_Applications_Guide.html</a></p>\n<p><a href=\"https://github.com/wildfly/quickstart/blob/10.x/guide/HelloworldQuickstart.asciidoc\" rel=\"nofollow noreferrer\">https://github.com/wildfly/quickstart/blob/10.x/guide/HelloworldQuickstart.asciidoc</a></p>\n<p><a href=\"https://developers.redhat.com/quickstarts/eap/helloworld-ws#\" rel=\"nofollow noreferrer\">https://developers.redhat.com/quickstarts/eap/helloworld-ws#</a></p>\n<p>Does anyone have any suggestions?  TIA</p>\n<p><strong>UPDATE:</strong></p>\n<p>Here is my <code>MyAppWSImpl.java</code>:</p>\n<pre><code>package myapp.ws;\n\nimport javax.ejb.EJB;\nimport javax.jws.WebMethod;\nimport javax.jws.WebService;\nimport myapp.lab.MyAppStatelessLocal;\n\n@WebService(endpointInterface = &quot;myapp.ws.MyAppWS&quot;)\npublic class MyAppWSImpl implements MyAppWS {\n    @EJB\n    MyAppStatelessLocal masl;\n            \n    @WebMethod()\n    public String predict(int value) {\n        return masl.getPrediction(value);\n    }\n}\n</code></pre>\n<p>Here is my <code>web.xml</code>.  HTH.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\n  &lt;display-name&gt;myapp-ws&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n    \n  &lt;servlet&gt;\n    &lt;servlet-name&gt;myappws&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;myapp.ws.MyAppWSImpl&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;myappws&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/myappws&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n  \n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","android","screenshot"],"answers":[{"tags":[],"owner":{"account_id":15146059,"reputation":31,"user_id":10929762,"display_name":"Jbk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591640236,"creation_date":1591639583,"answer_id":62268492,"question_id":62267742,"body_markdown":"Did you add the androidx.test.runner.screenshot library in your build.gradle file? Try adding `implementation &#39;androidx.test:runner:1.2.0&#39;` into your build.gradle file.","title":"Using the Screenshot API","body":"<p>Did you add the androidx.test.runner.screenshot library in your build.gradle file? Try adding <code>implementation 'androidx.test:runner:1.2.0'</code> into your build.gradle file.</p>\n"}],"owner":{"account_id":1762033,"reputation":45,"user_id":1608879,"display_name":"azeemofwalsall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667854368,"creation_date":1591636839,"question_id":62267742,"body_markdown":"I&#39;m using the Screenshot API, in particular ```Screenshot.capture(Activity activity)```. This method returns a ScreenCapture object which contains the bitmap of the device screen.\r\n\r\nHowever, Android Studio cannot &quot;resolve synbol&quot; ```Screenshot``` and ```ScreenCapture``` and doesn&#39;t give me the option of importing these classes.\r\n\r\nLooking forward to your answers!\r\n\r\nHere&#39;s the code\r\n\r\n```\r\npackage com.example.android;\r\n\r\nimport android.graphics.Bitmap;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.util.Date;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    ScreenCapture sshot;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n    }\r\n\r\n    public void getScreenshot() {\r\n\r\n        Date now = new Date();\r\n        // create a name for the resulting screenshot file which includes the SD card\r\n        String path = Environment.getExternalStorageDirectory().toString() + &quot;/&quot; + now + &quot;.jpg&quot;;\r\n\r\n        sshot = Screenshot.capture(this);\r\n    }\r\n}\r\n```","title":"Using the Screenshot API","body":"<p>I'm using the Screenshot API, in particular <code>Screenshot.capture(Activity activity)</code>. This method returns a ScreenCapture object which contains the bitmap of the device screen.</p>\n\n<p>However, Android Studio cannot \"resolve synbol\" <code>Screenshot</code> and <code>ScreenCapture</code> and doesn't give me the option of importing these classes.</p>\n\n<p>Looking forward to your answers!</p>\n\n<p>Here's the code</p>\n\n<pre><code>package com.example.android;\n\nimport android.graphics.Bitmap;\nimport android.os.Bundle;\nimport android.os.Environment;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.Date;\n\npublic class MainActivity extends AppCompatActivity {\n    ScreenCapture sshot;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n    }\n\n    public void getScreenshot() {\n\n        Date now = new Date();\n        // create a name for the resulting screenshot file which includes the SD card\n        String path = Environment.getExternalStorageDirectory().toString() + \"/\" + now + \".jpg\";\n\n        sshot = Screenshot.capture(this);\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":18105895,"reputation":86,"user_id":13163227,"display_name":"Hema Jayachandran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667854270,"creation_date":1667854270,"answer_id":74352769,"question_id":74350307,"body_markdown":"I am not sure what your approach is here but guessing that its `RDD -&gt; DataFrame` using a defined schema.\r\n\r\nTo create a dataframe using a predefined schema, we will convert RDDs to an RDD of type `Row`. And since there is no automatic conversion of type in this case, we should explicitly cast it to Long while creating `RDD[Row]`. In the end the code should look like this: \r\n\r\n```\r\nimport org.apache.spark.sql._\r\nimport org.apache.spark.rdd.RDD\r\nimport org.apache.spark.sql.types.{StringType, LongType,  StructField, StructType} \r\n\r\nval data = spark.sparkContext.parallelize(Seq((192.toByte, &quot;abc&quot;),(168.toByte, &quot;def&quot;)))\r\nval schema = new StructType()\r\n.add(StructField(&quot;id&quot;, LongType, true))\r\n.add(StructField(&quot;name&quot;, StringType, true))\r\n\r\nval rowRDD:RDD[Row] = data.map(row =&gt; Row(row._1.toLong, row._2))\r\nval dfWithSchema = spark.createDataFrame(rowRDD, schema)\r\n\r\ndfWithSchema.show\r\n+---+----+                                                                      \r\n| id|name|\r\n+---+----+\r\n|-64| abc|\r\n|-88| def|\r\n+---+----+\r\n```","title":"java.lang.RuntimeException: java.lang.Byte is not a valid external type for schema of bigint","body":"<p>I am not sure what your approach is here but guessing that its <code>RDD -&gt; DataFrame</code> using a defined schema.</p>\n<p>To create a dataframe using a predefined schema, we will convert RDDs to an RDD of type <code>Row</code>. And since there is no automatic conversion of type in this case, we should explicitly cast it to Long while creating <code>RDD[Row]</code>. In the end the code should look like this:</p>\n<pre><code>import org.apache.spark.sql._\nimport org.apache.spark.rdd.RDD\nimport org.apache.spark.sql.types.{StringType, LongType,  StructField, StructType} \n\nval data = spark.sparkContext.parallelize(Seq((192.toByte, &quot;abc&quot;),(168.toByte, &quot;def&quot;)))\nval schema = new StructType()\n.add(StructField(&quot;id&quot;, LongType, true))\n.add(StructField(&quot;name&quot;, StringType, true))\n\nval rowRDD:RDD[Row] = data.map(row =&gt; Row(row._1.toLong, row._2))\nval dfWithSchema = spark.createDataFrame(rowRDD, schema)\n\ndfWithSchema.show\n+---+----+                                                                      \n| id|name|\n+---+----+\n|-64| abc|\n|-88| def|\n+---+----+\n</code></pre>\n"}],"owner":{"account_id":4391825,"reputation":1292,"user_id":3579955,"accept_rate":50,"display_name":"newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667854270,"creation_date":1667840789,"question_id":74350307,"body_markdown":"I have an rdd of columns (id,name) whose datatypes are (byte, string). When I am trying to convert it to a dataframe using below schema\r\n\r\n    id - longtype\r\n    name - stringtype\r\n\r\nI am getting the following error\r\n\r\n    java.lang.RuntimeException: java.lang.Byte is not a valid external type for schema of bigint\r\n\r\nWhy is the byte not getting converted to long. Byte range is -128 to 127 which is within the range of long. I am able to convert short/integer to long, but not byte\r\n\r\nAny reason for that?","title":"java.lang.RuntimeException: java.lang.Byte is not a valid external type for schema of bigint","body":"<p>I have an rdd of columns (id,name) whose datatypes are (byte, string). When I am trying to convert it to a dataframe using below schema</p>\n<pre><code>id - longtype\nname - stringtype\n</code></pre>\n<p>I am getting the following error</p>\n<pre><code>java.lang.RuntimeException: java.lang.Byte is not a valid external type for schema of bigint\n</code></pre>\n<p>Why is the byte not getting converted to long. Byte range is -128 to 127 which is within the range of long. I am able to convert short/integer to long, but not byte</p>\n<p>Any reason for that?</p>\n"},{"tags":["java","lucene"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667563964,"creation_date":1667563964,"answer_id":74316889,"question_id":74314548,"body_markdown":"You can take advantage of the &quot;prohibit&quot; operator (`-`) for this.\r\n\r\nFor example:\r\n\r\n    -anything\r\n\r\n...where the literal text &quot;anything&quot; is used - but you can use _any_ literal text you like, here. It could be `apples` or a term which actually does exist in your index.\r\n\r\nIf you have a default field defined, this will be executed against that default field.\r\n\r\nOr you can specify a field in your documents:\r\n\r\n    -body:anything\r\n\r\n---\r\n\r\n*Additional Notes*\r\n\r\nHow does this work? Why does `-anything` not return any results? Why doesn&#39;t it find all results which do not contain the term &quot;anything&quot;? \r\n\r\nFirst, `-anything` forces all documents which _do_ contain `anything` to have a score of zero (they are prohibited). But after that has been executed, there are no more clauses in the query. There is no more information for Lucene to use, to determine how any remaining documents should be scored. Therefore all documents remain unscored (they are all effectively 0). \r\n\r\nDocuments with no score are never returned by a standard query. \r\n\r\nThe &quot;prohibit&quot; operator is typically used in conjunction with one or more additional query clauses. Here we are using it on its own, which is how we can exploit this behavior.\r\n\r\n(You can also use `NOT` as a synonym for `-`.)","title":"How to create an empty lucene query","body":"<p>You can take advantage of the &quot;prohibit&quot; operator (<code>-</code>) for this.</p>\n<p>For example:</p>\n<pre><code>-anything\n</code></pre>\n<p>...where the literal text &quot;anything&quot; is used - but you can use <em>any</em> literal text you like, here. It could be <code>apples</code> or a term which actually does exist in your index.</p>\n<p>If you have a default field defined, this will be executed against that default field.</p>\n<p>Or you can specify a field in your documents:</p>\n<pre><code>-body:anything\n</code></pre>\n<hr />\n<p><em>Additional Notes</em></p>\n<p>How does this work? Why does <code>-anything</code> not return any results? Why doesn't it find all results which do not contain the term &quot;anything&quot;?</p>\n<p>First, <code>-anything</code> forces all documents which <em>do</em> contain <code>anything</code> to have a score of zero (they are prohibited). But after that has been executed, there are no more clauses in the query. There is no more information for Lucene to use, to determine how any remaining documents should be scored. Therefore all documents remain unscored (they are all effectively 0).</p>\n<p>Documents with no score are never returned by a standard query.</p>\n<p>The &quot;prohibit&quot; operator is typically used in conjunction with one or more additional query clauses. Here we are using it on its own, which is how we can exploit this behavior.</p>\n<p>(You can also use <code>NOT</code> as a synonym for <code>-</code>.)</p>\n"},{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667854263,"creation_date":1667854263,"answer_id":74352767,"question_id":74314548,"body_markdown":"If you just want a query that won&#39;t match any documents you should use [`MatchNoDocsQuery`][1]\r\n\r\n\r\n  [1]: https://lucene.apache.org/core/6_4_2/core/org/apache/lucene/search/MatchNoDocsQuery.html","title":"How to create an empty lucene query","body":"<p>If you just want a query that won't match any documents you should use <a href=\"https://lucene.apache.org/core/6_4_2/core/org/apache/lucene/search/MatchNoDocsQuery.html\" rel=\"nofollow noreferrer\"><code>MatchNoDocsQuery</code></a></p>\n"}],"owner":{"account_id":3992180,"reputation":1526,"user_id":3290745,"display_name":"Tristate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74352767,"answer_count":2,"score":1,"last_activity_date":1667854263,"creation_date":1667552886,"question_id":74314548,"body_markdown":"For my Lucene Queries I have some preconditions for security reasons.\r\n\r\n    if isValid()\r\n     return build.parse query\r\n    else\r\n     return null\r\n\r\nI want to replace this **`return null`**. I need something like &quot;empty&quot; query, a query thats will nothing do.\r\n\r\nIs there a way to build it ?","title":"How to create an empty lucene query","body":"<p>For my Lucene Queries I have some preconditions for security reasons.</p>\n<pre><code>if isValid()\n return build.parse query\nelse\n return null\n</code></pre>\n<p>I want to replace this <strong><code>return null</code></strong>. I need something like &quot;empty&quot; query, a query thats will nothing do.</p>\n<p>Is there a way to build it ?</p>\n"},{"tags":["java","spring","hibernate","jpa","querydsl"],"answers":[{"tags":[],"owner":{"account_id":2331687,"reputation":2858,"user_id":2044957,"display_name":"Peter Š&#225;ly"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1553452068,"creation_date":1553449927,"answer_id":55326746,"question_id":55326193,"body_markdown":"To avoid above exception there are two possibilities:\r\n\r\n1. Change `List` to `Set`  \r\nor\r\n2. Use `List` but do not fetch two bags. This means don&#39;t use `fetchJoin()` on both collections.\r\n\r\nFiltering:\r\n\r\nUsing where conditions collections will be not filtered.  Collections will contain all associated objects. Joining in JPA is for creating conditions on root object - Order. It is not the same as in SQL.\r\n\r\nIt is possible to filter associated collections using JPA 2.1 `JOIN ON` feature. This allows additional conditions in `ON` clause\r\n\r\nsee for example https://stackoverflow.com/questions/28849713/querydsl-left-join-with-additional-conditions-in-on","title":"&quot;MultipleBagFetchException: cannot simultaneously fetch multiple bags&quot; when joining three depth table","body":"<p>To avoid above exception there are two possibilities:</p>\n\n<ol>\n<li>Change <code>List</code> to <code>Set</code><br>\nor</li>\n<li>Use <code>List</code> but do not fetch two bags. This means don't use <code>fetchJoin()</code> on both collections.</li>\n</ol>\n\n<p>Filtering:</p>\n\n<p>Using where conditions collections will be not filtered.  Collections will contain all associated objects. Joining in JPA is for creating conditions on root object - Order. It is not the same as in SQL.</p>\n\n<p>It is possible to filter associated collections using JPA 2.1 <code>JOIN ON</code> feature. This allows additional conditions in <code>ON</code> clause</p>\n\n<p>see for example <a href=\"https://stackoverflow.com/questions/28849713/querydsl-left-join-with-additional-conditions-in-on\">QueryDSL Left Join with additional conditions in ON</a></p>\n"},{"tags":[],"owner":{"account_id":4531095,"reputation":1545,"user_id":3681565,"display_name":"Gaspar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667854112,"creation_date":1556893863,"answer_id":55971922,"question_id":55326193,"body_markdown":"If you really can not use Set instead of List:&lt;br&gt;\r\n\r\n**Parent.class**\r\n\r\n    @OneToMany(\r\n\t\tmappedBy = &quot;parent&quot;,\r\n\t\torphanRemoval = true,\r\n\t\tcascade = { CascadeType.PERSIST, CascadeType.MERGE }\r\n\t)\r\n\t@OrderColumn(name = &quot;position&quot;)\r\n\tprivate List&lt;Child&gt; childs = new ArrayList&lt;&gt;();\r\n\r\n**Child.class**\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n    private Parent parent;\r\n\r\nAnd create a column in the Child&#39;s table named e.g &quot;position&quot;\r\n\r\n    ALTER TABLE child ADD COLUMN position integer NOT NULL default 0\r\n\r\nAnd if you can not use other column in table, them you need to query the lists in sequence. Or use the id of the child and a custom getter.\r\n\r\n\r\n    @OrderColumn(name = &quot;id_child&quot;, updatable = false, insertable = false)\r\n    public List&lt;Child&gt; getChilds() {\r\n\t\tchilds.removeAll(Collections.singleton(null));\r\n\t\treturn childs;\r\n\t}\r\n    ","title":"&quot;MultipleBagFetchException: cannot simultaneously fetch multiple bags&quot; when joining three depth table","body":"<p>If you really can not use Set instead of List:<br></p>\n<p><strong>Parent.class</strong></p>\n<pre><code>@OneToMany(\n    mappedBy = &quot;parent&quot;,\n    orphanRemoval = true,\n    cascade = { CascadeType.PERSIST, CascadeType.MERGE }\n)\n@OrderColumn(name = &quot;position&quot;)\nprivate List&lt;Child&gt; childs = new ArrayList&lt;&gt;();\n</code></pre>\n<p><strong>Child.class</strong></p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\nprivate Parent parent;\n</code></pre>\n<p>And create a column in the Child's table named e.g &quot;position&quot;</p>\n<pre><code>ALTER TABLE child ADD COLUMN position integer NOT NULL default 0\n</code></pre>\n<p>And if you can not use other column in table, them you need to query the lists in sequence. Or use the id of the child and a custom getter.</p>\n<pre><code>@OrderColumn(name = &quot;id_child&quot;, updatable = false, insertable = false)\npublic List&lt;Child&gt; getChilds() {\n    childs.removeAll(Collections.singleton(null));\n    return childs;\n}\n</code></pre>\n"}],"owner":{"account_id":1080940,"reputation":533,"user_id":1077960,"accept_rate":23,"display_name":"crazy_rudy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20292,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1678105749,"answer_count":2,"score":10,"last_activity_date":1667854112,"creation_date":1553446415,"question_id":55326193,"body_markdown":"&gt; org.springframework.dao.InvalidDataAccessApiUsageException:\r\n&gt; org.hibernate.loader.MultipleBagFetchException: cannot simultaneously\r\n&gt; fetch multiple bags: [Order.items, OrderItem.options];\r\n\r\nAbove is an exception i faced when i join three tables like below. \r\n\r\nOrderItemOption.java\r\n\r\n    @Entity\r\n    public class OrderItemOption {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;item_option_id&quot;)\r\n      private Long id;\r\n    \r\n      @Column(name = &quot;item_id&quot;, nullable = false)\r\n      private Long itemId;\r\n    \r\n      @ManyToOne(fetch = FetchType.LAZY)\r\n      @JoinColumn(\r\n          name = &quot;item_id&quot;,\r\n          referencedColumnName = &quot;item_id&quot;,\r\n          insertable = false,\r\n          updatable = false\r\n      )\r\n      private OrderItem orderItem;\r\n    }\r\n\r\nOrderItem.java\r\n\r\n    @Entity\r\n    public class OrderItem {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;item_id&quot;)\r\n      private Long id;\r\n    \r\n      @Column(name = &quot;order_id&quot;, nullable = false)\r\n      private Long orderId;\r\n    \r\n      @ManyToOne(fetch = FetchType.LAZY)\r\n      @JoinColumn(\r\n          name = &quot;order_id&quot;,\r\n          referencedColumnName = &quot;order_id&quot;,\r\n          insertable = false,\r\n          updatable = false,\r\n          nullable = false\r\n      )\r\n      private Order order;\r\n\r\n      @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;orderItem&quot;)\r\n      @OrderBy(&quot;item_option_id ASC&quot;)\r\n      private List&lt;OrderItemOption&gt; options;\r\n    }\r\n\r\nOrder.java\r\n\r\n    @Entity\r\n    public class Order {\r\n      @Id\r\n      @Column(name = &quot;order_id&quot;, nullable = false)\r\n      private Long id;\r\n    \r\n      @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;order&quot;)\r\n      @OrderBy(&quot;item_id ASC&quot;)\r\n      private List&lt;OrderItem&gt; items;\r\n    }\r\n\r\nAnd here&#39;s my QueryDSL code to join them at one time.\r\n\r\n    final QOrder order = QOrder.order;\r\n    final QOrderItem item = QOrderItem.orderItem;\r\n    final QOrderItemOption option = QOrderItemOption.orderItemOption;\r\n\r\n    from(order)\r\n    .leftJoin(order.items, item).fetchJoin()\r\n    .leftJoin(item.options, option).fetchJoin()\r\n    .where(\r\n        order.id.eq(orderId)\r\n            .and(item.id.in(itemIds))\r\n            .and(option.id.in(optionIds))\r\n    )\r\n    .fetchOne())\r\n\r\nWhat i&#39;m trying to do is to get Order object which contains filtered relationship, so that i can access filtered children via order object. \r\nand the type of relationship should be a List, not a Set.\r\n\r\nfor example, order.getItems().get(0).getOptions.get(0)\r\n\r\nHow can i achieve that goal?\r\n\r\n","title":"&quot;MultipleBagFetchException: cannot simultaneously fetch multiple bags&quot; when joining three depth table","body":"<blockquote>\n  <p>org.springframework.dao.InvalidDataAccessApiUsageException:\n  org.hibernate.loader.MultipleBagFetchException: cannot simultaneously\n  fetch multiple bags: [Order.items, OrderItem.options];</p>\n</blockquote>\n\n<p>Above is an exception i faced when i join three tables like below. </p>\n\n<p>OrderItemOption.java</p>\n\n<pre><code>@Entity\npublic class OrderItemOption {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = \"item_option_id\")\n  private Long id;\n\n  @Column(name = \"item_id\", nullable = false)\n  private Long itemId;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(\n      name = \"item_id\",\n      referencedColumnName = \"item_id\",\n      insertable = false,\n      updatable = false\n  )\n  private OrderItem orderItem;\n}\n</code></pre>\n\n<p>OrderItem.java</p>\n\n<pre><code>@Entity\npublic class OrderItem {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = \"item_id\")\n  private Long id;\n\n  @Column(name = \"order_id\", nullable = false)\n  private Long orderId;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(\n      name = \"order_id\",\n      referencedColumnName = \"order_id\",\n      insertable = false,\n      updatable = false,\n      nullable = false\n  )\n  private Order order;\n\n  @OneToMany(fetch = FetchType.LAZY, mappedBy = \"orderItem\")\n  @OrderBy(\"item_option_id ASC\")\n  private List&lt;OrderItemOption&gt; options;\n}\n</code></pre>\n\n<p>Order.java</p>\n\n<pre><code>@Entity\npublic class Order {\n  @Id\n  @Column(name = \"order_id\", nullable = false)\n  private Long id;\n\n  @OneToMany(fetch = FetchType.LAZY, mappedBy = \"order\")\n  @OrderBy(\"item_id ASC\")\n  private List&lt;OrderItem&gt; items;\n}\n</code></pre>\n\n<p>And here's my QueryDSL code to join them at one time.</p>\n\n<pre><code>final QOrder order = QOrder.order;\nfinal QOrderItem item = QOrderItem.orderItem;\nfinal QOrderItemOption option = QOrderItemOption.orderItemOption;\n\nfrom(order)\n.leftJoin(order.items, item).fetchJoin()\n.leftJoin(item.options, option).fetchJoin()\n.where(\n    order.id.eq(orderId)\n        .and(item.id.in(itemIds))\n        .and(option.id.in(optionIds))\n)\n.fetchOne())\n</code></pre>\n\n<p>What i'm trying to do is to get Order object which contains filtered relationship, so that i can access filtered children via order object. \nand the type of relationship should be a List, not a Set.</p>\n\n<p>for example, order.getItems().get(0).getOptions.get(0)</p>\n\n<p>How can i achieve that goal?</p>\n"},{"tags":["java","spring","swagger"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1667852960,"post_id":74352369,"comment_id":131262591,"body_markdown":"There are 2 parts to an OpenAPI/Swagger - you need the specification document, that&#39;s  `/api-docs` and is generated by `springfox-swagger2`. The 2nd part is a UI that can display that document. That&#39;s usually `springfox-swagger-ui` if you include it on the server itself, alternatively if your docs at `/api-docs` are public you can simply put the url in the top of https://petstore.swagger.io/ and look at them there. https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api has some config hints for non boot apps but your question doesn&#39;t contain any clues why it may not work for you","body":"There are 2 parts to an OpenAPI/Swagger - you need the specification document, that&#39;s  <code>&#47;api-docs</code> and is generated by <code>springfox-swagger2</code>. The 2nd part is a UI that can display that document. That&#39;s usually <code>springfox-swagger-ui</code> if you include it on the server itself, alternatively if your docs at <code>&#47;api-docs</code> are public you can simply put the url in the top of <a href=\"https://petstore.swagger.io/\" rel=\"nofollow noreferrer\">petstore.swagger.io</a> and look at them there. <a href=\"https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\" rel=\"nofollow noreferrer\">baeldung.com/swagger-2-documentation-for-spring-rest-api</a> has some config hints for non boot apps but your question doesn&#39;t contain any clues why it may not work for you"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1667894544,"post_id":74352369,"comment_id":131270152,"body_markdown":"@zapl thank you for your comment. \nSO is full of different questions/asnswers about reason why swagger doesn&#39;t work. \n\nI tried at least\n\n1.  https://stackoverflow.com/a/26722686/2674303 \n2.  https://stackoverflow.com/a/33258645/2674303 \n3.  https://github.com/springfox/springfox/issues/776 \n4.  https://stackoverflow.com/a/43545893/2674303 \n...\n\nBut I had almost no luck for some reasons","body":"@zapl thank you for your comment.  SO is full of different questions/asnswers about reason why swagger doesn&#39;t work.   I tried at least  1.  <a href=\"https://stackoverflow.com/a/26722686/2674303\">stackoverflow.com/a/26722686/2674303</a>  2.  <a href=\"https://stackoverflow.com/a/33258645/2674303\">stackoverflow.com/a/33258645/2674303</a>  3.  <a href=\"https://github.com/springfox/springfox/issues/776\" rel=\"nofollow noreferrer\">github.com/springfox/springfox/issues/776</a>  4.  <a href=\"https://stackoverflow.com/a/43545893/2674303\">stackoverflow.com/a/43545893/2674303</a>  ...  But I had almost no luck for some reasons"}],"answers":[{"tags":[],"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667853492,"creation_date":1667853492,"answer_id":74352659,"question_id":74352369,"body_markdown":"If swagger generated OpenAPI document in YAML or JSON formats then you can copy and paste them here for a nice UI: https://editor.swagger.io ","title":"How to read result of `/api-docs` swagger endioint?","body":"<p>If swagger generated OpenAPI document in YAML or JSON formats then you can copy and paste them here for a nice UI: <a href=\"https://editor.swagger.io\" rel=\"nofollow noreferrer\">https://editor.swagger.io</a></p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74352659,"answer_count":1,"score":1,"last_activity_date":1667853492,"creation_date":1667851751,"question_id":74352369,"body_markdown":"I have quite an old application. Spring 5(non-boot). I wanted to have a swagger to understand contract between FE and BE.\r\nI think I&#39;ve read all topics at SO why Swagger-ui could be unavailable but it still doesn&#39;t fully working. But I was able to make `/api-docs` endpoint working altough I want to make working `/swagger-ui/index.htm`. I have no idea how to configure it so I want to know how to read such a hige json which is a respinse of `/api-docs`. Looks like it already contains all contracts.\r\nI tried to find online services like https://api-docs.io/ but it can&#39;t read the result for some reasons. Are there any other tools to read that response ?","title":"How to read result of `/api-docs` swagger endioint?","body":"<p>I have quite an old application. Spring 5(non-boot). I wanted to have a swagger to understand contract between FE and BE.\nI think I've read all topics at SO why Swagger-ui could be unavailable but it still doesn't fully working. But I was able to make <code>/api-docs</code> endpoint working altough I want to make working <code>/swagger-ui/index.htm</code>. I have no idea how to configure it so I want to know how to read such a hige json which is a respinse of <code>/api-docs</code>. Looks like it already contains all contracts.\nI tried to find online services like <a href=\"https://api-docs.io/\" rel=\"nofollow noreferrer\">https://api-docs.io/</a> but it can't read the result for some reasons. Are there any other tools to read that response ?</p>\n"},{"tags":["java","google-cloud-firestore","android-recyclerview","notifydatasetchanged"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667889637,"post_id":74352614,"comment_id":131268889,"body_markdown":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":24326117,"reputation":2235,"user_id":18265638,"display_name":"Sathi Aiswarya"},"score":0,"creation_date":1667892157,"post_id":74352614,"comment_id":131269501,"body_markdown":"Have a look at this stackoverflow [link1](https://stackoverflow.com/questions/38289289/recyclerview-items-disappear-after-switching-between-fragments) &amp; [link2](https://stackoverflow.com/questions/70711293/after-second-click-on-fragment-recycler-view-disappears)","body":"Have a look at this stackoverflow <a href=\"https://stackoverflow.com/questions/38289289/recyclerview-items-disappear-after-switching-between-fragments\">link1</a> &amp; <a href=\"https://stackoverflow.com/questions/70711293/after-second-click-on-fragment-recycler-view-disappears\">link2</a>"},{"owner":{"account_id":23626869,"reputation":19,"user_id":17659262,"display_name":"Daiana"},"score":0,"creation_date":1667932804,"post_id":74352614,"comment_id":131284802,"body_markdown":"Yes. For me the problem is that the data from the RecyclerView is read from the Firestore Database and after pressing the save button and adding it in the database I cannot see it automatically in the list, it will be visible only if I change the page and come back to the previous one.\nThe code above makes the item to appear automatically after pressing the save button but if I go to another page and come back to the previous one the list disappears, but if I add a new item then the entire list will appear again.","body":"Yes. For me the problem is that the data from the RecyclerView is read from the Firestore Database and after pressing the save button and adding it in the database I cannot see it automatically in the list, it will be visible only if I change the page and come back to the previous one. The code above makes the item to appear automatically after pressing the save button but if I go to another page and come back to the previous one the list disappears, but if I add a new item then the entire list will appear again."}],"owner":{"account_id":23626869,"reputation":19,"user_id":17659262,"display_name":"Daiana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667853159,"creation_date":1667853159,"question_id":74352614,"body_markdown":"I have a fragment. In this fragment I&#39;ve created a button. After pressing the button a Dialog Fragment will be shown and the user will be able to write a text in an EditText element. I want this text to be visible automatically on the page after pressing the &quot;Save&quot; button. I can see the text only if I navigate to another Fragment and then come back to this one. \r\nI store the input data in Firestore database. Before adding the data in the Recycler View I read the database and verify that there isn&#39;t the same data so in this way there won&#39;t be duplicate data. \r\n\r\n\r\nI tried to add the item in the RecyclerView when verifying that the data isn&#39;t already in the database. In this way the data can be seen automatically but the problem is that if I go to another Fragment and come back to that one the RecyclerView looks like it&#39;s empty, if I add another element to it then it will appear and I can see all the elements added before also. \r\nWhy the elements disappear if I navigate to another page/ Fragment ? \r\n\r\n```\r\nmQuery.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            for (DocumentSnapshot ds : task.getResult()) {\r\n                String wishdescriptionfirestore = ds.getString(&quot;description&quot;);\r\n                if ((wish.equals(wishdescriptionfirestore)) ) {\r\n                    Log.d(TAG, &quot;You already added this wish, add another!&quot;);\r\n                    Toast.makeText(getContext(), &quot;You already added this wish, add another!&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n        if (task.getResult().size() == 0) {\r\n            try {\r\n       mQuery1 = firestore.collection(&quot;Users&quot;).document(currentid).collection(&quot;wishes&quot;);\r\n       mQuery1.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n       @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n       @Override\r\n       public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n         if (task.isSuccessful()) {\r\n            for (DocumentSnapshot ds : task.getResult()) {\r\n                Wish wishtorecycler = ds.toObject(Wish.class);\r\n                Log.d(TAG,&quot;wish description  = &quot;+ wishtorecycler.description);\r\n                wisheslist.add(wishtorecycler);\r\n                addWishAdapter.notifyDataSetChanged();\r\n            }\r\n            addWishAdapter.notifyDataSetChanged();\r\n        }  else {\r\n            Log.d(TAG,&quot;Error &quot; + task.getException().getMessage());\r\n        }\r\n\r\n    }\r\n\r\n\r\n});\r\n    documentnewWish.set(wishes).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onSuccess(Void unused) {\r\n            addWishAdapter.notifyDataSetChanged();\r\n            Log.d(TAG, &quot;Wish added! &quot; + documentnewWish.get());\r\n        }\r\n    });\r\n} catch (Exception e) {\r\n    Log.e(TAG, &quot;NullPointerException: &quot; + e.getMessage());\r\n    Toast.makeText(getContext(), &quot;Request exists!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n}\r\n\r\n```","title":"Recycler View isn&#39;t updating automatically after adding a new item","body":"<p>I have a fragment. In this fragment I've created a button. After pressing the button a Dialog Fragment will be shown and the user will be able to write a text in an EditText element. I want this text to be visible automatically on the page after pressing the &quot;Save&quot; button. I can see the text only if I navigate to another Fragment and then come back to this one.\nI store the input data in Firestore database. Before adding the data in the Recycler View I read the database and verify that there isn't the same data so in this way there won't be duplicate data.</p>\n<p>I tried to add the item in the RecyclerView when verifying that the data isn't already in the database. In this way the data can be seen automatically but the problem is that if I go to another Fragment and come back to that one the RecyclerView looks like it's empty, if I add another element to it then it will appear and I can see all the elements added before also.\nWhy the elements disappear if I navigate to another page/ Fragment ?</p>\n<pre><code>mQuery.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (DocumentSnapshot ds : task.getResult()) {\n                String wishdescriptionfirestore = ds.getString(&quot;description&quot;);\n                if ((wish.equals(wishdescriptionfirestore)) ) {\n                    Log.d(TAG, &quot;You already added this wish, add another!&quot;);\n                    Toast.makeText(getContext(), &quot;You already added this wish, add another!&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n        if (task.getResult().size() == 0) {\n            try {\n       mQuery1 = firestore.collection(&quot;Users&quot;).document(currentid).collection(&quot;wishes&quot;);\n       mQuery1.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n       @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n       @Override\n       public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n         if (task.isSuccessful()) {\n            for (DocumentSnapshot ds : task.getResult()) {\n                Wish wishtorecycler = ds.toObject(Wish.class);\n                Log.d(TAG,&quot;wish description  = &quot;+ wishtorecycler.description);\n                wisheslist.add(wishtorecycler);\n                addWishAdapter.notifyDataSetChanged();\n            }\n            addWishAdapter.notifyDataSetChanged();\n        }  else {\n            Log.d(TAG,&quot;Error &quot; + task.getException().getMessage());\n        }\n\n    }\n\n\n});\n    documentnewWish.set(wishes).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n        @Override\n        public void onSuccess(Void unused) {\n            addWishAdapter.notifyDataSetChanged();\n            Log.d(TAG, &quot;Wish added! &quot; + documentnewWish.get());\n        }\n    });\n} catch (Exception e) {\n    Log.e(TAG, &quot;NullPointerException: &quot; + e.getMessage());\n    Toast.makeText(getContext(), &quot;Request exists!&quot;, Toast.LENGTH_SHORT).show();\n\n}\n\n</code></pre>\n"},{"tags":["java","opengl","jogl"],"comments":[{"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"score":0,"creation_date":1667763174,"post_id":74338537,"comment_id":131239375,"body_markdown":"You probably get the scaled size in the `reshape` callback. So the viewport is set with the wrong size (`gl.glViewport(0, 0, width, height);`)","body":"You probably get the scaled size in the <code>reshape</code> callback. So the viewport is set with the wrong size (<code>gl.glViewport(0, 0, width, height);</code>)"},{"owner":{"account_id":26848525,"reputation":103,"user_id":20433881,"display_name":"StreakerOne"},"score":1,"creation_date":1667767990,"post_id":74338537,"comment_id":131240403,"body_markdown":"Hm, you are right, adding 25% to width and height in viewport fixes the problem, but only with case when it scaled 125%. I might think about how to make it universal for every scaling percentage and post the answer with that","body":"Hm, you are right, adding 25% to width and height in viewport fixes the problem, but only with case when it scaled 125%. I might think about how to make it universal for every scaling percentage and post the answer with that"}],"answers":[{"tags":[],"owner":{"account_id":26848525,"reputation":103,"user_id":20433881,"display_name":"StreakerOne"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667848850,"creation_date":1667770997,"answer_id":74340005,"question_id":74338537,"body_markdown":"So, using Rabbid76&#39;s advice, I came up with this solution: I added this to my class, using this answer https://stackoverflow.com/a/70119734/20433881 :\r\n```\r\n    private static JFrame frame = null;\r\n    private static float scalingFactor;\r\n    \r\n    private static float getScalingFactor() {\r\n        return (float) getWindow(frame).getGraphicsConfiguration().getDefaultTransform().getScaleX();\r\n    }\r\n```\r\nAdded this line to main(), after creation of a frame:\r\n```\r\nscalingFactor = getScalingFactor();\r\n```\r\nAnd also I changed line with viewport like this:\r\n```\r\ngl.glViewport(0, 0, (int) (width * scalingFactor), (int) (height * scalingFactor));\r\n```","title":"Windows scaling causes blank spaces in JOGL","body":"<p>So, using Rabbid76's advice, I came up with this solution: I added this to my class, using this answer <a href=\"https://stackoverflow.com/a/70119734/20433881\">https://stackoverflow.com/a/70119734/20433881</a> :</p>\n<pre><code>    private static JFrame frame = null;\n    private static float scalingFactor;\n    \n    private static float getScalingFactor() {\n        return (float) getWindow(frame).getGraphicsConfiguration().getDefaultTransform().getScaleX();\n    }\n</code></pre>\n<p>Added this line to main(), after creation of a frame:</p>\n<pre><code>scalingFactor = getScalingFactor();\n</code></pre>\n<p>And also I changed line with viewport like this:</p>\n<pre><code>gl.glViewport(0, 0, (int) (width * scalingFactor), (int) (height * scalingFactor));\n</code></pre>\n"}],"owner":{"account_id":26848525,"reputation":103,"user_id":20433881,"display_name":"StreakerOne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74340005,"answer_count":1,"score":3,"last_activity_date":1667852922,"creation_date":1667758727,"question_id":74338537,"body_markdown":"Im using Java OpenGL binding (JOGL 2.3.2) and the problem is my canvas is stuck in lower left corner of my form, so no matter what i write, theres black spaces on the top and right of canvas. \r\n\r\nI figured out that this is because the scaling in my windows settings is set to 125%, and if i set it to 100%, the problem goes away. But, i feel like this is not the right way to solve such problems. Here is my code for creating a frame:\r\n\r\n```\r\n//FrameMain class just adds listener to frame so it can be closed by pressing cross button\r\nfinal FrameMain frame = new FrameMain(&quot;Form 1&quot;);\r\nframe.setSize(720, 720);\r\n\r\nfinal GLProfile profile = GLProfile.get(GLProfile.GL2);\r\nGLCapabilities capabilities = new GLCapabilities(profile);\r\n\r\n// The canvas\r\nfinal GLCanvas glcanvas = new GLCanvas(capabilities);\r\nAppMain b = new AppMain();\r\nglcanvas.addGLEventListener(b);\r\nglcanvas.setSize(720, 720);\r\nframe.add(glcanvas);\r\nframe.setVisible(true);\r\n```\r\nAnd my display and reshape methods:\r\n```\r\npublic void display(GLAutoDrawable drawable) {\r\n    GL2 gl = drawable.getGL().getGL2();\r\n    gl.glBegin(GL2.GL_QUADS);\r\n    gl.glVertex3f(-1, 1, 0);\r\n    gl.glVertex3f(1, 1, 0);\r\n    gl.glVertex3f(1, -1, 0);\r\n    gl.glVertex3f(-1, -1, 0);\r\n    gl.glEnd();\r\n}\r\n\r\npublic void reshape(GLAutoDrawable drawable, int x, int y, int width, int height) {\r\n    GL2 gl = drawable.getGL().getGL2();\r\n\r\n    gl.glLoadIdentity();\r\n    gl.glViewport(0, 0, width, height);\r\n}\r\n```\r\nThe result i am getting:\r\n\r\n[![strange black spaces](https://i.stack.imgur.com/Gh5XX.png)](https://i.stack.imgur.com/Gh5XX.png)\r\n\r\nHow do i make so canvas occupy full form, and not like it is now?\r\n\r\nPS: i cant change technologies used, it should be JOGL and something that creates window without external libraries. Yes, i know that swing is outdated and ugly\r\n","title":"Windows scaling causes blank spaces in JOGL","body":"<p>Im using Java OpenGL binding (JOGL 2.3.2) and the problem is my canvas is stuck in lower left corner of my form, so no matter what i write, theres black spaces on the top and right of canvas.</p>\n<p>I figured out that this is because the scaling in my windows settings is set to 125%, and if i set it to 100%, the problem goes away. But, i feel like this is not the right way to solve such problems. Here is my code for creating a frame:</p>\n<pre><code>//FrameMain class just adds listener to frame so it can be closed by pressing cross button\nfinal FrameMain frame = new FrameMain(&quot;Form 1&quot;);\nframe.setSize(720, 720);\n\nfinal GLProfile profile = GLProfile.get(GLProfile.GL2);\nGLCapabilities capabilities = new GLCapabilities(profile);\n\n// The canvas\nfinal GLCanvas glcanvas = new GLCanvas(capabilities);\nAppMain b = new AppMain();\nglcanvas.addGLEventListener(b);\nglcanvas.setSize(720, 720);\nframe.add(glcanvas);\nframe.setVisible(true);\n</code></pre>\n<p>And my display and reshape methods:</p>\n<pre><code>public void display(GLAutoDrawable drawable) {\n    GL2 gl = drawable.getGL().getGL2();\n    gl.glBegin(GL2.GL_QUADS);\n    gl.glVertex3f(-1, 1, 0);\n    gl.glVertex3f(1, 1, 0);\n    gl.glVertex3f(1, -1, 0);\n    gl.glVertex3f(-1, -1, 0);\n    gl.glEnd();\n}\n\npublic void reshape(GLAutoDrawable drawable, int x, int y, int width, int height) {\n    GL2 gl = drawable.getGL().getGL2();\n\n    gl.glLoadIdentity();\n    gl.glViewport(0, 0, width, height);\n}\n</code></pre>\n<p>The result i am getting:</p>\n<p><a href=\"https://i.stack.imgur.com/Gh5XX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gh5XX.png\" alt=\"strange black spaces\" /></a></p>\n<p>How do i make so canvas occupy full form, and not like it is now?</p>\n<p>PS: i cant change technologies used, it should be JOGL and something that creates window without external libraries. Yes, i know that swing is outdated and ugly</p>\n"},{"tags":["java","abstract"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1667851454,"post_id":74352266,"comment_id":131262223,"body_markdown":"Welcome to Stack Overflow. Please do not post images of text. Instead, copy and paste text into the question body. You may edit the question.","body":"Welcome to Stack Overflow. Please do not post images of text. Instead, copy and paste text into the question body. You may edit the question."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667852873,"creation_date":1667852873,"answer_id":74352562,"question_id":74352266,"body_markdown":"You are trying to match a call like\r\n\r\n    tree.getPosition().x\r\n\r\nbut the method you put into your Tree class is\r\n\r\n    void getPosition() { ... }\r\n\r\nso this method will never return a point that has x and y coordinates. Change this method into\r\n\r\n    Point getPosition() { ... }","title":"How can I access these getPosition.x and getPosition.y values?","body":"<p>You are trying to match a call like</p>\n<pre><code>tree.getPosition().x\n</code></pre>\n<p>but the method you put into your Tree class is</p>\n<pre><code>void getPosition() { ... }\n</code></pre>\n<p>so this method will never return a point that has x and y coordinates. Change this method into</p>\n<pre><code>Point getPosition() { ... }\n</code></pre>\n"}],"owner":{"account_id":26045713,"reputation":3,"user_id":19749784,"display_name":"Lucas Juel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74352562,"answer_count":1,"score":-1,"last_activity_date":1667852873,"creation_date":1667851142,"question_id":74352266,"body_markdown":"I&#39;ve been stuck on this problem for a while now. It&#39;s for a school assignment, our lector provided us with a ForestSimulation.java file, that calls for a tree.getPosition().x, as seen here:[![tree.getPosition().x](https://i.stack.imgur.com/Wv2rv.png)](https://i.stack.imgur.com/Wv2rv.png)\r\n\r\nWe are told to make the methods that are needed, so I&#39;ve made a Tree class aswell as a Birch class. \r\n[![enter image description here](https://i.stack.imgur.com/td8Y1.png)](https://i.stack.imgur.com/td8Y1.png)[![enter image description here](https://i.stack.imgur.com/r6Ybz.png)](https://i.stack.imgur.com/r6Ybz.png)\r\n\r\nYet I feel that no matter how I declare the x and y-values I can&#39;t figure to make it work.\r\n\r\nI&#39;ve tried a non abstract getPosition, and calling this.x in the method body. I&#39;ve tried (as in SS) to make it an abstract method. But nothing seems to work.\r\n\r\nPlease help &lt;3","title":"How can I access these getPosition.x and getPosition.y values?","body":"<p>I've been stuck on this problem for a while now. It's for a school assignment, our lector provided us with a ForestSimulation.java file, that calls for a tree.getPosition().x, as seen here:<a href=\"https://i.stack.imgur.com/Wv2rv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wv2rv.png\" alt=\"tree.getPosition().x\" /></a></p>\n<p>We are told to make the methods that are needed, so I've made a Tree class aswell as a Birch class.\n<a href=\"https://i.stack.imgur.com/td8Y1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/td8Y1.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/r6Ybz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r6Ybz.png\" alt=\"enter image description here\" /></a></p>\n<p>Yet I feel that no matter how I declare the x and y-values I can't figure to make it work.</p>\n<p>I've tried a non abstract getPosition, and calling this.x in the method body. I've tried (as in SS) to make it an abstract method. But nothing seems to work.</p>\n<p>Please help &lt;3</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667846104,"post_id":74350851,"comment_id":131260514,"body_markdown":"The way you&#39;ve designed your code, the number of threads is not a cap on the number of concurrent requests.  Limiting the threads isn&#39;t what you need, you need, like, to use a Semaphore or something to cap the concurrency.","body":"The way you&#39;ve designed your code, the number of threads is not a cap on the number of concurrent requests.  Limiting the threads isn&#39;t what you need, you need, like, to use a Semaphore or something to cap the concurrency."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667852694,"creation_date":1667852694,"answer_id":74352533,"question_id":74350851,"body_markdown":"Since parallel streams are using Fork/Join framework under the hood, to limit the number of treads employed by the stream, you can wrap the stream with a `Callable` and define a `ForkJoinPool` having the required level of parallelism as described.\r\n\r\nThe threads occupied by the parallel Stream would be taken from the new created `ForkJoinPool`, to which the callable task was submitted (*not from the common poll*) as described [here](https://stackoverflow.com/a/30802737/17949945).\r\n\r\nThe downside of this approach is that you&#39;re relying on the implementation detail of the Stream API.\r\n\r\nAnd also as *@Louis Wasserman* has pointed out in the [comment\r\n](https://stackoverflow.com/questions/74350851/parallelstream-pool-size#comment131260514_74350851) you probably might need another way of limiting the number of threads used in the stream. Because you&#39;re performing database queries, each tread would require a database connection to do its job, hence the number of threads should not be greater than the number of available connections that the data source can provide at the moment. And if you have multiple processes that can fire these asynchronous tasks simultaneously (for instance in a web application), it doesn&#39;t seem to be a good idea to try to develop your own solution. If that&#39;s the case, you might consider using a framework like Spring WebFlax.\r\n","title":"ParallelStream pool size","body":"<p>Since parallel streams are using Fork/Join framework under the hood, to limit the number of treads employed by the stream, you can wrap the stream with a <code>Callable</code> and define a <code>ForkJoinPool</code> having the required level of parallelism as described.</p>\n<p>The threads occupied by the parallel Stream would be taken from the new created <code>ForkJoinPool</code>, to which the callable task was submitted (<em>not from the common poll</em>) as described <a href=\"https://stackoverflow.com/a/30802737/17949945\">here</a>.</p>\n<p>The downside of this approach is that you're relying on the implementation detail of the Stream API.</p>\n<p>And also as <em>@Louis Wasserman</em> has pointed out in the <a href=\"https://stackoverflow.com/questions/74350851/parallelstream-pool-size#comment131260514_74350851\">comment\n</a> you probably might need another way of limiting the number of threads used in the stream. Because you're performing database queries, each tread would require a database connection to do its job, hence the number of threads should not be greater than the number of available connections that the data source can provide at the moment. And if you have multiple processes that can fire these asynchronous tasks simultaneously (for instance in a web application), it doesn't seem to be a good idea to try to develop your own solution. If that's the case, you might consider using a framework like Spring WebFlax.</p>\n"}],"owner":{"account_id":25289559,"reputation":13,"user_id":19115926,"display_name":"cookerfresh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667852694,"creation_date":1667843494,"question_id":74350851,"body_markdown":"I have a parallel stream with a few database queries inside like this:\r\n\r\n```\r\nprivate void processParallel() {\r\nList\\&lt;Result\\&gt; = objects.parallelStream().peek(object -\\&gt; {\r\ndoSomething(object)\r\n}\r\n}\r\n\r\nprivate void doSomething(object) {\r\nCompletableFuture&lt;String&gt; param =\r\n        CompletableFuture.supplyAsync(() -&gt; objectService.getParam(object.getField())),\r\n                executor)\r\n                .thenApply(object-&gt; Optional.ofNullable(object)\r\n                        .map(Object::getParam)\r\n                        .orElse(null));\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI need to specify the pool size, but setting the property &quot;java.util.concurrent.ForkJoinPool.common.parallelism&quot;,&quot;20&quot; is not working, probably because of locking the stream. Is there any way to limit the max amount of threads?","title":"ParallelStream pool size","body":"<p>I have a parallel stream with a few database queries inside like this:</p>\n<pre><code>private void processParallel() {\nList\\&lt;Result\\&gt; = objects.parallelStream().peek(object -\\&gt; {\ndoSomething(object)\n}\n}\n\nprivate void doSomething(object) {\nCompletableFuture&lt;String&gt; param =\n        CompletableFuture.supplyAsync(() -&gt; objectService.getParam(object.getField())),\n                executor)\n                .thenApply(object-&gt; Optional.ofNullable(object)\n                        .map(Object::getParam)\n                        .orElse(null));\n}\n</code></pre>\n<p>I need to specify the pool size, but setting the property &quot;java.util.concurrent.ForkJoinPool.common.parallelism&quot;,&quot;20&quot; is not working, probably because of locking the stream. Is there any way to limit the max amount of threads?</p>\n"},{"tags":["java","regex","whitespace"],"comments":[{"owner":{"account_id":275502,"reputation":16152,"user_id":568406,"display_name":"Zach L"},"score":1,"creation_date":1295402749,"post_id":4731055,"comment_id":5227732,"body_markdown":"String has a replaceAll function that will save you a few lines of code. http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html","body":"String has a replaceAll function that will save you a few lines of code. <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/1.5.0/docs/api/java/lang/String.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":216196,"reputation":79143,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":1,"creation_date":1302534909,"post_id":4731055,"comment_id":6407195,"body_markdown":"It isn’t your misunderstanding, but Java’s.  Try splitting a string like `&quot;abc \\xA0   def \\x85  xyz&quot;` to see what I mean: there are only three fields there.","body":"It isn’t your misunderstanding, but Java’s.  Try splitting a string like <code>&quot;abc \\xA0   def \\x85  xyz&quot;</code> to see what I mean: there are only three fields there."},{"owner":{"account_id":136011,"reputation":1123,"user_id":339246,"accept_rate":70,"display_name":"hrzafer"},"score":5,"creation_date":1367757196,"post_id":4731055,"comment_id":23482712,"body_markdown":"Did you try &quot;\\\\s+&quot;. With this you replace two or more spaces to one.","body":"Did you try &quot;\\\\s+&quot;. With this you replace two or more spaces to one."},{"owner":{"account_id":101657,"reputation":4161,"user_id":273344,"accept_rate":57,"display_name":"Marcin"},"score":1,"creation_date":1400372910,"post_id":4731055,"comment_id":36451507,"body_markdown":"I&#39;ve been wondering for over an hour why my \\\\s split is not splitting over whitespace. Thanks a million!","body":"I&#39;ve been wondering for over an hour why my \\\\s split is not splitting over whitespace. Thanks a million!"}],"answers":[{"tags":[],"owner":{"account_id":37250,"reputation":12091,"user_id":106463,"display_name":"Mihai Toader"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1295402511,"creation_date":1295402511,"answer_id":4731081,"question_id":4731055,"body_markdown":"Seems to work for me:\r\n\r\n    String s = &quot;  a   b      c&quot;;\r\n    System.out.println(&quot;\\&quot;&quot;  + s.replaceAll(&quot;\\\\s\\\\s&quot;, &quot; &quot;) + &quot;\\&quot;&quot;);\r\n\r\nwill print:\r\n\r\n    &quot; a  b   c&quot;\r\n\r\nI think you intended to do this instead of your code:\r\n\r\n    Pattern whitespace = Pattern.compile(&quot;\\\\s\\\\s&quot;);\r\n    Matcher matcher = whitespace.matcher(s);\r\n    String result = &quot;&quot;;\r\n    if (matcher.find()) {\r\n        result = matcher.replaceAll(&quot; &quot;);\r\n    }\r\n    \r\n    System.out.println(result);\r\n\r\n\r\n","title":"Whitespace Matching Regex - Java","body":"<p>Seems to work for me:</p>\n\n<pre><code>String s = \"  a   b      c\";\nSystem.out.println(\"\\\"\"  + s.replaceAll(\"\\\\s\\\\s\", \" \") + \"\\\"\");\n</code></pre>\n\n<p>will print:</p>\n\n<pre><code>\" a  b   c\"\n</code></pre>\n\n<p>I think you intended to do this instead of your code:</p>\n\n<pre><code>Pattern whitespace = Pattern.compile(\"\\\\s\\\\s\");\nMatcher matcher = whitespace.matcher(s);\nString result = \"\";\nif (matcher.find()) {\n    result = matcher.replaceAll(\" \");\n}\n\nSystem.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":275399,"reputation":5098,"user_id":568260,"display_name":"Raph Levien"},"down_vote_count":1,"up_vote_count":47,"is_accepted":true,"score":46,"last_activity_date":1590915983,"creation_date":1295402545,"answer_id":4731086,"question_id":4731055,"body_markdown":"Yeah, you need to grab the result of `matcher.replaceAll()`:\r\n\r\n    String result = matcher.replaceAll(&quot; &quot;);\r\n    System.out.println(result);\r\n","title":"Whitespace Matching Regex - Java","body":"<p>Yeah, you need to grab the result of <code>matcher.replaceAll()</code>:</p>\n\n<pre><code>String result = matcher.replaceAll(\" \");\nSystem.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216196,"reputation":79143,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"down_vote_count":2,"up_vote_count":220,"is_accepted":false,"score":218,"last_activity_date":1562773516,"creation_date":1295403411,"answer_id":4731164,"question_id":4731055,"body_markdown":"You can’t use `\\s` in Java to match white space on its own native character set, because Java doesn’t support the Unicode white space property — even though doing so is strictly required to meet [UTS#18’s RL1.2!](http://www.unicode.org/reports/tr18/#Categories)  What it does have is not standards-conforming, alas.\r\n\r\nUnicode defines 26 code points as `\\p{White_Space}`: 20 of them are various sorts of `\\pZ` *GeneralCategory=Separator*, and the remaining 6 are `\\p{Cc}` *GeneralCategory=Control*.  \r\n\r\nWhite space is a pretty stable property, and those same ones have been around virtually forever. Even so,  Java has no property that conforms to The Unicode Standard for these, so you instead have to use code like this:\r\n\r\n    String whitespace_chars =  &quot;&quot;       /* dummy empty string for homogeneity */\r\n                            + &quot;\\\\u0009&quot; // CHARACTER TABULATION\r\n                            + &quot;\\\\u000A&quot; // LINE FEED (LF)\r\n                            + &quot;\\\\u000B&quot; // LINE TABULATION\r\n                            + &quot;\\\\u000C&quot; // FORM FEED (FF)\r\n                            + &quot;\\\\u000D&quot; // CARRIAGE RETURN (CR)\r\n                            + &quot;\\\\u0020&quot; // SPACE\r\n                            + &quot;\\\\u0085&quot; // NEXT LINE (NEL) \r\n                            + &quot;\\\\u00A0&quot; // NO-BREAK SPACE\r\n                            + &quot;\\\\u1680&quot; // OGHAM SPACE MARK\r\n                            + &quot;\\\\u180E&quot; // MONGOLIAN VOWEL SEPARATOR\r\n                            + &quot;\\\\u2000&quot; // EN QUAD \r\n                            + &quot;\\\\u2001&quot; // EM QUAD \r\n                            + &quot;\\\\u2002&quot; // EN SPACE\r\n                            + &quot;\\\\u2003&quot; // EM SPACE\r\n                            + &quot;\\\\u2004&quot; // THREE-PER-EM SPACE\r\n                            + &quot;\\\\u2005&quot; // FOUR-PER-EM SPACE\r\n                            + &quot;\\\\u2006&quot; // SIX-PER-EM SPACE\r\n                            + &quot;\\\\u2007&quot; // FIGURE SPACE\r\n                            + &quot;\\\\u2008&quot; // PUNCTUATION SPACE\r\n                            + &quot;\\\\u2009&quot; // THIN SPACE\r\n                            + &quot;\\\\u200A&quot; // HAIR SPACE\r\n                            + &quot;\\\\u2028&quot; // LINE SEPARATOR\r\n                            + &quot;\\\\u2029&quot; // PARAGRAPH SEPARATOR\r\n                            + &quot;\\\\u202F&quot; // NARROW NO-BREAK SPACE\r\n                            + &quot;\\\\u205F&quot; // MEDIUM MATHEMATICAL SPACE\r\n                            + &quot;\\\\u3000&quot; // IDEOGRAPHIC SPACE\r\n                            ;        \r\n    /* A \\s that actually works for Java’s native character set: Unicode */\r\n    String     whitespace_charclass = &quot;[&quot;  + whitespace_chars + &quot;]&quot;;    \r\n    /* A \\S that actually works for  Java’s native character set: Unicode */\r\n    String not_whitespace_charclass = &quot;[^&quot; + whitespace_chars + &quot;]&quot;;\r\n\r\nNow you can use `whitespace_charclass + &quot;+&quot;` as the pattern in your `replaceAll`.\r\n\r\n---------\r\n\r\nSorry ’bout all that. **Java’s regexes just don’t work very well on its own native character set,** and so you really have to jump through exotic hoops to make them work. \r\n\r\nAnd if you think white space is bad, you should see what you have to do to get `\\w` and `\\b` to finally behave properly! \r\n\r\nYes, it’s possible, and yes, it’s a mindnumbing mess.  That’s being charitable, even. The easiest way to get a standards-comforming regex library for Java is to JNI over to ICU’s stuff. That’s what Google does for Android, because OraSun’s doesn’t measure up.\r\n\r\nIf you don’t want to do that but still want to stick with Java, I have a front-end regex rewriting library I wrote that “fixes” Java’s patterns, at least to get them conform to the requirements of [RL1.2a in UTS#18, *Unicode Regular Expressions*](http://www.unicode.org/reports/tr18/#Compatibility_Properties).","title":"Whitespace Matching Regex - Java","body":"<p>You can’t use <code>\\s</code> in Java to match white space on its own native character set, because Java doesn’t support the Unicode white space property — even though doing so is strictly required to meet <a href=\"http://www.unicode.org/reports/tr18/#Categories\" rel=\"noreferrer\">UTS#18’s RL1.2!</a>  What it does have is not standards-conforming, alas.</p>\n\n<p>Unicode defines 26 code points as <code>\\p{White_Space}</code>: 20 of them are various sorts of <code>\\pZ</code> <em>GeneralCategory=Separator</em>, and the remaining 6 are <code>\\p{Cc}</code> <em>GeneralCategory=Control</em>.  </p>\n\n<p>White space is a pretty stable property, and those same ones have been around virtually forever. Even so,  Java has no property that conforms to The Unicode Standard for these, so you instead have to use code like this:</p>\n\n<pre><code>String whitespace_chars =  \"\"       /* dummy empty string for homogeneity */\n                        + \"\\\\u0009\" // CHARACTER TABULATION\n                        + \"\\\\u000A\" // LINE FEED (LF)\n                        + \"\\\\u000B\" // LINE TABULATION\n                        + \"\\\\u000C\" // FORM FEED (FF)\n                        + \"\\\\u000D\" // CARRIAGE RETURN (CR)\n                        + \"\\\\u0020\" // SPACE\n                        + \"\\\\u0085\" // NEXT LINE (NEL) \n                        + \"\\\\u00A0\" // NO-BREAK SPACE\n                        + \"\\\\u1680\" // OGHAM SPACE MARK\n                        + \"\\\\u180E\" // MONGOLIAN VOWEL SEPARATOR\n                        + \"\\\\u2000\" // EN QUAD \n                        + \"\\\\u2001\" // EM QUAD \n                        + \"\\\\u2002\" // EN SPACE\n                        + \"\\\\u2003\" // EM SPACE\n                        + \"\\\\u2004\" // THREE-PER-EM SPACE\n                        + \"\\\\u2005\" // FOUR-PER-EM SPACE\n                        + \"\\\\u2006\" // SIX-PER-EM SPACE\n                        + \"\\\\u2007\" // FIGURE SPACE\n                        + \"\\\\u2008\" // PUNCTUATION SPACE\n                        + \"\\\\u2009\" // THIN SPACE\n                        + \"\\\\u200A\" // HAIR SPACE\n                        + \"\\\\u2028\" // LINE SEPARATOR\n                        + \"\\\\u2029\" // PARAGRAPH SEPARATOR\n                        + \"\\\\u202F\" // NARROW NO-BREAK SPACE\n                        + \"\\\\u205F\" // MEDIUM MATHEMATICAL SPACE\n                        + \"\\\\u3000\" // IDEOGRAPHIC SPACE\n                        ;        \n/* A \\s that actually works for Java’s native character set: Unicode */\nString     whitespace_charclass = \"[\"  + whitespace_chars + \"]\";    \n/* A \\S that actually works for  Java’s native character set: Unicode */\nString not_whitespace_charclass = \"[^\" + whitespace_chars + \"]\";\n</code></pre>\n\n<p>Now you can use <code>whitespace_charclass + \"+\"</code> as the pattern in your <code>replaceAll</code>.</p>\n\n<hr>\n\n<p>Sorry ’bout all that. <strong>Java’s regexes just don’t work very well on its own native character set,</strong> and so you really have to jump through exotic hoops to make them work. </p>\n\n<p>And if you think white space is bad, you should see what you have to do to get <code>\\w</code> and <code>\\b</code> to finally behave properly! </p>\n\n<p>Yes, it’s possible, and yes, it’s a mindnumbing mess.  That’s being charitable, even. The easiest way to get a standards-comforming regex library for Java is to JNI over to ICU’s stuff. That’s what Google does for Android, because OraSun’s doesn’t measure up.</p>\n\n<p>If you don’t want to do that but still want to stick with Java, I have a front-end regex rewriting library I wrote that “fixes” Java’s patterns, at least to get them conform to the requirements of <a href=\"http://www.unicode.org/reports/tr18/#Compatibility_Properties\" rel=\"noreferrer\">RL1.2a in UTS#18, <em>Unicode Regular Expressions</em></a>.</p>\n"},{"tags":[],"owner":{"account_id":283344,"reputation":3593,"user_id":580796,"accept_rate":81,"display_name":"Manidip Sengupta"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1295410251,"creation_date":1295410251,"answer_id":4731649,"question_id":4731055,"body_markdown":"Use of whitespace in RE is a pain, but I believe they work. The OP&#39;s problem can also be solved using StringTokenizer or the split() method. However, to use RE (uncomment the println() to view how the matcher is breaking up the String), here is a sample code:\r\n\r\n\r\n    import java.util.regex.*;\r\n\r\n    public class Two21WS {\r\n        private String  str = &quot;&quot;;\r\n        private Pattern pattern = Pattern.compile (&quot;\\\\s{2,}&quot;);  // multiple spaces\r\n\r\n        public Two21WS (String s) {\r\n                StringBuffer sb = new StringBuffer();\r\n                Matcher matcher = pattern.matcher (s);\r\n                int startNext = 0;\r\n                while (matcher.find (startNext)) {\r\n                        if (startNext == 0)\r\n                                sb.append (s.substring (0, matcher.start()));\r\n                        else\r\n                                sb.append (s.substring (startNext, matcher.start()));\r\n                        sb.append (&quot; &quot;);\r\n                        startNext = matcher.end();\r\n                        //System.out.println (&quot;Start, end = &quot; + matcher.start()+&quot;, &quot;+matcher.end() +\r\n                        //                      &quot;, sb: \\&quot;&quot; + sb.toString() + &quot;\\&quot;&quot;);\r\n                }\r\n                sb.append (s.substring (startNext));\r\n                str = sb.toString();\r\n        }\r\n\r\n        public String toString () {\r\n                return str;\r\n        }\r\n\r\n        public static void main (String[] args) {\r\n                String tester = &quot; a    b      cdef     gh  ij   kl&quot;;\r\n                System.out.println (&quot;Initial: \\&quot;&quot; + tester + &quot;\\&quot;&quot;);\r\n                System.out.println (&quot;Two21WS: \\&quot;&quot; + new Two21WS(tester) + &quot;\\&quot;&quot;);\r\n    }}\r\n\r\nIt produces the following (compile with javac and run at the command prompt):\r\n\r\n% java Two21WS\r\nInitial: &quot; a    b      cdef     gh  ij   kl&quot;\r\nTwo21WS: &quot; a b cdef gh ij kl&quot;\r\n\r\n","title":"Whitespace Matching Regex - Java","body":"<p>Use of whitespace in RE is a pain, but I believe they work. The OP's problem can also be solved using StringTokenizer or the split() method. However, to use RE (uncomment the println() to view how the matcher is breaking up the String), here is a sample code:</p>\n\n<pre><code>import java.util.regex.*;\n\npublic class Two21WS {\n    private String  str = \"\";\n    private Pattern pattern = Pattern.compile (\"\\\\s{2,}\");  // multiple spaces\n\n    public Two21WS (String s) {\n            StringBuffer sb = new StringBuffer();\n            Matcher matcher = pattern.matcher (s);\n            int startNext = 0;\n            while (matcher.find (startNext)) {\n                    if (startNext == 0)\n                            sb.append (s.substring (0, matcher.start()));\n                    else\n                            sb.append (s.substring (startNext, matcher.start()));\n                    sb.append (\" \");\n                    startNext = matcher.end();\n                    //System.out.println (\"Start, end = \" + matcher.start()+\", \"+matcher.end() +\n                    //                      \", sb: \\\"\" + sb.toString() + \"\\\"\");\n            }\n            sb.append (s.substring (startNext));\n            str = sb.toString();\n    }\n\n    public String toString () {\n            return str;\n    }\n\n    public static void main (String[] args) {\n            String tester = \" a    b      cdef     gh  ij   kl\";\n            System.out.println (\"Initial: \\\"\" + tester + \"\\\"\");\n            System.out.println (\"Two21WS: \\\"\" + new Two21WS(tester) + \"\\\"\");\n}}\n</code></pre>\n\n<p>It produces the following (compile with javac and run at the command prompt):</p>\n\n<p>% java Two21WS\nInitial: \" a    b      cdef     gh  ij   kl\"\nTwo21WS: \" a b cdef gh ij kl\"</p>\n"},{"tags":[],"owner":{"account_id":913489,"reputation":31,"user_id":946813,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1316091065,"creation_date":1316091065,"answer_id":7431136,"question_id":4731055,"body_markdown":"    Pattern whitespace = Pattern.compile(&quot;\\\\s\\\\s&quot;);\r\n    matcher = whitespace.matcher(modLine);\r\n\r\n    boolean flag = true;\r\n    while(flag)\r\n    {\r\n     //Update your original search text with the result of the replace\r\n     modLine = matcher.replaceAll(&quot; &quot;);\r\n     //reset matcher to look at this &quot;new&quot; text\r\n     matcher = whitespace.matcher(modLine);\r\n     //search again ... and if no match , set flag to false to exit, else run again\r\n     if(!matcher.find())\r\n     {\r\n     flag = false;\r\n     }\r\n    }","title":"Whitespace Matching Regex - Java","body":"<pre><code>Pattern whitespace = Pattern.compile(\"\\\\s\\\\s\");\nmatcher = whitespace.matcher(modLine);\n\nboolean flag = true;\nwhile(flag)\n{\n //Update your original search text with the result of the replace\n modLine = matcher.replaceAll(\" \");\n //reset matcher to look at this \"new\" text\n matcher = whitespace.matcher(modLine);\n //search again ... and if no match , set flag to false to exit, else run again\n if(!matcher.find())\n {\n flag = false;\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1975336,"reputation":5011,"user_id":1773233,"accept_rate":58,"display_name":"surfealokesea"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1370967113,"creation_date":1370946454,"answer_id":17041911,"question_id":4731055,"body_markdown":"For Java (not php, not javascript, not anyother):\r\n\r\n    txt.replaceAll(&quot;\\\\p{javaSpaceChar}{2,}&quot;,&quot; &quot;)","title":"Whitespace Matching Regex - Java","body":"<p>For Java (not php, not javascript, not anyother):</p>\n\n<pre><code>txt.replaceAll(\"\\\\p{javaSpaceChar}{2,}\",\" \")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":224780,"reputation":169,"user_id":484840,"display_name":"Tuomas"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1415016071,"creation_date":1415016071,"answer_id":26713907,"question_id":4731055,"body_markdown":"when I sended a question to a Regexbuddy (regex developer application) forum, I got more exact reply to my \\s Java question:\r\n\r\n&quot;Message author: Jan Goyvaerts\r\n\r\nIn Java, the shorthands \\s, \\d, and \\w only include ASCII characters.  ... This is not a bug in Java, but simply one of the many things you need to be aware of when working with regular expressions.  To match all Unicode whitespace as well as line breaks, you can use [\\s\\p{Z}] in Java.  RegexBuddy does not yet support Java-specific properties such as \\p{javaSpaceChar} (which matches the exact same characters as [\\s\\p{Z}]).\r\n\r\n...  \\s\\s will match two spaces, if the input is ASCII only.  The real problem is with the OP&#39;s code, as is pointed out by the accepted answer in that question.&quot;","title":"Whitespace Matching Regex - Java","body":"<p>when I sended a question to a Regexbuddy (regex developer application) forum, I got more exact reply to my \\s Java question:</p>\n\n<p>\"Message author: Jan Goyvaerts</p>\n\n<p>In Java, the shorthands \\s, \\d, and \\w only include ASCII characters.  ... This is not a bug in Java, but simply one of the many things you need to be aware of when working with regular expressions.  To match all Unicode whitespace as well as line breaks, you can use [\\s\\p{Z}] in Java.  RegexBuddy does not yet support Java-specific properties such as \\p{javaSpaceChar} (which matches the exact same characters as [\\s\\p{Z}]).</p>\n\n<p>...  \\s\\s will match two spaces, if the input is ASCII only.  The real problem is with the OP's code, as is pointed out by the accepted answer in that question.\"</p>\n"},{"tags":[],"owner":{"account_id":5934457,"reputation":396,"user_id":4667943,"display_name":"Rashid Mv"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1580292022,"creation_date":1526672550,"answer_id":50418263,"question_id":4731055,"body_markdown":"For your purpose you can use this snnippet:\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n\r\n    StringUtils.normalizeSpace(string);\r\n\r\nThis will normalize the spacing to single and will strip off the starting and trailing whitespaces as well.\r\n\r\n    String sampleString = &quot;Hello    world!&quot;;\r\n    sampleString.replaceAll(&quot;\\\\s{2}&quot;, &quot; &quot;); // replaces exactly two consecutive spaces\r\n    sampleString.replaceAll(&quot;\\\\s{2,}&quot;, &quot; &quot;); // replaces two or more consecutive white spaces","title":"Whitespace Matching Regex - Java","body":"<p>For your purpose you can use this snnippet:</p>\n\n<pre><code>import org.apache.commons.lang3.StringUtils;\n\nStringUtils.normalizeSpace(string);\n</code></pre>\n\n<p>This will normalize the spacing to single and will strip off the starting and trailing whitespaces as well.</p>\n\n<pre><code>String sampleString = \"Hello    world!\";\nsampleString.replaceAll(\"\\\\s{2}\", \" \"); // replaces exactly two consecutive spaces\nsampleString.replaceAll(\"\\\\s{2,}\", \" \"); // replaces two or more consecutive white spaces\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1629545041,"creation_date":1571917435,"answer_id":58540660,"question_id":4731055,"body_markdown":"Java has evolved since this issue was first brought up.  You can match all manner of unicode space characters by using the `\\p{Zs}` group.\r\n\r\nThus if you wanted to replace one or more exotic spaces with a plain space you could do this:\r\n```\r\nString txt = &quot;whatever my string is&quot;;\r\nString newTxt = txt.replaceAll(&quot;\\\\p{Zs}+&quot;, &quot; &quot;);\r\n```\r\nAlso worth knowing, if you&#39;ve used the `trim()` string function you should take a look at the (relatively new) `strip()`, `stripLeading()`, and `stripTrailing()` functions on strings.  They can help you trim off all sorts of squirrely white space characters.  For more information on what what space is included, see Java&#39;s `Character.isWhitespace()` function. ","title":"Whitespace Matching Regex - Java","body":"<p>Java has evolved since this issue was first brought up.  You can match all manner of unicode space characters by using the <code>\\p{Zs}</code> group.</p>\n<p>Thus if you wanted to replace one or more exotic spaces with a plain space you could do this:</p>\n<pre><code>String txt = &quot;whatever my string is&quot;;\nString newTxt = txt.replaceAll(&quot;\\\\p{Zs}+&quot;, &quot; &quot;);\n</code></pre>\n<p>Also worth knowing, if you've used the <code>trim()</code> string function you should take a look at the (relatively new) <code>strip()</code>, <code>stripLeading()</code>, and <code>stripTrailing()</code> functions on strings.  They can help you trim off all sorts of squirrely white space characters.  For more information on what what space is included, see Java's <code>Character.isWhitespace()</code> function.</p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1631374324,"creation_date":1631374324,"answer_id":69144404,"question_id":4731055,"body_markdown":"To match any whitespace character, you can use\r\n```java\r\nPattern whitespace = Pattern.compile(&quot;\\\\s&quot;, Pattern.UNICODE_CHARACTER_CLASS);\r\n```\r\nThe [`Pattern.UNICODE_CHARACTER_CLASS`][1] option &quot;*enables the Unicode version of Predefined character classes and POSIX character classes*&quot; that are then &quot;*in conformance with [Unicode Technical Standard #18: Unicode Regular Expression][2] Annex C: Compatibility Properties*&quot;.\r\n\r\nThe same behavior can also be enabled with the `(?U)` embedded flag expression. For example, if you want to replace/remove all Unicode whitespaces in Java with regex, you can use\r\n```java\r\nString result = text.replaceAll(&quot;(?U)\\\\s+&quot;, &quot;&quot;); // removes all whitespaces\r\nString result = text.replaceAll(&quot;(?U)\\\\s&quot;, &quot;-&quot;); // replaces each single whitespace with -\r\nString result = text.replaceAll(&quot;(?U)\\\\s+&quot;, &quot;-&quot;); // replaces chunks of one or more consecutive whitespaces with a single -\r\nString result = text.replaceAll(&quot;(?U)\\\\G\\\\s&quot;, &quot;-&quot;); // replaces each single whitespace at the start of string with -\r\n```\r\nSee the [Java demo online][3]:\r\n```java\r\nString text = &quot;\\u00A0 \\u00A0\\tStart reading\\u00A0here...&quot;; // \\u00A0 - non-breaking space\r\nSystem.out.println(&quot;Text: &#39;&quot; + text + &quot;&#39;&quot;); // =&gt; Text: &#39;   \tStart reading here...&#39;\r\nSystem.out.println(text.replaceAll(&quot;(?U)\\\\s+&quot;, &quot;&quot;)); // =&gt; Startreadinghere...\r\nSystem.out.println(text.replaceAll(&quot;(?U)\\\\s&quot;, &quot;-&quot;)); // =&gt; ----Start-reading-here...\r\nSystem.out.println(text.replaceAll(&quot;(?U)\\\\s+&quot;, &quot;-&quot;)); // =&gt; -Start-reading-here...\r\nSystem.out.println(text.replaceAll(&quot;(?U)\\\\G\\\\s&quot;, &quot;-&quot;)); // =&gt; ----Start reading here... \r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Pattern.html#UNICODE_CHARACTER_CLASS\r\n  [2]: http://www.unicode.org/reports/tr18/\r\n  [3]: https://ideone.com/Ecsa8X","title":"Whitespace Matching Regex - Java","body":"<p>To match any whitespace character, you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern whitespace = Pattern.compile(&quot;\\\\s&quot;, Pattern.UNICODE_CHARACTER_CLASS);\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Pattern.html#UNICODE_CHARACTER_CLASS\" rel=\"nofollow noreferrer\"><code>Pattern.UNICODE_CHARACTER_CLASS</code></a> option &quot;<em>enables the Unicode version of Predefined character classes and POSIX character classes</em>&quot; that are then &quot;<em>in conformance with <a href=\"http://www.unicode.org/reports/tr18/\" rel=\"nofollow noreferrer\">Unicode Technical Standard #18: Unicode Regular Expression</a> Annex C: Compatibility Properties</em>&quot;.</p>\n<p>The same behavior can also be enabled with the <code>(?U)</code> embedded flag expression. For example, if you want to replace/remove all Unicode whitespaces in Java with regex, you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = text.replaceAll(&quot;(?U)\\\\s+&quot;, &quot;&quot;); // removes all whitespaces\nString result = text.replaceAll(&quot;(?U)\\\\s&quot;, &quot;-&quot;); // replaces each single whitespace with -\nString result = text.replaceAll(&quot;(?U)\\\\s+&quot;, &quot;-&quot;); // replaces chunks of one or more consecutive whitespaces with a single -\nString result = text.replaceAll(&quot;(?U)\\\\G\\\\s&quot;, &quot;-&quot;); // replaces each single whitespace at the start of string with -\n</code></pre>\n<p>See the <a href=\"https://ideone.com/Ecsa8X\" rel=\"nofollow noreferrer\">Java demo online</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String text = &quot;\\u00A0 \\u00A0\\tStart reading\\u00A0here...&quot;; // \\u00A0 - non-breaking space\nSystem.out.println(&quot;Text: '&quot; + text + &quot;'&quot;); // =&gt; Text: '       Start reading here...'\nSystem.out.println(text.replaceAll(&quot;(?U)\\\\s+&quot;, &quot;&quot;)); // =&gt; Startreadinghere...\nSystem.out.println(text.replaceAll(&quot;(?U)\\\\s&quot;, &quot;-&quot;)); // =&gt; ----Start-reading-here...\nSystem.out.println(text.replaceAll(&quot;(?U)\\\\s+&quot;, &quot;-&quot;)); // =&gt; -Start-reading-here...\nSystem.out.println(text.replaceAll(&quot;(?U)\\\\G\\\\s&quot;, &quot;-&quot;)); // =&gt; ----Start reading here... \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2140748,"reputation":374,"user_id":1899440,"display_name":"Bokili Production"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667852530,"creation_date":1667852530,"answer_id":74352510,"question_id":4731055,"body_markdown":"You can use simpler:\r\n\r\n    String out = in.replaceAll(&quot; {2}&quot;, &quot; &quot;);","title":"Whitespace Matching Regex - Java","body":"<p>You can use simpler:</p>\n<pre><code>String out = in.replaceAll(&quot; {2}&quot;, &quot; &quot;);\n</code></pre>\n"}],"owner":{"display_name":"user372743"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500522,"favorite_count":0,"down_vote_count":0,"up_vote_count":123,"accepted_answer_id":4731086,"answer_count":11,"score":123,"last_activity_date":1667852530,"creation_date":1295402327,"question_id":4731055,"body_markdown":"The Java API for [regular expressions][1] states that `\\s` will match whitespace. So the regex `\\\\s\\\\s` should match two spaces.\r\n\r\n    Pattern whitespace = Pattern.compile(&quot;\\\\s\\\\s&quot;);\r\n    matcher = whitespace.matcher(modLine);\r\n    while (matcher.find()) matcher.replaceAll(&quot; &quot;);\r\n\r\nThe aim of this is to replace all instances of two consecutive whitespace with a single space. However this does not actually work.\r\n\r\nAm I having a grave misunderstanding of regexes or the term &quot;whitespace&quot;?\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html","title":"Whitespace Matching Regex - Java","body":"<p>The Java API for <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\">regular expressions</a> states that <code>\\s</code> will match whitespace. So the regex <code>\\\\s\\\\s</code> should match two spaces.</p>\n\n<pre><code>Pattern whitespace = Pattern.compile(\"\\\\s\\\\s\");\nmatcher = whitespace.matcher(modLine);\nwhile (matcher.find()) matcher.replaceAll(\" \");\n</code></pre>\n\n<p>The aim of this is to replace all instances of two consecutive whitespace with a single space. However this does not actually work.</p>\n\n<p>Am I having a grave misunderstanding of regexes or the term \"whitespace\"?</p>\n"},{"tags":["java","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667852358,"creation_date":1667694228,"answer_id":74332442,"question_id":74325368,"body_markdown":"I would welcome an answer that does this in an idiomatic spring-boot fashion, but you can simply set a `failedDeserializationFunction` which calls the deserializer again:\r\n```java\r\n        MyDeserializer myDeserializer = new MyDeserializer();\r\n        ErrorHandlingDeserializer&lt;String&gt; errorHandlingDeserializer = \r\n             new ErrorHandlingDeserializer(myDeserializer);\r\n        errorHandlingDeserializer.setFailedDeserializationFunction(f -&gt;\r\n             myDeserializer.deserialize(f.getTopic(), f.getData())\r\n        );\r\n        factory.setConsumerFactory(\r\n                new DefaultKafkaConsumerFactory(\r\n                        properties.buildConsumerProperties(),\r\n                        new StringDeserializer(),\r\n                        errorHandlingDeserializer\r\n                )\r\n        );\r\n```\r\n\r\nThat doesn&#39;t limit retries, or do any backoff, that&#39;s left as an exercise for the reader.","title":"How to retry kafka deserialization errors encountered by a batch listener?","body":"<p>I would welcome an answer that does this in an idiomatic spring-boot fashion, but you can simply set a <code>failedDeserializationFunction</code> which calls the deserializer again:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        MyDeserializer myDeserializer = new MyDeserializer();\n        ErrorHandlingDeserializer&lt;String&gt; errorHandlingDeserializer = \n             new ErrorHandlingDeserializer(myDeserializer);\n        errorHandlingDeserializer.setFailedDeserializationFunction(f -&gt;\n             myDeserializer.deserialize(f.getTopic(), f.getData())\n        );\n        factory.setConsumerFactory(\n                new DefaultKafkaConsumerFactory(\n                        properties.buildConsumerProperties(),\n                        new StringDeserializer(),\n                        errorHandlingDeserializer\n                )\n        );\n</code></pre>\n<p>That doesn't limit retries, or do any backoff, that's left as an exercise for the reader.</p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667834745,"creation_date":1667832986,"answer_id":74348582,"question_id":74325368,"body_markdown":"`DeserializationException`s are considered fatal by default and are not retried.\r\n\r\nYou can change that behavior by removing the exception type from the default list of fatal exceptions (on the error handler)...\r\n\r\n```java\r\n/**\r\n * Remove an exception type from the configured list. By default, the following\r\n * exceptions will not be retried:\r\n * &lt;ul&gt;\r\n * &lt;li&gt;{@link DeserializationException}&lt;/li&gt;\r\n * &lt;li&gt;{@link MessageConversionException}&lt;/li&gt;\r\n * &lt;li&gt;{@link ConversionException}&lt;/li&gt;\r\n * &lt;li&gt;{@link MethodArgumentResolutionException}&lt;/li&gt;\r\n * &lt;li&gt;{@link NoSuchMethodException}&lt;/li&gt;\r\n * &lt;li&gt;{@link ClassCastException}&lt;/li&gt;\r\n * &lt;/ul&gt;\r\n * All others will be retried, unless {@link #defaultFalse()} has been called.\r\n * @param exceptionType the exception type.\r\n * @return the classification of the exception if removal was successful;\r\n * null otherwise.\r\n * @since 2.8.4\r\n * @see #addNotRetryableExceptions(Class...)\r\n * @see #setClassifications(Map, boolean)\r\n */\r\n@Nullable\r\npublic Boolean removeClassification(Class&lt;? extends Exception&gt; exceptionType) {\r\n```\r\n\r\nNote, however, that with a batch listener, the failed record is sent to the listener with a `null` payload; you can examine the deserialization exception using `ListenerUtils.getExceptionFromHeader()` (with `SerializationUtils.VALUE_DESERIALIZER_EXCEPTION_HEADER`); then re-throw the exception and the batch will be retried. (Consume `List&lt;Message&lt;String&gt;&gt;` to get access to the header or use `@Header` for an additional parameter.\r\n\r\nCorrection; the listener utils method requires the `ConsumerRecord`, use `byteArrayToDeserializationException()` instead.\r\n\r\nHowever, the `FallbackBatchErrorHandler` (used if you don&#39;t throw a `BatchListenerFailedException` with the record number) did not classify exceptions until recently (all exceptions were retried). This is fixed and will be in the next 2.9.x release in a couple of weeks.","title":"How to retry kafka deserialization errors encountered by a batch listener?","body":"<p><code>DeserializationException</code>s are considered fatal by default and are not retried.</p>\n<p>You can change that behavior by removing the exception type from the default list of fatal exceptions (on the error handler)...</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Remove an exception type from the configured list. By default, the following\n * exceptions will not be retried:\n * &lt;ul&gt;\n * &lt;li&gt;{@link DeserializationException}&lt;/li&gt;\n * &lt;li&gt;{@link MessageConversionException}&lt;/li&gt;\n * &lt;li&gt;{@link ConversionException}&lt;/li&gt;\n * &lt;li&gt;{@link MethodArgumentResolutionException}&lt;/li&gt;\n * &lt;li&gt;{@link NoSuchMethodException}&lt;/li&gt;\n * &lt;li&gt;{@link ClassCastException}&lt;/li&gt;\n * &lt;/ul&gt;\n * All others will be retried, unless {@link #defaultFalse()} has been called.\n * @param exceptionType the exception type.\n * @return the classification of the exception if removal was successful;\n * null otherwise.\n * @since 2.8.4\n * @see #addNotRetryableExceptions(Class...)\n * @see #setClassifications(Map, boolean)\n */\n@Nullable\npublic Boolean removeClassification(Class&lt;? extends Exception&gt; exceptionType) {\n</code></pre>\n<p>Note, however, that with a batch listener, the failed record is sent to the listener with a <code>null</code> payload; you can examine the deserialization exception using <code>ListenerUtils.getExceptionFromHeader()</code> (with <code>SerializationUtils.VALUE_DESERIALIZER_EXCEPTION_HEADER</code>); then re-throw the exception and the batch will be retried. (Consume <code>List&lt;Message&lt;String&gt;&gt;</code> to get access to the header or use <code>@Header</code> for an additional parameter.</p>\n<p>Correction; the listener utils method requires the <code>ConsumerRecord</code>, use <code>byteArrayToDeserializationException()</code> instead.</p>\n<p>However, the <code>FallbackBatchErrorHandler</code> (used if you don't throw a <code>BatchListenerFailedException</code> with the record number) did not classify exceptions until recently (all exceptions were retried). This is fixed and will be in the next 2.9.x release in a couple of weeks.</p>\n"}],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667852358,"creation_date":1667626388,"question_id":74325368,"body_markdown":"I have a Kafka application which suffers from intermittent deserialisation errors (due to connectivity problems to the host which provides Avro schemas)\r\n\r\nI would like to back off and retry serialisation exceptions, but I have not been able to figure out how to set that up.\r\n\r\nHere&#39;s my test configuration:\r\n```java\r\n@org.springframework.context.annotation.Configuration\r\n@EnableKafka\r\npublic class Configuration {\r\n    @Bean(&quot;myContainerFactory&quot;)\r\n     public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; createFactory(\r\n             KafkaProperties properties\r\n    ) {\r\n        var factory = new ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;();\r\n        factory.setConsumerFactory(\r\n                new DefaultKafkaConsumerFactory(\r\n                        properties.buildConsumerProperties(),\r\n                        new StringDeserializer(),\r\n                        new ErrorHandlingDeserializer(new MyDeserializer())\r\n                )\r\n        );\r\n        factory.getContainerProperties().setAckMode(\r\n                ContainerProperties.AckMode.MANUAL_IMMEDIATE\r\n        );\r\n        factory.setCommonErrorHandler(new DefaultErrorHandler());\r\n        return factory;\r\n    }\r\n\r\n    // this fakes occasional errors which succeed after a retry\r\n    static class MyDeserializer implements Deserializer&lt;String&gt; {\r\n        int retries = 0;\r\n        @Override\r\n        public String deserialize(String topic, byte[] bytes) {\r\n            String s = new String(bytes);\r\n            if (s.contains(&quot;7&quot;) &amp;&amp; retries == 0) {\r\n                retries = 1;\r\n                throw new RuntimeException();\r\n            }\r\n            retries = 0;\r\n            return s;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand my consumer:\r\n```java\r\n@Component\r\npublic class StringListener {\r\n    @KafkaListener(\r\n            topics = {&quot;string-test&quot;},\r\n            groupId = &quot;test&quot;,\r\n            batch = &quot;true&quot;,\r\n            containerFactory = &quot;myContainerFactory&quot;\r\n    )\r\n    public void listen(List&lt;String&gt; messages, Acknowledgment acknowledgment) {\r\n        for (String s: messages) {\r\n            System.out.println(s);\r\n        }\r\n        acknowledgment.acknowledge();\r\n    }\r\n}\r\n```\r\n\r\nAt present the `ErrorHandlingDeserializer` just returns `null`.\r\n\r\nDo I need to implement a `failedDeserializationFunction`, or is there a there a simple way to configure the factory so that my deserialiser is called again, after a configurable wait, for some configurable number of times?","title":"How to retry kafka deserialization errors encountered by a batch listener?","body":"<p>I have a Kafka application which suffers from intermittent deserialisation errors (due to connectivity problems to the host which provides Avro schemas)</p>\n<p>I would like to back off and retry serialisation exceptions, but I have not been able to figure out how to set that up.</p>\n<p>Here's my test configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@org.springframework.context.annotation.Configuration\n@EnableKafka\npublic class Configuration {\n    @Bean(&quot;myContainerFactory&quot;)\n     public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; createFactory(\n             KafkaProperties properties\n    ) {\n        var factory = new ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;();\n        factory.setConsumerFactory(\n                new DefaultKafkaConsumerFactory(\n                        properties.buildConsumerProperties(),\n                        new StringDeserializer(),\n                        new ErrorHandlingDeserializer(new MyDeserializer())\n                )\n        );\n        factory.getContainerProperties().setAckMode(\n                ContainerProperties.AckMode.MANUAL_IMMEDIATE\n        );\n        factory.setCommonErrorHandler(new DefaultErrorHandler());\n        return factory;\n    }\n\n    // this fakes occasional errors which succeed after a retry\n    static class MyDeserializer implements Deserializer&lt;String&gt; {\n        int retries = 0;\n        @Override\n        public String deserialize(String topic, byte[] bytes) {\n            String s = new String(bytes);\n            if (s.contains(&quot;7&quot;) &amp;&amp; retries == 0) {\n                retries = 1;\n                throw new RuntimeException();\n            }\n            retries = 0;\n            return s;\n        }\n    }\n}\n</code></pre>\n<p>and my consumer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class StringListener {\n    @KafkaListener(\n            topics = {&quot;string-test&quot;},\n            groupId = &quot;test&quot;,\n            batch = &quot;true&quot;,\n            containerFactory = &quot;myContainerFactory&quot;\n    )\n    public void listen(List&lt;String&gt; messages, Acknowledgment acknowledgment) {\n        for (String s: messages) {\n            System.out.println(s);\n        }\n        acknowledgment.acknowledge();\n    }\n}\n</code></pre>\n<p>At present the <code>ErrorHandlingDeserializer</code> just returns <code>null</code>.</p>\n<p>Do I need to implement a <code>failedDeserializationFunction</code>, or is there a there a simple way to configure the factory so that my deserialiser is called again, after a configurable wait, for some configurable number of times?</p>\n"},{"tags":["java","maven","intellij-idea","javafx","maven-surefire-plugin"],"comments":[{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":2,"creation_date":1667681695,"post_id":74331154,"comment_id":131225926,"body_markdown":"Please try with newer surefire version 3.0.0-M7","body":"Please try with newer surefire version 3.0.0-M7"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667712326,"post_id":74331154,"comment_id":131229751,"body_markdown":"*&quot;I downloaded the files (openJDK 19 and JavaFX 19), unzipped them to a desired location, added an environment variable pointing to the lib directory of the runtime.&quot;* -&gt; why though?  It is a maven project, why not [reference JavaFX as Maven dependencies](https://openjfx.io/openjfx-docs/#maven)?  Idea can create a [sample JavaFX Maven project for you](https://www.jetbrains.com/help/idea/javafx.html) which you can use as a reference.  Trying to write unit tests for Java can be tricky, perhaps use [testfx](https://github.com/TestFX/TestFX), linked page shows an example of usage.","body":"<i>&quot;I downloaded the files (openJDK 19 and JavaFX 19), unzipped them to a desired location, added an environment variable pointing to the lib directory of the runtime.&quot;</i> -&gt; why though?  It is a maven project, why not <a href=\"https://openjfx.io/openjfx-docs/#maven\" rel=\"nofollow noreferrer\">reference JavaFX as Maven dependencies</a>?  Idea can create a <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">sample JavaFX Maven project for you</a> which you can use as a reference.  Trying to write unit tests for Java can be tricky, perhaps use <a href=\"https://github.com/TestFX/TestFX\" rel=\"nofollow noreferrer\">testfx</a>, linked page shows an example of usage."},{"owner":{"account_id":5754044,"reputation":41,"user_id":4542651,"display_name":"ryanthara"},"score":0,"creation_date":1667724521,"post_id":74331154,"comment_id":131231134,"body_markdown":"@SlawomirJaranowski Thank you so much. The newer version solves my issues.","body":"@SlawomirJaranowski Thank you so much. The newer version solves my issues."},{"owner":{"account_id":5754044,"reputation":41,"user_id":4542651,"display_name":"ryanthara"},"score":0,"creation_date":1667724869,"post_id":74331154,"comment_id":131231184,"body_markdown":"@jewelsea &quot;why though?&quot; There is a JavaFX Maven Dependency in my project. There are also non-maven-projects that uses JavaFX on my machine.\n\nAppreciate your hint to testfx. Unfortunately there is no need to test JavaFX components at the moment. Maybe later.","body":"@jewelsea &quot;why though?&quot; There is a JavaFX Maven Dependency in my project. There are also non-maven-projects that uses JavaFX on my machine.  Appreciate your hint to testfx. Unfortunately there is no need to test JavaFX components at the moment. Maybe later."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667730673,"post_id":74331154,"comment_id":131232109,"body_markdown":"*&quot;Unfortunately there is no need to test JavaFX components at the moment.&quot;* -&gt; surefire is a test harness and the error you get is `Module javafx.graphics not found`.  That indicates that the test setup is dependent on JavaFX, even if you aren&#39;t explicitly testing JavaFX components. As the JavaFX modules are dependencies in your Maven project, I&#39;d expect them to be found.  I guess whatever caused the modules not to be found was fixed by a Maven surefire plugin bug that was fixed by the upgrade suggested by @SlawomirJaranowski","body":"<i>&quot;Unfortunately there is no need to test JavaFX components at the moment.&quot;</i> -&gt; surefire is a test harness and the error you get is <code>Module javafx.graphics not found</code>.  That indicates that the test setup is dependent on JavaFX, even if you aren&#39;t explicitly testing JavaFX components. As the JavaFX modules are dependencies in your Maven project, I&#39;d expect them to be found.  I guess whatever caused the modules not to be found was fixed by a Maven surefire plugin bug that was fixed by the upgrade suggested by @SlawomirJaranowski"},{"owner":{"account_id":5754044,"reputation":41,"user_id":4542651,"display_name":"ryanthara"},"score":0,"creation_date":1667845804,"post_id":74331154,"comment_id":131260411,"body_markdown":"&quot;That indicates that the test setup is dependent on JavaFX, even if you aren&#39;t explicitly testing JavaFX components.&quot; I can&#39;t see the dependency in the test setup. The only JavaFX-dependency is a FileChooser.ExtensionFilter. They are implemented in the common module and not in the app module.","body":"&quot;That indicates that the test setup is dependent on JavaFX, even if you aren&#39;t explicitly testing JavaFX components.&quot; I can&#39;t see the dependency in the test setup. The only JavaFX-dependency is a FileChooser.ExtensionFilter. They are implemented in the common module and not in the app module."}],"answers":[{"tags":[],"owner":{"account_id":5754044,"reputation":41,"user_id":4542651,"display_name":"ryanthara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667852276,"creation_date":1667725210,"answer_id":74334462,"question_id":74331154,"body_markdown":"My issues are gone with the advice from @Slavomir Jaranowski.\r\n\r\nThe changed pom looks like\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;!--&lt;skipTests&gt;${skipUnitTests}&lt;/skipTests&gt;--&gt;\r\n        &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n        &lt;forkCount&gt;1.5C&lt;/forkCount&gt;\r\n        &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n        &lt;parallel&gt;methods&lt;/parallel&gt;\r\n        &lt;threadCount&gt;4&lt;/threadCount&gt;\r\n        &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\r\n        &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\r\n        &lt;reportFormat&gt;plain&lt;/reportFormat&gt;\r\n        &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n        &lt;redirectTestOutputToFile&gt;true&lt;/redirectTestOutputToFile&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n\r\n```\r\n\r\nThe configuration is not finished yet. ","title":"mvn test after update to java 19 brings [ERROR] Error occurred during initialization of boot layer","body":"<p>My issues are gone with the advice from @Slavomir Jaranowski.</p>\n<p>The changed pom looks like</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M7&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;!--&lt;skipTests&gt;${skipUnitTests}&lt;/skipTests&gt;--&gt;\n        &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n        &lt;forkCount&gt;1.5C&lt;/forkCount&gt;\n        &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n        &lt;parallel&gt;methods&lt;/parallel&gt;\n        &lt;threadCount&gt;4&lt;/threadCount&gt;\n        &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\n        &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\n        &lt;reportFormat&gt;plain&lt;/reportFormat&gt;\n        &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n        &lt;redirectTestOutputToFile&gt;true&lt;/redirectTestOutputToFile&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n\n</code></pre>\n<p>The configuration is not finished yet.</p>\n"}],"owner":{"account_id":5754044,"reputation":41,"user_id":4542651,"display_name":"ryanthara"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667852276,"creation_date":1667679171,"question_id":74331154,"body_markdown":"I&#39;m still working on a multi-module maven project which I upgraded from openJDK 15 to openJDK 19. I&#39;m working on a MBP with macOS 13 Ventura.\r\n\r\nBefore the upgrade the unit test are passing with the maven-surefire-plugin without any problems.\r\n\r\nAfter upgrading to openJDK 19 the ```mvn clean test``` command fails with the following error-message.\r\n\r\n```\r\n[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ core ---\r\n[INFO] \r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[ERROR] Error occurred during initialization of boot layer\r\n[ERROR] java.lang.module.FindException: Module javafx.graphics not found, required by common\r\n```\r\n\r\nI downloaded the files (openJDK 19 and JavaFX 19), unzipped them to a desired location, added an environment variable pointing to the lib directory of the runtime.\r\n\r\nI can run the program from IntelliJ without any problems.\r\n\r\nMy question is, what did I missed in the configuration to get the test running?","title":"mvn test after update to java 19 brings [ERROR] Error occurred during initialization of boot layer","body":"<p>I'm still working on a multi-module maven project which I upgraded from openJDK 15 to openJDK 19. I'm working on a MBP with macOS 13 Ventura.</p>\n<p>Before the upgrade the unit test are passing with the maven-surefire-plugin without any problems.</p>\n<p>After upgrading to openJDK 19 the <code>mvn clean test</code> command fails with the following error-message.</p>\n<pre><code>[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ core ---\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[ERROR] Error occurred during initialization of boot layer\n[ERROR] java.lang.module.FindException: Module javafx.graphics not found, required by common\n</code></pre>\n<p>I downloaded the files (openJDK 19 and JavaFX 19), unzipped them to a desired location, added an environment variable pointing to the lib directory of the runtime.</p>\n<p>I can run the program from IntelliJ without any problems.</p>\n<p>My question is, what did I missed in the configuration to get the test running?</p>\n"},{"tags":["java","json","lombok"],"answers":[{"tags":[],"owner":{"account_id":2034071,"reputation":10531,"user_id":2237469,"accept_rate":94,"display_name":"yrazlik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1655822240,"creation_date":1655398628,"answer_id":72649393,"question_id":72649176,"body_markdown":"Found a way to do it.\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Token {\r\n\t    @Setter(onMethod = @__(@JsonSetter(value = &quot;access_token&quot;))) \r\n\t    @Getter(onMethod = @__(@JsonGetter(value = &quot;accessToken&quot;))) \r\n\t    private String accessToken;\r\n    }\r\n\r\nAnother solution is to use `@JsonAlias` annotation.\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Token {\r\n\t    @JsonAlias(&quot;access_token&quot;))) \r\n\t    private String accessToken;\r\n    }","title":"How to Use @JsonProperty With Lombok?","body":"<p>Found a way to do it.</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\npublic class Token {\n    @Setter(onMethod = @__(@JsonSetter(value = &quot;access_token&quot;))) \n    @Getter(onMethod = @__(@JsonGetter(value = &quot;accessToken&quot;))) \n    private String accessToken;\n}\n</code></pre>\n<p>Another solution is to use <code>@JsonAlias</code> annotation.</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Token {\n    @JsonAlias(&quot;access_token&quot;))) \n    private String accessToken;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17404207,"reputation":19,"user_id":12612592,"display_name":"dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667851586,"creation_date":1667851586,"answer_id":74352338,"question_id":72649176,"body_markdown":"No need for all this, you can simply annotate your field with @JsonProperty. Spring will still use the getters for serialization.\r\n\r\n    @Data\r\n    public class Token {\r\n       @JsonProperty(&quot;access_token&quot;)\r\n       private String accessToken;\r\n    }\r\n\r\n","title":"How to Use @JsonProperty With Lombok?","body":"<p>No need for all this, you can simply annotate your field with @JsonProperty. Spring will still use the getters for serialization.</p>\n<pre><code>@Data\npublic class Token {\n   @JsonProperty(&quot;access_token&quot;)\n   private String accessToken;\n}\n</code></pre>\n"}],"owner":{"account_id":2034071,"reputation":10531,"user_id":2237469,"accept_rate":94,"display_name":"yrazlik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3602,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72649393,"answer_count":2,"score":2,"last_activity_date":1667851586,"creation_date":1655397474,"question_id":72649176,"body_markdown":"Suppose we have a json response that we want to map it to our java class.\r\n\r\n    {\r\n        &quot;access_token&quot;: &quot;abcdefg...&quot;\r\n    }\r\n\r\nI had a data class that mapped `access_token` field in the json to `accessToken` field in the code. I used to use `@JsonProperty` annotation on getters and setters.\r\n\r\n    private String accessToken;\r\n    \r\n    @JsonProperty(&quot;accessToken&quot;)\r\n\tpublic String getAccessToken() {\r\n\t\treturn accessToken;\r\n\t}\r\n\r\n\t@JsonProperty(&quot;access_token&quot;)\r\n\tpublic void setAccessToken(String accessToken) {\r\n\t\tthis.accessToken = accessToken;\r\n\t}\r\n\r\nThen I decided to use Lombok annotations `@Getter` and `@Setter`. Since I do not have a getter and setter in my code, how can I map `access_token` field in the json to `accessToken` field in the code with Lombok annotations? \r\n\r\nMy code is like this right now and as you can expect, it cannot map the fields.\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Token {\r\n\t    private String accessToken;\r\n    }\r\n\r\nI do not want to name my variable to `access_token` because I also return access token as a json response and I want it to appear as `accessToken` in my json response. \r\n\r\nThank you.\r\n","title":"How to Use @JsonProperty With Lombok?","body":"<p>Suppose we have a json response that we want to map it to our java class.</p>\n<pre><code>{\n    &quot;access_token&quot;: &quot;abcdefg...&quot;\n}\n</code></pre>\n<p>I had a data class that mapped <code>access_token</code> field in the json to <code>accessToken</code> field in the code. I used to use <code>@JsonProperty</code> annotation on getters and setters.</p>\n<pre><code>private String accessToken;\n\n@JsonProperty(&quot;accessToken&quot;)\npublic String getAccessToken() {\n    return accessToken;\n}\n\n@JsonProperty(&quot;access_token&quot;)\npublic void setAccessToken(String accessToken) {\n    this.accessToken = accessToken;\n}\n</code></pre>\n<p>Then I decided to use Lombok annotations <code>@Getter</code> and <code>@Setter</code>. Since I do not have a getter and setter in my code, how can I map <code>access_token</code> field in the json to <code>accessToken</code> field in the code with Lombok annotations?</p>\n<p>My code is like this right now and as you can expect, it cannot map the fields.</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Token {\n    private String accessToken;\n}\n</code></pre>\n<p>I do not want to name my variable to <code>access_token</code> because I also return access token as a json response and I want it to appear as <code>accessToken</code> in my json response.</p>\n<p>Thank you.</p>\n"},{"tags":["java","algorithm","recursion","math"],"comments":[{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":2,"creation_date":1667843162,"post_id":74350392,"comment_id":131259475,"body_markdown":"Perhaps instead of passing n, chop off the head of your array and pass the chopped array down the recursion?","body":"Perhaps instead of passing n, chop off the head of your array and pass the chopped array down the recursion?"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1667843860,"post_id":74350392,"comment_id":131259726,"body_markdown":"The function `horner` you have is already recursive.","body":"The function <code>horner</code> you have is already recursive."},{"owner":{"account_id":19378257,"reputation":35,"user_id":14170108,"display_name":"yungboi22"},"score":0,"creation_date":1667846236,"post_id":74350392,"comment_id":131260560,"body_markdown":"The number of arguments","body":"The number of arguments"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667849168,"creation_date":1667845242,"answer_id":74351151,"question_id":74350392,"body_markdown":"In order to use *two-args* method, you can call the method containing the actual recursive logic, providing the `0` (the first index of the given array) as the third argument.\r\n\r\n**Note** that the *base case* of the recursion is when we&#39;re hitting the last element &lt;i&gt;&lt;b&gt;a&lt;sub&gt;n&lt;/sub&gt;&lt;/b&gt;&lt;/i&gt;, i.e. when index `n` is equal to `a.length - 1`.\r\n\r\nOtherwise, the call should be handled by the *recursive case*, containing the logic compliant with the Horner&#39;s rule.\r\n\r\n    public static double evalHornerRec(double[] a, double x) {\r\n        \r\n        return horner(a, x, 0);\r\n    }\r\n    \r\n    private static double horner(double a[], double x, int n) {\r\n        if (n == a.length - 1) return a[n];\r\n        \r\n        return a[n] + x * horner(a, x, n + 1);\r\n    }","title":"Horner&#39;s method using recursion in java with 2 parameters","body":"<p>In order to use <em>two-args</em> method, you can call the method containing the actual recursive logic, providing the <code>0</code> (the first index of the given array) as the third argument.</p>\n<p><strong>Note</strong> that the <em>base case</em> of the recursion is when we're hitting the last element <i><b>a<sub>n</sub></b></i>, i.e. when index <code>n</code> is equal to <code>a.length - 1</code>.</p>\n<p>Otherwise, the call should be handled by the <em>recursive case</em>, containing the logic compliant with the Horner's rule.</p>\n<pre><code>public static double evalHornerRec(double[] a, double x) {\n    \n    return horner(a, x, 0);\n}\n\nprivate static double horner(double a[], double x, int n) {\n    if (n == a.length - 1) return a[n];\n    \n    return a[n] + x * horner(a, x, n + 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667851494,"creation_date":1667847214,"answer_id":74351521,"question_id":74350392,"body_markdown":"As I suggested in the comment, keep chopping the head off the poly array and pass the chopped version down the recursion call, like so ([this][1] may help):\r\n\r\n```java\r\npublic class Main {\r\n    static int horner(int a[], int x) {\r\n        switch (a.length) {\r\n            case 1:  return a[0];\r\n            default: return a[0] + x * horner(Arrays.copyOfRange(a, 1, a.length), x);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // 2x^3 - 6x^2 + 2x - 1 for x = 3 =&gt; 5\r\n        int[] poly = {-1, 2, -6, 2};\r\n        System.out.println(horner(poly, 3)); // 5\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Horner%27s_method#Polynomial_evaluation_and_long_division","title":"Horner&#39;s method using recursion in java with 2 parameters","body":"<p>As I suggested in the comment, keep chopping the head off the poly array and pass the chopped version down the recursion call, like so (<a href=\"https://en.wikipedia.org/wiki/Horner%27s_method#Polynomial_evaluation_and_long_division\" rel=\"nofollow noreferrer\">this</a> may help):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    static int horner(int a[], int x) {\n        switch (a.length) {\n            case 1:  return a[0];\n            default: return a[0] + x * horner(Arrays.copyOfRange(a, 1, a.length), x);\n        }\n    }\n\n    public static void main(String[] args) {\n        // 2x^3 - 6x^2 + 2x - 1 for x = 3 =&gt; 5\n        int[] poly = {-1, 2, -6, 2};\n        System.out.println(horner(poly, 3)); // 5\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":19378257,"reputation":35,"user_id":14170108,"display_name":"yungboi22"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74351151,"answer_count":2,"score":0,"last_activity_date":1667851494,"creation_date":1667841261,"question_id":74350392,"body_markdown":"[![Horners method](https://i.stack.imgur.com/wDq0D.png)](https://i.stack.imgur.com/wDq0D.png)\r\n\r\n\r\nHello, everyone. My current university assignment is to represent [Horner&#39;s method][1] using recursion. Before this task we had to do it with a loop, which was easy. But I have no idea how to do this using recursion with only 2 parameters which cannot be changed.\r\n\r\n```\r\npublic static double evalHornerRec(double[] a, double x)\r\n```\r\nThis is the function i have to use\r\n\r\n```\r\n   private static int horner(int a[], int x, int n){\r\n            int h;\r\n            if(n&gt;0)\r\n                h=horner(a, x, n-1);\r\n            else\r\n                return a[n];\r\n \r\n            return h*x+a[n];\r\n     }\r\n```\r\n\r\nI found something like this  but it has 3 parameters and not 2 \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Horner&#39;s_method","title":"Horner&#39;s method using recursion in java with 2 parameters","body":"<p><a href=\"https://i.stack.imgur.com/wDq0D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wDq0D.png\" alt=\"Horners method\" /></a></p>\n<p>Hello, everyone. My current university assignment is to represent <a href=\"https://en.wikipedia.org/wiki/Horner%27s_method\" rel=\"nofollow noreferrer\">Horner's method</a> using recursion. Before this task we had to do it with a loop, which was easy. But I have no idea how to do this using recursion with only 2 parameters which cannot be changed.</p>\n<pre><code>public static double evalHornerRec(double[] a, double x)\n</code></pre>\n<p>This is the function i have to use</p>\n<pre><code>   private static int horner(int a[], int x, int n){\n            int h;\n            if(n&gt;0)\n                h=horner(a, x, n-1);\n            else\n                return a[n];\n \n            return h*x+a[n];\n     }\n</code></pre>\n<p>I found something like this  but it has 3 parameters and not 2</p>\n"},{"tags":["java","intellij-13"],"comments":[{"owner":{"account_id":3206475,"reputation":2866,"user_id":2707463,"display_name":"JohnnyAW"},"score":2,"creation_date":1494617307,"post_id":43945121,"comment_id":74923117,"body_markdown":"maybe because you didnt import `java.nio.file.Path`?","body":"maybe because you didnt import <code>java.nio.file.Path</code>?"}],"answers":[{"tags":[],"owner":{"account_id":6535577,"reputation":5673,"user_id":5055190,"accept_rate":100,"display_name":"dumbPotato21"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1494617411,"creation_date":1494617411,"answer_id":43945179,"question_id":43945121,"body_markdown":"You didn&#39;t import `Path` . Do \r\n\r\n    import java.nio.file.Path\r\n    //...rest of imports and code","title":"cannot find symbol (path) in intellij","body":"<p>You didn't import <code>Path</code> . Do </p>\n\n<pre><code>import java.nio.file.Path\n//...rest of imports and code\n</code></pre>\n"}],"owner":{"account_id":1156557,"reputation":1037,"user_id":1136999,"accept_rate":52,"display_name":"Mohamed Amin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11567,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":43945179,"answer_count":1,"score":-1,"last_activity_date":1667851184,"creation_date":1494617198,"question_id":43945121,"body_markdown":"i tried to use java.nio.file package ,but when i use Path class using intellij,i got this error:\r\n\r\n    can&#39;t find symbol (path)\r\n\r\ncode:\r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    \r\n    \r\n    public class IO_METHODS {\r\n    \r\n        public static void main(String args[]){\r\n    \r\n        Path target= Paths.get(&quot;mytext.txt&quot;);\r\n        Path file= Files.createFile(target);\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nwhy did i get this error ?","title":"cannot find symbol (path) in intellij","body":"<p>i tried to use java.nio.file package ,but when i use Path class using intellij,i got this error:</p>\n<pre><code>can't find symbol (path)\n</code></pre>\n<p>code:</p>\n<pre><code>import java.nio.file.Files;\nimport java.nio.file.Paths;\n\n\npublic class IO_METHODS {\n\n    public static void main(String args[]){\n\n    Path target= Paths.get(&quot;mytext.txt&quot;);\n    Path file= Files.createFile(target);\n\n\n\n    }\n\n}\n</code></pre>\n<p>why did i get this error ?</p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1667376814,"post_id":74286089,"comment_id":131149981,"body_markdown":"Assign the cells a custom numerical format or pad the strings with zeroes.","body":"Assign the cells a custom numerical format or pad the strings with zeroes."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1667383008,"post_id":74286089,"comment_id":131152110,"body_markdown":"If you create a CSV file and open it with Excel you have no chance. Excel&#39;s automatisms will interpret this always as a number. You can manually import the data in Excel and set the field to text. Or you use a library which is able to create the Excel format directly and set the field type to text programmatically.","body":"If you create a CSV file and open it with Excel you have no chance. Excel&#39;s automatisms will interpret this always as a number. You can manually import the data in Excel and set the field to text. Or you use a library which is able to create the Excel format directly and set the field type to text programmatically."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667812985,"post_id":74286089,"comment_id":131248397,"body_markdown":"First are your item numbers padded with zeros? You don&#39;t show that you&#39;re padding them. Second, what about including `&quot;`s in the string, that way excel will treat them as strings. Maybe you can make a complete compilable example?","body":"First are your item numbers padded with zeros? You don&#39;t show that you&#39;re padding them. Second, what about including <code>&quot;</code>s in the string, that way excel will treat them as strings. Maybe you can make a complete compilable example?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667814852,"post_id":74286089,"comment_id":131249070,"body_markdown":"What if I you write the number surrounded by double quotes. or maybe a startng sngle quote?","body":"What if I you write the number surrounded by double quotes. or maybe a startng sngle quote?"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667821945,"post_id":74286089,"comment_id":131251477,"body_markdown":"Consider using Apache POI to directly create the Excel sheet, instead of using CSV. CSV has no concept of string types, number types, etc. That is entirely up to the thing loading the CSV files, and Excel likely reads it as &quot;this has only digits, so I&#39;ll treat it as a number&quot;.","body":"Consider using Apache POI to directly create the Excel sheet, instead of using CSV. CSV has no concept of string types, number types, etc. That is entirely up to the thing loading the CSV files, and Excel likely reads it as &quot;this has only digits, so I&#39;ll treat it as a number&quot;."}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667851162,"creation_date":1667812697,"answer_id":74344262,"question_id":74286089,"body_markdown":"To open the csv correctly you have to:\r\n\r\n1. Open an empty excel\r\n2. Click on Data -&gt; From text/CSV \r\n[![enter image description here][1]][1]\r\n3. Select your CSV file\r\n4. On the preview dialog box, on the Data Type Detection select &quot;**Do not detect data types**&quot; option.\r\n[![enter image description here][2]][2]\r\n5. Click Load\r\n6. Delete extra sheets (CSV file can contain only one sheet)&lt;br&gt;\r\n[![enter image description here][3]][3]\r\n7. Go to File -&gt; Export -&gt; Change File Type -&gt; Select CSV -&gt; Click on Save As \r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UXKUQ.png\r\n  [2]: https://i.stack.imgur.com/qioKh.png\r\n  [3]: https://i.stack.imgur.com/SDDwB.png\r\n  [4]: https://i.stack.imgur.com/nV2kz.png","title":"How to prevent Excel from removing zero(s) for number starting with zero(s) from java","body":"<p>To open the csv correctly you have to:</p>\n<ol>\n<li>Open an empty excel</li>\n<li>Click on Data -&gt; From text/CSV\n<a href=\"https://i.stack.imgur.com/UXKUQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UXKUQ.png\" alt=\"enter image description here\" /></a></li>\n<li>Select your CSV file</li>\n<li>On the preview dialog box, on the Data Type Detection select &quot;<strong>Do not detect data types</strong>&quot; option.\n<a href=\"https://i.stack.imgur.com/qioKh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qioKh.png\" alt=\"enter image description here\" /></a></li>\n<li>Click Load</li>\n<li>Delete extra sheets (CSV file can contain only one sheet)<br>\n<a href=\"https://i.stack.imgur.com/SDDwB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SDDwB.png\" alt=\"enter image description here\" /></a></li>\n<li>Go to File -&gt; Export -&gt; Change File Type -&gt; Select CSV -&gt; Click on Save As\n<a href=\"https://i.stack.imgur.com/nV2kz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nV2kz.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n"}],"owner":{"account_id":21389314,"reputation":1,"user_id":15753700,"display_name":"Ayush"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1667851162,"creation_date":1667376680,"question_id":74286089,"body_markdown":"I&#39;m creating CSV/XlS file using Java, I need to write a column having numbers like 005292, but even after writing the number as a string, excel sheet displays it as 5292.\r\n\r\n```\r\nStatefulBeanToCsv&lt;FepAccount&gt; writer = new StatefulBeanToCsvBuilder&lt;FepAndEabAccount&gt;(\r\n                    response.getWriter()).withSeparator(&#39;\\t&#39;).withOrderedResults(false).build();\r\n\r\n// write data to csv file\r\nwriter.write(fleetIncentiveService.downloadFepEabReport(request));\r\n```\r\nIn &quot;FepAccount&quot; I&#39;ve created POJO class for columns (all columns are of String type) using &quot;@CsvBindByName&quot;.\r\n\r\nFor example:\r\n     \r\n```\r\npublic class FepAccount { \r\n\t@CsvBindByName(column = &quot;ITEM_NUMBER&quot;)\r\n\tprotected String itemNumber;\r\n        \r\n        public String itemNumber() {\r\n\t\treturn itemNumber;\r\n\t}\r\n\tpublic void setItemNumber(String itemNumber) {\r\n\t\tthis.itemNumber= itemNumber;\r\n\t}\r\n\r\n}\r\n```\r\n","title":"How to prevent Excel from removing zero(s) for number starting with zero(s) from java","body":"<p>I'm creating CSV/XlS file using Java, I need to write a column having numbers like 005292, but even after writing the number as a string, excel sheet displays it as 5292.</p>\n<pre><code>StatefulBeanToCsv&lt;FepAccount&gt; writer = new StatefulBeanToCsvBuilder&lt;FepAndEabAccount&gt;(\n                    response.getWriter()).withSeparator('\\t').withOrderedResults(false).build();\n\n// write data to csv file\nwriter.write(fleetIncentiveService.downloadFepEabReport(request));\n</code></pre>\n<p>In &quot;FepAccount&quot; I've created POJO class for columns (all columns are of String type) using &quot;@CsvBindByName&quot;.</p>\n<p>For example:</p>\n<pre><code>public class FepAccount { \n    @CsvBindByName(column = &quot;ITEM_NUMBER&quot;)\n    protected String itemNumber;\n        \n        public String itemNumber() {\n        return itemNumber;\n    }\n    public void setItemNumber(String itemNumber) {\n        this.itemNumber= itemNumber;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","search","lucene","search-engine","fuzzy-search"],"answers":[{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667851132,"creation_date":1667851132,"answer_id":74352263,"question_id":74335065,"body_markdown":"To accomplish this you would have to extend and/or edit lucene code.  To support fuzzy matching, lucene compiles an `Automaton` using the `LevenshteinAutomata` class, which implements [this algorithm][1], and not only doesn&#39;t support edit weights, but only supports matching for up to 0 to 2 edits.\r\n\r\nHow one might edit this algorithm to produce an automaton that supports weighted edits is beyond my knowledge, but could be worth a try as it would make your customization simple (would only have to override the [`getAutomaton`][2] method) and would (theoretically) keep performance consistent.\r\n\r\nThe alternative would be to forgo the idea of an automaton to support fuzzy matching and simply implement a weighted levenshtein algorithm, like the one you have linked to, directly in the [actual fuzzy match check][3].  By doing this, however, you could pay a rather high performance cost depending on the nature of the fuzzy queries you handle and the content of your index.\r\n\r\n\r\n  [1]: https://dmice.ohsu.edu/bedricks/courses/cs655/pdf/readings/2002_Schulz.pdf\r\n  [2]: https://github.com/apache/lucene/blob/54fba99cb131c7414caf2c21b52aa990ac17db3e/lucene/core/src/java/org/apache/lucene/search/FuzzyQuery.java#L171\r\n  [3]: https://github.com/apache/lucene/blob/d5d6dc079395c47cd6d12dcce3bcfdd2c7d9dc63/lucene/core/src/java/org/apache/lucene/search/FuzzyTermsEnum.java#L275","title":"Custom Edit distance weights for operations in Lucene FuzzySearch","body":"<p>To accomplish this you would have to extend and/or edit lucene code.  To support fuzzy matching, lucene compiles an <code>Automaton</code> using the <code>LevenshteinAutomata</code> class, which implements <a href=\"https://dmice.ohsu.edu/bedricks/courses/cs655/pdf/readings/2002_Schulz.pdf\" rel=\"nofollow noreferrer\">this algorithm</a>, and not only doesn't support edit weights, but only supports matching for up to 0 to 2 edits.</p>\n<p>How one might edit this algorithm to produce an automaton that supports weighted edits is beyond my knowledge, but could be worth a try as it would make your customization simple (would only have to override the <a href=\"https://github.com/apache/lucene/blob/54fba99cb131c7414caf2c21b52aa990ac17db3e/lucene/core/src/java/org/apache/lucene/search/FuzzyQuery.java#L171\" rel=\"nofollow noreferrer\"><code>getAutomaton</code></a> method) and would (theoretically) keep performance consistent.</p>\n<p>The alternative would be to forgo the idea of an automaton to support fuzzy matching and simply implement a weighted levenshtein algorithm, like the one you have linked to, directly in the <a href=\"https://github.com/apache/lucene/blob/d5d6dc079395c47cd6d12dcce3bcfdd2c7d9dc63/lucene/core/src/java/org/apache/lucene/search/FuzzyTermsEnum.java#L275\" rel=\"nofollow noreferrer\">actual fuzzy match check</a>.  By doing this, however, you could pay a rather high performance cost depending on the nature of the fuzzy queries you handle and the content of your index.</p>\n"}],"owner":{"account_id":14871028,"reputation":169,"user_id":10738536,"display_name":"Mohamed Niyaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667851132,"creation_date":1667731083,"question_id":74335065,"body_markdown":"I came across this python library https://pypi.org/project/weighted-levenshtein/ which allows to specify different costs/weights for different operations(insertion, substitution, deletion and transposition) which is very helpful in detecting and correcting keystroke errors. \r\n\r\nI have been searching through lucene library [FuzzySearch][1] which uses Damerau-Levenstein distance to check if something like this is supported to specify different costs/weights for different operations but not able to find any. \r\n\r\nPlease let me know if there exists a way to specify our custom costs/weights within Lucene Fuzzy-Search.\r\n\r\nThanks in advance!\r\n\r\n\r\n  [1]: https://lucene.apache.org/core/7_3_1/core/org/apache/lucene/search/FuzzyQuery.html","title":"Custom Edit distance weights for operations in Lucene FuzzySearch","body":"<p>I came across this python library <a href=\"https://pypi.org/project/weighted-levenshtein/\" rel=\"nofollow noreferrer\">https://pypi.org/project/weighted-levenshtein/</a> which allows to specify different costs/weights for different operations(insertion, substitution, deletion and transposition) which is very helpful in detecting and correcting keystroke errors.</p>\n<p>I have been searching through lucene library <a href=\"https://lucene.apache.org/core/7_3_1/core/org/apache/lucene/search/FuzzyQuery.html\" rel=\"nofollow noreferrer\">FuzzySearch</a> which uses Damerau-Levenstein distance to check if something like this is supported to specify different costs/weights for different operations but not able to find any.</p>\n<p>Please let me know if there exists a way to specify our custom costs/weights within Lucene Fuzzy-Search.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","build.gradle","android-fileprovider","samsung-galaxy"],"answers":[{"tags":[],"owner":{"account_id":11908125,"reputation":444,"user_id":8714139,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595430288,"creation_date":1595430288,"answer_id":63037391,"question_id":63036519,"body_markdown":"The AppCompat dependency compiles the Fileprovider which is within the `androidx.core:core` package as its dependency. Therefore remove this line `implementation &#39;androidx.core:core:1.3.0&#39;` from your gradle file to see if it works. Because appcompat lib has version `1.1.0` while u still compiled `1.3.0` in your project.","title":"Runtimeexception: Unable to get androidx.core.content.FileProvider: ClassNotFoundExecption: appears on my Galaxy S8","body":"<p>The AppCompat dependency compiles the Fileprovider which is within the <code>androidx.core:core</code> package as its dependency. Therefore remove this line <code>implementation 'androidx.core:core:1.3.0'</code> from your gradle file to see if it works. Because appcompat lib has version <code>1.1.0</code> while u still compiled <code>1.3.0</code> in your project.</p>\n"},{"tags":[],"owner":{"account_id":17168963,"reputation":51,"user_id":12426506,"display_name":"Samiir Mru"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667850322,"creation_date":1667850322,"answer_id":74352134,"question_id":63036519,"body_markdown":"I have solved this problem.&lt;br/&gt; I set `androidx.core:core:1.8.0` in build.gradle inside `defaultConfig`.\r\n\r\n    configurations.all {\r\n        resolutionStrategy {\r\n            force &#39;androidx.core:core:1.8.0&#39;\r\n        }\r\n    }\r\n\r\nThen change `compileSdkVersion` to 32.&lt;br/&gt;\r\nClean project and rebuild project, finally everything be ok.","title":"Runtimeexception: Unable to get androidx.core.content.FileProvider: ClassNotFoundExecption: appears on my Galaxy S8","body":"<p>I have solved this problem.<br/> I set <code>androidx.core:core:1.8.0</code> in build.gradle inside <code>defaultConfig</code>.</p>\n<pre><code>configurations.all {\n    resolutionStrategy {\n        force 'androidx.core:core:1.8.0'\n    }\n}\n</code></pre>\n<p>Then change <code>compileSdkVersion</code> to 32.<br/>\nClean project and rebuild project, finally everything be ok.</p>\n"}],"owner":{"account_id":19135248,"reputation":33,"user_id":13976349,"display_name":"LostBoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3809,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667850322,"creation_date":1595427833,"question_id":63036519,"body_markdown":"Hello my dear friends,\r\n\r\nI am trying to develop media files to my server with the help of Retrofit and a Fileprovider. \r\n\r\nLike the title already describes my situation, am I looking for a solution of the following error. This error let the app crash during the launch while the app runs without issues on other phones. I am trying for a week now to fix this error and tried everything from Multidex integration, writing a new java path for my SDK, checking my permissions and clearing my mobile&#39;s cache. \r\n\r\nTo be honest, I am not really good at understanding the logcat when it comes to files in the background that I have not seen before. Apparently, the app does not find my Fileprovider class. I defined the Fileprovider in my manifest file and wrote a corresponding file_path.xml file. I could not find the need of a specific Java provider.class nor any gradle dependencies to make a fileprovider work. \r\n\r\nI am excited what you say to my problem and to my logcat. I appreciate every useful information!\r\n\r\nThank you for reading.\r\n\r\nMy Logcat:\r\n\r\n\r\n```\r\n  java.lang.RuntimeException: Unable to instantiate application com.example.loginandregister.MainActivity: java.lang.ClassCastException: com.example.loginandregister.MainActivity cannot be cast to android.app.Application\r\n        at android.app.LoadedApk.makeApplication(LoadedApk.java:979)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6030)\r\n        at android.app.ActivityThread.-wrap1(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764)\r\n        at android.os.Handler.dispatchMessage(Handler.java:105)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6938)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\r\n     Caused by: java.lang.ClassCastException: com.example.loginandregister.MainActivity cannot be cast to android.app.Application\r\n        at android.app.Instrumentation.newApplication(Instrumentation.java:1108)\r\n        at android.app.Instrumentation.newApplication(Instrumentation.java:1093)\r\n        at android.app.LoadedApk.makeApplication(LoadedApk.java:973)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6030)&#160;\r\n        at android.app.ActivityThread.-wrap1(Unknown Source:0)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:105)&#160;\r\n        at android.os.Looper.loop(Looper.java:164)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6938)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)&#160;\r\n\r\n```\r\n\r\nMy Manifest file:\r\n\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.retrofit_uploadmediafiles&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\n    &lt;application\r\n\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.ImageActivity&quot;/&gt;\r\n\r\n\r\n\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;com.example.retrofit_uploadmediafiles.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot;/&gt;\r\n        &lt;/provider&gt;\r\n    &lt;/application&gt;\r\n```\r\n\r\nMy Gradle file (I included many dependencies out of desperation ...):\r\n\r\n```\r\nandroid {\r\n    compileSdkVersion 29\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.retrofit_uploadmediafiles&quot;\r\n        minSdkVersion 23\r\n        targetSdkVersion 29\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n\r\n        multiDexEnabled true\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation &#39;androidx.core:core:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;androidx.test:runner:1.2.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n    implementation &#39;com.afollestad.material-dialogs:core:0.9.4.5&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n\r\n\r\n    implementation &quot;androidx.multidex:multidex:2.0.1&quot;\r\n\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    implementation &#39;com.rengwuxian.materialedittext:library:2.1.4&#39;\r\n\r\n    implementation group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.7&#39;\r\n}\r\n```\r\n\r\nMy Main Activity:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity  implements View.OnClickListener{\r\n    private Button image, video, pdf;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        MultiDex.install(this);\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_main);\r\n\r\n        image = findViewById(R.id.image);\r\n        video = findViewById(R.id.video);\r\n        pdf = findViewById(R.id.Pdf);\r\n\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n            image.setEnabled(false);\r\n            video.setEnabled(false);\r\n            pdf.setEnabled(false);\r\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE}, 0);\r\n        } else {\r\n            image.setEnabled(true);\r\n            video.setEnabled(true);\r\n            pdf.setEnabled(true);\r\n        }\r\n\r\n        image.setOnClickListener(this);\r\n        video.setOnClickListener(this);\r\n        pdf.setOnClickListener(this);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        if(requestCode == 0 ) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                image.setEnabled(true);\r\n                video.setEnabled(true);\r\n                pdf.setEnabled(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        switch (view.getId()) {\r\n            case R.id.image:\r\n                Intent intent = new Intent(this, ImageActivity.class);\r\n                startActivity(intent);\r\n                break;\r\n            case R.id.video:\r\n                //Intent intent2 = new Intent(this, VideoActivity.class);\r\n                //startActivity(intent2);   I am trying to make the image upload work for now \r\n                break;\r\n            case R.id.Pdf:\r\n                //Intent intent3 = new Intent(this, PdfActivity.class);\r\n                //startActivity(intent3);\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nI am a little bit overwhelmed by all these different software versions on my phone:\r\n\r\nAndroid version: 8.0.0\r\nSamsung Experience version: 9.0\r\nKnox version:3.0, API level 24\r\n\r\nLet me know if you need more information\r\n","title":"Runtimeexception: Unable to get androidx.core.content.FileProvider: ClassNotFoundExecption: appears on my Galaxy S8","body":"<p>Hello my dear friends,</p>\n<p>I am trying to develop media files to my server with the help of Retrofit and a Fileprovider.</p>\n<p>Like the title already describes my situation, am I looking for a solution of the following error. This error let the app crash during the launch while the app runs without issues on other phones. I am trying for a week now to fix this error and tried everything from Multidex integration, writing a new java path for my SDK, checking my permissions and clearing my mobile's cache.</p>\n<p>To be honest, I am not really good at understanding the logcat when it comes to files in the background that I have not seen before. Apparently, the app does not find my Fileprovider class. I defined the Fileprovider in my manifest file and wrote a corresponding file_path.xml file. I could not find the need of a specific Java provider.class nor any gradle dependencies to make a fileprovider work.</p>\n<p>I am excited what you say to my problem and to my logcat. I appreciate every useful information!</p>\n<p>Thank you for reading.</p>\n<p>My Logcat:</p>\n<pre><code>  java.lang.RuntimeException: Unable to instantiate application com.example.loginandregister.MainActivity: java.lang.ClassCastException: com.example.loginandregister.MainActivity cannot be cast to android.app.Application\n        at android.app.LoadedApk.makeApplication(LoadedApk.java:979)\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6030)\n        at android.app.ActivityThread.-wrap1(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6938)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n     Caused by: java.lang.ClassCastException: com.example.loginandregister.MainActivity cannot be cast to android.app.Application\n        at android.app.Instrumentation.newApplication(Instrumentation.java:1108)\n        at android.app.Instrumentation.newApplication(Instrumentation.java:1093)\n        at android.app.LoadedApk.makeApplication(LoadedApk.java:973)\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6030) \n        at android.app.ActivityThread.-wrap1(Unknown Source:0) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764) \n        at android.os.Handler.dispatchMessage(Handler.java:105) \n        at android.os.Looper.loop(Looper.java:164) \n        at android.app.ActivityThread.main(ActivityThread.java:6938) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374) \n\n</code></pre>\n<p>My Manifest file:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.retrofit_uploadmediafiles&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n\n    &lt;application\n\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;.ImageActivity&quot;/&gt;\n\n\n\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;com.example.retrofit_uploadmediafiles.fileprovider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot;/&gt;\n        &lt;/provider&gt;\n    &lt;/application&gt;\n</code></pre>\n<p>My Gradle file (I included many dependencies out of desperation ...):</p>\n<pre><code>android {\n    compileSdkVersion 29\n\n    defaultConfig {\n        applicationId &quot;com.example.retrofit_uploadmediafiles&quot;\n        minSdkVersion 23\n        targetSdkVersion 29\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n        multiDexEnabled true\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.core:core:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'androidx.test:runner:1.2.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    implementation 'com.afollestad.material-dialogs:core:0.9.4.5'\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n\n\n    implementation &quot;androidx.multidex:multidex:2.0.1&quot;\n\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n    implementation 'com.rengwuxian.materialedittext:library:2.1.4'\n\n    implementation group: 'commons-io', name: 'commons-io', version: '2.7'\n}\n</code></pre>\n<p>My Main Activity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity  implements View.OnClickListener{\n    private Button image, video, pdf;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        MultiDex.install(this);\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_main);\n\n        image = findViewById(R.id.image);\n        video = findViewById(R.id.video);\n        pdf = findViewById(R.id.Pdf);\n\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n            image.setEnabled(false);\n            video.setEnabled(false);\n            pdf.setEnabled(false);\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE}, 0);\n        } else {\n            image.setEnabled(true);\n            video.setEnabled(true);\n            pdf.setEnabled(true);\n        }\n\n        image.setOnClickListener(this);\n        video.setOnClickListener(this);\n        pdf.setOnClickListener(this);\n\n\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        if(requestCode == 0 ) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                image.setEnabled(true);\n                video.setEnabled(true);\n                pdf.setEnabled(true);\n            }\n        }\n    }\n\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n            case R.id.image:\n                Intent intent = new Intent(this, ImageActivity.class);\n                startActivity(intent);\n                break;\n            case R.id.video:\n                //Intent intent2 = new Intent(this, VideoActivity.class);\n                //startActivity(intent2);   I am trying to make the image upload work for now \n                break;\n            case R.id.Pdf:\n                //Intent intent3 = new Intent(this, PdfActivity.class);\n                //startActivity(intent3);\n                break;\n        }\n    }\n\n\n\n\n}\n</code></pre>\n<p>I am a little bit overwhelmed by all these different software versions on my phone:</p>\n<p>Android version: 8.0.0\nSamsung Experience version: 9.0\nKnox version:3.0, API level 24</p>\n<p>Let me know if you need more information</p>\n"},{"tags":["java","oracle","hibernate"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1667853092,"post_id":74352108,"comment_id":131262632,"body_markdown":"You would use a primary key class if your primary key consists of several columns that cannot be otherwise handled in JPA or Hibernate.","body":"You would use a primary key class if your primary key consists of several columns that cannot be otherwise handled in JPA or Hibernate."},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1667901161,"post_id":74352108,"comment_id":131272521,"body_markdown":"This can be generalized by saying: you need a primary key class if you need a primary key of a class not being a native Java class directly mapped by the ORM to a SQL one. And most of the time, it&#39;s because it&#39;s a compound key.","body":"This can be generalized by saying: you need a primary key class if you need a primary key of a class not being a native Java class directly mapped by the ORM to a SQL one. And most of the time, it&#39;s because it&#39;s a compound key."}],"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667850172,"creation_date":1667850172,"question_id":74352108,"body_markdown":"I am not familiar with Hibernate. I am trying to understand the purpose of defining a primary key class in Hibernate and where it would be appropriate. \r\n\r\nI have to add new classes to some old code (early versions of Hibernate). I have a table called LOG which has the following fields *among other fields*\r\n\r\n    ID NUMBER\r\n    TRANS_ID VARCHAR2(40)\r\n\r\n\r\nID is the primary key (populated by oracle sequence). TRANS_ID is unique and populated by the application. Only search needed is by the TRANS_ID. *There are no composite keys.*\r\n\r\nI believe I will need to define an entity class called Log.java and DAO class called LogDAO.java but do I need to define a LogPK.java for the Id field?  I would not like to define one if this is not needed in my situation.","title":"What is the purpose of a primary key class (xxxPK.java) in Hibernate/Java and when is it appropriate to define one?","body":"<p>I am not familiar with Hibernate. I am trying to understand the purpose of defining a primary key class in Hibernate and where it would be appropriate.</p>\n<p>I have to add new classes to some old code (early versions of Hibernate). I have a table called LOG which has the following fields <em>among other fields</em></p>\n<pre><code>ID NUMBER\nTRANS_ID VARCHAR2(40)\n</code></pre>\n<p>ID is the primary key (populated by oracle sequence). TRANS_ID is unique and populated by the application. Only search needed is by the TRANS_ID. <em>There are no composite keys.</em></p>\n<p>I believe I will need to define an entity class called Log.java and DAO class called LogDAO.java but do I need to define a LogPK.java for the Id field?  I would not like to define one if this is not needed in my situation.</p>\n"},{"tags":["java","selenium","google-chrome","automated-tests","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594902756,"creation_date":1594902387,"answer_id":62934669,"question_id":62933317,"body_markdown":"From the default list of devices on [tag:google-chrome] **Version 83.0.4103.116** I don&#39; see **`Pixel 3`** as a listed device.\r\n\r\nSnapshot A:\r\n\r\n[![listA][1]][1]\r\n\r\nSnapshot B:\r\n\r\n[![listB][2]][2]\r\n\r\nSnapshot C:\r\n\r\n[![listC][3]][3]\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo add a custom (new) device you have to add the device details in terms of:\r\n\r\n- `Device Name`\r\n- `width`\r\n- `height`\r\n- [`Device pixel ratio`](https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio)\r\n- [**`User agent string`**](https://developer.mozilla.org/en-US/docs/Glossary/User_agent)\r\n- **`User agent type`**\r\n- [`device type`](https://developers.google.com/web/tools/chrome-devtools/device-mode?utm_campaign=2016q3&amp;utm_medium=redirect&amp;utm_source=dcc#type)\r\n\r\nSnapshot:\r\n\r\n[![newDevice][4]][4]\r\n\r\n\r\n----------\r\n\r\n\r\nReference\r\n---------\r\n[**Add a custom mobile device**](https://developers.google.com/web/tools/chrome-devtools/device-mode?utm_campaign=2016q3&amp;utm_medium=redirect&amp;utm_source=dcc#custom)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SSfo4.png\r\n  [2]: https://i.stack.imgur.com/tD3L0.png\r\n  [3]: https://i.stack.imgur.com/zF1Oh.png\r\n  [4]: https://i.stack.imgur.com/RdtNu.png","title":"Unable to run mobile emulation in custome device","body":"<p>From the default list of devices on <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\">google-chrome</a> <strong>Version 83.0.4103.116</strong> I don' see <strong><code>Pixel 3</code></strong> as a listed device.</p>\n<p>Snapshot A:</p>\n<p><a href=\"https://i.stack.imgur.com/SSfo4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SSfo4.png\" alt=\"listA\" /></a></p>\n<p>Snapshot B:</p>\n<p><a href=\"https://i.stack.imgur.com/tD3L0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tD3L0.png\" alt=\"listB\" /></a></p>\n<p>Snapshot C:</p>\n<p><a href=\"https://i.stack.imgur.com/zF1Oh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zF1Oh.png\" alt=\"listC\" /></a></p>\n<hr />\n<h2>Solution</h2>\n<p>To add a custom (new) device you have to add the device details in terms of:</p>\n<ul>\n<li><code>Device Name</code></li>\n<li><code>width</code></li>\n<li><code>height</code></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio\" rel=\"nofollow noreferrer\"><code>Device pixel ratio</code></a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Glossary/User_agent\" rel=\"nofollow noreferrer\"><strong><code>User agent string</code></strong></a></li>\n<li><strong><code>User agent type</code></strong></li>\n<li><a href=\"https://developers.google.com/web/tools/chrome-devtools/device-mode?utm_campaign=2016q3&amp;utm_medium=redirect&amp;utm_source=dcc#type\" rel=\"nofollow noreferrer\"><code>device type</code></a></li>\n</ul>\n<p>Snapshot:</p>\n<p><a href=\"https://i.stack.imgur.com/RdtNu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RdtNu.png\" alt=\"newDevice\" /></a></p>\n<hr />\n<h2>Reference</h2>\n<p><a href=\"https://developers.google.com/web/tools/chrome-devtools/device-mode?utm_campaign=2016q3&amp;utm_medium=redirect&amp;utm_source=dcc#custom\" rel=\"nofollow noreferrer\"><strong>Add a custom mobile device</strong></a></p>\n"},{"tags":[],"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1594964898,"creation_date":1594964898,"answer_id":62947858,"question_id":62933317,"body_markdown":"Not sure whats wrong with the custom device in chrome. Even i print all devices using below code, It won&#39;t print created custom device.\r\n\r\n    try {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            Map map = mapper.readValue(\r\n                    new File(&quot;/Users/&lt;username&gt;/Library/Application Support/Google/Chrome/Default/Preferences&quot;),\r\n                    Map.class);\r\n            Map devTools = (Map) map.get(&quot;devtools&quot;);\r\n            Map preferences = (Map) devTools.get(&quot;preferences&quot;);\r\n            String standardEmulatedDeviceList = (String) preferences.get(&quot;standardEmulatedDeviceList&quot;);\r\n            List emulatorMap = mapper.readValue(standardEmulatedDeviceList, List.class);\r\n            System.out.println(emulatorMap.size());\r\n            for (Object object : emulatorMap) {\r\n                Map device = (Map) object;\r\n                System.out.println(device.get(&quot;title&quot;));\r\n            }\r\n        } catch (IOException ex) {\r\n            System.out.println(&quot;Look there is an error..&quot;);\r\n        }\r\n    }\r\n\r\nBut there is an alternative to do that. A device matrix can be created with required device height, width and pixel ratio. Pass that device matrix in Chrome Option instead of device name. Most important thing, must pass device user agent in order to make it behave like a device screen. [This][1] is a very good site to get device specifications.\r\n\r\nMy working code is here -\r\n\r\n    Map&lt;String, Object&gt; deviceMetrics = new HashMap&lt;&gt;();\r\n    deviceMetrics.put(&quot;width&quot;, 412);\r\n    deviceMetrics.put(&quot;height&quot;, 797);\r\n    deviceMetrics.put(&quot;pixelRatio&quot;, 1.0);\r\n    Map&lt;String, Object&gt; mobileEmulation = new HashMap&lt;&gt;();\r\n    mobileEmulation.put(&quot;deviceMetrics&quot;, deviceMetrics);\r\n    mobileEmulation.put(&quot;userAgent&quot;, &quot;Mozilla/5.0 (Linux; Android 9; Pixel 3 XL Build/PD1A.180621.003) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Mobile Safari/537.36&quot;);\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\r\n    WebDriver driver = new ChromeDriver(chromeOptions);\r\n\r\n\r\n  [1]: https://www.handsetdetection.com/device-detection-database/devices","title":"Unable to run mobile emulation in custome device","body":"<p>Not sure whats wrong with the custom device in chrome. Even i print all devices using below code, It won't print created custom device.</p>\n<pre><code>try {\n        ObjectMapper mapper = new ObjectMapper();\n        Map map = mapper.readValue(\n                new File(&quot;/Users/&lt;username&gt;/Library/Application Support/Google/Chrome/Default/Preferences&quot;),\n                Map.class);\n        Map devTools = (Map) map.get(&quot;devtools&quot;);\n        Map preferences = (Map) devTools.get(&quot;preferences&quot;);\n        String standardEmulatedDeviceList = (String) preferences.get(&quot;standardEmulatedDeviceList&quot;);\n        List emulatorMap = mapper.readValue(standardEmulatedDeviceList, List.class);\n        System.out.println(emulatorMap.size());\n        for (Object object : emulatorMap) {\n            Map device = (Map) object;\n            System.out.println(device.get(&quot;title&quot;));\n        }\n    } catch (IOException ex) {\n        System.out.println(&quot;Look there is an error..&quot;);\n    }\n}\n</code></pre>\n<p>But there is an alternative to do that. A device matrix can be created with required device height, width and pixel ratio. Pass that device matrix in Chrome Option instead of device name. Most important thing, must pass device user agent in order to make it behave like a device screen. <a href=\"https://www.handsetdetection.com/device-detection-database/devices\" rel=\"nofollow noreferrer\">This</a> is a very good site to get device specifications.</p>\n<p>My working code is here -</p>\n<pre><code>Map&lt;String, Object&gt; deviceMetrics = new HashMap&lt;&gt;();\ndeviceMetrics.put(&quot;width&quot;, 412);\ndeviceMetrics.put(&quot;height&quot;, 797);\ndeviceMetrics.put(&quot;pixelRatio&quot;, 1.0);\nMap&lt;String, Object&gt; mobileEmulation = new HashMap&lt;&gt;();\nmobileEmulation.put(&quot;deviceMetrics&quot;, deviceMetrics);\nmobileEmulation.put(&quot;userAgent&quot;, &quot;Mozilla/5.0 (Linux; Android 9; Pixel 3 XL Build/PD1A.180621.003) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Mobile Safari/537.36&quot;);\nChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\nWebDriver driver = new ChromeDriver(chromeOptions);\n</code></pre>\n"}],"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62947858,"answer_count":2,"score":0,"last_activity_date":1667849959,"creation_date":1594897458,"question_id":62933317,"body_markdown":"I have to run some testcases in different mobile view. I&#39;m trying test run in mobile emulation mode using Google Chrome. Testcases are working fine if  a device from existing list selected but while try with creating a custom device from here :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd running the test using below code : \r\n\r\n    @Test\r\n    public void responsive() {\r\n        String driverPath = &quot;/Users/resources/drivers/chromedriver&quot;;\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, driverPath);\r\n        Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;&gt;();\r\n        mobileEmulation.put(&quot;deviceName&quot;, &quot;Pixel 3&quot;);\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        chromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\r\n        WebDriver driver = new ChromeDriver(chromeOptions);\r\n        driver.get(&quot;https://www.google.com&quot;);\r\n    }\r\n\r\nCauses below exception:\r\n\r\n&gt; org.openqa.selenium.InvalidArgumentException: invalid argument: entry\r\n&gt; 0 of &#39;firstMatch&#39; is invalid from invalid argument: cannot parse\r\n&gt; capability: goog:chromeOptions from invalid argument: cannot parse\r\n&gt; mobileEmulation from invalid argument: &#39;Pixel 3&#39; must be a valid\r\n&gt; device from unknown error: must be a valid device Build info: version:\r\n&gt; &#39;3.13.0&#39;, revision: &#39;2f0d292&#39;, time: &#39;2018-06-25T15:24:21.231Z&#39;\r\n\r\nIs there any additional thing which require to run test in custom device ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PkS3B.png","title":"Unable to run mobile emulation in custome device","body":"<p>I have to run some testcases in different mobile view. I'm trying test run in mobile emulation mode using Google Chrome. Testcases are working fine if  a device from existing list selected but while try with creating a custom device from here :</p>\n<p><a href=\"https://i.stack.imgur.com/PkS3B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PkS3B.png\" alt=\"enter image description here\" /></a></p>\n<p>And running the test using below code :</p>\n<pre><code>@Test\npublic void responsive() {\n    String driverPath = &quot;/Users/resources/drivers/chromedriver&quot;;\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, driverPath);\n    Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;&gt;();\n    mobileEmulation.put(&quot;deviceName&quot;, &quot;Pixel 3&quot;);\n    ChromeOptions chromeOptions = new ChromeOptions();\n    chromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\n    WebDriver driver = new ChromeDriver(chromeOptions);\n    driver.get(&quot;https://www.google.com&quot;);\n}\n</code></pre>\n<p>Causes below exception:</p>\n<blockquote>\n<p>org.openqa.selenium.InvalidArgumentException: invalid argument: entry\n0 of 'firstMatch' is invalid from invalid argument: cannot parse\ncapability: goog:chromeOptions from invalid argument: cannot parse\nmobileEmulation from invalid argument: 'Pixel 3' must be a valid\ndevice from unknown error: must be a valid device Build info: version:\n'3.13.0', revision: '2f0d292', time: '2018-06-25T15:24:21.231Z'</p>\n</blockquote>\n<p>Is there any additional thing which require to run test in custom device ?</p>\n"},{"tags":["java","json","kotlin","compiler-errors"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1543768894,"post_id":53582212,"comment_id":94028051,"body_markdown":"Try putting the `-jar json.jar` last when running your jar file","body":"Try putting the <code>-jar json.jar</code> last when running your jar file"},{"owner":{"account_id":12359368,"reputation":185,"user_id":9014107,"display_name":"navin"},"score":0,"creation_date":1543826444,"post_id":53582212,"comment_id":94043324,"body_markdown":"Didn&#39;t work, got same error.","body":"Didn&#39;t work, got same error."}],"answers":[{"tags":[],"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1543839051,"creation_date":1543839051,"answer_id":53593614,"question_id":53582212,"body_markdown":"When you use `-jar`, the `-cp` argument is ignored, so you can&#39;t specify any additional dependencies. Instead, you need to specify both jars in the `-cp` argument:\r\n\r\n    java -cp json.jar:gson.jar JsonKt","title":"How to compile and run kotlin program in command line with external java library","body":"<p>When you use <code>-jar</code>, the <code>-cp</code> argument is ignored, so you can't specify any additional dependencies. Instead, you need to specify both jars in the <code>-cp</code> argument:</p>\n\n<pre><code>java -cp json.jar:gson.jar JsonKt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11259570,"reputation":916,"user_id":8258305,"accept_rate":60,"display_name":"Mohd Qasim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667849761,"creation_date":1667849761,"answer_id":74352028,"question_id":53582212,"body_markdown":"to run from command line, Kotlin program which is using external library\r\nfor compile :\r\n\r\n    kotlinc -cp &quot;C:\\Users\\&lt;user&gt;\\Desktop\\kotlin\\programs\\gson-2.10.jar&quot; GsonTest.kt\r\n\r\nfor run:\r\n\r\n    kotlin -cp &quot;.;C:\\Users\\&lt;user&gt;\\Desktop\\kotlin\\programs\\gson-2.10.jar&quot; GsonTestKt\r\n\r\nnote: please give full path location for external jar&#39;s as mention above, user will be your system name.","title":"How to compile and run kotlin program in command line with external java library","body":"<p>to run from command line, Kotlin program which is using external library\nfor compile :</p>\n<pre><code>kotlinc -cp &quot;C:\\Users\\&lt;user&gt;\\Desktop\\kotlin\\programs\\gson-2.10.jar&quot; GsonTest.kt\n</code></pre>\n<p>for run:</p>\n<pre><code>kotlin -cp &quot;.;C:\\Users\\&lt;user&gt;\\Desktop\\kotlin\\programs\\gson-2.10.jar&quot; GsonTestKt\n</code></pre>\n<p>note: please give full path location for external jar's as mention above, user will be your system name.</p>\n"}],"owner":{"account_id":12359368,"reputation":185,"user_id":9014107,"display_name":"navin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1599,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":53593614,"answer_count":2,"score":6,"last_activity_date":1667849761,"creation_date":1543767734,"question_id":53582212,"body_markdown":"I am trying kotlin for the first time.\r\n\r\nI was able to run compile the hello world program in kotlin on command line but I am not able to compile program where I want to include external java library\r\n\r\n    import com.google.gson.Gson\r\n    \r\n    data class Person(val name: String, val age: Int, val gender: String?)\r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n        println(&quot;Hello world&quot;);\r\n        val gson = Gson()\r\n        val person = Person(&quot;navin&quot;, 30, null)\r\n        val personJson = gson.toJson(person)\r\n        println(personJson)\r\n    }\r\n\r\nDirectory structure\r\n\r\n    ➜  kotlin tree\r\n    .\r\n    ├── gson.jar\r\n    ├── json.jar\r\n    └── json.kt\r\n    \r\n    0 directories, 3 files\r\n    ➜  kotlin \r\n\r\nCode compilation works fine but I am not able to run the program\r\n\r\n    ➜  kotlin kotlinc -classpath gson.jar json.kt -include-runtime -d json.jar\r\n    ➜  kotlin java -jar json.jar -cp gson.jar                                 \r\n    Hello world\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/gson/Gson\r\n            at JsonKt.main(json.kt:7)\r\n    Caused by: java.lang.ClassNotFoundException: com.google.gson.Gson\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n            ... 1 more\r\n    ➜  kotlin \r\n\r\nNeed help understanding how to run the above program.","title":"How to compile and run kotlin program in command line with external java library","body":"<p>I am trying kotlin for the first time.</p>\n\n<p>I was able to run compile the hello world program in kotlin on command line but I am not able to compile program where I want to include external java library</p>\n\n<pre><code>import com.google.gson.Gson\n\ndata class Person(val name: String, val age: Int, val gender: String?)\n\nfun main(args: Array&lt;String&gt;) {\n    println(\"Hello world\");\n    val gson = Gson()\n    val person = Person(\"navin\", 30, null)\n    val personJson = gson.toJson(person)\n    println(personJson)\n}\n</code></pre>\n\n<p>Directory structure</p>\n\n<pre><code>➜  kotlin tree\n.\n├── gson.jar\n├── json.jar\n└── json.kt\n\n0 directories, 3 files\n➜  kotlin \n</code></pre>\n\n<p>Code compilation works fine but I am not able to run the program</p>\n\n<pre><code>➜  kotlin kotlinc -classpath gson.jar json.kt -include-runtime -d json.jar\n➜  kotlin java -jar json.jar -cp gson.jar                                 \nHello world\nException in thread \"main\" java.lang.NoClassDefFoundError: com/google/gson/Gson\n        at JsonKt.main(json.kt:7)\nCaused by: java.lang.ClassNotFoundException: com.google.gson.Gson\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 1 more\n➜  kotlin \n</code></pre>\n\n<p>Need help understanding how to run the above program.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667848439,"post_id":74351733,"comment_id":131261256,"body_markdown":"And how is this related to Spring Boot? This seems more of a gradle question (and Spring Boot is just one of the dependencies).","body":"And how is this related to Spring Boot? This seems more of a gradle question (and Spring Boot is just one of the dependencies)."},{"owner":{"account_id":18518949,"reputation":163,"user_id":13492469,"display_name":"PassionateAbtCoding"},"score":0,"creation_date":1667848677,"post_id":74351733,"comment_id":131261343,"body_markdown":"Sorry let me remove that tag.","body":"Sorry let me remove that tag."}],"answers":[{"tags":[],"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667849129,"creation_date":1667849129,"answer_id":74351914,"question_id":74351733,"body_markdown":"With `gradle dependencies` you can see what brings this 2.8.6 version, let&#39;s call it x.y, with version v, and then add to your gradle.build this:\r\n\r\n    compile (&quot;x.y:v&quot;) {\r\n        exclude(module: &#39;com.google.code.gson&#39;)\r\n","title":"Gradle downloading the gson library of 2 different versions 2.9.0 and 2.8.6. How to force it to download only gson 2.9.0","body":"<p>With <code>gradle dependencies</code> you can see what brings this 2.8.6 version, let's call it x.y, with version v, and then add to your gradle.build this:</p>\n<pre><code>compile (&quot;x.y:v&quot;) {\n    exclude(module: 'com.google.code.gson')\n</code></pre>\n"}],"owner":{"account_id":18518949,"reputation":163,"user_id":13492469,"display_name":"PassionateAbtCoding"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667849129,"creation_date":1667848333,"question_id":74351733,"body_markdown":"I am facing a weird issue with Gradle. \r\n\r\nI have the below dependency in my gradle\r\n```\r\nimplementation &#39;com.google.code.gson:gson.2.9.0\r\n```\r\nBut it seems to be downloading gson 2.8.6 too and I am not sure why. \r\n\r\nThis is causing problems with whitesource as the gson 2.8.6 is flagged for a vulnerability.\r\n\r\nI tried doing the below steps\r\n\r\n```\r\nimplementation(&#39;com.google.code.gson:gson&#39;) {\r\n        version {\r\n            strictly &#39;2.9.0&#39;\r\n        }\r\n  }\r\n```\r\n\r\nand \r\n\r\n```\r\ncompileOnly(&#39;com.google.code.gson:gson:2.9.0&#39;){\r\n    force = true\r\n}\r\n```\r\nFurther I tried this too\r\n\r\n```\r\nconfigurations.all {\r\n  resolutionStrategy.eachDependency { details -&gt;\r\n    if (details.requested.group == &#39;com.google.code.gson&#39;) {\r\n      details.useVersion &quot;2.9.0&quot;\r\n    }\r\n  }\r\n}\r\n...\r\n....\r\ncompileOnly &#39;com.google.code.gson:gson&#39;\r\n\r\n```\r\n\r\nBut none of the above seem to be helping.\r\n","title":"Gradle downloading the gson library of 2 different versions 2.9.0 and 2.8.6. How to force it to download only gson 2.9.0","body":"<p>I am facing a weird issue with Gradle.</p>\n<p>I have the below dependency in my gradle</p>\n<pre><code>implementation 'com.google.code.gson:gson.2.9.0\n</code></pre>\n<p>But it seems to be downloading gson 2.8.6 too and I am not sure why.</p>\n<p>This is causing problems with whitesource as the gson 2.8.6 is flagged for a vulnerability.</p>\n<p>I tried doing the below steps</p>\n<pre><code>implementation('com.google.code.gson:gson') {\n        version {\n            strictly '2.9.0'\n        }\n  }\n</code></pre>\n<p>and</p>\n<pre><code>compileOnly('com.google.code.gson:gson:2.9.0'){\n    force = true\n}\n</code></pre>\n<p>Further I tried this too</p>\n<pre><code>configurations.all {\n  resolutionStrategy.eachDependency { details -&gt;\n    if (details.requested.group == 'com.google.code.gson') {\n      details.useVersion &quot;2.9.0&quot;\n    }\n  }\n}\n...\n....\ncompileOnly 'com.google.code.gson:gson'\n\n</code></pre>\n<p>But none of the above seem to be helping.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1618189370,"post_id":67050956,"comment_id":118519120,"body_markdown":"Is your file in a Source Folder in a Java Project, both of those terms in the sense that Eclipse&#39;s Java tools use them?","body":"Is your file in a Source Folder in a Java Project, both of those terms in the sense that Eclipse&#39;s Java tools use them?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1618213363,"post_id":67050956,"comment_id":118524218,"body_markdown":"Is this supposed to be a &#39;module-info.java&#39; file? The module info has a completely different format and does not contain Java classes. This should be giving you compile errors.","body":"Is this supposed to be a &#39;module-info.java&#39; file? The module info has a completely different format and does not contain Java classes. This should be giving you compile errors."}],"answers":[{"tags":[],"owner":{"account_id":9038628,"reputation":300,"user_id":8316946,"accept_rate":100,"display_name":"Brian Schack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667849042,"creation_date":1667849042,"answer_id":74351896,"question_id":67050956,"body_markdown":"Eclipse gave me the same error message for my project. &quot;The selection cannot be launched, and there are no recent launches.&quot;\r\n\r\nI navigated to Run menu –&gt; Run Configurations... –&gt; Java Application –&gt; Launch Configuration –&gt; Run. This ran my project without the error message.\r\n\r\nPlease see also the question, &quot;[The selection cannot be launches, and there are no recent launches][1]&quot; for Android.\r\n\r\n  [1]: https://stackoverflow.com/questions/19782107/the-selection-cannot-be-launches-and-there-are-no-recent-launches","title":"Why does &quot;the selection cannot be launched and there are no recent launches&quot; notice come out in Eclipse?","body":"<p>Eclipse gave me the same error message for my project. &quot;The selection cannot be launched, and there are no recent launches.&quot;</p>\n<p>I navigated to Run menu –&gt; Run Configurations... –&gt; Java Application –&gt; Launch Configuration –&gt; Run. This ran my project without the error message.</p>\n<p>Please see also the question, &quot;<a href=\"https://stackoverflow.com/questions/19782107/the-selection-cannot-be-launches-and-there-are-no-recent-launches\">The selection cannot be launches, and there are no recent launches</a>&quot; for Android.</p>\n"}],"owner":{"account_id":20653068,"reputation":1544,"user_id":15162879,"display_name":"Fabbiucciello"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667849042,"creation_date":1618182344,"question_id":67050956,"body_markdown":"Why does &quot;the selection cannot be launched and there are no recent launches&quot; notice is coming out in this case?\r\n```\r\nmodule try {\r\n\tpublic class module-info {\r\n\t\tpublic static void main(String args[]) {\r\n\t\t\tSystem.out.println(&quot;hello&quot;); \r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Why does &quot;the selection cannot be launched and there are no recent launches&quot; notice come out in Eclipse?","body":"<p>Why does &quot;the selection cannot be launched and there are no recent launches&quot; notice is coming out in this case?</p>\n<pre><code>module try {\n    public class module-info {\n        public static void main(String args[]) {\n            System.out.println(&quot;hello&quot;); \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","casting"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1667847822,"post_id":74351589,"comment_id":131261063,"body_markdown":"`(T) this` doesn&#39;t actually become `(String) this`.  It becomes `(Object) this`.  `T` is _erased_ at runtime, it doesn&#39;t have any effect on how the program works, only whether or not it compiles.","body":"<code>(T) this</code> doesn&#39;t actually become <code>(String) this</code>.  It becomes <code>(Object) this</code>.  <code>T</code> is <i>erased</i> at runtime, it doesn&#39;t have any effect on how the program works, only whether or not it compiles."},{"owner":{"account_id":5737531,"reputation":199,"user_id":4531148,"accept_rate":80,"display_name":"Whirvis"},"score":0,"creation_date":1667847961,"post_id":74351589,"comment_id":131261115,"body_markdown":"I see, that makes sense. Thank you @LouisWasserman ! If you post this as the answer to my question, I&#39;ll be happy to upvote it and mark it as the solution.","body":"I see, that makes sense. Thank you @LouisWasserman ! If you post this as the answer to my question, I&#39;ll be happy to upvote it and mark it as the solution."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667848234,"creation_date":1667848234,"answer_id":74351712,"question_id":74351589,"body_markdown":"Louis Wasserman correctly notes that your &quot;cast&quot; to `T` is erased to `Object` at compile-time, but you&#39;re on the right track. Instead, however, the cast that fails will be inserted in the code that relies on the generic:\r\n\r\n```\r\npublic class Animal&lt;T&gt; {\r\n  T value;\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  public Animal() {\r\n    this.value = (T) this;\r\n  }\r\n\r\n  T getValue() {\r\n    return value;\r\n  }\r\n}\r\n```\r\n\r\nSo far this in itself won&#39;t cause an exception, since the physical field type of `value` is `Object`. However, this is where you&#39;ll get the `ClassCastException`:\r\n\r\n```\r\nvoid thisFails() {\r\n  Animal&lt;String&gt; animal = new Animal();\r\n  // ^ animal.value is not a String!\r\n\r\n  String value = animal.getValue();\r\n  // This is implemented by the compiler as\r\n  // `String value = (String) animal.getValue()`\r\n  // and *this* will fail at runtime with ClassCastException.\r\n}","title":"Why does this unchecked cast NOT cause a ClassCastException?","body":"<p>Louis Wasserman correctly notes that your &quot;cast&quot; to <code>T</code> is erased to <code>Object</code> at compile-time, but you're on the right track. Instead, however, the cast that fails will be inserted in the code that relies on the generic:</p>\n<pre><code>public class Animal&lt;T&gt; {\n  T value;\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  public Animal() {\n    this.value = (T) this;\n  }\n\n  T getValue() {\n    return value;\n  }\n}\n</code></pre>\n<p>So far this in itself won't cause an exception, since the physical field type of <code>value</code> is <code>Object</code>. However, this is where you'll get the <code>ClassCastException</code>:</p>\n<pre><code>void thisFails() {\n  Animal&lt;String&gt; animal = new Animal();\n  // ^ animal.value is not a String!\n\n  String value = animal.getValue();\n  // This is implemented by the compiler as\n  // `String value = (String) animal.getValue()`\n  // and *this* will fail at runtime with ClassCastException.\n}\n</code></pre>\n"}],"owner":{"account_id":5737531,"reputation":199,"user_id":4531148,"accept_rate":80,"display_name":"Whirvis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74351712,"answer_count":1,"score":1,"last_activity_date":1667848234,"creation_date":1667847565,"question_id":74351589,"body_markdown":"I am doing an experiment with generics, and I recently came across this phenomenon. In a constructor for a parameterized class, I am doing an unchecked cast. I know this is bad practice (my IDE also gives me a warning, as it should). In my `main()` method, I am expecting the first line to run successfully and for the second to cause a `ClassCastException` to be thrown. However, this does not happen.\r\n\r\nI expect the line `Animal&lt;String&gt; bad = new Animal()` to throw an exception, as `(T) this` in the `Animal` constructor would effectively become `(String) this` where `this` is of type `Animal`; which is of course an invalid cast. However, this does not happen. The program runs successfully and exits.\r\n\r\n    public class Generics {\r\n\r\n        public static class Animal&lt;T&gt; {\r\n\r\n            private final T value;\r\n\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            public Animal() {\r\n                this.value = (T) this;\r\n                System.out.println(value.getClass());\r\n            }\r\n\r\n        }\r\n\r\n        public static class Cat extends Animal&lt;Cat&gt; {\r\n\r\n            public Cat() {\r\n                super(); /* of course, this works */\r\n            }\r\n\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Cat cat = new Cat(); /* all good */\r\n            Animal&lt;String&gt; test = new Animal&lt;&gt;();\r\n        }\r\n\r\n    }\r\n\r\nFurthermore, printing the value of `value.getClass()` yields an unexpected output:\r\n\r\n    Generics$Cat    /* as expected */\r\n    Generics$Animal /* expected a ClassCastException here */\r\n\r\nI know this is an odd way to use generics, but as I said earlier, this is simply an experiment. I just want to know why this code runs without an exception being thrown. If you need any more information, please let me know in the comments and I will edit the question accordingly. Thank you!\r\n\r\nI also realize that this post is similar [this question.][1] However, I&#39;m not entirely sure what the author of that question is trying to do there as his code is structured differently from mine.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54797702/no-classcastexception-on-wrong-generic-cast-java","title":"Why does this unchecked cast NOT cause a ClassCastException?","body":"<p>I am doing an experiment with generics, and I recently came across this phenomenon. In a constructor for a parameterized class, I am doing an unchecked cast. I know this is bad practice (my IDE also gives me a warning, as it should). In my <code>main()</code> method, I am expecting the first line to run successfully and for the second to cause a <code>ClassCastException</code> to be thrown. However, this does not happen.</p>\n<p>I expect the line <code>Animal&lt;String&gt; bad = new Animal()</code> to throw an exception, as <code>(T) this</code> in the <code>Animal</code> constructor would effectively become <code>(String) this</code> where <code>this</code> is of type <code>Animal</code>; which is of course an invalid cast. However, this does not happen. The program runs successfully and exits.</p>\n<pre><code>public class Generics {\n\n    public static class Animal&lt;T&gt; {\n\n        private final T value;\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        public Animal() {\n            this.value = (T) this;\n            System.out.println(value.getClass());\n        }\n\n    }\n\n    public static class Cat extends Animal&lt;Cat&gt; {\n\n        public Cat() {\n            super(); /* of course, this works */\n        }\n\n    }\n\n    public static void main(String[] args) {\n        Cat cat = new Cat(); /* all good */\n        Animal&lt;String&gt; test = new Animal&lt;&gt;();\n    }\n\n}\n</code></pre>\n<p>Furthermore, printing the value of <code>value.getClass()</code> yields an unexpected output:</p>\n<pre><code>Generics$Cat    /* as expected */\nGenerics$Animal /* expected a ClassCastException here */\n</code></pre>\n<p>I know this is an odd way to use generics, but as I said earlier, this is simply an experiment. I just want to know why this code runs without an exception being thrown. If you need any more information, please let me know in the comments and I will edit the question accordingly. Thank you!</p>\n<p>I also realize that this post is similar <a href=\"https://stackoverflow.com/questions/54797702/no-classcastexception-on-wrong-generic-cast-java\">this question.</a> However, I'm not entirely sure what the author of that question is trying to do there as his code is structured differently from mine.</p>\n"},{"tags":["java","export"],"comments":[{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1663959082,"post_id":73831699,"comment_id":130370238,"body_markdown":"Your `ThingThatWorks.java` file contains a class with a different name. Is this a typo from writing this question or was it the same way on your system?","body":"Your <code>ThingThatWorks.java</code> file contains a class with a different name. Is this a typo from writing this question or was it the same way on your system?"},{"owner":{"account_id":18853103,"reputation":23,"user_id":13751764,"display_name":"Manthor"},"score":0,"creation_date":1663959511,"post_id":73831699,"comment_id":130370350,"body_markdown":"It&#39;s the same way as on my system. I&#39;m not sure what mean by that it &#39;contains a class with a different name,&#39; unless you mean the class name itself.","body":"It&#39;s the same way as on my system. I&#39;m not sure what mean by that it &#39;contains a class with a different name,&#39; unless you mean the class name itself."},{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1663959653,"post_id":73831699,"comment_id":130370375,"body_markdown":"Ironically I made a typo in my previous comment in the way I thought you might have. The issue is that Java expects a file named `Xyz.java` to have a class `Xyz`. However since `ThingThatWorks` is in a file called `ThingsThatWork.java` it will be expecting the class inside it to be called `ThingsThatWork`.","body":"Ironically I made a typo in my previous comment in the way I thought you might have. The issue is that Java expects a file named <code>Xyz.java</code> to have a class <code>Xyz</code>. However since <code>ThingThatWorks</code> is in a file called <code>ThingsThatWork.java</code> it will be expecting the class inside it to be called <code>ThingsThatWork</code>."},{"owner":{"account_id":18853103,"reputation":23,"user_id":13751764,"display_name":"Manthor"},"score":0,"creation_date":1663960361,"post_id":73831699,"comment_id":130370596,"body_markdown":"Ah, okay, I see what you mean now. In this case, yes I did make a typo when writing out my question and added an extra s. The class file in Eclipse is ThingThatWorks.","body":"Ah, okay, I see what you mean now. In this case, yes I did make a typo when writing out my question and added an extra s. The class file in Eclipse is ThingThatWorks."}],"answers":[{"tags":[],"owner":{"account_id":26356889,"reputation":312,"user_id":20013747,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663961786,"creation_date":1663961786,"answer_id":73832247,"question_id":73831699,"body_markdown":"Ok, try the following when compiling:\r\n1. Open a command line and use the cd command to change to the directory with the java and class files\r\n2. run the command\r\n\r\n&gt; fsutil file createnew manifest.man 0\r\n\r\n3. open the created manifest and add the following to it:\r\n\r\n&gt; Manifest-Version: 1.0\r\n\r\n&gt; Main-Class: ProgramJava\r\n\r\n&gt; Created-By: 1.8.0_144 (Oracle Corporation)\r\n\r\n4. Go back to the command line and run the command\r\n\r\n&gt; jar cmf manifest.man Program.jar *.class\r\n\r\n5. Done. You can run it using the command\r\n\r\n&gt; java -jar Program.jar\r\n\r\nor\r\n\r\n&gt; java -cp Program.jar ProgramJava\r\n","title":"Turning Java Project into something runnable","body":"<p>Ok, try the following when compiling:</p>\n<ol>\n<li>Open a command line and use the cd command to change to the directory with the java and class files</li>\n<li>run the command</li>\n</ol>\n<blockquote>\n<p>fsutil file createnew manifest.man 0</p>\n</blockquote>\n<ol start=\"3\">\n<li>open the created manifest and add the following to it:</li>\n</ol>\n<blockquote>\n<p>Manifest-Version: 1.0</p>\n</blockquote>\n<blockquote>\n<p>Main-Class: ProgramJava</p>\n</blockquote>\n<blockquote>\n<p>Created-By: 1.8.0_144 (Oracle Corporation)</p>\n</blockquote>\n<ol start=\"4\">\n<li>Go back to the command line and run the command</li>\n</ol>\n<blockquote>\n<p>jar cmf manifest.man Program.jar *.class</p>\n</blockquote>\n<ol start=\"5\">\n<li>Done. You can run it using the command</li>\n</ol>\n<blockquote>\n<p>java -jar Program.jar</p>\n</blockquote>\n<p>or</p>\n<blockquote>\n<p>java -cp Program.jar ProgramJava</p>\n</blockquote>\n"}],"owner":{"account_id":18853103,"reputation":23,"user_id":13751764,"display_name":"Manthor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1664032191,"answer_count":1,"score":0,"last_activity_date":1667848103,"creation_date":1663958074,"question_id":73831699,"body_markdown":"I work for the imaging department at the university I go to and one of the things we have to do is constantly copy/paste these canned responses when dealing with tickets before doubling back and filling in all the empty spaces with the information specific to that ticket. It was tedious enough to inspire me to make a java project in my free time to generate these responses with all the information filled in in an effort to save some time/practice coding.\r\n\r\nIn this project are two classes, one that holds all my ticket info and one that runs the main part of the program (Ticket.java and ThingThatWork.java respectively).\r\n\r\nTicket.java\r\n\r\n    package quickResponse;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Ticket {\r\n    \tScanner scanner = new Scanner(System.in);\t\r\n    \tString make;\r\n    \tString model;\r\n    \tString whiteTag;\r\n    \tString poNumber;\r\n    \tString SN;\r\n    \tString signatureName;\r\n    \t\r\n    \tpublic Ticket() {\r\n    \t\tsetMake(&quot;&quot;);\r\n    \t\tsetModel(&quot;&quot;);\r\n    \t\tsetWhiteTag(&quot;&quot;);\r\n    \t\tsetSN(&quot;&quot;);\r\n    \t\tsetSignatureName(&quot;&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic Ticket(String make, String model, String whiteTag) {\r\n    \t\tsetMake(make);\r\n    \t\tsetModel(model);\r\n    \t\tsetWhiteTag(whiteTag);\r\n    \t\tsetSN(SN);\r\n    \t\tsetSignatureName(signatureName);\r\n    \t}\r\n    \t\r\n    \tpublic String getMake() {\r\n    \t\treturn make;\r\n    \t}\r\n    \t\r\n    \tpublic String getModel() {\r\n    \t\treturn model;\r\n    \t}\r\n    \t\r\n    \tpublic String getWhiteTag() {\r\n    \t\treturn whiteTag;\r\n    \t}\r\n    \t\r\n    \tpublic String getPoNumber() {\r\n    \t\treturn poNumber;\r\n    \t}\r\n    \tpublic String getSN() {\r\n    \t\treturn SN;\r\n    \t}\r\n    \tpublic String getSignatureName() {\r\n    \t\treturn signatureName;\r\n    \t}\r\n    \t\r\n    \tpublic void setMake(String make) {\r\n    \t\tthis.make = make;\r\n    \t}\r\n    \t\r\n    \tpublic void setModel(String model) {\r\n    \t\tthis.model = model;\r\n    \t}\r\n    \t\r\n    \tpublic void setWhiteTag(String whiteTag) {\r\n    \t\tthis.whiteTag = whiteTag;\r\n    \t}\r\n    \t\r\n    \tpublic void setPoNumber(String poNumber) {\r\n    \t\tthis.poNumber = poNumber;\r\n    \t}\r\n    \tpublic void setSN(String SN) {\r\n    \t\tthis.SN = SN;\r\n    \t}\r\n    \tpublic void setSignatureName(String signatureName) {\r\n    \t\tthis.signatureName = signatureName;\r\n    \t}\r\n    \t\r\n    \tpublic void ticketInfo(boolean typeOfImage) {\r\n    \t\t\tscanner.nextLine();\r\n    \t\t\tSystem.out.println(&quot;Make: &quot;);\r\n    \t\t\tsetMake(scanner.nextLine());\r\n    \t\t\tSystem.out.println(&quot;Model: &quot;);\r\n    \t\t\tsetModel(scanner.nextLine());\r\n    \t\t\tSystem.out.println(&quot;White Tag: &quot;);\r\n    \t\t\tsetWhiteTag(scanner.nextLine());\r\n    \t\t\tSystem.out.println(&quot;Serial Number: &quot;);\r\n    \t\t\tsetSN(scanner.nextLine());\r\n    \t\t\tif(typeOfImage == true) {\r\n    \t\t\t\tSystem.out.println(&quot;PO Number: &quot;);\r\n    \t\t\t\tsetPoNumber(scanner.nextLine());\r\n    \t\t}\r\n    \t\t\tSystem.out.println(&quot;Enter Name: &quot;);\r\n    \t\t\tsetSignatureName(scanner.nextLine());\r\n    \t}\r\n    \t\r\n    \tpublic boolean imageOrReimage() {\r\n    \t\tint bool = 0;\r\n    \t\twhile(bool != 1 || bool != 2) {\r\n    \t\t\tSystem.out.println(&quot;Is this computer for imaging or reimaging?&quot;);\r\n    \t\t\tSystem.out.println(&quot;1. Imaging&quot;);\r\n    \t\t\tSystem.out.println(&quot;2. Reimaging&quot;);\r\n    \t\t\tbool = scanner.nextInt();\r\n    \t\t\t\r\n    \t\t\tif(bool &gt;= 3) {\r\n    \t\t\t\tSystem.out.println(&quot;Not a valid selection!&quot;);\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tif(bool == 1) {\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t\tif(bool == 2) {\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \tpublic String desktopOrLaptop() {\r\n    \t\tint bool = 0;\r\n    \t\twhile(bool != 1 || bool != 2) {\r\n    \t\t\tSystem.out.println(&quot;Is this a laptop or desktop?&quot;);\r\n    \t\t\tSystem.out.println(&quot;1. Laptop&quot;);\r\n    \t\t\tSystem.out.println(&quot;2. Desktop&quot;);\r\n    \t\t\tbool = scanner.nextInt();\r\n    \t\t\t\r\n    \t\t\tif(bool &gt;= 3) {\r\n    \t\t\t\tSystem.out.println(&quot;Not a valid selection!&quot;);\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tif(bool == 1) {\r\n    \t\t\t\t\treturn &quot;laptop&quot;;\r\n    \t\t\t\t}\r\n    \t\t\t\tif(bool == 2) {\r\n    \t\t\t\t\treturn &quot;desktop&quot;;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn &quot; &quot;;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic String generateTitle(boolean imageOrReimage) {\r\n    \t\tif(imageOrReimage == true) {\r\n    \t\t\treturn &quot;Image | &quot;+getMake()+&quot; &quot;+getModel()+&quot; | WT#: &quot;+getWhiteTag()+&quot; | PO#: &quot;+getPoNumber();\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\treturn &quot;Reimage | &quot;+getMake()+&quot; &quot;+getModel()+&quot; | WT#: &quot;+getWhiteTag();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic String generateMessageBody(boolean imageOrReimage, String desktopOrLaptop) {\r\n    \t\tif (imageOrReimage == true) {\r\n    \t\t\treturn &quot;Hello,\\n\\nWe&#39;ve recieved a new &quot;+getMake()+&quot; &quot;+getModel()+&quot; with white inventory tag #&quot;+\r\n    \t\t\t\t\tgetWhiteTag()+&quot; and PO#&quot;+getPoNumber()+&quot;. Before we can begin working on this device, &quot;+\r\n    \t\t\t\t\t&quot;could you please answer the following questions for us:\\n\\n*Who will this &quot;+desktopOrLaptop+\r\n    \t\t\t\t\t&quot; be used by?\\n*Where will this &quot;+desktopOrLaptop+&quot; be located?\\n*Will any additional &quot;+\r\n    \t\t\t\t\t&quot;programs need to be installed? Please provide any licensing information for paid programs &quot;+\r\n    \t\t\t\t\t&quot;such as Adobe Acrobat Pro.\\n\\nThanks,\\n&quot;+getSignatureName()+&quot;\\nTechnology Support&quot;\r\n    \t\t\t\t\t+&quot;\\nThe University of Tyler at Texas.&quot;;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\treturn &quot;Hello,\\n\\nWe have picked up a &quot;+getMake()+&quot; &quot;+getModel()+&quot; with white inventory tag #&quot;+\r\n    \t\t\t\t\tgetWhiteTag()+&quot;.\\n\\nJust for confirmation before we begin the reimaging process,&quot;+\r\n    \t\t\t\t\t&quot; could you please answer the following questions:\\n\\n*Will any data need to be&quot;+\r\n    \t\t\t\t\t&quot; backed up before it is wiped and reimaged?\\n*Who will this device belong to, along&quot;+\r\n    \t\t\t\t\t&quot; with their room number location?\\n*Will any additional programs need to be installed?&quot;+\r\n    \t\t\t\t\t&quot; Please provide the licensing information for paid programs such as Adobe Acrobat Pro.&quot;+\r\n    \t\t\t\t\t&quot;\\n\\nThanks,\\n&quot;+getSignatureName()+&quot;\\nTechnology Support\\nThe University of Texas at Tyler&quot;;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic String generateWorkNotes(boolean imageOrReimage) {\r\n    \t\tString string;\r\n    \t\tstring = &quot;Make: &quot;+getMake()+&quot;\\nModel: &quot;+getModel()+&quot;\\nWhite Tag: &quot;+getWhiteTag()\r\n    \t\t\t+&quot;\\nS/N: &quot;+getSN();\r\n    \t\tif(imageOrReimage == true) {\r\n    \t\t\tstring = string+&quot;\\nPO Number: &quot;+getPoNumber();\r\n    \t\t}\r\n    \t\treturn string;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Make: &quot;+getMake()+&quot;\\nModel: &quot;+getModel()+&quot;\\nWhite Tag: &quot;+getWhiteTag()\r\n    \t\t\t+&quot;\\nS/N: &quot;+getSN()+&quot;\\nPO Number: &quot;+getPoNumber();\t\r\n    \t}\r\n    \t@Override\r\n    \tpublic boolean equals(Object o) {\r\n    \t\treturn toString().equals(o.toString());\r\n    \t}\r\n    }\r\n\r\n\r\nThingThatWorks.java\r\n\r\n    package quickResponse;\r\n    \r\n    public class ThingThatWorks {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tTicket newTicket = new Ticket();\r\n    \t\tboolean imageOrReimage = false;\r\n    \t\tString desktopOrLaptop = &quot;&quot;;\r\n    \t\timageOrReimage = newTicket.imageOrReimage();\r\n    \t\tnewTicket.ticketInfo(imageOrReimage);\r\n    \t\t\r\n    \t\tif(imageOrReimage == true) \r\n    \t\t\tdesktopOrLaptop = newTicket.desktopOrLaptop();\r\n    \t\t\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(newTicket.generateTitle(imageOrReimage));\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(newTicket.generateMessageBody(imageOrReimage, desktopOrLaptop));\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(&quot;---------------------------&quot;);\r\n    \t\tSystem.out.println(newTicket.generateWorkNotes(imageOrReimage));\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nI want to be able to transform this into either a runnable JAR or an .exe file so I can run it on my work computer when making tickets. Unfortunately what youtube videos I&#39;ve watched aren&#39;t clear and when I just export the project as a runnable .jar file from Eclipse, it gives me a nonspecific JNI error (a JNI error has occurred, please check your installation and try again) and a nonspecific Java Exception error (A Java Exception has occurred). I&#39;m not sure where I&#39;m going wrong, nor am I sure if I have everything I need written in my code to throw up a cmd window, allow me to input what I need, and hang there long enough to let me copy it.\r\n\r\nAny help would be appreciated.\r\n\r\nEdit: Managed to get the errors to go away when I realized I was writing this in Java 17 and then compiling it via Java 8. I installed Java 17, re-exported the program, and now it does nothing when running instead of giving me errors.\r\n\r\nOne thing I have tried is running it via command line, but no matter what I do it gives me the error &quot;Unable to access jarfile&quot;\r\n\r\nEdit 2: Adam&#39;s initial answer ended up being the key, I was trying to run it as java 8 when it complied as java 17. After ensuring that I was using the right version and not an outdated install, I managed to get the program working from command line.\r\n\r\nThank you all for the help\r\n ","title":"Turning Java Project into something runnable","body":"<p>I work for the imaging department at the university I go to and one of the things we have to do is constantly copy/paste these canned responses when dealing with tickets before doubling back and filling in all the empty spaces with the information specific to that ticket. It was tedious enough to inspire me to make a java project in my free time to generate these responses with all the information filled in in an effort to save some time/practice coding.</p>\n<p>In this project are two classes, one that holds all my ticket info and one that runs the main part of the program (Ticket.java and ThingThatWork.java respectively).</p>\n<p>Ticket.java</p>\n<pre><code>package quickResponse;\n\nimport java.util.Scanner;\n\npublic class Ticket {\n    Scanner scanner = new Scanner(System.in);   \n    String make;\n    String model;\n    String whiteTag;\n    String poNumber;\n    String SN;\n    String signatureName;\n    \n    public Ticket() {\n        setMake(&quot;&quot;);\n        setModel(&quot;&quot;);\n        setWhiteTag(&quot;&quot;);\n        setSN(&quot;&quot;);\n        setSignatureName(&quot;&quot;);\n    }\n    \n    public Ticket(String make, String model, String whiteTag) {\n        setMake(make);\n        setModel(model);\n        setWhiteTag(whiteTag);\n        setSN(SN);\n        setSignatureName(signatureName);\n    }\n    \n    public String getMake() {\n        return make;\n    }\n    \n    public String getModel() {\n        return model;\n    }\n    \n    public String getWhiteTag() {\n        return whiteTag;\n    }\n    \n    public String getPoNumber() {\n        return poNumber;\n    }\n    public String getSN() {\n        return SN;\n    }\n    public String getSignatureName() {\n        return signatureName;\n    }\n    \n    public void setMake(String make) {\n        this.make = make;\n    }\n    \n    public void setModel(String model) {\n        this.model = model;\n    }\n    \n    public void setWhiteTag(String whiteTag) {\n        this.whiteTag = whiteTag;\n    }\n    \n    public void setPoNumber(String poNumber) {\n        this.poNumber = poNumber;\n    }\n    public void setSN(String SN) {\n        this.SN = SN;\n    }\n    public void setSignatureName(String signatureName) {\n        this.signatureName = signatureName;\n    }\n    \n    public void ticketInfo(boolean typeOfImage) {\n            scanner.nextLine();\n            System.out.println(&quot;Make: &quot;);\n            setMake(scanner.nextLine());\n            System.out.println(&quot;Model: &quot;);\n            setModel(scanner.nextLine());\n            System.out.println(&quot;White Tag: &quot;);\n            setWhiteTag(scanner.nextLine());\n            System.out.println(&quot;Serial Number: &quot;);\n            setSN(scanner.nextLine());\n            if(typeOfImage == true) {\n                System.out.println(&quot;PO Number: &quot;);\n                setPoNumber(scanner.nextLine());\n        }\n            System.out.println(&quot;Enter Name: &quot;);\n            setSignatureName(scanner.nextLine());\n    }\n    \n    public boolean imageOrReimage() {\n        int bool = 0;\n        while(bool != 1 || bool != 2) {\n            System.out.println(&quot;Is this computer for imaging or reimaging?&quot;);\n            System.out.println(&quot;1. Imaging&quot;);\n            System.out.println(&quot;2. Reimaging&quot;);\n            bool = scanner.nextInt();\n            \n            if(bool &gt;= 3) {\n                System.out.println(&quot;Not a valid selection!&quot;);\n            }\n            else {\n                if(bool == 1) {\n                    return true;\n                }\n                if(bool == 2) {\n                    return false;\n                }\n            }\n        }\n        return false;\n    }\n    \n    public String desktopOrLaptop() {\n        int bool = 0;\n        while(bool != 1 || bool != 2) {\n            System.out.println(&quot;Is this a laptop or desktop?&quot;);\n            System.out.println(&quot;1. Laptop&quot;);\n            System.out.println(&quot;2. Desktop&quot;);\n            bool = scanner.nextInt();\n            \n            if(bool &gt;= 3) {\n                System.out.println(&quot;Not a valid selection!&quot;);\n            }\n            else {\n                if(bool == 1) {\n                    return &quot;laptop&quot;;\n                }\n                if(bool == 2) {\n                    return &quot;desktop&quot;;\n                }\n            }\n        }\n        return &quot; &quot;;\n    }\n    \n    \n    \n    public String generateTitle(boolean imageOrReimage) {\n        if(imageOrReimage == true) {\n            return &quot;Image | &quot;+getMake()+&quot; &quot;+getModel()+&quot; | WT#: &quot;+getWhiteTag()+&quot; | PO#: &quot;+getPoNumber();\n        }\n        else {\n            return &quot;Reimage | &quot;+getMake()+&quot; &quot;+getModel()+&quot; | WT#: &quot;+getWhiteTag();\n        }\n    }\n    \n    public String generateMessageBody(boolean imageOrReimage, String desktopOrLaptop) {\n        if (imageOrReimage == true) {\n            return &quot;Hello,\\n\\nWe've recieved a new &quot;+getMake()+&quot; &quot;+getModel()+&quot; with white inventory tag #&quot;+\n                    getWhiteTag()+&quot; and PO#&quot;+getPoNumber()+&quot;. Before we can begin working on this device, &quot;+\n                    &quot;could you please answer the following questions for us:\\n\\n*Who will this &quot;+desktopOrLaptop+\n                    &quot; be used by?\\n*Where will this &quot;+desktopOrLaptop+&quot; be located?\\n*Will any additional &quot;+\n                    &quot;programs need to be installed? Please provide any licensing information for paid programs &quot;+\n                    &quot;such as Adobe Acrobat Pro.\\n\\nThanks,\\n&quot;+getSignatureName()+&quot;\\nTechnology Support&quot;\n                    +&quot;\\nThe University of Tyler at Texas.&quot;;\n        }\n        else {\n            return &quot;Hello,\\n\\nWe have picked up a &quot;+getMake()+&quot; &quot;+getModel()+&quot; with white inventory tag #&quot;+\n                    getWhiteTag()+&quot;.\\n\\nJust for confirmation before we begin the reimaging process,&quot;+\n                    &quot; could you please answer the following questions:\\n\\n*Will any data need to be&quot;+\n                    &quot; backed up before it is wiped and reimaged?\\n*Who will this device belong to, along&quot;+\n                    &quot; with their room number location?\\n*Will any additional programs need to be installed?&quot;+\n                    &quot; Please provide the licensing information for paid programs such as Adobe Acrobat Pro.&quot;+\n                    &quot;\\n\\nThanks,\\n&quot;+getSignatureName()+&quot;\\nTechnology Support\\nThe University of Texas at Tyler&quot;;\n        }\n    }\n    \n    public String generateWorkNotes(boolean imageOrReimage) {\n        String string;\n        string = &quot;Make: &quot;+getMake()+&quot;\\nModel: &quot;+getModel()+&quot;\\nWhite Tag: &quot;+getWhiteTag()\n            +&quot;\\nS/N: &quot;+getSN();\n        if(imageOrReimage == true) {\n            string = string+&quot;\\nPO Number: &quot;+getPoNumber();\n        }\n        return string;\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;Make: &quot;+getMake()+&quot;\\nModel: &quot;+getModel()+&quot;\\nWhite Tag: &quot;+getWhiteTag()\n            +&quot;\\nS/N: &quot;+getSN()+&quot;\\nPO Number: &quot;+getPoNumber();   \n    }\n    @Override\n    public boolean equals(Object o) {\n        return toString().equals(o.toString());\n    }\n}\n</code></pre>\n<p>ThingThatWorks.java</p>\n<pre><code>package quickResponse;\n\npublic class ThingThatWorks {\n\n    public static void main(String[] args) {\n        Ticket newTicket = new Ticket();\n        boolean imageOrReimage = false;\n        String desktopOrLaptop = &quot;&quot;;\n        imageOrReimage = newTicket.imageOrReimage();\n        newTicket.ticketInfo(imageOrReimage);\n        \n        if(imageOrReimage == true) \n            desktopOrLaptop = newTicket.desktopOrLaptop();\n        \n        System.out.println();\n        System.out.println(newTicket.generateTitle(imageOrReimage));\n        System.out.println();\n        System.out.println(newTicket.generateMessageBody(imageOrReimage, desktopOrLaptop));\n        System.out.println();\n        System.out.println(&quot;---------------------------&quot;);\n        System.out.println(newTicket.generateWorkNotes(imageOrReimage));\n        \n    }\n\n}\n</code></pre>\n<p>I want to be able to transform this into either a runnable JAR or an .exe file so I can run it on my work computer when making tickets. Unfortunately what youtube videos I've watched aren't clear and when I just export the project as a runnable .jar file from Eclipse, it gives me a nonspecific JNI error (a JNI error has occurred, please check your installation and try again) and a nonspecific Java Exception error (A Java Exception has occurred). I'm not sure where I'm going wrong, nor am I sure if I have everything I need written in my code to throw up a cmd window, allow me to input what I need, and hang there long enough to let me copy it.</p>\n<p>Any help would be appreciated.</p>\n<p>Edit: Managed to get the errors to go away when I realized I was writing this in Java 17 and then compiling it via Java 8. I installed Java 17, re-exported the program, and now it does nothing when running instead of giving me errors.</p>\n<p>One thing I have tried is running it via command line, but no matter what I do it gives me the error &quot;Unable to access jarfile&quot;</p>\n<p>Edit 2: Adam's initial answer ended up being the key, I was trying to run it as java 8 when it complied as java 17. After ensuring that I was using the right version and not an outdated install, I managed to get the program working from command line.</p>\n<p>Thank you all for the help</p>\n"},{"tags":["java","priority-queue","heap"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667848005,"creation_date":1667848005,"answer_id":74351672,"question_id":74351659,"body_markdown":"&gt; does the heap should change itself and reorder the nodes? In other words, does the Priority Queue compares between it&#39;s nodes only at the time of the insertion or also whenever the nodes change their inner state?\r\n\r\nNo, it does not change.  There is no way for the priority queue to detect the updates and determine that things should be changed.","title":"Priority Queue in Java, ordering method","body":"<blockquote>\n<p>does the heap should change itself and reorder the nodes? In other words, does the Priority Queue compares between it's nodes only at the time of the insertion or also whenever the nodes change their inner state?</p>\n</blockquote>\n<p>No, it does not change.  There is no way for the priority queue to detect the updates and determine that things should be changed.</p>\n"}],"owner":{"account_id":23276758,"reputation":11,"user_id":17360780,"display_name":"omershafrir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1667848005,"creation_date":1667847923,"question_id":74351659,"body_markdown":"If I am using a Priority Queue (in Java) of nodes, every node has a few fields, one of them is frequency. The heap comparator is comparing between the frequencies of the nodes, putting the maximum at the top.\r\nMy question is as follows: if I&#39;m changing the inner state of let&#39;s say the top node in the heap (decrmenting it&#39;s frequency field) and it is no longer the &quot;maximal&quot; node in the heap according to the comparing rules- does the heap should change itself  and reorder the nodes?\r\nIn other words, does the Priority Queue compares between it&#39;s nodes only at the time of the insertion or also whenever the nodes change their inner state?\r\n\r\n\r\nAt first i thought that changing the inner state of the heap&#39;s nodes will cause the heap to reorganize itself, but as I observed weird behaviour I am thinking this is not the case.\r\n\r\nThank you in advance","title":"Priority Queue in Java, ordering method","body":"<p>If I am using a Priority Queue (in Java) of nodes, every node has a few fields, one of them is frequency. The heap comparator is comparing between the frequencies of the nodes, putting the maximum at the top.\nMy question is as follows: if I'm changing the inner state of let's say the top node in the heap (decrmenting it's frequency field) and it is no longer the &quot;maximal&quot; node in the heap according to the comparing rules- does the heap should change itself  and reorder the nodes?\nIn other words, does the Priority Queue compares between it's nodes only at the time of the insertion or also whenever the nodes change their inner state?</p>\n<p>At first i thought that changing the inner state of the heap's nodes will cause the heap to reorganize itself, but as I observed weird behaviour I am thinking this is not the case.</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","velocity"],"comments":[{"owner":{"display_name":"user180100"},"score":1,"creation_date":1452190884,"post_id":34662161,"comment_id":57070206,"body_markdown":"Seems to me your `.path` property is wrong.","body":"Seems to me your <code>.path</code> property is wrong."},{"owner":{"account_id":3773352,"reputation":376,"user_id":3134914,"display_name":"Arqan"},"score":0,"creation_date":1452190990,"post_id":34662161,"comment_id":57070266,"body_markdown":"I&#39;ve tried without specifying the `.path` property too. It just defaults to this value anyway. Also according to http://velocity.apache.org/engine/releases/velocity-1.5/developer-guide.html#configurationexamples this value is correct.","body":"I&#39;ve tried without specifying the <code>.path</code> property too. It just defaults to this value anyway. Also according to <a href=\"http://velocity.apache.org/engine/releases/velocity-1.5/developer-guide.html#configurationexamples\" rel=\"nofollow noreferrer\">velocity.apache.org/engine/releases/velocity-1.5/&hellip;</a> this value is correct."},{"owner":{"display_name":"user180100"},"score":1,"creation_date":1452191078,"post_id":34662161,"comment_id":57070313,"body_markdown":"Correct but &quot;.&quot; is current directory","body":"Correct but &quot;.&quot; is current directory"},{"owner":{"account_id":1990052,"reputation":1526,"user_id":1784279,"accept_rate":40,"display_name":"med116"},"score":0,"creation_date":1452191361,"post_id":34662161,"comment_id":57070470,"body_markdown":"check this out http://stackoverflow.com/questions/3229197/where-does-velocity-search-for-the-template/33061442#33061442 , you might need to call `Velocity.init()` . I had a similar issue. My answer is that long explaination with no points!","body":"check this out <a href=\"http://stackoverflow.com/questions/3229197/where-does-velocity-search-for-the-template/33061442#33061442\" title=\"where does velocity search for the template\">stackoverflow.com/questions/3229197/&hellip;</a> , you might need to call <code>Velocity.init()</code> . I had a similar issue. My answer is that long explaination with no points!"},{"owner":{"account_id":3773352,"reputation":376,"user_id":3134914,"display_name":"Arqan"},"score":0,"creation_date":1452192406,"post_id":34662161,"comment_id":57071084,"body_markdown":"@RC. You were right! I tried specifying the path before so I didn&#39;t think it would help now. What I didn&#39;t notice was the fact that my `\\\\` characters were not escaped so it malformed the path. If you would create an answer I would gladly upvote and accept it.","body":"@RC. You were right! I tried specifying the path before so I didn&#39;t think it would help now. What I didn&#39;t notice was the fact that my `\\` characters were not escaped so it malformed the path. If you would create an answer I would gladly upvote and accept it."},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1452197631,"post_id":34662161,"comment_id":57074023,"body_markdown":"@Arqan, I did nothing, may I suggest **you** add an answer for future reader and accept it?","body":"@Arqan, I did nothing, may I suggest <b>you</b> add an answer for future reader and accept it?"}],"answers":[{"tags":[],"owner":{"account_id":490570,"reputation":111,"user_id":2060068,"display_name":"M0les"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465517889,"creation_date":1465517889,"answer_id":37738136,"question_id":34662161,"body_markdown":"I think there&#39;s a design flaw in the Velocity `FileResourceLoader`. Basically if your `file.resource.loader.path` is anything other than an empty string, it&#39;ll mangle any absolute paths handed to it as the `file`. Additionally it has Unix/Linux-specific code to &quot;nip off&quot; (paraphrasing the actual code comment) an absolute file-path handed to it (Giving a broken absolute path re-rooted to the current `path` setting).\r\n\r\n**Solution 1:**\r\nSet the `file.resource.loader.path` to an empty string (prior to `init()`) and use absolute file-paths as the `file` parameter\r\n\r\n    ve.setProperty(&quot;file.resource.loader.path&quot;, &quot;&quot;);\r\n    ve.init();\r\n    Template template = ve.getTemplate(&quot;C:\\\\Users\\\\someUsername\\\\AppData\\\\Local\\\\Temp\\\\template1526050996884865454.html&quot;);\r\n\r\n**Solution 2:** Set the `path` to be the common root for your temp files and only hand it paths relative to that:    \r\n\r\n    ve.setProperty(&quot;file.resource.loader.path&quot;, &quot;C:\\\\Users\\\\someUsername\\\\AppData\\\\Local\\\\Temp&quot;);\r\n    ve.init();\r\n    Template template = ve.getTemplate(&quot;template1526050996884865454.html&quot;);\r\n\r\nUltimately I think the `FileResourceLoader` class would be better if it detected any absolute path handed to it as a file-name and not try to mash the `path` setting into it.\r\n \r\n","title":"Velocity&#39;s FileResourceLoader can&#39;t find resources","body":"<p>I think there's a design flaw in the Velocity <code>FileResourceLoader</code>. Basically if your <code>file.resource.loader.path</code> is anything other than an empty string, it'll mangle any absolute paths handed to it as the <code>file</code>. Additionally it has Unix/Linux-specific code to \"nip off\" (paraphrasing the actual code comment) an absolute file-path handed to it (Giving a broken absolute path re-rooted to the current <code>path</code> setting).</p>\n\n<p><strong>Solution 1:</strong>\nSet the <code>file.resource.loader.path</code> to an empty string (prior to <code>init()</code>) and use absolute file-paths as the <code>file</code> parameter</p>\n\n<pre><code>ve.setProperty(\"file.resource.loader.path\", \"\");\nve.init();\nTemplate template = ve.getTemplate(\"C:\\\\Users\\\\someUsername\\\\AppData\\\\Local\\\\Temp\\\\template1526050996884865454.html\");\n</code></pre>\n\n<p><strong>Solution 2:</strong> Set the <code>path</code> to be the common root for your temp files and only hand it paths relative to that:    </p>\n\n<pre><code>ve.setProperty(\"file.resource.loader.path\", \"C:\\\\Users\\\\someUsername\\\\AppData\\\\Local\\\\Temp\");\nve.init();\nTemplate template = ve.getTemplate(\"template1526050996884865454.html\");\n</code></pre>\n\n<p>Ultimately I think the <code>FileResourceLoader</code> class would be better if it detected any absolute path handed to it as a file-name and not try to mash the <code>path</code> setting into it.</p>\n"},{"tags":[],"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667847707,"creation_date":1667847707,"answer_id":74351615,"question_id":34662161,"body_markdown":"In addition to @MOles&#39;s answer, there is a third solution.\r\n\r\n**Solution 3**: Configure more than one file resource loader: one for absolute resources and one for relative ones. Something like this:\r\n\r\n    resource.loader=absolute-file, relative-file\r\n    absolute-file.resource.loader.class=org.apache.velocity.runtime.resource.loader.FileResourceLoader\r\n    absolute-file.resource.loader.path=\r\n    relative-file.resource.loader.class=org.apache.velocity.runtime.resource.loader.FileResourceLoader\r\n    relative-file.resource.loader.path=.\r\n\r\nThis will allow files to be loaded either relatively *or* absolutely, since FileResourceLoader evidently gets confused when you try to use a single instance for either type of path.","title":"Velocity&#39;s FileResourceLoader can&#39;t find resources","body":"<p>In addition to @MOles's answer, there is a third solution.</p>\n<p><strong>Solution 3</strong>: Configure more than one file resource loader: one for absolute resources and one for relative ones. Something like this:</p>\n<pre><code>resource.loader=absolute-file, relative-file\nabsolute-file.resource.loader.class=org.apache.velocity.runtime.resource.loader.FileResourceLoader\nabsolute-file.resource.loader.path=\nrelative-file.resource.loader.class=org.apache.velocity.runtime.resource.loader.FileResourceLoader\nrelative-file.resource.loader.path=.\n</code></pre>\n<p>This will allow files to be loaded either relatively <em>or</em> absolutely, since FileResourceLoader evidently gets confused when you try to use a single instance for either type of path.</p>\n"}],"owner":{"account_id":3773352,"reputation":376,"user_id":3134914,"display_name":"Arqan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667847707,"creation_date":1452190025,"question_id":34662161,"body_markdown":"I use Velocity in order to load email templates. Those templates are first downloaded from the FTP server and then saved as temporary files.\r\n\r\nHowever, when I try to load the template I get an exception:\r\n`org.apache.velocity.exception.ResourceNotFoundException: Unable to find resource &#39;C:\\Users\\someUsername\\AppData\\Local\\Temp\\template1526050996884865454.html&#39;`\r\n\r\nAnd I&#39;m sure the file is there and it&#39;s not damaged.\r\n\r\nThat&#39;s how I try to load the template:\r\n\r\n`template = velocityEngine.getTemplate(tempFile.getCanonicalPath());`\r\n\r\nHere&#39;s the velocity.properties file that I load (and I&#39;ve checked that the properties are properly initialized!)\r\n\r\n    file.resource.loader.class=org.apache.velocity.runtime.resource.loader.FileResourceLoader\r\n    file.resource.loader=file\r\n    file.resource.loader.path=.\r\n\r\nSo where lies the problem? Is it because AppData folder is hidden by default?","title":"Velocity&#39;s FileResourceLoader can&#39;t find resources","body":"<p>I use Velocity in order to load email templates. Those templates are first downloaded from the FTP server and then saved as temporary files.</p>\n\n<p>However, when I try to load the template I get an exception:\n<code>org.apache.velocity.exception.ResourceNotFoundException: Unable to find resource 'C:\\Users\\someUsername\\AppData\\Local\\Temp\\template1526050996884865454.html'</code></p>\n\n<p>And I'm sure the file is there and it's not damaged.</p>\n\n<p>That's how I try to load the template:</p>\n\n<p><code>template = velocityEngine.getTemplate(tempFile.getCanonicalPath());</code></p>\n\n<p>Here's the velocity.properties file that I load (and I've checked that the properties are properly initialized!)</p>\n\n<pre><code>file.resource.loader.class=org.apache.velocity.runtime.resource.loader.FileResourceLoader\nfile.resource.loader=file\nfile.resource.loader.path=.\n</code></pre>\n\n<p>So where lies the problem? Is it because AppData folder is hidden by default?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":19471191,"reputation":184,"user_id":15262402,"display_name":"Sebastian Ruiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1667847952,"answer_count":0,"score":1,"last_activity_date":1667847559,"creation_date":1667847559,"question_id":74351586,"body_markdown":"Hello friends I have a problem\r\n\r\nI have a class that extends thread where I want to make a database change using the entity manager, however when trying to use the injected bena it gives me a null\r\n\r\nmethod inside the @service class\r\n\r\n    private void ejecuteThreadsMap(Map&lt;Integer, List&lt;McDocsEntity&gt;&gt; map) throws Exception {\r\n    \t\tList&lt;ChangeNameThread&gt; listThreads = new ArrayList&lt;ChangeNameThread&gt;();\r\n    \t\tint num_threads = Integer.valueOf(threads);\r\n    \t\tfor (int i = 0; i &lt; num_threads; i++) {\r\n    \t\t\tlistThreads.add(new ChangeNameThread());\r\n    \t\t}\r\n    \r\n    \t\tArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(map.keySet());\r\n    \t\tint actual = 0;\r\n    \t\twhile (actual &lt; list.size()) {\r\n    \t\t\tif (num_threads &gt; list.size())\r\n    \t\t\t\tnum_threads = list.size();\r\n    \t\t\tfor (int i = 0; i &lt; num_threads; i++) {\r\n    \t\t\t\tif (!listThreads.get(i).isAlive()) {\r\n    \t\t\t\t\tSystem.out.println(&quot;actual=&quot; + (actual + 1) + &quot;/&quot; + list.size() + &quot;, porcentaje:&quot; + String.format(&quot;%.2f&quot;, ((float) ((actual + 1) / (float) list.size()) * 100.0)));\r\n    \t\t\t\t\tlistThreads.set(i, new ChangeNameThread());\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tlistThreads.get(i).setListaDocs(map.get(list.get(actual)));\r\n    \t\t\t\t\tlistThreads.get(i).setId(list.get(actual) + &quot;&quot;);\r\n    \t\t\t\t\tlistThreads.get(i).start();\r\n    \t\t\t\t\tactual++;\r\n    \t\t\t\t\tif (actual == list.size()) {\r\n    \t\t\t\t\t\tSystem.out.println (&quot;**** Se completan &quot; + actual + &quot; elementos&quot;);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\r\n    \t}\r\n\r\n\r\nClass ChangeNameThread\r\n\r\n    @Component\r\n    @ComponentScan\r\n    public class ChangeNameThread extends Thread {\r\n    \t\r\n    \tprivate String id;\r\n    \tboolean isCompleted = false;\r\n    \tprivate List&lt;McDocsEntity&gt; listaDocs;\r\n    \t\r\n    \t\r\n    \t@Autowired\r\n        private EntityManagerCore coreEntityManager; ----- ERROR NULL\r\n    \t\r\n    \t\t\r\n    \tChangeNameThread() {}\r\n    \r\n    \tpublic List&lt;McDocsEntity&gt; getListaDocs() {\r\n    \t\treturn listaDocs;\r\n    \t}\r\n    \r\n    \tpublic void setListaDocs(List&lt;McDocsEntity&gt; listaDocs) {\r\n    \t\tthis.listaDocs = listaDocs;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void run() {\r\n    \t\tdownloadDocs();\r\n    \t\tif (isCompleted)\r\n    \t\t\tSystem.out.println(&quot;Termino el hilo[&quot;+this.currentThread().getId()+&quot;-&quot;+this.currentThread().getName()+&quot;] para multilateralId:&quot; + multilateralId );\r\n    \t}\r\n    \r\n    \tpublic boolean getIsCompleted() {\r\n    \t\treturn isCompleted;\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic String getMultilateralId() {\r\n    \t\treturn multilateralId;\r\n    \t}\r\n    \r\n    \tpublic void setMultilateralId(String multilateralId) {\r\n    \t\tthis.multilateralId = multilateralId;\r\n    \t}\r\n    \r\n            \r\n            \r\n    \tpublic void downloadDocs() {\r\n    \t\t\r\n    \t\tSystem.err.println(&quot;multilateral id:&quot; + multilateralId);\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;Comienza proceso&quot;);\r\n    \t\r\n    \t\t\t\r\n    \t\t\tfor (McDocsEntity mcDocsEntity : listaDocs) {\r\n    \t\t\t\tchangeName(mcDocsEntity);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tisCompleted = true;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Error de gesti\\u00f3n de proceso&quot; + System.lineSeparator() + e.getMessage());\r\n    \t\t\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@Transactional(readOnly = true)\r\n    \tpublic void changeName(McDocsEntity mcDocsEntity) {\r\n    \t\t\r\n            \r\n    \t    try {\r\n    \t\t\tcoreEntityManager.updateDocument(mcDocsEntity.getid,mcDocsEntity.getnewName); //NULLPOINTER\r\n    \t\t\t\r\n    \t\t\r\n    \t\t} catch (Exception e) {\r\n    \t\t    System.err.println(e);\r\n    \t\t} \r\n    \t}\r\n    }\r\n\r\n\r\nI tried to occupy ApplicationContext but I still get the same error\r\n\r\n    @Autowired\r\n    private ApplicationContext applicationContext;\r\n\r\n private void ejecuteThreadsMap(Map&lt;Integer, List&lt;McDocsEntity&gt;&gt; map) throws Exception {\r\n    \t\tList&lt;ChangeNameThread&gt; listThreads = new ArrayList&lt;ChangeNameThread&gt;();\r\n    \t\tint num_threads = Integer.valueOf(threads);\r\n    \t\tfor (int i = 0; i &lt; num_threads; i++) {\r\n    \t\t\tlistThreads.add(new ChangeNameThread());\r\n    \t\t}\r\n    \r\n    \t\tArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(map.keySet());\r\n    \t\tint actual = 0;\r\n    \t\twhile (actual &lt; list.size()) {\r\n    \t\t\tif (num_threads &gt; list.size())\r\n    \t\t\t\tnum_threads = list.size();\r\n    \t\t\tfor (int i = 0; i &lt; num_threads; i++) {\r\n    \t\t\t\tif (!listThreads.get(i).isAlive()) {\r\n    \t\t\t\t\tSystem.out.println(&quot;actual=&quot; + (actual + 1) + &quot;/&quot; + list.size() + &quot;, porcentaje:&quot; + String.format(&quot;%.2f&quot;, ((float) ((actual + 1) / (float) list.size()) * 100.0)));\r\n    \t\t\t\t\tlistThreads.set(i, new ChangeNameThread());\r\n    \t\t\t\t\tapplicationContext.getAutowireCapableBeanFactory().autowireBean(list.get(actual));\r\n    \t\t\t\t\tlistThreads.get(i).setListaDocs(map.get(list.get(actual)));\r\n    \t\t\t\t\tlistThreads.get(i).setId(list.get(actual) + &quot;&quot;);\r\n    \t\t\t\t\tlistThreads.get(i).start();\r\n    \t\t\t\t\tactual++;\r\n    \t\t\t\t\tif (actual == list.size()) {\r\n    \t\t\t\t\t\tSystem.out.println (&quot;**** Se completan &quot; + actual + &quot; elementos&quot;);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\r\n    \t}\r\n","title":"Error in @Autowire with an extended class of thread","body":"<p>Hello friends I have a problem</p>\n<p>I have a class that extends thread where I want to make a database change using the entity manager, however when trying to use the injected bena it gives me a null</p>\n<p>method inside the @service class</p>\n<pre><code>private void ejecuteThreadsMap(Map&lt;Integer, List&lt;McDocsEntity&gt;&gt; map) throws Exception {\n        List&lt;ChangeNameThread&gt; listThreads = new ArrayList&lt;ChangeNameThread&gt;();\n        int num_threads = Integer.valueOf(threads);\n        for (int i = 0; i &lt; num_threads; i++) {\n            listThreads.add(new ChangeNameThread());\n        }\n\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(map.keySet());\n        int actual = 0;\n        while (actual &lt; list.size()) {\n            if (num_threads &gt; list.size())\n                num_threads = list.size();\n            for (int i = 0; i &lt; num_threads; i++) {\n                if (!listThreads.get(i).isAlive()) {\n                    System.out.println(&quot;actual=&quot; + (actual + 1) + &quot;/&quot; + list.size() + &quot;, porcentaje:&quot; + String.format(&quot;%.2f&quot;, ((float) ((actual + 1) / (float) list.size()) * 100.0)));\n                    listThreads.set(i, new ChangeNameThread());\n                    \n                    listThreads.get(i).setListaDocs(map.get(list.get(actual)));\n                    listThreads.get(i).setId(list.get(actual) + &quot;&quot;);\n                    listThreads.get(i).start();\n                    actual++;\n                    if (actual == list.size()) {\n                        System.out.println (&quot;**** Se completan &quot; + actual + &quot; elementos&quot;);\n                        break;\n                    }\n                }\n            }\n        \n    }\n</code></pre>\n<p>Class ChangeNameThread</p>\n<pre><code>@Component\n@ComponentScan\npublic class ChangeNameThread extends Thread {\n    \n    private String id;\n    boolean isCompleted = false;\n    private List&lt;McDocsEntity&gt; listaDocs;\n    \n    \n    @Autowired\n    private EntityManagerCore coreEntityManager; ----- ERROR NULL\n    \n        \n    ChangeNameThread() {}\n\n    public List&lt;McDocsEntity&gt; getListaDocs() {\n        return listaDocs;\n    }\n\n    public void setListaDocs(List&lt;McDocsEntity&gt; listaDocs) {\n        this.listaDocs = listaDocs;\n    }\n\n\n    public void run() {\n        downloadDocs();\n        if (isCompleted)\n            System.out.println(&quot;Termino el hilo[&quot;+this.currentThread().getId()+&quot;-&quot;+this.currentThread().getName()+&quot;] para multilateralId:&quot; + multilateralId );\n    }\n\n    public boolean getIsCompleted() {\n        return isCompleted;\n    }\n\n    \n    public String getMultilateralId() {\n        return multilateralId;\n    }\n\n    public void setMultilateralId(String multilateralId) {\n        this.multilateralId = multilateralId;\n    }\n\n        \n        \n    public void downloadDocs() {\n        \n        System.err.println(&quot;multilateral id:&quot; + multilateralId);\n        try {\n            System.out.println(&quot;Comienza proceso&quot;);\n    \n            \n            for (McDocsEntity mcDocsEntity : listaDocs) {\n                changeName(mcDocsEntity);\n            }\n            \n            isCompleted = true;\n        } catch (Exception e) {\n            System.out.println(&quot;Error de gesti\\u00f3n de proceso&quot; + System.lineSeparator() + e.getMessage());\n        \n        }\n    }\n    \n    @Transactional(readOnly = true)\n    public void changeName(McDocsEntity mcDocsEntity) {\n        \n        \n        try {\n            coreEntityManager.updateDocument(mcDocsEntity.getid,mcDocsEntity.getnewName); //NULLPOINTER\n            \n        \n        } catch (Exception e) {\n            System.err.println(e);\n        } \n    }\n}\n</code></pre>\n<p>I tried to occupy ApplicationContext but I still get the same error</p>\n<pre><code>@Autowired\nprivate ApplicationContext applicationContext;\n</code></pre>\n<p>private void ejecuteThreadsMap(Map&lt;Integer, List&gt; map) throws Exception {\nList listThreads = new ArrayList();\nint num_threads = Integer.valueOf(threads);\nfor (int i = 0; i &lt; num_threads; i++) {\nlistThreads.add(new ChangeNameThread());\n}</p>\n<pre><code>        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(map.keySet());\n        int actual = 0;\n        while (actual &lt; list.size()) {\n            if (num_threads &gt; list.size())\n                num_threads = list.size();\n            for (int i = 0; i &lt; num_threads; i++) {\n                if (!listThreads.get(i).isAlive()) {\n                    System.out.println(&quot;actual=&quot; + (actual + 1) + &quot;/&quot; + list.size() + &quot;, porcentaje:&quot; + String.format(&quot;%.2f&quot;, ((float) ((actual + 1) / (float) list.size()) * 100.0)));\n                    listThreads.set(i, new ChangeNameThread());\n                    applicationContext.getAutowireCapableBeanFactory().autowireBean(list.get(actual));\n                    listThreads.get(i).setListaDocs(map.get(list.get(actual)));\n                    listThreads.get(i).setId(list.get(actual) + &quot;&quot;);\n                    listThreads.get(i).start();\n                    actual++;\n                    if (actual == list.size()) {\n                        System.out.println (&quot;**** Se completan &quot; + actual + &quot; elementos&quot;);\n                        break;\n                    }\n                }\n            }\n        \n    }\n</code></pre>\n"},{"tags":["java","sockets","exception","serversocket"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1667326206,"post_id":74280044,"comment_id":131139866,"body_markdown":"&quot;Connection reset&quot; means the other side got your request but denied it for some reason.  Could be out of resources, or the port busy, or the firewall blocked it.","body":"&quot;Connection reset&quot; means the other side got your request but denied it for some reason.  Could be out of resources, or the port busy, or the firewall blocked it."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1667326272,"post_id":74280044,"comment_id":131139893,"body_markdown":"&quot;ClassCastException&quot; is just plain an error on your part, you did something wrong.  We&#39;ll need to see the code in question, with a [mcve] that shows the problem.","body":"&quot;ClassCastException&quot; is just plain an error on your part, you did something wrong.  We&#39;ll need to see the code in question, with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows the problem."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1667326494,"post_id":74280044,"comment_id":131139975,"body_markdown":"@markspace has given you some good information on the errors that you are encountering. To your question of &quot;will be suitable...&quot; the answer is &quot;no, not really&quot; there are better alternatives","body":"@markspace has given you some good information on the errors that you are encountering. To your question of &quot;will be suitable...&quot; the answer is &quot;no, not really&quot; there are better alternatives"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1667326577,"post_id":74280044,"comment_id":131140002,"body_markdown":"to start with, I would highly recommend that you use webserversockets instead of regular Java sockets - they are easier to use and to get up to speed with","body":"to start with, I would highly recommend that you use webserversockets instead of regular Java sockets - they are easier to use and to get up to speed with"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1667326719,"post_id":74280044,"comment_id":131140041,"body_markdown":"I would also recommend using XML or JSON instead of Java object serialization, which suffers both from being Java-only as well as from not being compatible with other programming platforms.","body":"I would also recommend using XML or JSON instead of Java object serialization, which suffers both from being Java-only as well as from not being compatible with other programming platforms."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1667326843,"post_id":74280044,"comment_id":131140078,"body_markdown":"Within XML/JSON, you are going to want to set up a communication protocol (like http for web pages) which is powerful/flexible enough to support the kinds of messages you would like to send.","body":"Within XML/JSON, you are going to want to set up a communication protocol (like http for web pages) which is powerful/flexible enough to support the kinds of messages you would like to send."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1667327015,"post_id":74280044,"comment_id":131140130,"body_markdown":"Finally, you probably want to structure your communication protocol to always or sometimes use GZIP (ala HTML has a header for letting the receiver know if the body of the communication is GZIP&#39;ped)","body":"Finally, you probably want to structure your communication protocol to always or sometimes use GZIP (ala HTML has a header for letting the receiver know if the body of the communication is GZIP&#39;ped)"},{"owner":{"account_id":22580711,"reputation":1,"user_id":16765393,"display_name":"Vinayak Kushwaha"},"score":0,"creation_date":1667329003,"post_id":74280044,"comment_id":131140675,"body_markdown":"For testing purpose i am running multiple clients on the same machine , can this be a cause of these error?","body":"For testing purpose i am running multiple clients on the same machine , can this be a cause of these error?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1667332742,"post_id":74280044,"comment_id":131141768,"body_markdown":"Yes/no.  If your firewall is somehow blocking requests, yes it could be the machine.  It also might not be.  If the code is just variable or there&#39;s a timing issue, that could also cause it.  Without code and a detailed description of the test, it could be anything.","body":"Yes/no.  If your firewall is somehow blocking requests, yes it could be the machine.  It also might not be.  If the code is just variable or there&#39;s a timing issue, that could also cause it.  Without code and a detailed description of the test, it could be anything."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1667332827,"post_id":74280044,"comment_id":131141798,"body_markdown":"@VinayakKushwaha It also just occurred to me that &quot;connection reset&quot; is also what you get when there&#39;s no server listening on a port.  So it definitely could be a timing issue, where the server isn&#39;t up and running before you launch the client.  This might be the most likely cause.","body":"@VinayakKushwaha It also just occurred to me that &quot;connection reset&quot; is also what you get when there&#39;s no server listening on a port.  So it definitely could be a timing issue, where the server isn&#39;t up and running before you launch the client.  This might be the most likely cause."}],"answers":[{"tags":[],"owner":{"account_id":3667837,"reputation":2435,"user_id":3055724,"display_name":"Duloren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667330805,"creation_date":1667330805,"answer_id":74280890,"question_id":74280044,"body_markdown":"One thing we always must have in mind whether programming network code is: later or sooner something wrong will happen: parcial data delivery, disconnection, duplicates, etc. Even using TCP (a transport layer protocol with some important guarantees), your application layer must assume that a very wide range of network problems will eventually happen. \r\n\r\nAlthough you didn&#39;t show your code, we can deduce by the stacktrace that you&#39;re exchange structured data, probably large structured data in the form of encoded java objects. \r\nThe problems with this strategy are:\r\n- if the objects are always the same shape, there are a considerable overhead of always being sending/reading this same metadata which can be avoided. The bigger the data, the prone to get network errors. Consider to encode only the required data in order to avoid continuously send the same metadata.\r\n- If even a small part of the serialized version of your object is missed or jammed, the received cannot restore the object. It is better than the scenario where the receiver tries to restore the object with incomplete or inconsistent data. As result, java thorws exceptions to sinalize it for you. Once you get an exception, you must to code what to do: ask to the remote pier resend the data, reconnect the socket, etc.\r\n\r\nWe cannot say exactly what happens to your code without see the code. But by what I can see, the solution is to properly implement the &quot;unhappy paths&quot; inside the catch blocks  \r\n","title":"How to handle socket exceptions to make a continuous flow of program in Java?","body":"<p>One thing we always must have in mind whether programming network code is: later or sooner something wrong will happen: parcial data delivery, disconnection, duplicates, etc. Even using TCP (a transport layer protocol with some important guarantees), your application layer must assume that a very wide range of network problems will eventually happen.</p>\n<p>Although you didn't show your code, we can deduce by the stacktrace that you're exchange structured data, probably large structured data in the form of encoded java objects.\nThe problems with this strategy are:</p>\n<ul>\n<li>if the objects are always the same shape, there are a considerable overhead of always being sending/reading this same metadata which can be avoided. The bigger the data, the prone to get network errors. Consider to encode only the required data in order to avoid continuously send the same metadata.</li>\n<li>If even a small part of the serialized version of your object is missed or jammed, the received cannot restore the object. It is better than the scenario where the receiver tries to restore the object with incomplete or inconsistent data. As result, java thorws exceptions to sinalize it for you. Once you get an exception, you must to code what to do: ask to the remote pier resend the data, reconnect the socket, etc.</li>\n</ul>\n<p>We cannot say exactly what happens to your code without see the code. But by what I can see, the solution is to properly implement the &quot;unhappy paths&quot; inside the catch blocks</p>\n"}],"owner":{"account_id":22580711,"reputation":1,"user_id":16765393,"display_name":"Vinayak Kushwaha"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667846894,"creation_date":1667325929,"question_id":74280044,"body_markdown":"I am creating a skribbl clone in Java using JavaFX and socket programming.\r\n\r\nI am sending data over a TCP connection using a objectinput/outputstream.\r\n\r\nEvery 2/5 times the application runs without any exception but other time it shows numerous socket related exception and I am not able to figure out why it is happening.\r\n\r\n```\r\n    java.net.SocketException: Connection reset\r\n\tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:186)\r\n\tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\r\n\tat java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)\r\n\tat java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:271)\r\n\tat java.base/java.io.ObjectInputStream$PeekInputStream.peek(ObjectInputStream.java:2854)\r\n\tat java.base/java.io.ObjectInputStream$BlockDataInputStream.peek(ObjectInputStream.java:3181)\r\n\tat java.base/java.io.ObjectInputStream$BlockDataInputStream.peekByte(ObjectInputStream.java:3191)\r\n\tat java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1621)\r\n\tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:488)\r\n\tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:446)\r\n\tat com.nttd.wtdoodle.Client.Game.Server.PlayerHandler$1.run(PlayerHandler.java:54)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n        Error sending Message to clien\r\n```\r\n\r\n```\r\n    java.io.StreamCorruptedException: invalid type code: 00\r\n\tat java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1701)\r\n\tat java.base/java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2479)\r\n\tat java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2373)\r\n\tat java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2211)\r\n\tat java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1670)\r\n\tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:488)\r\n\tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:446)\r\n\tat com.nttd.wtdoodle.Client.Game.Player.PtoSBridge$1.run(PtoSBridge.java:55)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n        Error sending Message to client\r\n```\r\n\r\nThere is one more exception which is the `ClassCastException`. I don&#39;t know why these exceptions are occurring sometimes but not all the time.\r\n\r\nI want to know if the objectoutput/inputstream will be suitable for this work or not.\r\n\r\nCan you suggest any other stream that will be useful for this purpose?\r\n\r\nThank You for all the replies and answer . I have changed the ObjectStream to BufferedReader and BufferedWriter and it solved my problem.","title":"How to handle socket exceptions to make a continuous flow of program in Java?","body":"<p>I am creating a skribbl clone in Java using JavaFX and socket programming.</p>\n<p>I am sending data over a TCP connection using a objectinput/outputstream.</p>\n<p>Every 2/5 times the application runs without any exception but other time it shows numerous socket related exception and I am not able to figure out why it is happening.</p>\n<pre><code>    java.net.SocketException: Connection reset\n    at java.base/java.net.SocketInputStream.read(SocketInputStream.java:186)\n    at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\n    at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)\n    at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:271)\n    at java.base/java.io.ObjectInputStream$PeekInputStream.peek(ObjectInputStream.java:2854)\n    at java.base/java.io.ObjectInputStream$BlockDataInputStream.peek(ObjectInputStream.java:3181)\n    at java.base/java.io.ObjectInputStream$BlockDataInputStream.peekByte(ObjectInputStream.java:3191)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1621)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:488)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:446)\n    at com.nttd.wtdoodle.Client.Game.Server.PlayerHandler$1.run(PlayerHandler.java:54)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n        Error sending Message to clien\n</code></pre>\n<pre><code>    java.io.StreamCorruptedException: invalid type code: 00\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1701)\n    at java.base/java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2479)\n    at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2373)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2211)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1670)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:488)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:446)\n    at com.nttd.wtdoodle.Client.Game.Player.PtoSBridge$1.run(PtoSBridge.java:55)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n        Error sending Message to client\n</code></pre>\n<p>There is one more exception which is the <code>ClassCastException</code>. I don't know why these exceptions are occurring sometimes but not all the time.</p>\n<p>I want to know if the objectoutput/inputstream will be suitable for this work or not.</p>\n<p>Can you suggest any other stream that will be useful for this purpose?</p>\n<p>Thank You for all the replies and answer . I have changed the ObjectStream to BufferedReader and BufferedWriter and it solved my problem.</p>\n"},{"tags":["java","spring-boot","flyway","spring-data-r2dbc"],"comments":[{"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"score":0,"creation_date":1621712621,"post_id":64355106,"comment_id":119580514,"body_markdown":"I followed the [Getting Started R2DBC Tutorial](https://spring.io/guides/gs/accessing-data-r2dbc/) with Spring Boot 2.4.3 but noticed that the `ConnectionFactoryInitializer` Bean is deprecated. I&#39;m afraid the Spring Boot support for *schema.sql/data.sql* with R2DBC is going to be removed as indicated [here](https://github.com/spring-projects/spring-boot/issues/20524#issuecomment-598745390). I&#39;d suggest removing its Bean configuration from the Application class and use some 3rd party tool such as **Flyway** or **Liquibase**, as you did.","body":"I followed the <a href=\"https://spring.io/guides/gs/accessing-data-r2dbc/\" rel=\"nofollow noreferrer\">Getting Started R2DBC Tutorial</a> with Spring Boot 2.4.3 but noticed that the <code>ConnectionFactoryInitializer</code> Bean is deprecated. I&#39;m afraid the Spring Boot support for <i>schema.sql/data.sql</i> with R2DBC is going to be removed as indicated <a href=\"https://github.com/spring-projects/spring-boot/issues/20524#issuecomment-598745390\" rel=\"nofollow noreferrer\">here</a>. I&#39;d suggest removing its Bean configuration from the Application class and use some 3rd party tool such as <b>Flyway</b> or <b>Liquibase</b>, as you did."}],"answers":[{"tags":[],"owner":{"account_id":19195913,"reputation":408,"user_id":14024602,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1602699914,"creation_date":1602697479,"answer_id":64358796,"question_id":64355106,"body_markdown":"I am currently having the same problem using r2dbc with liquibase. I am suspecting that the JDBC url points to a different database due to a slightly different syntax between R2DB and JDBC. I can manage to get h2 running from the file system though...\r\n\r\n```\r\n    url: r2dbc:h2:file:///~/db/testdb\r\n...\r\n    url: jdbc:h2:file:~/db/testdb\r\n```\r\n\r\n**EDIT**: \r\n\r\nIn non-reactive Spring Data I&#39;d usually populate the Schema into the H2 memory database using a schema.sql/data.sql pair. This is also possible with R2DBC, but you have to configure the populator yourself.\r\n\r\nIt&#39;s also in the [Getting Started R2DBC Tutorial](https://spring.io/guides/gs/accessing-data-r2dbc/). Basically you have to register a ConnectionFactoryInitializer bean.\r\n\r\n\r\n```\r\n  @Bean\r\n  public ConnectionFactoryInitializer initializer(@Qualifier(&quot;connectionFactory&quot;) ConnectionFactory connectionFactory) {\r\n    var initializer = new ConnectionFactoryInitializer();\r\n    initializer.setConnectionFactory(connectionFactory);\r\n\r\n    var populator = new CompositeDatabasePopulator();\r\n    populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;schema.sql&quot;)));\r\n    populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;data.sql&quot;)));\r\n    initializer.setDatabasePopulator(populator);\r\n\r\n    return initializer;\r\n  }\r\n```","title":"Setup h2 in spring boot application with r2dbc and flyway","body":"<p>I am currently having the same problem using r2dbc with liquibase. I am suspecting that the JDBC url points to a different database due to a slightly different syntax between R2DB and JDBC. I can manage to get h2 running from the file system though...</p>\n<pre><code>    url: r2dbc:h2:file:///~/db/testdb\n...\n    url: jdbc:h2:file:~/db/testdb\n</code></pre>\n<p><strong>EDIT</strong>:</p>\n<p>In non-reactive Spring Data I'd usually populate the Schema into the H2 memory database using a schema.sql/data.sql pair. This is also possible with R2DBC, but you have to configure the populator yourself.</p>\n<p>It's also in the <a href=\"https://spring.io/guides/gs/accessing-data-r2dbc/\" rel=\"noreferrer\">Getting Started R2DBC Tutorial</a>. Basically you have to register a ConnectionFactoryInitializer bean.</p>\n<pre><code>  @Bean\n  public ConnectionFactoryInitializer initializer(@Qualifier(&quot;connectionFactory&quot;) ConnectionFactory connectionFactory) {\n    var initializer = new ConnectionFactoryInitializer();\n    initializer.setConnectionFactory(connectionFactory);\n\n    var populator = new CompositeDatabasePopulator();\n    populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;schema.sql&quot;)));\n    populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;data.sql&quot;)));\n    initializer.setDatabasePopulator(populator);\n\n    return initializer;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602991479,"creation_date":1602991479,"answer_id":64409417,"question_id":64355106,"body_markdown":"Flyway currently only supports the blocking JDBC APIs, and it is not compatible with the reactive r2dbc if possbile do not mix them in the same application.\r\n\r\n1. Try to register a `ConnectionFactoryInitializer` to initiate the database schema and data as @Chris posted, [my working example](https://github.com/hantsy/spring-r2dbc-sample/blob/master/database-client/src/main/java/com/example/demo/DatabaseConfig.java#L83) can be found here.\r\n\r\n2. Try [nkonev/r2dbc-migrate](https://github.com/nkonev/r2dbc-migrate) which is trying to migrate the flyway to the R2dbc world.\r\n","title":"Setup h2 in spring boot application with r2dbc and flyway","body":"<p>Flyway currently only supports the blocking JDBC APIs, and it is not compatible with the reactive r2dbc if possbile do not mix them in the same application.</p>\n<ol>\n<li><p>Try to register a <code>ConnectionFactoryInitializer</code> to initiate the database schema and data as @Chris posted, <a href=\"https://github.com/hantsy/spring-r2dbc-sample/blob/master/database-client/src/main/java/com/example/demo/DatabaseConfig.java#L83\" rel=\"nofollow noreferrer\">my working example</a> can be found here.</p>\n</li>\n<li><p>Try <a href=\"https://github.com/nkonev/r2dbc-migrate\" rel=\"nofollow noreferrer\">nkonev/r2dbc-migrate</a> which is trying to migrate the flyway to the R2dbc world.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5111999,"reputation":7665,"user_id":4098311,"accept_rate":80,"display_name":"Halayem Anis"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1610004927,"creation_date":1610004927,"answer_id":65608274,"question_id":64355106,"body_markdown":"I&#39;ve faced the same issue to setup and access to h2 database in memory for tests:\r\n - Liquibase for database migration using **JDBC** driver \r\n - Tests Reactive Crud Repository using **R2DBC** driver\r\n\r\nError encoutred:&lt;br /&gt;\r\n&gt; org.springframework.data.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar [INSERT INTO MY_TABLE... Table &quot;MY_TABLE&quot; not found ...\r\n\r\nInspired by Chris&#39;s solution, i configured my `src/testresources/application.properties` file as follow:\r\n\r\n    spring.r2dbc.url=r2dbc:h2:mem:///~/db/testdb\r\n    spring.r2dbc.username=sa\r\n    spring.r2dbc.password=\r\n    \r\n    spring.liquibase.url=jdbc:h2:mem:~/db/testdb;DB_CLOSE_DELAY=-1\r\n    spring.liquibase.user=sa\r\n    spring.liquibase.password=\r\n    spring.liquibase.enabled=true\r\n\r\n\r\n","title":"Setup h2 in spring boot application with r2dbc and flyway","body":"<p>I've faced the same issue to setup and access to h2 database in memory for tests:</p>\n<ul>\n<li>Liquibase for database migration using <strong>JDBC</strong> driver</li>\n<li>Tests Reactive Crud Repository using <strong>R2DBC</strong> driver</li>\n</ul>\n<p>Error encoutred:<br /></p>\n<blockquote>\n<p>org.springframework.data.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar [INSERT INTO MY_TABLE... Table &quot;MY_TABLE&quot; not found ...</p>\n</blockquote>\n<p>Inspired by Chris's solution, i configured my <code>src/testresources/application.properties</code> file as follow:</p>\n<pre><code>spring.r2dbc.url=r2dbc:h2:mem:///~/db/testdb\nspring.r2dbc.username=sa\nspring.r2dbc.password=\n\nspring.liquibase.url=jdbc:h2:mem:~/db/testdb;DB_CLOSE_DELAY=-1\nspring.liquibase.user=sa\nspring.liquibase.password=\nspring.liquibase.enabled=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20754727,"reputation":21,"user_id":15241399,"display_name":"phlv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613728665,"creation_date":1613728665,"answer_id":66275354,"question_id":64355106,"body_markdown":"I was able to get it working.\r\n\r\nFirst of all I created following test configuration class (because I want to execute tests only agains H2, on production mode I am using PostgreSQL):\r\n\r\n```\r\n@TestConfiguration\r\npublic class TestConfig {\r\n    @Bean\r\n    @Profile(&quot;test&quot;)\r\n    public ConnectionFactory connectionFactory() {\r\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Using H2 in mem R2DBC connection factory&quot;);\r\n        return H2ConnectionFactory.inMemory(&quot;testdb&quot;);\r\n    }\r\n\r\n    @Bean(initMethod = &quot;migrate&quot;)\r\n    @Profile(&quot;test&quot;)\r\n    public Flyway flyway() {\r\n        System.out.println(&quot;####### Using H2 in mem Flyway connection&quot;);\r\n        return new Flyway(Flyway.configure()\r\n                .baselineOnMigrate(true)\r\n                .dataSource(\r\n                        &quot;jdbc:h2:mem:testdb&quot;,\r\n                        &quot;sa&quot;,\r\n                        &quot;&quot;)\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nAs you can see in the code above, both beans are scoped to the &quot;test&quot; profile only. As you can imagine I have pretty much the same beans in a regular ApplicationConfiguration class but annotated as a `@Profile(&quot;default&quot;)` and configured to use a PostgreSQL.\r\n\r\nSecond thing is that I created annotation which combines several other annotations to not repeat myself and to easily pickup beans declared in the `TestConfig` class:\r\n\r\n```\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Inherited\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@Import(TestConfig.class)\r\npublic @interface IntegrationTest {\r\n}\r\n```\r\n\r\nNow the test itself:\r\n\r\n```\r\n@IntegrationTest\r\nclass CartsIntegrationTest {\r\n // test methods here ....\r\n}\r\n```\r\n\r\nI believe the main hint is to use `H2ConnectionFactory.inMemory(&quot;testdb&quot;);` \r\n\r\n\r\n","title":"Setup h2 in spring boot application with r2dbc and flyway","body":"<p>I was able to get it working.</p>\n<p>First of all I created following test configuration class (because I want to execute tests only agains H2, on production mode I am using PostgreSQL):</p>\n<pre><code>@TestConfiguration\npublic class TestConfig {\n    @Bean\n    @Profile(&quot;test&quot;)\n    public ConnectionFactory connectionFactory() {\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Using H2 in mem R2DBC connection factory&quot;);\n        return H2ConnectionFactory.inMemory(&quot;testdb&quot;);\n    }\n\n    @Bean(initMethod = &quot;migrate&quot;)\n    @Profile(&quot;test&quot;)\n    public Flyway flyway() {\n        System.out.println(&quot;####### Using H2 in mem Flyway connection&quot;);\n        return new Flyway(Flyway.configure()\n                .baselineOnMigrate(true)\n                .dataSource(\n                        &quot;jdbc:h2:mem:testdb&quot;,\n                        &quot;sa&quot;,\n                        &quot;&quot;)\n        );\n    }\n}\n</code></pre>\n<p>As you can see in the code above, both beans are scoped to the &quot;test&quot; profile only. As you can imagine I have pretty much the same beans in a regular ApplicationConfiguration class but annotated as a <code>@Profile(&quot;default&quot;)</code> and configured to use a PostgreSQL.</p>\n<p>Second thing is that I created annotation which combines several other annotations to not repeat myself and to easily pickup beans declared in the <code>TestConfig</code> class:</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Inherited\n@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\n@Import(TestConfig.class)\npublic @interface IntegrationTest {\n}\n</code></pre>\n<p>Now the test itself:</p>\n<pre><code>@IntegrationTest\nclass CartsIntegrationTest {\n // test methods here ....\n}\n</code></pre>\n<p>I believe the main hint is to use <code>H2ConnectionFactory.inMemory(&quot;testdb&quot;);</code></p>\n"},{"tags":[],"owner":{"account_id":129591,"reputation":5002,"user_id":328275,"accept_rate":97,"display_name":"axiopisty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667846807,"creation_date":1667846807,"answer_id":74351440,"question_id":64355106,"body_markdown":"There were 2 issues I was experiencing in my project.\r\n\r\n 1. I needed to include the dependency:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;r2dbc-h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n2. I needed to change the value for `spring.r2dbc.url` to `r2dbc:h2:mem:///test_db`\r\n\r\nWith these changes, rd2bc worked with an in memory h2 database for testing. See also:\r\n\r\nhttps://github.com/r2dbc/r2dbc-h2","title":"Setup h2 in spring boot application with r2dbc and flyway","body":"<p>There were 2 issues I was experiencing in my project.</p>\n<ol>\n<li><p>I needed to include the dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\n    &lt;artifactId&gt;r2dbc-h2&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>I needed to change the value for <code>spring.r2dbc.url</code> to <code>r2dbc:h2:mem:///test_db</code></p>\n</li>\n</ol>\n<p>With these changes, rd2bc worked with an in memory h2 database for testing. See also:</p>\n<p><a href=\"https://github.com/r2dbc/r2dbc-h2\" rel=\"nofollow noreferrer\">https://github.com/r2dbc/r2dbc-h2</a></p>\n"}],"owner":{"account_id":144818,"reputation":1521,"user_id":354164,"accept_rate":49,"display_name":"imalik8088"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16417,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":64358796,"answer_count":5,"score":17,"last_activity_date":1667846807,"creation_date":1602684432,"question_id":64355106,"body_markdown":"I&#39;m playing around with Spring Boot and the reactive jdbc driver called r2dbc. In my main application I&#39;m using Postgres as a database and now I want to the use h2 for the tests. And the Flyway migration is working with the setup but when the Spring application is able to insert records.\r\n\r\nHere is my setup and code\r\n\r\n    @SpringBootTest\r\n    class CustomerRepositoryTest {\r\n    \r\n        @Autowired\r\n        CustomerRepository repository;\r\n    \r\n        @Test\r\n        void insertToDatabase() {\r\n            repository.saveAll(List.of(new Customer(&quot;Jack&quot;, &quot;Bauer&quot;),\r\n                    new Customer(&quot;Chloe&quot;, &quot;O&#39;Brian&quot;),\r\n                    new Customer(&quot;Kim&quot;, &quot;Bauer&quot;),\r\n                    new Customer(&quot;David&quot;, &quot;Palmer&quot;),\r\n                    new Customer(&quot;Michelle&quot;, &quot;Dessler&quot;)))\r\n                    .blockLast(Duration.ofSeconds(10));\r\n        }\r\n    }\r\n\r\n\r\nHere is the **error** that I&#39;m getting\r\n\r\n     :: Spring Boot ::        (v2.3.4.RELEASE)\r\n    \r\n    2020-10-14 15:59:18.538  INFO 25279 --- [           main] i.g.i.repository.CustomerRepositoryTest  : Starting CustomerRepositoryTest on imalik8088.fritz.box with PID 25279 (started by imalik in /Users/imalik/code/private/explore-java/spring-example)\r\n    2020-10-14 15:59:18.540  INFO 25279 --- [           main] i.g.i.repository.CustomerRepositoryTest  : No active profile set, falling back to default profiles: default\r\n    2020-10-14 15:59:19.108  INFO 25279 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\r\n    2020-10-14 15:59:19.273  INFO 25279 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 160ms. Found 1 R2DBC repository interfaces.\r\n    2020-10-14 15:59:19.894  INFO 25279 --- [           main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 6.5.0 by Redgate\r\n    2020-10-14 15:59:20.052  INFO 25279 --- [           main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:h2:mem:///DBNAME (H2 1.4)\r\n    2020-10-14 15:59:20.118  INFO 25279 --- [           main] o.f.core.internal.command.DbValidate     : Successfully validated 1 migration (execution time 00:00.022s)\r\n    2020-10-14 15:59:20.131  INFO 25279 --- [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table &quot;PUBLIC&quot;.&quot;flyway_schema_history&quot; ...\r\n    2020-10-14 15:59:20.175  INFO 25279 --- [           main] o.f.core.internal.command.DbMigrate      : Current version of schema &quot;PUBLIC&quot;: &lt;&lt; Empty Schema &gt;&gt;\r\n    2020-10-14 15:59:20.178  INFO 25279 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema &quot;PUBLIC&quot; to version 1.0.0 - schma\r\n    2020-10-14 15:59:20.204  INFO 25279 --- [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 1 migration to schema &quot;PUBLIC&quot; (execution time 00:00.036s)\r\n    2020-10-14 15:59:20.689  INFO 25279 --- [           main] i.g.i.repository.CustomerRepositoryTest  : Started CustomerRepositoryTest in 2.466 seconds (JVM running for 3.326)\r\n    \r\n    2020-10-14 15:59:21.115 DEBUG 25279 --- [           main] o.s.d.r2dbc.core.DefaultDatabaseClient   : Executing SQL statement [INSERT INTO customer (first_name, last_name) VALUES ($1, $2)]\r\n    \r\n    \r\n    org.springframework.data.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar [INSERT INTO customer (first_name, last_name) VALUES ($1, $2)]; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [42102] [42S02] Tabelle &quot;CUSTOMER&quot; nicht gefunden\r\n    Table &quot;CUSTOMER&quot; not found; SQL statement:\r\n    INSERT INTO customer (first_name, last_name) VALUES ($1, $2) [42102-200]\r\n\r\n\r\nMy src/test/resources/application.yaml is looking like this:\r\n\r\n    spring:\r\n      r2dbc:\r\n        url: r2dbc:h2:mem:///DBNAME?options=DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\r\n        username: sa\r\n        password:\r\n    \r\n      flyway:\r\n        url: jdbc:h2:mem:///DBNAME\r\n        baseline-on-migrate: true\r\n        user: sa\r\n        password:\r\n\r\n\r\nAny ideas whats missing missing or whats wrong with the setup? If further information is needed please let me know.\r\n\r\n### Addition/Solution:\r\n\r\nThe url pattern is different between jdbc and r2dbc. The working solution for me is as follows:\r\n\r\n    url: r2dbc:h2:file:///./tmp/test-database\r\n    url: jdbc:h2:file:./tmp/test-database\r\n\r\nAnd In order to setup Flyway you have to Configure Flyway:\r\n\r\n    // Flyway is not compatible with r2dbc yet, therefore this config class is created\r\n    @Configuration\r\n    public class FlywayConfig {\r\n    \r\n        private final Environment env;\r\n    \r\n        public FlywayConfig(final Environment env) {\r\n            this.env = env;\r\n        }\r\n    \r\n        @Bean(initMethod = &quot;migrate&quot;)\r\n        public Flyway flyway() {\r\n            return new Flyway(Flyway.configure()\r\n                    .baselineOnMigrate(true)\r\n                    .dataSource(\r\n                            env.getRequiredProperty(&quot;spring.flyway.url&quot;),\r\n                            env.getRequiredProperty(&quot;spring.flyway.user&quot;),\r\n                            env.getRequiredProperty(&quot;spring.flyway.password&quot;))\r\n            );\r\n        }\r\n    }\r\n\r\n","title":"Setup h2 in spring boot application with r2dbc and flyway","body":"<p>I'm playing around with Spring Boot and the reactive jdbc driver called r2dbc. In my main application I'm using Postgres as a database and now I want to the use h2 for the tests. And the Flyway migration is working with the setup but when the Spring application is able to insert records.</p>\n<p>Here is my setup and code</p>\n<pre><code>@SpringBootTest\nclass CustomerRepositoryTest {\n\n    @Autowired\n    CustomerRepository repository;\n\n    @Test\n    void insertToDatabase() {\n        repository.saveAll(List.of(new Customer(&quot;Jack&quot;, &quot;Bauer&quot;),\n                new Customer(&quot;Chloe&quot;, &quot;O'Brian&quot;),\n                new Customer(&quot;Kim&quot;, &quot;Bauer&quot;),\n                new Customer(&quot;David&quot;, &quot;Palmer&quot;),\n                new Customer(&quot;Michelle&quot;, &quot;Dessler&quot;)))\n                .blockLast(Duration.ofSeconds(10));\n    }\n}\n</code></pre>\n<p>Here is the <strong>error</strong> that I'm getting</p>\n<pre><code> :: Spring Boot ::        (v2.3.4.RELEASE)\n\n2020-10-14 15:59:18.538  INFO 25279 --- [           main] i.g.i.repository.CustomerRepositoryTest  : Starting CustomerRepositoryTest on imalik8088.fritz.box with PID 25279 (started by imalik in /Users/imalik/code/private/explore-java/spring-example)\n2020-10-14 15:59:18.540  INFO 25279 --- [           main] i.g.i.repository.CustomerRepositoryTest  : No active profile set, falling back to default profiles: default\n2020-10-14 15:59:19.108  INFO 25279 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\n2020-10-14 15:59:19.273  INFO 25279 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 160ms. Found 1 R2DBC repository interfaces.\n2020-10-14 15:59:19.894  INFO 25279 --- [           main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 6.5.0 by Redgate\n2020-10-14 15:59:20.052  INFO 25279 --- [           main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:h2:mem:///DBNAME (H2 1.4)\n2020-10-14 15:59:20.118  INFO 25279 --- [           main] o.f.core.internal.command.DbValidate     : Successfully validated 1 migration (execution time 00:00.022s)\n2020-10-14 15:59:20.131  INFO 25279 --- [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table &quot;PUBLIC&quot;.&quot;flyway_schema_history&quot; ...\n2020-10-14 15:59:20.175  INFO 25279 --- [           main] o.f.core.internal.command.DbMigrate      : Current version of schema &quot;PUBLIC&quot;: &lt;&lt; Empty Schema &gt;&gt;\n2020-10-14 15:59:20.178  INFO 25279 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema &quot;PUBLIC&quot; to version 1.0.0 - schma\n2020-10-14 15:59:20.204  INFO 25279 --- [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 1 migration to schema &quot;PUBLIC&quot; (execution time 00:00.036s)\n2020-10-14 15:59:20.689  INFO 25279 --- [           main] i.g.i.repository.CustomerRepositoryTest  : Started CustomerRepositoryTest in 2.466 seconds (JVM running for 3.326)\n\n2020-10-14 15:59:21.115 DEBUG 25279 --- [           main] o.s.d.r2dbc.core.DefaultDatabaseClient   : Executing SQL statement [INSERT INTO customer (first_name, last_name) VALUES ($1, $2)]\n\n\norg.springframework.data.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar [INSERT INTO customer (first_name, last_name) VALUES ($1, $2)]; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [42102] [42S02] Tabelle &quot;CUSTOMER&quot; nicht gefunden\nTable &quot;CUSTOMER&quot; not found; SQL statement:\nINSERT INTO customer (first_name, last_name) VALUES ($1, $2) [42102-200]\n</code></pre>\n<p>My src/test/resources/application.yaml is looking like this:</p>\n<pre><code>spring:\n  r2dbc:\n    url: r2dbc:h2:mem:///DBNAME?options=DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\n    username: sa\n    password:\n\n  flyway:\n    url: jdbc:h2:mem:///DBNAME\n    baseline-on-migrate: true\n    user: sa\n    password:\n</code></pre>\n<p>Any ideas whats missing missing or whats wrong with the setup? If further information is needed please let me know.</p>\n<h3>Addition/Solution:</h3>\n<p>The url pattern is different between jdbc and r2dbc. The working solution for me is as follows:</p>\n<pre><code>url: r2dbc:h2:file:///./tmp/test-database\nurl: jdbc:h2:file:./tmp/test-database\n</code></pre>\n<p>And In order to setup Flyway you have to Configure Flyway:</p>\n<pre><code>// Flyway is not compatible with r2dbc yet, therefore this config class is created\n@Configuration\npublic class FlywayConfig {\n\n    private final Environment env;\n\n    public FlywayConfig(final Environment env) {\n        this.env = env;\n    }\n\n    @Bean(initMethod = &quot;migrate&quot;)\n    public Flyway flyway() {\n        return new Flyway(Flyway.configure()\n                .baselineOnMigrate(true)\n                .dataSource(\n                        env.getRequiredProperty(&quot;spring.flyway.url&quot;),\n                        env.getRequiredProperty(&quot;spring.flyway.user&quot;),\n                        env.getRequiredProperty(&quot;spring.flyway.password&quot;))\n        );\n    }\n}\n</code></pre>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667846481,"post_id":74351331,"comment_id":131260641,"body_markdown":"I would call your resources directory &#39;images&#39;:\n[Netbeans](https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans)","body":"I would call your resources directory &#39;images&#39;: <a href=\"https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans\" rel=\"nofollow noreferrer\">Netbeans</a>"},{"owner":{"account_id":26852304,"reputation":11,"user_id":20437049,"display_name":"Lukas Haberly"},"score":0,"creation_date":1667846599,"post_id":74351331,"comment_id":131260680,"body_markdown":"I did, issue is that It won&#39;t fetch the image, I&#39;ve tried images, res, resolutions, etc. and I cant find any fix, its just not fetching the image (I tested it by putting a print line)","body":"I did, issue is that It won&#39;t fetch the image, I&#39;ve tried images, res, resolutions, etc. and I cant find any fix, its just not fetching the image (I tested it by putting a print line)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667846782,"post_id":74351331,"comment_id":131260740,"body_markdown":"Please post your full stack trace (*as code*). That vestigial error message doesn&#39;t seem to have much connection with the code you posted","body":"Please post your full stack trace (<i>as code</i>). That vestigial error message doesn&#39;t seem to have much connection with the code you posted"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1667938477,"post_id":74351331,"comment_id":131286572,"body_markdown":"@g00se The stack trace error message does have a connection to the code posted - it&#39;s coming from a call to `ImageIO.read()`.","body":"@g00se The stack trace error message does have a connection to the code posted - it&#39;s coming from a call to <code>ImageIO.read()</code>."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1667938588,"post_id":74351331,"comment_id":131286612,"body_markdown":"@LukasHaberly [Have a look at these SO questions](https://stackoverflow.com/search?q=%22java.lang.IllegalArgumentException%3A+input+%3D%3D+null%21%22+%22ImageIO.read%22), and their comments and answers, for problems similar to yours. If none of that helps, update your question to state what you tried that did not work. And regardless of that, update your question to show the stack trace. It would also be helpful if you identified the failing line in your code. It&#39;s probably (but not necessarily)  `up1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_1.png&quot;));`, right?","body":"@LukasHaberly <a href=\"https://stackoverflow.com/search?q=%22java.lang.IllegalArgumentException%3A+input+%3D%3D+null%21%22+%22ImageIO.read%22\">Have a look at these SO questions</a>, and their comments and answers, for problems similar to yours. If none of that helps, update your question to state what you tried that did not work. And regardless of that, update your question to show the stack trace. It would also be helpful if you identified the failing line in your code. It&#39;s probably (but not necessarily)  <code>up1 = ImageIO.read(getClass().getResourceAsStream(&quot;&#47;player&#47;boy_up_&zwnj;&#8203;1.png&quot;));</code>, right?"}],"owner":{"account_id":26852304,"reputation":11,"user_id":20437049,"display_name":"Lukas Haberly"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667846209,"creation_date":1667846209,"question_id":74351331,"body_markdown":"\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!\r\n\r\nThe code I have is:\r\n\r\n\r\n```\r\n    public void getPlayerImage(){\r\n    try {\r\n          System.out.println(&quot;Somethings wrong if u dont see gay&quot;);\r\n          up1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_1.png&quot;));\r\n          up2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_2.png&quot;));\r\n          down1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_down_1.png&quot;));\r\n          down2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_down_2.png&quot;));\r\n          left1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_left_1.png&quot;));\r\n          left2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_left_2.png&quot;));\r\n          right1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_right_1.png&quot;));\r\n          right2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_right_2.png&quot;));\r\n          System.out.println(&quot;Gay&quot;);\r\n                  \r\n    }catch(IOException e) {\r\n        e.printStackTrace();\r\n    }}\r\n```\r\n\r\n\r\nI&#39;m currently trying to make a 2D game application, and i&#39;ve been fiddling with this code for hours, I&#39;m somewhat new to Java and have no clue what i&#39;m doing, now, im not sure but I think it could be because it&#39;s not a source package that the images are located in, yet I&#39;m not sure how to do that (I&#39;m using Netbeans IDE) Any help would be greatly appreciated!!!","title":"Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null! Error","body":"<p>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!</p>\n<p>The code I have is:</p>\n<pre><code>    public void getPlayerImage(){\n    try {\n          System.out.println(&quot;Somethings wrong if u dont see gay&quot;);\n          up1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_1.png&quot;));\n          up2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_2.png&quot;));\n          down1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_down_1.png&quot;));\n          down2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_down_2.png&quot;));\n          left1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_left_1.png&quot;));\n          left2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_left_2.png&quot;));\n          right1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_right_1.png&quot;));\n          right2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_right_2.png&quot;));\n          System.out.println(&quot;Gay&quot;);\n                  \n    }catch(IOException e) {\n        e.printStackTrace();\n    }}\n</code></pre>\n<p>I'm currently trying to make a 2D game application, and i've been fiddling with this code for hours, I'm somewhat new to Java and have no clue what i'm doing, now, im not sure but I think it could be because it's not a source package that the images are located in, yet I'm not sure how to do that (I'm using Netbeans IDE) Any help would be greatly appreciated!!!</p>\n"},{"tags":["java","spring","postgresql","jpa"],"comments":[{"owner":{"account_id":3665721,"reputation":360,"user_id":3054221,"display_name":"monterico"},"score":0,"creation_date":1423391610,"post_id":28392747,"comment_id":45122621,"body_markdown":"your answer is different than the @singhakash. so what is the best practice ?","body":"your answer is different than the @singhakash. so what is the best practice ?"}],"answers":[{"tags":[],"owner":{"account_id":4751994,"reputation":7921,"user_id":3841803,"accept_rate":69,"display_name":"singhakash"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1423391218,"creation_date":1423391218,"answer_id":28392898,"question_id":28392747,"body_markdown":"&gt; if we call EntityTransaction.commit(), does it automatically call\r\n&gt; EntityManager.flush()?\r\n\r\nYes\r\n\r\n&gt; what is the difference?\r\n\r\nIn flush()  the changes to the data are reflected in database after encountering flush, but it is still in transaction.flush() MUST be enclosed in a transaction context and you don&#39;t have to do it explicitly unless needed (in rare cases), when EntityTransaction.commit() does that for you.\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11048177/entitymanager-flush-vs-entitymanager-gettransaction-commit-what-should-i-p","title":"JPA flush vs commit","body":"<blockquote>\n  <p>if we call EntityTransaction.commit(), does it automatically call\n  EntityManager.flush()?</p>\n</blockquote>\n\n<p>Yes</p>\n\n<blockquote>\n  <p>what is the difference?</p>\n</blockquote>\n\n<p>In flush()  the changes to the data are reflected in database after encountering flush, but it is still in transaction.flush() MUST be enclosed in a transaction context and you don't have to do it explicitly unless needed (in rare cases), when EntityTransaction.commit() does that for you.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/11048177/entitymanager-flush-vs-entitymanager-gettransaction-commit-what-should-i-p\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":2378682,"reputation":832,"user_id":2081279,"display_name":"Thomas Sch&#252;tt"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1510761837,"creation_date":1510761837,"answer_id":47312060,"question_id":28392747,"body_markdown":"If you have a @Version annotated column in your entity and call entityManager.flush(), then you will either (immediately!) get an OptimisticLockException, or the database will lock this row (or table). In the later case you can still call setRollbackOnly(), and the lock will later be released without a DB change.\r\n\r\nOr from a different perspective, with flush() you can create a (pessimistic) lock on that database row. The others will still see the old entry, but if they try to update they will be blocked, until the lock is released.\r\n\r\nAll this is also true for CMT (container managed transactions). Instead of waiting for the moment, where the service method is finished and the CMT commit is performed, you can call flush() (even several times) in your service method and handle the OptimisticLockException(s) immediately.\r\n","title":"JPA flush vs commit","body":"<p>If you have a @Version annotated column in your entity and call entityManager.flush(), then you will either (immediately!) get an OptimisticLockException, or the database will lock this row (or table). In the later case you can still call setRollbackOnly(), and the lock will later be released without a DB change.</p>\n\n<p>Or from a different perspective, with flush() you can create a (pessimistic) lock on that database row. The others will still see the old entry, but if they try to update they will be blocked, until the lock is released.</p>\n\n<p>All this is also true for CMT (container managed transactions). Instead of waiting for the moment, where the service method is finished and the CMT commit is performed, you can call flush() (even several times) in your service method and handle the OptimisticLockException(s) immediately.</p>\n"},{"tags":[],"owner":{"account_id":2662065,"reputation":1292,"user_id":2301494,"display_name":"Sanchi Girotra"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1667845617,"creation_date":1550729689,"answer_id":54800433,"question_id":28392747,"body_markdown":"**em.flush()** - It saves the entity immediately to the database with in a transaction to be used further and it can be rolled back.\r\n\r\n**em.getTransaction().commit** - It marks the end of transaction and saves all the changes with in the transaction into the database and it can&#39;t be rolled back.\r\n\r\nRefer https://prismoskills.appspot.com/lessons/Hibernate/Chapter_14_-_Flush_vs_Commit.jsp","title":"JPA flush vs commit","body":"<p><strong>em.flush()</strong> - It saves the entity immediately to the database with in a transaction to be used further and it can be rolled back.</p>\n<p><strong>em.getTransaction().commit</strong> - It marks the end of transaction and saves all the changes with in the transaction into the database and it can't be rolled back.</p>\n<p>Refer <a href=\"https://prismoskills.appspot.com/lessons/Hibernate/Chapter_14_-_Flush_vs_Commit.jsp\" rel=\"nofollow noreferrer\">https://prismoskills.appspot.com/lessons/Hibernate/Chapter_14_-_Flush_vs_Commit.jsp</a></p>\n"}],"owner":{"account_id":3665721,"reputation":360,"user_id":3054221,"display_name":"monterico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44824,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":28392898,"answer_count":3,"score":12,"last_activity_date":1667845617,"creation_date":1423390144,"question_id":28392747,"body_markdown":"in JPA, if we call EntityTransaction.commit(), does it automatically call EntityManager.flush()? or should we call them both? what is the difference? because i have problem with JPA, when i insert an entity to database, i call persist(). in the database, the data has been inserted (can be fetched), but that data doesn&#39;t show up in my app (i fetch it using findAll()). and on another entity, it showed up. is there something i don&#39;t know? i&#39;m using standard Spring CRUD, JPA resource_local, and postgresql. sorry for my english, thanks in advance","title":"JPA flush vs commit","body":"<p>in JPA, if we call EntityTransaction.commit(), does it automatically call EntityManager.flush()? or should we call them both? what is the difference? because i have problem with JPA, when i insert an entity to database, i call persist(). in the database, the data has been inserted (can be fetched), but that data doesn't show up in my app (i fetch it using findAll()). and on another entity, it showed up. is there something i don't know? i'm using standard Spring CRUD, JPA resource_local, and postgresql. sorry for my english, thanks in advance</p>\n"},{"tags":["java","android","inheritance","heremaps","heremaps-android-sdk"],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667845224,"creation_date":1667845224,"answer_id":74351148,"question_id":74350663,"body_markdown":"What you are asking for is multiple inheritance. You want a class to inherit from **both**  `HereMapClass` and `AppCompatActivity`. That isn&#39;t possible in Java as Java language does not support multiple inheritance.\r\n\r\nSince you are building an `Activity`, you **must** inherit from `AppCompatActivity`. Therefore, to use `HereMapClass` you will need to use delegation instead of inheritance.\r\n\r\nCreate an instance of `HereMapClass` and store a reference in a member variable in your `Activity`. When you want to use `HereMapClass`, simply call methods on your instance of the class.\r\n\r\nBasically, you are &quot;delegating&quot; some responsibility to the instance of `HereMapClass`.","title":"Android/Java: How to inherit from a class into an activity that extends AppCompatActivity?","body":"<p>What you are asking for is multiple inheritance. You want a class to inherit from <strong>both</strong>  <code>HereMapClass</code> and <code>AppCompatActivity</code>. That isn't possible in Java as Java language does not support multiple inheritance.</p>\n<p>Since you are building an <code>Activity</code>, you <strong>must</strong> inherit from <code>AppCompatActivity</code>. Therefore, to use <code>HereMapClass</code> you will need to use delegation instead of inheritance.</p>\n<p>Create an instance of <code>HereMapClass</code> and store a reference in a member variable in your <code>Activity</code>. When you want to use <code>HereMapClass</code>, simply call methods on your instance of the class.</p>\n<p>Basically, you are &quot;delegating&quot; some responsibility to the instance of <code>HereMapClass</code>.</p>\n"},{"tags":[],"owner":{"account_id":10865275,"reputation":151,"user_id":7988864,"display_name":"moondev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667845603,"creation_date":1667845603,"answer_id":74351225,"question_id":74350663,"body_markdown":"Use delegation instead of inheritance. \r\nUnlike some other object oriented programming languages, Java doesn’t provide support for multiple inheritance in classes. More info on that: https://www.digitalocean.com/community/tutorials/multiple-inheritance-in-java\r\n\r\nFor your use case, you could create an interface (ignore the naming :))\r\n\r\n        public interface HereMap {\r\n        void onProgress();\r\n        void populateInstalledMaps();\r\n    }\r\n\r\nCreate an implementation of that interface: \r\n\r\n    public class IHereMapImpl implements IHereMap {\r\n        @Override\r\n        public void onProgress() {\r\n            //add logic\r\n        }\r\n    \r\n        @Override\r\n        public void populateInstalledMaps() {\r\n            ////add logic\r\n        }\r\n    }\r\n\r\nuse this interface around where you need: \r\n\r\npublic class HereMap extends AppCompatActivity  {\r\n\r\n        private IHereMap iHereMap;\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            iHereMap = new IHereMapImpl();\r\n            iHereMap.onProgress();\r\n            iHereMap.populateInstalledMaps();\r\n        }\r\n    }\r\n\r\n\r\nRecommendation: [Android Architecture Guide][1]\r\n\r\nHope it helps :)\r\n\r\n\r\n  [1]: https://developer.android.com/topic/architecture?gclid=CjwKCAiA9qKbBhAzEiwAS4yeDYhM1SDEvczGfGyydvS7dB_itgk7EHSBEr0dpBoKK_VZv9mNtMGVbxoCk8EQAvD_BwE&amp;gclsrc=aw.ds","title":"Android/Java: How to inherit from a class into an activity that extends AppCompatActivity?","body":"<p>Use delegation instead of inheritance.\nUnlike some other object oriented programming languages, Java doesn’t provide support for multiple inheritance in classes. More info on that: <a href=\"https://www.digitalocean.com/community/tutorials/multiple-inheritance-in-java\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/multiple-inheritance-in-java</a></p>\n<p>For your use case, you could create an interface (ignore the naming :))</p>\n<pre><code>    public interface HereMap {\n    void onProgress();\n    void populateInstalledMaps();\n}\n</code></pre>\n<p>Create an implementation of that interface:</p>\n<pre><code>public class IHereMapImpl implements IHereMap {\n    @Override\n    public void onProgress() {\n        //add logic\n    }\n\n    @Override\n    public void populateInstalledMaps() {\n        ////add logic\n    }\n}\n</code></pre>\n<p>use this interface around where you need:</p>\n<p>public class HereMap extends AppCompatActivity  {</p>\n<pre><code>    private IHereMap iHereMap;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        iHereMap = new IHereMapImpl();\n        iHereMap.onProgress();\n        iHereMap.populateInstalledMaps();\n    }\n}\n</code></pre>\n<p>Recommendation: <a href=\"https://developer.android.com/topic/architecture?gclid=CjwKCAiA9qKbBhAzEiwAS4yeDYhM1SDEvczGfGyydvS7dB_itgk7EHSBEr0dpBoKK_VZv9mNtMGVbxoCk8EQAvD_BwE&amp;gclsrc=aw.ds\" rel=\"nofollow noreferrer\">Android Architecture Guide</a></p>\n<p>Hope it helps :)</p>\n"}],"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667845603,"creation_date":1667842600,"question_id":74350663,"body_markdown":"I am quite new to Android, and I don&#39;t know how to inherit from the class &#39;HereMapClass&#39;, in my case, into an activity &#39;HereMap&#39; that extends AppCompatActivity?\r\n\r\nI think there is code in double, the goal is to have the main class that inherit all the functions of the HereMapClass. I would like to get the class HereMapClass to manage the download of map etc... and the main class just to manage the map visually on the phone in a fragment. I did it that way because I need to use the class separate as I use it in multiple place in the code but without needing to display the map visually.\r\n\r\nHere is the code of the Main class :\r\n\r\n**HereMap Class activity:**\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    public class HereMap extends AppCompatActivity {\r\n    \r\n        private MapView view;\r\n        private AndroidXMapFragment mapFragment = null;\r\n        private MapRoute m_mapRoute;\r\n        JSONArray jsonPoints;\r\n        JSONArray jsArray;\r\n        ArrayList&lt;String&gt; poiArr;\r\n        String gpsFolder;\r\n        String poiFolder;\r\n        String loopName = &quot;&quot;;\r\n        String loopLang = &quot;&quot;;\r\n        String loopEvent = &quot;&quot;;\r\n    \r\n        Context mContext;\r\n        Intent intent;\r\n        Bundle bundle2;\r\n    \r\n    \r\n        private final static String TAG = HereMap.class.getSimpleName();\r\n        private MapView mapView;\r\n        private Map map;\r\n        private static Image m_marker_image;\r\n        //MapScreenMarker m_tap_marker;\r\n        MapMarker m_tap_marker2;\r\n        private ArrayList&lt;MapPackage&gt; currentInstalledMaps;\r\n        private String currentInstalledMapsString;\r\n        private ProgressBar downloadProgressBar;\r\n        private PositioningManager positioningManager = null;\r\n        private PositioningManager.OnPositionChangedListener positionListener;\r\n        private GeoCoordinate currentPosition;\r\n    \r\n    \r\n        // listener for MapLoader\r\n        private MapLoader.Listener mapLoaderHandler = new MapLoader.Listener() {\r\n    \r\n            @Override\r\n            public void onProgress(int progress) {\r\n                Log.i(TAG, &quot;Progress &quot; + progress + &quot;%&quot;);\r\n                downloadProgressBar.setProgress(progress);\r\n            }\r\n    \r\n            @Override\r\n            public void onInstallationSize(long diskSize, long networkSize) {\r\n                Log.i(TAG, &quot;Map data require &quot; + diskSize);\r\n            }\r\n    \r\n            @Override\r\n            public void onGetMapPackagesComplete(MapPackage rootMapPackage,\r\n                                                 MapLoader.ResultCode resultCode) {\r\n                if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\r\n                    Log.i(TAG, &quot;Map packages received successful: &quot; + rootMapPackage.getTitle());\r\n    \r\n                    currentInstalledMaps = new ArrayList&lt;&gt;(1);\r\n                    populateInstalledMaps(rootMapPackage);\r\n                } else {\r\n                    Log.e(TAG, &quot;Can&#39;t retrieve map packages: &quot; + resultCode.name());\r\n                    Toast.makeText(HereMap.this,\r\n                            &quot;Error: &quot; + resultCode.name(), Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n    \r\n                StringBuilder sb = new StringBuilder();\r\n                for (MapPackage pac : currentInstalledMaps) {\r\n                    sb.append(pac.getTitle());\r\n                    sb.append(&quot;\\n&quot;);\r\n                }\r\n    \r\n                currentInstalledMapsString = sb.toString();\r\n            }\r\n    \r\n    \r\n            private void populateInstalledMaps(MapPackage pac) {\r\n                // only take installed root package, so if e.g. Germany is installed,\r\n                // don&#39;t check for children states\r\n                if (pac.getInstallationState() == MapPackage.InstallationState.INSTALLED) {\r\n                    Log.i(TAG, &quot;Installed package found: &quot; + pac.getTitle() + &quot; id &quot; + pac.getId());\r\n                    currentInstalledMaps.add(pac);\r\n                } else if (pac.getChildren() != null &amp;&amp; pac.getChildren().size() &gt; 0) {\r\n                    for (MapPackage p : pac.getChildren()) {\r\n                        populateInstalledMaps(p);\r\n                    }\r\n                }\r\n            }\r\n    ...\r\n\r\nHere is the class to inherit into the main one:\r\n\r\n**HereMapClass:**\r\n\r\n    public class HereMapClass {\r\n    \r\n        private MapView view;\r\n        private AndroidXMapFragment mapFragment = null;\r\n        private MapRoute m_mapRoute;\r\n        private  MapEngine mapEngine;\r\n        private MapLoader mapLoader;\r\n    \r\n        JSONArray jsonPoints;\r\n        JSONArray jsArray;\r\n        ArrayList&lt;String&gt; poiArr;\r\n        String gpsFolder;\r\n        String poiFolder;\r\n        String loopName = &quot;&quot;;\r\n        String loopLang = &quot;&quot;;\r\n        String loopEvent = &quot;&quot;;\r\n    \r\n        Context mContext;\r\n        Intent intent;\r\n        Bundle bundle2;\r\n    \r\n    \r\n        private final static String TAG = HereMap.class.getSimpleName();\r\n        private MapView mapView;\r\n        private Map map;\r\n        private static Image m_marker_image;\r\n        //MapScreenMarker m_tap_marker;\r\n        MapMarker m_tap_marker2;\r\n        private ArrayList&lt;MapPackage&gt; currentInstalledMaps;\r\n        private String currentInstalledMapsString;\r\n        private ProgressBar downloadProgressBar;\r\n        private PositioningManager positioningManager = null;\r\n        private PositioningManager.OnPositionChangedListener positionListener;\r\n        private GeoCoordinate currentPosition;\r\n    \r\n        private Context context;\r\n    \r\n        public HereMapClass(Context context){\r\n            this.context=context;\r\n        }\r\n    \r\n        // listener for MapLoader\r\n        private MapLoader.Listener mapLoaderHandler = new MapLoader.Listener() {\r\n                @Override\r\n                public void onProgress(int progress) {\r\n                    Log.i(TAG, &quot;Progress &quot; + progress + &quot;%&quot;);\r\n                    downloadProgressBar.setProgress(progress);\r\n                }\r\n    \r\n                @Override\r\n                public void onInstallationSize(long diskSize, long networkSize) {\r\n                    Log.i(TAG, &quot;Map data require &quot; + diskSize);\r\n                }\r\n    \r\n                @Override\r\n                public void onGetMapPackagesComplete(MapPackage rootMapPackage,\r\n                                                     MapLoader.ResultCode resultCode) {\r\n                    if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\r\n                        Log.i(TAG, &quot;Map packages received successful: &quot; + rootMapPackage.getTitle());\r\n    \r\n                        currentInstalledMaps = new ArrayList&lt;&gt;(1);\r\n    \r\n                        populateInstalledMaps(rootMapPackage);\r\n    \r\n    \r\n                    } else {\r\n                        Log.e(TAG, &quot;Can&#39;t retrieve map packages: &quot; + resultCode.name());\r\n                        Toast.makeText(context,\r\n                                &quot;Error: &quot; + resultCode.name(), Toast.LENGTH_SHORT).show();\r\n                        return;\r\n                    }\r\n    \r\n                    StringBuilder sb = new StringBuilder();\r\n                    for (MapPackage pac : currentInstalledMaps) {\r\n                        sb.append(pac.getTitle());\r\n                        sb.append(&quot;\\n&quot;);\r\n                    }\r\n    \r\n                    currentInstalledMapsString = sb.toString();\r\n                }\r\n    \r\n    \r\n                private void populateInstalledMaps(MapPackage pac) {\r\n                    // only take installed root package, so if e.g. Germany is installed,\r\n                    // don&#39;t check for children states\r\n                    if (pac.getInstallationState() == MapPackage.InstallationState.INSTALLED) {\r\n                        Log.i(TAG, &quot;Installed package found: &quot; + pac.getTitle() + &quot; id &quot; + pac.getId());\r\n                        currentInstalledMaps.add(pac);\r\n                    } else if (pac.getChildren() != null &amp;&amp; pac.getChildren().size() &gt; 0) {\r\n                        for (MapPackage p : pac.getChildren()) {\r\n                            populateInstalledMaps(p);\r\n                        }\r\n                    }\r\n    \r\n                    //continuez &#224; installer\r\n                    //lancer notification pour login\r\n                    \r\n                }\r\n    ...\r\n\r\nBest regards\r\n","title":"Android/Java: How to inherit from a class into an activity that extends AppCompatActivity?","body":"<p>I am quite new to Android, and I don't know how to inherit from the class 'HereMapClass', in my case, into an activity 'HereMap' that extends AppCompatActivity?</p>\n<p>I think there is code in double, the goal is to have the main class that inherit all the functions of the HereMapClass. I would like to get the class HereMapClass to manage the download of map etc... and the main class just to manage the map visually on the phone in a fragment. I did it that way because I need to use the class separate as I use it in multiple place in the code but without needing to display the map visually.</p>\n<p>Here is the code of the Main class :</p>\n<p><strong>HereMap Class activity:</strong></p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\npublic class HereMap extends AppCompatActivity {\n\n    private MapView view;\n    private AndroidXMapFragment mapFragment = null;\n    private MapRoute m_mapRoute;\n    JSONArray jsonPoints;\n    JSONArray jsArray;\n    ArrayList&lt;String&gt; poiArr;\n    String gpsFolder;\n    String poiFolder;\n    String loopName = &quot;&quot;;\n    String loopLang = &quot;&quot;;\n    String loopEvent = &quot;&quot;;\n\n    Context mContext;\n    Intent intent;\n    Bundle bundle2;\n\n\n    private final static String TAG = HereMap.class.getSimpleName();\n    private MapView mapView;\n    private Map map;\n    private static Image m_marker_image;\n    //MapScreenMarker m_tap_marker;\n    MapMarker m_tap_marker2;\n    private ArrayList&lt;MapPackage&gt; currentInstalledMaps;\n    private String currentInstalledMapsString;\n    private ProgressBar downloadProgressBar;\n    private PositioningManager positioningManager = null;\n    private PositioningManager.OnPositionChangedListener positionListener;\n    private GeoCoordinate currentPosition;\n\n\n    // listener for MapLoader\n    private MapLoader.Listener mapLoaderHandler = new MapLoader.Listener() {\n\n        @Override\n        public void onProgress(int progress) {\n            Log.i(TAG, &quot;Progress &quot; + progress + &quot;%&quot;);\n            downloadProgressBar.setProgress(progress);\n        }\n\n        @Override\n        public void onInstallationSize(long diskSize, long networkSize) {\n            Log.i(TAG, &quot;Map data require &quot; + diskSize);\n        }\n\n        @Override\n        public void onGetMapPackagesComplete(MapPackage rootMapPackage,\n                                             MapLoader.ResultCode resultCode) {\n            if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\n                Log.i(TAG, &quot;Map packages received successful: &quot; + rootMapPackage.getTitle());\n\n                currentInstalledMaps = new ArrayList&lt;&gt;(1);\n                populateInstalledMaps(rootMapPackage);\n            } else {\n                Log.e(TAG, &quot;Can't retrieve map packages: &quot; + resultCode.name());\n                Toast.makeText(HereMap.this,\n                        &quot;Error: &quot; + resultCode.name(), Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            StringBuilder sb = new StringBuilder();\n            for (MapPackage pac : currentInstalledMaps) {\n                sb.append(pac.getTitle());\n                sb.append(&quot;\\n&quot;);\n            }\n\n            currentInstalledMapsString = sb.toString();\n        }\n\n\n        private void populateInstalledMaps(MapPackage pac) {\n            // only take installed root package, so if e.g. Germany is installed,\n            // don't check for children states\n            if (pac.getInstallationState() == MapPackage.InstallationState.INSTALLED) {\n                Log.i(TAG, &quot;Installed package found: &quot; + pac.getTitle() + &quot; id &quot; + pac.getId());\n                currentInstalledMaps.add(pac);\n            } else if (pac.getChildren() != null &amp;&amp; pac.getChildren().size() &gt; 0) {\n                for (MapPackage p : pac.getChildren()) {\n                    populateInstalledMaps(p);\n                }\n            }\n        }\n...\n</code></pre>\n<p>Here is the class to inherit into the main one:</p>\n<p><strong>HereMapClass:</strong></p>\n<pre><code>public class HereMapClass {\n\n    private MapView view;\n    private AndroidXMapFragment mapFragment = null;\n    private MapRoute m_mapRoute;\n    private  MapEngine mapEngine;\n    private MapLoader mapLoader;\n\n    JSONArray jsonPoints;\n    JSONArray jsArray;\n    ArrayList&lt;String&gt; poiArr;\n    String gpsFolder;\n    String poiFolder;\n    String loopName = &quot;&quot;;\n    String loopLang = &quot;&quot;;\n    String loopEvent = &quot;&quot;;\n\n    Context mContext;\n    Intent intent;\n    Bundle bundle2;\n\n\n    private final static String TAG = HereMap.class.getSimpleName();\n    private MapView mapView;\n    private Map map;\n    private static Image m_marker_image;\n    //MapScreenMarker m_tap_marker;\n    MapMarker m_tap_marker2;\n    private ArrayList&lt;MapPackage&gt; currentInstalledMaps;\n    private String currentInstalledMapsString;\n    private ProgressBar downloadProgressBar;\n    private PositioningManager positioningManager = null;\n    private PositioningManager.OnPositionChangedListener positionListener;\n    private GeoCoordinate currentPosition;\n\n    private Context context;\n\n    public HereMapClass(Context context){\n        this.context=context;\n    }\n\n    // listener for MapLoader\n    private MapLoader.Listener mapLoaderHandler = new MapLoader.Listener() {\n            @Override\n            public void onProgress(int progress) {\n                Log.i(TAG, &quot;Progress &quot; + progress + &quot;%&quot;);\n                downloadProgressBar.setProgress(progress);\n            }\n\n            @Override\n            public void onInstallationSize(long diskSize, long networkSize) {\n                Log.i(TAG, &quot;Map data require &quot; + diskSize);\n            }\n\n            @Override\n            public void onGetMapPackagesComplete(MapPackage rootMapPackage,\n                                                 MapLoader.ResultCode resultCode) {\n                if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\n                    Log.i(TAG, &quot;Map packages received successful: &quot; + rootMapPackage.getTitle());\n\n                    currentInstalledMaps = new ArrayList&lt;&gt;(1);\n\n                    populateInstalledMaps(rootMapPackage);\n\n\n                } else {\n                    Log.e(TAG, &quot;Can't retrieve map packages: &quot; + resultCode.name());\n                    Toast.makeText(context,\n                            &quot;Error: &quot; + resultCode.name(), Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n                StringBuilder sb = new StringBuilder();\n                for (MapPackage pac : currentInstalledMaps) {\n                    sb.append(pac.getTitle());\n                    sb.append(&quot;\\n&quot;);\n                }\n\n                currentInstalledMapsString = sb.toString();\n            }\n\n\n            private void populateInstalledMaps(MapPackage pac) {\n                // only take installed root package, so if e.g. Germany is installed,\n                // don't check for children states\n                if (pac.getInstallationState() == MapPackage.InstallationState.INSTALLED) {\n                    Log.i(TAG, &quot;Installed package found: &quot; + pac.getTitle() + &quot; id &quot; + pac.getId());\n                    currentInstalledMaps.add(pac);\n                } else if (pac.getChildren() != null &amp;&amp; pac.getChildren().size() &gt; 0) {\n                    for (MapPackage p : pac.getChildren()) {\n                        populateInstalledMaps(p);\n                    }\n                }\n\n                //continuez à installer\n                //lancer notification pour login\n                \n            }\n...\n</code></pre>\n<p>Best regards</p>\n"},{"tags":["java","oracle","spring-boot","ojdbc"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667838741,"post_id":74349364,"comment_id":131257841,"body_markdown":"Any specific reason to use wallet instead of JKS?","body":"Any specific reason to use wallet instead of JKS?"},{"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"score":0,"creation_date":1670090321,"post_id":74349364,"comment_id":131794265,"body_markdown":"Are you using Autonomous Database? or Are you connecting to on-premise database? You are adding too many connection properties. If you are connecting to ADB, it is quite straight forward (https://www.oracle.com/database/technologies/getting-started-using-jdbc.html)","body":"Are you using Autonomous Database? or Are you connecting to on-premise database? You are adding too many connection properties. If you are connecting to ADB, it is quite straight forward (<a href=\"https://www.oracle.com/database/technologies/getting-started-using-jdbc.html\" rel=\"nofollow noreferrer\">oracle.com/database/technologies/&hellip;</a>)"},{"owner":{"account_id":16519563,"reputation":23,"user_id":11936102,"display_name":"ChaosSystems"},"score":0,"creation_date":1670281487,"post_id":74349364,"comment_id":131835994,"body_markdown":"Hi, we&#39;re trying to connect to an on-prem database","body":"Hi, we&#39;re trying to connect to an on-prem database"}],"owner":{"account_id":16519563,"reputation":23,"user_id":11936102,"display_name":"ChaosSystems"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667845525,"creation_date":1667836504,"question_id":74349364,"body_markdown":"I&#39;ve created a small spring boot CommandLineRunner app to connect to an Oracle 12c database over SSL.\r\nI know the SSL is set up correctly as I can connect to the Oracle source using a SSL Connection in AWS DMS.\r\n\r\nI have the following dependencies in my pom.xml file:\r\n\r\n```\r\n\t    &lt;dependency&gt;\r\n\t       &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t       &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t       &lt;version&gt;19.3.0.0&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t        &lt;groupId&gt;com.oracle.database.security&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;oraclepki&lt;/artifactId&gt;\r\n\t        &lt;version&gt;19.3.0.0&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t       &lt;groupId&gt;com.oracle.database.security&lt;/groupId&gt;\r\n\t       &lt;artifactId&gt;osdt_cert&lt;/artifactId&gt;\r\n\t       &lt;version&gt;19.3.0.0&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t       &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\r\n\t       &lt;artifactId&gt;osdt_core&lt;/artifactId&gt;\r\n\t       &lt;version&gt;19.3.0.0&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\r\n```\r\n\r\nAnd here is a snippet from my app:\r\n\r\n```\r\n        \tSecurity.addProvider(new oracle.security.pki.OraclePKIProvider());\r\n\r\n\t\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\t\t\tString url = &quot;jdbc:oracle:thin:@(description=(retry_count=5)(retry_delay=3)(address=(protocol=tcps)&quot; + \r\n\t\t\t\t\t&quot;(port=2484)(host=redacted.com))(connect_data=(service_name=REDACTED.COM))&quot; + \r\n\t\t\t\t\t&quot;(security=(ssl_server_cert_dn=\\&quot;CN=redacted.com,OU=redacted,O=redacted,C=uk\\&quot;)))&quot;;\r\n\t\t\t\r\n\t\t\tProperties properties = new Properties();\r\n\t\t\t\r\n\t\t\tproperties.put(&quot;javax.net.ssl.trustStore&quot;,&quot;C:/oracle/network/admin/cwallet.sso&quot;);\r\n\t\t\tproperties.put(&quot;oracle.net.wallet_location&quot;,&quot;file:///C:/oracle/network/admin/cwallet.sso&quot;);\r\n\t\t\tproperties.put(&quot;oracle.net.ssl_version&quot;,&quot;1.2&quot;);\r\n\t\t\tproperties.put(&quot;javax.net.ssl.trustStoreType&quot;,&quot;SSO&quot;);\r\n\t\t\tproperties.put(&quot;oracle.net.ssl_server_dn_match&quot;, &quot;true&quot;);\t\r\n\t\t\tproperties.put(&quot;oracle.net.ssl_cipher_suites&quot;,&quot;(SSL_DH_anon_WITH_3DES_EDE_CBC_SHA, SSL_DH_anon_WITH_RC4_128_MD5,SSL_DH_anon_WITH_DES_CBC_SHA)&quot;);\r\n\t\t\tproperties.put(&quot;oracle.net.ssl_client_authentication&quot;,&quot;false&quot;);\r\n\t\t\t\r\n        \tcon = DriverManager.getConnection(url,properties);\r\n\r\n```\r\n\r\nCurrently I&#39;m running the app locally on my Windows Laptop.\r\n\r\nDoes anyone have a working Spring Boot example of connecting to Oracle using just a cwallet.sso file\r\n\r\n\r\n\r\nWhen the app tries to establish the connection it throws the following:\r\n\r\n```\r\njava.sql.SQLRecoverableException: IO Error: The Network Adapter could not establish the connection\r\n\tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:854)\r\n\tat oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:793)\r\n\tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:57)\r\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:747)\r\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:562)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:189)\r\n\tat com.electrocomponents.application.Application.initialise(Application.java:64)\r\n\tat com.electrocomponents.application.Application.run(Application.java:34)\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n\tat com.electrocomponents.application.Application.main(Application.java:27)\r\nCaused by: oracle.net.ns.NetException: The Network Adapter could not establish the connection\r\n\tat oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:571)\r\n\tat oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:548)\r\n\tat oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:682)\r\n\tat oracle.net.ns.NSProtocol.connect(NSProtocol.java:309)\r\n\tat oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1596)\r\n\tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:588)\r\n\t... 14 more\r\nCaused by: java.io.IOException: Connection timed out: connect, socket connect lapse 21039 ms. redacted.com/17.256.95.22 2484 0 1\r\n\tat oracle.net.nt.TcpsNTAdapter.connect(TcpsNTAdapter.java:295)\r\n\tat oracle.net.nt.ConnOption.connect(ConnOption.java:174)\r\n\tat oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:510)\r\n\t... 19 more\r\nCaused by: java.net.ConnectException: Connection timed out: connect\r\n\tat java.base/sun.nio.ch.Net.connect0(Native Method)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:482)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:474)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:694)\r\n\tat java.base/java.nio.channels.SocketChannel.open(SocketChannel.java:194)\r\n\tat oracle.net.nt.TimeoutSocketChannel.connect(TimeoutSocketChannel.java:99)\r\n\tat oracle.net.nt.TimeoutSocketChannel.&lt;init&gt;(TimeoutSocketChannel.java:85)\r\n\tat oracle.net.nt.TcpsNTAdapter.connect(TcpsNTAdapter.java:229)\r\n\t... 21 more\r\n```\r\n\r\nI have read this Oracle document [SSL With Oracle JDBC Thin Driver](https://www.oracle.com/technetwork/database/enterprise-edition/wp-oracle-jdbc-thin-ssl-130128.pdf) but this was written in 2010.\r\n\r\nI logged onto the Oracle server and viewed the User and Trusted Certificates using the following command:\r\n\r\norapki wallet display -wallet cwallet.sso\r\n\r\nIn the JDBC Url, I matched the ssl_server_cert_dsn to the output from the above orapki command.\r\n\r\nI have the following in my sqlnet.ora file (in the same directory as the cwallet.sso)\r\n\r\n```\r\nWALLET_LOCATION = (SOURCE = (METHOD = file) (METHOD_DATA = (DIRECTORY = &quot;C:\\\\oracle\\\\network\\\\admin&quot;)))\r\nSSL_SERVER_DN_MATCH = yes\r\nsqlnet.wallet_override = true\r\n```\r\nAnd this in my tnsnames.ora file (in the same directory as the cwallet.sso)\r\n\r\n```\r\ndatabase_high=\r\n   (description=\r\n      (address=\r\n         (protocol=tcps)\r\n         (port=2484)\r\n         (host=redacted.com)\r\n      )\r\n      (connect_data=\r\n         (service_name=REDACTED.COM)\r\n      )\r\n      (security=\r\n          (ssl_server_cert_dn=&quot;CN=redacted.com,OU=redacted,O=redacted,C=uk&quot;)\r\n      )\r\n   )\r\n\r\n```\r\n\r\nI am expecting the connection to establish","title":"Unable to connect to Oracle 12C using Spring Boot 2.7.3, Java 11 and cwallet.sso","body":"<p>I've created a small spring boot CommandLineRunner app to connect to an Oracle 12c database over SSL.\nI know the SSL is set up correctly as I can connect to the Oracle source using a SSL Connection in AWS DMS.</p>\n<p>I have the following dependencies in my pom.xml file:</p>\n<pre><code>        &lt;dependency&gt;\n           &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n           &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n           &lt;version&gt;19.3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.security&lt;/groupId&gt;\n            &lt;artifactId&gt;oraclepki&lt;/artifactId&gt;\n            &lt;version&gt;19.3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;com.oracle.database.security&lt;/groupId&gt;\n           &lt;artifactId&gt;osdt_cert&lt;/artifactId&gt;\n           &lt;version&gt;19.3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\n           &lt;artifactId&gt;osdt_core&lt;/artifactId&gt;\n           &lt;version&gt;19.3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<p>And here is a snippet from my app:</p>\n<pre><code>            Security.addProvider(new oracle.security.pki.OraclePKIProvider());\n\n            Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n            String url = &quot;jdbc:oracle:thin:@(description=(retry_count=5)(retry_delay=3)(address=(protocol=tcps)&quot; + \n                    &quot;(port=2484)(host=redacted.com))(connect_data=(service_name=REDACTED.COM))&quot; + \n                    &quot;(security=(ssl_server_cert_dn=\\&quot;CN=redacted.com,OU=redacted,O=redacted,C=uk\\&quot;)))&quot;;\n            \n            Properties properties = new Properties();\n            \n            properties.put(&quot;javax.net.ssl.trustStore&quot;,&quot;C:/oracle/network/admin/cwallet.sso&quot;);\n            properties.put(&quot;oracle.net.wallet_location&quot;,&quot;file:///C:/oracle/network/admin/cwallet.sso&quot;);\n            properties.put(&quot;oracle.net.ssl_version&quot;,&quot;1.2&quot;);\n            properties.put(&quot;javax.net.ssl.trustStoreType&quot;,&quot;SSO&quot;);\n            properties.put(&quot;oracle.net.ssl_server_dn_match&quot;, &quot;true&quot;);   \n            properties.put(&quot;oracle.net.ssl_cipher_suites&quot;,&quot;(SSL_DH_anon_WITH_3DES_EDE_CBC_SHA, SSL_DH_anon_WITH_RC4_128_MD5,SSL_DH_anon_WITH_DES_CBC_SHA)&quot;);\n            properties.put(&quot;oracle.net.ssl_client_authentication&quot;,&quot;false&quot;);\n            \n            con = DriverManager.getConnection(url,properties);\n\n</code></pre>\n<p>Currently I'm running the app locally on my Windows Laptop.</p>\n<p>Does anyone have a working Spring Boot example of connecting to Oracle using just a cwallet.sso file</p>\n<p>When the app tries to establish the connection it throws the following:</p>\n<pre><code>java.sql.SQLRecoverableException: IO Error: The Network Adapter could not establish the connection\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:854)\n    at oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:793)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:57)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:747)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:562)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:189)\n    at com.electrocomponents.application.Application.initialise(Application.java:64)\n    at com.electrocomponents.application.Application.run(Application.java:34)\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.electrocomponents.application.Application.main(Application.java:27)\nCaused by: oracle.net.ns.NetException: The Network Adapter could not establish the connection\n    at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:571)\n    at oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:548)\n    at oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:682)\n    at oracle.net.ns.NSProtocol.connect(NSProtocol.java:309)\n    at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1596)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:588)\n    ... 14 more\nCaused by: java.io.IOException: Connection timed out: connect, socket connect lapse 21039 ms. redacted.com/17.256.95.22 2484 0 1\n    at oracle.net.nt.TcpsNTAdapter.connect(TcpsNTAdapter.java:295)\n    at oracle.net.nt.ConnOption.connect(ConnOption.java:174)\n    at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:510)\n    ... 19 more\nCaused by: java.net.ConnectException: Connection timed out: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:482)\n    at java.base/sun.nio.ch.Net.connect(Net.java:474)\n    at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:694)\n    at java.base/java.nio.channels.SocketChannel.open(SocketChannel.java:194)\n    at oracle.net.nt.TimeoutSocketChannel.connect(TimeoutSocketChannel.java:99)\n    at oracle.net.nt.TimeoutSocketChannel.&lt;init&gt;(TimeoutSocketChannel.java:85)\n    at oracle.net.nt.TcpsNTAdapter.connect(TcpsNTAdapter.java:229)\n    ... 21 more\n</code></pre>\n<p>I have read this Oracle document <a href=\"https://www.oracle.com/technetwork/database/enterprise-edition/wp-oracle-jdbc-thin-ssl-130128.pdf\" rel=\"nofollow noreferrer\">SSL With Oracle JDBC Thin Driver</a> but this was written in 2010.</p>\n<p>I logged onto the Oracle server and viewed the User and Trusted Certificates using the following command:</p>\n<p>orapki wallet display -wallet cwallet.sso</p>\n<p>In the JDBC Url, I matched the ssl_server_cert_dsn to the output from the above orapki command.</p>\n<p>I have the following in my sqlnet.ora file (in the same directory as the cwallet.sso)</p>\n<pre><code>WALLET_LOCATION = (SOURCE = (METHOD = file) (METHOD_DATA = (DIRECTORY = &quot;C:\\\\oracle\\\\network\\\\admin&quot;)))\nSSL_SERVER_DN_MATCH = yes\nsqlnet.wallet_override = true\n</code></pre>\n<p>And this in my tnsnames.ora file (in the same directory as the cwallet.sso)</p>\n<pre><code>database_high=\n   (description=\n      (address=\n         (protocol=tcps)\n         (port=2484)\n         (host=redacted.com)\n      )\n      (connect_data=\n         (service_name=REDACTED.COM)\n      )\n      (security=\n          (ssl_server_cert_dn=&quot;CN=redacted.com,OU=redacted,O=redacted,C=uk&quot;)\n      )\n   )\n\n</code></pre>\n<p>I am expecting the connection to establish</p>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1667779124,"post_id":74340675,"comment_id":131242158,"body_markdown":"`ticTacToeBoard[i][j] = input.next().charAt(j)` - Please carefully read the Javadoc for `Scanner#next()` with regards to how it splits the input into tokens.  Then step through your program in your IDE debugger to see what&#39;s actually happening.","body":"<code>ticTacToeBoard[i][j] = input.next().charAt(j)</code> - Please carefully read the Javadoc for <code>Scanner#next()</code> with regards to how it splits the input into tokens.  Then step through your program in your IDE debugger to see what&#39;s actually happening."},{"owner":{"account_id":24938463,"reputation":1,"user_id":18804708,"display_name":"maxhub"},"score":0,"creation_date":1667781503,"post_id":74340675,"comment_id":131242465,"body_markdown":"@JimGarrison looking through debugger it shows that the first line of the input is taken in correctly but then for the second row of the array it takes the 0 value of the input skipping the actual grid. Then the error happens","body":"@JimGarrison looking through debugger it shows that the first line of the input is taken in correctly but then for the second row of the array it takes the 0 value of the input skipping the actual grid. Then the error happens"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1667781573,"post_id":74340675,"comment_id":131242479,"body_markdown":"How many characters do you expect `next()` to read? What is it _actually_ reading?","body":"How many characters do you expect <code>next()</code> to read? What is it <i>actually</i> reading?"},{"owner":{"account_id":24938463,"reputation":1,"user_id":18804708,"display_name":"maxhub"},"score":0,"creation_date":1667781877,"post_id":74340675,"comment_id":131242516,"body_markdown":"@Jim Garrison I am expecting it to read 9 characters in total but I don&#39;t know what it is reading","body":"@Jim Garrison I am expecting it to read 9 characters in total but I don&#39;t know what it is reading"}],"answers":[{"tags":[],"owner":{"account_id":24938463,"reputation":1,"user_id":18804708,"display_name":"maxhub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667845481,"creation_date":1667845481,"answer_id":74351190,"question_id":74340675,"body_markdown":"The problem was with the scanner.next() as it would take the entire line then move on to the next within the loop which would skip over all the characters I needed.\r\n\r\n```java\r\n    for (int i = 0; i &lt; gameGrid.length; i++) {\r\n            String line = input.next();\r\n            for (int j = 0; j &lt; gameGrid[i].length; j++) {\r\n                gameGrid[i][j] = line.charAt(j);\r\n```\r\n\r\nBy storing the line then looping through that stored line using charAt it takes each char correctly.","title":"Getting error String Index out of range: 1 but don&#39;t know what the issue is","body":"<p>The problem was with the scanner.next() as it would take the entire line then move on to the next within the loop which would skip over all the characters I needed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (int i = 0; i &lt; gameGrid.length; i++) {\n            String line = input.next();\n            for (int j = 0; j &lt; gameGrid[i].length; j++) {\n                gameGrid[i][j] = line.charAt(j);\n</code></pre>\n<p>By storing the line then looping through that stored line using charAt it takes each char correctly.</p>\n"}],"owner":{"account_id":24938463,"reputation":1,"user_id":18804708,"display_name":"maxhub"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667845481,"creation_date":1667778852,"question_id":74340675,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\n/**\r\n * (add a summary comment)\r\n * @author Samuel Church\r\n * @author Max Hubenko\r\n */\r\npublic class TicTacToe {\r\n\r\n    /**\r\n     * Prints to the console the contents of the given tic-tac-toe grid\r\n     * @param grid 2D char array representing current state of tic-tac-toe game\r\n     */\r\n    public static void printGrid(char[][] grid) {\r\n        System.out.print(grid);\r\n    }\r\n\r\n    /**\r\n     * Updates the tic-tac-toe grid given a move by a player (specified by row, column and mark).\r\n     * @param grid current tic-tac-toe grid that will be updated\r\n     * @param row The row the player would like to play in (in the range [0, 2])\r\n     * @param column The column the player would like to play in (in the range [0, 2])\r\n     * @param mark The mark the player would like to place (&#39;X&#39;, &#39;O&#39;)\r\n     */\r\n    public static void placeMark(char[][] grid, int row, int column, char mark) {\r\n        grid[row][column] = mark;\r\n    }\r\n\r\n    /**\r\n     * Reads user input and stores it in a 3x3 char array. This represents\r\n     * the current state of the tic-tac-toe grid. Expect user input to be\r\n     * three lines with three characters on each line.\r\n     * @param input Scanner instance used to read user input\r\n     * @return tic-tac-toe grid as a 2D char array\r\n     */\r\n    public static char[][] readInGrid(Scanner input){\r\n        char ticTacToeBoard[][] = new char[3][3];\r\n        for (int i = 0; i &lt; ticTacToeBoard.length; i++) {\r\n            for (int j = 0; j &lt; ticTacToeBoard[i].length; j++) {\r\n                ticTacToeBoard[i][j] = input.next().charAt(j);\r\n            }\r\n        }\r\n        return ticTacToeBoard;\r\n    }\r\n\r\n    /**\r\n     * Create and show a tic-tac-toe board using the methods you&#39;ll write.\r\n     * Read user input to determine updates to the board.\r\n     * @param args unused\r\n     */\r\n    public static void main(String[] args) {\r\n        // DO NOT EDIT MAIN\r\n        \r\n        Scanner input = new Scanner(System.in);\r\n\r\n        // Reads in the current state of the tic-tac-toe grid from the user\r\n        char[][] gameGrid = readInGrid(input);\r\n        \r\n        // Reads in the next player&#39;s move\r\n        int row = input.nextInt();\r\n        int column = input.nextInt();\r\n        char mark = input.next().charAt(0);\r\n\r\n        // Update the tic-tac-toe grid given the next player&#39;s move\r\n        placeMark(gameGrid, row, column, mark);\r\n\r\n        // Print the updated tic-tac-toe grid\r\n        printGrid(gameGrid);\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen this is input \r\n\r\n    -X-\r\n    -X-\r\n    -O-\r\n    0 2 X\r\n\r\nThis error is given\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 1\r\n\tat java.base/java.lang.StringLatin1.charAt(StringLatin1.java:47)\r\n\tat java.base/java.lang.String.charAt(String.java:693)\r\n\tat TicTacToe.readInGrid(TicTacToe.java:59)\r\n\tat TicTacToe.main(TicTacToe.java:76)\r\n\r\n```\r\n\r\n\r\nExpected it to update the grid with the given character at the correct position but get an error.\r\nWhen looking it at through a debugger, I can see that the first row of the array is scanned in correctly. \r\nThe first row of the array would be -X- but the issue starts as the second row would be 0 then it gives the error afterwards. It should fill the array with the first 3 lines of the input on their corresponding rows.","title":"Getting error String Index out of range: 1 but don&#39;t know what the issue is","body":"<pre><code>import java.util.Scanner;\n\n/**\n * (add a summary comment)\n * @author Samuel Church\n * @author Max Hubenko\n */\npublic class TicTacToe {\n\n    /**\n     * Prints to the console the contents of the given tic-tac-toe grid\n     * @param grid 2D char array representing current state of tic-tac-toe game\n     */\n    public static void printGrid(char[][] grid) {\n        System.out.print(grid);\n    }\n\n    /**\n     * Updates the tic-tac-toe grid given a move by a player (specified by row, column and mark).\n     * @param grid current tic-tac-toe grid that will be updated\n     * @param row The row the player would like to play in (in the range [0, 2])\n     * @param column The column the player would like to play in (in the range [0, 2])\n     * @param mark The mark the player would like to place ('X', 'O')\n     */\n    public static void placeMark(char[][] grid, int row, int column, char mark) {\n        grid[row][column] = mark;\n    }\n\n    /**\n     * Reads user input and stores it in a 3x3 char array. This represents\n     * the current state of the tic-tac-toe grid. Expect user input to be\n     * three lines with three characters on each line.\n     * @param input Scanner instance used to read user input\n     * @return tic-tac-toe grid as a 2D char array\n     */\n    public static char[][] readInGrid(Scanner input){\n        char ticTacToeBoard[][] = new char[3][3];\n        for (int i = 0; i &lt; ticTacToeBoard.length; i++) {\n            for (int j = 0; j &lt; ticTacToeBoard[i].length; j++) {\n                ticTacToeBoard[i][j] = input.next().charAt(j);\n            }\n        }\n        return ticTacToeBoard;\n    }\n\n    /**\n     * Create and show a tic-tac-toe board using the methods you'll write.\n     * Read user input to determine updates to the board.\n     * @param args unused\n     */\n    public static void main(String[] args) {\n        // DO NOT EDIT MAIN\n        \n        Scanner input = new Scanner(System.in);\n\n        // Reads in the current state of the tic-tac-toe grid from the user\n        char[][] gameGrid = readInGrid(input);\n        \n        // Reads in the next player's move\n        int row = input.nextInt();\n        int column = input.nextInt();\n        char mark = input.next().charAt(0);\n\n        // Update the tic-tac-toe grid given the next player's move\n        placeMark(gameGrid, row, column, mark);\n\n        // Print the updated tic-tac-toe grid\n        printGrid(gameGrid);\n    }\n}\n\n</code></pre>\n<p>When this is input</p>\n<pre><code>-X-\n-X-\n-O-\n0 2 X\n</code></pre>\n<p>This error is given</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 1\n    at java.base/java.lang.StringLatin1.charAt(StringLatin1.java:47)\n    at java.base/java.lang.String.charAt(String.java:693)\n    at TicTacToe.readInGrid(TicTacToe.java:59)\n    at TicTacToe.main(TicTacToe.java:76)\n\n</code></pre>\n<p>Expected it to update the grid with the given character at the correct position but get an error.\nWhen looking it at through a debugger, I can see that the first row of the array is scanned in correctly.\nThe first row of the array would be -X- but the issue starts as the second row would be 0 then it gives the error afterwards. It should fill the array with the first 3 lines of the input on their corresponding rows.</p>\n"},{"tags":["java","filter","java-stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667842894,"post_id":74350449,"comment_id":131259383,"body_markdown":"Please, share your **attempt** and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) and [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please, share your <b>attempt</b> and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>"},{"owner":{"account_id":22959374,"reputation":21,"user_id":17089505,"display_name":"Raccoon21"},"score":1,"creation_date":1667845315,"post_id":74350449,"comment_id":131260250,"body_markdown":"I am very ashamed, but my decisions were far from the truth. Thanks for the comment. I won&#39;t ask any more questions without a partial solution","body":"I am very ashamed, but my decisions were far from the truth. Thanks for the comment. I won&#39;t ask any more questions without a partial solution"},{"owner":{"account_id":6713088,"reputation":3424,"user_id":5175802,"accept_rate":88,"display_name":"Jake Boomgaarden"},"score":1,"creation_date":1668021968,"post_id":74350449,"comment_id":131309369,"body_markdown":"Don&#39;t beat yourself up, we&#39;re all learning here on SO :) Don&#39;t hesitate to post more questions here, but it&#39;s true that it is good to remember that people appreciate questions more when they can see that you&#39;ve given it a good attempt yourself :)","body":"Don&#39;t beat yourself up, we&#39;re all learning here on SO :) Don&#39;t hesitate to post more questions here, but it&#39;s true that it is good to remember that people appreciate questions more when they can see that you&#39;ve given it a good attempt yourself :)"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667844938,"creation_date":1667842901,"answer_id":74350726,"question_id":74350449,"body_markdown":"You can use collect toMap, the key should be the firstName and lastName, I put them in a list(There are other ways for example concatenate the two attributes, but I don&#39;t recommend it), and then use the `BinaryOperator` to retrieve the max date:\r\n\r\n    Collection&lt;Employee&gt; response = employee.stream()\r\n            .collect(Collectors.toMap(\r\n                   e -&gt; e.getFirstName()+e.getLastName(),\r\n                   Function.identity(),\r\n                   (e1, e2) -&gt; e1.getDate().isAfter(e2.getDate()) ? e1 : e2)).values();\r\n\r\nOutputs:\r\n\r\n    Employee(firstName=John, lastName=Smith, salary=5, date=2022-11-01)\r\n    Employee(firstName=Sara, lastName=Kim, salary=7, date=2022-07-01)\r\n    Employee(firstName=Kelly, lastName=Jones, salary=12, date=2022-03-01)","title":"Filter in List with condition in the object","body":"<p>You can use collect toMap, the key should be the firstName and lastName, I put them in a list(There are other ways for example concatenate the two attributes, but I don't recommend it), and then use the <code>BinaryOperator</code> to retrieve the max date:</p>\n<pre><code>Collection&lt;Employee&gt; response = employee.stream()\n        .collect(Collectors.toMap(\n               e -&gt; e.getFirstName()+e.getLastName(),\n               Function.identity(),\n               (e1, e2) -&gt; e1.getDate().isAfter(e2.getDate()) ? e1 : e2)).values();\n</code></pre>\n<p>Outputs:</p>\n<pre><code>Employee(firstName=John, lastName=Smith, salary=5, date=2022-11-01)\nEmployee(firstName=Sara, lastName=Kim, salary=7, date=2022-07-01)\nEmployee(firstName=Kelly, lastName=Jones, salary=12, date=2022-03-01)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667845476,"creation_date":1667845476,"answer_id":74351189,"question_id":74350449,"body_markdown":"My idea is to create hashmap as `HashMap&lt;List&lt;String&gt;&gt;,Employee&gt;` on top of Stream.  Then do merge operation on hashmap. Maps key is list of first_name &amp; last_name:\r\n\r\n    HashMap&lt;List&lt;String&gt;,Employee&gt; map = \r\n        employee.stream().collect(HashMap&lt;List&lt;String&gt;, Employee&gt;::new,\r\n        \t\t\t\t\t\t\t\t(x, y) -&gt; x.merge(List.of(y.getFirstName(), y.getLast_name()), y,\r\n        \t\t\t\t\t\t\t\t\t\t(a, b) -&gt; a.getGetSalary().isAfter(b.getGetSalary()) ? a : b),\r\n        \t\t\t\t\t\t\t\t(p, q) -&gt; p.putAll(q));\r\n\r\n    System.out.println(map.values());\r\n\r\n\r\nThis will give you desired result. `employee` is list which you created in your original post.\r\n","title":"Filter in List with condition in the object","body":"<p>My idea is to create hashmap as <code>HashMap&lt;List&lt;String&gt;&gt;,Employee&gt;</code> on top of Stream.  Then do merge operation on hashmap. Maps key is list of first_name &amp; last_name:</p>\n<pre><code>HashMap&lt;List&lt;String&gt;,Employee&gt; map = \n    employee.stream().collect(HashMap&lt;List&lt;String&gt;, Employee&gt;::new,\n                                    (x, y) -&gt; x.merge(List.of(y.getFirstName(), y.getLast_name()), y,\n                                            (a, b) -&gt; a.getGetSalary().isAfter(b.getGetSalary()) ? a : b),\n                                    (p, q) -&gt; p.putAll(q));\n\nSystem.out.println(map.values());\n</code></pre>\n<p>This will give you desired result. <code>employee</code> is list which you created in your original post.</p>\n"}],"owner":{"account_id":22959374,"reputation":21,"user_id":17089505,"display_name":"Raccoon21"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1667845476,"creation_date":1667841585,"question_id":74350449,"body_markdown":"I have a List&lt;Employee&gt;.\r\nEmployee, for example:\r\n\r\n```\r\n@Data\r\n@AllArgConstructor\r\npublic class Employee {\r\n \r\n   private string firstName;\r\n   private string last name;\r\n   private domestic salary;\r\n   private LocalDataTime getSalary;\r\n\r\n}\r\n```\r\n\r\n\r\nThe sheet can contain data with the same last name, first name, but different date and salary.\r\nOr maybe not. For example.\r\n\r\n```\r\nList&lt;Employee&gt; employee = new ArrayList&lt;&gt;();\r\nEmployee one = new Employee(&quot;John&quot;, &quot;Smith&quot;, 10, 2022-09-01);\r\nEmployee two = new Employee(&quot;John&quot;, &quot;Smith&quot;, 20, 2022-10-01);\r\nEmployee three = new Employee(&quot;John&quot;, &quot;Smith&quot;, 5, 2022-11-01);\r\nEmployee four = new Employee(&quot;Kelly&quot;, &quot;Jones&quot;, 12, 2022-03-01);\r\nEmployee five = new Employee(&quot;Sara&quot;, &quot;Kim&quot;, 21, 2022-03-01);\r\nEmployee six = new Employee(&quot;Sara&quot;, &quot;Kim&quot;, 7, 2022-07-01);\r\n\r\nemployee.add(one);\r\nemployee.add(two);\r\nemployee.add(three);\r\nemployee.add(four);\r\nemployee.add(five);\r\nemployee.add(six);\r\n\r\n```\r\n\r\nNeed for each unique combination of last name and first name, get a data for the last date.\r\n\r\nIn Out:\r\n\r\n&quot;John&quot;, &quot;Smith&quot;, 5, 2022-11-01\r\n\r\n&quot;Kelly&quot;, &quot;Jones&quot;, 12, 2022-03-01\r\n\r\n&quot;Sara&quot;, &quot;Kim&quot;, 7, 2022-07-01\r\n\r\n\r\nI&#39;m just starting to learn stream API and dont understand how to filter by a field inside an object for 2 unique other fields.\r\n\r\n\r\nIs it possible to do so?","title":"Filter in List with condition in the object","body":"<p>I have a List.\nEmployee, for example:</p>\n<pre><code>@Data\n@AllArgConstructor\npublic class Employee {\n \n   private string firstName;\n   private string last name;\n   private domestic salary;\n   private LocalDataTime getSalary;\n\n}\n</code></pre>\n<p>The sheet can contain data with the same last name, first name, but different date and salary.\nOr maybe not. For example.</p>\n<pre><code>List&lt;Employee&gt; employee = new ArrayList&lt;&gt;();\nEmployee one = new Employee(&quot;John&quot;, &quot;Smith&quot;, 10, 2022-09-01);\nEmployee two = new Employee(&quot;John&quot;, &quot;Smith&quot;, 20, 2022-10-01);\nEmployee three = new Employee(&quot;John&quot;, &quot;Smith&quot;, 5, 2022-11-01);\nEmployee four = new Employee(&quot;Kelly&quot;, &quot;Jones&quot;, 12, 2022-03-01);\nEmployee five = new Employee(&quot;Sara&quot;, &quot;Kim&quot;, 21, 2022-03-01);\nEmployee six = new Employee(&quot;Sara&quot;, &quot;Kim&quot;, 7, 2022-07-01);\n\nemployee.add(one);\nemployee.add(two);\nemployee.add(three);\nemployee.add(four);\nemployee.add(five);\nemployee.add(six);\n\n</code></pre>\n<p>Need for each unique combination of last name and first name, get a data for the last date.</p>\n<p>In Out:</p>\n<p>&quot;John&quot;, &quot;Smith&quot;, 5, 2022-11-01</p>\n<p>&quot;Kelly&quot;, &quot;Jones&quot;, 12, 2022-03-01</p>\n<p>&quot;Sara&quot;, &quot;Kim&quot;, 7, 2022-07-01</p>\n<p>I'm just starting to learn stream API and dont understand how to filter by a field inside an object for 2 unique other fields.</p>\n<p>Is it possible to do so?</p>\n"},{"tags":["java","spring-boot","classpath"],"comments":[{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":1,"creation_date":1570790758,"post_id":58339454,"comment_id":103034614,"body_markdown":"https://stackoverflow.com/questions/5171957/access-file-in-jar-file","body":"<a href=\"https://stackoverflow.com/questions/5171957/access-file-in-jar-file\" title=\"access file in jar file\">stackoverflow.com/questions/5171957/access-file-in-jar-file</a>"}],"answers":[{"tags":[],"owner":{"account_id":16669162,"reputation":162,"user_id":12047085,"display_name":"user12047085"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570792266,"creation_date":1570792266,"answer_id":58340029,"question_id":58339454,"body_markdown":"You cannot read the resources inside a jar as java.io.File as it says in the link that @Shailesh shared\r\n\r\n```\r\nInputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;classpath:testfile/test1.txt&quot;)) \r\n```\r\nRead the file as input stream and then may be convert it to String and then convert it to a class if needed.","title":"I want to deploy the jar that include some file in classpath","body":"<p>You cannot read the resources inside a jar as java.io.File as it says in the link that @Shailesh shared</p>\n\n<pre><code>InputStream is = this.getClass().getClassLoader().getResourceAsStream(\"classpath:testfile/test1.txt\")) \n</code></pre>\n\n<p>Read the file as input stream and then may be convert it to String and then convert it to a class if needed.</p>\n"},{"tags":[],"owner":{"account_id":1122143,"reputation":114,"user_id":1110261,"display_name":"Oeg Bizz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1570792881,"creation_date":1570792881,"answer_id":58340207,"question_id":58339454,"body_markdown":"Assuming You actually want to read the file rather than trying to address the resource use the class loader:\r\n\r\n```java\r\n    InputStream in = getClass().getResourceAsStream(&quot;/testfile/test1.txt&quot;);\r\n    BufferedReader reader = new BufferedReader( new InputStreamReader( in ) );\r\n    String line = null;\r\n    while( (line = reader.readLine() ) != null )\r\n      System.out.println(&quot;Line: &quot; + line);\r\n    \r\n```\r\nthat worked for me","title":"I want to deploy the jar that include some file in classpath","body":"<p>Assuming You actually want to read the file rather than trying to address the resource use the class loader:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    InputStream in = getClass().getResourceAsStream(\"/testfile/test1.txt\");\n    BufferedReader reader = new BufferedReader( new InputStreamReader( in ) );\n    String line = null;\n    while( (line = reader.readLine() ) != null )\n      System.out.println(\"Line: \" + line);\n\n</code></pre>\n\n<p>that worked for me</p>\n"},{"tags":[],"owner":{"account_id":15459861,"reputation":1,"user_id":11152804,"display_name":"Hopkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667845300,"creation_date":1667284072,"answer_id":74272268,"question_id":58339454,"body_markdown":"&gt; &#39;this.getClass().getClassLoader().getResourceAsStream()&#39; is a good choice\r\n\r\nI meet the same question. And only difference is that I want the return type —— *String*, after reading a file.\r\nSo, I find a useful api —— `this.getClass().getClassLoader().getResource(String name)`.\r\n\r\n```\r\nString read = null;\r\nURL resource = this.getClass().getClassLoader().getResource(&quot;static/facility-tree.json&quot;);\r\nCharSource charSource = Resources.asCharSource(resource, Charset.defaultCharset());\r\nread = charSource.read();\r\n```\r\n\r\nCharSource and Resources are from Guava, so you need to add dependency in pom.xml.\r\n```\r\n&lt;!--guava-&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    &lt;version&gt;31.1-jre&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"I want to deploy the jar that include some file in classpath","body":"<blockquote>\n<p>'this.getClass().getClassLoader().getResourceAsStream()' is a good choice</p>\n</blockquote>\n<p>I meet the same question. And only difference is that I want the return type —— <em>String</em>, after reading a file.\nSo, I find a useful api —— <code>this.getClass().getClassLoader().getResource(String name)</code>.</p>\n<pre><code>String read = null;\nURL resource = this.getClass().getClassLoader().getResource(&quot;static/facility-tree.json&quot;);\nCharSource charSource = Resources.asCharSource(resource, Charset.defaultCharset());\nread = charSource.read();\n</code></pre>\n<p>CharSource and Resources are from Guava, so you need to add dependency in pom.xml.</p>\n<pre><code>&lt;!--guava-&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;31.1-jre&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8778895,"reputation":375,"user_id":6563164,"accept_rate":43,"display_name":"rura6502"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58340207,"answer_count":3,"score":1,"last_activity_date":1667845300,"creation_date":1570790202,"question_id":58339454,"body_markdown":"When I execute the jar using this command `java -jar myapp.jar`, I met the `FileNotFoundException`.\r\n\r\nMy project is a basic Gradle java application. I put the file in `ROOT/src/main/resources/testfile/test1.txt`. And I tried to run the code in IDE to check the file exists using classpath.\r\n\r\n```java\r\nFile file = ResourceUtils.getFile(&quot;classpath:testfile/test1.txt&quot;);\r\nSystem.out.println(file.exists());\r\n```\r\n\r\nThis is true, but when I executed build file that is the result of command &#39;gradle build&#39;, I met the FileNotFoundException. I can see the file`(\\BOOT-INF\\classes\\testfile\\test1.txt)` when I unarchive the jar.\r\n\r\nActually, I want to deploy the spring boot jar with the sample file and I will put the code for initializing. please help. thanks.","title":"I want to deploy the jar that include some file in classpath","body":"<p>When I execute the jar using this command <code>java -jar myapp.jar</code>, I met the <code>FileNotFoundException</code>.</p>\n\n<p>My project is a basic Gradle java application. I put the file in <code>ROOT/src/main/resources/testfile/test1.txt</code>. And I tried to run the code in IDE to check the file exists using classpath.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>File file = ResourceUtils.getFile(\"classpath:testfile/test1.txt\");\nSystem.out.println(file.exists());\n</code></pre>\n\n<p>This is true, but when I executed build file that is the result of command 'gradle build', I met the FileNotFoundException. I can see the file<code>(\\BOOT-INF\\classes\\testfile\\test1.txt)</code> when I unarchive the jar.</p>\n\n<p>Actually, I want to deploy the spring boot jar with the sample file and I will put the code for initializing. please help. thanks.</p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1635315447,"creation_date":1635315447,"answer_id":69733679,"question_id":69733508,"body_markdown":"This is expected with Gradle 7.2 since the [compile and testCompile configurations have been removed](https://docs.gradle.org/current/userguide/upgrading_version_6.html#sec:configuration_removal).\r\n\r\nYou must replace `compile` with `implementation` and `testCompile` with `testImplementation`","title":"Couldn&#39;t find compile() for arguments [directory &#39;libs&#39;] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler","body":"<p>This is expected with Gradle 7.2 since the <a href=\"https://docs.gradle.org/current/userguide/upgrading_version_6.html#sec:configuration_removal\" rel=\"noreferrer\">compile and testCompile configurations have been removed</a>.</p>\n<p>You must replace <code>compile</code> with <code>implementation</code> and <code>testCompile</code> with <code>testImplementation</code></p>\n"},{"tags":[],"owner":{"account_id":18284952,"reputation":21,"user_id":13313069,"display_name":"Maryam Maleki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667845071,"creation_date":1667286279,"answer_id":74272553,"question_id":69733508,"body_markdown":"My solution is. \r\njar file Directory is /WEB-INF/lib/MyJarFile.jar :)\r\n\r\n```\r\nflatDir {\r\n  name &#39;lib&#39;\r\n  dirs &quot;$rootProject.projectDir/lib&quot;\r\n}\r\n\r\ndependencies {\r\n  classpath fileTree(dir: &#39;lib&#39;, include: &#39;MyJarFile.jar&#39;)\r\n}\r\n```","title":"Couldn&#39;t find compile() for arguments [directory &#39;libs&#39;] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler","body":"<p>My solution is.\njar file Directory is /WEB-INF/lib/MyJarFile.jar :)</p>\n<pre><code>flatDir {\n  name 'lib'\n  dirs &quot;$rootProject.projectDir/lib&quot;\n}\n\ndependencies {\n  classpath fileTree(dir: 'lib', include: 'MyJarFile.jar')\n}\n</code></pre>\n"}],"owner":{"account_id":23156435,"reputation":13,"user_id":17257626,"display_name":"blurry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3841,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69733679,"answer_count":2,"score":1,"last_activity_date":1667845071,"creation_date":1635314360,"question_id":69733508,"body_markdown":"**My build.gradle**\r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        signingConfigs {\r\n        }\r\n        compileSdkVersion 30\r\n        buildToolsVersion &#39;30.0.2&#39;\r\n        defaultConfig {\r\n            applicationId &quot;com.rock08.android.demoapp&quot;\r\n            minSdkVersion 22\r\n            targetSdkVersion 25\r\n            versionCode 2\r\n            versionName &quot;0.2&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile &#39;com.android.support:leanback-v17:25.4.0&#39;\r\n        compile &#39;com.android.support:recyclerview-v7:25.4.0&#39;\r\n        compile &#39;com.android.support:preference-v7:25.4.0&#39;\r\n        compile &#39;com.android.support:preference-v14:25.4.0&#39;\r\n        compile &#39;com.android.support:preference-leanback-v17:25.4.0&#39;\r\n        compile &#39;com.android.support:appcompat-v7:25.4.0&#39;\r\n        compile &#39;com.android.support:palette-v7:25.4.0&#39;\r\n    }\r\n\r\n\r\n**gradle-wrapper.properties**\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-bin.zip\r\n    distributionPath=wrapper/dists\r\n    zipStorePath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n\r\nThe gradle build is getting failed.\r\n\r\nERROR- Could not find method compile() for arguments [directory &#39;libs&#39;] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n","title":"Couldn&#39;t find compile() for arguments [directory &#39;libs&#39;] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler","body":"<p><strong>My build.gradle</strong></p>\n<pre><code>    apply plugin: 'com.android.application'\n\nandroid {\n    signingConfigs {\n    }\n    compileSdkVersion 30\n    buildToolsVersion '30.0.2'\n    defaultConfig {\n        applicationId &quot;com.rock08.android.demoapp&quot;\n        minSdkVersion 22\n        targetSdkVersion 25\n        versionCode 2\n        versionName &quot;0.2&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:leanback-v17:25.4.0'\n    compile 'com.android.support:recyclerview-v7:25.4.0'\n    compile 'com.android.support:preference-v7:25.4.0'\n    compile 'com.android.support:preference-v14:25.4.0'\n    compile 'com.android.support:preference-leanback-v17:25.4.0'\n    compile 'com.android.support:appcompat-v7:25.4.0'\n    compile 'com.android.support:palette-v7:25.4.0'\n}\n</code></pre>\n<p><strong>gradle-wrapper.properties</strong></p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n<p>The gradle build is getting failed.</p>\n<p>ERROR- Could not find method compile() for arguments [directory 'libs'] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.</p>\n"},{"tags":["java","dos","file-attributes"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1667747405,"post_id":73141485,"comment_id":131235624,"body_markdown":"Cant you just do if instanceof for other types?","body":"Cant you just do if instanceof for other types?"}],"answers":[{"tags":[],"owner":{"account_id":10286733,"reputation":3612,"user_id":7589775,"accept_rate":75,"display_name":"LeoDog896"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667747453,"creation_date":1667747453,"answer_id":74337060,"question_id":73141485,"body_markdown":"I decided to trace the source code to see what exactly is it doing (is it casting? is it a switch statement?)\r\n\r\n- Began with [Files#readAttributes][1]\r\n- [provider(path)][2]\r\n- This returns a FileSystemProvider (from the FileSystem class)\r\n- Using the [LinuxFileSystemProvider][3] as reference\r\n\r\nFinally, I landed on [LinuxFileSystemProvider&#39;s implementation for readAttributes][4]. This may change *depending*, but assuming it hasn&#39;t, this does do some manual if-checking on the class.\r\n\r\n```java\r\n@Override\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\npublic &lt;A extends BasicFileAttributes&gt; A readAttributes(Path file,\r\n                                                        Class&lt;A&gt; type,\r\n                                                        LinkOption... options)\r\n    throws IOException\r\n{\r\n    if (type == DosFileAttributes.class) {\r\n        DosFileAttributeView view =\r\n            getFileAttributeView(file, DosFileAttributeView.class, options);\r\n        return (A) view.readAttributes();\r\n    } else {\r\n        return super.readAttributes(file, type, options);\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately, assuming that future JDK versions took this same path, you will have to stick with the old exception ignoring. \r\n\r\n  [1]: https://android.googlesource.com/platform/libcore/+/51b1b69/ojluni/src/main/java/java/nio/file/Files.java#1684\r\n  [2]: https://android.googlesource.com/platform/libcore/+/51b1b69/ojluni/src/main/java/java/nio/file/Files.java#65\r\n  [3]: https://github.com/frohoff/jdk8u-jdk/blob/master/src/solaris/classes/sun/nio/fs/LinuxFileSystemProvider.java\r\n  [4]: https://github.com/frohoff/jdk8u-jdk/blob/da0da73ab82ed714dc5be94acd2f0d00fbdfe2e9/src/solaris/classes/sun/nio/fs/LinuxFileSystemProvider.java#L89","title":"Type guarantees for getting DOS file attributes in Java","body":"<p>I decided to trace the source code to see what exactly is it doing (is it casting? is it a switch statement?)</p>\n<ul>\n<li>Began with <a href=\"https://android.googlesource.com/platform/libcore/+/51b1b69/ojluni/src/main/java/java/nio/file/Files.java#1684\" rel=\"nofollow noreferrer\">Files#readAttributes</a></li>\n<li><a href=\"https://android.googlesource.com/platform/libcore/+/51b1b69/ojluni/src/main/java/java/nio/file/Files.java#65\" rel=\"nofollow noreferrer\">provider(path)</a></li>\n<li>This returns a FileSystemProvider (from the FileSystem class)</li>\n<li>Using the <a href=\"https://github.com/frohoff/jdk8u-jdk/blob/master/src/solaris/classes/sun/nio/fs/LinuxFileSystemProvider.java\" rel=\"nofollow noreferrer\">LinuxFileSystemProvider</a> as reference</li>\n</ul>\n<p>Finally, I landed on <a href=\"https://github.com/frohoff/jdk8u-jdk/blob/da0da73ab82ed714dc5be94acd2f0d00fbdfe2e9/src/solaris/classes/sun/nio/fs/LinuxFileSystemProvider.java#L89\" rel=\"nofollow noreferrer\">LinuxFileSystemProvider's implementation for readAttributes</a>. This may change <em>depending</em>, but assuming it hasn't, this does do some manual if-checking on the class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n@SuppressWarnings(&quot;unchecked&quot;)\npublic &lt;A extends BasicFileAttributes&gt; A readAttributes(Path file,\n                                                        Class&lt;A&gt; type,\n                                                        LinkOption... options)\n    throws IOException\n{\n    if (type == DosFileAttributes.class) {\n        DosFileAttributeView view =\n            getFileAttributeView(file, DosFileAttributeView.class, options);\n        return (A) view.readAttributes();\n    } else {\n        return super.readAttributes(file, type, options);\n    }\n}\n</code></pre>\n<p>Unfortunately, assuming that future JDK versions took this same path, you will have to stick with the old exception ignoring.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667845064,"creation_date":1667845064,"answer_id":74351123,"question_id":73141485,"body_markdown":"There is no such guaranty written anywhere. This, however, does not imply that you are stuck with using exceptions. You can use, for example\r\n\r\n```java\r\nDosFileAttributeView view = Files.getFileAttributeView(path,DosFileAttributeView.class);\r\nif(view != null) {\r\n    DosFileAttributes attrs = view.readAttributes();\r\n    // proceed\r\n}\r\n```\r\n\r\nAt the first glance, you could pretest with `Files.getFileStore(path) .supportsFileAttributeView( DosFileAttributeView.class)`, but [the documentation of `supportsFileAttributeView`] says:\r\n\r\n&gt; In the case of the default provider, this method cannot guarantee to give the correct result when the file store is not a local storage device. The reasons for this are implementation specific and therefore unspecified.\r\n\r\nwhich is not very helpful. One thing you can do, is  to test, whether the particular filesystem supports the `DosFileAttributeView` *in general*. If `path.getFileSystem() .supportedFileAttributeViews() .contains(&quot;dos&quot;)` returns `false`, none of the paths of this filesystem will ever support this attribute.\r\n\r\n[the documentation of `supportsFileAttributeView`]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/file/FileStore.html#supportsFileAttributeView(java.lang.Class)","title":"Type guarantees for getting DOS file attributes in Java","body":"<p>There is no such guaranty written anywhere. This, however, does not imply that you are stuck with using exceptions. You can use, for example</p>\n<pre class=\"lang-java prettyprint-override\"><code>DosFileAttributeView view = Files.getFileAttributeView(path,DosFileAttributeView.class);\nif(view != null) {\n    DosFileAttributes attrs = view.readAttributes();\n    // proceed\n}\n</code></pre>\n<p>At the first glance, you could pretest with <code>Files.getFileStore(path) .supportsFileAttributeView( DosFileAttributeView.class)</code>, but <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/file/FileStore.html#supportsFileAttributeView(java.lang.Class)\" rel=\"nofollow noreferrer\">the documentation of <code>supportsFileAttributeView</code></a> says:</p>\n<blockquote>\n<p>In the case of the default provider, this method cannot guarantee to give the correct result when the file store is not a local storage device. The reasons for this are implementation specific and therefore unspecified.</p>\n</blockquote>\n<p>which is not very helpful. One thing you can do, is  to test, whether the particular filesystem supports the <code>DosFileAttributeView</code> <em>in general</em>. If <code>path.getFileSystem() .supportedFileAttributeViews() .contains(&quot;dos&quot;)</code> returns <code>false</code>, none of the paths of this filesystem will ever support this attribute.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74351123,"answer_count":2,"score":2,"last_activity_date":1667845064,"creation_date":1658939018,"question_id":73141485,"body_markdown":"In a directory using Java I want to check each subdirectory for a DOS-specific attribute, but I want the code to run on other file systems as well. I can do this, which seems to be what the Java API implies is the recommended approach:\r\n\r\n```java\r\ntry {\r\n  DosFileAttributes attrs = Files.readAttributes(path, DosFileAttributes.class);\r\n  //TODO check DOS attrs\r\n} catch(UnsupportedOperationException ex) {\r\n  //ignore the error; must be another file system\r\n}\r\n```\r\n\r\nHowever that is ugly, against best practices (requires ignoring an exception), and probably less efficient because of the try/catch overhead. I&#39;d prefer to do this (using Java 17 syntax to cast to `DosFileAttributes` on the fly):\r\n\r\n\r\n```java\r\nBasicFileAttributes attrs = Files.readAttributes(path, BasicFileAttributes.class);\r\nif(attrs instance of DosFileAttributes dosFileAttributes) {\r\n  //TODO check DOS attrs\r\n}\r\n```\r\n\r\nThat&#39;s much cleaner. Much more understandable. Probably more efficient.\r\n\r\nUnfortunately it&#39;s not clear to me if the API guarantees it to work (even though I see code all over the Internet assuming that the second approach will always work). In practice it would appear that OpenJDK will give me a `DosFileAttributes` (actually a `WindowsFileAttributes`) instance, even though I requested only a `BasicFileAttributes`, because `DosFileAttributes` implements `BasicFileAttributes` and it&#39;s just as easy to always return the same object since it works in all situations.\r\n\r\nBut does the API guarantee that? From my reading, it would seem that, because I only requested a `BasicFileAttributes` instance, some JDK implementation might (for various reasons, not just spite) decide to return only a `BasicFileAttributes` instance (perhaps it doesn&#39;t want to go lookup the DOS attributes unless it was specifically asked).\r\n\r\nSo am I stuck with the ugly and inefficient exception-based approach if I want my code to be guaranteed to work?","title":"Type guarantees for getting DOS file attributes in Java","body":"<p>In a directory using Java I want to check each subdirectory for a DOS-specific attribute, but I want the code to run on other file systems as well. I can do this, which seems to be what the Java API implies is the recommended approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  DosFileAttributes attrs = Files.readAttributes(path, DosFileAttributes.class);\n  //TODO check DOS attrs\n} catch(UnsupportedOperationException ex) {\n  //ignore the error; must be another file system\n}\n</code></pre>\n<p>However that is ugly, against best practices (requires ignoring an exception), and probably less efficient because of the try/catch overhead. I'd prefer to do this (using Java 17 syntax to cast to <code>DosFileAttributes</code> on the fly):</p>\n<pre class=\"lang-java prettyprint-override\"><code>BasicFileAttributes attrs = Files.readAttributes(path, BasicFileAttributes.class);\nif(attrs instance of DosFileAttributes dosFileAttributes) {\n  //TODO check DOS attrs\n}\n</code></pre>\n<p>That's much cleaner. Much more understandable. Probably more efficient.</p>\n<p>Unfortunately it's not clear to me if the API guarantees it to work (even though I see code all over the Internet assuming that the second approach will always work). In practice it would appear that OpenJDK will give me a <code>DosFileAttributes</code> (actually a <code>WindowsFileAttributes</code>) instance, even though I requested only a <code>BasicFileAttributes</code>, because <code>DosFileAttributes</code> implements <code>BasicFileAttributes</code> and it's just as easy to always return the same object since it works in all situations.</p>\n<p>But does the API guarantee that? From my reading, it would seem that, because I only requested a <code>BasicFileAttributes</code> instance, some JDK implementation might (for various reasons, not just spite) decide to return only a <code>BasicFileAttributes</code> instance (perhaps it doesn't want to go lookup the DOS attributes unless it was specifically asked).</p>\n<p>So am I stuck with the ugly and inefficient exception-based approach if I want my code to be guaranteed to work?</p>\n"},{"tags":["java","docker","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":8648248,"reputation":600,"user_id":6474821,"display_name":"doubleW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667844883,"creation_date":1667844883,"answer_id":74351096,"question_id":74350462,"body_markdown":"Ok it was a VPN issue... it was using the same IP ranges\r\n\r\nAnswer from https://stackoverflow.com/questions/73938102/testcontainer-with-vpn-on-can-not-connect-to-ryuk-at-localhost49198 worked just fine ","title":"Testcontainers ryuk docker issue","body":"<p>Ok it was a VPN issue... it was using the same IP ranges</p>\n<p>Answer from <a href=\"https://stackoverflow.com/questions/73938102/testcontainer-with-vpn-on-can-not-connect-to-ryuk-at-localhost49198\">Testcontainer with VPN on: Can not connect to Ryuk at localhost:49198</a> worked just fine</p>\n"}],"owner":{"account_id":8648248,"reputation":600,"user_id":6474821,"display_name":"doubleW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667894974,"answer_count":1,"score":0,"last_activity_date":1667844883,"creation_date":1667841671,"question_id":74350462,"body_markdown":"I have an issue using testcontainers. I have tried to run some tests by IDE or mvn but I am getting this\r\n```\r\nCaused by: java.lang.IllegalStateException: Could not connect to Ryuk at localhost:49156\r\n```\r\n\r\nNow I tried to check if ryuk is starting and it seems that it is:\r\n```\r\ndocker ps\r\nCONTAINER ID   IMAGE                       COMMAND   CREATED         STATUS        PORTS                                         NAMES\r\n93de3963bc55   testcontainers/ryuk:0.3.1   &quot;/app&quot;    2 seconds ago   Up 1 second   0.0.0.0:49156-&gt;8080/tcp, :::49156-&gt;8080/tcp   testcontainers-ryuk-1878c953-4d40-4c64-80d7-133a6125b7eb\r\n\r\n\r\n\r\ndocker logs testcontainers-ryuk-1878c953-4d40-4c64-80d7-133a6125b7eb \r\n2022/11/07 17:14:35 Pinging Docker...\r\n2022/11/07 17:14:35 Docker daemon is available!\r\n2022/11/07 17:14:35 Starting on port 8080...\r\n2022/11/07 17:14:35 Started!\r\n```\r\nthis is killed few seconds after the test fails\r\n\r\n\r\nnot sure if this is connected but \r\n```\r\ndocker run testcontainers/ryuk:0.3.1\r\n2022/11/07 17:18:10 Pinging Docker...\r\npanic: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?\r\n\r\ngoroutine 1 [running]:\r\nmain.main()\r\n\t/go/src/github.com/testcontainers/moby-ryuk/main.go:36 +0x457\r\n```\r\ngetting this error while trying to run it manually. \r\n\r\nOther docker images seems to work just fine basic hello world example:\r\n```\r\ndocker run hello-world\r\n\r\nHello from Docker!\r\nThis message shows that your installation appears to be working correctly.\r\n\r\nTo generate this message, Docker took the following steps:\r\n 1. The Docker client contacted the Docker daemon.\r\n 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.\r\n    (amd64)\r\n 3. The Docker daemon created a new container from that image which runs the\r\n    executable that produces the output you are currently reading.\r\n 4. The Docker daemon streamed that output to the Docker client, which sent it\r\n    to your terminal.\r\n\r\nTo try something more ambitious, you can run an Ubuntu container with:\r\n $ docker run -it ubuntu bash\r\n\r\nShare images, automate workflows, and more with a free Docker ID:\r\n https://hub.docker.com/\r\n\r\nFor more examples and ideas, visit:\r\n https://docs.docker.com/get-started/\r\n\r\n\r\n```\r\n","title":"Testcontainers ryuk docker issue","body":"<p>I have an issue using testcontainers. I have tried to run some tests by IDE or mvn but I am getting this</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Could not connect to Ryuk at localhost:49156\n</code></pre>\n<p>Now I tried to check if ryuk is starting and it seems that it is:</p>\n<pre><code>docker ps\nCONTAINER ID   IMAGE                       COMMAND   CREATED         STATUS        PORTS                                         NAMES\n93de3963bc55   testcontainers/ryuk:0.3.1   &quot;/app&quot;    2 seconds ago   Up 1 second   0.0.0.0:49156-&gt;8080/tcp, :::49156-&gt;8080/tcp   testcontainers-ryuk-1878c953-4d40-4c64-80d7-133a6125b7eb\n\n\n\ndocker logs testcontainers-ryuk-1878c953-4d40-4c64-80d7-133a6125b7eb \n2022/11/07 17:14:35 Pinging Docker...\n2022/11/07 17:14:35 Docker daemon is available!\n2022/11/07 17:14:35 Starting on port 8080...\n2022/11/07 17:14:35 Started!\n</code></pre>\n<p>this is killed few seconds after the test fails</p>\n<p>not sure if this is connected but</p>\n<pre><code>docker run testcontainers/ryuk:0.3.1\n2022/11/07 17:18:10 Pinging Docker...\npanic: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?\n\ngoroutine 1 [running]:\nmain.main()\n    /go/src/github.com/testcontainers/moby-ryuk/main.go:36 +0x457\n</code></pre>\n<p>getting this error while trying to run it manually.</p>\n<p>Other docker images seems to work just fine basic hello world example:</p>\n<pre><code>docker run hello-world\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.\n    (amd64)\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker ID:\n https://hub.docker.com/\n\nFor more examples and ideas, visit:\n https://docs.docker.com/get-started/\n\n\n</code></pre>\n"},{"tags":["java","string","default","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":4197835,"reputation":1,"user_id":3438797,"display_name":"rchirino"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1395265729,"creation_date":1395265729,"answer_id":22518857,"question_id":22518594,"body_markdown":"I think I understand what you want to do, but it&#39;s rather simple. If your program is a console application (command-line), which I&#39;ll assume, then you just need to press the UP key to populate the prompt with the last typed characters.\r\n\r\nIf you&#39;re working with GUI elements then you can check the API documentation for the particular class of object you&#39;re using and check out it&#39;s fields.\r\n\r\nHope this helps!","title":"Java: populating Scanner with default value on Scanner.nextLine();","body":"<p>I think I understand what you want to do, but it's rather simple. If your program is a console application (command-line), which I'll assume, then you just need to press the UP key to populate the prompt with the last typed characters.</p>\n\n<p>If you're working with GUI elements then you can check the API documentation for the particular class of object you're using and check out it's fields.</p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":3065119,"reputation":1103,"user_id":2596983,"accept_rate":90,"display_name":"Drifter64"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1395928696,"creation_date":1395928696,"answer_id":22689846,"question_id":22518594,"body_markdown":"After discussing this idea with a few people, it seems that what i want is not possible. The way of input is too simple to allow something like this.\r\n\r\nMy only possible solutions involve not running this from my IDE. I can either elect to use my application, or change the application into a GUI based applet. Running from the console will open up the &quot;Press up&quot; option, as suggested by rchirino, and using a GUI would let the value entered sit there for editing later.\r\n\r\nIf anyone is looking to do what i posted above, the answer is &quot;Java cant do it!&quot;. Sorry. :)","title":"Java: populating Scanner with default value on Scanner.nextLine();","body":"<p>After discussing this idea with a few people, it seems that what i want is not possible. The way of input is too simple to allow something like this.</p>\n\n<p>My only possible solutions involve not running this from my IDE. I can either elect to use my application, or change the application into a GUI based applet. Running from the console will open up the \"Press up\" option, as suggested by rchirino, and using a GUI would let the value entered sit there for editing later.</p>\n\n<p>If anyone is looking to do what i posted above, the answer is \"Java cant do it!\". Sorry. :)</p>\n"},{"tags":[],"owner":{"account_id":5661326,"reputation":1,"user_id":4478894,"display_name":"Dmv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520945403,"creation_date":1520943017,"answer_id":49255862,"question_id":22518594,"body_markdown":"You might want to try something like this:\r\n\r\n    public String promptandgetWithShowDefault(String prompt, String supplied) {\r\n      String prmpt = prompt + &quot; (press Enter for \\&quot;&quot; + supplied + &quot;\\&quot;):&quot;;\r\n      String tmpch = null;\r\n      System.out.print(prmpt);\r\n      tmpch = scanner.nextLine().trim();\r\n      if (tmpch == null || tmpch.equals(&quot;&quot;)) {\r\n         return supplied;\r\n      } else {\r\n         return tmpch;\r\n      }\r\n    }","title":"Java: populating Scanner with default value on Scanner.nextLine();","body":"<p>You might want to try something like this:</p>\n\n<pre><code>public String promptandgetWithShowDefault(String prompt, String supplied) {\n  String prmpt = prompt + \" (press Enter for \\\"\" + supplied + \"\\\"):\";\n  String tmpch = null;\n  System.out.print(prmpt);\n  tmpch = scanner.nextLine().trim();\n  if (tmpch == null || tmpch.equals(\"\")) {\n     return supplied;\n  } else {\n     return tmpch;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16917,"reputation":37,"user_id":37358,"display_name":"piero B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667844791,"creation_date":1667844791,"answer_id":74351079,"question_id":22518594,"body_markdown":"If the goal is to get a simple binar answer from the user like:\r\n\r\n         Would you like to do that? (  y / n  ) y \r\nthen the empty string returned by the user, in the answer from Dmv, will do the trick, except that when the user types &quot;n&quot; or attempts to delete the trailing &quot;y&quot;, it won&#39;t disappear, so it would then be clearer to write the prompt like:\r\n\r\n        Would you like to do that? ( [ y ] / n )\r\nBut when the goal is to get a long string, like the original question or a file path for instance, that the user can edit to correct a typo or not to overwrite previous file .... then you definitely need something else which doesn&#39;t seem to be available in Java.\r\n\r\nWell do it in C then!!! with the help of libreadline...     \r\n\r\nit&#39;s probably possible, easier and more portable to do the same trick in Python, but I have no idea how to code in Python.\r\n\r\nHere is a simple Java MRE to illustrate it:\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.InputStreamReader;\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tString path = System.getProperty(&quot;user.home&quot;) + File.separatorChar + &quot;Documents&quot;;\r\n\t\tFile file = null;\r\n\t\tdo {\r\n\t\t\tpath = askForString(&quot;Enter the filepath to open:&quot;, path );\r\n\t\t\tif ( ( path == null) || ( path.isBlank())) break;\r\n\t\t\tfile = new File( path );\r\n\t\t} while ( ! file.exists() );\r\n\t\tSystem.out.println(&quot;Openning &quot; + path + &quot;....&quot;);\r\n\t\t// ......\r\n\t}\r\n\tpublic static String askForString( String message, String defaultString)\r\n\t{\r\n\t\tString response = null;\r\n\t\tSystem.out.println( message);\r\n        // any extra String in cmd[] will be added in readline history\r\n\t    String[] cmd = { &quot;/path/to/executable/ask4stringWdefault&quot;, defaultString};\r\n\t    try\r\n\t    {\r\n\t      ProcessBuilder pb = new ProcessBuilder(cmd);\r\n          // Make sure the subprocess can print on console and capture keyboard events\r\n\t      pb.redirectInput(ProcessBuilder.Redirect.INHERIT); \r\n\t      pb.redirectOutput(ProcessBuilder.Redirect.INHERIT);\r\n\t      Process p = pb.start();\r\n\t      BufferedReader stderrBuffer = new BufferedReader(new InputStreamReader(p.getErrorStream()));\r\n\t      int retcode= p.waitFor();\r\n\t      if ( retcode != 0)\r\n\t      {\r\n\t    \t   System.err.println(&quot;The process terminated with error code: &quot; + retcode + &quot;\\n&quot; + stderrBuffer.readLine());\r\n\t    \t   return null;\r\n\t      }\r\n\t      response = stderrBuffer.readLine();\r\n\t    } catch( Exception e) {\r\n\t    \te.printStackTrace();\r\n\t    }\r\n\t\treturn response;\r\n\t}\r\n}\r\n```\r\nTo build the executable &quot;ask4stringWdefault&quot; you need first to get the [GNU Readline Library][1] utility and compile it, ideally cross-compile for any platform Java supports, to get a static library that you will link while compiling ( or cross-compiling ) the following C script:\r\n\r\n```\r\n#include &lt;stdio.h&gt;\r\n#include &lt;stdlib.h&gt;\r\n#include &lt;readline/readline.h&gt;\r\n#include &lt;readline/history.h&gt;\r\n\r\nconst char *defstr;\r\nint prefill(const char *txt, int i);\r\nint main(int argc, const char * argv[])\r\n{\r\n    if ( argc &lt; 2)\r\n    {\r\n        fprintf(stderr, &quot;You must provide a default value\\n&quot;);\r\n        return -1;\r\n    } else if ( argc &gt; 2) {\r\n        // * optional extra values can be passed to populate history * //\r\n        if ( argc &gt; 255) argc = 255;\r\n        for ( unsigned char i=0; i &lt; argc; i++)\r\n        {\r\n            add_history(argv[i]);\r\n        }\r\n    }\r\n    defstr = argv[1];\r\n    char *cbuffer;\r\n    rl_startup_hook = prefill;\r\n    if ((cbuffer = readline(NULL)) == NULL) /* if the user sends EOF, readline will return NULL */\r\n        return 1;\r\n    fprintf( stderr, &quot;%s\\n&quot;, cbuffer);\r\n    free(cbuffer);\r\n    return 0;\r\n}\r\nint prefill(const char *t, int i)\r\n{\r\n    rl_insert_text(defstr);\r\n    return 0;\r\n}\r\n```\r\nThe result is printed on stderr as it is the only stream that Java can keep track of, stdout and stdin being under the control of the executable subprocess itself.\r\n\r\nIt works fine on a Mac with arm64 architecture, using Eclipse you can&#39;t actually edit the default provided, any character typed at the prompt will be append to default string, but just hitting return will send unchanged default value back, which can be enough for basic testing. \r\n\r\n\r\n  [1]: https://tiswww.cwru.edu/php/chet/readline/rltop.html","title":"Java: populating Scanner with default value on Scanner.nextLine();","body":"<p>If the goal is to get a simple binar answer from the user like:</p>\n<pre><code>     Would you like to do that? (  y / n  ) y \n</code></pre>\n<p>then the empty string returned by the user, in the answer from Dmv, will do the trick, except that when the user types &quot;n&quot; or attempts to delete the trailing &quot;y&quot;, it won't disappear, so it would then be clearer to write the prompt like:</p>\n<pre><code>    Would you like to do that? ( [ y ] / n )\n</code></pre>\n<p>But when the goal is to get a long string, like the original question or a file path for instance, that the user can edit to correct a typo or not to overwrite previous file .... then you definitely need something else which doesn't seem to be available in Java.</p>\n<p>Well do it in C then!!! with the help of libreadline...</p>\n<p>it's probably possible, easier and more portable to do the same trick in Python, but I have no idea how to code in Python.</p>\n<p>Here is a simple Java MRE to illustrate it:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.InputStreamReader;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        String path = System.getProperty(&quot;user.home&quot;) + File.separatorChar + &quot;Documents&quot;;\n        File file = null;\n        do {\n            path = askForString(&quot;Enter the filepath to open:&quot;, path );\n            if ( ( path == null) || ( path.isBlank())) break;\n            file = new File( path );\n        } while ( ! file.exists() );\n        System.out.println(&quot;Openning &quot; + path + &quot;....&quot;);\n        // ......\n    }\n    public static String askForString( String message, String defaultString)\n    {\n        String response = null;\n        System.out.println( message);\n        // any extra String in cmd[] will be added in readline history\n        String[] cmd = { &quot;/path/to/executable/ask4stringWdefault&quot;, defaultString};\n        try\n        {\n          ProcessBuilder pb = new ProcessBuilder(cmd);\n          // Make sure the subprocess can print on console and capture keyboard events\n          pb.redirectInput(ProcessBuilder.Redirect.INHERIT); \n          pb.redirectOutput(ProcessBuilder.Redirect.INHERIT);\n          Process p = pb.start();\n          BufferedReader stderrBuffer = new BufferedReader(new InputStreamReader(p.getErrorStream()));\n          int retcode= p.waitFor();\n          if ( retcode != 0)\n          {\n               System.err.println(&quot;The process terminated with error code: &quot; + retcode + &quot;\\n&quot; + stderrBuffer.readLine());\n               return null;\n          }\n          response = stderrBuffer.readLine();\n        } catch( Exception e) {\n            e.printStackTrace();\n        }\n        return response;\n    }\n}\n</code></pre>\n<p>To build the executable &quot;ask4stringWdefault&quot; you need first to get the <a href=\"https://tiswww.cwru.edu/php/chet/readline/rltop.html\" rel=\"nofollow noreferrer\">GNU Readline Library</a> utility and compile it, ideally cross-compile for any platform Java supports, to get a static library that you will link while compiling ( or cross-compiling ) the following C script:</p>\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;readline/readline.h&gt;\n#include &lt;readline/history.h&gt;\n\nconst char *defstr;\nint prefill(const char *txt, int i);\nint main(int argc, const char * argv[])\n{\n    if ( argc &lt; 2)\n    {\n        fprintf(stderr, &quot;You must provide a default value\\n&quot;);\n        return -1;\n    } else if ( argc &gt; 2) {\n        // * optional extra values can be passed to populate history * //\n        if ( argc &gt; 255) argc = 255;\n        for ( unsigned char i=0; i &lt; argc; i++)\n        {\n            add_history(argv[i]);\n        }\n    }\n    defstr = argv[1];\n    char *cbuffer;\n    rl_startup_hook = prefill;\n    if ((cbuffer = readline(NULL)) == NULL) /* if the user sends EOF, readline will return NULL */\n        return 1;\n    fprintf( stderr, &quot;%s\\n&quot;, cbuffer);\n    free(cbuffer);\n    return 0;\n}\nint prefill(const char *t, int i)\n{\n    rl_insert_text(defstr);\n    return 0;\n}\n</code></pre>\n<p>The result is printed on stderr as it is the only stream that Java can keep track of, stdout and stdin being under the control of the executable subprocess itself.</p>\n<p>It works fine on a Mac with arm64 architecture, using Eclipse you can't actually edit the default provided, any character typed at the prompt will be append to default string, but just hitting return will send unchanged default value back, which can be enough for basic testing.</p>\n"}],"owner":{"account_id":3065119,"reputation":1103,"user_id":2596983,"accept_rate":90,"display_name":"Drifter64"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2310,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22689846,"answer_count":4,"score":2,"last_activity_date":1667844791,"creation_date":1395264935,"question_id":22518594,"body_markdown":"I am writing a java program that runs a loop and keeps asking the user for input. The program then does a bunch of things with the string, and asks for another string and repeats.\r\n\r\nThe issue is that many strings are very similar, so i would like to populate the prompt with the input from the last time in the loop. For instance: If the user enters a value as follows:\r\n\r\n    Enter the SKU Number: APE-6603/A\r\n\r\n... Then the next time it asks for an SKU, it will wait till the user presses enter as normal, but be ready with the last value before the user even types anything:\r\n\r\n    Enter the SKU Number: APE-6603/A\r\n\r\n... And the user can make simple changes very fast like replace the /A with /B and press enter! If the string that holds the user input is called &quot;lookFor&quot;, is there a way to populate the prompt with this value in Java? It would be VERY useful!\r\n\r\nThanks!","title":"Java: populating Scanner with default value on Scanner.nextLine();","body":"<p>I am writing a java program that runs a loop and keeps asking the user for input. The program then does a bunch of things with the string, and asks for another string and repeats.</p>\n\n<p>The issue is that many strings are very similar, so i would like to populate the prompt with the input from the last time in the loop. For instance: If the user enters a value as follows:</p>\n\n<pre><code>Enter the SKU Number: APE-6603/A\n</code></pre>\n\n<p>... Then the next time it asks for an SKU, it will wait till the user presses enter as normal, but be ready with the last value before the user even types anything:</p>\n\n<pre><code>Enter the SKU Number: APE-6603/A\n</code></pre>\n\n<p>... And the user can make simple changes very fast like replace the /A with /B and press enter! If the string that holds the user input is called \"lookFor\", is there a way to populate the prompt with this value in Java? It would be VERY useful!</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","utf-8","character-encoding","jakarta-mail"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1361644616,"post_id":15044027,"comment_id":21146451,"body_markdown":"`setText(message, &quot;UTF&quot;)`, so both for subject and content the encoding must be set.","body":"<code>setText(message, &quot;UTF&quot;)</code>, so both for subject and content the encoding must be set."},{"owner":{"account_id":1830957,"reputation":1722,"user_id":1662364,"accept_rate":77,"display_name":"Martin Rohwedder"},"score":1,"creation_date":1361712649,"post_id":15044027,"comment_id":21160456,"body_markdown":"I did that and it didn&#39;t work. Though I get an error when sending email, when writing only UTF as the encoding as you suggest.","body":"I did that and it didn&#39;t work. Though I get an error when sending email, when writing only UTF as the encoding as you suggest."}],"answers":[{"tags":[],"owner":{"account_id":954552,"reputation":3071,"user_id":980092,"accept_rate":83,"display_name":"Arsen Alexanyan"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1361644388,"creation_date":1361644388,"answer_id":15044071,"question_id":15044027,"body_markdown":"Maybe You should provide also UTF-8 here\r\n\r\n    mimeMessage.setContent(message, &quot;text/plain; charset=UTF-8&quot;);\r\n\r\nYou have to look at http://www.coderanch.com/t/274480/java/java/JavaMail-set-content-utf","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<p>Maybe You should provide also UTF-8 here</p>\n\n<pre><code>mimeMessage.setContent(message, \"text/plain; charset=UTF-8\");\n</code></pre>\n\n<p>You have to look at <a href=\"http://www.coderanch.com/t/274480/java/java/JavaMail-set-content-utf\">http://www.coderanch.com/t/274480/java/java/JavaMail-set-content-utf</a></p>\n"},{"tags":[],"owner":{"account_id":1830957,"reputation":1722,"user_id":1662364,"accept_rate":77,"display_name":"Martin Rohwedder"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1362169155,"creation_date":1362169155,"answer_id":15166182,"question_id":15044027,"body_markdown":"After spending a lot of time on debugging, and searching the internet for a clue, I have found a solution to my problem.\r\n\r\nIt seems that whenever I sended data through a web request, my application didn&#39;t encode the characters with UTF-8 encoding. This meant that the data which was send from my contact form, which contained &#230;, &#248; and &#229; characters, couldn&#39;t be handled correct by the character encoding.\r\n\r\nThe solution seemed to setup a **Character Encoding Filter**, in my Deployment Descriptor, which would encode all incoming request from the web to be with the character encoding UTF-8.\r\n\r\n    private void registerCharacterEncodingFilter(ServletContext servletContext) {\r\n        CharacterEncodingFilter encodingFilter = new CharacterEncodingFilter();\r\n        encodingFilter.setEncoding(&quot;UTF-8&quot;);\r\n        encodingFilter.setForceEncoding(true);\r\n        FilterRegistration.Dynamic characterEncodingFilter = servletContext.addFilter(&quot;characterEncodingFilter&quot;, encodingFilter);\r\n        characterEncodingFilter.addMappingForUrlPatterns(null, false, &quot;/*&quot;);\r\n    }\r\n\r\nThis filter sets the encoding to be UTF-8 and force the encoding to all requests comming at the url &#39; /* &#39;.","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<p>After spending a lot of time on debugging, and searching the internet for a clue, I have found a solution to my problem.</p>\n\n<p>It seems that whenever I sended data through a web request, my application didn't encode the characters with UTF-8 encoding. This meant that the data which was send from my contact form, which contained æ, ø and å characters, couldn't be handled correct by the character encoding.</p>\n\n<p>The solution seemed to setup a <strong>Character Encoding Filter</strong>, in my Deployment Descriptor, which would encode all incoming request from the web to be with the character encoding UTF-8.</p>\n\n<pre><code>private void registerCharacterEncodingFilter(ServletContext servletContext) {\n    CharacterEncodingFilter encodingFilter = new CharacterEncodingFilter();\n    encodingFilter.setEncoding(\"UTF-8\");\n    encodingFilter.setForceEncoding(true);\n    FilterRegistration.Dynamic characterEncodingFilter = servletContext.addFilter(\"characterEncodingFilter\", encodingFilter);\n    characterEncodingFilter.addMappingForUrlPatterns(null, false, \"/*\");\n}\n</code></pre>\n\n<p>This filter sets the encoding to be UTF-8 and force the encoding to all requests comming at the url ' /* '.</p>\n"},{"tags":[],"owner":{"account_id":3046865,"reputation":47,"user_id":2582242,"display_name":"user2582242"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1569517838,"creation_date":1376563544,"answer_id":18251111,"question_id":15044027,"body_markdown":"It&#39;s easy, \r\nrun your project with parameter -Dfile.encoding=UTF-8\r\nex:\r\njava -Dfile.encoding=UTF-8 -jar MyProject.jar\r\n\r\n//Fix a typo","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<p>It's easy, \nrun your project with parameter -Dfile.encoding=UTF-8\nex:\njava -Dfile.encoding=UTF-8 -jar MyProject.jar</p>\n\n<p>//Fix a typo</p>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":109,"is_accepted":true,"score":109,"last_activity_date":1477492359,"creation_date":1418225599,"answer_id":27404861,"question_id":15044027,"body_markdown":"## For all e-mails ##\r\n\r\nThere are a couple of [system properties related to mailing][1], that can probably simplify your code. I am talking about this specific property actually: ``&quot;mail.mime.charset&quot;``.\r\n\r\n&gt; The **``mail.mime.charset``** System property can be used **to specify the default MIME charset** to use for encoded words and text parts that don&#39;t otherwise specify a charset. Normally, the default MIME charset is derived from the default Java charset, as specified in the ``file.encoding`` System property. Most applications will have no need to explicitly set the default MIME charset. In cases where the default MIME charset to be used for mail messages is different than the charset used for files stored on the system, this property should be set. \r\n\r\nAs you can read above, by default there is no value for the ``mail.mime.charset`` and the file encoding (``file.encoding`` property) is used.\r\n\r\n## For a specific e-mail ##\r\n\r\nHowever, if you want to specify a specific encoding for a specific e-mail, then you should probably use the 2 parameter ``setSubject(subject,charset)`` and ``setText(text,charset)`` methods.\r\n\r\n**If that doesn&#39;t work, then probably your input is already corrupted before it reached this point. In other words, you probably used the wrong encoding to collect your data**.\r\n\r\n## Mime types are complicated ##\r\n\r\nThe ``setContent(content, &quot;UTF-8&quot;)`` (as other sources claim) will just not work. Just look at the signature of this method: ``setContent(Object content, String mimetype)``. **Mime type and charset are 2 totally different things.** Imho, you should really be using one of the ``setText(...)`` methods with a charset parameter. \r\n\r\nBut if you persist in using a mimetype to set the charset ``setContent(content,mimetype)``, then use the correct format. (not just `&quot;UTF-8&quot;`, but something like `&quot;text/plain; charset=UTF-8&quot;`). But more importantly, **be aware that every mime-type has its own way of handling charsets.**\r\n\r\n - As specified in [RFC-2046][2] the default charset for `text/plain` is `US-ASCII`, but can be overruled with an additional charset parameter. \r\n - However, in [RFC-6657][3] makes clear that the `text/xml` type determines the charset using the content of the message. **The charset parameter will just be ignored here.**\r\n - And in [RFC-2854][4] is stated that `text/html` should really always specify a charset. But if you don&#39;t, then it will use `ISO-8859-1` (=`Latin-1`).\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/mail/internet/package-summary.html\r\n  [2]: https://www.rfc-editor.org/rfc/rfc2046\r\n  [3]: https://www.rfc-editor.org/rfc/rfc6657\r\n  [4]: https://www.rfc-editor.org/rfc/rfc2854#section-6","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<h2>For all e-mails</h2>\n<p>There are a couple of <a href=\"http://docs.oracle.com/javaee/6/api/javax/mail/internet/package-summary.html\" rel=\"noreferrer\">system properties related to mailing</a>, that can probably simplify your code. I am talking about this specific property actually: <code>&quot;mail.mime.charset&quot;</code>.</p>\n<blockquote>\n<p>The <strong><code>mail.mime.charset</code></strong> System property can be used <strong>to specify the default MIME charset</strong> to use for encoded words and text parts that don't otherwise specify a charset. Normally, the default MIME charset is derived from the default Java charset, as specified in the <code>file.encoding</code> System property. Most applications will have no need to explicitly set the default MIME charset. In cases where the default MIME charset to be used for mail messages is different than the charset used for files stored on the system, this property should be set.</p>\n</blockquote>\n<p>As you can read above, by default there is no value for the <code>mail.mime.charset</code> and the file encoding (<code>file.encoding</code> property) is used.</p>\n<h2>For a specific e-mail</h2>\n<p>However, if you want to specify a specific encoding for a specific e-mail, then you should probably use the 2 parameter <code>setSubject(subject,charset)</code> and <code>setText(text,charset)</code> methods.</p>\n<p><strong>If that doesn't work, then probably your input is already corrupted before it reached this point. In other words, you probably used the wrong encoding to collect your data</strong>.</p>\n<h2>Mime types are complicated</h2>\n<p>The <code>setContent(content, &quot;UTF-8&quot;)</code> (as other sources claim) will just not work. Just look at the signature of this method: <code>setContent(Object content, String mimetype)</code>. <strong>Mime type and charset are 2 totally different things.</strong> Imho, you should really be using one of the <code>setText(...)</code> methods with a charset parameter.</p>\n<p>But if you persist in using a mimetype to set the charset <code>setContent(content,mimetype)</code>, then use the correct format. (not just <code>&quot;UTF-8&quot;</code>, but something like <code>&quot;text/plain; charset=UTF-8&quot;</code>). But more importantly, <strong>be aware that every mime-type has its own way of handling charsets.</strong></p>\n<ul>\n<li>As specified in <a href=\"https://www.rfc-editor.org/rfc/rfc2046\" rel=\"noreferrer\">RFC-2046</a> the default charset for <code>text/plain</code> is <code>US-ASCII</code>, but can be overruled with an additional charset parameter.</li>\n<li>However, in <a href=\"https://www.rfc-editor.org/rfc/rfc6657\" rel=\"noreferrer\">RFC-6657</a> makes clear that the <code>text/xml</code> type determines the charset using the content of the message. <strong>The charset parameter will just be ignored here.</strong></li>\n<li>And in <a href=\"https://www.rfc-editor.org/rfc/rfc2854#section-6\" rel=\"noreferrer\">RFC-2854</a> is stated that <code>text/html</code> should really always specify a charset. But if you don't, then it will use <code>ISO-8859-1</code> (=<code>Latin-1</code>).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1085364,"reputation":113,"user_id":1081194,"display_name":"D.Ogranos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616171102,"creation_date":1616171102,"answer_id":66711955,"question_id":15044027,"body_markdown":"I know I&#39;m late to this question, but I had a similar problem just now.\r\n\r\nIt may be worth it to check your source encodings too! I was using a test class, with hardcoded subject/text containing some special characters, which kept coming garbled when sending the email. Even though I had set the charset UTF-8 wherever applicable (mimeMessage.setSubject(subject, charset), mimeMessage.setContent(content, &quot;text/plain; charset=UTF-8&quot;)).\r\n\r\nThen I noted that the source encoding of this class was windows-1252. From my understanding, when a java file is compiled, any source texts are converted to UTF-8. But in this case, in the maven pom.xml for this project, the project.build.sourceEncoding property was missing - so I&#39;m actually not sure which encoding maven was using during compilation (by default) since none was specified.\r\n\r\nChanging the source encoding was not possible here, but as soon as I changed the special characters to Unicode code literals (e.g. &quot;&#252;&quot; to &quot;\\u00fc&quot;), the whole thing worked fine.","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<p>I know I'm late to this question, but I had a similar problem just now.</p>\n<p>It may be worth it to check your source encodings too! I was using a test class, with hardcoded subject/text containing some special characters, which kept coming garbled when sending the email. Even though I had set the charset UTF-8 wherever applicable (mimeMessage.setSubject(subject, charset), mimeMessage.setContent(content, &quot;text/plain; charset=UTF-8&quot;)).</p>\n<p>Then I noted that the source encoding of this class was windows-1252. From my understanding, when a java file is compiled, any source texts are converted to UTF-8. But in this case, in the maven pom.xml for this project, the project.build.sourceEncoding property was missing - so I'm actually not sure which encoding maven was using during compilation (by default) since none was specified.</p>\n<p>Changing the source encoding was not possible here, but as soon as I changed the special characters to Unicode code literals (e.g. &quot;ü&quot; to &quot;\\u00fc&quot;), the whole thing worked fine.</p>\n"},{"tags":[],"owner":{"account_id":9184260,"reputation":19,"user_id":6827104,"display_name":"Juandeyby"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1626127215,"creation_date":1626127215,"answer_id":68354317,"question_id":15044027,"body_markdown":"Before sending your String to the send method, you must convert the String into UTF-8\r\n\r\nIf you are receiving a &quot;request&quot; parameter, you can use &quot;setCharacterEncoding&quot;:\r\n\r\n    request.setCharacterEncoding(&quot;utf-8&quot;);\r\n    String subject = request.getParameter(&quot;subject&quot;);\r\n    String content = request.getParameter(&quot;content&quot;);\r\n    ...\r\n    MimeMessage mineMessage = new MimeMessage(session);\r\n        \tmineMessage.setFrom(new InternetAddress(myAccountEmail));\r\n        \tmineMessage.setRecipient(Message.RecipientType.TO, new InternetAddress(recepient));\r\n        \tmineMessage.setSubject(subject, &quot;UTF-8&quot;);\r\n        \tmineMessage.setContent(content, &quot;text/plain;charset=UTF-8&quot;);\r\n\r\nOtherwise, convert your String into UTF-8 format with the following method: \r\n\r\n    String subject = new String(subject.getBytes(Charset.forName(&quot;ISO-8859-1&quot;)), Charset.forName(&quot;UTF-8&quot;));\r\n    String content = new String(content.getBytes(Charset.forName(&quot;ISO-8859-1&quot;)), Charset.forName(&quot;UTF-8&quot;));\r\n    ...\r\n    MimeMessage mineMessage = new MimeMessage(session);\r\n        mineMessage.setFrom(new InternetAddress(myAccountEmail));\r\n        mineMessage.setRecipient(Message.RecipientType.TO, new InternetAddress(recepient));\r\n        mineMessage.setSubject(subject, &quot;UTF-8&quot;);\r\n        mineMessage.setContent(content, &quot;plain/plain;charset=UTF-8&quot;);\r\n\r\n [This is the result in Spanish.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EYgOM.png","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<p>Before sending your String to the send method, you must convert the String into UTF-8</p>\n<p>If you are receiving a &quot;request&quot; parameter, you can use &quot;setCharacterEncoding&quot;:</p>\n<pre><code>request.setCharacterEncoding(&quot;utf-8&quot;);\nString subject = request.getParameter(&quot;subject&quot;);\nString content = request.getParameter(&quot;content&quot;);\n...\nMimeMessage mineMessage = new MimeMessage(session);\n        mineMessage.setFrom(new InternetAddress(myAccountEmail));\n        mineMessage.setRecipient(Message.RecipientType.TO, new InternetAddress(recepient));\n        mineMessage.setSubject(subject, &quot;UTF-8&quot;);\n        mineMessage.setContent(content, &quot;text/plain;charset=UTF-8&quot;);\n</code></pre>\n<p>Otherwise, convert your String into UTF-8 format with the following method:</p>\n<pre><code>String subject = new String(subject.getBytes(Charset.forName(&quot;ISO-8859-1&quot;)), Charset.forName(&quot;UTF-8&quot;));\nString content = new String(content.getBytes(Charset.forName(&quot;ISO-8859-1&quot;)), Charset.forName(&quot;UTF-8&quot;));\n...\nMimeMessage mineMessage = new MimeMessage(session);\n    mineMessage.setFrom(new InternetAddress(myAccountEmail));\n    mineMessage.setRecipient(Message.RecipientType.TO, new InternetAddress(recepient));\n    mineMessage.setSubject(subject, &quot;UTF-8&quot;);\n    mineMessage.setContent(content, &quot;plain/plain;charset=UTF-8&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EYgOM.png\" rel=\"nofollow noreferrer\">This is the result in Spanish.</a></p>\n"},{"tags":[],"owner":{"account_id":4854630,"reputation":21,"user_id":3915978,"display_name":"giantape"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1639745576,"creation_date":1639745576,"answer_id":70393487,"question_id":15044027,"body_markdown":"\r\n\r\n    mimeMessage.setContent(mail.getBody(), &quot;text/html; charset=UTF-8&quot;);\r\n\r\nmaybe iam wrong, but this work for me. :) any &#246;&#246;&#246;, &#228;&#228;&#228;, &#252;&#252;&#252; character will shown correctly in my outlook. \r\n\r\n[outlook screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ogqXL.png","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<pre><code>mimeMessage.setContent(mail.getBody(), &quot;text/html; charset=UTF-8&quot;);\n</code></pre>\n<p>maybe iam wrong, but this work for me. :) any ööö, äää, üüü character will shown correctly in my outlook.</p>\n<p><a href=\"https://i.stack.imgur.com/ogqXL.png\" rel=\"nofollow noreferrer\">outlook screenshot</a></p>\n"},{"tags":[],"owner":{"account_id":26805892,"reputation":1,"user_id":20397213,"display_name":"Antonio Piga"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667844724,"creation_date":1667389393,"answer_id":74288621,"question_id":15044027,"body_markdown":"Maybe is too later, but there is a very simple method to fix this problem.\r\nJust call this constructor to create a MimeMessageHelper that encode UTF-8 as we escpect: \r\n\r\n```\r\nMimeMessage **mimeMessage** = mailSender.createMimeMessage();\r\n\r\nMimeMessageHelper **helper** = new MimeMessageHelper(mimeMessage, false(or true if you want include Multipart), &quot;UTF-8&quot;);\r\n```\r\n\r\nNo more actions are needed, continue the mail sending flow as you wish. \r\n","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<p>Maybe is too later, but there is a very simple method to fix this problem.\nJust call this constructor to create a MimeMessageHelper that encode UTF-8 as we escpect:</p>\n<pre><code>MimeMessage **mimeMessage** = mailSender.createMimeMessage();\n\nMimeMessageHelper **helper** = new MimeMessageHelper(mimeMessage, false(or true if you want include Multipart), &quot;UTF-8&quot;);\n</code></pre>\n<p>No more actions are needed, continue the mail sending flow as you wish.</p>\n"}],"owner":{"account_id":1830957,"reputation":1722,"user_id":1662364,"accept_rate":77,"display_name":"Martin Rohwedder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98254,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"accepted_answer_id":27404861,"answer_count":8,"score":68,"last_activity_date":1667844724,"creation_date":1361644125,"question_id":15044027,"body_markdown":"I have used [Java Mail API][1], for sending emails. I am using a contact formular to send the input, which has to be send to a specific email.\r\n\r\nThe email is send without problems, though I am a danish guy, and I am therefore in need of three danish characters which is &#39;&#230;&#39;, &#39;&#248;&#39; and &#39;&#229;&#39;, in the subject and the email text.\r\n\r\nI have therefore seen that I can use UTF-8 character encoding, to provide these characters, but when my mail is send I only see some strange letters - &#39;&#227;&#166;&#39;, &#39;&#227;&#184;&#39; and &#39;&#227;&#165;&#39; - instead of the danish letters - &#39;&#230;&#39;, &#39;&#248;&#39; and &#39;&#229;&#39;.\r\n\r\nMy method to send the email is looking like this:\r\n\r\n    public void sendEmail(String name, String fromEmail, String subject, String message) throws AddressException, MessagingException, UnsupportedEncodingException, SendFailedException\r\n    {\r\n        //Set Mail properties\r\n        Properties props = System.getProperties();\r\n        props.setProperty(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        props.setProperty(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n        props.setProperty(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);\r\n        props.setProperty(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n        props.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.setProperty(&quot;mail.smtp.port&quot;, &quot;465&quot;);\r\n        Session session = Session.getDefaultInstance(props, new javax.mail.Authenticator() {\r\n            @Override\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(&quot;my_username&quot;, &quot;my_password&quot;);\r\n            }\r\n        });\r\n\r\n        //Create the email with variable input\r\n        MimeMessage mimeMessage = new MimeMessage(session);\r\n        mimeMessage.setHeader(&quot;Content-Type&quot;, &quot;text/plain; charset=UTF-8&quot;);\r\n        mimeMessage.setFrom(new InternetAddress(fromEmail, name));\r\n        mimeMessage.setRecipient(Message.RecipientType.TO, new InternetAddress(&quot;my_email&quot;));\r\n        mimeMessage.setSubject(subject, &quot;utf-8&quot;);\r\n        mimeMessage.setContent(message, &quot;text/plain&quot;);\r\n        \r\n        //Send the email\r\n        Transport.send(mimeMessage);\r\n    }\r\n\r\nPlease help me find out how I can correct this &#39;error&#39;.\r\n\r\n\r\n  [1]: https://javaee.github.io/javamail/","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<p>I have used <a href=\"https://javaee.github.io/javamail/\" rel=\"noreferrer\">Java Mail API</a>, for sending emails. I am using a contact formular to send the input, which has to be send to a specific email.</p>\n\n<p>The email is send without problems, though I am a danish guy, and I am therefore in need of three danish characters which is 'æ', 'ø' and 'å', in the subject and the email text.</p>\n\n<p>I have therefore seen that I can use UTF-8 character encoding, to provide these characters, but when my mail is send I only see some strange letters - 'ã¦', 'ã¸' and 'ã¥' - instead of the danish letters - 'æ', 'ø' and 'å'.</p>\n\n<p>My method to send the email is looking like this:</p>\n\n<pre><code>public void sendEmail(String name, String fromEmail, String subject, String message) throws AddressException, MessagingException, UnsupportedEncodingException, SendFailedException\n{\n    //Set Mail properties\n    Properties props = System.getProperties();\n    props.setProperty(\"mail.smtp.starttls.enable\", \"true\");\n    props.setProperty(\"mail.smtp.host\", \"smtp.gmail.com\");\n    props.setProperty(\"mail.smtp.socketFactory.port\", \"465\");\n    props.setProperty(\"mail.smtp.socketFactory.class\", \"javax.net.ssl.SSLSocketFactory\");\n    props.setProperty(\"mail.smtp.auth\", \"true\");\n    props.setProperty(\"mail.smtp.port\", \"465\");\n    Session session = Session.getDefaultInstance(props, new javax.mail.Authenticator() {\n        @Override\n        protected PasswordAuthentication getPasswordAuthentication() {\n            return new PasswordAuthentication(\"my_username\", \"my_password\");\n        }\n    });\n\n    //Create the email with variable input\n    MimeMessage mimeMessage = new MimeMessage(session);\n    mimeMessage.setHeader(\"Content-Type\", \"text/plain; charset=UTF-8\");\n    mimeMessage.setFrom(new InternetAddress(fromEmail, name));\n    mimeMessage.setRecipient(Message.RecipientType.TO, new InternetAddress(\"my_email\"));\n    mimeMessage.setSubject(subject, \"utf-8\");\n    mimeMessage.setContent(message, \"text/plain\");\n\n    //Send the email\n    Transport.send(mimeMessage);\n}\n</code></pre>\n\n<p>Please help me find out how I can correct this 'error'.</p>\n"},{"tags":["java","windows","swing","awt"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1229980846,"post_id":309023,"comment_id":214919,"body_markdown":"do you have a sample for this behavior?","body":"do you have a sample for this behavior?"},{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":3,"creation_date":1301188537,"post_id":309023,"comment_id":6170020,"body_markdown":"The proper answer is to call `toFront()` on the EDT using `invokeLater`.  There is a simple answer included below, but it is not the accepted answer.  It does work, though.  Perfectly.","body":"The proper answer is to call <code>toFront()</code> on the EDT using <code>invokeLater</code>.  There is a simple answer included below, but it is not the accepted answer.  It does work, though.  Perfectly."},{"owner":{"account_id":203683,"reputation":1269,"user_id":451482,"display_name":"ferdil"},"score":0,"creation_date":1326193778,"post_id":309023,"comment_id":10982042,"body_markdown":"I know this is old, but this also happens on OSX","body":"I know this is old, but this also happens on OSX"},{"owner":{"account_id":28102,"reputation":1655,"user_id":74706,"accept_rate":82,"display_name":"Craig Warren"},"score":0,"creation_date":1327509468,"post_id":309023,"comment_id":11289354,"body_markdown":"I&#39;m experiencing this problem, but none of the answers below seems to solve it. I&#39;m sure it&#39;s caused by windows not allowing me to &#39;Steal&#39; Focus for my first window in the application.","body":"I&#39;m experiencing this problem, but none of the answers below seems to solve it. I&#39;m sure it&#39;s caused by windows not allowing me to &#39;Steal&#39; Focus for my first window in the application."}],"answers":[{"tags":[],"owner":{"account_id":3958,"reputation":4898,"user_id":5814,"display_name":"Brendan Cashman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1227280980,"creation_date":1227280980,"answer_id":309092,"question_id":309023,"body_markdown":"There are numerous [caveats][1] in the javadoc for the toFront() method which may be causing your problem. \r\n\r\nBut I&#39;ll take a guess anyway, when &quot;only the tab in the taskbar flashes&quot;, has the application been minimized? If so the following line from the javadoc may apply:\r\n\r\n&quot;If this Window is visible, brings this Window to the front and may make it the focused Window.&quot; \r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/awt/Window.html#toFront()","title":"How to bring a window to the front?","body":"<p>There are numerous <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/Window.html#toFront()\" rel=\"nofollow noreferrer\">caveats</a> in the javadoc for the toFront() method which may be causing your problem. </p>\n\n<p>But I'll take a guess anyway, when \"only the tab in the taskbar flashes\", has the application been minimized? If so the following line from the javadoc may apply:</p>\n\n<p>\"If this Window is visible, brings this Window to the front and may make it the focused Window.\" </p>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1429627457,"creation_date":1227324300,"answer_id":310807,"question_id":309023,"body_markdown":"Windows has the facility to prevent windows from stealing focus; instead it flashes the taskbar icon.  In XP it&#39;s on by default (the only place I&#39;ve seen to change it is using TweakUI, but there is a registry setting somewhere).  In Vista they may have changed the default and/or exposed it as a user accessible setting with the out-of-the-box UI.\r\n\r\nPreventing windows from forcing themselves to the front and taking focus is a feature since Windows 2K (and I, for one, am thankful for it).\r\n\r\nThat said, I have a little Java app I use to remind me to record my activities while working, and it makes itself the active window every 30 minutes (configurable, of course).  It always works consistently under Windows XP and never flashes the title bar window.  It uses the following code, called in the UI thread as a result of a timer event firing:\r\n\r\n    if(getState()!=Frame.NORMAL) { setState(Frame.NORMAL); }\r\n    toFront();\r\n    repaint();\r\n\r\n(the first line restores if minimized... actually it would restore it if maximized too, but I never have it so).\r\n\r\nWhile I usually have this app minimized, quite often it&#39;s simply behind my text editor.  And, like I said, it always works.\r\n\r\nI do have an idea on what your problem could be - perhaps you have a race condition with the setVisible() call.  toFront() may not be valid unless the window is actually displayed when it is called; I have had this problem with requestFocus() before.  You may need to put the toFront() call in a UI listener on a window activated event.\r\n\r\n**2014-09-07:** At some point in time the above code stopped working, perhaps at Java 6 or 7. After some investigation and experimentation I had to update the code to override the window&#39;s `toFront` method do this (in conjunction with modified code from what is above):\r\n\r\n    setVisible(true);\r\n    toFront();\r\n    requestFocus();\r\n    repaint();\r\n\r\n    ...\r\n\r\n    public @Override void toFront() {\r\n        int sta = super.getExtendedState() &amp; ~JFrame.ICONIFIED &amp; JFrame.NORMAL;\r\n        \r\n        super.setExtendedState(sta);\r\n        super.setAlwaysOnTop(true);\r\n        super.toFront();\r\n        super.requestFocus();\r\n        super.setAlwaysOnTop(false);\r\n    }\r\n\r\nAs of Java 8_20, this code seems to be working fine.","title":"How to bring a window to the front?","body":"<p>Windows has the facility to prevent windows from stealing focus; instead it flashes the taskbar icon.  In XP it's on by default (the only place I've seen to change it is using TweakUI, but there is a registry setting somewhere).  In Vista they may have changed the default and/or exposed it as a user accessible setting with the out-of-the-box UI.</p>\n\n<p>Preventing windows from forcing themselves to the front and taking focus is a feature since Windows 2K (and I, for one, am thankful for it).</p>\n\n<p>That said, I have a little Java app I use to remind me to record my activities while working, and it makes itself the active window every 30 minutes (configurable, of course).  It always works consistently under Windows XP and never flashes the title bar window.  It uses the following code, called in the UI thread as a result of a timer event firing:</p>\n\n<pre><code>if(getState()!=Frame.NORMAL) { setState(Frame.NORMAL); }\ntoFront();\nrepaint();\n</code></pre>\n\n<p>(the first line restores if minimized... actually it would restore it if maximized too, but I never have it so).</p>\n\n<p>While I usually have this app minimized, quite often it's simply behind my text editor.  And, like I said, it always works.</p>\n\n<p>I do have an idea on what your problem could be - perhaps you have a race condition with the setVisible() call.  toFront() may not be valid unless the window is actually displayed when it is called; I have had this problem with requestFocus() before.  You may need to put the toFront() call in a UI listener on a window activated event.</p>\n\n<p><strong>2014-09-07:</strong> At some point in time the above code stopped working, perhaps at Java 6 or 7. After some investigation and experimentation I had to update the code to override the window's <code>toFront</code> method do this (in conjunction with modified code from what is above):</p>\n\n<pre><code>setVisible(true);\ntoFront();\nrequestFocus();\nrepaint();\n\n...\n\npublic @Override void toFront() {\n    int sta = super.getExtendedState() &amp; ~JFrame.ICONIFIED &amp; JFrame.NORMAL;\n\n    super.setExtendedState(sta);\n    super.setAlwaysOnTop(true);\n    super.toFront();\n    super.requestFocus();\n    super.setAlwaysOnTop(false);\n}\n</code></pre>\n\n<p>As of Java 8_20, this code seems to be working fine.</p>\n"},{"tags":[],"owner":{},"down_vote_count":1,"up_vote_count":74,"is_accepted":true,"score":73,"last_activity_date":1327511736,"creation_date":1229980177,"answer_id":387365,"question_id":309023,"body_markdown":"A possible solution is:\r\n\r\n    java.awt.EventQueue.invokeLater(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            myFrame.toFront();\r\n            myFrame.repaint();\r\n        }\r\n    });\r\n","title":"How to bring a window to the front?","body":"<p>A possible solution is:</p>\n\n<pre><code>java.awt.EventQueue.invokeLater(new Runnable() {\n    @Override\n    public void run() {\n        myFrame.toFront();\n        myFrame.repaint();\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26513,"reputation":5382,"user_id":69051,"accept_rate":89,"display_name":"01es"},"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1455581549,"creation_date":1235761300,"answer_id":596141,"question_id":309023,"body_markdown":"I had the same problem with bringing a `JFrame` to the front under Ubuntu (Java 1.6.0_10). And the only way I could resolve it is by providing a `WindowListener`. Specifically, I had to set my `JFrame` to always stay on top whenever `toFront()` is invoked, and provide `windowDeactivated` event handler to `setAlwaysOnTop(false)`. \r\n\r\n\r\n----------\r\n\r\n\r\nSo, here is the code that could be placed into a base `JFrame`, which is used to derive all application frames.\r\n\r\n    @Override\r\n    public void setVisible(final boolean visible) {\r\n\t  // make sure that frame is marked as not disposed if it is asked to be visible\r\n\t  if (visible) {\r\n\t      setDisposed(false);\r\n\t  }\r\n\t  // let&#39;s handle visibility...\r\n\t  if (!visible || !isVisible()) { // have to check this condition simply because super.setVisible(true) invokes toFront if frame was already visible\r\n\t      super.setVisible(visible);\r\n\t  }\r\n\t  // ...and bring frame to the front.. in a strange and weird way\r\n\t  if (visible) {\r\n          toFront();\r\n\t  }\r\n    }\r\n\r\n    @Override\r\n    public void toFront() {\r\n\t  super.setVisible(true);\r\n\t  int state = super.getExtendedState();\r\n\t  state &amp;= ~JFrame.ICONIFIED;\r\n\t  super.setExtendedState(state);\r\n\t  super.setAlwaysOnTop(true);\r\n\t  super.toFront();\r\n\t  super.requestFocus();\r\n\t  super.setAlwaysOnTop(false);\r\n    }\r\n\r\n\r\nWhenever your frame should be displayed or brought to front call `frame.setVisible(true)`.\r\n\r\nSince I moved to Ubuntu 9.04 there seems to be no need in having a `WindowListener` for invoking `super.setAlwaysOnTop(false)` -- as can be observed; this code was moved to the methods `toFront()` and `setVisible()`.\r\n\r\nPlease note that method `setVisible()` should always be invoked on EDT.","title":"How to bring a window to the front?","body":"<p>I had the same problem with bringing a <code>JFrame</code> to the front under Ubuntu (Java 1.6.0_10). And the only way I could resolve it is by providing a <code>WindowListener</code>. Specifically, I had to set my <code>JFrame</code> to always stay on top whenever <code>toFront()</code> is invoked, and provide <code>windowDeactivated</code> event handler to <code>setAlwaysOnTop(false)</code>. </p>\n\n<hr>\n\n<p>So, here is the code that could be placed into a base <code>JFrame</code>, which is used to derive all application frames.</p>\n\n<pre><code>@Override\npublic void setVisible(final boolean visible) {\n  // make sure that frame is marked as not disposed if it is asked to be visible\n  if (visible) {\n      setDisposed(false);\n  }\n  // let's handle visibility...\n  if (!visible || !isVisible()) { // have to check this condition simply because super.setVisible(true) invokes toFront if frame was already visible\n      super.setVisible(visible);\n  }\n  // ...and bring frame to the front.. in a strange and weird way\n  if (visible) {\n      toFront();\n  }\n}\n\n@Override\npublic void toFront() {\n  super.setVisible(true);\n  int state = super.getExtendedState();\n  state &amp;= ~JFrame.ICONIFIED;\n  super.setExtendedState(state);\n  super.setAlwaysOnTop(true);\n  super.toFront();\n  super.requestFocus();\n  super.setAlwaysOnTop(false);\n}\n</code></pre>\n\n<p>Whenever your frame should be displayed or brought to front call <code>frame.setVisible(true)</code>.</p>\n\n<p>Since I moved to Ubuntu 9.04 there seems to be no need in having a <code>WindowListener</code> for invoking <code>super.setAlwaysOnTop(false)</code> -- as can be observed; this code was moved to the methods <code>toFront()</code> and <code>setVisible()</code>.</p>\n\n<p>Please note that method <code>setVisible()</code> should always be invoked on EDT.</p>\n"},{"tags":[],"owner":{"account_id":665461,"reputation":41,"user_id":494924,"display_name":"Rich"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1288712510,"creation_date":1288712510,"answer_id":4079351,"question_id":309023,"body_markdown":"Simplest way I&#39;ve found that doesn&#39;t have inconsistency across platforms:\r\n\r\nsetVisible(false);\r\nsetVisible(true);","title":"How to bring a window to the front?","body":"<p>Simplest way I've found that doesn't have inconsistency across platforms:</p>\n\n<p>setVisible(false);\nsetVisible(true);</p>\n"},{"tags":[],"owner":{"account_id":358460,"reputation":5078,"user_id":699240,"display_name":"Mr Ed"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1305038328,"creation_date":1305038328,"answer_id":5951777,"question_id":309023,"body_markdown":"This simple method worked for me perfectly in Windows 7:\r\n\r\n        private void BringToFront() {\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if(jFrame != null) {\r\n                        jFrame.toFront();\r\n                        jFrame.repaint();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n","title":"How to bring a window to the front?","body":"<p>This simple method worked for me perfectly in Windows 7:</p>\n\n<pre><code>    private void BringToFront() {\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                if(jFrame != null) {\n                    jFrame.toFront();\n                    jFrame.repaint();\n                }\n            }\n        });\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22136,"reputation":1061,"user_id":54335,"accept_rate":25,"display_name":"christopher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308928307,"creation_date":1308928307,"answer_id":6469799,"question_id":309023,"body_markdown":"The rules governing what happens when you .toFront() a JFrame are the same in windows and in linux :\r\n\r\n-&gt; if a window of the existing application is currently the focused window, then focus swaps to the requested window\r\n-&gt; if not, the window merely flashes in the taskbar\r\n\r\nBUT : \r\n\r\n-&gt; new windows automatically get focus\r\n\r\nSo let&#39;s exploit this ! You want to bring a window to the front, how to do it ? Well :\r\n\r\n1. Create an empty non-purpose window\r\n2. Show it\r\n3. Wait for it to show up on screen (setVisible does that)\r\n4. When shown, request focus for the window you actually want to bring the focus to\r\n5. hide the empty window, destroy it\r\n\r\nOr, in java code :\r\n\r\n    // unminimize if necessary\r\n    this.setExtendedState(this.getExtendedState() &amp; ~JFrame.ICONIFIED);\r\n\r\n    // don&#39;t blame me, blame my upbringing\r\n    // or better yet, blame java !\r\n    final JFrame newFrame = new JFrame();\r\n    newFrame.add(new JLabel(&quot;boembabies, is this in front ?&quot;));\r\n\r\n    newFrame.pack();\r\n    newFrame.setVisible(true);\r\n    newFrame.toFront();\r\n\r\n    this.toFront();\r\n    this.requestFocus();\r\n\r\n    // I&#39;m not 100% positive invokeLater is necessary, but it seems to be on\r\n    // WinXP. I&#39;d be lying if I said I understand why\r\n    SwingUtilities.invokeLater(new Runnable() {\r\n      @Override public void run() {\r\n        newFrame.setVisible(false);\r\n      }\r\n    });\r\n","title":"How to bring a window to the front?","body":"<p>The rules governing what happens when you .toFront() a JFrame are the same in windows and in linux :</p>\n\n<p>-> if a window of the existing application is currently the focused window, then focus swaps to the requested window\n-> if not, the window merely flashes in the taskbar</p>\n\n<p>BUT : </p>\n\n<p>-> new windows automatically get focus</p>\n\n<p>So let's exploit this ! You want to bring a window to the front, how to do it ? Well :</p>\n\n<ol>\n<li>Create an empty non-purpose window</li>\n<li>Show it</li>\n<li>Wait for it to show up on screen (setVisible does that)</li>\n<li>When shown, request focus for the window you actually want to bring the focus to</li>\n<li>hide the empty window, destroy it</li>\n</ol>\n\n<p>Or, in java code :</p>\n\n<pre><code>// unminimize if necessary\nthis.setExtendedState(this.getExtendedState() &amp; ~JFrame.ICONIFIED);\n\n// don't blame me, blame my upbringing\n// or better yet, blame java !\nfinal JFrame newFrame = new JFrame();\nnewFrame.add(new JLabel(\"boembabies, is this in front ?\"));\n\nnewFrame.pack();\nnewFrame.setVisible(true);\nnewFrame.toFront();\n\nthis.toFront();\nthis.requestFocus();\n\n// I'm not 100% positive invokeLater is necessary, but it seems to be on\n// WinXP. I'd be lying if I said I understand why\nSwingUtilities.invokeLater(new Runnable() {\n  @Override public void run() {\n    newFrame.setVisible(false);\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user942821"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1315927311,"creation_date":1315927311,"answer_id":7404378,"question_id":309023,"body_markdown":"Hj, all methods of yours are not working for me, in Fedora KDE 14. I have a dirty way to do bring a window to front, while we&#39;re waiting for Oracle to fix this issue.\r\n\r\n    import java.awt.MouseInfo;\r\n    import java.awt.Point;\r\n    import java.awt.Robot;\r\n    import java.awt.event.InputEvent;\r\n\r\n    public class FrameMain extends javax.swing.JFrame {\r\n\r\n      //...\r\n      private final javax.swing.JFrame mainFrame = this;\r\n\r\n      private void toggleVisible() {\r\n        setVisible(!isVisible());\r\n        if (isVisible()) {\r\n          toFront();\r\n          requestFocus();\r\n          setAlwaysOnTop(true);\r\n          try {\r\n            //remember the last location of mouse\r\n            final Point oldMouseLocation = MouseInfo.getPointerInfo().getLocation();\r\n\r\n            //simulate a mouse click on title bar of window\r\n            Robot robot = new Robot();\r\n            robot.mouseMove(mainFrame.getX() + 100, mainFrame.getY() + 5);\r\n            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n\r\n            //move mouse to old location\r\n            robot.mouseMove((int) oldMouseLocation.getX(), (int) oldMouseLocation.getY());\r\n          } catch (Exception ex) {\r\n            //just ignore exception, or you can handle it as you want\r\n          } finally {\r\n            setAlwaysOnTop(false);\r\n          }\r\n        }\r\n      }\r\n\r\n      //...\r\n\r\n    }\r\n\r\nAnd, this works perfectly in my Fedora KDE 14  :-)","title":"How to bring a window to the front?","body":"<p>Hj, all methods of yours are not working for me, in Fedora KDE 14. I have a dirty way to do bring a window to front, while we're waiting for Oracle to fix this issue.</p>\n\n<pre><code>import java.awt.MouseInfo;\nimport java.awt.Point;\nimport java.awt.Robot;\nimport java.awt.event.InputEvent;\n\npublic class FrameMain extends javax.swing.JFrame {\n\n  //...\n  private final javax.swing.JFrame mainFrame = this;\n\n  private void toggleVisible() {\n    setVisible(!isVisible());\n    if (isVisible()) {\n      toFront();\n      requestFocus();\n      setAlwaysOnTop(true);\n      try {\n        //remember the last location of mouse\n        final Point oldMouseLocation = MouseInfo.getPointerInfo().getLocation();\n\n        //simulate a mouse click on title bar of window\n        Robot robot = new Robot();\n        robot.mouseMove(mainFrame.getX() + 100, mainFrame.getY() + 5);\n        robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n        robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n\n        //move mouse to old location\n        robot.mouseMove((int) oldMouseLocation.getX(), (int) oldMouseLocation.getY());\n      } catch (Exception ex) {\n        //just ignore exception, or you can handle it as you want\n      } finally {\n        setAlwaysOnTop(false);\n      }\n    }\n  }\n\n  //...\n\n}\n</code></pre>\n\n<p>And, this works perfectly in my Fedora KDE 14  :-)</p>\n"},{"tags":[],"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1316111612,"creation_date":1316111612,"answer_id":7435722,"question_id":309023,"body_markdown":"Here&#39;s a method that REALLY works (tested on Windows Vista) :D\r\n\r\n       frame.setExtendedState(JFrame.ICONIFIED);\r\n       frame.setExtendedState(fullscreen ? JFrame.MAXIMIZED_BOTH : JFrame.NORMAL);\r\n\r\nThe fullscreen variable indicates if you want the app to run full screen or windowed.\r\n\r\nThis does not flash the task bar, but bring the window to front reliably.\r\n\r\n","title":"How to bring a window to the front?","body":"<p>Here's a method that REALLY works (tested on Windows Vista) :D</p>\n\n<pre><code>   frame.setExtendedState(JFrame.ICONIFIED);\n   frame.setExtendedState(fullscreen ? JFrame.MAXIMIZED_BOTH : JFrame.NORMAL);\n</code></pre>\n\n<p>The fullscreen variable indicates if you want the app to run full screen or windowed.</p>\n\n<p>This does not flash the task bar, but bring the window to front reliably.</p>\n"},{"tags":[],"owner":{"account_id":404573,"reputation":7556,"user_id":772981,"accept_rate":46,"display_name":"Jarekczek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1331299636,"creation_date":1331299636,"answer_id":9634804,"question_id":309023,"body_markdown":"I tested your answers and only [Stefan Reich&#39;s one](https://stackoverflow.com/questions/309023/howto-bring-a-java-window-to-the-front#answer-7435722) worked for me. Although I couldn&#39;t manage to restore the window to its previous state (maximized/normal). I found this mutation better:\r\n\r\n    view.setState(java.awt.Frame.ICONIFIED);\r\n    view.setState(java.awt.Frame.NORMAL);\r\n\r\nThat is `setState` instead of `setExtendedState`.","title":"How to bring a window to the front?","body":"<p>I tested your answers and only <a href=\"https://stackoverflow.com/questions/309023/howto-bring-a-java-window-to-the-front#answer-7435722\">Stefan Reich's one</a> worked for me. Although I couldn't manage to restore the window to its previous state (maximized/normal). I found this mutation better:</p>\n\n<pre><code>view.setState(java.awt.Frame.ICONIFIED);\nview.setState(java.awt.Frame.NORMAL);\n</code></pre>\n\n<p>That is <code>setState</code> instead of <code>setExtendedState</code>.</p>\n"},{"tags":[],"owner":{"account_id":1435974,"reputation":4291,"user_id":1357338,"accept_rate":88,"display_name":"Martin Sansone - MiOEE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419972907,"creation_date":1419972907,"answer_id":27712431,"question_id":309023,"body_markdown":"To avoid the window losing focus when its returning to visible after being hidden all that is needed is:\r\n\r\n    setExtendedState(JFrame.NORMAL);\r\n\r\nLike so:\r\n\r\n    defaultItem.addActionListener(new ActionListener() {\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tshowWindow();\r\n\t\t\t\t\tsetExtendedState(JFrame.NORMAL);\r\n\t\t\t\t}\r\n\t});","title":"How to bring a window to the front?","body":"<p>To avoid the window losing focus when its returning to visible after being hidden all that is needed is:</p>\n\n<pre><code>setExtendedState(JFrame.NORMAL);\n</code></pre>\n\n<p>Like so:</p>\n\n<pre><code>defaultItem.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                showWindow();\n                setExtendedState(JFrame.NORMAL);\n            }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667844003,"creation_date":1667844003,"answer_id":74350943,"question_id":309023,"body_markdown":"Ran into a problem with the iconified/restore approach on Windows when the application has multiple JFrames.  In this case, I found that hiding the other JFrames, then forcing the window to the front, then unhiding the JFrames did the trick.\r\n\r\n        private static void bringFrameToTop(Frame topFrame) {\r\n\t\tjava.awt.EventQueue.invokeLater(new Runnable() {\r\n\t\t    @Override\r\n\t\t    public void run() {\r\n\t\t    \t\r\n\t\t    \tList&lt;Frame&gt; framesToShow = new ArrayList&lt;&gt;();\r\n\t\t    \t\r\n\t\t\t\tfor(Frame f : Frame.getFrames()) {\r\n\t\t\t\t\tif (f != topFrame &amp;&amp; f.isShowing()) {\r\n\t\t\t\t\t\tframesToShow.add(f);\r\n\t\t\t\t\t\tf.setVisible(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t    \t// Force our dialog to the front\r\n\t\t    \tint origState = topFrame.getExtendedState();\r\n\t\t    \ttopFrame.setExtendedState(JFrame.ICONIFIED);\r\n\t\t    \ttopFrame.setExtendedState(origState);\r\n\t\t    \t\r\n    // these don&#39;t appear to help anything\t\t    \t\r\n    //\t\t    \ttopFrame.toFront();\r\n    //\t\t    \ttopFrame.repaint();\r\n\r\n\t\t    \tfor(Frame f : framesToShow) {\r\n\t\t    \t\tf.setVisible(true);\r\n\t\t    \t}\r\n\t\t    \t\r\n\t\t    \ttopFrame.toFront();\r\n\t\t    }\r\n\t\t});\r\n    \t\r\n    }","title":"How to bring a window to the front?","body":"<p>Ran into a problem with the iconified/restore approach on Windows when the application has multiple JFrames.  In this case, I found that hiding the other JFrames, then forcing the window to the front, then unhiding the JFrames did the trick.</p>\n<pre><code>    private static void bringFrameToTop(Frame topFrame) {\n    java.awt.EventQueue.invokeLater(new Runnable() {\n        @Override\n        public void run() {\n            \n            List&lt;Frame&gt; framesToShow = new ArrayList&lt;&gt;();\n            \n            for(Frame f : Frame.getFrames()) {\n                if (f != topFrame &amp;&amp; f.isShowing()) {\n                    framesToShow.add(f);\n                    f.setVisible(false);\n                }\n            }\n\n            // Force our dialog to the front\n            int origState = topFrame.getExtendedState();\n            topFrame.setExtendedState(JFrame.ICONIFIED);\n            topFrame.setExtendedState(origState);\n            \n// these don't appear to help anything              \n//              topFrame.toFront();\n//              topFrame.repaint();\n\n            for(Frame f : framesToShow) {\n                f.setVisible(true);\n            }\n            \n            topFrame.toFront();\n        }\n    });\n    \n}\n</code></pre>\n"}],"owner":{"account_id":8396,"reputation":24329,"user_id":15108,"accept_rate":89,"display_name":"boutta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165024,"favorite_count":0,"down_vote_count":0,"up_vote_count":96,"accepted_answer_id":387365,"answer_count":12,"score":96,"last_activity_date":1667844003,"creation_date":1227279640,"question_id":309023,"body_markdown":"We have a Java application that needs to be brought to the foreground when a telecontrol mechanism activates something in the application.\r\n\r\nIn order to get this, we have realized in the called method of the class which represents the frame of our application (extension of a `JFrame`) following implementation:\r\n\r\n    setVisible(true);\r\n    toFront();\r\n\r\nUnder Windows XP, this works the first time it is called, on the second time only the tab in the taskbar flashes, the frame doesn&#39;t come to the front anymore. Same goes for Win2k. On Vista it seems to work fine.\r\n\r\nDo you have any ideas?","title":"How to bring a window to the front?","body":"<p>We have a Java application that needs to be brought to the foreground when a telecontrol mechanism activates something in the application.</p>\n\n<p>In order to get this, we have realized in the called method of the class which represents the frame of our application (extension of a <code>JFrame</code>) following implementation:</p>\n\n<pre><code>setVisible(true);\ntoFront();\n</code></pre>\n\n<p>Under Windows XP, this works the first time it is called, on the second time only the tab in the taskbar flashes, the frame doesn't come to the front anymore. Same goes for Win2k. On Vista it seems to work fine.</p>\n\n<p>Do you have any ideas?</p>\n"},{"tags":["java","jmeter","jmeter-5.0"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664434799,"creation_date":1664434799,"answer_id":73891470,"question_id":73887606,"body_markdown":"As it evidenced by its name [HTTP Header Manager][1] controls headers for the [HTTP][2] protocol\r\n\r\nIf you need to add header for the [SMTP protocol][3] there is a special input in the [SMTP sampler][4]:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nOr if you prefer manually editing the XML:\r\n\r\n\t&lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;&gt;\r\n\t  &lt;elementProp name=&quot;foo&quot; elementType=&quot;Argument&quot;&gt;\r\n\t    &lt;stringProp name=&quot;Argument.name&quot;&gt;foo&lt;/stringProp&gt;\r\n\t    &lt;stringProp name=&quot;Argument.value&quot;&gt;bar&lt;/stringProp&gt;\r\n\t  &lt;/elementProp&gt;\r\n\t&lt;/collectionProp&gt;\r\n\r\n\r\n  [1]: https://www.blazemeter.com/blog/http-header-manager\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/HTTP\r\n  [3]: https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol\r\n  [4]: https://jmeter.apache.org/usermanual/component_reference.html#SMTP_Sampler\r\n  [5]: https://i.stack.imgur.com/Vf9dw.png","title":"Jmeter 5.5 XML SMTP Sampler config - cannot set headers","body":"<p>As it evidenced by its name <a href=\"https://www.blazemeter.com/blog/http-header-manager\" rel=\"nofollow noreferrer\">HTTP Header Manager</a> controls headers for the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP\" rel=\"nofollow noreferrer\">HTTP</a> protocol</p>\n<p>If you need to add header for the <a href=\"https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol\" rel=\"nofollow noreferrer\">SMTP protocol</a> there is a special input in the <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#SMTP_Sampler\" rel=\"nofollow noreferrer\">SMTP sampler</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/Vf9dw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vf9dw.png\" alt=\"enter image description here\" /></a></p>\n<p>Or if you prefer manually editing the XML:</p>\n<pre><code>&lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;&gt;\n  &lt;elementProp name=&quot;foo&quot; elementType=&quot;Argument&quot;&gt;\n    &lt;stringProp name=&quot;Argument.name&quot;&gt;foo&lt;/stringProp&gt;\n    &lt;stringProp name=&quot;Argument.value&quot;&gt;bar&lt;/stringProp&gt;\n  &lt;/elementProp&gt;\n&lt;/collectionProp&gt;\n</code></pre>\n"}],"owner":{"account_id":46170,"reputation":674,"user_id":136298,"accept_rate":44,"display_name":"Simon Tower"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73891470,"answer_count":1,"score":0,"last_activity_date":1667843734,"creation_date":1664398041,"question_id":73887606,"body_markdown":"I&#39;m trying to set up a local Jmeter run with this .jmx file (XML):\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;jmeterTestPlan version=&quot;1.2&quot; properties=&quot;5.0&quot; jmeter=&quot;5.4&quot;&gt;\r\n  &lt;hashTree&gt;\r\n    &lt;TestPlan guiclass=&quot;TestPlanGui&quot; testclass=&quot;TestPlan&quot; testname=&quot;Perf Tests&quot; enabled=&quot;true&quot;&gt;\r\n      &lt;stringProp name=&quot;TestPlan.comments&quot;&gt;&lt;/stringProp&gt;\r\n      &lt;boolProp name=&quot;TestPlan.functional_mode&quot;&gt;false&lt;/boolProp&gt;\r\n      &lt;boolProp name=&quot;TestPlan.tearDown_on_shutdown&quot;&gt;true&lt;/boolProp&gt;\r\n      &lt;boolProp name=&quot;TestPlan.serialize_threadgroups&quot;&gt;false&lt;/boolProp&gt;\r\n      &lt;elementProp name=&quot;TestPlan.user_defined_variables&quot; elementType=&quot;Arguments&quot; guiclass=&quot;ArgumentsPanel&quot; testclass=&quot;Arguments&quot; testname=&quot;User Defined Variables&quot; enabled=&quot;true&quot;&gt;\r\n        &lt;collectionProp name=&quot;Arguments.arguments&quot;/&gt;\r\n      &lt;/elementProp&gt;\r\n      &lt;stringProp name=&quot;TestPlan.user_define_classpath&quot;&gt;&lt;/stringProp&gt;\r\n    &lt;/TestPlan&gt;\r\n    &lt;hashTree&gt;\r\n      &lt;ThreadGroup guiclass=&quot;ThreadGroupGui&quot; testclass=&quot;ThreadGroup&quot; testname=&quot;Big - 8mb attachment&quot; enabled=&quot;true&quot;&gt;\r\n        &lt;stringProp name=&quot;ThreadGroup.on_sample_error&quot;&gt;continue&lt;/stringProp&gt;\r\n        &lt;elementProp name=&quot;ThreadGroup.main_controller&quot; elementType=&quot;LoopController&quot; guiclass=&quot;LoopControlPanel&quot; testclass=&quot;LoopController&quot; testname=&quot;Loop Controller&quot; enabled=&quot;true&quot;&gt;\r\n          &lt;boolProp name=&quot;LoopController.continue_forever&quot;&gt;false&lt;/boolProp&gt;\r\n          &lt;stringProp name=&quot;LoopController.loops&quot;&gt;10&lt;/stringProp&gt;\r\n        &lt;/elementProp&gt;\r\n        &lt;stringProp name=&quot;ThreadGroup.num_threads&quot;&gt;5&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;ThreadGroup.ramp_time&quot;&gt;5&lt;/stringProp&gt;\r\n        &lt;boolProp name=&quot;ThreadGroup.scheduler&quot;&gt;false&lt;/boolProp&gt;\r\n        &lt;stringProp name=&quot;ThreadGroup.duration&quot;&gt;&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;ThreadGroup.delay&quot;&gt;&lt;/stringProp&gt;\r\n        &lt;boolProp name=&quot;ThreadGroup.same_user_on_next_iteration&quot;&gt;true&lt;/boolProp&gt;\r\n      &lt;/ThreadGroup&gt;\r\n      &lt;hashTree&gt;\r\n        &lt;SmtpSampler guiclass=&quot;SmtpSamplerGui&quot; testclass=&quot;SmtpSampler&quot; testname=&quot;Email - 8mb attachment&quot; enabled=&quot;true&quot;&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.server&quot;&gt;localhost&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.serverPort&quot;&gt;8080&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.serverTimeout&quot;&gt;15000&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.serverConnectionTimeout&quot;&gt;15000&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.mailFrom&quot;&gt;bobby.hill@hey.com&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.replyTo&quot;&gt;&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.receiverTo&quot;&gt;bobby.hill@hey.com&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.receiverCC&quot;&gt;&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.receiverBCC&quot;&gt;&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.subject&quot;&gt;Perf Test - 1 attachment 8mb&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.suppressSubject&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.include_timestamp&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.message&quot;&gt;Hello World - Perf Test!&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.plainBody&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.attachFile&quot;&gt;8mb-content-size.pdf&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.useSSL&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.useStartTLS&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.trustAllCerts&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.enforceStartTLS&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.useLocalTrustStore&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.trustStoreToUse&quot;&gt;&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.tlsProtocols&quot;&gt;&lt;/stringProp&gt;\r\n          &lt;boolProp name=&quot;SMTPSampler.use_eml&quot;&gt;false&lt;/boolProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.emlMessageToSend&quot;&gt;&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.useAuth&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.password&quot;&gt;&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.username&quot;&gt;&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.messageSizeStatistics&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.enableDebug&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;/&gt;\r\n        &lt;/SmtpSampler&gt;\r\n        &lt;hashTree/&gt;\r\n      &lt;/hashTree&gt;\r\n    &lt;/hashTree&gt;\r\n  &lt;/hashTree&gt;\r\n&lt;/jmeterTestPlan&gt;\r\n```\r\n\r\nThis XML sends email messages to the local server at `localhost:8080` without any errors.\r\n\r\nHowever, I would like to set the date header for these emails. \r\nIn front of the `SmtpSampler` element I have tried adding a HeaderManager like this:\r\n\r\n```\r\n&lt;HeaderManager guiclass=&quot;HeaderPanel&quot; testclass=&quot;HeaderManager&quot; testname=&quot;HTTP Header Manager&quot; enabled=&quot;true&quot;&gt;\r\n          &lt;collectionProp name=&quot;HeaderManager.headers&quot;&gt;\r\n            &lt;elementProp name=&quot;Date&quot; elementType=&quot;Header&quot;&gt;\r\n              &lt;stringProp name=&quot;Header.name&quot;&gt;Date&lt;/stringProp&gt;\r\n              &lt;stringProp name=&quot;Header.value&quot;&gt;Fri, 21 Nov 1997 09:55:06 -0600&lt;/stringProp&gt;\r\n            &lt;/elementProp&gt;\r\n          &lt;/collectionProp&gt;\r\n        &lt;/HeaderManager&gt;\r\n```\r\n\r\nBut this XML does not properly set the header on the SMTP messages.\r\n\r\nI&#39;ve tried replacing `&lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;/&gt;` with an expanded element:\r\n\r\n```\r\n&lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;&gt;\r\n            &lt;elementProp name=&quot;Date&quot; elementType=&quot;Header&quot;&gt;\r\n              &lt;stringProp name=&quot;Header.name&quot;&gt;Date&lt;/stringProp&gt;\r\n              &lt;stringProp name=&quot;Header.value&quot;&gt;Fri, 21 Nov 1997 09:55:06 -0600&lt;/stringProp&gt;\r\n            &lt;/elementProp&gt;\r\n          &lt;/collectionProp&gt;\r\n```\r\n\r\nThis results in the following stacktrace:\r\n\r\n```\r\njava.lang.ClassCastException: class org.apache.jmeter.protocol.http.control.Header cannot be cast to class org.apache.jmeter.config.Argument (org.apache.jmeter.protocol.http.control.Header and org.apache.jmeter.config.Argument are in unnamed module of loader org.apache.jmeter.DynamicClassLoader @372f7a8d)\r\n```\r\n\r\nI&#39;ve also tried this:\r\n\r\n```\r\n&lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;&gt;\r\n              &lt;elementProp name=&quot;date&quot; elementType=&quot;Argument&quot;&gt;\r\n                &lt;stringProp name=&quot;Argument.name&quot;&gt;Date&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;Argument.value&quot;&gt;Fri, 21 Nov 1997 09:55:06 -0600&lt;/stringProp&gt;\r\n              &lt;/elementProp&gt;\r\n            &lt;/collectionProp&gt;\r\n```\r\n\r\nThis configuration also fails.\r\n\r\n\r\nI would love to see an example of setting headers in SMTP Sampler XML but I cannot find anything in the official Apache docs. \r\n\r\nThank you!","title":"Jmeter 5.5 XML SMTP Sampler config - cannot set headers","body":"<p>I'm trying to set up a local Jmeter run with this .jmx file (XML):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jmeterTestPlan version=&quot;1.2&quot; properties=&quot;5.0&quot; jmeter=&quot;5.4&quot;&gt;\n  &lt;hashTree&gt;\n    &lt;TestPlan guiclass=&quot;TestPlanGui&quot; testclass=&quot;TestPlan&quot; testname=&quot;Perf Tests&quot; enabled=&quot;true&quot;&gt;\n      &lt;stringProp name=&quot;TestPlan.comments&quot;&gt;&lt;/stringProp&gt;\n      &lt;boolProp name=&quot;TestPlan.functional_mode&quot;&gt;false&lt;/boolProp&gt;\n      &lt;boolProp name=&quot;TestPlan.tearDown_on_shutdown&quot;&gt;true&lt;/boolProp&gt;\n      &lt;boolProp name=&quot;TestPlan.serialize_threadgroups&quot;&gt;false&lt;/boolProp&gt;\n      &lt;elementProp name=&quot;TestPlan.user_defined_variables&quot; elementType=&quot;Arguments&quot; guiclass=&quot;ArgumentsPanel&quot; testclass=&quot;Arguments&quot; testname=&quot;User Defined Variables&quot; enabled=&quot;true&quot;&gt;\n        &lt;collectionProp name=&quot;Arguments.arguments&quot;/&gt;\n      &lt;/elementProp&gt;\n      &lt;stringProp name=&quot;TestPlan.user_define_classpath&quot;&gt;&lt;/stringProp&gt;\n    &lt;/TestPlan&gt;\n    &lt;hashTree&gt;\n      &lt;ThreadGroup guiclass=&quot;ThreadGroupGui&quot; testclass=&quot;ThreadGroup&quot; testname=&quot;Big - 8mb attachment&quot; enabled=&quot;true&quot;&gt;\n        &lt;stringProp name=&quot;ThreadGroup.on_sample_error&quot;&gt;continue&lt;/stringProp&gt;\n        &lt;elementProp name=&quot;ThreadGroup.main_controller&quot; elementType=&quot;LoopController&quot; guiclass=&quot;LoopControlPanel&quot; testclass=&quot;LoopController&quot; testname=&quot;Loop Controller&quot; enabled=&quot;true&quot;&gt;\n          &lt;boolProp name=&quot;LoopController.continue_forever&quot;&gt;false&lt;/boolProp&gt;\n          &lt;stringProp name=&quot;LoopController.loops&quot;&gt;10&lt;/stringProp&gt;\n        &lt;/elementProp&gt;\n        &lt;stringProp name=&quot;ThreadGroup.num_threads&quot;&gt;5&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;ThreadGroup.ramp_time&quot;&gt;5&lt;/stringProp&gt;\n        &lt;boolProp name=&quot;ThreadGroup.scheduler&quot;&gt;false&lt;/boolProp&gt;\n        &lt;stringProp name=&quot;ThreadGroup.duration&quot;&gt;&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;ThreadGroup.delay&quot;&gt;&lt;/stringProp&gt;\n        &lt;boolProp name=&quot;ThreadGroup.same_user_on_next_iteration&quot;&gt;true&lt;/boolProp&gt;\n      &lt;/ThreadGroup&gt;\n      &lt;hashTree&gt;\n        &lt;SmtpSampler guiclass=&quot;SmtpSamplerGui&quot; testclass=&quot;SmtpSampler&quot; testname=&quot;Email - 8mb attachment&quot; enabled=&quot;true&quot;&gt;\n          &lt;stringProp name=&quot;SMTPSampler.server&quot;&gt;localhost&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.serverPort&quot;&gt;8080&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.serverTimeout&quot;&gt;15000&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.serverConnectionTimeout&quot;&gt;15000&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.mailFrom&quot;&gt;bobby.hill@hey.com&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.replyTo&quot;&gt;&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.receiverTo&quot;&gt;bobby.hill@hey.com&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.receiverCC&quot;&gt;&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.receiverBCC&quot;&gt;&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.subject&quot;&gt;Perf Test - 1 attachment 8mb&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.suppressSubject&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.include_timestamp&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.message&quot;&gt;Hello World - Perf Test!&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.plainBody&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.attachFile&quot;&gt;8mb-content-size.pdf&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.useSSL&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.useStartTLS&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.trustAllCerts&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.enforceStartTLS&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.useLocalTrustStore&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.trustStoreToUse&quot;&gt;&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.tlsProtocols&quot;&gt;&lt;/stringProp&gt;\n          &lt;boolProp name=&quot;SMTPSampler.use_eml&quot;&gt;false&lt;/boolProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.emlMessageToSend&quot;&gt;&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.useAuth&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.password&quot;&gt;&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.username&quot;&gt;&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.messageSizeStatistics&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.enableDebug&quot;&gt;false&lt;/stringProp&gt;\n          &lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;/&gt;\n        &lt;/SmtpSampler&gt;\n        &lt;hashTree/&gt;\n      &lt;/hashTree&gt;\n    &lt;/hashTree&gt;\n  &lt;/hashTree&gt;\n&lt;/jmeterTestPlan&gt;\n</code></pre>\n<p>This XML sends email messages to the local server at <code>localhost:8080</code> without any errors.</p>\n<p>However, I would like to set the date header for these emails.\nIn front of the <code>SmtpSampler</code> element I have tried adding a HeaderManager like this:</p>\n<pre><code>&lt;HeaderManager guiclass=&quot;HeaderPanel&quot; testclass=&quot;HeaderManager&quot; testname=&quot;HTTP Header Manager&quot; enabled=&quot;true&quot;&gt;\n          &lt;collectionProp name=&quot;HeaderManager.headers&quot;&gt;\n            &lt;elementProp name=&quot;Date&quot; elementType=&quot;Header&quot;&gt;\n              &lt;stringProp name=&quot;Header.name&quot;&gt;Date&lt;/stringProp&gt;\n              &lt;stringProp name=&quot;Header.value&quot;&gt;Fri, 21 Nov 1997 09:55:06 -0600&lt;/stringProp&gt;\n            &lt;/elementProp&gt;\n          &lt;/collectionProp&gt;\n        &lt;/HeaderManager&gt;\n</code></pre>\n<p>But this XML does not properly set the header on the SMTP messages.</p>\n<p>I've tried replacing <code>&lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;/&gt;</code> with an expanded element:</p>\n<pre><code>&lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;&gt;\n            &lt;elementProp name=&quot;Date&quot; elementType=&quot;Header&quot;&gt;\n              &lt;stringProp name=&quot;Header.name&quot;&gt;Date&lt;/stringProp&gt;\n              &lt;stringProp name=&quot;Header.value&quot;&gt;Fri, 21 Nov 1997 09:55:06 -0600&lt;/stringProp&gt;\n            &lt;/elementProp&gt;\n          &lt;/collectionProp&gt;\n</code></pre>\n<p>This results in the following stacktrace:</p>\n<pre><code>java.lang.ClassCastException: class org.apache.jmeter.protocol.http.control.Header cannot be cast to class org.apache.jmeter.config.Argument (org.apache.jmeter.protocol.http.control.Header and org.apache.jmeter.config.Argument are in unnamed module of loader org.apache.jmeter.DynamicClassLoader @372f7a8d)\n</code></pre>\n<p>I've also tried this:</p>\n<pre><code>&lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;&gt;\n              &lt;elementProp name=&quot;date&quot; elementType=&quot;Argument&quot;&gt;\n                &lt;stringProp name=&quot;Argument.name&quot;&gt;Date&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;Argument.value&quot;&gt;Fri, 21 Nov 1997 09:55:06 -0600&lt;/stringProp&gt;\n              &lt;/elementProp&gt;\n            &lt;/collectionProp&gt;\n</code></pre>\n<p>This configuration also fails.</p>\n<p>I would love to see an example of setting headers in SMTP Sampler XML but I cannot find anything in the official Apache docs.</p>\n<p>Thank you!</p>\n"},{"tags":["java","jcr","magnolia"],"answers":[{"tags":[],"owner":{"account_id":5452456,"reputation":23,"user_id":4336852,"display_name":"knguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667027449,"creation_date":1667027449,"answer_id":74243476,"question_id":74153536,"body_markdown":"You can check if a node has a subnode by hasNodes() method. You can refer more JCR Node APIs here https://developer.adobe.com/experience-manager/reference-materials/spec/jsr170/javadocs/jcr-2.0/javax/jcr/Node.html\r\nThanks\r\n\r\n\r\n","title":"get JSON from hierarchical object in JCR API","body":"<p>You can check if a node has a subnode by hasNodes() method. You can refer more JCR Node APIs here <a href=\"https://developer.adobe.com/experience-manager/reference-materials/spec/jsr170/javadocs/jcr-2.0/javax/jcr/Node.html\" rel=\"nofollow noreferrer\">https://developer.adobe.com/experience-manager/reference-materials/spec/jsr170/javadocs/jcr-2.0/javax/jcr/Node.html</a>\nThanks</p>\n"}],"owner":{"account_id":3455470,"reputation":99,"user_id":2894088,"accept_rate":100,"display_name":"seliboba98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667843557,"creation_date":1666354809,"question_id":74153536,"body_markdown":"I understand how the JCR API works and is used in Magnolia. I want to get the result as JSON object\r\nMy Node object has a hierarchical structure(each subnode has type mgnl:category)\r\n\r\n    test_1\r\n      test_a\r\n      test_b\r\n      test_c\r\n         test_c1    \r\n      test_d\r\nIf I use\r\n\r\n      var session = context.getJCRSession(&quot;category&quot;);\r\n      Iterable&lt;Node&gt; categoryItems = NodeUtil.collectAllChildren(\r\n          session.getNode(nodePath),\r\n          new NodeTypePredicate(&quot;mgnl:category&quot;)); \r\n      List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n      for (Node node : categoryItems) {\r\n        result.add(node.getName());\r\n      }\r\n\r\nI get just a list of children like: [test_a, test_b, test_c, text_c1, test_d].\r\nHow can I check if a child has a subnode? Because I need `[test_a, test_b, test_c: {text_c1}, test_d].` \r\nI think recursion will do here... but I need info about if a node has a subnode...","title":"get JSON from hierarchical object in JCR API","body":"<p>I understand how the JCR API works and is used in Magnolia. I want to get the result as JSON object\nMy Node object has a hierarchical structure(each subnode has type mgnl:category)</p>\n<pre><code>test_1\n  test_a\n  test_b\n  test_c\n     test_c1    \n  test_d\n</code></pre>\n<p>If I use</p>\n<pre><code>  var session = context.getJCRSession(&quot;category&quot;);\n  Iterable&lt;Node&gt; categoryItems = NodeUtil.collectAllChildren(\n      session.getNode(nodePath),\n      new NodeTypePredicate(&quot;mgnl:category&quot;)); \n  List&lt;String&gt; result = new ArrayList&lt;&gt;();\n  for (Node node : categoryItems) {\n    result.add(node.getName());\n  }\n</code></pre>\n<p>I get just a list of children like: [test_a, test_b, test_c, text_c1, test_d].\nHow can I check if a child has a subnode? Because I need <code>[test_a, test_b, test_c: {text_c1}, test_d].</code>\nI think recursion will do here... but I need info about if a node has a subnode...</p>\n"},{"tags":["java","android","react-native","react-native-vision-camera"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667843673,"post_id":74350836,"comment_id":131259646,"body_markdown":"`I am creating an ImageView and not an Image or an ImageProxy.` No. You are creating a Bitmap. And you display the bitmap in an ImageView.","body":"<code>I am creating an ImageView and not an Image or an ImageProxy.</code> No. You are creating a Bitmap. And you display the bitmap in an ImageView."},{"owner":{"account_id":25852757,"reputation":11,"user_id":19586512,"display_name":"Nicolas Romano"},"score":0,"creation_date":1667843888,"post_id":74350836,"comment_id":131259740,"body_markdown":"@blackapps thank you. I am a beginner sorry. I agree with you but I still need to get an Image or ImageProxy from &quot;bmImage&quot; (my bitmap).","body":"@blackapps thank you. I am a beginner sorry. I agree with you but I still need to get an Image or ImageProxy from &quot;bmImage&quot; (my bitmap)."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667843978,"post_id":74350836,"comment_id":131259766,"body_markdown":"Yes, or directly from the file without using an intermediate bitmap.","body":"Yes, or directly from the file without using an intermediate bitmap."},{"owner":{"account_id":25852757,"reputation":11,"user_id":19586512,"display_name":"Nicolas Romano"},"score":0,"creation_date":1667844204,"post_id":74350836,"comment_id":131259850,"body_markdown":"@blackapps Exactly. But I don&#39;t know how to do this at all (I also tried to modify the ImageProxy frame itself, to no avail). Do you have any ideas or example code? I did not find anything ...","body":"@blackapps Exactly. But I don&#39;t know how to do this at all (I also tried to modify the ImageProxy frame itself, to no avail). Do you have any ideas or example code? I did not find anything ..."}],"owner":{"account_id":25852757,"reputation":11,"user_id":19586512,"display_name":"Nicolas Romano"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667843422,"creation_date":1667843422,"question_id":74350836,"body_markdown":"I&#39;m implementing a frame processor plugin ([react-native-vision-camera](https://github.com/mrousavy/react-native-vision-camera)). I would like to be able to load an image from a file and return it instead of the ImageProxy type frame so I can controll frames content.\r\n\r\nFor that, I have to load an image (no worries so far) and create an Image or an ImageProxy from the loaded image.\r\n\r\n(I also tried to replace the bytes of the ImageProxy type image with those of the loaded image but I didn&#39;t succeed either. So I am also interested in this topic.)\r\n\r\n```\r\n@Override\r\npublic Object callback(@NotNull ImageProxy image, @NotNull Object[] params) {\r\n    try {\r\n        // Get path of image to load\r\n        String param = params[0].toString();\r\n        Bitmap bmImg = BitmapFactory.decodeFile(param);\r\n\r\n        ImageView img = new ImageView(this);\r\n        img.setImageBitmap(bmImg);\r\n\r\n\r\n        return img;\r\n        //return image;\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;CRASHED&quot;);\r\n        e.printStackTrace();\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nTo do this I tried the code above but I am creating an ImageView and not an Image or an ImageProxy.\r\n\r\nAny idea or sample code so I can control frame content?\r\n\r\nThanks in advance","title":"byte [] or Bitmap to ImageProxy/Image","body":"<p>I'm implementing a frame processor plugin (<a href=\"https://github.com/mrousavy/react-native-vision-camera\" rel=\"nofollow noreferrer\">react-native-vision-camera</a>). I would like to be able to load an image from a file and return it instead of the ImageProxy type frame so I can controll frames content.</p>\n<p>For that, I have to load an image (no worries so far) and create an Image or an ImageProxy from the loaded image.</p>\n<p>(I also tried to replace the bytes of the ImageProxy type image with those of the loaded image but I didn't succeed either. So I am also interested in this topic.)</p>\n<pre><code>@Override\npublic Object callback(@NotNull ImageProxy image, @NotNull Object[] params) {\n    try {\n        // Get path of image to load\n        String param = params[0].toString();\n        Bitmap bmImg = BitmapFactory.decodeFile(param);\n\n        ImageView img = new ImageView(this);\n        img.setImageBitmap(bmImg);\n\n\n        return img;\n        //return image;\n    } catch (Exception e) {\n        System.out.println(&quot;CRASHED&quot;);\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n<p>To do this I tried the code above but I am creating an ImageView and not an Image or an ImageProxy.</p>\n<p>Any idea or sample code so I can control frame content?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667815662,"post_id":74337124,"comment_id":131249369,"body_markdown":"Yes and although I already mentioned this it confirms that you are attempting to read to EOF (though that should be `&gt;= 0` for EOF) and therefore you will never see the prompt because the stream will block","body":"Yes and although I already mentioned this it confirms that you are attempting to read to EOF (though that should be <code>&gt;= 0</code> for EOF) and therefore you will never see the prompt because the stream will block"},{"owner":{"account_id":4520076,"reputation":23,"user_id":3673620,"display_name":"user3673620"},"score":0,"creation_date":1667819397,"post_id":74337124,"comment_id":131250625,"body_markdown":"now i see what you meant by trying to read to EOF. the problem is that the first time i call read (on line &quot;len = isr.read(array);&quot;) it never returns. so there never is ANY data on the stream...","body":"now i see what you meant by trying to read to EOF. the problem is that the first time i call read (on line &quot;len = isr.read(array);&quot;) it never returns. so there never is ANY data on the stream..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667819720,"post_id":74337124,"comment_id":131250726,"body_markdown":"Can you please be explicit about what the &quot;it&quot; is in *it never returns*","body":"Can you please be explicit about what the &quot;it&quot; is in <i>it never returns</i>"},{"owner":{"account_id":4520076,"reputation":23,"user_id":3673620,"display_name":"user3673620"},"score":0,"creation_date":1667830671,"post_id":74337124,"comment_id":131254683,"body_markdown":"oh of course, sorry for the lack of clarity. the first call to read never returns, as if no data is ever written to the stream...","body":"oh of course, sorry for the lack of clarity. the first call to read never returns, as if no data is ever written to the stream..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667830725,"post_id":74337124,"comment_id":131254706,"body_markdown":"*the first call to read never returns* How do you know?","body":"<i>the first call to read never returns</i> How do you know?"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1667831036,"post_id":74337124,"comment_id":131254836,"body_markdown":"@user3673620 The sub-process `sqlcmd` has written out the prompt and is waiting for a command. You haven&#39;t shown any code which sends any commands or terminates the `sqlcmd` STDIN, therefore you won&#39;t get any back from `isr.read(array)`. \nSo the situation you have is as expected: `isr.read(array)` blocks because it has read up to the &quot;prompt&quot; and is waiting for the end of STDOUT stream of the sub-process, or for more data to be written to STDOUT.","body":"@user3673620 The sub-process <code>sqlcmd</code> has written out the prompt and is waiting for a command. You haven&#39;t shown any code which sends any commands or terminates the <code>sqlcmd</code> STDIN, therefore you won&#39;t get any back from <code>isr.read(array)</code>.  So the situation you have is as expected: <code>isr.read(array)</code> blocks because it has read up to the &quot;prompt&quot; and is waiting for the end of STDOUT stream of the sub-process, or for more data to be written to STDOUT."},{"owner":{"account_id":4520076,"reputation":23,"user_id":3673620,"display_name":"user3673620"},"score":0,"creation_date":1667831713,"post_id":74337124,"comment_id":131255117,"body_markdown":"g00se - in debug mode i reach the read(array) line and when i try to execute it, it blocks and never returns.","body":"g00se - in debug mode i reach the read(array) line and when i try to execute it, it blocks and never returns."},{"owner":{"account_id":4520076,"reputation":23,"user_id":3673620,"display_name":"user3673620"},"score":0,"creation_date":1667831837,"post_id":74337124,"comment_id":131255155,"body_markdown":"DuncG - this code is connected to a REST API which calls start(&quot;sqlcmd&quot;) i expected to be able to read the prompt. also in another attempt, i ignored the output and sent a query, but again, the first call to read(array) blocks and never returns","body":"DuncG - this code is connected to a REST API which calls start(&quot;sqlcmd&quot;) i expected to be able to read the prompt. also in another attempt, i ignored the output and sent a query, but again, the first call to read(array) blocks and never returns"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667832004,"post_id":74337124,"comment_id":131255245,"body_markdown":"*in debug mode i reach the read(array) line and when i try to execute it, it blocks* OK. I can only say either it hasn&#39;t received the command and therefore hasn&#39;t responded or you might be reading the wrong stream as I mentioned earlier. Please give us a printable example of a command that fails","body":"<i>in debug mode i reach the read(array) line and when i try to execute it, it blocks</i> OK. I can only say either it hasn&#39;t received the command and therefore hasn&#39;t responded or you might be reading the wrong stream as I mentioned earlier. Please give us a printable example of a command that fails"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1667832758,"post_id":74337124,"comment_id":131255559,"body_markdown":"@user3673620 The prompt has been read, but `read(array)` is trying to read the following character and therefore is blocking because without a SQL command there is nothing more from the stream until EOF","body":"@user3673620 The prompt has been read, but <code>read(array)</code> is trying to read the following character and therefore is blocking because without a SQL command there is nothing more from the stream until EOF"},{"owner":{"account_id":4520076,"reputation":23,"user_id":3673620,"display_name":"user3673620"},"score":0,"creation_date":1667832979,"post_id":74337124,"comment_id":131255638,"body_markdown":"i&#39;ve updated the code to a printable example. the result is a printout of &quot;reading output...&quot; without ever ending. note that you may try to read also the start(&quot;sqlcmd&quot;) response by changing the return from method &quot;start&quot; as commented. same result ...","body":"i&#39;ve updated the code to a printable example. the result is a printout of &quot;reading output...&quot; without ever ending. note that you may try to read also the start(&quot;sqlcmd&quot;) response by changing the return from method &quot;start&quot; as commented. same result ..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667833032,"post_id":74337124,"comment_id":131255663,"body_markdown":"@DuncG I am obviously assuming that *the first invocation* of read is what&#39;s meant. Please tell me I&#39;m right ... ;)","body":"@DuncG I am obviously assuming that <i>the first invocation</i> of read is what&#39;s meant. Please tell me I&#39;m right ... ;)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667833215,"post_id":74337124,"comment_id":131255740,"body_markdown":"So when you go to cmd.exe normally and enter `sqlcmd` and hit enter, it returns with a prompt?","body":"So when you go to cmd.exe normally and enter <code>sqlcmd</code> and hit enter, it returns with a prompt?"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1667835380,"post_id":74337124,"comment_id":131256561,"body_markdown":"@g00se It doesn&#39;t make much difference first or not: `response()` calls `read(array)` in a loop which calls `ch = read()` in a loop so the code will always block at some point ... unless `process.getOutputStream().close()` gets called (or command to exit is sent) and then `response()` will eventually return a value.","body":"@g00se It doesn&#39;t make much difference first or not: <code>response()</code> calls <code>read(array)</code> in a loop which calls <code>ch = read()</code> in a loop so the code will always block at some point ... unless <code>process.getOutputStream().close()</code> gets called (or command to exit is sent) and then <code>response()</code> will eventually return a value."},{"owner":{"account_id":4520076,"reputation":23,"user_id":3673620,"display_name":"user3673620"},"score":0,"creation_date":1667835942,"post_id":74337124,"comment_id":131256784,"body_markdown":"start is meant to open the sqlcmd session and send is meant to sent consecutive queries. but i can&#39;t get a response from start, and if i don&#39;t try to get a response from start, then i dont get a response from send, so i either case the program hangs with no output. and yes, when you run sqlcmd in cmd.exe you get &quot;1&gt;&quot; prompt","body":"start is meant to open the sqlcmd session and send is meant to sent consecutive queries. but i can&#39;t get a response from start, and if i don&#39;t try to get a response from start, then i dont get a response from send, so i either case the program hangs with no output. and yes, when you run sqlcmd in cmd.exe you get &quot;1&gt;&quot; prompt"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667843179,"creation_date":1667842399,"answer_id":74350622,"question_id":74337124,"body_markdown":"This hopefully will give a clearer explanation as to why your code does not finish as you expect. You have started sub-process `sqlcmd`, and `sqlcmd` outputs a prompt, receives your command(s), processes each command and outputs another prompt. \r\n\r\nThe `sqlcmd` process is waiting for more commands but you have not sent more after `send()`. At this point though your `response()` call is stuck in a blocking loop trying to read the character AFTER the last prompt. This means that `response()` will never exit normally - even though it has processed some of the commands and appended to a `StringBuilder`. \r\n\r\nTo see this more clearly, fix a small bug in `response()` with incorrect size of the array in `String.valueOf()` and add a `System.out` to tell you what has been read so far by `response()`:\r\n\r\n    private static String response() throws IOException {\r\n        StringBuilder sb = new StringBuilder();\r\n        char[] array = new char[1024];\r\n\r\n        System.out.println(&quot;reading output...&quot;);\r\n        try (InputStreamReader isr = new InputStreamReader(process.getInputStream())) {\r\n            int len;\r\n            do {\r\n                len = isr.read(array);\r\n                if(len &gt; 0) {\r\n                    String r = String.valueOf(array, 0, len);\r\n                    System.out.println(&quot;response() has read a value: &quot;+r);\r\n                    sb.append(r);\r\n                }\r\n            } while (len &gt; 0);\r\n        }\r\n\r\n        return sb.toString();\r\n    }\r\n\r\nRe-run and you should see that `isr.read(array)` HAS worked and should print out the results of `select * from spt_monitor` but will block on next or following `isr.read(array)` call when the prompt has been printed - and `response()` never exits because no more commands are received to process.\r\n\r\nThere is no more STDOUT to process unless you send `sqlcmd` an exit command OR terminate the STDIN which causes the `sqlcmd` process to end - both of which would mean that `response()` could exit normally.\r\n\r\nYou should be able to make `response()` work by terminating the STDIN by adding `process.getOutputStream().close()` at the end of `send()` or after calling `send()`. However that means that `sqlcmd` will exit.","title":"cannot get OutputStream content from sqlcmd process when running with java ProcessBuilder","body":"<p>This hopefully will give a clearer explanation as to why your code does not finish as you expect. You have started sub-process <code>sqlcmd</code>, and <code>sqlcmd</code> outputs a prompt, receives your command(s), processes each command and outputs another prompt.</p>\n<p>The <code>sqlcmd</code> process is waiting for more commands but you have not sent more after <code>send()</code>. At this point though your <code>response()</code> call is stuck in a blocking loop trying to read the character AFTER the last prompt. This means that <code>response()</code> will never exit normally - even though it has processed some of the commands and appended to a <code>StringBuilder</code>.</p>\n<p>To see this more clearly, fix a small bug in <code>response()</code> with incorrect size of the array in <code>String.valueOf()</code> and add a <code>System.out</code> to tell you what has been read so far by <code>response()</code>:</p>\n<pre><code>private static String response() throws IOException {\n    StringBuilder sb = new StringBuilder();\n    char[] array = new char[1024];\n\n    System.out.println(&quot;reading output...&quot;);\n    try (InputStreamReader isr = new InputStreamReader(process.getInputStream())) {\n        int len;\n        do {\n            len = isr.read(array);\n            if(len &gt; 0) {\n                String r = String.valueOf(array, 0, len);\n                System.out.println(&quot;response() has read a value: &quot;+r);\n                sb.append(r);\n            }\n        } while (len &gt; 0);\n    }\n\n    return sb.toString();\n}\n</code></pre>\n<p>Re-run and you should see that <code>isr.read(array)</code> HAS worked and should print out the results of <code>select * from spt_monitor</code> but will block on next or following <code>isr.read(array)</code> call when the prompt has been printed - and <code>response()</code> never exits because no more commands are received to process.</p>\n<p>There is no more STDOUT to process unless you send <code>sqlcmd</code> an exit command OR terminate the STDIN which causes the <code>sqlcmd</code> process to end - both of which would mean that <code>response()</code> could exit normally.</p>\n<p>You should be able to make <code>response()</code> work by terminating the STDIN by adding <code>process.getOutputStream().close()</code> at the end of <code>send()</code> or after calling <code>send()</code>. However that means that <code>sqlcmd</code> will exit.</p>\n"}],"owner":{"account_id":4520076,"reputation":23,"user_id":3673620,"display_name":"user3673620"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74350622,"answer_count":1,"score":-2,"last_activity_date":1667843179,"creation_date":1667747872,"question_id":74337124,"body_markdown":"Need to run sqlcmd to control local-connections to the database.\r\nWhen i try to read the OutputStream to get the sql &quot;prompt&quot;, the read() method simply never returns.\r\n\r\ntried running the process with ProcessBuilder and Runtime.getRuntime().exec()\r\nalso tried running under &quot;cmd /c&quot;\r\nwhen running sqlcmd from the command line, i get a prompt like &quot;1&gt;&quot;. expected to see that in the OutputStream ...\r\n\r\nthis is my code - i simply call start with &quot;sqlcmd&quot;\r\n\r\ncode example:\r\n\r\n    package org.example;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            System.out.println(start(&quot;sqlcmd&quot;));\r\n            System.out.println(send(&quot;select * from spt_monitor\\ngo\\n&quot;));\r\n        }\r\n    \r\n        public static Process process = null;\r\n    \r\n        public static String start(String command) throws Exception {\r\n            if(process != null &amp;&amp; process.isAlive()) {\r\n                throw new Exception(&quot;another session already exists&quot;);\r\n            } else {\r\n                ProcessBuilder builder = new ProcessBuilder(command);\r\n                builder.redirectErrorStream(true);\r\n                process = builder.start();\r\n                return &quot;&quot;;//response();\r\n            }\r\n        }\r\n    \r\n        public static String send(String command) throws Exception {\r\n            if(process == null || !process.isAlive()) {\r\n                throw new Exception(&quot;no local session exists&quot;);\r\n            } else {\r\n                process.getOutputStream().write(command.getBytes());\r\n                process.getOutputStream().flush();\r\n                return response();\r\n            }\r\n        }\r\n    \r\n        private static String response() throws IOException {\r\n            StringBuilder sb = new StringBuilder();\r\n            char[] array = new char[1024];\r\n    \r\n            System.out.println(&quot;reading output...&quot;);\r\n            try (InputStreamReader isr = new InputStreamReader(process.getInputStream())) {\r\n                int len;\r\n                do {\r\n                    len = isr.read(array);\r\n                    if(len &gt; 0)\r\n                        sb.append(String.valueOf(array));\r\n                } while (len &gt; 0);\r\n            }\r\n    \r\n            return sb.toString();\r\n        }\r\n    }","title":"cannot get OutputStream content from sqlcmd process when running with java ProcessBuilder","body":"<p>Need to run sqlcmd to control local-connections to the database.\nWhen i try to read the OutputStream to get the sql &quot;prompt&quot;, the read() method simply never returns.</p>\n<p>tried running the process with ProcessBuilder and Runtime.getRuntime().exec()\nalso tried running under &quot;cmd /c&quot;\nwhen running sqlcmd from the command line, i get a prompt like &quot;1&gt;&quot;. expected to see that in the OutputStream ...</p>\n<p>this is my code - i simply call start with &quot;sqlcmd&quot;</p>\n<p>code example:</p>\n<pre><code>package org.example;\n\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n\n        System.out.println(start(&quot;sqlcmd&quot;));\n        System.out.println(send(&quot;select * from spt_monitor\\ngo\\n&quot;));\n    }\n\n    public static Process process = null;\n\n    public static String start(String command) throws Exception {\n        if(process != null &amp;&amp; process.isAlive()) {\n            throw new Exception(&quot;another session already exists&quot;);\n        } else {\n            ProcessBuilder builder = new ProcessBuilder(command);\n            builder.redirectErrorStream(true);\n            process = builder.start();\n            return &quot;&quot;;//response();\n        }\n    }\n\n    public static String send(String command) throws Exception {\n        if(process == null || !process.isAlive()) {\n            throw new Exception(&quot;no local session exists&quot;);\n        } else {\n            process.getOutputStream().write(command.getBytes());\n            process.getOutputStream().flush();\n            return response();\n        }\n    }\n\n    private static String response() throws IOException {\n        StringBuilder sb = new StringBuilder();\n        char[] array = new char[1024];\n\n        System.out.println(&quot;reading output...&quot;);\n        try (InputStreamReader isr = new InputStreamReader(process.getInputStream())) {\n            int len;\n            do {\n                len = isr.read(array);\n                if(len &gt; 0)\n                    sb.append(String.valueOf(array));\n            } while (len &gt; 0);\n        }\n\n        return sb.toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","vector"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1667843496,"post_id":74350595,"comment_id":131259593,"body_markdown":"`Vector` is a very old class, and synchronized... its [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Vector.html) states: &quot;If a thread-safe implementation is not needed, it is recommended to use ArrayList in place of Vector.&quot;","body":"<code>Vector</code> is a very old class, and synchronized... its <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Vector.html\" rel=\"nofollow noreferrer\">documentation</a> states: &quot;If a thread-safe implementation is not needed, it is recommended to use ArrayList in place of Vector.&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667846127,"post_id":74350595,"comment_id":131260521,"body_markdown":"[Class names](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions) should begin upper case in Java, and yes, use `ArrayList` not `Vector`. You can use `Collections.swap` to swap elements","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">Class names</a> should begin upper case in Java, and yes, use <code>ArrayList</code> not <code>Vector</code>. You can use <code>Collections.swap</code> to swap elements"}],"answers":[{"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667842870,"creation_date":1667842870,"answer_id":74350719,"question_id":74350595,"body_markdown":"You have to use `.setElementAt()`:\r\n\r\n    void swap(int i,int j){\r\n        vertex temp=v.elementAt(i);\r\n        v.setElementAt(i, v.elementAt(j));\r\n        v.setElementAt(j, temp);\r\n    }\r\n","title":"Swapping two elements of a vector without creating new objects?","body":"<p>You have to use <code>.setElementAt()</code>:</p>\n<pre><code>void swap(int i,int j){\n    vertex temp=v.elementAt(i);\n    v.setElementAt(i, v.elementAt(j));\n    v.setElementAt(j, temp);\n}\n</code></pre>\n"}],"owner":{"account_id":24007787,"reputation":3,"user_id":17991754,"display_name":"KKS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74350719,"answer_count":1,"score":0,"last_activity_date":1667842870,"creation_date":1667842250,"question_id":74350595,"body_markdown":"I am new to Java coming from C++. I want to that v(i) should point to the object of v(j) and vice versa that is the references of both of them must interchange. Please give some beginner friendly solution.\r\nI can&#39;t make new objects or just replace the parameters because it will affect the working of algorithm.\r\n\r\n```\r\nimport java.util.*;\r\nclass maxPriorityQueue{\r\n    public Vector&lt;vertex&gt; v;\r\n    public int size;\r\n    static final int infinite=2147483647;\r\n    maxPriorityQueue(int s){\r\n        this.size=s;;\r\n        v=new Vector&lt;vertex&gt;(size);\r\n    }\r\n    int parent(int i){\r\n        return (i-1)/2;\r\n    }\r\n    int leftChild(int i){\r\n        return 2*i+1;\r\n    }\r\n    int rightChild(int i){\r\n        return 2*i+2;\r\n    }\r\n    void swap(int i,int j){\r\n        vertex temp=v.elementAt(i);\r\n        v.elementAt(i)=v.elementAt(j);\r\n        v.elementAt(j)=temp;\r\n    }\r\n    void minHeapify(int index){\r\n        int smallest;\r\n        int left=leftChild(index);\r\n        int right=rightChild(index);\r\n        if(left&lt;size &amp;&amp; v.elementAt(index).key&gt;v.elementAt(left).key){\r\n            smallest=left;\r\n        }\r\n        else{\r\n            smallest=index;\r\n        }\r\n        if(right&lt;size &amp;&amp; v.elementAt(smallest).key&gt;v.elementAt(right).key){\r\n            smallest=right;\r\n        }\r\n        if(smallest!=index){\r\n            swap(index,smallest);\r\n            minHeapify(smallest);\r\n        }\r\n    }\r\n    void builMinHeap(){\r\n        for(int i=0;i&lt;size/2;i++){\r\n            minHeapify(i);\r\n        }\r\n    }\r\n\r\n};\r\nclass vertex{\r\n    final int infinite=2147483647;\r\n    int value;\r\n    int key;\r\n    vertex pi;\r\n}\r\nclass edge{\r\n    int u;\r\n    int v;\r\n    int weight;\r\n}\r\nclass Graph{\r\n}\r\nclass primsAlgo{\r\n    public static void main(String[] args) {\r\n        // vertex x=new vertex();\r\n    }\r\n}\r\n```\r\nerror:\r\n```\r\nprimsAlgo.java:21: error: unexpected type\r\n        v.elementAt(i)=v.elementAt(j);\r\n                   ^\r\n  required: variable\r\n  found:    value\r\nprimsAlgo.java:22: error: unexpected type\r\n        v.elementAt(j)=temp;\r\n                   ^\r\n  required: variable\r\n  found:    value\r\n2 errors\r\n```\r\n","title":"Swapping two elements of a vector without creating new objects?","body":"<p>I am new to Java coming from C++. I want to that v(i) should point to the object of v(j) and vice versa that is the references of both of them must interchange. Please give some beginner friendly solution.\nI can't make new objects or just replace the parameters because it will affect the working of algorithm.</p>\n<pre><code>import java.util.*;\nclass maxPriorityQueue{\n    public Vector&lt;vertex&gt; v;\n    public int size;\n    static final int infinite=2147483647;\n    maxPriorityQueue(int s){\n        this.size=s;;\n        v=new Vector&lt;vertex&gt;(size);\n    }\n    int parent(int i){\n        return (i-1)/2;\n    }\n    int leftChild(int i){\n        return 2*i+1;\n    }\n    int rightChild(int i){\n        return 2*i+2;\n    }\n    void swap(int i,int j){\n        vertex temp=v.elementAt(i);\n        v.elementAt(i)=v.elementAt(j);\n        v.elementAt(j)=temp;\n    }\n    void minHeapify(int index){\n        int smallest;\n        int left=leftChild(index);\n        int right=rightChild(index);\n        if(left&lt;size &amp;&amp; v.elementAt(index).key&gt;v.elementAt(left).key){\n            smallest=left;\n        }\n        else{\n            smallest=index;\n        }\n        if(right&lt;size &amp;&amp; v.elementAt(smallest).key&gt;v.elementAt(right).key){\n            smallest=right;\n        }\n        if(smallest!=index){\n            swap(index,smallest);\n            minHeapify(smallest);\n        }\n    }\n    void builMinHeap(){\n        for(int i=0;i&lt;size/2;i++){\n            minHeapify(i);\n        }\n    }\n\n};\nclass vertex{\n    final int infinite=2147483647;\n    int value;\n    int key;\n    vertex pi;\n}\nclass edge{\n    int u;\n    int v;\n    int weight;\n}\nclass Graph{\n}\nclass primsAlgo{\n    public static void main(String[] args) {\n        // vertex x=new vertex();\n    }\n}\n</code></pre>\n<p>error:</p>\n<pre><code>primsAlgo.java:21: error: unexpected type\n        v.elementAt(i)=v.elementAt(j);\n                   ^\n  required: variable\n  found:    value\nprimsAlgo.java:22: error: unexpected type\n        v.elementAt(j)=temp;\n                   ^\n  required: variable\n  found:    value\n2 errors\n</code></pre>\n"},{"tags":["java","android","android-studio","interface"],"comments":[{"owner":{"account_id":22858744,"reputation":153,"user_id":19369820,"display_name":"Elazar Halperin"},"score":0,"creation_date":1667762466,"post_id":74338171,"comment_id":131239186,"body_markdown":"Please add your code, it will be much more convenient for all of us to help you.","body":"Please add your code, it will be much more convenient for all of us to help you."}],"answers":[{"tags":[],"owner":{"account_id":17312820,"reputation":374,"user_id":16711198,"display_name":"Vera Iureva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667842840,"creation_date":1667757793,"answer_id":74338426,"question_id":74338171,"body_markdown":"You should clerify your case with code, but seams that it should help\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        player.release();\r\n        player = null;\r\n    }","title":"How to stop playing audio when screen oreitation is change in Android","body":"<p>You should clerify your case with code, but seams that it should help</p>\n<pre><code>@Override\nprotected void onStop() {\n    super.onStop();\n    player.release();\n    player = null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22858744,"reputation":153,"user_id":19369820,"display_name":"Elazar Halperin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667762907,"creation_date":1667762907,"answer_id":74339073,"question_id":74338171,"body_markdown":"You should use **onConfigurationChanged** to make this work.\r\n\r\nin your manifest file add this to your activiy\r\n```\r\n android:configChanges=&quot;orientation|keyboardHidden&quot;\r\n```\r\n```\r\n&lt;activity android:name=&quot;.MyActivity&quot;\r\n          android:configChanges=&quot;orientation|keyboardHidden&quot;\r\n          android:exported=&quot;true&quot;&gt;\r\n```\r\nIn your MainActiviy code implement this method:\r\n```\r\n@Override\r\npublic void onConfigurationChanged(@NotNull Configuration newConfig) {\r\n    super.onConfigurationChanged(newConfig);\r\n\r\n    // check weather the player is null\r\n    if(player == null) return;\r\n    player.stop();\r\n   \r\n}\r\n```","title":"How to stop playing audio when screen oreitation is change in Android","body":"<p>You should use <strong>onConfigurationChanged</strong> to make this work.</p>\n<p>in your manifest file add this to your activiy</p>\n<pre><code> android:configChanges=&quot;orientation|keyboardHidden&quot;\n</code></pre>\n<pre><code>&lt;activity android:name=&quot;.MyActivity&quot;\n          android:configChanges=&quot;orientation|keyboardHidden&quot;\n          android:exported=&quot;true&quot;&gt;\n</code></pre>\n<p>In your MainActiviy code implement this method:</p>\n<pre><code>@Override\npublic void onConfigurationChanged(@NotNull Configuration newConfig) {\n    super.onConfigurationChanged(newConfig);\n\n    // check weather the player is null\n    if(player == null) return;\n    player.stop();\n   \n}\n</code></pre>\n"}],"owner":{"account_id":21844522,"reputation":1,"user_id":16137590,"display_name":"ANT T"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667842840,"creation_date":1667755745,"question_id":74338171,"body_markdown":"I want to set a autoplay sound and it only play once, no matter the rotation is. I was trying to make my Mediaplayer in the onCreate of Mainactivity. And when I try to rotate the screen, the audio continued to play.\r\n\r\n\r\nI try a different method like set up a subclass and call in the activity instead of puting it in onCreat of MainActivity to make it only play once and ignore doing rotate, but it still doesn&#39;t work, can someone explain to me how can I fix it? Thank you!\r\n","title":"How to stop playing audio when screen oreitation is change in Android","body":"<p>I want to set a autoplay sound and it only play once, no matter the rotation is. I was trying to make my Mediaplayer in the onCreate of Mainactivity. And when I try to rotate the screen, the audio continued to play.</p>\n<p>I try a different method like set up a subclass and call in the activity instead of puting it in onCreat of MainActivity to make it only play once and ignore doing rotate, but it still doesn't work, can someone explain to me how can I fix it? Thank you!</p>\n"},{"tags":["java","service","mockito","keycloak","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":24648402,"reputation":11,"user_id":18545777,"display_name":"MrMRas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667842675,"creation_date":1667390830,"answer_id":74288893,"question_id":74280783,"body_markdown":"Solved it myself, instead of that code above you just should write it like that, should&#39;ve wrote @Autowired.\r\n\r\n    @Autowired\r\n    KeycloakProvider kcProvider;\r\n    @Autowired\r\n    KeycloakAdminClientService kcAdminClientService;\r\n\r\nand it would solve all the problems)","title":"Catching an exception RESTEASY004645: templateValues entry was null","body":"<p>Solved it myself, instead of that code above you just should write it like that, should've wrote @Autowired.</p>\n<pre><code>@Autowired\nKeycloakProvider kcProvider;\n@Autowired\nKeycloakAdminClientService kcAdminClientService;\n</code></pre>\n<p>and it would solve all the problems)</p>\n"}],"owner":{"account_id":24648402,"reputation":11,"user_id":18545777,"display_name":"MrMRas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":784,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667842675,"creation_date":1667330136,"question_id":74280783,"body_markdown":"I am in the process of creating tests for AdminClientService, which whould create users into Keycloak database. In the main processing it works as it should, but while creating tests i bumped into this exception:\r\n\r\n```\r\njava.lang.NullPointerException: RESTEASY004645: templateValues entry was null\r\n        at com.springboot.services.KeycloakAdminClientServiceTest.createKeycloakUserTest(KeycloakAdminClientServiceTest.java:80)\r\n```\r\n\r\nHere is the test, I am currently running:\r\n\r\n```\r\n@SpringBootTest\r\npublic class KeycloakAdminClientServiceTest {\r\n    @Value(&quot;${keycloak.auth-server-url}&quot;)\r\n    public String serverUrl;\r\n    @Value(&quot;${keycloak.realm}&quot;)\r\n    public String realm;\r\n    @Value(&quot;${keycloak.resource}&quot;)\r\n    public String clientId;\r\n    @Value(&quot;${keycloak.credentials.secret}&quot;)\r\n    public String clientSecret;\r\n    \r\n    // @Mock\r\n    // KeycloakProvider kcProvider = Mockito.mock(KeycloakProvider.class);\r\n    \r\n    // @InjectMocks\r\n    // \r\n    \r\n    // @BeforeEach\r\n    // void setMockOutput() {\r\n    //     //when(helloService.get()).thenReturn(&quot;Hello Mockito&quot;);\r\n    //     Mockito.when(kcProvider.getInstance()).thenReturn(KeycloakBuilder.builder()\r\n    //         .realm(realm)\r\n    //         .serverUrl(serverUrl)\r\n    //         .clientId(clientId)\r\n    //         .clientSecret(clientSecret)\r\n    //         .grantType(OAuth2Constants.CLIENT_CREDENTIALS)\r\n    //         .build());\r\n    // }\r\n    KeycloakProvider kcProvider;\r\n    KeycloakAdminClientService kcAdminClientService;\r\n    \r\n    @BeforeEach\r\n    void createKeycloakProvider() {\r\n        kcProvider = new KeycloakProvider();\r\n        kcProvider.setServerUrl(serverUrl);\r\n        kcProvider.setRealm(realm);\r\n        kcProvider.setClientId(clientId);\r\n        kcProvider.setClientSecret(clientSecret);\r\n        kcAdminClientService = new KeycloakAdminClientService(kcProvider);\r\n    }\r\n    \r\n    @Test\r\n    public void createKeycloakUserTest(){\r\n        Integer generatedInteger = (int) ((Math.random() * (9999999 - 1000000)) + 1000000);\r\n        String generatedString = generatedInteger.toString();\r\n\r\n        CreateUserRequest createUserRequest = new CreateUserRequest();\r\n        createUserRequest.setUsername(&quot;admin_client_username_&quot; + generatedString);\r\n        createUserRequest.setPassword(&quot;admin_client_password&quot;);\r\n        createUserRequest.setEmail(&quot;admin_client_email_&quot; + generatedString + &quot;@gmail.com&quot;);\r\n        createUserRequest.setFirstname(&quot;admin_client_firstname_&quot; + generatedString);\r\n        createUserRequest.setLastname(&quot;admin_client_lastname_&quot; + generatedString);\r\n        \r\n        kcAdminClientService.createKeycloakUser(createUserRequest);\r\n        \r\n        UsersResource usersResource = kcProvider.getInstance()\r\n            .realm(kcAdminClientService.realm).users();\r\n        List&lt;UserRepresentation&gt; userRepresentation = usersResource\r\n            .search(&quot;admin_client_email_&quot; + generatedString + &quot;@gmail.com&quot;);\r\n        assertNotNull(userRepresentation);\r\n        assertEquals(&quot;admin_client_firstname_&quot; + generatedString,\r\n            userRepresentation.get(0).getFirstName());\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is the service:\r\n\r\n\r\n```\r\n@Service\r\npublic class KeycloakAdminClientService {\r\n    @Value(&quot;${keycloak.realm}&quot;)\r\n    public String realm;\r\n\r\n    private final KeycloakProvider kcProvider;\r\n\r\n\r\n    public KeycloakAdminClientService(KeycloakProvider keycloakProvider) {\r\n        this.kcProvider = keycloakProvider;\r\n    }\r\n\r\n    public Response createKeycloakUser(CreateUserRequest user) {\r\n        UsersResource usersResource = kcProvider.getInstance().realm(realm).users();\r\n        CredentialRepresentation credentialRepresentation = createPasswordCredentials(\r\n            user.getPassword());\r\n\r\n        UserRepresentation kcUser = new UserRepresentation();\r\n        kcUser.setUsername(user.getEmail());\r\n        kcUser.setCredentials(Collections.singletonList(credentialRepresentation));\r\n        kcUser.setFirstName(user.getFirstname());\r\n        kcUser.setLastName(user.getLastname());\r\n        kcUser.setEmail(user.getEmail());\r\n        kcUser.setEnabled(true);\r\n        kcUser.setEmailVerified(false);\r\n        Response response = usersResource.create(kcUser);\r\n\r\n        return response;\r\n\r\n    }\r\n\r\n    private static CredentialRepresentation createPasswordCredentials(String password) {\r\n        CredentialRepresentation passwordCredentials = new CredentialRepresentation();\r\n        passwordCredentials.setTemporary(false);\r\n        passwordCredentials.setType(CredentialRepresentation.PASSWORD);\r\n        passwordCredentials.setValue(password);\r\n        return passwordCredentials;\r\n    }\r\n}\r\n```\r\n\r\nand the KeycloakProvider:\r\n\r\n\r\n```\r\n@Configuration\r\n@Getter\r\n@Setter\r\npublic class KeycloakProvider {\r\n    @Value(&quot;${keycloak.auth-server-url}&quot;)\r\n    public String serverUrl;\r\n    @Value(&quot;${keycloak.realm}&quot;)\r\n    public String realm;\r\n    @Value(&quot;${keycloak.resource}&quot;)\r\n    public String clientId;\r\n    @Value(&quot;${keycloak.credentials.secret}&quot;)\r\n    public String clientSecret;\r\n\r\n    private static Keycloak keycloak = null;\r\n\r\n    public KeycloakProvider() {\r\n    }\r\n\r\n    public Keycloak getInstance() {\r\n        if (keycloak == null) {\r\n\r\n            return KeycloakBuilder.builder()\r\n                    .realm(realm)\r\n                    .serverUrl(serverUrl)\r\n                    .clientId(clientId)\r\n                    .clientSecret(clientSecret)\r\n                    .grantType(OAuth2Constants.CLIENT_CREDENTIALS)\r\n                    .build();\r\n        }\r\n        return keycloak;\r\n    }\r\n\r\n    public KeycloakBuilder newKeycloakBuilderWithPasswordCredentials(\r\n        String username,\r\n        String password) {\r\n        return KeycloakBuilder.builder()\r\n                .realm(realm)\r\n                .serverUrl(serverUrl)\r\n                .clientId(clientId)\r\n                .clientSecret(clientSecret)\r\n                .username(username)\r\n                .password(password);\r\n    }\r\n\r\n    public JsonNode refreshToken(String refreshToken) throws UnirestException {\r\n        String url = serverUrl + &quot;/realms/&quot; + realm + &quot;/protocol/openid-connect/token&quot;;\r\n        return Unirest.post(url)\r\n                .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n                .field(&quot;client_id&quot;, clientId)\r\n                .field(&quot;client_secret&quot;, clientSecret)\r\n                .field(&quot;refresh_token&quot;, refreshToken)\r\n                .field(&quot;grant_type&quot;, &quot;refresh_token&quot;)\r\n                .asJson().getBody();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried using Mockito for this problem, but realized it won&#39;t work, as I wanted it to.  ","title":"Catching an exception RESTEASY004645: templateValues entry was null","body":"<p>I am in the process of creating tests for AdminClientService, which whould create users into Keycloak database. In the main processing it works as it should, but while creating tests i bumped into this exception:</p>\n<pre><code>java.lang.NullPointerException: RESTEASY004645: templateValues entry was null\n        at com.springboot.services.KeycloakAdminClientServiceTest.createKeycloakUserTest(KeycloakAdminClientServiceTest.java:80)\n</code></pre>\n<p>Here is the test, I am currently running:</p>\n<pre><code>@SpringBootTest\npublic class KeycloakAdminClientServiceTest {\n    @Value(&quot;${keycloak.auth-server-url}&quot;)\n    public String serverUrl;\n    @Value(&quot;${keycloak.realm}&quot;)\n    public String realm;\n    @Value(&quot;${keycloak.resource}&quot;)\n    public String clientId;\n    @Value(&quot;${keycloak.credentials.secret}&quot;)\n    public String clientSecret;\n    \n    // @Mock\n    // KeycloakProvider kcProvider = Mockito.mock(KeycloakProvider.class);\n    \n    // @InjectMocks\n    // \n    \n    // @BeforeEach\n    // void setMockOutput() {\n    //     //when(helloService.get()).thenReturn(&quot;Hello Mockito&quot;);\n    //     Mockito.when(kcProvider.getInstance()).thenReturn(KeycloakBuilder.builder()\n    //         .realm(realm)\n    //         .serverUrl(serverUrl)\n    //         .clientId(clientId)\n    //         .clientSecret(clientSecret)\n    //         .grantType(OAuth2Constants.CLIENT_CREDENTIALS)\n    //         .build());\n    // }\n    KeycloakProvider kcProvider;\n    KeycloakAdminClientService kcAdminClientService;\n    \n    @BeforeEach\n    void createKeycloakProvider() {\n        kcProvider = new KeycloakProvider();\n        kcProvider.setServerUrl(serverUrl);\n        kcProvider.setRealm(realm);\n        kcProvider.setClientId(clientId);\n        kcProvider.setClientSecret(clientSecret);\n        kcAdminClientService = new KeycloakAdminClientService(kcProvider);\n    }\n    \n    @Test\n    public void createKeycloakUserTest(){\n        Integer generatedInteger = (int) ((Math.random() * (9999999 - 1000000)) + 1000000);\n        String generatedString = generatedInteger.toString();\n\n        CreateUserRequest createUserRequest = new CreateUserRequest();\n        createUserRequest.setUsername(&quot;admin_client_username_&quot; + generatedString);\n        createUserRequest.setPassword(&quot;admin_client_password&quot;);\n        createUserRequest.setEmail(&quot;admin_client_email_&quot; + generatedString + &quot;@gmail.com&quot;);\n        createUserRequest.setFirstname(&quot;admin_client_firstname_&quot; + generatedString);\n        createUserRequest.setLastname(&quot;admin_client_lastname_&quot; + generatedString);\n        \n        kcAdminClientService.createKeycloakUser(createUserRequest);\n        \n        UsersResource usersResource = kcProvider.getInstance()\n            .realm(kcAdminClientService.realm).users();\n        List&lt;UserRepresentation&gt; userRepresentation = usersResource\n            .search(&quot;admin_client_email_&quot; + generatedString + &quot;@gmail.com&quot;);\n        assertNotNull(userRepresentation);\n        assertEquals(&quot;admin_client_firstname_&quot; + generatedString,\n            userRepresentation.get(0).getFirstName());\n\n    }\n\n}\n</code></pre>\n<p>Here is the service:</p>\n<pre><code>@Service\npublic class KeycloakAdminClientService {\n    @Value(&quot;${keycloak.realm}&quot;)\n    public String realm;\n\n    private final KeycloakProvider kcProvider;\n\n\n    public KeycloakAdminClientService(KeycloakProvider keycloakProvider) {\n        this.kcProvider = keycloakProvider;\n    }\n\n    public Response createKeycloakUser(CreateUserRequest user) {\n        UsersResource usersResource = kcProvider.getInstance().realm(realm).users();\n        CredentialRepresentation credentialRepresentation = createPasswordCredentials(\n            user.getPassword());\n\n        UserRepresentation kcUser = new UserRepresentation();\n        kcUser.setUsername(user.getEmail());\n        kcUser.setCredentials(Collections.singletonList(credentialRepresentation));\n        kcUser.setFirstName(user.getFirstname());\n        kcUser.setLastName(user.getLastname());\n        kcUser.setEmail(user.getEmail());\n        kcUser.setEnabled(true);\n        kcUser.setEmailVerified(false);\n        Response response = usersResource.create(kcUser);\n\n        return response;\n\n    }\n\n    private static CredentialRepresentation createPasswordCredentials(String password) {\n        CredentialRepresentation passwordCredentials = new CredentialRepresentation();\n        passwordCredentials.setTemporary(false);\n        passwordCredentials.setType(CredentialRepresentation.PASSWORD);\n        passwordCredentials.setValue(password);\n        return passwordCredentials;\n    }\n}\n</code></pre>\n<p>and the KeycloakProvider:</p>\n<pre><code>@Configuration\n@Getter\n@Setter\npublic class KeycloakProvider {\n    @Value(&quot;${keycloak.auth-server-url}&quot;)\n    public String serverUrl;\n    @Value(&quot;${keycloak.realm}&quot;)\n    public String realm;\n    @Value(&quot;${keycloak.resource}&quot;)\n    public String clientId;\n    @Value(&quot;${keycloak.credentials.secret}&quot;)\n    public String clientSecret;\n\n    private static Keycloak keycloak = null;\n\n    public KeycloakProvider() {\n    }\n\n    public Keycloak getInstance() {\n        if (keycloak == null) {\n\n            return KeycloakBuilder.builder()\n                    .realm(realm)\n                    .serverUrl(serverUrl)\n                    .clientId(clientId)\n                    .clientSecret(clientSecret)\n                    .grantType(OAuth2Constants.CLIENT_CREDENTIALS)\n                    .build();\n        }\n        return keycloak;\n    }\n\n    public KeycloakBuilder newKeycloakBuilderWithPasswordCredentials(\n        String username,\n        String password) {\n        return KeycloakBuilder.builder()\n                .realm(realm)\n                .serverUrl(serverUrl)\n                .clientId(clientId)\n                .clientSecret(clientSecret)\n                .username(username)\n                .password(password);\n    }\n\n    public JsonNode refreshToken(String refreshToken) throws UnirestException {\n        String url = serverUrl + &quot;/realms/&quot; + realm + &quot;/protocol/openid-connect/token&quot;;\n        return Unirest.post(url)\n                .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n                .field(&quot;client_id&quot;, clientId)\n                .field(&quot;client_secret&quot;, clientSecret)\n                .field(&quot;refresh_token&quot;, refreshToken)\n                .field(&quot;grant_type&quot;, &quot;refresh_token&quot;)\n                .asJson().getBody();\n    }\n}\n</code></pre>\n<p>I tried using Mockito for this problem, but realized it won't work, as I wanted it to.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1667843805,"post_id":74350643,"comment_id":131259705,"body_markdown":"Add android:requestLegacyExternalStorage=&quot;true&quot; to application tag of manifest file.","body":"Add android:requestLegacyExternalStorage=&quot;true&quot; to application tag of manifest file."},{"owner":{"account_id":75990,"reputation":13337,"user_id":217823,"accept_rate":52,"display_name":"JustAMartin"},"score":0,"creation_date":1667844360,"post_id":74350643,"comment_id":131259920,"body_markdown":"@blackapps  Thanks, that will make the old way work. But won&#39;t the new `Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)` work on Android 10 ? If DIRECTORY_DOCUMENTS exists since KitKat, then why it does not work on Android 10?","body":"@blackapps  Thanks, that will make the old way work. But won&#39;t the new <code>Environment.getExternalStoragePublicDirectory(Environment.DI&zwnj;&#8203;RECTORY_DOCUMENTS)</code> work on Android 10 ? If DIRECTORY_DOCUMENTS exists since KitKat, then why it does not work on Android 10?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667844552,"post_id":74350643,"comment_id":131259977,"body_markdown":"You are mentioning nothing new. And on Android 10 devices you only have read and write acces to external storage using the attribute i told you. Thats all.","body":"You are mentioning nothing new. And on Android 10 devices you only have read and write acces to external storage using the attribute i told you. Thats all."},{"owner":{"account_id":75990,"reputation":13337,"user_id":217823,"accept_rate":52,"display_name":"JustAMartin"},"score":0,"creation_date":1667845012,"post_id":74350643,"comment_id":131260160,"body_markdown":"Ok, I was under impression that the new way was supposed to work since KitKat, and with Android 11 it became mandatory. It&#39;s strange that on A10 you still cannot use the new way AND you cannot use the old way either without that app tag. That&#39;s really strange transition logic from Google.","body":"Ok, I was under impression that the new way was supposed to work since KitKat, and with Android 11 it became mandatory. It&#39;s strange that on A10 you still cannot use the new way AND you cannot use the old way either without that app tag. That&#39;s really strange transition logic from Google."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667845118,"post_id":74350643,"comment_id":131260188,"body_markdown":"New way? Dont understand. You can create as much files and folders in public Documents directory as you want. On A10. And below A10. And above A10. Only for A10 you need my first comment.","body":"New way? Dont understand. You can create as much files and folders in public Documents directory as you want. On A10. And below A10. And above A10. Only for A10 you need my first comment."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1667845377,"post_id":74350643,"comment_id":131260271,"body_markdown":"Yes, Google made a mess out of it. It looks they first planned to remove all read and write access to external storage and only allowing them to private directories. When they could not finish it before the next release they quickly introduced that attribute as otherwise nothing would run anymore. A mess indeed.","body":"Yes, Google made a mess out of it. It looks they first planned to remove all read and write access to external storage and only allowing them to private directories. When they could not finish it before the next release they quickly introduced that attribute as otherwise nothing would run anymore. A mess indeed."}],"owner":{"account_id":75990,"reputation":13337,"user_id":217823,"accept_rate":52,"display_name":"JustAMartin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667842504,"creation_date":1667842504,"question_id":74350643,"body_markdown":"My customer had an old app with `targetSdkVersion 28`. It creates a folder in a shared location so that the user can access the app&#39;s generated files later.\r\n\r\nThen the customer requested an upgrade. At first, we updated it to `targetSdkVersion 30`. Of course, our attempt to write files started failing. After some investigation, we found that we have to use a known folder from an enum value instead of storage root. So we decided to use Environment.DIRECTORY_DOCUMENTS. It worked just fine on Android 11 device, the app was able to create a subfolder and write files there.\r\n\r\nThen we tested it on Android 10, and it does not work. `mkdirs()` returns false when trying to create path `/storage/emulated/0/Documents/MySubfolder`. At first, I thought it was caused by the fact that the test device (Xiaomi Mi 9) did not have Documents folder at all, so I created it manually. Still, `mkdirs()` returns false when creating MySubfolder. I also tried to delete Documents folder on the Android 11 device - the app was able to create the full path `/storage/emulated/0/Documents/MySubfolder` without any problems.\r\n\r\nWhat&#39;s going on there? Why does creating folders in `getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)` work on Android 11 but not on Android 10?\r\n\r\nThe code follows.\r\n\r\n    public static File getWriteableUserDirPath()\r\n    {\r\n        String folderName = &quot;MySubfolder&quot;;\r\n        File dir = null;\r\n        \r\n        // at first, try the legacy approach - creating the folder in the shared root\r\n        try {\r\n            dir = Environment.getExternalStoragePublicDirectory(folderName);\r\n            dir = tryEnsureSubDirectory(dir);\r\n            if (dir != null)\r\n                return dir; // works on all devices as long as targetSdkVersion &lt;= 28\r\n        }\r\n        catch (Exception ex) {\r\n            dir = null;\r\n        }\r\n\r\n        // the check to keep the compiler happy with Environment.DIRECTORY_DOCUMENTS not existing before KITKAT\r\n        // but should not really return here - the old approach above should still have worked on KITKAT\r\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.KITKAT)\r\n            return dir;\r\n\r\n        // if got here, the old way did not work\r\n        // try the new way (which also might be deprecated soon :()\r\n        try {\r\n\r\n            dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS), folderName);\r\n            dir = tryEnsureSubDirectory(dir);\r\n            if (dir != null)\r\n                return dir; // problem - mkdirs() here works on Android 11 (tested on Nokia 8.1) but not on Android 10 (tested on Xiaomi MI 9)!!! Why so?\r\n        }\r\n        catch (Exception ex) {\r\n            dir = null;\r\n        }\r\n\r\n        return dir;\r\n    }\r\n\r\n    private static File tryEnsureSubDirectory(File dir)\r\n    {\r\n        // make sure the path directory exists.\r\n        if (!dir.exists())\r\n        {\r\n            boolean success = dir.mkdirs();\r\n            if (!success)\r\n            {\r\n                dir = null;\r\n            }\r\n        }\r\n        return dir;\r\n    }","title":"Failing to create a subdirectory in Environment.DIRECTORY_DOCUMENTS on Android 10 (Xiaomi MI 9)","body":"<p>My customer had an old app with <code>targetSdkVersion 28</code>. It creates a folder in a shared location so that the user can access the app's generated files later.</p>\n<p>Then the customer requested an upgrade. At first, we updated it to <code>targetSdkVersion 30</code>. Of course, our attempt to write files started failing. After some investigation, we found that we have to use a known folder from an enum value instead of storage root. So we decided to use Environment.DIRECTORY_DOCUMENTS. It worked just fine on Android 11 device, the app was able to create a subfolder and write files there.</p>\n<p>Then we tested it on Android 10, and it does not work. <code>mkdirs()</code> returns false when trying to create path <code>/storage/emulated/0/Documents/MySubfolder</code>. At first, I thought it was caused by the fact that the test device (Xiaomi Mi 9) did not have Documents folder at all, so I created it manually. Still, <code>mkdirs()</code> returns false when creating MySubfolder. I also tried to delete Documents folder on the Android 11 device - the app was able to create the full path <code>/storage/emulated/0/Documents/MySubfolder</code> without any problems.</p>\n<p>What's going on there? Why does creating folders in <code>getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)</code> work on Android 11 but not on Android 10?</p>\n<p>The code follows.</p>\n<pre><code>public static File getWriteableUserDirPath()\n{\n    String folderName = &quot;MySubfolder&quot;;\n    File dir = null;\n    \n    // at first, try the legacy approach - creating the folder in the shared root\n    try {\n        dir = Environment.getExternalStoragePublicDirectory(folderName);\n        dir = tryEnsureSubDirectory(dir);\n        if (dir != null)\n            return dir; // works on all devices as long as targetSdkVersion &lt;= 28\n    }\n    catch (Exception ex) {\n        dir = null;\n    }\n\n    // the check to keep the compiler happy with Environment.DIRECTORY_DOCUMENTS not existing before KITKAT\n    // but should not really return here - the old approach above should still have worked on KITKAT\n    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.KITKAT)\n        return dir;\n\n    // if got here, the old way did not work\n    // try the new way (which also might be deprecated soon :()\n    try {\n\n        dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS), folderName);\n        dir = tryEnsureSubDirectory(dir);\n        if (dir != null)\n            return dir; // problem - mkdirs() here works on Android 11 (tested on Nokia 8.1) but not on Android 10 (tested on Xiaomi MI 9)!!! Why so?\n    }\n    catch (Exception ex) {\n        dir = null;\n    }\n\n    return dir;\n}\n\nprivate static File tryEnsureSubDirectory(File dir)\n{\n    // make sure the path directory exists.\n    if (!dir.exists())\n    {\n        boolean success = dir.mkdirs();\n        if (!success)\n        {\n            dir = null;\n        }\n    }\n    return dir;\n}\n</code></pre>\n"},{"tags":["java","maven","nexus","openapi-generator"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1667784828,"post_id":74339991,"comment_id":131242959,"body_markdown":"It looks like you may have to set the openapi-generator-version property as the snippet pulling in the sources use it.","body":"It looks like you may have to set the openapi-generator-version property as the snippet pulling in the sources use it."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1667809021,"post_id":74339991,"comment_id":131247143,"body_markdown":"The output `org.openapitools:openapi-generator:jar:sources:${openapi-generator-version}` shows that something in your configuration is wrong? Please show your full pom file ...","body":"The output <code>org.openapitools:openapi-generator:jar:sources:${openapi-gen&zwnj;&#8203;erator-version}</code> shows that something in your configuration is wrong? Please show your full pom file ..."},{"owner":{"account_id":18925766,"reputation":5,"user_id":13808940,"display_name":"codeNEWBYE"},"score":0,"creation_date":1667842395,"post_id":74339991,"comment_id":131259211,"body_markdown":"done, i&#39;ve add my pom.xml to my post","body":"done, i&#39;ve add my pom.xml to my post"}],"owner":{"account_id":18925766,"reputation":5,"user_id":13808940,"display_name":"codeNEWBYE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667842366,"creation_date":1667770888,"question_id":74339991,"body_markdown":"I am trying to implement openapi plugin generator , but when i run `mvn clean install` I get the following error.\r\n\r\n    org.eclipse.core.runtime.CoreException: Could not resolve artifact org.openapitools:openapi-generator:jar:sources:${openapi-generator-version}\r\n    \tat org.eclipse.m2e.core.internal.embedder.MavenImpl.lambda$4(MavenImpl.java:828)\r\n    \tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:182)\r\n    \tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:117)\r\n    \tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:103)\r\n    \tat org.eclipse.m2e.core.internal.embedder.MavenImpl.resolve(MavenImpl.java:796)\r\n    \tat org.eclipse.m2e.core.internal.embedder.MavenImpl.resolve(MavenImpl.java:773)\r\n\r\nHere is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.company.project&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;company&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;company&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;openapi-generator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;!--https://openapi-generator.tech/docs/plugins/--&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;!-- RELEASE_VERSION --&gt;\r\n    \t\t\t\t&lt;version&gt;5.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;!-- /RELEASE_VERSION --&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;inputSpec&gt;${project.basedir}/src/main/resources/test.yaml&lt;/inputSpec&gt;\r\n    \t\t\t\t\t\t\t&lt;output&gt;${project.build.directory}/&lt;/output&gt;\r\n    \t\t\t\t\t\t\t&lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\r\n    \t\t\t\t\t\t\t&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n    \t\t\t\t\t\t\t&lt;strictSpec&gt;true&lt;/strictSpec&gt;\r\n    \t\t\t\t\t\t\t&lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n    \t\t\t\t\t\t\t&lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n    \t\t\t\t\t\t\t&lt;configOptions&gt;\r\n    \t\t\t\t\t\t\t\t&lt;controllerThrowsExceptions&gt;java.io.IOException,com.example.NotFoundException&lt;/controllerThrowsExceptions&gt;\r\n    \t\t\t\t\t\t\t\t&lt;library&gt;spring-mvc&lt;/library&gt;\r\n    \t\t\t\t\t\t\t\t&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n    \t\t\t\t\t\t\t\t&lt;skipDefaultInterface&gt;true&lt;/skipDefaultInterface&gt;\r\n    \t\t\t\t\t\t\t\t&lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\r\n    \t\t\t\t\t\t\t\t&lt;useClassLevelBeanValidation&gt;false&lt;/useClassLevelBeanValidation&gt;\r\n    \t\t\t\t\t\t\t\t&lt;useTags&gt;true&lt;/useTags&gt;\r\n    \t\t\t\t\t\t\t\t&lt;java8&gt;true&lt;/java8&gt;\r\n    \t\t\t\t\t\t\t\t&lt;useOptional&gt;false&lt;/useOptional&gt;\r\n    \t\t\t\t\t\t\t\t&lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\r\n    \t\t\t\t\t\t\t\t&lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n    \t\t\t\t\t\t\t\t&lt;bigDecimalAsString&gt;true&lt;/bigDecimalAsString&gt;\r\n    \t\t\t\t\t\t\t\t&lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\r\n    \t\t\t\t\t\t\t\t&lt;apiPackage&gt;${codegen.api.package.name}&lt;/apiPackage&gt;\r\n    \t\t\t\t\t\t\t\t&lt;modelPackage&gt;${codegen.model.page.name}&lt;/modelPackage&gt;\r\n    \t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n\r\nI have been looking at the documentation and it seems that the repository is on nexus ?\r\n\r\n\r\nhttps://github.com/OpenAPITools/openapi-generator\r\nhttps://search.maven.org/artifact/org.openapitools/openapi-generator\r\n\r\n","title":"Could not resolve artifact org.openapitools:openapi-generator:jar:sources","body":"<p>I am trying to implement openapi plugin generator , but when i run <code>mvn clean install</code> I get the following error.</p>\n<pre><code>org.eclipse.core.runtime.CoreException: Could not resolve artifact org.openapitools:openapi-generator:jar:sources:${openapi-generator-version}\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.lambda$4(MavenImpl.java:828)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:182)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:117)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:103)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.resolve(MavenImpl.java:796)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.resolve(MavenImpl.java:773)\n</code></pre>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.company.project&lt;/groupId&gt;\n    &lt;artifactId&gt;company&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;company&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator&lt;/artifactId&gt;\n            &lt;version&gt;6.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;!--https://openapi-generator.tech/docs/plugins/--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- RELEASE_VERSION --&gt;\n                &lt;version&gt;5.1.0&lt;/version&gt;\n                &lt;!-- /RELEASE_VERSION --&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/test.yaml&lt;/inputSpec&gt;\n                            &lt;output&gt;${project.build.directory}/&lt;/output&gt;\n                            &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                            &lt;strictSpec&gt;true&lt;/strictSpec&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                            &lt;configOptions&gt;\n                                &lt;controllerThrowsExceptions&gt;java.io.IOException,com.example.NotFoundException&lt;/controllerThrowsExceptions&gt;\n                                &lt;library&gt;spring-mvc&lt;/library&gt;\n                                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                                &lt;skipDefaultInterface&gt;true&lt;/skipDefaultInterface&gt;\n                                &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\n                                &lt;useClassLevelBeanValidation&gt;false&lt;/useClassLevelBeanValidation&gt;\n                                &lt;useTags&gt;true&lt;/useTags&gt;\n                                &lt;java8&gt;true&lt;/java8&gt;\n                                &lt;useOptional&gt;false&lt;/useOptional&gt;\n                                &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                                &lt;bigDecimalAsString&gt;true&lt;/bigDecimalAsString&gt;\n                                &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\n                                &lt;apiPackage&gt;${codegen.api.package.name}&lt;/apiPackage&gt;\n                                &lt;modelPackage&gt;${codegen.model.page.name}&lt;/modelPackage&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>I have been looking at the documentation and it seems that the repository is on nexus ?</p>\n<p><a href=\"https://github.com/OpenAPITools/openapi-generator\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator</a>\n<a href=\"https://search.maven.org/artifact/org.openapitools/openapi-generator\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/org.openapitools/openapi-generator</a></p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":2594644,"reputation":989,"user_id":2248600,"accept_rate":73,"display_name":"Mathew Rock"},"score":0,"creation_date":1385728908,"post_id":20286020,"comment_id":30264433,"body_markdown":"but eq() is when you mixed anyXXX with object. Or not?","body":"but eq() is when you mixed anyXXX with object. Or not?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":2,"creation_date":1385729646,"post_id":20286020,"comment_id":30264811,"body_markdown":"possible duplicate of [Unit testing with mockito for constructors](http://stackoverflow.com/questions/11214136/unit-testing-with-mockito-for-constructors)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/11214136/unit-testing-with-mockito-for-constructors\">Unit testing with mockito for constructors</a>"},{"owner":{"account_id":2594644,"reputation":989,"user_id":2248600,"accept_rate":73,"display_name":"Mathew Rock"},"score":0,"creation_date":1385730606,"post_id":20286020,"comment_id":30265382,"body_markdown":"but this solution doesn&#180;t works for me, I don&#180;t want to parametrice method.","body":"but this solution doesn&#180;t works for me, I don&#180;t want to parametrice method."}],"answers":[{"tags":[],"owner":{"account_id":3091729,"reputation":4272,"user_id":2617694,"display_name":"Dave"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1667841951,"creation_date":1385731983,"answer_id":20287015,"question_id":20286020,"body_markdown":"UPDATE: since [since version 3.5.0][1], Mockito can do this without PowerMockito.\r\n\r\nYou can use [PowerMock][2] to mock constructors.\r\n\r\nIf you can&#39;t use PowerMock for some reason, the most workable solution is to inject a factory to whatever class contains this method. You would then use the factory to create your `GeneraIDParaEntidadCliente` object and mock the factory.\r\n\r\n\r\n  [1]: https://javadoc.io/static/org.mockito/mockito-core/3.5.13/org/mockito/Mockito.html#mocked_construction\r\n  [2]: https://github.com/jayway/powermock","title":"Mock constructor with mockito","body":"<p>UPDATE: since <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.5.13/org/mockito/Mockito.html#mocked_construction\" rel=\"nofollow noreferrer\">since version 3.5.0</a>, Mockito can do this without PowerMockito.</p>\n<p>You can use <a href=\"https://github.com/jayway/powermock\" rel=\"nofollow noreferrer\">PowerMock</a> to mock constructors.</p>\n<p>If you can't use PowerMock for some reason, the most workable solution is to inject a factory to whatever class contains this method. You would then use the factory to create your <code>GeneraIDParaEntidadCliente</code> object and mock the factory.</p>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1385772988,"creation_date":1385772988,"answer_id":20295303,"question_id":20286020,"body_markdown":"There are a couple of ways of doing this, described in [my article on the Mockito wiki](http://code.google.com/p/mockito/wiki/MockingObjectCreation)","title":"Mock constructor with mockito","body":"<p>There are a couple of ways of doing this, described in <a href=\"http://code.google.com/p/mockito/wiki/MockingObjectCreation\" rel=\"nofollow\">my article on the Mockito wiki</a></p>\n"},{"tags":[],"owner":{"account_id":6202518,"reputation":937,"user_id":4831778,"accept_rate":67,"display_name":"M2E67"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476950768,"creation_date":1476950768,"answer_id":40148831,"question_id":20286020,"body_markdown":"you can send mocked objects as paramemters to your class constructor, form example:\r\n\r\n    // define you object\r\n    public MainClassObj instanceClass;\r\n    \r\n    // mock input parameter\r\n    MYClassObj mockedObj = Mockito.mock(MYClassObj.class);\r\n    \r\n    // call construvtor with mocked parameter\r\n    instanceClass = new instanceClass(mockedObj);","title":"Mock constructor with mockito","body":"<p>you can send mocked objects as paramemters to your class constructor, form example:</p>\n\n<pre><code>// define you object\npublic MainClassObj instanceClass;\n\n// mock input parameter\nMYClassObj mockedObj = Mockito.mock(MYClassObj.class);\n\n// call construvtor with mocked parameter\ninstanceClass = new instanceClass(mockedObj);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667841835,"creation_date":1667841835,"answer_id":74350508,"question_id":20286020,"body_markdown":"Copying answer from [duplicate][1]:\r\nMockito can now mock constructors (since version 3.5.0) https://javadoc.io/static/org.mockito/mockito-core/3.5.13/org/mockito/Mockito.html#mocked_construction\r\n\r\n```\r\ntry (MockedConstruction mocked = mockConstruction(Foo.class)) {\r\n   Foo foo = new Foo();\r\n   when(foo.method()).thenReturn(&quot;bar&quot;);\r\n   assertEquals(&quot;bar&quot;, foo.method());\r\n   verify(foo).method();\r\n }\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11214136/unit-testing-with-mockito-for-constructors","title":"Mock constructor with mockito","body":"<p>Copying answer from <a href=\"https://stackoverflow.com/questions/11214136/unit-testing-with-mockito-for-constructors\">duplicate</a>:\nMockito can now mock constructors (since version 3.5.0) <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.5.13/org/mockito/Mockito.html#mocked_construction\" rel=\"nofollow noreferrer\">https://javadoc.io/static/org.mockito/mockito-core/3.5.13/org/mockito/Mockito.html#mocked_construction</a></p>\n<pre><code>try (MockedConstruction mocked = mockConstruction(Foo.class)) {\n   Foo foo = new Foo();\n   when(foo.method()).thenReturn(&quot;bar&quot;);\n   assertEquals(&quot;bar&quot;, foo.method());\n   verify(foo).method();\n }\n</code></pre>\n"}],"owner":{"account_id":2594644,"reputation":989,"user_id":2248600,"accept_rate":73,"display_name":"Mathew Rock"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46044,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":20287015,"answer_count":4,"score":7,"last_activity_date":1667841951,"creation_date":1385728647,"question_id":20286020,"body_markdown":"I want to mock a constructor into method. \r\n\r\n    public String generaID() {   \r\n    \tGeneraIDParaEntidadCliente aux = new GeneraIDParaEntidadCliente(nombre, registro);   \r\n    \tentidad.setID(aux.generaID);   \r\n    }\r\n\r\nIn my test I want do something like this : \r\n\r\n    when(new GeneraIDParaEntidadCliente(anyString(), any(Entidad.class)).thenReturn(generaIdMock)  \r\n\r\nbut give me this **error** `org.mockito.exceptions.misusing.InvalidUseOfMatchersException: `\r\n\r\nAny idea why?","title":"Mock constructor with mockito","body":"<p>I want to mock a constructor into method. </p>\n\n<pre><code>public String generaID() {   \n    GeneraIDParaEntidadCliente aux = new GeneraIDParaEntidadCliente(nombre, registro);   \n    entidad.setID(aux.generaID);   \n}\n</code></pre>\n\n<p>In my test I want do something like this : </p>\n\n<pre><code>when(new GeneraIDParaEntidadCliente(anyString(), any(Entidad.class)).thenReturn(generaIdMock)  \n</code></pre>\n\n<p>but give me this <strong>error</strong> <code>org.mockito.exceptions.misusing.InvalidUseOfMatchersException:</code></p>\n\n<p>Any idea why?</p>\n"},{"tags":["java","android","azure-maps"],"answers":[{"tags":[],"owner":{"account_id":1293887,"reputation":17020,"user_id":1245450,"display_name":"rbrundritt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667841867,"creation_date":1667841867,"answer_id":74350519,"question_id":74335451,"body_markdown":"Android&#39;s default for orientation change is to reset the activity, this isn&#39;t an Azure Maps specific thing. You can modify this behavior in your manifest. In the &lt;Activity&gt; tag, you can add `android:configChanges=&quot;orientation|keyboardHidden&quot;`, this will stop the activity from reloading and call `onConfigurationChanged()` instead when the orientation is changed or the keyboard is hidden.","title":"Azure maps resets when screen orientation change","body":"<p>Android's default for orientation change is to reset the activity, this isn't an Azure Maps specific thing. You can modify this behavior in your manifest. In the  tag, you can add <code>android:configChanges=&quot;orientation|keyboardHidden&quot;</code>, this will stop the activity from reloading and call <code>onConfigurationChanged()</code> instead when the orientation is changed or the keyboard is hidden.</p>\n"}],"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74350519,"answer_count":1,"score":0,"last_activity_date":1667841867,"creation_date":1667734214,"question_id":74335451,"body_markdown":"So im developing a geolocalization app, and when my user is navigating the map, in AZURE MAPS, whenever he change the orientation of the screen it resets, and i want to prevent that from happening, is there anyway i can achieve that ?\r\nIm using android studio with java.\r\nIve read some things about beeing possible in OnReady, but i cant figure how to do it.","title":"Azure maps resets when screen orientation change","body":"<p>So im developing a geolocalization app, and when my user is navigating the map, in AZURE MAPS, whenever he change the orientation of the screen it resets, and i want to prevent that from happening, is there anyway i can achieve that ?\nIm using android studio with java.\nIve read some things about beeing possible in OnReady, but i cant figure how to do it.</p>\n"},{"tags":["java","unix","oshi"],"answers":[{"tags":[],"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667818308,"creation_date":1667818308,"answer_id":74345429,"question_id":74345328,"body_markdown":"Looks like `info.ai_canonname` is `null`, Try adding null check for `ai_canonname` or use null safe way to do trim like `StringUtils.trim()`\r\n\r\n    public static String trim(final String str) {\r\n        return str == null ? null : str.trim();\r\n    }","title":"looking for the reason for NPE in LinuxNetworkParams.getDomainName call","body":"<p>Looks like <code>info.ai_canonname</code> is <code>null</code>, Try adding null check for <code>ai_canonname</code> or use null safe way to do trim like <code>StringUtils.trim()</code></p>\n<pre><code>public static String trim(final String str) {\n    return str == null ? null : str.trim();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667840194,"creation_date":1667840194,"answer_id":74350162,"question_id":74345328,"body_markdown":"As @Jishnu-Prathap said in their [answer](https://stackoverflow.com/a/74345429/1161484), `info.ai_canonname` is null. \r\n\r\nThis value normally returns the &quot;official name of the host&quot; in response to the [`getaddrinfo()`][1] function whose docs state:\r\n&gt; If `hints.ai_flags` includes the `AI_CANONNAME` flag, then the `ai_canonname` field of the first of the `addrinfo` structures in the returned list is set to point to the official name of the host.\r\n\r\nThis may represent an error in your server configuration; fixing the &quot;official name of the host&quot; will prevent the NPE if you keep the same OSHI version.\r\n\r\nHowever, failing to null-check this value was a bug in earlier versions of OSHI but was [fixed in version 6.2.2][2] and upgrading will also prevent the NPE (but not give you a canonical host name, since it doesn&#39;t exist!)\r\n\r\n\r\n  [1]: https://man7.org/linux/man-pages/man3/getaddrinfo.3.html\r\n  [2]: https://github.com/oshi/oshi/pull/2133","title":"looking for the reason for NPE in LinuxNetworkParams.getDomainName call","body":"<p>As @Jishnu-Prathap said in their <a href=\"https://stackoverflow.com/a/74345429/1161484\">answer</a>, <code>info.ai_canonname</code> is null.</p>\n<p>This value normally returns the &quot;official name of the host&quot; in response to the <a href=\"https://man7.org/linux/man-pages/man3/getaddrinfo.3.html\" rel=\"nofollow noreferrer\"><code>getaddrinfo()</code></a> function whose docs state:</p>\n<blockquote>\n<p>If <code>hints.ai_flags</code> includes the <code>AI_CANONNAME</code> flag, then the <code>ai_canonname</code> field of the first of the <code>addrinfo</code> structures in the returned list is set to point to the official name of the host.</p>\n</blockquote>\n<p>This may represent an error in your server configuration; fixing the &quot;official name of the host&quot; will prevent the NPE if you keep the same OSHI version.</p>\n<p>However, failing to null-check this value was a bug in earlier versions of OSHI but was <a href=\"https://github.com/oshi/oshi/pull/2133\" rel=\"nofollow noreferrer\">fixed in version 6.2.2</a> and upgrading will also prevent the NPE (but not give you a canonical host name, since it doesn't exist!)</p>\n"}],"owner":{"account_id":8762853,"reputation":51,"user_id":6552317,"display_name":"kushal agrawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667840194,"creation_date":1667817851,"question_id":74345328,"body_markdown":"We are seeing the NPE in the LinuxNetworkParams.getDomainName call in oshi version 6.1.6. Although I am not able to see any reason for this. Can anyone help me when with the reasons why this can throw NPE?\r\n\r\n    Caused by: java.lang.NullPointerException\r\n\tat oshi.software.os.linux.LinuxNetworkParams.getDomainName(LinuxNetworkParams.java:80) ~[oshi-core-6.1.6.jar!/:6.1.6]\r\n\tat com.airwatch.common.diagnostics.DiagnosticCollector.fetchSystemConfiguration(DiagnosticCollector.java:148) ~[diagnostic-library-2.0.3.jar!/:?]\r\n\r\n\r\nHere is the code for the method : \r\nhttps://github.com/oshi/oshi/blob/oshi-parent-6.1.6/oshi-core/src/main/java/oshi/software/os/linux/LinuxNetworkParams.java#L79-L80 ","title":"looking for the reason for NPE in LinuxNetworkParams.getDomainName call","body":"<p>We are seeing the NPE in the LinuxNetworkParams.getDomainName call in oshi version 6.1.6. Although I am not able to see any reason for this. Can anyone help me when with the reasons why this can throw NPE?</p>\n<pre><code>Caused by: java.lang.NullPointerException\nat oshi.software.os.linux.LinuxNetworkParams.getDomainName(LinuxNetworkParams.java:80) ~[oshi-core-6.1.6.jar!/:6.1.6]\nat com.airwatch.common.diagnostics.DiagnosticCollector.fetchSystemConfiguration(DiagnosticCollector.java:148) ~[diagnostic-library-2.0.3.jar!/:?]\n</code></pre>\n<p>Here is the code for the method :\n<a href=\"https://github.com/oshi/oshi/blob/oshi-parent-6.1.6/oshi-core/src/main/java/oshi/software/os/linux/LinuxNetworkParams.java#L79-L80\" rel=\"nofollow noreferrer\">https://github.com/oshi/oshi/blob/oshi-parent-6.1.6/oshi-core/src/main/java/oshi/software/os/linux/LinuxNetworkParams.java#L79-L80</a></p>\n"},{"tags":["java","docker","quarkus","render.com"],"answers":[{"tags":[],"owner":{"account_id":3594492,"reputation":705,"user_id":2999667,"accept_rate":64,"display_name":"Andrea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667840155,"creation_date":1667840155,"answer_id":74350152,"question_id":74329502,"body_markdown":"The Dockerfile shipped with the Quarkus Quickstart assumes you already have compiled your sources.\r\nIn order to compile the sources in the container, I had to change my Dockerfile as listed [here][1].\r\nAlso, it&#39;s important to remove that `*` from the `.dockerignore` file.\r\n\r\n  [1]: https://quarkus.io/guides/building-native-image#multistage-docker","title":"How to deploy a Quarkus App on Render.com?","body":"<p>The Dockerfile shipped with the Quarkus Quickstart assumes you already have compiled your sources.\nIn order to compile the sources in the container, I had to change my Dockerfile as listed <a href=\"https://quarkus.io/guides/building-native-image#multistage-docker\" rel=\"nofollow noreferrer\">here</a>.\nAlso, it's important to remove that <code>*</code> from the <code>.dockerignore</code> file.</p>\n"}],"owner":{"account_id":3594492,"reputation":705,"user_id":2999667,"accept_rate":64,"display_name":"Andrea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74350152,"answer_count":1,"score":0,"last_activity_date":1667840155,"creation_date":1667665617,"question_id":74329502,"body_markdown":"Starting from the end of the month, Heroku will dismiss its free tier, so I&#39;m looking for a way to deploy my Java apps elsewhere, namely on Render.\r\nRender doesn&#39;t support Java natively like Heroku does, but support Docker which should be fine even if I have little to no experience with it.\r\n\r\nSo, let&#39;s begin.\r\nI&#39;ve created a MVP with Quarkus and pushed everything on GitHub. Quarkus comes with the following preconfigured Dockerfile.\r\n\r\n    FROM registry.access.redhat.com/ubi8/openjdk-17:1.14\r\n    ENV LANGUAGE=&#39;en_US:en&#39;\r\n    COPY --chown=185 target/quarkus-app/lib/ /deployments/lib/\r\n    COPY --chown=185 target/quarkus-app/*.jar /deployments/\r\n    COPY --chown=185 target/quarkus-app/app/ /deployments/app/\r\n    COPY --chown=185 target/quarkus-app/quarkus/ /deployments/quarkus/\r\n    EXPOSE 8080\r\n    USER 185\r\n    ENV JAVA_OPTS=&quot;-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\r\n    ENV JAVA_APP_JAR=&quot;/deployments/quarkus-run.jar&quot;\r\n\r\nThen, I&#39;ve created a new Render project, connecting the GitHub repo and specifying the custom path for the Dockerfile (`./src/main/docker/Dockerfile.jvm`).\r\n\r\n\r\nAfter that, the build started and failed shorty after with the following error:\r\n\r\n    error: failed to solve: failed to compute cache key: failed to calculate checksum of ref ybv5ya8wywl2vxh03tp4kiw9y::xq421txz9uzdcqymi3ygmk6xb: failed to walk /home/user/.local/tmp/buildkit-mount4168277661/target/quarkus-app: lstat /home/user/.local/tmp/buildkit-mount4168277661/target/quarkus-app: no such file or directory\r\n\r\nI&#39;m unsure on what that does exactly mean.\r\nI feel the problem is that it expects to find something in the `target` dir, which doesn&#39;t exists because I never did something like `./mvnw package` anywhere in the Dockerfile.\r\nTherefore, on a second attempt, I&#39;ve added the following line\r\n\r\n    RUN ./mvnw package\r\n\r\nin the Dockerfile, just before those four `COPY` lines, but the issue persists so maybe I&#39;m off track. \r\n\r\nAny help on how can I fix this?\r\n","title":"How to deploy a Quarkus App on Render.com?","body":"<p>Starting from the end of the month, Heroku will dismiss its free tier, so I'm looking for a way to deploy my Java apps elsewhere, namely on Render.\nRender doesn't support Java natively like Heroku does, but support Docker which should be fine even if I have little to no experience with it.</p>\n<p>So, let's begin.\nI've created a MVP with Quarkus and pushed everything on GitHub. Quarkus comes with the following preconfigured Dockerfile.</p>\n<pre><code>FROM registry.access.redhat.com/ubi8/openjdk-17:1.14\nENV LANGUAGE='en_US:en'\nCOPY --chown=185 target/quarkus-app/lib/ /deployments/lib/\nCOPY --chown=185 target/quarkus-app/*.jar /deployments/\nCOPY --chown=185 target/quarkus-app/app/ /deployments/app/\nCOPY --chown=185 target/quarkus-app/quarkus/ /deployments/quarkus/\nEXPOSE 8080\nUSER 185\nENV JAVA_OPTS=&quot;-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\nENV JAVA_APP_JAR=&quot;/deployments/quarkus-run.jar&quot;\n</code></pre>\n<p>Then, I've created a new Render project, connecting the GitHub repo and specifying the custom path for the Dockerfile (<code>./src/main/docker/Dockerfile.jvm</code>).</p>\n<p>After that, the build started and failed shorty after with the following error:</p>\n<pre><code>error: failed to solve: failed to compute cache key: failed to calculate checksum of ref ybv5ya8wywl2vxh03tp4kiw9y::xq421txz9uzdcqymi3ygmk6xb: failed to walk /home/user/.local/tmp/buildkit-mount4168277661/target/quarkus-app: lstat /home/user/.local/tmp/buildkit-mount4168277661/target/quarkus-app: no such file or directory\n</code></pre>\n<p>I'm unsure on what that does exactly mean.\nI feel the problem is that it expects to find something in the <code>target</code> dir, which doesn't exists because I never did something like <code>./mvnw package</code> anywhere in the Dockerfile.\nTherefore, on a second attempt, I've added the following line</p>\n<pre><code>RUN ./mvnw package\n</code></pre>\n<p>in the Dockerfile, just before those four <code>COPY</code> lines, but the issue persists so maybe I'm off track.</p>\n<p>Any help on how can I fix this?</p>\n"},{"tags":["java","python","android","tensorflow","tensorflow-lite"],"answers":[{"tags":[],"owner":{"account_id":20876281,"reputation":41,"user_id":15334979,"display_name":"Alex1338"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1615534406,"creation_date":1615534406,"answer_id":66595929,"question_id":66488745,"body_markdown":"After further study, I believe the aforementioned issue was raised since the model has 8 tensors output but the Android application written in Java can only support 4 tensors output (at least the example provided by Google only supports 4 tensors output)\r\n\r\nI am not very certain about the number of tensors output on different models. So far as I understood and messed around with different models, models with fixed_shape_resizer of 640 x 640 are likely to require more than 4 tensors output ( 8 tensors output usually), which is not compatible with the Android application written in Java.\r\n\r\nFor any amateur users like me, please find the following prerequisites to use your custom model in the [Android application][1] \\\r\nSuggested Setup ( Assume you are using TensorFlow version &gt;= 2.3):\r\n\r\n- TensorFlow Model: **SSD model with fixed_shape_resizer of 320 x 320** \\\r\n(In my case, SSD MobileNet v2 320x320 works perfectly fine)\r\n(The tensors output has to be 4)\r\n\r\n- **Colab** ( Perfect for model training and conversion) \\\r\n( I&#39;ve tried to perform the training and conversion on both Linux and Windows platform on my local machine, the incompatibility of different tools and package gives me a headache. I turned out using Colab to perform the training and conversion. It is much more powerful and has great compatibility with those training tools and script.)\r\n\r\n- The [**metadata writer library**](https://stackoverflow.com/questions/64097085/issue-in-creating-tflite-model-populated-with-metadata-for-object-detection/64493506#64493506) that was written by [@lu-wang-g](https://github.com/lu-wang-g) \\\r\n(In my case, after converting the trained model to .tflite, if you directly migrate the .tflite model to the Android application, the application will report tons of problem regarding the config of the .tflite model. Assume if you trained and converted the model correctly, all you need is the metadata writer library above. It will automatically configure the metadata for you according to the .tflite model. Then you can directly migrate the model to the application.)\r\n\r\nFor detail, please visit my GitHub issue: \\\r\nhttps://github.com/tensorflow/tensorflow/issues/47595\r\n\r\n\r\n\r\n  [1]: https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/running_on_mobile_tf2.md","title":"Tensorflow Lite Android Object Detection -- Mobile SSD models are expected to have exactly 4 outputs, found 8","body":"<p>After further study, I believe the aforementioned issue was raised since the model has 8 tensors output but the Android application written in Java can only support 4 tensors output (at least the example provided by Google only supports 4 tensors output)</p>\n<p>I am not very certain about the number of tensors output on different models. So far as I understood and messed around with different models, models with fixed_shape_resizer of 640 x 640 are likely to require more than 4 tensors output ( 8 tensors output usually), which is not compatible with the Android application written in Java.</p>\n<p>For any amateur users like me, please find the following prerequisites to use your custom model in the <a href=\"https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/running_on_mobile_tf2.md\" rel=\"nofollow noreferrer\">Android application</a> <br />\nSuggested Setup ( Assume you are using TensorFlow version &gt;= 2.3):</p>\n<ul>\n<li><p>TensorFlow Model: <strong>SSD model with fixed_shape_resizer of 320 x 320</strong> <br />\n(In my case, SSD MobileNet v2 320x320 works perfectly fine)\n(The tensors output has to be 4)</p>\n</li>\n<li><p><strong>Colab</strong> ( Perfect for model training and conversion) <br />\n( I've tried to perform the training and conversion on both Linux and Windows platform on my local machine, the incompatibility of different tools and package gives me a headache. I turned out using Colab to perform the training and conversion. It is much more powerful and has great compatibility with those training tools and script.)</p>\n</li>\n<li><p>The <a href=\"https://stackoverflow.com/questions/64097085/issue-in-creating-tflite-model-populated-with-metadata-for-object-detection/64493506#64493506\"><strong>metadata writer library</strong></a> that was written by <a href=\"https://github.com/lu-wang-g\" rel=\"nofollow noreferrer\">@lu-wang-g</a> <br />\n(In my case, after converting the trained model to .tflite, if you directly migrate the .tflite model to the Android application, the application will report tons of problem regarding the config of the .tflite model. Assume if you trained and converted the model correctly, all you need is the metadata writer library above. It will automatically configure the metadata for you according to the .tflite model. Then you can directly migrate the model to the application.)</p>\n</li>\n</ul>\n<p>For detail, please visit my GitHub issue: <br />\n<a href=\"https://github.com/tensorflow/tensorflow/issues/47595\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/tensorflow/issues/47595</a></p>\n"},{"tags":[],"owner":{"account_id":26857397,"reputation":1,"user_id":20441488,"display_name":"Petr Rybakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667840097,"creation_date":1667833879,"answer_id":74348786,"question_id":66488745,"body_markdown":"For those who will stumble on this problem/question later: limitations on the number of output tensors are part of Tensorflow Lite Object Detection API specification described [here][1]\r\nI don&#39;t know how to make a model compatible with this requirements yet, but will append my answer if/when I will figure that out.\r\n\r\n**UPDATE**\r\n\r\n[Here][2] is the official Google Colab with an example of a model conversion. The interesting part is that script call:\r\n```\r\npython models/research/object_detection/export_tflite_graph_tf2.py \\\r\n    --trained_checkpoint_dir {&#39;ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8/checkpoint&#39;} \\\r\n    --output_directory {&#39;ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8/tflite&#39;} \\\r\n    --pipeline_config_path {&#39;ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8/pipeline.config&#39;}\r\n```\r\nThe script doesn&#39;t convert your model, but makes the model compatible with TFLite in terms of used operations and inputs/outputs format. \r\nA comment inside the script claims that only SSD meta-architectures are supported (also stated [here](https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/running_on_mobile_tf2.md)). Also in the same directory of the repo where this script comes from there are other scripts that seem to be doing similar things, though no clear description given.\r\n\r\n\r\n  [1]: https://www.tensorflow.org/lite/inference_with_metadata/task_library/object_detector#model_compatibility_requirements\r\n  [2]: https://colab.research.google.com/github/tensorflow/models/blob/master/research/object_detection/colab_tutorials/convert_odt_model_to_TFLite.ipynb\r\n","title":"Tensorflow Lite Android Object Detection -- Mobile SSD models are expected to have exactly 4 outputs, found 8","body":"<p>For those who will stumble on this problem/question later: limitations on the number of output tensors are part of Tensorflow Lite Object Detection API specification described <a href=\"https://www.tensorflow.org/lite/inference_with_metadata/task_library/object_detector#model_compatibility_requirements\" rel=\"nofollow noreferrer\">here</a>\nI don't know how to make a model compatible with this requirements yet, but will append my answer if/when I will figure that out.</p>\n<p><strong>UPDATE</strong></p>\n<p><a href=\"https://colab.research.google.com/github/tensorflow/models/blob/master/research/object_detection/colab_tutorials/convert_odt_model_to_TFLite.ipynb\" rel=\"nofollow noreferrer\">Here</a> is the official Google Colab with an example of a model conversion. The interesting part is that script call:</p>\n<pre><code>python models/research/object_detection/export_tflite_graph_tf2.py \\\n    --trained_checkpoint_dir {'ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8/checkpoint'} \\\n    --output_directory {'ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8/tflite'} \\\n    --pipeline_config_path {'ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8/pipeline.config'}\n</code></pre>\n<p>The script doesn't convert your model, but makes the model compatible with TFLite in terms of used operations and inputs/outputs format.\nA comment inside the script claims that only SSD meta-architectures are supported (also stated <a href=\"https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/running_on_mobile_tf2.md\" rel=\"nofollow noreferrer\">here</a>). Also in the same directory of the repo where this script comes from there are other scripts that seem to be doing similar things, though no clear description given.</p>\n"}],"owner":{"account_id":20876281,"reputation":41,"user_id":15334979,"display_name":"Alex1338"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3464,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66595929,"answer_count":2,"score":2,"last_activity_date":1667840097,"creation_date":1614930885,"question_id":66488745,"body_markdown":"**PROBLEM ENCOUNTERED:**\r\n\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: org.tensorflow.lite.examples.detection, PID: 14719\r\n    java.lang.AssertionError: Error occurred when initializing ObjectDetector: Mobile SSD models are expected to have exactly 4 outputs, found 8\r\n\r\n**Problem Description**\r\n\r\n - Android Application Source: TensorFlow Lite Object Detection Example from Google\r\n - Error shown when starting the Example Application\r\n\r\n**Model Description**\r\n\r\n - Custom Model Used? **YES**\r\n\r\n - Pre-trained Model Used: ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8\r\n\r\n - Inference type: FLOAT\r\n\r\n - Number of classes: 4\r\n\r\n\r\n**System Information**\r\n\r\n - OS Platform and Distribution: ( Linux Ubuntu 20.14)\r\n - TensorFlow Version: 2.4.1\r\n - TensorFlow installed from: Pip\r\n\r\n \r\n\r\n**Saved Model conversion commands used:**\r\n\r\n**1. Saved_Model.pb export:**\r\n&gt; python ./exporter_main_v2.py    \r\n--input_type image_tensor \\\r\n--pipeline_config_path ./models/ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8/pipeline.config \\\r\n--trained_checkpoint_dir ./models/ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8 \\\r\n--output_directory exported_models/tflite\r\n\r\n**2. Convert saved model (.pb) to tflite**\r\n\r\n&gt; toco \\\r\n--saved_model_dir ./exported-models/tflite/saved_model \\\r\n--emit-select-tf-ops true \\\r\n--allow_custom_ops \\\r\n--graph_def_file ./exported-models/tflite/saved_model/saved_model.pb \\\r\n--output_file ./exported-models/tflite/tflite/detect.tflite  \\\r\n--input_shapes 1,300,300,3 \\\r\n--input_arrays normalized_input_image_tensor \\\r\n--output_arrays &#39;TFLite_Detection_PostProcess’,’TFLite_Detection_PostProcess:1&#39;,&#39;TFLite_Detection_PostProcess:2&#39;,&#39;TFLite_Detection_PostProcess:3&#39; \\\r\n--inference_type=FLOAT \\\r\n--allow_custom_ops\r\n\r\n**Remarks**\r\nI am trying to use a trained custom model on the Google TensorFlow lite provided example. Just that every time I open the application, it returns such an error,  Mobile SSD models are expected to have exactly 4 outputs, found 8. The model is trained to identify 4 classes, all stated in the labelmap.txt and pipeline config.\r\n\r\n**Does anybody have any clue about this error?** ","title":"Tensorflow Lite Android Object Detection -- Mobile SSD models are expected to have exactly 4 outputs, found 8","body":"<p><strong>PROBLEM ENCOUNTERED:</strong></p>\n<blockquote>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: org.tensorflow.lite.examples.detection, PID: 14719\njava.lang.AssertionError: Error occurred when initializing ObjectDetector: Mobile SSD models are expected to have exactly 4 outputs, found 8</p>\n</blockquote>\n<p><strong>Problem Description</strong></p>\n<ul>\n<li>Android Application Source: TensorFlow Lite Object Detection Example from Google</li>\n<li>Error shown when starting the Example Application</li>\n</ul>\n<p><strong>Model Description</strong></p>\n<ul>\n<li><p>Custom Model Used? <strong>YES</strong></p>\n</li>\n<li><p>Pre-trained Model Used: ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8</p>\n</li>\n<li><p>Inference type: FLOAT</p>\n</li>\n<li><p>Number of classes: 4</p>\n</li>\n</ul>\n<p><strong>System Information</strong></p>\n<ul>\n<li>OS Platform and Distribution: ( Linux Ubuntu 20.14)</li>\n<li>TensorFlow Version: 2.4.1</li>\n<li>TensorFlow installed from: Pip</li>\n</ul>\n<p><strong>Saved Model conversion commands used:</strong></p>\n<p><strong>1. Saved_Model.pb export:</strong></p>\n<blockquote>\n<p>python ./exporter_main_v2.py<br />\n--input_type image_tensor <br />\n--pipeline_config_path ./models/ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8/pipeline.config <br />\n--trained_checkpoint_dir ./models/ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8 <br />\n--output_directory exported_models/tflite</p>\n</blockquote>\n<p><strong>2. Convert saved model (.pb) to tflite</strong></p>\n<blockquote>\n<p>toco <br />\n--saved_model_dir ./exported-models/tflite/saved_model <br />\n--emit-select-tf-ops true <br />\n--allow_custom_ops <br />\n--graph_def_file ./exported-models/tflite/saved_model/saved_model.pb <br />\n--output_file ./exported-models/tflite/tflite/detect.tflite  <br />\n--input_shapes 1,300,300,3 <br />\n--input_arrays normalized_input_image_tensor <br />\n--output_arrays 'TFLite_Detection_PostProcess’,’TFLite_Detection_PostProcess:1','TFLite_Detection_PostProcess:2','TFLite_Detection_PostProcess:3' <br />\n--inference_type=FLOAT <br />\n--allow_custom_ops</p>\n</blockquote>\n<p><strong>Remarks</strong>\nI am trying to use a trained custom model on the Google TensorFlow lite provided example. Just that every time I open the application, it returns such an error,  Mobile SSD models are expected to have exactly 4 outputs, found 8. The model is trained to identify 4 classes, all stated in the labelmap.txt and pipeline config.</p>\n<p><strong>Does anybody have any clue about this error?</strong></p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","transactions"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1662661754,"post_id":73653572,"comment_id":130063760,"body_markdown":"Do not use entity classes in your API. It is very bad architecture and leeds to such problems.","body":"Do not use entity classes in your API. It is very bad architecture and leeds to such problems."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1662661779,"post_id":73653572,"comment_id":130063774,"body_markdown":"BTW: Take care of java naming conventions. package names should be lower case","body":"BTW: Take care of java naming conventions. package names should be lower case"},{"owner":{"account_id":19818900,"reputation":69,"user_id":14515935,"display_name":"MyProblems"},"score":0,"creation_date":1662661884,"post_id":73653572,"comment_id":130063803,"body_markdown":"ok, thanks for the tips! I&#39;m gonna  refactor to use DTO&#39;s after we figure out what problem is...","body":"ok, thanks for the tips! I&#39;m gonna  refactor to use DTO&#39;s after we figure out what problem is..."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1662661913,"post_id":73653572,"comment_id":130063815,"body_markdown":"You should do it first, maybe the problem is solved than ?","body":"You should do it first, maybe the problem is solved than ?"},{"owner":{"account_id":14714876,"reputation":56,"user_id":12008627,"display_name":"stephenisau"},"score":1,"creation_date":1662668080,"post_id":73653572,"comment_id":130065572,"body_markdown":"The null pointer exception seems to indicate it&#39;s an incorrect method call somewhere. \nhttps://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html","body":"The null pointer exception seems to indicate it&#39;s an incorrect method call somewhere.  <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26258258,"reputation":56,"user_id":19929993,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662692068,"creation_date":1662692068,"answer_id":73656871,"question_id":73653572,"body_markdown":"In this line, you get an Category object, make sure it has &quot;categoryId&quot; field **not null**\r\n```\r\nResponseEntity&lt;Category&gt; category1 = callingOthers.getCategory(category);\r\n```\r\n\r\nThe database representation needs to be consistent with what is mapped.\r\n\r\nHibernate only allows unsaved entities to have a non-null version.\r\n\r\nCheck [this][1]\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-3030?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aall-tabpanel","title":"Could not commit JPA transaction / Error while committing the transaction / NullPointerException","body":"<p>In this line, you get an Category object, make sure it has &quot;categoryId&quot; field <strong>not null</strong></p>\n<pre><code>ResponseEntity&lt;Category&gt; category1 = callingOthers.getCategory(category);\n</code></pre>\n<p>The database representation needs to be consistent with what is mapped.</p>\n<p>Hibernate only allows unsaved entities to have a non-null version.</p>\n<p>Check <a href=\"https://hibernate.atlassian.net/browse/HHH-3030?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aall-tabpanel\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"tags":[],"owner":{"account_id":16433551,"reputation":440,"user_id":11871733,"display_name":"Obot Ernest"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667839784,"creation_date":1667578784,"answer_id":74320050,"question_id":73653572,"body_markdown":"ULTIMTATE SOLUTION\r\n\r\nFollowing the error given     \r\n\r\n`...at com.balabasciuc.shoppingprojectwithhibernate.StoreModule.Service.StoreService.addCategory(StoreService.java:73)\r\n...`\r\n\r\nSimply add\r\n\r\n    @Transactional(readOnly = true)\r\nto the service method\r\n\r\ne.g \r\n\r\n    @Transactional(readOnly = true)\r\n    public Store addCategory(String storeType, String category) {...}\r\n\r\n**Note: this solution applies to any service method that is giving the error.**\r\n\r\n","title":"Could not commit JPA transaction / Error while committing the transaction / NullPointerException","body":"<p>ULTIMTATE SOLUTION</p>\n<p>Following the error given</p>\n<p><code>...at com.balabasciuc.shoppingprojectwithhibernate.StoreModule.Service.StoreService.addCategory(StoreService.java:73) ...</code></p>\n<p>Simply add</p>\n<pre><code>@Transactional(readOnly = true)\n</code></pre>\n<p>to the service method</p>\n<p>e.g</p>\n<pre><code>@Transactional(readOnly = true)\npublic Store addCategory(String storeType, String category) {...}\n</code></pre>\n<p><strong>Note: this solution applies to any service method that is giving the error.</strong></p>\n"}],"owner":{"account_id":19818900,"reputation":69,"user_id":14515935,"display_name":"MyProblems"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7221,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1667839784,"creation_date":1662661510,"question_id":73653572,"body_markdown":"After a couple of hours trying to debug and trying solutions from this site, i need help\r\n\r\nI have 2 microservices who communicate between them using RestTemplate\r\n\r\nA Store Service and a Category Service, and when i&#39;m trying to add Categories to Store, i got error, thing is, i don&#39;t use @Transactional for these methods, and i don&#39;t know from where i got that NullPointerException because if i do a GET Request separately on Entities, i get those values correctly, but when to link them, error.... what to do?\r\n\r\nIf i do with try catch, the result returned is correct, but in console, the error ramains the same\r\n\r\nCategory:\r\n\r\n    @Entity\r\n    @org.hibernate.annotations.DynamicInsert\r\n    @org.hibernate.annotations.DynamicUpdate\r\n    @Access(AccessType.FIELD)\r\n    @org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n    public class Category {\r\n    \r\n        @Id\r\n        @SequenceGenerator(name = &quot;category_generator&quot;, sequenceName = &quot;CATEGORY_GENERATOR_ID&quot;)\r\n        @GeneratedValue(generator = &quot;category_generator&quot;)\r\n        @Column(name = &quot;CATEGORY_ID&quot;)\r\n        private Long categoryId;\r\n    \r\n        @Version\r\n        private Long categoryVersion;\r\n    \r\n        @Embedded\r\n        @AttributeOverrides({@AttributeOverride(name = &quot;descriptionName&quot;, column = @Column(name = &quot;CATEGORY_NAME&quot;, nullable = false)),\r\n                @AttributeOverride(name = &quot;descriptionAbout&quot;, column = @Column(name = &quot;CATEGORY_DESCRIPTION&quot;, nullable = false))})\r\n        @Valid\r\n        private Description categoryDescription;\r\n    \r\n      \r\n        protected Category() {\r\n        }\r\n    \r\n        public Category(Description categoryDescription) {\r\n            this.categoryDescription = categoryDescription;\r\n        }\r\n    \r\n        public Long getCategoryId() {\r\n            return categoryId;\r\n        }\r\n    \r\n        public Description getCategoryDescription() {\r\n            return categoryDescription;\r\n        }\r\n    \r\n        public void setCategoryDescription(Description categoryDescription) {\r\n            this.categoryDescription = categoryDescription;\r\n        }\r\n    \r\n     \r\n    \r\n    }\r\n\r\n\r\nCategory Service:\r\n\r\n    @Service\r\n    @Validated\r\n    public class CategoryService {\r\n    \r\n        private final CategoryRepository categoryRepository;\r\n        private final CallingFromCategory callingFromCategoryTo;\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n    \r\n        @Autowired\r\n        public CategoryService(CategoryRepository categoryRepository, CallingFromCategory callingFromCategoryTo) {\r\n            this.categoryRepository = categoryRepository;\r\n            this.callingFromCategoryTo = callingFromCategoryTo;\r\n        }\r\n    \r\n        public void createCategory(@Valid Category category) {\r\n            categoryRepository.save(category);\r\n        }\r\n    \r\n        public Category findCategoryById(@Min(1) Long categoryId) {\r\n    \r\n            return categoryRepository.findById(categoryId).orElseThrow(() -&gt; new CategoryNotFoundException(&quot;We don&#39;t have that Category&quot;));\r\n        }\r\n    \r\n        public Category getCategoryByName(@NotBlank String categoryName) {\r\n            Optional&lt;Category&gt; category = Optional.ofNullable(categoryRepository.getCategoryByCategoryDescription_DescriptionName(categoryName));\r\n            if(category.isPresent())\r\n            {\r\n                return category.get();\r\n            }\r\n            else\r\n            {\r\n                throw new CategoryNotFoundException(&quot;sorry bout that&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nCategory Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/categories&quot;)\r\n    public class CategoryController {\r\n    \r\n        private final CategoryService categoryService;\r\n    \r\n        @Autowired\r\n        public CategoryController(CategoryService categoryService) {\r\n            this.categoryService = categoryService;\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/createCategory&quot;)\r\n        public ResponseEntity&lt;String&gt; createCategory(@RequestBody Category category) {\r\n            categoryService.createCategory(category);\r\n            return ResponseEntity.status(HttpStatus.CREATED)\r\n                    .header(&quot;Category&quot;, &quot;CREATED&quot;)\r\n                    .body(&quot;Category was created!&quot;);\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/{categoryId}&quot;)\r\n        public ResponseEntity&lt;Category&gt; getCategoryBy(@PathVariable Long categoryId) {\r\n            return ResponseEntity.status(HttpStatus.FOUND)\r\n                    .header(&quot;Category Entity&quot;, &quot;FOUND&quot;)\r\n                    .body(categoryService.findCategoryById(categoryId));\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/projections/{categoryId}&quot;)\r\n        List&lt;CategoryProjections.DescriptionOnly&gt; findCategories(@PathVariable Long categoryId) {\r\n            return categoryService.findByCategoryDescription(categoryId);\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/name/{categoryName}&quot;, produces = &quot;APPLICATION/JSON&quot;)\r\n        public ResponseEntity&lt;Category&gt; getCategoryByName(@PathVariable String categoryName) {\r\n            return ResponseEntity.status(HttpStatus.FOUND)\r\n                    .header(&quot;Category name is &quot;, categoryName.toString())\r\n                    .body(categoryService.getCategoryByName(categoryName));\r\n        }\r\n\r\n\r\nStore Entity:\r\n\r\n    @Entity\r\n    @org.hibernate.annotations.DynamicInsert\r\n    @org.hibernate.annotations.DynamicUpdate\r\n    @Access(AccessType.FIELD)\r\n    @org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n    public class Store {\r\n    \r\n        @Id\r\n        @GeneratedValue(generator = &quot;STORE_ID_GENERATOR&quot;) //pre insert added values on id\r\n        @Column(name = &quot;STORE_ID&quot;, unique = true, updatable = false)\r\n        private Long storeId;\r\n    \r\n        @Embedded @NotNull\r\n        @Column(nullable = false)\r\n        @AttributeOverrides({@AttributeOverride(name = &quot;locationCity&quot;, column = @Column(name = &quot;STORE_LOCATION_CITY&quot;)),\r\n        @AttributeOverride(name = &quot;locationCountry&quot;, column = @Column(name = &quot;STORE_LOCATION_COUNTRY&quot;)),\r\n        @AttributeOverride(name = &quot;locationZipCode.zipCode&quot;, column = @Column(name = &quot;STORE_LOCATION_ZIPCODE&quot;))})\r\n        @Valid\r\n        private Location storeLocation;\r\n    \r\n        @NotBlank\r\n        private String storeName;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private StoreType storeType;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        //unidirectional\r\n        @OneToMany(fetch = FetchType.LAZY, orphanRemoval = true, cascade = CascadeType.PERSIST)\r\n     //   @org.hibernate.annotations.OnDelete(action = OnDeleteAction.CASCADE)\r\n        @JoinColumn(name = &quot;CATEGORY_STORE_ID&quot;)\r\n        @NotNull\r\n        private Set&lt;Category&gt; categorySet = new HashSet&lt;&gt;(); // we don&#39;t want duplicate categories in our store\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        protected Store() {}\r\n    \r\n        //i initialized associations early\r\n        public Store(Location storeLocation, String storeType, String storeName) {\r\n            this.storeLocation = storeLocation;\r\n            this.storeType = Enum.valueOf(StoreType.class, storeType);\r\n            this.storeName = storeName;\r\n        }\r\n    \r\n        public Long getStoreId() {\r\n            return storeId;\r\n        }\r\n    \r\n        public Location getStoreLocation() {\r\n            return storeLocation;\r\n        }\r\n    \r\n        public void setStoreLocation(Location storeLocation) {\r\n            this.storeLocation = storeLocation;\r\n        }\r\n    \r\n        public Set&lt;Category&gt; getCategorySet() {\r\n            return categorySet;\r\n        }\r\n    \r\n        public void setCategorySet(Set&lt;Category&gt; categorySet) {\r\n            this.categorySet = categorySet;\r\n        }\r\n    \r\n        \r\n    \r\n        public String getStoreName() {\r\n            return storeName;\r\n        }\r\n    \r\n        public void setStoreName(String storeName) {\r\n            this.storeName = storeName;\r\n        }\r\n    \r\n        public StoreType getStoreType() {\r\n            return storeType;\r\n        }\r\n    \r\n        public void setStoreType(StoreType storeType) {\r\n            this.storeType = storeType;\r\n        }\r\n    \r\n    \r\n    \r\n       \r\n    \r\n    \r\n        public void add(@NotNull Category category)\r\n        {\r\n            this.categorySet.add(category);\r\n        }\r\n    }\r\n\r\n\r\nStore Service:\r\n\r\n    @Service\r\n    @Validated\r\n    public class StoreService {\r\n    \r\n        @Autowired\r\n        private final StoreRepository storeRepository;\r\n    \r\n        @Autowired private CallingOthers callingOthers;\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n    \r\n        @Autowired\r\n        public StoreService(StoreRepository storeRepository) {\r\n            this.storeRepository = storeRepository;\r\n        }\r\n    \r\n        public void save(@Valid Store store)\r\n        {\r\n            storeRepository.save(store);\r\n        }\r\n    \r\n        public Store getStore(@NotNull String storeType) {\r\n            return storeRepository.getStoreByStoreType(StoreType.valueOf(storeType));\r\n    \r\n        }\r\n    \r\n        public Store addCategory(String storeType, String category) {\r\n            Store store = getStore(storeType);\r\n            ResponseEntity&lt;Category&gt; category1 = callingOthers.getCategory(category);\r\n         //   System.out.println(category1.getBody().getPromotion().getPromotionSeason().isSeason());\r\n    \r\n    \r\n         //   store.getCategorySet().forEach(element -&gt; System.out.println(element.getPromotion().getPromotionSeason()));\r\n            store.add(category1.getBody());\r\n       //     store.getCategorySet().forEach(element -&gt; System.out.println(element.getPromotion().getPromotionSeason()));\r\n    \r\n            Session session = entityManager.unwrap(Session.class);\r\n            session.update(category1.getBody());\r\n            try {\r\n    \r\n                storeRepository.save(store);\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                ex.getCause();\r\n                ex.getStackTrace();\r\n                ex.printStackTrace();\r\n            }\r\n            return getStore(storeType);\r\n    \r\n        }\r\n    \r\n        public Store getStoreByStoreName(@NotBlank String storeName)\r\n        {\r\n            Optional&lt;Store&gt; storeOptional = Optional.ofNullable(storeRepository.getStoreByStoreName(storeName));\r\n            return storeOptional.orElseThrow(StoreNotFoundException::new);\r\n        }    \r\n    }\r\n\r\n\r\nStore Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/store&quot;)\r\n    public class StoreController {\r\n    \r\n        private final StoreService storeService;\r\n    \r\n        @Autowired\r\n        public StoreController(StoreService storeService) {\r\n            this.storeService = storeService;\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/createStore&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public void createStore(@RequestBody Store store)\r\n        {\r\n            storeService.save(store);\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/{storeType}&quot;)\r\n        public Store getStore(@PathVariable(&quot;storeType&quot;) String storeType)\r\n        {\r\n            return storeService.getStore(storeType);\r\n        }\r\n    \r\n        @GetMapping(value = &quot;getStoreByName/{storeName}&quot;)\r\n        public Store getStoreByName(@PathVariable String storeName)\r\n        {\r\n            return storeService.getStoreByStoreName(storeName);\r\n        }\r\n    \r\n    \r\n        @GetMapping(value = &quot;/addCategory/{storeType}/{category}&quot;)\r\n        public Store addCategoryToStore(@PathVariable(&quot;storeType&quot;) String storeType, @PathVariable (&quot;category&quot;) String category)\r\n        {\r\n            return storeService.addCategory(storeType, category);\r\n    \r\n        }\r\n    }\r\n\r\nRestTemplate Utility class:\r\n\r\n    @Component\r\n    public class CallingOthers {\r\n    \r\n        @Autowired\r\n        private RestTemplate restTemplate;\r\n    \r\n        public ResponseEntity&lt;Category&gt; getCategory(String categoryName)\r\n        {\r\n            return restTemplate.getForEntity(&quot;http://localhost:8080/categories/name/&quot;+categoryName, Category.class);\r\n        }\r\n    }\r\n\r\n\r\nStack Error Trace:\r\n\r\n    ERROR 3984 --- [nio-8080-exec-5] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [null]\r\n    org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n    \tat com.sun.proxy.$Proxy129.save(Unknown Source)\r\n    \tat com.balabasciuc.shoppingprojectwithhibernate.StoreModule.Service.StoreService.addCategory(StoreService.java:73)\r\n    \tat com.balabasciuc.shoppingprojectwithhibernate.StoreModule.Service.StoreService$$FastClassBySpringCGLIB$$30a072fa.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n    \tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n    \tat com.shoppingprojectwithhibernate.StoreModule.Service.StoreService$$EnhancerBySpringCGLIB$$f20a164c.addCategory(&lt;generated&gt;)\r\n    \tat com.shoppingprojectwithhibernate.StoreModule.Controller.StoreController.addCategoryToStore(StoreController.java:42)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: javax.persistence.RollbackException: Error while committing the transaction\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:75)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:71)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\r\n    \t... 76 more\r\n    Caused by: java.lang.NullPointerException\r\n    \tat org.hibernate.type.LongType.next(LongType.java:62)\r\n    \tat org.hibernate.type.LongType.next(LongType.java:23)\r\n    \tat org.hibernate.engine.internal.Versioning.increment(Versioning.java:92)\r\n    \tat org.hibernate.event.internal.DefaultFlushEntityEventListener.getNextVersion(DefaultFlushEntityEventListener.java:379)\r\n    \tat org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:275)\r\n    \tat org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:143)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:216)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:85)\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:38)\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1428)\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:484)\r\n    \tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3190)\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2404)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:467)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:146)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:220)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68)\r\n    \t... 77 more\r\n\r\n","title":"Could not commit JPA transaction / Error while committing the transaction / NullPointerException","body":"<p>After a couple of hours trying to debug and trying solutions from this site, i need help</p>\n<p>I have 2 microservices who communicate between them using RestTemplate</p>\n<p>A Store Service and a Category Service, and when i'm trying to add Categories to Store, i got error, thing is, i don't use @Transactional for these methods, and i don't know from where i got that NullPointerException because if i do a GET Request separately on Entities, i get those values correctly, but when to link them, error.... what to do?</p>\n<p>If i do with try catch, the result returned is correct, but in console, the error ramains the same</p>\n<p>Category:</p>\n<pre><code>@Entity\n@org.hibernate.annotations.DynamicInsert\n@org.hibernate.annotations.DynamicUpdate\n@Access(AccessType.FIELD)\n@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class Category {\n\n    @Id\n    @SequenceGenerator(name = &quot;category_generator&quot;, sequenceName = &quot;CATEGORY_GENERATOR_ID&quot;)\n    @GeneratedValue(generator = &quot;category_generator&quot;)\n    @Column(name = &quot;CATEGORY_ID&quot;)\n    private Long categoryId;\n\n    @Version\n    private Long categoryVersion;\n\n    @Embedded\n    @AttributeOverrides({@AttributeOverride(name = &quot;descriptionName&quot;, column = @Column(name = &quot;CATEGORY_NAME&quot;, nullable = false)),\n            @AttributeOverride(name = &quot;descriptionAbout&quot;, column = @Column(name = &quot;CATEGORY_DESCRIPTION&quot;, nullable = false))})\n    @Valid\n    private Description categoryDescription;\n\n  \n    protected Category() {\n    }\n\n    public Category(Description categoryDescription) {\n        this.categoryDescription = categoryDescription;\n    }\n\n    public Long getCategoryId() {\n        return categoryId;\n    }\n\n    public Description getCategoryDescription() {\n        return categoryDescription;\n    }\n\n    public void setCategoryDescription(Description categoryDescription) {\n        this.categoryDescription = categoryDescription;\n    }\n\n \n\n}\n</code></pre>\n<p>Category Service:</p>\n<pre><code>@Service\n@Validated\npublic class CategoryService {\n\n    private final CategoryRepository categoryRepository;\n    private final CallingFromCategory callingFromCategoryTo;\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n\n    @Autowired\n    public CategoryService(CategoryRepository categoryRepository, CallingFromCategory callingFromCategoryTo) {\n        this.categoryRepository = categoryRepository;\n        this.callingFromCategoryTo = callingFromCategoryTo;\n    }\n\n    public void createCategory(@Valid Category category) {\n        categoryRepository.save(category);\n    }\n\n    public Category findCategoryById(@Min(1) Long categoryId) {\n\n        return categoryRepository.findById(categoryId).orElseThrow(() -&gt; new CategoryNotFoundException(&quot;We don't have that Category&quot;));\n    }\n\n    public Category getCategoryByName(@NotBlank String categoryName) {\n        Optional&lt;Category&gt; category = Optional.ofNullable(categoryRepository.getCategoryByCategoryDescription_DescriptionName(categoryName));\n        if(category.isPresent())\n        {\n            return category.get();\n        }\n        else\n        {\n            throw new CategoryNotFoundException(&quot;sorry bout that&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Category Controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/categories&quot;)\npublic class CategoryController {\n\n    private final CategoryService categoryService;\n\n    @Autowired\n    public CategoryController(CategoryService categoryService) {\n        this.categoryService = categoryService;\n    }\n\n    @PostMapping(value = &quot;/createCategory&quot;)\n    public ResponseEntity&lt;String&gt; createCategory(@RequestBody Category category) {\n        categoryService.createCategory(category);\n        return ResponseEntity.status(HttpStatus.CREATED)\n                .header(&quot;Category&quot;, &quot;CREATED&quot;)\n                .body(&quot;Category was created!&quot;);\n    }\n\n    @GetMapping(value = &quot;/{categoryId}&quot;)\n    public ResponseEntity&lt;Category&gt; getCategoryBy(@PathVariable Long categoryId) {\n        return ResponseEntity.status(HttpStatus.FOUND)\n                .header(&quot;Category Entity&quot;, &quot;FOUND&quot;)\n                .body(categoryService.findCategoryById(categoryId));\n    }\n\n    @GetMapping(value = &quot;/projections/{categoryId}&quot;)\n    List&lt;CategoryProjections.DescriptionOnly&gt; findCategories(@PathVariable Long categoryId) {\n        return categoryService.findByCategoryDescription(categoryId);\n    }\n\n    @GetMapping(value = &quot;/name/{categoryName}&quot;, produces = &quot;APPLICATION/JSON&quot;)\n    public ResponseEntity&lt;Category&gt; getCategoryByName(@PathVariable String categoryName) {\n        return ResponseEntity.status(HttpStatus.FOUND)\n                .header(&quot;Category name is &quot;, categoryName.toString())\n                .body(categoryService.getCategoryByName(categoryName));\n    }\n</code></pre>\n<p>Store Entity:</p>\n<pre><code>@Entity\n@org.hibernate.annotations.DynamicInsert\n@org.hibernate.annotations.DynamicUpdate\n@Access(AccessType.FIELD)\n@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class Store {\n\n    @Id\n    @GeneratedValue(generator = &quot;STORE_ID_GENERATOR&quot;) //pre insert added values on id\n    @Column(name = &quot;STORE_ID&quot;, unique = true, updatable = false)\n    private Long storeId;\n\n    @Embedded @NotNull\n    @Column(nullable = false)\n    @AttributeOverrides({@AttributeOverride(name = &quot;locationCity&quot;, column = @Column(name = &quot;STORE_LOCATION_CITY&quot;)),\n    @AttributeOverride(name = &quot;locationCountry&quot;, column = @Column(name = &quot;STORE_LOCATION_COUNTRY&quot;)),\n    @AttributeOverride(name = &quot;locationZipCode.zipCode&quot;, column = @Column(name = &quot;STORE_LOCATION_ZIPCODE&quot;))})\n    @Valid\n    private Location storeLocation;\n\n    @NotBlank\n    private String storeName;\n\n    @Enumerated(EnumType.STRING)\n    private StoreType storeType;\n\n\n\n\n\n    //unidirectional\n    @OneToMany(fetch = FetchType.LAZY, orphanRemoval = true, cascade = CascadeType.PERSIST)\n //   @org.hibernate.annotations.OnDelete(action = OnDeleteAction.CASCADE)\n    @JoinColumn(name = &quot;CATEGORY_STORE_ID&quot;)\n    @NotNull\n    private Set&lt;Category&gt; categorySet = new HashSet&lt;&gt;(); // we don't want duplicate categories in our store\n\n\n\n\n\n\n    protected Store() {}\n\n    //i initialized associations early\n    public Store(Location storeLocation, String storeType, String storeName) {\n        this.storeLocation = storeLocation;\n        this.storeType = Enum.valueOf(StoreType.class, storeType);\n        this.storeName = storeName;\n    }\n\n    public Long getStoreId() {\n        return storeId;\n    }\n\n    public Location getStoreLocation() {\n        return storeLocation;\n    }\n\n    public void setStoreLocation(Location storeLocation) {\n        this.storeLocation = storeLocation;\n    }\n\n    public Set&lt;Category&gt; getCategorySet() {\n        return categorySet;\n    }\n\n    public void setCategorySet(Set&lt;Category&gt; categorySet) {\n        this.categorySet = categorySet;\n    }\n\n    \n\n    public String getStoreName() {\n        return storeName;\n    }\n\n    public void setStoreName(String storeName) {\n        this.storeName = storeName;\n    }\n\n    public StoreType getStoreType() {\n        return storeType;\n    }\n\n    public void setStoreType(StoreType storeType) {\n        this.storeType = storeType;\n    }\n\n\n\n   \n\n\n    public void add(@NotNull Category category)\n    {\n        this.categorySet.add(category);\n    }\n}\n</code></pre>\n<p>Store Service:</p>\n<pre><code>@Service\n@Validated\npublic class StoreService {\n\n    @Autowired\n    private final StoreRepository storeRepository;\n\n    @Autowired private CallingOthers callingOthers;\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n\n    @Autowired\n    public StoreService(StoreRepository storeRepository) {\n        this.storeRepository = storeRepository;\n    }\n\n    public void save(@Valid Store store)\n    {\n        storeRepository.save(store);\n    }\n\n    public Store getStore(@NotNull String storeType) {\n        return storeRepository.getStoreByStoreType(StoreType.valueOf(storeType));\n\n    }\n\n    public Store addCategory(String storeType, String category) {\n        Store store = getStore(storeType);\n        ResponseEntity&lt;Category&gt; category1 = callingOthers.getCategory(category);\n     //   System.out.println(category1.getBody().getPromotion().getPromotionSeason().isSeason());\n\n\n     //   store.getCategorySet().forEach(element -&gt; System.out.println(element.getPromotion().getPromotionSeason()));\n        store.add(category1.getBody());\n   //     store.getCategorySet().forEach(element -&gt; System.out.println(element.getPromotion().getPromotionSeason()));\n\n        Session session = entityManager.unwrap(Session.class);\n        session.update(category1.getBody());\n        try {\n\n            storeRepository.save(store);\n        }\n        catch (Exception ex)\n        {\n            ex.getCause();\n            ex.getStackTrace();\n            ex.printStackTrace();\n        }\n        return getStore(storeType);\n\n    }\n\n    public Store getStoreByStoreName(@NotBlank String storeName)\n    {\n        Optional&lt;Store&gt; storeOptional = Optional.ofNullable(storeRepository.getStoreByStoreName(storeName));\n        return storeOptional.orElseThrow(StoreNotFoundException::new);\n    }    \n}\n</code></pre>\n<p>Store Controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/store&quot;)\npublic class StoreController {\n\n    private final StoreService storeService;\n\n    @Autowired\n    public StoreController(StoreService storeService) {\n        this.storeService = storeService;\n    }\n\n    @PostMapping(value = &quot;/createStore&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public void createStore(@RequestBody Store store)\n    {\n        storeService.save(store);\n    }\n\n    @GetMapping(value = &quot;/{storeType}&quot;)\n    public Store getStore(@PathVariable(&quot;storeType&quot;) String storeType)\n    {\n        return storeService.getStore(storeType);\n    }\n\n    @GetMapping(value = &quot;getStoreByName/{storeName}&quot;)\n    public Store getStoreByName(@PathVariable String storeName)\n    {\n        return storeService.getStoreByStoreName(storeName);\n    }\n\n\n    @GetMapping(value = &quot;/addCategory/{storeType}/{category}&quot;)\n    public Store addCategoryToStore(@PathVariable(&quot;storeType&quot;) String storeType, @PathVariable (&quot;category&quot;) String category)\n    {\n        return storeService.addCategory(storeType, category);\n\n    }\n}\n</code></pre>\n<p>RestTemplate Utility class:</p>\n<pre><code>@Component\npublic class CallingOthers {\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    public ResponseEntity&lt;Category&gt; getCategory(String categoryName)\n    {\n        return restTemplate.getForEntity(&quot;http://localhost:8080/categories/name/&quot;+categoryName, Category.class);\n    }\n}\n</code></pre>\n<p>Stack Error Trace:</p>\n<pre><code>ERROR 3984 --- [nio-8080-exec-5] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [null]\norg.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy129.save(Unknown Source)\n    at com.balabasciuc.shoppingprojectwithhibernate.StoreModule.Service.StoreService.addCategory(StoreService.java:73)\n    at com.balabasciuc.shoppingprojectwithhibernate.StoreModule.Service.StoreService$$FastClassBySpringCGLIB$$30a072fa.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n    at com.shoppingprojectwithhibernate.StoreModule.Service.StoreService$$EnhancerBySpringCGLIB$$f20a164c.addCategory(&lt;generated&gt;)\n    at com.shoppingprojectwithhibernate.StoreModule.Controller.StoreController.addCategoryToStore(StoreController.java:42)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: javax.persistence.RollbackException: Error while committing the transaction\n    at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:75)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:71)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\n    ... 76 more\nCaused by: java.lang.NullPointerException\n    at org.hibernate.type.LongType.next(LongType.java:62)\n    at org.hibernate.type.LongType.next(LongType.java:23)\n    at org.hibernate.engine.internal.Versioning.increment(Versioning.java:92)\n    at org.hibernate.event.internal.DefaultFlushEntityEventListener.getNextVersion(DefaultFlushEntityEventListener.java:379)\n    at org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:275)\n    at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:143)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:216)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:85)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:38)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1428)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:484)\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3190)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2404)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:467)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:146)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:220)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68)\n    ... 77 more\n</code></pre>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":15561237,"reputation":1596,"user_id":11226302,"display_name":"Shivam Puri"},"score":0,"creation_date":1667763176,"post_id":74338986,"comment_id":131239376,"body_markdown":"```Bukkit.getPlayer()``` returns a ```Player``` object. So the &quot;gibberish&quot; is actually the ```Player``` instance information. What do you exactly want to print here?","body":"<code>Bukkit.getPlayer()</code> returns a <code>Player</code> object. So the &quot;gibberish&quot; is actually the <code>Player</code> instance information. What do you exactly want to print here?"},{"owner":{"account_id":19158605,"reputation":3,"user_id":13994905,"display_name":"YoRisk"},"score":0,"creation_date":1667763328,"post_id":74338986,"comment_id":131239413,"body_markdown":"just the name of the player so for example if my mc name is abla I would like to be given the output abla. Also I cant just do Bukkit.getPlayer(...).setGamemode as of now","body":"just the name of the player so for example if my mc name is abla I would like to be given the output abla. Also I cant just do Bukkit.getPlayer(...).setGamemode as of now"},{"owner":{"account_id":19158605,"reputation":3,"user_id":13994905,"display_name":"YoRisk"},"score":0,"creation_date":1667763393,"post_id":74338986,"comment_id":131239426,"body_markdown":"it just returns null cause it tried to do that for the instance information","body":"it just returns null cause it tried to do that for the instance information"},{"owner":{"account_id":19158605,"reputation":3,"user_id":13994905,"display_name":"YoRisk"},"score":0,"creation_date":1667763462,"post_id":74338986,"comment_id":131239440,"body_markdown":"Bukkit.getPlayer(blockPlaceEvent.getItemInHand().displayName()); returns an error","body":"Bukkit.getPlayer(blockPlaceEvent.getItemInHand().displayName&zwnj;&#8203;()); returns an error"}],"answers":[{"tags":[],"owner":{"account_id":15561237,"reputation":1596,"user_id":11226302,"display_name":"Shivam Puri"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1667802224,"creation_date":1667802224,"answer_id":74342660,"question_id":74338986,"body_markdown":"As per the comments you&#39;re trying to get h the name of the player.\r\n\r\nRefer https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#getName() from the documentation.\r\n\r\nFirst get the Player object and then fetch the name from the player object.\r\n```\r\nPlayer player = Bukkit.getPlayer(String.valueOf(blockPlaceEvent.getItemInHand().displayName()));\r\n\r\nplayer.getName();\r\n```","title":"Getting an the name of an item and getting the string value returns gibberish","body":"<p>As per the comments you're trying to get h the name of the player.</p>\n<p>Refer <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#getName()\" rel=\"nofollow noreferrer\">https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#getName()</a> from the documentation.</p>\n<p>First get the Player object and then fetch the name from the player object.</p>\n<pre><code>Player player = Bukkit.getPlayer(String.valueOf(blockPlaceEvent.getItemInHand().displayName()));\n\nplayer.getName();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667804093,"creation_date":1667804093,"answer_id":74342928,"question_id":74338986,"body_markdown":"As the received [BlockPlaceEvent](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/event/block/BlockPlaceEvent.html#%3Cinit%3E(org.bukkit.block.Block,org.bukkit.block.BlockState,org.bukkit.block.Block,org.bukkit.inventory.ItemStack,org.bukkit.entity.Player,boolean,org.bukkit.inventory.EquipmentSlot)) already contains a reference to the [Player](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html) and the later has a property called [name](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#getName()) (or even [displayName](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#getDisplayName())), it should be as easy as:\r\n\r\n\r\n```java\r\n\r\n@EventHandler\r\npublic void onPlace(BlockPlaceEvent blockPlaceEvent){\r\n  blockPlaceEvent.getPlayer()\r\n    .sendMessage(blockPlaceEvent.getItemInHand().displayName());\r\n  System.out.println(blockPlaceEvent.getPlayer().getName());\r\n}\r\n```","title":"Getting an the name of an item and getting the string value returns gibberish","body":"<p>As the received <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/event/block/BlockPlaceEvent.html#%3Cinit%3E(org.bukkit.block.Block,org.bukkit.block.BlockState,org.bukkit.block.Block,org.bukkit.inventory.ItemStack,org.bukkit.entity.Player,boolean,org.bukkit.inventory.EquipmentSlot)\" rel=\"nofollow noreferrer\">BlockPlaceEvent</a> already contains a reference to the <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html\" rel=\"nofollow noreferrer\">Player</a> and the later has a property called <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#getName()\" rel=\"nofollow noreferrer\">name</a> (or even <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#getDisplayName()\" rel=\"nofollow noreferrer\">displayName</a>), it should be as easy as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@EventHandler\npublic void onPlace(BlockPlaceEvent blockPlaceEvent){\n  blockPlaceEvent.getPlayer()\n    .sendMessage(blockPlaceEvent.getItemInHand().displayName());\n  System.out.println(blockPlaceEvent.getPlayer().getName());\n}\n</code></pre>\n"}],"owner":{"account_id":19158605,"reputation":3,"user_id":13994905,"display_name":"YoRisk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74342660,"answer_count":2,"score":0,"last_activity_date":1667839129,"creation_date":1667762228,"question_id":74338986,"body_markdown":"I want to get the player whos name matches the name of the block which was placed and updated this players gamemode to survival. But this just gives me gibberish in the console: \r\n```\r\n@EventHandler\r\npublic void onPlace(BlockPlaceEvent blockPlaceEvent){\r\n    //Player ded = Bukkit.getPlayer(String.valueOf(blockPlaceEvent.getItemInHand().displayName()));- not important\r\n    //gives just the item name\r\n    blockPlaceEvent.getPlayer().sendMessage(blockPlaceEvent.getItemInHand().displayName());\r\n    //gibberish\r\n    System.out.println(Bukkit.getPlayer(String.valueOf(blockPlaceEvent.getItemInHand().displayName())));\r\n\r\n\r\n}\r\n```\r\n\r\n    [19:15:09 INFO]: [Immortality] [STDOUT] TranslatableComponentImpl{key=&quot;chat.square_brackets&quot;, args=[TextComponentImpl{content=&quot;&quot;, style=StyleImpl{obfuscated=not_set, bold=not_set, strikethrough=not_set, underlined=not_set, italic=true, color=null, clickEvent=null, hoverEvent=null, insertion=null, font=null}, children=[TextComponentImpl{content=&quot;Windows_Paride&quot;, style=StyleImpl{obfuscated=not_set, bold=not_set, strikethrough=not_set, underlined=not_set, italic=not_set, color=null, clickEvent=null, hoverEvent=null, insertion=null, font=null}, children=[]}]}], style=StyleImpl{obfuscated=not_set, bold=not_set, strikethrough=not_set, underlined=not_set, italic=not_set, color=NamedTextColor{name=&quot;yellow&quot;, value=&quot;#ffff55&quot;}, clickEvent=null, hoverEvent=HoverEvent{action=show_item, value=ShowItem{item=KeyImpl{namespace=&quot;minecraft&quot;, value=&quot;player_head&quot;}, count=1, nbt={SkullOwner:{Id:[I;1311740293,1907444130,-1719123357,-1000482567],Name:&quot;Windows_Paride&quot;,Properties:{textures:[{Signature:&quot;x3tHAiXrUDBYofKatE+CaD46u0lyjkxlab+Xg+zKNEO1GMGnjPHXsfRSl9CVp9bBLJLu3aMcd8qI/bcm+E8mqJlbHRxjzRi/7W/JOTbsWWurf32i4fgO1VqxoSWsGb6PGbtCVKI7LXm0nPu+lreVHKWbgAqaw8koadUZIu+XhS8hTeqwpuNMLcrS5Wh7ODdf7hBK/BDT67RC3y6pjmDNeznrH6k8YEHQVZszJ/RCicP9AyQmbwCppjzjubYdwwIOi7r+jLmsCVL4r03svzOuugtGoMNgDFj/Gm/dLrvsN+Hy7lggltApbUFkxnewrkvTq+/ZQVACjsVEphwd6kMnzq8lRiUjtsqpcJpmhIttyAR0y+kgWX6L9zWP/z8FOACsXjf7OJfPPOVBs3LHLrBjDKuD9fTvbhZwdzW4Nonpmqk8M9Z+Y/tXbGyINzCdbs5lbNQYRwH7ACzjUQwHi93e5dwN622VP/vBzv0Uz7g9quohzlZKyogDuiSJUpPRBzyMhxWrVneMEOzj6fGIuN/Qxx6XVi6ZfoH0WRCvYeOjOqcR426rbXzoXV6vDHV0OxvKkCv7Md1TqO9zb3jaB7ekEVY2mWiJitNMuyT8CGATMCKhimCuP+RFu1leQXVFdnaFtbviQ6HxDoVxndODzrSRfz2GJ2ZCN4atQb4MuqMUdg0=&quot;,Value:&quot;ewogICJ0aW1lc3RhbXAiIDogMTY2Nzc2MDM5NTYwNCwKICAicHJvZmlsZUlkIiA6ICI0ZTJmOTE4NTcxYjE0OWEyOTk4ODQyNjNjNDVkZDhmOSIsCiAgInByb2ZpbGVOYW1lIiA6ICJXaW5kb3dzX1BhcmlkZSIsCiAgInNpZ25hdHVyZVJlcXVpcmVkIiA6IHRydWUsCiAgInRleHR1cmVzIiA6IHsKICAgICJTS0lOIiA6IHsKICAgICAgInVybCIgOiAiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS83MzI1ODg2Y2JlZDQ3ZWI5MDk0ZWQyY2YxN2QyZWMyNGQzYzZhYmJlYzFlNDU3YjIyOTU1NzkxZjI2ZjkyZjZkIiwKICAgICAgIm1ldGFkYXRhIiA6IHsKICAgICAgICAibW9kZWwiIDogInNsaW0iCiAgICAgIH0KICAgIH0sCiAgICAiQ0FQRSIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjlhNzY1Mzc2NDc5ODlmOWEwYjZkMDAxZTMyMGRhYzU5MWMzNTllOWU2MWEzMWY0Y2UxMWM4OGYyMDdmMGFkNCIKICAgIH0KICB9Cn0=&quot;}]}},Unbreakable:1b,display:{Name:&#39;{&quot;text&quot;:&quot;Windows_Paride&quot;}&#39;}}}}, insertion=null, font=null}, children=[]}\r\n\r\nI tried doing ComponentLike etc but it returned null when I did that. \r\n","title":"Getting an the name of an item and getting the string value returns gibberish","body":"<p>I want to get the player whos name matches the name of the block which was placed and updated this players gamemode to survival. But this just gives me gibberish in the console:</p>\n<pre><code>@EventHandler\npublic void onPlace(BlockPlaceEvent blockPlaceEvent){\n    //Player ded = Bukkit.getPlayer(String.valueOf(blockPlaceEvent.getItemInHand().displayName()));- not important\n    //gives just the item name\n    blockPlaceEvent.getPlayer().sendMessage(blockPlaceEvent.getItemInHand().displayName());\n    //gibberish\n    System.out.println(Bukkit.getPlayer(String.valueOf(blockPlaceEvent.getItemInHand().displayName())));\n\n\n}\n</code></pre>\n<pre><code>[19:15:09 INFO]: [Immortality] [STDOUT] TranslatableComponentImpl{key=&quot;chat.square_brackets&quot;, args=[TextComponentImpl{content=&quot;&quot;, style=StyleImpl{obfuscated=not_set, bold=not_set, strikethrough=not_set, underlined=not_set, italic=true, color=null, clickEvent=null, hoverEvent=null, insertion=null, font=null}, children=[TextComponentImpl{content=&quot;Windows_Paride&quot;, style=StyleImpl{obfuscated=not_set, bold=not_set, strikethrough=not_set, underlined=not_set, italic=not_set, color=null, clickEvent=null, hoverEvent=null, insertion=null, font=null}, children=[]}]}], style=StyleImpl{obfuscated=not_set, bold=not_set, strikethrough=not_set, underlined=not_set, italic=not_set, color=NamedTextColor{name=&quot;yellow&quot;, value=&quot;#ffff55&quot;}, clickEvent=null, hoverEvent=HoverEvent{action=show_item, value=ShowItem{item=KeyImpl{namespace=&quot;minecraft&quot;, value=&quot;player_head&quot;}, count=1, nbt={SkullOwner:{Id:[I;1311740293,1907444130,-1719123357,-1000482567],Name:&quot;Windows_Paride&quot;,Properties:{textures:[{Signature:&quot;x3tHAiXrUDBYofKatE+CaD46u0lyjkxlab+Xg+zKNEO1GMGnjPHXsfRSl9CVp9bBLJLu3aMcd8qI/bcm+E8mqJlbHRxjzRi/7W/JOTbsWWurf32i4fgO1VqxoSWsGb6PGbtCVKI7LXm0nPu+lreVHKWbgAqaw8koadUZIu+XhS8hTeqwpuNMLcrS5Wh7ODdf7hBK/BDT67RC3y6pjmDNeznrH6k8YEHQVZszJ/RCicP9AyQmbwCppjzjubYdwwIOi7r+jLmsCVL4r03svzOuugtGoMNgDFj/Gm/dLrvsN+Hy7lggltApbUFkxnewrkvTq+/ZQVACjsVEphwd6kMnzq8lRiUjtsqpcJpmhIttyAR0y+kgWX6L9zWP/z8FOACsXjf7OJfPPOVBs3LHLrBjDKuD9fTvbhZwdzW4Nonpmqk8M9Z+Y/tXbGyINzCdbs5lbNQYRwH7ACzjUQwHi93e5dwN622VP/vBzv0Uz7g9quohzlZKyogDuiSJUpPRBzyMhxWrVneMEOzj6fGIuN/Qxx6XVi6ZfoH0WRCvYeOjOqcR426rbXzoXV6vDHV0OxvKkCv7Md1TqO9zb3jaB7ekEVY2mWiJitNMuyT8CGATMCKhimCuP+RFu1leQXVFdnaFtbviQ6HxDoVxndODzrSRfz2GJ2ZCN4atQb4MuqMUdg0=&quot;,Value:&quot;ewogICJ0aW1lc3RhbXAiIDogMTY2Nzc2MDM5NTYwNCwKICAicHJvZmlsZUlkIiA6ICI0ZTJmOTE4NTcxYjE0OWEyOTk4ODQyNjNjNDVkZDhmOSIsCiAgInByb2ZpbGVOYW1lIiA6ICJXaW5kb3dzX1BhcmlkZSIsCiAgInNpZ25hdHVyZVJlcXVpcmVkIiA6IHRydWUsCiAgInRleHR1cmVzIiA6IHsKICAgICJTS0lOIiA6IHsKICAgICAgInVybCIgOiAiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS83MzI1ODg2Y2JlZDQ3ZWI5MDk0ZWQyY2YxN2QyZWMyNGQzYzZhYmJlYzFlNDU3YjIyOTU1NzkxZjI2ZjkyZjZkIiwKICAgICAgIm1ldGFkYXRhIiA6IHsKICAgICAgICAibW9kZWwiIDogInNsaW0iCiAgICAgIH0KICAgIH0sCiAgICAiQ0FQRSIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjlhNzY1Mzc2NDc5ODlmOWEwYjZkMDAxZTMyMGRhYzU5MWMzNTllOWU2MWEzMWY0Y2UxMWM4OGYyMDdmMGFkNCIKICAgIH0KICB9Cn0=&quot;}]}},Unbreakable:1b,display:{Name:'{&quot;text&quot;:&quot;Windows_Paride&quot;}'}}}}, insertion=null, font=null}, children=[]}\n</code></pre>\n<p>I tried doing ComponentLike etc but it returned null when I did that.</p>\n"},{"tags":["java","hibernate","maven"],"comments":[{"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"score":0,"creation_date":1474619417,"post_id":39655956,"comment_id":66614631,"body_markdown":"try `mvn clean` command","body":"try <code>mvn clean</code> command"},{"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"score":0,"creation_date":1474619433,"post_id":39655956,"comment_id":66614643,"body_markdown":"or `mvn clean install`","body":"or <code>mvn clean install</code>"},{"owner":{"account_id":2491788,"reputation":3274,"user_id":2169091,"display_name":"Tome"},"score":0,"creation_date":1474619549,"post_id":39655956,"comment_id":66614697,"body_markdown":"Something is probably still holding a handle on that file, preventing the clean-plugin to delete it.","body":"Something is probably still holding a handle on that file, preventing the clean-plugin to delete it."}],"answers":[{"tags":[],"owner":{"account_id":8857003,"reputation":418,"user_id":6614435,"display_name":"J&#252;rgen"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1474619637,"creation_date":1474619637,"answer_id":39656273,"question_id":39655956,"body_markdown":"This usually happens in Windows environments when the target folder is &quot;locked&quot;. E.g. when you are running your web application (looks like you do) and want to perform a ``mvn clean``. The application server/servlet engine locks the files so that ``mvn clean`` cannot delete the files because they are locked. Try to run this command when the web application is not running.\r\n\r\nEdit: This also may happen if you have the target folder open in explorer or editing a text file from target folder, etc.","title":"How to solve &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project&quot;?","body":"<p>This usually happens in Windows environments when the target folder is \"locked\". E.g. when you are running your web application (looks like you do) and want to perform a <code>mvn clean</code>. The application server/servlet engine locks the files so that <code>mvn clean</code> cannot delete the files because they are locked. Try to run this command when the web application is not running.</p>\n\n<p>Edit: This also may happen if you have the target folder open in explorer or editing a text file from target folder, etc.</p>\n"},{"tags":[],"owner":{"account_id":11480389,"reputation":1,"user_id":8414644,"display_name":"Arif Heer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502054282,"creation_date":1502054282,"answer_id":45536741,"question_id":39655956,"body_markdown":"in case of Glassfish server you just stop the server and put on clean and build after that you run your project it will definately work.confirm","title":"How to solve &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project&quot;?","body":"<p>in case of Glassfish server you just stop the server and put on clean and build after that you run your project it will definately work.confirm</p>\n"},{"tags":[],"owner":{"account_id":6855836,"reputation":51,"user_id":5271408,"display_name":"Sameer Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537769016,"creation_date":1537769016,"answer_id":52473476,"question_id":39655956,"body_markdown":"If you are using windows system, close all applications (e.g. file explorer, any file opened in e.g. notepad which is part of the &quot;target&quot; folder etc.). Basically, Maven is trying to Delete the file but as it is &quot;locked&quot; by some other application, Maven can&#39;t access it and hence can&#39;t delete it.","title":"How to solve &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project&quot;?","body":"<p>If you are using windows system, close all applications (e.g. file explorer, any file opened in e.g. notepad which is part of the \"target\" folder etc.). Basically, Maven is trying to Delete the file but as it is \"locked\" by some other application, Maven can't access it and hence can't delete it.</p>\n"},{"tags":[],"owner":{"account_id":8260853,"reputation":398,"user_id":6212320,"display_name":"Runni Kumari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562155228,"creation_date":1562155228,"answer_id":56869696,"question_id":39655956,"body_markdown":"Clean the project once and rebuild it. If it is not working just kill the java process and restart the studio","title":"How to solve &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project&quot;?","body":"<p>Clean the project once and rebuild it. If it is not working just kill the java process and restart the studio</p>\n"},{"tags":[],"owner":{"account_id":17840829,"reputation":363,"user_id":12958726,"display_name":"soni kumari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586332247,"creation_date":1586332247,"answer_id":61095758,"question_id":39655956,"body_markdown":"System re-start worked for me.Please try that.","title":"How to solve &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project&quot;?","body":"<p>System re-start worked for me.Please try that.</p>\n"},{"tags":[],"owner":{"account_id":8691881,"reputation":423,"user_id":6504597,"display_name":"Raulster24"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633086911,"creation_date":1633086911,"answer_id":69404973,"question_id":39655956,"body_markdown":"Maven is trying to delete the specific file but it is &quot;locked&quot; by some other application.\r\n\r\nMaven can&#39;t access it and hence can&#39;t delete it.\r\n\r\nBy killing almost all of the java processes, as I was unable to identify which processes causing this issue, helped me to unlock the file for mvn clean.","title":"How to solve &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project&quot;?","body":"<p>Maven is trying to delete the specific file but it is &quot;locked&quot; by some other application.</p>\n<p>Maven can't access it and hence can't delete it.</p>\n<p>By killing almost all of the java processes, as I was unable to identify which processes causing this issue, helped me to unlock the file for mvn clean.</p>\n"}],"owner":{"account_id":9074532,"reputation":49,"user_id":6756594,"accept_rate":0,"display_name":"Subhadip ghosh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24967,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1667838623,"creation_date":1474618608,"question_id":39655956,"body_markdown":"I am beginner in Maven. When I click `clean &amp; Build` to rebuild my project in netbeans, it throws an error \r\n\r\n&gt;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project xxxx-web: Failed to clean project: Failed to delete D:\\Gps2.x\\xxxx-web\\target\\xxxx-web-2.11-SNAPSHOT\\WEB-INF\\lib\\validation-api-1.0.0.GA.jar -&gt; [Help 1]\r\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\r\nRe-run Maven using the -X switch to enable full debug logging.\r\n\r\nOr how to build a war file using maven package?","title":"How to solve &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project&quot;?","body":"<p>I am beginner in Maven. When I click <code>clean &amp; Build</code> to rebuild my project in netbeans, it throws an error</p>\n<blockquote>\n<p>Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project xxxx-web: Failed to clean project: Failed to delete D:\\Gps2.x\\xxxx-web\\target\\xxxx-web-2.11-SNAPSHOT\\WEB-INF\\lib\\validation-api-1.0.0.GA.jar -&gt; [Help 1]\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.</p>\n</blockquote>\n<p>Or how to build a war file using maven package?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9091,"page":901,"page_size":100}
