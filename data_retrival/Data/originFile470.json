{"items":[{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":523757,"reputation":60356,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682623834,"creation_date":1682623834,"answer_id":76124010,"question_id":76123970,"body_markdown":"Your `.map(n -&gt; n*n)` step is transforming all of your values across the board. You only want to apply that to your map&#39;s values:\r\n\r\n```diff\r\npublic class Untitled {\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; number = Arrays.asList(289, 452, 533, 656, 744);\r\n\r\n        Map&lt;Integer, Integer&gt; map = number.stream()\r\n            .filter(n -&gt; n%2==0)\r\n         // .map(n -&gt; n*n) // Remove this\r\n            .distinct()\r\n            .collect(Collectors.toMap(n -&gt; n,  n -&gt; n*n)); // Square only your map&#39;s values\r\n\r\n        System.out.println(map);\r\n    }\r\n}\r\n```","title":"Convert List&lt;Integer&gt; into Map&lt;Integer, V&gt; using streams","body":"<p>Your <code>.map(n -&gt; n*n)</code> step is transforming all of your values across the board. You only want to apply that to your map's values:</p>\n<pre><code>public class Untitled {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; number = Arrays.asList(289, 452, 533, 656, 744);\n\n        Map&lt;Integer, Integer&gt; map = number.stream()\n            .filter(n -&gt; n%2==0)\n         // .map(n -&gt; n*n) // Remove this\n            .distinct()\n            .collect(Collectors.toMap(n -&gt; n,  n -&gt; n*n)); // Square only your map's values\n\n        System.out.println(map);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28438274,"reputation":3,"user_id":21758039,"display_name":"Bhawana Kandalkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76124010,"answer_count":1,"score":0,"last_activity_date":1682625043,"creation_date":1682623453,"question_id":76123970,"body_markdown":"I am new to Java 8, I want to print Square of even number from the list and print the result in key value pair, where Key is the even number from the List and value is square of that number. \r\n\r\n```java\r\npublic class SquareNumber {\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; number = Arrays.asList(289, 452, 533, 656, 744);\r\n\r\n        Map&lt;Integer, Integer&gt; map = number.stream()\r\n            .filter(n -&gt; n%2 == 0)\r\n            .map(n -&gt; n*n)\r\n            .distinct()\r\n            .collect(Collectors.toMap(n -&gt; n,  Integer::intValue));\r\n\r\n        System.out.println(map);\r\n    }\r\n}\r\n```","title":"Convert List&lt;Integer&gt; into Map&lt;Integer, V&gt; using streams","body":"<p>I am new to Java 8, I want to print Square of even number from the list and print the result in key value pair, where Key is the even number from the List and value is square of that number.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SquareNumber {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; number = Arrays.asList(289, 452, 533, 656, 744);\n\n        Map&lt;Integer, Integer&gt; map = number.stream()\n            .filter(n -&gt; n%2 == 0)\n            .map(n -&gt; n*n)\n            .distinct()\n            .collect(Collectors.toMap(n -&gt; n,  Integer::intValue));\n\n        System.out.println(map);\n    }\n}\n</code></pre>\n"},{"tags":["java","list","exception","arraylist","unsupportedoperation"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":569,"is_accepted":true,"score":569,"last_activity_date":1415877456,"creation_date":1303476180,"answer_id":5755510,"question_id":5755477,"body_markdown":"Not every [`List`][1] implementation supports the `add()` method.\r\n\r\nOne common example is the `List` returned by [`Arrays.asList()`][2]: it is documented **not** to support any structural modification (i.e. removing or adding elements) (emphasis mine):\r\n\r\n&gt; Returns a **fixed-size** list backed by the specified array.\r\n\r\nEven if that&#39;s not the specific `List` you&#39;re trying to modify, the answer still applies to other `List` implementations that are either immutable or only allow some selected changes.\r\n\r\nYou can find out about this by reading the documentation of [`UnsupportedOperationException`][3] and [`List.add()`][4], which documents this to be an &quot;(optional operation)&quot;. The precise meaning of this phrase is explained at the top of the `List` documentation.\r\n\r\nAs a workaround you can create a copy of the list to a known-modifiable implementation like `ArrayList`:\r\n\r\n    seeAlso = new ArrayList&lt;&gt;(seeAlso);\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/List.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/lang/UnsupportedOperationException.html\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/util/List.html#add%28E%29","title":"Java List.add() UnsupportedOperationException","body":"<p>Not every <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html\"><code>List</code></a> implementation supports the <code>add()</code> method.</p>\n\n<p>One common example is the <code>List</code> returned by <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\"><code>Arrays.asList()</code></a>: it is documented <strong>not</strong> to support any structural modification (i.e. removing or adding elements) (emphasis mine):</p>\n\n<blockquote>\n  <p>Returns a <strong>fixed-size</strong> list backed by the specified array.</p>\n</blockquote>\n\n<p>Even if that's not the specific <code>List</code> you're trying to modify, the answer still applies to other <code>List</code> implementations that are either immutable or only allow some selected changes.</p>\n\n<p>You can find out about this by reading the documentation of <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/UnsupportedOperationException.html\"><code>UnsupportedOperationException</code></a> and <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#add%28E%29\"><code>List.add()</code></a>, which documents this to be an \"(optional operation)\". The precise meaning of this phrase is explained at the top of the <code>List</code> documentation.</p>\n\n<p>As a workaround you can create a copy of the list to a known-modifiable implementation like <code>ArrayList</code>:</p>\n\n<pre><code>seeAlso = new ArrayList&lt;&gt;(seeAlso);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":76259,"reputation":17345,"user_id":218454,"accept_rate":75,"display_name":"nfechner"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1303476228,"creation_date":1303476228,"answer_id":5755515,"question_id":5755477,"body_markdown":"You cannot modify a result from a LDAP query. Your problem is in this line:\r\n\r\n    seeAlso.add(groupDn);\r\n\r\nThe seeAlso list is unmodifiable.","title":"Java List.add() UnsupportedOperationException","body":"<p>You cannot modify a result from a LDAP query. Your problem is in this line:</p>\n\n<pre><code>seeAlso.add(groupDn);\n</code></pre>\n\n<p>The seeAlso list is unmodifiable.</p>\n"},{"tags":[],"owner":{"account_id":2427344,"reputation":41,"user_id":2119003,"display_name":"dwayne"},"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1362045390,"creation_date":1362044157,"answer_id":15132042,"question_id":5755477,"body_markdown":"You must initialize your List seeAlso : \r\n\r\n    List&lt;String&gt; seeAlso = new Vector&lt;String&gt;();\r\n                                 \r\nor   \r\n\r\n    List&lt;String&gt; seeAlso = new ArrayList&lt;String&gt;();","title":"Java List.add() UnsupportedOperationException","body":"<p>You must initialize your List seeAlso : </p>\n\n<pre><code>List&lt;String&gt; seeAlso = new Vector&lt;String&gt;();\n</code></pre>\n\n<p>or   </p>\n\n<pre><code>List&lt;String&gt; seeAlso = new ArrayList&lt;String&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1396957,"reputation":619,"user_id":1326543,"display_name":"Ziv.Ti"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1540273547,"creation_date":1540273547,"answer_id":52941906,"question_id":5755477,"body_markdown":"List&lt;String&gt; membersList = Arrays.asList(membersArray); \r\n\r\nreturns immutable list, what you need to do is \r\n\r\nnew ArrayList&lt;&gt;(Arrays.asList(membersArray)); to make it mutable ","title":"Java List.add() UnsupportedOperationException","body":"<p>List membersList = Arrays.asList(membersArray); </p>\n\n<p>returns immutable list, what you need to do is </p>\n\n<p>new ArrayList&lt;>(Arrays.asList(membersArray)); to make it mutable </p>\n"},{"tags":[],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1551189457,"creation_date":1542977201,"answer_id":53446999,"question_id":5755477,"body_markdown":"Many of the List implementation support limited support to add/remove, and Arrays.asList(membersArray) is one of that. You need to insert the record in java.util.ArrayList or use the below approach to convert into ArrayList.\r\n\r\nWith the minimal change in your code, you can do below to convert a list to ArrayList. The first solution is having a minimum change in your solution, but the second one is more optimized, I guess.\r\n\r\n        String[] membersArray = request.getParameterValues(&#39;members&#39;);\r\n        ArrayList&lt;String&gt; membersList = new ArrayList&lt;&gt;(Arrays.asList(membersArray));\r\nOR\r\n\r\n        String[] membersArray = request.getParameterValues(&#39;members&#39;);\r\n        ArrayList&lt;String&gt; membersList = Stream.of(membersArray).collect(Collectors.toCollection(ArrayList::new));\r\n","title":"Java List.add() UnsupportedOperationException","body":"<p>Many of the List implementation support limited support to add/remove, and Arrays.asList(membersArray) is one of that. You need to insert the record in java.util.ArrayList or use the below approach to convert into ArrayList.</p>\n\n<p>With the minimal change in your code, you can do below to convert a list to ArrayList. The first solution is having a minimum change in your solution, but the second one is more optimized, I guess.</p>\n\n<pre><code>    String[] membersArray = request.getParameterValues('members');\n    ArrayList&lt;String&gt; membersList = new ArrayList&lt;&gt;(Arrays.asList(membersArray));\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>    String[] membersArray = request.getParameterValues('members');\n    ArrayList&lt;String&gt; membersList = Stream.of(membersArray).collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1544605377,"creation_date":1544602806,"answer_id":53738768,"question_id":5755477,"body_markdown":"Form the Inheritance concept, If some perticular method is not available in the current class it will search for that method in super classes. If available it executes.\r\n\r\n&gt; It executes **`AbstractList&lt;E&gt;`** class **`add()`** method which throws [`UnsupportedOperationException`](https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html).\r\n\r\n---\r\n\r\nWhen you are converting from an Array to a Collection Obejct. i.e., array-based to collection-based API then it is going to provide you fixed-size collection object, because Array&#39;s behaviour is of Fixed size.\r\n\r\n&gt; java.util.Arrays.asList( T... a )\r\n\r\nSouce samples for conformation.\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tpublic class Arrays {\r\n\t\tpublic static &lt;T&gt; List&lt;T&gt; asList(T... a) {\r\n\t\t\treturn new java.util.Arrays.ArrayList.ArrayList&lt;&gt;(a); // Arrays Inner Class ArrayList\r\n\t\t}\r\n\t\t//...\r\n\t\tprivate static class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt; implements RandomAccess, java.io.Serializable {\r\n\t\t\t//...\r\n\t\t}\r\n\t}\r\n\tpublic abstract class AbstractList&lt;E&gt; extends AbstractCollection&lt;E&gt; implements List&lt;E&gt; {\r\n\t\tpublic void add(int index, E element) {\r\n\t\t\tthrow new UnsupportedOperationException();\r\n\t\t}\r\n\t\tpublic E set(int index, E element) {\r\n\t\t\tthrow new UnsupportedOperationException();\r\n\t\t}\r\n\t\tpublic E remove(int index) {\r\n\t\t\tthrow new UnsupportedOperationException();\r\n\t\t}\r\n\t\t\r\n\t\tpublic Iterator&lt;E&gt; iterator() {\r\n\t\t\treturn new Itr();\r\n\t\t}\r\n\t\tprivate class Itr implements Iterator&lt;E&gt; {\r\n\t\t\t//...\r\n\t\t}\r\n\t\t\r\n\t\tpublic ListIterator&lt;E&gt; listIterator() {\r\n\t\t\treturn listIterator(0);\r\n\t\t}\r\n\t\tprivate class ListItr extends Itr implements ListIterator&lt;E&gt; {\r\n\t\t\t//...\r\n\t\t}\r\n\t}\r\n\t\r\n&lt;!-- language: lang-java --&gt;\r\n\r\nForm the above Source you may observe that `java.util.Arrays.ArrayList` class doesn&#39;t `@Override add(index, element), set(index, element), remove(index)`. So, From inheritance it executes super `AbstractList&lt;E&gt;` class `add()` function which throws `UnsupportedOperationException`.\r\n\r\nAs `AbstractList&lt;E&gt;` is an abstract class it provides the implementation to `iterator() and listIterator()`. So, that we can iterate over the list object.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tList&lt;String&gt; list_of_Arrays = Arrays.asList(new String[] { &quot;a&quot;, &quot;b&quot; ,&quot;c&quot;});\r\n\t\t\t\r\n\ttry {\r\n\t\tlist_of_Arrays.add(&quot;Yashwanth.M&quot;);\r\n\t} catch(java.lang.UnsupportedOperationException e) {\r\n\t\tSystem.out.println(&quot;List Interface executes AbstractList add() fucntion which throws UnsupportedOperationException.&quot;);\r\n\t}\r\n\tSystem.out.println(&quot;Arrays → List : &quot; + list_of_Arrays);\r\n\r\n\tIterator&lt;String&gt; iterator = list_of_Arrays.iterator();\r\n\twhile (iterator.hasNext()) System.out.println(&quot;Iteration : &quot; + iterator.next() );\r\n\r\n\tListIterator&lt;String&gt; listIterator = list_of_Arrays.listIterator();\r\n\twhile (listIterator.hasNext())    System.out.println(&quot;Forward  iteration : &quot; + listIterator.next() );\r\n\twhile(listIterator.hasPrevious()) System.out.println(&quot;Backward iteration : &quot; + listIterator.previous());\r\n\t\r\n&lt;!-- language: lang-java --&gt;\r\n\r\nYou can even create Fixed-Size array form Collections class `Collections.unmodifiableList(list);` \r\n\r\nSample Source:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tpublic class Collections {\r\n\t\tpublic static &lt;T&gt; List&lt;T&gt; unmodifiableList(List&lt;? extends T&gt; list) {\r\n\t\t\treturn (list instanceof RandomAccess ?\r\n\t\t\t\t\tnew UnmodifiableRandomAccessList&lt;&gt;(list) :\r\n\t\t\t\t\tnew UnmodifiableList&lt;&gt;(list));\r\n\t\t}\r\n\t}\r\n\t\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n----\r\n\r\nA [`Collection`](https://docs.oracle.com/javase/tutorial/collections/intro/index.html) — sometimes called a container — is simply an object that groups multiple elements into a single unit. Collections are used to store, retrieve, manipulate, and communicate aggregate data.\r\n\r\n@see also\r\n\r\n * [HashMap `vs` HashTable](https://stackoverflow.com/a/48094803/5081877)\r\n * [Object Serialization uses the Serializable and Externalizable interfaces](https://stackoverflow.com/a/48301301/5081877)","title":"Java List.add() UnsupportedOperationException","body":"<p>Form the Inheritance concept, If some perticular method is not available in the current class it will search for that method in super classes. If available it executes.</p>\n\n<blockquote>\n  <p>It executes <strong><code>AbstractList&lt;E&gt;</code></strong> class <strong><code>add()</code></strong> method which throws <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"noreferrer\"><code>UnsupportedOperationException</code></a>.</p>\n</blockquote>\n\n<hr>\n\n<p>When you are converting from an Array to a Collection Obejct. i.e., array-based to collection-based API then it is going to provide you fixed-size collection object, because Array's behaviour is of Fixed size.</p>\n\n<blockquote>\n  <p>java.util.Arrays.asList( T... a )</p>\n</blockquote>\n\n<p>Souce samples for conformation.\n</p>\n\n<pre><code>public class Arrays {\n    public static &lt;T&gt; List&lt;T&gt; asList(T... a) {\n        return new java.util.Arrays.ArrayList.ArrayList&lt;&gt;(a); // Arrays Inner Class ArrayList\n    }\n    //...\n    private static class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt; implements RandomAccess, java.io.Serializable {\n        //...\n    }\n}\npublic abstract class AbstractList&lt;E&gt; extends AbstractCollection&lt;E&gt; implements List&lt;E&gt; {\n    public void add(int index, E element) {\n        throw new UnsupportedOperationException();\n    }\n    public E set(int index, E element) {\n        throw new UnsupportedOperationException();\n    }\n    public E remove(int index) {\n        throw new UnsupportedOperationException();\n    }\n\n    public Iterator&lt;E&gt; iterator() {\n        return new Itr();\n    }\n    private class Itr implements Iterator&lt;E&gt; {\n        //...\n    }\n\n    public ListIterator&lt;E&gt; listIterator() {\n        return listIterator(0);\n    }\n    private class ListItr extends Itr implements ListIterator&lt;E&gt; {\n        //...\n    }\n}\n</code></pre>\n\n<p>Form the above Source you may observe that <code>java.util.Arrays.ArrayList</code> class doesn't <code>@Override add(index, element), set(index, element), remove(index)</code>. So, From inheritance it executes super <code>AbstractList&lt;E&gt;</code> class <code>add()</code> function which throws <code>UnsupportedOperationException</code>.</p>\n\n<p>As <code>AbstractList&lt;E&gt;</code> is an abstract class it provides the implementation to <code>iterator() and listIterator()</code>. So, that we can iterate over the list object.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list_of_Arrays = Arrays.asList(new String[] { \"a\", \"b\" ,\"c\"});\n\ntry {\n    list_of_Arrays.add(\"Yashwanth.M\");\n} catch(java.lang.UnsupportedOperationException e) {\n    System.out.println(\"List Interface executes AbstractList add() fucntion which throws UnsupportedOperationException.\");\n}\nSystem.out.println(\"Arrays → List : \" + list_of_Arrays);\n\nIterator&lt;String&gt; iterator = list_of_Arrays.iterator();\nwhile (iterator.hasNext()) System.out.println(\"Iteration : \" + iterator.next() );\n\nListIterator&lt;String&gt; listIterator = list_of_Arrays.listIterator();\nwhile (listIterator.hasNext())    System.out.println(\"Forward  iteration : \" + listIterator.next() );\nwhile(listIterator.hasPrevious()) System.out.println(\"Backward iteration : \" + listIterator.previous());\n</code></pre>\n\n<p>You can even create Fixed-Size array form Collections class <code>Collections.unmodifiableList(list);</code> </p>\n\n<p>Sample Source:\n</p>\n\n<pre><code>public class Collections {\n    public static &lt;T&gt; List&lt;T&gt; unmodifiableList(List&lt;? extends T&gt; list) {\n        return (list instanceof RandomAccess ?\n                new UnmodifiableRandomAccessList&lt;&gt;(list) :\n                new UnmodifiableList&lt;&gt;(list));\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>A <a href=\"https://docs.oracle.com/javase/tutorial/collections/intro/index.html\" rel=\"noreferrer\"><code>Collection</code></a> — sometimes called a container — is simply an object that groups multiple elements into a single unit. Collections are used to store, retrieve, manipulate, and communicate aggregate data.</p>\n\n<p>@see also</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/48094803/5081877\">HashMap <code>vs</code> HashTable</a></li>\n<li><a href=\"https://stackoverflow.com/a/48301301/5081877\">Object Serialization uses the Serializable and Externalizable interfaces</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13907520,"reputation":15,"user_id":10041523,"display_name":"Allen"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1560774700,"creation_date":1560774700,"answer_id":56631384,"question_id":5755477,"body_markdown":"instead of using add() we can use addall()\r\n\r\n    { seeAlso.addall(groupDn); }\r\n\r\nadd adds a single item, while addAll adds each item from the collection one by one. In the end, both methods return true if the collection has been modified. In case of ArrayList this is trivial, because the collection is always modified, but other collections, such as Set, may return false if items being added are already there.","title":"Java List.add() UnsupportedOperationException","body":"<p>instead of using add() we can use addall()</p>\n\n<pre><code>{ seeAlso.addall(groupDn); }\n</code></pre>\n\n<p>add adds a single item, while addAll adds each item from the collection one by one. In the end, both methods return true if the collection has been modified. In case of ArrayList this is trivial, because the collection is always modified, but other collections, such as Set, may return false if items being added are already there.</p>\n"},{"tags":[],"owner":{"account_id":9027978,"reputation":47,"user_id":8485802,"display_name":"Heverton Silva Cruz"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1615859439,"creation_date":1615826917,"answer_id":66642182,"question_id":5755477,"body_markdown":"You will also get this exception if you attempt to `add` to a `List&lt;T&gt;` returned by  [`Collections.singletonList(T o)`](https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#singletonList(T)):\r\n\r\n &gt; Returns an **immutable** list containing only the specified object. The returned list is serializable.\r\n\r\nThe JVM does not implement `add()` for `Collections.singletonList` ","title":"Java List.add() UnsupportedOperationException","body":"<p>You will also get this exception if you attempt to <code>add</code> to a <code>List&lt;T&gt;</code> returned by  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#singletonList(T)\" rel=\"nofollow noreferrer\"><code>Collections.singletonList(T o)</code></a>:</p>\n<blockquote>\n<p>Returns an <strong>immutable</strong> list containing only the specified object. The returned list is serializable.</p>\n</blockquote>\n<p>The JVM does not implement <code>add()</code> for <code>Collections.singletonList</code></p>\n"},{"tags":[],"owner":{"account_id":21019771,"reputation":21,"user_id":15446395,"display_name":"Daham Mustafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682624608,"creation_date":1682624608,"answer_id":76124089,"question_id":5755477,"body_markdown":"The reason for the UnsupportedOperationException is because the Arrays.asList() method returns a fixed-size list backed by the original array. This means that you cannot modify the size of the list by adding or removing elements, and attempting to do so will result in an UnsupportedOperationException.\r\n","title":"Java List.add() UnsupportedOperationException","body":"<p>The reason for the UnsupportedOperationException is because the Arrays.asList() method returns a fixed-size list backed by the original array. This means that you cannot modify the size of the list by adding or removing elements, and attempting to do so will result in an UnsupportedOperationException.</p>\n"}],"owner":{"account_id":368266,"reputation":4404,"user_id":714966,"accept_rate":83,"display_name":"FAjir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202747,"favorite_count":0,"down_vote_count":1,"up_vote_count":300,"accepted_answer_id":5755510,"answer_count":9,"score":299,"last_activity_date":1682624608,"creation_date":1303475984,"question_id":5755477,"body_markdown":"I try to add objects to a `List&lt;String&gt;` instance but it throws an `UnsupportedOperationException`.\r\nDoes anyone know why?\r\n\r\nMy Java code:\r\n\t\t\r\n\tString[] membersArray = request.getParameterValues(&#39;members&#39;);\r\n\tList&lt;String&gt; membersList = Arrays.asList(membersArray);\r\n\t\r\n\tfor (String member : membersList) {\r\n\t\tPerson person = Dao.findByName(member);\r\n\t\tList&lt;String&gt; seeAlso;\r\n\t\tseeAlso = person.getSeeAlso();\r\n\t\tif (!seeAlso.contains(groupDn)){\r\n\t\t\tseeAlso.add(groupDn);\r\n\t\t\tperson.setSeeAlso(seeAlso);\r\n\t\t}\r\n\t}\r\n\t\t\r\n\r\nThe error message:\r\n\r\n&lt;pre&gt;\r\njava.lang.UnsupportedOperationException\r\n    java.util.AbstractList.add(Unknown Source)\r\n    java.util.AbstractList.add(Unknown Source)\r\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:641)\r\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\r\n&lt;/pre&gt;\r\n","title":"Java List.add() UnsupportedOperationException","body":"<p>I try to add objects to a <code>List&lt;String&gt;</code> instance but it throws an <code>UnsupportedOperationException</code>.\nDoes anyone know why?</p>\n\n<p>My Java code:</p>\n\n<pre><code>String[] membersArray = request.getParameterValues('members');\nList&lt;String&gt; membersList = Arrays.asList(membersArray);\n\nfor (String member : membersList) {\n    Person person = Dao.findByName(member);\n    List&lt;String&gt; seeAlso;\n    seeAlso = person.getSeeAlso();\n    if (!seeAlso.contains(groupDn)){\n        seeAlso.add(groupDn);\n        person.setSeeAlso(seeAlso);\n    }\n}\n</code></pre>\n\n<p>The error message:</p>\n\n<pre>\njava.lang.UnsupportedOperationException\n    java.util.AbstractList.add(Unknown Source)\n    java.util.AbstractList.add(Unknown Source)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:641)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n</pre>\n"},{"tags":["java","selenium","selenium-webdriver","testng","assert"],"comments":[{"owner":{"account_id":11064868,"reputation":1269,"user_id":8124980,"display_name":"Ankur Singh"},"score":0,"creation_date":1516800526,"post_id":48423523,"comment_id":83836741,"body_markdown":"Can share error trace ?","body":"Can share error trace ?"}],"answers":[{"tags":[],"owner":{"account_id":9862817,"reputation":5309,"user_id":7305183,"display_name":"Murthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1516800788,"creation_date":1516800788,"answer_id":48423755,"question_id":48423523,"body_markdown":"please add the below import statement to your code. it may resolve your issue.\r\n\r\n    import org.testng.Assert;\r\n\r\nassertEquals doesn&#39;t return any value.\r\n\r\nYou can&#39;t put inside a if clause. please remove if statement. \r\n\r\njust add only the assert statement.\r\n\r\n    Assert.assertEquals(menu1,&quot;About Us&quot;);","title":"Assert in selenium in not working for me","body":"<p>please add the below import statement to your code. it may resolve your issue.</p>\n\n<pre><code>import org.testng.Assert;\n</code></pre>\n\n<p>assertEquals doesn't return any value.</p>\n\n<p>You can't put inside a if clause. please remove if statement. </p>\n\n<p>just add only the assert statement.</p>\n\n<pre><code>Assert.assertEquals(menu1,\"About Us\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11121655,"reputation":4630,"user_id":8164333,"display_name":"iamsankalp89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516802211,"creation_date":1516802211,"answer_id":48424225,"question_id":48423523,"body_markdown":"No need to use if with Assert, try it seperately. Also check whether testng is there are not, \r\n\r\nuse \r\n\r\n    import org.testng.*;\r\n\r\nor\r\n\r\n    import org.testng.Assert;\r\n\r\nLike this code:\r\n\r\n    String menu1 = driver.findElement(By.xpath(&quot;value&quot;)).getText();\r\n    System.out.println(menu1);\r\n    Assert.assertEquals(menu1,&quot;About Us&quot;);\r\n\r\n","title":"Assert in selenium in not working for me","body":"<p>No need to use if with Assert, try it seperately. Also check whether testng is there are not, </p>\n\n<p>use </p>\n\n<pre><code>import org.testng.*;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>import org.testng.Assert;\n</code></pre>\n\n<p>Like this code:</p>\n\n<pre><code>String menu1 = driver.findElement(By.xpath(\"value\")).getText();\nSystem.out.println(menu1);\nAssert.assertEquals(menu1,\"About Us\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516937123,"creation_date":1516804400,"answer_id":48424941,"question_id":48423523,"body_markdown":"The error says it all :\r\n\r\n\t&#39;Assert cannot be resolved&#39;\r\n\t\r\nThe reason for this error and the solution can be either of the following:\r\n\r\n - `import org.testng.Assert;` is missing.\r\n - TestNG jars were not downloaded properly. You may need to download the TestNG jars and reconfigure.\r\n - It is worth mentioning that `Assert.assertEquals()` method returns `void`. So the compiler should be complaining about the following line of code:\r\n\r\n\t\tif(Assert.assertEquals(menu1, &quot;About Us&quot;))\r\n\r\n - If you have a requirement to catch the Pass or Fail status, wrap up the assertion in a `try-catch` block with `Throwable t` as follows:\r\n\r\n        String menu1 = driver.findElement(By.xpath(&quot;value&quot;)).getText();\r\n        System.out.println(menu1);\r\n        try {\r\n            Assert.assertEquals(menu1, &quot;About Us&quot;)\r\n\t\t\tSystem.out.println(&quot;Assertion Successful&quot;);\r\n\t\t} catch (Throwable t) {\r\n\t\t\tSystem.out.println(&quot;Exception raised in Assertion&quot;);\r\n\t\t}\r\n\r\n - Output on success will be:\r\n\r\n    \tAssertion Successful\r\n\r\n - Output on failure will be:\r\n\r\n    \tException raised in Assertion","title":"Assert in selenium in not working for me","body":"<p>The error says it all :</p>\n\n<pre><code>'Assert cannot be resolved'\n</code></pre>\n\n<p>The reason for this error and the solution can be either of the following:</p>\n\n<ul>\n<li><code>import org.testng.Assert;</code> is missing.</li>\n<li>TestNG jars were not downloaded properly. You may need to download the TestNG jars and reconfigure.</li>\n<li><p>It is worth mentioning that <code>Assert.assertEquals()</code> method returns <code>void</code>. So the compiler should be complaining about the following line of code:</p>\n\n<pre><code>if(Assert.assertEquals(menu1, \"About Us\"))\n</code></pre></li>\n<li><p>If you have a requirement to catch the Pass or Fail status, wrap up the assertion in a <code>try-catch</code> block with <code>Throwable t</code> as follows:</p>\n\n<pre><code>String menu1 = driver.findElement(By.xpath(\"value\")).getText();\nSystem.out.println(menu1);\ntry {\n    Assert.assertEquals(menu1, \"About Us\")\n    System.out.println(\"Assertion Successful\");\n} catch (Throwable t) {\n    System.out.println(\"Exception raised in Assertion\");\n}\n</code></pre></li>\n<li><p>Output on success will be:</p>\n\n<pre><code>Assertion Successful\n</code></pre></li>\n<li><p>Output on failure will be:</p>\n\n<pre><code>Exception raised in Assertion\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23622967,"reputation":1,"user_id":17655908,"display_name":"Ranga Prasana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639285457,"creation_date":1639285457,"answer_id":70321076,"question_id":48423523,"body_markdown":"Just Right Click on the folder which that we need to implement assertion just right click &gt;&gt;&gt; Build Path &gt;&gt;&gt; Add Libraries &gt;&gt;&gt; TestNG","title":"Assert in selenium in not working for me","body":"<p>Just Right Click on the folder which that we need to implement assertion just right click &gt;&gt;&gt; Build Path &gt;&gt;&gt; Add Libraries &gt;&gt;&gt; TestNG</p>\n"},{"tags":[],"owner":{"account_id":28438441,"reputation":1,"user_id":21758178,"display_name":"Umarani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682624316,"creation_date":1682624316,"answer_id":76124055,"question_id":48423523,"body_markdown":"Assert Error: Assert cannot be resolved.\r\n\r\nThe reason for this error is   \r\n\r\nimport org.testng.Assert; is missing.\r\n\r\nand the solution can be either of the following:\r\n\r\nOption1:\r\nGoto the current project working on: Project(right click on it) ---&gt; BuildPath--&gt;Configure Build Path---&gt;Java Build Path---&gt;In the Libraries Section---&gt; Select Class Path---&gt;Add Library---&gt;JUnit---&gt;Next---&gt;JUnit library Version---&gt;Select JUnit 5---&gt;Click Finish\r\n\r\nOption2:\r\nGoto the current project working on: Project(right click on it) ---&gt;Add Libraries---&gt;JUnit---&gt;Next---&gt;JUnit library Version---&gt;Select JUnit 5---&gt;Click Finish\r\n\r\nOption3: \r\nGoto the current project working on: Project(right click on it)---&gt;Properties---&gt;Java Build Path---&gt;In the Libraries Section---&gt; Select Class Path---&gt;Add Library---&gt;JUnit---&gt;Next---&gt;JUnit library Version---&gt;Select JUnit 5---&gt;Click Finish\r\n","title":"Assert in selenium in not working for me","body":"<p>Assert Error: Assert cannot be resolved.</p>\n<p>The reason for this error is</p>\n<p>import org.testng.Assert; is missing.</p>\n<p>and the solution can be either of the following:</p>\n<p>Option1:\nGoto the current project working on: Project(right click on it) ---&gt; BuildPath--&gt;Configure Build Path---&gt;Java Build Path---&gt;In the Libraries Section---&gt; Select Class Path---&gt;Add Library---&gt;JUnit---&gt;Next---&gt;JUnit library Version---&gt;Select JUnit 5---&gt;Click Finish</p>\n<p>Option2:\nGoto the current project working on: Project(right click on it) ---&gt;Add Libraries---&gt;JUnit---&gt;Next---&gt;JUnit library Version---&gt;Select JUnit 5---&gt;Click Finish</p>\n<p>Option3:\nGoto the current project working on: Project(right click on it)---&gt;Properties---&gt;Java Build Path---&gt;In the Libraries Section---&gt; Select Class Path---&gt;Add Library---&gt;JUnit---&gt;Next---&gt;JUnit library Version---&gt;Select JUnit 5---&gt;Click Finish</p>\n"}],"owner":{"account_id":11524871,"reputation":23,"user_id":8445641,"display_name":"sebin john"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5969,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":48423755,"answer_count":5,"score":-1,"last_activity_date":1682624316,"creation_date":1516800100,"question_id":48423523,"body_markdown":"&#39;Assert cannot be resolved&#39; is displayed when i tries to insert an Assert command\r\n\r\n        String menu1 = driver.findElement(By.xpath(&quot;value&quot;)).getText();\r\n\t\tSystem.out.println(menu1);\r\n\t\tif(Assert.assertEquals(menu1,&quot;About Us&quot;))\r\n\t\t{\r\n\t\t\t\r\n\t\t}","title":"Assert in selenium in not working for me","body":"<p>'Assert cannot be resolved' is displayed when i tries to insert an Assert command</p>\n\n<pre><code>    String menu1 = driver.findElement(By.xpath(\"value\")).getText();\n    System.out.println(menu1);\n    if(Assert.assertEquals(menu1,\"About Us\"))\n    {\n\n    }\n</code></pre>\n"},{"tags":["java","android","apk"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1654092769,"post_id":72462461,"comment_id":128009858,"body_markdown":"Well that is a lot i would say.","body":"Well that is a lot i would say."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1654098010,"post_id":72462461,"comment_id":128011968,"body_markdown":"So the file gets downloaded.  DO you get to the point of installing?  What&#39;s the exact error or exception?  If you have it downloaded, did you check to see if the file is an exact match to the original, or if it was corrupted?","body":"So the file gets downloaded.  DO you get to the point of installing?  What&#39;s the exact error or exception?  If you have it downloaded, did you check to see if the file is an exact match to the original, or if it was corrupted?"},{"owner":{"account_id":9542541,"reputation":53,"user_id":8644242,"display_name":"Sahil"},"score":0,"creation_date":1694771408,"post_id":72462461,"comment_id":135938099,"body_markdown":"you are calling startActivity(intent); two times. Remove the second one and put inside else condition. It is giving you parse error because you already installed it, you are starting the install intent again hence showing the error. @JojoGIF2001","body":"you are calling startActivity(intent); two times. Remove the second one and put inside else condition. It is giving you parse error because you already installed it, you are starting the install intent again hence showing the error. @JojoGIF2001"}],"owner":{"account_id":22482014,"reputation":31,"user_id":16680961,"display_name":"JojoGIF2001"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3000,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1682624063,"creation_date":1654089085,"question_id":72462461,"body_markdown":"I&#180;m tying to build an App which is Downloading and Installing an .apk file.\r\n\r\nI am building this with the help of [Download And Install App Programmatically][1]\r\n\r\n\r\n\r\nI have added all permissions and the provider in the AndroidManifest.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_SYNC_SETTINGS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot; /&gt;\r\n\r\n            &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\nI have also created the provider_paths.xml in the xml folder and the GenericFileProvider.java next to the MainActivity.java\r\n\r\nIn my MainActivity.java i wrote the following code:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private static final int PERMISSION_REQUEST_CODE = 200;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        Button btn_click = findViewById(R.id.btn_click);\r\n        btn_click.setOnClickListener(new View.OnClickListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (checkPermission()) {\r\n                    UpdateApp atualizaApp = new UpdateApp();\r\n                    atualizaApp.setContext(MainActivity.this);\r\n                    atualizaApp.execute(&quot;https://example.com/apks/my_apk.apk&quot;);\r\n                } else {\r\n                    requestPermission();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        if (requestCode == PERMISSION_REQUEST_CODE) {\r\n            if (grantResults.length &gt; 0) {\r\n\r\n                boolean locationAccepted = grantResults[0] == PackageManager.PERMISSION_GRANTED;\r\n                boolean cameraAccepted = grantResults[1] == PackageManager.PERMISSION_GRANTED;\r\n                if (locationAccepted &amp;&amp; cameraAccepted) {\r\n                    UpdateApp updateApp = new UpdateApp();\r\n                    updateApp.setContext(MainActivity.this);\r\n                    updateApp.execute(&quot;https://example.com/apks/my_apk.apk&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\r\n    private boolean checkPermission() {\r\n        int result = ContextCompat.checkSelfPermission(getApplicationContext(), WRITE_EXTERNAL_STORAGE);\r\n        int result1 = ContextCompat.checkSelfPermission(getApplicationContext(), READ_EXTERNAL_STORAGE);\r\n\r\n        return result == PackageManager.PERMISSION_GRANTED &amp;&amp; result1 == PackageManager.PERMISSION_GRANTED;\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\r\n    private void requestPermission() {\r\n        ActivityCompat.requestPermissions(this, new String[]{WRITE_EXTERNAL_STORAGE, READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\r\n    }\r\n\r\n    public class UpdateApp extends AsyncTask&lt;String, Integer, String&gt; {\r\n        private ProgressDialog mPDialog;\r\n        private Context mContext;\r\n\r\n        void setContext(Activity context) {\r\n            mContext = context;\r\n            context.runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    mPDialog = new ProgressDialog(mContext);\r\n                    mPDialog.setMessage(&quot;Please wait...&quot;);\r\n                    mPDialog.setIndeterminate(true);\r\n                    mPDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\r\n                    mPDialog.setCancelable(false);\r\n                    mPDialog.show();\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... arg0) {\r\n            try {\r\n\r\n                URL url = new URL(arg0[0]);\r\n                HttpURLConnection c = (HttpURLConnection) url.openConnection();\r\n                c.setRequestMethod(&quot;GET&quot;);\r\n                c.setDoOutput(true);\r\n                c.connect();\r\n                int lenghtOfFile = c.getContentLength();\r\n\r\n                String PATH = Objects.requireNonNull(mContext.getExternalFilesDir(null)).getAbsolutePath();\r\n                File file = new File(PATH);\r\n                boolean isCreate = file.mkdirs();\r\n                File outputFile = new File(file, &quot;my_apk.apk&quot;);\r\n                if (outputFile.exists()) {\r\n                    boolean isDelete = outputFile.delete();\r\n                }\r\n                FileOutputStream fos = new FileOutputStream(outputFile);\r\n\r\n                InputStream is = c.getInputStream();\r\n\r\n                byte[] buffer = new byte[1024];\r\n                int len1;\r\n                long total = 0;\r\n                while ((len1 = is.read(buffer)) != -1) {\r\n                    total += len1;\r\n                    fos.write(buffer, 0, len1);\r\n                    publishProgress((int) ((total * 100) / lenghtOfFile));\r\n                }\r\n                fos.close();\r\n                is.close();\r\n                if (mPDialog != null)\r\n                    mPDialog.dismiss();\r\n                installApk();\r\n            } catch (Exception e) {\r\n                Log.e(&quot;UpdateAPP&quot;, &quot;Update error! &quot; + e.getMessage());\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            if (mPDialog != null)\r\n                mPDialog.show();\r\n\r\n        }\r\n\r\n\r\n        @Override\r\n        protected void onProgressUpdate(Integer... values) {\r\n            super.onProgressUpdate(values);\r\n            if (mPDialog != null) {\r\n                mPDialog.setIndeterminate(false);\r\n                mPDialog.setMax(100);\r\n                mPDialog.setProgress(values[0]);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            if (mPDialog != null)\r\n                mPDialog.dismiss();\r\n            if (result != null)\r\n                Toast.makeText(mContext, &quot;Download error: &quot; + result, Toast.LENGTH_LONG).show();\r\n            else\r\n                Toast.makeText(mContext, &quot;File Downloaded&quot;, Toast.LENGTH_SHORT).show();\r\n                installApk();\r\n        }\r\n\r\n\r\n        private void installApk() {\r\n            try {\r\n                String PATH = Objects.requireNonNull(mContext.getExternalFilesDir(null)).getAbsolutePath();\r\n                File file = new File(PATH + &quot;/my_apk.apk&quot;);\r\n                Intent intent = new Intent(Intent.ACTION_VIEW);\r\n                if (Build.VERSION.SDK_INT &gt;= 24) {\r\n                    Uri downloaded_apk = FileProvider.getUriForFile(mContext, mContext.getApplicationContext().getPackageName() + &quot;.provider&quot;, file);\r\n                    intent.setDataAndType(downloaded_apk, &quot;application/vnd.android.package-archive&quot;);\r\n                    List&lt;ResolveInfo&gt; resInfoList = mContext.getPackageManager().queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);\r\n                    for (ResolveInfo resolveInfo : resInfoList) {\r\n                        mContext.grantUriPermission(mContext.getApplicationContext().getPackageName() + &quot;.provider&quot;, downloaded_apk, Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                    }\r\n                    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                    startActivity(intent);\r\n                } else {\r\n                    intent.setAction(Intent.ACTION_VIEW);\r\n                    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                    intent.putExtra(Intent.EXTRA_NOT_UNKNOWN_SOURCE, true);\r\n                    intent.setDataAndType(Uri.fromFile(file), &quot;application/vnd.android.package-archive&quot;);\r\n                    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                }\r\n                startActivity(intent);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n  \r\n\r\nAt the end i hava created a Button in the layout file with the id btn_click.\r\n\r\n\r\nBut when I run the App and press on Download the only thing thats happens is that the file just gets downloaded and the app shows an parse Error.\r\n\r\n\r\n\r\n\r\n  [1]: http://www.wepstech.com/download-and-install-app-programmatically/","title":"Download and Install APK Programmatically","body":"<p>I´m tying to build an App which is Downloading and Installing an .apk file.</p>\n<p>I am building this with the help of <a href=\"http://www.wepstech.com/download-and-install-app-programmatically/\" rel=\"nofollow noreferrer\">Download And Install App Programmatically</a></p>\n<p>I have added all permissions and the provider in the AndroidManifest.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_SYNC_SETTINGS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot; /&gt;\n\n        &lt;provider\n        android:name=&quot;androidx.core.content.FileProvider&quot;\n        android:authorities=&quot;${applicationId}.provider&quot;\n        android:exported=&quot;false&quot;\n        android:grantUriPermissions=&quot;true&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n            android:resource=&quot;@xml/provider_paths&quot; /&gt;\n    &lt;/provider&gt;\n</code></pre>\n<p>I have also created the provider_paths.xml in the xml folder and the GenericFileProvider.java next to the MainActivity.java</p>\n<p>In my MainActivity.java i wrote the following code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate static final int PERMISSION_REQUEST_CODE = 200;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n\n    Button btn_click = findViewById(R.id.btn_click);\n    btn_click.setOnClickListener(new View.OnClickListener() {\n        @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\n        @Override\n        public void onClick(View v) {\n            if (checkPermission()) {\n                UpdateApp atualizaApp = new UpdateApp();\n                atualizaApp.setContext(MainActivity.this);\n                atualizaApp.execute(&quot;https://example.com/apks/my_apk.apk&quot;);\n            } else {\n                requestPermission();\n            }\n        }\n    });\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    if (requestCode == PERMISSION_REQUEST_CODE) {\n        if (grantResults.length &gt; 0) {\n\n            boolean locationAccepted = grantResults[0] == PackageManager.PERMISSION_GRANTED;\n            boolean cameraAccepted = grantResults[1] == PackageManager.PERMISSION_GRANTED;\n            if (locationAccepted &amp;&amp; cameraAccepted) {\n                UpdateApp updateApp = new UpdateApp();\n                updateApp.setContext(MainActivity.this);\n                updateApp.execute(&quot;https://example.com/apks/my_apk.apk&quot;);\n            }\n        }\n    }\n}\n\n@RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\nprivate boolean checkPermission() {\n    int result = ContextCompat.checkSelfPermission(getApplicationContext(), WRITE_EXTERNAL_STORAGE);\n    int result1 = ContextCompat.checkSelfPermission(getApplicationContext(), READ_EXTERNAL_STORAGE);\n\n    return result == PackageManager.PERMISSION_GRANTED &amp;&amp; result1 == PackageManager.PERMISSION_GRANTED;\n}\n\n@RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN)\nprivate void requestPermission() {\n    ActivityCompat.requestPermissions(this, new String[]{WRITE_EXTERNAL_STORAGE, READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\n}\n\npublic class UpdateApp extends AsyncTask&lt;String, Integer, String&gt; {\n    private ProgressDialog mPDialog;\n    private Context mContext;\n\n    void setContext(Activity context) {\n        mContext = context;\n        context.runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                mPDialog = new ProgressDialog(mContext);\n                mPDialog.setMessage(&quot;Please wait...&quot;);\n                mPDialog.setIndeterminate(true);\n                mPDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\n                mPDialog.setCancelable(false);\n                mPDialog.show();\n            }\n        });\n    }\n\n    @Override\n    protected String doInBackground(String... arg0) {\n        try {\n\n            URL url = new URL(arg0[0]);\n            HttpURLConnection c = (HttpURLConnection) url.openConnection();\n            c.setRequestMethod(&quot;GET&quot;);\n            c.setDoOutput(true);\n            c.connect();\n            int lenghtOfFile = c.getContentLength();\n\n            String PATH = Objects.requireNonNull(mContext.getExternalFilesDir(null)).getAbsolutePath();\n            File file = new File(PATH);\n            boolean isCreate = file.mkdirs();\n            File outputFile = new File(file, &quot;my_apk.apk&quot;);\n            if (outputFile.exists()) {\n                boolean isDelete = outputFile.delete();\n            }\n            FileOutputStream fos = new FileOutputStream(outputFile);\n\n            InputStream is = c.getInputStream();\n\n            byte[] buffer = new byte[1024];\n            int len1;\n            long total = 0;\n            while ((len1 = is.read(buffer)) != -1) {\n                total += len1;\n                fos.write(buffer, 0, len1);\n                publishProgress((int) ((total * 100) / lenghtOfFile));\n            }\n            fos.close();\n            is.close();\n            if (mPDialog != null)\n                mPDialog.dismiss();\n            installApk();\n        } catch (Exception e) {\n            Log.e(&quot;UpdateAPP&quot;, &quot;Update error! &quot; + e.getMessage());\n        }\n        return null;\n    }\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        if (mPDialog != null)\n            mPDialog.show();\n\n    }\n\n\n    @Override\n    protected void onProgressUpdate(Integer... values) {\n        super.onProgressUpdate(values);\n        if (mPDialog != null) {\n            mPDialog.setIndeterminate(false);\n            mPDialog.setMax(100);\n            mPDialog.setProgress(values[0]);\n        }\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        if (mPDialog != null)\n            mPDialog.dismiss();\n        if (result != null)\n            Toast.makeText(mContext, &quot;Download error: &quot; + result, Toast.LENGTH_LONG).show();\n        else\n            Toast.makeText(mContext, &quot;File Downloaded&quot;, Toast.LENGTH_SHORT).show();\n            installApk();\n    }\n\n\n    private void installApk() {\n        try {\n            String PATH = Objects.requireNonNull(mContext.getExternalFilesDir(null)).getAbsolutePath();\n            File file = new File(PATH + &quot;/my_apk.apk&quot;);\n            Intent intent = new Intent(Intent.ACTION_VIEW);\n            if (Build.VERSION.SDK_INT &gt;= 24) {\n                Uri downloaded_apk = FileProvider.getUriForFile(mContext, mContext.getApplicationContext().getPackageName() + &quot;.provider&quot;, file);\n                intent.setDataAndType(downloaded_apk, &quot;application/vnd.android.package-archive&quot;);\n                List&lt;ResolveInfo&gt; resInfoList = mContext.getPackageManager().queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);\n                for (ResolveInfo resolveInfo : resInfoList) {\n                    mContext.grantUriPermission(mContext.getApplicationContext().getPackageName() + &quot;.provider&quot;, downloaded_apk, Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                }\n                intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                startActivity(intent);\n            } else {\n                intent.setAction(Intent.ACTION_VIEW);\n                intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                intent.putExtra(Intent.EXTRA_NOT_UNKNOWN_SOURCE, true);\n                intent.setDataAndType(Uri.fromFile(file), &quot;application/vnd.android.package-archive&quot;);\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            }\n            startActivity(intent);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>At the end i hava created a Button in the layout file with the id btn_click.</p>\n<p>But when I run the App and press on Download the only thing thats happens is that the file just gets downloaded and the app shows an parse Error.</p>\n"},{"tags":["java","android","date","time"],"comments":[{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":2,"creation_date":1511367562,"post_id":47437547,"comment_id":81833537,"body_markdown":"I tend to agree that this isn&#39;t a duplicate - the other answers I saw seemed to suggest adding the SET_TIME permission, which I see you already tried. I voted to reopen.","body":"I tend to agree that this isn&#39;t a duplicate - the other answers I saw seemed to suggest adding the SET_TIME permission, which I see you already tried. I voted to reopen."},{"owner":{"account_id":4346527,"reputation":93,"user_id":3548328,"display_name":"AlternateView"},"score":0,"creation_date":1511367924,"post_id":47437547,"comment_id":81833804,"body_markdown":"Thank you, if there&#39;s a better way of handling this scenario within SO then I&#39;d appreciate someone actually explaining how to do so rather than just marking it and moving on. I can&#39;t exactly comment with this level of detail on all existing answers - in fact, with my rep level, I can&#39;t comment full stop yet.","body":"Thank you, if there&#39;s a better way of handling this scenario within SO then I&#39;d appreciate someone actually explaining how to do so rather than just marking it and moving on. I can&#39;t exactly comment with this level of detail on all existing answers - in fact, with my rep level, I can&#39;t comment full stop yet."},{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":1,"creation_date":1511454633,"post_id":47437547,"comment_id":81874369,"body_markdown":"It looks like the question is now (correctly, in my opinion) reopened.","body":"It looks like the question is now (correctly, in my opinion) reopened."},{"owner":{"account_id":3228096,"reputation":8549,"user_id":2723943,"accept_rate":90,"display_name":"Imran Ali Khan"},"score":0,"creation_date":1511784300,"post_id":47437547,"comment_id":81976749,"body_markdown":"Possible duplicate of [How to set mobile system time and date in android?](https://stackoverflow.com/questions/1332269/how-to-set-mobile-system-time-and-date-in-android)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1332269/how-to-set-mobile-system-time-and-date-in-android\">How to set mobile system time and date in android?</a>"},{"owner":{"account_id":6780,"reputation":40730,"user_id":11527,"accept_rate":40,"display_name":"Ber"},"score":0,"creation_date":1623422531,"post_id":47437547,"comment_id":120082874,"body_markdown":"The approach using `AlarmManager.setTime()` only works for system apps, i.e. those signed with the system key and running as the system user. Usually this is only possible if you build the whole system yourself, e.g. using AOSP. Rooting a device does not help.","body":"The approach using <code>AlarmManager.setTime()</code> only works for system apps, i.e. those signed with the system key and running as the system user. Usually this is only possible if you build the whole system yourself, e.g. using AOSP. Rooting a device does not help."}],"answers":[{"tags":[],"owner":{"account_id":4346527,"reputation":93,"user_id":3548328,"display_name":"AlternateView"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1511527704,"creation_date":1511527704,"answer_id":47473660,"question_id":47437547,"body_markdown":"As it turns out, the answer *did* lie in the referenced question [found here][1]. However, the command is different for Android 7 (and possibly 6, I have not tested) devices. I do not have the reputation to comment over there, so if someone wishes to paste/reference this answer on that question, go right ahead.\r\n\r\nThe date code I used was in the format MMddhhmmyy, rather than yyyyMMdd.hhmmss; this works for me on Android 7. I also removed the appended &#39;-s&#39;. The full working code I used to set the system time is below. Again it should be noted that this requires rooting the device so is only useful in certain scenarios like mine.\r\n\r\n         try {\r\n\r\n            Process process = Runtime.getRuntime().exec(&quot;su&quot;);\r\n            DataOutputStream os = new DataOutputStream(process.getOutputStream());\r\n            String command = &quot;date 1123104017\\n&quot;;\r\n            // Log.e(&quot;command&quot;,command);\r\n            os.writeBytes(command);\r\n            os.flush();\r\n            os.writeBytes(&quot;exit\\n&quot;);\r\n            os.flush();\r\n            process.waitFor();\r\n\r\n        } catch (InterruptedException e) {\r\n            Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show();\r\n        } catch (IOException e) {\r\n            Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\nThe date I entered, for clarity, is November 23rd 2017 at 10:40 AM. \r\n\r\n  [1]: https://stackoverflow.com/questions/1332269/how-to-set-mobile-system-time-and-date-in-android","title":"Programmatically set System Time","body":"<p>As it turns out, the answer <em>did</em> lie in the referenced question <a href=\"https://stackoverflow.com/questions/1332269/how-to-set-mobile-system-time-and-date-in-android\">found here</a>. However, the command is different for Android 7 (and possibly 6, I have not tested) devices. I do not have the reputation to comment over there, so if someone wishes to paste/reference this answer on that question, go right ahead.</p>\n\n<p>The date code I used was in the format MMddhhmmyy, rather than yyyyMMdd.hhmmss; this works for me on Android 7. I also removed the appended '-s'. The full working code I used to set the system time is below. Again it should be noted that this requires rooting the device so is only useful in certain scenarios like mine.</p>\n\n<pre><code>     try {\n\n        Process process = Runtime.getRuntime().exec(\"su\");\n        DataOutputStream os = new DataOutputStream(process.getOutputStream());\n        String command = \"date 1123104017\\n\";\n        // Log.e(\"command\",command);\n        os.writeBytes(command);\n        os.flush();\n        os.writeBytes(\"exit\\n\");\n        os.flush();\n        process.waitFor();\n\n    } catch (InterruptedException e) {\n        Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show();\n    } catch (IOException e) {\n        Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n\n<p>The date I entered, for clarity, is November 23rd 2017 at 10:40 AM. </p>\n"},{"tags":[],"owner":{"account_id":10802884,"reputation":131,"user_id":7946147,"display_name":"Ali Elahi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579520945,"creation_date":1579185438,"answer_id":59771941,"question_id":47437547,"body_markdown":"if you need set second too use this format : MMddhhmmyy.ss\r\n\r\nif you have long value of time use this : \r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MMddhhmmyy.ss&quot;);\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTimeInMillis(timeValue);\r\n    Date date = calendar.getTime();\r\n\r\n    Process process = Runtime.getRuntime().exec(&quot;su&quot;);\r\n    DataOutputStream os = new DataOutputStream(process.getOutputStream());\r\n\r\n    String command = &quot;date &quot; + dateFormat.format(date)  + &quot;\\n&quot;;\r\n\r\n    os.writeBytes(command);\r\n    os.flush();\r\n    os.writeBytes(&quot;exit\\n&quot;);\r\n    os.flush();\r\n    process.waitFor();\r\n\r\n","title":"Programmatically set System Time","body":"<p>if you need set second too use this format : MMddhhmmyy.ss</p>\n\n<p>if you have long value of time use this : </p>\n\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat(\"MMddhhmmyy.ss\");\nCalendar calendar = Calendar.getInstance();\ncalendar.setTimeInMillis(timeValue);\nDate date = calendar.getTime();\n\nProcess process = Runtime.getRuntime().exec(\"su\");\nDataOutputStream os = new DataOutputStream(process.getOutputStream());\n\nString command = \"date \" + dateFormat.format(date)  + \"\\n\";\n\nos.writeBytes(command);\nos.flush();\nos.writeBytes(\"exit\\n\");\nos.flush();\nprocess.waitFor();\n</code></pre>\n"}],"owner":{"account_id":4346527,"reputation":93,"user_id":3548328,"display_name":"AlternateView"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10076,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":47473660,"answer_count":2,"score":7,"last_activity_date":1682623263,"creation_date":1511362035,"question_id":47437547,"body_markdown":"*I realise this question appears elsewhere on SO, however I&#39;ve tried all solutions that I can find on the site and am still having difficulty. These questions (and their answers) are also several years old, and rather than commenting on old questions, I thought I&#39;d consolidate information here for others and investigate potentially related changes to Android between then and now. Still, if you feel this question qualifies as a duplicate, mark it as such.*\r\n\r\n**Edit: As I stated, other answers on SO have not solved the problem.** I don&#39;t see how commenting on each and every potential fix with &quot;Doesn&#39;t work for me&quot; is conducive to helping myself and others solve the problem, but if that&#39;s the case, so be it. For reference, 3 people have marked the questions as a potential duplicate of [this question][1], so I have added those non-working answers to the list below.\r\n\r\nMy application has some very specific needs, but for the sake of brevity, let&#39;s just assume I need to set the system time and date manually to a fixed value. Below I have detailed some notes about my progress in attempting to get this working.\r\n\r\nThe app has a minimum SDK version of, and is targeting, 24. Others found that they needed to increase the version to this level.\r\n\r\nThe device has been rooted, and the application is being installed to /system/app so that I can change the date/time. \r\n\r\nSome have commented that it is outright impossible for apps to set the time, however looking at apps such as ClockSync, this does not seem to be the case. I&#39;m aware that my app will not be available on the Play store.\r\n\r\nThe app must set the date/time automatically without user input, so using the following code to make a user set it will not help;\r\n\r\n    startActivity(new Intent(android.provider.Settings.ACTION_DATE_SETTINGS));\r\n\r\nI added the set time permission to the manifest in two ways, on their own and then together. I also tried adding the part about removing the maxSDKversion.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SET_TIME&quot; tools:remove=&quot;android:maxSdkVersion&quot; /&gt;\r\n\r\n    &lt;permission android:name=&quot;android.permission.SET_TIME&quot;\r\n        android:protectionLevel=&quot;signature|system&quot;/&gt;\r\n\r\nI had read that certain permissions required not only a manifest entry, but for the user to accept and allow them. However, SET_TIME is not listed among these. I did try doing it anyway, however my permission request was automatically rejected without showing the confirmation box, probably because it did not actually *require* the permission in the first place.\r\n\r\nThe code I&#39;m using to try and set the time is as follows:\r\n\r\n    try {\r\n            Calendar c = Calendar.getInstance();\r\n            c.set(2017, 11, 21, 12, 32, 30);\r\n            AlarmManager am = (AlarmManager) this.getSystemService(Context.ALARM_SERVICE);\r\n            am.setTime(c.getTimeInMillis());\r\n        } catch (Exception e) {\r\n            Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\nThe error I receive in a toast when this fails is:\r\n\r\n    java.lang.securityexception: setTime: neither user 10051 nor current process has android.permission.SET_TIME\r\n\r\nI have tried the two solutions in the question referenced in my above edit, both of which involve running code to set the date as such:\r\n\r\n    Runtime.getRuntime().exec(&quot;su &amp;&amp; date -s 20171122.153720&quot;);}\r\n\r\nBoth of those answers do nothing - the time does not change and no exceptions are thrown. The other answer requires internet access which is outside the scope of my question.\r\n\r\nConsidering all of the above, is there any key step I have missed in making this work, or anything in the code that would indicate a problem? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1332269/how-to-set-mobile-system-time-and-date-in-android","title":"Programmatically set System Time","body":"<p><em>I realise this question appears elsewhere on SO, however I've tried all solutions that I can find on the site and am still having difficulty. These questions (and their answers) are also several years old, and rather than commenting on old questions, I thought I'd consolidate information here for others and investigate potentially related changes to Android between then and now. Still, if you feel this question qualifies as a duplicate, mark it as such.</em></p>\n\n<p><strong>Edit: As I stated, other answers on SO have not solved the problem.</strong> I don't see how commenting on each and every potential fix with \"Doesn't work for me\" is conducive to helping myself and others solve the problem, but if that's the case, so be it. For reference, 3 people have marked the questions as a potential duplicate of <a href=\"https://stackoverflow.com/questions/1332269/how-to-set-mobile-system-time-and-date-in-android\">this question</a>, so I have added those non-working answers to the list below.</p>\n\n<p>My application has some very specific needs, but for the sake of brevity, let's just assume I need to set the system time and date manually to a fixed value. Below I have detailed some notes about my progress in attempting to get this working.</p>\n\n<p>The app has a minimum SDK version of, and is targeting, 24. Others found that they needed to increase the version to this level.</p>\n\n<p>The device has been rooted, and the application is being installed to /system/app so that I can change the date/time. </p>\n\n<p>Some have commented that it is outright impossible for apps to set the time, however looking at apps such as ClockSync, this does not seem to be the case. I'm aware that my app will not be available on the Play store.</p>\n\n<p>The app must set the date/time automatically without user input, so using the following code to make a user set it will not help;</p>\n\n<pre><code>startActivity(new Intent(android.provider.Settings.ACTION_DATE_SETTINGS));\n</code></pre>\n\n<p>I added the set time permission to the manifest in two ways, on their own and then together. I also tried adding the part about removing the maxSDKversion.</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.SET_TIME\" tools:remove=\"android:maxSdkVersion\" /&gt;\n\n&lt;permission android:name=\"android.permission.SET_TIME\"\n    android:protectionLevel=\"signature|system\"/&gt;\n</code></pre>\n\n<p>I had read that certain permissions required not only a manifest entry, but for the user to accept and allow them. However, SET_TIME is not listed among these. I did try doing it anyway, however my permission request was automatically rejected without showing the confirmation box, probably because it did not actually <em>require</em> the permission in the first place.</p>\n\n<p>The code I'm using to try and set the time is as follows:</p>\n\n<pre><code>try {\n        Calendar c = Calendar.getInstance();\n        c.set(2017, 11, 21, 12, 32, 30);\n        AlarmManager am = (AlarmManager) this.getSystemService(Context.ALARM_SERVICE);\n        am.setTime(c.getTimeInMillis());\n    } catch (Exception e) {\n        Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n\n<p>The error I receive in a toast when this fails is:</p>\n\n<pre><code>java.lang.securityexception: setTime: neither user 10051 nor current process has android.permission.SET_TIME\n</code></pre>\n\n<p>I have tried the two solutions in the question referenced in my above edit, both of which involve running code to set the date as such:</p>\n\n<pre><code>Runtime.getRuntime().exec(\"su &amp;&amp; date -s 20171122.153720\");}\n</code></pre>\n\n<p>Both of those answers do nothing - the time does not change and no exceptions are thrown. The other answer requires internet access which is outside the scope of my question.</p>\n\n<p>Considering all of the above, is there any key step I have missed in making this work, or anything in the code that would indicate a problem? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1682622232,"post_id":76123818,"comment_id":134249067,"body_markdown":"Why did you make `RequestV1` `abstract` then?","body":"Why did you make <code>RequestV1</code> <code>abstract</code> then?"},{"owner":{"account_id":28438015,"reputation":3,"user_id":21757821,"display_name":"Josh Helman"},"score":0,"creation_date":1682622811,"post_id":76123818,"comment_id":134249183,"body_markdown":"Because without making it abstract I have to implement around 25+ interfaces from `org.apache.xmlbeans.XmlObject`","body":"Because without making it abstract I have to implement around 25+ interfaces from <code>org.apache.xmlbeans.XmlObject</code>"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1682623184,"post_id":76123818,"comment_id":134249262,"body_markdown":"Seems like you&#39;re mixing up the usecase of the interface `XmlObject` which you might not need to implement.","body":"Seems like you&#39;re mixing up the usecase of the interface <code>XmlObject</code> which you might not need to implement."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682622965,"creation_date":1682622965,"answer_id":76123919,"question_id":76123818,"body_markdown":"You **have to implement** the methods of the interface **your class is implementing**. The only shortcut is if there is an actual implementation of the interface meant for users to extend.","title":"&#39;RequestV1&#39; is abstract; cannot be instantiated","body":"<p>You <strong>have to implement</strong> the methods of the interface <strong>your class is implementing</strong>. The only shortcut is if there is an actual implementation of the interface meant for users to extend.</p>\n"}],"owner":{"account_id":28438015,"reputation":3,"user_id":21757821,"display_name":"Josh Helman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682623113,"creation_date":1682622109,"question_id":76123818,"body_markdown":"I have the following Java code:\r\n\r\n\r\n    RequestV1 request;\r\n    ...\r\n    validateRequest(request);\r\n    ....\r\n    public void validateRequest(final XmlObject request){...} \r\n\r\nI created this Java Object:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class RequestV1 {\r\n    \r\n        public static class Factory {\r\n            public static RequestV1 newInstance() {\r\n                return new RequestV1();\r\n            }\r\n        }\r\n        ......\r\n    }\r\n\r\nI get error at this line`validateRequest(request);`:\r\n\r\n    Required type: XmlObject\r\n    Provided: RequestV1\r\n\r\nI tried to implement abstract class like this:\r\n\r\n    import org.apache.xmlbeans.XmlObject;\r\n\r\n    @Getter\r\n    @Setter\r\n    public abstract class RequestV1 implements XmlObject {\r\n    \r\n        public static class Factory {\r\n            public static RequestV1 newInstance() {\r\n                return new RequestV1();\r\n            }\r\n        }\r\n\r\nBut at this line `return new RequestV1();` I get error: `&#39;RequestV1&#39; is abstract; cannot be instantiated`\r\n\r\nI need this new instance to use it like this: `RequestV1 requestV1 = RequestV1.Factory.newInstance();`  \r\n\r\nDo you know how I can edit `RequestV1` or restructure it so that I can fit all requirements?\r\n\r\n\r\nI tried to implement abstract class like this:\r\n\r\n    import org.apache.xmlbeans.XmlObject;\r\n\r\n    @Getter\r\n    @Setter\r\n    public abstract class RequestV1 implements XmlObject {\r\n    \r\n        public static class Factory {\r\n            public static RequestV1 newInstance() {\r\n                return new RequestV1();\r\n            }\r\n        }","title":"&#39;RequestV1&#39; is abstract; cannot be instantiated","body":"<p>I have the following Java code:</p>\n<pre><code>RequestV1 request;\n...\nvalidateRequest(request);\n....\npublic void validateRequest(final XmlObject request){...} \n</code></pre>\n<p>I created this Java Object:</p>\n<pre><code>@Getter\n@Setter\npublic class RequestV1 {\n\n    public static class Factory {\n        public static RequestV1 newInstance() {\n            return new RequestV1();\n        }\n    }\n    ......\n}\n</code></pre>\n<p>I get error at this line<code>validateRequest(request);</code>:</p>\n<pre><code>Required type: XmlObject\nProvided: RequestV1\n</code></pre>\n<p>I tried to implement abstract class like this:</p>\n<pre><code>import org.apache.xmlbeans.XmlObject;\n\n@Getter\n@Setter\npublic abstract class RequestV1 implements XmlObject {\n\n    public static class Factory {\n        public static RequestV1 newInstance() {\n            return new RequestV1();\n        }\n    }\n</code></pre>\n<p>But at this line <code>return new RequestV1();</code> I get error: <code>'RequestV1' is abstract; cannot be instantiated</code></p>\n<p>I need this new instance to use it like this: <code>RequestV1 requestV1 = RequestV1.Factory.newInstance();</code></p>\n<p>Do you know how I can edit <code>RequestV1</code> or restructure it so that I can fit all requirements?</p>\n<p>I tried to implement abstract class like this:</p>\n<pre><code>import org.apache.xmlbeans.XmlObject;\n\n@Getter\n@Setter\npublic abstract class RequestV1 implements XmlObject {\n\n    public static class Factory {\n        public static RequestV1 newInstance() {\n            return new RequestV1();\n        }\n    }\n</code></pre>\n"},{"tags":["java","sockets","udp"],"owner":{"account_id":28435783,"reputation":1,"user_id":21755884,"display_name":"denvercoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682622837,"creation_date":1682608151,"question_id":76121982,"body_markdown":"What happens when I first bind a datagram channel using wildcard address using a snippet similar to the one below \r\n\r\n```\r\nInetAddress wildCardAddress = InetAddress.getByName(&quot;0.0.0.0&quot;);\r\nInetSocketAddress isa = new InetSocketAddress(wildCardAddress, 8888);\r\nDatagramChannel channel = DatagramChannel.open(StandardProtocolFamily.INET)\r\n                                         .setOption(StandardSocketOptions.SO_REUSEADDR, true)\r\n                                         .bind(isa);\r\n```\r\nand then all network interfaces go down and after some time some of the network interfaces go up. Will this channel still be viable or do I need to create a new one?\r\n\r\nI am having trouble receiving multicast packets after interfaces go down and then go up again.","title":"What happens to a bound datagramchannel when all network interfaces are down?","body":"<p>What happens when I first bind a datagram channel using wildcard address using a snippet similar to the one below</p>\n<pre><code>InetAddress wildCardAddress = InetAddress.getByName(&quot;0.0.0.0&quot;);\nInetSocketAddress isa = new InetSocketAddress(wildCardAddress, 8888);\nDatagramChannel channel = DatagramChannel.open(StandardProtocolFamily.INET)\n                                         .setOption(StandardSocketOptions.SO_REUSEADDR, true)\n                                         .bind(isa);\n</code></pre>\n<p>and then all network interfaces go down and after some time some of the network interfaces go up. Will this channel still be viable or do I need to create a new one?</p>\n<p>I am having trouble receiving multicast packets after interfaces go down and then go up again.</p>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":1854518,"reputation":771,"user_id":1680403,"display_name":"Rainer"},"score":0,"creation_date":1511957848,"post_id":47552091,"comment_id":82061762,"body_markdown":"I&#180;m not sure but I think this does not work as you want it. You could either duplicate the property line to the child bean or break up the inheritance and use composition instead. Therefore add a &quot;parent&quot; property in the child class.","body":"I&#180;m not sure but I think this does not work as you want it. You could either duplicate the property line to the child bean or break up the inheritance and use composition instead. Therefore add a &quot;parent&quot; property in the child class."},{"owner":{"account_id":1752863,"reputation":763,"user_id":1601564,"accept_rate":67,"display_name":"Adrian Bob"},"score":0,"creation_date":1511958099,"post_id":47552091,"comment_id":82061960,"body_markdown":"I&#39;m pretty sure it should work this way... Only in the need of overriding the property value should be added in the child class. At least this is what i get from Spring&#39;s documentation : https://docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch04s06.html","body":"I&#39;m pretty sure it should work this way... Only in the need of overriding the property value should be added in the child class. At least this is what i get from Spring&#39;s documentation : <a href=\"https://docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch04s06.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch04s06.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":1854518,"reputation":771,"user_id":1680403,"display_name":"Rainer"},"score":0,"creation_date":1511971297,"post_id":47552091,"comment_id":82071235,"body_markdown":"Well. 1. The doc you linked is for Spring 3.0. 2. The parent class is defined as abstract in the example. Maybe that is causing your issue. Not sure about the singleton flag - could also lead to problems. You also don&#180;t have the &quot;init-method=&quot;initialize&quot;&quot;. Does the exact example from your link work with your Spring version?","body":"Well. 1. The doc you linked is for Spring 3.0. 2. The parent class is defined as abstract in the example. Maybe that is causing your issue. Not sure about the singleton flag - could also lead to problems. You also don&#180;t have the &quot;init-method=&quot;initialize&quot;&quot;. Does the exact example from your link work with your Spring version?"},{"owner":{"account_id":1752863,"reputation":763,"user_id":1601564,"accept_rate":67,"display_name":"Adrian Bob"},"score":0,"creation_date":1511980575,"post_id":47552091,"comment_id":82076735,"body_markdown":"Maybe it was not the best example to link the documentation for Spring 3 since I&#39;m using Spring 1.X but I think that there aren&#39;t that many changes to the basic usage of how Dipendency Injection works in Spring since the 1st version.\nThis would be the same documentation from the version that I use https://docs.spring.io/spring/docs/1.2.7/spring-reference.pdf  at 3.5. Abstract and child bean definitions","body":"Maybe it was not the best example to link the documentation for Spring 3 since I&#39;m using Spring 1.X but I think that there aren&#39;t that many changes to the basic usage of how Dipendency Injection works in Spring since the 1st version. This would be the same documentation from the version that I use <a href=\"https://docs.spring.io/spring/docs/1.2.7/spring-reference.pdf\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/1.2.7/spring-reference.pdf</a>  at 3.5. Abstract and child bean definitions"},{"owner":{"account_id":1752863,"reputation":763,"user_id":1601564,"accept_rate":67,"display_name":"Adrian Bob"},"score":0,"creation_date":1511980762,"post_id":47552091,"comment_id":82076820,"body_markdown":"It says in the above paragraph that parent beans used as abstract are not instantiated at all. But it doesn&#39;t say that parent beans cannot be abstract. \nAlso tried without the singleton tag and it runs the same. And in my usage context the beans have to not be singleton. \nRegarding the &quot;init-method&quot; from the example it should not be a problem since that is used only if you want to explicitly use a certain method for initialization, in case it&#39;s not provided the default constructor and setters are used to instantiate the bean.","body":"It says in the above paragraph that parent beans used as abstract are not instantiated at all. But it doesn&#39;t say that parent beans cannot be abstract.  Also tried without the singleton tag and it runs the same. And in my usage context the beans have to not be singleton.  Regarding the &quot;init-method&quot; from the example it should not be a problem since that is used only if you want to explicitly use a certain method for initialization, in case it&#39;s not provided the default constructor and setters are used to instantiate the bean."},{"owner":{"account_id":1752863,"reputation":763,"user_id":1601564,"accept_rate":67,"display_name":"Adrian Bob"},"score":0,"creation_date":1511984304,"post_id":47552091,"comment_id":82078697,"body_markdown":"https://www.concretepage.com/spring/spring-bean-definition-inheritance-example-using-annotation-and-xml-configuration-with-parent-and-template-with-abstract-attribute There are a lot of examples online which all follow this pattern .. I can&#39;t understand why I&#39;m having problems with it.","body":"<a href=\"https://www.concretepage.com/spring/spring-bean-definition-inheritance-example-using-annotation-and-xml-configuration-with-parent-and-template-with-abstract-attribute\" rel=\"nofollow noreferrer\">concretepage.com/spring/&hellip;</a> There are a lot of examples online which all follow this pattern .. I can&#39;t understand why I&#39;m having problems with it."},{"owner":{"account_id":1854518,"reputation":771,"user_id":1680403,"display_name":"Rainer"},"score":0,"creation_date":1512032903,"post_id":47552091,"comment_id":82096434,"body_markdown":"Hmmm that&#180;s really strange. Could you maybe create a little github project which I can check with my settings? Unfortunately I don&#180;t have the time right now to setup a little example...","body":"Hmmm that&#180;s really strange. Could you maybe create a little github project which I can check with my settings? Unfortunately I don&#180;t have the time right now to setup a little example..."},{"owner":{"account_id":8698672,"reputation":1814,"user_id":6509292,"display_name":"Johannes von Zmuda"},"score":0,"creation_date":1557305836,"post_id":47552091,"comment_id":98716352,"body_markdown":"I&#39;m having the same problem. However my parent classes are abstract.","body":"I&#39;m having the same problem. However my parent classes are abstract."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1682622635,"post_id":47552091,"comment_id":134249143,"body_markdown":"ChildClass does not extend ParentClass in your code.  I see no relationship between these two classes - no IS-A by inheritance, no HAS-A by composition.  Perhaps that is why Spring doesn&#39;t either.","body":"ChildClass does not extend ParentClass in your code.  I see no relationship between these two classes - no IS-A by inheritance, no HAS-A by composition.  Perhaps that is why Spring doesn&#39;t either."}],"owner":{"account_id":1752863,"reputation":763,"user_id":1601564,"accept_rate":67,"display_name":"Adrian Bob"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1323,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":0,"score":3,"last_activity_date":1682621423,"creation_date":1511956074,"question_id":47552091,"body_markdown":"I have this strange case that an inherited property is null when executing a method from the parent class using super() from the child class.\r\n\r\nHere are the 2 classes:\r\n\r\n    public class ParentClass {\r\n    \r\n        private String property;\r\n        \r\n        public void setProperty(String property) {\r\n            this.property = property;\r\n        }\r\n    \r\n        public String getProperty() {\r\n            return property;\r\n        }\r\n    \r\n        public void execute() {\r\n        // do something with property;\r\n        }\r\n    }\r\n\r\n    public class ChildClass {\r\n\r\n        @Override\r\n        public void execute() {\r\n            super.execute();\r\n\r\n            // do something else with property\r\n        }\r\n    }\r\n\r\nSpring application context:\r\n\r\n    &lt;bean id=&quot;parentClass&quot; class=&quot;com.ParentClass&quot; singleton=&quot;false&quot;&gt;\r\n        &lt;property name=&quot;property&quot; value=&quot;value&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;childClass&quot; class=&quot;com.ChildClass&quot; parent=&quot;parentClass&quot; singleton=&quot;false&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\nWhen the execute method from ParentClass is called directly property has the value set accordingly. \r\n\r\nBut when the ChildClass&#39;s super.execute() calls the base implementation of execute() from ParentClass the property attribute is null and I cannot understand why. \r\n\r\n( It&#39;s a legacy project which is using Spring 1.2.7 but still Dependency Injection should work normally)","title":"Inherited property from parent spring bean has null value","body":"<p>I have this strange case that an inherited property is null when executing a method from the parent class using super() from the child class.</p>\n<p>Here are the 2 classes:</p>\n<pre><code>public class ParentClass {\n\n    private String property;\n    \n    public void setProperty(String property) {\n        this.property = property;\n    }\n\n    public String getProperty() {\n        return property;\n    }\n\n    public void execute() {\n    // do something with property;\n    }\n}\n\npublic class ChildClass {\n\n    @Override\n    public void execute() {\n        super.execute();\n\n        // do something else with property\n    }\n}\n</code></pre>\n<p>Spring application context:</p>\n<pre><code>&lt;bean id=&quot;parentClass&quot; class=&quot;com.ParentClass&quot; singleton=&quot;false&quot;&gt;\n    &lt;property name=&quot;property&quot; value=&quot;value&quot;/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;childClass&quot; class=&quot;com.ChildClass&quot; parent=&quot;parentClass&quot; singleton=&quot;false&quot;&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>When the execute method from ParentClass is called directly property has the value set accordingly.</p>\n<p>But when the ChildClass's super.execute() calls the base implementation of execute() from ParentClass the property attribute is null and I cannot understand why.</p>\n<p>( It's a legacy project which is using Spring 1.2.7 but still Dependency Injection should work normally)</p>\n"},{"tags":["java","thread-safety","wait","sleep"],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682532574,"creation_date":1682532574,"answer_id":76113831,"question_id":76113778,"body_markdown":"You to initialize `isJobDone` to false, and change it to `true` if the job succeeds. Also you need to initialize `retriesCounter = 0` not `5`\r\n\r\n\r\n    public synchronized void initApplicationWithRetry() throws InterruptedException {\r\n        boolean isJobDone = false;\r\n        int retriesCounter = 0;\r\n        while (!isJobDone &amp;&amp; retriesCounter &lt; 3) {\r\n            try {\r\n                doJob();\r\n                isJobDone = true;\r\n            } catch (Exception e) {\r\n                //handle error\r\n            } finally {\r\n                ++retriesCounter; // For some reason it&#39;s not incremented\r\n            }\r\n            if (!isJobDone) {\r\n                wait(3000); //waits for 3 second\r\n            }\r\n        }\r\n        if (!isJobDone) {\r\n            throw new RuntimeException();\r\n        }\r\n    }\r\n","title":"How can I rerun a method until it succeeds?","body":"<p>You to initialize <code>isJobDone</code> to false, and change it to <code>true</code> if the job succeeds. Also you need to initialize <code>retriesCounter = 0</code> not <code>5</code></p>\n<pre><code>public synchronized void initApplicationWithRetry() throws InterruptedException {\n    boolean isJobDone = false;\n    int retriesCounter = 0;\n    while (!isJobDone &amp;&amp; retriesCounter &lt; 3) {\n        try {\n            doJob();\n            isJobDone = true;\n        } catch (Exception e) {\n            //handle error\n        } finally {\n            ++retriesCounter; // For some reason it's not incremented\n        }\n        if (!isJobDone) {\n            wait(3000); //waits for 3 second\n        }\n    }\n    if (!isJobDone) {\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5924321,"reputation":107,"user_id":4660721,"display_name":"Cristian A. Rodr&#237;guez Enr&#237;quez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682536543,"creation_date":1682536543,"answer_id":76114309,"question_id":76113778,"body_markdown":"Instead of use a loop, try with a TimerTask.\r\n\r\nTimerTask repeats executing the &quot;run&quot; method every &quot;waitTime&quot; milliseconds. You can specify when to stop repeating this task by calling &quot;timer.cancel()&quot;\r\n\r\n    public void initApplicationWithRetry() {\r\n        Timer timer = new Timer();\r\n\r\n        timer.schedule(new TimerTask() {\r\n            int counter = 0;\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    doJob();\r\n                    timer.cancel(); // runs when there is no exception\r\n                }\r\n                catch(Exception e) {\r\n                    // Handle error\r\n                }\r\n            }\r\n        }\r\n    }, 0, waitTime);\r\n\r\n**Note:** If you want to know how many retries has be done, just put a counter to the catch or finally block.","title":"How can I rerun a method until it succeeds?","body":"<p>Instead of use a loop, try with a TimerTask.</p>\n<p>TimerTask repeats executing the &quot;run&quot; method every &quot;waitTime&quot; milliseconds. You can specify when to stop repeating this task by calling &quot;timer.cancel()&quot;</p>\n<pre><code>public void initApplicationWithRetry() {\n    Timer timer = new Timer();\n\n    timer.schedule(new TimerTask() {\n        int counter = 0;\n        @Override\n        public void run() {\n            try {\n                doJob();\n                timer.cancel(); // runs when there is no exception\n            }\n            catch(Exception e) {\n                // Handle error\n            }\n        }\n    }\n}, 0, waitTime);\n</code></pre>\n<p><strong>Note:</strong> If you want to know how many retries has be done, just put a counter to the catch or finally block.</p>\n"},{"tags":[],"owner":{"account_id":5527385,"reputation":1611,"user_id":4388482,"accept_rate":69,"display_name":"nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682617928,"creation_date":1682617928,"answer_id":76123336,"question_id":76113778,"body_markdown":"It appears that the RuntimeException is causing an issue with the loop termination condition.\r\n\r\nWhen the RuntimeException is thrown, it is not caught by the catch block in the loop, and instead propagates up the call stack until it is caught by the nearest catch block that can handle it. If there is no such block, the program terminates with an error.\r\n\r\nIn this case, the RuntimeException is not caught by the loop, and so the loop continues to run indefinitely.","title":"How can I rerun a method until it succeeds?","body":"<p>It appears that the RuntimeException is causing an issue with the loop termination condition.</p>\n<p>When the RuntimeException is thrown, it is not caught by the catch block in the loop, and instead propagates up the call stack until it is caught by the nearest catch block that can handle it. If there is no such block, the program terminates with an error.</p>\n<p>In this case, the RuntimeException is not caught by the loop, and so the loop continues to run indefinitely.</p>\n"}],"owner":{"account_id":5527385,"reputation":1611,"user_id":4388482,"accept_rate":69,"display_name":"nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1682620964,"creation_date":1682532195,"question_id":76113778,"body_markdown":"I want to rerun a method until it succeeds. I would like to block the application until it succeeds.\r\n\r\nI&#39;m currently using this code\r\n\r\n    public synchronized void initApplicationWithRetry() throws InterruptedException {\r\n        int retriesCounter = 0;\r\n        while (!isJobDone &amp;&amp; retriesCounter &lt; 3) {\r\n            try {\r\n                doJob();\r\n            } catch (DummyException e) {\r\n                //handle error\r\n            } finally {\r\n                ++retriesCounter; // For some reason it&#39;s not incremented\r\n            }\r\n            if (isJobDone) {\r\n                return;\r\n            }\r\n            wait(3000); //waits for 3 second\r\n        }\r\n        if (!isJobDone) {\r\n            throw new RuntimeException();\r\n        }\r\n    }\r\n\r\nMy issue is `retriesCounter` doesn&#39;t seem to get incremented. Which is one of the termination conditions.\r\n\r\nAny suggestions?","title":"How can I rerun a method until it succeeds?","body":"<p>I want to rerun a method until it succeeds. I would like to block the application until it succeeds.</p>\n<p>I'm currently using this code</p>\n<pre><code>public synchronized void initApplicationWithRetry() throws InterruptedException {\n    int retriesCounter = 0;\n    while (!isJobDone &amp;&amp; retriesCounter &lt; 3) {\n        try {\n            doJob();\n        } catch (DummyException e) {\n            //handle error\n        } finally {\n            ++retriesCounter; // For some reason it's not incremented\n        }\n        if (isJobDone) {\n            return;\n        }\n        wait(3000); //waits for 3 second\n    }\n    if (!isJobDone) {\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>My issue is <code>retriesCounter</code> doesn't seem to get incremented. Which is one of the termination conditions.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","priority-queue"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":486,"is_accepted":true,"score":486,"last_activity_date":1561346724,"creation_date":1238008848,"answer_id":683049,"question_id":683041,"body_markdown":"Use the constructor overload which takes a `Comparator&lt;? super E&gt; comparator` and pass in a comparator which compares in the appropriate way for your sort order. If you give an example of how you want to sort, we can provide some sample code to implement the comparator if you&#39;re not sure. (It&#39;s pretty straightforward though.)\n\nAs has been said elsewhere: `offer` and `add` are just different interface method implementations. In the JDK source I&#39;ve got, `add` calls `offer`. Although `add` and `offer` have *potentially* different behaviour in general due to the ability for `offer` to indicate that the value can&#39;t be added due to size limitations, this difference is irrelevant in `PriorityQueue` which is unbounded.\n\nHere&#39;s an example of a priority queue sorting by string length:\n\n    // Test.java\n    import java.util.Comparator;\n    import java.util.PriorityQueue;\n    \n    public class Test {\n        public static void main(String[] args) {\n            Comparator&lt;String&gt; comparator = new StringLengthComparator();\n            PriorityQueue&lt;String&gt; queue = new PriorityQueue&lt;String&gt;(10, comparator);\n            queue.add(&quot;short&quot;);\n            queue.add(&quot;very long indeed&quot;);\n            queue.add(&quot;medium&quot;);\n            while (queue.size() != 0) {\n                System.out.println(queue.remove());\n            }\n        }\n    }\n\n    // StringLengthComparator.java\n    import java.util.Comparator;\n    \n    public class StringLengthComparator implements Comparator&lt;String&gt; {\n        @Override\n        public int compare(String x, String y) {\n            // Assume neither string is null. Real code should\n            // probably be more robust\n            // You could also just return x.length() - y.length(),\n            // which would be more efficient.\n            if (x.length() &lt; y.length()) {\n                return -1;\n            }\n            if (x.length() &gt; y.length()) {\n                return 1;\n            }\n            return 0;\n        }\n    }\n\nHere is the output: \n\n&gt;short\n&gt;\n&gt;medium\n&gt;\n&gt;very long indeed\n\n\n","title":"How do I use a PriorityQueue?","body":"<p>Use the constructor overload which takes a <code>Comparator&lt;? super E&gt; comparator</code> and pass in a comparator which compares in the appropriate way for your sort order. If you give an example of how you want to sort, we can provide some sample code to implement the comparator if you're not sure. (It's pretty straightforward though.)</p>\n<p>As has been said elsewhere: <code>offer</code> and <code>add</code> are just different interface method implementations. In the JDK source I've got, <code>add</code> calls <code>offer</code>. Although <code>add</code> and <code>offer</code> have <em>potentially</em> different behaviour in general due to the ability for <code>offer</code> to indicate that the value can't be added due to size limitations, this difference is irrelevant in <code>PriorityQueue</code> which is unbounded.</p>\n<p>Here's an example of a priority queue sorting by string length:</p>\n<pre><code>// Test.java\nimport java.util.Comparator;\nimport java.util.PriorityQueue;\n\npublic class Test {\n    public static void main(String[] args) {\n        Comparator&lt;String&gt; comparator = new StringLengthComparator();\n        PriorityQueue&lt;String&gt; queue = new PriorityQueue&lt;String&gt;(10, comparator);\n        queue.add(&quot;short&quot;);\n        queue.add(&quot;very long indeed&quot;);\n        queue.add(&quot;medium&quot;);\n        while (queue.size() != 0) {\n            System.out.println(queue.remove());\n        }\n    }\n}\n\n// StringLengthComparator.java\nimport java.util.Comparator;\n\npublic class StringLengthComparator implements Comparator&lt;String&gt; {\n    @Override\n    public int compare(String x, String y) {\n        // Assume neither string is null. Real code should\n        // probably be more robust\n        // You could also just return x.length() - y.length(),\n        // which would be more efficient.\n        if (x.length() &lt; y.length()) {\n            return -1;\n        }\n        if (x.length() &gt; y.length()) {\n            return 1;\n        }\n        return 0;\n    }\n}\n</code></pre>\n<p>Here is the output:</p>\n<blockquote>\n<p>short</p>\n<p>medium</p>\n<p>very long indeed</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":30124,"reputation":1590,"user_id":81957,"display_name":"dragonfly"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1238010216,"creation_date":1238010216,"answer_id":683129,"question_id":683041,"body_markdown":"Just pass appropriate [`Comparator`][1] to the [constructor][2]:\r\n\r\n    PriorityQueue(int initialCapacity, Comparator&lt;? super E&gt; comparator)\r\n\r\nThe only difference between [`offer`][3] and [`add`][4] is the interface they belong to. `offer` belongs to [`Queue&lt;E&gt;`][5], whereas `add` is originally seen in [`Collection&lt;E&gt;`][6] interface. Apart from that both methods do exactly the same thing - insert the specified element into priority queue.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/Comparator.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/PriorityQueue.html#PriorityQueue(int,%20java.util.Comparator)\r\n  [3]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/PriorityQueue.html#offer(E)\r\n  [4]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/PriorityQueue.html#add(E)\r\n  [5]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Queue.html\r\n  [6]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Collection.html","title":"How do I use a PriorityQueue?","body":"<p>Just pass appropriate <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code></a> to the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/PriorityQueue.html#PriorityQueue(int,%20java.util.Comparator)\" rel=\"noreferrer\">constructor</a>:</p>\n\n<pre><code>PriorityQueue(int initialCapacity, Comparator&lt;? super E&gt; comparator)\n</code></pre>\n\n<p>The only difference between <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/PriorityQueue.html#offer(E)\" rel=\"noreferrer\"><code>offer</code></a> and <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/PriorityQueue.html#add(E)\" rel=\"noreferrer\"><code>add</code></a> is the interface they belong to. <code>offer</code> belongs to <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Queue.html\" rel=\"noreferrer\"><code>Queue&lt;E&gt;</code></a>, whereas <code>add</code> is originally seen in <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Collection.html\" rel=\"noreferrer\"><code>Collection&lt;E&gt;</code></a> interface. Apart from that both methods do exactly the same thing - insert the specified element into priority queue.</p>\n"},{"tags":[],"owner":{"account_id":22197,"reputation":1331,"user_id":54519,"accept_rate":11,"display_name":"d1ck50n"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1291125111,"creation_date":1291125111,"answer_id":4314459,"question_id":683041,"body_markdown":"no different, as declare in javadoc:\r\n\r\n    public boolean add(E e) {\r\n        return offer(e);\r\n    }\r\n","title":"How do I use a PriorityQueue?","body":"<p>no different, as declare in javadoc:</p>\n\n<pre><code>public boolean add(E e) {\n    return offer(e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13245,"reputation":5748,"user_id":26483,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1307621646,"creation_date":1294045012,"answer_id":4583178,"question_id":683041,"body_markdown":"from [Queue API][1]:\r\n\r\n&gt;The offer method inserts an element if possible, otherwise returning false. This differs from the Collection.add method, which can fail to add an element only by throwing an unchecked exception. The offer method is designed for use when failure is a normal, rather than exceptional occurrence, for example, in fixed-capacity (or &quot;bounded&quot;) queues. \r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Queue.html","title":"How do I use a PriorityQueue?","body":"<p>from <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Queue.html\" rel=\"noreferrer\">Queue API</a>:</p>\n\n<blockquote>\n  <p>The offer method inserts an element if possible, otherwise returning false. This differs from the Collection.add method, which can fail to add an element only by throwing an unchecked exception. The offer method is designed for use when failure is a normal, rather than exceptional occurrence, for example, in fixed-capacity (or \"bounded\") queues. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":695581,"reputation":31,"user_id":575096,"display_name":"joserey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1295025819,"creation_date":1294966967,"answer_id":4687076,"question_id":683041,"body_markdown":"I was also wondering about print order.  Consider this case, for example:\r\n\r\nFor a priority queue:\r\n\r\n    PriorityQueue&lt;String&gt; pq3 = new PriorityQueue&lt;String&gt;();\r\n\r\nThis code:\r\n\r\n    pq3.offer(&quot;a&quot;);\r\n    pq3.offer(&quot;A&quot;);\r\n\r\nmay print differently than:\r\n\r\n    String[] sa = {&quot;a&quot;, &quot;A&quot;}; \r\n    for(String s : sa)   \r\n       pq3.offer(s);\r\n\r\nI found the answer from a discussion [on another forum][1], where a user said, &quot;the offer()/add() methods only insert the element into the queue. If you want a predictable order you should use peek/poll which return the head of the queue.&quot;\r\n\r\n\r\n  [1]: http://www.coderanch.com/t/514612/java-programmer-SCJP/certification/add-offer-method-PriorityQueue","title":"How do I use a PriorityQueue?","body":"<p>I was also wondering about print order.  Consider this case, for example:</p>\n\n<p>For a priority queue:</p>\n\n<pre><code>PriorityQueue&lt;String&gt; pq3 = new PriorityQueue&lt;String&gt;();\n</code></pre>\n\n<p>This code:</p>\n\n<pre><code>pq3.offer(\"a\");\npq3.offer(\"A\");\n</code></pre>\n\n<p>may print differently than:</p>\n\n<pre><code>String[] sa = {\"a\", \"A\"}; \nfor(String s : sa)   \n   pq3.offer(s);\n</code></pre>\n\n<p>I found the answer from a discussion <a href=\"http://www.coderanch.com/t/514612/java-programmer-SCJP/certification/add-offer-method-PriorityQueue\" rel=\"nofollow\">on another forum</a>, where a user said, \"the offer()/add() methods only insert the element into the queue. If you want a predictable order you should use peek/poll which return the head of the queue.\"</p>\n"},{"tags":[],"owner":{"account_id":4257011,"reputation":3241,"user_id":3482428,"accept_rate":100,"display_name":"Blueriver"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1397472139,"creation_date":1397472139,"answer_id":23058025,"question_id":683041,"body_markdown":"Just to answer the `add()` vs `offer()` question (since the other one is perfectly answered imo, and this might not be):\r\n\r\nAccording to [JavaDoc on interface Queue](http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html), &quot;The offer method inserts an element if possible, otherwise returning false. This differs from the Collection.add method, which can fail to add an element only by throwing an unchecked exception. The offer method is designed for use when failure is a normal, rather than exceptional occurrence, for example, in fixed-capacity (or &quot;bounded&quot;) queues.&quot;\r\n\r\nThat means if you can add the element (which should always be the case in a PriorityQueue), they work exactly the same. But if you can&#39;t add the element, `offer()` will give you a nice and pretty `false` return, while `add()` throws a nasty unchecked exception that you don&#39;t want in your code. If failure to add means code is working as intended and/or it is something you&#39;ll check normally, use `offer()`. If failure to add means something is broken, use `add()` and handle the resulting exception thrown according to [the Collection interface&#39;s specifications](http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html#add(E)).\r\n\r\nThey are both implemented this way to fullfill the contract on the Queue interface that specifies `offer()` fails by returning a `false` ([method preferred in capacity-restricted queues](http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#offer(E))) and also maintain the contract on the Collection interface that [specifies `add()` always fails by throwing an exception](http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#add(E)).\r\n\r\nAnyway, hope that clarifies at least that part of the question.","title":"How do I use a PriorityQueue?","body":"<p>Just to answer the <code>add()</code> vs <code>offer()</code> question (since the other one is perfectly answered imo, and this might not be):</p>\n\n<p>According to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html\" rel=\"noreferrer\">JavaDoc on interface Queue</a>, \"The offer method inserts an element if possible, otherwise returning false. This differs from the Collection.add method, which can fail to add an element only by throwing an unchecked exception. The offer method is designed for use when failure is a normal, rather than exceptional occurrence, for example, in fixed-capacity (or \"bounded\") queues.\"</p>\n\n<p>That means if you can add the element (which should always be the case in a PriorityQueue), they work exactly the same. But if you can't add the element, <code>offer()</code> will give you a nice and pretty <code>false</code> return, while <code>add()</code> throws a nasty unchecked exception that you don't want in your code. If failure to add means code is working as intended and/or it is something you'll check normally, use <code>offer()</code>. If failure to add means something is broken, use <code>add()</code> and handle the resulting exception thrown according to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html#add%28E%29\" rel=\"noreferrer\">the Collection interface's specifications</a>.</p>\n\n<p>They are both implemented this way to fullfill the contract on the Queue interface that specifies <code>offer()</code> fails by returning a <code>false</code> (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#offer%28E%29\" rel=\"noreferrer\">method preferred in capacity-restricted queues</a>) and also maintain the contract on the Collection interface that <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#add%28E%29\" rel=\"noreferrer\">specifies <code>add()</code> always fails by throwing an exception</a>.</p>\n\n<p>Anyway, hope that clarifies at least that part of the question.</p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":102,"is_accepted":false,"score":102,"last_activity_date":1556517030,"creation_date":1479264568,"answer_id":40623276,"question_id":683041,"body_markdown":"Java 8 solution\r\n---------------\r\n\r\nWe can use `lambda expression` or `method reference` introduced in Java 8. In case we have some String values stored in the Priority Queue (having capacity 5) we can provide inline comparator (based on length of String) : \r\n\r\n**Using lambda expression**\r\n\r\n    PriorityQueue&lt;String&gt; pq=\r\n                        new PriorityQueue&lt;String&gt;(5,(a,b) -&gt; a.length() - b.length());\r\n\r\n**Using Method reference**\r\n\r\n    PriorityQueue&lt;String&gt; pq=\r\n                    new PriorityQueue&lt;String&gt;(5, Comparator.comparing(String::length));\r\n\r\nThen we can use any of them as:\r\n\r\n    public static void main(String[] args) {\r\n            PriorityQueue&lt;String&gt; pq=\r\n                    new PriorityQueue&lt;String&gt;(5, (a,b) -&gt; a.length() - b.length());\r\n           // or pq = new PriorityQueue&lt;String&gt;(5, Comparator.comparing(String::length));\r\n            pq.add(&quot;Apple&quot;);\r\n            pq.add(&quot;PineApple&quot;);\r\n            pq.add(&quot;Custard Apple&quot;);\r\n            while (pq.size() != 0)\r\n            {\r\n                System.out.println(pq.remove());\r\n            }\r\n        }\r\n\r\nThis will print:\r\n\r\n    Apple\r\n    PineApple\r\n    Custard Apple\r\n\r\nTo reverse the order (to change it to max-priority queue) simply change the order in inline comparator or use `reversed` as:\r\n\r\n    PriorityQueue&lt;String&gt; pq = new PriorityQueue&lt;String&gt;(5, \r\n                                 Comparator.comparing(String::length).reversed());\r\nWe can also use `Collections.reverseOrder`:\r\n\r\n    PriorityQueue&lt;Integer&gt; pqInt = new PriorityQueue&lt;&gt;(10, Collections.reverseOrder());\r\n    PriorityQueue&lt;String&gt; pq = new PriorityQueue&lt;String&gt;(5, \r\n                    Collections.reverseOrder(Comparator.comparing(String::length))\r\n\r\nSo we can see that `Collections.reverseOrder` is overloaded to take comparator which can be useful for custom objects. The `reversed` actually uses `Collections.reverseOrder`:\r\n\r\n    default Comparator&lt;T&gt; reversed() {\r\n        return Collections.reverseOrder(this);\r\n    }\r\n\r\noffer() vs add()\r\n----------------\r\n\r\nAs per the [doc][1] \r\n\r\n&gt; The offer method inserts an element if possible, otherwise returning\r\n&gt; false. This differs from the Collection.add method, which can fail to\r\n&gt; add an element only by throwing an unchecked exception. The offer\r\n&gt; method is designed for use when failure is a normal, rather than\r\n&gt; exceptional occurrence, for example, in fixed-capacity (or &quot;bounded&quot;)\r\n&gt; queues.\r\n\r\nWhen using a capacity-restricted queue, offer() is generally preferable to add(), which can fail to insert an element only by throwing an exception. And [PriorityQueue][2] is an unbounded priority queue based on a priority heap.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Queue.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\r\n\r\n\r\n\r\n","title":"How do I use a PriorityQueue?","body":"<h2>Java 8 solution</h2>\n\n<p>We can use <code>lambda expression</code> or <code>method reference</code> introduced in Java 8. In case we have some String values stored in the Priority Queue (having capacity 5) we can provide inline comparator (based on length of String) : </p>\n\n<p><strong>Using lambda expression</strong></p>\n\n<pre><code>PriorityQueue&lt;String&gt; pq=\n                    new PriorityQueue&lt;String&gt;(5,(a,b) -&gt; a.length() - b.length());\n</code></pre>\n\n<p><strong>Using Method reference</strong></p>\n\n<pre><code>PriorityQueue&lt;String&gt; pq=\n                new PriorityQueue&lt;String&gt;(5, Comparator.comparing(String::length));\n</code></pre>\n\n<p>Then we can use any of them as:</p>\n\n<pre><code>public static void main(String[] args) {\n        PriorityQueue&lt;String&gt; pq=\n                new PriorityQueue&lt;String&gt;(5, (a,b) -&gt; a.length() - b.length());\n       // or pq = new PriorityQueue&lt;String&gt;(5, Comparator.comparing(String::length));\n        pq.add(\"Apple\");\n        pq.add(\"PineApple\");\n        pq.add(\"Custard Apple\");\n        while (pq.size() != 0)\n        {\n            System.out.println(pq.remove());\n        }\n    }\n</code></pre>\n\n<p>This will print:</p>\n\n<pre><code>Apple\nPineApple\nCustard Apple\n</code></pre>\n\n<p>To reverse the order (to change it to max-priority queue) simply change the order in inline comparator or use <code>reversed</code> as:</p>\n\n<pre><code>PriorityQueue&lt;String&gt; pq = new PriorityQueue&lt;String&gt;(5, \n                             Comparator.comparing(String::length).reversed());\n</code></pre>\n\n<p>We can also use <code>Collections.reverseOrder</code>:</p>\n\n<pre><code>PriorityQueue&lt;Integer&gt; pqInt = new PriorityQueue&lt;&gt;(10, Collections.reverseOrder());\nPriorityQueue&lt;String&gt; pq = new PriorityQueue&lt;String&gt;(5, \n                Collections.reverseOrder(Comparator.comparing(String::length))\n</code></pre>\n\n<p>So we can see that <code>Collections.reverseOrder</code> is overloaded to take comparator which can be useful for custom objects. The <code>reversed</code> actually uses <code>Collections.reverseOrder</code>:</p>\n\n<pre><code>default Comparator&lt;T&gt; reversed() {\n    return Collections.reverseOrder(this);\n}\n</code></pre>\n\n<h2>offer() vs add()</h2>\n\n<p>As per the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Queue.html\" rel=\"noreferrer\">doc</a> </p>\n\n<blockquote>\n  <p>The offer method inserts an element if possible, otherwise returning\n  false. This differs from the Collection.add method, which can fail to\n  add an element only by throwing an unchecked exception. The offer\n  method is designed for use when failure is a normal, rather than\n  exceptional occurrence, for example, in fixed-capacity (or \"bounded\")\n  queues.</p>\n</blockquote>\n\n<p>When using a capacity-restricted queue, offer() is generally preferable to add(), which can fail to insert an element only by throwing an exception. And <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\" rel=\"noreferrer\">PriorityQueue</a> is an unbounded priority queue based on a priority heap.</p>\n"},{"tags":[],"owner":{"account_id":8161752,"reputation":5609,"user_id":6145568,"display_name":"devDeejay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488929828,"creation_date":1488929828,"answer_id":42660390,"question_id":683041,"body_markdown":"*Priority Queue has some priority assigned to each element, The element with Highest priority appears at the Top Of Queue. Now, It depends on you how you want priority assigned to each of the elements. If you don&#39;t, the Java will do it the default way. The element with the least value is assigned the highest priority and thus is removed from the queue first. If there are several elements with the same highest priority, the tie is broken arbitrarily. You can also specify an ordering using Comparator in the constructor* `PriorityQueue(initialCapacity, comparator)`\r\n\r\n**Example Code:**\r\n\r\n\tPriorityQueue&lt;String&gt; queue1 = new PriorityQueue&lt;&gt;();\r\n\tqueue1.offer(&quot;Oklahoma&quot;);\r\n\tqueue1.offer(&quot;Indiana&quot;);\r\n\tqueue1.offer(&quot;Georgia&quot;);\r\n\tqueue1.offer(&quot;Texas&quot;);\r\n\tSystem.out.println(&quot;Priority queue using Comparable:&quot;);\r\n\twhile (queue1.size() &gt; 0) {\r\n\t\tSystem.out.print(queue1.remove() + &quot; &quot;);\r\n\t}\r\n\tPriorityQueue&lt;String&gt; queue2 = new PriorityQueue(4, Collections.reverseOrder());\r\n\tqueue2.offer(&quot;Oklahoma&quot;);\r\n\tqueue2.offer(&quot;Indiana&quot;);\r\n\tqueue2.offer(&quot;Georgia&quot;);\r\n\tqueue2.offer(&quot;Texas&quot;);\r\n\tSystem.out.println(&quot;\\nPriority queue using Comparator:&quot;);\r\n\twhile (queue2.size() &gt; 0) {\r\n\t\tSystem.out.print(queue2.remove() + &quot; &quot;);\r\n\t}\r\n\r\n**Output:**\r\n\r\n    Priority queue using Comparable:\r\n    Georgia Indiana Oklahoma Texas \r\n    Priority queue using Comparator:\r\n    Texas Oklahoma Indiana Georgia \r\n\r\nElse, You can also define Custom Comparator:\r\n\r\n    import java.util.Comparator;\r\n    \r\n    public class StringLengthComparator implements Comparator&lt;String&gt;\r\n    {\r\n        @Override\r\n        public int compare(String x, String y)\r\n        {\r\n        \t//Your Own Logic\r\n        }\r\n    }\r\n\r\n","title":"How do I use a PriorityQueue?","body":"<p><em>Priority Queue has some priority assigned to each element, The element with Highest priority appears at the Top Of Queue. Now, It depends on you how you want priority assigned to each of the elements. If you don't, the Java will do it the default way. The element with the least value is assigned the highest priority and thus is removed from the queue first. If there are several elements with the same highest priority, the tie is broken arbitrarily. You can also specify an ordering using Comparator in the constructor</em> <code>PriorityQueue(initialCapacity, comparator)</code></p>\n\n<p><strong>Example Code:</strong></p>\n\n<pre><code>PriorityQueue&lt;String&gt; queue1 = new PriorityQueue&lt;&gt;();\nqueue1.offer(\"Oklahoma\");\nqueue1.offer(\"Indiana\");\nqueue1.offer(\"Georgia\");\nqueue1.offer(\"Texas\");\nSystem.out.println(\"Priority queue using Comparable:\");\nwhile (queue1.size() &gt; 0) {\n    System.out.print(queue1.remove() + \" \");\n}\nPriorityQueue&lt;String&gt; queue2 = new PriorityQueue(4, Collections.reverseOrder());\nqueue2.offer(\"Oklahoma\");\nqueue2.offer(\"Indiana\");\nqueue2.offer(\"Georgia\");\nqueue2.offer(\"Texas\");\nSystem.out.println(\"\\nPriority queue using Comparator:\");\nwhile (queue2.size() &gt; 0) {\n    System.out.print(queue2.remove() + \" \");\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Priority queue using Comparable:\nGeorgia Indiana Oklahoma Texas \nPriority queue using Comparator:\nTexas Oklahoma Indiana Georgia \n</code></pre>\n\n<p>Else, You can also define Custom Comparator:</p>\n\n<pre><code>import java.util.Comparator;\n\npublic class StringLengthComparator implements Comparator&lt;String&gt;\n{\n    @Override\n    public int compare(String x, String y)\n    {\n        //Your Own Logic\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9008999,"reputation":3602,"user_id":6714430,"display_name":"rashedcs"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1490291821,"creation_date":1490290598,"answer_id":42983164,"question_id":683041,"body_markdown":" **In here, We can define user defined comparator:**   \n     \n\n&gt;    Below code :\n\n \n    \n     import java.util.*;\n     import java.util.Collections;\n     import java.util.Comparator; \n\n\n     class Checker implements Comparator&lt;String&gt;\n     {\n        public int compare(String str1, String str2)\n        {\n            if (str1.length() &lt; str2.length()) return -1;\n            else                               return 1;\n        }\n     }\n\n\n    class Main\n    {  \n       public static void main(String args[])\n        {  \n          PriorityQueue&lt;String&gt; queue=new PriorityQueue&lt;String&gt;(5, new Checker());  \n          queue.add(&quot;india&quot;);  \n          queue.add(&quot;bangladesh&quot;);  \n          queue.add(&quot;pakistan&quot;);  \n     \n          while (queue.size() != 0)\n          {\n             System.out.printf(&quot;%s\\n&quot;,queue.remove());\n          }\n       }  \n    }  \n\n   \n\n&gt;  **Output :**                          \n&gt;\n&gt;        india                                               \n&gt;        pakistan                                         \n&gt;        bangladesh\n\n\n\n                                \n\n\n  \n\nDifference between the offer and add methods : [link][1]\n\n\n  [1]: http://www.interviewsansar.com/2015/05/22/which-method-will-you-prefer-between-add-and-offer-methods-to-add-elements-in-a-queue-and-why/","title":"How do I use a PriorityQueue?","body":"<p><strong>In here, We can define user defined comparator:</strong></p>\n<blockquote>\n<p>Below code :</p>\n</blockquote>\n<pre><code> import java.util.*;\n import java.util.Collections;\n import java.util.Comparator; \n\n\n class Checker implements Comparator&lt;String&gt;\n {\n    public int compare(String str1, String str2)\n    {\n        if (str1.length() &lt; str2.length()) return -1;\n        else                               return 1;\n    }\n }\n\n\nclass Main\n{  \n   public static void main(String args[])\n    {  \n      PriorityQueue&lt;String&gt; queue=new PriorityQueue&lt;String&gt;(5, new Checker());  \n      queue.add(&quot;india&quot;);  \n      queue.add(&quot;bangladesh&quot;);  \n      queue.add(&quot;pakistan&quot;);  \n \n      while (queue.size() != 0)\n      {\n         System.out.printf(&quot;%s\\n&quot;,queue.remove());\n      }\n   }  \n}  \n</code></pre>\n<blockquote>\n<p><strong>Output :</strong></p>\n<pre><code>   india                                               \n   pakistan                                         \n   bangladesh\n</code></pre>\n</blockquote>\n<p>Difference between the offer and add methods : <a href=\"http://www.interviewsansar.com/2015/05/22/which-method-will-you-prefer-between-add-and-offer-methods-to-add-elements-in-a-queue-and-why/\" rel=\"noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500294861,"creation_date":1500294861,"answer_id":45144442,"question_id":683041,"body_markdown":"Here is the simple example which you can use for initial learning:\r\n\r\n    \r\n    import java.util.Comparator;\r\n    import java.util.PriorityQueue;\r\n    import java.util.Queue;\r\n    import java.util.Random;\r\n    \r\n    public class PQExample {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t//PriorityQueue with Comparator\r\n    \t\tQueue&lt;Customer&gt; cpq = new PriorityQueue&lt;&gt;(7, idComp);\r\n    \t\taddToQueue(cpq);\r\n    \t\tpollFromQueue(cpq);\r\n    \t}\r\n    \t\r\n    \tpublic static Comparator&lt;Customer&gt; idComp = new Comparator&lt;Customer&gt;(){\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int compare(Customer o1, Customer o2) {\r\n    \t\t\treturn (int) (o1.getId() - o2.getId());\r\n    \t\t}\r\n    \t\t\r\n    \t};\r\n    \t\r\n    \t//utility method to add random data to Queue\r\n    \tprivate static void addToQueue(Queue&lt;Customer&gt; cq){\r\n    \t\tRandom rand = new Random();\r\n    \t\tfor(int i=0;i&lt;7;i++){\r\n    \t\t\tint id = rand.nextInt(100);\r\n    \t\t\tcq.add(new Customer(id, &quot;KV&quot;+id));\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate static void pollFromQueue(Queue&lt;Customer&gt; cq){\r\n    \t\twhile(true){\r\n    \t\t\tCustomer c = cq.poll();\r\n    \t\t\tif(c == null) break;\r\n    \t\t\tSystem.out.println(&quot;Customer Polled : &quot;+c.getId() + &quot; &quot;+ c.getName());\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How do I use a PriorityQueue?","body":"<p>Here is the simple example which you can use for initial learning:</p>\n\n<pre><code>import java.util.Comparator;\nimport java.util.PriorityQueue;\nimport java.util.Queue;\nimport java.util.Random;\n\npublic class PQExample {\n\n    public static void main(String[] args) {\n        //PriorityQueue with Comparator\n        Queue&lt;Customer&gt; cpq = new PriorityQueue&lt;&gt;(7, idComp);\n        addToQueue(cpq);\n        pollFromQueue(cpq);\n    }\n\n    public static Comparator&lt;Customer&gt; idComp = new Comparator&lt;Customer&gt;(){\n\n        @Override\n        public int compare(Customer o1, Customer o2) {\n            return (int) (o1.getId() - o2.getId());\n        }\n\n    };\n\n    //utility method to add random data to Queue\n    private static void addToQueue(Queue&lt;Customer&gt; cq){\n        Random rand = new Random();\n        for(int i=0;i&lt;7;i++){\n            int id = rand.nextInt(100);\n            cq.add(new Customer(id, \"KV\"+id));\n        }\n    }\n\n\n    private static void pollFromQueue(Queue&lt;Customer&gt; cq){\n        while(true){\n            Customer c = cq.poll();\n            if(c == null) break;\n            System.out.println(\"Customer Polled : \"+c.getId() + \" \"+ c.getName());\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1503517663,"creation_date":1503517663,"answer_id":45848178,"question_id":683041,"body_markdown":"As an alternative to using [`Comparator`](https://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html), you can also have the class you&#39;re using in your `PriorityQueue` **implement [`Comparable`](https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html)** (and correspondingly override the `compareTo` method).\r\n\r\nNote that it&#39;s generally best to only use `Comparable` instead of `Comparator` if that ordering is the intuitive ordering of the object - if, for example, you have a use case to sort `Person` objects by age, it&#39;s probably best to just use `Comparator` instead.\r\n\r\n    import java.lang.Comparable;\r\n    import java.util.PriorityQueue;\r\n    \r\n    class Test\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            PriorityQueue&lt;MyClass&gt; queue = new PriorityQueue&lt;MyClass&gt;();\r\n            queue.add(new MyClass(2, &quot;short&quot;));\r\n            queue.add(new MyClass(2, &quot;very long indeed&quot;));\r\n            queue.add(new MyClass(1, &quot;medium&quot;));\r\n            queue.add(new MyClass(1, &quot;very long indeed&quot;));\r\n            queue.add(new MyClass(2, &quot;medium&quot;));\r\n            queue.add(new MyClass(1, &quot;short&quot;));\r\n            while (queue.size() != 0)\r\n                System.out.println(queue.remove());\r\n        }\r\n    }\r\n    \r\n&lt;!-- --&gt;\r\n\r\n    class MyClass implements Comparable&lt;MyClass&gt;\r\n    {\r\n        int sortFirst;\r\n        String sortByLength;\r\n    \t\r\n        public MyClass(int sortFirst, String sortByLength)\r\n        {\r\n            this.sortFirst = sortFirst;\r\n            this.sortByLength = sortByLength;\r\n        }\r\n    \t\r\n        @Override\r\n        public int compareTo(MyClass other)\r\n        {\r\n            if (sortFirst != other.sortFirst)\r\n                return Integer.compare(sortFirst, other.sortFirst);\r\n            else\r\n                return Integer.compare(sortByLength.length(), other.sortByLength.length());\r\n        }\r\n       \r\n        public String toString()\r\n        {\r\n            return sortFirst + &quot;, &quot; + sortByLength;\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    1, short\r\n    1, medium\r\n    1, very long indeed\r\n    2, short\r\n    2, medium\r\n    2, very long indeed\r\n","title":"How do I use a PriorityQueue?","body":"<p>As an alternative to using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a>, you can also have the class you're using in your <code>PriorityQueue</code> <strong>implement <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a></strong> (and correspondingly override the <code>compareTo</code> method).</p>\n\n<p>Note that it's generally best to only use <code>Comparable</code> instead of <code>Comparator</code> if that ordering is the intuitive ordering of the object - if, for example, you have a use case to sort <code>Person</code> objects by age, it's probably best to just use <code>Comparator</code> instead.</p>\n\n<pre><code>import java.lang.Comparable;\nimport java.util.PriorityQueue;\n\nclass Test\n{\n    public static void main(String[] args)\n    {\n        PriorityQueue&lt;MyClass&gt; queue = new PriorityQueue&lt;MyClass&gt;();\n        queue.add(new MyClass(2, \"short\"));\n        queue.add(new MyClass(2, \"very long indeed\"));\n        queue.add(new MyClass(1, \"medium\"));\n        queue.add(new MyClass(1, \"very long indeed\"));\n        queue.add(new MyClass(2, \"medium\"));\n        queue.add(new MyClass(1, \"short\"));\n        while (queue.size() != 0)\n            System.out.println(queue.remove());\n    }\n}\n</code></pre>\n\n\n\n<pre><code>class MyClass implements Comparable&lt;MyClass&gt;\n{\n    int sortFirst;\n    String sortByLength;\n\n    public MyClass(int sortFirst, String sortByLength)\n    {\n        this.sortFirst = sortFirst;\n        this.sortByLength = sortByLength;\n    }\n\n    @Override\n    public int compareTo(MyClass other)\n    {\n        if (sortFirst != other.sortFirst)\n            return Integer.compare(sortFirst, other.sortFirst);\n        else\n            return Integer.compare(sortByLength.length(), other.sortByLength.length());\n    }\n\n    public String toString()\n    {\n        return sortFirst + \", \" + sortByLength;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1, short\n1, medium\n1, very long indeed\n2, short\n2, medium\n2, very long indeed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1511888134,"creation_date":1511287555,"answer_id":47419809,"question_id":683041,"body_markdown":"Pass it a `Comparator`. Fill in your desired type in place of `T`\r\n\r\nUsing lambdas (Java 8+):\r\n\r\n    int initialCapacity = 10;\r\n    PriorityQueue&lt;T&gt; pq = new PriorityQueue&lt;&gt;(initialCapacity, (e1, e2) -&gt; { return e1.compareTo(e2); });\r\n\r\nClassic way, using anonymous class:\r\n\r\n    int initialCapacity = 10;\r\n\tPriorityQueue&lt;T&gt; pq = new PriorityQueue&lt;&gt;(initialCapacity, new Comparator&lt;T&gt; () {\r\n\t\r\n\t\t@Override\r\n\t\tpublic int compare(T e1, T e2) {\r\n\t\t\treturn e1.compareTo(e2);\r\n\t\t}\r\n\t\r\n\t});\r\n\r\nTo sort in reverse order, simply swap e1, e2.\r\n","title":"How do I use a PriorityQueue?","body":"<p>Pass it a <code>Comparator</code>. Fill in your desired type in place of <code>T</code></p>\n\n<p>Using lambdas (Java 8+):</p>\n\n<pre><code>int initialCapacity = 10;\nPriorityQueue&lt;T&gt; pq = new PriorityQueue&lt;&gt;(initialCapacity, (e1, e2) -&gt; { return e1.compareTo(e2); });\n</code></pre>\n\n<p>Classic way, using anonymous class:</p>\n\n<pre><code>int initialCapacity = 10;\nPriorityQueue&lt;T&gt; pq = new PriorityQueue&lt;&gt;(initialCapacity, new Comparator&lt;T&gt; () {\n\n    @Override\n    public int compare(T e1, T e2) {\n        return e1.compareTo(e2);\n    }\n\n});\n</code></pre>\n\n<p>To sort in reverse order, simply swap e1, e2.</p>\n"},{"tags":[],"owner":{"account_id":4228050,"reputation":1228,"user_id":3461120,"display_name":"prashant.kr.mod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682620819,"creation_date":1682620819,"answer_id":76123673,"question_id":683041,"body_markdown":"    public class Graph {\r\n      public Set&lt;Node&gt; nodes = new HashSet&lt;Node&gt;();\r\n    }\r\n\r\n    public class Node {\r\n      \r\n      public String name;\r\n      public List&lt;Node&gt; shortestPath = new ArrayList&lt;Node&gt;();\r\n      Map&lt;Node, Integer&gt; adjMap = new HashMap&lt;Node, Integer&gt;();\r\n      public Integer weight = Integer.MAX_VALUE;\r\n    }\r\n\r\n    PriorityQueue&lt;Node&gt; unQueriedNodes =\r\n            new PriorityQueue&lt;Node&gt;(graph.nodes.size(), Comparator.comparingInt(o -&gt; o.weight));","title":"How do I use a PriorityQueue?","body":"<pre><code>public class Graph {\n  public Set&lt;Node&gt; nodes = new HashSet&lt;Node&gt;();\n}\n\npublic class Node {\n  \n  public String name;\n  public List&lt;Node&gt; shortestPath = new ArrayList&lt;Node&gt;();\n  Map&lt;Node, Integer&gt; adjMap = new HashMap&lt;Node, Integer&gt;();\n  public Integer weight = Integer.MAX_VALUE;\n}\n\nPriorityQueue&lt;Node&gt; unQueriedNodes =\n        new PriorityQueue&lt;Node&gt;(graph.nodes.size(), Comparator.comparingInt(o -&gt; o.weight));\n</code></pre>\n"}],"owner":{"account_id":17529,"reputation":153981,"user_id":39321,"accept_rate":80,"display_name":"Svish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668272,"favorite_count":0,"down_vote_count":3,"up_vote_count":422,"accepted_answer_id":683049,"answer_count":13,"score":419,"last_activity_date":1682620819,"creation_date":1238008718,"question_id":683041,"body_markdown":"How do I get a [`PriorityQueue`][doc-pq] to sort on what I want it to sort on?\r\n\r\nAlso, is there a difference between the [`offer`][doc-pq-offer] and [`add`][doc-pq-add] methods?\r\n\r\n\r\n  [doc-pq]: https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\r\n  [doc-pq-add]: https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#add-E-\r\n  [doc-pq-offer]: https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#offer-E-","title":"How do I use a PriorityQueue?","body":"<p>How do I get a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\" rel=\"noreferrer\"><code>PriorityQueue</code></a> to sort on what I want it to sort on?</p>\n\n<p>Also, is there a difference between the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#offer-E-\" rel=\"noreferrer\"><code>offer</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#add-E-\" rel=\"noreferrer\"><code>add</code></a> methods?</p>\n"},{"tags":["java","intellij-idea","glassfish"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1682620283,"post_id":76123569,"comment_id":134248726,"body_markdown":"Check the server logs. See if you can start it from the command line. Try a clean server installation. Verify the port is detected correctly. If the server startup freezes, you can use `jstack` to get a thread dump and try to figure out what&#39;s causing the freeze.","body":"Check the server logs. See if you can start it from the command line. Try a clean server installation. Verify the port is detected correctly. If the server startup freezes, you can use <code>jstack</code> to get a thread dump and try to figure out what&#39;s causing the freeze."}],"owner":{"account_id":26686412,"reputation":41,"user_id":20295668,"display_name":"wonka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682619926,"creation_date":1682619926,"question_id":76123569,"body_markdown":"Glassfish seems not running. It stays like in first image below for a long time.\r\n\r\nWhy could this be happening?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1wwkl.png\r\n  [2]: https://i.stack.imgur.com/1esCR.png","title":"Glassfish doesn&#39;t open/debug project in Intellij Idea","body":"<p>Glassfish seems not running. It stays like in first image below for a long time.</p>\n<p>Why could this be happening?</p>\n<p><a href=\"https://i.stack.imgur.com/1wwkl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1wwkl.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/1esCR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1esCR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","jpa","persistent"],"comments":[{"owner":{"account_id":12797889,"reputation":1500,"user_id":9260161,"display_name":"Philip Wrage"},"score":0,"creation_date":1682615973,"post_id":76122995,"comment_id":134247769,"body_markdown":"What does your `Post` model class look like?","body":"What does your <code>Post</code> model class look like?"},{"owner":{"account_id":11081943,"reputation":127,"user_id":8136917,"display_name":"R&#244;mulo Borges"},"score":0,"creation_date":1682619582,"post_id":76122995,"comment_id":134248578,"body_markdown":"Added the class Pessoa to the question","body":"Added the class Pessoa to the question"},{"owner":{"account_id":2871379,"reputation":2214,"user_id":2464657,"accept_rate":100,"display_name":"Adam"},"score":0,"creation_date":1682646923,"post_id":76122995,"comment_id":134252331,"body_markdown":"Can you also post the test you are running? For something like this, its also nice to create [minimum reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Can you also post the test you are running? For something like this, its also nice to create <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimum reproducible example</a>."}],"owner":{"account_id":11081943,"reputation":127,"user_id":8136917,"display_name":"R&#244;mulo Borges"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682619527,"creation_date":1682614951,"question_id":76122995,"body_markdown":"I&#39;m trying to implement some event listeners in order to log the history of some entities in my java EE application. I followed all steps suggested by https://vladmihalcea.com/hibernate-event-listeners/ but couldn&#39;t manage it to work. \r\n\r\n**Update listener:**\r\n```java\r\npublic class HistoryUpdateEventListener implements PostUpdateEventListener {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tprivate static final Logger LOGGER = LoggerFactory.getLogger( HistoryUpdateEventListener.class );\r\n\t\r\n\tpublic static final HistoryUpdateEventListener INSTANCE = new HistoryUpdateEventListener();\r\n\r\n\t@Override\r\n\tpublic void onPostUpdate( PostUpdateEvent event ) {\r\n\t\t// post update logic\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean requiresPostCommitHanding(EntityPersister persister) {\r\n\t\treturn false;\r\n\t}\r\n\r\n}\r\n```\r\n**Listener integrator:**\r\n```java\r\npublic class HistoryEventListenerIntegrator implements Integrator {\r\n\r\n\t@Override\r\n\tpublic void integrate( Metadata metadata, SessionFactoryImplementor sessionFactory, SessionFactoryServiceRegistry serviceRegistry ) {\r\n\t\tfinal EventListenerRegistry eventListenerRegistry = serviceRegistry.getService(EventListenerRegistry.class);\r\n\t\t\r\n\t\teventListenerRegistry.appendListeners(EventType.POST_UPDATE, HistoryUpdateEventListener.INSTANCE);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void disintegrate( SessionFactoryImplementor sessionFactory, SessionFactoryServiceRegistry serviceRegistry ) {\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n**Persistence xml**\r\n```xml\r\n&lt;properties&gt;\r\n\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\r\n\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\r\n    &lt;property name=&quot;hibernate.integrator_provider&quot; value=&quot;com.app.HistoryEventListenerIntegrator&quot; /&gt;\r\n    &lt;property name=&quot;hibernate.hbm2dll.extra_physical_table_types&quot; value=&quot;MATERIALIZED VIEW&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;update&quot; /&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\n**Model class:**\r\n```java\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table( name = &quot;PESSOA&quot; )\r\npublic class Pessoa {\r\n\r\n\t@Id\r\n\t@GeneratedValue( strategy = GenerationType.AUTO )\r\n\t@Column( name = &quot;ID_PESSOA&quot; )\r\n\tprivate Long id;\r\n\r\n\t@Column( name = &quot;NOME&quot; )\r\n\tprivate String nome;\r\n\r\n\t@Column( name = &quot;NOME_SOCIAL&quot; )\r\n\tprivate String nomeSocial;\r\n\r\n\t@Column( name = &quot;CPF&quot; )\r\n\tprivate String cpf;\r\n\r\n}\r\n```\r\n\r\nI added several breakpoints and tested my application but the method onPostUpdate is never being called. My question is, am I missing any configuration?","title":"Hibernate PostUpdateEvent never being called","body":"<p>I'm trying to implement some event listeners in order to log the history of some entities in my java EE application. I followed all steps suggested by <a href=\"https://vladmihalcea.com/hibernate-event-listeners/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/hibernate-event-listeners/</a> but couldn't manage it to work.</p>\n<p><strong>Update listener:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HistoryUpdateEventListener implements PostUpdateEventListener {\n\n    private static final long serialVersionUID = 1L;\n\n    private static final Logger LOGGER = LoggerFactory.getLogger( HistoryUpdateEventListener.class );\n    \n    public static final HistoryUpdateEventListener INSTANCE = new HistoryUpdateEventListener();\n\n    @Override\n    public void onPostUpdate( PostUpdateEvent event ) {\n        // post update logic\n    }\n\n    @Override\n    public boolean requiresPostCommitHanding(EntityPersister persister) {\n        return false;\n    }\n\n}\n</code></pre>\n<p><strong>Listener integrator:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HistoryEventListenerIntegrator implements Integrator {\n\n    @Override\n    public void integrate( Metadata metadata, SessionFactoryImplementor sessionFactory, SessionFactoryServiceRegistry serviceRegistry ) {\n        final EventListenerRegistry eventListenerRegistry = serviceRegistry.getService(EventListenerRegistry.class);\n        \n        eventListenerRegistry.appendListeners(EventType.POST_UPDATE, HistoryUpdateEventListener.INSTANCE);\n    }\n\n    @Override\n    public void disintegrate( SessionFactoryImplementor sessionFactory, SessionFactoryServiceRegistry serviceRegistry ) {\n        \n    }\n\n}\n</code></pre>\n<p><strong>Persistence xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\n    &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\n    &lt;property name=&quot;hibernate.integrator_provider&quot; value=&quot;com.app.HistoryEventListenerIntegrator&quot; /&gt;\n    &lt;property name=&quot;hibernate.hbm2dll.extra_physical_table_types&quot; value=&quot;MATERIALIZED VIEW&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;update&quot; /&gt;\n&lt;/properties&gt;\n</code></pre>\n<p><strong>Model class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Entity\n@Table( name = &quot;PESSOA&quot; )\npublic class Pessoa {\n\n    @Id\n    @GeneratedValue( strategy = GenerationType.AUTO )\n    @Column( name = &quot;ID_PESSOA&quot; )\n    private Long id;\n\n    @Column( name = &quot;NOME&quot; )\n    private String nome;\n\n    @Column( name = &quot;NOME_SOCIAL&quot; )\n    private String nomeSocial;\n\n    @Column( name = &quot;CPF&quot; )\n    private String cpf;\n\n}\n</code></pre>\n<p>I added several breakpoints and tested my application but the method onPostUpdate is never being called. My question is, am I missing any configuration?</p>\n"},{"tags":["java","json","arraylist","json-deserialization"],"comments":[{"owner":{"account_id":1022492,"reputation":1055,"user_id":1032484,"display_name":"andy"},"score":0,"creation_date":1682621753,"post_id":76123365,"comment_id":134248971,"body_markdown":"The structure you want to deserialize is placed in an object. So you must also define a class containing a property _private List&lt;Project&gt; projects;_  and deserialize to an object of that class.","body":"The structure you want to deserialize is placed in an object. So you must also define a class containing a property <i>private List&lt;Project&gt; projects;</i>  and deserialize to an object of that class."}],"owner":{"account_id":12556681,"reputation":1,"user_id":9136091,"display_name":"Eliya Harush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682619499,"creation_date":1682618261,"question_id":76123365,"body_markdown":"I have this json\r\n\r\n```\r\n{\r\n  &quot;offset&quot;: 0,\r\n  &quot;limit&quot;: 250,\r\n  &quot;size&quot;: 1,\r\n  &quot;_links&quot;: {\r\n    &quot;next&quot;: null,\r\n    &quot;prev&quot;: null\r\n  },\r\n  &quot;projects&quot;: [\r\n    {\r\n      &quot;id&quot;: 1,\r\n      &quot;name&quot;: &quot;test&quot;,\r\n      &quot;announcement&quot;: null,\r\n      &quot;show_announcement&quot;: false,\r\n      &quot;is_completed&quot;: false,\r\n      &quot;completed_on&quot;: null,\r\n      &quot;suite_mode&quot;: 1,\r\n      &quot;default_role_id&quot;: null,\r\n      &quot;url&quot;: &quot;https://web.com/index.php?/projects/overview/1&quot;,\r\n      &quot;users&quot;: [],\r\n      &quot;groups&quot;: []\r\n    },\r\n    {\r\n      &quot;id&quot;: 2,\r\n      &quot;name&quot;: &quot;test2&quot;,\r\n      &quot;announcement&quot;: null,\r\n      &quot;show_announcement&quot;: false,\r\n      &quot;is_completed&quot;: false,\r\n      &quot;completed_on&quot;: null,\r\n      &quot;suite_mode&quot;: 1,\r\n      &quot;default_role_id&quot;: null,\r\n      &quot;url&quot;: &quot;https://web.com/index.php?/projects/overview/1&quot;,\r\n      &quot;users&quot;: [],\r\n      &quot;groups&quot;: []\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nThis is the **Project.java** model\r\n\r\n```\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Project {\r\n\r\n    private int id;\r\n    private String name;\r\n    private String announcement;\r\n    private boolean is_completed;\r\n    private String completed_on;\r\n    private String url;\r\n    private boolean show_announcement;\r\n    private int suite_mode;\r\n    private String default_role_id;\r\n\r\n    public String getDefault_role_id() {\r\n        return default_role_id;\r\n    }\r\n\r\n    public void setDefault_role_id(String default_role_id) {\r\n        this.default_role_id = default_role_id;\r\n    }\r\n\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getAnnouncement() {\r\n        return announcement;\r\n    }\r\n\r\n    public void setAnnouncement(String announcement) {\r\n        this.announcement = announcement;\r\n    }\r\n\r\n    public boolean isIs_completed() {\r\n        return is_completed;\r\n    }\r\n\r\n    public void setIs_completed(boolean is_completed) {\r\n        this.is_completed = is_completed;\r\n    }\r\n\r\n    public String getCompleted_on() {\r\n        return completed_on;\r\n    }\r\n\r\n    public void setCompleted_on(String completed_on) {\r\n        this.completed_on = completed_on;\r\n    }\r\n\r\n    public String getUrl() {\r\n        return url;\r\n    }\r\n\r\n    public void setUrl(String url) {\r\n        this.url = url;\r\n    }\r\n\r\n    public boolean isShow_announcement() {\r\n        return show_announcement;\r\n    }\r\n\r\n    public void setShow_announcement(boolean show_announcement) {\r\n\r\n        this.show_announcement = show_announcement;\r\n    }\r\n\r\n    public int getSuite_mode() {\r\n        return suite_mode;\r\n    }\r\n\r\n    public void setSuite_mode(int suite_mode) {\r\n        this.suite_mode = suite_mode;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;m trying to deserialize from the given json only the &quot;projects&quot; to ArrayList&lt;Project&gt;\r\nusing this code.\r\n\r\n\r\n```\r\nString json = &quot;{&quot;offset&quot;:0,&quot;limit&quot;:250}&quot;; //for the example this is just part of the full json.\r\nObjectMapper mapper =  JsonUtils.getObjectMapper();\r\nJsonParser parser = factory.createParser(json);\r\nTypeReference&lt;ArrayList&lt;Project&gt;&gt; typeReference = new TypeReference&lt;ArrayList&lt;Project&gt;&gt;() {};\r\nArrayList&lt;Project&gt; projectList = mapper.reader().readValue(parser,typeReference);\r\n\r\n```\r\n\r\ntried also this line:\r\n\r\n```\r\nArrayList&lt;Project&gt; projectList = mapper.reader().forType(typeReference).readValue(json);\r\n```\r\n\r\n\r\n\r\nand getting this exception for both:\r\n\r\n```\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;Project&gt;` from Object value (token `JsonToken.START_OBJECT`)\r\n\r\n```\r\n\r\n\r\nanyone can help me with this?\r\nMy goal is to extract only the projects from the root level, without using JsonNode.get(&quot;projects&quot;)\r\n","title":"Can not deserialize instance of java.util.ArrayList&lt;Project&gt; out of START_OBJECT token","body":"<p>I have this json</p>\n<pre><code>{\n  &quot;offset&quot;: 0,\n  &quot;limit&quot;: 250,\n  &quot;size&quot;: 1,\n  &quot;_links&quot;: {\n    &quot;next&quot;: null,\n    &quot;prev&quot;: null\n  },\n  &quot;projects&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;test&quot;,\n      &quot;announcement&quot;: null,\n      &quot;show_announcement&quot;: false,\n      &quot;is_completed&quot;: false,\n      &quot;completed_on&quot;: null,\n      &quot;suite_mode&quot;: 1,\n      &quot;default_role_id&quot;: null,\n      &quot;url&quot;: &quot;https://web.com/index.php?/projects/overview/1&quot;,\n      &quot;users&quot;: [],\n      &quot;groups&quot;: []\n    },\n    {\n      &quot;id&quot;: 2,\n      &quot;name&quot;: &quot;test2&quot;,\n      &quot;announcement&quot;: null,\n      &quot;show_announcement&quot;: false,\n      &quot;is_completed&quot;: false,\n      &quot;completed_on&quot;: null,\n      &quot;suite_mode&quot;: 1,\n      &quot;default_role_id&quot;: null,\n      &quot;url&quot;: &quot;https://web.com/index.php?/projects/overview/1&quot;,\n      &quot;users&quot;: [],\n      &quot;groups&quot;: []\n    }\n  ]\n}\n</code></pre>\n<p>This is the <strong>Project.java</strong> model</p>\n<pre><code>\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Project {\n\n    private int id;\n    private String name;\n    private String announcement;\n    private boolean is_completed;\n    private String completed_on;\n    private String url;\n    private boolean show_announcement;\n    private int suite_mode;\n    private String default_role_id;\n\n    public String getDefault_role_id() {\n        return default_role_id;\n    }\n\n    public void setDefault_role_id(String default_role_id) {\n        this.default_role_id = default_role_id;\n    }\n\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAnnouncement() {\n        return announcement;\n    }\n\n    public void setAnnouncement(String announcement) {\n        this.announcement = announcement;\n    }\n\n    public boolean isIs_completed() {\n        return is_completed;\n    }\n\n    public void setIs_completed(boolean is_completed) {\n        this.is_completed = is_completed;\n    }\n\n    public String getCompleted_on() {\n        return completed_on;\n    }\n\n    public void setCompleted_on(String completed_on) {\n        this.completed_on = completed_on;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    public boolean isShow_announcement() {\n        return show_announcement;\n    }\n\n    public void setShow_announcement(boolean show_announcement) {\n\n        this.show_announcement = show_announcement;\n    }\n\n    public int getSuite_mode() {\n        return suite_mode;\n    }\n\n    public void setSuite_mode(int suite_mode) {\n        this.suite_mode = suite_mode;\n    }\n}\n</code></pre>\n<p>I'm trying to deserialize from the given json only the &quot;projects&quot; to ArrayList\nusing this code.</p>\n<pre><code>String json = &quot;{&quot;offset&quot;:0,&quot;limit&quot;:250}&quot;; //for the example this is just part of the full json.\nObjectMapper mapper =  JsonUtils.getObjectMapper();\nJsonParser parser = factory.createParser(json);\nTypeReference&lt;ArrayList&lt;Project&gt;&gt; typeReference = new TypeReference&lt;ArrayList&lt;Project&gt;&gt;() {};\nArrayList&lt;Project&gt; projectList = mapper.reader().readValue(parser,typeReference);\n\n</code></pre>\n<p>tried also this line:</p>\n<pre><code>ArrayList&lt;Project&gt; projectList = mapper.reader().forType(typeReference).readValue(json);\n</code></pre>\n<p>and getting this exception for both:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList&lt;Project&gt;` from Object value (token `JsonToken.START_OBJECT`)\n\n</code></pre>\n<p>anyone can help me with this?\nMy goal is to extract only the projects from the root level, without using JsonNode.get(&quot;projects&quot;)</p>\n"},{"tags":["java","jooq","jsonschema2pojo"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1682602492,"post_id":76119036,"comment_id":134244250,"body_markdown":"What&#39;s the reason why you&#39;re using the Joda time library, when at the same time you&#39;re also using JSR 310 types?","body":"What&#39;s the reason why you&#39;re using the Joda time library, when at the same time you&#39;re also using JSR 310 types?"},{"owner":{"account_id":2611233,"reputation":53,"user_id":2261302,"display_name":"deniro.wang"},"score":0,"creation_date":1682609555,"post_id":76119036,"comment_id":134246146,"body_markdown":"I took over and maintained a project for a while. It ran very well with jOOQ and DateTime, and we had lots of functions to manipulate DateTime and strings. We received a new request regarding a JSON issue, so I used jsonschema2pojo. When you asked me, I suddenly realized that I had misunderstood and thought jOOQ could only work with DateTime. I changed &quot;&lt;userType&gt;org.joda.time.LocalDate&lt;/userType&gt;&quot; to &quot;&lt;userType&gt;java.time.Instant&lt;/userType&gt;&quot; and it ran smoothly.","body":"I took over and maintained a project for a while. It ran very well with jOOQ and DateTime, and we had lots of functions to manipulate DateTime and strings. We received a new request regarding a JSON issue, so I used jsonschema2pojo. When you asked me, I suddenly realized that I had misunderstood and thought jOOQ could only work with DateTime. I changed &quot;&lt;userType&gt;org.joda.time.LocalDate&lt;/userType&gt;&quot; to &quot;&lt;userType&gt;java.time.Instant&lt;/userType&gt;&quot; and it ran smoothly."},{"owner":{"account_id":2611233,"reputation":53,"user_id":2261302,"display_name":"deniro.wang"},"score":0,"creation_date":1682609991,"post_id":76119036,"comment_id":134246260,"body_markdown":"but, if I change jooq forcedType from DateTime to Instant, our original code must modify lots. so back to my question, can we have other solution?","body":"but, if I change jooq forcedType from DateTime to Instant, our original code must modify lots. so back to my question, can we have other solution?"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682619224,"creation_date":1682619224,"answer_id":76123473,"question_id":76119036,"body_markdown":"### Register a global `ConverterProvider`\r\n\r\nFor the particular use-case you have here, you can implement a [`ConverterProvider`][1] that is able to convert between these two data types. `ConverterProvider` is an SPI that allows to override the default data type conversions between two data types, such as `DateTime` and `Instant`, in both directions.\r\n\r\nRoughly:\r\n\r\n```java\r\nclass MyConverterProvider implements ConverterProvider {\r\n    final ConverterProvider delegate = new DefaultConverterProvider();\r\n    \r\n    @Override\r\n    public &lt;T, U&gt; Converter&lt;T, U&gt; provide(Class&lt;T&gt; tType, Class&lt;U&gt; uType) {\r\n        if (tType == DateTime.class &amp;&amp; uType == Instant.class) {\r\n            return Converter.ofNullable(tType, uType,\r\n                t -&gt; (U) dateTimeToInstant((DateTime) t),\r\n                u -&gt; (T) instantToDateTime((Instant) u)\r\n            );\r\n        }\r\n        \r\n        // Delegate all other type pairs to jOOQ&#39;s default\r\n        else\r\n            return delegate.provide(tType, uType);\r\n    }\r\n}\r\n```\r\n\r\nYou then set that to your local or global `Configuration`:\r\n\r\n```java\r\nconfiguration.set(new MyConverterProvider());\r\n```\r\n\r\n### Using a local ad-hoc converter\r\n\r\nYou can always attach a local [ad-hoc converter][2] to a field, effectively chaining converters\r\n\r\n```java\r\nList &lt;JsonConnector&gt; list = ctx.select(\r\n    CONNECTOR.INT1,\r\n    CONNECTOR.STRING1,\r\n    CONNECTOR.STRING2,\r\n    CONNECTOR.STRING3,\r\n    CONNECTOR.STRING4,\r\n    CONNECTOR.JODA_TIME_DATETIME.convertFrom(d -&gt; dateTimeToInstant(d)))\r\n    .from(CONNECTOR)\r\n    .fetchInto(JsonConnector.class);\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/converter-provider/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/","title":"How can I map Jooq with field joda.time.DateTime to a Pojo with java.time.Instant","body":"<h3>Register a global <code>ConverterProvider</code></h3>\n<p>For the particular use-case you have here, you can implement a <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/converter-provider/\" rel=\"nofollow noreferrer\"><code>ConverterProvider</code></a> that is able to convert between these two data types. <code>ConverterProvider</code> is an SPI that allows to override the default data type conversions between two data types, such as <code>DateTime</code> and <code>Instant</code>, in both directions.</p>\n<p>Roughly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyConverterProvider implements ConverterProvider {\n    final ConverterProvider delegate = new DefaultConverterProvider();\n    \n    @Override\n    public &lt;T, U&gt; Converter&lt;T, U&gt; provide(Class&lt;T&gt; tType, Class&lt;U&gt; uType) {\n        if (tType == DateTime.class &amp;&amp; uType == Instant.class) {\n            return Converter.ofNullable(tType, uType,\n                t -&gt; (U) dateTimeToInstant((DateTime) t),\n                u -&gt; (T) instantToDateTime((Instant) u)\n            );\n        }\n        \n        // Delegate all other type pairs to jOOQ's default\n        else\n            return delegate.provide(tType, uType);\n    }\n}\n</code></pre>\n<p>You then set that to your local or global <code>Configuration</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>configuration.set(new MyConverterProvider());\n</code></pre>\n<h3>Using a local ad-hoc converter</h3>\n<p>You can always attach a local <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc converter</a> to a field, effectively chaining converters</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt;JsonConnector&gt; list = ctx.select(\n    CONNECTOR.INT1,\n    CONNECTOR.STRING1,\n    CONNECTOR.STRING2,\n    CONNECTOR.STRING3,\n    CONNECTOR.STRING4,\n    CONNECTOR.JODA_TIME_DATETIME.convertFrom(d -&gt; dateTimeToInstant(d)))\n    .from(CONNECTOR)\n    .fetchInto(JsonConnector.class);\n</code></pre>\n"}],"owner":{"account_id":2611233,"reputation":53,"user_id":2261302,"display_name":"deniro.wang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76123473,"answer_count":1,"score":2,"last_activity_date":1682619224,"creation_date":1682589062,"question_id":76119036,"body_markdown":"I have **jooq** create TableImpl&lt;Record&gt; POJO name CONNECTOR with variable **joda.time.DateTime**\r\n\r\nand **jsonschema2pojo** create POJO name JsonConnector with variable **java.time.Instant** \r\n\r\nhow to convert jooq select result fetch to jsonschema2pojo create obj \r\n\r\n&lt;!-- language: Java --&gt; \r\n\r\n    List &lt;JsonConnector&gt; list = ctx.select(\r\n        CONNECTOR.INT1,\r\n        CONNECTOR.STRING1,\r\n        CONNECTOR.STRING2,\r\n        CONNECTOR.STRING3,\r\n        CONNECTOR.STRING4,\r\n        CONNECTOR.JODA_TIME_DATETIME))\r\n        .from(CONNECTOR)\r\n        .fetchInto(JsonConnector.class);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**jooq** fetchInto jsonschema2pojo everything simple type convert is ok, but pojo type **org.joda.time.DateTime** to type **java.time.Instant**\r\n\r\nthat will throw exception\r\n*org.jooq.exception.MappingException: An error ocurred when mapping record to class JsonConnector* \r\n\r\n\r\nhow can I write function like \r\n`TableField&lt;ConnectorRecord, Instant&gt; convertDateTimeToInstant(TableField&lt;ConnectorRecord, DateTime&gt; datatimeField)`\r\nor something good method\r\n\r\nThanks","title":"How can I map Jooq with field joda.time.DateTime to a Pojo with java.time.Instant","body":"<p>I have <strong>jooq</strong> create TableImpl POJO name CONNECTOR with variable <strong>joda.time.DateTime</strong></p>\n<p>and <strong>jsonschema2pojo</strong> create POJO name JsonConnector with variable <strong>java.time.Instant</strong></p>\n<p>how to convert jooq select result fetch to jsonschema2pojo create obj</p>\n<pre><code>List &lt;JsonConnector&gt; list = ctx.select(\n    CONNECTOR.INT1,\n    CONNECTOR.STRING1,\n    CONNECTOR.STRING2,\n    CONNECTOR.STRING3,\n    CONNECTOR.STRING4,\n    CONNECTOR.JODA_TIME_DATETIME))\n    .from(CONNECTOR)\n    .fetchInto(JsonConnector.class);\n</code></pre>\n\n<p><strong>jooq</strong> fetchInto jsonschema2pojo everything simple type convert is ok, but pojo type <strong>org.joda.time.DateTime</strong> to type <strong>java.time.Instant</strong></p>\n<p>that will throw exception\n<em>org.jooq.exception.MappingException: An error ocurred when mapping record to class JsonConnector</em></p>\n<p>how can I write function like\n<code>TableField&lt;ConnectorRecord, Instant&gt; convertDateTimeToInstant(TableField&lt;ConnectorRecord, DateTime&gt; datatimeField)</code>\nor something good method</p>\n<p>Thanks</p>\n"},{"tags":["java","android","android-intent","textview","onclicklistener"],"comments":[{"owner":{"account_id":27829354,"reputation":176,"user_id":21248085,"display_name":"Shivrajsinh Sarvaiya"},"score":0,"creation_date":1682747177,"post_id":76119901,"comment_id":134267530,"body_markdown":"Could you show signUp and HomeScreen file.","body":"Could you show signUp and HomeScreen file."}],"owner":{"account_id":28433510,"reputation":1,"user_id":21753896,"display_name":"Ariex17"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682618985,"creation_date":1682595259,"question_id":76119901,"body_markdown":"For a better UI, I thought of using TextView in place of Button. When a TextView is clicked, the next page of the application should appear, in my case, it is the signup page(I want to go from login to signup page). I have defined setOnClickListener() in the Java file and then use the intent to go to another activity by clicking on that textView but, I don&#39;t know why when I click on the textView(Signup here) instead of taking me to the signup page, it goes to home page.\r\n\r\n[Here are the names of the file I am using](https://i.stack.imgur.com/ILPLO.png)\r\n\\*\\*\\* Here is my XML file for login\r\n\r\n***\r\n\r\n[Here is the image of the page I am creating](https://i.stack.imgur.com/bahhE.png)\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n        &lt;androidx.appcompat.widget.AppCompatButton\r\n            android:id=&quot;@+id/btnlg&quot;\r\n            android:layout_width=&quot;365dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:layout_marginBottom=&quot;5dp&quot;\r\n            android:background=&quot;@drawable/round_btn&quot;\r\n            android:requiresFadingEdge=&quot;horizontal&quot;\r\n            android:shadowRadius=&quot;@integer/material_motion_duration_short_1&quot;\r\n            android:text=&quot;@string/login&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            tools:ignore=&quot;DuplicateSpeakableTextCheck,TextContrastCheck,TextContrastCheck&quot; /&gt;\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/noAccount&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:gravity=&quot;center_horizontal&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@string/don_t_have_an_account&quot;\r\n                android:textColor=&quot;#606060&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:layout_marginEnd=&quot;10dp&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textStyle=&quot;bold&quot;/&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/SignUpLn&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@string/sign_up_here&quot;\r\n                android:clickable=&quot;true&quot;\r\n                android:textColor=&quot;@color/blue&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                tools:ignore=&quot;TextContrastCheck,TextContrastCheck&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/or&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:textColor=&quot;#606060&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:layout_marginEnd=&quot;10dp&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textStyle=&quot;bold&quot;/&gt;\r\n    \r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/image_btn_G&quot;\r\n            android:layout_width=&quot;365dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:background=&quot;@drawable/round_btn&quot;\r\n            tools:layout_editor_absoluteX=&quot;9dp&quot;\r\n            tools:layout_editor_absoluteY=&quot;26dp&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageG&quot;\r\n                android:layout_width=&quot;50dp&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n                android:layout_alignParentStart=&quot;true&quot;\r\n                android:layout_alignParentTop=&quot;true&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginEnd=&quot;10dp&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:src=&quot;@drawable/glogo&quot;\r\n                tools:ignore=&quot;ImageContrastCheck,ImageContrastCheck&quot;\r\n                android:contentDescription=&quot;@string/todo1&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginEnd=&quot;10dp&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:layout_toEndOf=&quot;@+id/imageG&quot;\r\n                android:fontFamily=&quot;sans-serif-smallcaps&quot;\r\n                android:paddingStart=&quot;20dp&quot;\r\n                android:paddingEnd=&quot;20dp&quot;\r\n                android:text=&quot;@string/sign_in_with_the_google&quot;\r\n                android:textAllCaps=&quot;false&quot;\r\n                android:textColor=&quot;#FFF&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                tools:ignore=&quot;TextContrastCheck&quot; /&gt;\r\n    \r\n        &lt;/RelativeLayout&gt;\r\n    \r\n    \r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/image_btn_A&quot;\r\n            android:layout_width=&quot;365dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:background=&quot;@drawable/round_btn&quot;\r\n            tools:layout_editor_absoluteX=&quot;9dp&quot;\r\n            tools:layout_editor_absoluteY=&quot;26dp&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/apple_image&quot;\r\n                android:layout_alignParentStart=&quot;true&quot;\r\n                android:layout_alignParentTop=&quot;true&quot;\r\n                android:layout_width=&quot;50dp&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n                android:src=&quot;@drawable/applelogo&quot;\r\n                android:contentDescription=&quot;@string/todo3&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginEnd=&quot;10dp&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:layout_toEndOf=&quot;@+id/apple_image&quot;\r\n                android:fontFamily=&quot;sans-serif-smallcaps&quot;\r\n                android:paddingStart=&quot;20dp&quot;\r\n                android:paddingEnd=&quot;20dp&quot;\r\n                android:text=&quot;@string/sign_in_with_the_apple&quot;\r\n                android:textAllCaps=&quot;false&quot;\r\n                android:textColor=&quot;#FFF&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                tools:ignore=&quot;TextContrastCheck,TextContrastCheck&quot; /&gt;\r\n        &lt;/RelativeLayout&gt;\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/fb_image_btn&quot;\r\n            android:layout_width=&quot;365dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:background=&quot;@drawable/round_btn&quot;\r\n            tools:layout_editor_absoluteX=&quot;9dp&quot;\r\n            tools:layout_editor_absoluteY=&quot;26dp&quot;&gt;\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/fcimage&quot;\r\n                android:layout_width=&quot;50dp&quot;\r\n                android:layout_height=&quot;50dp&quot;\r\n                android:layout_alignParentStart=&quot;true&quot;\r\n                android:layout_alignParentTop=&quot;true&quot;\r\n                android:src=&quot;@drawable/facebook2&quot;\r\n                tools:ignore=&quot;ImageContrastCheck,ImageContrastCheck&quot;\r\n                android:contentDescription=&quot;@string/todo2&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginEnd=&quot;10dp&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:layout_toEndOf=&quot;@+id/fcimage&quot;\r\n                android:fontFamily=&quot;sans-serif-smallcaps&quot;\r\n                android:paddingStart=&quot;20dp&quot;\r\n                android:paddingEnd=&quot;20dp&quot;\r\n                android:text=&quot;@string/sign_in_with_the_facebook&quot;\r\n                android:textAllCaps=&quot;false&quot;\r\n                android:textColor=&quot;#FFF&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                tools:ignore=&quot;TextContrastCheck,TextContrastCheck&quot; /&gt;\r\n        &lt;/RelativeLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\\*\\*here is the java file for login\r\n\\*\\*\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_log_in);\r\n        SignUpLn = (TextView) findViewById(R.id.SignUpLn);\r\n        SignUpLn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent SignUpLn = new Intent(getApplicationContext(),signUp.class);\r\n                startActivity(SignUpLn);\r\n            }\r\n        });\r\n        btnlg = (Button) findViewById(R.id.btnlg);\r\n        btnlg.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent login = new Intent(getApplicationContext(),HomeScreen.class);\r\n                startActivity(login);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\n[enter image description here](https://i.stack.imgur.com/YnRPZ.png)","title":"onClickListener() is not working properly for textview","body":"<p>For a better UI, I thought of using TextView in place of Button. When a TextView is clicked, the next page of the application should appear, in my case, it is the signup page(I want to go from login to signup page). I have defined setOnClickListener() in the Java file and then use the intent to go to another activity by clicking on that textView but, I don't know why when I click on the textView(Signup here) instead of taking me to the signup page, it goes to home page.</p>\n<p><a href=\"https://i.stack.imgur.com/ILPLO.png\" rel=\"nofollow noreferrer\">Here are the names of the file I am using</a>\n*** Here is my XML file for login</p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/bahhE.png\" rel=\"nofollow noreferrer\">Here is the image of the page I am creating</a></p>\n\n<pre><code>    &lt;androidx.appcompat.widget.AppCompatButton\n        android:id=&quot;@+id/btnlg&quot;\n        android:layout_width=&quot;365dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:layout_marginBottom=&quot;5dp&quot;\n        android:background=&quot;@drawable/round_btn&quot;\n        android:requiresFadingEdge=&quot;horizontal&quot;\n        android:shadowRadius=&quot;@integer/material_motion_duration_short_1&quot;\n        android:text=&quot;@string/login&quot;\n        android:textColor=&quot;@color/white&quot;\n        tools:ignore=&quot;DuplicateSpeakableTextCheck,TextContrastCheck,TextContrastCheck&quot; /&gt;\n    &lt;LinearLayout\n        android:id=&quot;@+id/noAccount&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:gravity=&quot;center_horizontal&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;&gt;\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/don_t_have_an_account&quot;\n            android:textColor=&quot;#606060&quot;\n            android:textSize=&quot;18sp&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textStyle=&quot;bold&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/SignUpLn&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/sign_up_here&quot;\n            android:clickable=&quot;true&quot;\n            android:textColor=&quot;@color/blue&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot;\n            tools:ignore=&quot;TextContrastCheck,TextContrastCheck&quot; /&gt;\n    &lt;/LinearLayout&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/or&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:textColor=&quot;#606060&quot;\n        android:textSize=&quot;18sp&quot;\n        android:layout_marginEnd=&quot;10dp&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textStyle=&quot;bold&quot;/&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/image_btn_G&quot;\n        android:layout_width=&quot;365dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:background=&quot;@drawable/round_btn&quot;\n        tools:layout_editor_absoluteX=&quot;9dp&quot;\n        tools:layout_editor_absoluteY=&quot;26dp&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageG&quot;\n            android:layout_width=&quot;50dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:src=&quot;@drawable/glogo&quot;\n            tools:ignore=&quot;ImageContrastCheck,ImageContrastCheck&quot;\n            android:contentDescription=&quot;@string/todo1&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:layout_toEndOf=&quot;@+id/imageG&quot;\n            android:fontFamily=&quot;sans-serif-smallcaps&quot;\n            android:paddingStart=&quot;20dp&quot;\n            android:paddingEnd=&quot;20dp&quot;\n            android:text=&quot;@string/sign_in_with_the_google&quot;\n            android:textAllCaps=&quot;false&quot;\n            android:textColor=&quot;#FFF&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;\n            tools:ignore=&quot;TextContrastCheck&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/image_btn_A&quot;\n        android:layout_width=&quot;365dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:background=&quot;@drawable/round_btn&quot;\n        tools:layout_editor_absoluteX=&quot;9dp&quot;\n        tools:layout_editor_absoluteY=&quot;26dp&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/apple_image&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:layout_width=&quot;50dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:src=&quot;@drawable/applelogo&quot;\n            android:contentDescription=&quot;@string/todo3&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:layout_toEndOf=&quot;@+id/apple_image&quot;\n            android:fontFamily=&quot;sans-serif-smallcaps&quot;\n            android:paddingStart=&quot;20dp&quot;\n            android:paddingEnd=&quot;20dp&quot;\n            android:text=&quot;@string/sign_in_with_the_apple&quot;\n            android:textAllCaps=&quot;false&quot;\n            android:textColor=&quot;#FFF&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;\n            tools:ignore=&quot;TextContrastCheck,TextContrastCheck&quot; /&gt;\n    &lt;/RelativeLayout&gt;\n    &lt;RelativeLayout\n        android:id=&quot;@+id/fb_image_btn&quot;\n        android:layout_width=&quot;365dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:background=&quot;@drawable/round_btn&quot;\n        tools:layout_editor_absoluteX=&quot;9dp&quot;\n        tools:layout_editor_absoluteY=&quot;26dp&quot;&gt;\n        &lt;ImageView\n            android:id=&quot;@+id/fcimage&quot;\n            android:layout_width=&quot;50dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:src=&quot;@drawable/facebook2&quot;\n            tools:ignore=&quot;ImageContrastCheck,ImageContrastCheck&quot;\n            android:contentDescription=&quot;@string/todo2&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginEnd=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:layout_toEndOf=&quot;@+id/fcimage&quot;\n            android:fontFamily=&quot;sans-serif-smallcaps&quot;\n            android:paddingStart=&quot;20dp&quot;\n            android:paddingEnd=&quot;20dp&quot;\n            android:text=&quot;@string/sign_in_with_the_facebook&quot;\n            android:textAllCaps=&quot;false&quot;\n            android:textColor=&quot;#FFF&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;\n            tools:ignore=&quot;TextContrastCheck,TextContrastCheck&quot; /&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>**here is the java file for login\n**</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_log_in);\n    SignUpLn = (TextView) findViewById(R.id.SignUpLn);\n    SignUpLn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent SignUpLn = new Intent(getApplicationContext(),signUp.class);\n            startActivity(SignUpLn);\n        }\n    });\n    btnlg = (Button) findViewById(R.id.btnlg);\n    btnlg.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent login = new Intent(getApplicationContext(),HomeScreen.class);\n            startActivity(login);\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/YnRPZ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android-studio","compiler-errors","radiance-flamingo"],"comments":[{"owner":{"account_id":16801616,"reputation":544,"user_id":12936324,"display_name":"Jayesh Dankhara"},"score":0,"creation_date":1682061612,"post_id":76035561,"comment_id":134159440,"body_markdown":"check my answer it is working for me https://stackoverflow.com/a/76070809/12936324","body":"check my answer it is working for me <a href=\"https://stackoverflow.com/a/76070809/12936324\">stackoverflow.com/a/76070809/12936324</a>"},{"owner":{"account_id":16096969,"reputation":73,"user_id":11618882,"display_name":"Seyf"},"score":0,"creation_date":1682349489,"post_id":76035561,"comment_id":134197205,"body_markdown":"Thanks for the answer but I&#39;m getting this error:\nMinimum supported Gradle version is 7.5. Current version is 7.2.","body":"Thanks for the answer but I&#39;m getting this error: Minimum supported Gradle version is 7.5. Current version is 7.2."},{"owner":{"account_id":1538854,"reputation":2034,"user_id":1434047,"display_name":"Bink"},"score":0,"creation_date":1684429204,"post_id":76035561,"comment_id":134519649,"body_markdown":"Does this answer your question? [Android AGP 8 + Gradle 8 + Kotlin 1.8 causes error in Kapt](https://stackoverflow.com/questions/76030538/android-agp-8-gradle-8-kotlin-1-8-causes-error-in-kapt)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76030538/android-agp-8-gradle-8-kotlin-1-8-causes-error-in-kapt\">Android AGP 8 + Gradle 8 + Kotlin 1.8 causes error in Kapt</a>"}],"answers":[{"tags":[],"owner":{"account_id":1891831,"reputation":543,"user_id":2871521,"display_name":"krs"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681826470,"creation_date":1681826470,"answer_id":76045541,"question_id":76035561,"body_markdown":"For now the only way how to get your project buildable is to make sure to use Java 11.\r\n\r\n 1. In Android Studio go to `Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle`\r\n 2. `Gradle JDK` - make sure you have selected Java 11\r\n 3. In case it did not help, do not change the setting, rather try &quot;Invalidate Caches...&quot; with option to restart Android Studio and see if that helps.\r\n\r\nAlso I would suggest to downgrade AGP back to 7.4. I know that this does not bring all the features and fixes on board, but as you said, there are few info out there about what we can do, now.\r\nOn the other hand, author of Butterknife [claims][1] that he will manage &quot;critical bug fixes for integration with AGP&quot;:\r\n[![enter image description here][2]][2]\r\n\r\nAlso make sure that you have configure your `build.gradle` file to use Java 11:\r\n\r\n    compileOptions {\r\n        sourceCompatibility = &quot;11&quot;\r\n        targetCompatibility = &quot;11&quot;\r\n    }\r\n\r\n\r\n  [1]: https://github.com/JakeWharton/butterknife\r\n  [2]: https://i.stack.imgur.com/CU1M3.png","title":"&#39;compileDebugJavaWithJavac&#39; error with Android Studio Flamingo","body":"<p>For now the only way how to get your project buildable is to make sure to use Java 11.</p>\n<ol>\n<li>In Android Studio go to <code>Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle</code></li>\n<li><code>Gradle JDK</code> - make sure you have selected Java 11</li>\n<li>In case it did not help, do not change the setting, rather try &quot;Invalidate Caches...&quot; with option to restart Android Studio and see if that helps.</li>\n</ol>\n<p>Also I would suggest to downgrade AGP back to 7.4. I know that this does not bring all the features and fixes on board, but as you said, there are few info out there about what we can do, now.\nOn the other hand, author of Butterknife <a href=\"https://github.com/JakeWharton/butterknife\" rel=\"nofollow noreferrer\">claims</a> that he will manage &quot;critical bug fixes for integration with AGP&quot;:\n<a href=\"https://i.stack.imgur.com/CU1M3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CU1M3.png\" alt=\"enter image description here\" /></a></p>\n<p>Also make sure that you have configure your <code>build.gradle</code> file to use Java 11:</p>\n<pre><code>compileOptions {\n    sourceCompatibility = &quot;11&quot;\n    targetCompatibility = &quot;11&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16096969,"reputation":73,"user_id":11618882,"display_name":"Seyf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682618783,"creation_date":1682618783,"answer_id":76123430,"question_id":76035561,"body_markdown":"I solved the problem by reverting to the old version as follows.\r\nFirst of all, I downloaded and installed the Electric Eel version. (Official archive site to download old versions: [**CLICK**][1])\r\n\r\nI then changed the content of **gradle-wrapper.properties** to:\r\n\r\n   \r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-8.0.1-bin.zip\r\n    distributionPath=wrapper/dists\r\n    zipStorePath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n\r\nThen I set the **Gradle JDK** with the steps &quot;**File &gt; Build, Execution, Deploymend &gt; Gradle**&quot; as follows: **jbr-11** *(Jetbrains Runtime version 11.0.5...)*\r\n\r\nI then followed these steps: &quot;**File &gt; Project Structure**&quot;\r\nAnd\r\nAndroid Gradle Plugin Version: **7.4.2**\r\nGradle Version: **8.0.1**\r\n\r\nRight now at least I&#39;m able to compile and run my project.\r\nThanks to everyone who tried to help.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/archive","title":"&#39;compileDebugJavaWithJavac&#39; error with Android Studio Flamingo","body":"<p>I solved the problem by reverting to the old version as follows.\nFirst of all, I downloaded and installed the Electric Eel version. (Official archive site to download old versions: <a href=\"https://developer.android.com/studio/archive\" rel=\"nofollow noreferrer\"><strong>CLICK</strong></a>)</p>\n<p>I then changed the content of <strong>gradle-wrapper.properties</strong> to:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.0.1-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n<p>Then I set the <strong>Gradle JDK</strong> with the steps &quot;<strong>File &gt; Build, Execution, Deploymend &gt; Gradle</strong>&quot; as follows: <strong>jbr-11</strong> <em>(Jetbrains Runtime version 11.0.5...)</em></p>\n<p>I then followed these steps: &quot;<strong>File &gt; Project Structure</strong>&quot;\nAnd\nAndroid Gradle Plugin Version: <strong>7.4.2</strong>\nGradle Version: <strong>8.0.1</strong></p>\n<p>Right now at least I'm able to compile and run my project.\nThanks to everyone who tried to help.</p>\n"}],"owner":{"account_id":16096969,"reputation":73,"user_id":11618882,"display_name":"Seyf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2646,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76123430,"answer_count":2,"score":2,"last_activity_date":1682618783,"creation_date":1681737195,"question_id":76035561,"body_markdown":"When I updated Android Studio to Flamingo version, Gradle suggested the upgrade and I upgraded with AGP from 7.4 to 8.0. I was never able to debug after this upgrade, and as a result of my research, I could not come to a conclusion. If there is any information I have given missing for the problem, if you specify, I can make additions. I&#39;m sharing my gradle module app codes because I think the problem stems from here.\r\n\r\nMy build.gradle(app):\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n    \r\n    android {\r\n        useLibrary &#39;org.apache.http.legacy&#39;\r\n        compileSdkVersion 33\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.packagename&quot;\r\n            multiDexEnabled true\r\n            minSdkVersion 22\r\n            targetSdkVersion 33\r\n            versionCode 15\r\n            versionName &quot;1.4&quot;\r\n    \r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n    \r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;11&#39;\r\n        }\r\n        namespace &#39;com.example.packagename&#39;\r\n    \r\n    }\r\n\r\n\r\n\r\nError:\r\n\r\n    Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    &gt; superclass access check failed: class butterknife.compiler.ButterKnifeProcessor$RScanner (in unnamed module @0x1db9193f) cannot access class com.sun.tools.javac.tree.TreeScanner (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.tree to unnamed module @0x1db9193f\r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\r\n    .\r\n    .\r\n    .\r\n\r\n\r\n\r\nI tried almost all the suggestions mentioned in StackOverFlow for solution but couldn&#39;t reach a solution.\r\n","title":"&#39;compileDebugJavaWithJavac&#39; error with Android Studio Flamingo","body":"<p>When I updated Android Studio to Flamingo version, Gradle suggested the upgrade and I upgraded with AGP from 7.4 to 8.0. I was never able to debug after this upgrade, and as a result of my research, I could not come to a conclusion. If there is any information I have given missing for the problem, if you specify, I can make additions. I'm sharing my gradle module app codes because I think the problem stems from here.</p>\n<p>My build.gradle(app):</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\n    useLibrary 'org.apache.http.legacy'\n    compileSdkVersion 33\n\n    defaultConfig {\n        applicationId &quot;com.example.packagename&quot;\n        multiDexEnabled true\n        minSdkVersion 22\n        targetSdkVersion 33\n        versionCode 15\n        versionName &quot;1.4&quot;\n\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n    kotlinOptions {\n        jvmTarget = '11'\n    }\n    namespace 'com.example.packagename'\n\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Execution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; superclass access check failed: class butterknife.compiler.ButterKnifeProcessor$RScanner (in unnamed module @0x1db9193f) cannot access class com.sun.tools.javac.tree.TreeScanner (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.tree to unnamed module @0x1db9193f\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileDebugJavaWithJavac'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\n.\n.\n.\n</code></pre>\n<p>I tried almost all the suggestions mentioned in StackOverFlow for solution but couldn't reach a solution.</p>\n"},{"tags":["java","javabeans","jparepository"],"owner":{"account_id":28414001,"reputation":1,"user_id":21737031,"display_name":"Павлюченко Антон"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682618488,"creation_date":1682618488,"question_id":76123391,"body_markdown":"I have this java class which is importing data from the database:\r\n\r\n```\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDate;\r\n\r\n@Entity\r\n@Table(name = &quot;my_table&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class CashFlowTrainingData {\r\n\r\n    private String id;\r\n\r\n    @Id\r\n    public String getId() {\r\n        return String.format(&quot;{%s:%s:%s:%s}&quot;, recordDate, senderPostOfficeCode, quantity, sum);\r\n    }\r\n\r\n    @Column(name = &quot;RECORD_DATE&quot;)\r\n    private LocalDate date;\r\n\r\n    @Column(name = &quot;SENDER_POSTOFFICECODE&quot;)\r\n    private String senderPostOfficeCode;\r\n\r\n    @Column(name = &quot;QUANTITY&quot;)\r\n    private Integer quantity;\r\n\r\n    @Column(name = &quot;SUM&quot;)\r\n    private Double sum;\r\n}\r\n```\r\nController like this, which is post mapping to &quot;PostMan&quot;:\r\n\r\n\r\n```\r\nimport (defalt path).CashFlowDataCsvConvertorService;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class StartCashFlowProcessController {\r\n    private final CashFlowDataCsvConvertorService cashFlowDataCsvConvertorService;\r\n\r\n    public StartCashFlowProcessController(CashFlowDataCsvConvertorService cashFlowDataCsvConvertorService) {\r\n        this.cashFlowDataCsvConvertorService = cashFlowDataCsvConvertorService;\r\n    }\r\n\r\n    @PostMapping(&quot;/favouriteMainProcess&quot;)\r\n    public void start(){\r\n        cashFlowDataCsvConvertorService.mainProcess();\r\n    }\r\n}\r\n```\r\nAnd client configuration file, in  which there is a \r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\n@Configuration\r\npublic class ClientConfiguration {\r\n    @Bean\r\n    public RestTemplate restTemplate() {\r\n        return new RestTemplate();\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd have an error like this:\r\n\r\n```\r\nError creating bean with name &#39;startCashFlowProcessController&#39; defined in file [(default path)\\controller\\StartCashFlowProcessController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;cashFlowDataCsvConvertorService&#39; defined in file [(default path)\\service\\CashFlowDataCsvConvertorService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;cashFlowTrainingDataRepository&#39; defined in (default path).repositories.CashFlowTrainingDataRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class (default path).models.CashFlowTrainingData\r\n```\r\nI had a problem with a importing data from the database before (helped that I changed jakarta package to javax) and after this have problem with creating these beans. I don&#39;t know why it happens( Help me a little, I am a newbie in this...","title":"Problem with creating my controller bean, when importing a data from the database","body":"<p>I have this java class which is importing data from the database:</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\nimport java.time.LocalDate;\n\n@Entity\n@Table(name = &quot;my_table&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CashFlowTrainingData {\n\n    private String id;\n\n    @Id\n    public String getId() {\n        return String.format(&quot;{%s:%s:%s:%s}&quot;, recordDate, senderPostOfficeCode, quantity, sum);\n    }\n\n    @Column(name = &quot;RECORD_DATE&quot;)\n    private LocalDate date;\n\n    @Column(name = &quot;SENDER_POSTOFFICECODE&quot;)\n    private String senderPostOfficeCode;\n\n    @Column(name = &quot;QUANTITY&quot;)\n    private Integer quantity;\n\n    @Column(name = &quot;SUM&quot;)\n    private Double sum;\n}\n</code></pre>\n<p>Controller like this, which is post mapping to &quot;PostMan&quot;:</p>\n<pre><code>import (defalt path).CashFlowDataCsvConvertorService;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class StartCashFlowProcessController {\n    private final CashFlowDataCsvConvertorService cashFlowDataCsvConvertorService;\n\n    public StartCashFlowProcessController(CashFlowDataCsvConvertorService cashFlowDataCsvConvertorService) {\n        this.cashFlowDataCsvConvertorService = cashFlowDataCsvConvertorService;\n    }\n\n    @PostMapping(&quot;/favouriteMainProcess&quot;)\n    public void start(){\n        cashFlowDataCsvConvertorService.mainProcess();\n    }\n}\n</code></pre>\n<p>And client configuration file, in  which there is a</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.client.RestTemplate;\n\n@Configuration\npublic class ClientConfiguration {\n    @Bean\n    public RestTemplate restTemplate() {\n        return new RestTemplate();\n    }\n}\n</code></pre>\n<p>And have an error like this:</p>\n<pre><code>Error creating bean with name 'startCashFlowProcessController' defined in file [(default path)\\controller\\StartCashFlowProcessController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'cashFlowDataCsvConvertorService' defined in file [(default path)\\service\\CashFlowDataCsvConvertorService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'cashFlowTrainingDataRepository' defined in (default path).repositories.CashFlowTrainingDataRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class (default path).models.CashFlowTrainingData\n</code></pre>\n<p>I had a problem with a importing data from the database before (helped that I changed jakarta package to javax) and after this have problem with creating these beans. I don't know why it happens( Help me a little, I am a newbie in this...</p>\n"},{"tags":["java","validation","bean-validation"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1682610414,"post_id":76122276,"comment_id":134246363,"body_markdown":"Do you mean [*Jakarta Bean Validation*](https://jakarta.ee/specifications/bean-validation/)? If so, say so in your question and in your tags.","body":"Do you mean <a href=\"https://jakarta.ee/specifications/bean-validation/\" rel=\"nofollow noreferrer\"><i>Jakarta Bean Validation</i></a>? If so, say so in your question and in your tags."}],"owner":{"account_id":2326454,"reputation":804,"user_id":2040852,"accept_rate":100,"display_name":"Andreas N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682618481,"creation_date":1682610015,"question_id":76122276,"body_markdown":"My goal is to validate a list of records `Part` using a custom Jakarta validator. Each record has an Enum constant `key` and for every Enum constant, exactly one record with this constant must be available in the list.\r\n\r\nSome classes:\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\npublic record CarConfig(@EnumComplete(CarPartKey.class) List&lt;CarPart&gt; parts) {}\r\n\r\npublic record CarPart(String name, CarPartKey key) {}\r\n\r\nenum CarPartKey { ENGINE, MIRROR, TYRE }\r\n```\r\n\r\nValid `CarConfig` must have three list items of `Part` instances with the three different Enum constants:\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\nCarConfig config = new CarConfig(List.of(\r\n    new CarPart(&quot;Engine block&quot;, CarPartKey.ENGINE),\r\n    new CarPart(&quot;Rear mirror&quot;, CarPartKey.MIRROR),\r\n    new CarPart(&quot;Front-left tyre&quot;, CarPartKey.TYRE)\r\n);\r\n```\r\n\r\nNow the difficulty here is, that there are a lot more config and part-key classes, e.g. `BikeConfig` class using `BikePartKey` constants. Creating individual Jakarta-based annotations/validators for every config is one solution. But is there also a way to implement a generic, reusable validator?\r\n\r\nI&#39;ve been experimenting a while in the following direction:\r\n\r\n```\r\n...\r\n@Constraint(validatedBy = { CompleteEnumValidator.class })\r\npublic @interface EnumComplete { ... }\r\n\r\n\r\npublic CompleteEnumValidator&lt;E extends Enum&lt;E&gt;&gt; implements ConstraintValidator&lt;EnumComplete, List&lt;?&gt;&gt; {\r\n    ...\r\n}\r\n\r\n``` \r\n\r\nHowever, this is not accepted by the annotation, because `validatedBy` expects a subclass of ConstraintValidator&lt;?,?&gt; and my own addition of type parameters does not fulfill this requirement.\r\n\r\nSuggestions and help are much appreciated.\r\n","title":"How to validate a list of records to have unique and all enum constants using Jakarta bean validation?","body":"<p>My goal is to validate a list of records <code>Part</code> using a custom Jakarta validator. Each record has an Enum constant <code>key</code> and for every Enum constant, exactly one record with this constant must be available in the list.</p>\n<p>Some classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record CarConfig(@EnumComplete(CarPartKey.class) List&lt;CarPart&gt; parts) {}\n\npublic record CarPart(String name, CarPartKey key) {}\n\nenum CarPartKey { ENGINE, MIRROR, TYRE }\n</code></pre>\n<p>Valid <code>CarConfig</code> must have three list items of <code>Part</code> instances with the three different Enum constants:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CarConfig config = new CarConfig(List.of(\n    new CarPart(&quot;Engine block&quot;, CarPartKey.ENGINE),\n    new CarPart(&quot;Rear mirror&quot;, CarPartKey.MIRROR),\n    new CarPart(&quot;Front-left tyre&quot;, CarPartKey.TYRE)\n);\n</code></pre>\n<p>Now the difficulty here is, that there are a lot more config and part-key classes, e.g. <code>BikeConfig</code> class using <code>BikePartKey</code> constants. Creating individual Jakarta-based annotations/validators for every config is one solution. But is there also a way to implement a generic, reusable validator?</p>\n<p>I've been experimenting a while in the following direction:</p>\n<pre><code>...\n@Constraint(validatedBy = { CompleteEnumValidator.class })\npublic @interface EnumComplete { ... }\n\n\npublic CompleteEnumValidator&lt;E extends Enum&lt;E&gt;&gt; implements ConstraintValidator&lt;EnumComplete, List&lt;?&gt;&gt; {\n    ...\n}\n\n</code></pre>\n<p>However, this is not accepted by the annotation, because <code>validatedBy</code> expects a subclass of ConstraintValidator and my own addition of type parameters does not fulfill this requirement.</p>\n<p>Suggestions and help are much appreciated.</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1682653864,"post_id":76123386,"comment_id":134252922,"body_markdown":"It is possible to turn off leniency, but I looked into the source code, it won&#39;t fail for this type of (minor) error. The thread spike is likely to have a different cause.","body":"It is possible to turn off leniency, but I looked into the source code, it won&#39;t fail for this type of (minor) error. The thread spike is likely to have a different cause."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1682657985,"post_id":76123386,"comment_id":134253315,"body_markdown":"*&quot;when trying to upload a document using PdfBox&quot;* - how do you *upload* a document using pdfbox? That being asked, you appear to have a lot of issues loading damaged pdfs. Are you sure the input files already are damaged? Or is it possible that your code retrieving and forwarding it to pdfbox does the damage? In the latter case I&#39;d propose checking that code.","body":"<i>&quot;when trying to upload a document using PdfBox&quot;</i> - how do you <i>upload</i> a document using pdfbox? That being asked, you appear to have a lot of issues loading damaged pdfs. Are you sure the input files already are damaged? Or is it possible that your code retrieving and forwarding it to pdfbox does the damage? In the latter case I&#39;d propose checking that code."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682688951,"post_id":76123386,"comment_id":134259426,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28427369,"reputation":1,"user_id":21748523,"display_name":"Sebasti&#225;n Duque"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682618420,"creation_date":1682618420,"question_id":76123386,"body_markdown":"I am getting the following warning when trying to upload a document using PdfBox: The end of the stream doesn&#39;t point to the correct offset, using workaround to read the stream, stream start position: 162, length: 1125, expected end position: 1287.\r\n\r\n\r\nIt is being produced in the validateStreamLength() method of class COSParser. Additionally, I see a significant spike in threads. So, is there any way to turn off the workaround to read the stream and throw an exception instead?.\r\n","title":"PdfBox: the end of the stream doesn&#39;t point to the correct offset","body":"<p>I am getting the following warning when trying to upload a document using PdfBox: The end of the stream doesn't point to the correct offset, using workaround to read the stream, stream start position: 162, length: 1125, expected end position: 1287.</p>\n<p>It is being produced in the validateStreamLength() method of class COSParser. Additionally, I see a significant spike in threads. So, is there any way to turn off the workaround to read the stream and throw an exception instead?.</p>\n"},{"tags":["java","spring","spring-boot","openapi"],"owner":{"account_id":22522935,"reputation":13,"user_id":16716180,"display_name":"osiem888"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682618075,"creation_date":1682618075,"question_id":76123351,"body_markdown":"I have a new Spring Boot application.\r\nSpring Boot version 2.7.10\r\nSpringDoc OpenApi version 1.7.0\r\n\r\nWhen initially testing OpenApi it successfully generated documentation so all the dependencies and libraries are in the project.\r\n\r\nThen, I wanted to add a global &quot;envelope&quot; to all data that is being returned from the Rest Services. So I added a class that does this and implements ResponseBodyAdvice:\r\n\r\n```\r\n@Component\r\n@RestControllerAdvice\r\npublic class GlobalRestResponseFilter implements ResponseBodyAdvice&lt;Object&gt; {\r\n\r\n    @Override\r\n    public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\r\n        return new ResponseEnvelope(body);\r\n    }\r\n[...]\r\n}\r\n```\r\n\r\nAlthough the responses are correctly being returned in the envelope by the rest controllers, OpenApi UI displays the Swagger Petstore instead of my documentation. Without any errors in the logs.\r\n\r\nWhen accessing api-docs application throws an exception:\r\n```\r\njava.lang.ClassCastException: api.model.ResponseEnvelope cannot be cast to [B\r\n\tat org.springframework.http.converter.ByteArrayHttpMessageConverter.getContentLength(ByteArrayHttpMessageConverter.java:39)\r\n\tat org.springframework.http.converter.AbstractHttpMessageConverter.addDefaultHeaders(AbstractHttpMessageConverter.java:260)\r\n\tat org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:211)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:293)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183)\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:502)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:596)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:492)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nAt one point the exception said that it cannot be cast to `java.lang.String`.\r\n\r\nAdding @Hidden to ResponseBodyAdvice does not work.\r\nI tried several versions of OpenApi and the issue happened on all of them.\r\n\r\nI want to use ResponseBodyAdvice to modify the response of the Rest Controllers while having Swagger generating documentation. Having it generate the documentation of responses without the envelope would be absolutely acceptable.","title":"OpenAPI with ResponseBodyAdvice is not generating documents","body":"<p>I have a new Spring Boot application.\nSpring Boot version 2.7.10\nSpringDoc OpenApi version 1.7.0</p>\n<p>When initially testing OpenApi it successfully generated documentation so all the dependencies and libraries are in the project.</p>\n<p>Then, I wanted to add a global &quot;envelope&quot; to all data that is being returned from the Rest Services. So I added a class that does this and implements ResponseBodyAdvice:</p>\n<pre><code>@Component\n@RestControllerAdvice\npublic class GlobalRestResponseFilter implements ResponseBodyAdvice&lt;Object&gt; {\n\n    @Override\n    public Object beforeBodyWrite(Object body, MethodParameter returnType, MediaType selectedContentType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\n        return new ResponseEnvelope(body);\n    }\n[...]\n}\n</code></pre>\n<p>Although the responses are correctly being returned in the envelope by the rest controllers, OpenApi UI displays the Swagger Petstore instead of my documentation. Without any errors in the logs.</p>\n<p>When accessing api-docs application throws an exception:</p>\n<pre><code>java.lang.ClassCastException: api.model.ResponseEnvelope cannot be cast to [B\n    at org.springframework.http.converter.ByteArrayHttpMessageConverter.getContentLength(ByteArrayHttpMessageConverter.java:39)\n    at org.springframework.http.converter.AbstractHttpMessageConverter.addDefaultHeaders(AbstractHttpMessageConverter.java:260)\n    at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:211)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:293)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183)\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:502)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:596)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:492)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>At one point the exception said that it cannot be cast to <code>java.lang.String</code>.</p>\n<p>Adding @Hidden to ResponseBodyAdvice does not work.\nI tried several versions of OpenApi and the issue happened on all of them.</p>\n<p>I want to use ResponseBodyAdvice to modify the response of the Rest Controllers while having Swagger generating documentation. Having it generate the documentation of responses without the envelope would be absolutely acceptable.</p>\n"},{"tags":["java","lombok","builder","mapstruct"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1682445299,"post_id":76103880,"comment_id":134215928,"body_markdown":"Do you have `lombok-mapstruct-binding` in your list of annotation processors?","body":"Do you have <code>lombok-mapstruct-binding</code> in your list of annotation processors?"},{"owner":{"account_id":20760160,"reputation":31,"user_id":15245554,"display_name":"Davb"},"score":0,"creation_date":1682449193,"post_id":76103880,"comment_id":134216769,"body_markdown":"Yes I have it, version 0.2.0","body":"Yes I have it, version 0.2.0"},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1682597162,"post_id":76103880,"comment_id":134242786,"body_markdown":"We need the whole code to reproduce your problem. In your description, the sources for `Comment` and `Page` are missing.","body":"We need the whole code to reproduce your problem. In your description, the sources for <code>Comment</code> and <code>Page</code> are missing."},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1682933393,"post_id":76103880,"comment_id":134285862,"body_markdown":"That looks like a mapstruct bug to me.","body":"That looks like a mapstruct bug to me."},{"owner":{"account_id":20760160,"reputation":31,"user_id":15245554,"display_name":"Davb"},"score":0,"creation_date":1683055470,"post_id":76103880,"comment_id":134307174,"body_markdown":"I will report this issue","body":"I will report this issue"}],"owner":{"account_id":20760160,"reputation":31,"user_id":15245554,"display_name":"Davb"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1682618066,"creation_date":1682443500,"question_id":76103880,"body_markdown":"I have a class that represents a paged response that looks like this (all annotations are from Lombok):\r\n```\r\n@Value\r\n@Builder\r\n@Jacksonized\r\n@FieldNameConstants\r\npublic class PagedResponse&lt;T&gt; {\r\n\r\n    List&lt;T&gt; content;\r\n    int number;\r\n    int totalPages;\r\n    int size;\r\n    int numberOfElements;\r\n    long totalElements;\r\n\r\n}\r\n```\r\nand a dto class:\r\n\r\n```\r\n@Value\r\n@Builder\r\n@Jacksonized\r\n@FieldNameConstants\r\npublic class CommentResponse {\r\n\r\n    UUID uuid;\r\n    String value;\r\n\r\n}\r\n```\r\nI&#39;m using Mapstruct to generate the mapper to map my entity `Comment` to my dto class, here&#39;s the mapper interface:\r\n\r\n```\r\n@Mapper(componentModel = MappingConstants.ComponentModel.SPRING)\r\npublic interface CommentMapper {\r\n\r\n    PagedResponse&lt;CommentResponse&gt; mapToCommentResponses(Page&lt;Comment&gt; comments);\r\n\r\n    CommentResponse mapToCommentResponse(Comment comment);\r\n\r\n}\r\n```\r\nWhile Mapstruct have no problems generating the code for simple entity-dto mapping, it struggle to generate to code for the method `PagedResponse&lt;CommentResponse&gt; mapToCommentResponses(Page&lt;Comment&gt; comments);`\r\n\r\nThe generated code for the mapper:\r\n\r\n```\r\n@Component\r\npublic class CommentMapperImpl implements CommentMapper {\r\n\r\n    @Override\r\n    public PagedResponse&lt;CommentResponse&gt; mapToCommentResponses(Page&lt;Comment&gt; comments) {\r\n        if ( comments == null ) {\r\n            return null;\r\n        }\r\n\r\n        List&lt;CommentResponse&gt; content = null;\r\n        int number = 0;\r\n        int totalPages = 0;\r\n        int size = 0;\r\n        int numberOfElements = 0;\r\n        long totalElements = 0L;\r\n\r\n        if ( comments.hasContent() ) {\r\n            content = commentListToCommentResponseList( comments.getContent() );\r\n        }\r\n        number = comments.getNumber();\r\n        totalPages = comments.getTotalPages();\r\n        size = comments.getSize();\r\n        numberOfElements = comments.getNumberOfElements();\r\n        totalElements = comments.getTotalElements();\r\n\r\n        // next line cause a compile error\r\n        PagedResponse&lt;CommentResponse&gt; pagedResponse = new PagedResponse&lt;CommentResponse&gt;( content, number, totalPages, size, numberOfElements, totalElements );\r\n\r\n        return pagedResponse;\r\n    }\r\n\r\n    @Override\r\n    public CommentResponse mapToCommentResponse(Comment comment) {\r\n        if ( comment == null ) {\r\n            return null;\r\n        }\r\n\r\n        CommentResponse.CommentResponseBuilder commentResponse = CommentResponse.builder();\r\n\r\n        commentResponse.uuid( comment.getUuid() );\r\n        commentResponse.value( comment.getValue() );\r\n\r\n        return commentResponse.build();\r\n    }\r\n\r\n    protected List&lt;CommentResponse&gt; commentListToCommentResponseList(List&lt;Comment&gt; list) {\r\n        if ( list == null ) {\r\n            return null;\r\n        }\r\n\r\n        List&lt;CommentResponse&gt; list1 = new ArrayList&lt;CommentResponse&gt;( list.size() );\r\n        for ( Comment comment: list ) {\r\n            list1.add( mapToCommentResponse( comment ) );\r\n        }\r\n\r\n        return list1;\r\n    }\r\n}\r\n```\r\nHere Mapstruct tries to call the package-private constructor of `PagedResponse` instead of the builder which cause a compile error.\r\n\r\n\r\n\r\nI would expect Mapstruct to call the builder like this: \r\n```\r\nPagedResponse.PagedResponseBuilder builder = PagedResponse.&lt;CommentResponse&gt;builder()\r\n```\r\nor like this\r\n\r\n```\r\nPagedResponse.PagedResponseBuilder builder = PagedResponse.builder();\r\n```\r\nIs it even possible ? And how to achieve this ?\r\n\r\nEdit:\r\n\r\nThe code of my entity `Comment`:\r\n```\r\n@Entity\r\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n@ToString\r\n@Getter\r\n@Setter\r\n@FieldNameConstants\r\npublic class Comment implements Persistable&lt;Long&gt; {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(insertable = false, updatable = false)\r\n    @EqualsAndHashCode.Include\r\n    private Long id;\r\n\r\n    @Column(updatable = false)\r\n    private UUID uuid;\r\n\r\n    @Version\r\n    private Integer version;\r\n    \r\n    private String value;\r\n\r\n    @Override\r\n    public boolean isNew() {\r\n        return Objects.isNull(id);\r\n    }\r\n\r\n    @PrePersist\r\n    private void generateUuid() {\r\n        uuid = UUID.randomUUID();\r\n    }\r\n\r\n}\r\n```\r\nThe class `Page` is from `org.springframework.data.domain.Page`","title":"Why Mapstruct don&#39;t use Lombok&#39;s builder with generic type?","body":"<p>I have a class that represents a paged response that looks like this (all annotations are from Lombok):</p>\n<pre><code>@Value\n@Builder\n@Jacksonized\n@FieldNameConstants\npublic class PagedResponse&lt;T&gt; {\n\n    List&lt;T&gt; content;\n    int number;\n    int totalPages;\n    int size;\n    int numberOfElements;\n    long totalElements;\n\n}\n</code></pre>\n<p>and a dto class:</p>\n<pre><code>@Value\n@Builder\n@Jacksonized\n@FieldNameConstants\npublic class CommentResponse {\n\n    UUID uuid;\n    String value;\n\n}\n</code></pre>\n<p>I'm using Mapstruct to generate the mapper to map my entity <code>Comment</code> to my dto class, here's the mapper interface:</p>\n<pre><code>@Mapper(componentModel = MappingConstants.ComponentModel.SPRING)\npublic interface CommentMapper {\n\n    PagedResponse&lt;CommentResponse&gt; mapToCommentResponses(Page&lt;Comment&gt; comments);\n\n    CommentResponse mapToCommentResponse(Comment comment);\n\n}\n</code></pre>\n<p>While Mapstruct have no problems generating the code for simple entity-dto mapping, it struggle to generate to code for the method <code>PagedResponse&lt;CommentResponse&gt; mapToCommentResponses(Page&lt;Comment&gt; comments);</code></p>\n<p>The generated code for the mapper:</p>\n<pre><code>@Component\npublic class CommentMapperImpl implements CommentMapper {\n\n    @Override\n    public PagedResponse&lt;CommentResponse&gt; mapToCommentResponses(Page&lt;Comment&gt; comments) {\n        if ( comments == null ) {\n            return null;\n        }\n\n        List&lt;CommentResponse&gt; content = null;\n        int number = 0;\n        int totalPages = 0;\n        int size = 0;\n        int numberOfElements = 0;\n        long totalElements = 0L;\n\n        if ( comments.hasContent() ) {\n            content = commentListToCommentResponseList( comments.getContent() );\n        }\n        number = comments.getNumber();\n        totalPages = comments.getTotalPages();\n        size = comments.getSize();\n        numberOfElements = comments.getNumberOfElements();\n        totalElements = comments.getTotalElements();\n\n        // next line cause a compile error\n        PagedResponse&lt;CommentResponse&gt; pagedResponse = new PagedResponse&lt;CommentResponse&gt;( content, number, totalPages, size, numberOfElements, totalElements );\n\n        return pagedResponse;\n    }\n\n    @Override\n    public CommentResponse mapToCommentResponse(Comment comment) {\n        if ( comment == null ) {\n            return null;\n        }\n\n        CommentResponse.CommentResponseBuilder commentResponse = CommentResponse.builder();\n\n        commentResponse.uuid( comment.getUuid() );\n        commentResponse.value( comment.getValue() );\n\n        return commentResponse.build();\n    }\n\n    protected List&lt;CommentResponse&gt; commentListToCommentResponseList(List&lt;Comment&gt; list) {\n        if ( list == null ) {\n            return null;\n        }\n\n        List&lt;CommentResponse&gt; list1 = new ArrayList&lt;CommentResponse&gt;( list.size() );\n        for ( Comment comment: list ) {\n            list1.add( mapToCommentResponse( comment ) );\n        }\n\n        return list1;\n    }\n}\n</code></pre>\n<p>Here Mapstruct tries to call the package-private constructor of <code>PagedResponse</code> instead of the builder which cause a compile error.</p>\n<p>I would expect Mapstruct to call the builder like this:</p>\n<pre><code>PagedResponse.PagedResponseBuilder builder = PagedResponse.&lt;CommentResponse&gt;builder()\n</code></pre>\n<p>or like this</p>\n<pre><code>PagedResponse.PagedResponseBuilder builder = PagedResponse.builder();\n</code></pre>\n<p>Is it even possible ? And how to achieve this ?</p>\n<p>Edit:</p>\n<p>The code of my entity <code>Comment</code>:</p>\n<pre><code>@Entity\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\n@ToString\n@Getter\n@Setter\n@FieldNameConstants\npublic class Comment implements Persistable&lt;Long&gt; {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(insertable = false, updatable = false)\n    @EqualsAndHashCode.Include\n    private Long id;\n\n    @Column(updatable = false)\n    private UUID uuid;\n\n    @Version\n    private Integer version;\n    \n    private String value;\n\n    @Override\n    public boolean isNew() {\n        return Objects.isNull(id);\n    }\n\n    @PrePersist\n    private void generateUuid() {\n        uuid = UUID.randomUUID();\n    }\n\n}\n</code></pre>\n<p>The class <code>Page</code> is from <code>org.springframework.data.domain.Page</code></p>\n"},{"tags":["java","google-cloud-storage","apache-tika"],"comments":[{"owner":{"account_id":8363906,"reputation":615,"user_id":6281268,"display_name":"Tim Allison"},"score":0,"creation_date":1683122964,"post_id":76114324,"comment_id":134318408,"body_markdown":"Tika should be resetting the stream after the call to detect.  How are you creating the InputStream that you are sending into Tika for detection?","body":"Tika should be resetting the stream after the call to detect.  How are you creating the InputStream that you are sending into Tika for detection?"},{"owner":{"account_id":1196190,"reputation":1082,"user_id":1167874,"accept_rate":62,"display_name":"Raymond Holguin"},"score":0,"creation_date":1683132011,"post_id":76114324,"comment_id":134320714,"body_markdown":"@TimAllison I was doing something like this `new FileInputStream(new File(&quot;filepath&quot;)`.  I don&#39;t have the exact code anymore, but basically i was passing a `File` object into the `FileInputStream` constructor","body":"@TimAllison I was doing something like this <code>new FileInputStream(new File(&quot;filepath&quot;)</code>.  I don&#39;t have the exact code anymore, but basically i was passing a <code>File</code> object into the <code>FileInputStream</code> constructor"},{"owner":{"account_id":8363906,"reputation":615,"user_id":6281268,"display_name":"Tim Allison"},"score":0,"creation_date":1683140311,"post_id":76114324,"comment_id":134322373,"body_markdown":"Thank you.  I&#39;ll try to reproduce that behavior.  It is unexpected.  Typically, we recommend TikaInputStream.open(File file)...that will be more efficient on zip and ole2 based files (and PDF if you&#39;re parsing, which you aren&#39;t).","body":"Thank you.  I&#39;ll try to reproduce that behavior.  It is unexpected.  Typically, we recommend TikaInputStream.open(File file)...that will be more efficient on zip and ole2 based files (and PDF if you&#39;re parsing, which you aren&#39;t)."}],"answers":[{"tags":[],"owner":{"account_id":1196190,"reputation":1082,"user_id":1167874,"accept_rate":62,"display_name":"Raymond Holguin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682617316,"creation_date":1682617316,"answer_id":76123250,"question_id":76114324,"body_markdown":"Turns out using `Tika` messes with the `InputStream` marker, so once I run `detect` I can&#39;t re-use that `InputStream` to upload.\r\n\r\nSo instead I turn the `InputStream` into a `byte[]` then I can use that for detecting the type as well as saving\r\n\r\n\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    inputStream.transferTo(baos);\r\n                \r\n    byte[] byteData = baos.toByteArray();\r\n    Tika tika = new Tika();\r\n    tika.detect(byteData);","title":"Uploading a file to Google Cloud Storage is corrupted only when using Tika to get Content-Type","body":"<p>Turns out using <code>Tika</code> messes with the <code>InputStream</code> marker, so once I run <code>detect</code> I can't re-use that <code>InputStream</code> to upload.</p>\n<p>So instead I turn the <code>InputStream</code> into a <code>byte[]</code> then I can use that for detecting the type as well as saving</p>\n<pre><code>ByteArrayOutputStream baos = new ByteArrayOutputStream();\ninputStream.transferTo(baos);\n            \nbyte[] byteData = baos.toByteArray();\nTika tika = new Tika();\ntika.detect(byteData);\n</code></pre>\n"}],"owner":{"account_id":1196190,"reputation":1082,"user_id":1167874,"accept_rate":62,"display_name":"Raymond Holguin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76123250,"answer_count":1,"score":0,"last_activity_date":1682617316,"creation_date":1682536666,"question_id":76114324,"body_markdown":"I am using the Google Cloud Storage Java SDK (`V.2.20.1`) to upload files to my Bucket.  I am trying to set the Content-Type of the file, which I am using Apache Tika to detect.  The issue is that if the use the Content-Type returned by Tika, even though it is correct, when the file is uploaded it is corrupted and I cannot view it.  If I manually set the Content-Type, the same value that Tika returned, then it uploads and I can view the file without issue.\r\n\r\n\r\nThis code does not work, I verify that the content type is exactly matching `applicaiton/pdf` but it is corrupted on upload and I cannot view.\r\n\r\n    Tika tika = new Tika();\r\n    String contentType = tika.detect(inputStream);\r\n    System.out.println(contentType); //&quot;application/pdf&quot;\r\n\r\n    if(&quot;application/pdf&quot;.equals(contentType)) {\r\n         return bucket.create(Utilities.formatDirectoryName(directory) + name, inputStream, contentType);\r\n    } else {\r\n         System.out.println(&quot;INVALID TYPE&quot;);\r\n         return null;\r\n    }\r\n\r\n\r\nThis code does work by manually setting the Content-Type.  The file uploads and I can view it without issue.\r\n\r\n    String contentType = &quot;application/pdf&quot;;\r\n    System.out.println(contentType); //&quot;application/pdf&quot;\r\n    if(&quot;application/pdf&quot;.equals(contentType)) {\r\n         return bucket.create(Utilities.formatDirectoryName(directory) + name, inputStream, contentType);\r\n    } else {\r\n         System.out.println(&quot;INVALID TYPE&quot;);\r\n         return null;\r\n    }\r\n\r\n\r\n\r\nWhen I view the information on the Cloud Storage UI everything shows correctly for both of the methods I listed above.  Content-Type, size, etc.  The difference is when I download the file to view, one does not work (corrupted) and the other one does work (views correctly).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JeKDx.png\r\n\r\n\r\nI have run this test multiple times to ensure it wasn&#39;t just a weird upload glitch, but its consistent every time.   I have also tried this with different types of files such as Power Points. \r\n Same result of using Tika vs manually setting the Content-Type.  This is driving me crazy, please help!","title":"Uploading a file to Google Cloud Storage is corrupted only when using Tika to get Content-Type","body":"<p>I am using the Google Cloud Storage Java SDK (<code>V.2.20.1</code>) to upload files to my Bucket.  I am trying to set the Content-Type of the file, which I am using Apache Tika to detect.  The issue is that if the use the Content-Type returned by Tika, even though it is correct, when the file is uploaded it is corrupted and I cannot view it.  If I manually set the Content-Type, the same value that Tika returned, then it uploads and I can view the file without issue.</p>\n<p>This code does not work, I verify that the content type is exactly matching <code>applicaiton/pdf</code> but it is corrupted on upload and I cannot view.</p>\n<pre><code>Tika tika = new Tika();\nString contentType = tika.detect(inputStream);\nSystem.out.println(contentType); //&quot;application/pdf&quot;\n\nif(&quot;application/pdf&quot;.equals(contentType)) {\n     return bucket.create(Utilities.formatDirectoryName(directory) + name, inputStream, contentType);\n} else {\n     System.out.println(&quot;INVALID TYPE&quot;);\n     return null;\n}\n</code></pre>\n<p>This code does work by manually setting the Content-Type.  The file uploads and I can view it without issue.</p>\n<pre><code>String contentType = &quot;application/pdf&quot;;\nSystem.out.println(contentType); //&quot;application/pdf&quot;\nif(&quot;application/pdf&quot;.equals(contentType)) {\n     return bucket.create(Utilities.formatDirectoryName(directory) + name, inputStream, contentType);\n} else {\n     System.out.println(&quot;INVALID TYPE&quot;);\n     return null;\n}\n</code></pre>\n<p>When I view the information on the Cloud Storage UI everything shows correctly for both of the methods I listed above.  Content-Type, size, etc.  The difference is when I download the file to view, one does not work (corrupted) and the other one does work (views correctly).</p>\n<p><a href=\"https://i.stack.imgur.com/JeKDx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JeKDx.png\" alt=\"enter image description here\" /></a></p>\n<p>I have run this test multiple times to ensure it wasn't just a weird upload glitch, but its consistent every time.   I have also tried this with different types of files such as Power Points.\nSame result of using Tika vs manually setting the Content-Type.  This is driving me crazy, please help!</p>\n"},{"tags":["java","spring-boot","hibernate","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682513387,"post_id":76110898,"comment_id":134227558,"body_markdown":"And your question is? This seems more of a rant against graalvm then an actual question.","body":"And your question is? This seems more of a rant against graalvm then an actual question."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1682535560,"post_id":76110898,"comment_id":134233297,"body_markdown":"The title looks like a pretty clear and well formed question @m-deinum","body":"The title looks like a pretty clear and well formed question @m-deinum"},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1682542709,"post_id":76110898,"comment_id":134234593,"body_markdown":"@xerx593: I used a separate `JDK19` installation, not the one by `GraalVM`. It seems like it doesn&#39;t cause any problems","body":"@xerx593: I used a separate <code>JDK19</code> installation, not the one by <code>GraalVM</code>. It seems like it doesn&#39;t cause any problems"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1682550886,"post_id":76110898,"comment_id":134235784,"body_markdown":"It does not cause any problem because, with `mvn -Pnative spring-boot:build-image`, the native image is built in a docker container which pulls a GraalVM image","body":"It does not cause any problem because, with <code>mvn -Pnative spring-boot:build-image</code>, the native image is built in a docker container which pulls a GraalVM image"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682617108,"creation_date":1682534157,"answer_id":76114026,"question_id":76110898,"body_markdown":"I faced the same regression due to missing native hints and found 3 easy workarounds in [a thread][1] linked at the bottom of the one you point to. Here are the options from the less invasive (prefered) to the most:\r\n- downgrade the metadata repository from `0.2.7` to `0.2.6` in `native-maven-plugin` version `0.9.21` (which is the default for Boot `3.0.6`):\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;metadataRepository&gt;\r\n\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;version&gt;0.2.6&lt;/version&gt;\r\n\t\t&lt;/metadataRepository&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n- use an earlier metadata repository for `hibernate-core` (`6.1.1.Final` instead of `6.1.7.Final` which is the default for Boot `3.0.6`):\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;metadataRepository&gt;\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;metadataVersion&gt;6.1.1.Final&lt;/metadataVersion&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;/dependencies&gt;\r\n\t\t&lt;/metadataRepository&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n- downgrade `native-maven-plugin` from `0.9.21` to `0.9.20`:\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.9.20&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\nThe issue is tracked [here][2] for Spring Boot and [there][3] for `native-build-tools`\r\n\r\n## P.S.\r\nFor those working with Gradle rather than maven, there is an equivalent of the first workaround in the [Spring Boot thread][4]\r\n```\r\ngraalvmNative {\r\n    metadataRepository {\r\n        version = &quot;0.2.6&quot;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/alvessteve/fizzbuzz-rest-api/issues/26\r\n  [2]: https://github.com/spring-projects/spring-boot/issues/35103\r\n  [3]: https://github.com/graalvm/native-build-tools/issues/430\r\n  [4]: https://github.com/spring-projects/spring-boot/issues/35103#issuecomment-1524957350","title":"How to build a Spring Boot 3.0.6 REST API into a working native image?","body":"<p>I faced the same regression due to missing native hints and found 3 easy workarounds in <a href=\"https://github.com/alvessteve/fizzbuzz-rest-api/issues/26\" rel=\"nofollow noreferrer\">a thread</a> linked at the bottom of the one you point to. Here are the options from the less invasive (prefered) to the most:</p>\n<ul>\n<li>downgrade the metadata repository from <code>0.2.7</code> to <code>0.2.6</code> in <code>native-maven-plugin</code> version <code>0.9.21</code> (which is the default for Boot <code>3.0.6</code>):</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n    &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;metadataRepository&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;version&gt;0.2.6&lt;/version&gt;\n        &lt;/metadataRepository&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ul>\n<li>use an earlier metadata repository for <code>hibernate-core</code> (<code>6.1.1.Final</code> instead of <code>6.1.7.Final</code> which is the default for Boot <code>3.0.6</code>):</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n    &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;metadataRepository&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n                    &lt;metadataVersion&gt;6.1.1.Final&lt;/metadataVersion&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/metadataRepository&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ul>\n<li>downgrade <code>native-maven-plugin</code> from <code>0.9.21</code> to <code>0.9.20</code>:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n    &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.9.20&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The issue is tracked <a href=\"https://github.com/spring-projects/spring-boot/issues/35103\" rel=\"nofollow noreferrer\">here</a> for Spring Boot and <a href=\"https://github.com/graalvm/native-build-tools/issues/430\" rel=\"nofollow noreferrer\">there</a> for <code>native-build-tools</code></p>\n<h2>P.S.</h2>\n<p>For those working with Gradle rather than maven, there is an equivalent of the first workaround in the <a href=\"https://github.com/spring-projects/spring-boot/issues/35103#issuecomment-1524957350\" rel=\"nofollow noreferrer\">Spring Boot thread</a></p>\n<pre><code>graalvmNative {\n    metadataRepository {\n        version = &quot;0.2.6&quot;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76114026,"answer_count":1,"score":3,"last_activity_date":1682617108,"creation_date":1682513130,"question_id":76110898,"body_markdown":"I&#39;m on `Windows`, assuming I&#39;m downloading a default `demo` project from [`Spring Initializr`][1] as follows:\r\n\r\n[![][2]][2]\r\n\r\nNow for the project to run I&#39;ll also add default `H2` support to the `application.properties`:\r\n\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=password\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\nNext, I&#39;ll add a simple `HelloWorldController.java` controller as follows:\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class HelloWorldController\r\n    {\r\n    \t@GetMapping(&quot;/&quot;)\r\n    \tpublic String index()\r\n    \t{\r\n    \t\treturn &quot;Greetings from Spring Boot!&quot;;\r\n    \t}\r\n    }\r\n\r\n\r\nI can run the REST API successfully from `IntelliJ IDEA` or compile an executable `JAR` and run that, going to [`http://localhost:8080`][3] in the browser works as expected.\r\n\r\nMy `native-image` version is:\r\n\r\n    &gt;where gu\r\n    C:\\graalvm-ee-java19-windows-amd64-22.3.1\\bin\\gu.cmd\r\n\r\nMy `Java` version is:\r\n\r\n    &gt;java -version\r\n    java version &quot;19.0.1&quot; 2022-10-18\r\n    Java(TM) SE Runtime Environment (build 19.0.1+10-21)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\r\n\r\nAccording to the `HELP.md` I can compile a native image by running `mvnw native:compile -Pnative` (via an administrator `x64 Native Tools Command Prompt for VS 2022`) so I did. The first error I ran into was related to spaces in the file path ([`Exception in thread &quot;main&quot; java.nio.file.InvalidPathException: Illegal char &lt;&gt; at index 3`][4]), I fixed it by moving the whole project into a file path without spaces. (However, that shouldn&#39;t even be a problem these days.)\r\n\r\nNow, after waiting for about 8 minutes, the native compilation was successful. Upon running the `demo.exe`, it failed to start:\r\n\r\n    D:\\Moved\\demo&gt;target\\demo\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v3.0.6)\r\n    \r\n    2023-04-26T00:04:22.787+02:00  INFO 28544 --- [           main] com.example.demo.DemoApplication         : Starting AOT-processed DemoApplication using Java 19.0.2 with PID 28544 (D:\\Moved\\demo\\target\\demo.exe started by BullyWiiPlaza in D:\\Moved\\demo)\r\n    2023-04-26T00:04:22.787+02:00  INFO 28544 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-04-26T00:04:23.017+02:00  INFO 28544 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-04-26T00:04:23.020+02:00  INFO 28544 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-04-26T00:04:23.020+02:00  INFO 28544 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n    2023-04-26T00:04:23.052+02:00  INFO 28544 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-04-26T00:04:23.053+02:00  INFO 28544 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 265 ms\r\n    2023-04-26T00:04:23.107+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2023-04-26T00:04:23.113+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA\r\n    2023-04-26T00:04:23.114+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2023-04-26T00:04:23.116+02:00  WARN 28544 --- [           main] w.s.c.ServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39;: Instantiation of supplied bean failed\r\n    2023-04-26T00:04:23.116+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2023-04-26T00:04:23.121+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    2023-04-26T00:04:23.123+02:00  INFO 28544 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2023-04-26T00:04:23.127+02:00 ERROR 28544 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39;: Instantiation of supplied bean failed\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1220) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1158) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[demo.exe:6.0.8]\r\n            at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[demo.exe:6.0.8]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[demo.exe:6.0.8]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[demo.exe:6.0.8]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[demo.exe:3.0.6]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[demo.exe:3.0.6]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[demo.exe:3.0.6]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[demo.exe:3.0.6]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[demo.exe:3.0.6]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[demo.exe:3.0.6]\r\n            at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[demo.exe:na]\r\n    Caused by: java.lang.IllegalStateException: No available JtaPlatform candidates amongst [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform, org.hibernate.service.jta.platform.internal.NoJtaPlatform]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getNoJtaPlatformManager(HibernateJpaConfiguration.java:213) ~[demo.exe:na]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.configureJtaPlatform(HibernateJpaConfiguration.java:150) ~[demo.exe:na]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.customizeVendorProperties(HibernateJpaConfiguration.java:139) ~[demo.exe:na]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132) ~[demo.exe:na]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration__BeanDefinitions.lambda$getEntityManagerFactoryInstanceSupplier$3(JpaBaseConfiguration__BeanDefinitions.java:84) ~[na:na]\r\n            at org.springframework.util.function.ThrowingBiFunction.apply(ThrowingBiFunction.java:68) ~[demo.exe:6.0.8]\r\n            at org.springframework.util.function.ThrowingBiFunction.apply(ThrowingBiFunction.java:54) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.aot.BeanInstanceSupplier.lambda$get$2(BeanInstanceSupplier.java:204) ~[na:na]\r\n            at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[demo.exe:6.0.8]\r\n            at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.aot.BeanInstanceSupplier.invokeBeanSupplier(BeanInstanceSupplier.java:216) ~[na:na]\r\n            at org.springframework.beans.factory.aot.BeanInstanceSupplier.get(BeanInstanceSupplier.java:204) ~[na:na]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.obtainInstanceFromSupplier(DefaultListableBeanFactory.java:947) ~[demo.exe:6.0.8]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1214) ~[demo.exe:6.0.8]\r\n            ... 17 common frames omitted\r\n\r\nSo, it isn&#39;t working, why?\r\n\r\nAfter researching more, I found [this][5] issue and related ones. Also, trying `Spring Boot` version `3.0.5` is working fine while `3.0.6` fails.\r\n\r\n  [1]: https://start.spring.io\r\n  [2]: https://i.stack.imgur.com/1E26c.png\r\n  [3]: http://localhost:8080\r\n  [4]: https://github.com/micronaut-projects/micronaut-gradle-plugin/issues/401#issuecomment-1083249485\r\n  [5]: https://github.com/spring-projects/spring-boot/issues/32659","title":"How to build a Spring Boot 3.0.6 REST API into a working native image?","body":"<p>I'm on <code>Windows</code>, assuming I'm downloading a default <code>demo</code> project from <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\"><code>Spring Initializr</code></a> as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/1E26c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1E26c.png\" alt=\"\" /></a></p>\n<p>Now for the project to run I'll also add default <code>H2</code> support to the <code>application.properties</code>:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p>Next, I'll add a simple <code>HelloWorldController.java</code> controller as follows:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class HelloWorldController\n{\n    @GetMapping(&quot;/&quot;)\n    public String index()\n    {\n        return &quot;Greetings from Spring Boot!&quot;;\n    }\n}\n</code></pre>\n<p>I can run the REST API successfully from <code>IntelliJ IDEA</code> or compile an executable <code>JAR</code> and run that, going to <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\"><code>http://localhost:8080</code></a> in the browser works as expected.</p>\n<p>My <code>native-image</code> version is:</p>\n<pre><code>&gt;where gu\nC:\\graalvm-ee-java19-windows-amd64-22.3.1\\bin\\gu.cmd\n</code></pre>\n<p>My <code>Java</code> version is:</p>\n<pre><code>&gt;java -version\njava version &quot;19.0.1&quot; 2022-10-18\nJava(TM) SE Runtime Environment (build 19.0.1+10-21)\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode, sharing)\n</code></pre>\n<p>According to the <code>HELP.md</code> I can compile a native image by running <code>mvnw native:compile -Pnative</code> (via an administrator <code>x64 Native Tools Command Prompt for VS 2022</code>) so I did. The first error I ran into was related to spaces in the file path (<a href=\"https://github.com/micronaut-projects/micronaut-gradle-plugin/issues/401#issuecomment-1083249485\" rel=\"nofollow noreferrer\"><code>Exception in thread &quot;main&quot; java.nio.file.InvalidPathException: Illegal char &lt;&gt; at index 3</code></a>), I fixed it by moving the whole project into a file path without spaces. (However, that shouldn't even be a problem these days.)</p>\n<p>Now, after waiting for about 8 minutes, the native compilation was successful. Upon running the <code>demo.exe</code>, it failed to start:</p>\n<pre><code>D:\\Moved\\demo&gt;target\\demo\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.6)\n\n2023-04-26T00:04:22.787+02:00  INFO 28544 --- [           main] com.example.demo.DemoApplication         : Starting AOT-processed DemoApplication using Java 19.0.2 with PID 28544 (D:\\Moved\\demo\\target\\demo.exe started by BullyWiiPlaza in D:\\Moved\\demo)\n2023-04-26T00:04:22.787+02:00  INFO 28544 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-26T00:04:23.017+02:00  INFO 28544 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-04-26T00:04:23.020+02:00  INFO 28544 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-04-26T00:04:23.020+02:00  INFO 28544 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-04-26T00:04:23.052+02:00  INFO 28544 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-04-26T00:04:23.053+02:00  INFO 28544 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 265 ms\n2023-04-26T00:04:23.107+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-26T00:04:23.113+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA\n2023-04-26T00:04:23.114+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-04-26T00:04:23.116+02:00  WARN 28544 --- [           main] w.s.c.ServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory': Instantiation of supplied bean failed\n2023-04-26T00:04:23.116+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-04-26T00:04:23.121+02:00  INFO 28544 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-04-26T00:04:23.123+02:00  INFO 28544 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-04-26T00:04:23.127+02:00 ERROR 28544 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory': Instantiation of supplied bean failed\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1220) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1158) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[demo.exe:6.0.8]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[demo.exe:6.0.8]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[demo.exe:6.0.8]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[demo.exe:6.0.8]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[demo.exe:3.0.6]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[demo.exe:3.0.6]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[demo.exe:3.0.6]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[demo.exe:3.0.6]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[demo.exe:3.0.6]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[demo.exe:3.0.6]\n        at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[demo.exe:na]\nCaused by: java.lang.IllegalStateException: No available JtaPlatform candidates amongst [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform, org.hibernate.service.jta.platform.internal.NoJtaPlatform]\n        at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getNoJtaPlatformManager(HibernateJpaConfiguration.java:213) ~[demo.exe:na]\n        at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.configureJtaPlatform(HibernateJpaConfiguration.java:150) ~[demo.exe:na]\n        at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.customizeVendorProperties(HibernateJpaConfiguration.java:139) ~[demo.exe:na]\n        at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132) ~[demo.exe:na]\n        at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration__BeanDefinitions.lambda$getEntityManagerFactoryInstanceSupplier$3(JpaBaseConfiguration__BeanDefinitions.java:84) ~[na:na]\n        at org.springframework.util.function.ThrowingBiFunction.apply(ThrowingBiFunction.java:68) ~[demo.exe:6.0.8]\n        at org.springframework.util.function.ThrowingBiFunction.apply(ThrowingBiFunction.java:54) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.lambda$get$2(BeanInstanceSupplier.java:204) ~[na:na]\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[demo.exe:6.0.8]\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.invokeBeanSupplier(BeanInstanceSupplier.java:216) ~[na:na]\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.get(BeanInstanceSupplier.java:204) ~[na:na]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.obtainInstanceFromSupplier(DefaultListableBeanFactory.java:947) ~[demo.exe:6.0.8]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1214) ~[demo.exe:6.0.8]\n        ... 17 common frames omitted\n</code></pre>\n<p>So, it isn't working, why?</p>\n<p>After researching more, I found <a href=\"https://github.com/spring-projects/spring-boot/issues/32659\" rel=\"nofollow noreferrer\">this</a> issue and related ones. Also, trying <code>Spring Boot</code> version <code>3.0.5</code> is working fine while <code>3.0.6</code> fails.</p>\n"},{"tags":["java","bapi","jco","sapjco3"],"answers":[{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1351067993,"creation_date":1351067993,"answer_id":13045624,"question_id":13045096,"body_markdown":"Most of the &quot;stuff&quot; you&#39;ll find will implicitly refer to the old version (2.x) of the Java Connector. You can still grab that version from [SAP][1], and I&#39;d encourage you to do so - not to use it, but to compare the javadoc. You&#39;ll see that the class structure was changed radically between the 2.x and 3.x releases (and to the better, I&#39;d say). However, that means that you have to re-work many of the examples because the class names have changed.\r\n\r\n\r\n  [1]: http://service.sap.com/connectors","title":"SAP JCo: JCoDestination vs. JCoClient","body":"<p>Most of the \"stuff\" you'll find will implicitly refer to the old version (2.x) of the Java Connector. You can still grab that version from <a href=\"http://service.sap.com/connectors\" rel=\"nofollow\">SAP</a>, and I'd encourage you to do so - not to use it, but to compare the javadoc. You'll see that the class structure was changed radically between the 2.x and 3.x releases (and to the better, I'd say). However, that means that you have to re-work many of the examples because the class names have changed.</p>\n"},{"tags":[],"owner":{"account_id":1842981,"reputation":4101,"user_id":1672009,"accept_rate":71,"display_name":"remigio"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1682616932,"creation_date":1351081195,"answer_id":13049097,"question_id":13045096,"body_markdown":"The SAP Java Connector has been completely reworked from 2 to 3 version. The old JCO.Client class has been substituted with JCoDestination, but it&#39;s not just a name change, the library architecture changed completely, so porting code from JCo 2 to JCo 3 is not just a matter of changing class names.\r\nFor example, to connect to a SAP service with Jco 2 one had to write something like this:\r\n\r\n    JCO.Client client = JCO.createClient(...);\r\n    client.connect();\r\n\r\nwhereas with JCo 3 you have:\r\n\r\n    JCoDestination destination = JCoDestinationManager.getDestination(serviceName);\r\n\r\nYou can find information about the two libraries at [SAP JCo Installation][1]. Furthermore, at [SAP JCo Migration 2.x-3.0 (Standalone)][3] there is a detailed guide for migration from 2 to 3. The latter link can also be accessed from the left side index on the former link, from which you can access information about &quot;Client Programming SAP JCo 2.x&quot; and &quot;3.0&quot;.\r\n\r\n\r\n  [1]: http://help.sap.com/saphelp_nwpi711/helpdata/en/48/707c54872c1b5ae10000000a42189c/frameset.htm\r\n  [3]: \r\nhttps://help.sap.com/doc/saphelp_nwpi711/7.1.1/en-US/48/88c6682a763ff6e10000000a42189c/frameset.htm\r\n","title":"SAP JCo: JCoDestination vs. JCoClient","body":"<p>The SAP Java Connector has been completely reworked from 2 to 3 version. The old JCO.Client class has been substituted with JCoDestination, but it's not just a name change, the library architecture changed completely, so porting code from JCo 2 to JCo 3 is not just a matter of changing class names.\nFor example, to connect to a SAP service with Jco 2 one had to write something like this:</p>\n<pre><code>JCO.Client client = JCO.createClient(...);\nclient.connect();\n</code></pre>\n<p>whereas with JCo 3 you have:</p>\n<pre><code>JCoDestination destination = JCoDestinationManager.getDestination(serviceName);\n</code></pre>\n<p>You can find information about the two libraries at <a href=\"http://help.sap.com/saphelp_nwpi711/helpdata/en/48/707c54872c1b5ae10000000a42189c/frameset.htm\" rel=\"nofollow noreferrer\">SAP JCo Installation</a>. Furthermore, at <a href=\"https://help.sap.com/doc/saphelp_nwpi711/7.1.1/en-US/48/88c6682a763ff6e10000000a42189c/frameset.htm\" rel=\"nofollow noreferrer\">SAP JCo Migration 2.x-3.0 (Standalone)</a> there is a detailed guide for migration from 2 to 3. The latter link can also be accessed from the left side index on the former link, from which you can access information about &quot;Client Programming SAP JCo 2.x&quot; and &quot;3.0&quot;.</p>\n"}],"owner":{"account_id":285060,"reputation":4639,"user_id":583513,"accept_rate":71,"display_name":"Philipp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8658,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":13049097,"answer_count":2,"score":7,"last_activity_date":1682616932,"creation_date":1351065851,"question_id":13045096,"body_markdown":"I&#39;m calling a function in SAP system from Java with the JCo library. So far my call works, but when I look for help in the Internet, there is always a `JCoClient` that is being used to get the functions, making commits, etc.\r\n\r\nBut a `JCoClient` class does not exist in JCo 3.\r\n\r\nInstead I use an instance of the `JCoDestination` that I created with a config file. \r\n\r\nWhat is the difference between `JCoClient` and `JCoDestination`? And why is nobody talking about `JCoDestination`, but always `JCoClient`?\r\n","title":"SAP JCo: JCoDestination vs. JCoClient","body":"<p>I'm calling a function in SAP system from Java with the JCo library. So far my call works, but when I look for help in the Internet, there is always a <code>JCoClient</code> that is being used to get the functions, making commits, etc.</p>\n<p>But a <code>JCoClient</code> class does not exist in JCo 3.</p>\n<p>Instead I use an instance of the <code>JCoDestination</code> that I created with a config file.</p>\n<p>What is the difference between <code>JCoClient</code> and <code>JCoDestination</code>? And why is nobody talking about <code>JCoDestination</code>, but always <code>JCoClient</code>?</p>\n"},{"tags":["java","http","spring-webflux","multipartform-data"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1682629463,"post_id":76123211,"comment_id":134250371,"body_markdown":"Strings are text and data isn&#39;t that. You can&#39;t do what you want. With ISO_8859_1 you can kind of hack around it, at best.","body":"Strings are text and data isn&#39;t that. You can&#39;t do what you want. With ISO_8859_1 you can kind of hack around it, at best."}],"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682616926,"creation_date":1682616926,"question_id":76123211,"body_markdown":"I have a request body, content-type is multipart/form data, body is like this:\r\n```\r\nContent-Type: multipart/form-data; boundary=xxxx\r\n\r\n--xxxx\r\nContent-Disposition: form-data; name=&quot;image&quot;; filename=&quot;image.jpg&quot;\r\n\r\n&lt;content of file&gt;\r\n--xxxx\r\nContent-Disposition: form-data; name=&quot;text1&quot;\r\n\r\ntext value\r\n...\r\n```\r\nIt comes to my method as ```byte[] body```. I create a String from it: ```new String(body, StandardCharsets.ISO_8859_1)``` divide this String to parts by ```boundary```, modify text content and assemble new request body ```modifiedBody.getBytes(StandardCharsets.ISO_8859_1)``` (it is Spring WebFlux, then I create Mono from this new byte array ```Mono.just(byteArray)```).\r\n\r\nThe problem is body content (images, and maybe other types) may crash.\r\nIs there are a proper way to convert byte[] array into String and back? Maybe something wrong with encoding?","title":"How to convert byte array of multipart/form-data request body into String in Java?","body":"<p>I have a request body, content-type is multipart/form data, body is like this:</p>\n<pre><code>Content-Type: multipart/form-data; boundary=xxxx\n\n--xxxx\nContent-Disposition: form-data; name=&quot;image&quot;; filename=&quot;image.jpg&quot;\n\n&lt;content of file&gt;\n--xxxx\nContent-Disposition: form-data; name=&quot;text1&quot;\n\ntext value\n...\n</code></pre>\n<p>It comes to my method as <code>byte[] body</code>. I create a String from it: <code>new String(body, StandardCharsets.ISO_8859_1)</code> divide this String to parts by <code>boundary</code>, modify text content and assemble new request body <code>modifiedBody.getBytes(StandardCharsets.ISO_8859_1)</code> (it is Spring WebFlux, then I create Mono from this new byte array <code>Mono.just(byteArray)</code>).</p>\n<p>The problem is body content (images, and maybe other types) may crash.\nIs there are a proper way to convert byte[] array into String and back? Maybe something wrong with encoding?</p>\n"},{"tags":["java","concurrency","garbage-collection"],"comments":[{"owner":{"account_id":54046,"reputation":229,"user_id":161661,"display_name":"jpse"},"score":3,"creation_date":1318345332,"post_id":7728102,"comment_id":9402436,"body_markdown":"Because garbage collection is “non deterministic” ie you cannot predict when it will happen, you thus cannot predict exactly when the finalize method will run. You can only make Objects eligible for GC and suggest gc with System.gc() without any guarantee","body":"Because garbage collection is “non deterministic” ie you cannot predict when it will happen, you thus cannot predict exactly when the finalize method will run. You can only make Objects eligible for GC and suggest gc with System.gc() without any guarantee"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1318345445,"post_id":7728102,"comment_id":9402463,"body_markdown":"You should never rely on finalization in order to close or shut down something. As jpse already said, garbage collection is non-deterministic and finalization is not guaranteed to ever run.","body":"You should never rely on finalization in order to close or shut down something. As jpse already said, garbage collection is non-deterministic and finalization is not guaranteed to ever run."},{"owner":{"account_id":46134,"reputation":185,"user_id":136216,"display_name":"Ovidiu Lupas"},"score":1,"creation_date":1318510821,"post_id":7728102,"comment_id":9438620,"body_markdown":"JVM does not exit because worker thread is blocked in workQueue.take();","body":"JVM does not exit because worker thread is blocked in workQueue.take();"}],"answers":[{"tags":[],"owner":{"account_id":54046,"reputation":229,"user_id":161661,"display_name":"jpse"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1318345586,"creation_date":1318345586,"answer_id":7728210,"question_id":7728102,"body_markdown":"Because garbage collection is “non deterministic” ie you cannot predict when it will happen, you thus cannot predict exactly when the finalize method will run. You can only make Objects eligible for GC and suggest gc with System.gc() without any guarantee. \r\n\r\nEven worse threads are OS specific handled by the JVM and are hardly predictable...","title":"Why doesn&#39;t this thread pool get garbage collected?","body":"<p>Because garbage collection is “non deterministic” ie you cannot predict when it will happen, you thus cannot predict exactly when the finalize method will run. You can only make Objects eligible for GC and suggest gc with System.gc() without any guarantee. </p>\n\n<p>Even worse threads are OS specific handled by the JVM and are hardly predictable...</p>\n"},{"tags":[],"owner":{"account_id":947290,"reputation":1413,"user_id":1686368,"accept_rate":80,"display_name":"nmikhailov"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1682616903,"creation_date":1318345629,"answer_id":7728217,"question_id":7728102,"body_markdown":"Finalizers are too unpredictable. Depending on them is usually bad practice.\r\nYou can read more about it in [&quot;Effective java][1]&quot; by Joshua Bloch (item 1.7)\r\n\r\n\r\n  [1]: https://kea.nu/files/textbooks/new/Effective%20Java%20%282017%2C%20Addison-Wesley%29.pdf","title":"Why doesn&#39;t this thread pool get garbage collected?","body":"<p>Finalizers are too unpredictable. Depending on them is usually bad practice.\nYou can read more about it in <a href=\"https://kea.nu/files/textbooks/new/Effective%20Java%20%282017%2C%20Addison-Wesley%29.pdf\" rel=\"nofollow noreferrer\">&quot;Effective java</a>&quot; by Joshua Bloch (item 1.7)</p>\n"},{"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1318346787,"creation_date":1318346787,"answer_id":7728511,"question_id":7728102,"body_markdown":"&gt; Once executorService is out of scope, it should get collected and finalized.\r\n\r\nNot really - once it is out of scope, it *could* get collected and finalized. There are no guarantees made in the [VM spec][1] about when objects are finalized, or even *if* they are finalized:\r\n\r\n&gt; The Java programming language does not specify how soon a finalizer will be invoked, except to say that it will happen before the storage for the object is reused.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#19147","title":"Why doesn&#39;t this thread pool get garbage collected?","body":"<blockquote>\n  <p>Once executorService is out of scope, it should get collected and finalized.</p>\n</blockquote>\n\n<p>Not really - once it is out of scope, it <em>could</em> get collected and finalized. There are no guarantees made in the <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#19147\" rel=\"nofollow\">VM spec</a> about when objects are finalized, or even <em>if</em> they are finalized:</p>\n\n<blockquote>\n  <p>The Java programming language does not specify how soon a finalizer will be invoked, except to say that it will happen before the storage for the object is reused.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1318357264,"creation_date":1318347292,"answer_id":7728645,"question_id":7728102,"body_markdown":"This doesn&#39;t really have anything to do with GC being non-deterministic, although it doesn&#39;t help!  (That is one cause in your example, but even if we &#39;fixed&#39; it to eat up memory and force a collection, it still wouldn&#39;t finalize)\r\n\r\nThe Worker threads that the executor creates are inner classes that have a reference back to the executor itself.  (They need it to be able to see the queue, runstate, etc!)  Running threads are not garbage collected, so with each Thread in the pool having that reference, they will keep the executor alive until all threads are dead.  If you don&#39;t manually do something to stop the threads, they will keep running forever and your JVM will never shut down.  ","title":"Why doesn&#39;t this thread pool get garbage collected?","body":"<p>This doesn't really have anything to do with GC being non-deterministic, although it doesn't help!  (That is one cause in your example, but even if we 'fixed' it to eat up memory and force a collection, it still wouldn't finalize)</p>\n\n<p>The Worker threads that the executor creates are inner classes that have a reference back to the executor itself.  (They need it to be able to see the queue, runstate, etc!)  Running threads are not garbage collected, so with each Thread in the pool having that reference, they will keep the executor alive until all threads are dead.  If you don't manually do something to stop the threads, they will keep running forever and your JVM will never shut down.  </p>\n"},{"tags":[],"owner":{"account_id":1450281,"reputation":431,"user_id":1367431,"display_name":"mjt"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1335863580,"creation_date":1335863580,"answer_id":10395700,"question_id":7728102,"body_markdown":"Affe is correct; the thread pool&#39;s threads will keep it from being garbage collected. When you call Executors.newFixedThreadPool(3) you get a ThreadPoolExecutor constructed like so: \r\n\r\n    ThreadPoolExecutor(3, 3, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());\r\nAnd if you read the JavaDoc for ThreadPoolExecutor it says:\r\n\r\n&gt; A pool that is no longer referenced in a program AND has no remaining\r\n&gt; threads will be shutdown automatically. If you would like to ensure\r\n&gt; that unreferenced pools are reclaimed even if users forget to call\r\n&gt; shutdown(), then &lt;b&gt;you must arrange that unused threads eventually die,&lt;/b&gt;\r\n&gt; by setting appropriate keep-alive times, using a lower bound of zero\r\n&gt; core threads and/or setting allowCoreThreadTimeOut(boolean).\r\n\r\nIf you want your thread pool to finalize like you&#39;re expecting, you should do one of those things.","title":"Why doesn&#39;t this thread pool get garbage collected?","body":"<p>Affe is correct; the thread pool's threads will keep it from being garbage collected. When you call Executors.newFixedThreadPool(3) you get a ThreadPoolExecutor constructed like so: </p>\n\n<pre><code>ThreadPoolExecutor(3, 3, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());\n</code></pre>\n\n<p>And if you read the JavaDoc for ThreadPoolExecutor it says:</p>\n\n<blockquote>\n  <p>A pool that is no longer referenced in a program AND has no remaining\n  threads will be shutdown automatically. If you would like to ensure\n  that unreferenced pools are reclaimed even if users forget to call\n  shutdown(), then <b>you must arrange that unused threads eventually die,</b>\n  by setting appropriate keep-alive times, using a lower bound of zero\n  core threads and/or setting allowCoreThreadTimeOut(boolean).</p>\n</blockquote>\n\n<p>If you want your thread pool to finalize like you're expecting, you should do one of those things.</p>\n"},{"tags":[],"owner":{"account_id":2605451,"reputation":389,"user_id":2855231,"accept_rate":75,"display_name":"Rudy Barbieri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594308535,"creation_date":1594308535,"answer_id":62818412,"question_id":7728102,"body_markdown":"If you want the threads to be finalized when the Executor service is out of scope you should avoid, as mjt suggested, the use of \r\n``` java\r\n    ExecutorService executorService = Executors.newFixedThreadPool(3);`\r\n```\r\nand use for example:\r\n\r\n``` java\r\nExecutorService executorService = new ThreadPoolExecutor(0, 3, 10, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());\r\n```\r\n\r\n","title":"Why doesn&#39;t this thread pool get garbage collected?","body":"<p>If you want the threads to be finalized when the Executor service is out of scope you should avoid, as mjt suggested, the use of</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ExecutorService executorService = Executors.newFixedThreadPool(3);`\n</code></pre>\n<p>and use for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService executorService = new ThreadPoolExecutor(0, 3, 10, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());\n</code></pre>\n"}],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14106,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":7728645,"answer_count":6,"score":39,"last_activity_date":1682616903,"creation_date":1318345162,"question_id":7728102,"body_markdown":"In this code example, the ExecutorService is used one and allowed to go out of scope.\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        ExecutorService executorService = Executors.newFixedThreadPool(3);\r\n        executorService.submit(new Runnable()\r\n        {\r\n            public void run()\r\n            {\r\n                System.out.println(&quot;hello&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\nOnce executorService is out of scope, it should get collected and finalized. The finalize() method in ThreadPoolExecutor calls shutdown().\r\n\r\n\r\n    /**\r\n     * Invokes {@code shutdown} when this executor is no longer\r\n     * referenced and it has no threads.\r\n     */\r\n    protected void finalize() {\r\n        shutdown();\r\n    }\r\n\r\nOnce shutdown() is called, the pool threads should terminate and the JVM should be allowed to exit. However the executorSerivce is never getting collected and thus the JVM stays alive. Even calls to System.gc() don&#39;t seem to work. Why isn&#39;t executorService getting collected even after main() terminates?\r\n\r\nNote: I know I should call shutdown() myself and I always do outside of testing. I&#39;m curious why finalization isn&#39;t working as a back-up here.","title":"Why doesn&#39;t this thread pool get garbage collected?","body":"<p>In this code example, the ExecutorService is used one and allowed to go out of scope.</p>\n\n<pre><code>public static void main(String[] args)\n{\n    ExecutorService executorService = Executors.newFixedThreadPool(3);\n    executorService.submit(new Runnable()\n    {\n        public void run()\n        {\n            System.out.println(\"hello\");\n        }\n    });\n}\n</code></pre>\n\n<p>Once executorService is out of scope, it should get collected and finalized. The finalize() method in ThreadPoolExecutor calls shutdown().</p>\n\n<pre><code>/**\n * Invokes {@code shutdown} when this executor is no longer\n * referenced and it has no threads.\n */\nprotected void finalize() {\n    shutdown();\n}\n</code></pre>\n\n<p>Once shutdown() is called, the pool threads should terminate and the JVM should be allowed to exit. However the executorSerivce is never getting collected and thus the JVM stays alive. Even calls to System.gc() don't seem to work. Why isn't executorService getting collected even after main() terminates?</p>\n\n<p>Note: I know I should call shutdown() myself and I always do outside of testing. I'm curious why finalization isn't working as a back-up here.</p>\n"},{"tags":["java","jvx"],"answers":[{"tags":[],"owner":{"account_id":28159708,"reputation":24,"user_id":21519867,"display_name":"we42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682616734,"creation_date":1682415425,"answer_id":76099690,"question_id":76099576,"body_markdown":"    &lt;target name=&quot;start.updateReactUI.nightly&quot; description=&quot;Updates reactUI with nightly build&quot;&gt;\r\n      \t\r\n      &lt;tstamp&gt;\r\n        &lt;format property=&quot;datepattern&quot; pattern=&quot;dd_MM_yyyy&quot;/&gt;\r\n        &lt;!-- one day earlier\r\n        &lt;format property=&quot;datepattern&quot; pattern=&quot;dd_MM_yyyy&quot; offset=&quot;-1&quot; unit=&quot;day&quot; /&gt; \r\n         --&gt;\r\n      &lt;/tstamp&gt;\r\n        \r\n      &lt;get src=&quot;https://github.com/sibvisions/reactUI/releases/download/build-${datepattern}/reactBuild_${datepattern}.zip&quot; dest=&quot;${build}/nightly.zip&quot; usetimestamp=&quot;true&quot;/&gt;\r\n      \t\r\n      &lt;delete file=&quot;${build}/nightly&quot; /&gt;\r\n      \t\r\n      &lt;unzip src=&quot;${build}/nightly.zip&quot; dest=&quot;${build}/nightly&quot;&gt;\r\n        &lt;!-- extract only sub directory to dest directory --&gt;\r\n        &lt;patternset&gt;\r\n          &lt;include name=&quot;build/*&quot;/&gt;\r\n        &lt;/patternset&gt;\r\n        &lt;mapper&gt;\r\n          &lt;globmapper from=&quot;build/*&quot; to=&quot;*&quot;/&gt;\r\n        &lt;/mapper&gt;\r\n      &lt;/unzip&gt;\r\n    \r\n      &lt;!-- Delete old files --&gt;\r\n      &lt;delete includeEmptyDirs=&quot;true&quot;&gt;\r\n        &lt;fileset dir=&quot;${basedir}/WebContent/ui&quot;&gt;\r\n          &lt;!-- keep additional project fonts --&gt;\r\n          &lt;exclude name=&quot;*.ttf&quot;/&gt;\r\n          &lt;!-- keep css of project --&gt;\r\n      \t  &lt;exclude name=&quot;*.css&quot;/&gt;\r\n          &lt;!-- keep fav icon of project --&gt;\r\n      \t  &lt;exclude name=&quot;favicon.ico&quot;/&gt;\r\n      \t&lt;/fileset&gt;\r\n      &lt;/delete&gt;\r\n      \t\r\n      &lt;!-- Copy new files --&gt;\r\n      &lt;copy todir=&quot;${basedir}/WebContent/ui&quot;&gt;\r\n        &lt;fileset dir=&quot;${build}/nightly&quot;&gt;\r\n          &lt;!-- ignore css of build --&gt;\r\n          &lt;exclude name=&quot;*.css&quot; /&gt;\r\n          &lt;!-- ignore fav icon of build --&gt;\r\n          &lt;exclude name=&quot;favicon.ico&quot; /&gt;\r\n        &lt;/fileset&gt;\r\n      &lt;/copy&gt;\r\n      \t\r\n    &lt;/target&gt;\r\n\r\nBut be careful, because there are no nightly builds on Saturday or Sunday, but the date is one day ahead! Saturday build is with source code of Friday. No build on Sunday and Monday. The Tuesday build is with source code of Monday. Looks like they build after midnight.\r\n","title":"ANT task for update of reactUI of JVx application","body":"<pre><code>&lt;target name=&quot;start.updateReactUI.nightly&quot; description=&quot;Updates reactUI with nightly build&quot;&gt;\n    \n  &lt;tstamp&gt;\n    &lt;format property=&quot;datepattern&quot; pattern=&quot;dd_MM_yyyy&quot;/&gt;\n    &lt;!-- one day earlier\n    &lt;format property=&quot;datepattern&quot; pattern=&quot;dd_MM_yyyy&quot; offset=&quot;-1&quot; unit=&quot;day&quot; /&gt; \n     --&gt;\n  &lt;/tstamp&gt;\n    \n  &lt;get src=&quot;https://github.com/sibvisions/reactUI/releases/download/build-${datepattern}/reactBuild_${datepattern}.zip&quot; dest=&quot;${build}/nightly.zip&quot; usetimestamp=&quot;true&quot;/&gt;\n    \n  &lt;delete file=&quot;${build}/nightly&quot; /&gt;\n    \n  &lt;unzip src=&quot;${build}/nightly.zip&quot; dest=&quot;${build}/nightly&quot;&gt;\n    &lt;!-- extract only sub directory to dest directory --&gt;\n    &lt;patternset&gt;\n      &lt;include name=&quot;build/*&quot;/&gt;\n    &lt;/patternset&gt;\n    &lt;mapper&gt;\n      &lt;globmapper from=&quot;build/*&quot; to=&quot;*&quot;/&gt;\n    &lt;/mapper&gt;\n  &lt;/unzip&gt;\n\n  &lt;!-- Delete old files --&gt;\n  &lt;delete includeEmptyDirs=&quot;true&quot;&gt;\n    &lt;fileset dir=&quot;${basedir}/WebContent/ui&quot;&gt;\n      &lt;!-- keep additional project fonts --&gt;\n      &lt;exclude name=&quot;*.ttf&quot;/&gt;\n      &lt;!-- keep css of project --&gt;\n      &lt;exclude name=&quot;*.css&quot;/&gt;\n      &lt;!-- keep fav icon of project --&gt;\n      &lt;exclude name=&quot;favicon.ico&quot;/&gt;\n    &lt;/fileset&gt;\n  &lt;/delete&gt;\n    \n  &lt;!-- Copy new files --&gt;\n  &lt;copy todir=&quot;${basedir}/WebContent/ui&quot;&gt;\n    &lt;fileset dir=&quot;${build}/nightly&quot;&gt;\n      &lt;!-- ignore css of build --&gt;\n      &lt;exclude name=&quot;*.css&quot; /&gt;\n      &lt;!-- ignore fav icon of build --&gt;\n      &lt;exclude name=&quot;favicon.ico&quot; /&gt;\n    &lt;/fileset&gt;\n  &lt;/copy&gt;\n    \n&lt;/target&gt;\n</code></pre>\n<p>But be careful, because there are no nightly builds on Saturday or Sunday, but the date is one day ahead! Saturday build is with source code of Friday. No build on Sunday and Monday. The Tuesday build is with source code of Monday. Looks like they build after midnight.</p>\n"}],"owner":{"account_id":28167502,"reputation":90,"user_id":21526498,"display_name":"Robosch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76099690,"answer_count":1,"score":1,"last_activity_date":1682616734,"creation_date":1682414651,"question_id":76099576,"body_markdown":"I configured my JVx application for using [reactUI][1] and saw that there are nightly builds. I want to update my application automatically with latest nightly build. Is there an ant task for this use-case? I&#39;m using ant to build my application.\r\n\r\n\r\n  [1]: https://github.com/sibvisions/reactUI","title":"ANT task for update of reactUI of JVx application","body":"<p>I configured my JVx application for using <a href=\"https://github.com/sibvisions/reactUI\" rel=\"nofollow noreferrer\">reactUI</a> and saw that there are nightly builds. I want to update my application automatically with latest nightly build. Is there an ant task for this use-case? I'm using ant to build my application.</p>\n"},{"tags":["java","kotlin","x509certificate","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":19609870,"reputation":1,"user_id":14352605,"display_name":"Frank97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682616616,"creation_date":1682616616,"answer_id":76123170,"question_id":73129591,"body_markdown":"Try bitwise OR instead of AND.","title":"How to provide multiple values for KeyUsage?","body":"<p>Try bitwise OR instead of AND.</p>\n"}],"owner":{"account_id":1936496,"reputation":32803,"user_id":1743843,"accept_rate":77,"display_name":"softshipper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682616616,"creation_date":1658868615,"question_id":73129591,"body_markdown":"I have created a certificate programmatically with https://www.bouncycastle.org/ library. \r\nThe code that I have so far looks as follows:\r\n\r\n    fun generate(\r\n        keyPair: KeyPair,\r\n        hashAlgorithm: String?,\r\n        cn: String,\r\n        days: Long\r\n        ): X509Certificate? {\r\n        val now: Instant = Instant.now()\r\n        val notBefore: Date = Date.from(now)\r\n        val notAfter: Date = Date.from(now.plus(Duration.ofDays(days)))\r\n        val contentSigner: ContentSigner = JcaContentSignerBuilder(hashAlgorithm).build(keyPair.private)\r\n        val x500Name = X500Name(&quot;CN=$cn&quot;)\r\n        val certificateBuilder: X509v3CertificateBuilder = JcaX509v3CertificateBuilder(\r\n            x500Name,\r\n            BigInteger.valueOf(now.toEpochMilli()),\r\n            notBefore,\r\n            notAfter,\r\n            x500Name,\r\n            keyPair.public\r\n        )\r\n            .addExtension(Extension.subjectKeyIdentifier, false, createSubjectKeyId(keyPair.public))\r\n            .addExtension(Extension.authorityKeyIdentifier, false, createAuthorityKeyId(keyPair.public))\r\n            .addExtension(Extension.basicConstraints, false, BasicConstraints(false))\r\n            .addExtension(Extension.keyUsage, true, KeyUsage(KeyUsage.digitalSignature and KeyUsage.keyEncipherment and KeyUsage.nonRepudiation))\r\n\r\n        return JcaX509CertificateConverter()\r\n            .setProvider(BouncyCastleProvider()).getCertificate(certificateBuilder.build(contentSigner))\r\n    }\r\n\r\nIt works as expected but I would like to add multiple values to `KeyUsage` extension, namely `Digital Signature` and `Key Encipherment`. \r\n\r\nRegarding to the documentation on https://www.openssl.org/docs/manmaster/man5/x509v3_config.html:\r\n\r\n&gt; Key usage is a multi-valued extension consisting of a list of names of\r\n&gt; the permitted key usages. The defined values are: digitalSignature,\r\n&gt; nonRepudiation, keyEncipherment, dataEncipherment, keyAgreement,\r\n&gt; keyCertSign, cRLSign, encipherOnly, and decipherOnly. \r\n\r\nit is possible.  \r\n\r\nI tried:\r\n\r\n    .addExtension(Extension.keyUsage, true, KeyUsage(KeyUsage.digitalSignature and KeyUsage.keyEncipherment))  \r\n\r\nit shows only `Digital Signature` but the expectation is `Digital Signature, Key Encipherment`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat am I doing wrong?\r\n\r\n  [1]: https://i.stack.imgur.com/eNPwZ.png","title":"How to provide multiple values for KeyUsage?","body":"<p>I have created a certificate programmatically with <a href=\"https://www.bouncycastle.org/\" rel=\"nofollow noreferrer\">https://www.bouncycastle.org/</a> library.\nThe code that I have so far looks as follows:</p>\n<pre><code>fun generate(\n    keyPair: KeyPair,\n    hashAlgorithm: String?,\n    cn: String,\n    days: Long\n    ): X509Certificate? {\n    val now: Instant = Instant.now()\n    val notBefore: Date = Date.from(now)\n    val notAfter: Date = Date.from(now.plus(Duration.ofDays(days)))\n    val contentSigner: ContentSigner = JcaContentSignerBuilder(hashAlgorithm).build(keyPair.private)\n    val x500Name = X500Name(&quot;CN=$cn&quot;)\n    val certificateBuilder: X509v3CertificateBuilder = JcaX509v3CertificateBuilder(\n        x500Name,\n        BigInteger.valueOf(now.toEpochMilli()),\n        notBefore,\n        notAfter,\n        x500Name,\n        keyPair.public\n    )\n        .addExtension(Extension.subjectKeyIdentifier, false, createSubjectKeyId(keyPair.public))\n        .addExtension(Extension.authorityKeyIdentifier, false, createAuthorityKeyId(keyPair.public))\n        .addExtension(Extension.basicConstraints, false, BasicConstraints(false))\n        .addExtension(Extension.keyUsage, true, KeyUsage(KeyUsage.digitalSignature and KeyUsage.keyEncipherment and KeyUsage.nonRepudiation))\n\n    return JcaX509CertificateConverter()\n        .setProvider(BouncyCastleProvider()).getCertificate(certificateBuilder.build(contentSigner))\n}\n</code></pre>\n<p>It works as expected but I would like to add multiple values to <code>KeyUsage</code> extension, namely <code>Digital Signature</code> and <code>Key Encipherment</code>.</p>\n<p>Regarding to the documentation on <a href=\"https://www.openssl.org/docs/manmaster/man5/x509v3_config.html\" rel=\"nofollow noreferrer\">https://www.openssl.org/docs/manmaster/man5/x509v3_config.html</a>:</p>\n<blockquote>\n<p>Key usage is a multi-valued extension consisting of a list of names of\nthe permitted key usages. The defined values are: digitalSignature,\nnonRepudiation, keyEncipherment, dataEncipherment, keyAgreement,\nkeyCertSign, cRLSign, encipherOnly, and decipherOnly.</p>\n</blockquote>\n<p>it is possible.</p>\n<p>I tried:</p>\n<pre><code>.addExtension(Extension.keyUsage, true, KeyUsage(KeyUsage.digitalSignature and KeyUsage.keyEncipherment))  \n</code></pre>\n<p>it shows only <code>Digital Signature</code> but the expectation is <code>Digital Signature, Key Encipherment</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/eNPwZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eNPwZ.png\" alt=\"enter image description here\" /></a></p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":72974,"reputation":10537,"user_id":210421,"accept_rate":60,"display_name":"Mirko N."},"score":1,"creation_date":1262528961,"post_id":1995080,"comment_id":1913084,"body_markdown":"Have you tried enabling show_sql to see what&#39;s going on underneath?","body":"Have you tried enabling show_sql to see what&#39;s going on underneath?"},{"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"score":0,"creation_date":1262532295,"post_id":1995080,"comment_id":1913224,"body_markdown":"Please add the OrderTransaction and Order classes code as well.\\","body":"Please add the OrderTransaction and Order classes code as well.\\"}],"answers":[{"tags":[],"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"down_vote_count":2,"up_vote_count":128,"is_accepted":true,"score":126,"last_activity_date":1655894650,"creation_date":1262531754,"answer_id":1995244,"question_id":1995080,"body_markdown":"This is actually the expected behaviour if I understood your configuration correctly.\r\n\r\nYou get the same `Order` instance in any of the results, but since now you are doing a join with the `OrderTransaction`, it has to return the same amount of results a regular sql join will return\r\n\r\nSo actually it *should* apear multiple times. this is explained very well by the author (Gavin King) himself [here][1]: \r\nIt both explains why, and how to still get distinct results\r\n\r\n&lt;hr&gt;\r\nAlso mentioned in the Hibernate [FAQ][2] :\r\n\r\n&gt; **Hibernate does not return distinct results for a query with outer join fetching enabled for a collection** (even if I use the distinct\r\n&gt; keyword)? First, you need to understand SQL and how OUTER JOINs work\r\n&gt; in SQL. If you do not fully understand and comprehend outer joins in\r\n&gt; SQL, do not continue reading this FAQ item but consult a SQL manual or\r\n&gt; tutorial. Otherwise you will not understand the following explanation\r\n&gt; and you will complain about this behavior on the Hibernate forum.\r\n&gt; \r\n&gt; Typical examples that might return duplicate references of the same\r\n&gt; Order object:\r\n&gt; \r\n&gt;     List result = session.createCriteria(Order.class)\r\n&gt;                         .setFetchMode(&quot;lineItems&quot;, FetchMode.JOIN)\r\n&gt;                         .list();\r\n&gt; \r\n&gt; \r\n&gt; ----------\r\n&gt; \r\n&gt; \r\n&gt;     &lt;class name=&quot;Order&quot;&gt;\r\n&gt;         ...\r\n&gt;         &lt;set name=&quot;lineItems&quot; fetch=&quot;join&quot;&gt;\r\n&gt; \r\n&gt; \r\n&gt; ----------\r\n&gt; \r\n&gt; \r\n&gt;     List result = session.createCriteria(Order.class)\r\n&gt;                            .list();\r\n&gt;     List result = session.createQuery(&quot;select o from Order o left join fetch o.lineItems&quot;).list();\r\n&gt; \r\n&gt; All of these examples produce the same SQL statement:\r\n&gt; \r\n&gt;     SELECT o.*, l.* from ORDER o LEFT OUTER JOIN LINE_ITEMS l ON o.ID = l.ORDER_ID\r\n&gt; \r\n&gt; Want to know why the duplicates are there? Look at the SQL resultset,\r\n&gt; Hibernate does not hide these duplicates on the left side of the outer\r\n&gt; joined result but returns all the duplicates of the driving table. If\r\n&gt; you have 5 orders in the database, and each order has 3 line items,\r\n&gt; the resultset will be 15 rows. The Java result list of these queries\r\n&gt; will have 15 elements, all of type Order. Only 5 Order instances will\r\n&gt; be created by Hibernate, but duplicates of the SQL resultset are\r\n&gt; preserved as duplicate references to these 5 instances. If you do not\r\n&gt; understand this last sentence, you need to read up on Java and the\r\n&gt; difference between an instance on the Java heap and a reference to\r\n&gt; such an instance.\r\n&gt; \r\n&gt; (Why a left outer join? If you&#39;d have an additional order with no line\r\n&gt; items, the result set would be 16 rows with NULL filling up the right\r\n&gt; side, where the line item data is for other order. You want orders\r\n&gt; even if they don&#39;t have line items, right? If not, use an inner join\r\n&gt; fetch in your HQL).\r\n&gt; \r\n&gt; Hibernate does not filter out these duplicate references by default.\r\n&gt; Some people (not you) actually want this. How can you filter them out?\r\n&gt; \r\n&gt; Like this:\r\n&gt; \r\n&gt;     Collection result = new LinkedHashSet( session.create*(...).list() );\r\n\r\n\r\n  [1]: https://developer.jboss.org/docs/DOC-15782#jive_content_id_Hibernate_does_not_return_distinct_results_for_a_query_with_outer_join_fetching_enabled_for_a_collection_even_if_I_use_the_distinct_keyword\r\n  [2]: https://developer.jboss.org/docs/DOC-15782#jive_content_id_Hibernate_does_not_return_distinct_results_for_a_query_with_outer_join_fetching_enabled_for_a_collection_even_if_I_use_the_distinct_keyword","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>This is actually the expected behaviour if I understood your configuration correctly.</p>\n<p>You get the same <code>Order</code> instance in any of the results, but since now you are doing a join with the <code>OrderTransaction</code>, it has to return the same amount of results a regular sql join will return</p>\n<p>So actually it <em>should</em> apear multiple times. this is explained very well by the author (Gavin King) himself <a href=\"https://developer.jboss.org/docs/DOC-15782#jive_content_id_Hibernate_does_not_return_distinct_results_for_a_query_with_outer_join_fetching_enabled_for_a_collection_even_if_I_use_the_distinct_keyword\" rel=\"nofollow noreferrer\">here</a>:\nIt both explains why, and how to still get distinct results</p>\n<hr>\nAlso mentioned in the Hibernate [FAQ][2] :\n<blockquote>\n<p><strong>Hibernate does not return distinct results for a query with outer join fetching enabled for a collection</strong> (even if I use the distinct\nkeyword)? First, you need to understand SQL and how OUTER JOINs work\nin SQL. If you do not fully understand and comprehend outer joins in\nSQL, do not continue reading this FAQ item but consult a SQL manual or\ntutorial. Otherwise you will not understand the following explanation\nand you will complain about this behavior on the Hibernate forum.</p>\n<p>Typical examples that might return duplicate references of the same\nOrder object:</p>\n<pre><code>List result = session.createCriteria(Order.class)\n                    .setFetchMode(&quot;lineItems&quot;, FetchMode.JOIN)\n                    .list();\n</code></pre>\n<hr />\n<pre><code>&lt;class name=&quot;Order&quot;&gt;\n    ...\n    &lt;set name=&quot;lineItems&quot; fetch=&quot;join&quot;&gt;\n</code></pre>\n<hr />\n<pre><code>List result = session.createCriteria(Order.class)\n                       .list();\nList result = session.createQuery(&quot;select o from Order o left join fetch o.lineItems&quot;).list();\n</code></pre>\n<p>All of these examples produce the same SQL statement:</p>\n<pre><code>SELECT o.*, l.* from ORDER o LEFT OUTER JOIN LINE_ITEMS l ON o.ID = l.ORDER_ID\n</code></pre>\n<p>Want to know why the duplicates are there? Look at the SQL resultset,\nHibernate does not hide these duplicates on the left side of the outer\njoined result but returns all the duplicates of the driving table. If\nyou have 5 orders in the database, and each order has 3 line items,\nthe resultset will be 15 rows. The Java result list of these queries\nwill have 15 elements, all of type Order. Only 5 Order instances will\nbe created by Hibernate, but duplicates of the SQL resultset are\npreserved as duplicate references to these 5 instances. If you do not\nunderstand this last sentence, you need to read up on Java and the\ndifference between an instance on the Java heap and a reference to\nsuch an instance.</p>\n<p>(Why a left outer join? If you'd have an additional order with no line\nitems, the result set would be 16 rows with NULL filling up the right\nside, where the line item data is for other order. You want orders\neven if they don't have line items, right? If not, use an inner join\nfetch in your HQL).</p>\n<p>Hibernate does not filter out these duplicate references by default.\nSome people (not you) actually want this. How can you filter them out?</p>\n<p>Like this:</p>\n<pre><code>Collection result = new LinkedHashSet( session.create*(...).list() );\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":71841,"reputation":2413,"user_id":207666,"display_name":"EJB"},"down_vote_count":0,"up_vote_count":94,"is_accepted":false,"score":94,"last_activity_date":1336539991,"creation_date":1262602003,"answer_id":1998782,"question_id":1995080,"body_markdown":"In addition to what is mentioned by Eran, another way to get the behavior you want, is to set the result transformer:\r\n\r\n    criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>In addition to what is mentioned by Eran, another way to get the behavior you want, is to set the result transformer:</p>\n\n<pre><code>criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1229741,"reputation":1137,"user_id":1194578,"accept_rate":0,"display_name":"mathi"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1396883135,"creation_date":1396883135,"answer_id":22916223,"question_id":1995080,"body_markdown":"try\r\n \r\n    @Fetch (FetchMode.SELECT) \r\n\r\nfor example\r\n\r\n    @OneToMany(targetEntity = OrderTransaction.class, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @Fetch (FetchMode.SELECT)\r\n    public List&lt;OrderTransaction&gt; getOrderTransactions() {\r\n    return orderTransactions;\r\n}\r\n\r\n","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>try</p>\n\n<pre><code>@Fetch (FetchMode.SELECT) \n</code></pre>\n\n<p>for example</p>\n\n<pre><code>@OneToMany(targetEntity = OrderTransaction.class, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n@Fetch (FetchMode.SELECT)\npublic List&lt;OrderTransaction&gt; getOrderTransactions() {\nreturn orderTransactions;\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":1904786,"reputation":4277,"user_id":1719877,"display_name":"agelbess"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1403869080,"creation_date":1403869080,"answer_id":24450905,"question_id":1995080,"body_markdown":"Do not use List and ArrayList but Set and HashSet.\r\n\r\n    @OneToMany(targetEntity = OrderTransaction.class, cascade = CascadeType.ALL)\r\n    public Set&lt;OrderTransaction&gt; getOrderTransactions() {\r\n        return orderTransactions;\r\n    }","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>Do not use List and ArrayList but Set and HashSet.</p>\n\n<pre><code>@OneToMany(targetEntity = OrderTransaction.class, cascade = CascadeType.ALL)\npublic Set&lt;OrderTransaction&gt; getOrderTransactions() {\n    return orderTransactions;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2777324,"reputation":423,"user_id":2390645,"display_name":"easyScript"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1418903233,"creation_date":1418903233,"answer_id":27545867,"question_id":1995080,"body_markdown":"Using Java 8 and Streams I add in my utility method this return statment:\r\n    \r\n    return results.stream().distinct().collect(Collectors.toList());\r\n\r\nStreams remove duplicate very fast. I use annotation in my Entity class like this:\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;STUDENT_COURSES&quot;)\r\n    private List&lt;Course&gt; courses;\r\n\r\nI think is bether in my app to use session in method where I need data from data base. Closse session when I done. Ofcourse set my Entity class to use leasy fetch type. I go to refactor.","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>Using Java 8 and Streams I add in my utility method this return statment:</p>\n\n<pre><code>return results.stream().distinct().collect(Collectors.toList());\n</code></pre>\n\n<p>Streams remove duplicate very fast. I use annotation in my Entity class like this:</p>\n\n<pre><code>@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@JoinTable(name = \"STUDENT_COURSES\")\nprivate List&lt;Course&gt; courses;\n</code></pre>\n\n<p>I think is bether in my app to use session in method where I need data from data base. Closse session when I done. Ofcourse set my Entity class to use leasy fetch type. I go to refactor.</p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682615898,"creation_date":1504354412,"answer_id":46013654,"question_id":1995080,"body_markdown":"I have the same problem to fetch 2 associated collections: user has 2 roles (Set) and 2 meals (List) and meals are duplicated.\r\n\r\n    @Table(name = &quot;users&quot;)\r\n    public class User extends AbstractNamedEntity {\r\n\r\n       @CollectionTable(name = &quot;user_roles&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n       @Column(name = &quot;role&quot;)\r\n       @ElementCollection(fetch = FetchType.EAGER)\r\n       @BatchSize(size = 200)\r\n       private Set&lt;Role&gt; roles;\r\n\r\n       @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\r\n       @OrderBy(&quot;dateTime DESC&quot;)\r\n       protected List&lt;Meal&gt; meals;\r\n       ...\r\n    }\r\n\r\nDISTINCT doesn&#39;t help (DATA-JPA query):\r\n\r\n    @EntityGraph(attributePaths={&quot;meals&quot;, &quot;roles&quot;})\r\n    @QueryHints({@QueryHint(name= org.hibernate.jpa.QueryHints.HINT_PASS_DISTINCT_THROUGH, value = &quot;false&quot;)}) // remove unnecessary distinct from select\r\n    @Query(&quot;SELECT DISTINCT u FROM User u WHERE u.id=?1&quot;)\r\n    User getWithMeals(int id);\r\n\r\nAt last I&#39;ve found 2 solutions:\r\n\r\n 1. [Change List&lt;Meal&gt; to LinkedHashSet](https://developer.jboss.org/wiki/HibernateFAQ-AdvancedProblems#jive_content_id_Hibernate_does_not_return_distinct_results_for_a_query_with_outer_join_fetching_enabled_for_a_collection_even_if_I_use_the_distinct_keyword)\r\n 2. Use EntityGraph with only field &quot;meal&quot; and type LOAD, which load roles as they declared (EAGER and by BatchSize=200 to prevent N+1 problem):\r\n\r\nFinal solution:\r\n\r\n    @EntityGraph(attributePaths = {&quot;meals&quot;}, type = EntityGraph.EntityGraphType.LOAD)\r\n    @Query(&quot;SELECT u FROM User u WHERE u.id=?1&quot;)\r\n    User getWithMeals(int id);\r\n\r\n\r\nUPDATE: for Spring Boot 3.0 (JPA 3.1) it doen&#39;t works!!\r\n\r\n    @EntityGraph(attributePaths = {&quot;meals&quot;}, type = EntityGraph.EntityGraphType.FETCH/LOAD)\r\n    @Query(&quot;SELECT u FROM User u WHERE u.id=?1&quot;)\r\n    Optional&lt;User&gt; getWithMeals(int id);\r\n\r\nThis work in transactional tests, but `LazyInitializationException` for roles in application.\r\n\r\nFound another 2 solution:\r\n1.\r\n\r\n    @EntityGraph(attributePaths = {&quot;meals&quot;}, type = \r\n    EntityGraph.EntityGraphType.LOAD)\r\n        @Query(&quot;SELECT u FROM User u WHERE u.id=?1&quot;)\r\n        Optional&lt;User&gt; getWithMeals(int id);\r\n\r\nand `@Fetch(FetchMode.SUBSELECT)` for `user.roles`\r\nBut in this case SQL rather odd:\r\n```\r\nselect\r\n        r1_0.user_id,\r\n        r1_0.role \r\n    from\r\n        user_role r1_0 \r\n    where\r\n        r1_0.user_id in(select\r\n            u1_0.id \r\n        from\r\n            users u1_0 \r\n        left join\r\n            meal m1_0 \r\n                on u1_0.id=m1_0.user_id \r\n        where\r\n            u1_0.id=?)\r\n```\r\n\r\n2. Very simple SELECT:\r\n```\r\n@Query(&quot;SELECT u FROM User u LEFT JOIN FETCH u.meals WHERE u.id=?1&quot;)\r\nOptional&lt;User&gt; getWithMeals(int id);\r\n```\r\n\r\nSuppose about this ORM 6.0 migration:\r\n - [forget about DISTINCT](https://vladmihalcea.com/spring-6-migration/#Auto-deduplication)\r\n - [it is no longer necessary to use distinct in JPQL and HQL](https://docs.jboss.org/hibernate/orm/6.0/migration-guide/migration-guide.html#query-sqm-distinct)\r\n","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>I have the same problem to fetch 2 associated collections: user has 2 roles (Set) and 2 meals (List) and meals are duplicated.</p>\n<pre><code>@Table(name = &quot;users&quot;)\npublic class User extends AbstractNamedEntity {\n\n   @CollectionTable(name = &quot;user_roles&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;))\n   @Column(name = &quot;role&quot;)\n   @ElementCollection(fetch = FetchType.EAGER)\n   @BatchSize(size = 200)\n   private Set&lt;Role&gt; roles;\n\n   @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\n   @OrderBy(&quot;dateTime DESC&quot;)\n   protected List&lt;Meal&gt; meals;\n   ...\n}\n</code></pre>\n<p>DISTINCT doesn't help (DATA-JPA query):</p>\n<pre><code>@EntityGraph(attributePaths={&quot;meals&quot;, &quot;roles&quot;})\n@QueryHints({@QueryHint(name= org.hibernate.jpa.QueryHints.HINT_PASS_DISTINCT_THROUGH, value = &quot;false&quot;)}) // remove unnecessary distinct from select\n@Query(&quot;SELECT DISTINCT u FROM User u WHERE u.id=?1&quot;)\nUser getWithMeals(int id);\n</code></pre>\n<p>At last I've found 2 solutions:</p>\n<ol>\n<li><a href=\"https://developer.jboss.org/wiki/HibernateFAQ-AdvancedProblems#jive_content_id_Hibernate_does_not_return_distinct_results_for_a_query_with_outer_join_fetching_enabled_for_a_collection_even_if_I_use_the_distinct_keyword\" rel=\"nofollow noreferrer\">Change List to LinkedHashSet</a></li>\n<li>Use EntityGraph with only field &quot;meal&quot; and type LOAD, which load roles as they declared (EAGER and by BatchSize=200 to prevent N+1 problem):</li>\n</ol>\n<p>Final solution:</p>\n<pre><code>@EntityGraph(attributePaths = {&quot;meals&quot;}, type = EntityGraph.EntityGraphType.LOAD)\n@Query(&quot;SELECT u FROM User u WHERE u.id=?1&quot;)\nUser getWithMeals(int id);\n</code></pre>\n<p>UPDATE: for Spring Boot 3.0 (JPA 3.1) it doen't works!!</p>\n<pre><code>@EntityGraph(attributePaths = {&quot;meals&quot;}, type = EntityGraph.EntityGraphType.FETCH/LOAD)\n@Query(&quot;SELECT u FROM User u WHERE u.id=?1&quot;)\nOptional&lt;User&gt; getWithMeals(int id);\n</code></pre>\n<p>This work in transactional tests, but <code>LazyInitializationException</code> for roles in application.</p>\n<p>Found another 2 solution:\n1.</p>\n<pre><code>@EntityGraph(attributePaths = {&quot;meals&quot;}, type = \nEntityGraph.EntityGraphType.LOAD)\n    @Query(&quot;SELECT u FROM User u WHERE u.id=?1&quot;)\n    Optional&lt;User&gt; getWithMeals(int id);\n</code></pre>\n<p>and <code>@Fetch(FetchMode.SUBSELECT)</code> for <code>user.roles</code>\nBut in this case SQL rather odd:</p>\n<pre><code>select\n        r1_0.user_id,\n        r1_0.role \n    from\n        user_role r1_0 \n    where\n        r1_0.user_id in(select\n            u1_0.id \n        from\n            users u1_0 \n        left join\n            meal m1_0 \n                on u1_0.id=m1_0.user_id \n        where\n            u1_0.id=?)\n</code></pre>\n<ol start=\"2\">\n<li>Very simple SELECT:</li>\n</ol>\n<pre><code>@Query(&quot;SELECT u FROM User u LEFT JOIN FETCH u.meals WHERE u.id=?1&quot;)\nOptional&lt;User&gt; getWithMeals(int id);\n</code></pre>\n<p>Suppose about this ORM 6.0 migration:</p>\n<ul>\n<li><a href=\"https://vladmihalcea.com/spring-6-migration/#Auto-deduplication\" rel=\"nofollow noreferrer\">forget about DISTINCT</a></li>\n<li><a href=\"https://docs.jboss.org/hibernate/orm/6.0/migration-guide/migration-guide.html#query-sqm-distinct\" rel=\"nofollow noreferrer\">it is no longer necessary to use distinct in JPQL and HQL</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531429799,"creation_date":1531428490,"answer_id":51314206,"question_id":1995080,"body_markdown":"It doesn&#39;t sounds a great behavior applying an outer join and bring duplicated results. The only solution left is to filter our result using streams. Thanks java8 giving easier way to filter.\r\n\r\n    return results.stream().distinct().collect(Collectors.toList());\r\n","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>It doesn't sounds a great behavior applying an outer join and bring duplicated results. The only solution left is to filter our result using streams. Thanks java8 giving easier way to filter.</p>\n\n<pre><code>return results.stream().distinct().collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6337092,"reputation":117,"user_id":4920189,"accept_rate":75,"display_name":"Kaustubh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580582871,"creation_date":1580582871,"answer_id":60020096,"question_id":1995080,"body_markdown":"Instead of using hacks like :\r\n\r\n - `Set` instead of `List`\r\n - `criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);`\r\n\r\nwhich don&#39;t modify your sql query , we can use (quoting JPA specs)\r\n\r\n    q.select(emp).distinct(true);\r\n\r\nwhich does modify the resulting sql query,thus having a `DISTINCT` in it. ","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>Instead of using hacks like :</p>\n\n<ul>\n<li><code>Set</code> instead of <code>List</code></li>\n<li><code>criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);</code></li>\n</ul>\n\n<p>which don't modify your sql query , we can use (quoting JPA specs)</p>\n\n<pre><code>q.select(emp).distinct(true);\n</code></pre>\n\n<p>which does modify the resulting sql query,thus having a <code>DISTINCT</code> in it. </p>\n"}],"owner":{"account_id":45006,"reputation":15366,"user_id":132396,"accept_rate":76,"display_name":"raoulsson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84679,"favorite_count":0,"down_vote_count":1,"up_vote_count":125,"accepted_answer_id":1995244,"answer_count":8,"score":124,"last_activity_date":1682615898,"creation_date":1262527909,"question_id":1995080,"body_markdown":"I have an `Order` class that has a list of `OrderTransactions` and I mapped it with a one-to-many Hibernate mapping like so:\r\n\r\n    @OneToMany(targetEntity = OrderTransaction.class, cascade = CascadeType.ALL)\r\n    public List&lt;OrderTransaction&gt; getOrderTransactions() {\r\n        return orderTransactions;\r\n    }\r\n\r\nThese `Order`s also have a field `orderStatus`, which is used for filtering with the following Criteria: \r\n\r\n    public List&lt;Order&gt; getOrderForProduct(OrderFilter orderFilter) {\r\n        Criteria criteria = getHibernateSession()\r\n                .createCriteria(Order.class)\r\n                .add(Restrictions.in(&quot;orderStatus&quot;, orderFilter.getStatusesToShow()));\r\n        return criteria.list();\r\n    }\r\n\r\nThis works and the result is as expected.\r\n\r\nNow **here is my question**: Why, when I set the fetch type explicitly to `EAGER`, do the `Order`s appear multiple times in the resulting list?\r\n\r\n    @OneToMany(targetEntity = OrderTransaction.class, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    public List&lt;OrderTransaction&gt; getOrderTransactions() {\r\n        return orderTransactions;\r\n    }\r\n\r\nHow would I have to change my Criteria code to reach the same result with the new setting?\r\n","title":"Hibernate Criteria returns children multiple times with FetchType.EAGER","body":"<p>I have an <code>Order</code> class that has a list of <code>OrderTransactions</code> and I mapped it with a one-to-many Hibernate mapping like so:</p>\n\n<pre><code>@OneToMany(targetEntity = OrderTransaction.class, cascade = CascadeType.ALL)\npublic List&lt;OrderTransaction&gt; getOrderTransactions() {\n    return orderTransactions;\n}\n</code></pre>\n\n<p>These <code>Order</code>s also have a field <code>orderStatus</code>, which is used for filtering with the following Criteria: </p>\n\n<pre><code>public List&lt;Order&gt; getOrderForProduct(OrderFilter orderFilter) {\n    Criteria criteria = getHibernateSession()\n            .createCriteria(Order.class)\n            .add(Restrictions.in(\"orderStatus\", orderFilter.getStatusesToShow()));\n    return criteria.list();\n}\n</code></pre>\n\n<p>This works and the result is as expected.</p>\n\n<p>Now <strong>here is my question</strong>: Why, when I set the fetch type explicitly to <code>EAGER</code>, do the <code>Order</code>s appear multiple times in the resulting list?</p>\n\n<pre><code>@OneToMany(targetEntity = OrderTransaction.class, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\npublic List&lt;OrderTransaction&gt; getOrderTransactions() {\n    return orderTransactions;\n}\n</code></pre>\n\n<p>How would I have to change my Criteria code to reach the same result with the new setting?</p>\n"},{"tags":["java","spring","spring-annotations","spring-bean"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1413757144,"creation_date":1413744797,"answer_id":26454131,"question_id":26453618,"body_markdown":"Field injection is fragile all on its own, and constructor injection should be preferred whenever possible. That&#39;s the clean solution here: Make an abstract (`protected`) constructor on your base class that takes your bean as an argument, and use `@Qualifier` on the subclass constructors. ","title":"autowire distinct beans in abstract class","body":"<p>Field injection is fragile all on its own, and constructor injection should be preferred whenever possible. That's the clean solution here: Make an abstract (<code>protected</code>) constructor on your base class that takes your bean as an argument, and use <code>@Qualifier</code> on the subclass constructors. </p>\n"},{"tags":[],"owner":{"account_id":1316033,"reputation":7857,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489136677,"creation_date":1489136677,"answer_id":42714297,"question_id":26453618,"body_markdown":"An alternative approach that uses Field injection is to not autowire the field in the base class, but instead creating an abstract method to get the SessionFactory and autowire the field in the subclasses.\r\n\r\n    public abstract class AbstractHbmDao implements SomeInterface {\r\n        protected abstract SessionFactory getSessionFactory();\r\n    }\r\n\r\nAnd in subclasses implement this method:\r\n\r\n    public MyDao extends AbstractHbmDao {\r\n        @Autowired\r\n        @Qualifier(&quot;my-qualifier&quot;)  // add qualifier as needed now\r\n        private SessionFactory sessionFactory;\r\n\r\n        protected SessionFactory getSessionFactory() { return sessionFactory; }\r\n    }\r\n    ","title":"autowire distinct beans in abstract class","body":"<p>An alternative approach that uses Field injection is to not autowire the field in the base class, but instead creating an abstract method to get the SessionFactory and autowire the field in the subclasses.</p>\n\n<pre><code>public abstract class AbstractHbmDao implements SomeInterface {\n    protected abstract SessionFactory getSessionFactory();\n}\n</code></pre>\n\n<p>And in subclasses implement this method:</p>\n\n<pre><code>public MyDao extends AbstractHbmDao {\n    @Autowired\n    @Qualifier(\"my-qualifier\")  // add qualifier as needed now\n    private SessionFactory sessionFactory;\n\n    protected SessionFactory getSessionFactory() { return sessionFactory; }\n}\n</code></pre>\n"}],"owner":{"account_id":1469119,"reputation":575,"user_id":1381117,"accept_rate":94,"display_name":"fxe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1990,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26454131,"answer_count":2,"score":1,"last_activity_date":1682615448,"creation_date":1413741505,"question_id":26453618,"body_markdown":"I have an abstract class:\r\n\r\n    public abstract class AbstractHbmDao implements SomeInterface {\r\n        @Autowired\r\n        protected SessionFactory sessionFactory;\r\n        //getters &amp; setters\r\n\r\n        //interface stuff\r\n    }\r\n\r\nThen several implementations of `SomeInterface` -&gt; `A_Interface`, `B_Interface`, etc. This is ok if I use the same `SessionFactory` for every implementation.\r\n\r\nThe problem is I want to use distinct `SessionFactory` for distinct group of of implementations and I do not want to specify with the `@Qualifier`. This would be less flexible to define these groups since I would need to change the code. Also by putting the `SessionFactory` in the abstract class if would be impossible to specify with the `@Qualifier` annotation.\r\n\r\nIs there a way to do it in the xml bean definition? I tried by declaring two `SessionFactory` beans and for each of then ref the corresponding class, but this would still return `NoUniqueBeanDefinitionException`.","title":"autowire distinct beans in abstract class","body":"<p>I have an abstract class:</p>\n<pre><code>public abstract class AbstractHbmDao implements SomeInterface {\n    @Autowired\n    protected SessionFactory sessionFactory;\n    //getters &amp; setters\n\n    //interface stuff\n}\n</code></pre>\n<p>Then several implementations of <code>SomeInterface</code> -&gt; <code>A_Interface</code>, <code>B_Interface</code>, etc. This is ok if I use the same <code>SessionFactory</code> for every implementation.</p>\n<p>The problem is I want to use distinct <code>SessionFactory</code> for distinct group of of implementations and I do not want to specify with the <code>@Qualifier</code>. This would be less flexible to define these groups since I would need to change the code. Also by putting the <code>SessionFactory</code> in the abstract class if would be impossible to specify with the <code>@Qualifier</code> annotation.</p>\n<p>Is there a way to do it in the xml bean definition? I tried by declaring two <code>SessionFactory</code> beans and for each of then ref the corresponding class, but this would still return <code>NoUniqueBeanDefinitionException</code>.</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682615307,"creation_date":1682614850,"answer_id":76122984,"question_id":76121701,"body_markdown":"To answer your first question:\r\n===\r\n\r\n&gt; Q1. I am not sure when I should associate entity and when I should not.\r\n\r\nArguments for\r\n---\r\n\r\nThe short answer is always use associations. In the example you provided, it seems obvious that both entities are related to the same domain. \r\n\r\n1. If you use an id in this case, you would lose the constraints the persistence provider (Hibernate) applies to these relationships - i.e. the provider wouldn&#39;t know if the value `Book.authorId` used corresponds to an `Author.id` or not. Sure, you could enforce this constraint in a database level, but, then, the persistence mappings wouldn&#39;t represent your database constraints.\r\n\r\n2. If you consider the entity on the other side of the association too complex to be eagerly retrieved, you can use the `@ManyToOne(fetch = FetchType.LAZY)` hint.\r\n\r\n3. For better and for worse, it enforces - or, at least, it should enforce - one to think carefully about his model. Are all relationships bidirectionals? If not, you should not use associations in that entity.\r\n\r\nArguments against\r\n---\r\n\r\n1. The entities are part of different domains. It depends on your model, but sometimes it doesn&#39;t make sense that a persistence context holds entities from different domains. In this case you are probably better creating a value-object to represent the other domain entity&#39;s id, i.e. `AuthorId` and map it as an `@Embedded`.\r\n\r\nTo answer your second question\r\n===\r\n\r\n&gt; Q2. When using bidirectional association\r\n\r\nIf you consider `Object#equals` and `Object#hashCode` contracts for an entity class, the only properties that should play a part in these methods should be the ones that are part of its id definition.\r\n\r\nTwo books instances with the same `Book.id` (the same entity) should always return the same hash. If you use the `Book.author` or `Book.authorId` to generate the hash this wouldn&#39;t be the case.\r\n\r\nNevertheless, even if you use the `Book.author` property in `Book#hashCode` method, it wouldn&#39;t be a problem if the `Author` entity is lazily retrieved. Once the `Book#hashCode` method is called, the `Author` entity would first the retrieved (and, in sequence, its `Author#hashCode` method would be called).\r\n","title":"To associate entity with other or not in hibernate","body":"<h1>To answer your first question:</h1>\n<blockquote>\n<p>Q1. I am not sure when I should associate entity and when I should not.</p>\n</blockquote>\n<h2>Arguments for</h2>\n<p>The short answer is always use associations. In the example you provided, it seems obvious that both entities are related to the same domain.</p>\n<ol>\n<li><p>If you use an id in this case, you would lose the constraints the persistence provider (Hibernate) applies to these relationships - i.e. the provider wouldn't know if the value <code>Book.authorId</code> used corresponds to an <code>Author.id</code> or not. Sure, you could enforce this constraint in a database level, but, then, the persistence mappings wouldn't represent your database constraints.</p>\n</li>\n<li><p>If you consider the entity on the other side of the association too complex to be eagerly retrieved, you can use the <code>@ManyToOne(fetch = FetchType.LAZY)</code> hint.</p>\n</li>\n<li><p>For better and for worse, it enforces - or, at least, it should enforce - one to think carefully about his model. Are all relationships bidirectionals? If not, you should not use associations in that entity.</p>\n</li>\n</ol>\n<h2>Arguments against</h2>\n<ol>\n<li>The entities are part of different domains. It depends on your model, but sometimes it doesn't make sense that a persistence context holds entities from different domains. In this case you are probably better creating a value-object to represent the other domain entity's id, i.e. <code>AuthorId</code> and map it as an <code>@Embedded</code>.</li>\n</ol>\n<h1>To answer your second question</h1>\n<blockquote>\n<p>Q2. When using bidirectional association</p>\n</blockquote>\n<p>If you consider <code>Object#equals</code> and <code>Object#hashCode</code> contracts for an entity class, the only properties that should play a part in these methods should be the ones that are part of its id definition.</p>\n<p>Two books instances with the same <code>Book.id</code> (the same entity) should always return the same hash. If you use the <code>Book.author</code> or <code>Book.authorId</code> to generate the hash this wouldn't be the case.</p>\n<p>Nevertheless, even if you use the <code>Book.author</code> property in <code>Book#hashCode</code> method, it wouldn't be a problem if the <code>Author</code> entity is lazily retrieved. Once the <code>Book#hashCode</code> method is called, the <code>Author</code> entity would first the retrieved (and, in sequence, its <code>Author#hashCode</code> method would be called).</p>\n"}],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682615307,"creation_date":1682606574,"question_id":76121701,"body_markdown":"**Q1. I am not sure when I should associate entity and when I should not.**\r\n\r\neg: Hibernate association by collection\r\n```\r\n@Entity\r\npublic class Author {\r\n \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n \r\n    private String firstName;\r\n \r\n    @OneToMany(mappedBy = &quot;author&quot;)\r\n    private Set&lt;Book&gt; books = new HashSet&lt;Book&gt;();\r\n \r\n    ...\r\n}\r\n\r\n\r\n@Entity\r\npublic class Book {\r\n \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n \r\n    private String title;\r\n \r\n    @ManyToOne\r\n    private Author author;\r\n\r\n    ...\r\n}\r\n```\r\n\r\nOR by just ids\r\n\r\n```\r\n@Entity\r\npublic class Author {\r\n \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n \r\n    private String firstName;\r\n\r\n    ...\r\n}\r\n\r\n\r\n@Entity\r\npublic class Book {\r\n \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n \r\n    private String title;\r\n \r\n    private Long authorId;\r\n\r\n    ...\r\n}\r\n```\r\n\r\n**Q2. When using bidirectional association,**\r\n\r\neg: book class\r\n\r\n    @Entity\r\n    public class Book {\r\n     \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n     \r\n        private String title;\r\n     \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;authorId&quot;, unique=true)\r\n        private Author author;\r\n    \r\n        ...\r\n    }\r\n\r\nbook always has author which is unique accross books entity,\r\n\r\nBut since we are lazily fetching, I am not able to use it in hashcode. \r\nI have only `authorId` as unique way to identify record uniquely for equals and hashcode.\r\nHow can I handle in this case.\r\n","title":"To associate entity with other or not in hibernate","body":"<p><strong>Q1. I am not sure when I should associate entity and when I should not.</strong></p>\n<p>eg: Hibernate association by collection</p>\n<pre><code>@Entity\npublic class Author {\n \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n \n    private String firstName;\n \n    @OneToMany(mappedBy = &quot;author&quot;)\n    private Set&lt;Book&gt; books = new HashSet&lt;Book&gt;();\n \n    ...\n}\n\n\n@Entity\npublic class Book {\n \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n \n    private String title;\n \n    @ManyToOne\n    private Author author;\n\n    ...\n}\n</code></pre>\n<p>OR by just ids</p>\n<pre><code>@Entity\npublic class Author {\n \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n \n    private String firstName;\n\n    ...\n}\n\n\n@Entity\npublic class Book {\n \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n \n    private String title;\n \n    private Long authorId;\n\n    ...\n}\n</code></pre>\n<p><strong>Q2. When using bidirectional association,</strong></p>\n<p>eg: book class</p>\n<pre><code>@Entity\npublic class Book {\n \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n \n    private String title;\n \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;authorId&quot;, unique=true)\n    private Author author;\n\n    ...\n}\n</code></pre>\n<p>book always has author which is unique accross books entity,</p>\n<p>But since we are lazily fetching, I am not able to use it in hashcode.\nI have only <code>authorId</code> as unique way to identify record uniquely for equals and hashcode.\nHow can I handle in this case.</p>\n"},{"tags":["java","sql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1682100004,"post_id":76068361,"comment_id":134167938,"body_markdown":"When I read your Example correct, then an Archytype can be im multiple ArchetypeMatchUps in the firstPlayerArchetype-List. So its ManyToMany and not OneToMany","body":"When I read your Example correct, then an Archytype can be im multiple ArchetypeMatchUps in the firstPlayerArchetype-List. So its ManyToMany and not OneToMany"},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1682356629,"post_id":76068361,"comment_id":134198895,"body_markdown":"@Turo: Yes, I noticed that seemed to have been it before I checked your comment, thanks for the confirmation","body":"@Turo: Yes, I noticed that seemed to have been it before I checked your comment, thanks for the confirmation"}],"answers":[{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682615077,"creation_date":1682615077,"answer_id":76123014,"question_id":76068361,"body_markdown":"It turns out I was using my entity in a many-to-many context, hence swapping the annotation out to be `@ManyToMany` fixed the issue. Now I can insert and delete as expected.","title":"Getting &quot;duplicate key value violates unique constraint&quot; error when saving entities with Hibernate","body":"<p>It turns out I was using my entity in a many-to-many context, hence swapping the annotation out to be <code>@ManyToMany</code> fixed the issue. Now I can insert and delete as expected.</p>\n"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76123014,"answer_count":1,"score":0,"last_activity_date":1682615077,"creation_date":1682025519,"question_id":76068361,"body_markdown":"For my `Spring Boot` REST API I have an entity as follows:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class ArchetypeMatchUp\r\n    {\r\n    \t@Id\r\n    \t@JsonIgnore\r\n    \t@GeneratedValue(strategy = SEQUENCE, generator = &quot;seq_archetype_match_up_generator&quot;)\r\n    \t@SequenceGenerator(name = &quot;seq_archetype_match_up_generator&quot;, sequenceName = &quot;seq_archetype_match_up&quot;)\r\n    \tprivate Long id;\r\n    \r\n    \t@OneToMany(cascade = CascadeType.MERGE, orphanRemoval = true)\r\n    \tprivate List&lt;Archetype&gt; firstPlayerArchetype;\r\n    \r\n    \t@OneToMany(cascade = CascadeType.MERGE, orphanRemoval = true)\r\n    \t@OrderColumn\r\n    \tprivate List&lt;Archetype&gt; secondPlayerArchetype;\r\n    \r\n        // ...\r\n    }\r\n\r\nWith this, I want to be able to represent arbitrary match-ups between archetypes. Both lists typically have 1 - 2 elements in them. The first archetypes list and second archetypes list may share the same archetype, e.g. `[A, B]` and `[B, C]` or `[A, C]` and `[C, B]`.\r\n\r\nNext, the exception reproduction test case:\r\n\r\n    private void testDuplicateKeyBug()\r\n    {\r\n    \t// Insert the archetypes\r\n    \tvar firstArchetype = Archetype.builder().name(&quot;1st Archetype&quot;).build();\r\n    \tvar secondArchetype = Archetype.builder().name(&quot;2nd Archetype&quot;).build();\r\n    \tvar thirdArchetype = Archetype.builder().name(&quot;3rd Archetype&quot;).build();\r\n    \tfirstArchetype = archetypeRepository.save(firstArchetype);\r\n    \tsecondArchetype = archetypeRepository.save(secondArchetype);\r\n    \tthirdArchetype = archetypeRepository.save(thirdArchetype);\r\n    \r\n    \t// Insert the 1st archetype match-up\r\n    \tval firstArchetypeMatchUp = ArchetypeMatchUp.builder()\r\n    \t\t\t.firstPlayerArchetype(Arrays.asList(firstArchetype, secondArchetype))\r\n    \t\t\t.secondPlayerArchetype(Arrays.asList(secondArchetype, thirdArchetype))\r\n    \t\t\t.build();\r\n    \tarchetypeMatchUpRepository.save(firstArchetypeMatchUp);\r\n    \r\n    \t// Insert the 2nd archetype match-up\r\n    \tval secondArchetypeMatchUp = ArchetypeMatchUp.builder()\r\n    \t\t\t.firstPlayerArchetype(Arrays.asList(firstArchetype, thirdArchetype))\r\n    \t\t\t.secondPlayerArchetype(Arrays.asList(thirdArchetype, secondArchetype))\r\n    \t\t\t.build();\r\n    \tarchetypeMatchUpRepository.save(secondArchetypeMatchUp); // Here, the exception occurs\r\n    }\r\n\r\nAt the 2nd `.save()` statement, the following exception occurs:\r\n\r\n    org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PUBLIC.UK_ECYK6EE7KR3CRQAR8TP6N9GSO_INDEX_2 ON PUBLIC.ARCHETYPE_MATCH_UP_FIRST_PLAYER_ARCHETYPE(FIRST_PLAYER_ARCHETYPE_ID NULLS FIRST) VALUES ( /* 1 */ CAST(1 AS BIGINT) )&quot;; SQL statement:\r\n    insert into archetype_match_up_first_player_archetype (archetype_match_up_id, first_player_archetype_id) values (?, ?) [23505-214]]\r\n\r\nI noticed that `Hibernate` apparently created 3 tables:  \r\n[![][1]][1]  \r\n\r\n[![][2]][2]\r\n\r\nHowever, the `first_player_archetype_id` column is declared as unique in my database (wrong) but of course I want to be able to insert the same `archetype` id multiple times for different relations (correct).\r\n\r\nHow can I fix this issue by adjusting my entity declarations or so to make the test case run successfully?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DFVvo.png\r\n  [2]: https://i.stack.imgur.com/8XHmo.png","title":"Getting &quot;duplicate key value violates unique constraint&quot; error when saving entities with Hibernate","body":"<p>For my <code>Spring Boot</code> REST API I have an entity as follows:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ArchetypeMatchUp\n{\n    @Id\n    @JsonIgnore\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;seq_archetype_match_up_generator&quot;)\n    @SequenceGenerator(name = &quot;seq_archetype_match_up_generator&quot;, sequenceName = &quot;seq_archetype_match_up&quot;)\n    private Long id;\n\n    @OneToMany(cascade = CascadeType.MERGE, orphanRemoval = true)\n    private List&lt;Archetype&gt; firstPlayerArchetype;\n\n    @OneToMany(cascade = CascadeType.MERGE, orphanRemoval = true)\n    @OrderColumn\n    private List&lt;Archetype&gt; secondPlayerArchetype;\n\n    // ...\n}\n</code></pre>\n<p>With this, I want to be able to represent arbitrary match-ups between archetypes. Both lists typically have 1 - 2 elements in them. The first archetypes list and second archetypes list may share the same archetype, e.g. <code>[A, B]</code> and <code>[B, C]</code> or <code>[A, C]</code> and <code>[C, B]</code>.</p>\n<p>Next, the exception reproduction test case:</p>\n<pre><code>private void testDuplicateKeyBug()\n{\n    // Insert the archetypes\n    var firstArchetype = Archetype.builder().name(&quot;1st Archetype&quot;).build();\n    var secondArchetype = Archetype.builder().name(&quot;2nd Archetype&quot;).build();\n    var thirdArchetype = Archetype.builder().name(&quot;3rd Archetype&quot;).build();\n    firstArchetype = archetypeRepository.save(firstArchetype);\n    secondArchetype = archetypeRepository.save(secondArchetype);\n    thirdArchetype = archetypeRepository.save(thirdArchetype);\n\n    // Insert the 1st archetype match-up\n    val firstArchetypeMatchUp = ArchetypeMatchUp.builder()\n            .firstPlayerArchetype(Arrays.asList(firstArchetype, secondArchetype))\n            .secondPlayerArchetype(Arrays.asList(secondArchetype, thirdArchetype))\n            .build();\n    archetypeMatchUpRepository.save(firstArchetypeMatchUp);\n\n    // Insert the 2nd archetype match-up\n    val secondArchetypeMatchUp = ArchetypeMatchUp.builder()\n            .firstPlayerArchetype(Arrays.asList(firstArchetype, thirdArchetype))\n            .secondPlayerArchetype(Arrays.asList(thirdArchetype, secondArchetype))\n            .build();\n    archetypeMatchUpRepository.save(secondArchetypeMatchUp); // Here, the exception occurs\n}\n</code></pre>\n<p>At the 2nd <code>.save()</code> statement, the following exception occurs:</p>\n<pre><code>org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PUBLIC.UK_ECYK6EE7KR3CRQAR8TP6N9GSO_INDEX_2 ON PUBLIC.ARCHETYPE_MATCH_UP_FIRST_PLAYER_ARCHETYPE(FIRST_PLAYER_ARCHETYPE_ID NULLS FIRST) VALUES ( /* 1 */ CAST(1 AS BIGINT) )&quot;; SQL statement:\ninsert into archetype_match_up_first_player_archetype (archetype_match_up_id, first_player_archetype_id) values (?, ?) [23505-214]]\n</code></pre>\n<p>I noticed that <code>Hibernate</code> apparently created 3 tables:<br />\n<a href=\"https://i.stack.imgur.com/DFVvo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DFVvo.png\" alt=\"\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/8XHmo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8XHmo.png\" alt=\"\" /></a></p>\n<p>However, the <code>first_player_archetype_id</code> column is declared as unique in my database (wrong) but of course I want to be able to insert the same <code>archetype</code> id multiple times for different relations (correct).</p>\n<p>How can I fix this issue by adjusting my entity declarations or so to make the test case run successfully?</p>\n"},{"tags":["java","swing","model-view-controller"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1682613969,"post_id":76122544,"comment_id":134247267,"body_markdown":"&quot;*2 of the panels on north*&quot; does not work, [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/BorderLayout.html) of `BorderLayout`: &quot;* Each region may contain no more than one component*&quot; - eventually add a `JPanel` at `NORTH` and add the two components to it || or use a `GridBagLayout` (`BorderLayout` is indicated if you have a **main** pane (CENTER) with some secondary pane on the sides)","body":"&quot;<i>2 of the panels on north</i>&quot; does not work, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/BorderLayout.html\" rel=\"nofollow noreferrer\">documentation</a> of <code>BorderLayout</code>: &quot;* Each region may contain no more than one component*&quot; - eventually add a <code>JPanel</code> at <code>NORTH</code> and add the two components to it || or use a <code>GridBagLayout</code> (<code>BorderLayout</code> is indicated if you have a <b>main</b> pane (CENTER) with some secondary pane on the sides)"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682614978,"creation_date":1682613317,"answer_id":76122759,"question_id":76122544,"body_markdown":"You need to use a compound layout (several LayoutManagers). So use BorderLayout and add one JPanel as north and the vendeurs_center as center. Then inside the north panel use e.g. GridLayout and place two components general_north and client_north.\r\n\r\nAs an alternative use GridBagLayout - that is one of the layouts that will achieve everything in one go:\r\n\r\nIn one component configured with GridBagLayout add all three components like this:\r\n\r\n    general_north: Position 1,1\r\n    client_north: Position 2,1\r\n    vendeurs_center: Position 1,2; spanX: 2\r\n\r\nThe advantage is that here you have lots of additional options to play with. Most important in my eyes is the capability to define how the components should grow/shrink when the window gets resized.","title":"Problems with BorderLayout in Java Swing","body":"<p>You need to use a compound layout (several LayoutManagers). So use BorderLayout and add one JPanel as north and the vendeurs_center as center. Then inside the north panel use e.g. GridLayout and place two components general_north and client_north.</p>\n<p>As an alternative use GridBagLayout - that is one of the layouts that will achieve everything in one go:</p>\n<p>In one component configured with GridBagLayout add all three components like this:</p>\n<pre><code>general_north: Position 1,1\nclient_north: Position 2,1\nvendeurs_center: Position 1,2; spanX: 2\n</code></pre>\n<p>The advantage is that here you have lots of additional options to play with. Most important in my eyes is the capability to define how the components should grow/shrink when the window gets resized.</p>\n"}],"owner":{"account_id":20173787,"reputation":107,"user_id":14795970,"display_name":"SeveN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76122759,"answer_count":1,"score":-1,"last_activity_date":1682614978,"creation_date":1682611767,"question_id":76122544,"body_markdown":"I&#39;m making a little program for a project in Java, but I have some problems with the layout. I created 3 Panel and I wanted them to be like this:\r\n\r\n[![My Wish][1]][1]\r\n\r\n\r\nI tried with BorderLayout, setting 2 of the panels on north and 1 on center and it didn&#39;t work, I tried to make them Weast an East and the last in South, but didn&#39;t work.\r\n\r\nNow I tried FlowLayout and it&#39;s not working for the 2 others panel, I have this:\r\n[![my result][2]][2]\r\n\r\nI put the code of my View Package of this interfaces (we are using MVC), if someone could help me I would appreciate it. Thanks guys!\r\n\r\n    package View;\r\n    \r\n    import Model.Client;\r\n    import Model.Magasin;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.util.Vector;\r\n    \r\n    public class Statistiques extends JFrame {\r\n    \r\n        JLabel article = new JLabel(&quot;Nombre article vendu:&quot;);\r\n        JLabel chifre_affair = new JLabel(&quot;Chifre d&#39;Affair:&quot;);\r\n        JLabel art_plus_vendu = new JLabel(&quot;Article plus vendus:&quot;);\r\n        JLabel nbTArticle = new JLabel(&quot;2&quot;);\r\n        JLabel nbChiffreAffair = new JLabel(&quot;3&quot;);\r\n        JLabel nomArticlePlusVendus = new JLabel(&quot;iPhone12&quot;);\r\n    \r\n        Magasin magasin;\r\n        Vector&lt;Client&gt; listeClients = new Vector&lt;Client&gt;();\r\n    \r\n        JComboBox clients = new JComboBox&lt;&gt;(listeClients);\r\n        JLabel espace = new JLabel();\r\n        JLabel art_plus_achete = new JLabel(&quot;Article plus achete:&quot;);\r\n        JLabel nomArticlePlusAchete = new JLabel();\r\n        JLabel list_label = new JLabel(&quot;liste articles achete: &quot;);\r\n    \r\n    \r\n    \r\n        JComboBox vendeurs = new JComboBox&lt;&gt;();\r\n        JLabel art= new JLabel(&quot;Article plus achete:&quot;);\r\n        JLabel nom = new JLabel();\r\n        JLabel listv_label = new JLabel(&quot;liste articles achete: &quot;);\r\n    \r\n    \r\n        JPanel general_north = new JPanel();\r\n        JPanel client_north = new JPanel();\r\n        JPanel vendeurs_center = new JPanel();\r\n    \r\n    \r\n        public Statistiques(Magasin m){\r\n            this.setTitle(&quot;STATISTIQUES&quot;);\r\n            this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n            this.setPreferredSize(new Dimension(800,800));\r\n            this.setLayout(new BorderLayout());\r\n            magasin = m;\r\n            listeClients = magasin.listeClient;\r\n    \r\n            general_north.setLayout(new GridLayout(3,2,1,1));\r\n            general_north.setSize(400,200);\r\n            //general_north.setBorder(BorderFactory.createEmptyBorder(100,200,100,200));\r\n    \r\n            client_north.setLayout(new GridLayout(4,1,1,1));\r\n            client_north.setPreferredSize(new Dimension(400,200));\r\n            //client_north.setBorder(BorderFactory.createEmptyBorder(100,200,100,200));\r\n    \r\n            client_north.add(art_plus_achete);\r\n            client_north.add(nomArticlePlusAchete);\r\n    \r\n    \r\n            vendeurs_center.setLayout(new FlowLayout());\r\n            vendeurs_center.setPreferredSize(new Dimension(800,400));\r\n    \r\n            getContentPane().add(general_north);\r\n            getContentPane().add(client_north);\r\n            getContentPane().add(vendeurs_center);\r\n    \r\n            general_north.add(article);\r\n            general_north.add(nbTArticle);\r\n            general_north.add(chifre_affair);\r\n            general_north.add(nbChiffreAffair);\r\n            general_north.add(art_plus_vendu);\r\n            general_north.add(nomArticlePlusVendus);\r\n    \r\n    \r\n            this.pack();\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q5Hox.png\r\n  [2]: https://i.stack.imgur.com/MGLCY.png","title":"Problems with BorderLayout in Java Swing","body":"<p>I'm making a little program for a project in Java, but I have some problems with the layout. I created 3 Panel and I wanted them to be like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Q5Hox.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q5Hox.png\" alt=\"My Wish\" /></a></p>\n<p>I tried with BorderLayout, setting 2 of the panels on north and 1 on center and it didn't work, I tried to make them Weast an East and the last in South, but didn't work.</p>\n<p>Now I tried FlowLayout and it's not working for the 2 others panel, I have this:\n<a href=\"https://i.stack.imgur.com/MGLCY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MGLCY.png\" alt=\"my result\" /></a></p>\n<p>I put the code of my View Package of this interfaces (we are using MVC), if someone could help me I would appreciate it. Thanks guys!</p>\n<pre><code>package View;\n\nimport Model.Client;\nimport Model.Magasin;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.util.Vector;\n\npublic class Statistiques extends JFrame {\n\n    JLabel article = new JLabel(&quot;Nombre article vendu:&quot;);\n    JLabel chifre_affair = new JLabel(&quot;Chifre d'Affair:&quot;);\n    JLabel art_plus_vendu = new JLabel(&quot;Article plus vendus:&quot;);\n    JLabel nbTArticle = new JLabel(&quot;2&quot;);\n    JLabel nbChiffreAffair = new JLabel(&quot;3&quot;);\n    JLabel nomArticlePlusVendus = new JLabel(&quot;iPhone12&quot;);\n\n    Magasin magasin;\n    Vector&lt;Client&gt; listeClients = new Vector&lt;Client&gt;();\n\n    JComboBox clients = new JComboBox&lt;&gt;(listeClients);\n    JLabel espace = new JLabel();\n    JLabel art_plus_achete = new JLabel(&quot;Article plus achete:&quot;);\n    JLabel nomArticlePlusAchete = new JLabel();\n    JLabel list_label = new JLabel(&quot;liste articles achete: &quot;);\n\n\n\n    JComboBox vendeurs = new JComboBox&lt;&gt;();\n    JLabel art= new JLabel(&quot;Article plus achete:&quot;);\n    JLabel nom = new JLabel();\n    JLabel listv_label = new JLabel(&quot;liste articles achete: &quot;);\n\n\n    JPanel general_north = new JPanel();\n    JPanel client_north = new JPanel();\n    JPanel vendeurs_center = new JPanel();\n\n\n    public Statistiques(Magasin m){\n        this.setTitle(&quot;STATISTIQUES&quot;);\n        this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n        this.setPreferredSize(new Dimension(800,800));\n        this.setLayout(new BorderLayout());\n        magasin = m;\n        listeClients = magasin.listeClient;\n\n        general_north.setLayout(new GridLayout(3,2,1,1));\n        general_north.setSize(400,200);\n        //general_north.setBorder(BorderFactory.createEmptyBorder(100,200,100,200));\n\n        client_north.setLayout(new GridLayout(4,1,1,1));\n        client_north.setPreferredSize(new Dimension(400,200));\n        //client_north.setBorder(BorderFactory.createEmptyBorder(100,200,100,200));\n\n        client_north.add(art_plus_achete);\n        client_north.add(nomArticlePlusAchete);\n\n\n        vendeurs_center.setLayout(new FlowLayout());\n        vendeurs_center.setPreferredSize(new Dimension(800,400));\n\n        getContentPane().add(general_north);\n        getContentPane().add(client_north);\n        getContentPane().add(vendeurs_center);\n\n        general_north.add(article);\n        general_north.add(nbTArticle);\n        general_north.add(chifre_affair);\n        general_north.add(nbChiffreAffair);\n        general_north.add(art_plus_vendu);\n        general_north.add(nomArticlePlusVendus);\n\n\n        this.pack();\n    }\n}\n</code></pre>\n"},{"tags":["java","flyway"],"comments":[{"owner":{"account_id":213468,"reputation":103487,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674814753,"post_id":75256610,"comment_id":132797851,"body_markdown":"How do you know the connection is not closed? The problem is likely not Flyway itself, but the data source being backed by a connection pool.","body":"How do you know the connection is not closed? The problem is likely not Flyway itself, but the data source being backed by a connection pool."},{"owner":{"account_id":5925754,"reputation":145,"user_id":4661650,"display_name":"Martin_0"},"score":0,"creation_date":1674817128,"post_id":75256610,"comment_id":132798557,"body_markdown":"@MarkRotteveel by looking at the current connections in mysql `show processlist;`. There&#39;s still a connection with the flyway-user","body":"@MarkRotteveel by looking at the current connections in mysql <code>show processlist;</code>. There&#39;s still a connection with the flyway-user"},{"owner":{"account_id":213468,"reputation":103487,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674821194,"post_id":75256610,"comment_id":132799665,"body_markdown":"Then very likely it is your data-source keeping the connection open in a connection pool. Is this actually a problem, or you were just wondering why?","body":"Then very likely it is your data-source keeping the connection open in a connection pool. Is this actually a problem, or you were just wondering why?"},{"owner":{"account_id":5925754,"reputation":145,"user_id":4661650,"display_name":"Martin_0"},"score":0,"creation_date":1674822767,"post_id":75256610,"comment_id":132800132,"body_markdown":"At the moment its a problem on a test-environment where multiple deployments are running at the same time for different features and bugfixes.","body":"At the moment its a problem on a test-environment where multiple deployments are running at the same time for different features and bugfixes."},{"owner":{"account_id":213468,"reputation":103487,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674823304,"post_id":75256610,"comment_id":132800316,"body_markdown":"Then you should either not use a data source, not use a data source backed by a connection pool, or find a way to shutdown or clear this data source (which may or may not be possible, this will depend on what the provider is of that data source).","body":"Then you should either not use a data source, not use a data source backed by a connection pool, or find a way to shutdown or clear this data source (which may or may not be possible, this will depend on what the provider is of that data source)."}],"answers":[{"tags":[],"owner":{"account_id":28426306,"reputation":26,"user_id":21747635,"display_name":"Othyus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682614544,"creation_date":1682535432,"answer_id":76114183,"question_id":75256610,"body_markdown":"A database connection can also be assigned to flyway using **username**, **password** and **url**.\r\nWith these parameters the database connection used by flyway will be closed again when all scripts are migrated.\r\n\r\nFrom a DataSource the needed parameters can be read, but that **is different for every implementation of the DataSource** interface which is provided from the environment.\r\n\r\n---\r\n\r\nThe following example assumes that the **DataSource** is from a **Tomcat web server** environment (in Java 17):\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-dbcp&lt;/artifactId&gt;\r\n    &lt;version&gt;10.0.8&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```java\r\nimport org.apache.tomcat.dbcp.dbcp2.BasicDataSource;\r\n\r\n[...]\r\n\r\nprivate Flyway configureFlyway() {\r\n    FluentConfiguration config = new FluentConfiguration();\r\n\r\n    if (getDs() instanceof BasicDataSource tomcatBasicDataSource) {\r\n        String username = tomcatBasicDataSource.getUsername();\r\n        String password = tomcatBasicDataSource.getPassword();\r\n        String url = tomcatBasicDataSource.getUrl();\r\n        config.dataSource(url, username, password);\r\n    }\r\n\r\n    config.baselineOnMigrate(true);\r\n    config.cleanDisabled(true);\r\n    config.outOfOrder(true);\r\n    config.validateMigrationNaming(true);\r\n    config.validateOnMigrate(false);\r\n    config.locations(SCRIPTS_PATH);\r\n    config.loggers(LOGGER);\r\n\r\n    return new Flyway(config);\r\n}\r\n```\r\n\r\n---\r\n\r\nFYI Flyway configuration can also be set via builder pattern (which is more compact):\r\n```java\r\nreturn Flyway.configure()\r\n    .dataSource(url, username, password)\r\n    .baselineOnMigrate(true)\r\n    .cleanDisabled(true)\r\n    .outOfOrder(true)\r\n    .validateMigrationNaming(true)\r\n    .validateOnMigrate(false)\r\n    .locations(SCRIPTS_PATH)\r\n    .loggers(LOGGER)\r\n    .load();\r\n```","title":"Flyway won&#39;t close connection after migrate","body":"<p>A database connection can also be assigned to flyway using <strong>username</strong>, <strong>password</strong> and <strong>url</strong>.\nWith these parameters the database connection used by flyway will be closed again when all scripts are migrated.</p>\n<p>From a DataSource the needed parameters can be read, but that <strong>is different for every implementation of the DataSource</strong> interface which is provided from the environment.</p>\n<hr />\n<p>The following example assumes that the <strong>DataSource</strong> is from a <strong>Tomcat web server</strong> environment (in Java 17):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-dbcp&lt;/artifactId&gt;\n    &lt;version&gt;10.0.8&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.tomcat.dbcp.dbcp2.BasicDataSource;\n\n[...]\n\nprivate Flyway configureFlyway() {\n    FluentConfiguration config = new FluentConfiguration();\n\n    if (getDs() instanceof BasicDataSource tomcatBasicDataSource) {\n        String username = tomcatBasicDataSource.getUsername();\n        String password = tomcatBasicDataSource.getPassword();\n        String url = tomcatBasicDataSource.getUrl();\n        config.dataSource(url, username, password);\n    }\n\n    config.baselineOnMigrate(true);\n    config.cleanDisabled(true);\n    config.outOfOrder(true);\n    config.validateMigrationNaming(true);\n    config.validateOnMigrate(false);\n    config.locations(SCRIPTS_PATH);\n    config.loggers(LOGGER);\n\n    return new Flyway(config);\n}\n</code></pre>\n<hr />\n<p>FYI Flyway configuration can also be set via builder pattern (which is more compact):</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Flyway.configure()\n    .dataSource(url, username, password)\n    .baselineOnMigrate(true)\n    .cleanDisabled(true)\n    .outOfOrder(true)\n    .validateMigrationNaming(true)\n    .validateOnMigrate(false)\n    .locations(SCRIPTS_PATH)\n    .loggers(LOGGER)\n    .load();\n</code></pre>\n"}],"owner":{"account_id":5925754,"reputation":145,"user_id":4661650,"display_name":"Martin_0"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76114183,"answer_count":1,"score":0,"last_activity_date":1682614544,"creation_date":1674814113,"question_id":75256610,"body_markdown":"I&#39;m using Flyway in a JSF context with MySQL. Only on startup of the deployment Flyway migrates successfully to the newest version and is never used outside that case. However, the jdbc-connection still persists after the migration.\r\n\r\nI&#39;ve updated Flyway to the currently newest Version 9.12.0 which did not resolve the problem.\r\n\r\n\r\n```java\r\npublic class FlywayMigrateUtil {\r\n    \r\n    private final String SCRIPTS_PATH = &quot;classpath:alter-scripts&quot;;\r\n    private final String LOGGER = &quot;log4j2&quot;;\r\n    DataSource ds;\r\n    Flyway flyway;\r\n    public FlywayMigrateUtil(DataSource ds){\r\n        setDs(ds);\r\n        setFlyway(configureFlyway());\r\n    }\r\n\r\n    public Flyway configureFlyway(){\r\n        FluentConfiguration config = new FluentConfiguration();\r\n        config.dataSource(getDs());\r\n        config.baselineOnMigrate(true);\r\n        config.cleanDisabled(true);\r\n        config.outOfOrder(true);\r\n        config.validateMigrationNaming(true);\r\n        config.validateOnMigrate(false);\r\n        config.locations(SCRIPTS_PATH);\r\n        config.loggers(LOGGER);\r\n        \r\n        return new Flyway(config);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class FlywayMigrationHandler {\r\n    \r\n    private final String DATASOURCE_LOOKUP = &quot;java:comp/env&quot;;\r\n    private final String SWITCH_LOOKUP = &quot;java:comp/env/AllowFlywayMigration&quot;;\r\n    private final String DATA_SOURCE_NAME = &quot;flyway/datasource&quot;;\r\n    private Context initialContext;\r\n    private boolean enableFlywayMigration;\r\n    private Context envContext;\r\n    private DataSource ds;\r\n    private FlywayMigrateUtil flywayMigrateUtil;\r\n    \r\n    public FlywayMigrationHandler() throws NamingException {\r\n        \r\n        setInitialContext(new InitialContext());\r\n        setEnableFlywayMigration((boolean) getInitialContext().lookup(SWITCH_LOOKUP));\r\n        \r\n        if(isEnableFlywayMigration()){\r\n            setEnvContext((Context) getInitialContext().lookup(DATASOURCE_LOOKUP));\r\n            setDs((DataSource) getEnvContext().lookup(DATA_SOURCE_NAME));\r\n            setFlywayMigrateUtil(new FlywayMigrateUtil(getDs()));\r\n        }\r\n        \r\n    }\r\n\r\n    public void makeMigration(){\r\n        if(getDs() != null &amp;&amp; isEnableFlywayMigration()){\r\n            try{\r\n                Flyway flyway = getFlywayMigrateUtil().getFlyway();\r\n                flyway.migrate();\r\n\r\n                //close connection?\r\n\r\n            }catch (FlywayException e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nHow can I tell Flyway to close the connection?\r\n\r\n","title":"Flyway won&#39;t close connection after migrate","body":"<p>I'm using Flyway in a JSF context with MySQL. Only on startup of the deployment Flyway migrates successfully to the newest version and is never used outside that case. However, the jdbc-connection still persists after the migration.</p>\n<p>I've updated Flyway to the currently newest Version 9.12.0 which did not resolve the problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FlywayMigrateUtil {\n    \n    private final String SCRIPTS_PATH = &quot;classpath:alter-scripts&quot;;\n    private final String LOGGER = &quot;log4j2&quot;;\n    DataSource ds;\n    Flyway flyway;\n    public FlywayMigrateUtil(DataSource ds){\n        setDs(ds);\n        setFlyway(configureFlyway());\n    }\n\n    public Flyway configureFlyway(){\n        FluentConfiguration config = new FluentConfiguration();\n        config.dataSource(getDs());\n        config.baselineOnMigrate(true);\n        config.cleanDisabled(true);\n        config.outOfOrder(true);\n        config.validateMigrationNaming(true);\n        config.validateOnMigrate(false);\n        config.locations(SCRIPTS_PATH);\n        config.loggers(LOGGER);\n        \n        return new Flyway(config);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class FlywayMigrationHandler {\n    \n    private final String DATASOURCE_LOOKUP = &quot;java:comp/env&quot;;\n    private final String SWITCH_LOOKUP = &quot;java:comp/env/AllowFlywayMigration&quot;;\n    private final String DATA_SOURCE_NAME = &quot;flyway/datasource&quot;;\n    private Context initialContext;\n    private boolean enableFlywayMigration;\n    private Context envContext;\n    private DataSource ds;\n    private FlywayMigrateUtil flywayMigrateUtil;\n    \n    public FlywayMigrationHandler() throws NamingException {\n        \n        setInitialContext(new InitialContext());\n        setEnableFlywayMigration((boolean) getInitialContext().lookup(SWITCH_LOOKUP));\n        \n        if(isEnableFlywayMigration()){\n            setEnvContext((Context) getInitialContext().lookup(DATASOURCE_LOOKUP));\n            setDs((DataSource) getEnvContext().lookup(DATA_SOURCE_NAME));\n            setFlywayMigrateUtil(new FlywayMigrateUtil(getDs()));\n        }\n        \n    }\n\n    public void makeMigration(){\n        if(getDs() != null &amp;&amp; isEnableFlywayMigration()){\n            try{\n                Flyway flyway = getFlywayMigrateUtil().getFlyway();\n                flyway.migrate();\n\n                //close connection?\n\n            }catch (FlywayException e){\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>How can I tell Flyway to close the connection?</p>\n"},{"tags":["java","spring-boot","tomcat","jvm","threadpool"],"owner":{"account_id":153744,"reputation":3590,"user_id":369218,"accept_rate":57,"display_name":"AJJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682677568,"answer_count":0,"score":0,"last_activity_date":1682613686,"creation_date":1682613686,"question_id":76122816,"body_markdown":"I have an async operation in spring boot that uses cached thread pool of spring. When the http request comes in, a thread gets started which is in tomcat. In the same thread an async thread is triggered with newCachedThreadPool(). Now the question, is these two thread (tomcat thread and async thread in cachedThreadPool) are supplied by JVM ? Or JVM has it&#39;s own thread pool and tomcat has it&#39;s own?\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    public class ThreadResource {\r\n    \r\n        private final ThreadService threadService;\r\n    \r\n        @GetMapping(&quot;/theards/async&quot;)\r\n        public void verifyThreads() {\r\n            threadService.asyncThread();\r\n        }\r\n    }\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class ThreadService {\r\n    \r\n        private final AsycThreadService asycThreadService;\r\n        public void asyncThread() {\r\n            List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n            System.out.println(Thread.getAllStackTraces().keySet());\r\n            for (var i =0; i&lt; 3; i++) {\r\n                futures.add(asycThreadService.startAsyncThread());\r\n            }\r\n            futures.forEach(CompletableFuture::join);\r\n        }\r\n    }\r\n    \r\n    @Service\r\n    public class AsycThreadService {\r\n    \r\n        @Async(&quot;asyncCachedThreadPool&quot;)\r\n        public CompletableFuture&lt;Void&gt; startAsyncThread() {\r\n            System.out.println(Thread.getAllStackTraces().keySet());\r\n            return CompletableFuture.completedFuture(null);\r\n        }\r\n    }\r\n\r\n","title":"Is JVM threads different from tomcat thread in spring boot?","body":"<p>I have an async operation in spring boot that uses cached thread pool of spring. When the http request comes in, a thread gets started which is in tomcat. In the same thread an async thread is triggered with newCachedThreadPool(). Now the question, is these two thread (tomcat thread and async thread in cachedThreadPool) are supplied by JVM ? Or JVM has it's own thread pool and tomcat has it's own?</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\npublic class ThreadResource {\n\n    private final ThreadService threadService;\n\n    @GetMapping(&quot;/theards/async&quot;)\n    public void verifyThreads() {\n        threadService.asyncThread();\n    }\n}\n\n@Service\n@RequiredArgsConstructor\npublic class ThreadService {\n\n    private final AsycThreadService asycThreadService;\n    public void asyncThread() {\n        List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\n        System.out.println(Thread.getAllStackTraces().keySet());\n        for (var i =0; i&lt; 3; i++) {\n            futures.add(asycThreadService.startAsyncThread());\n        }\n        futures.forEach(CompletableFuture::join);\n    }\n}\n\n@Service\npublic class AsycThreadService {\n\n    @Async(&quot;asyncCachedThreadPool&quot;)\n    public CompletableFuture&lt;Void&gt; startAsyncThread() {\n        System.out.println(Thread.getAllStackTraces().keySet());\n        return CompletableFuture.completedFuture(null);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":18431035,"reputation":582,"user_id":13426164,"display_name":"Kris"},"score":0,"creation_date":1658775136,"post_id":73113799,"comment_id":129130800,"body_markdown":"Hi, have you tried adding @CrossOrigin to the controller method not the class? Also try it without any arguments in brackets first","body":"Hi, have you tried adding @CrossOrigin to the controller method not the class? Also try it without any arguments in brackets first"}],"answers":[{"tags":[],"owner":{"account_id":19374892,"reputation":5,"user_id":14167368,"display_name":"D999_X"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682613628,"creation_date":1682613628,"answer_id":76122806,"question_id":73113799,"body_markdown":"    public CorsConfigurationSource configurationSource() {\r\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\r\n        //allow the url\r\n        corsConfiguration.addAllowedOrigin(&quot;http://localhost:4200&quot;);\r\n        //allow the http method\r\n        corsConfiguration.addAllowedMethod(&quot;*&quot;);\r\n        //allow the http heard\r\n        corsConfiguration.addAllowedHeader(&quot;*&quot;);\r\n\r\n        corsConfiguration.setAllowCredentials(true);\r\n\r\n        UrlBasedCorsConfigurationSource urlBasedCorsConfigurationSource = new UrlBasedCorsConfigurationSource();\r\n        //allow all url\r\n        urlBasedCorsConfigurationSource.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\r\n\r\n        return urlBasedCorsConfigurationSource;\r\n    }\r\nat SecurityFilterChain add\r\n   \r\n\r\n     .and().cors().configurationSource(configurationSource());","title":"origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource","body":"<pre><code>public CorsConfigurationSource configurationSource() {\n    CorsConfiguration corsConfiguration = new CorsConfiguration();\n    //allow the url\n    corsConfiguration.addAllowedOrigin(&quot;http://localhost:4200&quot;);\n    //allow the http method\n    corsConfiguration.addAllowedMethod(&quot;*&quot;);\n    //allow the http heard\n    corsConfiguration.addAllowedHeader(&quot;*&quot;);\n\n    corsConfiguration.setAllowCredentials(true);\n\n    UrlBasedCorsConfigurationSource urlBasedCorsConfigurationSource = new UrlBasedCorsConfigurationSource();\n    //allow all url\n    urlBasedCorsConfigurationSource.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\n\n    return urlBasedCorsConfigurationSource;\n}\n</code></pre>\n<p>at SecurityFilterChain add</p>\n<pre><code> .and().cors().configurationSource(configurationSource());\n</code></pre>\n"}],"owner":{"account_id":19374892,"reputation":5,"user_id":14167368,"display_name":"D999_X"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76122806,"answer_count":1,"score":0,"last_activity_date":1682613628,"creation_date":1658773709,"question_id":73113799,"body_markdown":"My back end is use java springboot\r\n\r\n```\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)//allow cross-origin resource sharing (CORS) request\r\n@RestController\r\n@RequestMapping(&quot;/api/school&quot;)\r\npublic class CourseController {\r\n  @PostMapping(&quot;/login&quot;)\r\n  public ResponseEntity&lt;?&gt; loginPage(@RequestBody LoginRequest loginRequest){\r\n\t\t*****\r\n\t\tAuthentication authentication= authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(name, passowrd));\r\n\t\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n\t\tUserDetails userDetails = (UserDetails)authentication.getPrincipal();\r\n\t\tLoginResponse loginResponse =new LoginResponse();\r\n\t\tloginResponse.setUsername(userDetails.getUsername());\r\n\t\treturn ResponseEntity.ok(loginResponse);\r\n  }\r\n\t@GetMapping(&quot;/apartment/{apartmentName}&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; findTeachers(@PathVariable(&quot;apartmentName&quot;)String apartName){\r\n\t\t******\r\n     return ResponseEntity.ok(list);\r\n\t\t\r\n\t}\r\n}\r\nmy web security config:\r\n@Configuration\r\n@EnableWebSecurity //it&#39;s allow the static resource, image, css, js..\r\n@EnableGlobalMethodSecurity(prePostEnabled = true) //allow the multiple endpoint\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.cors()\r\n\t\t.and().csrf().disable()\r\n\t\t .authorizeHttpRequests()\r\n\t\t.antMatchers(&quot;/api/school/login&quot;).permitAll() // login do not need to authenticated\r\n\t\t.anyRequest().authenticated()\r\n\t\t.and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t.and().httpBasic();\r\n        \r\n\t}\r\n}\r\n```\r\nFrontend angular,\r\n```\r\nexport class CourseService {\r\n  private baseUrl = &#39;http://localhost:9010/api/school&#39;;\r\n  constructor(private _httpClient: HttpClient) {}\r\n\r\n  login(request: LoginRequest): Observable&lt;LoginResponse&gt; {\r\n    return this._httpClient\r\n      .post&lt;LoginResponse&gt;(this.baseUrl + &#39;/login&#39;, request)\r\n      .pipe(catchError(this.errorHandler));\r\n  }\r\n  getAllTeachers(apartmentName: string): Observable&lt;TeachersResponse[]&gt; {\r\n    return this._httpClient\r\n      .get&lt;TeachersResponse[]&gt;(this.baseUrl + &#39;/apartment/&#39; + apartmentName)\r\n      .pipe(catchError(this.errorHandler));\r\n  }\r\n\r\n```\r\nI can access the login page(input username, password) to the course page, but when I enter apartmentName as input, click the button to call the component method.\r\nshows Error origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\nMy controller has @CrossOrigin(origins = &quot;*&quot;, maxAge = 3600), I changed @CrossOrigin(origins = &quot;http://localhost:4200&quot;) also not work, and WebSercurty configure has http.cors(). Why do I still have this Error?\r\n```\r\nComponent method call courseService\r\n  loadData(apartmentName: string) {\r\n    console.log(&#39;call courseService&#39;);\r\n    this._courseService.getAllTeachers(apartmentName).subscribe((teachers) =&gt; {\r\n      this.teacherArray = teachers;\r\n      console.log(teachers);\r\n    });\r\n  }\r\n```\r\nHey, I tried adding @CrossOrigin to the controller method, but not work. So I added public CorsConfigurationSource configurationSource() {} at SecurityConfig class, that make works. and comments @CrossOrigin. ","title":"origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource","body":"<p>My back end is use java springboot</p>\n<pre><code>@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)//allow cross-origin resource sharing (CORS) request\n@RestController\n@RequestMapping(&quot;/api/school&quot;)\npublic class CourseController {\n  @PostMapping(&quot;/login&quot;)\n  public ResponseEntity&lt;?&gt; loginPage(@RequestBody LoginRequest loginRequest){\n        *****\n        Authentication authentication= authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(name, passowrd));\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        UserDetails userDetails = (UserDetails)authentication.getPrincipal();\n        LoginResponse loginResponse =new LoginResponse();\n        loginResponse.setUsername(userDetails.getUsername());\n        return ResponseEntity.ok(loginResponse);\n  }\n    @GetMapping(&quot;/apartment/{apartmentName}&quot;)\n    public ResponseEntity&lt;?&gt; findTeachers(@PathVariable(&quot;apartmentName&quot;)String apartName){\n        ******\n     return ResponseEntity.ok(list);\n        \n    }\n}\nmy web security config:\n@Configuration\n@EnableWebSecurity //it's allow the static resource, image, css, js..\n@EnableGlobalMethodSecurity(prePostEnabled = true) //allow the multiple endpoint\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors()\n        .and().csrf().disable()\n         .authorizeHttpRequests()\n        .antMatchers(&quot;/api/school/login&quot;).permitAll() // login do not need to authenticated\n        .anyRequest().authenticated()\n        .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and().httpBasic();\n        \n    }\n}\n</code></pre>\n<p>Frontend angular,</p>\n<pre><code>export class CourseService {\n  private baseUrl = 'http://localhost:9010/api/school';\n  constructor(private _httpClient: HttpClient) {}\n\n  login(request: LoginRequest): Observable&lt;LoginResponse&gt; {\n    return this._httpClient\n      .post&lt;LoginResponse&gt;(this.baseUrl + '/login', request)\n      .pipe(catchError(this.errorHandler));\n  }\n  getAllTeachers(apartmentName: string): Observable&lt;TeachersResponse[]&gt; {\n    return this._httpClient\n      .get&lt;TeachersResponse[]&gt;(this.baseUrl + '/apartment/' + apartmentName)\n      .pipe(catchError(this.errorHandler));\n  }\n\n</code></pre>\n<p>I can access the login page(input username, password) to the course page, but when I enter apartmentName as input, click the button to call the component method.\nshows Error origin 'http://localhost:4200' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\nMy controller has @CrossOrigin(origins = &quot;*&quot;, maxAge = 3600), I changed @CrossOrigin(origins = &quot;http://localhost:4200&quot;) also not work, and WebSercurty configure has http.cors(). Why do I still have this Error?</p>\n<pre><code>Component method call courseService\n  loadData(apartmentName: string) {\n    console.log('call courseService');\n    this._courseService.getAllTeachers(apartmentName).subscribe((teachers) =&gt; {\n      this.teacherArray = teachers;\n      console.log(teachers);\n    });\n  }\n</code></pre>\n<p>Hey, I tried adding @CrossOrigin to the controller method, but not work. So I added public CorsConfigurationSource configurationSource() {} at SecurityConfig class, that make works. and comments @CrossOrigin.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","apache-kafka"],"owner":{"account_id":1042940,"reputation":580,"user_id":1048556,"accept_rate":83,"display_name":"Rafał"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682613538,"creation_date":1682613538,"question_id":76122792,"body_markdown":"I need help with kafka concurrency. I have concurrent listener in my spring boot app:\r\n\r\n```\r\nspring:\r\n  kafka:\r\n    listener:\r\n      concurrency: 2\r\n```\r\nAnd consumer consumes messages for specific client. And now i need to make the messages for single client be handled one after another, because inside i update a single document in mongo, and I get an OptimistickLockingException. Is there a way to achieve this behavious? \r\n\r\nSame thing visualised:\r\n```\r\nevent1 - customer1\r\nevent2 - customer1\r\nevent3 - customer2\r\n```\r\nand the threads are consuming like:\r\n```\r\nthread1 - event1 - customer1\r\nthread2 - event2 - customer1 (OptimistickLockingException)\r\nthread2 - event3 - customer2\r\n```\r\nand I need like that:\r\n```\r\nthread1 - event1 - customer1\r\nthread2 - event3 - customer2\r\nthread1 - event2 - customer1 (or thread2 if it finished first.)\r\n```\r\nso this is an exception in concurrency. Is it possible?\r\n\r\nRegards","title":"Kafka concurrent listener but handling messages containig specific value in single thread (one by one)","body":"<p>I need help with kafka concurrency. I have concurrent listener in my spring boot app:</p>\n<pre><code>spring:\n  kafka:\n    listener:\n      concurrency: 2\n</code></pre>\n<p>And consumer consumes messages for specific client. And now i need to make the messages for single client be handled one after another, because inside i update a single document in mongo, and I get an OptimistickLockingException. Is there a way to achieve this behavious?</p>\n<p>Same thing visualised:</p>\n<pre><code>event1 - customer1\nevent2 - customer1\nevent3 - customer2\n</code></pre>\n<p>and the threads are consuming like:</p>\n<pre><code>thread1 - event1 - customer1\nthread2 - event2 - customer1 (OptimistickLockingException)\nthread2 - event3 - customer2\n</code></pre>\n<p>and I need like that:</p>\n<pre><code>thread1 - event1 - customer1\nthread2 - event3 - customer2\nthread1 - event2 - customer1 (or thread2 if it finished first.)\n</code></pre>\n<p>so this is an exception in concurrency. Is it possible?</p>\n<p>Regards</p>\n"},{"tags":["java","arrays","list"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1682417382,"post_id":76099885,"comment_id":134208273,"body_markdown":"`List.&lt;String[]&gt;of(SOME_COMBINATION)` should work. Otherwise it will infer the desired type of the List to be `String` as suggested by the error message.","body":"<code>List.&lt;String[]&gt;of(SOME_COMBINATION)</code> should work. Otherwise it will infer the desired type of the List to be <code>String</code> as suggested by the error message."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1682603839,"post_id":76099885,"comment_id":134244603,"body_markdown":"To be clear: the signature of `List#of` here is `&lt;R&gt; List&lt;R&gt; of(R... elems) {...}`. The varargs for the passed-in type means it is equivalent to `of(R[] elems)`, so by passing the array it interprets `R` to be `String`. The solution with the type witness [is noted in the javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E...)).","body":"To be clear: the signature of <code>List#of</code> here is <code>&lt;R&gt; List&lt;R&gt; of(R... elems) {...}</code>. The varargs for the passed-in type means it is equivalent to <code>of(R[] elems)</code>, so by passing the array it interprets <code>R</code> to be <code>String</code>. The solution with the type witness <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E...)\" rel=\"nofollow noreferrer\">is noted in the javadoc</a>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1682606654,"post_id":76099885,"comment_id":134245386,"body_markdown":"Note that `SOME_COMBINATION` is not a constant; and the elements of `MY_LIST_OF_ARRAYS` are not constants either. You would be better off using `List&lt;List&lt;String&gt;&gt;` directly, using an immutable list to hold immutable lists.","body":"Note that <code>SOME_COMBINATION</code> is not a constant; and the elements of <code>MY_LIST_OF_ARRAYS</code> are not constants either. You would be better off using <code>List&lt;List&lt;String&gt;&gt;</code> directly, using an immutable list to hold immutable lists."}],"answers":[{"tags":[],"owner":{"account_id":15827885,"reputation":9,"user_id":11420191,"display_name":"Supriyo Sarkar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682603385,"creation_date":1682417785,"answer_id":76100048,"question_id":76099885,"body_markdown":"To make a list of String Arrays, do something like this :\r\n```java\r\nList&lt;String[]&gt; myList = new ArrayList&lt;String[]&gt;();\r\n```\r\nAs per the comment, package for `List` is `java.util.List` and for `ArrayList` it is `java.util.ArrayList`.","title":"How to initialize list of arrays of strings in Java?","body":"<p>To make a list of String Arrays, do something like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String[]&gt; myList = new ArrayList&lt;String[]&gt;();\n</code></pre>\n<p>As per the comment, package for <code>List</code> is <code>java.util.List</code> and for <code>ArrayList</code> it is <code>java.util.ArrayList</code>.</p>\n"}],"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682613124,"creation_date":1682416761,"question_id":76099885,"body_markdown":"My code so far:\r\n\r\n```\r\nfinal String[] SOME_COMBINATION = new String[] {\r\n    &quot;strA&quot;,\r\n    // just an example\r\n    (&quot;--(:&quot; + 4 + &quot;--B&quot;)};\r\nfinal List&lt;String[]&gt; MY_LIST_OF_ARRAYS = List.of( // error here\r\n    SOME_COMBINATION\r\n);\r\n```\r\n\r\nI am getting an error (using Eclipse) for the line in which the list is created:\r\n\r\n```\r\n#### Type mismatch: cannot convert from List\\&lt;String\\&gt; to List&lt;String[]&gt;\r\n```\r\n\r\nBut `SOME_COMBINATION` is an array of strings here. What am I doing wrong?\r\n\r\nAre `List`s of Arrays impossible? (It seems like you can, [in general][1].)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8321984/2092322","title":"How to initialize list of arrays of strings in Java?","body":"<p>My code so far:</p>\n<pre><code>final String[] SOME_COMBINATION = new String[] {\n    &quot;strA&quot;,\n    // just an example\n    (&quot;--(:&quot; + 4 + &quot;--B&quot;)};\nfinal List&lt;String[]&gt; MY_LIST_OF_ARRAYS = List.of( // error here\n    SOME_COMBINATION\n);\n</code></pre>\n<p>I am getting an error (using Eclipse) for the line in which the list is created:</p>\n<pre><code>#### Type mismatch: cannot convert from List\\&lt;String\\&gt; to List&lt;String[]&gt;\n</code></pre>\n<p>But <code>SOME_COMBINATION</code> is an array of strings here. What am I doing wrong?</p>\n<p>Are <code>List</code>s of Arrays impossible? (It seems like you can, <a href=\"https://stackoverflow.com/a/8321984/2092322\">in general</a>.)</p>\n"},{"tags":["java","date","java-time","localdate","java.util.date"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1682570237,"post_id":76116771,"comment_id":134237471,"body_markdown":"The result is not wrong. It&#39;s just that `Date.toString()` produces the wrong output for really old dates.","body":"The result is not wrong. It&#39;s just that <code>Date.toString()</code> produces the wrong output for really old dates."},{"owner":{"account_id":9652520,"reputation":3,"user_id":7163198,"display_name":"Abadellatif Abazine"},"score":0,"creation_date":1682570290,"post_id":76116771,"comment_id":134237474,"body_markdown":"it&#39;s not the same, because at my case i&#39;m loosing some days","body":"it&#39;s not the same, because at my case i&#39;m loosing some days"},{"owner":{"account_id":9652520,"reputation":3,"user_id":7163198,"display_name":"Abadellatif Abazine"},"score":0,"creation_date":1682570349,"post_id":76116771,"comment_id":134237483,"body_markdown":"@Sweeper i need it to have to correct output otherwise it&#39;s considered wrong","body":"@Sweeper i need it to have to correct output otherwise it&#39;s considered wrong"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1682570478,"post_id":76116771,"comment_id":134237501,"body_markdown":"There is nothing to solve. The value in the `Date` is correct. Just give it to whatever API you are using. If you want it to display the correct date as a `String`, convert it back to a `LocalDate`. You can see that it is the same `LocalDate` you had.","body":"There is nothing to solve. The value in the <code>Date</code> is correct. Just give it to whatever API you are using. If you want it to display the correct date as a <code>String</code>, convert it back to a <code>LocalDate</code>. You can see that it is the same <code>LocalDate</code> you had."},{"owner":{"account_id":9652520,"reputation":3,"user_id":7163198,"display_name":"Abadellatif Abazine"},"score":0,"creation_date":1682570639,"post_id":76116771,"comment_id":134237514,"body_markdown":"it has to be persisted with correct value, currently the value in the ERP points to a date that misses 4 days.","body":"it has to be persisted with correct value, currently the value in the ERP points to a date that misses 4 days."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1682570678,"post_id":76116771,"comment_id":134237518,"body_markdown":"I suspect this might be an [XY Problem](http://xyproblem.info/). Is there some bigger problem that you are trying to solve, and you thought making `Date.toString` return the same date as `LocalDate.toString` does would solve the problem? i.e. **Why** does the correct year, month, day has to be persisted? `Date` represents an instant, not a year, month and day.","body":"I suspect this might be an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. Is there some bigger problem that you are trying to solve, and you thought making <code>Date.toString</code> return the same date as <code>LocalDate.toString</code> does would solve the problem? i.e. <b>Why</b> does the correct year, month, day has to be persisted? <code>Date</code> represents an instant, not a year, month and day."},{"owner":{"account_id":9652520,"reputation":3,"user_id":7163198,"display_name":"Abadellatif Abazine"},"score":0,"creation_date":1682571049,"post_id":76116771,"comment_id":134237571,"body_markdown":"Yes it would solve my problem, It has to be persisted with correct value because i consume it from another system  that tokenizes this value with random dates.","body":"Yes it would solve my problem, It has to be persisted with correct value because i consume it from another system  that tokenizes this value with random dates."},{"owner":{"account_id":9652520,"reputation":3,"user_id":7163198,"display_name":"Abadellatif Abazine"},"score":0,"creation_date":1682572558,"post_id":76116771,"comment_id":134237738,"body_markdown":"@Sweeper The ERP uses java.util.Date to persist dates, so when it comes to show the date in the UI, it uses toString of java.util.Date to show it.","body":"@Sweeper The ERP uses java.util.Date to persist dates, so when it comes to show the date in the UI, it uses toString of java.util.Date to show it."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1682584745,"post_id":76116771,"comment_id":134240032,"body_markdown":"What do you need to handle a 1250 years old date for? You need to beware of the difference between the *Julian* calendar in effect back then and the *proleptic Gregorian calendar* that `LocalDate` uses. So both days, 16 July and 20 July, are correct, they are just given in different calendar systems. If you read the date July 20 in a source from back then, then it’s the Julian calendar that you need, that is, `LocalDate` is not the right class to use, sorry. Other than that you are doing the conversion in the correct way.","body":"What do you need to handle a 1250 years old date for? You need to beware of the difference between the <i>Julian</i> calendar in effect back then and the <i>proleptic Gregorian calendar</i> that <code>LocalDate</code> uses. So both days, 16 July and 20 July, are correct, they are just given in different calendar systems. If you read the date July 20 in a source from back then, then it’s the Julian calendar that you need, that is, <code>LocalDate</code> is not the right class to use, sorry. Other than that you are doing the conversion in the correct way."}],"answers":[{"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682571733,"creation_date":1682571733,"answer_id":76116897,"question_id":76116771,"body_markdown":"Not sure of the root cause for such difference in the days, but below work around might be helpful in your context:\r\n```\r\n    var localDate = LocalDate.of(775, 7, 20);\r\n    var instant = Calendar.getInstance();\r\n    instant.set(localDate.getYear(), localDate.getMonthValue() - 1 , localDate.getDayOfMonth());\r\n    var date = instant.getTime();\r\n    System.out.println(&quot;date = &quot; + date);\r\n```","title":"Converting LocalDate to java.util.Date","body":"<p>Not sure of the root cause for such difference in the days, but below work around might be helpful in your context:</p>\n<pre><code>    var localDate = LocalDate.of(775, 7, 20);\n    var instant = Calendar.getInstance();\n    instant.set(localDate.getYear(), localDate.getMonthValue() - 1 , localDate.getDayOfMonth());\n    var date = instant.getTime();\n    System.out.println(&quot;date = &quot; + date);\n</code></pre>\n"}],"owner":{"account_id":9652520,"reputation":3,"user_id":7163198,"display_name":"Abadellatif Abazine"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682610363,"accepted_answer_id":76116897,"answer_count":1,"score":0,"last_activity_date":1682613122,"creation_date":1682569923,"question_id":76116771,"body_markdown":"I&#39;m trying to convert a `java.time.LocalDate` to `java.util.Date`, but I lose some days in the process.\r\n\r\nHere the code that shows the issue:\r\n\r\n    public static void main(String[] args) {\r\n        var localDate = LocalDate.of(775, 7, 20);\r\n        var date = Date.from(localDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n        System.out.println(&quot;date = &quot; + date);\r\n    }\r\n\r\nAs you can see, I have a `LocalDate` that&#39;s in year 775, month 7 and day 20.\r\n\r\nBut when I convert it to `Date` it becomes in year 775, month 7 and day 16.\r\n\r\nSo 4 days are missing.\r\n\r\nIs there a way of converting without a loss in days?\r\n\r\nPS: I know that I should not mix legacy Date API with the new Date API but I&#39;m limited by a closed source ERP that uses `java.util.Date`\r\n","title":"Converting LocalDate to java.util.Date","body":"<p>I'm trying to convert a <code>java.time.LocalDate</code> to <code>java.util.Date</code>, but I lose some days in the process.</p>\n<p>Here the code that shows the issue:</p>\n<pre><code>public static void main(String[] args) {\n    var localDate = LocalDate.of(775, 7, 20);\n    var date = Date.from(localDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\n    System.out.println(&quot;date = &quot; + date);\n}\n</code></pre>\n<p>As you can see, I have a <code>LocalDate</code> that's in year 775, month 7 and day 20.</p>\n<p>But when I convert it to <code>Date</code> it becomes in year 775, month 7 and day 16.</p>\n<p>So 4 days are missing.</p>\n<p>Is there a way of converting without a loss in days?</p>\n<p>PS: I know that I should not mix legacy Date API with the new Date API but I'm limited by a closed source ERP that uses <code>java.util.Date</code></p>\n"},{"tags":["java","utc","java-time","java.time.instant","offsetdatetime"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":3,"creation_date":1682409444,"post_id":76098815,"comment_id":134206366,"body_markdown":"Your _date_ is not just a date, it also has time. It is also not a _local_ date/time, it has offset information. You probably intended to parse this text as `OffsetDateTime` or perhaps as `ZonedDateTime`, and then go to `Instant`.","body":"Your <i>date</i> is not just a date, it also has time. It is also not a <i>local</i> date/time, it has offset information. You probably intended to parse this text as <code>OffsetDateTime</code> or perhaps as <code>ZonedDateTime</code>, and then go to <code>Instant</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682410333,"post_id":76098815,"comment_id":134206580,"body_markdown":"`BASIC_ISO_DATE` will accept `20191130-0600`. As you can see, this is not the format of your string. Also `LocalDate` hasn’t got a `toInstant` method (last time I checked).","body":"<code>BASIC_ISO_DATE</code> will accept <code>20191130-0600</code>. As you can see, this is not the format of your string. Also <code>LocalDate</code> hasn’t got a <code>toInstant</code> method (last time I checked)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1682410436,"post_id":76098815,"comment_id":134206608,"body_markdown":"In newer Java versions `Instant.parse()` directly accepts your string. `Instant.parse(date).toString()` yields `2019-11-30T06:01:00Z`.","body":"In newer Java versions <code>Instant.parse()</code> directly accepts your string. <code>Instant.parse(date).toString()</code> yields <code>2019-11-30T06:01:00Z</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1682410504,"post_id":76098815,"comment_id":134206622,"body_markdown":"@Zabuzard Very nice edit! Thanks. user_che_ban, may this serve as inspiration for your next Stack Overflow questions?","body":"@Zabuzard Very nice edit! Thanks. user_che_ban, may this serve as inspiration for your next Stack Overflow questions?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1682411055,"post_id":76098815,"comment_id":134206745,"body_markdown":"Do you know for sure that you need the `.000` fraction of second when it is zero? You are asking for [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format, and in ISO 8601 the fraction is optional when it is zero. So the receiver of your string probably doesn’t care. Asking because the classes of java.time (`Instant` and also `OffsetDateTime`) print ISO 8601 from their `toString` methods but include the fraction of second only if it is non-zero.","body":"Do you know for sure that you need the <code>.000</code> fraction of second when it is zero? You are asking for <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format, and in ISO 8601 the fraction is optional when it is zero. So the receiver of your string probably doesn’t care. Asking because the classes of java.time (<code>Instant</code> and also <code>OffsetDateTime</code>) print ISO 8601 from their <code>toString</code> methods but include the fraction of second only if it is non-zero."},{"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"score":0,"creation_date":1682411153,"post_id":76098815,"comment_id":134206773,"body_markdown":"in the existing application they are setting the value like that , with `.000` , I am also following the same.","body":"in the existing application they are setting the value like that , with <code>.000</code> , I am also following the same."}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1682410496,"creation_date":1682410181,"answer_id":76098938,"question_id":76098815,"body_markdown":"tl;dr\r\n----\r\n\r\n```java\r\nString text = &quot;2019-11-30T00:01:00.000-06:00&quot;;\r\nOffsetDateTime offsetDateTime = OffsetDateTime.parse(text);\r\nInstant instant = offsetDateTime.toInstant();\r\n\r\nSystem.out.println(instant); // 2019-11-30T06:01:00Z\r\n\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;)\r\n  .withZone(ZoneOffset.UTC);\r\nSystem.out.println(formatter.format(instant)); // 2019-11-30T06:01:00.000Z\r\n```\r\n\r\n## Explanation ##\r\n\r\nYour _date_ is not just a date, it also has time. So `LocalDate` would not work. If at all, then `LocalDateTime`.\r\n\r\nBut, it is also not a **local** date/time, it has offset information. You need to use `OffsetDateTime` instead, and then go to `Instant` from there.\r\n\r\nTo actually get the desired output for your `Instant`, you also have to create a proper `DateTimeFormatter`, since the default representation does not include the millis.","title":"Convert timestamp with offset to UTC","body":"<h2>tl;dr</h2>\n<pre class=\"lang-java prettyprint-override\"><code>String text = &quot;2019-11-30T00:01:00.000-06:00&quot;;\nOffsetDateTime offsetDateTime = OffsetDateTime.parse(text);\nInstant instant = offsetDateTime.toInstant();\n\nSystem.out.println(instant); // 2019-11-30T06:01:00Z\n\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;)\n  .withZone(ZoneOffset.UTC);\nSystem.out.println(formatter.format(instant)); // 2019-11-30T06:01:00.000Z\n</code></pre>\n<h2>Explanation</h2>\n<p>Your <em>date</em> is not just a date, it also has time. So <code>LocalDate</code> would not work. If at all, then <code>LocalDateTime</code>.</p>\n<p>But, it is also not a <strong>local</strong> date/time, it has offset information. You need to use <code>OffsetDateTime</code> instead, and then go to <code>Instant</code> from there.</p>\n<p>To actually get the desired output for your <code>Instant</code>, you also have to create a proper <code>DateTimeFormatter</code>, since the default representation does not include the millis.</p>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682410626,"creation_date":1682410306,"answer_id":76098957,"question_id":76098815,"body_markdown":"Slightly different approach to what Zabuzard posted due to not using an `Instant` explicitly…\r\n\r\nYou will need to \r\n- parse the `String`,\r\n- adjust the offset from `-06:00` to UTC and then\r\n-  get the desired `String` representation by means of a `DateTimeFormatter`\r\n\r\nSo… **tl;dr**:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// example input\r\n\tString someDateTime = &quot;2019-11-30T00:01:00.000-06:00&quot;;\r\n\t// parse directly\r\n\tOffsetDateTime odt = OffsetDateTime.parse(someDateTime);\r\n\t// define a DateTimeFormatter for the desired output\r\n\tDateTimeFormatter dtf = DateTimeFormatter\r\n\t\t\t\t\t\t\t\t.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n\t// print the parsing result using the DateTimeFormatter\r\n\tSystem.out.println(&quot;Origin: &quot; \r\n\t\t\t+ odt.format(dtf));\r\n\t// adjust the offset from -06:00 to UTC\r\n\tOffsetDateTime utcOdt = odt.withOffsetSameInstant(ZoneOffset.UTC);\r\n\t// print the result —&#160;again using the DateTimeFormatter\r\n\tSystem.out.println(&quot;UTC:    &quot; \r\n\t\t\t+ utcOdt.format(dtf));\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nOrigin: 2019-11-30T00:01:00.000-06:00\r\nUTC:    2019-11-30T06:01:00.000Z\r\n```","title":"Convert timestamp with offset to UTC","body":"<p>Slightly different approach to what Zabuzard posted due to not using an <code>Instant</code> explicitly…</p>\n<p>You will need to</p>\n<ul>\n<li>parse the <code>String</code>,</li>\n<li>adjust the offset from <code>-06:00</code> to UTC and then</li>\n<li>get the desired <code>String</code> representation by means of a <code>DateTimeFormatter</code></li>\n</ul>\n<p>So… <strong>tl;dr</strong>:</p>\n<pre><code>public static void main(String[] args) {\n    // example input\n    String someDateTime = &quot;2019-11-30T00:01:00.000-06:00&quot;;\n    // parse directly\n    OffsetDateTime odt = OffsetDateTime.parse(someDateTime);\n    // define a DateTimeFormatter for the desired output\n    DateTimeFormatter dtf = DateTimeFormatter\n                                .ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSXXX&quot;);\n    // print the parsing result using the DateTimeFormatter\n    System.out.println(&quot;Origin: &quot; \n            + odt.format(dtf));\n    // adjust the offset from -06:00 to UTC\n    OffsetDateTime utcOdt = odt.withOffsetSameInstant(ZoneOffset.UTC);\n    // print the result — again using the DateTimeFormatter\n    System.out.println(&quot;UTC:    &quot; \n            + utcOdt.format(dtf));\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Origin: 2019-11-30T00:01:00.000-06:00\nUTC:    2019-11-30T06:01:00.000Z\n</code></pre>\n"}],"owner":{"account_id":3878329,"reputation":605,"user_id":3211648,"accept_rate":76,"display_name":"F0cus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76098938,"answer_count":2,"score":4,"last_activity_date":1682612540,"creation_date":1682409257,"question_id":76098815,"body_markdown":"## Conversion ##\r\n\r\nI have a timestamp with an offset (`-6`) in the following format:\r\n\r\n```java\r\n2019-11-30T00:01:00.000-06:00\r\n```\r\n\r\nand I want to convert it to an UTC timestamp, like:\r\n\r\n```java\r\n2019-11-30T06:01:00.000Z\r\n```\r\n\r\n## Attempt ##\r\n\r\nI tried it the following way:\r\n\r\n```Java\r\nString text = &quot;2019-11-30T00:01:00.000-06:00&quot;;\r\n\r\nLocalDate date = LocalDate.parse(text, DateTimeFormatter.BASIC_ISO_DATE);\r\n\r\nSystem.out.println(date.toInstant());\r\n```\r\n\r\nbut it is not compiling:\r\n\r\n&gt; The method `toInstant()` is undefined for the type `LocalDate`\r\n\r\nHow am I supposed to do this correctly?","title":"Convert timestamp with offset to UTC","body":"<h2>Conversion</h2>\n<p>I have a timestamp with an offset (<code>-6</code>) in the following format:</p>\n<pre class=\"lang-java prettyprint-override\"><code>2019-11-30T00:01:00.000-06:00\n</code></pre>\n<p>and I want to convert it to an UTC timestamp, like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>2019-11-30T06:01:00.000Z\n</code></pre>\n<h2>Attempt</h2>\n<p>I tried it the following way:</p>\n<pre><code>String text = &quot;2019-11-30T00:01:00.000-06:00&quot;;\n\nLocalDate date = LocalDate.parse(text, DateTimeFormatter.BASIC_ISO_DATE);\n\nSystem.out.println(date.toInstant());\n</code></pre>\n<p>but it is not compiling:</p>\n<blockquote>\n<p>The method <code>toInstant()</code> is undefined for the type <code>LocalDate</code></p>\n</blockquote>\n<p>How am I supposed to do this correctly?</p>\n"},{"tags":["java","android","kotlin","user-interface"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682614962,"post_id":76122647,"comment_id":134247523,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25519965,"reputation":1,"user_id":19310067,"display_name":"Ruslan Lyaschenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682612399,"creation_date":1682612399,"question_id":76122647,"body_markdown":"I have a question about how I can correctly implement the adaptation of my interface for multiple user states (Registered and unregistered). I want my bottomNavigationView to open fragments relative to user states, but I don&#39;t know how to do it properly. Do I just need to save the state in sharedPreferences, and just check this state when the application starts, and relative to this already create the bottomNavigationView I need?\r\n\r\nAs I said earlier, the only idea to implement this is to compare the value from sharedPreferences.","title":"BottomNavigationView implementation for multiple users","body":"<p>I have a question about how I can correctly implement the adaptation of my interface for multiple user states (Registered and unregistered). I want my bottomNavigationView to open fragments relative to user states, but I don't know how to do it properly. Do I just need to save the state in sharedPreferences, and just check this state when the application starts, and relative to this already create the bottomNavigationView I need?</p>\n<p>As I said earlier, the only idea to implement this is to compare the value from sharedPreferences.</p>\n"},{"tags":["java","maven","windows-10","wsl-2"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1627146157,"post_id":68512070,"comment_id":121081061,"body_markdown":"Just a vague idea, but do you by any chance have `&lt;fork&gt;true&lt;/fork&gt;` in your pom? If so, try making that `false` and see what happens","body":"Just a vague idea, but do you by any chance have <code>&lt;fork&gt;true&lt;&#47;fork&gt;</code> in your pom? If so, try making that <code>false</code> and see what happens"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1627146299,"post_id":68512070,"comment_id":121081099,"body_markdown":"There is no pom, no project. I was just trying to see that Maven would run correctly inside WSL2.","body":"There is no pom, no project. I was just trying to see that Maven would run correctly inside WSL2."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1627146424,"post_id":68512070,"comment_id":121081132,"body_markdown":"That&#39;s that theory out of the window then ;) Are you sure if&#39;s the *same* Maven you&#39;re running in each OS?","body":"That&#39;s that theory out of the window then ;) Are you sure if&#39;s the <i>same</i> Maven you&#39;re running in each OS?"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1627146496,"post_id":68512070,"comment_id":121081150,"body_markdown":"You probably can&#39;t run maven under WSL (in bash) with a Windows JDK. You could try a Linux JDK instead.","body":"You probably can&#39;t run maven under WSL (in bash) with a Windows JDK. You could try a Linux JDK instead."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1627146909,"post_id":68512070,"comment_id":121081250,"body_markdown":"&gt;Maven home: C:\\Maven\\bin\\..&lt; seems a little strange. What happens when you do this? `export MAVEN_HOME=/mnt/c/Maven;mvn -v`","body":"&gt;Maven home: C:\\Maven\\bin\\..&lt; seems a little strange. What happens when you do this? <code>export MAVEN_HOME=&#47;mnt&#47;c&#47;Maven;mvn -v</code>"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1627147015,"post_id":68512070,"comment_id":121081273,"body_markdown":"@g00se Still the same error.","body":"@g00se Still the same error."},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1627147057,"post_id":68512070,"comment_id":121081280,"body_markdown":"@JornVernee if we&#39;re supposed to run the Windows JDK in WSL2, shouldn&#39;t we be running the Windows Maven as well?","body":"@JornVernee if we&#39;re supposed to run the Windows JDK in WSL2, shouldn&#39;t we be running the Windows Maven as well?"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1627147166,"post_id":68512070,"comment_id":121081304,"body_markdown":"If you want to force running maven with the Windows JDK, you can&#39;t invoke `mvn` from `bash`. But you can run from `cmd` with e.g.: `$ cmd.exe /C &quot;mvn --version&quot;`","body":"If you want to force running maven with the Windows JDK, you can&#39;t invoke <code>mvn</code> from <code>bash</code>. But you can run from <code>cmd</code> with e.g.: <code>$ cmd.exe &#47;C &quot;mvn --version&quot;</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1627147665,"post_id":68512070,"comment_id":121081411,"body_markdown":"Maybe try exporting both variables before invoking `mvn` then?","body":"Maybe try exporting both variables before invoking <code>mvn</code> then?"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":2,"creation_date":1627147851,"post_id":68512070,"comment_id":121081453,"body_markdown":"I am trying to use Quarkus, which involves using Docker, which involves running code from inside the WSL2 filesystem. Shouldn&#39;t I be running Maven from inside WSL2 as well?","body":"I am trying to use Quarkus, which involves using Docker, which involves running code from inside the WSL2 filesystem. Shouldn&#39;t I be running Maven from inside WSL2 as well?"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1627148752,"post_id":68512070,"comment_id":121081672,"body_markdown":"@g00se I tried setting 1st `MAVEN_HOME` &amp; then `M2_HOME`, but neither worked. The values were visible in `wsl`, but Maven still wouldn&#39;t work.","body":"@g00se I tried setting 1st <code>MAVEN_HOME</code> &amp; then <code>M2_HOME</code>, but neither worked. The values were visible in <code>wsl</code>, but Maven still wouldn&#39;t work."},{"owner":{"account_id":17300877,"reputation":388,"user_id":12530613,"display_name":"Auktis"},"score":0,"creation_date":1627203311,"post_id":68512070,"comment_id":121089643,"body_markdown":"Em… Are you sure you installed a JDK and not a JRE? What does `javac -version` tells?","body":"Em… Are you sure you installed a JDK and not a JRE? What does <code>javac -version</code> tells?"},{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":0,"creation_date":1627236742,"post_id":68512070,"comment_id":121097051,"body_markdown":"@Auktis Yes, it&#39;s definitely JDK. `java -version` says `javac 11.0.10`.","body":"@Auktis Yes, it&#39;s definitely JDK. <code>java -version</code> says <code>javac 11.0.10</code>."},{"owner":{"account_id":17300877,"reputation":388,"user_id":12530613,"display_name":"Auktis"},"score":0,"creation_date":1627238889,"post_id":68512070,"comment_id":121097536,"body_markdown":"@markvgti Maybe the best is to install Maven and Java on Ubuntu. That should work like a charm.","body":"@markvgti Maybe the best is to install Maven and Java on Ubuntu. That should work like a charm."}],"answers":[{"tags":[],"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627303720,"creation_date":1627303720,"answer_id":68530160,"question_id":68512070,"body_markdown":"I gave up and simply installed JDK 11 &amp; Maven 3.8.1 inside WSL2 using SDKMAN.\r\n\r\nNot an ideal solution, but didn&#39;t feel like spending more time on this issue.","title":"Maven on WSL2 can&#39;t see JAVA_HOME","body":"<p>I gave up and simply installed JDK 11 &amp; Maven 3.8.1 inside WSL2 using SDKMAN.</p>\n<p>Not an ideal solution, but didn't feel like spending more time on this issue.</p>\n"},{"tags":[],"owner":{"account_id":16352934,"reputation":16767,"user_id":11810933,"display_name":"NotTheDr01ds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627312499,"creation_date":1627312499,"answer_id":68532389,"question_id":68512070,"body_markdown":"I don&#39;t disagree with your solution to use the Linux versions of Java and Maven inside WSL, but I do think I see why your example in the original question was failing.\r\n\r\nThe problem appears to be that you are using the Windows versions of Java/Maven, BUT your JAVA_HOME from inside WSL is using the &quot;Linux form&quot; of the path (`/mnt/c/AdoptOpenJDK/jdk-11-hotspot`).\r\n\r\nMaven is complaining, because since it is running under Windows, it doesn&#39;t understand that path.  It needs to see `C:\\AdoptOpenJDK\\jdk-11-hotspot`.\r\n\r\nI believe this is because the answer you linked to said to use `setx WSLENV &quot;JAVA_HOME/p&quot;`.  The `/p` is forcing the translation from the Windows path to the WSL/Linux mapping, which you *don&#39;t* want in this case.\r\n\r\nAlso, be sure to restart the Terminal from which you launch WSL so that it can pick up the new environment variables.","title":"Maven on WSL2 can&#39;t see JAVA_HOME","body":"<p>I don't disagree with your solution to use the Linux versions of Java and Maven inside WSL, but I do think I see why your example in the original question was failing.</p>\n<p>The problem appears to be that you are using the Windows versions of Java/Maven, BUT your JAVA_HOME from inside WSL is using the &quot;Linux form&quot; of the path (<code>/mnt/c/AdoptOpenJDK/jdk-11-hotspot</code>).</p>\n<p>Maven is complaining, because since it is running under Windows, it doesn't understand that path.  It needs to see <code>C:\\AdoptOpenJDK\\jdk-11-hotspot</code>.</p>\n<p>I believe this is because the answer you linked to said to use <code>setx WSLENV &quot;JAVA_HOME/p&quot;</code>.  The <code>/p</code> is forcing the translation from the Windows path to the WSL/Linux mapping, which you <em>don't</em> want in this case.</p>\n<p>Also, be sure to restart the Terminal from which you launch WSL so that it can pick up the new environment variables.</p>\n"}],"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5128,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1682611837,"creation_date":1627145629,"question_id":68512070,"body_markdown":"I have JDK 11 and Maven 3.8.1 installed on my Windows 10 machine. Took care that install paths don&#39;t have spaces.\r\n\r\nMade the value of `JAVA_HOME` visible inside the Ubuntu shell following the advice [here][1]. Then I restarted the Ubuntu shell.\r\n\r\nHere are the outputs from inside an Ubuntu shell on Windows Terminal:\r\n\r\n    user@computer:/path$ java -version\r\n    openjdk version &quot;11.0.10&quot; 2021-01-19\r\n    OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.10+9)\r\n    OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.10+9, mixed mode)\r\n\r\n    user@computer:/path$ env | grep JAVA\r\n    JAVA_HOME=/mnt/c/AdoptOpenJDK/jdk-11-hotspot\r\n\r\n    user@computer:/path$ mvn -v\r\n    The JAVA_HOME environment variable is not defined correctly\r\n    This environment variable is needed to run this program\r\n    NB: JAVA_HOME should point to a JDK not a JRE\r\n\r\nSo although the value of `JAVA_HOME` is visible inside the Ubuntu shell, somehow `mvn` can&#39;t see it. How do I fix this?\r\n\r\nMaven run from `cmd` gives this output:\r\n\r\n    C:\\path&gt;mvn -v\r\n    Apache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\n    Maven home: C:\\Maven\\bin\\..\r\n    Java version: 11.0.10, vendor: AdoptOpenJDK, runtime: C:\\AdoptOpenJDK\\jdk-11-hotspot\r\n    Default locale: en_IN, platform encoding: Cp1252\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nVersions:\r\n\r\n  * Windows 10 version 2004 (OS Build 19041.1110)\r\n  * Java 11.0.10\r\n  * Maven 3.8.1\r\n  * WSL2\r\n  * Ubuntu 20.04.2 LTS (via WSL2)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53574705/91933","title":"Maven on WSL2 can&#39;t see JAVA_HOME","body":"<p>I have JDK 11 and Maven 3.8.1 installed on my Windows 10 machine. Took care that install paths don't have spaces.</p>\n<p>Made the value of <code>JAVA_HOME</code> visible inside the Ubuntu shell following the advice <a href=\"https://stackoverflow.com/a/53574705/91933\">here</a>. Then I restarted the Ubuntu shell.</p>\n<p>Here are the outputs from inside an Ubuntu shell on Windows Terminal:</p>\n<pre><code>user@computer:/path$ java -version\nopenjdk version &quot;11.0.10&quot; 2021-01-19\nOpenJDK Runtime Environment AdoptOpenJDK (build 11.0.10+9)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.10+9, mixed mode)\n\nuser@computer:/path$ env | grep JAVA\nJAVA_HOME=/mnt/c/AdoptOpenJDK/jdk-11-hotspot\n\nuser@computer:/path$ mvn -v\nThe JAVA_HOME environment variable is not defined correctly\nThis environment variable is needed to run this program\nNB: JAVA_HOME should point to a JDK not a JRE\n</code></pre>\n<p>So although the value of <code>JAVA_HOME</code> is visible inside the Ubuntu shell, somehow <code>mvn</code> can't see it. How do I fix this?</p>\n<p>Maven run from <code>cmd</code> gives this output:</p>\n<pre><code>C:\\path&gt;mvn -v\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\nMaven home: C:\\Maven\\bin\\..\nJava version: 11.0.10, vendor: AdoptOpenJDK, runtime: C:\\AdoptOpenJDK\\jdk-11-hotspot\nDefault locale: en_IN, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>Versions:</p>\n<ul>\n<li>Windows 10 version 2004 (OS Build 19041.1110)</li>\n<li>Java 11.0.10</li>\n<li>Maven 3.8.1</li>\n<li>WSL2</li>\n<li>Ubuntu 20.04.2 LTS (via WSL2)</li>\n</ul>\n"},{"tags":["java","file","path"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682611818,"creation_date":1682611818,"answer_id":76122553,"question_id":76122494,"body_markdown":"The execution directory when the application is running maybe a completely different directory from the source path. Don&#39;t assume it is in the source path. Always pass the absolute directory to open the file. Unless it is a resource inside the application then you could use [ClassLoader.getResource()][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getResource-java.lang.String-","title":"Generic path issue","body":"<p>The execution directory when the application is running maybe a completely different directory from the source path. Don't assume it is in the source path. Always pass the absolute directory to open the file. Unless it is a resource inside the application then you could use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getResource-java.lang.String-\" rel=\"nofollow noreferrer\">ClassLoader.getResource()</a>.</p>\n"}],"owner":{"account_id":27362887,"reputation":13,"user_id":20870221,"display_name":"Ahmed Haitham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682611818,"creation_date":1682611500,"question_id":76122494,"body_markdown":"[Assume this is my file hierarchy][1]\r\n\r\n[1]: https://i.stack.imgur.com/JSjX4.png\r\n\r\n\r\n     public static ArrayList&lt;String[]&gt; loopCSV() throws DBAppException {\r\n        try {\r\n            String line;\r\n            BufferedReader br = new BufferedReader(new FileReader(&quot;Metadata/Metadata.csv&quot;));\r\n            ArrayList&lt;String[]&gt; TablesName = new ArrayList&lt;&gt;();\r\n            while ((line = br.readLine()) != null) {\r\n                // use comma as separator\r\n                String[] r = line.split(&quot;,&quot;);\r\n                TablesName.add(r);\r\n            }\r\n            return TablesName;\r\n        } catch (Exception e) {\r\n            throw new DBAppException(&quot;can not read the csv file&quot;);\r\n        }\r\n    }\r\n\r\nthe above method Loop on a csv file within my project solution and do whatever it it does.\r\nI get exception regarding the file path  , however when I add the absolute path from my computer it runs normally\r\nI want the path to be as generic as possible, so it runs everywhere.\r\n     \r\n    java.io.FileNotFoundException: Metadata\\Metadata.csv (The system cannot find the path specified)\r\nThanks in advance,\r\n","title":"Generic path issue","body":"<p><a href=\"https://i.stack.imgur.com/JSjX4.png\" rel=\"nofollow noreferrer\">Assume this is my file hierarchy</a></p>\n<pre><code> public static ArrayList&lt;String[]&gt; loopCSV() throws DBAppException {\n    try {\n        String line;\n        BufferedReader br = new BufferedReader(new FileReader(&quot;Metadata/Metadata.csv&quot;));\n        ArrayList&lt;String[]&gt; TablesName = new ArrayList&lt;&gt;();\n        while ((line = br.readLine()) != null) {\n            // use comma as separator\n            String[] r = line.split(&quot;,&quot;);\n            TablesName.add(r);\n        }\n        return TablesName;\n    } catch (Exception e) {\n        throw new DBAppException(&quot;can not read the csv file&quot;);\n    }\n}\n</code></pre>\n<p>the above method Loop on a csv file within my project solution and do whatever it it does.\nI get exception regarding the file path  , however when I add the absolute path from my computer it runs normally\nI want the path to be as generic as possible, so it runs everywhere.</p>\n<pre><code>java.io.FileNotFoundException: Metadata\\Metadata.csv (The system cannot find the path specified)\n</code></pre>\n<p>Thanks in advance,</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1682615916,"post_id":76122513,"comment_id":134247754,"body_markdown":"Didn&#39;t find anything about this on releases notes so looks like a good bug candidate,","body":"Didn&#39;t find anything about this on releases notes so looks like a good bug candidate,"},{"owner":{"account_id":9417072,"reputation":51,"user_id":7004503,"display_name":"john"},"score":0,"creation_date":1682626820,"post_id":76122513,"comment_id":134249904,"body_markdown":"Thank you for the response. I will look into submitting an Eclipse bug report. Not too hopeful since I already did this about 3 weeks ago and have not heard a word from them. The process is not intuitive (to me) but I will try again.","body":"Thank you for the response. I will look into submitting an Eclipse bug report. Not too hopeful since I already did this about 3 weeks ago and have not heard a word from them. The process is not intuitive (to me) but I will try again."},{"owner":{"account_id":9417072,"reputation":51,"user_id":7004503,"display_name":"john"},"score":0,"creation_date":1682628220,"post_id":76122513,"comment_id":134250132,"body_markdown":"Bug reported to Eclipse. Original bug reported is 581788, submitted April 6, 2023. New bug is 581782.","body":"Bug reported to Eclipse. Original bug reported is 581788, submitted April 6, 2023. New bug is 581782."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1682663967,"post_id":76122513,"comment_id":134254077,"body_markdown":"Eclipse JDT problems should be reported here - https://github.com/eclipse-jdt/eclipse.jdt.ui/issues","body":"Eclipse JDT problems should be reported here - <a href=\"https://github.com/eclipse-jdt/eclipse.jdt.ui/issues\" rel=\"nofollow noreferrer\">github.com/eclipse-jdt/eclipse.jdt.ui/issues</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1682667089,"post_id":76122513,"comment_id":134254716,"body_markdown":"Simple hit Ctrl+Shift+O (_Organize Imports_). I agree that a quick fix (Ctrl+1) for that would also be nice. Could you provide a pull request for that?","body":"Simple hit Ctrl+Shift+O (<i>Organize Imports</i>). I agree that a quick fix (Ctrl+1) for that would also be nice. Could you provide a pull request for that?"},{"owner":{"account_id":9417072,"reputation":51,"user_id":7004503,"display_name":"john"},"score":0,"creation_date":1682702539,"post_id":76122513,"comment_id":134262617,"body_markdown":"Oops. New bug report is 581872, not 581782. You can see it at https://bugs.eclipse.org/bugs/show_bug.cgi?id=581872","body":"Oops. New bug report is 581872, not 581782. You can see it at <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=581872\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=581872</a>"}],"owner":{"account_id":9417072,"reputation":51,"user_id":7004503,"display_name":"john"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682611598,"creation_date":1682611598,"question_id":76122513,"body_markdown":"Environment:\r\n1. Linux Fedora 37 and MacOS on 2023 MacBook Pro M2.\r\n2. Oracle Java 17 (17.0.7 on Fedora, 17.0.6 on Mac).\r\n3. Eclipse 2023-03 on both Fedora and Mac.\r\n\r\nRecently moved from Eclipse 2022-09 to 2023-03. After doing so, noticed that &quot;code assist&quot; had problems on both Fedora and Mac. What follows is a simple example that illustrates the problem. Start with a brand new empty workspace. Add a new project; uncheck the &quot;Create module-info.java file&quot; box. Add the following code to the default package. Text continues following code.\r\n```\r\npublic class HelloWorld {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Hello world!&quot;);\r\n//\t\tSet s1 =\r\n//\t\tSet s2 = new HashSet();\r\n//\t\tHashSet hs1 =\r\n//\t\tHashSet hs2 = new HashSet();\r\n\t}\r\n}\r\n```\r\nClassic &quot;hello world&quot; program. Note the 4 commented lines.\r\n 1. Uncomment the first one. Red squiggly line appears under &quot;Set&quot;.\r\n 2. Hover your mouse on Set. Note the dropdown hints. States that &quot;Set cannot be resolved to a type&quot;. Provides 12 quick fixes, the top one being &quot;Import &#39;Set&#39; (java.util)&quot;. This is the correct fix. DO NOT CHOOSE IT. Instead, re-comment the line. If you did choose the fix, then also delete the added include line.\r\n 3.  Uncomment the second commented line. Red squiggly lines appear under &quot;Set&quot; and &quot;HashSet&quot;. Hover on Set. Note the dropdown hints. States that &quot;Set cannot be resolved to a type&quot;. Provides 6 quick fixes. The correct fix -- &quot;Import &#39;Set&#39; (java.util)&quot; -- is not there!!!??? Same thing when hovering on HashSet. Re-comment the line.\r\n4. Uncomment the third commented line. Similar behavior as in 2. In particular, the correct fix is at the top -- &quot;Import &#39;HashSet&#39; (java.util)&quot;. Re-comment the line.\r\n5. Uncomment the fourth commented line. Similar behavior as in 3. Red squiggly lines on the two HashSet occurrences. Hovering on either does not show the correct fix. Re-comment the line.\r\n\r\nI still have Eclipse 2022-09 so I decided to do the same tests there. Created a new workspace, new project without the module-info.java button checked, and created the same source. This time all steps work correctly. In particular, step 3 shows the correct fixes for Set and HashSet and step 5 shows the correct fixes for both occurrences of HashSet.\r\n\r\nAfter doing the Eclipse 2022-09 test, I repeated the Eclipse 2023-03 test using the 2022-09 workspace. Same problem as described above occurred.\r\n\r\nSummary. The correct code assist hints seem to be available in Eclipse 2023-03 (see 2 and 4), but not displayed in all cases (see 3 and 5). Occurs on both Fedora and Mac. Problem does not occur for Eclipse 2022-09.\r\n\r\nSince this issue seems too easy to reproduce, I assume that I must be doing something wrong. Any ideas what that might be?","title":"Eclipse 2023-03 does not provide accurate code assist hints for lines like &quot;Set set = hew HashSet();&quot;","body":"<p>Environment:</p>\n<ol>\n<li>Linux Fedora 37 and MacOS on 2023 MacBook Pro M2.</li>\n<li>Oracle Java 17 (17.0.7 on Fedora, 17.0.6 on Mac).</li>\n<li>Eclipse 2023-03 on both Fedora and Mac.</li>\n</ol>\n<p>Recently moved from Eclipse 2022-09 to 2023-03. After doing so, noticed that &quot;code assist&quot; had problems on both Fedora and Mac. What follows is a simple example that illustrates the problem. Start with a brand new empty workspace. Add a new project; uncheck the &quot;Create module-info.java file&quot; box. Add the following code to the default package. Text continues following code.</p>\n<pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n//      Set s1 =\n//      Set s2 = new HashSet();\n//      HashSet hs1 =\n//      HashSet hs2 = new HashSet();\n    }\n}\n</code></pre>\n<p>Classic &quot;hello world&quot; program. Note the 4 commented lines.</p>\n<ol>\n<li>Uncomment the first one. Red squiggly line appears under &quot;Set&quot;.</li>\n<li>Hover your mouse on Set. Note the dropdown hints. States that &quot;Set cannot be resolved to a type&quot;. Provides 12 quick fixes, the top one being &quot;Import 'Set' (java.util)&quot;. This is the correct fix. DO NOT CHOOSE IT. Instead, re-comment the line. If you did choose the fix, then also delete the added include line.</li>\n<li>Uncomment the second commented line. Red squiggly lines appear under &quot;Set&quot; and &quot;HashSet&quot;. Hover on Set. Note the dropdown hints. States that &quot;Set cannot be resolved to a type&quot;. Provides 6 quick fixes. The correct fix -- &quot;Import 'Set' (java.util)&quot; -- is not there!!!??? Same thing when hovering on HashSet. Re-comment the line.</li>\n<li>Uncomment the third commented line. Similar behavior as in 2. In particular, the correct fix is at the top -- &quot;Import 'HashSet' (java.util)&quot;. Re-comment the line.</li>\n<li>Uncomment the fourth commented line. Similar behavior as in 3. Red squiggly lines on the two HashSet occurrences. Hovering on either does not show the correct fix. Re-comment the line.</li>\n</ol>\n<p>I still have Eclipse 2022-09 so I decided to do the same tests there. Created a new workspace, new project without the module-info.java button checked, and created the same source. This time all steps work correctly. In particular, step 3 shows the correct fixes for Set and HashSet and step 5 shows the correct fixes for both occurrences of HashSet.</p>\n<p>After doing the Eclipse 2022-09 test, I repeated the Eclipse 2023-03 test using the 2022-09 workspace. Same problem as described above occurred.</p>\n<p>Summary. The correct code assist hints seem to be available in Eclipse 2023-03 (see 2 and 4), but not displayed in all cases (see 3 and 5). Occurs on both Fedora and Mac. Problem does not occur for Eclipse 2022-09.</p>\n<p>Since this issue seems too easy to reproduce, I assume that I must be doing something wrong. Any ideas what that might be?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8662850,"reputation":380,"user_id":6484502,"display_name":"Huka"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682611464,"creation_date":1682584239,"answer_id":76118341,"question_id":75663455,"body_markdown":"You can downgrade H2 to the version `1.4.200`\r\n\r\nMy colleague suggest that we can change this condition from:\r\n\r\n`AND (COALESCE(:accountNames) IS NULL OR account.accountName IN :accountNames)`\r\n\r\nto:\r\n\r\n`AND (:#{null eq #accountNames} is true or account.accountName in :accountNames)`\r\n\r\nI&#39;ve tested with Oracle and H2 (Mode Oracle) with Spring Boot 2.7","title":"Exception thrown in jpa query with List parameter after Spring Boot 3 upgrade","body":"<p>You can downgrade H2 to the version <code>1.4.200</code></p>\n<p>My colleague suggest that we can change this condition from:</p>\n<p><code>AND (COALESCE(:accountNames) IS NULL OR account.accountName IN :accountNames)</code></p>\n<p>to:</p>\n<p><code>AND (:#{null eq #accountNames} is true or account.accountName in :accountNames)</code></p>\n<p>I've tested with Oracle and H2 (Mode Oracle) with Spring Boot 2.7</p>\n"}],"owner":{"account_id":27957432,"reputation":61,"user_id":21349983,"display_name":"JVDD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2615,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1682611464,"creation_date":1678200361,"question_id":75663455,"body_markdown":"I have an account entity: \r\n\r\n```\r\n@Entity\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Account {\r\n    @Id\r\n    @GeneratedValue\r\n    @JsonIgnore\r\n    private Long id;\r\n    private String accountName;\r\n    private String supplierName;\r\n    private String customerName;\r\n    private Double amount;\r\n```\r\n\r\nand an account repository with jpa query that should filter accounts by a list of account names or no filter when the list is null:\r\n```\r\n@RepositoryRestResource\r\npublic interface AccountRestResource extends PagingAndSortingRepository&lt;Account, Long&gt;, CrudRepository&lt;Account, Long&gt; {\r\n    @Query(&quot;SELECT DISTINCT account.customerName &quot; +\r\n            &quot;FROM Account account &quot; +\r\n            &quot;WHERE UPPER(account.customerName) LIKE CONCAT(&#39;%&#39;,UPPER(:filter),&#39;%&#39;) &quot; +\r\n            &quot;AND ((:accountNames) IS NULL OR account.accountName IN (:accountNames)) &quot; +\r\n            &quot;ORDER BY account.customerName&quot;)\r\n    Page&lt;String&gt; findDistinctCustomerNames(List&lt;String&gt; accountNames, String filter, Pageable page);\r\n}\r\n```\r\n\r\nAfter upgrading to the latest Spring Boot 3 upgrade this Query fails from time to time with (irregularly... I&#39;d say 1 in 5)\r\n&gt; org.springframework.orm.jpa.JpaSystemException: Unknown wrap conversion requested: java.util.ArrayList to java.lang.String : `org.hibernate.type.descriptor.java.StringJavaType` (java.lang.String)\r\n\r\nPom contains following dependencies: \r\n\r\n```\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.inject&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.inject-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Test--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nI don&#39;t have problems when the list is NULL but when I try the query with a single item in the list . Reverting to the Spring Boot 2.7.X resolves the issue.\r\n\r\nI have a repo with a test to reproduce the error: https://github.com/Jef-VDD/hibernate-demo","title":"Exception thrown in jpa query with List parameter after Spring Boot 3 upgrade","body":"<p>I have an account entity:</p>\n<pre><code>@Entity\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Account {\n    @Id\n    @GeneratedValue\n    @JsonIgnore\n    private Long id;\n    private String accountName;\n    private String supplierName;\n    private String customerName;\n    private Double amount;\n</code></pre>\n<p>and an account repository with jpa query that should filter accounts by a list of account names or no filter when the list is null:</p>\n<pre><code>@RepositoryRestResource\npublic interface AccountRestResource extends PagingAndSortingRepository&lt;Account, Long&gt;, CrudRepository&lt;Account, Long&gt; {\n    @Query(&quot;SELECT DISTINCT account.customerName &quot; +\n            &quot;FROM Account account &quot; +\n            &quot;WHERE UPPER(account.customerName) LIKE CONCAT('%',UPPER(:filter),'%') &quot; +\n            &quot;AND ((:accountNames) IS NULL OR account.accountName IN (:accountNames)) &quot; +\n            &quot;ORDER BY account.customerName&quot;)\n    Page&lt;String&gt; findDistinctCustomerNames(List&lt;String&gt; accountNames, String filter, Pageable page);\n}\n</code></pre>\n<p>After upgrading to the latest Spring Boot 3 upgrade this Query fails from time to time with (irregularly... I'd say 1 in 5)</p>\n<blockquote>\n<p>org.springframework.orm.jpa.JpaSystemException: Unknown wrap conversion requested: java.util.ArrayList to java.lang.String : <code>org.hibernate.type.descriptor.java.StringJavaType</code> (java.lang.String)</p>\n</blockquote>\n<p>Pom contains following dependencies:</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.inject-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Test--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I don't have problems when the list is NULL but when I try the query with a single item in the list . Reverting to the Spring Boot 2.7.X resolves the issue.</p>\n<p>I have a repo with a test to reproduce the error: <a href=\"https://github.com/Jef-VDD/hibernate-demo\" rel=\"noreferrer\">https://github.com/Jef-VDD/hibernate-demo</a></p>\n"},{"tags":["java","extjs","sencha-cmd"],"comments":[{"owner":{"account_id":2032995,"reputation":2596,"user_id":1816139,"display_name":"hwsw"},"score":0,"creation_date":1599577035,"post_id":63793641,"comment_id":112812881,"body_markdown":"Nope, but I would suggest to give it with java8 a try. Or use latest Cmd version, but I am not sure if Ext5 is still supported. Details here: https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j","body":"Nope, but I would suggest to give it with java8 a try. Or use latest Cmd version, but I am not sure if Ext5 is still supported. Details here: <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j\" title=\"how to resolve java lang noclassdeffounderror javax xml bind jaxbexception in j\">stackoverflow.com/questions/43574426/&hellip;</a>"},{"owner":{"account_id":12273987,"reputation":101,"user_id":8958428,"display_name":"Radosław Sakowicz"},"score":0,"creation_date":1599639711,"post_id":63793641,"comment_id":112832051,"body_markdown":"Resolved. I just use sencha cmd 7...","body":"Resolved. I just use sencha cmd 7..."}],"owner":{"account_id":12273987,"reputation":101,"user_id":8958428,"display_name":"Radosław Sakowicz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682610806,"creation_date":1599567043,"question_id":63793641,"body_markdown":"I need to use Sencha Cmd 5 (v5.1.3.61). I am getting an error after `sencha app watch`:\r\n\r\n```\r\nSencha Cmd v5.1.3.61\r\n[WRN] the following remote package repository directories did not initialize properly :\r\n[WRN]    - /home/radoslaw/bin/Sencha/Cmd/5.1.3.61/../repo/pkgs\r\n[WRN]    - /home/radoslaw/bin/Sencha/Cmd/5.1.3.61/../repo/.sencha\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\r\n        at com.sencha.util.StringUtil.toBase64(StringUtil.java:202)\r\n        at com.sencha.tools.generator.DataStoreImpl.get(DataStoreImpl.java:103)\r\n        at com.sencha.tools.generator.Generator$1.doMerge(Generator.java:461)\r\n        at com.sencha.tools.generator.Generator$Mode$3.dispatch(Generator.java:266)\r\n        at com.sencha.tools.generator.Generator.generateFileToFile(Generator.java:446)\r\n        at com.sencha.tools.generator.Generator.generateFileToDir(Generator.java:438)\r\n        at com.sencha.tools.generator.Generator.generateDirToDir(Generator.java:431)\r\n        at com.sencha.tools.generator.Generator.generateDirToDir(Generator.java:426)\r\n        at com.sencha.tools.generator.Generator.generate(Generator.java:145)\r\n        at com.sencha.tools.pkg.LocalRepository.init(LocalRepository.java:131)\r\n        at com.sencha.tools.pkg.LocalRepository.init(LocalRepository.java:185)\r\n        at com.sencha.command.environment.WorkspaceRepository.getLocalRepository(WorkspaceRepository.java:273)\r\n        at com.sencha.command.environment.WorkspaceRepository.getLocalRepository(WorkspaceRepository.java:286)\r\n        at com.sencha.command.environment.FrameworkEnvironment.loadFrameworkPackage(FrameworkEnvironment.java:207)\r\n        at com.sencha.command.environment.AppOrPackageEnvironment.loadFrameworkConfig(AppOrPackageEnvironment.java:52)\r\n        at com.sencha.command.environment.AppEnvironment.&lt;init&gt;(AppEnvironment.java:50)\r\n        at com.sencha.command.environment.BuildEnvironment.load(BuildEnvironment.java:100)\r\n        at com.sencha.command.environment.BuildEnvironment.load(BuildEnvironment.java:124)\r\n        at com.sencha.command.environment.BuildEnvironment.load(BuildEnvironment.java:70)\r\n        at com.sencha.command.Sencha.loadBuildEnvironment(Sencha.java:426)\r\n        at com.sencha.command.Sencha.main(Sencha.java:128)\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n        ... 21 more\r\n```\r\n\r\nOperating System: Linux Mint 20 Cinnamon\r\n\r\nLinux Karnel: 5.4.0-26-generic\r\n\r\nJava version:\r\n\r\n```\r\nopenjdk version &quot;11.0.7&quot; 2020-04-14\r\nOpenJDK Runtime Environment (build 11.0.7+10-post-Ubuntu-3ubuntu1)\r\nOpenJDK 64-Bit Server VM (build 11.0.7+10-post-Ubuntu-3ubuntu1, mixed mode, sharing)\r\n```\r\n\r\nI understand that boils down to the Java version. \r\nThe solutions I found did not come down to the same problem.\r\nHas anyone encountered such a problem? What will be the simplest solution?\r\n","title":"Sencha Cmd 5 - java.lang.NoClassDefFoundError","body":"<p>I need to use Sencha Cmd 5 (v5.1.3.61). I am getting an error after <code>sencha app watch</code>:</p>\n<pre><code>Sencha Cmd v5.1.3.61\n[WRN] the following remote package repository directories did not initialize properly :\n[WRN]    - /home/radoslaw/bin/Sencha/Cmd/5.1.3.61/../repo/pkgs\n[WRN]    - /home/radoslaw/bin/Sencha/Cmd/5.1.3.61/../repo/.sencha\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\n        at com.sencha.util.StringUtil.toBase64(StringUtil.java:202)\n        at com.sencha.tools.generator.DataStoreImpl.get(DataStoreImpl.java:103)\n        at com.sencha.tools.generator.Generator$1.doMerge(Generator.java:461)\n        at com.sencha.tools.generator.Generator$Mode$3.dispatch(Generator.java:266)\n        at com.sencha.tools.generator.Generator.generateFileToFile(Generator.java:446)\n        at com.sencha.tools.generator.Generator.generateFileToDir(Generator.java:438)\n        at com.sencha.tools.generator.Generator.generateDirToDir(Generator.java:431)\n        at com.sencha.tools.generator.Generator.generateDirToDir(Generator.java:426)\n        at com.sencha.tools.generator.Generator.generate(Generator.java:145)\n        at com.sencha.tools.pkg.LocalRepository.init(LocalRepository.java:131)\n        at com.sencha.tools.pkg.LocalRepository.init(LocalRepository.java:185)\n        at com.sencha.command.environment.WorkspaceRepository.getLocalRepository(WorkspaceRepository.java:273)\n        at com.sencha.command.environment.WorkspaceRepository.getLocalRepository(WorkspaceRepository.java:286)\n        at com.sencha.command.environment.FrameworkEnvironment.loadFrameworkPackage(FrameworkEnvironment.java:207)\n        at com.sencha.command.environment.AppOrPackageEnvironment.loadFrameworkConfig(AppOrPackageEnvironment.java:52)\n        at com.sencha.command.environment.AppEnvironment.&lt;init&gt;(AppEnvironment.java:50)\n        at com.sencha.command.environment.BuildEnvironment.load(BuildEnvironment.java:100)\n        at com.sencha.command.environment.BuildEnvironment.load(BuildEnvironment.java:124)\n        at com.sencha.command.environment.BuildEnvironment.load(BuildEnvironment.java:70)\n        at com.sencha.command.Sencha.loadBuildEnvironment(Sencha.java:426)\n        at com.sencha.command.Sencha.main(Sencha.java:128)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 21 more\n</code></pre>\n<p>Operating System: Linux Mint 20 Cinnamon</p>\n<p>Linux Karnel: 5.4.0-26-generic</p>\n<p>Java version:</p>\n<pre><code>openjdk version &quot;11.0.7&quot; 2020-04-14\nOpenJDK Runtime Environment (build 11.0.7+10-post-Ubuntu-3ubuntu1)\nOpenJDK 64-Bit Server VM (build 11.0.7+10-post-Ubuntu-3ubuntu1, mixed mode, sharing)\n</code></pre>\n<p>I understand that boils down to the Java version.\nThe solutions I found did not come down to the same problem.\nHas anyone encountered such a problem? What will be the simplest solution?</p>\n"},{"tags":["java","spring","jsp"],"comments":[{"owner":{"account_id":4672191,"reputation":641,"user_id":3783718,"display_name":"craigwor"},"score":0,"creation_date":1512053967,"post_id":47576342,"comment_id":82109680,"body_markdown":"Can you provide you controller code please?","body":"Can you provide you controller code please?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1512054051,"post_id":47576342,"comment_id":82109739,"body_markdown":"[This](https://www.w3schools.com/xml/ajax_intro.asp) might help.","body":"<a href=\"https://www.w3schools.com/xml/ajax_intro.asp\" rel=\"nofollow noreferrer\">This</a> might help."}],"answers":[{"tags":[],"owner":{"account_id":282141,"reputation":5676,"user_id":578855,"accept_rate":30,"display_name":"muasif80"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512053974,"creation_date":1512053974,"answer_id":47576405,"question_id":47576342,"body_markdown":"From a rendered page you only have two options either you do a normal form post or use Ajax if you dont want to open a new url. ","title":"How do I pass an object from jsp to controller with spring","body":"<p>From a rendered page you only have two options either you do a normal form post or use Ajax if you dont want to open a new url. </p>\n"},{"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1512057223,"creation_date":1512056883,"answer_id":47577330,"question_id":47576342,"body_markdown":"**JSP**\r\n\r\nFirst, make a hidden input with selected project id, so you can get it later:\r\n\r\n    &lt;input type=&quot;hidden&quot; id=&quot;currentProjectId&quot; value=&quot;12&quot;&gt;\r\n\r\n\r\nSecond, set attribute **name** of add buttons equal **userId**:\r\n\r\n    &lt;td&gt;&lt;Button type=&quot;Button&quot; name=&quot;${u.getId()}&quot; class=&quot;btn btn-default&quot;&gt;Add&lt;/button&gt;&lt;/td&gt;\r\n\r\n**Javascript:**\r\n\r\nDefine onclick linstener for each &quot;add button&quot; and get the current user id from the button:\r\n\r\n       $(&quot;.btn&quot;).click(function(event) {\r\n             event.preventDefault();\r\n    \r\n             var currentProjectId= $(&#39;#currentProjectId&#39;).val();\r\n             var userId = $(this).attr(&quot;name&quot;);\r\n    \t\t\r\n    \t\taddUser(currentProjectId, userId);\r\n    \r\n    \t});\r\n\r\nMake **ajax request** and post the ids to controller:\r\n\r\n    function addUser(currentProjectId, selectedUserId) {\r\n    \t\r\n    \t$.ajax({\r\n    \t\ttype : &quot;POST&quot;,\r\n    \t\tcontentType : &quot;application/json&quot;,\r\n    \t\turl : &quot;/addUserToProject&quot;,\r\n    \t\tdata :{ projectId: currentProjectId, userId: selectedUserId}, \r\n    \t\tdataType : &#39;json&#39;,\r\n    \t\ttimeout : 100000,\r\n    \t\tsuccess : function(data) {\r\n    \t\t\tconsole.log(&quot;SUCCESS: &quot;, data);\r\n    \t\t},\r\n    \t\terror : function(e) {\r\n    \t\t\tconsole.log(&quot;ERROR: &quot;, e);\r\n    \t\t\tdisplay(e);\r\n    \t\t},\r\n    \t\tdone : function(e) {\r\n    \t\t\tconsole.log(&quot;DONE&quot;);\r\n    \t\t}\r\n    \t});\r\n    }\r\n\r\n\r\nFinally, controller accepts ids using **@RequestParam:**\r\n\r\n    @RequestMapping(value = &quot;/addUserToProject&quot;, method = RequestMethod.POST,produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public @ResponseBody\r\n    String Submit(@RequestParam(&quot;projectId&quot;) Integer projectId ,@RequestParam(&quot;userId &quot;) Integer userId ) {\r\n        \r\n       //insert user\r\n    \r\n        return &quot;ok&quot;;\r\n    }","title":"How do I pass an object from jsp to controller with spring","body":"<p><strong>JSP</strong></p>\n\n<p>First, make a hidden input with selected project id, so you can get it later:</p>\n\n<pre><code>&lt;input type=\"hidden\" id=\"currentProjectId\" value=\"12\"&gt;\n</code></pre>\n\n<p>Second, set attribute <strong>name</strong> of add buttons equal <strong>userId</strong>:</p>\n\n<pre><code>&lt;td&gt;&lt;Button type=\"Button\" name=\"${u.getId()}\" class=\"btn btn-default\"&gt;Add&lt;/button&gt;&lt;/td&gt;\n</code></pre>\n\n<p><strong>Javascript:</strong></p>\n\n<p>Define onclick linstener for each \"add button\" and get the current user id from the button:</p>\n\n<pre><code>   $(\".btn\").click(function(event) {\n         event.preventDefault();\n\n         var currentProjectId= $('#currentProjectId').val();\n         var userId = $(this).attr(\"name\");\n\n        addUser(currentProjectId, userId);\n\n    });\n</code></pre>\n\n<p>Make <strong>ajax request</strong> and post the ids to controller:</p>\n\n<pre><code>function addUser(currentProjectId, selectedUserId) {\n\n    $.ajax({\n        type : \"POST\",\n        contentType : \"application/json\",\n        url : \"/addUserToProject\",\n        data :{ projectId: currentProjectId, userId: selectedUserId}, \n        dataType : 'json',\n        timeout : 100000,\n        success : function(data) {\n            console.log(\"SUCCESS: \", data);\n        },\n        error : function(e) {\n            console.log(\"ERROR: \", e);\n            display(e);\n        },\n        done : function(e) {\n            console.log(\"DONE\");\n        }\n    });\n}\n</code></pre>\n\n<p>Finally, controller accepts ids using <strong>@RequestParam:</strong></p>\n\n<pre><code>@RequestMapping(value = \"/addUserToProject\", method = RequestMethod.POST,produces = MediaType.APPLICATION_JSON_VALUE)\npublic @ResponseBody\nString Submit(@RequestParam(\"projectId\") Integer projectId ,@RequestParam(\"userId \") Integer userId ) {\n\n   //insert user\n\n    return \"ok\";\n}\n</code></pre>\n"}],"owner":{"account_id":6145487,"reputation":327,"user_id":4791603,"accept_rate":50,"display_name":"jscholten"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1683,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47577330,"answer_count":2,"score":1,"last_activity_date":1682610707,"creation_date":1512053761,"question_id":47576342,"body_markdown":"I have a class User and a class Project which has an arraylist with users.\r\nI have a Project page with a list of all my projects and when I click on one, it takes me to the page of that project by sending the id of that project in the URL.\r\n\r\nOn my detail project page I want to add users that I created.\r\nThe users are displayed on a modal in a table with a button to add them.\r\n\r\n    &lt;div class=&quot;modal fade&quot; id=&quot;myModal&quot; role=&quot;dialog&quot;&gt;\r\n            &lt;div class=&quot;modal-dialog&quot;&gt;\r\n                &lt;!-- Modal content--&gt;\r\n                &lt;div class=&quot;modal-content&quot;&gt;\r\n                    &lt;div class=&quot;modal-header&quot;&gt;\r\n                        &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot;&gt;&amp;times;&lt;/button&gt;\r\n                        &lt;h4 class=&quot;modal-title&quot;&gt;&lt;/h4&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;modal-body&quot;&gt;\r\n                        &lt;h1 class=&quot;text-center&quot;&gt;UserList&lt;/h1&gt;\r\n                        &lt;br&gt;&lt;br&gt;\r\n                        &lt;table class=&quot;table table-hover&quot;&gt;\r\n                            &lt;thead&gt;\r\n                                &lt;tr&gt;\r\n                                    &lt;th&gt;Photo&lt;/th&gt;\r\n                                    &lt;th&gt;Firstname&lt;/th&gt;\r\n                                    &lt;th&gt;Lastname&lt;/th&gt;\r\n                                    &lt;th&gt;Function&lt;/th&gt;\r\n                                    &lt;th&gt;Email&lt;/th&gt;\r\n                                &lt;/tr&gt;\r\n                            &lt;/thead&gt;\r\n                            &lt;tbody&gt;\r\n                                &lt;c:forEach var=&quot;u&quot; items=&quot;${users}&quot;&gt;\r\n                                    &lt;tr&gt;\r\n                                        &lt;td&gt;&lt;img src=&quot;${u.getPhoto()}&quot;\r\n                                                 alt=&quot;Alternate Text&quot; class=&quot;img-responsive&quot; /&gt;&lt;/td&gt;\r\n                                        &lt;td&gt;${u.getFirstname()}&lt;/td&gt;\r\n                                        &lt;td&gt;${u.getLastname()}&lt;/td&gt;\r\n                                        &lt;td&gt;${u.getFunction()}&lt;/td&gt;\r\n                                        &lt;td&gt;${u.getEmail()}&lt;/td&gt;\r\n                                        &lt;td&gt;&lt;Button type=&quot;Button&quot; class=&quot;btn btn-default&quot;&gt;Add&lt;/button&gt;&lt;/td&gt;\r\n                                    &lt;/tr&gt; \r\n                                &lt;/c:forEach&gt;\r\n                            &lt;/tbody&gt;\r\n                        &lt;/table&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\nMy question is how do I send the id of the user and the id of the project I want them to be added to my controller?\r\n\r\nI know I can pass an id with the URL but I don&#39;t want to open a new page.\r\n\r\nI want to send the ID of the user and the project to my controller by clicking on the add button to my controller so I can use those in my method called addUserToProject()\r\n","title":"How do I pass an object from jsp to controller with spring","body":"<p>I have a class User and a class Project which has an arraylist with users.\nI have a Project page with a list of all my projects and when I click on one, it takes me to the page of that project by sending the id of that project in the URL.</p>\n<p>On my detail project page I want to add users that I created.\nThe users are displayed on a modal in a table with a button to add them.</p>\n<pre><code>&lt;div class=&quot;modal fade&quot; id=&quot;myModal&quot; role=&quot;dialog&quot;&gt;\n        &lt;div class=&quot;modal-dialog&quot;&gt;\n            &lt;!-- Modal content--&gt;\n            &lt;div class=&quot;modal-content&quot;&gt;\n                &lt;div class=&quot;modal-header&quot;&gt;\n                    &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot;&gt;&amp;times;&lt;/button&gt;\n                    &lt;h4 class=&quot;modal-title&quot;&gt;&lt;/h4&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;modal-body&quot;&gt;\n                    &lt;h1 class=&quot;text-center&quot;&gt;UserList&lt;/h1&gt;\n                    &lt;br&gt;&lt;br&gt;\n                    &lt;table class=&quot;table table-hover&quot;&gt;\n                        &lt;thead&gt;\n                            &lt;tr&gt;\n                                &lt;th&gt;Photo&lt;/th&gt;\n                                &lt;th&gt;Firstname&lt;/th&gt;\n                                &lt;th&gt;Lastname&lt;/th&gt;\n                                &lt;th&gt;Function&lt;/th&gt;\n                                &lt;th&gt;Email&lt;/th&gt;\n                            &lt;/tr&gt;\n                        &lt;/thead&gt;\n                        &lt;tbody&gt;\n                            &lt;c:forEach var=&quot;u&quot; items=&quot;${users}&quot;&gt;\n                                &lt;tr&gt;\n                                    &lt;td&gt;&lt;img src=&quot;${u.getPhoto()}&quot;\n                                             alt=&quot;Alternate Text&quot; class=&quot;img-responsive&quot; /&gt;&lt;/td&gt;\n                                    &lt;td&gt;${u.getFirstname()}&lt;/td&gt;\n                                    &lt;td&gt;${u.getLastname()}&lt;/td&gt;\n                                    &lt;td&gt;${u.getFunction()}&lt;/td&gt;\n                                    &lt;td&gt;${u.getEmail()}&lt;/td&gt;\n                                    &lt;td&gt;&lt;Button type=&quot;Button&quot; class=&quot;btn btn-default&quot;&gt;Add&lt;/button&gt;&lt;/td&gt;\n                                &lt;/tr&gt; \n                            &lt;/c:forEach&gt;\n                        &lt;/tbody&gt;\n                    &lt;/table&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>My question is how do I send the id of the user and the id of the project I want them to be added to my controller?</p>\n<p>I know I can pass an id with the URL but I don't want to open a new page.</p>\n<p>I want to send the ID of the user and the project to my controller by clicking on the add button to my controller so I can use those in my method called addUserToProject()</p>\n"},{"tags":["java","apache-kafka","confluent-schema-registry","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682606179,"creation_date":1682606179,"answer_id":76121640,"question_id":76119369,"body_markdown":"&gt; `Couldn&#39;t resolve server PLAINTEXT://tc-HJrDbND5:9092`\r\n\r\nYou should remove `PLAINTEXT` prefix. \r\n\r\nMake sure the containers are on the same network bridge, which I&#39;ve see you&#39;ve tried by `withNetwork()`. \r\n\r\nOtherwise, modify the listeners of the Kafka container though its own environment variables, otherwise you&#39;ll get Kafka client errors even without Schema Registry (I assume you&#39;ve already tested that?) ","title":"Containers SchemaRegistry can&#39;t connect to Kafka container","body":"<blockquote>\n<p><code>Couldn't resolve server PLAINTEXT://tc-HJrDbND5:9092</code></p>\n</blockquote>\n<p>You should remove <code>PLAINTEXT</code> prefix.</p>\n<p>Make sure the containers are on the same network bridge, which I've see you've tried by <code>withNetwork()</code>.</p>\n<p>Otherwise, modify the listeners of the Kafka container though its own environment variables, otherwise you'll get Kafka client errors even without Schema Registry (I assume you've already tested that?)</p>\n"}],"owner":{"account_id":7568933,"reputation":695,"user_id":5743485,"display_name":"MelleD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76121640,"answer_count":1,"score":0,"last_activity_date":1682610621,"creation_date":1682591339,"question_id":76119369,"body_markdown":"I tried to use this approach to https://stackoverflow.com/questions/75388650/testcontainers-schemaregistry-cant-connect-to-kafka-container to start a schema registry test container, but it don&#39;t work\r\n\r\nFirst try was:\r\n\r\n       public SchemaRegistryContainer withKafka( final KafkaContainer kafkaContainer ) {\r\n          withNetwork( kafkaContainer.getNetwork() );\r\n          withEnv( &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;kafka-confluent-cp-schema-registry&quot; );\r\n          withEnv( &quot;SCHEMA_REGISTRY_LISTENERS&quot;, &quot;http://0.0.0.0:&quot; + SCHEMA_REGISTRY_PORT );\r\n          withEnv( &quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, kafkaContainer.getBootstrapServers() );\r\n          return self();\r\n       }\r\n\r\nError:\r\n\r\n    java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: listNodes\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at io.confluent.admin.utils.ClusterStatus.isKafkaReady(ClusterStatus.java:147)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at io.confluent.admin.utils.cli.KafkaReadyCommand.main(KafkaReadyCommand.java:149)\r\n    Caused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: listNodes\r\n\r\n\r\nThen i tried this:\r\n\r\n       public SchemaRegistryContainer withKafka( final KafkaContainer kafkaContainer ) {\r\n          withNetwork( kafkaContainer.getNetwork() );\r\n          withEnv( &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;schema-registry&quot; );\r\n          withEnv( &quot;SCHEMA_REGISTRY_LISTENERS&quot;, &quot;http://0.0.0.0:&quot; + SCHEMA_REGISTRY_PORT );\r\n          withEnv( &quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, &quot;PLAINTEXT://&quot; + kafkaContainer.getNetworkAliases().get( 0 ) + &quot;:9092&quot; );\r\n          return self();\r\n       }\r\n\r\nError\r\n\r\n    2023-04-27 07:46:35,687] WARN Couldn&#39;t resolve server PLAINTEXT://tc-HJrDbND5:9092 from bootstrap.servers as DNS resolution failed for tc-HJrDbND5 (org.apache.kafka.clients.ClientUtils)\r\n    [2023-04-27 07:46:35,687] ERROR Error while running kafka-ready. (io.confluent.admin.utils.cli.KafkaReadyCommand)\r\n    org.apache.kafka.common.KafkaException: Failed to create new KafkaAdminClient\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.clients.admin.KafkaAdminClient.createInternal(KafkaAdminClient.java:553)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.clients.admin.Admin.create(Admin.java:144)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.clients.admin.AdminClient.create(AdminClient.java:49)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at io.confluent.admin.utils.ClusterStatus.isKafkaReady(ClusterStatus.java:136)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at io.confluent.admin.utils.cli.KafkaReadyCommand.main(KafkaReadyCommand.java:149)\r\n    Caused by: org.apache.kafka.common.config.ConfigException: No resolvable bootstrap urls given in bootstrap.servers\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.clients.ClientUtils.parseAndValidateAddresses(ClientUtils.java:89)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.clients.ClientUtils.parseAndValidateAddresses(ClientUtils.java:48)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.kafka.clients.admin.KafkaAdminClient.createInternal(KafkaAdminClient.java:505)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; ... 4 more\r\n\r\n\r\nAnyone have any ideas what else I can test?","title":"Containers SchemaRegistry can&#39;t connect to Kafka container","body":"<p>I tried to use this approach to <a href=\"https://stackoverflow.com/questions/75388650/testcontainers-schemaregistry-cant-connect-to-kafka-container\">Testcontainers SchemaRegistry can&#39;t connect to Kafka container</a> to start a schema registry test container, but it don't work</p>\n<p>First try was:</p>\n<pre><code>   public SchemaRegistryContainer withKafka( final KafkaContainer kafkaContainer ) {\n      withNetwork( kafkaContainer.getNetwork() );\n      withEnv( &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;kafka-confluent-cp-schema-registry&quot; );\n      withEnv( &quot;SCHEMA_REGISTRY_LISTENERS&quot;, &quot;http://0.0.0.0:&quot; + SCHEMA_REGISTRY_PORT );\n      withEnv( &quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, kafkaContainer.getBootstrapServers() );\n      return self();\n   }\n</code></pre>\n<p>Error:</p>\n<pre><code>java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: listNodes\n        at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\n        at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\n        at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\n        at io.confluent.admin.utils.ClusterStatus.isKafkaReady(ClusterStatus.java:147)\n        at io.confluent.admin.utils.cli.KafkaReadyCommand.main(KafkaReadyCommand.java:149)\nCaused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: listNodes\n</code></pre>\n<p>Then i tried this:</p>\n<pre><code>   public SchemaRegistryContainer withKafka( final KafkaContainer kafkaContainer ) {\n      withNetwork( kafkaContainer.getNetwork() );\n      withEnv( &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;schema-registry&quot; );\n      withEnv( &quot;SCHEMA_REGISTRY_LISTENERS&quot;, &quot;http://0.0.0.0:&quot; + SCHEMA_REGISTRY_PORT );\n      withEnv( &quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, &quot;PLAINTEXT://&quot; + kafkaContainer.getNetworkAliases().get( 0 ) + &quot;:9092&quot; );\n      return self();\n   }\n</code></pre>\n<p>Error</p>\n<pre><code>2023-04-27 07:46:35,687] WARN Couldn't resolve server PLAINTEXT://tc-HJrDbND5:9092 from bootstrap.servers as DNS resolution failed for tc-HJrDbND5 (org.apache.kafka.clients.ClientUtils)\n[2023-04-27 07:46:35,687] ERROR Error while running kafka-ready. (io.confluent.admin.utils.cli.KafkaReadyCommand)\norg.apache.kafka.common.KafkaException: Failed to create new KafkaAdminClient\n        at org.apache.kafka.clients.admin.KafkaAdminClient.createInternal(KafkaAdminClient.java:553)\n        at org.apache.kafka.clients.admin.Admin.create(Admin.java:144)\n        at org.apache.kafka.clients.admin.AdminClient.create(AdminClient.java:49)\n        at io.confluent.admin.utils.ClusterStatus.isKafkaReady(ClusterStatus.java:136)\n        at io.confluent.admin.utils.cli.KafkaReadyCommand.main(KafkaReadyCommand.java:149)\nCaused by: org.apache.kafka.common.config.ConfigException: No resolvable bootstrap urls given in bootstrap.servers\n        at org.apache.kafka.clients.ClientUtils.parseAndValidateAddresses(ClientUtils.java:89)\n        at org.apache.kafka.clients.ClientUtils.parseAndValidateAddresses(ClientUtils.java:48)\n        at org.apache.kafka.clients.admin.KafkaAdminClient.createInternal(KafkaAdminClient.java:505)\n        ... 4 more\n</code></pre>\n<p>Anyone have any ideas what else I can test?</p>\n"},{"tags":["java","spring-boot","docker","containers","scalability"],"comments":[{"owner":{"account_id":1117192,"reputation":1404,"user_id":1106272,"accept_rate":89,"display_name":"Steen Sch&#252;tt"},"score":0,"creation_date":1682626695,"post_id":76122359,"comment_id":134249874,"body_markdown":"What is your workload? Is your primary bottleneck waiting for network connections, or is it CPU/Memory/Disk intensive work? Is the given resource already maxed when you only have one container running? I&#39;m also not sure if I&#39;m understanding correctly, but it sounds like you&#39;re running multiple containers on the same EC2 instance?","body":"What is your workload? Is your primary bottleneck waiting for network connections, or is it CPU/Memory/Disk intensive work? Is the given resource already maxed when you only have one container running? I&#39;m also not sure if I&#39;m understanding correctly, but it sounds like you&#39;re running multiple containers on the same EC2 instance?"},{"owner":{"account_id":6721291,"reputation":11,"user_id":5181207,"display_name":"S.Thulasi Raman"},"score":0,"creation_date":1682655610,"post_id":76122359,"comment_id":134253064,"body_markdown":"I tried checking on the CPU/Memory percents while running. The app is memory hungry so I tried increasing the container memory to 5gb and assigned 4 VCPU&#39;s to my service. I&#39;m using c5.xlarge ec2 class and one container per instance is only running.","body":"I tried checking on the CPU/Memory percents while running. The app is memory hungry so I tried increasing the container memory to 5gb and assigned 4 VCPU&#39;s to my service. I&#39;m using c5.xlarge ec2 class and one container per instance is only running."},{"owner":{"account_id":1117192,"reputation":1404,"user_id":1106272,"accept_rate":89,"display_name":"Steen Sch&#252;tt"},"score":0,"creation_date":1682675390,"post_id":76122359,"comment_id":134256427,"body_markdown":"If a single container consumes all of the memory on your instance, spawning more will likely cause the system to start swapping, which will slow things down a lot. It sounds like what you&#39;re really looking for, is to scale the amount of resources available to the server. AWS has many products that let you do automatic scaling, but EC2 instances are just virtual machines and can be a bit difficult to scale. You could perhaps take a look here, to find an appropriate product :) https://docs.aws.amazon.com/whitepapers/latest/docker-on-aws/containers-orchestrations-on-aws.html","body":"If a single container consumes all of the memory on your instance, spawning more will likely cause the system to start swapping, which will slow things down a lot. It sounds like what you&#39;re really looking for, is to scale the amount of resources available to the server. AWS has many products that let you do automatic scaling, but EC2 instances are just virtual machines and can be a bit difficult to scale. You could perhaps take a look here, to find an appropriate product :) <a href=\"https://docs.aws.amazon.com/whitepapers/latest/docker-on-aws/containers-orchestrations-on-aws.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/whitepapers/latest/docker-on-aws/&hellip;</a>"},{"owner":{"account_id":6721291,"reputation":11,"user_id":5181207,"display_name":"S.Thulasi Raman"},"score":0,"creation_date":1682692349,"post_id":76122359,"comment_id":134260395,"body_markdown":"Currently yes, I&#39;m using aws ECS container auto scaling and scaling containers horizontally based on the CPU usage. So you are suggesting use different type of auto scaling mechanism? So that all the resources will be available when the new container comes up?","body":"Currently yes, I&#39;m using aws ECS container auto scaling and scaling containers horizontally based on the CPU usage. So you are suggesting use different type of auto scaling mechanism? So that all the resources will be available when the new container comes up?"},{"owner":{"account_id":6721291,"reputation":11,"user_id":5181207,"display_name":"S.Thulasi Raman"},"score":0,"creation_date":1682692844,"post_id":76122359,"comment_id":134260510,"body_markdown":"Also I tried deploying 1 container per instance, even then it didn&#39;t help much.","body":"Also I tried deploying 1 container per instance, even then it didn&#39;t help much."}],"owner":{"account_id":6721291,"reputation":11,"user_id":5181207,"display_name":"S.Thulasi Raman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682610588,"creation_date":1682610588,"question_id":76122359,"body_markdown":"I have a java spring boot application with some open source schedulers in it. The main workflow of the application is: whenever we get the requeusts we create a task at some time as configured in the app (lets say 12 hrs from time of launch) and store the details of task as a blob in a table, say task_table. There is a poller in the application which gets started at the time of app startup and that keeps on polling the task_table to check if the task are due execution to be picked up. So once it picked up, the application will take 15 secs max to complete a task. \r\n\r\nThe poller has a seperate thread pools configured. There is a master agent who checks the table and distribute the picked tasks to the slave threads. I am using postgres sql as my database.\r\n\r\nI have containarized my app as a docker containers and depolyed in aws ec2 instances. The main problem I&#39;m seeing is when I run the app on a single container the tasks are getting executed at 15 as mentioned above. But when I scale the containers to 2,3,4 etc. I see constance increase in the task execution time. Say 2 containers it takes 20 secs, 3 containers 45 sec so on.\r\n\r\nI have checked all the connection pool settings on the db side and IOPS values for read/write latency. Everything seems to be fine but I&#39;m not able to find out how on auto scaling the containers the task takes more time? Because there is nothing shared across the containers other than DB. \r\n\r\nCan someone help me with some inferences for the above problem?? \r\n\r\nI tried changing the ec2 instance types, RDS storage size, connection pool settings, IOPS values etc","title":"JAVA Spring boot application performance issue when autoscaling","body":"<p>I have a java spring boot application with some open source schedulers in it. The main workflow of the application is: whenever we get the requeusts we create a task at some time as configured in the app (lets say 12 hrs from time of launch) and store the details of task as a blob in a table, say task_table. There is a poller in the application which gets started at the time of app startup and that keeps on polling the task_table to check if the task are due execution to be picked up. So once it picked up, the application will take 15 secs max to complete a task.</p>\n<p>The poller has a seperate thread pools configured. There is a master agent who checks the table and distribute the picked tasks to the slave threads. I am using postgres sql as my database.</p>\n<p>I have containarized my app as a docker containers and depolyed in aws ec2 instances. The main problem I'm seeing is when I run the app on a single container the tasks are getting executed at 15 as mentioned above. But when I scale the containers to 2,3,4 etc. I see constance increase in the task execution time. Say 2 containers it takes 20 secs, 3 containers 45 sec so on.</p>\n<p>I have checked all the connection pool settings on the db side and IOPS values for read/write latency. Everything seems to be fine but I'm not able to find out how on auto scaling the containers the task takes more time? Because there is nothing shared across the containers other than DB.</p>\n<p>Can someone help me with some inferences for the above problem??</p>\n<p>I tried changing the ec2 instance types, RDS storage size, connection pool settings, IOPS values etc</p>\n"},{"tags":["java","spring-boot","enums","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682609821,"creation_date":1682609821,"answer_id":76122248,"question_id":76121253,"body_markdown":"Based on your error message, the problem is that you are trying to send the data that cannot be parsed into your enum. The way things works is that first, your request body is parsed into the `CourseRequest` class, and then ***if*** the parsing is successful -- Bean Validation will apply.\r\n \r\nIf you want to use Bean Validation for checking that the string sent is valid - consider changing the `CourseRequest` where instead of an enum make that field a `String` this way parsing will not fail. Then you can use a `@Pattern` constraint to apply a regex check to that field to make sure that only acceptable strings are sent.\r\n\r\nThen you can just have a getter in your `CourseRequest` that would convert the string to an enum to use it elsewhere:\r\n\r\n```java\r\nclass CourseRequest {\r\n\t@Pattern(regexp = &quot;^(PENDING|CANCELED)$&quot;)\r\n\tString status;\r\n\r\n\tpublic CourseStatus courseStatus() {\r\n\t\treturn status == null ? null : CourseStatus.valueOf( status );\r\n\t}\r\n}\r\n```","title":"Spring Boot Enum Custom Validation not working with Jakarta","body":"<p>Based on your error message, the problem is that you are trying to send the data that cannot be parsed into your enum. The way things works is that first, your request body is parsed into the <code>CourseRequest</code> class, and then <em><strong>if</strong></em> the parsing is successful -- Bean Validation will apply.</p>\n<p>If you want to use Bean Validation for checking that the string sent is valid - consider changing the <code>CourseRequest</code> where instead of an enum make that field a <code>String</code> this way parsing will not fail. Then you can use a <code>@Pattern</code> constraint to apply a regex check to that field to make sure that only acceptable strings are sent.</p>\n<p>Then you can just have a getter in your <code>CourseRequest</code> that would convert the string to an enum to use it elsewhere:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CourseRequest {\n    @Pattern(regexp = &quot;^(PENDING|CANCELED)$&quot;)\n    String status;\n\n    public CourseStatus courseStatus() {\n        return status == null ? null : CourseStatus.valueOf( status );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":462539,"reputation":1749,"user_id":864909,"accept_rate":52,"display_name":"PHP Avenger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682609821,"creation_date":1682603851,"question_id":76121253,"body_markdown":"Following is my custom validator\r\n\r\n    package my.dtos.enums;\r\n    \r\n    import my.dtos.CourseStatus;\r\n    import jakarta.validation.ConstraintValidator;\r\n    import jakarta.validation.ConstraintValidatorContext;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    public class CourseStatusValidator implements ConstraintValidator&lt;CourseStatusType, CourseStatus&gt; {\r\n        private CourseStatus[] subset;\r\n    \r\n        @Override\r\n        public void initialize(CourseStatusType constraint) {\r\n            this.subset = constraint.anyOf();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(CourseStatus value, ConstraintValidatorContext context) {\r\n            return value == null || Arrays.asList(subset).contains(value);\r\n        }\r\n    }\r\n\r\n\r\nHere is the annotation\r\n\r\n    package my.dtos.enums;\r\n    \r\n    import my.dtos.CourseStatus;\r\n    import jakarta.validation.Constraint;\r\n    import jakarta.validation.Payload;\r\n    \r\n    \r\n    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.Target;\r\n    \r\n    import static java.lang.annotation.ElementType.*;\r\n    import static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n    \r\n    \r\n    @Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE})\r\n    @Retention(RUNTIME)\r\n    @Documented\r\n    @Constraint(validatedBy = CourseStatusValidator.class)\r\n    public @interface CourseStatusType {\r\n        CourseStatus[] anyOf();\r\n        String message() default &quot;must be any of {anyOf}&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\n\r\nHEre is how I am using it in one my DTO\r\n\r\n    @CourseStatusType(anyOf = {CourseStatus.PENDING, CourseStatus.CANCELED})\r\n    private CourseStatus status;\r\n\r\nThe validation is not working its not being applied and I am seeing an exception realted to parsing of data\r\n`org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `com.some.path.CourseStatus` from String &quot;WRONG_DATA_PASSWED&quot;: not one of the values accepted for Enum class: [CANCELED, DONE, IN_PROGRESS, PENDING]\r\n`\r\n\r\n\r\nFollowing is the controller method\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n        public Course update(@PathVariable(&quot;id&quot;) Long id, @RequestBody @Validated CourseRequest request)\r\n\r\n&gt; I want it to apply my validation and throw error according to that\r\n&gt; validation\r\n\r\n","title":"Spring Boot Enum Custom Validation not working with Jakarta","body":"<p>Following is my custom validator</p>\n<pre><code>package my.dtos.enums;\n\nimport my.dtos.CourseStatus;\nimport jakarta.validation.ConstraintValidator;\nimport jakarta.validation.ConstraintValidatorContext;\n\nimport java.util.Arrays;\n\npublic class CourseStatusValidator implements ConstraintValidator&lt;CourseStatusType, CourseStatus&gt; {\n    private CourseStatus[] subset;\n\n    @Override\n    public void initialize(CourseStatusType constraint) {\n        this.subset = constraint.anyOf();\n    }\n\n    @Override\n    public boolean isValid(CourseStatus value, ConstraintValidatorContext context) {\n        return value == null || Arrays.asList(subset).contains(value);\n    }\n}\n</code></pre>\n<p>Here is the annotation</p>\n<pre><code>package my.dtos.enums;\n\nimport my.dtos.CourseStatus;\nimport jakarta.validation.Constraint;\nimport jakarta.validation.Payload;\n\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\nimport static java.lang.annotation.ElementType.*;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\n\n@Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE})\n@Retention(RUNTIME)\n@Documented\n@Constraint(validatedBy = CourseStatusValidator.class)\npublic @interface CourseStatusType {\n    CourseStatus[] anyOf();\n    String message() default &quot;must be any of {anyOf}&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>HEre is how I am using it in one my DTO</p>\n<pre><code>@CourseStatusType(anyOf = {CourseStatus.PENDING, CourseStatus.CANCELED})\nprivate CourseStatus status;\n</code></pre>\n<p>The validation is not working its not being applied and I am seeing an exception realted to parsing of data\n<code>org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type </code>com.some.path.CourseStatus<code>from String &quot;WRONG_DATA_PASSWED&quot;: not one of the values accepted for Enum class: [CANCELED, DONE, IN_PROGRESS, PENDING]</code></p>\n<p>Following is the controller method</p>\n<pre><code>@PutMapping(&quot;/{id}&quot;)\n    public Course update(@PathVariable(&quot;id&quot;) Long id, @RequestBody @Validated CourseRequest request)\n</code></pre>\n<blockquote>\n<p>I want it to apply my validation and throw error according to that\nvalidation</p>\n</blockquote>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1682609916,"post_id":76122160,"comment_id":134246239,"body_markdown":"I find it easiest to start a new project in IntelliJ using the bundled JavaFX template.","body":"I find it easiest to start a new project in IntelliJ using the bundled JavaFX template."}],"owner":{"account_id":27696420,"reputation":1,"user_id":21142042,"display_name":"Josh West"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682609863,"answer_count":0,"score":0,"last_activity_date":1682609262,"creation_date":1682609262,"question_id":76122160,"body_markdown":"I have a module that was created in java in inteilij under the build system of Maven. I have package set up with classes with them, along with a main class. I need to set up a javafx form, but when I goto like i&#39;m going to add a class it does not have javafx on the list of options. How do I add it to the list or how do I get the form? this is for a class and of course the video show it there on his but it&#39;s not on mine.\r\n\r\nI need to set up a javafx form, but when I goto like i&#39;m going to add a class it does not have javafx on the list of options. How do I add it to the list or how do I get the form?","title":"Javafx added to a current java module","body":"<p>I have a module that was created in java in inteilij under the build system of Maven. I have package set up with classes with them, along with a main class. I need to set up a javafx form, but when I goto like i'm going to add a class it does not have javafx on the list of options. How do I add it to the list or how do I get the form? this is for a class and of course the video show it there on his but it's not on mine.</p>\n<p>I need to set up a javafx form, but when I goto like i'm going to add a class it does not have javafx on the list of options. How do I add it to the list or how do I get the form?</p>\n"},{"tags":["java","android","api","network-protocols","socketexception"],"comments":[{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1682607260,"post_id":76120675,"comment_id":134245551,"body_markdown":"Make sure you have allowed internet permissions on the device. \nSecondly, it would be a good idea if you share some code snippets, so people can understand the problem.","body":"Make sure you have allowed internet permissions on the device.  Secondly, it would be a good idea if you share some code snippets, so people can understand the problem."},{"owner":{"account_id":21338287,"reputation":38,"user_id":15709177,"display_name":"Dat Le"},"score":0,"creation_date":1682609123,"post_id":76120675,"comment_id":134246049,"body_markdown":"@mohammedahmed I added a few code snippets. Hope that clears up the problem.","body":"@mohammedahmed I added a few code snippets. Hope that clears up the problem."}],"owner":{"account_id":21338287,"reputation":38,"user_id":15709177,"display_name":"Dat Le"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682608973,"creation_date":1682600030,"question_id":76120675,"body_markdown":"I am trying to talk to my local API to log in, which was very smooth when I used Android emulator. But as soon as I used my Samsung phone as a debugging device, it gave java.net.SocketException. There was no request sent to API.\r\n\r\nI am new to Java Socket, so I don&#39;t know where to start. How would you go about this? \r\n```\r\nW/System.err: java.net.SocketException: Connection reset\r\nW/System.err:     at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:121)\r\nW/System.err:     at java.net.SocketOutputStream.write(SocketOutputStream.java:161)\r\nW/System.err:     at okio.Okio$1.write(Okio.java:79)\r\nW/System.err:     at okio.AsyncTimeout$1.write(AsyncTimeout.java:180)\r\nW/System.err:     at okio.RealBufferedSink.flush(RealBufferedSink.java:224)\r\nW/System.err:     at okhttp3.internal.http1.Http1ExchangeCodec.finishRequest(Http1ExchangeCodec.java:190)\r\nW/System.err:     at okhttp3.internal.connection.Exchange.finishRequest(Exchange.java:101)\r\nW/System.err:     at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:86)\r\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\nW/System.err:     at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:43)\r\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\nW/System.err:     at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)\r\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\nW/System.err:     at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\r\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\nW/System.err:     at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:88)\r\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\r\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\r\nW/System.err:     at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:229)\r\nW/System.err:     at okhttp3.RealCall$AsyncCall.execute(RealCall.java:172)\r\nW/System.err:     at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\r\nW/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\nW/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\nW/System.err:     at java.lang.Thread.run(Thread.java:923)\r\n```\r\n\r\n*Edit: LoginDataSource class, login():\r\n```\r\npublic void login(String email, String password, ActionCallback callback) {\r\n        try {\r\n            WebInterface webInterface = RetrofitClient.getInstance().getWebInterface();\r\n            Call&lt;Session&gt; call = webInterface.login(new LoggedInUser(email, password));\r\n\r\n            call.enqueue(new Callback&lt;&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;Session&gt; call, Response&lt;Session&gt; response) {\r\n                    if (response.isSuccessful()) {\r\n                        callback.onActionSuccess(new Result.Success(response.body()));\r\n                    } else {\r\n                        Log.e(TAG, response.message());\r\n                        callback.onActionFailure(new Result.Error(new Exception(response.message())));\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call&lt;Session&gt; call, Throwable t) {\r\n                    Log.e(TAG + &quot;onFailure&quot;, t.toString());\r\n                    Log.e(TAG, t.getMessage());\r\n                    t.printStackTrace();\r\n                    //callback.onActionFailure(new Result.Error(new Exception(t)));\r\n                }\r\n            });\r\n        } catch (Exception e) {\r\n            callback.onActionFailure(new Result.Error(e));\r\n        }\r\n    }\r\n```\r\nRetrofitClient class\r\n```\r\npackage depauw.datle.eshop.data;\r\n\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.GsonBuilder;\r\n\r\nimport javax.net.ssl.HostnameVerifier;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLSession;\r\nimport javax.net.ssl.SSLSocketFactory;\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.X509TrustManager;\r\n\r\nimport okhttp3.OkHttpClient;\r\nimport retrofit2.Retrofit;\r\nimport retrofit2.converter.gson.GsonConverterFactory;\r\n\r\npublic class RetrofitClient\r\n{\r\n    // Single object reference\r\n    private static RetrofitClient myInstance;\r\n    private Retrofit retrofit;\r\n    private WebInterface webInterface;\r\n\r\n    public static RetrofitClient getInstance(){\r\n        if(myInstance == null){\r\n            myInstance = new RetrofitClient();\r\n        }\r\n        return myInstance;\r\n    }\r\n\r\n    private RetrofitClient(){\r\n        Gson gson = new GsonBuilder()\r\n                .setLenient()\r\n                .create();\r\n        retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;http://10.0.2.2:8000/api/v1/&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create(gson))\r\n                .client(getUnsafeOkHttpClient().build())\r\n                .build();\r\n        webInterface = retrofit.create(WebInterface.class);\r\n    }\r\n\r\n    public WebInterface getWebInterface(){\r\n        return webInterface;\r\n    }\r\n\r\n    public static OkHttpClient.Builder getUnsafeOkHttpClient() {\r\n        try {\r\n            // Create a trust manager that does not validate certificate chains\r\n            final TrustManager[] trustAllCerts = new TrustManager[]{\r\n                new X509TrustManager() {\r\n                    @Override\r\n                    public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) {\r\n                    }\r\n\r\n                    @Override\r\n                    public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) {\r\n                    }\r\n\r\n                    @Override\r\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                        return new java.security.cert.X509Certificate[]{};\r\n                    }\r\n                }\r\n            };\r\n\r\n            // Install the all-trusting trust manager\r\n            final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\r\n\r\n            // Create an ssl socket factory with our all-trusting manager\r\n            final SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n\r\n            OkHttpClient.Builder builder = new OkHttpClient.Builder();\r\n            builder.sslSocketFactory(sslSocketFactory, (X509TrustManager) trustAllCerts[0]);\r\n            builder.hostnameVerifier(new HostnameVerifier() {\r\n                @Override\r\n                public boolean verify(String hostname, SSLSession session) {\r\n                    return true;\r\n                }\r\n            });\r\n            return builder;\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\nAndroidManifest.xml, internet permission:\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n```\r\nI think these lines are most relevant, but feel free to let me know which code you need to see.","title":"SocketException: Connected reset after moving from Android Emulator to physical device","body":"<p>I am trying to talk to my local API to log in, which was very smooth when I used Android emulator. But as soon as I used my Samsung phone as a debugging device, it gave java.net.SocketException. There was no request sent to API.</p>\n<p>I am new to Java Socket, so I don't know where to start. How would you go about this?</p>\n<pre><code>W/System.err: java.net.SocketException: Connection reset\nW/System.err:     at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:121)\nW/System.err:     at java.net.SocketOutputStream.write(SocketOutputStream.java:161)\nW/System.err:     at okio.Okio$1.write(Okio.java:79)\nW/System.err:     at okio.AsyncTimeout$1.write(AsyncTimeout.java:180)\nW/System.err:     at okio.RealBufferedSink.flush(RealBufferedSink.java:224)\nW/System.err:     at okhttp3.internal.http1.Http1ExchangeCodec.finishRequest(Http1ExchangeCodec.java:190)\nW/System.err:     at okhttp3.internal.connection.Exchange.finishRequest(Exchange.java:101)\nW/System.err:     at okhttp3.internal.http.CallServerInterceptor.intercept(CallServerInterceptor.java:86)\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\nW/System.err:     at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:43)\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\nW/System.err:     at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:94)\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\nW/System.err:     at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\nW/System.err:     at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:88)\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:142)\nW/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:117)\nW/System.err:     at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:229)\nW/System.err:     at okhttp3.RealCall$AsyncCall.execute(RealCall.java:172)\nW/System.err:     at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\nW/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\nW/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\nW/System.err:     at java.lang.Thread.run(Thread.java:923)\n</code></pre>\n<p>*Edit: LoginDataSource class, login():</p>\n<pre><code>public void login(String email, String password, ActionCallback callback) {\n        try {\n            WebInterface webInterface = RetrofitClient.getInstance().getWebInterface();\n            Call&lt;Session&gt; call = webInterface.login(new LoggedInUser(email, password));\n\n            call.enqueue(new Callback&lt;&gt;() {\n                @Override\n                public void onResponse(Call&lt;Session&gt; call, Response&lt;Session&gt; response) {\n                    if (response.isSuccessful()) {\n                        callback.onActionSuccess(new Result.Success(response.body()));\n                    } else {\n                        Log.e(TAG, response.message());\n                        callback.onActionFailure(new Result.Error(new Exception(response.message())));\n                    }\n                }\n\n                @Override\n                public void onFailure(Call&lt;Session&gt; call, Throwable t) {\n                    Log.e(TAG + &quot;onFailure&quot;, t.toString());\n                    Log.e(TAG, t.getMessage());\n                    t.printStackTrace();\n                    //callback.onActionFailure(new Result.Error(new Exception(t)));\n                }\n            });\n        } catch (Exception e) {\n            callback.onActionFailure(new Result.Error(e));\n        }\n    }\n</code></pre>\n<p>RetrofitClient class</p>\n<pre><code>package depauw.datle.eshop.data;\n\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\n\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.SSLSocketFactory;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\n\nimport okhttp3.OkHttpClient;\nimport retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\n\npublic class RetrofitClient\n{\n    // Single object reference\n    private static RetrofitClient myInstance;\n    private Retrofit retrofit;\n    private WebInterface webInterface;\n\n    public static RetrofitClient getInstance(){\n        if(myInstance == null){\n            myInstance = new RetrofitClient();\n        }\n        return myInstance;\n    }\n\n    private RetrofitClient(){\n        Gson gson = new GsonBuilder()\n                .setLenient()\n                .create();\n        retrofit = new Retrofit.Builder()\n                .baseUrl(&quot;http://10.0.2.2:8000/api/v1/&quot;)\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .client(getUnsafeOkHttpClient().build())\n                .build();\n        webInterface = retrofit.create(WebInterface.class);\n    }\n\n    public WebInterface getWebInterface(){\n        return webInterface;\n    }\n\n    public static OkHttpClient.Builder getUnsafeOkHttpClient() {\n        try {\n            // Create a trust manager that does not validate certificate chains\n            final TrustManager[] trustAllCerts = new TrustManager[]{\n                new X509TrustManager() {\n                    @Override\n                    public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) {\n                    }\n\n                    @Override\n                    public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) {\n                    }\n\n                    @Override\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                        return new java.security.cert.X509Certificate[]{};\n                    }\n                }\n            };\n\n            // Install the all-trusting trust manager\n            final SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n            sslContext.init(null, trustAllCerts, new java.security.SecureRandom());\n\n            // Create an ssl socket factory with our all-trusting manager\n            final SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n\n            OkHttpClient.Builder builder = new OkHttpClient.Builder();\n            builder.sslSocketFactory(sslSocketFactory, (X509TrustManager) trustAllCerts[0]);\n            builder.hostnameVerifier(new HostnameVerifier() {\n                @Override\n                public boolean verify(String hostname, SSLSession session) {\n                    return true;\n                }\n            });\n            return builder;\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>AndroidManifest.xml, internet permission:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>I think these lines are most relevant, but feel free to let me know which code you need to see.</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1682608828,"post_id":76122026,"comment_id":134245967,"body_markdown":"Yup, sorry, seems you need hib:5.2 at least: https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#data-access-and-transactions","body":"Yup, sorry, seems you need hib:5.2 at least: <a href=\"https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#data-access-and-transactions\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/wiki/&hellip;</a>"},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1682609553,"post_id":76122026,"comment_id":134246145,"body_markdown":"@xerx593 yep i had already seen that but i was hoping for someone to tell there was a hack around lol - guess ill have to go through the pain of upgrading to hibernate 5 - thanks for the comments","body":"@xerx593 yep i had already seen that but i was hoping for someone to tell there was a hack around lol - guess ill have to go through the pain of upgrading to hibernate 5 - thanks for the comments"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1682614727,"post_id":76122026,"comment_id":134247453,"body_markdown":"If you want to use Spring 5 you need hibernate 5, if you want to use JDK11, I think you need hibernate 5.4 at least.","body":"If you want to use Spring 5 you need hibernate 5, if you want to use JDK11, I think you need hibernate 5.4 at least."},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1682623150,"post_id":76122026,"comment_id":134249255,"body_markdown":"@zawarudo I managed to get the app running on spring 4, hibernate 4 with JDK 11 but yeah need both to be 5","body":"@zawarudo I managed to get the app running on spring 4, hibernate 4 with JDK 11 but yeah need both to be 5"}],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1682610318,"answer_count":0,"score":1,"last_activity_date":1682608446,"creation_date":1682608446,"question_id":76122026,"body_markdown":"I am in the process of uprgading a legacy project and the minimum criteria is to get it to spring 5 which i have managed to do but i am now getting some errors to do with sessionFactory. \r\n\r\nThe project is still using hibernate 4.3.11 but i have made all the upgrades for it to work with spring 5.1.18.\r\n\r\n**My question is:**\r\n\r\nIs it possible for spring 5.1 to work with hibernate 4.3? is my error due to the difference in versions?\r\n\r\nhere is the stacktrace just for more info - if you would like to see any other files just let me know\r\n```\r\n\r\n2023-04-27 14:01:55 Apache Commons Daemon procrun stdout initialized.\r\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;allocationStatusHibernateDao&#39; defined in file [C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\ngc-gms\\WEB-INF\\classes\\com\\amor\\ngc\\application\\allocation\\dao\\hibernate\\AllocationStatusHibernateDao.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\nRelated cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\nRelated cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\nContext initialization failed\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;allocationStatusHibernateDao&#39; defined in file [C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\ngc-gms\\WEB-INF\\classes\\com\\amor\\ngc\\application\\allocation\\dao\\hibernate\\AllocationStatusHibernateDao.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\nRelated cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\nRelated cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1338)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:554)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:514)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:321)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:319)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:866)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\r\n\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n\tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\r\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\r\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\r\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1267)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1182)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:554)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:514)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:321)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:319)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1276)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1196)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)\r\n\t... 56 more\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507)\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404)\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:249)\r\n\t... 69 more\r\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/boot/MetadataSources\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2309)\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489)\r\n\t... 72 more\r\nCaused by: java.lang.ClassNotFoundException: org.hibernate.boot.MetadataSources\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\t... 76 more\r\nRelated cause:\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1267)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1182)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getSingletonFactoryBeanForTypeCheck(AbstractAutowireCapableBeanFactory.java:989)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBean(AbstractAutowireCapableBeanFactory.java:863)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:580)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:525)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:497)\r\n\tat org.springframework.beans.factory.BeanFactoryUtils.beanNamesForTypeIncludingAncestors(BeanFactoryUtils.java:227)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1442)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1239)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1196)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1338)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:554)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:514)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:321)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:319)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:866)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\r\n\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n\tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\r\n\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\r\n\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\r\n\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\r\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n  context: \r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10694f1\r\n]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507)\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404)\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:249)\r\n\t... 69 more\r\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/boot/MetadataSources\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2309)\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489)\r\n\t... 72 more\r\nCaused by: java.lang.ClassNotFoundException: org.hibernate.boot.MetadataSources\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n\t... 76 more\r\nRelated cause:\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\r\n```","title":"Spring 5 and hibernate 4 compatibility","body":"<p>I am in the process of uprgading a legacy project and the minimum criteria is to get it to spring 5 which i have managed to do but i am now getting some errors to do with sessionFactory.</p>\n<p>The project is still using hibernate 4.3.11 but i have made all the upgrades for it to work with spring 5.1.18.</p>\n<p><strong>My question is:</strong></p>\n<p>Is it possible for spring 5.1 to work with hibernate 4.3? is my error due to the difference in versions?</p>\n<p>here is the stacktrace just for more info - if you would like to see any other files just let me know</p>\n<pre><code>\n2023-04-27 14:01:55 Apache Commons Daemon procrun stdout initialized.\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'allocationStatusHibernateDao' defined in file [C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\ngc-gms\\WEB-INF\\classes\\com\\amor\\ngc\\application\\allocation\\dao\\hibernate\\AllocationStatusHibernateDao.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\nRelated cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\nRelated cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\nContext initialization failed\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'allocationStatusHibernateDao' defined in file [C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\webapps\\ngc-gms\\WEB-INF\\classes\\com\\amor\\ngc\\application\\allocation\\dao\\hibernate\\AllocationStatusHibernateDao.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\nRelated cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\nRelated cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1338)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:554)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:514)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:321)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:319)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:866)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\n    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\n    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\n    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\n    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\n    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n    at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1267)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1182)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:554)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:514)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:321)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:319)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1196)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)\n    ... 56 more\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507)\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404)\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:249)\n    ... 69 more\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/boot/MetadataSources\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2309)\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489)\n    ... 72 more\nCaused by: java.lang.ClassNotFoundException: org.hibernate.boot.MetadataSources\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    ... 76 more\nRelated cause:\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1267)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1182)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getSingletonFactoryBeanForTypeCheck(AbstractAutowireCapableBeanFactory.java:989)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBean(AbstractAutowireCapableBeanFactory.java:863)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:580)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:525)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:497)\n    at org.springframework.beans.factory.BeanFactoryUtils.beanNamesForTypeIncludingAncestors(BeanFactoryUtils.java:227)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1442)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1239)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1196)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1338)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:554)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:514)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:321)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:319)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:866)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1024)\n    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1911)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\n    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:825)\n    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:475)\n    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1618)\n    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:319)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n    at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:946)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n  context: \n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10694f1\n]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507)\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404)\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:249)\n    ... 69 more\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/boot/MetadataSources\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2309)\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489)\n    ... 72 more\nCaused by: java.lang.ClassNotFoundException: org.hibernate.boot.MetadataSources\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    ... 76 more\nRelated cause:\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.hibernate5.LocalSessionFactoryBean] from ClassLoader [ParallelWebappClassLoader\n</code></pre>\n"},{"tags":["java","docker"],"answers":[{"tags":[],"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682606817,"creation_date":1682606817,"answer_id":76121747,"question_id":76121571,"body_markdown":"The error message tells you that `PATH` does not contain a binary called `java`.\r\n\r\nTry adding `${JAVA_HOME}/bin` to the `PATH` setting.","title":"Docker /entrypoint.sh: 2: exec: java: not found","body":"<p>The error message tells you that <code>PATH</code> does not contain a binary called <code>java</code>.</p>\n<p>Try adding <code>${JAVA_HOME}/bin</code> to the <code>PATH</code> setting.</p>\n"},{"tags":[],"owner":{"account_id":26712307,"reputation":91,"user_id":20317450,"display_name":"Bastian Hologne"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682608084,"creation_date":1682608084,"answer_id":76121969,"question_id":76121571,"body_markdown":"You use a jdk image so you can override your entrypoint like this:\r\n\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;-Dspring.profiles.active=dev&quot;, &quot;/app.jar&quot;]","title":"Docker /entrypoint.sh: 2: exec: java: not found","body":"<p>You use a jdk image so you can override your entrypoint like this:</p>\n<pre><code>ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;-Dspring.profiles.active=dev&quot;, &quot;/app.jar&quot;]\n</code></pre>\n"}],"owner":{"account_id":6414100,"reputation":2253,"user_id":4972832,"accept_rate":83,"display_name":"Pranav MS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76121747,"answer_count":2,"score":0,"last_activity_date":1682608084,"creation_date":1682605810,"question_id":76121571,"body_markdown":"I&#39;m using docker to deploy my java springboot application. But everytime I end up with an error\r\n\r\n[![enter image description here][1]][1] \r\n\r\nThe dashboard for the docker container is showing the java home \r\n\r\n[![enter image description here][2]][2]\r\n\r\nI&#39;m running the docker file from my InteliJ. Can anyone spot where I am doing wrong ?\r\n\r\n**Docker file** \r\n\r\n    FROM openjdk:8u332-jdk-bullseye\r\n    RUN addgroup -system useradmin &amp;&amp; adduser -system useradmin\r\n    \r\n    COPY ibm-aspera-cli-3.9.1.1401.be67d47-linux-64-release.sh /tmp/ibm-aspera-cli-3.9.1.1401.be67d47-linux-64-release.sh\r\n    RUN chmod +x /tmp/ibm-aspera-cli-3.9.1.1401.be67d47-linux-64-release.sh\r\n    \r\n    #install FFMPEG with global configuration.\r\n    RUN apt-get update &amp;&amp; apt-get install -y ffmpeg\r\n    \r\n    #Installing aspera into the system\r\n    RUN sh /tmp/ibm-aspera-cli-3.9.1.1401.be67d47-linux-64-release.sh\r\n    \r\n    USER useradmin:useradmin\r\n    #Adding config file to aspera cli\r\n    COPY .aspera_cli_conf ~/.aspera/cli/bin\r\n    #Adding public key for aspera cli\r\n    COPY asperaclient.pem /home/useradmin/.aspera/cli/etc/\r\n    #Adding aspera cli into the environment path\r\n    ENV PATH=&quot;${-}:~/.aspera/cli/bin&quot;\r\n    # The application&#39;s jar file\r\n    ARG JAR_FILE=*.jar\r\n    COPY ${JAR_FILE} /app.jar\r\n    COPY entrypoint.sh /entrypoint.sh\r\n    \r\n    \r\n    ENTRYPOINT [&quot;/entrypoint.sh&quot;]\r\n\r\n**entrypoint.sh**\r\n\r\n    #!/bin/sh\r\n    exec java -jar -Dspring.profiles.active=dev /app.jar\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SVWM4.png\r\n  [2]: https://i.stack.imgur.com/0Butu.png","title":"Docker /entrypoint.sh: 2: exec: java: not found","body":"<p>I'm using docker to deploy my java springboot application. But everytime I end up with an error</p>\n<p><a href=\"https://i.stack.imgur.com/SVWM4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SVWM4.png\" alt=\"enter image description here\" /></a></p>\n<p>The dashboard for the docker container is showing the java home</p>\n<p><a href=\"https://i.stack.imgur.com/0Butu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Butu.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm running the docker file from my InteliJ. Can anyone spot where I am doing wrong ?</p>\n<p><strong>Docker file</strong></p>\n<pre><code>FROM openjdk:8u332-jdk-bullseye\nRUN addgroup -system useradmin &amp;&amp; adduser -system useradmin\n\nCOPY ibm-aspera-cli-3.9.1.1401.be67d47-linux-64-release.sh /tmp/ibm-aspera-cli-3.9.1.1401.be67d47-linux-64-release.sh\nRUN chmod +x /tmp/ibm-aspera-cli-3.9.1.1401.be67d47-linux-64-release.sh\n\n#install FFMPEG with global configuration.\nRUN apt-get update &amp;&amp; apt-get install -y ffmpeg\n\n#Installing aspera into the system\nRUN sh /tmp/ibm-aspera-cli-3.9.1.1401.be67d47-linux-64-release.sh\n\nUSER useradmin:useradmin\n#Adding config file to aspera cli\nCOPY .aspera_cli_conf ~/.aspera/cli/bin\n#Adding public key for aspera cli\nCOPY asperaclient.pem /home/useradmin/.aspera/cli/etc/\n#Adding aspera cli into the environment path\nENV PATH=&quot;${-}:~/.aspera/cli/bin&quot;\n# The application's jar file\nARG JAR_FILE=*.jar\nCOPY ${JAR_FILE} /app.jar\nCOPY entrypoint.sh /entrypoint.sh\n\n\nENTRYPOINT [&quot;/entrypoint.sh&quot;]\n</code></pre>\n<p><strong>entrypoint.sh</strong></p>\n<pre><code>#!/bin/sh\nexec java -jar -Dspring.profiles.active=dev /app.jar\n</code></pre>\n"},{"tags":["java","spring","validation"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":1,"creation_date":1682590022,"post_id":76118699,"comment_id":134241201,"body_markdown":"can you try making the method public? I believe it needs to be proxied and this won&#39;t work for private methods.","body":"can you try making the method public? I believe it needs to be proxied and this won&#39;t work for private methods."},{"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"score":0,"creation_date":1682594197,"post_id":76118699,"comment_id":134242116,"body_markdown":"Making it public did work, thank you! I got an intermediate solution by trial and error by renaming the method to isFirstName(). This probably worked because firstName has a getter so it can be accessed in some way. But honestly not sure how it exactly works. If you post your comment as an answer I could accept it.","body":"Making it public did work, thank you! I got an intermediate solution by trial and error by renaming the method to isFirstName(). This probably worked because firstName has a getter so it can be accessed in some way. But honestly not sure how it exactly works. If you post your comment as an answer I could accept it."},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":1,"creation_date":1682595188,"post_id":76118699,"comment_id":134242344,"body_markdown":"great. i have added it now. ys, probably it was using the lombok-generated getter :)","body":"great. i have added it now. ys, probably it was using the lombok-generated getter :)"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682608041,"creation_date":1682595062,"answer_id":76119866,"question_id":76118699,"body_markdown":"The validation is done through AOP (aspects). This means your object needs to be proxied and so, the method needs to be accessible. In short, making the method public should fix it:\r\n\r\n    @JsonIgnore // add this to skip json serialization\r\n    @AssertTrue(message = &quot;either first or last name must be set&quot;)\r\n    public boolean isFirstNameOrLastNameSet() {\r\n        return (firstName != null || lastName != null)\r\n    }\r\n","title":"Validate DTO using method","body":"<p>The validation is done through AOP (aspects). This means your object needs to be proxied and so, the method needs to be accessible. In short, making the method public should fix it:</p>\n<pre><code>@JsonIgnore // add this to skip json serialization\n@AssertTrue(message = &quot;either first or last name must be set&quot;)\npublic boolean isFirstNameOrLastNameSet() {\n    return (firstName != null || lastName != null)\n}\n</code></pre>\n"}],"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76119866,"answer_count":1,"score":1,"last_activity_date":1682608041,"creation_date":1682586884,"question_id":76118699,"body_markdown":"I&#39;m trying to validate a DTO based on a method using `@javax.validation.AssertTrue` annotation. \r\n    \r\n    @Getter\r\n    @Setter\r\n    public class EntityDTO {\r\n\r\n        @NotNull\r\n        @Schema(...)\r\n        private String someField;\r\n        @Schema(...)\r\n        private String firstName;\r\n        @Schema(...)\r\n        private String lastName;\r\n\r\n        @AssertTrue(message = &quot;either first or last name must be set&quot;)\r\n        private boolean isFirstNameOrLastNameSet() {\r\n            return (firstName != null || lastName != null)\r\n        }\r\n\r\n    }\r\n\r\n\r\nIf I validate this class (using @Valid) where first and lastName is null like this: \r\n\r\n    save(@Valid EntityDTO);\r\n\r\nI get this error: \r\n\r\n    java.lang.IllegalStateException MESSAGE: JSR-303 validated property\r\n    &#39;firstNameOrLastNameSet&#39; does not have a corresponding accessor for Spring data binding\r\n    - check your DataBinder&#39;s configuration (bean property versus direct field access)\r\n\r\n\r\nI don&#39;t want to change data binding globally because I don&#39;t know all the implications it has on other code. (Like suggested here https://stackoverflow.com/questions/54128075/how-to-configure-direct-field-access-on-valid-in-spring)  \r\n\r\nI was expecting this to work similarly to a normal @NotNull annotation (it works as expected on `someField`) . Where it gets validated, and if it fails I get an Exception. Is there a way to achieve this behaviour or am I expecting the wrong thing? How  would you validate that at a certain point in the code the `isFirstNameOrLastNameSet()` returns true? ","title":"Validate DTO using method","body":"<p>I'm trying to validate a DTO based on a method using <code>@javax.validation.AssertTrue</code> annotation.</p>\n<pre><code>@Getter\n@Setter\npublic class EntityDTO {\n\n    @NotNull\n    @Schema(...)\n    private String someField;\n    @Schema(...)\n    private String firstName;\n    @Schema(...)\n    private String lastName;\n\n    @AssertTrue(message = &quot;either first or last name must be set&quot;)\n    private boolean isFirstNameOrLastNameSet() {\n        return (firstName != null || lastName != null)\n    }\n\n}\n</code></pre>\n<p>If I validate this class (using @Valid) where first and lastName is null like this:</p>\n<pre><code>save(@Valid EntityDTO);\n</code></pre>\n<p>I get this error:</p>\n<pre><code>java.lang.IllegalStateException MESSAGE: JSR-303 validated property\n'firstNameOrLastNameSet' does not have a corresponding accessor for Spring data binding\n- check your DataBinder's configuration (bean property versus direct field access)\n</code></pre>\n<p>I don't want to change data binding globally because I don't know all the implications it has on other code. (Like suggested here <a href=\"https://stackoverflow.com/questions/54128075/how-to-configure-direct-field-access-on-valid-in-spring\">How to configure direct field access on @Valid in Spring?</a>)</p>\n<p>I was expecting this to work similarly to a normal @NotNull annotation (it works as expected on <code>someField</code>) . Where it gets validated, and if it fails I get an Exception. Is there a way to achieve this behaviour or am I expecting the wrong thing? How  would you validate that at a certain point in the code the <code>isFirstNameOrLastNameSet()</code> returns true?</p>\n"},{"tags":["java","android","gradle","kapt"],"comments":[{"owner":{"account_id":2008878,"reputation":15778,"user_id":1797912,"accept_rate":60,"display_name":"Chriki"},"score":1,"creation_date":1673814465,"post_id":75109742,"comment_id":132576448,"body_markdown":"Can you maybe provide a [mre] or at least more details on your Gradle setup that results in the quoted message?","body":"Can you maybe provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or at least more details on your Gradle setup that results in the quoted message?"},{"owner":{"account_id":194212,"reputation":2868,"user_id":436417,"display_name":"Uli"},"score":0,"creation_date":1675465830,"post_id":75109742,"comment_id":132942462,"body_markdown":"This would not even be a problem if Jetbrains hadn&#39;t broken the kotlinOptions.jvmTarget configuration support for kapt in Kotlin 1.8.0 and refuses to fix it: https://youtrack.jetbrains.com/issue/KT-55947/Unable-to-set-kapt-jvm-target-version","body":"This would not even be a problem if Jetbrains hadn&#39;t broken the kotlinOptions.jvmTarget configuration support for kapt in Kotlin 1.8.0 and refuses to fix it: <a href=\"https://youtrack.jetbrains.com/issue/KT-55947/Unable-to-set-kapt-jvm-target-version\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-55947/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":92486,"reputation":45185,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1674735376,"creation_date":1674040807,"answer_id":75158443,"question_id":75109742,"body_markdown":"## Repro\r\n(note: the Google issuetracker doesn&#39;t allow downloading the ZIP, did you check some checkbox there to hide it? There&#39;s nothing secret in the zip &#128521;)\r\n\r\nSo, using the example provided in the [semi-related Gradle issue](https://github.com/gradle/gradle/issues/18935#issuecomment-1386765542) I was able to reproduce with `gradlew assemble`.\r\n\r\n## Investigation\r\nAt this point I&#39;m looking for how kapt task gets the Java version, because it should pick up `kotlinOptions { jvmTarget = &#39;17&#39; }` without question.\r\n\r\n### Source code\r\nFor this I&#39;ll need sources, which are not available when using .gradle files. Konversion of a build.gradle file is necessary so that Android Studio imports the JARs on the plugin classpath under &quot;External Libraries &gt; Kotlin Script dependencies&quot;. This means we can browse the sources of Kotlin, AGP, Gradle. So I changed the root `build.gradle` to `build.gradle.kts` (which imports all related plugins) so it reads:\r\n```gradle\r\nplugins {\r\n    id(&quot;com.android.application&quot;) version &quot;8.0.0-alpha11&quot; apply false\r\n    id(&quot;org.jetbrains.kotlin.android&quot;) version &quot;1.8.0&quot; apply false\r\n}\r\n```\r\n(Tip: one AGP plugin declaration is enough to lock in the version of all `com.android.*` plugins.)\r\n\r\n### Reading code\r\nThe problematic task is `kaptGenerateStubsDebugKotlin`, so the task class name should contain `GenStub` in it, and indeed there&#39;s `org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask`, which extends `KotlinCompile`, hello old friend! `KaptGenerateStubsTask.setupCompilerArgs` looks like a good place to start.\r\n\r\n### Debug setup\r\nAt this point it&#39;s easier to read the code while executing as well to see the values, so I started a debugging session:\r\n```shell\r\ngradlew cleanKaptGenerateStubsDebugKotlin assemble --no-daemon -Dorg.gradle.debug=true\r\n```\r\nThen in Android Studio &gt; Run &gt; Edit Configurations... &gt; + &gt; Remote JVM Debug (defaults are good) &gt; OK. And then select the just-created &quot;Unnamed&quot; run config and press the green bug (Debug) button.\r\n\r\n### Debugging notes\r\nBehavior of `setupCompilerArgs`:\r\n * `contributeArguments` does a lot of setup\r\n   * `args.jvmTarget` is null initially\r\n   * `compilerOptions.jvmTarget.get()` is 17 (compilerOptions in this case is kotlinc task)\r\n   * `(compilerOptions as KotlinJvmCompilerOptionsDefault).fillDefaultValues(args)` clears `args.jvmTarget` (was already cleared)\r\n   * `compilerOptions.fillCompilerArguments(args)` sets `args.jvmTarget = compilerOptions.jvmTarget.orNull?.target` (wohoo, we have 17!)\r\n * `(compilerOptions as KotlinJvmCompilerOptionsDefault).fillCompilerArguments(args)`\r\n   * sets `args.jvmTarget = compilerOptions.jvmTarget.orNull?.target` (wtf, we are on `null` again)\r\n\r\n### Conclusion\r\n\r\nSo at this point we know that the problem is that Kapt&#39;s `jvmTarget` doesn&#39;t inherit from the global `kotlinOptions`, this sounds like a KGP bug that only manifests with different targets as in your repro.\r\n\r\nI was curious where this is set, and searching for `jvmTarget.set` yielded `AndroidProjectHandler` which sounds pretty relevant. Looking at the calls to `wireExtensionOptionsToCompilation` they only set up the kotlinCompile, not the kapt task.\r\n\r\n## Workaround\r\n\r\nArmed with this knowledge the only option I see is\r\n```gradle\r\n// TODO remove this once https://youtrack.jetbrains.com/issue/KT-.... is fixed\r\ntasks.withType(org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask).configureEach {\r\n    kotlinOptions.jvmTarget = &#39;17&#39;\r\n}\r\n```\r\n(If you don&#39;t want to reference `internal` classes use the Kapt tasks&#39;s superclass `KotlinCompile` instead; that will configure more though, not just the problematic part.)\r\n\r\n## Report\r\n\r\nPlease report this to YouTrack! Only JetBrains is able to fix this at the moment. Sadly I don&#39;t have high hopes for a fix, because Google is in the process of taking over the Android part of KGP (early stages); fingers crossed they won&#39;t reimplement the same problem.\r\n\r\n## Fix\r\nFollowing the [suggestion from JetBrains](https://youtrack.jetbrains.com/issue/KTIJ-24311/task-current-target-is-17-and-kaptGenerateStubsProductionDebugKotlin-task-current-target-is-1.8-jvm-target-compatibility-should#focus=Comments-27-6798448.0-0), this will also solve the issue, however it forces users to use the same JDK and target bytecode version:\r\n```kotlin\r\nkotlin {\r\n    jvmToolchain(17)\r\n}\r\n```\r\n\r\n## Note\r\nKotlin 1.8 added new DSL for setting these things, but only to tasks, it&#39;s not supporting the module level yet, see https://kotlinlang.org/docs/whatsnew18.html#limitations and the big green note above that section.","title":"How to configure kapt to generate Java17 Java stubs in Android Gradle build file","body":"<h2>Repro</h2>\n<p>(note: the Google issuetracker doesn't allow downloading the ZIP, did you check some checkbox there to hide it? There's nothing secret in the zip 😉)</p>\n<p>So, using the example provided in the <a href=\"https://github.com/gradle/gradle/issues/18935#issuecomment-1386765542\" rel=\"noreferrer\">semi-related Gradle issue</a> I was able to reproduce with <code>gradlew assemble</code>.</p>\n<h2>Investigation</h2>\n<p>At this point I'm looking for how kapt task gets the Java version, because it should pick up <code>kotlinOptions { jvmTarget = '17' }</code> without question.</p>\n<h3>Source code</h3>\n<p>For this I'll need sources, which are not available when using .gradle files. Konversion of a build.gradle file is necessary so that Android Studio imports the JARs on the plugin classpath under &quot;External Libraries &gt; Kotlin Script dependencies&quot;. This means we can browse the sources of Kotlin, AGP, Gradle. So I changed the root <code>build.gradle</code> to <code>build.gradle.kts</code> (which imports all related plugins) so it reads:</p>\n<pre><code>plugins {\n    id(&quot;com.android.application&quot;) version &quot;8.0.0-alpha11&quot; apply false\n    id(&quot;org.jetbrains.kotlin.android&quot;) version &quot;1.8.0&quot; apply false\n}\n</code></pre>\n<p>(Tip: one AGP plugin declaration is enough to lock in the version of all <code>com.android.*</code> plugins.)</p>\n<h3>Reading code</h3>\n<p>The problematic task is <code>kaptGenerateStubsDebugKotlin</code>, so the task class name should contain <code>GenStub</code> in it, and indeed there's <code>org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask</code>, which extends <code>KotlinCompile</code>, hello old friend! <code>KaptGenerateStubsTask.setupCompilerArgs</code> looks like a good place to start.</p>\n<h3>Debug setup</h3>\n<p>At this point it's easier to read the code while executing as well to see the values, so I started a debugging session:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>gradlew cleanKaptGenerateStubsDebugKotlin assemble --no-daemon -Dorg.gradle.debug=true\n</code></pre>\n<p>Then in Android Studio &gt; Run &gt; Edit Configurations... &gt; + &gt; Remote JVM Debug (defaults are good) &gt; OK. And then select the just-created &quot;Unnamed&quot; run config and press the green bug (Debug) button.</p>\n<h3>Debugging notes</h3>\n<p>Behavior of <code>setupCompilerArgs</code>:</p>\n<ul>\n<li><code>contributeArguments</code> does a lot of setup\n<ul>\n<li><code>args.jvmTarget</code> is null initially</li>\n<li><code>compilerOptions.jvmTarget.get()</code> is 17 (compilerOptions in this case is kotlinc task)</li>\n<li><code>(compilerOptions as KotlinJvmCompilerOptionsDefault).fillDefaultValues(args)</code> clears <code>args.jvmTarget</code> (was already cleared)</li>\n<li><code>compilerOptions.fillCompilerArguments(args)</code> sets <code>args.jvmTarget = compilerOptions.jvmTarget.orNull?.target</code> (wohoo, we have 17!)</li>\n</ul>\n</li>\n<li><code>(compilerOptions as KotlinJvmCompilerOptionsDefault).fillCompilerArguments(args)</code>\n<ul>\n<li>sets <code>args.jvmTarget = compilerOptions.jvmTarget.orNull?.target</code> (wtf, we are on <code>null</code> again)</li>\n</ul>\n</li>\n</ul>\n<h3>Conclusion</h3>\n<p>So at this point we know that the problem is that Kapt's <code>jvmTarget</code> doesn't inherit from the global <code>kotlinOptions</code>, this sounds like a KGP bug that only manifests with different targets as in your repro.</p>\n<p>I was curious where this is set, and searching for <code>jvmTarget.set</code> yielded <code>AndroidProjectHandler</code> which sounds pretty relevant. Looking at the calls to <code>wireExtensionOptionsToCompilation</code> they only set up the kotlinCompile, not the kapt task.</p>\n<h2>Workaround</h2>\n<p>Armed with this knowledge the only option I see is</p>\n<pre><code>// TODO remove this once https://youtrack.jetbrains.com/issue/KT-.... is fixed\ntasks.withType(org.jetbrains.kotlin.gradle.internal.KaptGenerateStubsTask).configureEach {\n    kotlinOptions.jvmTarget = '17'\n}\n</code></pre>\n<p>(If you don't want to reference <code>internal</code> classes use the Kapt tasks's superclass <code>KotlinCompile</code> instead; that will configure more though, not just the problematic part.)</p>\n<h2>Report</h2>\n<p>Please report this to YouTrack! Only JetBrains is able to fix this at the moment. Sadly I don't have high hopes for a fix, because Google is in the process of taking over the Android part of KGP (early stages); fingers crossed they won't reimplement the same problem.</p>\n<h2>Fix</h2>\n<p>Following the <a href=\"https://youtrack.jetbrains.com/issue/KTIJ-24311/task-current-target-is-17-and-kaptGenerateStubsProductionDebugKotlin-task-current-target-is-1.8-jvm-target-compatibility-should#focus=Comments-27-6798448.0-0\" rel=\"noreferrer\">suggestion from JetBrains</a>, this will also solve the issue, however it forces users to use the same JDK and target bytecode version:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>kotlin {\n    jvmToolchain(17)\n}\n</code></pre>\n<h2>Note</h2>\n<p>Kotlin 1.8 added new DSL for setting these things, but only to tasks, it's not supporting the module level yet, see <a href=\"https://kotlinlang.org/docs/whatsnew18.html#limitations\" rel=\"noreferrer\">https://kotlinlang.org/docs/whatsnew18.html#limitations</a> and the big green note above that section.</p>\n"},{"tags":[],"owner":{"account_id":186082,"reputation":4236,"user_id":423199,"accept_rate":99,"display_name":"Hector"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674141683,"creation_date":1674141683,"answer_id":75174487,"question_id":75109742,"body_markdown":"I have updated my version Android Studio to\r\n\r\n    Android Studio Giraffe | 2022.3.1 Canary 1\r\n    Build #AI-223.4884.69.2231.9486165, built on January 13, 2023\r\n    Runtime version: 17.0.5+0-17.0.5b653.23-9410051 x86_64\r\n    VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\n    macOS 12.6.1\r\n    GC: G1 Young Generation, G1 Old Generation\r\n    Memory: 4096M\r\n    Cores: 12\r\n    Metal Rendering is ON\r\n    Registry:\r\n        external.system.auto.import.disabled=true\r\n        ide.text.editor.with.preview.show.floating.toolbar=false\r\n        ide.images.show.chessboard=true\r\n    \r\n    Non-Bundled Plugins:\r\n        com.android.aas (3.5.1)\r\n\r\nand upgraded to gradle\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;8.1.0-alpha01&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;8.1.0-alpha01&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\r\n        id &#39;com.google.dagger.hilt.android&#39; version &#39;2.44.2&#39; apply false\r\n    }\r\n    \r\n    tasks.register(&#39;clean&#39;) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nand gradle wrapper\r\n\r\n    #Tue Oct 25 07:38:32 BST 2022\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-rc-1-bin.zip\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n\r\n\r\nall these actions have resulted in the resolution of my issue\r\n","title":"How to configure kapt to generate Java17 Java stubs in Android Gradle build file","body":"<p>I have updated my version Android Studio to</p>\n<pre><code>Android Studio Giraffe | 2022.3.1 Canary 1\nBuild #AI-223.4884.69.2231.9486165, built on January 13, 2023\nRuntime version: 17.0.5+0-17.0.5b653.23-9410051 x86_64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nmacOS 12.6.1\nGC: G1 Young Generation, G1 Old Generation\nMemory: 4096M\nCores: 12\nMetal Rendering is ON\nRegistry:\n    external.system.auto.import.disabled=true\n    ide.text.editor.with.preview.show.floating.toolbar=false\n    ide.images.show.chessboard=true\n\nNon-Bundled Plugins:\n    com.android.aas (3.5.1)\n</code></pre>\n<p>and upgraded to gradle</p>\n<pre><code>plugins {\n    id 'com.android.application' version '8.1.0-alpha01' apply false\n    id 'com.android.library' version '8.1.0-alpha01' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n    id 'com.google.dagger.hilt.android' version '2.44.2' apply false\n}\n\ntasks.register('clean') {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>and gradle wrapper</p>\n<pre><code>#Tue Oct 25 07:38:32 BST 2022\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-rc-1-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n<p>all these actions have resulted in the resolution of my issue</p>\n"},{"tags":[],"owner":{"account_id":12806864,"reputation":33,"user_id":17953936,"display_name":"Eugene Myname"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682607702,"creation_date":1682607350,"answer_id":76121853,"question_id":75109742,"body_markdown":"I fixed this problem this way:\r\nin project module build.gradle I have this plugins:\r\n\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;8.0.0&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;8.0.0&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\r\n        id &#39;com.google.dagger.hilt.android&#39; version &#39;2.44&#39; apply false\r\n    }\r\nThose plugins just for information. I didn&#39;t do anything with them.\r\n&lt;br&gt; In **app module** *build.gradle*\r\n&lt;br&gt; I didn&#39;t touched this compileOptions\r\n \r\n\r\n    compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n\r\nI Just added this annotation\r\n\r\n            kotlin {\r\n                    // Or shorter:\r\n                    jvmToolchain(8)\r\n            }\r\n\r\n And commented this annotation\r\n\r\n    //    kotlinOptions {\r\n    //        jvmTarget = &#39;1.8&#39;\r\n    //    }\r\n\r\nAnd in settings.gradle\r\nI added this code in the middle of file:\r\n\r\n    plugins {\r\n        id &#39;org.gradle.toolchains.foojay-resolver-convention&#39; version &#39;0.4.0&#39;\r\n    }\r\n\r\nFound this pieces of code in different sources","title":"How to configure kapt to generate Java17 Java stubs in Android Gradle build file","body":"<p>I fixed this problem this way:\nin project module build.gradle I have this plugins:</p>\n<pre><code>plugins {\n    id 'com.android.application' version '8.0.0' apply false\n    id 'com.android.library' version '8.0.0' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n    id 'com.google.dagger.hilt.android' version '2.44' apply false\n}\n</code></pre>\n<p>Those plugins just for information. I didn't do anything with them.\n<br> In <strong>app module</strong> <em>build.gradle</em>\n<br> I didn't touched this compileOptions</p>\n<pre><code>compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n</code></pre>\n<p>I Just added this annotation</p>\n<pre><code>        kotlin {\n                // Or shorter:\n                jvmToolchain(8)\n        }\n</code></pre>\n<p>And commented this annotation</p>\n<pre><code>//    kotlinOptions {\n//        jvmTarget = '1.8'\n//    }\n</code></pre>\n<p>And in settings.gradle\nI added this code in the middle of file:</p>\n<pre><code>plugins {\n    id 'org.gradle.toolchains.foojay-resolver-convention' version '0.4.0'\n}\n</code></pre>\n<p>Found this pieces of code in different sources</p>\n"}],"owner":{"account_id":186082,"reputation":4236,"user_id":423199,"accept_rate":99,"display_name":"Hector"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6496,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":75158443,"answer_count":3,"score":14,"last_activity_date":1682607702,"creation_date":1673615839,"question_id":75109742,"body_markdown":"My current Android project is displaying the following build messages:-\r\n\r\n    &gt; Task :shared:resource:kaptGenerateStubsProductionDebugKotlin\r\n    &#39;compileProductionDebugJavaWithJavac&#39; task (current target is 17) and &#39;kaptGenerateStubsProductionDebugKotlin&#39; task (current target is 1.8) jvm target compatibility should be set to the same Java version.\r\n    By default will become an error since Gradle 8.0+! Read more: https://kotl.in/gradle/jvm/target-validation\r\n    Consider using JVM toolchain: https://kotl.in/gradle/jvm/toolchain\r\n\r\n\r\nHow do you configure kapt to generate stubs in a specific version of java?\r\n\r\nI have tried...\r\n\r\n\r\n    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KaptGenerateStubs).configureEach {\r\n        kotlinJavaToolchain.jdk.use(\r\n                &quot;/usr/local/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home&quot;,\r\n                JavaVersion.VERSION_17\r\n        )\r\n    }\r\n\r\nand\r\n\r\n    kapt {\r\n        javacOptions {\r\n            option(&quot;--target&quot;, 17)\r\n        }\r\n    }\r\n\r\nnone of which made any difference\r\n\r\nIs it possible to control the java version for stubs generated by kapt in an Android project?\r\n\r\nHaving enabled verbose logging in kapt3 I can now see I have configure target correctly\r\n\r\n    Javac options: {--target=17, --source=17}\r\n\r\nand in addition\r\n\r\n    [INFO] All Javac options: {-Adagger.fastInit=enabled=-Adagger.fastInit=enabled, -Adagger.hilt.android.internal.disableAndroidSuperclassValidation=true=-Adagger.hilt.android.internal.disableAndroidSuperclassValidation=true, -Adagger.hilt.android.internal.projectType=LIBRARY=-Adagger.hilt.android.internal.projectType=LIBRARY, -ASomeKaptArgument=ArgumentValue=-ASomeKaptArgument=ArgumentValue, -Akapt.kotlin.generated=/Users/frank/github/mobile-android-practiceupdate/shared/resource/build/generated/source/kaptKotlin/productionDebug=-Akapt.kotlin.generated=/Users/frank/github/mobile-android-practiceupdate/shared/resource/build/generated/source/kaptKotlin/productionDebug, -Adagger.hilt.internal.useAggregatingRootProcessor=false=-Adagger.hilt.internal.useAggregatingRootProcessor=false, --target=17, --source=17, -proc:=only, accessInternalAPI=true,.....\r\n\r\nhowever I still see the above build message\r\n\r\nwhy is kapt ignoring my `javacOptions`?\r\n\r\n\r\nTo recreate this issue:-\r\n\r\nMain project gradle\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;8.0.0-alpha11&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;8.0.0-alpha11&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\r\n        id &#39;com.google.dagger.hilt.android&#39; version &#39;2.44.2&#39; apply false\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\ngradle wrapper\r\n\r\n    #Tue Oct 25 07:38:32 BST 2022\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-bin.zip\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n\r\nGradle JDK\r\n\r\n[![enter image description here][1]][1]\r\n\r\nthen use kapt for say room or hilt in any app or sub module in your project with java version set to 17\r\n\r\n        plugins {\r\n            id &#39;com.android.application&#39;\r\n            id &#39;org.jetbrains.kotlin.android&#39;\r\n            id &#39;dagger.hilt.android.plugin&#39;\r\n            id &quot;org.jetbrains.kotlin.kapt&quot;\r\n        }\r\n        \r\n        android {\r\n            kapt {\r\n                javacOptions {\r\n                    option(&quot;--target&quot;, &quot;17&quot;)\r\n                }\r\n            }\r\n            kotlinOptions {\r\n                jvmTarget = &#39;17&#39;\r\n                freeCompilerArgs += [\r\n                        &quot;-Xcontext-receivers&quot;,\r\n                        &quot;-opt-in=androidx.compose.material3.windowsizeclass.ExperimentalMaterial3WindowSizeClassApi&quot;,\r\n                        &quot;-opt-in=kotlinx.coroutines.ObsoleteCoroutinesApi&quot;]\r\n            }\r\n            compileOptions {\r\n                sourceCompatibility JavaVersion.VERSION_17\r\n                targetCompatibility JavaVersion.VERSION_17\r\n                coreLibraryDesugaringEnabled true\r\n            }\r\n            namespace &#39;com.my.app&#39;\r\n            compileSdk 33\r\n            buildToolsVersion &quot;33.0.1&quot;\r\n        \r\n            defaultConfig {\r\n                applicationId &quot;com.my.app&quot;\r\n                minSdk 26\r\n                targetSdk 33\r\n                versionCode 3\r\n                versionName &quot;3.0&quot;\r\n        \r\n                testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n                vectorDrawables {\r\n                    useSupportLibrary true\r\n                }\r\n            }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        flavorDimensions &quot;default&quot;\r\n        productFlavors {\r\n            development {\r\n                dimension &quot;default&quot;\r\n            }\r\n            staging {\r\n                dimension &quot;default&quot;\r\n            }\r\n            production {\r\n                dimension &quot;default&quot;\r\n            }\r\n        }\r\n         buildFeatures {\r\n            compose true\r\n        }\r\n        composeOptions {\r\n            kotlinCompilerExtensionVersion &#39;1.4.0-dev-k1.8.0-33c0ad36f83&#39;\r\n        }\r\n        packagingOptions {\r\n            resources {\r\n                excludes += &#39;/META-INF/{AL2.0,LGPL2.1}&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:2.0.0&#39;\r\n    \r\n        implementation &#39;org.conscrypt:conscrypt-android:2.5.2&#39;\r\n    \r\n        implementation &#39;com.google.dagger:hilt-android:2.44.2&#39;\r\n        kapt &#39;com.google.dagger:hilt-android-compiler:2.44.2&#39;\r\n        kapt &#39;androidx.hilt:hilt-compiler:1.0.0&#39;\r\n    \r\n    }\r\n\r\nthese are my gradle.properties\r\n\r\n    # Project-wide Gradle settings.\r\n    # IDE (e.g. Android Studio) users:\r\n    # Gradle settings configured through the IDE *will override*\r\n    # any settings specified in this file.\r\n    # For more details on how to configure your build environment visit\r\n    # http://www.gradle.org/docs/current/userguide/build_environment.html\r\n    # Specifies the JVM arguments used for the daemon process.\r\n    # The setting is particularly useful for tweaking memory settings.\r\n    org.gradle.jvmargs=-Xmx8192m -Dfile.encoding=UTF-8\r\n    # When configured, Gradle will run in incubating parallel mode.\r\n    # This option should only be used with decoupled projects. More details, visit\r\n    # http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\r\n    # org.gradle.parallel=true\r\n    # AndroidX package structure to make it clearer which packages are bundled with the\r\n    # Android operating system, and which are packaged with your app&#39;s APK\r\n    # https://developer.android.com/topic/libraries/support-library/androidx-rn\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n    # Kotlin code style for this project: &quot;official&quot; or &quot;obsolete&quot;:\r\n    kotlin.code.style=official\r\n    # Enables namespacing of each library&#39;s R class so that its R class includes only the\r\n    # resources declared in the library itself and none from the library&#39;s dependencies,\r\n    # thereby reducing the size of the R class for that library\r\n    android.nonTransitiveRClass=true\r\n    android.defaults.buildfeatures.buildconfig=true\r\n    kapt.verbose=true\r\n    # positive value will enable caching\r\n    # use the same value as the number of modules that use kapt\r\n    kapt.classloaders.cache.size=5\r\n    \r\n    # disable for caching to work\r\n    kapt.include.compile.classpath=false\r\n    kapt.incremental.apt=false\r\n\r\nthe version of android studio is\r\n\r\n    Android Studio Flamingo | 2022.2.1 Canary 11\r\n    Build #AI-222.4459.24.2221.9445173, built on December 30, 2022\r\n    Runtime version: 17.0.4.1+0-17.0.4.1b469.62-9127311 x86_64\r\n    VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\n    macOS 12.6.1\r\n    GC: G1 Young Generation, G1 Old Generation\r\n    Memory: 4096M\r\n    Cores: 12\r\n    Metal Rendering is ON\r\n    Registry:\r\n        external.system.auto.import.disabled=true\r\n        ide.text.editor.with.preview.show.floating.toolbar=false\r\n        gradle.version.catalogs.dynamic.support=true\r\n        ide.images.show.chessboard=true\r\n    \r\n    Non-Bundled Plugins:\r\n        com.android.aas (3.5.1)\r\n        com.jetbrains.kmm (0.5.1(222)-30)\r\n\r\nI have created this bug [report][2] with attached example android project\r\n\r\n\r\n**UPDATE**\r\n\r\nby adding this to my project level `build.gradle` file the messages disappeared:-\r\n\r\n\r\n    subprojects {\r\n        tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile) {\r\n            kotlinOptions.jvmTarget = &quot;17&quot;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sxcwH.png\r\n  [2]: https://issuetracker.google.com/issues/265653154","title":"How to configure kapt to generate Java17 Java stubs in Android Gradle build file","body":"<p>My current Android project is displaying the following build messages:-</p>\n<pre><code>&gt; Task :shared:resource:kaptGenerateStubsProductionDebugKotlin\n'compileProductionDebugJavaWithJavac' task (current target is 17) and 'kaptGenerateStubsProductionDebugKotlin' task (current target is 1.8) jvm target compatibility should be set to the same Java version.\nBy default will become an error since Gradle 8.0+! Read more: https://kotl.in/gradle/jvm/target-validation\nConsider using JVM toolchain: https://kotl.in/gradle/jvm/toolchain\n</code></pre>\n<p>How do you configure kapt to generate stubs in a specific version of java?</p>\n<p>I have tried...</p>\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KaptGenerateStubs).configureEach {\n    kotlinJavaToolchain.jdk.use(\n            &quot;/usr/local/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home&quot;,\n            JavaVersion.VERSION_17\n    )\n}\n</code></pre>\n<p>and</p>\n<pre><code>kapt {\n    javacOptions {\n        option(&quot;--target&quot;, 17)\n    }\n}\n</code></pre>\n<p>none of which made any difference</p>\n<p>Is it possible to control the java version for stubs generated by kapt in an Android project?</p>\n<p>Having enabled verbose logging in kapt3 I can now see I have configure target correctly</p>\n<pre><code>Javac options: {--target=17, --source=17}\n</code></pre>\n<p>and in addition</p>\n<pre><code>[INFO] All Javac options: {-Adagger.fastInit=enabled=-Adagger.fastInit=enabled, -Adagger.hilt.android.internal.disableAndroidSuperclassValidation=true=-Adagger.hilt.android.internal.disableAndroidSuperclassValidation=true, -Adagger.hilt.android.internal.projectType=LIBRARY=-Adagger.hilt.android.internal.projectType=LIBRARY, -ASomeKaptArgument=ArgumentValue=-ASomeKaptArgument=ArgumentValue, -Akapt.kotlin.generated=/Users/frank/github/mobile-android-practiceupdate/shared/resource/build/generated/source/kaptKotlin/productionDebug=-Akapt.kotlin.generated=/Users/frank/github/mobile-android-practiceupdate/shared/resource/build/generated/source/kaptKotlin/productionDebug, -Adagger.hilt.internal.useAggregatingRootProcessor=false=-Adagger.hilt.internal.useAggregatingRootProcessor=false, --target=17, --source=17, -proc:=only, accessInternalAPI=true,.....\n</code></pre>\n<p>however I still see the above build message</p>\n<p>why is kapt ignoring my <code>javacOptions</code>?</p>\n<p>To recreate this issue:-</p>\n<p>Main project gradle</p>\n<pre><code>plugins {\n    id 'com.android.application' version '8.0.0-alpha11' apply false\n    id 'com.android.library' version '8.0.0-alpha11' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n    id 'com.google.dagger.hilt.android' version '2.44.2' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>gradle wrapper</p>\n<pre><code>#Tue Oct 25 07:38:32 BST 2022\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n<p>Gradle JDK</p>\n<p><a href=\"https://i.stack.imgur.com/sxcwH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sxcwH.png\" alt=\"enter image description here\" /></a></p>\n<p>then use kapt for say room or hilt in any app or sub module in your project with java version set to 17</p>\n<pre><code>    plugins {\n        id 'com.android.application'\n        id 'org.jetbrains.kotlin.android'\n        id 'dagger.hilt.android.plugin'\n        id &quot;org.jetbrains.kotlin.kapt&quot;\n    }\n    \n    android {\n        kapt {\n            javacOptions {\n                option(&quot;--target&quot;, &quot;17&quot;)\n            }\n        }\n        kotlinOptions {\n            jvmTarget = '17'\n            freeCompilerArgs += [\n                    &quot;-Xcontext-receivers&quot;,\n                    &quot;-opt-in=androidx.compose.material3.windowsizeclass.ExperimentalMaterial3WindowSizeClassApi&quot;,\n                    &quot;-opt-in=kotlinx.coroutines.ObsoleteCoroutinesApi&quot;]\n        }\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_17\n            targetCompatibility JavaVersion.VERSION_17\n            coreLibraryDesugaringEnabled true\n        }\n        namespace 'com.my.app'\n        compileSdk 33\n        buildToolsVersion &quot;33.0.1&quot;\n    \n        defaultConfig {\n            applicationId &quot;com.my.app&quot;\n            minSdk 26\n            targetSdk 33\n            versionCode 3\n            versionName &quot;3.0&quot;\n    \n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n            vectorDrawables {\n                useSupportLibrary true\n            }\n        }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    flavorDimensions &quot;default&quot;\n    productFlavors {\n        development {\n            dimension &quot;default&quot;\n        }\n        staging {\n            dimension &quot;default&quot;\n        }\n        production {\n            dimension &quot;default&quot;\n        }\n    }\n     buildFeatures {\n        compose true\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.4.0-dev-k1.8.0-33c0ad36f83'\n    }\n    packagingOptions {\n        resources {\n            excludes += '/META-INF/{AL2.0,LGPL2.1}'\n        }\n    }\n}\n\ndependencies {\n\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:2.0.0'\n\n    implementation 'org.conscrypt:conscrypt-android:2.5.2'\n\n    implementation 'com.google.dagger:hilt-android:2.44.2'\n    kapt 'com.google.dagger:hilt-android-compiler:2.44.2'\n    kapt 'androidx.hilt:hilt-compiler:1.0.0'\n\n}\n</code></pre>\n<p>these are my gradle.properties</p>\n<pre><code># Project-wide Gradle settings.\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n# For more details on how to configure your build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\norg.gradle.jvmargs=-Xmx8192m -Dfile.encoding=UTF-8\n# When configured, Gradle will run in incubating parallel mode.\n# This option should only be used with decoupled projects. More details, visit\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\n# org.gradle.parallel=true\n# AndroidX package structure to make it clearer which packages are bundled with the\n# Android operating system, and which are packaged with your app's APK\n# https://developer.android.com/topic/libraries/support-library/androidx-rn\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n# Kotlin code style for this project: &quot;official&quot; or &quot;obsolete&quot;:\nkotlin.code.style=official\n# Enables namespacing of each library's R class so that its R class includes only the\n# resources declared in the library itself and none from the library's dependencies,\n# thereby reducing the size of the R class for that library\nandroid.nonTransitiveRClass=true\nandroid.defaults.buildfeatures.buildconfig=true\nkapt.verbose=true\n# positive value will enable caching\n# use the same value as the number of modules that use kapt\nkapt.classloaders.cache.size=5\n\n# disable for caching to work\nkapt.include.compile.classpath=false\nkapt.incremental.apt=false\n</code></pre>\n<p>the version of android studio is</p>\n<pre><code>Android Studio Flamingo | 2022.2.1 Canary 11\nBuild #AI-222.4459.24.2221.9445173, built on December 30, 2022\nRuntime version: 17.0.4.1+0-17.0.4.1b469.62-9127311 x86_64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nmacOS 12.6.1\nGC: G1 Young Generation, G1 Old Generation\nMemory: 4096M\nCores: 12\nMetal Rendering is ON\nRegistry:\n    external.system.auto.import.disabled=true\n    ide.text.editor.with.preview.show.floating.toolbar=false\n    gradle.version.catalogs.dynamic.support=true\n    ide.images.show.chessboard=true\n\nNon-Bundled Plugins:\n    com.android.aas (3.5.1)\n    com.jetbrains.kmm (0.5.1(222)-30)\n</code></pre>\n<p>I have created this bug <a href=\"https://issuetracker.google.com/issues/265653154\" rel=\"noreferrer\">report</a> with attached example android project</p>\n<p><strong>UPDATE</strong></p>\n<p>by adding this to my project level <code>build.gradle</code> file the messages disappeared:-</p>\n<pre><code>subprojects {\n    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile) {\n        kotlinOptions.jvmTarget = &quot;17&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","fortify","esapi"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1464263495,"post_id":37459945,"comment_id":62419178,"body_markdown":"Do you rely on DNS names for security with this code? If yes, don&#39;t. If not, ignore the warning. It&#39;s not detecting a vulnerability, it detects that your code can has this vulnerability. https://www.owasp.org/index.php/Often_Misused:_Authentication has an example what not to do with those methods.","body":"Do you rely on DNS names for security with this code? If yes, don&#39;t. If not, ignore the warning. It&#39;s not detecting a vulnerability, it detects that your code can has this vulnerability. <a href=\"https://www.owasp.org/index.php/Often_Misused:_Authentication\" rel=\"nofollow noreferrer\">owasp.org/index.php/Often_Misused:_Authentication</a> has an example what not to do with those methods."},{"owner":{"account_id":1101223,"reputation":135,"user_id":1093576,"display_name":"Laxminarayana Challagonda"},"score":0,"creation_date":1486652219,"post_id":37459945,"comment_id":71445973,"body_markdown":"@veera in my case also same issue if you have solution can share it","body":"@veera in my case also same issue if you have solution can share it"},{"owner":{"account_id":1806467,"reputation":317,"user_id":1643489,"accept_rate":0,"display_name":"veera"},"score":0,"creation_date":1487054584,"post_id":37459945,"comment_id":71599421,"body_markdown":"@LaxminarayanaChallagonda For my case i have written separate code for getting host name from command prompt","body":"@LaxminarayanaChallagonda For my case i have written separate code for getting host name from command prompt"},{"owner":{"account_id":1101223,"reputation":135,"user_id":1093576,"display_name":"Laxminarayana Challagonda"},"score":0,"creation_date":1487080655,"post_id":37459945,"comment_id":71615496,"body_markdown":"@veera can you share the solution if you have. are you using the Rumtime class and passing the cmd ? if this is the case we will get the Command Injection fortify issue ??","body":"@veera can you share the solution if you have. are you using the Rumtime class and passing the cmd ? if this is the case we will get the Command Injection fortify issue ??"}],"answers":[{"tags":[],"owner":{"account_id":2995385,"reputation":43,"user_id":2542028,"accept_rate":86,"display_name":"Bhavisankar"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1477896956,"creation_date":1477896626,"answer_id":40337665,"question_id":37459945,"body_markdown":"You can verify whether the request is from a trusted  host\r\n    \r\n    String ip = request.getRemoteAddr(); \r\n    InetAddress addr = InetAddress.getByName(ip); \r\n    if (addr.getCanonicalHostName().endsWith(&quot;trustme.com&quot;)) { \r\n     trusted = true; \r\n    } ","title":"Fortify fix for Often Misused Authentication","body":"<p>You can verify whether the request is from a trusted  host</p>\n\n<pre><code>String ip = request.getRemoteAddr(); \nInetAddress addr = InetAddress.getByName(ip); \nif (addr.getCanonicalHostName().endsWith(\"trustme.com\")) { \n trusted = true; \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1806467,"reputation":317,"user_id":1643489,"accept_rate":0,"display_name":"veera"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1487054718,"creation_date":1487054718,"answer_id":42219567,"question_id":37459945,"body_markdown":"For my case i have re written the code like this\r\n\r\n    \tpublic static String getIPAddress(String hostname) {\r\n\t\tProcess process;\r\n\t\tString ipAddress = null;\r\n\t\tString localIpAddress = null;\r\n\t\tString[] commandArray;\r\n\t\t\r\n\t\tif(System.getProperty(&quot;os.name&quot;).startsWith(&quot;Windows&quot;)) {\r\n\t\t\tcommandArray = new String[] {&quot;cmd&quot;, &quot;/c&quot;, &quot;ping &quot;+hostname+ &quot; -4 | findstr Pinging&quot;}; // For Windows\r\n\t\t} else {\r\n\t\t\tcommandArray = new String[] { &quot;bash&quot;, &quot;-c&quot;, &quot;host &quot;+hostname}; // For Linux and OSX\r\n\t    }\r\n\t        \t\r\n\t\ttry {\r\n\t\t\tprocess = Runtime.getRuntime().exec(commandArray);\r\n\t\t\tBufferedReader stdInput = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t\t\tString[] output;\r\n\t         // Reading the output of a command executed.\r\n\t         while ((localIpAddress = stdInput.readLine()) != null) {\r\n\t        \t if(System.getProperty(&quot;os.name&quot;).startsWith(&quot;Windows&quot;)) {\r\n\t        \t\t output = localIpAddress.split(&quot; &quot;);\r\n\t        \t\t ipAddress = output[2].replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).trim();\r\n\t        \t } else {\t        \t \r\n\t        \t\t output = localIpAddress.split(&quot;has address&quot;); \r\n\t        \t\t ipAddress = output[1];\r\n\t        \t }\r\n\t         }\r\n\t\t} catch (IOException e) {\r\n\t\t\torg.owasp.esapi.reference.Log4JLogFactory.getInstance().getLogger(&quot; com.util.esapi.InetAddressWrapper.getIPAddress() &lt;&lt; &quot;+e+&quot; &gt;&gt;&quot;);\r\n\t\t}\r\n\t\treturn ipAddress;\r\n\t}\t\r\n","title":"Fortify fix for Often Misused Authentication","body":"<p>For my case i have re written the code like this</p>\n\n<pre><code>    public static String getIPAddress(String hostname) {\n    Process process;\n    String ipAddress = null;\n    String localIpAddress = null;\n    String[] commandArray;\n\n    if(System.getProperty(\"os.name\").startsWith(\"Windows\")) {\n        commandArray = new String[] {\"cmd\", \"/c\", \"ping \"+hostname+ \" -4 | findstr Pinging\"}; // For Windows\n    } else {\n        commandArray = new String[] { \"bash\", \"-c\", \"host \"+hostname}; // For Linux and OSX\n    }\n\n    try {\n        process = Runtime.getRuntime().exec(commandArray);\n        BufferedReader stdInput = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        String[] output;\n         // Reading the output of a command executed.\n         while ((localIpAddress = stdInput.readLine()) != null) {\n             if(System.getProperty(\"os.name\").startsWith(\"Windows\")) {\n                 output = localIpAddress.split(\" \");\n                 ipAddress = output[2].replace(\"[\", \"\").replace(\"]\", \"\").trim();\n             } else {                \n                 output = localIpAddress.split(\"has address\"); \n                 ipAddress = output[1];\n             }\n         }\n    } catch (IOException e) {\n        org.owasp.esapi.reference.Log4JLogFactory.getInstance().getLogger(\" com.util.esapi.InetAddressWrapper.getIPAddress() &lt;&lt; \"+e+\" &gt;&gt;\");\n    }\n    return ipAddress;\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4848535,"reputation":21,"user_id":3911509,"display_name":"gansvv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526680615,"creation_date":1526680615,"answer_id":50419726,"question_id":37459945,"body_markdown":"Try the InetSocketAddress wrapper, esp., for Elasticsearch Transport Client:\r\n\r\n    new InetSocketAddress(hostname, port)","title":"Fortify fix for Often Misused Authentication","body":"<p>Try the InetSocketAddress wrapper, esp., for Elasticsearch Transport Client:</p>\n\n<pre><code>new InetSocketAddress(hostname, port)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584915834,"creation_date":1584915834,"answer_id":60805652,"question_id":37459945,"body_markdown":"All other answers try to provide workarounds by not using the inbuilt API, but using the command line or something else. However, they miss the actual problem, it is not the API that is problematic here, it is the assumption that DNS can be used for authentication.\r\n\r\nAttackers can [spoof][1], that is falsify, DNS responses pretending to be a valid caller. They can also use [IP address spoofing][2] to appear to be a valid caller without attacking DNS.\r\n\r\nTL;DR don&#39;t use DNS or caller-IP as an authentication source. Instead use SSL/TLS with for an encrypted connection, then you can use [Basic-Authentication][3], [Oauth2][4] or even better [client-certificates aka mTLS][5] instead.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/DNS_spoofing\r\n  [2]: https://en.wikipedia.org/wiki/IP_address_spoofing\r\n  [3]: https://www.rfc-editor.org/rfc/rfc7617\r\n  [4]: https://www.rfc-editor.org/rfc/rfc6750\r\n  [5]: https://en.wikipedia.org/wiki/Mutual_authentication","title":"Fortify fix for Often Misused Authentication","body":"<p>All other answers try to provide workarounds by not using the inbuilt API, but using the command line or something else. However, they miss the actual problem, it is not the API that is problematic here, it is the assumption that DNS can be used for authentication.</p>\n<p>Attackers can <a href=\"https://en.wikipedia.org/wiki/DNS_spoofing\" rel=\"nofollow noreferrer\">spoof</a>, that is falsify, DNS responses pretending to be a valid caller. They can also use <a href=\"https://en.wikipedia.org/wiki/IP_address_spoofing\" rel=\"nofollow noreferrer\">IP address spoofing</a> to appear to be a valid caller without attacking DNS.</p>\n<p>TL;DR don't use DNS or caller-IP as an authentication source. Instead use SSL/TLS with for an encrypted connection, then you can use <a href=\"https://www.rfc-editor.org/rfc/rfc7617\" rel=\"nofollow noreferrer\">Basic-Authentication</a>, <a href=\"https://www.rfc-editor.org/rfc/rfc6750\" rel=\"nofollow noreferrer\">Oauth2</a> or even better <a href=\"https://en.wikipedia.org/wiki/Mutual_authentication\" rel=\"nofollow noreferrer\">client-certificates aka mTLS</a> instead.</p>\n"}],"owner":{"account_id":1806467,"reputation":317,"user_id":1643489,"accept_rate":0,"display_name":"veera"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20997,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1682607434,"creation_date":1464263058,"question_id":37459945,"body_markdown":"When I scan using Fortify I have vulnerabilities like &quot;Often Misused: Authentication&quot; in the code below. Is there any fix for this issue?\r\nI have seen related posts but I was not able to get a solution. Using ESAPI, I have provided a regex for hostname and ipadress but it does not work.\r\n\r\n```java\r\naddr.getHostAddress()\r\njava.net.InetAddress.getByName(nameServiceHost);\r\njava.net.InetAddress.getLocalHost().getCanonicalHostName()\r\nlocalhost.getHostName()\r\n```","title":"Fortify fix for Often Misused Authentication","body":"<p>When I scan using Fortify I have vulnerabilities like &quot;Often Misused: Authentication&quot; in the code below. Is there any fix for this issue?\nI have seen related posts but I was not able to get a solution. Using ESAPI, I have provided a regex for hostname and ipadress but it does not work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>addr.getHostAddress()\njava.net.InetAddress.getByName(nameServiceHost);\njava.net.InetAddress.getLocalHost().getCanonicalHostName()\nlocalhost.getHostName()\n</code></pre>\n"},{"tags":["java","spring-boot","microservices","circuit-breaker"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1684220333,"post_id":76121829,"comment_id":134481524,"body_markdown":"Does this help ? https://stackoverflow.com/questions/65181495/bean-creation-error-when-starting-spring-boot-application","body":"Does this help ? <a href=\"https://stackoverflow.com/questions/65181495/bean-creation-error-when-starting-spring-boot-application\" title=\"bean creation error when starting spring boot application\">stackoverflow.com/questions/65181495/&hellip;</a>"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1684220354,"post_id":76121829,"comment_id":134481531,"body_markdown":"Does this answer your question? [bean creation error when starting spring boot application](https://stackoverflow.com/questions/65181495/bean-creation-error-when-starting-spring-boot-application)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65181495/bean-creation-error-when-starting-spring-boot-application\">bean creation error when starting spring boot application</a>"}],"owner":{"account_id":9210277,"reputation":201,"user_id":6843798,"display_name":"S.R.D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682607231,"creation_date":1682607231,"question_id":76121829,"body_markdown":"&gt; Need help, While starting project i am getting error please see the error log i have attached\r\n&gt; \r\n&gt; Pom.xml\r\n\r\n      \r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.hp.it.psoit&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;occ-api-ms&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;name&gt;occ-api-ms&lt;/name&gt;\r\n    \t&lt;version&gt;v1&lt;/version&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;jackson-datatype-threetenbp.version&gt;2.13.0-rc2&lt;/jackson-datatype-threetenbp.version&gt;\r\n    \t\t&lt;commonlib.version&gt;0.4.83&lt;/commonlib.version&gt;\r\n    \t\t&lt;java-jwt.version&gt;4.2.1&lt;/java-jwt.version&gt;\r\n    \t\t&lt;jwks-rsa.version&gt;0.22.0&lt;/jwks-rsa.version&gt;\r\n    \t\t&lt;resilience4j.version&gt;1.0.6.RELEASE&lt;/resilience4j.version&gt;\r\n    \t\t&lt;collections4.version&gt;4.4&lt;/collections4.version&gt;\r\n    \t\t&lt;http-client-spi.version&gt;2.20.25&lt;/http-client-spi.version&gt;\r\n    \t\t&lt;aws-crt.version&gt;0.21.8&lt;/aws-crt.version&gt;\r\n    \t\t&lt;aws-crt-client.version&gt;2.20.25&lt;/aws-crt-client.version&gt;\r\n    \t\t&lt;sdk-core.version&gt;2.20.25&lt;/sdk-core.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.hp.os&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commonlib&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${commonlib.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson-datatype-threetenbp.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${java-jwt.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jwks-rsa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jwks-rsa.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${resilience4j.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${collections4.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;http-client-spi&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${http-client-spi.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;software.amazon.awssdk.crt&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-crt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${aws-crt.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-crt-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${aws-crt-client.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;sdk-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${sdk-core.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n&gt; Application.Java\r\n&gt; ===============\r\n\r\n    \r\n\r\nimport org.springframework.boot.SpringApplication;\r\n    import org.springframework.web.reactive.config.EnableWebFlux;\r\n    \r\n    \r\n    @EnableWebFlux\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n&gt; ======\r\n&gt; Error log\r\n\r\n    \r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:273) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:761) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:568) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat com.hp.it.psoit.ctrms.Application.main(Application.java:11) ~[classes/:na]\r\n    Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@659e0bfd]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320) ~[spring-core-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:267) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:245) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findInjectionMetadata(InitDestroyAnnotationBeanPostProcessor.java:176) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:156) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:276) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1082) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \t... 31 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata\r\n    \tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\r\n    \tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.4.jar:6.0.4]\r\n    \t... 39 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \t... 43 common frames omitted\r\n\r\n\r\n","title":"Error creating bean with name &#39;configurationPropertiesBeans&#39; defined in class path resource","body":"<blockquote>\n<p>Need help, While starting project i am getting error please see the error log i have attached</p>\n<p>Pom.xml</p>\n</blockquote>\n\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.hp.it.psoit&lt;/groupId&gt;\n    &lt;artifactId&gt;occ-api-ms&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;occ-api-ms&lt;/name&gt;\n    &lt;version&gt;v1&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;jackson-datatype-threetenbp.version&gt;2.13.0-rc2&lt;/jackson-datatype-threetenbp.version&gt;\n        &lt;commonlib.version&gt;0.4.83&lt;/commonlib.version&gt;\n        &lt;java-jwt.version&gt;4.2.1&lt;/java-jwt.version&gt;\n        &lt;jwks-rsa.version&gt;0.22.0&lt;/jwks-rsa.version&gt;\n        &lt;resilience4j.version&gt;1.0.6.RELEASE&lt;/resilience4j.version&gt;\n        &lt;collections4.version&gt;4.4&lt;/collections4.version&gt;\n        &lt;http-client-spi.version&gt;2.20.25&lt;/http-client-spi.version&gt;\n        &lt;aws-crt.version&gt;0.21.8&lt;/aws-crt.version&gt;\n        &lt;aws-crt-client.version&gt;2.20.25&lt;/aws-crt-client.version&gt;\n        &lt;sdk-core.version&gt;2.20.25&lt;/sdk-core.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.hp.os&lt;/groupId&gt;\n            &lt;artifactId&gt;commonlib&lt;/artifactId&gt;\n            &lt;version&gt;${commonlib.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\n            &lt;version&gt;${jackson-datatype-threetenbp.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;${java-jwt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;jwks-rsa&lt;/artifactId&gt;\n            &lt;version&gt;${jwks-rsa.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n            &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-circuitbreaker-reactor-resilience4j&lt;/artifactId&gt;\n            &lt;version&gt;${resilience4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;${collections4.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;http-client-spi&lt;/artifactId&gt;\n            &lt;version&gt;${http-client-spi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk.crt&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-crt&lt;/artifactId&gt;\n            &lt;version&gt;${aws-crt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-crt-client&lt;/artifactId&gt;\n            &lt;version&gt;${aws-crt-client.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;sdk-core&lt;/artifactId&gt;\n            &lt;version&gt;${sdk-core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<blockquote>\n<h1>Application.Java</h1>\n</blockquote>\n<p>import org.springframework.boot.SpringApplication;\nimport org.springframework.web.reactive.config.EnableWebFlux;</p>\n<pre><code>@EnableWebFlux\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>======\nError log</p>\n</blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:273) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:761) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:568) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\nat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\nat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74) ~[spring-cloud-context-2.2.9.RELEASE.jar:2.2.9.RELEASE]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64) ~[spring-boot-3.0.2.jar:3.0.2]\nat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\nat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\nat com.hp.it.psoit.ctrms.Application.main(Application.java:11) ~[classes/:na]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@659e0bfd]\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.4.jar:6.0.4]\nat org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320) ~[spring-core-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:267) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:245) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findInjectionMetadata(InitDestroyAnnotationBeanPostProcessor.java:176) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:156) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:276) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1082) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573) ~[spring-beans-6.0.4.jar:6.0.4]\n... 31 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata\nat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\nat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\nat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.4.jar:6.0.4]\n... 39 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n... 43 common frames omitted</p>\n"},{"tags":["java","file","file-io","text-files"],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":3,"up_vote_count":117,"is_accepted":false,"score":114,"last_activity_date":1394570139,"creation_date":1246131610,"answer_id":1053472,"question_id":1053467,"body_markdown":"Take a look at the [Java File API][1]\r\n\r\na quick example:\r\n\r\n    try (PrintStream out = new PrintStream(new FileOutputStream(&quot;filename.txt&quot;))) {\r\n    \tout.print(text);\r\n    }\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html","title":"How do I save a String to a text file using Java?","body":"<p>Take a look at the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/io/File.html\" rel=\"noreferrer\">Java File API</a></p>\n\n<p>a quick example:</p>\n\n<pre><code>try (PrintStream out = new PrintStream(new FileOutputStream(\"filename.txt\"))) {\n    out.print(text);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":4,"up_vote_count":74,"is_accepted":false,"score":70,"last_activity_date":1371194836,"creation_date":1246131622,"answer_id":1053473,"question_id":1053467,"body_markdown":"Use `FileUtils.writeStringToFile()` from [Apache Commons IO][1]. No need to reinvent this particular wheel.\r\n\r\n\r\n  [1]: http://commons.apache.org/io","title":"How do I save a String to a text file using Java?","body":"<p>Use <code>FileUtils.writeStringToFile()</code> from <a href=\"http://commons.apache.org/io\" rel=\"noreferrer\">Apache Commons IO</a>. No need to reinvent this particular wheel.</p>\n"},{"tags":[],"owner":{"account_id":36459,"reputation":40877,"user_id":104014,"accept_rate":89,"display_name":"Artem Barger"},"down_vote_count":3,"up_vote_count":86,"is_accepted":false,"score":83,"last_activity_date":1640718307,"creation_date":1246131739,"answer_id":1053474,"question_id":1053467,"body_markdown":"Just did something similar in my project. Use [FileWriter][1] will simplify part of your job. And here you can find nice [tutorial][2].\r\n\r\n    BufferedWriter writer = null;\r\n    try\r\n    {\r\n        writer = new BufferedWriter( new FileWriter( yourfilename));\r\n        writer.write( yourstring);\r\n\r\n    }\r\n    catch ( IOException e)\r\n    {\r\n    }\r\n    finally\r\n    {\r\n        try\r\n        {\r\n            if ( writer != null)\r\n            writer.close( );\r\n        }\r\n        catch ( IOException e)\r\n        {\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/io/FileWriter.html\r\n  [2]: http://tutorials.jenkov.com/java-io/index.html","title":"How do I save a String to a text file using Java?","body":"<p>Just did something similar in my project. Use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/FileWriter.html\" rel=\"nofollow noreferrer\">FileWriter</a> will simplify part of your job. And here you can find nice <a href=\"http://tutorials.jenkov.com/java-io/index.html\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n<pre><code>BufferedWriter writer = null;\ntry\n{\n    writer = new BufferedWriter( new FileWriter( yourfilename));\n    writer.write( yourstring);\n\n}\ncatch ( IOException e)\n{\n}\nfinally\n{\n    try\n    {\n        if ( writer != null)\n        writer.close( );\n    }\n    catch ( IOException e)\n    {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41913,"reputation":23328,"user_id":121971,"display_name":"Jeremy Smyth"},"down_vote_count":3,"up_vote_count":818,"is_accepted":false,"score":815,"last_activity_date":1682607022,"creation_date":1246131802,"answer_id":1053475,"question_id":1053467,"body_markdown":"If you&#39;re simply outputting text, rather than any binary data, the following will work:\r\n\r\n    PrintWriter out = new PrintWriter(&quot;filename.txt&quot;);\r\n\r\nThen, write your String to it, just like you would to any output stream:\r\n\r\n    out.println(text);\r\n\r\nYou&#39;ll need exception handling, as ever. Be sure to close the output stream when you&#39;ve finished writing.\r\n\r\n    out.close()\r\n\r\nIf you are using Java 7 or later, you can use the &quot;&lt;a href=&quot;https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html&quot;&gt;try-with-resources statement&lt;/a&gt;&quot; which will automatically close your `PrintStream` when you are done with it (ie exit the block) like so:\r\n\r\n    try (PrintWriter out = new PrintWriter(&quot;filename.txt&quot;)) {\r\n        out.println(text);\r\n    }\r\n\r\nYou will still need to explicitly throw the `java.io.FileNotFoundException` as before.","title":"How do I save a String to a text file using Java?","body":"<p>If you're simply outputting text, rather than any binary data, the following will work:</p>\n<pre><code>PrintWriter out = new PrintWriter(&quot;filename.txt&quot;);\n</code></pre>\n<p>Then, write your String to it, just like you would to any output stream:</p>\n<pre><code>out.println(text);\n</code></pre>\n<p>You'll need exception handling, as ever. Be sure to close the output stream when you've finished writing.</p>\n<pre><code>out.close()\n</code></pre>\n<p>If you are using Java 7 or later, you can use the &quot;<a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources statement</a>&quot; which will automatically close your <code>PrintStream</code> when you are done with it (ie exit the block) like so:</p>\n<pre><code>try (PrintWriter out = new PrintWriter(&quot;filename.txt&quot;)) {\n    out.println(text);\n}\n</code></pre>\n<p>You will still need to explicitly throw the <code>java.io.FileNotFoundException</code> as before.</p>\n"},{"tags":[],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"down_vote_count":3,"up_vote_count":281,"is_accepted":false,"score":278,"last_activity_date":1652967357,"creation_date":1246131981,"answer_id":1053487,"question_id":1053467,"body_markdown":"[Apache Commons IO][1] contains some great methods for doing this, in particular FileUtils contains the following method:\r\n\r\n    static void writeStringToFile(File file, String data, Charset charset) \r\n\r\nwhich allows you to write text to a file in one method call:\r\n\r\n    FileUtils.writeStringToFile(new File(&quot;test.txt&quot;), &quot;Hello File&quot;, Charset.forName(&quot;UTF-8&quot;));\r\n\r\nYou might also want to consider specifying the encoding for the file as well.\r\n\r\n\r\n  [1]: http://commons.apache.org/io","title":"How do I save a String to a text file using Java?","body":"<p><a href=\"http://commons.apache.org/io\" rel=\"noreferrer\">Apache Commons IO</a> contains some great methods for doing this, in particular FileUtils contains the following method:</p>\n<pre><code>static void writeStringToFile(File file, String data, Charset charset) \n</code></pre>\n<p>which allows you to write text to a file in one method call:</p>\n<pre><code>FileUtils.writeStringToFile(new File(&quot;test.txt&quot;), &quot;Hello File&quot;, Charset.forName(&quot;UTF-8&quot;));\n</code></pre>\n<p>You might also want to consider specifying the encoding for the file as well.</p>\n"},{"tags":[],"owner":{"display_name":"wolfsnipes"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1321940991,"creation_date":1246132345,"answer_id":1053499,"question_id":1053467,"body_markdown":"You can use the modify the code below to write your file from whatever class or function is handling the text.  One wonders though why the world needs a new text editor...\r\n\r\n\r\n    import java.io.*;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            try {\r\n                String str = &quot;SomeMoreTextIsHere&quot;;\r\n                File newTextFile = new File(&quot;C:/thetextfile.txt&quot;);\r\n    \r\n                FileWriter fw = new FileWriter(newTextFile);\r\n                fw.write(str);\r\n                fw.close();\r\n    \r\n            } catch (IOException iox) {\r\n                //do stuff with exception\r\n                iox.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"How do I save a String to a text file using Java?","body":"<p>You can use the modify the code below to write your file from whatever class or function is handling the text.  One wonders though why the world needs a new text editor...</p>\n\n<pre><code>import java.io.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        try {\n            String str = \"SomeMoreTextIsHere\";\n            File newTextFile = new File(\"C:/thetextfile.txt\");\n\n            FileWriter fw = new FileWriter(newTextFile);\n            fw.write(str);\n            fw.close();\n\n        } catch (IOException iox) {\n            //do stuff with exception\n            iox.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"John Doe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1246134772,"creation_date":1246134772,"answer_id":1053553,"question_id":1053467,"body_markdown":"It&#39;s better to close the writer/outputstream in a finally block, just in case something happen\r\n\r\n    finally{\r\n       if(writer != null){\r\n         try{\r\n            writer.flush();\r\n            writer.close();\r\n         }\r\n         catch(IOException ioe){\r\n             ioe.printStackTrace();\r\n         }\r\n       }\r\n    }","title":"How do I save a String to a text file using Java?","body":"<p>It's better to close the writer/outputstream in a finally block, just in case something happen</p>\n\n<pre><code>finally{\n   if(writer != null){\n     try{\n        writer.flush();\n        writer.close();\n     }\n     catch(IOException ioe){\n         ioe.printStackTrace();\n     }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103756,"reputation":500,"user_id":277746,"display_name":"Mostafa Rezaei"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1451750102,"creation_date":1321811504,"answer_id":8203455,"question_id":1053467,"body_markdown":"You could do this:\r\n\r\n\timport java.io.*;\r\n\timport java.util.*;\r\n\r\n\tclass WriteText\r\n\t{\r\n\t\tpublic static void main(String[] args)\r\n\t\t{\t\r\n\t\t\ttry {\r\n\t\t\t\tString text = &quot;Your sample content to save in a text file.&quot;;\r\n\t\t\t\tBufferedWriter out = new BufferedWriter(new FileWriter(&quot;sample.txt&quot;));\r\n\t\t\t\tout.write(text);\r\n\t\t\t\tout.close();\r\n\t\t\t}\r\n\t\t\tcatch (IOException e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Exception &quot;);\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn ;\r\n\t\t}\r\n\t};","title":"How do I save a String to a text file using Java?","body":"<p>You could do this:</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\nclass WriteText\n{\n    public static void main(String[] args)\n    {   \n        try {\n            String text = \"Your sample content to save in a text file.\";\n            BufferedWriter out = new BufferedWriter(new FileWriter(\"sample.txt\"));\n            out.write(text);\n            out.close();\n        }\n        catch (IOException e)\n        {\n            System.out.println(\"Exception \");       \n        }\n\n        return ;\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":56959,"reputation":9026,"user_id":170587,"accept_rate":79,"display_name":"Spina"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1434963552,"creation_date":1340926023,"answer_id":11254277,"question_id":1053467,"body_markdown":"I prefer to rely on libraries whenever possible for this sort of operation. This makes me less likely to accidentally omit an important step (like mistake wolfsnipes made above). Some libraries are suggested above, but my favorite for this kind of thing is [Google Guava][1]. Guava has a class called [Files][2] which works nicely for this task:\r\n\r\n    // This is where the file goes.\r\n    File destination = new File(&quot;file.txt&quot;);\r\n    // This line isn&#39;t needed, but is really useful \r\n    // if you&#39;re a beginner and don&#39;t know where your file is going to end up.\r\n    System.out.println(destination.getAbsolutePath());\r\n    try {\r\n        Files.write(text, destination, Charset.forName(&quot;UTF-8&quot;));\r\n    } catch (IOException e) {\r\n        // Useful error handling here\r\n    }\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/\r\n  [2]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Files.html","title":"How do I save a String to a text file using Java?","body":"<p>I prefer to rely on libraries whenever possible for this sort of operation. This makes me less likely to accidentally omit an important step (like mistake wolfsnipes made above). Some libraries are suggested above, but my favorite for this kind of thing is <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Google Guava</a>. Guava has a class called <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Files.html\" rel=\"noreferrer\">Files</a> which works nicely for this task:</p>\n\n<pre><code>// This is where the file goes.\nFile destination = new File(\"file.txt\");\n// This line isn't needed, but is really useful \n// if you're a beginner and don't know where your file is going to end up.\nSystem.out.println(destination.getAbsolutePath());\ntry {\n    Files.write(text, destination, Charset.forName(\"UTF-8\"));\n} catch (IOException e) {\n    // Useful error handling here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1116991,"reputation":453,"user_id":1106115,"display_name":"Anirban Chakrabarti"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1362138859,"creation_date":1362138859,"answer_id":15157142,"question_id":1053467,"body_markdown":"Use Apache Commons IO api. Its simple \r\n\r\n Use API as\r\n\r\n     FileUtils.writeStringToFile(new File(&quot;FileNameToWrite.txt&quot;), &quot;stringToWrite&quot;);\r\n\r\nMaven Dependency\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n                \r\n\r\n","title":"How do I save a String to a text file using Java?","body":"<p>Use Apache Commons IO api. Its simple </p>\n\n<p>Use API as</p>\n\n<pre><code> FileUtils.writeStringToFile(new File(\"FileNameToWrite.txt\"), \"stringToWrite\");\n</code></pre>\n\n<p>Maven Dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1433229,"reputation":1313,"user_id":1355145,"accept_rate":100,"display_name":"JaDogg"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1376491883,"creation_date":1376390435,"answer_id":18206938,"question_id":1053467,"body_markdown":"If you only care about pushing one block of text to file, this will overwrite it each time.\r\n\r\n    JFileChooser chooser = new JFileChooser();\r\n    int returnVal = chooser.showSaveDialog(this);\r\n    if (returnVal == JFileChooser.APPROVE_OPTION) {\r\n        FileOutputStream stream = null;\r\n        PrintStream out = null;\r\n        try {\r\n            File file = chooser.getSelectedFile();\r\n            stream = new FileOutputStream(file); \r\n            String text = &quot;Your String goes here&quot;;\r\n            out = new PrintStream(stream);\r\n            out.print(text);                  //This will overwrite existing contents\r\n                \r\n        } catch (Exception ex) {\r\n            //do something\r\n        } finally {\r\n            try {\r\n                if(stream!=null) stream.close();\r\n                if(out!=null) out.close();\r\n            } catch (Exception ex) {\r\n                //do something\r\n            }\r\n        }\r\n    }\r\n\r\nThis example allows the user to select a file using a file chooser.","title":"How do I save a String to a text file using Java?","body":"<p>If you only care about pushing one block of text to file, this will overwrite it each time.</p>\n\n<pre><code>JFileChooser chooser = new JFileChooser();\nint returnVal = chooser.showSaveDialog(this);\nif (returnVal == JFileChooser.APPROVE_OPTION) {\n    FileOutputStream stream = null;\n    PrintStream out = null;\n    try {\n        File file = chooser.getSelectedFile();\n        stream = new FileOutputStream(file); \n        String text = \"Your String goes here\";\n        out = new PrintStream(stream);\n        out.print(text);                  //This will overwrite existing contents\n\n    } catch (Exception ex) {\n        //do something\n    } finally {\n        try {\n            if(stream!=null) stream.close();\n            if(out!=null) out.close();\n        } catch (Exception ex) {\n            //do something\n        }\n    }\n}\n</code></pre>\n\n<p>This example allows the user to select a file using a file chooser.</p>\n"},{"tags":[],"owner":{"account_id":1642950,"reputation":11777,"user_id":1515058,"accept_rate":57,"display_name":"Daniil Shevelev"},"down_vote_count":2,"up_vote_count":141,"is_accepted":false,"score":139,"last_activity_date":1570916981,"creation_date":1395020644,"answer_id":22445604,"question_id":1053467,"body_markdown":"In Java 7 you can do this:\r\n\r\n    String content = &quot;Hello File!&quot;;\r\n    String path = &quot;C:/a.txt&quot;;\r\n    Files.write( Paths.get(path), content.getBytes());\r\n\r\nThere is more info here:\r\nhttp://www.drdobbs.com/jvm/java-se-7-new-file-io/231600403","title":"How do I save a String to a text file using Java?","body":"<p>In Java 7 you can do this:</p>\n\n<pre><code>String content = \"Hello File!\";\nString path = \"C:/a.txt\";\nFiles.write( Paths.get(path), content.getBytes());\n</code></pre>\n\n<p>There is more info here:\n<a href=\"http://www.drdobbs.com/jvm/java-se-7-new-file-io/231600403\" rel=\"noreferrer\">http://www.drdobbs.com/jvm/java-se-7-new-file-io/231600403</a></p>\n"},{"tags":[],"owner":{"account_id":2901900,"reputation":1781,"user_id":2488340,"display_name":"Sean H. Worthington"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1417814661,"creation_date":1415217086,"answer_id":26765834,"question_id":1053467,"body_markdown":"    import java.io.*;\r\n\r\n    private void stringToFile( String text, String fileName )\r\n     {\r\n     try\r\n     {\r\n        File file = new File( fileName );\r\n\r\n        // if file doesnt exists, then create it \r\n        if ( ! file.exists( ) )\r\n        {\r\n            file.createNewFile( );\r\n        }\r\n\r\n        FileWriter fw = new FileWriter( file.getAbsoluteFile( ) );\r\n        BufferedWriter bw = new BufferedWriter( fw );\r\n        bw.write( text );\r\n        bw.close( );\r\n        //System.out.println(&quot;Done writing to &quot; + fileName); //For testing \r\n     }\r\n     catch( IOException e )\r\n     {\r\n     System.out.println(&quot;Error: &quot; + e);\r\n     e.printStackTrace( );\r\n     }\r\n    } //End method stringToFile\r\nYou can insert this method into your classes. If you are using this method in a class with a main method, change this class to static by adding the static key word. Either way you will need to import java.io.* to make it work otherwise File, FileWriter and BufferedWriter will not be recognized. ","title":"How do I save a String to a text file using Java?","body":"<pre><code>import java.io.*;\n\nprivate void stringToFile( String text, String fileName )\n {\n try\n {\n    File file = new File( fileName );\n\n    // if file doesnt exists, then create it \n    if ( ! file.exists( ) )\n    {\n        file.createNewFile( );\n    }\n\n    FileWriter fw = new FileWriter( file.getAbsoluteFile( ) );\n    BufferedWriter bw = new BufferedWriter( fw );\n    bw.write( text );\n    bw.close( );\n    //System.out.println(\"Done writing to \" + fileName); //For testing \n }\n catch( IOException e )\n {\n System.out.println(\"Error: \" + e);\n e.printStackTrace( );\n }\n} //End method stringToFile\n</code></pre>\n\n<p>You can insert this method into your classes. If you are using this method in a class with a main method, change this class to static by adding the static key word. Either way you will need to import java.io.* to make it work otherwise File, FileWriter and BufferedWriter will not be recognized. </p>\n"},{"tags":[],"owner":{"account_id":2850233,"reputation":3615,"user_id":2447599,"display_name":"Ran Adler"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1434875892,"creation_date":1418281034,"answer_id":27417047,"question_id":1053467,"body_markdown":"Use this, it is very readable:\r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    \r\n    Files.write(Paths.get(path), lines.getBytes(), StandardOpenOption.WRITE);","title":"How do I save a String to a text file using Java?","body":"<p>Use this, it is very readable:</p>\n\n<pre><code>import java.nio.file.Files;\nimport java.nio.file.Paths;\n\nFiles.write(Paths.get(path), lines.getBytes(), StandardOpenOption.WRITE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1464178754,"creation_date":1464178754,"answer_id":37436916,"question_id":1053467,"body_markdown":"Using `Java 7`:\r\n\r\n\tpublic static void writeToFile(String text, String targetFilePath) throws IOException\r\n\t{\r\n\t\tPath targetPath = Paths.get(targetFilePath);\r\n\t\tbyte[] bytes = text.getBytes(StandardCharsets.UTF_8);\r\n\t\tFiles.write(targetPath, bytes, StandardOpenOption.CREATE);\r\n\t}","title":"How do I save a String to a text file using Java?","body":"<p>Using <code>Java 7</code>:</p>\n\n<pre><code>public static void writeToFile(String text, String targetFilePath) throws IOException\n{\n    Path targetPath = Paths.get(targetFilePath);\n    byte[] bytes = text.getBytes(StandardCharsets.UTF_8);\n    Files.write(targetPath, bytes, StandardOpenOption.CREATE);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1145547,"reputation":1356,"user_id":1128403,"display_name":"GoYun.Info"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1495122044,"creation_date":1483543327,"answer_id":41467301,"question_id":1053467,"body_markdown":"Using org.apache.commons.io.FileUtils:\r\n\r\n    FileUtils.writeStringToFile(new File(&quot;log.txt&quot;), &quot;my string&quot;, Charset.defaultCharset());\r\n\r\n","title":"How do I save a String to a text file using Java?","body":"<p>Using org.apache.commons.io.FileUtils:</p>\n\n<pre><code>FileUtils.writeStringToFile(new File(\"log.txt\"), \"my string\", Charset.defaultCharset());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1857429,"reputation":368,"user_id":1682715,"display_name":"Pavel_H"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1498811290,"creation_date":1498811290,"answer_id":44841992,"question_id":1053467,"body_markdown":"In case if you need create text file based on one single string:\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class StringWriteSample {\r\n        public static void main(String[] args) {\r\n            String text = &quot;This is text to be saved in file&quot;;\r\n    \r\n            try {\r\n                Files.write(Paths.get(&quot;my-file.txt&quot;), text.getBytes());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"How do I save a String to a text file using Java?","body":"<p>In case if you need create text file based on one single string:</p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\npublic class StringWriteSample {\n    public static void main(String[] args) {\n        String text = \"This is text to be saved in file\";\n\n        try {\n            Files.write(Paths.get(\"my-file.txt\"), text.getBytes());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2007994,"reputation":335,"user_id":1797282,"display_name":"alb-i986"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517824489,"creation_date":1517824489,"answer_id":48619783,"question_id":1053467,"body_markdown":"I think the best way is using `Files.write(Path path, Iterable&lt;? extends CharSequence&gt; lines, OpenOption... options)`:\r\n\r\n    String text = &quot;content&quot;;\r\n    Path path = Paths.get(&quot;path&quot;, &quot;to&quot;, &quot;file&quot;);\r\n    Files.write(path, Arrays.asList(text));\r\n\r\nSee [javadoc](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#write(java.nio.file.Path,%20java.lang.Iterable,%20java.nio.charset.Charset,%20java.nio.file.OpenOption...)):\r\n\r\n&gt; Write lines of text to a file. Each line is a char sequence and is\r\n&gt; written to the file in sequence with each line terminated by the\r\n&gt; platform&#39;s line separator, as defined by the system property\r\n&gt; line.separator. Characters are encoded into bytes using the specified\r\n&gt; charset.\r\n&gt; \r\n&gt; The options parameter specifies how the the file is created or opened.\r\n&gt; If no options are present then this method works as if the CREATE,\r\n&gt; TRUNCATE_EXISTING, and WRITE options are present. In other words, it\r\n&gt; opens the file for writing, creating the file if it doesn&#39;t exist, or\r\n&gt; initially truncating an existing regular-file to a size of 0. The\r\n&gt; method ensures that the file is closed when all lines have been\r\n&gt; written (or an I/O error or other runtime exception is thrown). If an\r\n&gt; I/O error occurs then it may do so after the file has created or\r\n&gt; truncated, or after some bytes have been written to the file.\r\n\r\nPlease note. I see people have already answered with Java&#39;s built-in `Files.write`, but what&#39;s special in my answer which nobody seems to mention is the overloaded version of the method which takes an Iterable of  CharSequence (i.e. String), instead of a `byte[]` array, thus `text.getBytes()` is not required, which is a bit cleaner I think.","title":"How do I save a String to a text file using Java?","body":"<p>I think the best way is using <code>Files.write(Path path, Iterable&lt;? extends CharSequence&gt; lines, OpenOption... options)</code>:</p>\n\n<pre><code>String text = \"content\";\nPath path = Paths.get(\"path\", \"to\", \"file\");\nFiles.write(path, Arrays.asList(text));\n</code></pre>\n\n<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#write(java.nio.file.Path,%20java.lang.Iterable,%20java.nio.charset.Charset,%20java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\">javadoc</a>:</p>\n\n<blockquote>\n  <p>Write lines of text to a file. Each line is a char sequence and is\n  written to the file in sequence with each line terminated by the\n  platform's line separator, as defined by the system property\n  line.separator. Characters are encoded into bytes using the specified\n  charset.</p>\n  \n  <p>The options parameter specifies how the the file is created or opened.\n  If no options are present then this method works as if the CREATE,\n  TRUNCATE_EXISTING, and WRITE options are present. In other words, it\n  opens the file for writing, creating the file if it doesn't exist, or\n  initially truncating an existing regular-file to a size of 0. The\n  method ensures that the file is closed when all lines have been\n  written (or an I/O error or other runtime exception is thrown). If an\n  I/O error occurs then it may do so after the file has created or\n  truncated, or after some bytes have been written to the file.</p>\n</blockquote>\n\n<p>Please note. I see people have already answered with Java's built-in <code>Files.write</code>, but what's special in my answer which nobody seems to mention is the overloaded version of the method which takes an Iterable of  CharSequence (i.e. String), instead of a <code>byte[]</code> array, thus <code>text.getBytes()</code> is not required, which is a bit cleaner I think.</p>\n"},{"tags":[],"owner":{"account_id":1529851,"reputation":1106,"user_id":9486645,"display_name":"Supercoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529956346,"creation_date":1529956346,"answer_id":51030942,"question_id":1053467,"body_markdown":"If you wish to keep the carriage return characters from the string into a file\r\nhere is an code example:\r\n    \r\n\r\n        jLabel1 = new JLabel(&quot;Enter SQL Statements or SQL Commands:&quot;);\r\n\t\torderButton = new JButton(&quot;Execute&quot;);\r\n\t\ttextArea = new JTextArea();\r\n        ...\r\n\r\n\r\n    \t// String captured from JTextArea()\r\n\t\torderButton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent ae) {\r\n\t\t\t\t// When Execute button is pressed\r\n\t\t\t\tString tempQuery = textArea.getText();\r\n\t\t\t\ttempQuery = tempQuery.replaceAll(&quot;\\n&quot;, &quot;\\r\\n&quot;);\r\n\t\t\t\ttry (PrintStream out = new PrintStream(new FileOutputStream(&quot;C:/Temp/tempQuery.sql&quot;))) {\r\n\t\t\t\t    out.print(tempQuery);\r\n\t\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(tempQuery);\r\n\t\t\t}\r\n\r\n\t\t});","title":"How do I save a String to a text file using Java?","body":"<p>If you wish to keep the carriage return characters from the string into a file\nhere is an code example:</p>\n\n<pre><code>    jLabel1 = new JLabel(\"Enter SQL Statements or SQL Commands:\");\n    orderButton = new JButton(\"Execute\");\n    textArea = new JTextArea();\n    ...\n\n\n    // String captured from JTextArea()\n    orderButton.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent ae) {\n            // When Execute button is pressed\n            String tempQuery = textArea.getText();\n            tempQuery = tempQuery.replaceAll(\"\\n\", \"\\r\\n\");\n            try (PrintStream out = new PrintStream(new FileOutputStream(\"C:/Temp/tempQuery.sql\"))) {\n                out.print(tempQuery);\n            } catch (FileNotFoundException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            System.out.println(tempQuery);\n        }\n\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5389376,"reputation":145,"user_id":4292371,"display_name":"Mou"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1542690729,"creation_date":1542690729,"answer_id":53386603,"question_id":1053467,"body_markdown":"My way is based on stream due to running on all Android versions and needs of fecthing resources such as URL/URI, any suggestion is welcome.\r\n\r\nAs far as concerned, streams (InputStream and OutputStream) transfer binary data, when developer goes to write a string to a stream, must first convert it to bytes, or in other words encode it.\r\n\r\n    public boolean writeStringToFile(File file, String string, Charset charset) {\r\n        if (file == null) return false;\r\n        if (string == null) return false;\r\n        return writeBytesToFile(file, string.getBytes((charset == null) ? DEFAULT_CHARSET:charset));\r\n    }\r\n\r\n    public boolean writeBytesToFile(File file, byte[] data) {\r\n        if (file == null) return false;\r\n        if (data == null) return false;\r\n        FileOutputStream fos;\r\n        BufferedOutputStream bos;\r\n        try {\r\n            fos = new FileOutputStream(file);\r\n            bos = new BufferedOutputStream(fos);\r\n            bos.write(data, 0, data.length);\r\n            bos.flush();\r\n            bos.close();\r\n            fos.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            Logger.e(&quot;!!! IOException&quot;);\r\n            return false;\r\n        }\r\n        return true;\r\n    }","title":"How do I save a String to a text file using Java?","body":"<p>My way is based on stream due to running on all Android versions and needs of fecthing resources such as URL/URI, any suggestion is welcome.</p>\n\n<p>As far as concerned, streams (InputStream and OutputStream) transfer binary data, when developer goes to write a string to a stream, must first convert it to bytes, or in other words encode it.</p>\n\n<pre><code>public boolean writeStringToFile(File file, String string, Charset charset) {\n    if (file == null) return false;\n    if (string == null) return false;\n    return writeBytesToFile(file, string.getBytes((charset == null) ? DEFAULT_CHARSET:charset));\n}\n\npublic boolean writeBytesToFile(File file, byte[] data) {\n    if (file == null) return false;\n    if (data == null) return false;\n    FileOutputStream fos;\n    BufferedOutputStream bos;\n    try {\n        fos = new FileOutputStream(file);\n        bos = new BufferedOutputStream(fos);\n        bos.write(data, 0, data.length);\n        bos.flush();\n        bos.close();\n        fos.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n        Logger.e(\"!!! IOException\");\n        return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9497377,"reputation":1114,"user_id":7059880,"display_name":"Marcel"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1563091493,"creation_date":1544883660,"answer_id":53794067,"question_id":1053467,"body_markdown":"In **Java 11** the ```java.nio.file.Files``` class was extended by two new utility methods to write a string into a file. The first method (see JavaDoc [here][1]) uses the charset [UTF-8][3] as default:\r\n\r\n    Files.writeString(Path.of(&quot;my&quot;, &quot;path&quot;), &quot;My String&quot;);\r\n\r\nAnd the second method (see JavaDoc [here][2]) allows to specify an individual charset:\r\n\r\n    Files.writeString(Path.of(&quot;my&quot;, &quot;path&quot;), &quot;My String&quot;, StandardCharset.ISO_8859_1);\r\n\r\nBoth methods have an optional Varargs parameter for setting file handling options (see JavaDoc [here][4]). The following example would create a non-existing file or append the string to an existing one:\r\n\r\n    Files.writeString(Path.of(&quot;my&quot;, &quot;path&quot;), &quot;String to append&quot;, StandardOpenOption.CREATE, StandardOpenOption.APPEND);\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.charset.Charset,java.nio.file.OpenOption...)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.file.OpenOption...)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/charset/StandardCharsets.html#UTF_8\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/StandardOpenOption.html","title":"How do I save a String to a text file using Java?","body":"<p>In <strong>Java 11</strong> the <code>java.nio.file.Files</code> class was extended by two new utility methods to write a string into a file. The first method (see JavaDoc <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.charset.Charset,java.nio.file.OpenOption...)\" rel=\"noreferrer\">here</a>) uses the charset <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/charset/StandardCharsets.html#UTF_8\" rel=\"noreferrer\">UTF-8</a> as default:</p>\n\n<pre><code>Files.writeString(Path.of(\"my\", \"path\"), \"My String\");\n</code></pre>\n\n<p>And the second method (see JavaDoc <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.file.OpenOption...)\" rel=\"noreferrer\">here</a>) allows to specify an individual charset:</p>\n\n<pre><code>Files.writeString(Path.of(\"my\", \"path\"), \"My String\", StandardCharset.ISO_8859_1);\n</code></pre>\n\n<p>Both methods have an optional Varargs parameter for setting file handling options (see JavaDoc <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/StandardOpenOption.html\" rel=\"noreferrer\">here</a>). The following example would create a non-existing file or append the string to an existing one:</p>\n\n<pre><code>Files.writeString(Path.of(\"my\", \"path\"), \"String to append\", StandardOpenOption.CREATE, StandardOpenOption.APPEND);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5284169,"reputation":124,"user_id":4218649,"accept_rate":0,"display_name":"Jobin Mathew"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1603346112,"creation_date":1557484397,"answer_id":56075826,"question_id":1053467,"body_markdown":"```java\r\nprivate static void generateFile(String stringToWrite, String outputFile) {\r\n    try {    \t\r\n        FileWriter writer = new FileWriter(outputFile);\r\n        writer.append(stringToWrite);\r\n        writer.flush();\r\n        writer.close();\r\n        log.debug(&quot;New File is generated ==&gt;&quot;+outputFile);\r\n    } catch (Exception exp) {\r\n    \tlog.error(&quot;Exception in generateFile &quot;, exp);\r\n    }\r\n}\r\n```","title":"How do I save a String to a text file using Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>private static void generateFile(String stringToWrite, String outputFile) {\n    try {       \n        FileWriter writer = new FileWriter(outputFile);\n        writer.append(stringToWrite);\n        writer.flush();\n        writer.close();\n        log.debug(&quot;New File is generated ==&gt;&quot;+outputFile);\n    } catch (Exception exp) {\n        log.error(&quot;Exception in generateFile &quot;, exp);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1597756801,"creation_date":1597756801,"answer_id":63469548,"question_id":1053467,"body_markdown":"Basically the same answer [as here](https://stackoverflow.com/a/1053474/26510), but easy to copy/paste, and it just works ;-)\r\n\r\n      import java.io.FileWriter;\r\n\r\n      public void saveToFile(String data, String filename) {\r\n        try (\r\n          FileWriter fw = new FileWriter(filename)) {\r\n          fw.write(data);\r\n        } catch (Exception e) {\r\n          throw new RuntimeException(e);\r\n        }\r\n      }\r\n\r\n","title":"How do I save a String to a text file using Java?","body":"<p>Basically the same answer <a href=\"https://stackoverflow.com/a/1053474/26510\">as here</a>, but easy to copy/paste, and it just works ;-)</p>\n<pre><code>  import java.io.FileWriter;\n\n  public void saveToFile(String data, String filename) {\n    try (\n      FileWriter fw = new FileWriter(filename)) {\n      fw.write(data);\n    } catch (Exception e) {\n      throw new RuntimeException(e);\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22380441,"reputation":29,"user_id":16594125,"display_name":"Abdel Wadoud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659297018,"creation_date":1659297018,"answer_id":73186451,"question_id":1053467,"body_markdown":"I have published a library that saves files, and handles everything with one line of code only, you can find it here along with its documentation\r\n\r\n[Github repository][1]\r\n\r\n\r\n  [1]: https://github.com/rasmi-aw/StorageManager\r\n\r\nand the answer to your question is so easy\r\n\r\n    String path = FileSaver\r\n            .get()\r\n            .save(string.getBytes(),&quot;file.txt&quot;);","title":"How do I save a String to a text file using Java?","body":"<p>I have published a library that saves files, and handles everything with one line of code only, you can find it here along with its documentation</p>\n<p><a href=\"https://github.com/rasmi-aw/StorageManager\" rel=\"nofollow noreferrer\">Github repository</a></p>\n<p>and the answer to your question is so easy</p>\n<pre><code>String path = FileSaver\n        .get()\n        .save(string.getBytes(),&quot;file.txt&quot;);\n</code></pre>\n"}],"owner":{"account_id":43356,"reputation":8333,"user_id":126680,"display_name":"Justin White"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1420628,"favorite_count":0,"down_vote_count":1,"up_vote_count":811,"answer_count":24,"score":810,"last_activity_date":1682607022,"creation_date":1246131448,"question_id":1053467,"body_markdown":"In Java, I have text from a text field in a String variable called &quot;text&quot;.\r\n\r\nHow can I save the contents of the &quot;text&quot; variable to a file?","title":"How do I save a String to a text file using Java?","body":"<p>In Java, I have text from a text field in a String variable called \"text\".</p>\n\n<p>How can I save the contents of the \"text\" variable to a file?</p>\n"},{"tags":["java","exception","package","noclassdeffounderror"],"comments":[{"owner":{"account_id":75156,"reputation":12077,"user_id":215651,"accept_rate":50,"display_name":"lreeder"},"score":1,"creation_date":1375283232,"post_id":17973970,"comment_id":26274536,"body_markdown":"Looking at your main class, it is not in a package (you would have `package graphics;` at the top).  Is `graphics` the head of your package structure?  Does Square have `package graphics.shapes` at the top?","body":"Looking at your main class, it is not in a package (you would have <code>package graphics;</code> at the top).  Is <code>graphics</code> the head of your package structure?  Does Square have <code>package graphics.shapes</code> at the top?"},{"owner":{"account_id":354298,"reputation":5638,"user_id":692560,"accept_rate":86,"display_name":"Vala"},"score":1,"creation_date":1375283238,"post_id":17973970,"comment_id":26274544,"body_markdown":"You&#39;re listing where the .java files are, but since what you&#39;re getting is a _runtime_ issue, what you&#39;re actually interested in is where the .class files are and whether they are on your classpath or not. How are you executing the Main class?","body":"You&#39;re listing where the .java files are, but since what you&#39;re getting is a <i>runtime</i> issue, what you&#39;re actually interested in is where the .class files are and whether they are on your classpath or not. How are you executing the Main class?"},{"owner":{"account_id":1088393,"reputation":1269,"user_id":1083581,"accept_rate":21,"display_name":"happybuddha"},"score":0,"creation_date":1375283584,"post_id":17973970,"comment_id":26274793,"body_markdown":"Just hit Shift+ctrl+o in eclipse to organize your imports","body":"Just hit Shift+ctrl+o in eclipse to organize your imports"},{"owner":{"account_id":2190742,"reputation":413,"user_id":1937865,"accept_rate":50,"display_name":"Jeremy Borg"},"score":0,"creation_date":1392418432,"post_id":17973970,"comment_id":87237874,"body_markdown":"Make sure that you type the class name correctly. I was getting this error because I didn&#39;t start the class name with an upper case letter","body":"Make sure that you type the class name correctly. I was getting this error because I didn&#39;t start the class name with an upper case letter"},{"owner":{"account_id":1126190,"reputation":6796,"user_id":1113435,"accept_rate":91,"display_name":"Zar"},"score":0,"creation_date":1393175693,"post_id":17973970,"comment_id":87237871,"body_markdown":"This sometimes occur in IntelliJ IDEA after a major refactoring. **Right click on your project and select -&gt; Compile Module**, and then re-start the project and it should work again.","body":"This sometimes occur in IntelliJ IDEA after a major refactoring. <b>Right click on your project and select -&gt; Compile Module</b>, and then re-start the project and it should work again."},{"owner":{"account_id":1671980,"reputation":511,"user_id":1538281,"display_name":"Vaishali Kulkarni"},"score":0,"creation_date":1414697230,"post_id":17973970,"comment_id":87237861,"body_markdown":"If you are getting NoClassDefFoundError for some external jar file that you have added to the project, try adding the jar file in lib folder and add it to the classpath by Properties &gt;&gt; Java Build Path &gt;&gt; Add Variable &gt;&gt; Configure Variables &gt;&gt; New Variable Entry. And rebuild.","body":"If you are getting NoClassDefFoundError for some external jar file that you have added to the project, try adding the jar file in lib folder and add it to the classpath by Properties &gt;&gt; Java Build Path &gt;&gt; Add Variable &gt;&gt; Configure Variables &gt;&gt; New Variable Entry. And rebuild."},{"owner":{"account_id":6437067,"reputation":564,"user_id":4988247,"accept_rate":67,"display_name":"Jel"},"score":0,"creation_date":1494008374,"post_id":17973970,"comment_id":87237854,"body_markdown":"I encountered this problem when working with Apache Axis. Spent hours messing with the classpath/build configuration based on most of the feedback here and in similar threads. Turns out I was missing the necessary supporting XML libraries for certain web service transactions. Added them to the project and all became well","body":"I encountered this problem when working with Apache Axis. Spent hours messing with the classpath/build configuration based on most of the feedback here and in similar threads. Turns out I was missing the necessary supporting XML libraries for certain web service transactions. Added them to the project and all became well"},{"owner":{"account_id":10540128,"reputation":967,"user_id":7766525,"accept_rate":88,"display_name":"wei"},"score":0,"creation_date":1514190493,"post_id":17973970,"comment_id":87237849,"body_markdown":"For NetBeans user, you can try to click `Clean and Build Project` This worked for me.","body":"For NetBeans user, you can try to click <code>Clean and Build Project</code> This worked for me."},{"owner":{"account_id":7484097,"reputation":133,"user_id":5687983,"accept_rate":50,"display_name":"Dani Aya"},"score":0,"creation_date":1518555381,"post_id":17973970,"comment_id":87237853,"body_markdown":"If you (like me) were trying several solutions and spent hours without a progress, please notice that eclipse has two different options to export your project into jar executables, which are: Jar file and Runnable Jar File. I exported selecting Runnable Jar File and that does the trick.","body":"If you (like me) were trying several solutions and spent hours without a progress, please notice that eclipse has two different options to export your project into jar executables, which are: Jar file and Runnable Jar File. I exported selecting Runnable Jar File and that does the trick."},{"owner":{"account_id":1095809,"reputation":129,"user_id":1089429,"display_name":"ibrahimgunes"},"score":0,"creation_date":1519036615,"post_id":17973970,"comment_id":87237851,"body_markdown":"I had this error when I was opening a page that used apache poi library.\nI remove it&#39;s folder from .m2 repository folder then I updated my project.\nBasically hitting maven&gt;update project.\nIt worked.\nI hope it helps","body":"I had this error when I was opening a page that used apache poi library. I remove it&#39;s folder from .m2 repository folder then I updated my project. Basically hitting maven&gt;update project. It worked. I hope it helps"},{"owner":{"account_id":3249477,"reputation":502,"user_id":2740179,"accept_rate":33,"display_name":"LuisComS"},"score":0,"creation_date":1661467715,"post_id":17973970,"comment_id":129786147,"body_markdown":"I generally occurs when I try to update libraries, some library is not compatible with other and a conflict occurs. Find the number of compatible versions and try again","body":"I generally occurs when I try to update libraries, some library is not compatible with other and a conflict occurs. Find the number of compatible versions and try again"}],"answers":[{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1682606889,"creation_date":1375282946,"answer_id":17974015,"question_id":17973970,"body_markdown":"One possible reason for this `NoClassDefFoundError` might be that the class is present in the classpath at `Compile time`, but it doesn&#39;t exist in the classpath at `Runtime`.\r\n\r\nIf you&#39;re using Eclipse, make sure you have the `shapes`, `linepoints` and the `spaceobjects` as entries in the `.classpath` file.","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>One possible reason for this <code>NoClassDefFoundError</code> might be that the class is present in the classpath at <code>Compile time</code>, but it doesn't exist in the classpath at <code>Runtime</code>.</p>\n<p>If you're using Eclipse, make sure you have the <code>shapes</code>, <code>linepoints</code> and the <code>spaceobjects</code> as entries in the <code>.classpath</code> file.</p>\n"},{"tags":[],"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1622023442,"creation_date":1375282980,"answer_id":17974031,"question_id":17973970,"body_markdown":"    java.lang.NoClassDefFoundError\r\n\r\nindicates that something was found at *compile time*, but not at *run time*. Maybe you just have to add it to the classpath.\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<pre><code>java.lang.NoClassDefFoundError\n</code></pre>\n<p>indicates that something was found at <em>compile time</em>, but not at <em>run time</em>. Maybe you just have to add it to the classpath.</p>\n"},{"tags":[],"owner":{"account_id":23827,"reputation":16963,"user_id":60020,"accept_rate":85,"display_name":"Samuel"},"down_vote_count":5,"up_vote_count":303,"is_accepted":true,"score":298,"last_activity_date":1622023201,"creation_date":1375283105,"answer_id":17974068,"question_id":17973970,"body_markdown":"After you compile your code, you end up with `.class` files for each class in your program. These binary files are the bytecode that Java interprets to execute your program. The `NoClassDefFoundError` indicates that the classloader (in this case `java.net.URLClassLoader`), which is responsible for dynamically loading classes, cannot find the `.class` file for the class that you&#39;re trying to use.\r\n\r\nYour code wouldn&#39;t compile if the required classes weren&#39;t present (unless classes are loaded with reflection), so usually this exception means that your classpath doesn&#39;t include the required classes. Remember that the classloader (specifically `java.net.URLClassLoader`) will look for classes in package a.b.c in folder a/b/c/ in each entry in your classpath. `NoClassDefFoundError` can also indicate that you&#39;re missing a transitive dependency of a .jar file that you&#39;ve compiled against and you&#39;re trying to use.\r\n\r\nFor example, if you had a class `com.example.Foo`, after compiling you would have a class file `Foo.class`. Say for example your working directory is `.../project/`. That class file must be placed in `.../project/com/example`, and you would set your classpath to `.../project/`.\r\n\r\nSide note: I would recommend taking advantage of the amazing tooling that exists for Java and JVM languages. Modern IDEs like Eclipse and IntelliJ IDEA and build management tools like Maven or Gradle will help you not have to worry about classpaths (as much) and focus on the code! That said, [this link][1] explains how to set the classpath when you execute on the command line.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Classpath_%28Java%29\r\n  [2]: http://snacktrace.com/\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>After you compile your code, you end up with <code>.class</code> files for each class in your program. These binary files are the bytecode that Java interprets to execute your program. The <code>NoClassDefFoundError</code> indicates that the classloader (in this case <code>java.net.URLClassLoader</code>), which is responsible for dynamically loading classes, cannot find the <code>.class</code> file for the class that you're trying to use.</p>\n<p>Your code wouldn't compile if the required classes weren't present (unless classes are loaded with reflection), so usually this exception means that your classpath doesn't include the required classes. Remember that the classloader (specifically <code>java.net.URLClassLoader</code>) will look for classes in package a.b.c in folder a/b/c/ in each entry in your classpath. <code>NoClassDefFoundError</code> can also indicate that you're missing a transitive dependency of a .jar file that you've compiled against and you're trying to use.</p>\n<p>For example, if you had a class <code>com.example.Foo</code>, after compiling you would have a class file <code>Foo.class</code>. Say for example your working directory is <code>.../project/</code>. That class file must be placed in <code>.../project/com/example</code>, and you would set your classpath to <code>.../project/</code>.</p>\n<p>Side note: I would recommend taking advantage of the amazing tooling that exists for Java and JVM languages. Modern IDEs like Eclipse and IntelliJ IDEA and build management tools like Maven or Gradle will help you not have to worry about classpaths (as much) and focus on the code! That said, <a href=\"http://en.wikipedia.org/wiki/Classpath_%28Java%29\" rel=\"noreferrer\">this link</a> explains how to set the classpath when you execute on the command line.</p>\n"},{"tags":[],"owner":{"account_id":2805599,"reputation":1796,"user_id":2412910,"display_name":"p1nkrock"},"down_vote_count":0,"up_vote_count":162,"is_accepted":false,"score":162,"last_activity_date":1622023534,"creation_date":1390468148,"answer_id":21303729,"question_id":17973970,"body_markdown":"I&#39;d like to correct the perspective of others on `NoClassDefFoundError`.\r\n\r\n`NoClassDefFoundError` can occur for multiple reasons like:\r\n\r\n 1. ClassNotFoundException -- .class not found for that referenced class irrespective of whether it is available at compile time or not(i.e base/child class).\r\n 2. Class file located, but Exception raised while initializing static variables\r\n 3. Class file located, Exception raised while initializing static blocks\r\n\r\nIn the original question, it was the first case which can be corrected by setting CLASSPATH to the referenced classes JAR file or to its package folder.\r\n\r\nWhat does it mean by saying &quot;available in compile time&quot;?\r\n\r\n - The referenced class is used in the code. &lt;br/&gt;   E.g.: Two classes, A and B (extends A). If B is referenced directly in the code, it is available at compile time, i.e., `A a = new B();`\r\n\r\nWhat does it mean by saying &quot;not available at compile time&quot;?\r\n\r\n - The compile time class and runtime class are different, i.e., for example base class is loaded using classname of child class for example\r\n   Class.forName(&quot;classname&quot;)\r\n   E.g.: Two classes, A and B (extends A). Code has &lt;br/&gt;\r\n   `A a = Class.forName(&quot;B&quot;).newInstance();`\r\n\r\n\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I'd like to correct the perspective of others on <code>NoClassDefFoundError</code>.</p>\n<p><code>NoClassDefFoundError</code> can occur for multiple reasons like:</p>\n<ol>\n<li>ClassNotFoundException -- .class not found for that referenced class irrespective of whether it is available at compile time or not(i.e base/child class).</li>\n<li>Class file located, but Exception raised while initializing static variables</li>\n<li>Class file located, Exception raised while initializing static blocks</li>\n</ol>\n<p>In the original question, it was the first case which can be corrected by setting CLASSPATH to the referenced classes JAR file or to its package folder.</p>\n<p>What does it mean by saying &quot;available in compile time&quot;?</p>\n<ul>\n<li>The referenced class is used in the code. <br/>   E.g.: Two classes, A and B (extends A). If B is referenced directly in the code, it is available at compile time, i.e., <code>A a = new B();</code></li>\n</ul>\n<p>What does it mean by saying &quot;not available at compile time&quot;?</p>\n<ul>\n<li>The compile time class and runtime class are different, i.e., for example base class is loaded using classname of child class for example\nClass.forName(&quot;classname&quot;)\nE.g.: Two classes, A and B (extends A). Code has <br/>\n<code>A a = Class.forName(&quot;B&quot;).newInstance();</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1446467,"reputation":408,"user_id":1364757,"accept_rate":50,"display_name":"Hypershadsy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1411860759,"creation_date":1411860759,"answer_id":26080159,"question_id":17973970,"body_markdown":"If your project is in a package like `com.blahcode` and your class is called `Main`, the compiled files may be output in a directory structure like `./out/com/blahcode/Main.class`. This is especially true for IntelliJ IDEA.\r\n\r\nWhen trying to run from a shell or cmd, you need to `cd` to that which contains `com` as a sub-directory.\r\n\r\n    cd out\r\n    java -classpath . com.blahcode.Main","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>If your project is in a package like <code>com.blahcode</code> and your class is called <code>Main</code>, the compiled files may be output in a directory structure like <code>./out/com/blahcode/Main.class</code>. This is especially true for IntelliJ IDEA.</p>\n\n<p>When trying to run from a shell or cmd, you need to <code>cd</code> to that which contains <code>com</code> as a sub-directory.</p>\n\n<pre><code>cd out\njava -classpath . com.blahcode.Main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5138961,"reputation":398,"user_id":4116916,"display_name":"sami"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1622023802,"creation_date":1412681031,"answer_id":26234866,"question_id":17973970,"body_markdown":"If you got one of these errors while compiling and running:\r\n\r\n * NoClassDefFoundError\r\n\r\n * Error: Could not find or load main class hello\r\n\r\n * Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:javaTest/test/hello\r\n (wrong name: test/hello)\r\n\r\n    ```lang-none\r\n    at java.lang.ClassLoader.defineClass1(Native Method)\r\n    at java.lang.ClassLoader.defineClass(Unknown Source)\r\n    at java.security.SecureClassLoader.defineClass(Unknown Source)\r\n    at java.net.URLClassLoader.defineClass(Unknown Source)\r\n    at java.net.URLClassLoader.access$100(Unknown Source)\r\n    at java.net.URLClassLoader$1.run(Unknown Source)\r\n    at java.net.URLClassLoader$1.run(Unknown Source)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at java.net.URLClassLoader.findClass(Unknown Source)\r\n    at java.lang.ClassLoader.loadClass(Unknown Source)\r\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n    at java.lang.ClassLoader.loadClass(Unknown Source)\r\n    at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\r\n    ```\r\n\r\n-------------------------- ***Solution*** -----------------------\r\n\r\n**The problem is mostly in packages organization. You should arrange your classes in folders properly regarding to the package classifications in your source code.**\r\n\r\nOn compiling process, use this command:\r\n\r\n    javac -d . [FileName.java]\r\n\r\nTo run the class, please use this command:\r\n\r\n    java [Package].[ClassName]\r\n\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>If you got one of these errors while compiling and running:</p>\n<ul>\n<li><p>NoClassDefFoundError</p>\n</li>\n<li><p>Error: Could not find or load main class hello</p>\n</li>\n<li><p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:javaTest/test/hello\n(wrong name: test/hello)</p>\n<pre class=\"lang-none prettyprint-override\"><code>at java.lang.ClassLoader.defineClass1(Native Method)\nat java.lang.ClassLoader.defineClass(Unknown Source)\nat java.security.SecureClassLoader.defineClass(Unknown Source)\nat java.net.URLClassLoader.defineClass(Unknown Source)\nat java.net.URLClassLoader.access$100(Unknown Source)\nat java.net.URLClassLoader$1.run(Unknown Source)\nat java.net.URLClassLoader$1.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader.findClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\n</code></pre>\n</li>\n</ul>\n<p>-------------------------- <em><strong>Solution</strong></em> -----------------------</p>\n<p><strong>The problem is mostly in packages organization. You should arrange your classes in folders properly regarding to the package classifications in your source code.</strong></p>\n<p>On compiling process, use this command:</p>\n<pre><code>javac -d . [FileName.java]\n</code></pre>\n<p>To run the class, please use this command:</p>\n<pre><code>java [Package].[ClassName]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1630087,"reputation":2337,"user_id":1504824,"accept_rate":67,"display_name":"bharatj"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1622838253,"creation_date":1427041712,"answer_id":29196877,"question_id":17973970,"body_markdown":"**The no class definition exception** occurs when the intended class is not found in the class path.\r\n\r\nAt compile time class: Class was generated from the Java compiler, but somehow at run time the dependent class is not found.\r\n\r\nLet’s go through one simple example:\r\n\r\n    public class ClassA{\r\n        public static void main(String args[]){\r\n             // Some gibberish code...\r\n             String text = ClassB.getString();\r\n             System.out.println(&quot;Text is: &quot; + text);\r\n        }\r\n    }\r\n\r\n    public class ClassB{\r\n        public static String getString(){\r\n            return &quot;Testing some exception&quot;;\r\n        }\r\n    }\r\n\r\nNow let&#39;s assume that the above two Java source code are placed in some folder, let&#39;s say &quot;NoClassDefinationFoundExceptionDemo&quot;\r\n\r\nNow open a shell (assuming Java is already being set up correctly)\r\n\r\n 1. Go to folder &quot;NoClassDefinationFoundExceptionDemo&quot;\r\n 2. Compile Java source files\r\n        javac ClassB\r\n        javac ClassA\r\n\r\n 3. Both files are compiled successfully and generated class files in the same folder as ClassA.class and ClassB.class\r\n 4. Now since we are overriding ClassPath to the current working director, we execute the following command\r\n    ***java -cp . ClassA***\r\n    and it worked successfully and you will see the output on the screen\r\n 5. Now let&#39;s say, you removed ClassB.class file from the present directory.\r\n   And now you execute the command again.\r\n   ***java -cp . ClassA*** Now it will greet you with NoClassDefFoundException. As ClassB which is a dependency for ClassA is not found in the classpath (i.e., the present working directory).\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p><strong>The no class definition exception</strong> occurs when the intended class is not found in the class path.</p>\n<p>At compile time class: Class was generated from the Java compiler, but somehow at run time the dependent class is not found.</p>\n<p>Let’s go through one simple example:</p>\n<pre><code>public class ClassA{\n    public static void main(String args[]){\n         // Some gibberish code...\n         String text = ClassB.getString();\n         System.out.println(&quot;Text is: &quot; + text);\n    }\n}\n\npublic class ClassB{\n    public static String getString(){\n        return &quot;Testing some exception&quot;;\n    }\n}\n</code></pre>\n<p>Now let's assume that the above two Java source code are placed in some folder, let's say &quot;NoClassDefinationFoundExceptionDemo&quot;</p>\n<p>Now open a shell (assuming Java is already being set up correctly)</p>\n<ol>\n<li><p>Go to folder &quot;NoClassDefinationFoundExceptionDemo&quot;</p>\n</li>\n<li><p>Compile Java source files\njavac ClassB\njavac ClassA</p>\n</li>\n<li><p>Both files are compiled successfully and generated class files in the same folder as ClassA.class and ClassB.class</p>\n</li>\n<li><p>Now since we are overriding ClassPath to the current working director, we execute the following command\n<em><strong>java -cp . ClassA</strong></em>\nand it worked successfully and you will see the output on the screen</p>\n</li>\n<li><p>Now let's say, you removed ClassB.class file from the present directory.\nAnd now you execute the command again.\n<em><strong>java -cp . ClassA</strong></em> Now it will greet you with NoClassDefFoundException. As ClassB which is a dependency for ClassA is not found in the classpath (i.e., the present working directory).</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":468582,"reputation":1315,"user_id":874667,"accept_rate":100,"display_name":"khkarens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434553370,"creation_date":1434553370,"answer_id":30895393,"question_id":17973970,"body_markdown":"My two cents in this chain:\r\n\r\nEnsure that the **classpath** contains **full** paths (`/home/user/lib/some_lib.jar` instead of `~/lib/some_lib.jar`) otherwise you can still face `NoClassDefFoundError` error.","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>My two cents in this chain:</p>\n\n<p>Ensure that the <strong>classpath</strong> contains <strong>full</strong> paths (<code>/home/user/lib/some_lib.jar</code> instead of <code>~/lib/some_lib.jar</code>) otherwise you can still face <code>NoClassDefFoundError</code> error.</p>\n"},{"tags":[],"owner":{"account_id":37795,"reputation":1575,"user_id":108153,"accept_rate":25,"display_name":"codeDr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622024848,"creation_date":1441799774,"answer_id":32478934,"question_id":17973970,"body_markdown":"I get NoClassFoundError when classes loaded by the runtime class loader cannot access classes already loaded by the Java rootloader.  Because the different class loaders are in different security domains (according to Java) the JVM won&#39;t allow classes already loaded by the rootloader to be resolved in the runtime loader address space.\r\n\r\nRun your program with &#39;java -javaagent:tracer.jar [YOUR &#39;java&#39; ARGUMENTS]&#39;\r\n\r\nIt produces output showing the loaded class, and the loader environment that loaded the class.  It&#39;s very helpful tracing why a class cannot be resolved.\r\n\r\n    // ClassLoaderTracer.java\r\n    // From: https://blogs.oracle.com/sundararajan/entry/tracing_class_loading_1_5\r\n\r\n    import java.lang.instrument.*;\r\n    import java.security.*;\r\n\r\n    // manifest.mf\r\n    // Premain-Class: ClassLoadTracer\r\n\r\n    // jar -cvfm tracer.jar manifest.mf ClassLoaderTracer.class\r\n\r\n    // java -javaagent:tracer.jar  [...]\r\n\r\n    public class ClassLoadTracer\r\n    {\r\n        public static void premain(String agentArgs, Instrumentation inst)\r\n        {\r\n            final java.io.PrintStream out = System.out;\r\n            inst.addTransformer(new ClassFileTransformer() {\r\n                public byte[] transform(ClassLoader loader, String className, Class classBeingRedefined, ProtectionDomain protectionDomain, byte[] classfileBuffer) throws IllegalClassFormatException {\r\n\r\n                    String pd = (null == protectionDomain) ? &quot;null&quot; : protectionDomain.getCodeSource().toString();\r\n                    out.println(className + &quot; loaded by &quot; + loader + &quot; at &quot; + new java.util.Date() + &quot; in &quot; + pd);\r\n\r\n                    // dump stack trace of the thread loading class\r\n                    Thread.dumpStack();\r\n\r\n                    // we just want the original .class bytes to be loaded!\r\n                    // we are not instrumenting it...\r\n                    return null;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I get NoClassFoundError when classes loaded by the runtime class loader cannot access classes already loaded by the Java rootloader.  Because the different class loaders are in different security domains (according to Java) the JVM won't allow classes already loaded by the rootloader to be resolved in the runtime loader address space.</p>\n<p>Run your program with 'java -javaagent:tracer.jar [YOUR 'java' ARGUMENTS]'</p>\n<p>It produces output showing the loaded class, and the loader environment that loaded the class.  It's very helpful tracing why a class cannot be resolved.</p>\n<pre><code>// ClassLoaderTracer.java\n// From: https://blogs.oracle.com/sundararajan/entry/tracing_class_loading_1_5\n\nimport java.lang.instrument.*;\nimport java.security.*;\n\n// manifest.mf\n// Premain-Class: ClassLoadTracer\n\n// jar -cvfm tracer.jar manifest.mf ClassLoaderTracer.class\n\n// java -javaagent:tracer.jar  [...]\n\npublic class ClassLoadTracer\n{\n    public static void premain(String agentArgs, Instrumentation inst)\n    {\n        final java.io.PrintStream out = System.out;\n        inst.addTransformer(new ClassFileTransformer() {\n            public byte[] transform(ClassLoader loader, String className, Class classBeingRedefined, ProtectionDomain protectionDomain, byte[] classfileBuffer) throws IllegalClassFormatException {\n\n                String pd = (null == protectionDomain) ? &quot;null&quot; : protectionDomain.getCodeSource().toString();\n                out.println(className + &quot; loaded by &quot; + loader + &quot; at &quot; + new java.util.Date() + &quot; in &quot; + pd);\n\n                // dump stack trace of the thread loading class\n                Thread.dumpStack();\n\n                // we just want the original .class bytes to be loaded!\n                // we are not instrumenting it...\n                return null;\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2509208,"reputation":97,"user_id":2182090,"display_name":"totteire"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1622024921,"creation_date":1452589832,"answer_id":34739455,"question_id":17973970,"body_markdown":"It happens a lot with my [Genymotion][1] devices.\r\n\r\nMake sure you have a good amount of memory available on your drive where Genymotion is installed.\r\n\r\n  [1]: https://stackoverflow.com/tags/genymotion/info\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>It happens a lot with my <a href=\"https://stackoverflow.com/tags/genymotion/info\">Genymotion</a> devices.</p>\n<p>Make sure you have a good amount of memory available on your drive where Genymotion is installed.</p>\n"},{"tags":[],"owner":{"account_id":6271411,"reputation":257,"user_id":4875545,"accept_rate":69,"display_name":"yanish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622024944,"creation_date":1460546476,"answer_id":36596804,"question_id":17973970,"body_markdown":"It happened to me in [Android Studio][1].\r\n\r\nThe solution that worked for me: just restart Android Studio.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Android_Studio\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>It happened to me in <a href=\"https://en.wikipedia.org/wiki/Android_Studio\" rel=\"nofollow noreferrer\">Android Studio</a>.</p>\n<p>The solution that worked for me: just restart Android Studio.</p>\n"},{"tags":[],"owner":{"account_id":2478866,"reputation":239,"user_id":2158840,"accept_rate":0,"display_name":"Ed S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622025140,"creation_date":1460641895,"answer_id":36625221,"question_id":17973970,"body_markdown":"After working on a NetBeans project for many months, I suddenly got the NoClassDefFoundError message shortly after getting a &quot;Low Memory&quot; alert. Doing a Clean rebuild didn&#39;t help, but closing NetBeans altogether and reopening the project there were no error reports.\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>After working on a NetBeans project for many months, I suddenly got the NoClassDefFoundError message shortly after getting a &quot;Low Memory&quot; alert. Doing a Clean rebuild didn't help, but closing NetBeans altogether and reopening the project there were no error reports.</p>\n"},{"tags":[],"owner":{"account_id":1454914,"reputation":6202,"user_id":1370770,"accept_rate":71,"display_name":"mask"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622025298,"creation_date":1461864583,"answer_id":36921634,"question_id":17973970,"body_markdown":"I had the same issue with my Android development using Android studio. Solutions provided are general and did not help me (at least for me).\r\n\r\nAfter hours of research, I found the following solution and it may help to Android developers who are doing development using Android Studio.\r\n\r\nModify the setting as below:\r\n\r\n*Preferences* &amp;rarr; *Build, Execution, Deployment* &amp;rarr; *Instant Run* &amp;rarr; *uncheck the first option.\r\n\r\nWith this change I am up and running.\r\n\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I had the same issue with my Android development using Android studio. Solutions provided are general and did not help me (at least for me).</p>\n<p>After hours of research, I found the following solution and it may help to Android developers who are doing development using Android Studio.</p>\n<p>Modify the setting as below:</p>\n<p><em>Preferences</em> → <em>Build, Execution, Deployment</em> → <em>Instant Run</em> → *uncheck the first option.</p>\n<p>With this change I am up and running.</p>\n"},{"tags":[],"owner":{"account_id":1750637,"reputation":2903,"user_id":1599792,"accept_rate":100,"display_name":"Aftab"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1470644358,"creation_date":1470644358,"answer_id":38824317,"question_id":17973970,"body_markdown":"**NoClassDefFoundError in Java:**\r\n\r\n**Definition:** \r\n\r\nNoClassDefFoundError will come if a class was present during compile time but not available in java classpath during runtime. Normally you will see below line in log when you get NoClassDefFoundError:\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError\r\n\r\n**Possible Causes:**\r\n\r\n1.  The class is not available in Java Classpath.\r\n\r\n2. You might be running your program using jar command and class was not defined in manifest file&#39;s ClassPath attribute.\r\n\r\n3. Any start-up script is overriding Classpath environment variable.\r\n4. Because NoClassDefFoundError is a subclass of java.lang.LinkageError it can also come if one of it dependency like native library may not available.\r\n\r\n5. Check for java.lang.ExceptionInInitializerError in your log file. NoClassDefFoundError due to the failure of static initialization is quite common.\r\n\r\n6. If you are working in J2EE environment than the visibility of Class among multiple Classloader can also cause java.lang.NoClassDefFoundError, see examples and scenario section for detailed discussion.\r\n\r\n\r\n**Possible Resolutions:**\r\n\r\n1. Verify that all required Java classes are included in the application’s classpath. The most common mistake is not to include all the necessary classes, before starting to execute a Java application that has dependencies on some external libraries.\r\n\r\n2. The classpath of the application is correct, but the Classpath environment variable is overridden before the application’s execution.\r\n\r\n3. Verify that the aforementioned ExceptionInInitializerError does not appear in the stack trace of your application.\r\n\r\n\r\n**Resources:** \r\n\r\n[3 ways to solve java.lang.NoClassDefFoundError in Java J2EE][1]\r\n\r\n\r\n[java.lang.NoClassDefFoundError – How to solve No Class Def Found Error\r\n][2]\r\n\r\n\r\n  [1]: https://javarevisited.blogspot.com/2011/06/noclassdeffounderror-exception-in.html\r\n  [2]: https://examples.javacodegeeks.com/java-basics/exceptions/java-lang-noclassdeffounderror-how-to-solve-no-class-def-found-error/","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p><strong>NoClassDefFoundError in Java:</strong></p>\n\n<p><strong>Definition:</strong> </p>\n\n<p>NoClassDefFoundError will come if a class was present during compile time but not available in java classpath during runtime. Normally you will see below line in log when you get NoClassDefFoundError:\nException in thread \"main\" java.lang.NoClassDefFoundError</p>\n\n<p><strong>Possible Causes:</strong></p>\n\n<ol>\n<li><p>The class is not available in Java Classpath.</p></li>\n<li><p>You might be running your program using jar command and class was not defined in manifest file's ClassPath attribute.</p></li>\n<li><p>Any start-up script is overriding Classpath environment variable.</p></li>\n<li><p>Because NoClassDefFoundError is a subclass of java.lang.LinkageError it can also come if one of it dependency like native library may not available.</p></li>\n<li><p>Check for java.lang.ExceptionInInitializerError in your log file. NoClassDefFoundError due to the failure of static initialization is quite common.</p></li>\n<li><p>If you are working in J2EE environment than the visibility of Class among multiple Classloader can also cause java.lang.NoClassDefFoundError, see examples and scenario section for detailed discussion.</p></li>\n</ol>\n\n<p><strong>Possible Resolutions:</strong></p>\n\n<ol>\n<li><p>Verify that all required Java classes are included in the application’s classpath. The most common mistake is not to include all the necessary classes, before starting to execute a Java application that has dependencies on some external libraries.</p></li>\n<li><p>The classpath of the application is correct, but the Classpath environment variable is overridden before the application’s execution.</p></li>\n<li><p>Verify that the aforementioned ExceptionInInitializerError does not appear in the stack trace of your application.</p></li>\n</ol>\n\n<p><strong>Resources:</strong> </p>\n\n<p><a href=\"https://javarevisited.blogspot.com/2011/06/noclassdeffounderror-exception-in.html\" rel=\"noreferrer\">3 ways to solve java.lang.NoClassDefFoundError in Java J2EE</a></p>\n\n<p><a href=\"https://examples.javacodegeeks.com/java-basics/exceptions/java-lang-noclassdeffounderror-how-to-solve-no-class-def-found-error/\" rel=\"noreferrer\">java.lang.NoClassDefFoundError – How to solve No Class Def Found Error\n</a></p>\n"},{"tags":[],"owner":{"account_id":6108739,"reputation":590,"user_id":4765736,"display_name":"John Chesshir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622025390,"creation_date":1480696417,"answer_id":40936912,"question_id":17973970,"body_markdown":"This answer is specific to a java.lang.NoClassDefFoundError happening in a *service*:\r\n\r\nMy team recently saw this error after upgrading an rpm that supplied a service.  The rpm and the software inside of it had been built with Maven, so it seemed that we had a compile time dependency that had just not gotten included in the rpm.\r\n\r\nHowever, when investigating, the class that was not found was in the same module as several of the classes in the stack trace.  Furthermore, this was not a module that had only been recently added to the build.  These facts indicated it might not be a Maven dependency issue.\r\n\r\nThe eventual solution: **Restart the service!**\r\n\r\nIt appears that the rpm upgrade invalidated the service&#39;s file handle on the underlying JAR file.  The service then saw a class that had not been loaded into memory, searched for it among its list of jar file handles, and failed to find it because the file handle that it could load the class from had been invalidated.  Restarting the service forced it to reload all of its file handles, which then allowed it to load that class that had not been found in memory right after the rpm upgrade.\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>This answer is specific to a java.lang.NoClassDefFoundError happening in a <em>service</em>:</p>\n<p>My team recently saw this error after upgrading an rpm that supplied a service.  The rpm and the software inside of it had been built with Maven, so it seemed that we had a compile time dependency that had just not gotten included in the rpm.</p>\n<p>However, when investigating, the class that was not found was in the same module as several of the classes in the stack trace.  Furthermore, this was not a module that had only been recently added to the build.  These facts indicated it might not be a Maven dependency issue.</p>\n<p>The eventual solution: <strong>Restart the service!</strong></p>\n<p>It appears that the rpm upgrade invalidated the service's file handle on the underlying JAR file.  The service then saw a class that had not been loaded into memory, searched for it among its list of jar file handles, and failed to find it because the file handle that it could load the class from had been invalidated.  Restarting the service forced it to reload all of its file handles, which then allowed it to load that class that had not been found in memory right after the rpm upgrade.</p>\n"},{"tags":[],"owner":{"account_id":3248244,"reputation":646,"user_id":2739201,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622838332,"creation_date":1484538697,"answer_id":41669190,"question_id":17973970,"body_markdown":"Check that if you have a static handler in your class. If so, please be careful, cause static handler only could be initiated in thread which has a looper, the crash could be triggered in this way:\r\n\r\n1. Firstly, create the instance of class in a simple thread and catch the crash.\r\n\r\n2. Then call the field method of Class in main thread, you will get the NoClassDefFoundError.\r\n\r\nHere is the test code:\r\n\r\n    public class MyClass{\r\n           private static  Handler mHandler = new Handler();\r\n           public static int num = 0;\r\n    }\r\n\r\nIn your onCreate method of the Main activity, add the test code part:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        //test code start\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    MyClass myClass = new MyClass();\r\n                } catch (Throwable e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }).start();\r\n\r\n        try {\r\n            Thread.sleep(1000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        MyClass.num = 3;\r\n        // end of test code\r\n    }\r\n\r\nThere is a simple way to fix it using a handlerThread to the init handler:\r\n\r\n    private static Handler mHandler;\r\n    private static HandlerThread handlerThread = new HandlerThread(&quot;newthread&quot;);\r\n    static {\r\n        handlerThread.start();\r\n        mHandler = new Handler(handlerThread.getLooper(), mHandlerCB);\r\n    }\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>Check that if you have a static handler in your class. If so, please be careful, cause static handler only could be initiated in thread which has a looper, the crash could be triggered in this way:</p>\n<ol>\n<li><p>Firstly, create the instance of class in a simple thread and catch the crash.</p>\n</li>\n<li><p>Then call the field method of Class in main thread, you will get the NoClassDefFoundError.</p>\n</li>\n</ol>\n<p>Here is the test code:</p>\n<pre><code>public class MyClass{\n       private static  Handler mHandler = new Handler();\n       public static int num = 0;\n}\n</code></pre>\n<p>In your onCreate method of the Main activity, add the test code part:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    //test code start\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                MyClass myClass = new MyClass();\n            } catch (Throwable e) {\n                e.printStackTrace();\n            }\n        }\n    }).start();\n\n    try {\n        Thread.sleep(1000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    MyClass.num = 3;\n    // end of test code\n}\n</code></pre>\n<p>There is a simple way to fix it using a handlerThread to the init handler:</p>\n<pre><code>private static Handler mHandler;\nprivate static HandlerThread handlerThread = new HandlerThread(&quot;newthread&quot;);\nstatic {\n    handlerThread.start();\n    mHandler = new Handler(handlerThread.getLooper(), mHandlerCB);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":470672,"reputation":1087,"user_id":877986,"accept_rate":75,"display_name":"Matin Petrulak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539681815,"creation_date":1492678065,"answer_id":43514567,"question_id":17973970,"body_markdown":"If you are using more than one module, you should have \r\n\r\n    dexOptions {\r\n        preDexLibraries = false\r\n    }\r\n\r\nin your build file.","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>If you are using more than one module, you should have </p>\n\n<pre><code>dexOptions {\n    preDexLibraries = false\n}\n</code></pre>\n\n<p>in your build file.</p>\n"},{"tags":[],"owner":{"account_id":1042817,"reputation":501,"user_id":1048465,"accept_rate":50,"display_name":"carl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622838598,"creation_date":1509653046,"answer_id":47083740,"question_id":17973970,"body_markdown":"One source of error for this exception could stem from inconsistent definitions for [Proguard][1], e.g. a missing\r\n\r\n-libraryJars &quot;path.to.a.missing.jar.library&quot;.\r\n\r\nThis explains why compilation and running works fine, given that the JAR file is there, while clean and build fails. Remember to define the newly added JAR libraries in the ProGuard setup!\r\n\r\nNote that error messages from ProGuard are really not up to standard, as they are easily confused with similar [Ant][2] messages arriving when the JAR file is not there at all. Only at the very bottom will there be a small hint of ProGuard in trouble. Hence, it is quite logical to start searching for traditional classpath errors, etc., but this will be in vain.\r\n\r\nEvidently, the NoClassDefFound exception will be the results when running, e.g., the resulting executable JAR file built and based on a lack of ProGuard consistency. Some call it ProGuard &quot;Hell&quot;.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ProGuard_(software)\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Ant\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>One source of error for this exception could stem from inconsistent definitions for <a href=\"https://en.wikipedia.org/wiki/ProGuard_(software)\" rel=\"nofollow noreferrer\">Proguard</a>, e.g. a missing</p>\n<p>-libraryJars &quot;path.to.a.missing.jar.library&quot;.</p>\n<p>This explains why compilation and running works fine, given that the JAR file is there, while clean and build fails. Remember to define the newly added JAR libraries in the ProGuard setup!</p>\n<p>Note that error messages from ProGuard are really not up to standard, as they are easily confused with similar <a href=\"https://en.wikipedia.org/wiki/Apache_Ant\" rel=\"nofollow noreferrer\">Ant</a> messages arriving when the JAR file is not there at all. Only at the very bottom will there be a small hint of ProGuard in trouble. Hence, it is quite logical to start searching for traditional classpath errors, etc., but this will be in vain.</p>\n<p>Evidently, the NoClassDefFound exception will be the results when running, e.g., the resulting executable JAR file built and based on a lack of ProGuard consistency. Some call it ProGuard &quot;Hell&quot;.</p>\n"},{"tags":[],"owner":{"account_id":3306670,"reputation":4539,"user_id":2781271,"accept_rate":58,"display_name":"CROSP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511535029,"creation_date":1511535029,"answer_id":47475637,"question_id":17973970,"body_markdown":"I have faced with the problem today. I have an Android project and after enabling `multidex` the project wouldn&#39;t start anymore.\r\n\r\nThe reason was that I had forgotten to call the specific multidex method that should be added to the `Application class` and invoked before everything else.\r\n\r\n     MultiDex.install(this);\r\n\r\nFollow this tutorial to enable multidex correctly. https://developer.android.com/studio/build/multidex.html\r\n\r\nYou should add these lines to your Application class\r\n\r\n     @Override\r\n      protected void attachBaseContext(Context base) {\r\n         super.attachBaseContext(base);\r\n         MultiDex.install(this);\r\n      }\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I have faced with the problem today. I have an Android project and after enabling <code>multidex</code> the project wouldn't start anymore.</p>\n\n<p>The reason was that I had forgotten to call the specific multidex method that should be added to the <code>Application class</code> and invoked before everything else.</p>\n\n<pre><code> MultiDex.install(this);\n</code></pre>\n\n<p>Follow this tutorial to enable multidex correctly. <a href=\"https://developer.android.com/studio/build/multidex.html\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build/multidex.html</a></p>\n\n<p>You should add these lines to your Application class</p>\n\n<pre><code> @Override\n  protected void attachBaseContext(Context base) {\n     super.attachBaseContext(base);\n     MultiDex.install(this);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":267334,"reputation":2179,"user_id":555451,"display_name":"Stuart Cardall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622838901,"creation_date":1512557776,"answer_id":47672611,"question_id":17973970,"body_markdown":"I use the [FileSync plugin for Eclipse][1], so I can live debug on Tomcat. I received `NoClassFoundError`, because I had added a sync entry for the `bin` directory in the Eclipse workspace `=&gt; classes` in the `metadata` for Tomcat, but I hadn&#39;t also added a folder sync for the `extlib` directory in Eclipse `=&gt;`\r\n\r\n`C:\\Users\\Stuart\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\webapps\\myApp\\WEB-INF\\lib`\r\n\r\n  [1]: http://andrei.gmxhome.de/filesync/usage.html\r\n\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I use the <a href=\"http://andrei.gmxhome.de/filesync/usage.html\" rel=\"nofollow noreferrer\">FileSync plugin for Eclipse</a>, so I can live debug on Tomcat. I received <code>NoClassFoundError</code>, because I had added a sync entry for the <code>bin</code> directory in the Eclipse workspace <code>=&gt; classes</code> in the <code>metadata</code> for Tomcat, but I hadn't also added a folder sync for the <code>extlib</code> directory in Eclipse <code>=&gt;</code></p>\n<p><code>C:\\Users\\Stuart\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\webapps\\myApp\\WEB-INF\\lib</code></p>\n"},{"tags":[],"owner":{"account_id":5825739,"reputation":577,"user_id":4592215,"display_name":"Alexander Khomenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523004088,"creation_date":1523004088,"answer_id":49688777,"question_id":17973970,"body_markdown":"I&#39;m developing an Eclipse based application also known as **RCP (Rich Client Platform)**.\r\nAnd I have been facing this problem after refactoring (moving one class from an plugIn to a new one).\r\n\r\nCleaning the project and Maven update didn&#39;t help.\r\n\r\nThe problem was caused by the **Bundle-Activator** which haven&#39;t been updated automatically. Manual update of the Bundle-Activator under **MANIFEST.MF** in the new PlugIn has fixed my problem.","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I'm developing an Eclipse based application also known as <strong>RCP (Rich Client Platform)</strong>.\nAnd I have been facing this problem after refactoring (moving one class from an plugIn to a new one).</p>\n\n<p>Cleaning the project and Maven update didn't help.</p>\n\n<p>The problem was caused by the <strong>Bundle-Activator</strong> which haven't been updated automatically. Manual update of the Bundle-Activator under <strong>MANIFEST.MF</strong> in the new PlugIn has fixed my problem.</p>\n"},{"tags":[],"owner":{"account_id":4523377,"reputation":2744,"user_id":3675925,"display_name":"Hamid Zandi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622838994,"creation_date":1525070174,"answer_id":50095146,"question_id":17973970,"body_markdown":"If you recently added multidex support in Android Studio like this:\r\n\r\n    // To support MultiDex\r\n    implementation &#39;com.android.support:multidex:1.0.1&#39;\r\n\r\nSo your solution is just extend from MultiDexApplication instead of Application:\r\n\r\n    public class MyApp extends MultiDexApplication {\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>If you recently added multidex support in Android Studio like this:</p>\n<pre><code>// To support MultiDex\nimplementation 'com.android.support:multidex:1.0.1'\n</code></pre>\n<p>So your solution is just extend from MultiDexApplication instead of Application:</p>\n<pre><code>public class MyApp extends MultiDexApplication {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6642498,"reputation":124,"user_id":5127796,"display_name":"Kyon Perez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632332610,"creation_date":1546630678,"answer_id":54045017,"question_id":17973970,"body_markdown":"For my project, what solved the issue was that Chrome browser and chromedriver were not compatibles. I had a very old version of the driver that could not even open the browser. I just downloaded the latest version of both and problem solved. \r\n\r\nHow did I discover the issue? Because I ran my project using the Selenium native Firefox driver with an old version of FF included with my application. I realized the problem was incompatibility between browser and driver.\r\n\r\nHope this can help anyone with a similar issue as mine, that generated this same Error Message.","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>For my project, what solved the issue was that Chrome browser and chromedriver were not compatibles. I had a very old version of the driver that could not even open the browser. I just downloaded the latest version of both and problem solved.</p>\n<p>How did I discover the issue? Because I ran my project using the Selenium native Firefox driver with an old version of FF included with my application. I realized the problem was incompatibility between browser and driver.</p>\n<p>Hope this can help anyone with a similar issue as mine, that generated this same Error Message.</p>\n"},{"tags":[],"owner":{"account_id":6615281,"reputation":1826,"user_id":5108777,"display_name":"manuelvigarcia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575561702,"creation_date":1575561702,"answer_id":59198987,"question_id":17973970,"body_markdown":"Don&#39;t use test classes outside the module\r\n==\r\nI do not have a solution, just another flavour of the &quot;present at compilation, absent at run time&quot; case.\r\n\r\nI was trying to use a very convenient method from a JUnit test class from another test class which resides in a different module. That&#39;s a no-no, since test code is not part of the packaged jar, but I didn&#39;t realize because it appears visible for the user class from within Eclipse.\r\n\r\nMy solution was to place the method in a existing utilities class that is part of the production code.\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<h1>Don't use test classes outside the module</h1>\n\n<p>I do not have a solution, just another flavour of the \"present at compilation, absent at run time\" case.</p>\n\n<p>I was trying to use a very convenient method from a JUnit test class from another test class which resides in a different module. That's a no-no, since test code is not part of the packaged jar, but I didn't realize because it appears visible for the user class from within Eclipse.</p>\n\n<p>My solution was to place the method in a existing utilities class that is part of the production code.</p>\n"},{"tags":[],"owner":{"account_id":6663856,"reputation":365,"user_id":5142046,"accept_rate":88,"display_name":"Mystic Lin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622839329,"creation_date":1586329157,"answer_id":61094946,"question_id":17973970,"body_markdown":"In my environment, I encountered this issue in a unit test. After appending one library dependency to *.pom, that&#39;s fixed.\r\n\r\nExample:\r\n\r\nError message:\r\n\r\n    java.lang.NoClassDefFoundError: com/abc/def/foo/xyz/Iottt\r\n\r\n[POM][1] content:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.abc.def&lt;/groupId&gt;\r\n        &lt;artifactId&gt;foo&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>In my environment, I encountered this issue in a unit test. After appending one library dependency to *.pom, that's fixed.</p>\n<p>Example:</p>\n<p>Error message:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/abc/def/foo/xyz/Iottt\n</code></pre>\n<p><a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> content:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.abc.def&lt;/groupId&gt;\n    &lt;artifactId&gt;foo&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1606570,"reputation":1589,"user_id":1486563,"display_name":"Leonardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622839430,"creation_date":1589939645,"answer_id":61903802,"question_id":17973970,"body_markdown":"I got this error after a Git branch change. For the specific case of Eclipse, there were missed lines in the *.settings* directory for the *org.eclipse.wst.common.component file*. As you can see below.\r\n\r\nRestoring the project dependencies with Maven install would help.\r\n\r\n[![Enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/TOjo0.png\r\n\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I got this error after a Git branch change. For the specific case of Eclipse, there were missed lines in the <em>.settings</em> directory for the <em>org.eclipse.wst.common.component file</em>. As you can see below.</p>\n<p>Restoring the project dependencies with Maven install would help.</p>\n<p><a href=\"https://i.stack.imgur.com/TOjo0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TOjo0.png\" alt=\"Enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2448404,"reputation":8258,"user_id":2553191,"accept_rate":97,"display_name":"ehacinom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622839488,"creation_date":1593347149,"answer_id":62622528,"question_id":17973970,"body_markdown":"If you are using `gradlew`, go to `./gradle/wrapper/gradle-wrapper.properties` and change `distributionUrl` to the correct version of [Gradle][1].\r\n\r\nIf you are using JDK14, try:\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Gradle\r\n\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>If you are using <code>gradlew</code>, go to <code>./gradle/wrapper/gradle-wrapper.properties</code> and change <code>distributionUrl</code> to the correct version of <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a>.</p>\n<p>If you are using JDK14, try:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6557638,"reputation":1760,"user_id":5069866,"accept_rate":60,"display_name":"mcnk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622839613,"creation_date":1610956221,"answer_id":65770567,"question_id":17973970,"body_markdown":"For [Meteor][1] or [Cordova][2] users,\r\n\r\nIt can be caused by the Java version you use. For Meteor and Cordova, stick with version 8 for now.\r\n\r\n1. Check available Java versions `/usr/libexec/java_home -V ` and look for the path name for Java version 8\r\n\r\n2. Set the path for Java version 8\r\n`export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home`\r\n\r\n3. Check if it is done\r\n`echo $JAVA_HOME`\r\n\r\nGo on and continue coding.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Meteor_%28web_framework%29\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Cordova\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>For <a href=\"https://en.wikipedia.org/wiki/Meteor_%28web_framework%29\" rel=\"nofollow noreferrer\">Meteor</a> or <a href=\"https://en.wikipedia.org/wiki/Apache_Cordova\" rel=\"nofollow noreferrer\">Cordova</a> users,</p>\n<p>It can be caused by the Java version you use. For Meteor and Cordova, stick with version 8 for now.</p>\n<ol>\n<li><p>Check available Java versions <code>/usr/libexec/java_home -V </code> and look for the path name for Java version 8</p>\n</li>\n<li><p>Set the path for Java version 8\n<code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/Contents/Home</code></p>\n</li>\n<li><p>Check if it is done\n<code>echo $JAVA_HOME</code></p>\n</li>\n</ol>\n<p>Go on and continue coding.</p>\n"},{"tags":[],"owner":{"account_id":6064119,"reputation":1809,"user_id":4735043,"display_name":"Jin Lim"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1622839640,"creation_date":1612711451,"answer_id":66089577,"question_id":17973970,"body_markdown":"This error means **you didn&#39;t add some of the dependencies.**","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>This error means <strong>you didn't add some of the dependencies.</strong></p>\n"},{"tags":[],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622840187,"creation_date":1619128935,"answer_id":67221366,"question_id":17973970,"body_markdown":"**The Java 11 + Eclipse solution:**\r\n\r\nThis solution is for you if you are not using `module-info.java` in your Eclipse project, and you added the JAR files manually instead of using [Maven][1]/[Gradle][2].\r\n\r\n1. Right click project &amp;rarr; *Build path* &amp;rarr; *Configure build path* &amp;rarr; *libraries* tab\r\n2. Remove the problematic JAR file from the modulepath\r\n3. Add the JAR file to the classpath\r\n\r\nMore information is in\r\n*https://stackoverflow.com/questions/50321602/in-eclipse-what-is-the-difference-between-modulepath-and-classpath*.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [2]: https://en.wikipedia.org/wiki/Gradle\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p><strong>The Java 11 + Eclipse solution:</strong></p>\n<p>This solution is for you if you are not using <code>module-info.java</code> in your Eclipse project, and you added the JAR files manually instead of using <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a>/<a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a>.</p>\n<ol>\n<li>Right click project → <em>Build path</em> → <em>Configure build path</em> → <em>libraries</em> tab</li>\n<li>Remove the problematic JAR file from the modulepath</li>\n<li>Add the JAR file to the classpath</li>\n</ol>\n<p>More information is in\n<em><a href=\"https://stackoverflow.com/questions/50321602/in-eclipse-what-is-the-difference-between-modulepath-and-classpath\">In Eclipse, what is the difference between modulepath and classpath?</a></em>.</p>\n"},{"tags":[],"owner":{"account_id":13085809,"reputation":824,"user_id":9454812,"display_name":"walter33"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637062060,"creation_date":1622190078,"answer_id":67735347,"question_id":17973970,"body_markdown":"If you are &quot;starting&quot; a class from a JAR file, make sure to start with the JAR full path. For example, (if your &quot;main class&quot; is not specified in Manifest):\r\n\r\n    java -classpath &quot;./dialer.jar&quot; com.company.dialer.DialerServer\r\n\r\nAnd if there are any dependencies, such dependencies to other JAR files, you can solve such a dependency\r\n - either by adding such JAR files (full path to each JAR file) to the class path. For example,\r\n\r\n```\r\njava -classpath &quot;./libs/phone.jar;./libs/anotherlib.jar;./dialer.jar&quot; com.company.dialer.DialerServer\r\n```\r\n\r\n- or by editing the JAR manifest by adding &quot;dependency JAR filess&quot; to the manifest. Such a manifest file might look like:\r\n\r\n```\r\nManifest-Version: 1.0\r\nClass-Path: phone.jar anotherlib.jar\r\nBuild-Jdk-Spec: 1.8\r\nMain-Class: com.company.dialer.DialerServer\r\n```\r\n\r\n- or (if you are a developer having source code) you can use Maven to prepare a manifest for you by adding to the *.pom file:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                &lt;mainClass&gt;com.company.dialer.DialerServer&lt;/mainClass&gt;\r\n\t\t\t\t&lt;!-- Workaround for Maven bug #MJAR-156 (https://jira.codehaus.org/browse/MJAR-156) --&gt;\r\n                &lt;useUniqueVersions&gt;false&lt;/useUniqueVersions&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nPlease note that the above example uses `;` as a delimiter in classpath (it is valid for the Windows platform). On Linux, replace `;` by `:`.\r\n\r\nFor example,\r\n\r\n```\r\njava -classpath ./libs/phone.jar:./libs/anotherlib.jar:./dialer.jar\r\ncom.company.dialer.DialerServer\r\n```\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>If you are &quot;starting&quot; a class from a JAR file, make sure to start with the JAR full path. For example, (if your &quot;main class&quot; is not specified in Manifest):</p>\n<pre><code>java -classpath &quot;./dialer.jar&quot; com.company.dialer.DialerServer\n</code></pre>\n<p>And if there are any dependencies, such dependencies to other JAR files, you can solve such a dependency</p>\n<ul>\n<li>either by adding such JAR files (full path to each JAR file) to the class path. For example,</li>\n</ul>\n<pre><code>java -classpath &quot;./libs/phone.jar;./libs/anotherlib.jar;./dialer.jar&quot; com.company.dialer.DialerServer\n</code></pre>\n<ul>\n<li>or by editing the JAR manifest by adding &quot;dependency JAR filess&quot; to the manifest. Such a manifest file might look like:</li>\n</ul>\n<pre><code>Manifest-Version: 1.0\nClass-Path: phone.jar anotherlib.jar\nBuild-Jdk-Spec: 1.8\nMain-Class: com.company.dialer.DialerServer\n</code></pre>\n<ul>\n<li>or (if you are a developer having source code) you can use Maven to prepare a manifest for you by adding to the *.pom file:</li>\n</ul>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;mainClass&gt;com.company.dialer.DialerServer&lt;/mainClass&gt;\n                &lt;!-- Workaround for Maven bug #MJAR-156 (https://jira.codehaus.org/browse/MJAR-156) --&gt;\n                &lt;useUniqueVersions&gt;false&lt;/useUniqueVersions&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Please note that the above example uses <code>;</code> as a delimiter in classpath (it is valid for the Windows platform). On Linux, replace <code>;</code> by <code>:</code>.</p>\n<p>For example,</p>\n<pre><code>java -classpath ./libs/phone.jar:./libs/anotherlib.jar:./dialer.jar\ncom.company.dialer.DialerServer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13619988,"reputation":330,"user_id":12244838,"display_name":"Hoiama Rodrigues"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649337937,"creation_date":1649337937,"answer_id":71783023,"question_id":17973970,"body_markdown":"I deleted the folder &quot;buid&quot; and &quot;out&quot;, and the IDE rebuild again this folders with updated content files.","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I deleted the folder &quot;buid&quot; and &quot;out&quot;, and the IDE rebuild again this folders with updated content files.</p>\n"},{"tags":[],"owner":{"account_id":281886,"reputation":41,"user_id":578464,"display_name":"suleimanforever"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651825542,"creation_date":1651825542,"answer_id":72138391,"question_id":17973970,"body_markdown":"If you are using Maven, this can be due to the scope of the dependencies in pom.xml if they are set to &quot;provided&quot;, try changing it to &quot;compile&quot;.","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>If you are using Maven, this can be due to the scope of the dependencies in pom.xml if they are set to &quot;provided&quot;, try changing it to &quot;compile&quot;.</p>\n"},{"tags":[],"owner":{"account_id":1036839,"reputation":1125,"user_id":1043868,"display_name":"dmolony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660884268,"creation_date":1660884268,"answer_id":73411926,"question_id":17973970,"body_markdown":"If using Eclipse, check the Run Configuration/Dependencies. I encountered this problem when using an external jar file that was included in the Java Build Path/Libraries, but somehow wasn&#39;t listed in the Run Configuration/Dependencies.","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>If using Eclipse, check the Run Configuration/Dependencies. I encountered this problem when using an external jar file that was included in the Java Build Path/Libraries, but somehow wasn't listed in the Run Configuration/Dependencies.</p>\n"}],"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1677693,"favorite_count":0,"down_vote_count":0,"up_vote_count":296,"accepted_answer_id":17974068,"answer_count":34,"score":296,"last_activity_date":1682606889,"creation_date":1375282827,"question_id":17973970,"body_markdown":"I&#39;ve tried both the examples in Oracle&#39;s [Java Tutorials][1]. They both compile fine, but at run time, both come up with this error:\r\n\r\n```lang-none\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: graphics/shapes/Square\r\n    at Main.main(Main.java:7)\r\nCaused by: java.lang.ClassNotFoundException: graphics.shapes.Square\r\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    ... 1 more\r\n```\r\n\r\nI think I might have the `Main.java` file in the wrong folder.\r\n\r\nHere is the directory hierarchy:\r\n\r\n```lang-none\r\ngraphics\r\n├ Main.java\r\n├ shapes\r\n|   ├ Square.java\r\n|   ├ Triangle.java\r\n├ linepoint\r\n|   ├ Line.java\r\n|   ├ Point.java\r\n├ spaceobjects\r\n|   ├ Cube.java\r\n|   ├ RectPrism.java\r\n```\r\n\r\nAnd here is `Main.java`:\r\n\r\n    import graphics.shapes.*;\r\n    import graphics.linepoint.*\r\n    import graphics.spaceobjects.*;\r\n\r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            Square s = new Square(2, 3, 15);\r\n            Line l = new Line(1, 5, 2, 3);\r\n            Cube c = new Cube(13, 32, 22);\r\n        }\r\n    }\r\n\r\nWhat am I doing wrong here?\r\n\r\n**UPDATE**\r\n\r\nAfter I put put the `Main` class into the `graphics` package (I added `package graphics;` to it), set the classpath to &quot;_test&quot; (folder containing graphics), compiled it, and ran it using `java graphics.Main` (from the command line), it worked.\r\n\r\n**Really late UPDATE #2**\r\n\r\nI wasn&#39;t using [Eclipse][2] (just [Notepad++][3] and the JDK), and the above update solved my problem. However, it seems that many of these answers are for Eclipse and [IntelliJ IDEA][4], but they have similar concepts.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial\r\n  [2]: https://en.wikipedia.org/wiki/Eclipse_%28software%29\r\n  [3]: https://en.wikipedia.org/wiki/Notepad%2B%2B\r\n  [4]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n\r\n\r\n","title":"How can I solve &quot;java.lang.NoClassDefFoundError&quot;?","body":"<p>I've tried both the examples in Oracle's <a href=\"http://docs.oracle.com/javase/tutorial\" rel=\"noreferrer\">Java Tutorials</a>. They both compile fine, but at run time, both come up with this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: graphics/shapes/Square\n    at Main.main(Main.java:7)\nCaused by: java.lang.ClassNotFoundException: graphics.shapes.Square\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 1 more\n</code></pre>\n<p>I think I might have the <code>Main.java</code> file in the wrong folder.</p>\n<p>Here is the directory hierarchy:</p>\n<pre class=\"lang-none prettyprint-override\"><code>graphics\n├ Main.java\n├ shapes\n|   ├ Square.java\n|   ├ Triangle.java\n├ linepoint\n|   ├ Line.java\n|   ├ Point.java\n├ spaceobjects\n|   ├ Cube.java\n|   ├ RectPrism.java\n</code></pre>\n<p>And here is <code>Main.java</code>:</p>\n<pre><code>import graphics.shapes.*;\nimport graphics.linepoint.*\nimport graphics.spaceobjects.*;\n\npublic class Main {\n    public static void main(String args[]) {\n        Square s = new Square(2, 3, 15);\n        Line l = new Line(1, 5, 2, 3);\n        Cube c = new Cube(13, 32, 22);\n    }\n}\n</code></pre>\n<p>What am I doing wrong here?</p>\n<p><strong>UPDATE</strong></p>\n<p>After I put put the <code>Main</code> class into the <code>graphics</code> package (I added <code>package graphics;</code> to it), set the classpath to &quot;_test&quot; (folder containing graphics), compiled it, and ran it using <code>java graphics.Main</code> (from the command line), it worked.</p>\n<p><strong>Really late UPDATE #2</strong></p>\n<p>I wasn't using <a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"noreferrer\">Eclipse</a> (just <a href=\"https://en.wikipedia.org/wiki/Notepad%2B%2B\" rel=\"noreferrer\">Notepad++</a> and the JDK), and the above update solved my problem. However, it seems that many of these answers are for Eclipse and <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"noreferrer\">IntelliJ IDEA</a>, but they have similar concepts.</p>\n"},{"tags":["java","mongodb","reactive"],"answers":[{"tags":[],"owner":{"account_id":27877036,"reputation":11,"user_id":21286335,"display_name":"Paarsah Soroury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682606845,"creation_date":1682606845,"answer_id":76121756,"question_id":73690781,"body_markdown":"I have got the same error when I run &quot;java -jar [MyJavaProgram.jar]&quot; in which &quot;MyJavaProgram.java&quot; is included with another external jar file. ","title":"java.lang.NoClassDefFoundError: reactivemongo/core/errors/ConnectionException","body":"<p>I have got the same error when I run &quot;java -jar [MyJavaProgram.jar]&quot; in which &quot;MyJavaProgram.java&quot; is included with another external jar file.</p>\n"}],"owner":{"account_id":3146538,"reputation":149,"user_id":2660920,"display_name":"Heitor Barbieri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682606845,"creation_date":1662992393,"question_id":73690781,"body_markdown":"OS: Ubuntu 22.04.1 LTS\r\n\r\njava: openjdk-18.0.2.1\r\n\r\nI got the folowing error when trying to connect to a MongoDB database from ReactiveMongo API (reactivemongo_3-1.1.0-noshaded-RC6):\r\n\r\njava.lang.NoClassDefFoundError: reactivemongo/core/errors/ConnectionException\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: reactivemongo/core/errors/ConnectionException\r\n    \tat reactivemongo.api.AsyncDriver$.apply(AsyncDriver.scala:503)\r\n    \tat e2m.MongoExport.&lt;init&gt;(MongoExport.scala:35)\r\n    \tat e2m.MongoExport$.&lt;clinit&gt;(MongoExport.scala:82)\r\n    \tat e2m.MongoExport.main(MongoExport.scala)\r\n    Caused by: java.lang.ClassNotFoundException: reactivemongo.core.errors.ConnectionException\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 4 more\r\n\r\nI looked for the package &quot;reactivemongo.core.errors&quot; inside the jar file and I did not found it. \r\nCould you help me out by telling me which jar file should I include in my project to solve this problem?\r\n\r\nThanks\r\n","title":"java.lang.NoClassDefFoundError: reactivemongo/core/errors/ConnectionException","body":"<p>OS: Ubuntu 22.04.1 LTS</p>\n<p>java: openjdk-18.0.2.1</p>\n<p>I got the folowing error when trying to connect to a MongoDB database from ReactiveMongo API (reactivemongo_3-1.1.0-noshaded-RC6):</p>\n<p>java.lang.NoClassDefFoundError: reactivemongo/core/errors/ConnectionException</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: reactivemongo/core/errors/ConnectionException\n    at reactivemongo.api.AsyncDriver$.apply(AsyncDriver.scala:503)\n    at e2m.MongoExport.&lt;init&gt;(MongoExport.scala:35)\n    at e2m.MongoExport$.&lt;clinit&gt;(MongoExport.scala:82)\n    at e2m.MongoExport.main(MongoExport.scala)\nCaused by: java.lang.ClassNotFoundException: reactivemongo.core.errors.ConnectionException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 4 more\n</code></pre>\n<p>I looked for the package &quot;reactivemongo.core.errors&quot; inside the jar file and I did not found it.\nCould you help me out by telling me which jar file should I include in my project to solve this problem?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","settings"],"comments":[{"owner":{"account_id":113969,"reputation":120826,"user_id":299924,"accept_rate":94,"display_name":"trojanfoe"},"score":0,"creation_date":1690810337,"post_id":76121630,"comment_id":135400704,"body_markdown":"Did you figure this out?  I want to do the same thing.","body":"Did you figure this out?  I want to do the same thing."}],"owner":{"account_id":16775756,"reputation":89,"user_id":12127138,"display_name":"Danny Dasilva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682606676,"creation_date":1682606131,"question_id":76121630,"body_markdown":"[![example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YfPIg.png\r\nI want to navigate to this dns page. Does anyone have any resources for listing the intent navigation string once I&#39;ve navigated to a specific settings page?","title":"Navigate to the Private DNS Mode Page using Android Intent","body":"<p><a href=\"https://i.stack.imgur.com/YfPIg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YfPIg.png\" alt=\"example\" /></a></p>\n<p>I want to navigate to this dns page. Does anyone have any resources for listing the intent navigation string once I've navigated to a specific settings page?</p>\n"},{"tags":["java","list","redis","quarkus"],"comments":[{"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"score":0,"creation_date":1681336241,"post_id":74099183,"comment_id":134042126,"body_markdown":"Yes increased the maxpoolwaiting to 100","body":"Yes increased the maxpoolwaiting to 100"}],"answers":[{"tags":[],"owner":{"account_id":2050693,"reputation":361,"user_id":1829787,"accept_rate":53,"display_name":"Trevor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682606385,"creation_date":1682606385,"answer_id":76121670,"question_id":74099183,"body_markdown":"Realized that this was a problem with nested CompletableFutures since I was using the RedisAPI. ","title":"Quarkus - Redis lpush and Connection pool reached max wait queue size of 24","body":"<p>Realized that this was a problem with nested CompletableFutures since I was using the RedisAPI.</p>\n"}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682606385,"creation_date":1666018610,"question_id":74099183,"body_markdown":"I am using Redis lists and **lpush** for publishing high volume of messages and then having multiple threads to receive the updates using **brpop** command. The code works in a random fashion. it works sometimes and mostly, ends up with the connection pool reached max wait queue size error. \r\nActually, this is happening when i have 2 classes trying to push/pull from 2 different lists. When i do this in just 1 class, it works fine. Not sure connecting to multiple lists has any overhead.\r\nAm using Redis version 6+ on Quarkus if it helps.\r\n\r\nAny idea what is causing the issue and how to resolve?\r\n\r\nThank you in advance! \r\n\r\nBest Regards\r\nSG","title":"Quarkus - Redis lpush and Connection pool reached max wait queue size of 24","body":"<p>I am using Redis lists and <strong>lpush</strong> for publishing high volume of messages and then having multiple threads to receive the updates using <strong>brpop</strong> command. The code works in a random fashion. it works sometimes and mostly, ends up with the connection pool reached max wait queue size error.\nActually, this is happening when i have 2 classes trying to push/pull from 2 different lists. When i do this in just 1 class, it works fine. Not sure connecting to multiple lists has any overhead.\nAm using Redis version 6+ on Quarkus if it helps.</p>\n<p>Any idea what is causing the issue and how to resolve?</p>\n<p>Thank you in advance!</p>\n<p>Best Regards\nSG</p>\n"},{"tags":["java","apache-kafka","docker-compose","confluent-schema-registry","testcontainers"],"comments":[{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1675902348,"post_id":75388650,"comment_id":133030127,"body_markdown":"Hi, Can you share a minimal reproducer via github, please?","body":"Hi, Can you share a minimal reproducer via github, please?"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1675955865,"post_id":75388650,"comment_id":133042732,"body_markdown":"Can I may suggest using Redpanda? https://www.testcontainers.org/modules/redpanda/","body":"Can I may suggest using Redpanda? <a href=\"https://www.testcontainers.org/modules/redpanda/\" rel=\"nofollow noreferrer\">testcontainers.org/modules/redpanda</a>"},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":0,"creation_date":1677083284,"post_id":75388650,"comment_id":133268531,"body_markdown":"did you manage to get this working?","body":"did you manage to get this working?"},{"owner":{"account_id":23109701,"reputation":13,"user_id":17217807,"display_name":"azurius"},"score":0,"creation_date":1677155222,"post_id":75388650,"comment_id":133284014,"body_markdown":"@user1555190 yes actually! Alex&#39;s answer just needed some minor changes to fit my project, but it works now!","body":"@user1555190 yes actually! Alex&#39;s answer just needed some minor changes to fit my project, but it works now!"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1678830529,"post_id":75388650,"comment_id":133609194,"body_markdown":"@azurius did you make it work with an external zookeeper?","body":"@azurius did you make it work with an external zookeeper?"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1675874825,"creation_date":1675874825,"answer_id":75389041,"question_id":75388650,"body_markdown":"Here is working setup of Kafka &amp; Schema Registry for Testcontainers. It could help to find the issue in your setup\r\n\r\n\r\n**Schema Registry**\r\n```\r\npublic class SchemaRegistryContainer extends GenericContainer&lt;SchemaRegistryContainer&gt; {\r\n\tpublic static final String SCHEMA_REGISTRY_IMAGE =\r\n\t\t\t&quot;confluentinc/cp-schema-registry&quot;;\r\n\tpublic static final int SCHEMA_REGISTRY_PORT = 8081;\r\n\r\n\tpublic SchemaRegistryContainer() {\r\n\t\tthis(CONFLUENT_PLATFORM_VERSION);\r\n\t}\r\n\r\n\tpublic SchemaRegistryContainer(String version) {\r\n\t\tsuper(SCHEMA_REGISTRY_IMAGE + &quot;:&quot; + version);\r\n\r\n\t\twaitingFor(Wait.forHttp(&quot;/subjects&quot;).forStatusCode(200));\r\n\t\twithExposedPorts(SCHEMA_REGISTRY_PORT);\r\n\t}\r\n\r\n\tpublic SchemaRegistryContainer withKafka(KafkaContainer kafka) {\r\n\t\treturn withKafka(kafka.getNetwork(), kafka.getNetworkAliases().get(0) + &quot;:9092&quot;);\r\n\t}\r\n\r\n\tpublic SchemaRegistryContainer withKafka(Network network, String bootstrapServers) {\r\n\t\twithNetwork(network);\r\n\t\twithEnv(&quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;schema-registry&quot;);\r\n\t\twithEnv(&quot;SCHEMA_REGISTRY_LISTENERS&quot;, &quot;http://0.0.0.0:8081&quot;);\r\n\t\twithEnv(&quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, &quot;PLAINTEXT://&quot; + bootstrapServers);\r\n\t\treturn self();\r\n\t}\r\n}\r\n```\r\n\r\n**Kafka + Schema Registry**\r\n\r\n```\r\n    public static final String CONFLUENT_PLATFORM_VERSION = &quot;5.5.1&quot;;\r\n\r\n\tprivate static final Network KAFKA_NETWORK = Network.newNetwork();\r\n\tprivate static final DockerImageName KAFKA_IMAGE = DockerImageName.parse(&quot;confluentinc/cp-kafka&quot;)\r\n\t\t\t.withTag(CONFLUENT_PLATFORM_VERSION);\r\n\tprivate static final KafkaContainer KAFKA = new KafkaContainer(KAFKA_IMAGE)\r\n\t\t\t.withNetwork(KAFKA_NETWORK)\r\n\t\t\t.withEnv(&quot;KAFKA_TRANSACTION_STATE_LOG_MIN_ISR&quot;, &quot;1&quot;)\r\n\t\t\t.withEnv(&quot;KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR&quot;, &quot;1&quot;);\r\n\r\n\tprivate static final SchemaRegistryContainer SCHEMA_REGISTRY =\r\n\t\t\tnew SchemaRegistryContainer(CONFLUENT_PLATFORM_VERSION);\r\n    \r\n    @BeforeAll\r\n\tstatic void startKafkaContainer() {\r\n\t\tKAFKA.start();\r\n\t\tSCHEMA_REGISTRY.withKafka(KAFKA).start();\r\n\r\n        // init kafka properties for consumer or producer\r\n        ....\r\n        kafkaProperties.setBootstrapServers(KAFKA.getBootstrapServers());\r\n\t\tkafkaProperties.setSchemaRegistryUrl(&quot;http://&quot; + SCHEMA_REGISTRY.getHost() + &quot;:&quot; + SCHEMA_REGISTRY.getFirstMappedPort());\r\n\t}\r\n\r\n```\r\n\r\n\r\n","title":"Testcontainers SchemaRegistry can&#39;t connect to Kafka container","body":"<p>Here is working setup of Kafka &amp; Schema Registry for Testcontainers. It could help to find the issue in your setup</p>\n<p><strong>Schema Registry</strong></p>\n<pre><code>public class SchemaRegistryContainer extends GenericContainer&lt;SchemaRegistryContainer&gt; {\n    public static final String SCHEMA_REGISTRY_IMAGE =\n            &quot;confluentinc/cp-schema-registry&quot;;\n    public static final int SCHEMA_REGISTRY_PORT = 8081;\n\n    public SchemaRegistryContainer() {\n        this(CONFLUENT_PLATFORM_VERSION);\n    }\n\n    public SchemaRegistryContainer(String version) {\n        super(SCHEMA_REGISTRY_IMAGE + &quot;:&quot; + version);\n\n        waitingFor(Wait.forHttp(&quot;/subjects&quot;).forStatusCode(200));\n        withExposedPorts(SCHEMA_REGISTRY_PORT);\n    }\n\n    public SchemaRegistryContainer withKafka(KafkaContainer kafka) {\n        return withKafka(kafka.getNetwork(), kafka.getNetworkAliases().get(0) + &quot;:9092&quot;);\n    }\n\n    public SchemaRegistryContainer withKafka(Network network, String bootstrapServers) {\n        withNetwork(network);\n        withEnv(&quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;schema-registry&quot;);\n        withEnv(&quot;SCHEMA_REGISTRY_LISTENERS&quot;, &quot;http://0.0.0.0:8081&quot;);\n        withEnv(&quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, &quot;PLAINTEXT://&quot; + bootstrapServers);\n        return self();\n    }\n}\n</code></pre>\n<p><strong>Kafka + Schema Registry</strong></p>\n<pre><code>    public static final String CONFLUENT_PLATFORM_VERSION = &quot;5.5.1&quot;;\n\n    private static final Network KAFKA_NETWORK = Network.newNetwork();\n    private static final DockerImageName KAFKA_IMAGE = DockerImageName.parse(&quot;confluentinc/cp-kafka&quot;)\n            .withTag(CONFLUENT_PLATFORM_VERSION);\n    private static final KafkaContainer KAFKA = new KafkaContainer(KAFKA_IMAGE)\n            .withNetwork(KAFKA_NETWORK)\n            .withEnv(&quot;KAFKA_TRANSACTION_STATE_LOG_MIN_ISR&quot;, &quot;1&quot;)\n            .withEnv(&quot;KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR&quot;, &quot;1&quot;);\n\n    private static final SchemaRegistryContainer SCHEMA_REGISTRY =\n            new SchemaRegistryContainer(CONFLUENT_PLATFORM_VERSION);\n    \n    @BeforeAll\n    static void startKafkaContainer() {\n        KAFKA.start();\n        SCHEMA_REGISTRY.withKafka(KAFKA).start();\n\n        // init kafka properties for consumer or producer\n        ....\n        kafkaProperties.setBootstrapServers(KAFKA.getBootstrapServers());\n        kafkaProperties.setSchemaRegistryUrl(&quot;http://&quot; + SCHEMA_REGISTRY.getHost() + &quot;:&quot; + SCHEMA_REGISTRY.getFirstMappedPort());\n    }\n\n</code></pre>\n"}],"owner":{"account_id":23109701,"reputation":13,"user_id":17217807,"display_name":"azurius"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2991,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75389041,"answer_count":1,"score":1,"last_activity_date":1682606281,"creation_date":1675872879,"question_id":75388650,"body_markdown":"I want to run integration tests that test my kafka listener and avro serialization. this requires a Kafka and a Schema regsitry (transitively also a Zookeeper). \r\n\r\nWhen testing I currently have to a docker-compose.yml, but I want to reduce user error by building the required containers via testcontainers. The Kafka and Zookeeper instances get started neatly and seem to work just fine - my application can create the required topics and the listener is subscribed as well, I can even send messages via kafka console producer. \r\n\r\n\r\nWhat does not work is the SchemaRegistry. The container starts, apparently connects to the ZK but cannot establish a connection to the broker. It retries connecting for some time until it times out and subsequently the container is stopped. I therefore cannot register and read my avro schematas for (De-)Serialization in my test which fail because of this.\r\n\r\nI can&#39;t find the reason why the SR can apparently connect to the ZK but cant find my broker.\r\n\r\nDid someone run into this problem as well? Did you manage to get this running? If so, how so?\r\nI need Kafka and the Schema Registry testcontainers to be fully available for my tests, so omitting any of them is not an option. \r\n\r\nI could also keep using the docker-compose.yml but I would really like to setup my test environment fully programmatically.\r\n\r\nThe schema registry container logs the following:\r\n```\r\n2023-02-08 16:56:09 [2023-02-08 15:56:09,556] INFO Session establishment complete on server zookeeper/192.168.144.2:2181, session id = 0x1000085b81e0003, negotiated timeout = 40000 (org.apache.zookeeper.ClientCnxn)\r\n2023-02-08 16:56:09 [2023-02-08 15:56:09,696] INFO Session: 0x1000085b81e0003 closed (org.apache.zookeeper.ZooKeeper)\r\n2023-02-08 16:56:09 [2023-02-08 15:56:09,696] INFO EventThread shut down for session: 0x1000085b81e0003 (org.apache.zookeeper.ClientCnxn)\r\n2023-02-08 16:56:09 [2023-02-08 15:56:09,787] INFO AdminClientConfig values:\r\n/*  Omitted for brevity  */\r\n(org.apache.kafka.clients.admin.AdminClientConfig)\r\n2023-02-08 16:56:10 [2023-02-08 15:56:10,284] INFO Kafka version: 7.3.1-ccs (org.apache.kafka.common.utils.AppInfoParser)\r\n2023-02-08 16:56:10 [2023-02-08 15:56:10,284] INFO Kafka commitId: 8628b0341c3c4676 (org.apache.kafka.common.utils.AppInfoParser)\r\n2023-02-08 16:56:10 [2023-02-08 15:56:10,284] INFO Kafka startTimeMs: 1675871770281 (org.apache.kafka.common.utils.AppInfoParser)\r\n2023-02-08 16:56:10 [2023-02-08 15:56:10,308] INFO [AdminClient clientId=adminclient-1] Node -1 disconnected. (org.apache.kafka.clients.NetworkClient)\r\n2023-02-08 16:56:10 [2023-02-08 15:56:10,313] WARN [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:54776) could not be established. Broker may not be available. (org.apache.kafka.clients.NetworkClient)\r\n/*  These lines repeat a few times until the container times out and exits.  */\r\n2023-02-08 16:56:50 [2023-02-08 15:56:50,144] INFO [AdminClient clientId=adminclient-1] Node -1 disconnected. (org.apache.kafka.clients.NetworkClient)\r\n2023-02-08 16:56:50 [2023-02-08 15:56:50,144] WARN [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:54776) could not be established. Broker may not be available. (org.apache.kafka.clients.NetworkClient)\r\n2023-02-08 16:56:50 [2023-02-08 15:56:50,298] ERROR Error while getting broker list. (io.confluent.admin.utils.ClusterStatus)\r\n2023-02-08 16:56:50 java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: listNodes\r\n2023-02-08 16:56:50     at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\r\n2023-02-08 16:56:50     at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\r\n2023-02-08 16:56:50     at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\r\n2023-02-08 16:56:50     at io.confluent.admin.utils.ClusterStatus.isKafkaReady(ClusterStatus.java:147)\r\n2023-02-08 16:56:50     at io.confluent.admin.utils.cli.KafkaReadyCommand.main(KafkaReadyCommand.java:149)\r\n2023-02-08 16:56:50 Caused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: listNodes\r\n2023-02-08 16:56:51 [2023-02-08 15:56:51,103] INFO [AdminClient clientId=adminclient-1] Node -1 disconnected. (org.apache.kafka.clients.NetworkClient)\r\n2023-02-08 16:56:51 [2023-02-08 15:56:51,103] WARN [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:54776) could not be established. Broker may not be available. (org.apache.kafka.clients.NetworkClient)\r\n2023-02-08 16:56:51 [2023-02-08 15:56:51,300] INFO Expected 1 brokers but found only 0. Trying to query Kafka for metadata again ... (io.confluent.admin.utils.ClusterStatus)\r\n2023-02-08 16:56:51 [2023-02-08 15:56:51,300] ERROR Expected 1 brokers but found only 0. Brokers found []. (io.confluent.admin.utils.ClusterStatus)\r\n2023-02-08 16:56:51 Using log4j config /etc/schema-registry/log4j.properties\r\n```\r\n\r\nMy base test class. ITs that need Kafka extend this class\r\n```\r\n@Testcontainers\r\n@SpringBootTest\r\n@Slf4j\r\npublic class AbstractIT {\r\n\r\n  private static final Network network = Network.newNetwork();\r\n\r\n  protected static GenericContainer ZOOKEEPER = new GenericContainer&lt;&gt;(\r\n      DockerImageName.parse(&quot;confluentinc/cp-zookeeper:7.2.0&quot;))\r\n      .withNetwork(network)\r\n      .withNetworkAliases(&quot;zookeeper&quot;)\r\n      .withEnv(Map.of(\r\n          &quot;ZOOKEEPER_CLIENT_PORT&quot;, &quot;2181&quot;,\r\n          &quot;ZOOKEEPER_TICK_TIME&quot;, &quot;2000&quot;));\r\n  \r\n  protected static final KafkaContainer KAFKA = new KafkaContainer(\r\n      DockerImageName.parse(&quot;confluentinc/cp-kafka&quot;))\r\n      .withExternalZookeeper(&quot;zookeeper:2181&quot;)\r\n      .dependsOn(ZOOKEEPER)\r\n      .withNetwork(network)\r\n      .withNetworkAliases(&quot;broker&quot;);\r\n\r\n  protected static final GenericContainer SCHEMAREGSISTRY = new GenericContainer&lt;&gt;(\r\n      DockerImageName.parse(&quot;confluentinc/cp-schema-registry&quot;))\r\n      .dependsOn(ZOOKEEPER, KAFKA)\r\n      .withEnv(Map.of(\r\n          &quot;SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL&quot;, &quot;zookeeper:2181&quot;,\r\n          &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;schemaregistry&quot;,\r\n          &quot;SCHEMA_REGISTRY_LISTENERS&quot;, &quot;http://0.0.0.0:8085&quot;,\r\n          &quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, &quot;broker:9092&quot;))\r\n      .withNetwork(network)\r\n      .withNetworkAliases(&quot;schemaregistry&quot;);\r\n\r\n  @DynamicPropertySource\r\n  static void registerPgProperties(DynamicPropertyRegistry registry) {\r\n    registry.add(&quot;bootstrap.servers&quot;, KAFKA::getBootstrapServers);\r\n    registry.add(&quot;spring.kafka.bootstrap-servers&quot;, KAFKA::getBootstrapServers);\r\n    registry.add(&quot;spring.kafka.consumer.auto-offset-reset&quot;, () -&gt; &quot;earliest&quot;);\r\n    registry.add(&quot;spring.data.mongodb.uri&quot;, MONGODB::getConnectionString);\r\n    registry.add(&quot;spring.data.mongodb.database&quot;, () -&gt;&quot;test&quot;);\r\n  }\r\n\r\n//container startup, shutdown as well as topic creation omitted for brevity\r\n\r\n}\r\n```\r\n\r\nMy docker-compose.yml that I want to replicate with testcontainers\r\n```\r\nversion: &quot;3.5&quot;\r\nservices:\r\n  zookeeper:\r\n    image: confluentinc/cp-zookeeper:7.2.0\r\n    hostname: zookeeper\r\n    container_name: zookeeper\r\n    ports:\r\n      - &quot;2181:2181&quot;\r\n    environment:\r\n      ZOOKEEPER_CLIENT_PORT: 2181\r\n      ZOOKEEPER_TICK_TIME: 2000\r\n\r\n  broker:\r\n    image: confluentinc/cp-kafka:7.2.0\r\n    hostname: broker\r\n    container_name: broker\r\n    restart: always\r\n    depends_on:\r\n      - zookeeper\r\n    ports:\r\n      - &quot;29092:29092&quot;\r\n      - &quot;9092:9092&quot;\r\n    environment:\r\n      KAFKA_BROKER_ID: 1\r\n      KAFKA_ZOOKEEPER_CONNECT: &#39;zookeeper:2181&#39;\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker:9092,PLAINTEXT_HOST://localhost:29092\r\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\r\n      KAFKA_TRANSACTION_STATE_LOG_MIN_ISR: 1\r\n      KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1\r\n      KAFKA_SCHEMA_REGISTRY_URL: &quot;schemaregistry:8085&quot;\r\n\r\n\r\n  schemaregistry:\r\n    container_name: schemaregistry\r\n    hostname: schemaregistry\r\n    image: confluentinc/cp-schema-registry:5.1.2\r\n    restart: always\r\n    depends_on:\r\n      - zookeeper\r\n    environment:\r\n      SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: &quot;zookeeper:2181&quot;\r\n      SCHEMA_REGISTRY_HOST_NAME: schemaregistry\r\n      SCHEMA_REGISTRY_LISTENERS: &quot;http://0.0.0.0:8085&quot;\r\n    ports:\r\n      - &quot;8085:8085&quot;\r\n    volumes:\r\n      - &quot;./src/main/avro/:/etc/schema&quot;\r\n```","title":"Testcontainers SchemaRegistry can&#39;t connect to Kafka container","body":"<p>I want to run integration tests that test my kafka listener and avro serialization. this requires a Kafka and a Schema regsitry (transitively also a Zookeeper).</p>\n<p>When testing I currently have to a docker-compose.yml, but I want to reduce user error by building the required containers via testcontainers. The Kafka and Zookeeper instances get started neatly and seem to work just fine - my application can create the required topics and the listener is subscribed as well, I can even send messages via kafka console producer.</p>\n<p>What does not work is the SchemaRegistry. The container starts, apparently connects to the ZK but cannot establish a connection to the broker. It retries connecting for some time until it times out and subsequently the container is stopped. I therefore cannot register and read my avro schematas for (De-)Serialization in my test which fail because of this.</p>\n<p>I can't find the reason why the SR can apparently connect to the ZK but cant find my broker.</p>\n<p>Did someone run into this problem as well? Did you manage to get this running? If so, how so?\nI need Kafka and the Schema Registry testcontainers to be fully available for my tests, so omitting any of them is not an option.</p>\n<p>I could also keep using the docker-compose.yml but I would really like to setup my test environment fully programmatically.</p>\n<p>The schema registry container logs the following:</p>\n<pre><code>2023-02-08 16:56:09 [2023-02-08 15:56:09,556] INFO Session establishment complete on server zookeeper/192.168.144.2:2181, session id = 0x1000085b81e0003, negotiated timeout = 40000 (org.apache.zookeeper.ClientCnxn)\n2023-02-08 16:56:09 [2023-02-08 15:56:09,696] INFO Session: 0x1000085b81e0003 closed (org.apache.zookeeper.ZooKeeper)\n2023-02-08 16:56:09 [2023-02-08 15:56:09,696] INFO EventThread shut down for session: 0x1000085b81e0003 (org.apache.zookeeper.ClientCnxn)\n2023-02-08 16:56:09 [2023-02-08 15:56:09,787] INFO AdminClientConfig values:\n/*  Omitted for brevity  */\n(org.apache.kafka.clients.admin.AdminClientConfig)\n2023-02-08 16:56:10 [2023-02-08 15:56:10,284] INFO Kafka version: 7.3.1-ccs (org.apache.kafka.common.utils.AppInfoParser)\n2023-02-08 16:56:10 [2023-02-08 15:56:10,284] INFO Kafka commitId: 8628b0341c3c4676 (org.apache.kafka.common.utils.AppInfoParser)\n2023-02-08 16:56:10 [2023-02-08 15:56:10,284] INFO Kafka startTimeMs: 1675871770281 (org.apache.kafka.common.utils.AppInfoParser)\n2023-02-08 16:56:10 [2023-02-08 15:56:10,308] INFO [AdminClient clientId=adminclient-1] Node -1 disconnected. (org.apache.kafka.clients.NetworkClient)\n2023-02-08 16:56:10 [2023-02-08 15:56:10,313] WARN [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:54776) could not be established. Broker may not be available. (org.apache.kafka.clients.NetworkClient)\n/*  These lines repeat a few times until the container times out and exits.  */\n2023-02-08 16:56:50 [2023-02-08 15:56:50,144] INFO [AdminClient clientId=adminclient-1] Node -1 disconnected. (org.apache.kafka.clients.NetworkClient)\n2023-02-08 16:56:50 [2023-02-08 15:56:50,144] WARN [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:54776) could not be established. Broker may not be available. (org.apache.kafka.clients.NetworkClient)\n2023-02-08 16:56:50 [2023-02-08 15:56:50,298] ERROR Error while getting broker list. (io.confluent.admin.utils.ClusterStatus)\n2023-02-08 16:56:50 java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: listNodes\n2023-02-08 16:56:50     at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\n2023-02-08 16:56:50     at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\n2023-02-08 16:56:50     at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\n2023-02-08 16:56:50     at io.confluent.admin.utils.ClusterStatus.isKafkaReady(ClusterStatus.java:147)\n2023-02-08 16:56:50     at io.confluent.admin.utils.cli.KafkaReadyCommand.main(KafkaReadyCommand.java:149)\n2023-02-08 16:56:50 Caused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: listNodes\n2023-02-08 16:56:51 [2023-02-08 15:56:51,103] INFO [AdminClient clientId=adminclient-1] Node -1 disconnected. (org.apache.kafka.clients.NetworkClient)\n2023-02-08 16:56:51 [2023-02-08 15:56:51,103] WARN [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:54776) could not be established. Broker may not be available. (org.apache.kafka.clients.NetworkClient)\n2023-02-08 16:56:51 [2023-02-08 15:56:51,300] INFO Expected 1 brokers but found only 0. Trying to query Kafka for metadata again ... (io.confluent.admin.utils.ClusterStatus)\n2023-02-08 16:56:51 [2023-02-08 15:56:51,300] ERROR Expected 1 brokers but found only 0. Brokers found []. (io.confluent.admin.utils.ClusterStatus)\n2023-02-08 16:56:51 Using log4j config /etc/schema-registry/log4j.properties\n</code></pre>\n<p>My base test class. ITs that need Kafka extend this class</p>\n<pre><code>@Testcontainers\n@SpringBootTest\n@Slf4j\npublic class AbstractIT {\n\n  private static final Network network = Network.newNetwork();\n\n  protected static GenericContainer ZOOKEEPER = new GenericContainer&lt;&gt;(\n      DockerImageName.parse(&quot;confluentinc/cp-zookeeper:7.2.0&quot;))\n      .withNetwork(network)\n      .withNetworkAliases(&quot;zookeeper&quot;)\n      .withEnv(Map.of(\n          &quot;ZOOKEEPER_CLIENT_PORT&quot;, &quot;2181&quot;,\n          &quot;ZOOKEEPER_TICK_TIME&quot;, &quot;2000&quot;));\n  \n  protected static final KafkaContainer KAFKA = new KafkaContainer(\n      DockerImageName.parse(&quot;confluentinc/cp-kafka&quot;))\n      .withExternalZookeeper(&quot;zookeeper:2181&quot;)\n      .dependsOn(ZOOKEEPER)\n      .withNetwork(network)\n      .withNetworkAliases(&quot;broker&quot;);\n\n  protected static final GenericContainer SCHEMAREGSISTRY = new GenericContainer&lt;&gt;(\n      DockerImageName.parse(&quot;confluentinc/cp-schema-registry&quot;))\n      .dependsOn(ZOOKEEPER, KAFKA)\n      .withEnv(Map.of(\n          &quot;SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL&quot;, &quot;zookeeper:2181&quot;,\n          &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;schemaregistry&quot;,\n          &quot;SCHEMA_REGISTRY_LISTENERS&quot;, &quot;http://0.0.0.0:8085&quot;,\n          &quot;SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS&quot;, &quot;broker:9092&quot;))\n      .withNetwork(network)\n      .withNetworkAliases(&quot;schemaregistry&quot;);\n\n  @DynamicPropertySource\n  static void registerPgProperties(DynamicPropertyRegistry registry) {\n    registry.add(&quot;bootstrap.servers&quot;, KAFKA::getBootstrapServers);\n    registry.add(&quot;spring.kafka.bootstrap-servers&quot;, KAFKA::getBootstrapServers);\n    registry.add(&quot;spring.kafka.consumer.auto-offset-reset&quot;, () -&gt; &quot;earliest&quot;);\n    registry.add(&quot;spring.data.mongodb.uri&quot;, MONGODB::getConnectionString);\n    registry.add(&quot;spring.data.mongodb.database&quot;, () -&gt;&quot;test&quot;);\n  }\n\n//container startup, shutdown as well as topic creation omitted for brevity\n\n}\n</code></pre>\n<p>My docker-compose.yml that I want to replicate with testcontainers</p>\n<pre><code>version: &quot;3.5&quot;\nservices:\n  zookeeper:\n    image: confluentinc/cp-zookeeper:7.2.0\n    hostname: zookeeper\n    container_name: zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      ZOOKEEPER_TICK_TIME: 2000\n\n  broker:\n    image: confluentinc/cp-kafka:7.2.0\n    hostname: broker\n    container_name: broker\n    restart: always\n    depends_on:\n      - zookeeper\n    ports:\n      - &quot;29092:29092&quot;\n      - &quot;9092:9092&quot;\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_ZOOKEEPER_CONNECT: 'zookeeper:2181'\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker:9092,PLAINTEXT_HOST://localhost:29092\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\n      KAFKA_TRANSACTION_STATE_LOG_MIN_ISR: 1\n      KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1\n      KAFKA_SCHEMA_REGISTRY_URL: &quot;schemaregistry:8085&quot;\n\n\n  schemaregistry:\n    container_name: schemaregistry\n    hostname: schemaregistry\n    image: confluentinc/cp-schema-registry:5.1.2\n    restart: always\n    depends_on:\n      - zookeeper\n    environment:\n      SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: &quot;zookeeper:2181&quot;\n      SCHEMA_REGISTRY_HOST_NAME: schemaregistry\n      SCHEMA_REGISTRY_LISTENERS: &quot;http://0.0.0.0:8085&quot;\n    ports:\n      - &quot;8085:8085&quot;\n    volumes:\n      - &quot;./src/main/avro/:/etc/schema&quot;\n</code></pre>\n"},{"tags":["java","hibernate","jpa","orm","migration"],"comments":[{"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"score":0,"creation_date":1438291908,"post_id":31725067,"comment_id":51404238,"body_markdown":"Unfortunately no - this hasn&#39;t changed since JPA 2.0. But you can check the anwers in [here](http://stackoverflow.com/questions/2880209/jpa-findbyexample). I would guess for simple use cases you can build something like _wallenborn_ is creating there.","body":"Unfortunately no - this hasn&#39;t changed since JPA 2.0. But you can check the anwers in <a href=\"http://stackoverflow.com/questions/2880209/jpa-findbyexample\">here</a>. I would guess for simple use cases you can build something like <i>wallenborn</i> is creating there."}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682605222,"creation_date":1438330550,"answer_id":31741343,"question_id":31725067,"body_markdown":"JPA doesn&#39;t offer this yet, but you can use Spring Data JPA [Query by Example](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example).","title":"JPA equivalents to Hibernate org.hibernate.criterion.Example?","body":"<p>JPA doesn't offer this yet, but you can use Spring Data JPA <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example\" rel=\"nofollow noreferrer\">Query by Example</a>.</p>\n"}],"owner":{"account_id":3189791,"reputation":89,"user_id":2694403,"display_name":"skywards"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":31741343,"answer_count":1,"score":5,"last_activity_date":1682605222,"creation_date":1438262666,"question_id":31725067,"body_markdown":"I have an application that uses Hibernate. We are moving to JPA 2.1 standard.\r\nThere are a lot of usage of &quot;org.hibernate.criterion.Example&quot; with its (excludeProperty) feature. Is there any equivalent to &quot;Hibernate Example&quot; in JPA 2.1?\r\n\r\nThanks.","title":"JPA equivalents to Hibernate org.hibernate.criterion.Example?","body":"<p>I have an application that uses Hibernate. We are moving to JPA 2.1 standard.\nThere are a lot of usage of \"org.hibernate.criterion.Example\" with its (excludeProperty) feature. Is there any equivalent to \"Hibernate Example\" in JPA 2.1?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java"],"owner":{"account_id":8235404,"reputation":1,"user_id":6194803,"display_name":"Micah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682605186,"creation_date":1682605128,"question_id":76121461,"body_markdown":"Am doing some automation in my app, need a way to listen to whether payment has been made successfully(customer debited).I do not want to depend on the payload sent to the URL provided. That is, the phone umber provided&#160; receives STKPush to enter the pin, then pin is entered and the customer is debited. Now want to **listen to debit part of it** ,so that when debit is successful I start&#160; an&#160;activity in my app .The response below is for STKPush and I do not want to start the activity from there.Kindly assist.\r\n\r\n    mApiClient.mpesaService().sendPush(stkPush).enqueue(new Callback&lt;STKPush&gt;() {\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;STKPush&gt; call, @NonNull Response&lt;STKPush&gt; response) {\r\n\r\n                mProgressDialog.dismiss();\r\n\r\n                try {\r\n\r\n                    if (response.isSuccessful()) {\r\n\r\n                        Timber.d(&quot;post submitted to API. %s&quot;, response.body());\r\n                        \r\n                        RazorpayPaymentSuccess();\r\n                        new Intent(MainACheckout.this, MainActivity_The_Current_providers.class);\r\n\r\n                        //Toast.makeText(MainACheckout.this, &quot;Now ready to save&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    } else {\r\n\r\n                        Timber.e(&quot;Response %s&quot;, response.errorBody().string());\r\n                        AlertDialog.Builder builder = new AlertDialog.Builder(MainACheckout.this);\r\n                        ViewGroup viewGroup = findViewById(android.R.id.content);\r\n                        View dialogView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.customview, viewGroup, false);\r\n                        builder.setView(dialogView);\r\n                        AlertDialog alertDialog = builder.create();\r\n                        alertDialog.setTitle(&quot;Error!&quot;);\r\n                        alertDialog.setMessage(&quot;Something went wrong&quot;);\r\n                        alertDialog.show();\r\n\r\n                        // Toast.makeText(MainActivity_Placing_orders.this, &quot;Not successful&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                } catch (Exception e) {\r\n\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;STKPush&gt; call, @NonNull Throwable t) {\r\n                mProgressDialog.dismiss();\r\n                Timber.e(t);\r\n            }\r\n        });","title":"M-Pesa payment success","body":"<p>Am doing some automation in my app, need a way to listen to whether payment has been made successfully(customer debited).I do not want to depend on the payload sent to the URL provided. That is, the phone umber provided  receives STKPush to enter the pin, then pin is entered and the customer is debited. Now want to <strong>listen to debit part of it</strong> ,so that when debit is successful I start  an activity in my app .The response below is for STKPush and I do not want to start the activity from there.Kindly assist.</p>\n<pre><code>mApiClient.mpesaService().sendPush(stkPush).enqueue(new Callback&lt;STKPush&gt;() {\n        @Override\n        public void onResponse(@NonNull Call&lt;STKPush&gt; call, @NonNull Response&lt;STKPush&gt; response) {\n\n            mProgressDialog.dismiss();\n\n            try {\n\n                if (response.isSuccessful()) {\n\n                    Timber.d(&quot;post submitted to API. %s&quot;, response.body());\n                    \n                    RazorpayPaymentSuccess();\n                    new Intent(MainACheckout.this, MainActivity_The_Current_providers.class);\n\n                    //Toast.makeText(MainACheckout.this, &quot;Now ready to save&quot;, Toast.LENGTH_SHORT).show();\n\n                } else {\n\n                    Timber.e(&quot;Response %s&quot;, response.errorBody().string());\n                    AlertDialog.Builder builder = new AlertDialog.Builder(MainACheckout.this);\n                    ViewGroup viewGroup = findViewById(android.R.id.content);\n                    View dialogView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.customview, viewGroup, false);\n                    builder.setView(dialogView);\n                    AlertDialog alertDialog = builder.create();\n                    alertDialog.setTitle(&quot;Error!&quot;);\n                    alertDialog.setMessage(&quot;Something went wrong&quot;);\n                    alertDialog.show();\n\n                    // Toast.makeText(MainActivity_Placing_orders.this, &quot;Not successful&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n            } catch (Exception e) {\n\n                e.printStackTrace();\n            }\n        }\n\n        @Override\n        public void onFailure(@NonNull Call&lt;STKPush&gt; call, @NonNull Throwable t) {\n            mProgressDialog.dismiss();\n            Timber.e(t);\n        }\n    });\n</code></pre>\n"},{"tags":["java","android","macos","android-ndk"],"owner":{"account_id":16059704,"reputation":243,"user_id":14576798,"display_name":"Rohit gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682605155,"creation_date":1682604805,"question_id":76121410,"body_markdown":"I am trying to integrate soundtouch library android.\r\n\r\nI&#39;m getting this error:\r\n```\r\njava.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libsoundtouch.so&quot; not found\r\n    at java.lang.Runtime.loadLibrary0(Runtime.java:1077)\r\n    at java.lang.Runtime.loadLibrary0(Runtime.java:998)\r\n    at java.lang.System.loadLibrary(System.java:1661)\r\n    at com.ola.soundtouch.SoundTouch.&lt;clinit&gt;(SoundTouch.java:8)\r\n```\r\nThis is my directory:\r\n```\r\n:app\r\n\r\n:soundtouch\r\n\r\n - jni\r\n - libs\r\n    - armeabi-v7a\r\n       - libsoundtouch.so\r\n    - arm64-v8a\r\n       - libsoundtouch.so\r\n - src\r\n    - main\r\n       - jniLibs\r\n         - armeabi-v7a\r\n           - libsoundtouch.so\r\n         - arm64-v8a\r\n           - libsoundtouch.so\r\n```\r\nUsing `ndk-build` command I created the `.so` files.\r\n\r\nThis is my soundtouch `build.gradle` file:\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n}\r\n\r\nandroid {\r\n    packagingOptions {\r\n        pickFirst &#39;lib/armeabi-v7a/libsoundtouch.so&#39;\r\n        pickFirst &#39;lib/arm64-v8a/libsoundtouch.so&#39;\r\n    }\r\n    sourceSets {\r\n        main {\r\n            jniLibs.srcDirs = [&quot;src/main/jniLibs&quot;]\r\n        }\r\n    }\r\n    namespace &#39;com.example.soundtouch&#39;\r\n    compileSdkVersion 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.soundtouch&quot;\r\n        minSdkVersion 24\r\n        targetSdkVersion 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        ndk {\r\n            abiFilters &quot;armeabi-v7a&quot;, &quot;arm64-v8a&quot;\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            shrinkResources false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.so&quot;])\r\n    implementation files(&#39;libs/armeabi-v7a/libsoundtouch.so&#39;)\r\n}\r\n```\r\nIn `:app build.gradle` I have added `implementation project(&#39;:soundtouch&#39;)`\r\n\r\nGradle:\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.0.2-all.zip\r\nclasspath(&quot;com.android.tools.build:gradle:4.2.2&quot;)\r\n```\r\nApi Version:\r\n```\r\nCompile 33\r\nTarget 33\r\n```\r\nI built the APK but on analyzing it I found in libs folder this doesnt contain the `libsoundtouch.so` file.","title":"java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libsoundtouch.so&quot; not found","body":"<p>I am trying to integrate soundtouch library android.</p>\n<p>I'm getting this error:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libsoundtouch.so&quot; not found\n    at java.lang.Runtime.loadLibrary0(Runtime.java:1077)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:998)\n    at java.lang.System.loadLibrary(System.java:1661)\n    at com.ola.soundtouch.SoundTouch.&lt;clinit&gt;(SoundTouch.java:8)\n</code></pre>\n<p>This is my directory:</p>\n<pre><code>:app\n\n:soundtouch\n\n - jni\n - libs\n    - armeabi-v7a\n       - libsoundtouch.so\n    - arm64-v8a\n       - libsoundtouch.so\n - src\n    - main\n       - jniLibs\n         - armeabi-v7a\n           - libsoundtouch.so\n         - arm64-v8a\n           - libsoundtouch.so\n</code></pre>\n<p>Using <code>ndk-build</code> command I created the <code>.so</code> files.</p>\n<p>This is my soundtouch <code>build.gradle</code> file:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n}\n\nandroid {\n    packagingOptions {\n        pickFirst 'lib/armeabi-v7a/libsoundtouch.so'\n        pickFirst 'lib/arm64-v8a/libsoundtouch.so'\n    }\n    sourceSets {\n        main {\n            jniLibs.srcDirs = [&quot;src/main/jniLibs&quot;]\n        }\n    }\n    namespace 'com.example.soundtouch'\n    compileSdkVersion 33\n\n    defaultConfig {\n        applicationId &quot;com.example.soundtouch&quot;\n        minSdkVersion 24\n        targetSdkVersion 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        ndk {\n            abiFilters &quot;armeabi-v7a&quot;, &quot;arm64-v8a&quot;\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            shrinkResources false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.so&quot;])\n    implementation files('libs/armeabi-v7a/libsoundtouch.so')\n}\n</code></pre>\n<p>In <code>:app build.gradle</code> I have added <code>implementation project(':soundtouch')</code></p>\n<p>Gradle:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.0.2-all.zip\nclasspath(&quot;com.android.tools.build:gradle:4.2.2&quot;)\n</code></pre>\n<p>Api Version:</p>\n<pre><code>Compile 33\nTarget 33\n</code></pre>\n<p>I built the APK but on analyzing it I found in libs folder this doesnt contain the <code>libsoundtouch.so</code> file.</p>\n"},{"tags":["java","mongodb","changeset"],"answers":[{"tags":[],"owner":{"account_id":11144522,"reputation":46,"user_id":8179793,"display_name":"oneWalker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682604994,"creation_date":1682604994,"answer_id":76121442,"question_id":76121181,"body_markdown":"```shell\r\ndb.collection.updateMany(\r\n  {\r\n    &quot;type&quot;: &quot;CUSTOM&quot;,\r\n    &quot;reportId&quot;: &quot;desiredReport&quot;\r\n  },\r\n  {\r\n    &quot;$pull&quot;: {\r\n      &quot;reportDef.reportParameters&quot;: &quot;b&quot;\r\n    }\r\n  }\r\n);\r\n```","title":"How to write Mongo db changeset to remove child node","body":"<pre class=\"lang-bash prettyprint-override\"><code>db.collection.updateMany(\n  {\n    &quot;type&quot;: &quot;CUSTOM&quot;,\n    &quot;reportId&quot;: &quot;desiredReport&quot;\n  },\n  {\n    &quot;$pull&quot;: {\n      &quot;reportDef.reportParameters&quot;: &quot;b&quot;\n    }\n  }\n);\n</code></pre>\n"}],"owner":{"account_id":25278119,"reputation":31,"user_id":19106386,"display_name":"Shilpa HM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682604994,"creation_date":1682603378,"question_id":76121181,"body_markdown":"I have a List of Documents like below which I got it from Mongodb\r\n\r\n\r\n\r\n    {\r\n    &quot;_id&quot;:&quot;some_random_id&quot;\r\n    &quot;name&quot;: &quot;report1&quot;\r\n    &quot;reportDef&quot;:\r\n    \t{\r\n    \t&quot;reportParameters&quot;:\r\n    \t\t[&quot;a&quot;,\r\n    \t\t&quot;b&quot;,\r\n    \t\t&quot;c&quot;,\r\n    \t\t&quot;d&quot;,\r\n    \t\t&quot;e&quot;\r\n    \t\t]\r\n    \t}\r\n    \t\r\n    &quot;type&quot;: &quot;CUSTOM&quot;\r\n    &quot;reportId&quot;: &quot;desiredReport&quot;\r\n    }\r\n    \r\n    \r\n    {\r\n    &quot;_id&quot;:&quot;some_random_id&quot;\r\n    &quot;name&quot;: &quot;report1&quot;\r\n    &quot;reportDef&quot;:\r\n    \t{\r\n    \t&quot;reportParameters&quot;:\r\n    \t\t[&quot;e&quot;,\r\n    \t\t&quot;f&quot;,\r\n    \t\t&quot;b&quot;,\r\n    \t\t&quot;y&quot;,\r\n    \t\t&quot;z&quot;\r\n    \t\t]\r\n    \t}\r\n    \t\r\n    &quot;type&quot;: &quot;CUSTOM&quot;\r\n    &quot;reportId&quot;: &quot;desiredReport&quot;\r\n    }\r\n\r\nand I need to remove &quot;b&quot; from the reportParameters if this condition satisfies i.e., if type=&quot;CUSTOM&quot; and reportId=&quot;desiredReport&quot;\r\n\r\nmeans final json document should be like below\r\n\r\n    {\r\n    &quot;_id&quot;:&quot;some_random_id&quot;\r\n    &quot;name&quot;: &quot;report1&quot;\r\n    &quot;reportDef&quot;:\r\n    \t{\r\n    \t&quot;reportParameters&quot;:\r\n    \t\t[&quot;a&quot;,\r\n    \t\t&quot;c&quot;,\r\n    \t\t&quot;d&quot;,\r\n    \t\t&quot;e&quot;\r\n    \t\t]\r\n    \t}\r\n    \t\r\n    &quot;type&quot;: &quot;CUSTOM&quot;\r\n    &quot;reportId&quot;: &quot;desiredReport&quot;\r\n    }\r\n    \r\n    {\r\n    &quot;_id&quot;:&quot;some_random_id&quot;\r\n    &quot;name&quot;: &quot;report1&quot;\r\n    &quot;reportDef&quot;:\r\n    \t{\r\n    \t&quot;reportParameters&quot;:\r\n    \t\t[&quot;e&quot;,\r\n    \t\t&quot;f&quot;,\r\n    \t\t&quot;y&quot;,\r\n    \t\t&quot;z&quot;\r\n    \t\t]\r\n    \t}\r\n    \t\r\n    &quot;type&quot;: &quot;CUSTOM&quot;\r\n    &quot;reportId&quot;: &quot;desiredReport&quot;\r\n    }\r\n\r\n\r\nHow to add changeset to achieve this?\r\n","title":"How to write Mongo db changeset to remove child node","body":"<p>I have a List of Documents like below which I got it from Mongodb</p>\n<pre><code>{\n&quot;_id&quot;:&quot;some_random_id&quot;\n&quot;name&quot;: &quot;report1&quot;\n&quot;reportDef&quot;:\n    {\n    &quot;reportParameters&quot;:\n        [&quot;a&quot;,\n        &quot;b&quot;,\n        &quot;c&quot;,\n        &quot;d&quot;,\n        &quot;e&quot;\n        ]\n    }\n    \n&quot;type&quot;: &quot;CUSTOM&quot;\n&quot;reportId&quot;: &quot;desiredReport&quot;\n}\n\n\n{\n&quot;_id&quot;:&quot;some_random_id&quot;\n&quot;name&quot;: &quot;report1&quot;\n&quot;reportDef&quot;:\n    {\n    &quot;reportParameters&quot;:\n        [&quot;e&quot;,\n        &quot;f&quot;,\n        &quot;b&quot;,\n        &quot;y&quot;,\n        &quot;z&quot;\n        ]\n    }\n    \n&quot;type&quot;: &quot;CUSTOM&quot;\n&quot;reportId&quot;: &quot;desiredReport&quot;\n}\n</code></pre>\n<p>and I need to remove &quot;b&quot; from the reportParameters if this condition satisfies i.e., if type=&quot;CUSTOM&quot; and reportId=&quot;desiredReport&quot;</p>\n<p>means final json document should be like below</p>\n<pre><code>{\n&quot;_id&quot;:&quot;some_random_id&quot;\n&quot;name&quot;: &quot;report1&quot;\n&quot;reportDef&quot;:\n    {\n    &quot;reportParameters&quot;:\n        [&quot;a&quot;,\n        &quot;c&quot;,\n        &quot;d&quot;,\n        &quot;e&quot;\n        ]\n    }\n    \n&quot;type&quot;: &quot;CUSTOM&quot;\n&quot;reportId&quot;: &quot;desiredReport&quot;\n}\n\n{\n&quot;_id&quot;:&quot;some_random_id&quot;\n&quot;name&quot;: &quot;report1&quot;\n&quot;reportDef&quot;:\n    {\n    &quot;reportParameters&quot;:\n        [&quot;e&quot;,\n        &quot;f&quot;,\n        &quot;y&quot;,\n        &quot;z&quot;\n        ]\n    }\n    \n&quot;type&quot;: &quot;CUSTOM&quot;\n&quot;reportId&quot;: &quot;desiredReport&quot;\n}\n</code></pre>\n<p>How to add changeset to achieve this?</p>\n"},{"tags":["java","spring","testing","junit"],"answers":[{"tags":[],"owner":{"account_id":24430255,"reputation":88,"user_id":18355295,"display_name":"Stefan Billmaier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667060247,"creation_date":1667060247,"answer_id":74246872,"question_id":74245744,"body_markdown":"The content type you&#39;ve set is used for the request, but in your assertion you&#39;re checking for the content type which is returned in the response.\r\n\r\nAs you can see in the log, there is no content type or body set in the MockHttpServletResponse:\r\n\r\n    MockHttpServletResponse:\r\n           Status = 200\r\n    Error message = null\r\n          Headers = []\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n\r\nSo there seems to be an issue with the returned object in your mocked result of \r\n\r\n    when(employeeService.save(employeeDto.toEmployee())).thenReturn(employee);\r\n\r\nsince the result of this will be rendered to a JSON object you&#39;re doing your assertions on.","title":"I have an error &quot;Content type not set&quot; when testing with junit","body":"<p>The content type you've set is used for the request, but in your assertion you're checking for the content type which is returned in the response.</p>\n<p>As you can see in the log, there is no content type or body set in the MockHttpServletResponse:</p>\n<pre><code>MockHttpServletResponse:\n       Status = 200\nError message = null\n      Headers = []\n Content type = null\n         Body = \nForwarded URL = null\n</code></pre>\n<p>Redirected URL = null\nCookies = []</p>\n<p>So there seems to be an issue with the returned object in your mocked result of</p>\n<pre><code>when(employeeService.save(employeeDto.toEmployee())).thenReturn(employee);\n</code></pre>\n<p>since the result of this will be rendered to a JSON object you're doing your assertions on.</p>\n"},{"tags":[],"owner":{"account_id":18580192,"reputation":21,"user_id":13539927,"display_name":"Sajjad Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682604994,"creation_date":1682114862,"answer_id":76077010,"question_id":74245744,"body_markdown":"I had a same issue related to `Content-Type` while writing test.\r\nI was writing test for REST controller. I had mockbean of my service when ever I was trying to access my service method my service method was iterating the list then matching the `id` and then returned me a object but when I was writing test, I was not using let list, just passing single object that was causing the issue of `Content-Type`. I hope this might help.\r\n\r\n***Note***: I was not using repository. I was using hardcoded values in my services.\r\n\r\n","title":"I have an error &quot;Content type not set&quot; when testing with junit","body":"<p>I had a same issue related to <code>Content-Type</code> while writing test.\nI was writing test for REST controller. I had mockbean of my service when ever I was trying to access my service method my service method was iterating the list then matching the <code>id</code> and then returned me a object but when I was writing test, I was not using let list, just passing single object that was causing the issue of <code>Content-Type</code>. I hope this might help.</p>\n<p><em><strong>Note</strong></em>: I was not using repository. I was using hardcoded values in my services.</p>\n"}],"owner":{"account_id":26769224,"reputation":3,"user_id":20365901,"display_name":"poub 770"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74246872,"answer_count":2,"score":0,"last_activity_date":1682604994,"creation_date":1667050440,"question_id":74245744,"body_markdown":"I use spring boot 2.7 and test with junit\r\nduring the execution of the tests I get an error :\r\nthe other tests work well.\r\n\r\ncontroller \r\n\r\n```java\r\n@PostMapping(value = &quot;/employees&quot;)\r\npublic ResponseEntity&lt;Employee&gt; addEmployee(@Valid @RequestBody EmployeeDto employeeDto) {\r\n\r\n    Optional&lt;Employee&gt; employeeDb = employeeService.findByEmail(employeeDto.getEmail());\r\n\r\n    // must not exist in database\r\n    if (!employeeDb.isEmpty()) {\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT);\r\n    }\r\n\r\n    // convertion dto -&gt; model\r\n    Employee employee = employeeDto.toEmployee();\r\n\r\n    return new ResponseEntity&lt;&gt;(employeeService.save(employee), HttpStatus.OK);\r\n}\r\n```\r\n\r\ncontrollerTest\r\n\r\n```java\r\n@Test\r\nvoid addEmployee() throws Exception {\r\n\r\n    when(employeeService.save(employeeDto.toEmployee())).thenReturn(employee);\r\n    when(employeeService.findByEmail(any(String.class))).thenReturn(Optional.of(employee));\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    String json = objectMapper.writeValueAsString(employeeDto);\r\n\r\n    mockMvc.perform(\r\n        MockMvcRequestBuilders\r\n        .post(REST_URL)\r\n        .contentType(MediaType.APPLICATION_JSON)\r\n        .accept(MediaType.APPLICATION_JSON)\r\n        .characterEncoding(&quot;utf-8&quot;)\r\n        .content(json)\r\n    )\r\n    .andExpect(status().isOk())\r\n    .andExpect(content().contentTypeCompatibleWith(MediaType.APPLICATION_JSON))\r\n    .andExpect(jsonPath(&quot;$.firstname&quot;, is(employee.getFirstname())))\r\n    .andExpect(jsonPath(&quot;$.lastname&quot;, is(employee.getLastname())))\r\n    .andExpect(jsonPath(&quot;$.email&quot;, is(employee.getEmail())));\r\n}\r\n```\r\n\r\nthe error : &quot;Content type not set&quot;\r\nyet in the test I indicate well the content-type : &quot;.contentType(MediaType.APPLICATION_JSON)&quot;\r\n\r\n```\r\nMockHttpServletRequest:\r\n      HTTP Method = POST\r\n      Request URI = /api/employees/\r\n       Parameters = {}\r\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;74&quot;]\r\n             Body = {&quot;email&quot;:&quot;test1@test.com&quot;,&quot;firstname&quot;:&quot;firstname1&quot;,&quot;lastname&quot;:&quot;lastname1&quot;}\r\n    Session Attrs = {}\r\n\r\nHandler:\r\n             Type = com.acme.app1.controllers.EmployeeController\r\n           Method = com.acme.app1.controllers.EmployeeController#addEmployee(EmployeeDto)\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 200\r\n    Error message = null\r\n          Headers = []\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n\r\njava.lang.AssertionError: Content type not set\r\n\r\n\tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:37)\r\n\tat org.springframework.test.util.AssertionErrors.assertTrue(AssertionErrors.java:70)\r\n\tat org.springframework.test.util.AssertionErrors.assertNotNull(AssertionErrors.java:106)\r\n```\r\n\r\nfor the test to be successful, what should I change?","title":"I have an error &quot;Content type not set&quot; when testing with junit","body":"<p>I use spring boot 2.7 and test with junit\nduring the execution of the tests I get an error :\nthe other tests work well.</p>\n<p>controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/employees&quot;)\npublic ResponseEntity&lt;Employee&gt; addEmployee(@Valid @RequestBody EmployeeDto employeeDto) {\n\n    Optional&lt;Employee&gt; employeeDb = employeeService.findByEmail(employeeDto.getEmail());\n\n    // must not exist in database\n    if (!employeeDb.isEmpty()) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT);\n    }\n\n    // convertion dto -&gt; model\n    Employee employee = employeeDto.toEmployee();\n\n    return new ResponseEntity&lt;&gt;(employeeService.save(employee), HttpStatus.OK);\n}\n</code></pre>\n<p>controllerTest</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid addEmployee() throws Exception {\n\n    when(employeeService.save(employeeDto.toEmployee())).thenReturn(employee);\n    when(employeeService.findByEmail(any(String.class))).thenReturn(Optional.of(employee));\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    String json = objectMapper.writeValueAsString(employeeDto);\n\n    mockMvc.perform(\n        MockMvcRequestBuilders\n        .post(REST_URL)\n        .contentType(MediaType.APPLICATION_JSON)\n        .accept(MediaType.APPLICATION_JSON)\n        .characterEncoding(&quot;utf-8&quot;)\n        .content(json)\n    )\n    .andExpect(status().isOk())\n    .andExpect(content().contentTypeCompatibleWith(MediaType.APPLICATION_JSON))\n    .andExpect(jsonPath(&quot;$.firstname&quot;, is(employee.getFirstname())))\n    .andExpect(jsonPath(&quot;$.lastname&quot;, is(employee.getLastname())))\n    .andExpect(jsonPath(&quot;$.email&quot;, is(employee.getEmail())));\n}\n</code></pre>\n<p>the error : &quot;Content type not set&quot;\nyet in the test I indicate well the content-type : &quot;.contentType(MediaType.APPLICATION_JSON)&quot;</p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = POST\n      Request URI = /api/employees/\n       Parameters = {}\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;74&quot;]\n             Body = {&quot;email&quot;:&quot;test1@test.com&quot;,&quot;firstname&quot;:&quot;firstname1&quot;,&quot;lastname&quot;:&quot;lastname1&quot;}\n    Session Attrs = {}\n\nHandler:\n             Type = com.acme.app1.controllers.EmployeeController\n           Method = com.acme.app1.controllers.EmployeeController#addEmployee(EmployeeDto)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = []\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\njava.lang.AssertionError: Content type not set\n\n    at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:37)\n    at org.springframework.test.util.AssertionErrors.assertTrue(AssertionErrors.java:70)\n    at org.springframework.test.util.AssertionErrors.assertNotNull(AssertionErrors.java:106)\n</code></pre>\n<p>for the test to be successful, what should I change?</p>\n"},{"tags":["java","fonts","jasper-reports","dynamic-reports"],"comments":[{"owner":{"account_id":2000366,"reputation":1729,"user_id":1791574,"accept_rate":47,"display_name":"user1791574"},"score":0,"creation_date":1387031744,"post_id":20584290,"comment_id":30794033,"body_markdown":"Have you install this font in your server machine.","body":"Have you install this font in your server machine."},{"owner":{"account_id":1161452,"reputation":1509,"user_id":1147388,"accept_rate":29,"display_name":"Oiew"},"score":0,"creation_date":1526808349,"post_id":20584290,"comment_id":87881001,"body_markdown":"Similar question was discussed here: https://stackoverflow.com/questions/25404145/register-font-is-corrupting-ttf-file/25503853#25503853","body":"Similar question was discussed here: <a href=\"https://stackoverflow.com/questions/25404145/register-font-is-corrupting-ttf-file/25503853#25503853\" title=\"register font is corrupting ttf file\">stackoverflow.com/questions/25404145/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":280941,"reputation":4574,"user_id":576954,"accept_rate":68,"display_name":"MoienGK"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387091023,"creation_date":1387091023,"answer_id":20592121,"question_id":20584290,"body_markdown":"I managed to solve it by changing relative URL of font to absolute URL. But i don&#39;t know why relative URL causes that problem.","title":"What does java.awt.FontFormatException: bad table, tag=1196445523 indicating?","body":"<p>I managed to solve it by changing relative URL of font to absolute URL. But i don't know why relative URL causes that problem.</p>\n"},{"tags":[],"owner":{"account_id":1248077,"reputation":121,"user_id":1209114,"display_name":"Leonardo Pessoa"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1448290516,"creation_date":1448290516,"answer_id":33874027,"question_id":20584290,"body_markdown":"In my case, I&#39;m using Maven 3.3.3 to build my releases.\r\nThe maven-resource-plugin was filtering the resources and applying UTF-8 in font files (.ttf).\r\n\r\nSo, I added this configuration and it solved the problem.\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/jasperreports_extension.properties&lt;/include&gt;\r\n                    &lt;include&gt;**/tecsofti-fonts.xml&lt;/include&gt;\r\n                    &lt;include&gt;**/*.ttf&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;","title":"What does java.awt.FontFormatException: bad table, tag=1196445523 indicating?","body":"<p>In my case, I'm using Maven 3.3.3 to build my releases.\nThe maven-resource-plugin was filtering the resources and applying UTF-8 in font files (.ttf).</p>\n\n<p>So, I added this configuration and it solved the problem.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;false&lt;/filtering&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/jasperreports_extension.properties&lt;/include&gt;\n                &lt;include&gt;**/tecsofti-fonts.xml&lt;/include&gt;\n                &lt;include&gt;**/*.ttf&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3561836,"reputation":1206,"user_id":3408806,"display_name":"nobjta_9x_tq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557377211,"creation_date":1557377211,"answer_id":56052354,"question_id":20584290,"body_markdown":"I replace /fonts/FONT.TTF to ./fonts/FONT.TTF and it work\r\nNote: replace in fonts.xml and resources\\jasperreports_extension.properties","title":"What does java.awt.FontFormatException: bad table, tag=1196445523 indicating?","body":"<p>I replace /fonts/FONT.TTF to ./fonts/FONT.TTF and it work\nNote: replace in fonts.xml and resources\\jasperreports_extension.properties</p>\n"},{"tags":[],"owner":{"account_id":8065471,"reputation":1181,"user_id":6079771,"display_name":"moolsbytheway"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682604890,"creation_date":1682604890,"answer_id":76121429,"question_id":20584290,"body_markdown":"In my case the font file was corrupted.\r\nIt worked when i replaced it.","title":"What does java.awt.FontFormatException: bad table, tag=1196445523 indicating?","body":"<p>In my case the font file was corrupted.\nIt worked when i replaced it.</p>\n"}],"owner":{"account_id":280941,"reputation":4574,"user_id":576954,"accept_rate":68,"display_name":"MoienGK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4972,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1682604890,"creation_date":1387030116,"question_id":20584290,"body_markdown":"I have followed [this link][1] to  add fonts to my jasper report project, but i get this exception when trying to build the report, what does this exception mean any way? i can&#39;t find any solution on how to solve it.\r\nnote that i am trying to add  `Ubuntu-LI` font\r\n\r\n    17:26:35-218 -  - raysis.rohani.rg.report.builder.ReportBuilder.show(120) - error in showing the jasper report (called from ReportBuilder)\r\n    net.sf.jasperreports.engine.JRRuntimeException: java.awt.FontFormatException: bad table, tag=1196445523\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontFace.&lt;init&gt;(SimpleFontFace.java:104)\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontFace.&lt;init&gt;(SimpleFontFace.java:128)\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontFace.getInstance(SimpleFontFace.java:67)\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontFamily.setNormal(SimpleFontFamily.java:99)\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontExtensionHelper.parseFontFamily(SimpleFontExtensionHelper.java:261)\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontExtensionHelper.parseFontFamilies(SimpleFontExtensionHelper.java:232)\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontExtensionHelper.loadFontFamilies(SimpleFontExtensionHelper.java:193)\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontExtensionHelper.loadFontFamilies(SimpleFontExtensionHelper.java:162)\r\n    \tat net.sf.jasperreports.engine.fonts.FontExtensionsRegistry.getExtensions(FontExtensionsRegistry.java:56)\r\n    \tat net.sf.jasperreports.extensions.DefaultExtensionsRegistry.getExtensions(DefaultExtensionsRegistry.java:110)\r\n    \tat net.sf.jasperreports.engine.DefaultJasperReportsContext.getExtensions(DefaultJasperReportsContext.java:246)\r\n    \tat net.sf.jasperreports.engine.fonts.FontUtil.getFontInfo(FontUtil.java:185)\r\n    \tat net.sf.jasperreports.engine.fonts.FontUtil.getAwtFontFromBundles(FontUtil.java:245)\r\n    \tat net.sf.dynamicreports.design.transformation.StyleResolver.getFont(StyleResolver.java:96)\r\n    \tat net.sf.dynamicreports.design.transformation.StyleResolver.getFont(StyleResolver.java:71)\r\n    \tat net.sf.dynamicreports.design.transformation.StyleResolver.getFontHeight(StyleResolver.java:52)\r\n    \tat net.sf.dynamicreports.design.transformation.TemplateTransform.getTextFieldHeight(TemplateTransform.java:967)\r\n    \tat net.sf.dynamicreports.design.transformation.ComponentTransform.textField(ComponentTransform.java:332)\r\n    \tat net.sf.dynamicreports.design.transformation.ComponentTransform.component(ComponentTransform.java:152)\r\n    \tat net.sf.dynamicreports.design.transformation.ComponentTransform.list(ComponentTransform.java:285)\r\n    \tat net.sf.dynamicreports.design.transformation.BandTransform.band(BandTransform.java:184)\r\n    \tat net.sf.dynamicreports.design.transformation.BandTransform.transform(BandTransform.java:74)\r\n    \tat net.sf.dynamicreports.design.base.DRDesignReport.transform(DRDesignReport.java:135)\r\n    \tat net.sf.dynamicreports.design.base.DRDesignReport.&lt;init&gt;(DRDesignReport.java:107)\r\n    \tat net.sf.dynamicreports.design.base.DRDesignReport.&lt;init&gt;(DRDesignReport.java:99)\r\n    \tat net.sf.dynamicreports.jasper.builder.JasperReportBuilder.toJasperReportDesign(JasperReportBuilder.java:261)\r\n    \tat net.sf.dynamicreports.jasper.builder.JasperReportBuilder.getJasperParameters(JasperReportBuilder.java:288)\r\n    \tat net.sf.dynamicreports.jasper.builder.JasperReportBuilder.toJasperPrint(JasperReportBuilder.java:299)\r\n    \tat net.sf.dynamicreports.jasper.builder.JasperReportBuilder.show(JasperReportBuilder.java:328)\r\n    \tat raysis.rohani.rg.report.JasperBuilder.show(JasperBuilder.java:121)\r\n    \tat raysis.rohani.rg.report.builder.ReportBuilder.show(ReportBuilder.java:118)\r\n    \tat raysis.rohani.rg.report.test.ReportMaker.main(ReportMaker.java:46)\r\n    Caused by: java.awt.FontFormatException: bad table, tag=1196445523\r\n    \tat sun.font.TrueTypeFont.init(TrueTypeFont.java:547)\r\n    \tat sun.font.TrueTypeFont.&lt;init&gt;(TrueTypeFont.java:191)\r\n    \tat sun.font.SunFontManager.createFont2D(SunFontManager.java:2460)\r\n    \tat java.awt.Font.&lt;init&gt;(Font.java:614)\r\n    \tat java.awt.Font.createFont0(Font.java:968)\r\n    \tat java.awt.Font.createFont(Font.java:876)\r\n    \tat net.sf.jasperreports.engine.fonts.SimpleFontFace.&lt;init&gt;(SimpleFontFace.java:100)\r\n    \t... 31 more\r\n\r\nany help will be highly apreciated\r\n  [1]: http://www.dynamicreports.org/documentation/fonts","title":"What does java.awt.FontFormatException: bad table, tag=1196445523 indicating?","body":"<p>I have followed <a href=\"http://www.dynamicreports.org/documentation/fonts\" rel=\"nofollow\">this link</a> to  add fonts to my jasper report project, but i get this exception when trying to build the report, what does this exception mean any way? i can't find any solution on how to solve it.\nnote that i am trying to add  <code>Ubuntu-LI</code> font</p>\n\n<pre><code>17:26:35-218 -  - raysis.rohani.rg.report.builder.ReportBuilder.show(120) - error in showing the jasper report (called from ReportBuilder)\nnet.sf.jasperreports.engine.JRRuntimeException: java.awt.FontFormatException: bad table, tag=1196445523\n    at net.sf.jasperreports.engine.fonts.SimpleFontFace.&lt;init&gt;(SimpleFontFace.java:104)\n    at net.sf.jasperreports.engine.fonts.SimpleFontFace.&lt;init&gt;(SimpleFontFace.java:128)\n    at net.sf.jasperreports.engine.fonts.SimpleFontFace.getInstance(SimpleFontFace.java:67)\n    at net.sf.jasperreports.engine.fonts.SimpleFontFamily.setNormal(SimpleFontFamily.java:99)\n    at net.sf.jasperreports.engine.fonts.SimpleFontExtensionHelper.parseFontFamily(SimpleFontExtensionHelper.java:261)\n    at net.sf.jasperreports.engine.fonts.SimpleFontExtensionHelper.parseFontFamilies(SimpleFontExtensionHelper.java:232)\n    at net.sf.jasperreports.engine.fonts.SimpleFontExtensionHelper.loadFontFamilies(SimpleFontExtensionHelper.java:193)\n    at net.sf.jasperreports.engine.fonts.SimpleFontExtensionHelper.loadFontFamilies(SimpleFontExtensionHelper.java:162)\n    at net.sf.jasperreports.engine.fonts.FontExtensionsRegistry.getExtensions(FontExtensionsRegistry.java:56)\n    at net.sf.jasperreports.extensions.DefaultExtensionsRegistry.getExtensions(DefaultExtensionsRegistry.java:110)\n    at net.sf.jasperreports.engine.DefaultJasperReportsContext.getExtensions(DefaultJasperReportsContext.java:246)\n    at net.sf.jasperreports.engine.fonts.FontUtil.getFontInfo(FontUtil.java:185)\n    at net.sf.jasperreports.engine.fonts.FontUtil.getAwtFontFromBundles(FontUtil.java:245)\n    at net.sf.dynamicreports.design.transformation.StyleResolver.getFont(StyleResolver.java:96)\n    at net.sf.dynamicreports.design.transformation.StyleResolver.getFont(StyleResolver.java:71)\n    at net.sf.dynamicreports.design.transformation.StyleResolver.getFontHeight(StyleResolver.java:52)\n    at net.sf.dynamicreports.design.transformation.TemplateTransform.getTextFieldHeight(TemplateTransform.java:967)\n    at net.sf.dynamicreports.design.transformation.ComponentTransform.textField(ComponentTransform.java:332)\n    at net.sf.dynamicreports.design.transformation.ComponentTransform.component(ComponentTransform.java:152)\n    at net.sf.dynamicreports.design.transformation.ComponentTransform.list(ComponentTransform.java:285)\n    at net.sf.dynamicreports.design.transformation.BandTransform.band(BandTransform.java:184)\n    at net.sf.dynamicreports.design.transformation.BandTransform.transform(BandTransform.java:74)\n    at net.sf.dynamicreports.design.base.DRDesignReport.transform(DRDesignReport.java:135)\n    at net.sf.dynamicreports.design.base.DRDesignReport.&lt;init&gt;(DRDesignReport.java:107)\n    at net.sf.dynamicreports.design.base.DRDesignReport.&lt;init&gt;(DRDesignReport.java:99)\n    at net.sf.dynamicreports.jasper.builder.JasperReportBuilder.toJasperReportDesign(JasperReportBuilder.java:261)\n    at net.sf.dynamicreports.jasper.builder.JasperReportBuilder.getJasperParameters(JasperReportBuilder.java:288)\n    at net.sf.dynamicreports.jasper.builder.JasperReportBuilder.toJasperPrint(JasperReportBuilder.java:299)\n    at net.sf.dynamicreports.jasper.builder.JasperReportBuilder.show(JasperReportBuilder.java:328)\n    at raysis.rohani.rg.report.JasperBuilder.show(JasperBuilder.java:121)\n    at raysis.rohani.rg.report.builder.ReportBuilder.show(ReportBuilder.java:118)\n    at raysis.rohani.rg.report.test.ReportMaker.main(ReportMaker.java:46)\nCaused by: java.awt.FontFormatException: bad table, tag=1196445523\n    at sun.font.TrueTypeFont.init(TrueTypeFont.java:547)\n    at sun.font.TrueTypeFont.&lt;init&gt;(TrueTypeFont.java:191)\n    at sun.font.SunFontManager.createFont2D(SunFontManager.java:2460)\n    at java.awt.Font.&lt;init&gt;(Font.java:614)\n    at java.awt.Font.createFont0(Font.java:968)\n    at java.awt.Font.createFont(Font.java:876)\n    at net.sf.jasperreports.engine.fonts.SimpleFontFace.&lt;init&gt;(SimpleFontFace.java:100)\n    ... 31 more\n</code></pre>\n\n<p>any help will be highly apreciated</p>\n"},{"tags":["java","parallel-processing","java-stream"],"comments":[{"owner":{"account_id":1197724,"reputation":4404,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":0,"creation_date":1682563796,"post_id":76116361,"comment_id":134236896,"body_markdown":"We can&#39;t reproduce your issue with the information you&#39;ve provided.","body":"We can&#39;t reproduce your issue with the information you&#39;ve provided."},{"owner":{"account_id":3869926,"reputation":3576,"user_id":3205437,"accept_rate":100,"display_name":"Vishnu T S"},"score":0,"creation_date":1682564123,"post_id":76116361,"comment_id":134236919,"body_markdown":"@nicomp We dont have to reproduce this, oracle document itself says forEachOrdered is not efficient with parallelStream","body":"@nicomp We dont have to reproduce this, oracle document itself says forEachOrdered is not efficient with parallelStream"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1682564267,"post_id":76116361,"comment_id":134236934,"body_markdown":"When you say &#39;I have tested the code but it seems more efficient&#39;, what does that mean? Did you write 2 test cases and ran them with [JMH](https://www.baeldung.com/java-microbenchmark-harness)? If the answer is no - then it is likely you have no basis to make this claim.","body":"When you say &#39;I have tested the code but it seems more efficient&#39;, what does that mean? Did you write 2 test cases and ran them with <a href=\"https://www.baeldung.com/java-microbenchmark-harness\" rel=\"nofollow noreferrer\">JMH</a>? If the answer is no - then it is likely you have no basis to make this claim."},{"owner":{"account_id":3869926,"reputation":3576,"user_id":3205437,"accept_rate":100,"display_name":"Vishnu T S"},"score":0,"creation_date":1682564760,"post_id":76116361,"comment_id":134236977,"body_markdown":"@rzwitserloot I have not used bench mark, trying only with multiple test cases and StopWatch","body":"@rzwitserloot I have not used bench mark, trying only with multiple test cases and StopWatch"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1682566302,"post_id":76116361,"comment_id":134237101,"body_markdown":"@VishnuTS it is OK to assume that `finalProd` is supposed to have the mapped products in the same order as `products`?","body":"@VishnuTS it is OK to assume that <code>finalProd</code> is supposed to have the mapped products in the same order as <code>products</code>?"},{"owner":{"account_id":3869926,"reputation":3576,"user_id":3205437,"accept_rate":100,"display_name":"Vishnu T S"},"score":1,"creation_date":1682566539,"post_id":76116361,"comment_id":134237116,"body_markdown":"@Andr&#233;sAlcarraz yes expecting mapped products should have same as products","body":"@Andr&#233;sAlcarraz yes expecting mapped products should have same as products"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1682566912,"post_id":76116361,"comment_id":134237138,"body_markdown":"Ok @VishnuTS, I added an answer, with some explanation, there are comments with unsupported claims that it won&#39;t respect the order, but I didn&#39;t find anywhere that&#39;s not true. So if you test it and it works, please accept it.","body":"Ok @VishnuTS, I added an answer, with some explanation, there are comments with unsupported claims that it won&#39;t respect the order, but I didn&#39;t find anywhere that&#39;s not true. So if you test it and it works, please accept it."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1682568006,"post_id":76116361,"comment_id":134237236,"body_markdown":"Does this answer your question? [Why parallel stream get collected sequentially in Java 8](https://stackoverflow.com/questions/29709140/why-parallel-stream-get-collected-sequentially-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/29709140/why-parallel-stream-get-collected-sequentially-in-java-8\">Why parallel stream get collected sequentially in Java 8</a>"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1682568313,"post_id":76116361,"comment_id":134237257,"body_markdown":"As @Andr&#233;sAlcarraz pointed out, most collect and reduce operations do maintain encounter order unless source or target are unordered. This comes at a cost, however - performance may be somewhere between forEach and forEachOrdered.","body":"As @Andr&#233;sAlcarraz pointed out, most collect and reduce operations do maintain encounter order unless source or target are unordered. This comes at a cost, however - performance may be somewhere between forEach and forEachOrdered."}],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1682604822,"creation_date":1682564041,"answer_id":76116394,"question_id":76116361,"body_markdown":"This assumes that `finalProd` is supposed to have the products in `products` mapped and in the same order:\r\n\r\n```java\r\nfinalProd = products\r\n     .parallelStream()\r\n     .map(p-&gt; mapProduct(p))\r\n     .collect(Collectors.toList())\r\n```\r\n\r\nThe `parallelStream()` method creates a parallel stream to be processed concurrently, the `map` operation maintains the order of the `stream` and finally the collector collects them to a list which respects the order also.\r\n\r\nYou can check this claim in the [`stream` package javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Ordering):\r\nOrdering\r\n\r\n&gt; Streams may or may not have a defined encounter order. Whether or not a stream has an encounter order depends on the source and the intermediate operations. **Certain stream sources (such as List or arrays) are intrinsically ordered**, \r\n&gt; **If a stream is ordered, most operations are constrained to operate on the elements in their encounter order; if the source of a stream is a List containing [1, 2, 3], then the result of executing map(x -&gt; x*2) must be [2, 4, 6]**...\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt;For parallel streams, relaxing the ordering constraint can sometimes enable more efficient execution. Certain aggregate operations, such as filtering duplicates (distinct()) or grouped reductions (Collectors.groupingBy()) can be implemented more efficiently if ordering of elements is not relevant. Similarly, operations that are intrinsically tied to encounter order, such as limit(), may require buffering to ensure proper ordering, undermining the benefit of parallelism. **In cases where the stream has an encounter order, but the user does not particularly care about that encounter order, explicitly de-ordering the stream with unordered()** may improve parallel performance for some stateful or terminal operations. However, most stream pipelines, such as the &quot;sum of weight of blocks&quot; example above, still parallelize efficiently even under ordering constraints.\r\n\r\nEmphasis is mine, but since we are only applying operations that respect the order, we can ensure the resulting order.","title":"Java parallel task execution","body":"<p>This assumes that <code>finalProd</code> is supposed to have the products in <code>products</code> mapped and in the same order:</p>\n<pre class=\"lang-java prettyprint-override\"><code>finalProd = products\n     .parallelStream()\n     .map(p-&gt; mapProduct(p))\n     .collect(Collectors.toList())\n</code></pre>\n<p>The <code>parallelStream()</code> method creates a parallel stream to be processed concurrently, the <code>map</code> operation maintains the order of the <code>stream</code> and finally the collector collects them to a list which respects the order also.</p>\n<p>You can check this claim in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Ordering\" rel=\"nofollow noreferrer\"><code>stream</code> package javadoc</a>:\nOrdering</p>\n<blockquote>\n<p>Streams may or may not have a defined encounter order. Whether or not a stream has an encounter order depends on the source and the intermediate operations. <strong>Certain stream sources (such as List or arrays) are intrinsically ordered</strong>,\n<strong>If a stream is ordered, most operations are constrained to operate on the elements in their encounter order; if the source of a stream is a List containing [1, 2, 3], then the result of executing map(x -&gt; x*2) must be [2, 4, 6]</strong>...</p>\n<p>...</p>\n<p>For parallel streams, relaxing the ordering constraint can sometimes enable more efficient execution. Certain aggregate operations, such as filtering duplicates (distinct()) or grouped reductions (Collectors.groupingBy()) can be implemented more efficiently if ordering of elements is not relevant. Similarly, operations that are intrinsically tied to encounter order, such as limit(), may require buffering to ensure proper ordering, undermining the benefit of parallelism. <strong>In cases where the stream has an encounter order, but the user does not particularly care about that encounter order, explicitly de-ordering the stream with unordered()</strong> may improve parallel performance for some stateful or terminal operations. However, most stream pipelines, such as the &quot;sum of weight of blocks&quot; example above, still parallelize efficiently even under ordering constraints.</p>\n</blockquote>\n<p>Emphasis is mine, but since we are only applying operations that respect the order, we can ensure the resulting order.</p>\n"}],"owner":{"account_id":3869926,"reputation":3576,"user_id":3205437,"accept_rate":100,"display_name":"Vishnu T S"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1682568712,"accepted_answer_id":76116394,"answer_count":1,"score":0,"last_activity_date":1682604822,"creation_date":1682563437,"question_id":76116361,"body_markdown":"I have 1000 products which needs to executed in parallel and result of the output is also a collection. I need to maintain the order, so I used `parallelStream()` with `forEachOrdered`like below\r\n\r\n \r\n\r\n    products.parallelStream().forEachOrdered(pdt -&gt; \r\n     finalProd.add(mapProduct(pdt)));\r\n\r\n \r\nI have tested the code and it seems it is not efficient but better than using `stream()`. As per the [oracle documentation][1] \r\n\r\n&gt;  the method forEachOrdered, which processes the elements of the stream\r\n&gt; in the order specified by its source, regardless of whether you\r\n&gt; executed the stream in serial or parallel. Note that you may lose the\r\n&gt; benefits of parallelism if you use operations like forEachOrdered with\r\n&gt; parallel streams.\r\n\r\nwe are not using full potential of parallelism if we use `forEachOrdered` , Can someone suggest a better way to handle parallel task? I am worried about order only in last output, not concerned about order of execution\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html\r\n\r\n","title":"Java parallel task execution","body":"<p>I have 1000 products which needs to executed in parallel and result of the output is also a collection. I need to maintain the order, so I used <code>parallelStream()</code> with <code>forEachOrdered</code>like below</p>\n<pre><code>products.parallelStream().forEachOrdered(pdt -&gt; \n finalProd.add(mapProduct(pdt)));\n</code></pre>\n<p>I have tested the code and it seems it is not efficient but better than using <code>stream()</code>. As per the <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html\" rel=\"nofollow noreferrer\">oracle documentation</a></p>\n<blockquote>\n<p>the method forEachOrdered, which processes the elements of the stream\nin the order specified by its source, regardless of whether you\nexecuted the stream in serial or parallel. Note that you may lose the\nbenefits of parallelism if you use operations like forEachOrdered with\nparallel streams.</p>\n</blockquote>\n<p>we are not using full potential of parallelism if we use <code>forEachOrdered</code> , Can someone suggest a better way to handle parallel task? I am worried about order only in last output, not concerned about order of execution</p>\n"},{"tags":["java","jdbc","transactions","connection"],"comments":[{"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1418565971,"post_id":27467901,"comment_id":43375102,"body_markdown":"The documentation for [Transaction.html#isActive()](http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/Transaction.html#isActive%28%29) in Hibernate says &quot;we cannot know that a transaction is active when it is initiated directly through the JDBC Connection&quot;, so I&#39;m guessing that the answer to your question is &quot;No.&quot;","body":"The documentation for <a href=\"http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/Transaction.html#isActive%28%29\" rel=\"nofollow noreferrer\">Transaction.html#isActive()</a> in Hibernate says &quot;we cannot know that a transaction is active when it is initiated directly through the JDBC Connection&quot;, so I&#39;m guessing that the answer to your question is &quot;No.&quot;"},{"owner":{"account_id":41625,"reputation":5920,"user_id":121035,"display_name":"steve"},"score":0,"creation_date":1418626102,"post_id":27467901,"comment_id":43390909,"body_markdown":"why do you need to know it? Should&#39;t the other thread release the connection only when it is finished?","body":"why do you need to know it? Should&#39;t the other thread release the connection only when it is finished?"},{"owner":{"account_id":4795114,"reputation":657,"user_id":3873267,"accept_rate":57,"display_name":"caniaskyouaquestion"},"score":0,"creation_date":1418636253,"post_id":27467901,"comment_id":43394903,"body_markdown":"i too don&#39;t understand from your question why you need to know when it has started, but if you are worried about your multithreaded environment just say con.autoCommit(false) when you start and set it to true when you are done.","body":"i too don&#39;t understand from your question why you need to know when it has started, but if you are worried about your multithreaded environment just say con.autoCommit(false) when you start and set it to true when you are done."},{"owner":{"account_id":364237,"reputation":2712,"user_id":708510,"accept_rate":0,"display_name":"Jeff_Alieffson"},"score":0,"creation_date":1418736768,"post_id":27467901,"comment_id":43441624,"body_markdown":"I already use it. I set autoCommit(false) at the beginning of application. Because all actions are inside of some transaction scope.","body":"I already use it. I set autoCommit(false) at the beginning of application. Because all actions are inside of some transaction scope."},{"owner":{"account_id":364237,"reputation":2712,"user_id":708510,"accept_rate":0,"display_name":"Jeff_Alieffson"},"score":0,"creation_date":1418737330,"post_id":27467901,"comment_id":43441989,"body_markdown":"Regarding the above question, I use a singleton to do all database actions therefore the connection is one for all threads. Any way I solved the problem. I defined my own method like startTransaction, where I change the boolean flag, like inTransaction=true, and on my commit() and rollback() methods I set this flag to inTransaction=false.","body":"Regarding the above question, I use a singleton to do all database actions therefore the connection is one for all threads. Any way I solved the problem. I defined my own method like startTransaction, where I change the boolean flag, like inTransaction=true, and on my commit() and rollback() methods I set this flag to inTransaction=false."},{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1644936504,"post_id":27467901,"comment_id":125733664,"body_markdown":"Some JDBC drivers (Teradata, Azure Synapse) open a phantom &quot;transaction&quot; for queries and metadata queries, and if you do not call conn.rollback() afterwards, some operations (like drop table) will hang, especially if they are done from a *different* connection.  So it would be nice to know &quot;did the driver leave a transaction open?&quot; so that I can abort it.  Unfortunately I have not discovered how to know that and so we are left to call rollback() quite often.","body":"Some JDBC drivers (Teradata, Azure Synapse) open a phantom &quot;transaction&quot; for queries and metadata queries, and if you do not call conn.rollback() afterwards, some operations (like drop table) will hang, especially if they are done from a <i>different</i> connection.  So it would be nice to know &quot;did the driver leave a transaction open?&quot; so that I can abort it.  Unfortunately I have not discovered how to know that and so we are left to call rollback() quite often."}],"answers":[{"tags":[],"owner":{"account_id":14241958,"reputation":136,"user_id":10288029,"display_name":"Anilal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682604781,"creation_date":1682604781,"answer_id":76121405,"question_id":27467901,"body_markdown":"Check the value of \r\n```\r\ncon.getAutoCommit()\r\n```\r\nIf the return value is &#39;false&#39; means some one has already disabled autoCommit and they will execute con.commit(). So you can assume that transaction is enabled.","title":"How to know the transaction is active in JDBC?","body":"<p>Check the value of</p>\n<pre><code>con.getAutoCommit()\n</code></pre>\n<p>If the return value is 'false' means some one has already disabled autoCommit and they will execute con.commit(). So you can assume that transaction is enabled.</p>\n"}],"owner":{"account_id":364237,"reputation":2712,"user_id":708510,"accept_rate":0,"display_name":"Jeff_Alieffson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1415,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1682604781,"creation_date":1418548658,"question_id":27467901,"body_markdown":"Is there a way to know whether there is any pending transaction in JDBC?\r\nI mean the Connection class method. \r\nTo commit we call \r\n\r\n    Connection con;\r\n    con.commit();\r\n\r\nto rollback \r\n\r\n    con.rollback();\r\n\r\nBut how to know, if the transaction already began. I&#39;m writing multithreaded application, and transaction may began by other process. I must know it.\r\nit may be something like to\r\n\r\n    con.inTransaction();\r\n\r\n","title":"How to know the transaction is active in JDBC?","body":"<p>Is there a way to know whether there is any pending transaction in JDBC?\nI mean the Connection class method. \nTo commit we call </p>\n\n<pre><code>Connection con;\ncon.commit();\n</code></pre>\n\n<p>to rollback </p>\n\n<pre><code>con.rollback();\n</code></pre>\n\n<p>But how to know, if the transaction already began. I'm writing multithreaded application, and transaction may began by other process. I must know it.\nit may be something like to</p>\n\n<pre><code>con.inTransaction();\n</code></pre>\n"},{"tags":["java","heap-memory","wildfly","eden"],"owner":{"account_id":7813468,"reputation":1,"user_id":21752443,"display_name":"Rafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682604753,"creation_date":1682584155,"question_id":76118330,"body_markdown":"We have a `Wildfly` containger with 8Gb. It configured to use G1 as garbage collector.\r\n\r\nWe had problems of usage with eden space, in 1 hour `Wildfly` uses all eden space without any wars.  \r\nThis only happens with wildfly, we tried the same memory configuration in `Tomcat` and usage is normal.  \r\nAlso we remove scanner.  \r\nWhen we activated `Dynatrace` the performance got even worst.  \r\n\r\n&gt;  -server -Xms8024m -Xmx8024m -XX:MaxMetaspaceSize=256m -XX:+UseG1GC\r\n&gt; -XX:MaxGCPauseMillis=500 -XX:+DisableExplicitGC -XX:+UseStringDeduplication -XX:+ParallelRefProcEnabled -XX:MaxMetaspaceSize=512m -XX:MaxTenuringThreshold=5\r\n\r\nSame happens without `G1GC` , only diference is that PS Eden Space reserve by default less heap.  \r\n\r\nWe don&#39;t understand this behavior and how much it can affect performance.  gc is done when eden is full and seems to don&#39;t produce almost suspension but still we don&#39;t like it.\r\n\r\nDoes anyone know if this is normal in Wildfly / Jboss?\r\n\r\nThanks in advance.\r\n\r\n\r\nWe try disable Dynatrace,remove wars, heap-dumps that didn&#39;t show nothing special...we try to use the latest Wildfly with JDK11.  \r\nThe only difference was that without Dynatrace eden memory grows slower.","title":"wildfly performance , high usage eden space without use it","body":"<p>We have a <code>Wildfly</code> containger with 8Gb. It configured to use G1 as garbage collector.</p>\n<p>We had problems of usage with eden space, in 1 hour <code>Wildfly</code> uses all eden space without any wars.<br />\nThis only happens with wildfly, we tried the same memory configuration in <code>Tomcat</code> and usage is normal.<br />\nAlso we remove scanner.<br />\nWhen we activated <code>Dynatrace</code> the performance got even worst.</p>\n<blockquote>\n<p>-server -Xms8024m -Xmx8024m -XX:MaxMetaspaceSize=256m -XX:+UseG1GC\n-XX:MaxGCPauseMillis=500 -XX:+DisableExplicitGC -XX:+UseStringDeduplication -XX:+ParallelRefProcEnabled -XX:MaxMetaspaceSize=512m -XX:MaxTenuringThreshold=5</p>\n</blockquote>\n<p>Same happens without <code>G1GC</code> , only diference is that PS Eden Space reserve by default less heap.</p>\n<p>We don't understand this behavior and how much it can affect performance.  gc is done when eden is full and seems to don't produce almost suspension but still we don't like it.</p>\n<p>Does anyone know if this is normal in Wildfly / Jboss?</p>\n<p>Thanks in advance.</p>\n<p>We try disable Dynatrace,remove wars, heap-dumps that didn't show nothing special...we try to use the latest Wildfly with JDK11.<br />\nThe only difference was that without Dynatrace eden memory grows slower.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1682542750,"post_id":76115016,"comment_id":134234607,"body_markdown":"Please share the full exception with stacktrace.","body":"Please share the full exception with stacktrace."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1682544595,"post_id":76115016,"comment_id":134234975,"body_markdown":"What is the exact location difference between folder ABC and the / top folder of your webapp, second, the Keystone folder is usually configured to the SSL TLS in the server configuration.","body":"What is the exact location difference between folder ABC and the / top folder of your webapp, second, the Keystone folder is usually configured to the SSL TLS in the server configuration."},{"owner":{"account_id":1069576,"reputation":775,"user_id":1069186,"accept_rate":63,"display_name":"Coder17"},"score":0,"creation_date":1682603588,"post_id":76115016,"comment_id":134244531,"body_markdown":"abc is not a folder. It is the encoded string of keystore.jks file","body":"abc is not a folder. It is the encoded string of keystore.jks file"}],"owner":{"account_id":1069576,"reputation":775,"user_id":1069186,"accept_rate":63,"display_name":"Coder17"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682604707,"creation_date":1682542554,"question_id":76115016,"body_markdown":"I have an application.yml file with value as \r\n\r\n      ssl:\r\n        keys:\r\n          store: abc\r\n          password: cGFkc3Bhc3N3b3Jk\r\n          algorithm: JKS\r\n          alias: chjkcw==\r\n          key-password: cGFkc6Khc3N3b3Jk\r\n\r\nwhere abc is the encoded value of my keystore.jks file\r\n\r\nNow I am trying to retrieve the privateKey from that file using\r\n\r\n            this.password = decodeBase64(password);\r\n            String decodedAlias = new String(Base64.getDecoder().decode(alias), UTF_8);\r\n            keyStore = loadKeyStore(Base64.getDecoder().decode(store), this.password, algorithm);\r\n            privateKey = (PrivateKey) keyStore.getKey(decodedAlias, decodeBase64(keyPassword));\r\n\r\n            private static KeyStore loadKeyStore(byte[] keyStoreBytes, char[] password, String algorithm)\r\n                throws KeyStoreException, CertificateException, NoSuchAlgorithmException, IOException {\r\n            KeyStore keyStore = KeyStore.getInstance(algorithm);\r\n            keyStore.load(new ByteArrayInputStream(keyStoreBytes), password);\r\n            return keyStore;\r\n        }\r\n\r\nThis code is giving me `java.io.FileNotFoundException: Could not open ServletContext resource [/abc]`\r\n\r\nWhen I gave these details to my colleague who is using eclipse ide, it works for him and I am using intellij. Not sure if this is ide issue. Also, is there any dependency missing? Which dependency do I need?","title":"unable to decode the encoded keystore.jks file in java","body":"<p>I have an application.yml file with value as</p>\n<pre><code>  ssl:\n    keys:\n      store: abc\n      password: cGFkc3Bhc3N3b3Jk\n      algorithm: JKS\n      alias: chjkcw==\n      key-password: cGFkc6Khc3N3b3Jk\n</code></pre>\n<p>where abc is the encoded value of my keystore.jks file</p>\n<p>Now I am trying to retrieve the privateKey from that file using</p>\n<pre><code>        this.password = decodeBase64(password);\n        String decodedAlias = new String(Base64.getDecoder().decode(alias), UTF_8);\n        keyStore = loadKeyStore(Base64.getDecoder().decode(store), this.password, algorithm);\n        privateKey = (PrivateKey) keyStore.getKey(decodedAlias, decodeBase64(keyPassword));\n\n        private static KeyStore loadKeyStore(byte[] keyStoreBytes, char[] password, String algorithm)\n            throws KeyStoreException, CertificateException, NoSuchAlgorithmException, IOException {\n        KeyStore keyStore = KeyStore.getInstance(algorithm);\n        keyStore.load(new ByteArrayInputStream(keyStoreBytes), password);\n        return keyStore;\n    }\n</code></pre>\n<p>This code is giving me <code>java.io.FileNotFoundException: Could not open ServletContext resource [/abc]</code></p>\n<p>When I gave these details to my colleague who is using eclipse ide, it works for him and I am using intellij. Not sure if this is ide issue. Also, is there any dependency missing? Which dependency do I need?</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":5,"creation_date":1495007678,"post_id":44018730,"comment_id":75064644,"body_markdown":"Part of the specification of [`List#add`](https://docs.oracle.com/javase/7/docs/api/java/util/List.html#add(E)) is &quot;throws [`UnsupportedOperationException`](https://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html) if the add operation is not supported by this list&quot;. The list implementation returned by `Arrays.asList` conforms to the interface&#39;s specification by throwing such an exception.","body":"Part of the specification of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/List.html#add(E)\" rel=\"nofollow noreferrer\"><code>List#add</code></a> is &quot;throws <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"nofollow noreferrer\"><code>UnsupportedOperationException</code></a> if the add operation is not supported by this list&quot;. The list implementation returned by <code>Arrays.asList</code> conforms to the interface&#39;s specification by throwing such an exception."},{"owner":{"account_id":4670913,"reputation":3692,"user_id":3782729,"display_name":"Piotr Rogowski"},"score":0,"creation_date":1495007694,"post_id":44018730,"comment_id":75064656,"body_markdown":"check that `System.out.print(list2)`","body":"check that <code>System.out.print(list2)</code>"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":5,"creation_date":1495007695,"post_id":44018730,"comment_id":75064658,"body_markdown":"These methods are of course implemented, but they will throw `UnsupportedOperationException` when you call them.","body":"These methods are of course implemented, but they will throw <code>UnsupportedOperationException</code> when you call them."},{"owner":{"account_id":5403567,"reputation":1300,"user_id":4302708,"accept_rate":80,"display_name":"Snehal Patel"},"score":1,"creation_date":1495007756,"post_id":44018730,"comment_id":75064700,"body_markdown":"Refer java.util.Arrays.ArrayList&lt;E&gt; which is return by Arrays.asList().\nIt will answer your question.","body":"Refer java.util.Arrays.ArrayList&lt;E&gt; which is return by Arrays.asList(). It will answer your question."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1495007765,"post_id":44018730,"comment_id":75064706,"body_markdown":"If you read the documentation more carefully, you&#39;ll see that `add()` and `remove()` are *optional operations* that may be unsupported by implementing classes. They&#39;ll have **some** implementation, but that could be to throw an exception.","body":"If you read the documentation more carefully, you&#39;ll see that <code>add()</code> and <code>remove()</code> are <i>optional operations</i> that may be unsupported by implementing classes. They&#39;ll have <b>some</b> implementation, but that could be to throw an exception."},{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":3,"creation_date":1495007766,"post_id":44018730,"comment_id":75064707,"body_markdown":"&quot;aren&#39;t allowed&quot; is not the same as &quot;not implemented&quot;","body":"&quot;aren&#39;t allowed&quot; is not the same as &quot;not implemented&quot;"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1495008468,"post_id":44018730,"comment_id":75065151,"body_markdown":"I think the only problem with your question is the wording. It actually gives &quot;food for thought&quot;; and I never questioned before on the exact behavior of the lists returned by that call. On the other hand, that tells you one thing: you can use this method for 10+ years without worrying that `remove()` will throw at you. Because the normal use case is to not remove something from such a list ;-)","body":"I think the only problem with your question is the wording. It actually gives &quot;food for thought&quot;; and I never questioned before on the exact behavior of the lists returned by that call. On the other hand, that tells you one thing: you can use this method for 10+ years without worrying that <code>remove()</code> will throw at you. Because the normal use case is to not remove something from such a list ;-)"}],"answers":[{"tags":[],"owner":{"account_id":4989128,"reputation":1168,"user_id":4011890,"display_name":"Noixes"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1495007816,"creation_date":1495007816,"answer_id":44018831,"question_id":44018730,"body_markdown":"As you can see in the [Oracle Java doc][1] the documentation says that Arrays.asList(..) returns a fixed sized list. So it can be an implementation of the list interface that doesnt allow a change in the list size.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T...)","title":"What is the return type of Arrays.asList?","body":"<p>As you can see in the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T...)\" rel=\"nofollow noreferrer\">Oracle Java doc</a> the documentation says that Arrays.asList(..) returns a fixed sized list. So it can be an implementation of the list interface that doesnt allow a change in the list size.</p>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1495010695,"creation_date":1495008192,"answer_id":44018943,"question_id":44018730,"body_markdown":"There is a subtle detail here that is probably easy to miss:\r\n\r\nThe [Arrays.asList()][1] javadoc briefly mentions:\r\n\r\n&gt; Returns a fixed-size list backed by the specified array. \r\n\r\nIn other words: yes, you receive something that says &quot;I am a List&quot;; but in fact, the underlying implementation gives you something we would call an *structurally immutable* list object. Thus all the methods that would change the *structure* of that specific list ... are &quot;disabled&quot; (by throwing exceptions at the call). You can still call `set()` though to **change** elements within that list.\r\n\r\nLong story short: the *purpose* of this method is **not** to give you a fully List-supporting object. The purpose of this method is to allow you to quickly create a **fixed** &quot;list&quot; of objects. \r\n\r\nAnd more of personal opinion: I agree, this is actually not &quot;consistent&quot;. I would have expected that either a completely **immutable** list would be returned; instead of some &quot;half-baked&quot; &quot;structurally immutable&quot;. \r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T...)","title":"What is the return type of Arrays.asList?","body":"<p>There is a subtle detail here that is probably easy to miss:</p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T...)\" rel=\"noreferrer\">Arrays.asList()</a> javadoc briefly mentions:</p>\n\n<blockquote>\n  <p>Returns a fixed-size list backed by the specified array. </p>\n</blockquote>\n\n<p>In other words: yes, you receive something that says \"I am a List\"; but in fact, the underlying implementation gives you something we would call an <em>structurally immutable</em> list object. Thus all the methods that would change the <em>structure</em> of that specific list ... are \"disabled\" (by throwing exceptions at the call). You can still call <code>set()</code> though to <strong>change</strong> elements within that list.</p>\n\n<p>Long story short: the <em>purpose</em> of this method is <strong>not</strong> to give you a fully List-supporting object. The purpose of this method is to allow you to quickly create a <strong>fixed</strong> \"list\" of objects. </p>\n\n<p>And more of personal opinion: I agree, this is actually not \"consistent\". I would have expected that either a completely <strong>immutable</strong> list would be returned; instead of some \"half-baked\" \"structurally immutable\". </p>\n"},{"tags":[],"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495011611,"creation_date":1495011611,"answer_id":44020147,"question_id":44018730,"body_markdown":"The core of your question is:\r\n\r\n&gt; If list2 has a reference of `List` interface, I expect it to implement ALL methods included in `List` interface in Java.\r\n\r\nYou&#39;re right that anything that claims to be a `List` must contain an implementation of every method in the `List` interface. But the behaviour of that implementation is up to the implementation. A well behaved implementation should do what the JavaDoc for `List` does, but for example, `List.add()` notes:\r\n\r\n&gt; **Throws:**\r\n&gt; \r\n&gt; *UnsupportedOperationException* - if the add operation is not supported by this list\r\n\r\nThis is because it&#39;s often useful to have a `List` that you can iterate and read, but can&#39;t add to. Sometimes that&#39;s because it would be impossible -- for example, the list is a view onto a database for which you don&#39;t have write access. Sometimes it&#39;s because it would be illogical -- if you have a list of all four playing card suits, it makes no sense to change it. Sometimes it&#39;s just there to protect the programmer, in the same way as the `final` keyword stops you mistakenly modifying a variable. *Immutable* collections have huge benefits in security and in reliable multi-threading.\r\n\r\nIn this case, it&#39;s the first of these: it would be impossible within the constraints of what `Arrays.asList()` does. Because it&#39;s a a `List` view of an array, you can only do the same things you could do to an array. You can&#39;t change the length of an array, therefore you can&#39;t use `.add()` or `.remove()` on a `List` obtained from `Arrays.asList()`.\r\n\r\n---\r\n\r\nSome extra details, out of interest.\r\n\r\nThe Javadoc for `Arrays.asList()` doesn&#39;t tell you what the concrete class of the returned object will be; only its interface, `List`. That&#39;s because it&#39;s none of your business, and the implementation is free to change it.\r\n\r\nHowever we can look at the source code, and see that `Arrays.java` contains `private static class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;`. This is what `Arrays.asList()` returns -- it&#39;s quite different and separate from `java.util.ArrayList`. It is private to `Arrays`, but another class can use it via the public interface `List`.\r\n\r\nThis implementation extends `AbstractList`, whose documentation includes:\r\n\r\n&gt; To implement an unmodifiable list, the programmer needs only to extend this class and provide implementations for the `get(int)` and `size()` methods.\r\n&gt;\r\n&gt; To implement a modifiable list, the programmer must additionally override the `set(int, E)` method (which otherwise throws an `UnsupportedOperationException`). If the list is variable-size the programmer must additionally override the `add(int, E)` and `remove(int)` methods.\r\n\r\nThe private `Arrays.ArrayList` does not extend `add()` or `remove()`.\r\n","title":"What is the return type of Arrays.asList?","body":"<p>The core of your question is:</p>\n\n<blockquote>\n  <p>If list2 has a reference of <code>List</code> interface, I expect it to implement ALL methods included in <code>List</code> interface in Java.</p>\n</blockquote>\n\n<p>You're right that anything that claims to be a <code>List</code> must contain an implementation of every method in the <code>List</code> interface. But the behaviour of that implementation is up to the implementation. A well behaved implementation should do what the JavaDoc for <code>List</code> does, but for example, <code>List.add()</code> notes:</p>\n\n<blockquote>\n  <p><strong>Throws:</strong></p>\n  \n  <p><em>UnsupportedOperationException</em> - if the add operation is not supported by this list</p>\n</blockquote>\n\n<p>This is because it's often useful to have a <code>List</code> that you can iterate and read, but can't add to. Sometimes that's because it would be impossible -- for example, the list is a view onto a database for which you don't have write access. Sometimes it's because it would be illogical -- if you have a list of all four playing card suits, it makes no sense to change it. Sometimes it's just there to protect the programmer, in the same way as the <code>final</code> keyword stops you mistakenly modifying a variable. <em>Immutable</em> collections have huge benefits in security and in reliable multi-threading.</p>\n\n<p>In this case, it's the first of these: it would be impossible within the constraints of what <code>Arrays.asList()</code> does. Because it's a a <code>List</code> view of an array, you can only do the same things you could do to an array. You can't change the length of an array, therefore you can't use <code>.add()</code> or <code>.remove()</code> on a <code>List</code> obtained from <code>Arrays.asList()</code>.</p>\n\n<hr>\n\n<p>Some extra details, out of interest.</p>\n\n<p>The Javadoc for <code>Arrays.asList()</code> doesn't tell you what the concrete class of the returned object will be; only its interface, <code>List</code>. That's because it's none of your business, and the implementation is free to change it.</p>\n\n<p>However we can look at the source code, and see that <code>Arrays.java</code> contains <code>private static class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;</code>. This is what <code>Arrays.asList()</code> returns -- it's quite different and separate from <code>java.util.ArrayList</code>. It is private to <code>Arrays</code>, but another class can use it via the public interface <code>List</code>.</p>\n\n<p>This implementation extends <code>AbstractList</code>, whose documentation includes:</p>\n\n<blockquote>\n  <p>To implement an unmodifiable list, the programmer needs only to extend this class and provide implementations for the <code>get(int)</code> and <code>size()</code> methods.</p>\n  \n  <p>To implement a modifiable list, the programmer must additionally override the <code>set(int, E)</code> method (which otherwise throws an <code>UnsupportedOperationException</code>). If the list is variable-size the programmer must additionally override the <code>add(int, E)</code> and <code>remove(int)</code> methods.</p>\n</blockquote>\n\n<p>The private <code>Arrays.ArrayList</code> does not extend <code>add()</code> or <code>remove()</code>.</p>\n"},{"tags":[],"owner":{"account_id":5330844,"reputation":14681,"user_id":4251431,"accept_rate":80,"display_name":"Basheer AL-MOMANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682604482,"creation_date":1579691728,"answer_id":59858448,"question_id":44018730,"body_markdown":"It returns `java.util.Arrays.ArrayList` which is a _fixed-size list_, not `java.util.ArrayList`.","title":"What is the return type of Arrays.asList?","body":"<p>It returns <code>java.util.Arrays.ArrayList</code> which is a <em>fixed-size list</em>, not <code>java.util.ArrayList</code>.</p>\n"},{"tags":[],"owner":{"display_name":"user2112247"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580475799,"creation_date":1580474699,"answer_id":60004212,"question_id":44018730,"body_markdown":"Arrays.asList(ia) method returns an object from a class that extends AbstractList&lt;E&gt; class and AbstractList&lt;E&gt; class implements List&lt;E&gt; interface.\r\nThe name of this class that extends AbstractList&lt;E&gt; is unfortunately ArrayList (the same name with the public ArrayList that we all know-java.util.ArrayList). But be careful. This class is an **inner** private static class of class Arrays an instance of which is created and returned by Arrays.asList method. Check the source code of class Arrays [here][1]. So the path of this inner private static class is java.util.Arrays.ArrayList and NOT java.util.ArrayList. These are different classes despite having the same name and we can not create java.util.Arrays.ArrayList with new operator because is private. Only as a return from Arrays method like Arrays.asList method.\r\n\r\nSo as we see in Arrays source code the **inner** private static ArrayList class extends AbstractList&lt;E&gt; class. AbstractList&lt;E&gt; class is an abstract class that implements List&lt;E&gt; interface. So it has to implement the two overloaded add methods from List interface. As we see in the source code of [AbstractList&lt;E&gt;][2] class implements the add(int index,E element) method of List interface so that always returns UnsupportedOperationException.\r\n\r\n    public void add(int index, E element) {\r\n        throw new UnsupportedOperationException();\r\n    }\r\n\r\n\r\nWhy? Be patient. The implementation of second add(E element) calls the previous add(int index,E element) with the first argument as the size of the list\r\n\r\n    public boolean add(E e) {\r\n        add(size(), e);\r\n        return true;\r\n    }\r\n\r\nProud to be here... we continue...\r\nIf a class that extends AbstractList&lt;E&gt; (like inner ArrayList class of class Array) does not override the two inherited add methods then an UnsupportedOperationException will be returned whenever an add method is called.\r\nChecking the source code of inner ArrayList class of class Array we find that there is not overridden method of add(int index, E element)...\r\n\r\nSo...quod erat demonstrandum\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/be44bff34df4/src/share/classes/java/util/Arrays.java\r\n  [2]: http://www.docjar.com/html/api/java/util/AbstractList.java.html","title":"What is the return type of Arrays.asList?","body":"<p>Arrays.asList(ia) method returns an object from a class that extends AbstractList class and AbstractList class implements List interface.\nThe name of this class that extends AbstractList is unfortunately ArrayList (the same name with the public ArrayList that we all know-java.util.ArrayList). But be careful. This class is an <strong>inner</strong> private static class of class Arrays an instance of which is created and returned by Arrays.asList method. Check the source code of class Arrays <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/be44bff34df4/src/share/classes/java/util/Arrays.java\" rel=\"nofollow noreferrer\">here</a>. So the path of this inner private static class is java.util.Arrays.ArrayList and NOT java.util.ArrayList. These are different classes despite having the same name and we can not create java.util.Arrays.ArrayList with new operator because is private. Only as a return from Arrays method like Arrays.asList method.</p>\n\n<p>So as we see in Arrays source code the <strong>inner</strong> private static ArrayList class extends AbstractList class. AbstractList class is an abstract class that implements List interface. So it has to implement the two overloaded add methods from List interface. As we see in the source code of <a href=\"http://www.docjar.com/html/api/java/util/AbstractList.java.html\" rel=\"nofollow noreferrer\">AbstractList</a> class implements the add(int index,E element) method of List interface so that always returns UnsupportedOperationException.</p>\n\n<pre><code>public void add(int index, E element) {\n    throw new UnsupportedOperationException();\n}\n</code></pre>\n\n<p>Why? Be patient. The implementation of second add(E element) calls the previous add(int index,E element) with the first argument as the size of the list</p>\n\n<pre><code>public boolean add(E e) {\n    add(size(), e);\n    return true;\n}\n</code></pre>\n\n<p>Proud to be here... we continue...\nIf a class that extends AbstractList (like inner ArrayList class of class Array) does not override the two inherited add methods then an UnsupportedOperationException will be returned whenever an add method is called.\nChecking the source code of inner ArrayList class of class Array we find that there is not overridden method of add(int index, E element)...</p>\n\n<p>So...quod erat demonstrandum</p>\n"}],"owner":{"account_id":7054874,"reputation":14062,"user_id":5402618,"accept_rate":45,"display_name":"CrazySynthax"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9480,"favorite_count":0,"down_vote_count":5,"up_vote_count":11,"answer_count":5,"score":6,"last_activity_date":1682604482,"creation_date":1495007524,"question_id":44018730,"body_markdown":"I read this post:\r\nhttps://stackoverflow.com/questions/16748030/difference-between-arrays-aslistarray-vs-new-arraylistintegerarrays-aslist\r\n\r\nand I have a question about it. \r\nI look at the line: \r\n\r\n    List&lt;Integer&gt; list2 = Arrays.asList(ia)\r\n\r\nand still there is a line saying: \r\n\r\n&gt; Of course, some List operations aren&#39;t allowed on the wrapper, like\r\n&gt; adding or removing elements from the list, you can only read or\r\n&gt; overwrite the elements.\r\n\r\nIf list2 has a reference of List Interface, I expect it to implement ALL methods included in List interface in Java. https://docs.oracle.com/javase/7/docs/api/java/util/List.html. \r\n\r\n\t\r\n&gt; add(int index, E element)\r\n\r\n and \r\n\r\n&gt; remove(int index)\r\n\r\nshow in List interface, so how is it possible that they are not implemented in list2? \r\n\r\nI would have expected that `list2` is a **List**; and thus I could call **all** methods belonging to the List interface?! So why are there exceptions thrown when calling `add()` or `remove()`?\r\n","title":"What is the return type of Arrays.asList?","body":"<p>I read this post:\n<a href=\"https://stackoverflow.com/questions/16748030/difference-between-arrays-aslistarray-vs-new-arraylistintegerarrays-aslist\">Difference between Arrays.asList(array) vs new ArrayList&lt;Integer&gt;(Arrays.asList(ia)) in java</a></p>\n\n<p>and I have a question about it. \nI look at the line: </p>\n\n<pre><code>List&lt;Integer&gt; list2 = Arrays.asList(ia)\n</code></pre>\n\n<p>and still there is a line saying: </p>\n\n<blockquote>\n  <p>Of course, some List operations aren't allowed on the wrapper, like\n  adding or removing elements from the list, you can only read or\n  overwrite the elements.</p>\n</blockquote>\n\n<p>If list2 has a reference of List Interface, I expect it to implement ALL methods included in List interface in Java. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/List.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/List.html</a>. </p>\n\n<blockquote>\n  <p>add(int index, E element)</p>\n</blockquote>\n\n<p>and </p>\n\n<blockquote>\n  <p>remove(int index)</p>\n</blockquote>\n\n<p>show in List interface, so how is it possible that they are not implemented in list2? </p>\n\n<p>I would have expected that <code>list2</code> is a <strong>List</strong>; and thus I could call <strong>all</strong> methods belonging to the List interface?! So why are there exceptions thrown when calling <code>add()</code> or <code>remove()</code>?</p>\n"},{"tags":["java","eclipse","spring","file"],"answers":[{"tags":[],"owner":{"account_id":3151238,"reputation":3086,"user_id":2664649,"accept_rate":60,"display_name":"Amey Jadiye"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455793561,"creation_date":1455793561,"answer_id":35479691,"question_id":35479290,"body_markdown":"Take look at [MultipartFile][1] \r\n\r\nIn that you can go with : \r\n\r\n    void\ttransferTo(File dest)\r\n\r\nThis method transfer the received file to the given destination file.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html","title":"Multipart File to File InputStream","body":"<p>Take look at <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html\" rel=\"nofollow\">MultipartFile</a> </p>\n\n<p>In that you can go with : </p>\n\n<pre><code>void    transferTo(File dest)\n</code></pre>\n\n<p>This method transfer the received file to the given destination file.</p>\n"},{"tags":[],"owner":{"account_id":4358519,"reputation":1017,"user_id":3556394,"accept_rate":25,"display_name":"PyThon"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1455799233,"creation_date":1455799233,"answer_id":35481763,"question_id":35479290,"body_markdown":"You can&#39;t create an instance of FileInputStream unless your file is not on file system.\r\n\r\nYou have to either first save the multipart file in temporary location on server using \r\n\r\n    file.transferTo(tempFile);\r\n    InputStream stream = new FileInputStream(tempFile);\r\n\r\nBut multipart file can also be read simply via basic streams methods such as\r\n\r\n    InputStream inputStream =  new BufferedInputStream(file.getInputStream());\r\n","title":"Multipart File to File InputStream","body":"<p>You can't create an instance of FileInputStream unless your file is not on file system.</p>\n\n<p>You have to either first save the multipart file in temporary location on server using </p>\n\n<pre><code>file.transferTo(tempFile);\nInputStream stream = new FileInputStream(tempFile);\n</code></pre>\n\n<p>But multipart file can also be read simply via basic streams methods such as</p>\n\n<pre><code>InputStream inputStream =  new BufferedInputStream(file.getInputStream());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4654182,"reputation":25,"user_id":3770169,"display_name":"Akshay"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1516173401,"creation_date":1516170503,"answer_id":48294843,"question_id":35479290,"body_markdown":"For a multipart file eg:\r\n\r\n    FileMultipartData part =  new FileMultipartData();\r\n    InputStream inputStream = part.getFileMultipart().get(0).getByteStream();\r\n\r\nThis worked for me in my code. Please try it","title":"Multipart File to File InputStream","body":"<p>For a multipart file eg:</p>\n\n<pre><code>FileMultipartData part =  new FileMultipartData();\nInputStream inputStream = part.getFileMultipart().get(0).getByteStream();\n</code></pre>\n\n<p>This worked for me in my code. Please try it</p>\n"},{"tags":[],"owner":{"account_id":10356964,"reputation":41,"user_id":7638582,"display_name":"P.Saranya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1545138089,"creation_date":1545135748,"answer_id":53832918,"question_id":35479290,"body_markdown":"Try using:\r\n\r\n    MultipartFile uploadedFile = ((MultipartHttpServletRequest)request).getFile(&#39;file_name&#39;)\r\n    InputStream inputStream = new ByteArrayInputStream(uploadedFile?.getBytes())\r\n","title":"Multipart File to File InputStream","body":"<p>Try using:</p>\n\n<pre><code>MultipartFile uploadedFile = ((MultipartHttpServletRequest)request).getFile('file_name')\nInputStream inputStream = new ByteArrayInputStream(uploadedFile?.getBytes())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17288616,"reputation":235,"user_id":12520670,"display_name":"tutorialTpoint"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1582543543,"creation_date":1582543543,"answer_id":60374945,"question_id":35479290,"body_markdown":"\r\n\r\nTo convert Multipart file to Input Stream\r\n\r\n\r\n    MultipartFile file;\r\n    InputStream inputStream = new InputStream(file.getInputStream());\r\n\r\nThis worked for me.\r\n","title":"Multipart File to File InputStream","body":"<p>To convert Multipart file to Input Stream</p>\n\n<pre><code>MultipartFile file;\nInputStream inputStream = new InputStream(file.getInputStream());\n</code></pre>\n\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":6528960,"reputation":1668,"user_id":5050750,"display_name":"Amir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641760163,"creation_date":1641760163,"answer_id":70645239,"question_id":35479290,"body_markdown":"    MultipartFile file;\r\n    InputStream inputStream = file.getInputStream();","title":"Multipart File to File InputStream","body":"<pre><code>MultipartFile file;\nInputStream inputStream = file.getInputStream();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6868120,"reputation":79,"user_id":5279698,"display_name":"Hemus7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658783645,"creation_date":1658783645,"answer_id":73115419,"question_id":35479290,"body_markdown":"We may just cast and use like below\r\n\r\n    FileInputStream file = (FileInputStream) multipartFile.getInputStream();\r\n\r\n","title":"Multipart File to File InputStream","body":"<p>We may just cast and use like below</p>\n<pre><code>FileInputStream file = (FileInputStream) multipartFile.getInputStream();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21510053,"reputation":51,"user_id":15852900,"display_name":"Ibrahim Hossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682604457,"creation_date":1681613722,"answer_id":76025696,"question_id":35479290,"body_markdown":"      String filename = file.getOriginalFilename();\r\n      Random val = new Random();\r\n      int randomNumber = val.nextInt(999999);\r\n      String filePath = path + File.separator + randomNumber+filename;\r\n      file.transferTo(Paths.get(filePath));\r\n\r\n**Note:** Generate the appropriate file-sending destination path and use the Multipartfile object file.transfterTo() method. its alternative of `copy()` the copy method makes me at runtime error, so the best way to copy and store your image use the file.transferTo() object.","title":"Multipart File to File InputStream","body":"<pre><code>  String filename = file.getOriginalFilename();\n  Random val = new Random();\n  int randomNumber = val.nextInt(999999);\n  String filePath = path + File.separator + randomNumber+filename;\n  file.transferTo(Paths.get(filePath));\n</code></pre>\n<p><strong>Note:</strong> Generate the appropriate file-sending destination path and use the Multipartfile object file.transfterTo() method. its alternative of <code>copy()</code> the copy method makes me at runtime error, so the best way to copy and store your image use the file.transferTo() object.</p>\n"}],"owner":{"display_name":"user4933349"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76844,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":8,"score":17,"last_activity_date":1682604457,"creation_date":1455792485,"question_id":35479290,"body_markdown":"How can I convert a `MultipartFile` to `FileInputStream` in memory?\r\n\r\nI have tried to below , but i am facing the error as\r\n\r\n&gt; org.springframework.web.multipart.commons.CommonsMultipartFile cannot\r\n&gt; be cast to java.io.File\r\n\r\n\r\nMy Code is  \r\n\r\n    FileInputStream fis = new FileInputStream((File)file);\r\n\r\nwhere file is a multipart file","title":"Multipart File to File InputStream","body":"<p>How can I convert a <code>MultipartFile</code> to <code>FileInputStream</code> in memory?</p>\n\n<p>I have tried to below , but i am facing the error as</p>\n\n<blockquote>\n  <p>org.springframework.web.multipart.commons.CommonsMultipartFile cannot\n  be cast to java.io.File</p>\n</blockquote>\n\n<p>My Code is  </p>\n\n<pre><code>FileInputStream fis = new FileInputStream((File)file);\n</code></pre>\n\n<p>where file is a multipart file</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1682589680,"post_id":76119042,"comment_id":134241127,"body_markdown":"What is the value of the `key` inside `.child(key)`?","body":"What is the value of the <code>key</code> inside <code>.child(key)</code>?"},{"owner":{"account_id":28133948,"reputation":3,"user_id":21497992,"display_name":"Bart"},"score":0,"creation_date":1682589925,"post_id":76119042,"comment_id":134241186,"body_markdown":"the key is the reminder that he tries to access, i forgot to add the mainpage in which by pressing the section of the reminder should access this particular reminder settings (going to the EditActivity)","body":"the key is the reminder that he tries to access, i forgot to add the mainpage in which by pressing the section of the reminder should access this particular reminder settings (going to the EditActivity)"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1682590041,"post_id":76119042,"comment_id":134241207,"body_markdown":"If you hardcode the value of the `key` does your code work?","body":"If you hardcode the value of the <code>key</code> does your code work?"},{"owner":{"account_id":28133948,"reputation":3,"user_id":21497992,"display_name":"Bart"},"score":0,"creation_date":1682590232,"post_id":76119042,"comment_id":134241263,"body_markdown":"I didnt try but ill try it right now","body":"I didnt try but ill try it right now"},{"owner":{"account_id":28133948,"reputation":3,"user_id":21497992,"display_name":"Bart"},"score":0,"creation_date":1682592083,"post_id":76119042,"comment_id":134241679,"body_markdown":"no, it didnt work","body":"no, it didnt work"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1682593531,"post_id":76119042,"comment_id":134241959,"body_markdown":"&quot;it didn&#39;t work&quot; doesn&#39;t provide enough information so we can help. What exactly didn&#39;t work? Do you have any errors?","body":"&quot;it didn&#39;t work&quot; doesn&#39;t provide enough information so we can help. What exactly didn&#39;t work? Do you have any errors?"},{"owner":{"account_id":28133948,"reputation":3,"user_id":21497992,"display_name":"Bart"},"score":0,"creation_date":1682594024,"post_id":76119042,"comment_id":134242079,"body_markdown":"No, it doesnt write any error but when i press the update button it won&#39;t do anything but get me to the main page. Nothing changes neither in the database or the app itself","body":"No, it doesnt write any error but when i press the update button it won&#39;t do anything but get me to the main page. Nothing changes neither in the database or the app itself"},{"owner":{"account_id":28133948,"reputation":3,"user_id":21497992,"display_name":"Bart"},"score":0,"creation_date":1682594168,"post_id":76119042,"comment_id":134242105,"body_markdown":"and when i hardcoded the key it still wont do anything in fact, it will do the same as it was before(go back to the main page without any issues or bugs) I guess it has a problem with updating the value of it","body":"and when i hardcoded the key it still wont do anything in fact, it will do the same as it was before(go back to the main page without any issues or bugs) I guess it has a problem with updating the value of it"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1682596224,"post_id":76119042,"comment_id":134242571,"body_markdown":"First of all, stop ignoring errors. At a minimum, please add `Log.d(TAG, databaseError.getMessage());`. Do you get something printed out in the logcat?","body":"First of all, stop ignoring errors. At a minimum, please add <code>Log.d(TAG, databaseError.getMessage());</code>. Do you get something printed out in the logcat?"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682604358,"creation_date":1682604358,"answer_id":76121338,"question_id":76119042,"body_markdown":"When you create a new reminder, you write it to:\r\n\r\n```\r\nreminderref.child(&quot;Reminder&quot;).child(uid).child(key).setValue(rmd)\r\n```\r\n\r\nSo the path of the reminder in the database is `/Reminder/$uid/$key`.\r\n\r\n---\r\n\r\nThat means that to delete the reminder, you also need to delete it from that specific path. Yet your code to delete a reminder is:\r\n```\r\nreminderref.child(key).removeValue()\r\n```\r\n\r\nSo this tries to delete the data at path `/$key` only, which is not the same data as you wrote above.\r\n\r\n---\r\n\r\nTo delete the reminder, construct the exact same path and call `removeValue` on that:\r\n\r\n```\r\nreminderref.child(&quot;Reminder&quot;).child(uid).child(key).removeValue()\r\n```\r\n","title":"how to edit and delete information that is in the Firebase database in android?","body":"<p>When you create a new reminder, you write it to:</p>\n<pre><code>reminderref.child(&quot;Reminder&quot;).child(uid).child(key).setValue(rmd)\n</code></pre>\n<p>So the path of the reminder in the database is <code>/Reminder/$uid/$key</code>.</p>\n<hr />\n<p>That means that to delete the reminder, you also need to delete it from that specific path. Yet your code to delete a reminder is:</p>\n<pre><code>reminderref.child(key).removeValue()\n</code></pre>\n<p>So this tries to delete the data at path <code>/$key</code> only, which is not the same data as you wrote above.</p>\n<hr />\n<p>To delete the reminder, construct the exact same path and call <code>removeValue</code> on that:</p>\n<pre><code>reminderref.child(&quot;Reminder&quot;).child(uid).child(key).removeValue()\n</code></pre>\n"}],"owner":{"account_id":28133948,"reputation":3,"user_id":21497992,"display_name":"Bart"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682604384,"creation_date":1682589077,"question_id":76119042,"body_markdown":"My issue is that I can&#39;t delete and edit the data that is in the realtime database, to access it i have unique key, uid and i need to change the values of the date, time title(example of the database in the screenshot).\r\n\r\n\r\n```\r\npublic class EditActivity extends AppCompatActivity implements View.OnClickListener {\r\n    EditText aTime, aDate, aTitle;\r\n    Button btnUpdate, btnDelete;\r\n    DatabaseReference reminderref;\r\n    String key;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.edit_activity);\r\n\r\n        aTime = findViewById(R.id.editTime);\r\n        aDate = findViewById(R.id.editDate);\r\n        aTitle = findViewById(R.id.editTitle);\r\n        btnUpdate = findViewById(R.id.editButton);\r\n        btnDelete = findViewById(R.id.deleteButton);\r\n        reminderref = FirebaseDatabase.getInstance().getReference().child(&quot;Reminder&quot;);\r\n\r\n        // Retrieve the data to be edited from the Firebase Realtime Database\r\n        key = getIntent().getStringExtra(&quot;key&quot;);\r\n        reminderref.child(key).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()) {\r\n                    Reminder reminder = snapshot.getValue(Reminder.class);\r\n                    if (reminder != null) {\r\n                        aTitle.setText(reminder.getTitle());\r\n                        aDate.setText(reminder.getDate());\r\n                        aTime.setText(reminder.getTime());\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                // Handle database error\r\n            }\r\n        });\r\n\r\n        btnUpdate.setOnClickListener(this);\r\n        btnDelete.setOnClickListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        switch (view.getId()) {\r\n            case R.id.editButton:\r\n                updateReminder();\r\n                break;\r\n            case R.id.deleteButton:\r\n                deleteReminder();\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void updateReminder() {\r\n        String title = aTitle.getText().toString();\r\n        String date = aDate.getText().toString();\r\n        String time = aTime.getText().toString();\r\n\r\n        Reminder reminder = new Reminder();\r\n        reminder.setTitle(title);\r\n        reminder.setDate(date);\r\n        reminder.setTime(time);\r\n        reminder.setUid(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n\r\n        reminderref.child(key).setValue(reminder)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        Toast.makeText(EditActivity.this, &quot;Reminder updated successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                        finish();\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(EditActivity.this, &quot;Failed to update reminder&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void deleteReminder() {\r\n        reminderref.child(key).removeValue()\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        Toast.makeText(EditActivity.this, &quot;Reminder deleted successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                        finish();\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(EditActivity.this, &quot;Failed to delete reminder&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n}\r\n```\r\n\r\ni also going to include the activity that saves the reminder to the database, hope it helps.\r\n\r\n```\r\npublic class SaveActivity extends AppCompatActivity implements View.OnClickListener {\r\n    FirebaseAuth firebaseAuth;\r\n    Button btnadd;\r\n    SharedPreferences sp;\r\n    EditText aTime,aDate,aTitle;\r\n    FirebaseDatabase firebaseDatabase;\r\n    DatabaseReference reminderref;\r\n    StorageReference storageReference;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.add_activity);\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n        firebaseDatabase = FirebaseDatabase.getInstance();\r\n        aTime = (EditText) findViewById(R.id.aTime);\r\n        aDate = (EditText) findViewById(R.id.aDate);\r\n        aTitle = (EditText) findViewById(R.id.aTitle);\r\n        btnadd = (Button) findViewById(R.id.btnadd);\r\n        reminderref = FirebaseDatabase.getInstance().getReference();\r\n\r\n        aDate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                showDatePickerDialog();\r\n            }\r\n        });\r\n\r\n        aTime.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                showTimePickerDialog();\r\n            }\r\n        });\r\n        btnadd.setOnClickListener(this);\r\n\r\n        FirebaseUser firebaseUser= firebaseAuth.getCurrentUser();\r\n        firebaseDatabase = FirebaseDatabase.getInstance();}\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        if(btnadd == view) {\r\n            writeNewReminder();\r\n            Intent intent = new Intent(this, MainPageActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    }\r\n\r\n    private void showDatePickerDialog() {\r\n        // Get the current date\r\n        Calendar calendar = Calendar.getInstance();\r\n        int year = calendar.get(Calendar.YEAR);\r\n        int month = calendar.get(Calendar.MONTH);\r\n        int day = calendar.get(Calendar.DAY_OF_MONTH);\r\n\r\n        // Create a new DatePickerDialog and show it\r\n        DatePickerDialog datePickerDialog = new DatePickerDialog(this, new DatePickerDialog.OnDateSetListener() {\r\n            @Override\r\n            public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {\r\n                // Update the EditText with the selected date\r\n                aDate.setText(dayOfMonth + &quot;/&quot; + (month + 1) + &quot;/&quot; + year);\r\n            }\r\n        }, year, month, day);\r\n        datePickerDialog.show();\r\n    }\r\n\r\n    private void showTimePickerDialog() {\r\n        // Get the current time\r\n        Calendar calendar = Calendar.getInstance();\r\n        int hour = calendar.get(Calendar.HOUR_OF_DAY);\r\n        int minute = calendar.get(Calendar.MINUTE);\r\n\r\n        // Create a new TimePickerDialog and show it\r\n        TimePickerDialog timePickerDialog = new TimePickerDialog(this, new TimePickerDialog.OnTimeSetListener() {\r\n            @Override\r\n            public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\r\n                // Update the EditText with the selected time\r\n                String time = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, hourOfDay, minute);\r\n                aTime.setText(time);\r\n            }\r\n        }, hour, minute, true);\r\n        timePickerDialog.show();\r\n    }\r\n    private void writeNewReminder() {\r\n        String uid = firebaseAuth.getUid();\r\n        String title = aTitle.getText().toString();\r\n        String date = aDate.getText().toString();\r\n        String time = aTime.getText().toString();\r\n        String key = reminderref.child(uid).push().getKey();\r\n\r\n\r\n        Reminder rmd = new Reminder();\r\n        rmd.setDate(date);\r\n        rmd.setTime(time);\r\n        rmd.setTitle(title);\r\n        rmd.setUid(uid);\r\n        rmd.key = key;\r\n\r\n        reminderref.child(&quot;Reminder&quot;).child(uid).child(key).setValue(rmd)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        Toast.makeText(SaveActivity.this, &quot;Reminder added successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(SaveActivity.this, &quot;Failed to add reminder&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n        if (id == R.id.mmadd) {\r\n            Intent intent = new Intent(this, SaveActivity.class);\r\n            startActivity(intent);\r\n        }\r\n        if (id == R.id.mmreturn){\r\n            Intent intent = new Intent(this, MainPageActivity.class);\r\n            startActivity(intent);\r\n        }[enter image description here](https://i.stack.imgur.com/Bu8tr.png)\r\n        if (id == R.id.mmatapp){\r\n            Intent intent = new Intent(this, MainFragment.class);\r\n            startActivity(intent);\r\n        }\r\n        if (id == R.id.mmexit){\r\n            finishAffinity();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n}\r\n```\r\nAnd that i the mainpage that by pressing the reminder should access the particular reminder that is pressed and edit/delete it:\r\n```\r\npublic class MainPageActivity extends AppCompatActivity {\r\n    private FirebaseAuth mAuth;\r\n    private DatabaseReference databaseRef;\r\n    private ArrayList&lt;Reminder&gt; remindersList;\r\n    private ReminderAdapter reminderAdapter;\r\n    private ListView mrlv;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main_page);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\r\n        String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n        databaseRef = firebaseDatabase.getReference(&quot;Reminder&quot;).child(uid);\r\n\r\n        remindersList = new ArrayList&lt;&gt;();\r\n        reminderAdapter = new ReminderAdapter(getApplicationContext(), R.layout.templet_example, remindersList);\r\n        mrlv = findViewById(R.id.mrv);\r\n        mrlv.setAdapter(reminderAdapter);\r\n\r\n        databaseRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                remindersList.clear();\r\n                for (DataSnapshot postSnapshot : dataSnapshot.getChildren()) {\r\n                    Reminder reminder = postSnapshot.getValue(Reminder.class);\r\n                    remindersList.add(reminder);\r\n                }\r\n                reminderAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                // Handle errors\r\n            }\r\n        });\r\n\r\n        mrlv.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                Reminder reminder = remindersList.get(position);\r\n                Intent intent = new Intent(MainPageActivity.this, EditActivity.class);\r\n                intent.putExtra(&quot;key&quot;, reminder.key);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.menu_top, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n        if (id == R.id.mmadd) {\r\n            Intent intent = new Intent(this, SaveActivity.class);\r\n            startActivity(intent);\r\n        }\r\n        if (id == R.id.mmreturn){\r\n            Intent intent = new Intent(this, MainPageActivity.class);\r\n            startActivity(intent);\r\n        }\r\n        if (id == R.id.mmatapp){\r\n            Intent intent = new Intent(this, MainFragment.class);\r\n            startActivity(intent);\r\n        }\r\n        if (id == R.id.mmexit){\r\n            finishAffinity();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n![example of the Realtime Database][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8KZLt.png","title":"how to edit and delete information that is in the Firebase database in android?","body":"<p>My issue is that I can't delete and edit the data that is in the realtime database, to access it i have unique key, uid and i need to change the values of the date, time title(example of the database in the screenshot).</p>\n<pre><code>public class EditActivity extends AppCompatActivity implements View.OnClickListener {\n    EditText aTime, aDate, aTitle;\n    Button btnUpdate, btnDelete;\n    DatabaseReference reminderref;\n    String key;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.edit_activity);\n\n        aTime = findViewById(R.id.editTime);\n        aDate = findViewById(R.id.editDate);\n        aTitle = findViewById(R.id.editTitle);\n        btnUpdate = findViewById(R.id.editButton);\n        btnDelete = findViewById(R.id.deleteButton);\n        reminderref = FirebaseDatabase.getInstance().getReference().child(&quot;Reminder&quot;);\n\n        // Retrieve the data to be edited from the Firebase Realtime Database\n        key = getIntent().getStringExtra(&quot;key&quot;);\n        reminderref.child(key).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()) {\n                    Reminder reminder = snapshot.getValue(Reminder.class);\n                    if (reminder != null) {\n                        aTitle.setText(reminder.getTitle());\n                        aDate.setText(reminder.getDate());\n                        aTime.setText(reminder.getTime());\n                    }\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                // Handle database error\n            }\n        });\n\n        btnUpdate.setOnClickListener(this);\n        btnDelete.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n            case R.id.editButton:\n                updateReminder();\n                break;\n            case R.id.deleteButton:\n                deleteReminder();\n                break;\n        }\n    }\n\n    private void updateReminder() {\n        String title = aTitle.getText().toString();\n        String date = aDate.getText().toString();\n        String time = aTime.getText().toString();\n\n        Reminder reminder = new Reminder();\n        reminder.setTitle(title);\n        reminder.setDate(date);\n        reminder.setTime(time);\n        reminder.setUid(FirebaseAuth.getInstance().getCurrentUser().getUid());\n\n        reminderref.child(key).setValue(reminder)\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        Toast.makeText(EditActivity.this, &quot;Reminder updated successfully&quot;, Toast.LENGTH_SHORT).show();\n                        finish();\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(EditActivity.this, &quot;Failed to update reminder&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n\n    private void deleteReminder() {\n        reminderref.child(key).removeValue()\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        Toast.makeText(EditActivity.this, &quot;Reminder deleted successfully&quot;, Toast.LENGTH_SHORT).show();\n                        finish();\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(EditActivity.this, &quot;Failed to delete reminder&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n}\n</code></pre>\n<p>i also going to include the activity that saves the reminder to the database, hope it helps.</p>\n<pre><code>public class SaveActivity extends AppCompatActivity implements View.OnClickListener {\n    FirebaseAuth firebaseAuth;\n    Button btnadd;\n    SharedPreferences sp;\n    EditText aTime,aDate,aTitle;\n    FirebaseDatabase firebaseDatabase;\n    DatabaseReference reminderref;\n    StorageReference storageReference;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.add_activity);\n        firebaseAuth = FirebaseAuth.getInstance();\n        firebaseDatabase = FirebaseDatabase.getInstance();\n        aTime = (EditText) findViewById(R.id.aTime);\n        aDate = (EditText) findViewById(R.id.aDate);\n        aTitle = (EditText) findViewById(R.id.aTitle);\n        btnadd = (Button) findViewById(R.id.btnadd);\n        reminderref = FirebaseDatabase.getInstance().getReference();\n\n        aDate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                showDatePickerDialog();\n            }\n        });\n\n        aTime.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                showTimePickerDialog();\n            }\n        });\n        btnadd.setOnClickListener(this);\n\n        FirebaseUser firebaseUser= firebaseAuth.getCurrentUser();\n        firebaseDatabase = FirebaseDatabase.getInstance();}\n\n    @Override\n    public void onClick(View view) {\n        if(btnadd == view) {\n            writeNewReminder();\n            Intent intent = new Intent(this, MainPageActivity.class);\n            startActivity(intent);\n        }\n    }\n\n    private void showDatePickerDialog() {\n        // Get the current date\n        Calendar calendar = Calendar.getInstance();\n        int year = calendar.get(Calendar.YEAR);\n        int month = calendar.get(Calendar.MONTH);\n        int day = calendar.get(Calendar.DAY_OF_MONTH);\n\n        // Create a new DatePickerDialog and show it\n        DatePickerDialog datePickerDialog = new DatePickerDialog(this, new DatePickerDialog.OnDateSetListener() {\n            @Override\n            public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {\n                // Update the EditText with the selected date\n                aDate.setText(dayOfMonth + &quot;/&quot; + (month + 1) + &quot;/&quot; + year);\n            }\n        }, year, month, day);\n        datePickerDialog.show();\n    }\n\n    private void showTimePickerDialog() {\n        // Get the current time\n        Calendar calendar = Calendar.getInstance();\n        int hour = calendar.get(Calendar.HOUR_OF_DAY);\n        int minute = calendar.get(Calendar.MINUTE);\n\n        // Create a new TimePickerDialog and show it\n        TimePickerDialog timePickerDialog = new TimePickerDialog(this, new TimePickerDialog.OnTimeSetListener() {\n            @Override\n            public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n                // Update the EditText with the selected time\n                String time = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, hourOfDay, minute);\n                aTime.setText(time);\n            }\n        }, hour, minute, true);\n        timePickerDialog.show();\n    }\n    private void writeNewReminder() {\n        String uid = firebaseAuth.getUid();\n        String title = aTitle.getText().toString();\n        String date = aDate.getText().toString();\n        String time = aTime.getText().toString();\n        String key = reminderref.child(uid).push().getKey();\n\n\n        Reminder rmd = new Reminder();\n        rmd.setDate(date);\n        rmd.setTime(time);\n        rmd.setTitle(title);\n        rmd.setUid(uid);\n        rmd.key = key;\n\n        reminderref.child(&quot;Reminder&quot;).child(uid).child(key).setValue(rmd)\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        Toast.makeText(SaveActivity.this, &quot;Reminder added successfully&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(SaveActivity.this, &quot;Failed to add reminder&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n        if (id == R.id.mmadd) {\n            Intent intent = new Intent(this, SaveActivity.class);\n            startActivity(intent);\n        }\n        if (id == R.id.mmreturn){\n            Intent intent = new Intent(this, MainPageActivity.class);\n            startActivity(intent);\n        }[enter image description here](https://i.stack.imgur.com/Bu8tr.png)\n        if (id == R.id.mmatapp){\n            Intent intent = new Intent(this, MainFragment.class);\n            startActivity(intent);\n        }\n        if (id == R.id.mmexit){\n            finishAffinity();\n        }\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n<p>And that i the mainpage that by pressing the reminder should access the particular reminder that is pressed and edit/delete it:</p>\n<pre><code>public class MainPageActivity extends AppCompatActivity {\n    private FirebaseAuth mAuth;\n    private DatabaseReference databaseRef;\n    private ArrayList&lt;Reminder&gt; remindersList;\n    private ReminderAdapter reminderAdapter;\n    private ListView mrlv;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main_page);\n\n        mAuth = FirebaseAuth.getInstance();\n        FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\n        String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n        databaseRef = firebaseDatabase.getReference(&quot;Reminder&quot;).child(uid);\n\n        remindersList = new ArrayList&lt;&gt;();\n        reminderAdapter = new ReminderAdapter(getApplicationContext(), R.layout.templet_example, remindersList);\n        mrlv = findViewById(R.id.mrv);\n        mrlv.setAdapter(reminderAdapter);\n\n        databaseRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                remindersList.clear();\n                for (DataSnapshot postSnapshot : dataSnapshot.getChildren()) {\n                    Reminder reminder = postSnapshot.getValue(Reminder.class);\n                    remindersList.add(reminder);\n                }\n                reminderAdapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n                // Handle errors\n            }\n        });\n\n        mrlv.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                Reminder reminder = remindersList.get(position);\n                Intent intent = new Intent(MainPageActivity.this, EditActivity.class);\n                intent.putExtra(&quot;key&quot;, reminder.key);\n                startActivity(intent);\n            }\n        });\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_top, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n        if (id == R.id.mmadd) {\n            Intent intent = new Intent(this, SaveActivity.class);\n            startActivity(intent);\n        }\n        if (id == R.id.mmreturn){\n            Intent intent = new Intent(this, MainPageActivity.class);\n            startActivity(intent);\n        }\n        if (id == R.id.mmatapp){\n            Intent intent = new Intent(this, MainFragment.class);\n            startActivity(intent);\n        }\n        if (id == R.id.mmexit){\n            finishAffinity();\n        }\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/8KZLt.png\" alt=\"example of the Realtime Database\" /></p>\n"},{"tags":["java","hibernate","hibernate-mapping"],"owner":{"account_id":351717,"reputation":145,"user_id":688368,"accept_rate":75,"display_name":"Bogdan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682604276,"creation_date":1682604276,"question_id":76121327,"body_markdown":"I have following issues with the main class User being created in the database\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    public class UserEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.TABLE)\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)\r\n        private Set&lt;BookEntity&gt; books = new HashSet&lt;&gt;();\r\n    \r\n    }\r\n\r\nand also the users_books table is created. Now I have a new class StudentEntity that extends UserEntity\r\n\r\n    @Entity\r\n    @Table(name = &quot;students&quot;)\r\n    public class StudentEntity extends UserEntity {\r\n        private String studentId;\r\n    \r\n        //...\r\n    }\r\nHibernate also creates now students table in the database but students_books table is not created. So now trying to persist StudentEntity in the database causes Error: \r\norg.hibernate.exception.ConstraintViolationException: could not execute statement: Cannot add or update a child row: a foreign key constraint fails ...\r\n\r\nAny ideas what can be done so the students_books table is also created?","title":"Java Hibernate extended class doesn&#39;t create join table","body":"<p>I have following issues with the main class User being created in the database</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic class UserEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.TABLE)\n    private Long id;\n\n    private String name;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)\n    private Set&lt;BookEntity&gt; books = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p>and also the users_books table is created. Now I have a new class StudentEntity that extends UserEntity</p>\n<pre><code>@Entity\n@Table(name = &quot;students&quot;)\npublic class StudentEntity extends UserEntity {\n    private String studentId;\n\n    //...\n}\n</code></pre>\n<p>Hibernate also creates now students table in the database but students_books table is not created. So now trying to persist StudentEntity in the database causes Error:\norg.hibernate.exception.ConstraintViolationException: could not execute statement: Cannot add or update a child row: a foreign key constraint fails ...</p>\n<p>Any ideas what can be done so the students_books table is also created?</p>\n"},{"tags":["java","spring-boot","azure"],"answers":[{"tags":[],"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682598464,"creation_date":1682598464,"answer_id":76120427,"question_id":75956079,"body_markdown":"- Check if the URL is accessible from the same network as the Azure Video Indexer service. You can try accessing the URL from a different machine on the same network to see if it is accessible.\r\n- It is possible that the URL is blocked by a firewall or network restriction that prevents access from certain IP addresses or networks. Make sure that the IP address of the server running the indexer is allowed to access the URL.\r\n\r\n- I have installed Azure Video Indexer and locally I have recorded a video to index the file and download.\r\n![enter image description here](https://i.stack.imgur.com/lNUmt.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/YMLdF.png)\r\n\r\n- Below Spring Boot controller that uses the Azure Video Indexer SDK to index videos and retrieve video data.\r\n```java\r\n@RestController\r\npublic class VideoController {\r\n    private static final String FILE_DIRECTORY = &quot;/path/to/videos/&quot;;\r\n\r\n    @Autowired\r\n    private AzureVideoIndexerService videoIndexerService;\r\n\r\n    @GetMapping(value = &quot;/download/{uuid}&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\r\n    public ResponseEntity&lt;byte[]&gt; downloadVideo(@PathVariable String uuid) {\r\n        try {\r\n            File file = new File(FILE_DIRECTORY + uuid + &quot;.mp4&quot;);\r\n            byte[] videoBytes = Files.readAllBytes(file.toPath());\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n            headers.setContentLength(videoBytes.length);\r\n            headers.setContentDisposition(ContentDisposition.attachment()\r\n                .filename(uuid + &quot;.mp4&quot;)\r\n                .build());\r\n            return new ResponseEntity&lt;&gt;(videoBytes, headers, HttpStatus.OK);\r\n        } catch (IOException e) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\n    @PostMapping(value = &quot;/index/{uuid}&quot;)\r\n    public ResponseEntity&lt;String&gt; indexVideo(@PathVariable String uuid) {\r\n        try {\r\n            String videoUrl = &quot;http://localhost:8080/download/&quot; + uuid;\r\n            String indexId = videoIndexerService.indexVideo(videoUrl);\r\n            return new ResponseEntity&lt;&gt;(&quot;Video indexing started with index id &quot; + indexId, HttpStatus.OK);\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;&gt;(&quot;Failed to start video indexing: &quot; + e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n}\r\n```\r\nThe .mp4 file that has been indexed into Azure AI Indexer.\r\n\r\n![enter image description here](https://i.stack.imgur.com/vRIuh.png)\r\n\r\nThe `uuid` parameter in the `downloadVideo` method corresponds to the UUID or File ID of the video file that you want to download. Below is the sample URL which makings as the request to download the file.\r\n\r\n![enter image description here](https://i.stack.imgur.com/yOXFo.png)\r\n\r\n- Azure Video indexer might be running in a different network environment than the one you are using to access the URL. That may result in different network configurations, firewalls, proxies etc., that might be blocking access to the URL from the Azure Video indexer.\r\n","title":"Using AI Azure Video indexer I am getting URL_UNREACHABLE but the URL is accessible from other sites","body":"<ul>\n<li><p>Check if the URL is accessible from the same network as the Azure Video Indexer service. You can try accessing the URL from a different machine on the same network to see if it is accessible.</p>\n</li>\n<li><p>It is possible that the URL is blocked by a firewall or network restriction that prevents access from certain IP addresses or networks. Make sure that the IP address of the server running the indexer is allowed to access the URL.</p>\n</li>\n<li><p>I have installed Azure Video Indexer and locally I have recorded a video to index the file and download.\n<img src=\"https://i.stack.imgur.com/lNUmt.png\" alt=\"enter image description here\" /></p>\n</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/YMLdF.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>Below Spring Boot controller that uses the Azure Video Indexer SDK to index videos and retrieve video data.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class VideoController {\n    private static final String FILE_DIRECTORY = &quot;/path/to/videos/&quot;;\n\n    @Autowired\n    private AzureVideoIndexerService videoIndexerService;\n\n    @GetMapping(value = &quot;/download/{uuid}&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\n    public ResponseEntity&lt;byte[]&gt; downloadVideo(@PathVariable String uuid) {\n        try {\n            File file = new File(FILE_DIRECTORY + uuid + &quot;.mp4&quot;);\n            byte[] videoBytes = Files.readAllBytes(file.toPath());\n            HttpHeaders headers = new HttpHeaders();\n            headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n            headers.setContentLength(videoBytes.length);\n            headers.setContentDisposition(ContentDisposition.attachment()\n                .filename(uuid + &quot;.mp4&quot;)\n                .build());\n            return new ResponseEntity&lt;&gt;(videoBytes, headers, HttpStatus.OK);\n        } catch (IOException e) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n\n    @PostMapping(value = &quot;/index/{uuid}&quot;)\n    public ResponseEntity&lt;String&gt; indexVideo(@PathVariable String uuid) {\n        try {\n            String videoUrl = &quot;http://localhost:8080/download/&quot; + uuid;\n            String indexId = videoIndexerService.indexVideo(videoUrl);\n            return new ResponseEntity&lt;&gt;(&quot;Video indexing started with index id &quot; + indexId, HttpStatus.OK);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(&quot;Failed to start video indexing: &quot; + e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n}\n</code></pre>\n<p>The .mp4 file that has been indexed into Azure AI Indexer.</p>\n<p><img src=\"https://i.stack.imgur.com/vRIuh.png\" alt=\"enter image description here\" /></p>\n<p>The <code>uuid</code> parameter in the <code>downloadVideo</code> method corresponds to the UUID or File ID of the video file that you want to download. Below is the sample URL which makings as the request to download the file.</p>\n<p><img src=\"https://i.stack.imgur.com/yOXFo.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li>Azure Video indexer might be running in a different network environment than the one you are using to access the URL. That may result in different network configurations, firewalls, proxies etc., that might be blocking access to the URL from the Azure Video indexer.</li>\n</ul>\n"}],"owner":{"account_id":26225009,"reputation":1,"user_id":19901821,"display_name":"Roberto Gonzalez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682604233,"creation_date":1680849839,"question_id":75956079,"body_markdown":"I have implemented an integration with Azure AU Indexer. The POST call for index returns URL_UNREACHABLE but the URL is accessible from a web browser for example. No authentication is defined yet on the download server.\r\n```none\r\n org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: &quot;{&quot;ErrorType&quot;:&quot;URL_UNREACHABLE&quot;,&quot;Message&quot;:&quot;Url &#39;https://server/api/v1/download/3911ed0c-16eb-4ad8-a282-244006f05346&#39; is unreachable. Trace id: &#39;06e23f6f-d3d7-4bd1-a750-51877b30e8e9&#39;.&quot;}&quot;\r\n```\r\nI am using Java SpringBoot to server the request with this piece of code\r\n\r\n```java\r\n@GetMapping(&quot;download/{uuid}&quot;)\r\npublic ResponseEntity&lt;StreamingResponseBody&gt; download(@PathVariable String uuid) throws Exception {\r\n\r\n    DownloadResult result = teService.download(uuid);\r\n\r\n    return ResponseEntity.ok()\r\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + uuid + &quot;\\&quot;&quot;)\r\n            .header(HttpHeaders.CONTENT_LENGTH, result.getObjectSize().toString())\r\n            .header(HttpHeaders.CONTENT_TYPE, result.getMimeType())\r\n            .header(HttpHeaders.PRAGMA, &quot;public&quot;)\r\n            .header(HttpHeaders.EXPIRES, &quot;-1&quot;)\r\n            .header(HttpHeaders.CACHE_CONTROL, &quot;public, must-revalidate, post-check=0, pre-check=0&quot;)\r\n            .body(result.getResponseBody());\r\n}\r\n```\r\nI have tried to change the Headers to return it as an inline stream with no success. I am expecting that the Azure AI indexer can download the video as other sites","title":"Using AI Azure Video indexer I am getting URL_UNREACHABLE but the URL is accessible from other sites","body":"<p>I have implemented an integration with Azure AU Indexer. The POST call for index returns URL_UNREACHABLE but the URL is accessible from a web browser for example. No authentication is defined yet on the download server.</p>\n<pre class=\"lang-none prettyprint-override\"><code> org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: &quot;{&quot;ErrorType&quot;:&quot;URL_UNREACHABLE&quot;,&quot;Message&quot;:&quot;Url 'https://server/api/v1/download/3911ed0c-16eb-4ad8-a282-244006f05346' is unreachable. Trace id: '06e23f6f-d3d7-4bd1-a750-51877b30e8e9'.&quot;}&quot;\n</code></pre>\n<p>I am using Java SpringBoot to server the request with this piece of code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;download/{uuid}&quot;)\npublic ResponseEntity&lt;StreamingResponseBody&gt; download(@PathVariable String uuid) throws Exception {\n\n    DownloadResult result = teService.download(uuid);\n\n    return ResponseEntity.ok()\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + uuid + &quot;\\&quot;&quot;)\n            .header(HttpHeaders.CONTENT_LENGTH, result.getObjectSize().toString())\n            .header(HttpHeaders.CONTENT_TYPE, result.getMimeType())\n            .header(HttpHeaders.PRAGMA, &quot;public&quot;)\n            .header(HttpHeaders.EXPIRES, &quot;-1&quot;)\n            .header(HttpHeaders.CACHE_CONTROL, &quot;public, must-revalidate, post-check=0, pre-check=0&quot;)\n            .body(result.getResponseBody());\n}\n</code></pre>\n<p>I have tried to change the Headers to return it as an inline stream with no success. I am expecting that the Azure AI indexer can download the video as other sites</p>\n"},{"tags":["java","synchronization","immutability","volatile"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1370986019,"post_id":17054062,"comment_id":24658516,"body_markdown":"Why not ask your 3 separate questions as... 3 separate questions?","body":"Why not ask your 3 separate questions as... 3 separate questions?"},{"owner":{"account_id":2098299,"reputation":4834,"user_id":1866587,"accept_rate":40,"display_name":"selig"},"score":0,"creation_date":1370990378,"post_id":17054062,"comment_id":24660219,"body_markdown":"because there&#39;s 4? ;)","body":"because there&#39;s 4? ;)"},{"owner":{"account_id":2110397,"reputation":263,"user_id":1875798,"accept_rate":37,"display_name":"user1875798"},"score":0,"creation_date":1371017394,"post_id":17054062,"comment_id":24666468,"body_markdown":"These all look related to me and if some one comes to these questions and proper answer that would be really helpful for him/her.","body":"These all look related to me and if some one comes to these questions and proper answer that would be really helpful for him/her."}],"answers":[{"tags":[],"owner":{"account_id":15988,"reputation":872868,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370986007,"creation_date":1370986007,"answer_id":17054114,"question_id":17054062,"body_markdown":" 1. Yes; `volatile` only applies to the reference it&#39;s applied to.\r\n\r\n 2. No; objects that happen to be pointed to by final fields do not magically become immutable.  \r\nAn object with mutable non-public members is only immutable if those members can never be mutated.  (obviously)","title":"Doubts related to volatile , immutable objects, and their use to achieve synchronization","body":"<ol>\n<li><p>Yes; <code>volatile</code> only applies to the reference it's applied to.</p></li>\n<li><p>No; objects that happen to be pointed to by final fields do not magically become immutable.<br>\nAn object with mutable non-public members is only immutable if those members can never be mutated.  (obviously)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2110397,"reputation":263,"user_id":1875798,"accept_rate":37,"display_name":"user1875798"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1371155477,"creation_date":1371155477,"answer_id":17096474,"question_id":17054062,"body_markdown":"Found out after some testing all my answers.\r\n\r\n1. volatile only applies to reference. Any object point by volatile object need not to be visible other threads.\r\n\r\n2. Yes final is important. Without it object of class will not be immutable.\r\n\r\n3. Suppose a variable &quot;obj&quot; is pointing to location x(where the actual object is placed) when a function call on obj is started then during function call all member variables will be read from location x even if some other thread assign a different object on &quot;obj&quot;.\r\n\r\n4. Assumed explanations for all answers are correct.","title":"Doubts related to volatile , immutable objects, and their use to achieve synchronization","body":"<p>Found out after some testing all my answers.</p>\n\n<ol>\n<li><p>volatile only applies to reference. Any object point by volatile object need not to be visible other threads.</p></li>\n<li><p>Yes final is important. Without it object of class will not be immutable.</p></li>\n<li><p>Suppose a variable \"obj\" is pointing to location x(where the actual object is placed) when a function call on obj is started then during function call all member variables will be read from location x even if some other thread assign a different object on \"obj\".</p></li>\n<li><p>Assumed explanations for all answers are correct.</p></li>\n</ol>\n"}],"owner":{"account_id":2110397,"reputation":263,"user_id":1875798,"accept_rate":37,"display_name":"user1875798"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17096474,"answer_count":2,"score":0,"last_activity_date":1682604060,"creation_date":1370985764,"question_id":17054062,"body_markdown":"I was reading book &quot;java concurrency in practice&quot; and end up with some doubts after few pages.\r\n\r\n1) Voltile with non premitive data types :\r\n private volatile Student s; \r\nwhat is significance of volatile when it comes with non premitive data types  ? (I think in this case only think that is sure to be visible to all threads is what Strudent object s is pointing currently and it is possible one thread A modifies some internal member of student and that is not visible to other threads. Am I right ??)\r\n\r\n2)\r\nIs a variable can be immutable , even if internal members are not declared as final  ?? \r\nFor example :\r\n\r\n    Class  A {\r\n    \r\n    \tprivate Set&lt;String&gt; s = new Set();\r\n    \tpublic A() {\r\n    \t\ts.add(&quot;Moe&quot;);\r\n    \t\ts.add(&quot;Larry&quot;);\r\n    \t\ts.add(&quot;Curly&quot;);\r\n    \t}\r\n    } \r\n\r\n \r\n\r\nIn this class do we need to make Set s final to make it immutable or this class is still immutable ? (because even in this case we can&#39;t change state of object after it is created).\r\n\r\n\r\n3 ) There is one example in book that shows how to use volatile and immutable class in combination to get synchronization. Before I put that question I have one more doubt.\r\nsuppose there is some function like this :\r\n\r\n    private Student s = new Student;\r\n    \r\n    void func() {\r\n    \ts.func2();      // 1\r\n    \tif(s.isPossible()) { //2\r\n    \t\ts = new Student(); //3\t\t\r\n    \t}\r\n    }\r\n\r\na)func2() acess internal members of s. Now consider Thread A entered into func2 after executing line 1 and Thread B same time reassign s with new object. When Thread A resumes\r\nwhat it will use new object or the old one ? ( suppose s initally points to memory location 100 (old object) and after a new object is assigned it started pointing to 200 (new object)\r\nthen when Thread A resumes it will acess address 100 or address 200).  \r\n\r\nb) If I make s volatile , will it make any difference to above case.\r\n\r\n\r\n4.) And here is last one \r\n\r\n\r\n    @Immutable\r\n    class OneValueCache {\r\n    \tprivate final BigInteger lastNumber;\r\n    \tprivate final BigInteger[] lastFactors;\r\n    \tpublic OneValueCache(BigInteger i,\r\n    \tBigInteger[] factors) {\r\n    \t\tlastNumber = i;\r\n    \t\tlastFactors = Arrays.copyOf(factors, factors.length);\r\n    \t}\r\n    \tpublic BigInteger[] getFactors(BigInteger i) {\r\n    \t\tif (lastNumber == null || !lastNumber.equals(i))\r\n    \t\t\treturn null;\r\n    \t\telse\r\n    \t\t\treturn Arrays.copyOf(lastFactors, lastFactors.length);\r\n        }\r\n    }\r\n\r\n    @ThreadSafe\r\n    public class VolatileCachedFactorizer implements Servlet {\r\n    \tprivate volatile OneValueCache cache = new OneValueCache(null, null);\r\n    \tpublic void service(ServletRequest req, ServletResponse resp) {\r\n    \t\tBigInteger i = extractFromRequest(req);\r\n    \t\tBigInteger[] factors = cache.getFactors(i); // Position A\r\n    \t\r\n    \t\tif (factors == null) {\r\n    \t\t\tfactors = factor(i);\r\n    \t\t\tcache = new OneValueCache(i, factors); // Position B\r\n    \t\t}\r\n    \t\tencodeIntoResponse(resp, factors);\r\n    \t}\r\n    }\r\n\r\nAccroding to book class &quot;VolatileCachedFactorizer&quot; is thread safe. Here is my reasoning why it is thread safe (Correct me if I am wrong.) Positin A and Position B are\r\ndoubtful positions.\r\n\r\nPosition A : As cache is pointing to immutable object , any function call is safe (right ?).\r\n\r\nPosition B : It can have two issue\r\n \r\na)Threads see cache improperly initialized . Not possible in this case as immutable object are guaranteed to be properly initialized (right ?).\r\n\r\nb)New assigned object not visible to other threads. Not possible is this case as cache is volatile (right ?).\r\n\r\nBut it is possible thread A call getFactors()  and other thread B reassign cache , in this case A will continue to see old object (right ?) ","title":"Doubts related to volatile , immutable objects, and their use to achieve synchronization","body":"<p>I was reading book \"java concurrency in practice\" and end up with some doubts after few pages.</p>\n\n<p>1) Voltile with non premitive data types :\n private volatile Student s; \nwhat is significance of volatile when it comes with non premitive data types  ? (I think in this case only think that is sure to be visible to all threads is what Strudent object s is pointing currently and it is possible one thread A modifies some internal member of student and that is not visible to other threads. Am I right ??)</p>\n\n<p>2)\nIs a variable can be immutable , even if internal members are not declared as final  ?? \nFor example :</p>\n\n<pre><code>Class  A {\n\n    private Set&lt;String&gt; s = new Set();\n    public A() {\n        s.add(\"Moe\");\n        s.add(\"Larry\");\n        s.add(\"Curly\");\n    }\n} \n</code></pre>\n\n<p>In this class do we need to make Set s final to make it immutable or this class is still immutable ? (because even in this case we can't change state of object after it is created).</p>\n\n<p>3 ) There is one example in book that shows how to use volatile and immutable class in combination to get synchronization. Before I put that question I have one more doubt.\nsuppose there is some function like this :</p>\n\n<pre><code>private Student s = new Student;\n\nvoid func() {\n    s.func2();      // 1\n    if(s.isPossible()) { //2\n        s = new Student(); //3      \n    }\n}\n</code></pre>\n\n<p>a)func2() acess internal members of s. Now consider Thread A entered into func2 after executing line 1 and Thread B same time reassign s with new object. When Thread A resumes\nwhat it will use new object or the old one ? ( suppose s initally points to memory location 100 (old object) and after a new object is assigned it started pointing to 200 (new object)\nthen when Thread A resumes it will acess address 100 or address 200).  </p>\n\n<p>b) If I make s volatile , will it make any difference to above case.</p>\n\n<p>4.) And here is last one </p>\n\n<pre><code>@Immutable\nclass OneValueCache {\n    private final BigInteger lastNumber;\n    private final BigInteger[] lastFactors;\n    public OneValueCache(BigInteger i,\n    BigInteger[] factors) {\n        lastNumber = i;\n        lastFactors = Arrays.copyOf(factors, factors.length);\n    }\n    public BigInteger[] getFactors(BigInteger i) {\n        if (lastNumber == null || !lastNumber.equals(i))\n            return null;\n        else\n            return Arrays.copyOf(lastFactors, lastFactors.length);\n    }\n}\n\n@ThreadSafe\npublic class VolatileCachedFactorizer implements Servlet {\n    private volatile OneValueCache cache = new OneValueCache(null, null);\n    public void service(ServletRequest req, ServletResponse resp) {\n        BigInteger i = extractFromRequest(req);\n        BigInteger[] factors = cache.getFactors(i); // Position A\n\n        if (factors == null) {\n            factors = factor(i);\n            cache = new OneValueCache(i, factors); // Position B\n        }\n        encodeIntoResponse(resp, factors);\n    }\n}\n</code></pre>\n\n<p>Accroding to book class \"VolatileCachedFactorizer\" is thread safe. Here is my reasoning why it is thread safe (Correct me if I am wrong.) Positin A and Position B are\ndoubtful positions.</p>\n\n<p>Position A : As cache is pointing to immutable object , any function call is safe (right ?).</p>\n\n<p>Position B : It can have two issue</p>\n\n<p>a)Threads see cache improperly initialized . Not possible in this case as immutable object are guaranteed to be properly initialized (right ?).</p>\n\n<p>b)New assigned object not visible to other threads. Not possible is this case as cache is volatile (right ?).</p>\n\n<p>But it is possible thread A call getFactors()  and other thread B reassign cache , in this case A will continue to see old object (right ?) </p>\n"},{"tags":["java","spring","spring-mvc"],"owner":{"account_id":2391768,"reputation":665,"user_id":2091487,"accept_rate":100,"display_name":"headlikearock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682603712,"creation_date":1680282623,"question_id":75901083,"body_markdown":"I&#39;m upgrading Spring versions and switching from using AbstractExcelView  to AbstractXlsxView. In AbstractExcelView I was able to set the url field to specify an excel document to start with. I don&#39;t see this option in the replacement classes (AbstractXlsxView, AbstractXlsView or  AbstractXlsxStreamingView). Here&#39;s an example of how it was specified in views.xml:\r\n\r\n    &lt;bean id=&quot;project.contact.list.report&quot;\r\n       \tclass=&quot;web.view.excel.reports.project.ProjectContactListReportExcelView&quot;&gt;\r\n       \t&lt;property name=&quot;url&quot; value=&quot;/WEB-INF/view/excel/reports/project/project_contact_list_report&quot;/&gt;\r\n    &lt;/bean&gt;","title":"How to set URL when switching from AbstractExcelView to AbstractXlsxView","body":"<p>I'm upgrading Spring versions and switching from using AbstractExcelView  to AbstractXlsxView. In AbstractExcelView I was able to set the url field to specify an excel document to start with. I don't see this option in the replacement classes (AbstractXlsxView, AbstractXlsView or  AbstractXlsxStreamingView). Here's an example of how it was specified in views.xml:</p>\n<pre><code>&lt;bean id=&quot;project.contact.list.report&quot;\n    class=&quot;web.view.excel.reports.project.ProjectContactListReportExcelView&quot;&gt;\n    &lt;property name=&quot;url&quot; value=&quot;/WEB-INF/view/excel/reports/project/project_contact_list_report&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","adobe","aem","aem-6"],"answers":[{"tags":[],"owner":{"account_id":70798,"reputation":2030,"user_id":204968,"display_name":"ronnyfm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628089819,"creation_date":1628089819,"answer_id":68653738,"question_id":68632900,"body_markdown":"Yeah, most likely the instance is corrupted. You can try using the oak-run tool to compact the repository and identify the last good segment: https://jackrabbit.apache.org/oak/docs/command_line.html\r\n\r\nIf this is a development environment, it would be quicker to start from scratch.","title":"AEM 6.5 - AuthenticationSupport service missing. Cannot authenticate request","body":"<p>Yeah, most likely the instance is corrupted. You can try using the oak-run tool to compact the repository and identify the last good segment: <a href=\"https://jackrabbit.apache.org/oak/docs/command_line.html\" rel=\"nofollow noreferrer\">https://jackrabbit.apache.org/oak/docs/command_line.html</a></p>\n<p>If this is a development environment, it would be quicker to start from scratch.</p>\n"},{"tags":[],"owner":{"account_id":25457033,"reputation":71,"user_id":19257497,"display_name":"Horacio"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1654182039,"creation_date":1654182039,"answer_id":72478329,"question_id":68632900,"body_markdown":"In my case, I was able to fix this issue by removing the following folder before starting the instance:\r\n\r\nrm -rf crx-quickstart/launchpad/config/org/apache/sling/jcr/repoinit","title":"AEM 6.5 - AuthenticationSupport service missing. Cannot authenticate request","body":"<p>In my case, I was able to fix this issue by removing the following folder before starting the instance:</p>\n<p>rm -rf crx-quickstart/launchpad/config/org/apache/sling/jcr/repoinit</p>\n"},{"tags":[],"owner":{"account_id":13141291,"reputation":130,"user_id":9492800,"display_name":"Pl&#224;cid Masvidal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682603675,"creation_date":1682603675,"answer_id":76121222,"question_id":68632900,"body_markdown":"I fix it by deleting the following:\r\n\r\ncrx-quickstart/repository/segmentstore/repo.lock\r\n\r\ncrx-quickstart/launchpad/felix/cache.lock\r\n\r\ncrx-quickstart/repository/index\r\n\r\ncrx-quickstart/launchpad/config/org/apache/sling/jcr/repoinit","title":"AEM 6.5 - AuthenticationSupport service missing. Cannot authenticate request","body":"<p>I fix it by deleting the following:</p>\n<p>crx-quickstart/repository/segmentstore/repo.lock</p>\n<p>crx-quickstart/launchpad/felix/cache.lock</p>\n<p>crx-quickstart/repository/index</p>\n<p>crx-quickstart/launchpad/config/org/apache/sling/jcr/repoinit</p>\n"}],"owner":{"account_id":9126685,"reputation":614,"user_id":6790065,"accept_rate":67,"display_name":"Thilina Dinith Fonseka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14493,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1682603675,"creation_date":1627980171,"question_id":68632900,"body_markdown":"im always getting this error in my local environment up. \r\n\r\n    HTTP ERROR 503 AuthenticationSupport service missing. Cannot authenticate the request.\r\n    URI:\t/\r\n    STATUS:\t503\r\n    MESSAGE:\tAuthenticationSupport service missing. Cannot authenticate the request.\r\n    SERVLET:\torg.apache.felix.http.base.internal.dispatch.DispatcherServlet-7eebf294\r\n\r\nthere is a suggestion to remove index files in crx-start/repository folder but it didn&#39;t work out for me. not able to access the login page even ","title":"AEM 6.5 - AuthenticationSupport service missing. Cannot authenticate request","body":"<p>im always getting this error in my local environment up.</p>\n<pre><code>HTTP ERROR 503 AuthenticationSupport service missing. Cannot authenticate the request.\nURI:    /\nSTATUS: 503\nMESSAGE:    AuthenticationSupport service missing. Cannot authenticate the request.\nSERVLET:    org.apache.felix.http.base.internal.dispatch.DispatcherServlet-7eebf294\n</code></pre>\n<p>there is a suggestion to remove index files in crx-start/repository folder but it didn't work out for me. not able to access the login page even</p>\n"},{"tags":["java","spring-boot","maven","build"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1679847573,"post_id":75848977,"comment_id":133790229,"body_markdown":"https://stackoverflow.com/q/38882080/927493","body":"<a href=\"https://stackoverflow.com/q/38882080/927493\">stackoverflow.com/q/38882080/927493</a>"},{"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1679848509,"post_id":75848977,"comment_id":133790390,"body_markdown":"@JFabianMeier that Q has extensive answer, however it does not answer this question How java.version property works?","body":"@JFabianMeier that Q has extensive answer, however it does not answer this question How java.version property works?"},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1679848774,"post_id":75848977,"comment_id":133790435,"body_markdown":"Spring Boot doesn&#39;t process the value, the compiler does. The question does not make any sense.","body":"Spring Boot doesn&#39;t process the value, the compiler does. The question does not make any sense."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1679849365,"post_id":75848977,"comment_id":133790533,"body_markdown":"The default java compiler level defined in Spring Boot Starter Parent is (still) the 1.8 The property overrides this default. In your example to 17.","body":"The default java compiler level defined in Spring Boot Starter Parent is (still) the 1.8 The property overrides this default. In your example to 17."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679856178,"post_id":75848977,"comment_id":133791671,"body_markdown":"Starting with Spring Boot 3.0 the value is given with `17` (https://repo1.maven.org/maven2/org/springframework/boot/spring-boot-starter-parent/3.0.5/spring-boot-starter-parent-3.0.5.pom)","body":"Starting with Spring Boot 3.0 the value is given with <code>17</code> (<a href=\"https://repo1.maven.org/maven2/org/springframework/boot/spring-boot-starter-parent/3.0.5/spring-boot-starter-parent-3.0.5.pom\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/org/springframework/boot/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679850493,"creation_date":1679849229,"answer_id":75849183,"question_id":75848977,"body_markdown":"spring-boot-starter-parent uses `java.version` property to set value for both `maven.compiler.source` and `maven.compiler.target`\r\n\r\n```xml\r\n  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n  &lt;name&gt;spring-boot-starter-parent&lt;/name&gt;\r\n  &lt;description&gt;Parent pom providing dependency and plugin management for applications built with Maven&lt;/description&gt;\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;resource.delimiter&gt;@&lt;/resource.delimiter&gt;\r\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n  &lt;/properties&gt;\r\n```\r\n\r\nSources\r\n\r\nhttps://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-starters/spring-boot-starter-parent/build.gradle#L20-L30\r\n\r\nP.S. It is likely that Spring Boot 3.1 will switch to\r\n`maven.compiler.release` instead:  \r\nhttps://github.com/spring-projects/spring-boot/pull/34761","title":"how maven &lt;java.version&gt; property is processed by Spring Boot build?","body":"<p>spring-boot-starter-parent uses <code>java.version</code> property to set value for both <code>maven.compiler.source</code> and <code>maven.compiler.target</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  &lt;name&gt;spring-boot-starter-parent&lt;/name&gt;\n  &lt;description&gt;Parent pom providing dependency and plugin management for applications built with Maven&lt;/description&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;resource.delimiter&gt;@&lt;/resource.delimiter&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n  &lt;/properties&gt;\n</code></pre>\n<p>Sources</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-starters/spring-boot-starter-parent/build.gradle#L20-L30\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-starters/spring-boot-starter-parent/build.gradle#L20-L30</a></p>\n<p>P.S. It is likely that Spring Boot 3.1 will switch to\n<code>maven.compiler.release</code> instead:<br />\n<a href=\"https://github.com/spring-projects/spring-boot/pull/34761\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/pull/34761</a></p>\n"}],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":815,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75849183,"answer_count":1,"score":0,"last_activity_date":1682603649,"creation_date":1679847346,"question_id":75848977,"body_markdown":"With Spring Boot (built with maven)  \r\nit is common to specify Java version in `pom.xml` as\r\n\r\n```xml\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n```\r\n\r\nHowever from Spring Boot Maven Plugin Documentation  \r\nhttps://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/\r\nhas nothing related to Java compilation.\r\n\r\n**How `java.version` property is processed by Spring Boot build?**","title":"how maven &lt;java.version&gt; property is processed by Spring Boot build?","body":"<p>With Spring Boot (built with maven)<br />\nit is common to specify Java version in <code>pom.xml</code> as</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>However from Spring Boot Maven Plugin Documentation<br />\n<a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.7.x/maven-plugin/reference/htmlsingle/</a>\nhas nothing related to Java compilation.</p>\n<p><strong>How <code>java.version</code> property is processed by Spring Boot build?</strong></p>\n"},{"tags":["java","server","nanohttpd"],"comments":[{"owner":{"account_id":1197724,"reputation":4404,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":0,"creation_date":1682541673,"post_id":76114739,"comment_id":134234407,"body_markdown":"We need to see your code in order to help you fix it.","body":"We need to see your code in order to help you fix it."},{"owner":{"account_id":10945010,"reputation":71,"user_id":8043456,"display_name":"No&#233; Otero Mateo"},"score":0,"creation_date":1682542122,"post_id":76114739,"comment_id":134234469,"body_markdown":"I have already added the code. Thanks for the suggestion.","body":"I have already added the code. Thanks for the suggestion."}],"answers":[{"tags":[],"owner":{"account_id":10893719,"reputation":16,"user_id":16710897,"display_name":"Rodrigo Peixoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682554044,"creation_date":1682544834,"answer_id":76115264,"question_id":76114739,"body_markdown":"\r\n\r\nTo include static content such as images and JavaScript in the HTML response, you can create a directory within your project to store these files. Let&#39;s call it `static`.\r\n\r\nNext, you need to serve the static content files from this directory. You can do this by creating a `StaticFileServer` class that extends the `NanoHTTPD` class and overrides the `serve()` method. In the `serve()` method, you can check if the requested URI starts with the string &quot;/static&quot; and if so, serve the corresponding file from the `static` directory. Here&#39;s an example:\r\n\r\n    ```java\r\n    import fi.iki.elonen.NanoHTTPD;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    public class StaticFileServer extends NanoHTTPD {\r\n        private final String staticDir;\r\n    \r\n        public StaticFileServer(int port, String staticDir) {\r\n            super(port);\r\n            this.staticDir = staticDir;\r\n        }\r\n    \r\n        @Override\r\n        public Response serve(IHTTPSession session) {\r\n            String uri = session.getUri();\r\n            if (uri.startsWith(&quot;/static&quot;)) {\r\n                String filePath = staticDir + uri.substring(7); // Remove &quot;/static&quot; prefix\r\n                try {\r\n                    InputStream inputStream = new FileInputStream(filePath);\r\n                    return newChunkedResponse(Response.Status.OK, getMimeType(filePath), inputStream);\r\n                } catch (IOException e) {\r\n                    return newFixedLengthResponse(Response.Status.NOT_FOUND, NanoHTTPD.MIME_PLAINTEXT, &quot;File not found&quot;);\r\n                }\r\n            } else {\r\n                // Handle other requests here\r\n            }\r\n        }\r\n    \r\n        private String getMimeType(String filePath) {\r\n            if (filePath.endsWith(&quot;.html&quot;)) {\r\n                return NanoHTTPD.MIME_HTML;\r\n            } else if (filePath.endsWith(&quot;.css&quot;)) {\r\n                return &quot;text/css&quot;;\r\n            } else if (filePath.endsWith(&quot;.js&quot;)) {\r\n                return &quot;application/javascript&quot;;\r\n            } else if (filePath.endsWith(&quot;.png&quot;)) {\r\n                return &quot;image/png&quot;;\r\n            } else if (filePath.endsWith(&quot;.jpg&quot;) || filePath.endsWith(&quot;.jpeg&quot;)) {\r\n                return &quot;image/jpeg&quot;;\r\n            } else if (filePath.endsWith(&quot;.gif&quot;)) {\r\n                return &quot;image/gif&quot;;\r\n            } else {\r\n                return NanoHTTPD.MIME_DEFAULT_BINARY;\r\n            }\r\n        }\r\n    }\r\n    ```\r\n\r\nIn the `serve()` method, we check if the URI starts with &quot;/static&quot;. If it does, we construct the file path by removing the &quot;/static&quot; prefix and appending it to the `staticDir` path. Then we open an input stream to read the file and return a `ChunkedResponse` with the file&#39;s MIME type. If the file is not found, we return a 404 Not Found response.\r\n\r\nNow that we have our `StaticFileServer` class, we can use it to serve our static files. In your main HTTP server program, you can create an instance of the `StaticFileServer` class and pass in the port and the path to the `static` directory. Then, in the `serve()` method of your main HTTP server program, you can generate the HTML response and include references to the static files using their URLs:\r\n\r\n    ```java\r\n    public class MainServer extends NanoHTTPD {\r\n        private static final int PORT = 8080;\r\n        private static final String STATIC_DIR = &quot;static&quot;;\r\n    \r\n        public MainServer() {\r\n            super(PORT);\r\n        }\r\n    \r\n        @Override\r\n        public Response serve(IHTTPSession session) {\r\n            String uri = session.getUri();\r\n            if (uri.equals(&quot;/&quot;)) {\r\n                // Generate HTML response with references to static files\r\n                String responseHtml = &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;Home&lt;/title&gt;&quot; +\r\n                                      &quot;&lt;link rel=\\&quot;stylesheet\\&quot; href=\\&quot;/static/style.css\\&quot;&gt;&quot; +\r\n                                      &quot;&lt;script src=\\&quot;/static/script.js\\&quot;&gt;&lt;/script&gt;&lt;/head&gt;&quot; +\r\n                                      &quot;&lt;body\r\n\r\n\r\n","title":"Extending NanoHTTPD","body":"<p>To include static content such as images and JavaScript in the HTML response, you can create a directory within your project to store these files. Let's call it <code>static</code>.</p>\n<p>Next, you need to serve the static content files from this directory. You can do this by creating a <code>StaticFileServer</code> class that extends the <code>NanoHTTPD</code> class and overrides the <code>serve()</code> method. In the <code>serve()</code> method, you can check if the requested URI starts with the string &quot;/static&quot; and if so, serve the corresponding file from the <code>static</code> directory. Here's an example:</p>\n<pre><code>```java\nimport fi.iki.elonen.NanoHTTPD;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class StaticFileServer extends NanoHTTPD {\n    private final String staticDir;\n\n    public StaticFileServer(int port, String staticDir) {\n        super(port);\n        this.staticDir = staticDir;\n    }\n\n    @Override\n    public Response serve(IHTTPSession session) {\n        String uri = session.getUri();\n        if (uri.startsWith(&quot;/static&quot;)) {\n            String filePath = staticDir + uri.substring(7); // Remove &quot;/static&quot; prefix\n            try {\n                InputStream inputStream = new FileInputStream(filePath);\n                return newChunkedResponse(Response.Status.OK, getMimeType(filePath), inputStream);\n            } catch (IOException e) {\n                return newFixedLengthResponse(Response.Status.NOT_FOUND, NanoHTTPD.MIME_PLAINTEXT, &quot;File not found&quot;);\n            }\n        } else {\n            // Handle other requests here\n        }\n    }\n\n    private String getMimeType(String filePath) {\n        if (filePath.endsWith(&quot;.html&quot;)) {\n            return NanoHTTPD.MIME_HTML;\n        } else if (filePath.endsWith(&quot;.css&quot;)) {\n            return &quot;text/css&quot;;\n        } else if (filePath.endsWith(&quot;.js&quot;)) {\n            return &quot;application/javascript&quot;;\n        } else if (filePath.endsWith(&quot;.png&quot;)) {\n            return &quot;image/png&quot;;\n        } else if (filePath.endsWith(&quot;.jpg&quot;) || filePath.endsWith(&quot;.jpeg&quot;)) {\n            return &quot;image/jpeg&quot;;\n        } else if (filePath.endsWith(&quot;.gif&quot;)) {\n            return &quot;image/gif&quot;;\n        } else {\n            return NanoHTTPD.MIME_DEFAULT_BINARY;\n        }\n    }\n}\n```\n</code></pre>\n<p>In the <code>serve()</code> method, we check if the URI starts with &quot;/static&quot;. If it does, we construct the file path by removing the &quot;/static&quot; prefix and appending it to the <code>staticDir</code> path. Then we open an input stream to read the file and return a <code>ChunkedResponse</code> with the file's MIME type. If the file is not found, we return a 404 Not Found response.</p>\n<p>Now that we have our <code>StaticFileServer</code> class, we can use it to serve our static files. In your main HTTP server program, you can create an instance of the <code>StaticFileServer</code> class and pass in the port and the path to the <code>static</code> directory. Then, in the <code>serve()</code> method of your main HTTP server program, you can generate the HTML response and include references to the static files using their URLs:</p>\n<pre><code>```java\npublic class MainServer extends NanoHTTPD {\n    private static final int PORT = 8080;\n    private static final String STATIC_DIR = &quot;static&quot;;\n\n    public MainServer() {\n        super(PORT);\n    }\n\n    @Override\n    public Response serve(IHTTPSession session) {\n        String uri = session.getUri();\n        if (uri.equals(&quot;/&quot;)) {\n            // Generate HTML response with references to static files\n            String responseHtml = &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;Home&lt;/title&gt;&quot; +\n                                  &quot;&lt;link rel=\\&quot;stylesheet\\&quot; href=\\&quot;/static/style.css\\&quot;&gt;&quot; +\n                                  &quot;&lt;script src=\\&quot;/static/script.js\\&quot;&gt;&lt;/script&gt;&lt;/head&gt;&quot; +\n                                  &quot;&lt;body\n</code></pre>\n"}],"owner":{"account_id":10945010,"reputation":71,"user_id":8043456,"display_name":"No&#233; Otero Mateo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76115264,"answer_count":1,"score":0,"last_activity_date":1682603626,"creation_date":1682539976,"question_id":76114739,"body_markdown":"I need to write a HTTP server program in Java that\r\n\r\n - Process SOME requests (i.e, having certain parameters) to store some data sent from clients, and.\r\n - The rest of requests show a &quot;home&quot; page, showing the data received from the clients.\r\n\r\nThe problem is, in the &quot;home&quot; page I want to show a page that uses local images or JavaScript, and I don&#39;t know how to make it work. I mean, I have seen the example in NanoHTTPD home page and it works great, but where should I place the static content (images, js) to be included in the HTML I generate as a response?\r\n\r\nCode added as per request.\r\n\r\n@nicomp, this example is an adaptation from the example code in https://github.com/NanoHttpd/nanohttpd. The image monkey.png is not served (it appears as a broken img in the browser).\r\n\r\n```java\r\npublic class Main extends NanoHTTPD {\r\n\r\n    public Main() throws IOException {\r\n        super(8080);\r\n        start(NanoHTTPD.SOCKET_READ_TIMEOUT, false);\r\n        System.out.println(&quot;\\nRunning! Point your browsers to http://localhost:8080/ \\n&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            new Main();\r\n        } catch (IOException ioe) {\r\n            System.err.println(&quot;Couldn&#39;t start server:\\n&quot; + ioe);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Response serve(IHTTPSession session) {\r\n        String msg = &quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello server&lt;/h1&gt;\\n&quot;;\r\n        msg += &quot;&lt;img src=\\&quot;monkey.png\\&quot;&gt;&quot;;\r\n        return newFixedLengthResponse(msg + &quot;&lt;/body&gt;&lt;/html&gt;\\n&quot;);\r\n    }\r\n}\r\n```","title":"Extending NanoHTTPD","body":"<p>I need to write a HTTP server program in Java that</p>\n<ul>\n<li>Process SOME requests (i.e, having certain parameters) to store some data sent from clients, and.</li>\n<li>The rest of requests show a &quot;home&quot; page, showing the data received from the clients.</li>\n</ul>\n<p>The problem is, in the &quot;home&quot; page I want to show a page that uses local images or JavaScript, and I don't know how to make it work. I mean, I have seen the example in NanoHTTPD home page and it works great, but where should I place the static content (images, js) to be included in the HTML I generate as a response?</p>\n<p>Code added as per request.</p>\n<p>@nicomp, this example is an adaptation from the example code in <a href=\"https://github.com/NanoHttpd/nanohttpd\" rel=\"nofollow noreferrer\">https://github.com/NanoHttpd/nanohttpd</a>. The image monkey.png is not served (it appears as a broken img in the browser).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main extends NanoHTTPD {\n\n    public Main() throws IOException {\n        super(8080);\n        start(NanoHTTPD.SOCKET_READ_TIMEOUT, false);\n        System.out.println(&quot;\\nRunning! Point your browsers to http://localhost:8080/ \\n&quot;);\n    }\n\n    public static void main(String[] args) {\n        try {\n            new Main();\n        } catch (IOException ioe) {\n            System.err.println(&quot;Couldn't start server:\\n&quot; + ioe);\n        }\n    }\n\n    @Override\n    public Response serve(IHTTPSession session) {\n        String msg = &quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello server&lt;/h1&gt;\\n&quot;;\n        msg += &quot;&lt;img src=\\&quot;monkey.png\\&quot;&gt;&quot;;\n        return newFixedLengthResponse(msg + &quot;&lt;/body&gt;&lt;/html&gt;\\n&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","sockets","websocket","socket.io"],"answers":[{"tags":[],"owner":{"account_id":6238794,"reputation":10830,"user_id":4853133,"accept_rate":0,"display_name":"Quick learner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1617093540,"creation_date":1617093540,"answer_id":66867449,"question_id":66865612,"body_markdown":"**I would suggest you to do these following things:-**\r\n\r\n&gt; 1) Check your socket is correct and working , you can check it in any\r\n&gt; website or software to make sure socket is being connected. If your\r\n&gt; socket url is working then do this second step.\r\n&gt; \r\n&gt; 2) Initialise and connect socket in application class like this.\r\n\r\n  a) Mention application class in manifest.\r\n\r\n  b) Create a class and use this class in your project\r\n\r\n\r\n    import io.socket.client.IO;\r\n    import io.socket.client.Socket;\r\n    import io.socket.emitter.Emitter;\r\n    \r\n    \r\n    public class ApplicationClass extends Application {\r\n        public static final String TAG = ApplicationClass.class.getSimpleName();\r\n        private static ApplicationClass mInstance;\r\n        public static io.socket.client.Socket mSocket;\r\n    \r\n        @Override\r\n        protected void attachBaseContext(Context base) {\r\n            super.attachBaseContext(base);\r\n            MultiDex.install(base);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            initializeSocket();\r\n            mInstance = this;\r\n        }\r\n    \r\n        private void initializeSocket() {\r\n            IO.Options options = new IO.Options();\r\n            options.forceNew = true;\r\n            options.reconnection = true;\r\n            options.reconnectionDelay = 2000;\r\n            options.reconnectionDelayMax = 5000;\r\n            try {\r\n                mSocket = IO.socket(WebAPIUrls.SOCKET_URL);\r\n                mSocket.on(Socket.EVENT_CONNECT, onConnect);\r\n                mSocket.on(Socket.EVENT_CONNECT_ERROR, onConnectError);\r\n                mSocket.on(Socket.EVENT_CONNECT_TIMEOUT, onConnectError);\r\n                mSocket.on(Socket.EVENT_DISCONNECT, onDisconnect);\r\n                if(!mSocket.connected()){\r\n                    mSocket.connect();\r\n                }\r\n            } catch (URISyntaxException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n        }\r\n        public Emitter.Listener onConnect = new Emitter.Listener() {\r\n            @Override\r\n            public void call(Object... args) {\r\n                Log.d(TAG, &quot;Socket Connected!&quot;);\r\n            }\r\n        };\r\n    \r\n        private Emitter.Listener onConnectError = new Emitter.Listener() {\r\n            @Override\r\n            public void call(Object... args) {\r\n                Log.d(TAG, &quot;onConnectError&quot;);\r\n            }\r\n        };\r\n        private Emitter.Listener onDisconnect = new Emitter.Listener() {\r\n            @Override\r\n            public void call(Object... args) {\r\n                Log.d(TAG, &quot;onDisconnect&quot;);\r\n               /* if(!mSocket.connected()){\r\n                    mSocket.connect();\r\n                }*/\r\n            }\r\n        };\r\n       \r\n    \r\n        public static synchronized ApplicationClass getInstance() {\r\n            ApplicationClass appController;\r\n            synchronized (ApplicationClass.class) {\r\n                appController = mInstance;\r\n            }\r\n            return appController;\r\n        }\r\n       \r\n        public static Socket returnSocketInstance() {\r\n            return mSocket;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Socket.io is not connecting in android, How to connect socket in android?","body":"<p><strong>I would suggest you to do these following things:-</strong></p>\n<blockquote>\n<ol>\n<li><p>Check your socket is correct and working , you can check it in any\nwebsite or software to make sure socket is being connected. If your\nsocket url is working then do this second step.</p>\n</li>\n<li><p>Initialise and connect socket in application class like this.</p>\n</li>\n</ol>\n</blockquote>\n<p>a) Mention application class in manifest.</p>\n<p>b) Create a class and use this class in your project</p>\n<pre><code>import io.socket.client.IO;\nimport io.socket.client.Socket;\nimport io.socket.emitter.Emitter;\n\n\npublic class ApplicationClass extends Application {\n    public static final String TAG = ApplicationClass.class.getSimpleName();\n    private static ApplicationClass mInstance;\n    public static io.socket.client.Socket mSocket;\n\n    @Override\n    protected void attachBaseContext(Context base) {\n        super.attachBaseContext(base);\n        MultiDex.install(base);\n\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        initializeSocket();\n        mInstance = this;\n    }\n\n    private void initializeSocket() {\n        IO.Options options = new IO.Options();\n        options.forceNew = true;\n        options.reconnection = true;\n        options.reconnectionDelay = 2000;\n        options.reconnectionDelayMax = 5000;\n        try {\n            mSocket = IO.socket(WebAPIUrls.SOCKET_URL);\n            mSocket.on(Socket.EVENT_CONNECT, onConnect);\n            mSocket.on(Socket.EVENT_CONNECT_ERROR, onConnectError);\n            mSocket.on(Socket.EVENT_CONNECT_TIMEOUT, onConnectError);\n            mSocket.on(Socket.EVENT_DISCONNECT, onDisconnect);\n            if(!mSocket.connected()){\n                mSocket.connect();\n            }\n        } catch (URISyntaxException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n    public Emitter.Listener onConnect = new Emitter.Listener() {\n        @Override\n        public void call(Object... args) {\n            Log.d(TAG, &quot;Socket Connected!&quot;);\n        }\n    };\n\n    private Emitter.Listener onConnectError = new Emitter.Listener() {\n        @Override\n        public void call(Object... args) {\n            Log.d(TAG, &quot;onConnectError&quot;);\n        }\n    };\n    private Emitter.Listener onDisconnect = new Emitter.Listener() {\n        @Override\n        public void call(Object... args) {\n            Log.d(TAG, &quot;onDisconnect&quot;);\n           /* if(!mSocket.connected()){\n                mSocket.connect();\n            }*/\n        }\n    };\n   \n\n    public static synchronized ApplicationClass getInstance() {\n        ApplicationClass appController;\n        synchronized (ApplicationClass.class) {\n            appController = mInstance;\n        }\n        return appController;\n    }\n   \n    public static Socket returnSocketInstance() {\n        return mSocket;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":16140350,"reputation":15,"user_id":11651689,"display_name":"Nazibul Alam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1777,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66867449,"answer_count":1,"score":1,"last_activity_date":1682603176,"creation_date":1617084621,"question_id":66865612,"body_markdown":"I&#39;m new to socket.io\r\nI have tried everything I came across but still it&#39;s false when is use the connected() function.\r\n\r\nI&#39;ve checked the permissions I have both of :\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt; &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nI have also used : `android:usesCleartextTraffic=&quot;true&quot;`\r\n\r\nThis is my code:\r\n\r\n    public class LoginFragment extends Fragment {\r\n    \r\n        FragmentLoginBinding binding;\r\n        private NavController controller;\r\n        private Socket socket;\r\n        {\r\n            try {\r\n                socket = IO.socket(TimeAndData.getSocketURL());// it&#39;s something like this &quot;http://xxx.xxx.xxx.xxx:xxxx&quot;\r\n            } catch (URISyntaxException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n    \r\n    \r\n            controller = Navigation.getInstance().getController();\r\n            binding = FragmentLoginBinding.inflate(getLayoutInflater(),container,false);\r\n    \r\n            socket.connect();\r\n    \r\n            binding.loginBtn.setOnClickListener(v -&gt; {\r\n                if(!binding.etUsername.getText().toString().isEmpty()) {\r\n                    if(!binding.etPass.getText().toString().isEmpty()) {\r\n                        binding.loginBtn.setClickable(false);\r\n                        submit();\r\n                    }\r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n            return binding.getRoot();\r\n        }\r\n    \r\n        private void submit() {\r\n            binding.progressBar.setVisibility(View.VISIBLE);\r\n            RequestQueue rq = Volley.newRequestQueue(requireContext());\r\n    \r\n            StringRequest jor = new StringRequest(Request.Method.POST, TimeAndData.getLoginURL(), responseStr -&gt;  {\r\n    \r\n                JsonObject object = new Gson().fromJson(responseStr, JsonObject.class);\r\n                binding.progressBar.setVisibility(View.GONE);\r\n                if(object.get(&quot;status&quot;).getAsInt()==200) {\r\n    \r\n                    TimeAndData.setDisplayName(object.get(&quot;displayName&quot;).getAsString());\r\n                    TimeAndData.setBalance(object.get(&quot;balance&quot;).getAsString());\r\n                    TimeAndData.setFullName(object.get(&quot;fullName&quot;).getAsString());\r\n                    TimeAndData.setUserId(object.get(&quot;userId&quot;).getAsString());\r\n                    TimeAndData.setUserName(object.get(&quot;userName&quot;).getAsString());\r\n    \r\n    \r\n                    initSocket(object.get(&quot;userId&quot;).getAsString());\r\n    \r\n                    //controller.navigate(R.id.navigation_choice);\r\n                }else if(object.get(&quot;status&quot;).getAsInt()==401){\r\n                    Toast toast = Toast.makeText(requireContext(), object.get(&quot;msg&quot;).getAsString(),Toast.LENGTH_SHORT);\r\n                    toast.setGravity(Gravity.TOP,0,0);\r\n                    toast.show();\r\n                    binding.progressBar.setVisibility(View.GONE);\r\n                    binding.loginBtn.setClickable(true);\r\n                }else {\r\n                    Toast toast = Toast.makeText(requireContext(), &quot;Internal Server Error&quot;,Toast.LENGTH_SHORT);\r\n                    toast.setGravity(Gravity.TOP,0,0);\r\n                    toast.show();\r\n                    binding.progressBar.setVisibility(View.GONE);\r\n                    binding.loginBtn.setClickable(true);\r\n                }\r\n    \r\n    \r\n            }, error -&gt; Toast.makeText(getContext(), error.getMessage(), Toast.LENGTH_SHORT).show()){\r\n                @Override\r\n                public String getBodyContentType() {\r\n                    return &quot;application/x-www-form-urlencoded&quot;;\r\n                }\r\n    \r\n                @Override\r\n                protected Map&lt;String, String&gt; getParams()\r\n                {\r\n                    Map&lt;String, String&gt;  params = new HashMap&lt;&gt;();\r\n                    params.put(&quot;userName&quot;, binding.etUsername.getText().toString());\r\n                    params.put(&quot;password&quot;, binding.etPass.getText().toString());\r\n    \r\n                    return params;\r\n                }\r\n            };\r\n    \r\n            rq.add(jor);\r\n        }\r\n    \r\n        private void initSocket(String agent_id) {\r\n    \r\n    \r\n            \r\n            Toast toast = Toast.makeText(requireContext(), String.valueOf(socket.connected()),Toast.LENGTH_SHORT);//shows false\r\n            toast.setGravity(Gravity.TOP,0,0);\r\n            toast.show();\r\n    }\r\n\r\nWhat am I doing wrong here? I&#39;m stuck here and I have deadline tomorrow","title":"Socket.io is not connecting in android, How to connect socket in android?","body":"<p>I'm new to socket.io\nI have tried everything I came across but still it's false when is use the connected() function.</p>\n<p>I've checked the permissions I have both of :</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt; &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>I have also used : <code>android:usesCleartextTraffic=&quot;true&quot;</code></p>\n<p>This is my code:</p>\n<pre><code>public class LoginFragment extends Fragment {\n\n    FragmentLoginBinding binding;\n    private NavController controller;\n    private Socket socket;\n    {\n        try {\n            socket = IO.socket(TimeAndData.getSocketURL());// it's something like this &quot;http://xxx.xxx.xxx.xxx:xxxx&quot;\n        } catch (URISyntaxException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n\n        controller = Navigation.getInstance().getController();\n        binding = FragmentLoginBinding.inflate(getLayoutInflater(),container,false);\n\n        socket.connect();\n\n        binding.loginBtn.setOnClickListener(v -&gt; {\n            if(!binding.etUsername.getText().toString().isEmpty()) {\n                if(!binding.etPass.getText().toString().isEmpty()) {\n                    binding.loginBtn.setClickable(false);\n                    submit();\n                }\n            }\n        });\n\n\n\n        return binding.getRoot();\n    }\n\n    private void submit() {\n        binding.progressBar.setVisibility(View.VISIBLE);\n        RequestQueue rq = Volley.newRequestQueue(requireContext());\n\n        StringRequest jor = new StringRequest(Request.Method.POST, TimeAndData.getLoginURL(), responseStr -&gt;  {\n\n            JsonObject object = new Gson().fromJson(responseStr, JsonObject.class);\n            binding.progressBar.setVisibility(View.GONE);\n            if(object.get(&quot;status&quot;).getAsInt()==200) {\n\n                TimeAndData.setDisplayName(object.get(&quot;displayName&quot;).getAsString());\n                TimeAndData.setBalance(object.get(&quot;balance&quot;).getAsString());\n                TimeAndData.setFullName(object.get(&quot;fullName&quot;).getAsString());\n                TimeAndData.setUserId(object.get(&quot;userId&quot;).getAsString());\n                TimeAndData.setUserName(object.get(&quot;userName&quot;).getAsString());\n\n\n                initSocket(object.get(&quot;userId&quot;).getAsString());\n\n                //controller.navigate(R.id.navigation_choice);\n            }else if(object.get(&quot;status&quot;).getAsInt()==401){\n                Toast toast = Toast.makeText(requireContext(), object.get(&quot;msg&quot;).getAsString(),Toast.LENGTH_SHORT);\n                toast.setGravity(Gravity.TOP,0,0);\n                toast.show();\n                binding.progressBar.setVisibility(View.GONE);\n                binding.loginBtn.setClickable(true);\n            }else {\n                Toast toast = Toast.makeText(requireContext(), &quot;Internal Server Error&quot;,Toast.LENGTH_SHORT);\n                toast.setGravity(Gravity.TOP,0,0);\n                toast.show();\n                binding.progressBar.setVisibility(View.GONE);\n                binding.loginBtn.setClickable(true);\n            }\n\n\n        }, error -&gt; Toast.makeText(getContext(), error.getMessage(), Toast.LENGTH_SHORT).show()){\n            @Override\n            public String getBodyContentType() {\n                return &quot;application/x-www-form-urlencoded&quot;;\n            }\n\n            @Override\n            protected Map&lt;String, String&gt; getParams()\n            {\n                Map&lt;String, String&gt;  params = new HashMap&lt;&gt;();\n                params.put(&quot;userName&quot;, binding.etUsername.getText().toString());\n                params.put(&quot;password&quot;, binding.etPass.getText().toString());\n\n                return params;\n            }\n        };\n\n        rq.add(jor);\n    }\n\n    private void initSocket(String agent_id) {\n\n\n        \n        Toast toast = Toast.makeText(requireContext(), String.valueOf(socket.connected()),Toast.LENGTH_SHORT);//shows false\n        toast.setGravity(Gravity.TOP,0,0);\n        toast.show();\n}\n</code></pre>\n<p>What am I doing wrong here? I'm stuck here and I have deadline tomorrow</p>\n"},{"tags":["java","junit","mockito","junit4"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1682538043,"post_id":76113844,"comment_id":134233729,"body_markdown":"Please don&#39;t post the same question over and over: [1](https://stackoverflow.com/questions/76106454/how-to-do-a-unit-test-with-junit-and-mockito-in-java-on-methods-that-read-a-path), [2](https://stackoverflow.com/questions/76105752/how-to-do-a-unit-test-with-junit-and-mockito-in-java-on-methods-that-prefer-date), [3](https://stackoverflow.com/questions/76103872/how-to-do-a-unit-test-with-junit-and-mockito-in-java-on-methods-that-i-need-to-t), [4](https://stackoverflow.com/questions/76103154/how-to-make-a-unit-test-with-junit-and-mockito-in-java)","body":"Please don&#39;t post the same question over and over: <a href=\"https://stackoverflow.com/questions/76106454/how-to-do-a-unit-test-with-junit-and-mockito-in-java-on-methods-that-read-a-path\">1</a>, <a href=\"https://stackoverflow.com/questions/76105752/how-to-do-a-unit-test-with-junit-and-mockito-in-java-on-methods-that-prefer-date\">2</a>, <a href=\"https://stackoverflow.com/questions/76103872/how-to-do-a-unit-test-with-junit-and-mockito-in-java-on-methods-that-i-need-to-t\">3</a>, <a href=\"https://stackoverflow.com/questions/76103154/how-to-make-a-unit-test-with-junit-and-mockito-in-java\">4</a>"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1682538262,"post_id":76113844,"comment_id":134233766,"body_markdown":"If you don&#39;t get an answer, try to refine your question, include what you have already tried and how that didn&#39;t work. See [ask].","body":"If you don&#39;t get an answer, try to refine your question, include what you have already tried and how that didn&#39;t work. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1682538854,"post_id":76113844,"comment_id":134233867,"body_markdown":"It&#39;s also not clear to me what you want to test. That the file name gets built correctly? That errors get logged? That the file must not exist? Something else?","body":"It&#39;s also not clear to me what you want to test. That the file name gets built correctly? That errors get logged? That the file must not exist? Something else?"},{"owner":{"account_id":19287101,"reputation":9,"user_id":20296892,"display_name":"Jonathan Ortiz"},"score":0,"creation_date":1682539239,"post_id":76113844,"comment_id":134233937,"body_markdown":"Robert With respect to your first comment, I changed the question to see if it explained a little better and basically to this question that I updated, I only need to verify that the file is really being created in such a path and that if it exists, delete it and create it again","body":"Robert With respect to your first comment, I changed the question to see if it explained a little better and basically to this question that I updated, I only need to verify that the file is really being created in such a path and that if it exists, delete it and create it again"},{"owner":{"account_id":19287101,"reputation":9,"user_id":20296892,"display_name":"Jonathan Ortiz"},"score":0,"creation_date":1682539501,"post_id":76113844,"comment_id":134233987,"body_markdown":"Robert Regarding your second comment and the question that was before this one that I just updated, if it only required checking that the file really exists in such a path and likewise checking the case in which it does not exist, then return empty","body":"Robert Regarding your second comment and the question that was before this one that I just updated, if it only required checking that the file really exists in such a path and likewise checking the case in which it does not exist, then return empty"}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682580977,"creation_date":1682580257,"answer_id":76117775,"question_id":76113844,"body_markdown":"Just check if `file.createNewFile()` calls\r\n\r\n     @Test\r\n     public void testGetFilePE() {\r\n     File file = mock(File.class)\r\n     yourMockedService.getFilePE(&quot;String&quot;); \r\n     verify(file).createNewFile();\r\n    }\r\n\r\nThen if you need to test all cases. Like `else` statement or `catch` block. You will need to simulate throwing errors and mock `if` statemement","title":"How to test a method using Junit and Mockito in Java on a method that creates a file in such a path","body":"<p>Just check if <code>file.createNewFile()</code> calls</p>\n<pre><code> @Test\n public void testGetFilePE() {\n File file = mock(File.class)\n yourMockedService.getFilePE(&quot;String&quot;); \n verify(file).createNewFile();\n}\n</code></pre>\n<p>Then if you need to test all cases. Like <code>else</code> statement or <code>catch</code> block. You will need to simulate throwing errors and mock <code>if</code> statemement</p>\n"},{"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682602789,"creation_date":1682602789,"answer_id":76121096,"question_id":76113844,"body_markdown":"The problem here is that you use the file system in your test. This adds an external dependency that you should not have in a unit test. File systems may or may not be in the right state, they have caches which may trip your test randomly, and they are generally much slower than working with memory only. The best thing would be to refactor the code (or actually the callers of the code under test) to work with `InputStream` and `OutputStream` which you can easily use with `FileInputStream` and `FileOutputStream` in real life, but swap against `ByteArrayInputStream` and `ByteArrayOutputStream` respectively. If your code creates an empty file, nothing guarantees that the file will still exist or still be empty when the caller of your code tries to use it. Separating file creation from actually using the file opens you up for a [symlink race](https://en.wikipedia.org/wiki/Symlink_race).\r\n\r\nThat said, if you want to test that the code under test creates or deletes files, you&#39;ll have to ask the file system, or mock the file system.\r\n\r\n\r\nUsing a real file system (I&#39;d avoid this)\r\n---\r\n\r\nUse the same `File` methods as the code under test, like the code below. Note that this is untested code, as you didn&#39;t provide a [MCVE](https://stackoverflow.com/help/minimal-reproducible-example):\r\n\r\n```java\r\n@Test\r\npublic void createsFileIfItDoesNotExist() throws InterruptedException {\r\n    String fecha = &quot;2023-04-26&quot;;\r\n\r\n    String path = getFilePE(fecha);\r\n\r\n    assertEquals(ConstantsFiles.FILE_NAME_PE + fecha + ConstantsFiles.FILE_EXTENSION, path, &quot;wrong path&quot;);\r\n\r\n    Thread.sleep(5 * 1000); // ms\r\n    File expected = new File(path);\r\n    assertTrue(expected.exists(), &quot;should have create a file&quot;);\r\n    assertEquals(0, expected.length(), &quot;file should be empty&quot;);\r\n}\r\n```\r\n\r\nSome remarks:\r\n\r\n- The assertion for the path is a lot like the code under test; I&#39;d probably hard-code the path in the test, or remove the check completely. But this depends on what you want to test.\r\n\r\n- The `Thread.sleep` is there to allow the file system to reflect the changes. Currently it sleeps for 5 seconds, which is already bad enough as most tests should run much faster than that. If the test is flaky (sometimes passes, sometimes fails), you may need to increase this.\r\n\r\n- You may be able to decrease the chance of tests interfering with each other by using JUnit5&#39;s [@TempDir](https://junit.org/junit5/docs/5.4.1/api/org/junit/jupiter/api/io/TempDir.html) annotation (see [this Java Magazine blog post](https://blogs.oracle.com/javamagazine/post/working-and-unit-testing-with-temporary-files-in-java)), but that requires that you pass in the constant parts of the path you build, instead of just using some global constants.\r\n\r\n- For other tests, make sure you use different dates, or one test may clobber the files from another test, or files may unexpectedly exist (the joy of a shared dependency).\r\n\r\n\r\nMocking the file system\r\n---\r\n\r\nAgain, untested code:\r\n\r\n```java\r\n@Test\r\npublic void createsFileIfItDoesNotExist() {\r\n    File f = mock(File.class);\r\n    when(f.createNewFile).thenReturn(true);\r\n    getFilePE(&quot;2023-04-26&quot;);\r\n    verify(f).createNewFile(&quot;/expected/path/to/the/file&quot;);\r\n}\r\n```\r\n\r\n\r\n\r\nWith whatever style you go, write more tests along those lines, e.g., with creating the file and writing something to it (or faking it exists), and then checking that it got truncated, or whatever else you want to test.","title":"How to test a method using Junit and Mockito in Java on a method that creates a file in such a path","body":"<p>The problem here is that you use the file system in your test. This adds an external dependency that you should not have in a unit test. File systems may or may not be in the right state, they have caches which may trip your test randomly, and they are generally much slower than working with memory only. The best thing would be to refactor the code (or actually the callers of the code under test) to work with <code>InputStream</code> and <code>OutputStream</code> which you can easily use with <code>FileInputStream</code> and <code>FileOutputStream</code> in real life, but swap against <code>ByteArrayInputStream</code> and <code>ByteArrayOutputStream</code> respectively. If your code creates an empty file, nothing guarantees that the file will still exist or still be empty when the caller of your code tries to use it. Separating file creation from actually using the file opens you up for a <a href=\"https://en.wikipedia.org/wiki/Symlink_race\" rel=\"nofollow noreferrer\">symlink race</a>.</p>\n<p>That said, if you want to test that the code under test creates or deletes files, you'll have to ask the file system, or mock the file system.</p>\n<h2>Using a real file system (I'd avoid this)</h2>\n<p>Use the same <code>File</code> methods as the code under test, like the code below. Note that this is untested code, as you didn't provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void createsFileIfItDoesNotExist() throws InterruptedException {\n    String fecha = &quot;2023-04-26&quot;;\n\n    String path = getFilePE(fecha);\n\n    assertEquals(ConstantsFiles.FILE_NAME_PE + fecha + ConstantsFiles.FILE_EXTENSION, path, &quot;wrong path&quot;);\n\n    Thread.sleep(5 * 1000); // ms\n    File expected = new File(path);\n    assertTrue(expected.exists(), &quot;should have create a file&quot;);\n    assertEquals(0, expected.length(), &quot;file should be empty&quot;);\n}\n</code></pre>\n<p>Some remarks:</p>\n<ul>\n<li><p>The assertion for the path is a lot like the code under test; I'd probably hard-code the path in the test, or remove the check completely. But this depends on what you want to test.</p>\n</li>\n<li><p>The <code>Thread.sleep</code> is there to allow the file system to reflect the changes. Currently it sleeps for 5 seconds, which is already bad enough as most tests should run much faster than that. If the test is flaky (sometimes passes, sometimes fails), you may need to increase this.</p>\n</li>\n<li><p>You may be able to decrease the chance of tests interfering with each other by using JUnit5's <a href=\"https://junit.org/junit5/docs/5.4.1/api/org/junit/jupiter/api/io/TempDir.html\" rel=\"nofollow noreferrer\">@TempDir</a> annotation (see <a href=\"https://blogs.oracle.com/javamagazine/post/working-and-unit-testing-with-temporary-files-in-java\" rel=\"nofollow noreferrer\">this Java Magazine blog post</a>), but that requires that you pass in the constant parts of the path you build, instead of just using some global constants.</p>\n</li>\n<li><p>For other tests, make sure you use different dates, or one test may clobber the files from another test, or files may unexpectedly exist (the joy of a shared dependency).</p>\n</li>\n</ul>\n<h2>Mocking the file system</h2>\n<p>Again, untested code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void createsFileIfItDoesNotExist() {\n    File f = mock(File.class);\n    when(f.createNewFile).thenReturn(true);\n    getFilePE(&quot;2023-04-26&quot;);\n    verify(f).createNewFile(&quot;/expected/path/to/the/file&quot;);\n}\n</code></pre>\n<p>With whatever style you go, write more tests along those lines, e.g., with creating the file and writing something to it (or faking it exists), and then checking that it got truncated, or whatever else you want to test.</p>\n"}],"owner":{"account_id":19287101,"reputation":9,"user_id":20296892,"display_name":"Jonathan Ortiz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1682602739,"answer_count":2,"score":-3,"last_activity_date":1682602789,"creation_date":1682532677,"question_id":76113844,"body_markdown":"I want to test a method using JUnit and Mockito in Java this method basically reads a path and creates a file, and if the file exists delete it and create it again, any examples you can help me with?\r\n\r\nHere is the method I want to test:\r\n\r\n    public String getFilePE(String fecha) {\r\n\t\tString fileName = null;\r\n\t\tString filePath = null;\r\n\t\tFile file = null;\r\n\r\n\t\ttry {\r\n\t\t\tlogger.info(&quot;Generando archivo para PE&quot;);\r\n\t\t\tfileName = ConstantsFiles.FILE_NAME_PE + fecha + ConstantsFiles.FILE_EXTENSION;\r\n\t\t\tfilePath = ConstantsFiles.FILE_PATH_PE + fileName;\r\n\t\t\tlogger.info(filePath);\r\n\t\t\t\r\n\t\t\tfile = new File(filePath);\r\n\t\t\tif (file.createNewFile()) {\r\n\t\t\t\tlogger.info(&quot;Archivo creado con exito &quot; + file.getName());\r\n\t\t\t} else {\r\n\t\t\t\tFiles.deleteIfExists(Paths.get(filePath));\r\n\t\t\t}\r\n\t\t} catch (IOException ex) {\r\n\t\t\tlogger.error(&quot;Error, el archivo no se pudo generar: &quot; + ex.getMessage(), ex);\r\n\t\t}\r\n\t\treturn filePath;\r\n\t}\r\n","title":"How to test a method using Junit and Mockito in Java on a method that creates a file in such a path","body":"<p>I want to test a method using JUnit and Mockito in Java this method basically reads a path and creates a file, and if the file exists delete it and create it again, any examples you can help me with?</p>\n<p>Here is the method I want to test:</p>\n<pre><code>public String getFilePE(String fecha) {\n    String fileName = null;\n    String filePath = null;\n    File file = null;\n\n    try {\n        logger.info(&quot;Generando archivo para PE&quot;);\n        fileName = ConstantsFiles.FILE_NAME_PE + fecha + ConstantsFiles.FILE_EXTENSION;\n        filePath = ConstantsFiles.FILE_PATH_PE + fileName;\n        logger.info(filePath);\n        \n        file = new File(filePath);\n        if (file.createNewFile()) {\n            logger.info(&quot;Archivo creado con exito &quot; + file.getName());\n        } else {\n            Files.deleteIfExists(Paths.get(filePath));\n        }\n    } catch (IOException ex) {\n        logger.error(&quot;Error, el archivo no se pudo generar: &quot; + ex.getMessage(), ex);\n    }\n    return filePath;\n}\n</code></pre>\n"},{"tags":["java","httprequest","multipartform-data","apache-httpclient-4.x","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682689409,"post_id":76121082,"comment_id":134259539,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28434751,"reputation":1,"user_id":21754995,"display_name":"null pointer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682602683,"creation_date":1682602683,"question_id":76121082,"body_markdown":"How can i create an HTTP multipart/form-data\r\n\r\nWhere wach part have no name?\r\n\r\n\\*\\* Example with attachment:\r\n\r\n\r\n\\`  \r\n\r\n\\--boundry_root_111111111111\r\n\r\nContent-Type: application/json; charset=utf-8\r\n\r\n{\r\n&quot;myJson&quot;: &quot;Data1&quot;\r\n}\r\n\r\n  \r\n\\--boundry_root_111111111111\r\n\r\nContent-type: Message/CPIM\r\n\r\nFrom: A\r\nDate: 2023-01-01\r\nTo: B\r\n\r\nContent-Type: text/plain; charset=utf-8\r\nContent-length: 10\r\n\r\nMyTextHere MyTextHere MyTextHere MyTextHere\r\n\r\nContent-type: multipart/related;boundary=&quot;boundary222222&quot;\r\n\\--boundary222222\r\nContent-ID:0\r\nContent-Type:image/jpeg;Name=&quot;202020.jpg&quot;  \r\nContent-Disposition:Attachment;Filename=&quot;202020.jpg&quot;\r\nContent-Location:202020.jpg\r\nContent-Transfer-Encoding:base64\r\n\r\nFileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64\r\nFileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64\r\n\r\n\r\n\\--boundary222222\r\n\\--boundry_root_111111111111\\`\r\n\r\n\r\n\r\n\r\n\r\nTried RestAssured \r\nApache Httpclient \r\n\r\nboth failed,  \r\nApache returned error when body part name was empty ,Restassured added default part name \r\n","title":"How to create Http multipart [multipart/form-data] with NO part names","body":"<p>How can i create an HTTP multipart/form-data</p>\n<p>Where wach part have no name?</p>\n<p>** Example with attachment:</p>\n<p>`</p>\n<p>--boundry_root_111111111111</p>\n<p>Content-Type: application/json; charset=utf-8</p>\n<p>{\n&quot;myJson&quot;: &quot;Data1&quot;\n}</p>\n<p>--boundry_root_111111111111</p>\n<p>Content-type: Message/CPIM</p>\n<p>From: A\nDate: 2023-01-01\nTo: B</p>\n<p>Content-Type: text/plain; charset=utf-8\nContent-length: 10</p>\n<p>MyTextHere MyTextHere MyTextHere MyTextHere</p>\n<p>Content-type: multipart/related;boundary=&quot;boundary222222&quot;\n--boundary222222\nContent-ID:0\nContent-Type:image/jpeg;Name=&quot;202020.jpg&quot;<br />\nContent-Disposition:Attachment;Filename=&quot;202020.jpg&quot;\nContent-Location:202020.jpg\nContent-Transfer-Encoding:base64</p>\n<p>FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64\nFileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64_FileDataBase64</p>\n<p>--boundary222222\n--boundry_root_111111111111`</p>\n<p>Tried RestAssured\nApache Httpclient</p>\n<p>both failed,<br />\nApache returned error when body part name was empty ,Restassured added default part name</p>\n"},{"tags":["python","java","opencv","android"],"owner":{"account_id":28434128,"reputation":1,"user_id":21754443,"display_name":"Mah&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682602666,"creation_date":1682602666,"question_id":76121078,"body_markdown":"# Context\r\nI have a very good OpenCV document scanner written in Python and I need to translate it to Java, for an android application. *PS : The text is hidden in the documents because of the morphology close operations.*\r\n\r\nI am using the same parameters on each version of the code, and yet, the results are different. \r\n\r\nThe current problem I am having is, after edge detection, I am unable to find the exact 4 corners of the document (in Java).\r\n\r\nHere&#39;s pictures that should be self-explanatory :\r\n\r\n[Corners in the Python version](https://i.stack.imgur.com/gvLBU.png)\r\n\r\n[Corners in the Java version](https://i.stack.imgur.com/CIYIo.png)\r\n\r\nThis is especially weird since the edge detection reveals the exact same contours : \r\n\r\n[Contours in the Python version](https://i.stack.imgur.com/sw9cf.png)\r\n\r\n[Contours in the Java version](https://i.stack.imgur.com/j0BQO.png)\r\n\r\nBoth images went through the same process, that I&#39;ll explain here and send a part of the code :\r\n\r\n1. Resizing\r\n2. Close morphology operations to get rid of the text on the document\r\n3. GrabCut() to get rid of the background\r\n4. Grayscale, GaussianBlur, Canny and dilate\r\n\r\nJava :\r\n\r\n```\r\n        // Method applications\r\n        Imgproc.cvtColor(img, gray, Imgproc.COLOR_RGB2GRAY);\r\n        Imgproc.GaussianBlur(gray, blur, new Size(11,11), 0);\r\n        Imgproc.Canny(blur, canny, 0, 200);\r\n        Imgproc.dilate(canny, dilate, Imgproc.getStructuringElement(Imgproc.MORPH_ELLIPSE, new Size(5,5)));\r\n```\r\n\r\nPython :\r\n\r\n```\r\n    # Transformation de l&#39;image BGR en image &quot;grayscale&quot;, nuances de gris\r\n    # Utilisation de la m&#233;thode &quot;GussianBlur()&quot; afin de retirer le bruit d&#39;image\r\n    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\r\n    blur = cv2.GaussianBlur(gray, (11,11), 0)\r\n    \r\n    # Utilisation des m&#233;thodes &quot;canny()&quot; et &quot;dilate()&quot; afin de d&#233;tecter tout les bords de l&#39;image\r\n    canny = cv2.Canny(blur, 0, 200)\r\n    dilate = cv2.dilate(canny, cv2.getStructuringElement(cv2.MORPH_ELLIPSE, (5,5)))\r\n```\r\n\r\nMy principle question is WHY would the results be different using the same parameters, once in Python, once in Java? \r\n\r\nOne thing I found is that on the particular image I sent, if instead of using the biggest contour I use the first one detected (so contours.get(O)), it works in Java.\r\nBut if I try to use the biggest contour, Python works, and Java doesn&#39;t.\r\nHere&#39;s both code sample that are supposed to find to biggest contour :\r\n\r\n\r\nJava :\r\n```\r\n        MatOfPoint largestContour = Collections.max(contours, new Comparator&lt;MatOfPoint&gt;() {\r\n            @Override\r\n            public int compare(MatOfPoint o1, MatOfPoint o2) {\r\n                return Double.compare(Imgproc.contourArea(o1), Imgproc.contourArea(o2));\r\n            }\r\n        });\r\n        List&lt;MatOfPoint&gt; page = new ArrayList&lt;&gt;();\r\n        page.add(largestContour);\r\n```\r\n\r\nPython :\r\n```\r\npage = sorted(contours, key=cv2.contourArea, reverse=True)[:5]\r\n\r\n```\r\n\r\nThe coordinates of those corners are really important because I need to do a perspective transform later on. If only one of those corners is wrong, the whole perspective is wrong!\r\n\r\n\r\nThank you for reading. Feel free to ask for more details about the parameters I use in some functions if you need it to help me.\r\n\r\nPlease help !\r\n\r\n\r\nI tried the same methods with the same parameters in Python and Java, and the results are different.\r\nOne of the detected corners of the image is different in Java than Python, and that messes up the perspective transform.","title":"Document scanner doesn&#39;t detect the correct corners of the document. OpenCV Java &amp; Python","body":"<h1>Context</h1>\n<p>I have a very good OpenCV document scanner written in Python and I need to translate it to Java, for an android application. <em>PS : The text is hidden in the documents because of the morphology close operations.</em></p>\n<p>I am using the same parameters on each version of the code, and yet, the results are different.</p>\n<p>The current problem I am having is, after edge detection, I am unable to find the exact 4 corners of the document (in Java).</p>\n<p>Here's pictures that should be self-explanatory :</p>\n<p><a href=\"https://i.stack.imgur.com/gvLBU.png\" rel=\"nofollow noreferrer\">Corners in the Python version</a></p>\n<p><a href=\"https://i.stack.imgur.com/CIYIo.png\" rel=\"nofollow noreferrer\">Corners in the Java version</a></p>\n<p>This is especially weird since the edge detection reveals the exact same contours :</p>\n<p><a href=\"https://i.stack.imgur.com/sw9cf.png\" rel=\"nofollow noreferrer\">Contours in the Python version</a></p>\n<p><a href=\"https://i.stack.imgur.com/j0BQO.png\" rel=\"nofollow noreferrer\">Contours in the Java version</a></p>\n<p>Both images went through the same process, that I'll explain here and send a part of the code :</p>\n<ol>\n<li>Resizing</li>\n<li>Close morphology operations to get rid of the text on the document</li>\n<li>GrabCut() to get rid of the background</li>\n<li>Grayscale, GaussianBlur, Canny and dilate</li>\n</ol>\n<p>Java :</p>\n<pre><code>        // Method applications\n        Imgproc.cvtColor(img, gray, Imgproc.COLOR_RGB2GRAY);\n        Imgproc.GaussianBlur(gray, blur, new Size(11,11), 0);\n        Imgproc.Canny(blur, canny, 0, 200);\n        Imgproc.dilate(canny, dilate, Imgproc.getStructuringElement(Imgproc.MORPH_ELLIPSE, new Size(5,5)));\n</code></pre>\n<p>Python :</p>\n<pre><code>    # Transformation de l'image BGR en image &quot;grayscale&quot;, nuances de gris\n    # Utilisation de la méthode &quot;GussianBlur()&quot; afin de retirer le bruit d'image\n    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n    blur = cv2.GaussianBlur(gray, (11,11), 0)\n    \n    # Utilisation des méthodes &quot;canny()&quot; et &quot;dilate()&quot; afin de détecter tout les bords de l'image\n    canny = cv2.Canny(blur, 0, 200)\n    dilate = cv2.dilate(canny, cv2.getStructuringElement(cv2.MORPH_ELLIPSE, (5,5)))\n</code></pre>\n<p>My principle question is WHY would the results be different using the same parameters, once in Python, once in Java?</p>\n<p>One thing I found is that on the particular image I sent, if instead of using the biggest contour I use the first one detected (so contours.get(O)), it works in Java.\nBut if I try to use the biggest contour, Python works, and Java doesn't.\nHere's both code sample that are supposed to find to biggest contour :</p>\n<p>Java :</p>\n<pre><code>        MatOfPoint largestContour = Collections.max(contours, new Comparator&lt;MatOfPoint&gt;() {\n            @Override\n            public int compare(MatOfPoint o1, MatOfPoint o2) {\n                return Double.compare(Imgproc.contourArea(o1), Imgproc.contourArea(o2));\n            }\n        });\n        List&lt;MatOfPoint&gt; page = new ArrayList&lt;&gt;();\n        page.add(largestContour);\n</code></pre>\n<p>Python :</p>\n<pre><code>page = sorted(contours, key=cv2.contourArea, reverse=True)[:5]\n\n</code></pre>\n<p>The coordinates of those corners are really important because I need to do a perspective transform later on. If only one of those corners is wrong, the whole perspective is wrong!</p>\n<p>Thank you for reading. Feel free to ask for more details about the parameters I use in some functions if you need it to help me.</p>\n<p>Please help !</p>\n<p>I tried the same methods with the same parameters in Python and Java, and the results are different.\nOne of the detected corners of the image is different in Java than Python, and that messes up the perspective transform.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682597307,"post_id":76120044,"comment_id":134242821,"body_markdown":"This is because your are mixing .yml and .properties files. You should use only one type. In this case .properties","body":"This is because your are mixing .yml and .properties files. You should use only one type. In this case .properties"},{"owner":{"account_id":3527102,"reputation":325,"user_id":2947880,"accept_rate":64,"display_name":"D.Razvan"},"score":0,"creation_date":1682605277,"post_id":76120044,"comment_id":134244975,"body_markdown":"@Mar-Z is there any info about this in the official documentation ?","body":"@Mar-Z is there any info about this in the official documentation ?"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1682608782,"post_id":76120044,"comment_id":134245951,"body_markdown":"@D.Razvan [This might be what you look for](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config).","body":"@D.Razvan <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">This might be what you look for</a>."}],"answers":[{"tags":[],"owner":{"account_id":17019450,"reputation":46,"user_id":12312431,"display_name":"Andrіі khoma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682602602,"creation_date":1682602602,"answer_id":76121068,"question_id":76120044,"body_markdown":"Spring 3.1 also introduces the new @PropertySource annotation as a convenient mechanism for adding property sources to the environment.\r\n\r\nWe can use this annotation in conjunction with the @Configuration annotation:\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:foo.properties&quot;)\r\n    public class PropertiesWithJavaConfig {\r\n        //...\r\n    }","title":"Spring boot configuration overriding not properly working","body":"<p>Spring 3.1 also introduces the new @PropertySource annotation as a convenient mechanism for adding property sources to the environment.</p>\n<p>We can use this annotation in conjunction with the @Configuration annotation:</p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:foo.properties&quot;)\npublic class PropertiesWithJavaConfig {\n    //...\n}\n</code></pre>\n"}],"owner":{"account_id":3527102,"reputation":325,"user_id":2947880,"accept_rate":64,"display_name":"D.Razvan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682602602,"creation_date":1682596172,"question_id":76120044,"body_markdown":"Spring boot version for my app is 2.6.12.\r\nMy project has a dependency towards a library(with spring boot version 2.7.11) with an auto configuration like so:\r\n\r\n```\r\n@Configuration\r\n@EnableConfigurationProperties({LibProperties.class})\r\npublic class LibAutoConfiguration {\r\n    public LibAutoConfiguration() {\r\n    }\r\n\r\n    @Bean(\r\n        initMethod = &quot;checkSomething&quot;,\r\n        destroyMethod = &quot;release&quot;\r\n    )\r\n    SomeHandler someHandler(LibProperties properties, ShutdownManager shutdownManager) {\r\n        return new SomeHandler (properties, shutdownManager);\r\n    }\r\n\r\n    @Bean\r\n    ShutdownManager shutdownManager(ApplicationContext applicationContext) {\r\n        return new ShutdownManager(applicationContext);\r\n    }\r\n}\r\n```\r\n\r\nProperties configuration:\r\n\r\n```\r\n@ConfigurationProperties(&quot;lib&quot;)\r\n@ConstructorBinding\r\npublic class LibProperties {\r\n    private final int a;\r\n    private final String b;\r\n\r\n    public LibProperties(int a, String b) {\r\n\r\n        this.a = a;\r\n        this.b = b;\r\n    }\r\n    \r\n    // getters\r\n}\r\n```\r\n\r\nand the spring.factories file:\r\n\r\n```\r\norg.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\r\n  com.lib.config.LibAutoConfiguration\r\n```\r\n\r\nThis library also has a application.properties in classpath with empty values for the properties\r\n\r\nNow in my spring boot app I have my App class:\r\n\r\n```\r\n@SpringBootApplication(scanBasePackages = { com.myApp})\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        //blabla\r\n    }\r\n\r\n}\r\n```\r\n\r\nand my application.yml on the classpath with all properties defined under LibProperties configured. \r\n\r\nApplication fails on startup with:\r\n\r\n```\r\nFailed to bind properties under &#39;lib.a&#39; to int:\r\n\r\n    Property: lib.a\r\n    Value: &quot;&quot;\r\n    Origin: class path resource [application.properties] from myApp.jar!/BOOT-INF/lib/lib.jar - 6:0\r\n    Reason: failed to convert java.lang.String to int (caused by java.lang.IllegalArgumentException: A null value cannot be assigned to a primitive type)\r\n\r\nAction:\r\n\r\nUpdate your application&#39;s configuration\r\n```\r\n\r\nAs you can see, it does not override the properties from the library from my application.yml and still looks at the packaged application.properties. This does not happen if I switch to a .properties file inside the jar, or use the --spring.config.location to load the yml file.\r\n\r\nAnyone know what the underlying issue could be ? I would expect my app packaged .yml file to override properties under lib packaged .properties file.\r\n\r\nThanks","title":"Spring boot configuration overriding not properly working","body":"<p>Spring boot version for my app is 2.6.12.\nMy project has a dependency towards a library(with spring boot version 2.7.11) with an auto configuration like so:</p>\n<pre><code>@Configuration\n@EnableConfigurationProperties({LibProperties.class})\npublic class LibAutoConfiguration {\n    public LibAutoConfiguration() {\n    }\n\n    @Bean(\n        initMethod = &quot;checkSomething&quot;,\n        destroyMethod = &quot;release&quot;\n    )\n    SomeHandler someHandler(LibProperties properties, ShutdownManager shutdownManager) {\n        return new SomeHandler (properties, shutdownManager);\n    }\n\n    @Bean\n    ShutdownManager shutdownManager(ApplicationContext applicationContext) {\n        return new ShutdownManager(applicationContext);\n    }\n}\n</code></pre>\n<p>Properties configuration:</p>\n<pre><code>@ConfigurationProperties(&quot;lib&quot;)\n@ConstructorBinding\npublic class LibProperties {\n    private final int a;\n    private final String b;\n\n    public LibProperties(int a, String b) {\n\n        this.a = a;\n        this.b = b;\n    }\n    \n    // getters\n}\n</code></pre>\n<p>and the spring.factories file:</p>\n<pre><code>org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\n  com.lib.config.LibAutoConfiguration\n</code></pre>\n<p>This library also has a application.properties in classpath with empty values for the properties</p>\n<p>Now in my spring boot app I have my App class:</p>\n<pre><code>@SpringBootApplication(scanBasePackages = { com.myApp})\npublic class Application {\n\n    public static void main(String[] args) {\n        //blabla\n    }\n\n}\n</code></pre>\n<p>and my application.yml on the classpath with all properties defined under LibProperties configured.</p>\n<p>Application fails on startup with:</p>\n<pre><code>Failed to bind properties under 'lib.a' to int:\n\n    Property: lib.a\n    Value: &quot;&quot;\n    Origin: class path resource [application.properties] from myApp.jar!/BOOT-INF/lib/lib.jar - 6:0\n    Reason: failed to convert java.lang.String to int (caused by java.lang.IllegalArgumentException: A null value cannot be assigned to a primitive type)\n\nAction:\n\nUpdate your application's configuration\n</code></pre>\n<p>As you can see, it does not override the properties from the library from my application.yml and still looks at the packaged application.properties. This does not happen if I switch to a .properties file inside the jar, or use the --spring.config.location to load the yml file.</p>\n<p>Anyone know what the underlying issue could be ? I would expect my app packaged .yml file to override properties under lib packaged .properties file.</p>\n<p>Thanks</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1682601498,"post_id":76120849,"comment_id":134244008,"body_markdown":"Yes, a lambda becomes an inner class. What do you mean &quot;what is an implication of $$Lambda&quot;? That&#39;s part of the autogenerated `toString` of the inner class.","body":"Yes, a lambda becomes an inner class. What do you mean &quot;what is an implication of $$Lambda&quot;? That&#39;s part of the autogenerated <code>toString</code> of the inner class."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1682601940,"post_id":76120849,"comment_id":134244125,"body_markdown":"Well, for most purposes it is the same as an anonymous inner class, like we wrote Comparators, EventHandlers etc for two decades: `new IntSupplier() { int getAsInt() {return 42;} };` If you want to dig deeper into how it is actually implemented in the JVM, your search term might be [LambdaMetafactory](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/invoke/LambdaMetafactory.html).","body":"Well, for most purposes it is the same as an anonymous inner class, like we wrote Comparators, EventHandlers etc for two decades: <code>new IntSupplier() { int getAsInt() {return 42;} };</code> If you want to dig deeper into how it is actually implemented in the JVM, your search term might be <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/invoke/LambdaMetafactory.html\" rel=\"nofollow noreferrer\">LambdaMetafactory</a>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1682699116,"post_id":76120849,"comment_id":134261895,"body_markdown":"See [What does $$ in javac generated name mean?](https://stackoverflow.com/q/36057007/2711488) and [Meaning of class file on the file system](https://stackoverflow.com/q/44475789/2711488)","body":"See <a href=\"https://stackoverflow.com/q/36057007/2711488\">What does $$ in javac generated name mean?</a> and <a href=\"https://stackoverflow.com/q/44475789/2711488\">Meaning of class file on the file system</a>"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1682602596,"creation_date":1682602291,"answer_id":76121024,"question_id":76120849,"body_markdown":"That is the name of a *hidden class*, as proposed in [JEP 371][1]. Since Java 15, this is how lambdas are implemented.\r\n\r\nThese are classes that are generated at runtime, using `Lookup.defineHiddenClass`, rather than `ClassLoader.defineClass`. Therefore, they are not loaded by a class loader.\r\n\r\nAs for the output of your code, the part after the `@` is the identity hash code of the object, as usual. The part before that is the name of the hidden class, `Foo$$Lambda$15/0x0000000840064c40`. This can be separated into two parts: `Foo$$Lambda$15` is the name used in the class definition (the bytes, in the *class file format* that is passed to `defineHiddenClass`), and `0x0000000840064c40` is an unqualified name generated by the JVM. The `$$` doesn&#39;t mean anything special. `$` is a valid character to be used in a class name.\r\n\r\nTowards the end of the JEP, it discusses the lifetime of hidden classes. The gist of it is that hidden classes can be unloaded as soon as there are no longer any live instances of the class. e.g. when the object created by the lambda expression is garbage collected.\r\n\r\n\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/371","title":"Lambda expression create inner classes at runtime","body":"<p>That is the name of a <em>hidden class</em>, as proposed in <a href=\"https://openjdk.org/jeps/371\" rel=\"noreferrer\">JEP 371</a>. Since Java 15, this is how lambdas are implemented.</p>\n<p>These are classes that are generated at runtime, using <code>Lookup.defineHiddenClass</code>, rather than <code>ClassLoader.defineClass</code>. Therefore, they are not loaded by a class loader.</p>\n<p>As for the output of your code, the part after the <code>@</code> is the identity hash code of the object, as usual. The part before that is the name of the hidden class, <code>Foo$$Lambda$15/0x0000000840064c40</code>. This can be separated into two parts: <code>Foo$$Lambda$15</code> is the name used in the class definition (the bytes, in the <em>class file format</em> that is passed to <code>defineHiddenClass</code>), and <code>0x0000000840064c40</code> is an unqualified name generated by the JVM. The <code>$$</code> doesn't mean anything special. <code>$</code> is a valid character to be used in a class name.</p>\n<p>Towards the end of the JEP, it discusses the lifetime of hidden classes. The gist of it is that hidden classes can be unloaded as soon as there are no longer any live instances of the class. e.g. when the object created by the lambda expression is garbage collected.</p>\n"}],"owner":{"account_id":8854601,"reputation":207,"user_id":6612731,"display_name":"RBS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682602596,"creation_date":1682601194,"question_id":76120849,"body_markdown":"To exploring lambda and its working, i write below code.\r\n\r\n    public class Foo { // enclose class\r\n    \r\n    public static void main(String[] args) {\r\n        System.out.println(new Foo().new InnerFoo());\r\n        IntSupplier intSupplier = () -&gt; 42;\r\n        System.out.println(intSupplier);\r\n    }\r\n    \r\n    class InnerFoo{} // inner class\r\n    \r\n    }\r\n\r\nAfter execution of code, i come across below output.\r\n\r\n    Foo$InnerFoo@3af49f1c\r\n    Foo$$Lambda$15/0x0000000840064c40@13221655\r\n\r\ni have basically 2 question based on output.\r\n\r\n 1. To best of my knowledge, when every inner class is instantiated, it can be represent as **EnclosingClass$InnerClass@hashcode** as toString()(in case we do not override toString()). so does that mean, my **Foo$$Lambda$15/0x0000000840064c40@13221655** is a definition of inner class ? if is to so, than how long that inner class loaded remains in JVM ? \r\n 2. What is an implication of **$$Lambda**. How JVM will interpret it ? \r\n\r\n","title":"Lambda expression create inner classes at runtime","body":"<p>To exploring lambda and its working, i write below code.</p>\n<pre><code>public class Foo { // enclose class\n\npublic static void main(String[] args) {\n    System.out.println(new Foo().new InnerFoo());\n    IntSupplier intSupplier = () -&gt; 42;\n    System.out.println(intSupplier);\n}\n\nclass InnerFoo{} // inner class\n\n}\n</code></pre>\n<p>After execution of code, i come across below output.</p>\n<pre><code>Foo$InnerFoo@3af49f1c\nFoo$$Lambda$15/0x0000000840064c40@13221655\n</code></pre>\n<p>i have basically 2 question based on output.</p>\n<ol>\n<li>To best of my knowledge, when every inner class is instantiated, it can be represent as <strong>EnclosingClass$InnerClass@hashcode</strong> as toString()(in case we do not override toString()). so does that mean, my <strong>Foo$$Lambda$15/0x0000000840064c40@13221655</strong> is a definition of inner class ? if is to so, than how long that inner class loaded remains in JVM ?</li>\n<li>What is an implication of <strong>$$Lambda</strong>. How JVM will interpret it ?</li>\n</ol>\n"},{"tags":["java","security","jsp","google-app-engine"],"answers":[{"tags":[],"owner":{"account_id":3074,"reputation":5183,"user_id":4358,"accept_rate":88,"display_name":"ramayac"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1287330966,"creation_date":1287330966,"answer_id":3953997,"question_id":3771386,"body_markdown":"the only thing I could think of, was the `&lt;security-constraint&gt;` element, that you can add in the deployment descriptor. \r\nAs you may know, an App Engine application can use Google Accounts for user authentication. An app can also specify access **restrictions for URL paths based on Google Accounts**, using the element mentioned in the deployment descriptor. **This security constraints apply to static files as well as servlets.**\r\n\r\nBut that is as far as it goes, because:\r\n&quot;Google App Engine does not support custom security roles (`&lt;security-role&gt;`) or alternate authentication mechanisms (`&lt;login-config&gt;`) in the deployment descriptor.&quot;\r\n\r\nFor more information, take a look at the GAE Java Deployment Descriptor: http://code.google.com/appengine/docs/java/config/webxml.html#Security_and_Authentication\r\n\r\nHope this helps!","title":"Google app engine: what are content folder data securing options?","body":"<p>the only thing I could think of, was the <code>&lt;security-constraint&gt;</code> element, that you can add in the deployment descriptor. \nAs you may know, an App Engine application can use Google Accounts for user authentication. An app can also specify access <strong>restrictions for URL paths based on Google Accounts</strong>, using the element mentioned in the deployment descriptor. <strong>This security constraints apply to static files as well as servlets.</strong></p>\n\n<p>But that is as far as it goes, because:\n\"Google App Engine does not support custom security roles (<code>&lt;security-role&gt;</code>) or alternate authentication mechanisms (<code>&lt;login-config&gt;</code>) in the deployment descriptor.\"</p>\n\n<p>For more information, take a look at the GAE Java Deployment Descriptor: <a href=\"http://code.google.com/appengine/docs/java/config/webxml.html#Security_and_Authentication\" rel=\"nofollow\">http://code.google.com/appengine/docs/java/config/webxml.html#Security_and_Authentication</a></p>\n\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":66223,"reputation":65383,"user_id":434051,"accept_rate":84,"display_name":"Rella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1682602345,"creation_date":1285172486,"question_id":3771386,"body_markdown":"It seems for me that when youve got low (in general hacking terms) quotas (I am talking about free GAE plan) and quite large files uoy wanna stream to your users youmust somehow to protect thouse files from &quot;bad&quot; users\r\n\r\nSo it is sad \r\n\r\n&gt; By default, App Engine makes all files\r\n&gt; in the WAR available as static files\r\n&gt; except JSPs and files in WEB-INF/. Any\r\n&gt; request for a URL whose path matches a\r\n&gt; static file serves the file directly\r\n&gt; to the browser—even if the path also\r\n&gt; matches a servlet or filter mapping.matches a servlet or filter mapping.\r\n\r\nwhat are short in implementing methods of folder protection inside WAR? (code, samples, articles examples etc)\r\n\r\n(situation: We use GAE for Java. So we just are programming JSP and Java and xml and JS and Html. So: empty gae project, no source yet (just some default html) a folder &#39;data&#39; in  that war with some files that should not get into bad hands)\r\n","title":"Google app engine: what are content folder data securing options?","body":"<p>It seems for me that when youve got low (in general hacking terms) quotas (I am talking about free GAE plan) and quite large files uoy wanna stream to your users youmust somehow to protect thouse files from \"bad\" users</p>\n\n<p>So it is sad </p>\n\n<blockquote>\n  <p>By default, App Engine makes all files\n  in the WAR available as static files\n  except JSPs and files in WEB-INF/. Any\n  request for a URL whose path matches a\n  static file serves the file directly\n  to the browser—even if the path also\n  matches a servlet or filter mapping.matches a servlet or filter mapping.</p>\n</blockquote>\n\n<p>what are short in implementing methods of folder protection inside WAR? (code, samples, articles examples etc)</p>\n\n<p>(situation: We use GAE for Java. So we just are programming JSP and Java and xml and JS and Html. So: empty gae project, no source yet (just some default html) a folder 'data' in  that war with some files that should not get into bad hands)</p>\n"},{"tags":["java","android","security","download","passwords"],"answers":[{"tags":[],"owner":{"account_id":297763,"reputation":1319,"user_id":603442,"display_name":"erloewe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296917651,"creation_date":1296917651,"answer_id":4907495,"question_id":4813134,"body_markdown":"Please see the [Apache HttpClient Examples, Client authentication][1]. Android ships with these libraries by default.\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/examples.html","title":"how can I download a file from a password protected folder in java","body":"<p>Please see the <a href=\"http://hc.apache.org/httpcomponents-client-ga/examples.html\" rel=\"nofollow\">Apache HttpClient Examples, Client authentication</a>. Android ships with these libraries by default.</p>\n"}],"owner":{"account_id":701622,"reputation":21,"user_id":591724,"display_name":"mendes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1282,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682602286,"creation_date":1296107057,"question_id":4813134,"body_markdown":"want to download a file from a online server and I don&#39;t want it to be acessible outside my application so I have protected the folder using the control panel , now I need to know how can I acccess and download that file in my java program ? Its an android app that downloads a database. My situation is that I have two databases, one for the free app and another for the paid version.And I dont want people downloading the paid version to the pc and using them on the free version app.Is there another easy way ?","title":"how can I download a file from a password protected folder in java","body":"<p>want to download a file from a online server and I don't want it to be acessible outside my application so I have protected the folder using the control panel , now I need to know how can I acccess and download that file in my java program ? Its an android app that downloads a database. My situation is that I have two databases, one for the free app and another for the paid version.And I dont want people downloading the paid version to the pc and using them on the free version app.Is there another easy way ?</p>\n"},{"tags":["java","mysql","spring","jpa"],"comments":[{"owner":{"account_id":28213482,"reputation":1,"user_id":21565355,"display_name":"Ferzinia"},"score":0,"creation_date":1682600207,"post_id":76120619,"comment_id":134243605,"body_markdown":"look here and example of my payload after i update an dependent:\n &quot;userDependents&quot;: [\n            {\n                &quot;uuid&quot;: &quot;a888f64f-88f0-4ccd-b352-5f00388cb741&quot;,\n                &quot;userId&quot;: &quot;ea30980b-518a-4240-0d8a-cf14lc10069k&quot;,\n                &quot;type&quot;: &quot;Son&quot;,\n                &quot;age&quot;: &quot;21&quot;,\n                &quot;createdAt&quot;: null,\n                &quot;updatedAt&quot;: &quot;2023-04-27 09:38:26&quot;,\n                &quot;removed&quot;: null\n            },","body":"look here and example of my payload after i update an dependent:  &quot;userDependents&quot;: [             {                 &quot;uuid&quot;: &quot;a888f64f-88f0-4ccd-b352-5f00388cb741&quot;,                 &quot;userId&quot;: &quot;ea30980b-518a-4240-0d8a-cf14lc10069k&quot;,                 &quot;type&quot;: &quot;Son&quot;,                 &quot;age&quot;: &quot;21&quot;,                 &quot;createdAt&quot;: null,                 &quot;updatedAt&quot;: &quot;2023-04-27 09:38:26&quot;,                 &quot;removed&quot;: null             },"},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1682600500,"post_id":76120619,"comment_id":134243689,"body_markdown":"can you paste `UserDTO` class , does it have `createdAt` field ?","body":"can you paste <code>UserDTO</code> class , does it have <code>createdAt</code> field ?"},{"owner":{"account_id":28213482,"reputation":1,"user_id":21565355,"display_name":"Ferzinia"},"score":0,"creation_date":1682601149,"post_id":76120619,"comment_id":134243902,"body_markdown":"there you go ! :) thanks","body":"there you go ! :) thanks"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1682604208,"post_id":76120619,"comment_id":134244693,"body_markdown":"Your method is taking UpdatePreferencesDependentsDTO and using that to populate an empty user data instance, which is then converted to an entity to be &#39;merged&#39; into your existing entity. Everything in that converted Entity instance will overwrite the existing managed entity data - even the properties you&#39;ve left blank. You need to set the UpdatePreferencesDependentsDTO data into the entity instance from the database directly, so that you only overwrite the specific fields you intend to set with the new data. Alternatively, you can mark createdAt with updateable=false","body":"Your method is taking UpdatePreferencesDependentsDTO and using that to populate an empty user data instance, which is then converted to an entity to be &#39;merged&#39; into your existing entity. Everything in that converted Entity instance will overwrite the existing managed entity data - even the properties you&#39;ve left blank. You need to set the UpdatePreferencesDependentsDTO data into the entity instance from the database directly, so that you only overwrite the specific fields you intend to set with the new data. Alternatively, you can mark createdAt with updateable=false"}],"answers":[{"tags":[],"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682602205,"creation_date":1682602205,"answer_id":76121009,"question_id":76120619,"body_markdown":"looks like in update method `updatePreferencesAndDependents`\r\nYou assign dependatns data from postman to `user`\r\n`user.setUserDependents(updateDTO.getUserDependents());` if postman does not sends `createdAt` it will be null, and if postman sends any value it will override value from db","title":"The method of my POST erase creation date time when i use the update function","body":"<p>looks like in update method <code>updatePreferencesAndDependents</code>\nYou assign dependatns data from postman to <code>user</code>\n<code>user.setUserDependents(updateDTO.getUserDependents());</code> if postman does not sends <code>createdAt</code> it will be null, and if postman sends any value it will override value from db</p>\n"}],"owner":{"account_id":28213482,"reputation":1,"user_id":21565355,"display_name":"Ferzinia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682602205,"creation_date":1682599712,"question_id":76120619,"body_markdown":"When i pass the json on postman it creates the dependents with no problem, when i type an existing dependent with his Uuid to update the data the creationAt is set to null, and only the updateAt is set. \r\n\r\n```\r\npublic void updatePreferencesAndDependents(UUID userId, UpdatePreferencesDependentsDTO updateDTO) {\r\n        var user = getUserById(userId);\r\n        user.setReferralHospital(updateDTO.getReferralHospital());\r\n        user.setReferralHospitalId(updateDTO.getReferralHospitalId());\r\n        user.setAttendance(updateDTO.getAttendance());\r\n        user.setCoverage(updateDTO.getCoverage());\r\n        user.setAccommodation(updateDTO.getAccommodation());\r\n        user.setPartaking(updateDTO.getPartaking());\r\n        user.setUserDependents(updateDTO.getUserDependents());\r\n        var entity = UserMapper.mapper.toEntity(user);\r\n        repository.save(entity);\r\n    }\r\n```\r\n\r\nthat i use in this endpoint:\r\n\r\n```\r\n @PostMapping(&quot;/update-preferences-dependents&quot;)\r\n    public ResponseEntity&lt;ResponseDTO&gt; updateDependentsAndPreferences(@RequestBody UpdatePreferencesDependentsDTO dto) {\r\n        try {\r\n            UUID userId = dto.getUuid();\r\n            service.updatePreferencesAndDependents(userId, dto);\r\n            return ResponseEntity.ok(response(&quot;User data updated.&quot;));\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error updating data.&quot;, e.getMessage());\r\n            return ResponseEntity.badRequest().body(response(&quot;Error updating user data.&quot;));\r\n        }\r\n```\r\n\r\ni have this mapper too:\r\n\r\n```\r\n\r\n@Named(&quot;UserMapper&quot;)\r\n@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\npublic interface UserMapper {\r\n    UserMapper mapper = Mappers.getMapper(UserMapper.class);\r\n\r\n    UserDTO toDto(UserEntity entity);\r\n\r\n    UserEntity toEntity(UserDTO dto);\r\n\r\n    List&lt;UserDTO&gt; toDto(List&lt;UserEntity&gt; entity);\r\n\r\n    List&lt;UserEntity&gt; toEntity(List&lt;UserDTO&gt; dto);\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;UserDependents&quot;)\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class UserDependentsEntity {\r\n\r\n    @Id\r\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\r\n    private UUID uuid;\r\n\r\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\r\n    private UUID userId;\r\n    private String type;\r\n    private String age;\r\n    private LocalDateTime createdAt;\r\n    private LocalDateTime updatedAt;\r\n    private Boolean removed;\r\n\r\n    @PreUpdate\r\n    public void preUpdate() {\r\n        this.updatedAt = LocalDateTimeUtil.now();\r\n    }\r\n\r\n    @PrePersist\r\n    public void prePersist() {\r\n        this.uuid = CryptoUtil.generateUUID();\r\n        this.createdAt = LocalDateTimeUtil.now();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class UserDependentsDTO {\r\n\r\n    private UUID uuid;\r\n    private UUID userId;\r\n    private String type;\r\n    private String age;\r\n\r\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n    @JsonSerialize(using = LocalDateTimeSerializer.class)\r\n    private LocalDateTime createdAt;\r\n\r\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n    @JsonSerialize(using = LocalDateTimeSerializer.class)\r\n    private LocalDateTime updatedAt;\r\n    private Boolean removed;\r\n}\r\n```\r\n\r\n\r\n\r\nI tried adding an if in @prepersist and in the method too but it looks horrible","title":"The method of my POST erase creation date time when i use the update function","body":"<p>When i pass the json on postman it creates the dependents with no problem, when i type an existing dependent with his Uuid to update the data the creationAt is set to null, and only the updateAt is set.</p>\n<pre><code>public void updatePreferencesAndDependents(UUID userId, UpdatePreferencesDependentsDTO updateDTO) {\n        var user = getUserById(userId);\n        user.setReferralHospital(updateDTO.getReferralHospital());\n        user.setReferralHospitalId(updateDTO.getReferralHospitalId());\n        user.setAttendance(updateDTO.getAttendance());\n        user.setCoverage(updateDTO.getCoverage());\n        user.setAccommodation(updateDTO.getAccommodation());\n        user.setPartaking(updateDTO.getPartaking());\n        user.setUserDependents(updateDTO.getUserDependents());\n        var entity = UserMapper.mapper.toEntity(user);\n        repository.save(entity);\n    }\n</code></pre>\n<p>that i use in this endpoint:</p>\n<pre><code> @PostMapping(&quot;/update-preferences-dependents&quot;)\n    public ResponseEntity&lt;ResponseDTO&gt; updateDependentsAndPreferences(@RequestBody UpdatePreferencesDependentsDTO dto) {\n        try {\n            UUID userId = dto.getUuid();\n            service.updatePreferencesAndDependents(userId, dto);\n            return ResponseEntity.ok(response(&quot;User data updated.&quot;));\n        } catch (Exception e) {\n            log.error(&quot;Error updating data.&quot;, e.getMessage());\n            return ResponseEntity.badRequest().body(response(&quot;Error updating user data.&quot;));\n        }\n</code></pre>\n<p>i have this mapper too:</p>\n<pre><code>\n@Named(&quot;UserMapper&quot;)\n@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic interface UserMapper {\n    UserMapper mapper = Mappers.getMapper(UserMapper.class);\n\n    UserDTO toDto(UserEntity entity);\n\n    UserEntity toEntity(UserDTO dto);\n\n    List&lt;UserDTO&gt; toDto(List&lt;UserEntity&gt; entity);\n\n    List&lt;UserEntity&gt; toEntity(List&lt;UserDTO&gt; dto);\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;UserDependents&quot;)\n@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class UserDependentsEntity {\n\n    @Id\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\n    private UUID uuid;\n\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\n    private UUID userId;\n    private String type;\n    private String age;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n    private Boolean removed;\n\n    @PreUpdate\n    public void preUpdate() {\n        this.updatedAt = LocalDateTimeUtil.now();\n    }\n\n    @PrePersist\n    public void prePersist() {\n        this.uuid = CryptoUtil.generateUUID();\n        this.createdAt = LocalDateTimeUtil.now();\n    }\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@ToString\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserDependentsDTO {\n\n    private UUID uuid;\n    private UUID userId;\n    private String type;\n    private String age;\n\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\n    @JsonSerialize(using = LocalDateTimeSerializer.class)\n    private LocalDateTime createdAt;\n\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\n    @JsonSerialize(using = LocalDateTimeSerializer.class)\n    private LocalDateTime updatedAt;\n    private Boolean removed;\n}\n</code></pre>\n<p>I tried adding an if in @prepersist and in the method too but it looks horrible</p>\n"},{"tags":["java","digital-signature","jarsigner"],"comments":[{"owner":{"account_id":450710,"reputation":10633,"user_id":846180,"accept_rate":87,"display_name":"skayred"},"score":0,"creation_date":1371309146,"post_id":17124628,"comment_id":24780378,"body_markdown":"Currently I&#39;m trying to use `JarSigner` sources, but without luck. I want to use Java solution, because my system must be portable. But GPG may be suitable too","body":"Currently I&#39;m trying to use <code>JarSigner</code> sources, but without luck. I want to use Java solution, because my system must be portable. But GPG may be suitable too"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1371309461,"post_id":17124628,"comment_id":24780458,"body_markdown":"I was asking about what your &quot;lot of users and keys&quot; were already using, actually. You can have a peek at the source of the Maven GPG plugin if you want to use GPG.","body":"I was asking about what your &quot;lot of users and keys&quot; were already using, actually. You can have a peek at the source of the Maven GPG plugin if you want to use GPG."},{"owner":{"account_id":450710,"reputation":10633,"user_id":846180,"accept_rate":87,"display_name":"skayred"},"score":0,"creation_date":1371310233,"post_id":17124628,"comment_id":24780633,"body_markdown":"Okay&#39; I&#39;ll try to use it. Currently I&#39;m just creating an architecture and discrovering the technologies","body":"Okay&#39; I&#39;ll try to use it. Currently I&#39;m just creating an architecture and discrovering the technologies"},{"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"score":1,"creation_date":1682583460,"post_id":17124628,"comment_id":134239736,"body_markdown":"Does this answer your question? [How do you programmatically sign jar files in Java?](https://stackoverflow.com/questions/7688676/how-do-you-programmatically-sign-jar-files-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7688676/how-do-you-programmatically-sign-jar-files-in-java\">How do you programmatically sign jar files in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5236746,"reputation":173,"user_id":4185088,"display_name":"Aniket"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1429704195,"creation_date":1429704195,"answer_id":29796965,"question_id":17124628,"body_markdown":"I Signed jar using pom.xml I happy if it help you:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;ABC&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;applet&lt;/artifactId&gt;\r\n    \t&lt;version&gt;ABC&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;applet&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.aaa.bbb&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;keytool-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;genkey&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;keystore&gt;./target/chkey&lt;/keystore&gt;\r\n    \t\t\t\t\t&lt;alias&gt;ch&lt;/alias&gt;\r\n    \t\t\t\t\t&lt;dname&gt;cn=Organization Name, o=Org, l=xyz, st=mm, c=US&lt;/dname&gt;\r\n    \t\t\t\t\t&lt;keypass&gt;pass&lt;/keypass&gt;\r\n    \t\t\t\t\t&lt;storepass&gt;pass&lt;/storepass&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-jarsigner-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;sign&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;sign&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;keystore&gt;./target/chkey&lt;/keystore&gt;\r\n    \t\t\t\t\t&lt;alias&gt;ch&lt;/alias&gt;\r\n    \t\t\t\t\t&lt;storepass&gt;pass&lt;/storepass&gt;\r\n    \t\t\t\t\t&lt;keypass&gt;pass&lt;/keypass&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;java&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;java-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;jre-1.8&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Sign JAR programmatically","body":"<p>I Signed jar using pom.xml I happy if it help you:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;ABC&lt;/groupId&gt;\n    &lt;artifactId&gt;applet&lt;/artifactId&gt;\n    &lt;version&gt;ABC&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;applet&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.aaa.bbb&lt;/groupId&gt;\n                &lt;artifactId&gt;keytool-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;genkey&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;keystore&gt;./target/chkey&lt;/keystore&gt;\n                    &lt;alias&gt;ch&lt;/alias&gt;\n                    &lt;dname&gt;cn=Organization Name, o=Org, l=xyz, st=mm, c=US&lt;/dname&gt;\n                    &lt;keypass&gt;pass&lt;/keypass&gt;\n                    &lt;storepass&gt;pass&lt;/storepass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jarsigner-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;sign&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;sign&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;keystore&gt;./target/chkey&lt;/keystore&gt;\n                    &lt;alias&gt;ch&lt;/alias&gt;\n                    &lt;storepass&gt;pass&lt;/storepass&gt;\n                    &lt;keypass&gt;pass&lt;/keypass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;java&lt;/groupId&gt;\n            &lt;artifactId&gt;java-plugin&lt;/artifactId&gt;\n            &lt;version&gt;jre-1.8&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":450710,"reputation":10633,"user_id":846180,"accept_rate":87,"display_name":"skayred"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682602039,"creation_date":1371306156,"question_id":17124628,"body_markdown":"I want to sign a JAR with my code and without keystores - using only private user&#39;s key (because I have a lot of users and keys).\r\n\r\nI&#39;ve found the same [question][1], but it uses keystores, and I want to do it using only `PrivateKey` or `String`. Is it possible and are there any libraries?\r\n\r\nI&#39;ll try to clarify the task. For example, we have some user and some service. User creates some module, packs it as the JAR and signs it using it&#39;s own private key which stored locally in some DB as the `String`.\r\n\r\nThen they send it to the service, and this service knows this user&#39;s public key (it is stored in the database too). And service verifies this JAR.\r\n\r\nI don&#39;t want to use keystores and aliases because I&#39;ll have to instantiate files on every JAR uploading.\r\n\r\n  [1]: https://stackoverflow.com/questions/7688676/how-do-you-programmatically-sign-jar-files-in-java\r\n","title":"Sign JAR programmatically","body":"<p>I want to sign a JAR with my code and without keystores - using only private user's key (because I have a lot of users and keys).</p>\n<p>I've found the same <a href=\"https://stackoverflow.com/questions/7688676/how-do-you-programmatically-sign-jar-files-in-java\">question</a>, but it uses keystores, and I want to do it using only <code>PrivateKey</code> or <code>String</code>. Is it possible and are there any libraries?</p>\n<p>I'll try to clarify the task. For example, we have some user and some service. User creates some module, packs it as the JAR and signs it using it's own private key which stored locally in some DB as the <code>String</code>.</p>\n<p>Then they send it to the service, and this service knows this user's public key (it is stored in the database too). And service verifies this JAR.</p>\n<p>I don't want to use keystores and aliases because I'll have to instantiate files on every JAR uploading.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1682591266,"post_id":76119342,"comment_id":134241471,"body_markdown":"It&#39;s not clear what IntStream has to do with this. You have *single* value... how are streams involved? Please provide more detail.","body":"It&#39;s not clear what IntStream has to do with this. You have <i>single</i> value... how are streams involved? Please provide more detail."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682591428,"creation_date":1682591428,"answer_id":76119382,"question_id":76119342,"body_markdown":"If I understand correctly, you simply want to map a single value to a string label. \r\n You could define a hashmap to map integer values to their labels for this purpose.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\r\n    map.put(0, &quot;bad&quot;);\r\n    map.put(1, &quot;normal&quot;);\r\n    map.put(2, &quot;good&quot;);\r\n    Random random = new Random();\r\n    int x = random.nextInt(3); // 0 - bad  1 - normal  2 - good\r\n    String str = map.get(x);\r\n\r\nIf you had a _collection_ of integer values, then using a stream might make more sense:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(0, 1, 2);\r\n    List&lt;String&gt; labels = list.stream()\r\n                              .map(x -&gt; map.get(x))\r\n                              .collect(Collectors.toList());\r\n    System.out.println(labels);  // [bad, normal, good]","title":"how to put one of the values in a stream in a String","body":"<p>If I understand correctly, you simply want to map a single value to a string label.\nYou could define a hashmap to map integer values to their labels for this purpose.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\nmap.put(0, &quot;bad&quot;);\nmap.put(1, &quot;normal&quot;);\nmap.put(2, &quot;good&quot;);\nRandom random = new Random();\nint x = random.nextInt(3); // 0 - bad  1 - normal  2 - good\nString str = map.get(x);\n</code></pre>\n<p>If you had a <em>collection</em> of integer values, then using a stream might make more sense:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; list = Arrays.asList(0, 1, 2);\nList&lt;String&gt; labels = list.stream()\n                          .map(x -&gt; map.get(x))\n                          .collect(Collectors.toList());\nSystem.out.println(labels);  // [bad, normal, good]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682591459,"creation_date":1682591459,"answer_id":76119386,"question_id":76119342,"body_markdown":"Yes, it is.\r\nYou can use the `IntStream#mapToObj` method.\r\n\r\nHowever, there are better ways of doing so. But as you&#39;re asking to do it with a `Stream`, here it is.\r\n\r\n```\r\nRandom random = new Random();\r\nint x = random.nextInt(3); // 0 - bad  1 - normal  2 - good\r\nString str = IntStream.of(x).mapToObj($ -&gt;\r\n        switch ($) {\r\n            case 0 -&gt; &quot;bad&quot;;\r\n            case 1 -&gt; &quot;normal&quot;;\r\n            case 2 -&gt; &quot;good&quot;;\r\n            default -&gt; throw new IllegalStateException(&quot;Unexpected value: &quot; + x);\r\n        }\r\n).findFirst().orElseThrow();\r\n\r\nSystem.out.println(&quot;str = &quot; + str);\r\n```","title":"how to put one of the values in a stream in a String","body":"<p>Yes, it is.\nYou can use the <code>IntStream#mapToObj</code> method.</p>\n<p>However, there are better ways of doing so. But as you're asking to do it with a <code>Stream</code>, here it is.</p>\n<pre><code>Random random = new Random();\nint x = random.nextInt(3); // 0 - bad  1 - normal  2 - good\nString str = IntStream.of(x).mapToObj($ -&gt;\n        switch ($) {\n            case 0 -&gt; &quot;bad&quot;;\n            case 1 -&gt; &quot;normal&quot;;\n            case 2 -&gt; &quot;good&quot;;\n            default -&gt; throw new IllegalStateException(&quot;Unexpected value: &quot; + x);\n        }\n).findFirst().orElseThrow();\n\nSystem.out.println(&quot;str = &quot; + str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682591673,"creation_date":1682591673,"answer_id":76119420,"question_id":76119342,"body_markdown":"You can utilize a const-like Map to store your mappings between strings and integers.\r\nThen you can use `mapToObj` function to get result using Java streams.\r\n\r\nFor a single element, that might look like\r\n\r\n```\r\nMap&lt;Integer, String&gt; mapping = Map.of(0, &quot;bad&quot;, 1, &quot;normal&quot;, 2, &quot;good&quot;);\r\nString result = IntStream.of(2).mapToObj(mapping::get).findFirst().get();\r\n```\r\n\r\nFor multiple elements:\r\nFor a single element, that might look like\r\n\r\n```\r\nMap&lt;Integer, String&gt; mapping = Map.of(0, &quot;bad&quot;, 1, &quot;normal&quot;, 2, &quot;good&quot;);\r\nList&lt;String&gt; results = IntStream.of(2).mapToObj(mapping::get).collect(Collectors.toList());\r\n```","title":"how to put one of the values in a stream in a String","body":"<p>You can utilize a const-like Map to store your mappings between strings and integers.\nThen you can use <code>mapToObj</code> function to get result using Java streams.</p>\n<p>For a single element, that might look like</p>\n<pre><code>Map&lt;Integer, String&gt; mapping = Map.of(0, &quot;bad&quot;, 1, &quot;normal&quot;, 2, &quot;good&quot;);\nString result = IntStream.of(2).mapToObj(mapping::get).findFirst().get();\n</code></pre>\n<p>For multiple elements:\nFor a single element, that might look like</p>\n<pre><code>Map&lt;Integer, String&gt; mapping = Map.of(0, &quot;bad&quot;, 1, &quot;normal&quot;, 2, &quot;good&quot;);\nList&lt;String&gt; results = IntStream.of(2).mapToObj(mapping::get).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1682601975,"answer_count":3,"score":-2,"last_activity_date":1682601966,"creation_date":1682591149,"question_id":76119342,"body_markdown":"I have an int type number. If the number is 0, then put &quot;bad&quot; in the String, If the number is 1, then put &quot;normal&quot; in the String, If the number is 2, then put &quot;good&quot; in the String. Is it possible to do this in stream?\r\n\r\n```java\r\nRandom random = new Random();\r\nint x = random.nextInt(3); // 0 - bad  1 - normal  2 - good\r\nString str = IntStream.of(x).\r\n```","title":"how to put one of the values in a stream in a String","body":"<p>I have an int type number. If the number is 0, then put &quot;bad&quot; in the String, If the number is 1, then put &quot;normal&quot; in the String, If the number is 2, then put &quot;good&quot; in the String. Is it possible to do this in stream?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Random random = new Random();\nint x = random.nextInt(3); // 0 - bad  1 - normal  2 - good\nString str = IntStream.of(x).\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jwt"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1682602090,"post_id":76120923,"comment_id":134244157,"body_markdown":"Given the current code `blackList` cannot be `null`, therefore *something* else is going on. And why do you want to blacklist JWTs in the first place, that defeats a large part of their purpose!?","body":"Given the current code <code>blackList</code> cannot be <code>null</code>, therefore <i>something</i> else is going on. And why do you want to blacklist JWTs in the first place, that defeats a large part of their purpose!?"},{"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"score":0,"creation_date":1682602257,"post_id":76120923,"comment_id":134244187,"body_markdown":"@luk2302 I need to invalidate the jwt once i create a new one, do you know another way to do that?","body":"@luk2302 I need to invalidate the jwt once i create a new one, do you know another way to do that?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1682613353,"post_id":76120923,"comment_id":134247085,"body_markdown":"You generally do **not** need to do that, no. As I said: that defeats e.g. the purpose of a JWT being self contained.","body":"You generally do <b>not</b> need to do that, no. As I said: that defeats e.g. the purpose of a JWT being self contained."}],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682602038,"answer_count":0,"score":0,"last_activity_date":1682601700,"creation_date":1682601700,"question_id":76120923,"body_markdown":"I want to create a jwt blacklist for everytime the user want to refresh the current one, (pratically there is also a fronted call to call this method every tot),\r\nMy question is i want this blacklist is running for all the thread so for each user(I using wildfly).\r\n\r\nMy code is this:\r\n\r\nThis when a jwt is created:\r\n\r\n    @Component\r\n    public class JwtTokenUtil{\r\n    private List&lt;String&gt; blackList = new ArrayList&lt;&gt;();\r\n    public String getUsernameFromToken(String token) {\r\n    \r\n            String username;\r\n    \r\n            try {\r\n                if (token != null) {\r\n                    String invalidToken;\r\n                    synchronized (blackList) {\r\n                        blackList.removeIf(tokn -&gt; isTokenExpired(tokn));\r\n                        invalidToken = blackList.stream().filter(blackList -&gt; blackList.equals(token)).collect(Collectors.joining());\r\n                        if (!StringUtils.isEmpty(invalidToken)) {\r\n                            throw new RuntimeException(&quot;JWT is invalid&quot;);\r\n                        }\r\n                    }\r\n                    final Claims claims = getClaimsFromToken(token);\r\n                    username = claims.getSubject();\r\n                } .....\r\n\r\nthis when it refresh (I get nullpointerException on blackList)\r\n\r\n \r\n\r\n    public Boolean canTokenBeRefreshed(String token) {\r\n            if (!isTokenExpired(token)) {\r\n                synchronized (blackList) { &lt;-NullPointerException\r\n                    blackList.removeIf(tokn -&gt; isTokenExpired(tokn));\r\n                    blackList.add(token);\r\n                }\r\n            }\r\n            return (!isTokenExpired(token));\r\n        }\r\n\r\n\r\nBoth method are in the same class, but i don&#39;t know if this is a right way to do it and why i keep getting nullPointerException ","title":"Create a JWT BlackList","body":"<p>I want to create a jwt blacklist for everytime the user want to refresh the current one, (pratically there is also a fronted call to call this method every tot),\nMy question is i want this blacklist is running for all the thread so for each user(I using wildfly).</p>\n<p>My code is this:</p>\n<p>This when a jwt is created:</p>\n<pre><code>@Component\npublic class JwtTokenUtil{\nprivate List&lt;String&gt; blackList = new ArrayList&lt;&gt;();\npublic String getUsernameFromToken(String token) {\n\n        String username;\n\n        try {\n            if (token != null) {\n                String invalidToken;\n                synchronized (blackList) {\n                    blackList.removeIf(tokn -&gt; isTokenExpired(tokn));\n                    invalidToken = blackList.stream().filter(blackList -&gt; blackList.equals(token)).collect(Collectors.joining());\n                    if (!StringUtils.isEmpty(invalidToken)) {\n                        throw new RuntimeException(&quot;JWT is invalid&quot;);\n                    }\n                }\n                final Claims claims = getClaimsFromToken(token);\n                username = claims.getSubject();\n            } .....\n</code></pre>\n<p>this when it refresh (I get nullpointerException on blackList)</p>\n<pre><code>public Boolean canTokenBeRefreshed(String token) {\n        if (!isTokenExpired(token)) {\n            synchronized (blackList) { &lt;-NullPointerException\n                blackList.removeIf(tokn -&gt; isTokenExpired(tokn));\n                blackList.add(token);\n            }\n        }\n        return (!isTokenExpired(token));\n    }\n</code></pre>\n<p>Both method are in the same class, but i don't know if this is a right way to do it and why i keep getting nullPointerException</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1682077021,"post_id":76072526,"comment_id":134162702,"body_markdown":"the reason for having a `finally` is to have code always executed - having a `return` in `finally` is *dangerous* (calling for surprises) - This special case is emphasized in the Java Language Specification [14.20.2. Execution of try-finally and try-catch-finally](https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.20.2-100-B-B-B): &quot;**If the finally block completes abruptly for reason S, then the try statement completes abruptly for reason S (and the throw of value V is discarded and forgotten).**&quot; (`return` completes abruptly)","body":"the reason for having a <code>finally</code> is to have code always executed - having a <code>return</code> in <code>finally</code> is <i>dangerous</i> (calling for surprises) - This special case is emphasized in the Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.20.2-100-B-B-B\" rel=\"nofollow noreferrer\">14.20.2. Execution of try-finally and try-catch-finally</a>: &quot;<b>If the finally block completes abruptly for reason S, then the try statement completes abruptly for reason S (and the throw of value V is discarded and forgotten).</b>&quot; (<code>return</code> completes abruptly)"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1682077176,"post_id":76072526,"comment_id":134162737,"body_markdown":"I suppose that these &quot;edge cases&quot; have their uses, if only to help teach us how Java works in these situations, but this type of code also gives me a &quot;nails on a chalkboard&quot; sensation, and I am hoping that it never sees the light of day.","body":"I suppose that these &quot;edge cases&quot; have their uses, if only to help teach us how Java works in these situations, but this type of code also gives me a &quot;nails on a chalkboard&quot; sensation, and I am hoping that it never sees the light of day."}],"answers":[{"tags":[],"owner":{"account_id":15264979,"reputation":92,"user_id":11013912,"display_name":"Simon B"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682601361,"creation_date":1682075582,"answer_id":76072604,"question_id":76072526,"body_markdown":"By using a finally block, the execution is not halted, but executed regardless if there was an unhandled exeption or not. From the Oracle documentation:\r\n\r\n&gt; The finally block always executes when the try block exits.\r\n\r\nSo even though a Runtime Exception is being thrown (NumberFormatException), the finally block is executed regardless. Hence, the return value of the temp function is not an Exception, but -1.\r\n\r\n 1. A is printed\r\n 2. parseInt throws\r\n 3. finally block is being executed\r\n 4. D is printed, -1 returned\r\n 5. -1 is printed\r\n 6. Since no Exception is in the stack frame, F is printed\r\n\r\n## EDIT (27.04.2023):\r\n\r\nAs user16320675 pointed out, the relevant Java Language Specification section is [14.20.2](https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.20.2-100-B-B-B):\r\n\r\n(minimal paraphrasing)\r\n*If execution of the try block completes abruptly because of a throw of a value V, and the run-time type of V is not assignment compatible with a catchable exception class of any catch clause of the try statement, then the finally block is executed. If the finally block completes abruptly (meaning a return/yield/break/continue/throw statement), then the throw of value V is discarded and forgotten.*\r\n\r\n\r\n\r\n\r\nHope this helps.","title":"Why is NumberFormatException not caught in this code","body":"<p>By using a finally block, the execution is not halted, but executed regardless if there was an unhandled exeption or not. From the Oracle documentation:</p>\n<blockquote>\n<p>The finally block always executes when the try block exits.</p>\n</blockquote>\n<p>So even though a Runtime Exception is being thrown (NumberFormatException), the finally block is executed regardless. Hence, the return value of the temp function is not an Exception, but -1.</p>\n<ol>\n<li>A is printed</li>\n<li>parseInt throws</li>\n<li>finally block is being executed</li>\n<li>D is printed, -1 returned</li>\n<li>-1 is printed</li>\n<li>Since no Exception is in the stack frame, F is printed</li>\n</ol>\n<h2>EDIT (27.04.2023):</h2>\n<p>As user16320675 pointed out, the relevant Java Language Specification section is <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.20.2-100-B-B-B\" rel=\"nofollow noreferrer\">14.20.2</a>:</p>\n<p>(minimal paraphrasing)\n<em>If execution of the try block completes abruptly because of a throw of a value V, and the run-time type of V is not assignment compatible with a catchable exception class of any catch clause of the try statement, then the finally block is executed. If the finally block completes abruptly (meaning a return/yield/break/continue/throw statement), then the throw of value V is discarded and forgotten.</em></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":26538475,"reputation":1,"user_id":20169610,"display_name":"J. T"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682075585,"answer_count":1,"score":0,"last_activity_date":1682601361,"creation_date":1682075049,"question_id":76072526,"body_markdown":"\r\n```\r\npublic class Test {\r\n    public static int temp(String a, String b) {\r\n        try {\r\n            System.out.print(&quot;A&quot;);\r\n            return Integer.parseInt(a)/Integer.parseInt(b);\r\n        } catch(ArithmeticException e) {\r\n            System.out.print(&quot;C&quot;);\r\n            return 0;\r\n        } finally {\r\n            System.out.print(&quot;D&quot;);\r\n            return -1;\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        try {\r\n            System.out.print(temp(&quot;1&quot;, null));\r\n        } catch (Exception e) {\r\n            System.out.print(&quot;E&quot;);\r\n        } finally {\r\n            System.out.print(&quot;F&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe output for this program is AD-1F.\r\n\r\nBut since b is null, Integer.parseInt(b) should throw a NumberFormatException, which is propagated back, and should be caught by the catch block in the main method. The output that I traced would be AD-1EF.\r\n\r\nIf the code in main method try-block is replaced with Integer.parseInt(null), output will be EF, which means that the NumberFormatException thrown by Integer.parseInt(null) should be caught in the first case.","title":"Why is NumberFormatException not caught in this code","body":"<pre><code>public class Test {\n    public static int temp(String a, String b) {\n        try {\n            System.out.print(&quot;A&quot;);\n            return Integer.parseInt(a)/Integer.parseInt(b);\n        } catch(ArithmeticException e) {\n            System.out.print(&quot;C&quot;);\n            return 0;\n        } finally {\n            System.out.print(&quot;D&quot;);\n            return -1;\n        }\n    }\n    public static void main(String[] args) {\n        try {\n            System.out.print(temp(&quot;1&quot;, null));\n        } catch (Exception e) {\n            System.out.print(&quot;E&quot;);\n        } finally {\n            System.out.print(&quot;F&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The output for this program is AD-1F.</p>\n<p>But since b is null, Integer.parseInt(b) should throw a NumberFormatException, which is propagated back, and should be caught by the catch block in the main method. The output that I traced would be AD-1EF.</p>\n<p>If the code in main method try-block is replaced with Integer.parseInt(null), output will be EF, which means that the NumberFormatException thrown by Integer.parseInt(null) should be caught in the first case.</p>\n"},{"tags":["java","kubernetes","jenkins","certificate","jcasc"],"owner":{"account_id":11755625,"reputation":421,"user_id":8603405,"accept_rate":80,"display_name":"EilonA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682601212,"creation_date":1682598371,"question_id":76120410,"body_markdown":"For some reason, when I try to test my kubernetes plugin connection, I get this error when using my image.\r\nIt worked before, and now it doesn&#39;t.\r\n\r\nI&#39;m not sure what caused it, did anyone see this error before?\r\n\r\nLogs -\r\n```\r\njava.security.cert.CertPathValidatorException: Path does not chain with any of the trust anchors\r\n\tat java.base/sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:157)\r\n\tat java.base/sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:83)\r\n\tat java.base/java.security.cert.CertPathValidator.validate(CertPathValidator.java:309)\r\n\tat java.base/sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:364)\r\nCaused: sun.security.validator.ValidatorException: PKIX path validation failed\r\n\tat java.base/sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:369)\r\n\tat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:275)\r\n\tat java.base/sun.security.validator.Validator.validate(Validator.java:264)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:313)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:222)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638)\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L8ciP.png\r\n\r\n\r\n\r\nUPDATE -\r\nWhen I&#39;m using the default jenkins/jenkins image I&#39;m getting this error -\r\n\r\n```\r\nError testing connection https://kubernetes.default: mapping values are not allowed here\r\nin &#39;reader&#39;, line 1, column 6:\r\n    sh: 1: aws: not found\r\n         ^\r\n```","title":"Jenkins Kubernetes - SSL issues PKIXCertPathValidator when trying to run jobs on slave pods","body":"<p>For some reason, when I try to test my kubernetes plugin connection, I get this error when using my image.\nIt worked before, and now it doesn't.</p>\n<p>I'm not sure what caused it, did anyone see this error before?</p>\n<p>Logs -</p>\n<pre><code>java.security.cert.CertPathValidatorException: Path does not chain with any of the trust anchors\n    at java.base/sun.security.provider.certpath.PKIXCertPathValidator.validate(PKIXCertPathValidator.java:157)\n    at java.base/sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:83)\n    at java.base/java.security.cert.CertPathValidator.validate(CertPathValidator.java:309)\n    at java.base/sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:364)\nCaused: sun.security.validator.ValidatorException: PKIX path validation failed\n    at java.base/sun.security.validator.PKIXValidator.doValidate(PKIXValidator.java:369)\n    at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:275)\n    at java.base/sun.security.validator.Validator.validate(Validator.java:264)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:313)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:222)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:129)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/L8ciP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L8ciP.png\" alt=\"enter image description here\" /></a></p>\n<p>UPDATE -\nWhen I'm using the default jenkins/jenkins image I'm getting this error -</p>\n<pre><code>Error testing connection https://kubernetes.default: mapping values are not allowed here\nin 'reader', line 1, column 6:\n    sh: 1: aws: not found\n         ^\n</code></pre>\n"},{"tags":["java","json","pdf","itext","itext7"],"comments":[{"owner":{"account_id":1707578,"reputation":868,"user_id":1566339,"display_name":"Andr&#233; Lemos"},"score":1,"creation_date":1663313984,"post_id":73733473,"comment_id":130214491,"body_markdown":"we do support paying customers. OP, just [create a ticket with itext](https://itextpdf.com/support).","body":"we do support paying customers. OP, just <a href=\"https://itextpdf.com/support\" rel=\"nofollow noreferrer\">create a ticket with itext</a>."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":1,"creation_date":1663332040,"post_id":73733473,"comment_id":130220481,"body_markdown":"I’m voting to close this question since it is a licensing issue. And iText did already respond and said &quot;open a ticket&quot;","body":"I’m voting to close this question since it is a licensing issue. And iText did already respond and said &quot;open a ticket&quot;"},{"owner":{"account_id":14767792,"reputation":51,"user_id":10665272,"display_name":"saladukha"},"score":0,"creation_date":1663661604,"post_id":73733473,"comment_id":130286483,"body_markdown":"@Andr&#233;Lemos I created a ticket. But no one has answered it for several days.","body":"@Andr&#233;Lemos I created a ticket. But no one has answered it for several days."},{"owner":{"account_id":1707578,"reputation":868,"user_id":1566339,"display_name":"Andr&#233; Lemos"},"score":1,"creation_date":1663663878,"post_id":73733473,"comment_id":130287298,"body_markdown":"it was created yesterday, 14 hours ago.","body":"it was created yesterday, 14 hours ago."}],"answers":[{"tags":[],"owner":{"account_id":15501571,"reputation":85,"user_id":12530743,"display_name":"Narasimman P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682601179,"creation_date":1682601179,"answer_id":76120846,"question_id":73733473,"body_markdown":"It&#39;s because of your project using old version of `com.fasterxml.jackson` jar at runtime.\r\n\r\nupdate all your `com.fasterxml.jackson` dependency to updated version.\r\nIn my case I updated it to `2.9.3` from `2.8.4`.","title":"iTextPDF: License File issue","body":"<p>It's because of your project using old version of <code>com.fasterxml.jackson</code> jar at runtime.</p>\n<p>update all your <code>com.fasterxml.jackson</code> dependency to updated version.\nIn my case I updated it to <code>2.9.3</code> from <code>2.8.4</code>.</p>\n"}],"owner":{"account_id":14767792,"reputation":51,"user_id":10665272,"display_name":"saladukha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682601179,"creation_date":1663254292,"question_id":73733473,"body_markdown":"I am using the commercial version of iTextPDF(7.2.3) and html2pdf(4.0.3) to generate a PDF file. But when checking the license key I get the following error:\r\n\r\n    Caused by: java.lang.NoSuchFieldError: _objectFieldValueSeparatorWithSpaces\r\n    \t\tat com.itextpdf.licensing.base.util.JsonUtil$CustomPrettyPrinter.&lt;init&gt;(JsonUtil.java:138)\r\n    \t\tat com.itextpdf.licensing.base.util.JsonUtil.serializeToString(JsonUtil.java:47)\r\n    \t\tat com.itextpdf.licensing.base.util.SigningUtil.getExpectedSignature(SigningUtil.java:67)\r\n    \t\tat com.itextpdf.licensing.base.util.SigningUtil.checkSignature(SigningUtil.java:52)\r\n    \t\tat com.itextpdf.licensing.base.actions.LoadLicenseEvent.validateLicenceFile(LoadLicenseEvent.java:118)\r\n    \t\tat com.itextpdf.licensing.base.actions.LoadLicenseEvent.getProperLicenseFile(LoadLicenseEvent.java:100)\r\n    \t\tat com.itextpdf.licensing.base.actions.LoadLicenseEvent.&lt;init&gt;(LoadLicenseEvent.java:42)\r\n    \t\tat com.itextpdf.licensing.base.LicenseKey.loadLicenseFile(LicenseKey.java:151)\r\n    \t\tat com.itextpdf.licensing.base.LicenseKey.loadListOfLicenses(LicenseKey.java:216)\r\n    \t\tat com.itextpdf.licensing.base.LicenseKey.loadLicenseFile(LicenseKey.java:129)\r\n    \t\tat com.itextpdf.licensing.base.LicenseKey.loadLicenseFile(LicenseKey.java:88)\r\n\r\npom.xml:\r\n\r\n    &lt;repositories&gt;   \r\n            &lt;repository&gt;\r\n                &lt;id&gt;itext&lt;/id&gt;\r\n                &lt;name&gt;iText Repository - releases&lt;/name&gt;\r\n                &lt;url&gt;https://repo.itextsupport.com/releases&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    ...\r\n    &lt;properties&gt;\r\n         &lt;itextpdf.version&gt;7.2.3&lt;/itextpdf.version&gt;\r\n         &lt;html2pdf.version&gt;4.0.3&lt;/html2pdf.version&gt;\r\n         &lt;itext.licensekey.version&gt;4.0.3&lt;/itext.licensekey.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;com.itextpdf.licensing&lt;/groupId&gt;\r\n          &lt;artifactId&gt;licensing-base&lt;/artifactId&gt;\r\n          &lt;version&gt;${itext.licensekey.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n          &lt;artifactId&gt;itext7-core&lt;/artifactId&gt;\r\n          &lt;version&gt;${itextpdf.version}&lt;/version&gt;\r\n          &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n          &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\r\n          &lt;version&gt;${html2pdf.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\nThe method that performs the conversion to PDF:\r\n\r\n    private byte[] getPdfWithLocalesFontSupport(StringBuilder fileText) throws IOException {\r\n            LicenseKey.loadLicenseFile(new File(&quot;/path/key.json&quot;));\r\n            FontProvider fontProvider = new FontProvider(addCertificateFonts(), &quot;&quot;);\r\n            fontProvider.addStandardPdfFonts();\r\n    \r\n            ConverterProperties properties = new ConverterProperties().setFontProvider(fontProvider);\r\n            properties.setBaseUri(getBaseProjectUri());\r\n            try (ByteArrayOutputStream out = new ByteArrayOutputStream()) {\r\n                HtmlConverter.convertToPdf(fileText.toString(), out, properties);\r\n                return out.toByteArray();\r\n            }\r\n        }\r\n\r\nWhat is the problem and how to fix it?","title":"iTextPDF: License File issue","body":"<p>I am using the commercial version of iTextPDF(7.2.3) and html2pdf(4.0.3) to generate a PDF file. But when checking the license key I get the following error:</p>\n<pre><code>Caused by: java.lang.NoSuchFieldError: _objectFieldValueSeparatorWithSpaces\n        at com.itextpdf.licensing.base.util.JsonUtil$CustomPrettyPrinter.&lt;init&gt;(JsonUtil.java:138)\n        at com.itextpdf.licensing.base.util.JsonUtil.serializeToString(JsonUtil.java:47)\n        at com.itextpdf.licensing.base.util.SigningUtil.getExpectedSignature(SigningUtil.java:67)\n        at com.itextpdf.licensing.base.util.SigningUtil.checkSignature(SigningUtil.java:52)\n        at com.itextpdf.licensing.base.actions.LoadLicenseEvent.validateLicenceFile(LoadLicenseEvent.java:118)\n        at com.itextpdf.licensing.base.actions.LoadLicenseEvent.getProperLicenseFile(LoadLicenseEvent.java:100)\n        at com.itextpdf.licensing.base.actions.LoadLicenseEvent.&lt;init&gt;(LoadLicenseEvent.java:42)\n        at com.itextpdf.licensing.base.LicenseKey.loadLicenseFile(LicenseKey.java:151)\n        at com.itextpdf.licensing.base.LicenseKey.loadListOfLicenses(LicenseKey.java:216)\n        at com.itextpdf.licensing.base.LicenseKey.loadLicenseFile(LicenseKey.java:129)\n        at com.itextpdf.licensing.base.LicenseKey.loadLicenseFile(LicenseKey.java:88)\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;repositories&gt;   \n        &lt;repository&gt;\n            &lt;id&gt;itext&lt;/id&gt;\n            &lt;name&gt;iText Repository - releases&lt;/name&gt;\n            &lt;url&gt;https://repo.itextsupport.com/releases&lt;/url&gt;\n        &lt;/repository&gt;\n&lt;/repositories&gt;\n...\n&lt;properties&gt;\n     &lt;itextpdf.version&gt;7.2.3&lt;/itextpdf.version&gt;\n     &lt;html2pdf.version&gt;4.0.3&lt;/html2pdf.version&gt;\n     &lt;itext.licensekey.version&gt;4.0.3&lt;/itext.licensekey.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n&lt;dependency&gt;\n      &lt;groupId&gt;com.itextpdf.licensing&lt;/groupId&gt;\n      &lt;artifactId&gt;licensing-base&lt;/artifactId&gt;\n      &lt;version&gt;${itext.licensekey.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n      &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n      &lt;artifactId&gt;itext7-core&lt;/artifactId&gt;\n      &lt;version&gt;${itextpdf.version}&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n      &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n      &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\n      &lt;version&gt;${html2pdf.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n  \n<p>The method that performs the conversion to PDF:</p>\n<pre><code>private byte[] getPdfWithLocalesFontSupport(StringBuilder fileText) throws IOException {\n        LicenseKey.loadLicenseFile(new File(&quot;/path/key.json&quot;));\n        FontProvider fontProvider = new FontProvider(addCertificateFonts(), &quot;&quot;);\n        fontProvider.addStandardPdfFonts();\n\n        ConverterProperties properties = new ConverterProperties().setFontProvider(fontProvider);\n        properties.setBaseUri(getBaseProjectUri());\n        try (ByteArrayOutputStream out = new ByteArrayOutputStream()) {\n            HtmlConverter.convertToPdf(fileText.toString(), out, properties);\n            return out.toByteArray();\n        }\n    }\n</code></pre>\n<p>What is the problem and how to fix it?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":25274381,"reputation":21,"user_id":19103249,"display_name":"Truvada"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682583665,"creation_date":1682583644,"answer_id":76118248,"question_id":76118226,"body_markdown":"You used the annotation @PostMapping, which is used to map a request with the method POST, you&#39;re trying to access this path with a request using the method GET, try using a request with the method POST instead or switching to the annotation @GetMapping","title":"Method &#39;GET&#39; is not supported. org.springframework.web.HttpRequestMethodNotSupportedException:","body":"<p>You used the annotation @PostMapping, which is used to map a request with the method POST, you're trying to access this path with a request using the method GET, try using a request with the method POST instead or switching to the annotation @GetMapping</p>\n"}],"owner":{"account_id":21112293,"reputation":1,"user_id":15520017,"display_name":"SURYA-DEVELOPER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682631105,"answer_count":1,"score":0,"last_activity_date":1682601150,"creation_date":1682583446,"question_id":76118226,"body_markdown":"```java\r\n@RestController\r\npublic class userController {\r\n\t\r\n\t@Autowired\r\n\tuserRepo Userrepo;\r\n\t\r\n\t@PostMapping(&quot;/user1&quot;)\r\n\tpublic userModel createUser(@RequestBody userModel user)\r\n\t{\r\n\t\tuser.setUserId(111);\r\n\t\tuser.setUserName(&quot;sury&quot;);\r\n\t\tuser.setUserEmail(&quot;sury@gmail.com&quot;);\r\n\t\tuser.setUserPass(&quot;LeoLeo&quot;);\r\n\t\r\n        return Userrepo.save(user);\r\n\t}\r\n```\r\n\r\nI tried to store the data in the DB, but it&#39;s showing GET not supported error.","title":"Method &#39;GET&#39; is not supported. org.springframework.web.HttpRequestMethodNotSupportedException:","body":"<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class userController {\n    \n    @Autowired\n    userRepo Userrepo;\n    \n    @PostMapping(&quot;/user1&quot;)\n    public userModel createUser(@RequestBody userModel user)\n    {\n        user.setUserId(111);\n        user.setUserName(&quot;sury&quot;);\n        user.setUserEmail(&quot;sury@gmail.com&quot;);\n        user.setUserPass(&quot;LeoLeo&quot;);\n    \n        return Userrepo.save(user);\n    }\n</code></pre>\n<p>I tried to store the data in the DB, but it's showing GET not supported error.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9522,"page":470,"page_size":100}
