{"items":[{"tags":["java","if-statement","java.util.scanner"],"comments":[{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1496050158,"post_id":44239008,"comment_id":75487343,"body_markdown":"where is `else if`","body":"where is <code>else if</code>"},{"owner":{"account_id":1530592,"reputation":92715,"user_id":1427878,"display_name":"CBroe"},"score":0,"creation_date":1496050171,"post_id":44239008,"comment_id":75487353,"body_markdown":"Replace the second else with an else-if, that check if the entered char was `n` ...","body":"Replace the second else with an else-if, that check if the entered char was <code>n</code> ..."},{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":0,"creation_date":1496050184,"post_id":44239008,"comment_id":75487356,"body_markdown":"I suggest trying break your problem into steps... Step 1: Read the word. Step 2: Check for &quot;c&quot;. Step 3: If not &quot;c&quot;, check for &quot;n&quot;, Step 4: Sysout. You will need to store your read value into a variable, because calling choices.next() two times will lead to funny results.","body":"I suggest trying break your problem into steps... Step 1: Read the word. Step 2: Check for &quot;c&quot;. Step 3: If not &quot;c&quot;, check for &quot;n&quot;, Step 4: Sysout. You will need to store your read value into a variable, because calling choices.next() two times will lead to funny results."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1496050576,"post_id":44239008,"comment_id":75487613,"body_markdown":"Regarding your edit, that&#39;s because you&#39;re prompting them again by calling `choices.next()` again. Store the result in a variable and then you can test it as many times as you need to.","body":"Regarding your edit, that&#39;s because you&#39;re prompting them again by calling <code>choices.next()</code> again. Store the result in a variable and then you can test it as many times as you need to."},{"owner":{"account_id":7009242,"reputation":1636,"user_id":5372723,"accept_rate":100,"display_name":"Turtle"},"score":0,"creation_date":1496064585,"post_id":44239008,"comment_id":75496344,"body_markdown":"@Eustion you replaced an important part of your question by &quot;Problem solved&quot;, so your question and its answer don&#39;t really make sense anymore. You should keep the part where you said that you tried a `else if` and that you were reading two characters, as it was the real problem (calling `next()` twice)","body":"@Eustion you replaced an important part of your question by &quot;Problem solved&quot;, so your question and its answer don&#39;t really make sense anymore. You should keep the part where you said that you tried a <code>else if</code> and that you were reading two characters, as it was the real problem (calling <code>next()</code> twice)"}],"answers":[{"tags":[],"owner":{"account_id":10860042,"reputation":191,"user_id":7985188,"display_name":"Kaiserbogey"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1496050305,"creation_date":1496050121,"answer_id":44239036,"question_id":44239008,"body_markdown":"The `else` keyword is exactly what you need. What you should use to solve your problem is `else if`. To avoid reading another input between the `if`&#39;s, just store `choices.next()` in a variable and call this variable instead in your `if`s statements.\r\n\r\n    String entry = choices.next();\r\n    if (entry.startsWith(&quot;c&quot;)) {\r\n        cmethod();\r\n    }\r\n    else if (entry.startsWith(&quot;n&quot;)) {\r\n        nmethod();\r\n    }\r\n    else {\r\n        // default behaviour if wrong entry\r\n    }\r\n\r\nThe nmethod() will be called only if the input is not &#39;c&#39; and is &#39;n&#39;, and if none of these conditions are met, it will enter the `else` part.","title":"If user input doesn&#39;t meet conditions, return message","body":"<p>The <code>else</code> keyword is exactly what you need. What you should use to solve your problem is <code>else if</code>. To avoid reading another input between the <code>if</code>'s, just store <code>choices.next()</code> in a variable and call this variable instead in your <code>if</code>s statements.</p>\n\n<pre><code>String entry = choices.next();\nif (entry.startsWith(\"c\")) {\n    cmethod();\n}\nelse if (entry.startsWith(\"n\")) {\n    nmethod();\n}\nelse {\n    // default behaviour if wrong entry\n}\n</code></pre>\n\n<p>The nmethod() will be called only if the input is not 'c' and is 'n', and if none of these conditions are met, it will enter the <code>else</code> part.</p>\n"},{"tags":[],"owner":{"account_id":8664297,"reputation":1117,"user_id":6485457,"accept_rate":80,"display_name":"modsfabio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1496050549,"creation_date":1496050549,"answer_id":44239164,"question_id":44239008,"body_markdown":"You have to extract `next()` to a variable. If you don&#39;t do it, `next()` will always return the current keyword and move on to the next one.\r\nAdditionally you have to use `else if` if you want to check for another keyword.\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;This program can randomize characters or numbers.&quot;);\r\n        System.out.println(&quot;Please input \\&quot;c\\&quot; for characters, and \\&quot;n\\&quot; for numbers. &quot;);\r\n        Scanner choices = new Scanner(System.in);\r\n\r\n        String keyword = choices.next();\r\n\r\n        if (keyword.startsWith(&quot;c&quot;)) {\r\n            cmethod();\r\n        } else if (keyword.startsWith(&quot;n&quot;)) {\r\n            nmethod();\r\n        } else {\r\n            System.out.println(&quot;Keyword is wrong.&quot;);\r\n        }\r\n    }","title":"If user input doesn&#39;t meet conditions, return message","body":"<p>You have to extract <code>next()</code> to a variable. If you don't do it, <code>next()</code> will always return the current keyword and move on to the next one.\nAdditionally you have to use <code>else if</code> if you want to check for another keyword.</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(\"This program can randomize characters or numbers.\");\n    System.out.println(\"Please input \\\"c\\\" for characters, and \\\"n\\\" for numbers. \");\n    Scanner choices = new Scanner(System.in);\n\n    String keyword = choices.next();\n\n    if (keyword.startsWith(\"c\")) {\n        cmethod();\n    } else if (keyword.startsWith(\"n\")) {\n        nmethod();\n    } else {\n        System.out.println(\"Keyword is wrong.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7009242,"reputation":1636,"user_id":5372723,"accept_rate":100,"display_name":"Turtle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496050904,"creation_date":1496050904,"answer_id":44239289,"question_id":44239008,"body_markdown":"Even though you have some working solutions provided here, it seems weird that no one spoke about the really easy `switch` statement.\r\n\r\nBasically:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t    System.out.println(&quot;This program can randomize characters or numbers.&quot;);\r\n\t    System.out.println(&quot;Please input \\&quot;c\\&quot; for characters, and \\&quot;n\\&quot; for numbers. &quot;);\r\n\t    Scanner choices = new Scanner(System.in);\r\n\r\n\t    switch(choices.next().charAt(0)) {\r\n\t    \tcase &#39;c&#39;:\r\n\t        \tcmethod();\r\n\t\t\t\tbreak;\r\n\t    \tcase &#39;n&#39;:\r\n\t    \t    nmethod();\r\n\t\t\t\tbreak;\r\n\t    \tdefault:\r\n\t    \t    System.out.println(&quot;Keyword is wrong.&quot;);\r\n\t\t}\r\n\t}\r\n\r\nThis join the other answers on the fact that the `next()` function is only evaluated once.","title":"If user input doesn&#39;t meet conditions, return message","body":"<p>Even though you have some working solutions provided here, it seems weird that no one spoke about the really easy <code>switch</code> statement.</p>\n\n<p>Basically:</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(\"This program can randomize characters or numbers.\");\n    System.out.println(\"Please input \\\"c\\\" for characters, and \\\"n\\\" for numbers. \");\n    Scanner choices = new Scanner(System.in);\n\n    switch(choices.next().charAt(0)) {\n        case 'c':\n            cmethod();\n            break;\n        case 'n':\n            nmethod();\n            break;\n        default:\n            System.out.println(\"Keyword is wrong.\");\n    }\n}\n</code></pre>\n\n<p>This join the other answers on the fact that the <code>next()</code> function is only evaluated once.</p>\n"},{"tags":[],"owner":{"account_id":7253324,"reputation":2255,"user_id":5532829,"display_name":"RoshanKumar Mutha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496051120,"creation_date":1496051120,"answer_id":44239357,"question_id":44239008,"body_markdown":"Use reflection where you can pass method name and if method exist then it will be found otherwise it will throw exception where you can display message.\r\n\r\n\r\n    java.lang.reflect.Method method;\r\n    try {\r\n         method = this.getClass().getMethod(methodName, param1.class, \r\n     param2.class, ..);\r\n     } catch (SecurityException e) { ... }\r\n    catch (NoSuchMethodException e) { ... }\r\n\r\nTry sample where put correct and wrong method name in below test example.\r\n\r\n    public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tObject obj = new Test();\r\n\r\n\t\tjava.lang.reflect.Method method;\r\n\t\ttry {\r\n\t\t\tmethod = obj.getClass().getMethod(&quot;tryone1&quot;);\r\n\t\t\tSystem.out.println(&quot;Found&quot;);\r\n\t\t} catch (SecurityException e) {\r\n\t\t\tSystem.out.println(&quot; SecurityException Found&quot;);\r\n\t\t} catch (NoSuchMethodException e) {\r\n\t\t\tSystem.out.println(&quot;Not Found&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic void tryone() {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\tpublic void trytwo() {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n    }\r\n\r\n\r\nDo customize above example as per your need. Such as if c comes as argument then String methodname= arg[0]+&quot;method&quot; and pass as method parameter name in getMethod(&quot;tryone1&quot;) method.","title":"If user input doesn&#39;t meet conditions, return message","body":"<p>Use reflection where you can pass method name and if method exist then it will be found otherwise it will throw exception where you can display message.</p>\n\n<pre><code>java.lang.reflect.Method method;\ntry {\n     method = this.getClass().getMethod(methodName, param1.class, \n param2.class, ..);\n } catch (SecurityException e) { ... }\ncatch (NoSuchMethodException e) { ... }\n</code></pre>\n\n<p>Try sample where put correct and wrong method name in below test example.</p>\n\n<pre><code>public class Test {\n\npublic static void main(String[] args) {\n\n    Object obj = new Test();\n\n    java.lang.reflect.Method method;\n    try {\n        method = obj.getClass().getMethod(\"tryone1\");\n        System.out.println(\"Found\");\n    } catch (SecurityException e) {\n        System.out.println(\" SecurityException Found\");\n    } catch (NoSuchMethodException e) {\n        System.out.println(\"Not Found\");\n    }\n\n}\n\npublic void tryone() {\n    // TODO Auto-generated method stub\n\n}\n\npublic void trytwo() {\n    // TODO Auto-generated method stub\n\n}\n\n}\n</code></pre>\n\n<p>Do customize above example as per your need. Such as if c comes as argument then String methodname= arg[0]+\"method\" and pass as method parameter name in getMethod(\"tryone1\") method.</p>\n"},{"tags":[],"owner":{"account_id":10998865,"reputation":223,"user_id":8080044,"display_name":"fluffy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496051413,"creation_date":1496051413,"answer_id":44239445,"question_id":44239008,"body_markdown":"Try:\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;This program can randomize characters or numbers.&quot;);\r\n        System.out.println(&quot;Please input \\&quot;c\\&quot; for characters, and \\&quot;n\\&quot; for numbers. &quot;);\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        try{\r\n        String s = br.readLine();\r\n        if (s.startsWith(&quot;c&quot;)) {\r\n            System.out.println(&quot;c&quot;);\r\n            System.exit(1);\r\n        }\r\n        if (s.startsWith(&quot;n&quot;)){\r\n            System.out.println(&quot;n&quot;);\r\n            System.exit(1);\r\n        }else {\r\n        System.out.println(&quot;Keyword is wrong.&quot;);\r\n        }\r\n        }catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nWorked For me, hope it does for you.","title":"If user input doesn&#39;t meet conditions, return message","body":"<p>Try:</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(\"This program can randomize characters or numbers.\");\n    System.out.println(\"Please input \\\"c\\\" for characters, and \\\"n\\\" for numbers. \");\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    try{\n    String s = br.readLine();\n    if (s.startsWith(\"c\")) {\n        System.out.println(\"c\");\n        System.exit(1);\n    }\n    if (s.startsWith(\"n\")){\n        System.out.println(\"n\");\n        System.exit(1);\n    }else {\n    System.out.println(\"Keyword is wrong.\");\n    }\n    }catch(Exception e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Worked For me, hope it does for you.</p>\n"},{"tags":[],"owner":{"account_id":3877963,"reputation":546,"user_id":5204909,"accept_rate":71,"display_name":"R Dhaval"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496051587,"creation_date":1496051587,"answer_id":44239510,"question_id":44239008,"body_markdown":"Another approach: Using switch-case \r\n\r\n    String s =choices.next();\r\n    char first = s.charAt(0);\r\n\r\n    switch(first){\r\n      case &#39;c&#39;: cmethod(); break;\r\n      case &#39;n&#39;:nmethod(); break;\r\n      default : System.out.println(&quot;Keyword is wrong.&quot;);\r\n    }","title":"If user input doesn&#39;t meet conditions, return message","body":"<p>Another approach: Using switch-case </p>\n\n<pre><code>String s =choices.next();\nchar first = s.charAt(0);\n\nswitch(first){\n  case 'c': cmethod(); break;\n  case 'n':nmethod(); break;\n  default : System.out.println(\"Keyword is wrong.\");\n}\n</code></pre>\n"}],"owner":{"account_id":9211502,"reputation":31,"user_id":6844460,"display_name":"Eustion"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":44239164,"answer_count":6,"score":0,"last_activity_date":1684890640,"creation_date":1496050038,"question_id":44239008,"body_markdown":"So I&#39;m really new to Java, and what I&#39;m trying to do is let the user input a keyword, which will be passed to different conditions. If the keyword starts with &quot;c&quot;, it will execute cmethod. If the keyword starts with &quot;n&quot;, it will execute nmethod. \r\nThe problem is, I also want to display a message if the user inputs neither something that starts with &quot;c&quot; or &quot;n&quot;. Here&#39;s what I&#39;ve been able to think through (I&#39;m aware that this code won&#39;t work though)\r\n\r\n        public static void main(String[] args) {\r\n        System.out.println(&quot;This program can randomize characters or numbers.&quot;);\r\n        System.out.println(&quot;Please input \\&quot;c\\&quot; for characters, and \\&quot;n\\&quot; for numbers. &quot;);\r\n        Scanner choices = new Scanner(System.in);\r\n        \r\n        if (choices.next().startsWith(&quot;c&quot;)) {\r\n            cmethod();\r\n        }\r\n                \r\n        else {\r\n            nmethod();\r\n        }\r\n        \r\n        //how do I execute the code below if none of the conditions are met?\r\n        else {\r\n            System.out.println(&quot;Keyword is wrong.&quot;);\r\n        }\r\n    }\r\n\r\n**EDIT :** Tried to use else if, but then for nmethod() to be executed, the user have to type in &quot;n&quot; twice.\r\n\r\n\r\n","title":"If user input doesn&#39;t meet conditions, return message","body":"<p>So I'm really new to Java, and what I'm trying to do is let the user input a keyword, which will be passed to different conditions. If the keyword starts with \"c\", it will execute cmethod. If the keyword starts with \"n\", it will execute nmethod. \nThe problem is, I also want to display a message if the user inputs neither something that starts with \"c\" or \"n\". Here's what I've been able to think through (I'm aware that this code won't work though)</p>\n\n<pre><code>    public static void main(String[] args) {\n    System.out.println(\"This program can randomize characters or numbers.\");\n    System.out.println(\"Please input \\\"c\\\" for characters, and \\\"n\\\" for numbers. \");\n    Scanner choices = new Scanner(System.in);\n\n    if (choices.next().startsWith(\"c\")) {\n        cmethod();\n    }\n\n    else {\n        nmethod();\n    }\n\n    //how do I execute the code below if none of the conditions are met?\n    else {\n        System.out.println(\"Keyword is wrong.\");\n    }\n}\n</code></pre>\n\n<p><strong>EDIT :</strong> Tried to use else if, but then for nmethod() to be executed, the user have to type in \"n\" twice.</p>\n"},{"tags":["java","iterator","queue","heap"],"answers":[{"tags":[],"owner":{"account_id":15915815,"reputation":736,"user_id":11484412,"display_name":"Konrad Neitzel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1557599636,"creation_date":1557597393,"answer_id":56092936,"question_id":56092725,"body_markdown":"First of all, my understanding is, that your data is inside elementData and size gives the number of elements stored inside.\r\n\r\niterator() gives you an iterator. Your Iterator implementation has index as a point to the current element.\r\n\r\nWhat do you plan to store inside index? I see 2 possibilities:\r\na) it is giving you the current data location. The first element inside the array is element 0, so to be before that, I would initialize it as -1.\r\nb) It could be visual. So it is initialized as 0 first and then 1 means: first element, which would be the elementData[0].\r\n==&gt; It is just an internal variable so it is completely up to you, what you want to store inside of it.\r\n\r\nNow let us look at your hasNext method. If the sizer is 0, then there cannot be a next element. Ok. But then you check if iterator() is null? iterator always returns a new instance of your inner iterator class. So it will always be non null! So this seems wrong.\r\n\r\nYou have index and size. So you just have to check if the index is already pointing to the last element. So depending on the choice a/b above, you simply have to check if index+1 &lt; size or index&lt;size.\r\n\r\nAnd then the next function:\r\n - It has to validate that there is another element. (=&gt; hasNext)\r\n - you increase index\r\n - you return the element, index is pointing to (elementData[index] or elementData[index-1] (depends again on your decision what to store inside index)\r\n\r\nMy hint is, to play around with it with paper and pen. Just write an instance of your class with e.g. 3 elements (so elementData[0], elementData[1], elementData[2] hs some value, size = 3. You create a new instance of your iterator, index is initialized and then see what must happen.\r\n\r\nA possible class that shows an implementation is:\r\nimport java.util.Iterator;\r\n    \r\n    public class MaxHeapPriorityQueue&lt;E extends Comparable&lt;E&gt;&gt; {\r\n        private E[] elementData;\r\n        private int size;\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public MaxHeapPriorityQueue() {\r\n            elementData = (E[]) new Comparable[10];\r\n            size = 0;\r\n        }\r\n    \r\n        public void add(E data) {\r\n            if (size == 10) throw new IllegalStateException(&quot;Queue full&quot;);\r\n    \r\n            elementData[size] = data;\r\n            size++;\r\n        }\r\n    \r\n        public Iterator&lt;E&gt; iterator() {\r\n            return new MHPQIterator();\r\n        }\r\n    \r\n        public class MHPQIterator implements java.util.Iterator&lt;E&gt;\r\n        {\r\n            private int index=-1;\r\n    \r\n            public boolean hasNext()\r\n            {\r\n                return (index+1)&lt;size;\r\n            }\r\n    \r\n            public E next()\r\n            {\r\n                index++;\r\n                return elementData[index];\r\n            }\r\n        }\r\n    \r\n        public static void main (String[] args) {\r\n            MaxHeapPriorityQueue&lt;Integer&gt; queue = new MaxHeapPriorityQueue&lt;&gt;();\r\n            Iterator&lt;Integer&gt; iterator = queue.iterator();\r\n    \r\n            System.out.println(&quot;Empty queue:&quot;);\r\n            while (iterator.hasNext())\r\n                System.out.println(iterator.next());\r\n    \r\n            queue.add(1);\r\n    \r\n            System.out.println(&quot;Queue with 1 element (1):&quot;);\r\n            iterator = queue.iterator();\r\n            while (iterator.hasNext())\r\n                System.out.println(iterator.next());\r\n    \r\n            queue.add(2);\r\n            queue.add(3);\r\n            queue.add(4);\r\n    \r\n            System.out.println(&quot;Queue with 4 elementa (1,2,3,4):&quot;);\r\n            iterator = queue.iterator();\r\n            while (iterator.hasNext())\r\n                System.out.println(iterator.next());\r\n        }\r\n    }","title":"How to write a next method with an Iterator and a MaxHeapPriorityQueue in java","body":"<p>First of all, my understanding is, that your data is inside elementData and size gives the number of elements stored inside.</p>\n\n<p>iterator() gives you an iterator. Your Iterator implementation has index as a point to the current element.</p>\n\n<p>What do you plan to store inside index? I see 2 possibilities:\na) it is giving you the current data location. The first element inside the array is element 0, so to be before that, I would initialize it as -1.\nb) It could be visual. So it is initialized as 0 first and then 1 means: first element, which would be the elementData[0].\n==> It is just an internal variable so it is completely up to you, what you want to store inside of it.</p>\n\n<p>Now let us look at your hasNext method. If the sizer is 0, then there cannot be a next element. Ok. But then you check if iterator() is null? iterator always returns a new instance of your inner iterator class. So it will always be non null! So this seems wrong.</p>\n\n<p>You have index and size. So you just have to check if the index is already pointing to the last element. So depending on the choice a/b above, you simply have to check if index+1 &lt; size or index\n\n<p>And then the next function:\n - It has to validate that there is another element. (=> hasNext)\n - you increase index\n - you return the element, index is pointing to (elementData[index] or elementData[index-1] (depends again on your decision what to store inside index)</p>\n\n<p>My hint is, to play around with it with paper and pen. Just write an instance of your class with e.g. 3 elements (so elementData[0], elementData[1], elementData[2] hs some value, size = 3. You create a new instance of your iterator, index is initialized and then see what must happen.</p>\n\n<p>A possible class that shows an implementation is:\nimport java.util.Iterator;</p>\n\n<pre><code>public class MaxHeapPriorityQueue&lt;E extends Comparable&lt;E&gt;&gt; {\n    private E[] elementData;\n    private int size;\n\n    @SuppressWarnings(\"unchecked\")\n    public MaxHeapPriorityQueue() {\n        elementData = (E[]) new Comparable[10];\n        size = 0;\n    }\n\n    public void add(E data) {\n        if (size == 10) throw new IllegalStateException(\"Queue full\");\n\n        elementData[size] = data;\n        size++;\n    }\n\n    public Iterator&lt;E&gt; iterator() {\n        return new MHPQIterator();\n    }\n\n    public class MHPQIterator implements java.util.Iterator&lt;E&gt;\n    {\n        private int index=-1;\n\n        public boolean hasNext()\n        {\n            return (index+1)&lt;size;\n        }\n\n        public E next()\n        {\n            index++;\n            return elementData[index];\n        }\n    }\n\n    public static void main (String[] args) {\n        MaxHeapPriorityQueue&lt;Integer&gt; queue = new MaxHeapPriorityQueue&lt;&gt;();\n        Iterator&lt;Integer&gt; iterator = queue.iterator();\n\n        System.out.println(\"Empty queue:\");\n        while (iterator.hasNext())\n            System.out.println(iterator.next());\n\n        queue.add(1);\n\n        System.out.println(\"Queue with 1 element (1):\");\n        iterator = queue.iterator();\n        while (iterator.hasNext())\n            System.out.println(iterator.next());\n\n        queue.add(2);\n        queue.add(3);\n        queue.add(4);\n\n        System.out.println(\"Queue with 4 elementa (1,2,3,4):\");\n        iterator = queue.iterator();\n        while (iterator.hasNext())\n            System.out.println(iterator.next());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557597985,"creation_date":1557597985,"answer_id":56093013,"question_id":56092725,"body_markdown":"Like this:\r\n\r\n    public class MHPQIterator implements java.util.Iterator&lt;E&gt;\r\n    {\r\n        private int index=0;\r\n    \r\n        public boolean hasNext()\r\n        {\r\n            return (index &lt; size);\r\n        }\r\n        public E next()\r\n        {\r\n            return elementData[index++];\r\n        }\r\n    }\r\n\r\n","title":"How to write a next method with an Iterator and a MaxHeapPriorityQueue in java","body":"<p>Like this:</p>\n\n<pre><code>public class MHPQIterator implements java.util.Iterator&lt;E&gt;\n{\n    private int index=0;\n\n    public boolean hasNext()\n    {\n        return (index &lt; size);\n    }\n    public E next()\n    {\n        return elementData[index++];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14639794,"reputation":422,"user_id":10572727,"display_name":"Adan Vivero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557599855,"creation_date":1557599855,"answer_id":56093235,"question_id":56092725,"body_markdown":"Here is what worked for me, however the answer was posted here and I accepted it, but here&#39;s what worked with my code. \r\n\r\n    public class MHPQIterator implements java.util.Iterator&lt;E&gt;\r\n    {\r\n        private int index;\r\n\r\n        public boolean hasNext()\r\n        {\r\n            if(size == 0)\r\n            {\r\n                return false;\r\n            }\r\n            else\r\n            {\r\n                return (index &lt; size);\r\n            }\r\n        }\r\n        public E next()\r\n        {\r\n            index++;\r\n            return elementData[index];\r\n        }\r\n    }","title":"How to write a next method with an Iterator and a MaxHeapPriorityQueue in java","body":"<p>Here is what worked for me, however the answer was posted here and I accepted it, but here's what worked with my code. </p>\n\n<pre><code>public class MHPQIterator implements java.util.Iterator&lt;E&gt;\n{\n    private int index;\n\n    public boolean hasNext()\n    {\n        if(size == 0)\n        {\n            return false;\n        }\n        else\n        {\n            return (index &lt; size);\n        }\n    }\n    public E next()\n    {\n        index++;\n        return elementData[index];\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14639794,"reputation":422,"user_id":10572727,"display_name":"Adan Vivero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56092936,"answer_count":3,"score":0,"last_activity_date":1684890612,"creation_date":1557595804,"question_id":56092725,"body_markdown":"I need help writing this next() method in this class. I&#39;ve tried several stuff, but I keep getting that I&#39;m not returning the next value, but rather null. \r\n\r\nThe instructions for this class reads: This class should be public, non-static, and should implement java.util.Iterator&lt;E&gt;. It&#39;s index instance variable should be initialized with an appropriate value. It&#39;s hasNext() method should return true if any elements in the queue have yet to be returned by its next() method. It&#39;s next() method should return queue values in the same order as in the underlying array.\r\n\r\nTherefore I&#39;m going to write the code that I have, but will cut it short so only the important elements that are relatable to my problem shows. \r\n\r\n    public class MaxHeapPriorityQueue&lt;E extends Comparable&lt;E&gt;&gt;\r\n    {\r\n    private E[] elementData;\r\n    private int size;\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public MaxHeapPriorityQueue()\r\n    {\r\n        elementData = (E[]) new Comparable[10];\r\n        size = 0;\r\n    }\r\n    public Iterator&lt;E&gt; iterator()\r\n    {\r\n        return new MHPQIterator();\r\n    }\r\nand the other class takes place here, which has ties with the Iterator method. \r\n\r\n    public class MHPQIterator implements java.util.Iterator&lt;E&gt;\r\n    {\r\n        private int index;\r\n\r\n        public boolean hasNext()\r\n        {\r\n            if(size == 0)\r\n            {\r\n                return false;\r\n            }\r\n            else\r\n            {\r\n                return (index &lt; size);\r\n            }\r\n        }\r\n        public E next()\r\n        {\r\n            return elementData[index];\r\n        }\r\n    }\r\n\r\nI&#39;m not sure if I&#39;m elementData would work, but I don&#39;t know what else I could return with. ","title":"How to write a next method with an Iterator and a MaxHeapPriorityQueue in java","body":"<p>I need help writing this next() method in this class. I've tried several stuff, but I keep getting that I'm not returning the next value, but rather null. </p>\n\n<p>The instructions for this class reads: This class should be public, non-static, and should implement java.util.Iterator. It's index instance variable should be initialized with an appropriate value. It's hasNext() method should return true if any elements in the queue have yet to be returned by its next() method. It's next() method should return queue values in the same order as in the underlying array.</p>\n\n<p>Therefore I'm going to write the code that I have, but will cut it short so only the important elements that are relatable to my problem shows. </p>\n\n<pre><code>public class MaxHeapPriorityQueue&lt;E extends Comparable&lt;E&gt;&gt;\n{\nprivate E[] elementData;\nprivate int size;\n\n@SuppressWarnings(\"unchecked\")\npublic MaxHeapPriorityQueue()\n{\n    elementData = (E[]) new Comparable[10];\n    size = 0;\n}\npublic Iterator&lt;E&gt; iterator()\n{\n    return new MHPQIterator();\n}\n</code></pre>\n\n<p>and the other class takes place here, which has ties with the Iterator method. </p>\n\n<pre><code>public class MHPQIterator implements java.util.Iterator&lt;E&gt;\n{\n    private int index;\n\n    public boolean hasNext()\n    {\n        if(size == 0)\n        {\n            return false;\n        }\n        else\n        {\n            return (index &lt; size);\n        }\n    }\n    public E next()\n    {\n        return elementData[index];\n    }\n}\n</code></pre>\n\n<p>I'm not sure if I'm elementData would work, but I don't know what else I could return with. </p>\n"},{"tags":["java","swing","gridbaglayout"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1684870936,"post_id":76317800,"comment_id":134579944,"body_markdown":"if you want to use `GridBagConstraints` and `Insets`, you must use `GridBagLayout` (here/instead of  `dataInputPanel.setLayout(new GridLayout(1, 2, 10, 0));`)  (and don&#39;t forget to set weights and fill) -- `GridLayout` does not *care* about constraints","body":"if you want to use <code>GridBagConstraints</code> and <code>Insets</code>, you must use <code>GridBagLayout</code> (here/instead of  <code>dataInputPanel.setLayout(new GridLayout(1, 2, 10, 0));</code>)  (and don&#39;t forget to set weights and fill) -- <code>GridLayout</code> does not <i>care</i> about constraints"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1684874095,"post_id":76317800,"comment_id":134580594,"body_markdown":"Don&#39;t call your classes &quot;Window&quot; and &quot;Panel&quot;. There are AWT components with that name so it gets confusing. Class names should be more descriptive. Also 1) All Swing components should be created on the Event Dispatch Thread (EDT). Read the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information. 2) components should be added to the frame BEFORE the frame is visible.","body":"Don&#39;t call your classes &quot;Window&quot; and &quot;Panel&quot;. There are AWT components with that name so it gets confusing. Class names should be more descriptive. Also 1) All Swing components should be created on the Event Dispatch Thread (EDT). Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information. 2) components should be added to the frame BEFORE the frame is visible."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684878446,"post_id":76317800,"comment_id":134581330,"body_markdown":"Use a `EmptyBorder` (on `dataInputPanel`)","body":"Use a <code>EmptyBorder</code> (on <code>dataInputPanel</code>)"},{"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"score":0,"creation_date":1684886935,"post_id":76317800,"comment_id":134582250,"body_markdown":"@camickr Thank you for the feedback. I changed the names. I will also read the article that you posted, however, I made sure to make that &quot;win&quot;, was &quot;setVisible&quot; at the end, but the issue still persists.","body":"@camickr Thank you for the feedback. I changed the names. I will also read the article that you posted, however, I made sure to make that &quot;win&quot;, was &quot;setVisible&quot; at the end, but the issue still persists."},{"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"score":0,"creation_date":1684887148,"post_id":76317800,"comment_id":134582268,"body_markdown":"@MadProgrammer Thank you for the feedback. I mean your solution does work, it&#39;s just a shame that the &quot;win&quot; need to be invisible. If you manage to find a way while making it still visible, please let me know, but thanks anyway.","body":"@MadProgrammer Thank you for the feedback. I mean your solution does work, it&#39;s just a shame that the &quot;win&quot; need to be invisible. If you manage to find a way while making it still visible, please let me know, but thanks anyway."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684887449,"post_id":76317800,"comment_id":134582297,"body_markdown":"*&quot;it&#39;s just a shame that the &quot;win&quot; need to be invisible&quot;* - I&#39;m sorry, I don&#39;t understand - although, to be frank, extending from `JFrame` is generally considered a bad idea, you&#39;re not actually adding any new functionality to the class and it&#39;s just adding more confusion to the issue","body":"<i>&quot;it&#39;s just a shame that the &quot;win&quot; need to be invisible&quot;</i> - I&#39;m sorry, I don&#39;t understand - although, to be frank, extending from <code>JFrame</code> is generally considered a bad idea, you&#39;re not actually adding any new functionality to the class and it&#39;s just adding more confusion to the issue"},{"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"score":0,"creation_date":1684888335,"post_id":76317800,"comment_id":134582378,"body_markdown":"@MadProgrammer, Well first off, yeah, I tried your suggestion, I created an ```EmptyBorder``` object ```EmptyBorder border1 = new EmptyBorder(0, 10, 0, 10);```, and I set it up on ```dataInputPanel```, and it did add the padding, but it also made it invisible. I would like the same result but to be able to see the border still. Second, I deleted the ```Win```, and ```Pnl``` classes in hopes to remove confusion. Thank you.","body":"@MadProgrammer, Well first off, yeah, I tried your suggestion, I created an <code>EmptyBorder</code> object <code>EmptyBorder border1 = new EmptyBorder(0, 10, 0, 10);</code>, and I set it up on <code>dataInputPanel</code>, and it did add the padding, but it also made it invisible. I would like the same result but to be able to see the border still. Second, I deleted the <code>Win</code>, and <code>Pnl</code> classes in hopes to remove confusion. Thank you."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1684888819,"post_id":76317800,"comment_id":134582420,"body_markdown":"You really need to have a look at [How to use borders](https://docs.oracle.com/javase/tutorial/uiswing/components/border.html) - and focus in `CompoundBorder`","body":"You really need to have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/border.html\" rel=\"nofollow noreferrer\">How to use borders</a> - and focus in <code>CompoundBorder</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1684890187,"post_id":76317800,"comment_id":134582539,"body_markdown":"*I changed the names* - Those names are not any better. A class name should be descriptive. *but the issue still persists* - You didn&#39;t implement the suggestions in the first comment. Read the tutorial on [How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) to understand how to use the constraints suggested in the comment. You don&#39;t need to use a Border, that is only one option. Then decide which approach you like. It will give you options in the future.","body":"<i>I changed the names</i> - Those names are not any better. A class name should be descriptive. <i>but the issue still persists</i> - You didn&#39;t implement the suggestions in the first comment. Read the tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a> to understand how to use the constraints suggested in the comment. You don&#39;t need to use a Border, that is only one option. Then decide which approach you like. It will give you options in the future."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1685004583,"post_id":76317800,"comment_id":134601189,"body_markdown":"being more direct: **(i)** change `dataInputPanel.setLayout(new GridLayout(1, 2, 10, 0));` to `dataInputPanel.setLayout(new GridBagLayout());`; **(ii)** add `gbc1.weightx = 1; gbc1.weighty = 1; gbc1.fill = BOTH;`; **(iii)** similar with `gbc2` (and, eventually, **(iv)** change `int paddingSize = 50;` to `int paddingSize = 10;`)","body":"being more direct: <b>(i)</b> change <code>dataInputPanel.setLayout(new GridLayout(1, 2, 10, 0));</code> to <code>dataInputPanel.setLayout(new GridBagLayout());</code>; <b>(ii)</b> add <code>gbc1.weightx = 1; gbc1.weighty = 1; gbc1.fill = BOTH;</code>; <b>(iii)</b> similar with <code>gbc2</code> (and, eventually, <b>(iv)</b> change <code>int paddingSize = 50;</code> to <code>int paddingSize = 10;</code>)"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684889449,"creation_date":1684889449,"answer_id":76319455,"question_id":76317800,"body_markdown":"You really need to have a look at [How to use borders](https://docs.oracle.com/javase/tutorial/uiswing/components/border.html) - and focus in `CompoundBorder`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Insets;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.CompoundBorder;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.border.LineBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            public TestPane() {\r\n                setLayout(new GridLayout(2, 1));\r\n                JPanel dataInputPanel = new JPanel();\r\n                dataInputPanel.setLayout(new GridLayout(1, 2, 50, 0));\r\n                dataInputPanel.setBorder(new CompoundBorder(\r\n                        new LineBorder(Color.RED, 4, true), \r\n                        new EmptyBorder(10, 10, 10, 10)\r\n                ));\r\n                //dataInputPanel.setBackground(Color.RED);\r\n    //            dataInputPanel.setBorder(new LineBorder(Color.RED, 4, true));\r\n\r\n                JPanel battleOutupPanel = new JPanel();\r\n                //battleOutupPanel.setBackground(Color.GREEN);\r\n                battleOutupPanel.setBorder(new LineBorder(Color.GREEN, 4, true));\r\n                //-------------------------------------\r\n\r\n                int paddingSize = 50;\r\n                Insets paddingInsets = new Insets(paddingSize, paddingSize, paddingSize, paddingSize);\r\n\r\n                // Heroes Data Input Panel - dataInputPanel GridBagLayout 1 row, 2 columns\r\n                JPanel heroesDataInputPanel = new JPanel();\r\n                //heroesDataInputPanel.setBackground(Color.YELLOW);\r\n                heroesDataInputPanel.setBorder(new LineBorder(Color.YELLOW, 4, true));\r\n\r\n                dataInputPanel.add(heroesDataInputPanel);\r\n\r\n                // Beasts Data Input Panel - dataInputPanel - GridBagLayout 1 row, 2 columns\r\n                JPanel beastsDataInputPanel = new JPanel();\r\n                //beastsDataInputPanel.setBackground(Color.ORANGE);\r\n                beastsDataInputPanel.setBorder(new LineBorder(Color.ORANGE, 4, true));\r\n\r\n                dataInputPanel.add(beastsDataInputPanel);\r\n                //-------------\r\n\r\n                add(dataInputPanel);\r\n                add(battleOutupPanel);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(500, 600);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QQ4Ja.png","title":"Cannot add padding to JPanel (GridBagLayout), with 2 other JPanels inside","body":"<p>You really need to have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/border.html\" rel=\"nofollow noreferrer\">How to use borders</a> - and focus in <code>CompoundBorder</code></p>\n<p><a href=\"https://i.stack.imgur.com/QQ4Ja.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QQ4Ja.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridLayout;\nimport java.awt.Insets;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.CompoundBorder;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.LineBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        public TestPane() {\n            setLayout(new GridLayout(2, 1));\n            JPanel dataInputPanel = new JPanel();\n            dataInputPanel.setLayout(new GridLayout(1, 2, 50, 0));\n            dataInputPanel.setBorder(new CompoundBorder(\n                    new LineBorder(Color.RED, 4, true), \n                    new EmptyBorder(10, 10, 10, 10)\n            ));\n            //dataInputPanel.setBackground(Color.RED);\n//            dataInputPanel.setBorder(new LineBorder(Color.RED, 4, true));\n\n            JPanel battleOutupPanel = new JPanel();\n            //battleOutupPanel.setBackground(Color.GREEN);\n            battleOutupPanel.setBorder(new LineBorder(Color.GREEN, 4, true));\n            //-------------------------------------\n\n            int paddingSize = 50;\n            Insets paddingInsets = new Insets(paddingSize, paddingSize, paddingSize, paddingSize);\n\n            // Heroes Data Input Panel - dataInputPanel GridBagLayout 1 row, 2 columns\n            JPanel heroesDataInputPanel = new JPanel();\n            //heroesDataInputPanel.setBackground(Color.YELLOW);\n            heroesDataInputPanel.setBorder(new LineBorder(Color.YELLOW, 4, true));\n\n            dataInputPanel.add(heroesDataInputPanel);\n\n            // Beasts Data Input Panel - dataInputPanel - GridBagLayout 1 row, 2 columns\n            JPanel beastsDataInputPanel = new JPanel();\n            //beastsDataInputPanel.setBackground(Color.ORANGE);\n            beastsDataInputPanel.setBorder(new LineBorder(Color.ORANGE, 4, true));\n\n            dataInputPanel.add(beastsDataInputPanel);\n            //-------------\n\n            add(dataInputPanel);\n            add(battleOutupPanel);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(500, 600);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76319455,"answer_count":1,"score":0,"last_activity_date":1684889449,"creation_date":1684867670,"question_id":76317800,"body_markdown":"are you able to help me understand why there is no padding in ```dataInputPanel``` (the red border one)?\r\n\r\nGoal: To have 10 padding on top, right, bottom, left in ```dataInputPanel```\r\n\r\nError: No errors. It&#39;s just not working.\r\n\r\nMain:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        JFrame win = new JFrame();\r\n        win.setTitle(&quot;Lord of the Rings - Battle Simulator&quot;);\r\n        win.setSize(500, 600);\r\n        win.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        win.setLayout(new GridLayout(2, 1));\r\n        win.setResizable(false);\r\n        //-------------\r\n\r\n        JPanel dataInputPanel = new JPanel();\r\n        dataInputPanel.setLayout(new GridLayout(1, 2, 10, 0));\r\n        //dataInputPanel.setBackground(Color.RED);\r\n        dataInputPanel.setBorder(new LineBorder(Color.RED, 4, true));\r\n\r\n        JPanel battleOutupPanel = new JPanel();\r\n        //battleOutupPanel.setBackground(Color.GREEN);\r\n        battleOutupPanel.setBorder(new LineBorder(Color.GREEN, 4, true));\r\n        //-------------------------------------\r\n\r\n        int paddingSize = 50;\r\n        Insets paddingInsets = new Insets(paddingSize, paddingSize, paddingSize, paddingSize);\r\n\r\n        // Heroes Data Input Panel - dataInputPanel GridBagLayout 1 row, 2 columns\r\n        JPanel heroesDataInputPanel = new JPanel();\r\n        //heroesDataInputPanel.setBackground(Color.YELLOW);\r\n        heroesDataInputPanel.setBorder(new LineBorder(Color.YELLOW, 4, true));\r\n\r\n        GridBagConstraints gbc1 = new GridBagConstraints();\r\n        gbc1.gridx = 0;\r\n        gbc1.gridy = 0;\r\n        gbc1.insets = paddingInsets;\r\n        dataInputPanel.add(heroesDataInputPanel, gbc1);\r\n\r\n        // Beasts Data Input Panel - dataInputPanel - GridBagLayout 1 row, 2 columns\r\n        JPanel beastsDataInputPanel = new JPanel();\r\n        //beastsDataInputPanel.setBackground(Color.ORANGE);\r\n        beastsDataInputPanel.setBorder(new LineBorder(Color.ORANGE, 4, true));\r\n\r\n        GridBagConstraints gbc2 = new GridBagConstraints();\r\n        gbc2.gridx = 1;\r\n        gbc2.gridy = 0;\r\n        gbc2.insets = paddingInsets;\r\n        dataInputPanel.add(beastsDataInputPanel, gbc2);\r\n        //-------------\r\n\r\n        win.add(dataInputPanel);\r\n        win.add(battleOutupPanel);\r\n        win.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nWin:\r\n```\r\npublic class Win extends JFrame {\r\n}\r\n```\r\n\r\nPnl:\r\n```\r\npublic class Pnl extends JPanel {\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ezAgx.png","title":"Cannot add padding to JPanel (GridBagLayout), with 2 other JPanels inside","body":"<p>are you able to help me understand why there is no padding in <code>dataInputPanel</code> (the red border one)?</p>\n<p>Goal: To have 10 padding on top, right, bottom, left in <code>dataInputPanel</code></p>\n<p>Error: No errors. It's just not working.</p>\n<p>Main:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        JFrame win = new JFrame();\n        win.setTitle(&quot;Lord of the Rings - Battle Simulator&quot;);\n        win.setSize(500, 600);\n        win.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        win.setLayout(new GridLayout(2, 1));\n        win.setResizable(false);\n        //-------------\n\n        JPanel dataInputPanel = new JPanel();\n        dataInputPanel.setLayout(new GridLayout(1, 2, 10, 0));\n        //dataInputPanel.setBackground(Color.RED);\n        dataInputPanel.setBorder(new LineBorder(Color.RED, 4, true));\n\n        JPanel battleOutupPanel = new JPanel();\n        //battleOutupPanel.setBackground(Color.GREEN);\n        battleOutupPanel.setBorder(new LineBorder(Color.GREEN, 4, true));\n        //-------------------------------------\n\n        int paddingSize = 50;\n        Insets paddingInsets = new Insets(paddingSize, paddingSize, paddingSize, paddingSize);\n\n        // Heroes Data Input Panel - dataInputPanel GridBagLayout 1 row, 2 columns\n        JPanel heroesDataInputPanel = new JPanel();\n        //heroesDataInputPanel.setBackground(Color.YELLOW);\n        heroesDataInputPanel.setBorder(new LineBorder(Color.YELLOW, 4, true));\n\n        GridBagConstraints gbc1 = new GridBagConstraints();\n        gbc1.gridx = 0;\n        gbc1.gridy = 0;\n        gbc1.insets = paddingInsets;\n        dataInputPanel.add(heroesDataInputPanel, gbc1);\n\n        // Beasts Data Input Panel - dataInputPanel - GridBagLayout 1 row, 2 columns\n        JPanel beastsDataInputPanel = new JPanel();\n        //beastsDataInputPanel.setBackground(Color.ORANGE);\n        beastsDataInputPanel.setBorder(new LineBorder(Color.ORANGE, 4, true));\n\n        GridBagConstraints gbc2 = new GridBagConstraints();\n        gbc2.gridx = 1;\n        gbc2.gridy = 0;\n        gbc2.insets = paddingInsets;\n        dataInputPanel.add(beastsDataInputPanel, gbc2);\n        //-------------\n\n        win.add(dataInputPanel);\n        win.add(battleOutupPanel);\n        win.setVisible(true);\n    }\n}\n</code></pre>\n<p>Win:</p>\n<pre><code>public class Win extends JFrame {\n}\n</code></pre>\n<p>Pnl:</p>\n<pre><code>public class Pnl extends JPanel {\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ezAgx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ezAgx.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you!</p>\n"},{"tags":["java","ant","jar"],"answers":[{"tags":[],"owner":{"account_id":65096,"reputation":15637,"user_id":191797,"accept_rate":100,"display_name":"Piyush Mattoo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1300641967,"creation_date":1300641967,"answer_id":5370161,"question_id":5370058,"body_markdown":"You can unjar/unzip them manually, create the package and jar them back using and IDE or from the command prompt like [this][1]. Also, take a look at the ANT documentation on [Jar][2] and [Unjar][3] which is quite comprehensive.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/deployment/jar/build.html\r\n  [2]: http://ant.apache.org/manual/Tasks/jar.html\r\n  [3]: http://ant.apache.org/manual/Tasks/unzip.html","title":"Change the package of a JAR from the default package","body":"<p>You can unjar/unzip them manually, create the package and jar them back using and IDE or from the command prompt like <a href=\"http://download.oracle.com/javase/tutorial/deployment/jar/build.html\" rel=\"nofollow\">this</a>. Also, take a look at the ANT documentation on <a href=\"http://ant.apache.org/manual/Tasks/jar.html\" rel=\"nofollow\">Jar</a> and <a href=\"http://ant.apache.org/manual/Tasks/unzip.html\" rel=\"nofollow\">Unjar</a> which is quite comprehensive.</p>\n"},{"tags":[],"owner":{"account_id":240726,"reputation":2094,"user_id":511125,"accept_rate":100,"display_name":"Deepak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300642086,"creation_date":1300642086,"answer_id":5370170,"question_id":5370058,"body_markdown":"As @Piyush Instructed use the below command for creating a Jar file.      \r\n`jar -cvf *.* Example.jar`     \r\n","title":"Change the package of a JAR from the default package","body":"<p>As @Piyush Instructed use the below command for creating a Jar file.<br>\n<code>jar -cvf *.* Example.jar</code>     </p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1300643837,"creation_date":1300643837,"answer_id":5370323,"question_id":5370058,"body_markdown":"You need to change the sources and recompile then to change the package - simply moving the class files inside the jar (or outside) does not help.\r\n\r\nSo ask your teacher to give you the sources (or to put the classes in a suitable package), or use a decompiler to do this yourself.","title":"Change the package of a JAR from the default package","body":"<p>You need to change the sources and recompile then to change the package - simply moving the class files inside the jar (or outside) does not help.</p>\n\n<p>So ask your teacher to give you the sources (or to put the classes in a suitable package), or use a decompiler to do this yourself.</p>\n"},{"tags":[],"owner":{"account_id":338578,"reputation":391,"user_id":667530,"display_name":"Don"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300648932,"creation_date":1300648932,"answer_id":5370840,"question_id":5370058,"body_markdown":"If you are using eclipse, just unjar the source files into the source folder of a temporary project.  Then, create a new project (the real project you will be working on), and under the java/src directory, create the package structure you want.  Then it&#39;s just a simple matter of drag-n-dropping the source files from the temporary project into the correct packages in the real project.  Eclipse will take care of changing the package declaration of each class for you.","title":"Change the package of a JAR from the default package","body":"<p>If you are using eclipse, just unjar the source files into the source folder of a temporary project.  Then, create a new project (the real project you will be working on), and under the java/src directory, create the package structure you want.  Then it's just a simple matter of drag-n-dropping the source files from the temporary project into the correct packages in the real project.  Eclipse will take care of changing the package declaration of each class for you.</p>\n"},{"tags":[],"owner":{"account_id":251508,"reputation":1356,"user_id":528955,"display_name":"abulka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684888403,"creation_date":1684886717,"answer_id":76319317,"question_id":5370058,"body_markdown":"To move classes within a jar from the root (unnamed, default) package into a named package (e.g. `org.example`):\r\n\r\n## 1. Rebuild the Jar from source\r\n\r\nUsing your IDE, move the classes out of the root/unnamed/default package into a proper named package, and build the jar again.\r\n\r\nSimply unzipping the jar and moving the class files around does not help - the class files have to be modified internally, which is what the tools below do.\r\n\r\nIf you don&#39;t have access to the sources, or if you don&#39;t want to mess with the source code - there are a couple of solutions I found inspired from [this][1] related discussion.\r\n\r\n\r\n## 2. Jar Jar Links tool\r\nhttps://github.com/shevek/jarjar\r\n\r\nIts old but still works. Get it from [here][2] as discussed [here][3]. \r\n\r\nThe way I used it\r\n```\r\n# View help\r\njava -jar &quot;bin/jarjar-command-1.0.3.jar&quot; --help\r\n\r\n# Run the command\r\njava -jar &quot;jarjar-command-1.0.3.jar&quot; --mode process --rules &quot;rules.txt&quot; target/my.jar --output target/my_new.jar\r\n\r\n# View contents of resulting jar\r\njar tf target/my_new.jar |less\r\n```\r\n\r\nThe `rules.txt` to match root classes is `*`\r\n```\r\nrule * com.example.@1\r\n```\r\nso the rule moves them into the `com.example` package. The `@1` means the thing that was matched.\r\n\r\nUnfortunately it doesn&#39;t seem to work on classnames involving the `$` character - see [this issue][4].\r\n\r\n## 3. Use the Maven Shade Plugin Tool\r\nhttps://maven.apache.org/plugins/maven-shade-plugin/usage.html\r\n\r\nThis worked better for my case. Add this fragment to your `pom.xml` inside the `&lt;project&gt;/&lt;build&gt;/&lt;plugins&gt;` tag. \r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.4.1&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;relocations&gt;\r\n\t\t&lt;relocation&gt;\r\n\t\t\t&lt;pattern&gt;&lt;/pattern&gt;\r\n\t\t\t&lt;shadedPattern&gt;org.example.&lt;/shadedPattern&gt;\r\n\t\t\t&lt;includes&gt;\r\n\t\t\t&lt;include&gt;TypeScriptParser*&lt;/include&gt;\r\n\t\t\t&lt;include&gt;TypeScriptLexer*&lt;/include&gt;\r\n\t\t\t&lt;/includes&gt;\r\n\t\t&lt;/relocation&gt;\r\n\t\t&lt;/relocations&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;executions&gt;\r\n\t&lt;execution&gt;\r\n\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t&lt;goals&gt;\r\n\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t&lt;/goals&gt;\r\n\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nTo match the classes in the root of the package, I used `&lt;pattern&gt;&lt;/pattern&gt;` though there may be a better way.\r\n\r\nAlso, for my use all my root classes started with `TypeScriptParser*` or `TypeScriptLexer*` so I included those explicitly. It took a bit of trial and error to get working on the right classes.\r\n\r\nRunning this on my build with `mvn package` did introduce extra classes from my project into the jar that I didn&#39;t need, so I had to delete them manually (by unzipping/zipping using jar)\r\n\r\n## Discussion\r\n\r\nKnowing that java files in named packages cannot access classes in the unnamed root package (whether they be in your project or in a jar) was not obvious to me, but was finally explained to me [here][5]. I wonder how many Java developers get tripped up by this.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13746737/hand-edit-a-jar-to-change-package-names\r\n  [2]: https://github.com/shevek/jarjar/pull/20\r\n  [3]: https://github.com/shevek/jarjar/issues/3#issuecomment-1558378220\r\n  [4]: https://github.com/shevek/jarjar/issues/29\r\n  [5]: https://stackoverflow.com/questions/76302523/cannot-use-class-in-jars-root-when-my-file-is-part-of-a-package-but-when-my-fil","title":"Change the package of a JAR from the default package","body":"<p>To move classes within a jar from the root (unnamed, default) package into a named package (e.g. <code>org.example</code>):</p>\n<h2>1. Rebuild the Jar from source</h2>\n<p>Using your IDE, move the classes out of the root/unnamed/default package into a proper named package, and build the jar again.</p>\n<p>Simply unzipping the jar and moving the class files around does not help - the class files have to be modified internally, which is what the tools below do.</p>\n<p>If you don't have access to the sources, or if you don't want to mess with the source code - there are a couple of solutions I found inspired from <a href=\"https://stackoverflow.com/questions/13746737/hand-edit-a-jar-to-change-package-names\">this</a> related discussion.</p>\n<h2>2. Jar Jar Links tool</h2>\n<p><a href=\"https://github.com/shevek/jarjar\" rel=\"nofollow noreferrer\">https://github.com/shevek/jarjar</a></p>\n<p>Its old but still works. Get it from <a href=\"https://github.com/shevek/jarjar/pull/20\" rel=\"nofollow noreferrer\">here</a> as discussed <a href=\"https://github.com/shevek/jarjar/issues/3#issuecomment-1558378220\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The way I used it</p>\n<pre><code># View help\njava -jar &quot;bin/jarjar-command-1.0.3.jar&quot; --help\n\n# Run the command\njava -jar &quot;jarjar-command-1.0.3.jar&quot; --mode process --rules &quot;rules.txt&quot; target/my.jar --output target/my_new.jar\n\n# View contents of resulting jar\njar tf target/my_new.jar |less\n</code></pre>\n<p>The <code>rules.txt</code> to match root classes is <code>*</code></p>\n<pre><code>rule * com.example.@1\n</code></pre>\n<p>so the rule moves them into the <code>com.example</code> package. The <code>@1</code> means the thing that was matched.</p>\n<p>Unfortunately it doesn't seem to work on classnames involving the <code>$</code> character - see <a href=\"https://github.com/shevek/jarjar/issues/29\" rel=\"nofollow noreferrer\">this issue</a>.</p>\n<h2>3. Use the Maven Shade Plugin Tool</h2>\n<p><a href=\"https://maven.apache.org/plugins/maven-shade-plugin/usage.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-shade-plugin/usage.html</a></p>\n<p>This worked better for my case. Add this fragment to your <code>pom.xml</code> inside the <code>&lt;project&gt;/&lt;build&gt;/&lt;plugins&gt;</code> tag.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.4.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;relocations&gt;\n        &lt;relocation&gt;\n            &lt;pattern&gt;&lt;/pattern&gt;\n            &lt;shadedPattern&gt;org.example.&lt;/shadedPattern&gt;\n            &lt;includes&gt;\n            &lt;include&gt;TypeScriptParser*&lt;/include&gt;\n            &lt;include&gt;TypeScriptLexer*&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/relocation&gt;\n        &lt;/relocations&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n    &lt;execution&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n        &lt;goal&gt;shade&lt;/goal&gt;\n        &lt;/goals&gt;\n    &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>To match the classes in the root of the package, I used <code>&lt;pattern&gt;&lt;/pattern&gt;</code> though there may be a better way.</p>\n<p>Also, for my use all my root classes started with <code>TypeScriptParser*</code> or <code>TypeScriptLexer*</code> so I included those explicitly. It took a bit of trial and error to get working on the right classes.</p>\n<p>Running this on my build with <code>mvn package</code> did introduce extra classes from my project into the jar that I didn't need, so I had to delete them manually (by unzipping/zipping using jar)</p>\n<h2>Discussion</h2>\n<p>Knowing that java files in named packages cannot access classes in the unnamed root package (whether they be in your project or in a jar) was not obvious to me, but was finally explained to me <a href=\"https://stackoverflow.com/questions/76302523/cannot-use-class-in-jars-root-when-my-file-is-part-of-a-package-but-when-my-fil\">here</a>. I wonder how many Java developers get tripped up by this.</p>\n"}],"owner":{"account_id":339114,"reputation":23,"user_id":668396,"display_name":"user668396"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2656,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5370323,"answer_count":5,"score":2,"last_activity_date":1684888403,"creation_date":1300641276,"question_id":5370058,"body_markdown":"I&#39;ve downloaded a JAR file from my teacher&#39;s website containing some classes in the default package, and I&#39;m thus unable to access them from inside a defined package.\r\n\r\nI have read that the preferable solution is to repackage the JAR, changing the package name. However I have no idea how to go at it. The solution probably involves using Ant or Jar Jar, but I&#39;ve no experience with either tool. I would love if someone coould point me in the right direction.\r\n\r\nThanks.","title":"Change the package of a JAR from the default package","body":"<p>I've downloaded a JAR file from my teacher's website containing some classes in the default package, and I'm thus unable to access them from inside a defined package.</p>\n\n<p>I have read that the preferable solution is to repackage the JAR, changing the package name. However I have no idea how to go at it. The solution probably involves using Ant or Jar Jar, but I've no experience with either tool. I would love if someone coould point me in the right direction.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","testing","project","execute"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1684885078,"post_id":76319177,"comment_id":134582083,"body_markdown":"I think you&#39;ll have to be more specific about what you mean (you can [edit] your question). What files are you talking about? What do you mean by &quot;execute&quot;? What does &quot;closed&quot; mean in this context? Can you provide a [mre]?","body":"I think you&#39;ll have to be more specific about what you mean (you can <a href=\"https://stackoverflow.com/posts/76319177/edit\">edit</a> your question). What files are you talking about? What do you mean by &quot;execute&quot;? What does &quot;closed&quot; mean in this context? Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1684885191,"post_id":76319177,"comment_id":134582100,"body_markdown":"We definitely need code, [mcve] would be best.  The only reason for Java to &quot;execute all files&quot; is because you wrote the code that way.","body":"We definitely need code, <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be best.  The only reason for Java to &quot;execute all files&quot; is because you wrote the code that way."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684886484,"post_id":76319177,"comment_id":134582215,"body_markdown":"Are you using an IDE, or the command line?  What commands and arguments are you using to compile and run your program?","body":"Are you using an IDE, or the command line?  What commands and arguments are you using to compile and run your program?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1684886112,"creation_date":1684886112,"answer_id":76319293,"question_id":76319177,"body_markdown":"Somehow I believe you have a project in your IDE, and you want to execute a (java) file. The file/class you think about has a `public void main(String[]) method`, yet instead of this file some other file gets executed?\r\n\r\nVery likely the first file you created with a main method was registered as the entry point in your IDE or project setup, and that is remembered when you trigger the `run project` action.\r\n\r\nInstead you need to find the correct keystroke or menu item to `run file` to get the focused file to execute.\r\n\r\n\r\nIf, however you feel like the file is executed since compilation errors show up - well that is because all files get compiled in the background. You need to reconfigure the IDE to stop it doing that - but why would you want to? It does not harm if the compiler works in the background.","title":"Why does Java execute all files in folder, including closed ones?","body":"<p>Somehow I believe you have a project in your IDE, and you want to execute a (java) file. The file/class you think about has a <code>public void main(String[]) method</code>, yet instead of this file some other file gets executed?</p>\n<p>Very likely the first file you created with a main method was registered as the entry point in your IDE or project setup, and that is remembered when you trigger the <code>run project</code> action.</p>\n<p>Instead you need to find the correct keystroke or menu item to <code>run file</code> to get the focused file to execute.</p>\n<p>If, however you feel like the file is executed since compilation errors show up - well that is because all files get compiled in the background. You need to reconfigure the IDE to stop it doing that - but why would you want to? It does not harm if the compiler works in the background.</p>\n"}],"owner":{"account_id":9250979,"reputation":1,"user_id":21937050,"display_name":"G AGA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1685697266,"accepted_answer_id":76319293,"answer_count":1,"score":-2,"last_activity_date":1684886112,"creation_date":1684883785,"question_id":76319177,"body_markdown":"I am writing Java code. I was using the if conditions to read the input. When I tried to test the code, it executes all the files in the folder. I am also using IntelliJ idea.\r\n\r\nIt executes my current file and saved java files.  ","title":"Why does Java execute all files in folder, including closed ones?","body":"<p>I am writing Java code. I was using the if conditions to read the input. When I tried to test the code, it executes all the files in the folder. I am also using IntelliJ idea.</p>\n<p>It executes my current file and saved java files.</p>\n"},{"tags":["java","spring","spring-boot","openapi","openapi-generator"],"comments":[{"owner":{"account_id":6494229,"reputation":114,"user_id":5027309,"display_name":"Fran&#231;ois Vanhille"},"score":0,"creation_date":1685386345,"post_id":76319248,"comment_id":134649827,"body_markdown":"If you only want `pageable` parameter, just remove page, size and sort from your definition since you don&#39;t need them anymore. Spring Pageable has support for that.","body":"If you only want <code>pageable</code> parameter, just remove page, size and sort from your definition since you don&#39;t need them anymore. Spring Pageable has support for that."},{"owner":{"account_id":13838923,"reputation":115,"user_id":9989781,"display_name":"Mirza Prangon"},"score":0,"creation_date":1685405293,"post_id":76319248,"comment_id":134651987,"body_markdown":"Then there will be discrepancies between OpenAPI definition the actual api. Meaning there will be no `page`, `size`, `sort` parameter in the definition, but the API will support these.","body":"Then there will be discrepancies between OpenAPI definition the actual api. Meaning there will be no <code>page</code>, <code>size</code>, <code>sort</code> parameter in the definition, but the API will support these."}],"owner":{"account_id":13838923,"reputation":115,"user_id":9989781,"display_name":"Mirza Prangon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":607,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684885158,"creation_date":1684885158,"question_id":76319248,"body_markdown":"I am trying to generate as much code as possible for application using [OpenAPI generator](https://github.com/OpenAPITools/openapi-generator). Some of the requests are get with support for paging and sorting. Using spring it is easy to create\r\n```java\r\n@GetMapping(&quot;/snakes&quot;)\r\npublic ResponseEntity&lt;List&lt;Snake&gt;&gt; findAll(Pageable pageable)\r\n```\r\n\r\nThis makes the `/snakes` endpoint to support paging and sorting using http query parameter `?page=0&amp;size=1&amp;sort=snake_name,desc`. So, I will write my OpenAPI definition as\r\n\r\n```yaml\r\n  /snakes:\r\n    get:\r\n      summary: Get all snakes. Supports pagination and sorting.\r\n      tags:\r\n        - Snake\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: OK\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: &#39;#/components/schemas/Snake&#39;\r\n      operationId: getSnakesList\r\n      description: Get all snakes. Supports pagination and sorting.\r\n      parameters:\r\n        - schema:\r\n            type: integer\r\n            default: 0\r\n            example: 1\r\n          in: query\r\n          name: page\r\n          description: The page number of list. Starts from 0.\r\n        - schema:\r\n            type: integer\r\n            default: &#39;20&#39;\r\n            example: &#39;10&#39;\r\n          in: query\r\n          name: size\r\n          description: Number of Snakes in one page.\r\n        - schema:\r\n            type: string\r\n            default: &#39;snake_name,desc&#39;\r\n            example: &#39;snake_name,asc&#39;\r\n          in: query\r\n          name: sort\r\n          description: The sort information.\r\n```\r\n\r\nBut if I generate code using OpenAPI generator the method of API interface will be created with the `page`, `size` and `sort` query parameters like:\r\n```\r\ndefault ResponseEntity&lt;List&lt;Snake&gt;&gt; getSnakesList(\r\n        @Parameter(name = &quot;page&quot;, description = &quot;The page number of list. Starts from 0.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;page&quot;, required = false, defaultValue = &quot;0&quot;) Integer page,\r\n        @Parameter(name = &quot;size&quot;, description = &quot;Number of snakes in one page.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;size&quot;, required = false) Integer size,\r\n        @Parameter(name = &quot;sort&quot;, description = &quot;The sort information.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;sort&quot;, required = false, defaultValue = &quot;snake_name,desc&quot;) String sort\r\n    )\r\n```\r\n\r\nWhich I don&#39;t want. There is a [`x-spring-paginated`](https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md#:~:text=x%2Dspring%2Dpaginated,false) option for spring generator. If set to true, generator ADDs the `Pageable pageable` parameter to method.\r\n```java\r\ndefault ResponseEntity&lt;List&lt;Snake&gt;&gt; getSnakesList(\r\n        @Parameter(name = &quot;page&quot;, description = &quot;The page number of list. Starts from 0.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;page&quot;, required = false, defaultValue = &quot;0&quot;) Integer page,\r\n        @Parameter(name = &quot;size&quot;, description = &quot;Number of snakes in one page.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;size&quot;, required = false) Integer size,\r\n        @Parameter(name = &quot;sort&quot;, description = &quot;The sort information.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;sort&quot;, required = false, defaultValue = &quot;snake_name,desc&quot;) String sort,\r\n        @ParameterObject final Pageable pageable    // &lt;-- This is added if I set x-spring-paginated: true\r\n    )\r\n```\r\n\r\nWhich I don&#39;t want. I can edit the OpenAPI definition to not have the query parameters to generate the code. But this will make the definition to not be same as the API.\r\n\r\nMy question is, how can I generate API interface method with only `Pageable pagable` parameter, from the example openapi definition I provided which have the `page`, `size`, `sort` parameters in yaml?\r\n\r\nNote: There was a similar question without any actual solution - https://stackoverflow.com/questions/61307411/openapi-generator-pageable-with-spring","title":"OpenAPI generator How to generate method with Spring paging and sorting","body":"<p>I am trying to generate as much code as possible for application using <a href=\"https://github.com/OpenAPITools/openapi-generator\" rel=\"nofollow noreferrer\">OpenAPI generator</a>. Some of the requests are get with support for paging and sorting. Using spring it is easy to create</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/snakes&quot;)\npublic ResponseEntity&lt;List&lt;Snake&gt;&gt; findAll(Pageable pageable)\n</code></pre>\n<p>This makes the <code>/snakes</code> endpoint to support paging and sorting using http query parameter <code>?page=0&amp;size=1&amp;sort=snake_name,desc</code>. So, I will write my OpenAPI definition as</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  /snakes:\n    get:\n      summary: Get all snakes. Supports pagination and sorting.\n      tags:\n        - Snake\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/Snake'\n      operationId: getSnakesList\n      description: Get all snakes. Supports pagination and sorting.\n      parameters:\n        - schema:\n            type: integer\n            default: 0\n            example: 1\n          in: query\n          name: page\n          description: The page number of list. Starts from 0.\n        - schema:\n            type: integer\n            default: '20'\n            example: '10'\n          in: query\n          name: size\n          description: Number of Snakes in one page.\n        - schema:\n            type: string\n            default: 'snake_name,desc'\n            example: 'snake_name,asc'\n          in: query\n          name: sort\n          description: The sort information.\n</code></pre>\n<p>But if I generate code using OpenAPI generator the method of API interface will be created with the <code>page</code>, <code>size</code> and <code>sort</code> query parameters like:</p>\n<pre><code>default ResponseEntity&lt;List&lt;Snake&gt;&gt; getSnakesList(\n        @Parameter(name = &quot;page&quot;, description = &quot;The page number of list. Starts from 0.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;page&quot;, required = false, defaultValue = &quot;0&quot;) Integer page,\n        @Parameter(name = &quot;size&quot;, description = &quot;Number of snakes in one page.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;size&quot;, required = false) Integer size,\n        @Parameter(name = &quot;sort&quot;, description = &quot;The sort information.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;sort&quot;, required = false, defaultValue = &quot;snake_name,desc&quot;) String sort\n    )\n</code></pre>\n<p>Which I don't want. There is a <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md#:%7E:text=x%2Dspring%2Dpaginated,false\" rel=\"nofollow noreferrer\"><code>x-spring-paginated</code></a> option for spring generator. If set to true, generator ADDs the <code>Pageable pageable</code> parameter to method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>default ResponseEntity&lt;List&lt;Snake&gt;&gt; getSnakesList(\n        @Parameter(name = &quot;page&quot;, description = &quot;The page number of list. Starts from 0.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;page&quot;, required = false, defaultValue = &quot;0&quot;) Integer page,\n        @Parameter(name = &quot;size&quot;, description = &quot;Number of snakes in one page.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;size&quot;, required = false) Integer size,\n        @Parameter(name = &quot;sort&quot;, description = &quot;The sort information.&quot;, in = ParameterIn.QUERY) @Valid @RequestParam(value = &quot;sort&quot;, required = false, defaultValue = &quot;snake_name,desc&quot;) String sort,\n        @ParameterObject final Pageable pageable    // &lt;-- This is added if I set x-spring-paginated: true\n    )\n</code></pre>\n<p>Which I don't want. I can edit the OpenAPI definition to not have the query parameters to generate the code. But this will make the definition to not be same as the API.</p>\n<p>My question is, how can I generate API interface method with only <code>Pageable pagable</code> parameter, from the example openapi definition I provided which have the <code>page</code>, <code>size</code>, <code>sort</code> parameters in yaml?</p>\n<p>Note: There was a similar question without any actual solution - <a href=\"https://stackoverflow.com/questions/61307411/openapi-generator-pageable-with-spring\">OpenAPI Generator Pageable with Spring</a></p>\n"},{"tags":["java","android","flutter","java-11"],"comments":[{"owner":{"account_id":7749867,"reputation":311,"user_id":11097456,"display_name":"Bani Akram"},"score":0,"creation_date":1686567812,"post_id":76185083,"comment_id":134811422,"body_markdown":"Did you find any solution? I&#39;m stuck at the same issue","body":"Did you find any solution? I&#39;m stuck at the same issue"}],"answers":[{"tags":[],"owner":{"account_id":13872151,"reputation":71,"user_id":11756851,"display_name":"Jhon Sabowsla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684884843,"creation_date":1684884843,"answer_id":76319233,"question_id":76185083,"body_markdown":"i was able to change the version that flutter doctor -v shows doing the following, i deleted the android folder from my User location, deleted the android studio i had wich was the flamingo version and installed the Electric eel version from https://developer.android.com/studio/archive then i followed this instructions For the JetBrains Runtime &quot;Android Studio Electric Eel&quot;\r\ncd /Applications/Android\\ Studio.app/Contents/jbr\r\nln -s ../jbr jdk\r\nln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\r\nThen go to the Finder and search for Android Studio:\r\n\r\nRight click -&gt; Show Package Contents\r\nOpen the contents folder, then create new folder called jre\r\nCopy the contents of the JetBrainsRuntime folder and paste it into the jre folder from the answer https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter and finally my flutter doctor -v shows java version 11 that allowed me to compile the flutter project, hope this helps!","title":"Android Studio JDK version not changing on mac. Why? How can I fix it?","body":"<p>i was able to change the version that flutter doctor -v shows doing the following, i deleted the android folder from my User location, deleted the android studio i had wich was the flamingo version and installed the Electric eel version from <a href=\"https://developer.android.com/studio/archive\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/archive</a> then i followed this instructions For the JetBrains Runtime &quot;Android Studio Electric Eel&quot;\ncd /Applications/Android\\ Studio.app/Contents/jbr\nln -s ../jbr jdk\nln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\nThen go to the Finder and search for Android Studio:</p>\n<p>Right click -&gt; Show Package Contents\nOpen the contents folder, then create new folder called jre\nCopy the contents of the JetBrainsRuntime folder and paste it into the jre folder from the answer <a href=\"https://stackoverflow.com/questions/51281702/unable-to-find-bundled-java-version-on-flutter\">Unable to find bundled Java version on Flutter</a> and finally my flutter doctor -v shows java version 11 that allowed me to compile the flutter project, hope this helps!</p>\n"}],"owner":{"account_id":17869880,"reputation":349,"user_id":17479825,"display_name":"Joaqu&#237;n Varela"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76319233,"answer_count":1,"score":2,"last_activity_date":1684884843,"creation_date":1683312024,"question_id":76185083,"body_markdown":"Hello I am on mac and I changed the sdk version as many tutorials say. If I run `java --version` I get this: \r\n\r\n```json\r\nopenjdk version &quot;11.0.19&quot; 2023-04-18\r\nOpenJDK Runtime Environment Homebrew (build 11.0.19+0)\r\nOpenJDK 64-Bit Server VM Homebrew (build 11.0.19+0, mixed mode)\r\n```\r\n\r\nThe problem is when I run `flutter doctor --verbose` I get this on android studio: \r\n\r\n```bash\r\n[✓] Android Studio (version 2022.2)\r\n    • Android Studio at /Applications/Android Studio.app/Contents\r\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b802.4-9586694)\r\n```\r\n\r\nThe JDK versions are different. And when I try to run a flutter project I get this error: \r\n\r\n```bash\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:processDebugMainManifest&#39;.\r\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @52a71430\r\n```\r\n\r\n**Additional information**: \r\n\r\n - When I open my flutter project by the android folder in android\r\n   studio I can configure `project settings` and select the jdk version.\r\n\r\n - This works only if I run the app inside the android folder in android\r\n   studio. If I run it from the root it throws the same error.\r\n\r\n - The command output of `/usr/libexec/java_home -V` is this: \r\n\r\n```bash\r\nMatching Java Virtual Machines (1):\r\n    11.0.19 (arm64) &quot;Homebrew&quot; - &quot;OpenJDK 11.0.19&quot; /opt/homebrew/Cellar/openjdk@11/11.0.19/libexec/openjdk.jdk/Contents/Home\r\n/opt/homebrew/Cellar/openjdk@11/11.0.19/libexec/openjdk.jdk/Contents/Home\r\n```\r\n\r\n- In my ~/.zshrc I have an export of `export JAVA_HOME=&#39;/opt/homebrew/Cellar/openjdk@11/11.0.19/libexec/openjdk.jdk/Contents/Home&#39;`\r\n \r\n\r\nIs there a way to solve this?","title":"Android Studio JDK version not changing on mac. Why? How can I fix it?","body":"<p>Hello I am on mac and I changed the sdk version as many tutorials say. If I run <code>java --version</code> I get this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>openjdk version &quot;11.0.19&quot; 2023-04-18\nOpenJDK Runtime Environment Homebrew (build 11.0.19+0)\nOpenJDK 64-Bit Server VM Homebrew (build 11.0.19+0, mixed mode)\n</code></pre>\n<p>The problem is when I run <code>flutter doctor --verbose</code> I get this on android studio:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[✓] Android Studio (version 2022.2)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b802.4-9586694)\n</code></pre>\n<p>The JDK versions are different. And when I try to run a flutter project I get this error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:processDebugMainManifest'.\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @52a71430\n</code></pre>\n<p><strong>Additional information</strong>:</p>\n<ul>\n<li><p>When I open my flutter project by the android folder in android\nstudio I can configure <code>project settings</code> and select the jdk version.</p>\n</li>\n<li><p>This works only if I run the app inside the android folder in android\nstudio. If I run it from the root it throws the same error.</p>\n</li>\n<li><p>The command output of <code>/usr/libexec/java_home -V</code> is this:</p>\n</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>Matching Java Virtual Machines (1):\n    11.0.19 (arm64) &quot;Homebrew&quot; - &quot;OpenJDK 11.0.19&quot; /opt/homebrew/Cellar/openjdk@11/11.0.19/libexec/openjdk.jdk/Contents/Home\n/opt/homebrew/Cellar/openjdk@11/11.0.19/libexec/openjdk.jdk/Contents/Home\n</code></pre>\n<ul>\n<li>In my ~/.zshrc I have an export of <code>export JAVA_HOME='/opt/homebrew/Cellar/openjdk@11/11.0.19/libexec/openjdk.jdk/Contents/Home'</code></li>\n</ul>\n<p>Is there a way to solve this?</p>\n"},{"tags":["java","hibernate","jpa","entitymanager","hibernate-entitymanager"],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684884064,"creation_date":1684875090,"question_id":76318567,"body_markdown":"I&#39;m currently debugging the code that calls the `Hibernate Entity manager` to load the data from the Postgres DB. I do calls for two different ids in DB that corresponds to the almost the same DB entries (no null values, all fields are in accordance with `@Entity` fields and follow the same format) and get so different object details in debugger window.\r\n\r\nThe fist one is `ServiceEntity@32589` that corresponds to the `id=594`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nPlease note that provider and category fields here has `_$$_jst3f5_` prefix, like it isn&#39;t exactly the same class as just `CategoryEntity` and `PaymentEntity`\r\n\r\nWhile when calling for another `id=595`, I&#39;m getting not `ServiceEntity`, but `ServiceEntity_$$_jst3f5_3e@32572` with all the same fields being null. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat could be the reason? This happens only on specific calls of this method by the overlying method, not at all.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9clN6.png\r\n  [2]: https://i.stack.imgur.com/wNEgS.png\r\n\r\nSo, the method I called in debugger was:\r\n\r\n \r\n\r\n       @Override\r\n            public ServiceEntity getServiceById(int serviceId) {\r\n                List&lt;ServiceEntity&gt; list = em.createQuery(&quot;select s from ServiceEntity s where s.id = :id&quot;, ServiceEntity.class)\r\n                        .setParameter(&quot;id&quot;, serviceId)\r\n                        .getResultList();\r\n        \r\n                return (list.isEmpty() ? null : list.get(0));\r\n            }\r\n\r\nand it is called from the \r\n\r\n     @Transactional(readOnly = true)\r\n        public ProviderService getProviderService(int serviceId) {\r\n            if (serviceProviderCache.get(serviceId) != null) {\r\n                return serviceProviderCache.get(serviceId);\r\n            }\r\n    \r\n            ServiceEntity serviceEntity = pServiceDao.getServiceById(serviceId);\r\n            if (settingService.isEnableGateway() &amp;&amp; (Arrays.stream(GatewayProviderImpl.GATEWAY_PROVIDERS)\r\n                    .anyMatch(p -&gt; serviceEntity.getProviderId().equals(p)))) {\r\n                serviceProviderCache.put(serviceId, providersCache.get(GatewayProviderImpl.PROVIDER_ID));\r\n            } else {\r\n                serviceProviderCache.put(serviceId, providersCache.get(serviceEntity.getProvider().getId()));\r\n            }\r\n    \r\n            return serviceProviderCache.get(serviceId);\r\n        }\r\n\r\nwhere I do have the problem I have described. And it is also called from another `@Transactional` method too (non readonly).\r\n\r\nand here (not `@Transactional`)\r\n\r\n      @Override\r\n        public void enter(ViewChangeListener.ViewChangeEvent event) {\r\n            int serviceId = Integer.parseInt(event.getParameters());\r\n            service = pServiceService.getServiceById(serviceId);\r\n      \r\n\r\nI have not problem with that. Note, that in first method, the called `id=595` is the same as id that was passed as the parameter to the `@Transaction` marked method, while `id=594` isn&#39;t equal to that object. So how `@Transactional` can make this to happen, and only for specific data from the DB? \r\n\r\nWhat `_$$_jst3f5_` stands for?\r\n\r\n\r\n    ServiceEntity:\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;services&quot;)\r\n    public class ServiceEntity {\r\n        @Id\r\n        @SequenceGenerator(name=&quot;service_gen&quot;, sequenceName=&quot;services_id_seq&quot;, allocationSize = 1)\r\n        @GeneratedValue(generator=&quot;service_gen&quot;)\r\n        private Integer id;\r\n        @Column(nullable = false, length = 100)\r\n        private String name;\r\n        @Column(name = &quot;account_caption&quot;)\r\n        private String accountCaption;\r\n        private String code;\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;category_id&quot;)\r\n        private CategoryEntity category;\r\n        @Column(name = &quot;category_id&quot;, insertable = false, updatable = false)\r\n        private Integer categoryId;\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;provider_id&quot;)\r\n        private ProviderEntity provider;\r\n        @Column(name = &quot;provider_id&quot;, insertable = false, updatable = false)\r\n        private String providerId;\r\n        @Column(name = &quot;image_path&quot;)\r\n        private String imagePath;\r\n        @Column(name = &quot;is_blocked&quot;)\r\n        private boolean blocked;\r\n        private String mask;\r\n        @Column(name = &quot;terminal_mask&quot;)\r\n        private String terminalMask;\r\n        private boolean base;\r\n        @Column(name = &quot;only_identified&quot;)\r\n        private boolean onlyIdentified;\r\n        @Column(name = &quot;additional_fields&quot;)\r\n        private boolean additionalFields;\r\n        @Column(name = &quot;destination_view_format&quot;)\r\n        private String destinationViewFormat;\r\n        @Column(name = &quot;is_fixed_amount&quot;)\r\n        private boolean fixedAmount;\r\n        @Column(name = &quot;is_user_amount&quot;)\r\n        private boolean userAmount;\r\n        @Column(name = &quot;is_terminal_change&quot;)\r\n        private boolean terminalChange;\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;currency_id&quot;)\r\n        private CurrencyEntity currency;\r\n        @Column(name = &quot;currency_id&quot;, insertable = false, updatable = false)\r\n        private String currencyId;\r\n        @Column(name = &quot;display_order&quot;)\r\n        private Integer displayOrder;\r\n        @Column(name = &quot;keep_validation_result&quot;)\r\n        private boolean keepValidationResult;\r\n        @Column(name = &quot;is_multi_currency&quot;)\r\n        private boolean multiCurrency;\r\n        @OneToMany(mappedBy = &quot;service&quot;)\r\n        private Collection&lt;AgentServiceAccessEntity&gt; serviceAccesses;\r\n        @OneToMany(mappedBy = &quot;service&quot;)\r\n        private Collection&lt;HotServiceEntity&gt; hotServices;\r\n        @OneToMany(mappedBy = &quot;service&quot;)\r\n        private Collection&lt;ServicePrefixEntity&gt; servicePrefixes;\r\n        @OneToMany(mappedBy = &quot;service&quot;)\r\n        private Collection&lt;ServiceFieldEntity&gt; serviceFields;\r\n        @OneToMany(mappedBy = &quot;service&quot;)\r\n        private Collection&lt;ServiceInfoBlockEntity&gt; infoBlocks;\r\n        @OneToMany(mappedBy = &quot;service&quot;)\r\n        private Collection&lt;ServiceLimitEntity&gt; limits;\r\n        @OneToMany(mappedBy = &quot;service&quot;)\r\n        private Collection&lt;RegistryColumnEntity&gt; registryColumns;\r\n\r\nThe queries, that were actually sent, are:\r\n\r\nselect serviceent0_.id as id1_97_, serviceent0_.account_caption as account_2_97_, serviceent0_.additional_fields as addition3_97_, serviceent0_.base as base4_97_, serviceent0_.is_blocked as is_block5_97_, serviceent0_.category_id as category6_97_, serviceent0_.code as code7_97_, serviceent0_.currency_id as currency8_97_, serviceent0_.destination_view_format as destinat9_97_, serviceent0_.display_order as display10_97_, serviceent0_.is_fixed_amount as is_fixe11_97_, serviceent0_.image_path as image_p12_97_, serviceent0_.keep_validation_result as keep_va13_97_, serviceent0_.mask as mask14_97_, serviceent0_.is_multi_currency as is_mult15_97_, serviceent0_.name as name16_97_, serviceent0_.only_identified as only_id17_97_, serviceent0_.provider_id as provide18_97_, serviceent0_.is_terminal_change as is_term19_97_, serviceent0_.terminal_mask as termina20_97_, serviceent0_.is_user_amount as is_user21_97_ from services serviceent0_ where serviceent0_.id=?\r\n\r\nfor that was called from the app code without debug call, the same is called from Evaluate window of debug mode, while addding to serviceId specific values like 594 and 595. \r\n\r\nSo, looks like Hibernate extracts the same values from the DB, but then looses the retrieved data. \r\n\r\n\r\nUPD. It turns out, that they are called consequentially, both initiated by the Vaadin UI actions.\r\n\r\n1) \r\n\r\n    public void enter(ViewChangeListener.ViewChangeEvent event) {\r\n                int serviceId = Integer.parseInt(event.getParameters());\r\n                service = pServiceService.**getServiceById**(serviceId);\r\n      \r\n2) \r\n\r\n     @Transactional(readOnly = true)\r\n        public ProviderService getProviderService(int serviceId) {\r\n            if (serviceProviderCache.get(serviceId) != null) {\r\n                return serviceProviderCache.get(serviceId);\r\n            }\r\n    \r\n            ServiceEntity serviceEntity = pServiceDao.**getServiceById**(serviceId);\r\n            if (settingService.isEnableGateway() &amp;&amp; (Arrays.stream(GatewayProviderImpl.GATEWAY_PROVIDERS)\r\n                    .anyMatch(p -&gt; serviceEntity.getProviderId().equals(p)))) {\r\n                serviceProviderCache.put(serviceId, providersCache.get(GatewayProviderImpl.PROVIDER_ID));\r\n            } else {\r\n                serviceProviderCache.put(serviceId, providersCache.get(serviceEntity.getProvider().getId()));\r\n            }\r\n    \r\n            return serviceProviderCache.get(serviceId);\r\n        }\r\n\r\nAnd if in the first method serviceId would be =594, the first execution is ok, it returns some data, while on the second execution of **getServiceById**(serviceId) the null-fields data is returned.\r\n\r\nIf I would take the Evaluate tool and explicitly call for \r\n\r\n    **getServiceById**(595)\r\n\r\nat the debug step 2), I would get the non-null data. If now I would do \r\n\r\n    **getServiceById**(594), I&#39;m also getting the null-filled data\r\n\r\nLike execution of point 1) forces entity manager to return something wrong and if it isn&#39;t executed for the specific id, it works properly\r\n\r\nWHat is the root cause of that and how to work it around?\r\n\r\n\r\n","title":"What is the difference in designating two entities in Java debugger where only one has `_$$_jst3f5_` part? Diff results for the same Hibernate query,","body":"<p>I'm currently debugging the code that calls the <code>Hibernate Entity manager</code> to load the data from the Postgres DB. I do calls for two different ids in DB that corresponds to the almost the same DB entries (no null values, all fields are in accordance with <code>@Entity</code> fields and follow the same format) and get so different object details in debugger window.</p>\n<p>The fist one is <code>ServiceEntity@32589</code> that corresponds to the <code>id=594</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/9clN6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9clN6.png\" alt=\"enter image description here\" /></a></p>\n<p>Please note that provider and category fields here has <code>_$$_jst3f5_</code> prefix, like it isn't exactly the same class as just <code>CategoryEntity</code> and <code>PaymentEntity</code></p>\n<p>While when calling for another <code>id=595</code>, I'm getting not <code>ServiceEntity</code>, but <code>ServiceEntity_$$_jst3f5_3e@32572</code> with all the same fields being null.</p>\n<p><a href=\"https://i.stack.imgur.com/wNEgS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wNEgS.png\" alt=\"enter image description here\" /></a></p>\n<p>What could be the reason? This happens only on specific calls of this method by the overlying method, not at all.</p>\n<p>So, the method I called in debugger was:</p>\n<pre><code>   @Override\n        public ServiceEntity getServiceById(int serviceId) {\n            List&lt;ServiceEntity&gt; list = em.createQuery(&quot;select s from ServiceEntity s where s.id = :id&quot;, ServiceEntity.class)\n                    .setParameter(&quot;id&quot;, serviceId)\n                    .getResultList();\n    \n            return (list.isEmpty() ? null : list.get(0));\n        }\n</code></pre>\n<p>and it is called from the</p>\n<pre><code> @Transactional(readOnly = true)\n    public ProviderService getProviderService(int serviceId) {\n        if (serviceProviderCache.get(serviceId) != null) {\n            return serviceProviderCache.get(serviceId);\n        }\n\n        ServiceEntity serviceEntity = pServiceDao.getServiceById(serviceId);\n        if (settingService.isEnableGateway() &amp;&amp; (Arrays.stream(GatewayProviderImpl.GATEWAY_PROVIDERS)\n                .anyMatch(p -&gt; serviceEntity.getProviderId().equals(p)))) {\n            serviceProviderCache.put(serviceId, providersCache.get(GatewayProviderImpl.PROVIDER_ID));\n        } else {\n            serviceProviderCache.put(serviceId, providersCache.get(serviceEntity.getProvider().getId()));\n        }\n\n        return serviceProviderCache.get(serviceId);\n    }\n</code></pre>\n<p>where I do have the problem I have described. And it is also called from another <code>@Transactional</code> method too (non readonly).</p>\n<p>and here (not <code>@Transactional</code>)</p>\n<pre><code>  @Override\n    public void enter(ViewChangeListener.ViewChangeEvent event) {\n        int serviceId = Integer.parseInt(event.getParameters());\n        service = pServiceService.getServiceById(serviceId);\n  \n</code></pre>\n<p>I have not problem with that. Note, that in first method, the called <code>id=595</code> is the same as id that was passed as the parameter to the <code>@Transaction</code> marked method, while <code>id=594</code> isn't equal to that object. So how <code>@Transactional</code> can make this to happen, and only for specific data from the DB?</p>\n<p>What <code>_$$_jst3f5_</code> stands for?</p>\n<pre><code>ServiceEntity:\n\n\n\n@Entity\n@Table(name = &quot;services&quot;)\npublic class ServiceEntity {\n    @Id\n    @SequenceGenerator(name=&quot;service_gen&quot;, sequenceName=&quot;services_id_seq&quot;, allocationSize = 1)\n    @GeneratedValue(generator=&quot;service_gen&quot;)\n    private Integer id;\n    @Column(nullable = false, length = 100)\n    private String name;\n    @Column(name = &quot;account_caption&quot;)\n    private String accountCaption;\n    private String code;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;category_id&quot;)\n    private CategoryEntity category;\n    @Column(name = &quot;category_id&quot;, insertable = false, updatable = false)\n    private Integer categoryId;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;provider_id&quot;)\n    private ProviderEntity provider;\n    @Column(name = &quot;provider_id&quot;, insertable = false, updatable = false)\n    private String providerId;\n    @Column(name = &quot;image_path&quot;)\n    private String imagePath;\n    @Column(name = &quot;is_blocked&quot;)\n    private boolean blocked;\n    private String mask;\n    @Column(name = &quot;terminal_mask&quot;)\n    private String terminalMask;\n    private boolean base;\n    @Column(name = &quot;only_identified&quot;)\n    private boolean onlyIdentified;\n    @Column(name = &quot;additional_fields&quot;)\n    private boolean additionalFields;\n    @Column(name = &quot;destination_view_format&quot;)\n    private String destinationViewFormat;\n    @Column(name = &quot;is_fixed_amount&quot;)\n    private boolean fixedAmount;\n    @Column(name = &quot;is_user_amount&quot;)\n    private boolean userAmount;\n    @Column(name = &quot;is_terminal_change&quot;)\n    private boolean terminalChange;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;currency_id&quot;)\n    private CurrencyEntity currency;\n    @Column(name = &quot;currency_id&quot;, insertable = false, updatable = false)\n    private String currencyId;\n    @Column(name = &quot;display_order&quot;)\n    private Integer displayOrder;\n    @Column(name = &quot;keep_validation_result&quot;)\n    private boolean keepValidationResult;\n    @Column(name = &quot;is_multi_currency&quot;)\n    private boolean multiCurrency;\n    @OneToMany(mappedBy = &quot;service&quot;)\n    private Collection&lt;AgentServiceAccessEntity&gt; serviceAccesses;\n    @OneToMany(mappedBy = &quot;service&quot;)\n    private Collection&lt;HotServiceEntity&gt; hotServices;\n    @OneToMany(mappedBy = &quot;service&quot;)\n    private Collection&lt;ServicePrefixEntity&gt; servicePrefixes;\n    @OneToMany(mappedBy = &quot;service&quot;)\n    private Collection&lt;ServiceFieldEntity&gt; serviceFields;\n    @OneToMany(mappedBy = &quot;service&quot;)\n    private Collection&lt;ServiceInfoBlockEntity&gt; infoBlocks;\n    @OneToMany(mappedBy = &quot;service&quot;)\n    private Collection&lt;ServiceLimitEntity&gt; limits;\n    @OneToMany(mappedBy = &quot;service&quot;)\n    private Collection&lt;RegistryColumnEntity&gt; registryColumns;\n</code></pre>\n<p>The queries, that were actually sent, are:</p>\n<p>select serviceent0_.id as id1_97_, serviceent0_.account_caption as account_2_97_, serviceent0_.additional_fields as addition3_97_, serviceent0_.base as base4_97_, serviceent0_.is_blocked as is_block5_97_, serviceent0_.category_id as category6_97_, serviceent0_.code as code7_97_, serviceent0_.currency_id as currency8_97_, serviceent0_.destination_view_format as destinat9_97_, serviceent0_.display_order as display10_97_, serviceent0_.is_fixed_amount as is_fixe11_97_, serviceent0_.image_path as image_p12_97_, serviceent0_.keep_validation_result as keep_va13_97_, serviceent0_.mask as mask14_97_, serviceent0_.is_multi_currency as is_mult15_97_, serviceent0_.name as name16_97_, serviceent0_.only_identified as only_id17_97_, serviceent0_.provider_id as provide18_97_, serviceent0_.is_terminal_change as is_term19_97_, serviceent0_.terminal_mask as termina20_97_, serviceent0_.is_user_amount as is_user21_97_ from services serviceent0_ where serviceent0_.id=?</p>\n<p>for that was called from the app code without debug call, the same is called from Evaluate window of debug mode, while addding to serviceId specific values like 594 and 595.</p>\n<p>So, looks like Hibernate extracts the same values from the DB, but then looses the retrieved data.</p>\n<p>UPD. It turns out, that they are called consequentially, both initiated by the Vaadin UI actions.</p>\n<p>1)</p>\n<pre><code>public void enter(ViewChangeListener.ViewChangeEvent event) {\n            int serviceId = Integer.parseInt(event.getParameters());\n            service = pServiceService.**getServiceById**(serviceId);\n  \n</code></pre>\n<ol start=\"2\">\n<li><p>@Transactional(readOnly = true)\npublic ProviderService getProviderService(int serviceId) {\nif (serviceProviderCache.get(serviceId) != null) {\nreturn serviceProviderCache.get(serviceId);\n}</p>\n<pre><code>      ServiceEntity serviceEntity = pServiceDao.**getServiceById**(serviceId);\n      if (settingService.isEnableGateway() &amp;&amp; (Arrays.stream(GatewayProviderImpl.GATEWAY_PROVIDERS)\n              .anyMatch(p -&gt; serviceEntity.getProviderId().equals(p)))) {\n          serviceProviderCache.put(serviceId, providersCache.get(GatewayProviderImpl.PROVIDER_ID));\n      } else {\n          serviceProviderCache.put(serviceId, providersCache.get(serviceEntity.getProvider().getId()));\n      }\n\n      return serviceProviderCache.get(serviceId);\n  }\n</code></pre>\n</li>\n</ol>\n<p>And if in the first method serviceId would be =594, the first execution is ok, it returns some data, while on the second execution of <strong>getServiceById</strong>(serviceId) the null-fields data is returned.</p>\n<p>If I would take the Evaluate tool and explicitly call for</p>\n<pre><code>**getServiceById**(595)\n</code></pre>\n<p>at the debug step 2), I would get the non-null data. If now I would do</p>\n<pre><code>**getServiceById**(594), I'm also getting the null-filled data\n</code></pre>\n<p>Like execution of point 1) forces entity manager to return something wrong and if it isn't executed for the specific id, it works properly</p>\n<p>WHat is the root cause of that and how to work it around?</p>\n"},{"tags":["java","docusignapi","docusignconnect"],"answers":[{"tags":[],"owner":{"account_id":3306930,"reputation":13230,"user_id":2781454,"display_name":"Kim Brandl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393946417,"creation_date":1393946417,"answer_id":22175911,"question_id":22162318,"body_markdown":"I&#39;ve never built a Java DocuSign Connect listener application, but I have built one with C#, and I did so by starting with the sample code on GitHub. The Java code is here -- https://github.com/docusign/DocuSign-eSignature-SDK/tree/master/Java/Connect -- if nothing else, perhaps comparing it with what you&#39;ve got may help you identify the issue(s). Or, you might choose to start over by using the GitHub sample app as the basis for building your listener app -- the C# listener app was plug-and-play, I&#39;d expect the Java version to be the same. ","title":"Docusign Connect Java listener deserializing to incorrect object","body":"<p>I've never built a Java DocuSign Connect listener application, but I have built one with C#, and I did so by starting with the sample code on GitHub. The Java code is here -- <a href=\"https://github.com/docusign/DocuSign-eSignature-SDK/tree/master/Java/Connect\" rel=\"nofollow\">https://github.com/docusign/DocuSign-eSignature-SDK/tree/master/Java/Connect</a> -- if nothing else, perhaps comparing it with what you've got may help you identify the issue(s). Or, you might choose to start over by using the GitHub sample app as the basis for building your listener app -- the C# listener app was plug-and-play, I'd expect the Java version to be the same. </p>\n"}],"owner":{"account_id":1075465,"reputation":167,"user_id":1073733,"accept_rate":75,"display_name":"dermd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684883869,"creation_date":1393903930,"question_id":22162318,"body_markdown":"I have a Java listener for working with Docusign Connect. Checking out the logs for the connect calls I see the XML as I expected with form fields populated. However, for some reason when the object gets deserialized in the form, the data section is null. I think it may be related to the below SO question:\r\n\r\n[https://stackoverflow.com/questions/20686436/why-is-my-wcf-web-service-presenting-this-object-in-a-different-namespace-with-d][1]\r\n\r\nI&#39;m using Apache CXF and Maven to download the API objects from\r\n\r\n[https://www.docusign.net/api/3.0/api.asmx?wsdl][2]\r\n\r\nHowever, the deserialized object looks to be different from the XML sent from Connect. Has anyone come across this before or have gotten a listener working in Java which can access the forms fields?\r\n\r\n  [1]: https://stackoverflow.com/questions/20686436/why-is-my-wcf-web-service-presenting-this-object-in-a-different-namespace-with-d\r\n  [2]: https://www.docusign.net/api/3.0/api.asmx?wsdl","title":"Docusign Connect Java listener deserializing to incorrect object","body":"<p>I have a Java listener for working with Docusign Connect. Checking out the logs for the connect calls I see the XML as I expected with form fields populated. However, for some reason when the object gets deserialized in the form, the data section is null. I think it may be related to the below SO question:</p>\n<p><a href=\"https://stackoverflow.com/questions/20686436/why-is-my-wcf-web-service-presenting-this-object-in-a-different-namespace-with-d\">Why is my WCF web service presenting this object in a different namespace with different field names?</a></p>\n<p>I'm using Apache CXF and Maven to download the API objects from</p>\n<p><a href=\"https://www.docusign.net/api/3.0/api.asmx?wsdl\" rel=\"nofollow noreferrer\">https://www.docusign.net/api/3.0/api.asmx?wsdl</a></p>\n<p>However, the deserialized object looks to be different from the XML sent from Connect. Has anyone come across this before or have gotten a listener working in Java which can access the forms fields?</p>\n"},{"tags":["java","jmx","newrelic"],"answers":[{"tags":[],"owner":{"account_id":91652,"reputation":458,"user_id":251542,"display_name":"Andr&#233; Onuki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684883223,"creation_date":1684883223,"answer_id":76319146,"question_id":76313589,"body_markdown":"According to the [documentation][1] it will show up in Metrics Explorer.\r\n\r\n[![Metrics explorer][2]][2]\r\n\r\nThe link to Metrics explorer is inside your APM page, at the bottom of the 2nd menu on the left. Then you can filter using `jmx/org` and it should show the metrics.\r\n\r\nBelow is further troubleshooting information, which are not helpful to you since you can see in the logs that the data is being properly collected, but may help others that look into this question in the future.\r\n\r\nIf it does not show there, take a look at your agent logs to see if your extension is loading correctly.\r\n\r\nAn error message would look like:\r\n```\r\ncom.newrelic.agent.extension.ExtensionService ERROR: Unable to parse extension. Check permissions on /path/to/extensions/ext.yml.  {error message}\r\n```\r\n\r\nAlso search for messages for the query and see if there are any matches. These log messages look like:\r\n```\r\ncom.newrelic FINER: JMX Service : MBeans query org.apache.commons.pool2:type=GenericObjectPool,name=*, matches 1\r\n```\r\n\r\nIf there are no matches, there maybe something wrong with the query in your extension. You may need to increase your log level to FINER to see these lines.\r\n\r\n  [1]: https://docs.newrelic.com/docs/apm/agents/java-agent/custom-instrumentation/java-agent-custom-jmx-instrumentation-yaml/#display_metrics\r\n  [2]: https://i.stack.imgur.com/m5WfZ.png","title":"Unable to get JMX monitoring data in new relic","body":"<p>According to the <a href=\"https://docs.newrelic.com/docs/apm/agents/java-agent/custom-instrumentation/java-agent-custom-jmx-instrumentation-yaml/#display_metrics\" rel=\"nofollow noreferrer\">documentation</a> it will show up in Metrics Explorer.</p>\n<p><a href=\"https://i.stack.imgur.com/m5WfZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m5WfZ.png\" alt=\"Metrics explorer\" /></a></p>\n<p>The link to Metrics explorer is inside your APM page, at the bottom of the 2nd menu on the left. Then you can filter using <code>jmx/org</code> and it should show the metrics.</p>\n<p>Below is further troubleshooting information, which are not helpful to you since you can see in the logs that the data is being properly collected, but may help others that look into this question in the future.</p>\n<p>If it does not show there, take a look at your agent logs to see if your extension is loading correctly.</p>\n<p>An error message would look like:</p>\n<pre><code>com.newrelic.agent.extension.ExtensionService ERROR: Unable to parse extension. Check permissions on /path/to/extensions/ext.yml.  {error message}\n</code></pre>\n<p>Also search for messages for the query and see if there are any matches. These log messages look like:</p>\n<pre><code>com.newrelic FINER: JMX Service : MBeans query org.apache.commons.pool2:type=GenericObjectPool,name=*, matches 1\n</code></pre>\n<p>If there are no matches, there maybe something wrong with the query in your extension. You may need to increase your log level to FINER to see these lines.</p>\n"}],"owner":{"account_id":3928362,"reputation":473,"user_id":3247895,"accept_rate":50,"display_name":"user3247895"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76319146,"answer_count":1,"score":0,"last_activity_date":1684883223,"creation_date":1684836568,"question_id":76313589,"body_markdown":"We are trying to monitor the idle objects count in JedisPool ( internally uses Apache Generic-Pool API supporting JMX).\r\n\r\nWe added appropriate configuration in extension newrelic file based on https://docs.newrelic.com/docs/apm/agents/java-agent/custom-instrumentation/java-agent-custom-jmx-instrumentation-yaml/ .\r\n\r\nWe are able to get appropriate JMX Metric log in newrelic_agent.log present in our server as follows:\r\n```\r\n2023-05-22T09:09:10,940+0000 [1 1] com.newrelic.agent.extension.ExtensionService FINER: Reading custom extension file /usr/local/tomcat/newrelic/extensions/GenericObjectPool.yml&amp;amp;nbsp;\r\n2023-05-22T09:09:10,943+0000 [1 1] com.newrelic.agent.extension.ExtensionService FINER: Adding extension with name GenericObjectPool and version 1.0 2023-05-22T09:09:10,950+0000 [1 1] com.newrelic FINER: Adding JMX config: object_name: org.apache.commons.pool2:type=GenericObjectPool,name=* attributes: [MinIdle type: simple, MaxIdle type: simple, MaxTotal type: simple, NumActive type: simple, NumIdle type: simple, NumWaiters type: simple]&amp;amp;nbsp;\r\n2023-05-22T09:10:36,982+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: JMX Service : MBeans query java.lang:type=ClassLoading, matches 1 2023-05-22T09:10:36,987+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric LoadedClassCount : 26,825&amp;amp;nbsp;\r\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric UnloadedClassCount : 1&amp;amp;nbsp;\r\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Classes/Loaded Value: 26,825&amp;amp;nbsp;\r\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Classes/Unloaded Value: 1&amp;amp;nbsp;\r\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: JMX Service : MBeans query java.lang:type=Threading, matches 1&amp;amp;nbsp;\r\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric ThreadCount : 95&amp;amp;nbsp;\r\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric TotalStartedThreadCount : 578&amp;amp;nbsp;\r\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Threads/Thread Count Value: 95&amp;amp;nbsp;\r\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Threads/TotalStartedCount Value: 578&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: JMX Service : MBeans query org.apache.commons.pool2:type=GenericObjectPool,name=*, matches 12 2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MaxTotal : 5&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumActive : 0&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumWaiters : 0&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumIdle : 5&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MinIdle : 5&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MaxIdle : 5&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MaxTotal : 5&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumActive : 0&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumWaiters : 0&amp;amp;nbsp;\r\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumIdle : 5&amp;amp;nbsp;\r\n```\r\n\r\nBut we are unable to find same JMX Metric data anywhere in newrelic dashboard or tables.\r\n\r\nCan you please help in knowing how can we see JMX Metric data in new relic.\r\n\r\nI asked same question at https://forum.newrelic.com/s/hubtopic/aAX8W0000015AasWAE/unable-to-get-jmx-monitoring-data-in-new-relic?t=1684835773973 .\r\n","title":"Unable to get JMX monitoring data in new relic","body":"<p>We are trying to monitor the idle objects count in JedisPool ( internally uses Apache Generic-Pool API supporting JMX).</p>\n<p>We added appropriate configuration in extension newrelic file based on <a href=\"https://docs.newrelic.com/docs/apm/agents/java-agent/custom-instrumentation/java-agent-custom-jmx-instrumentation-yaml/\" rel=\"nofollow noreferrer\">https://docs.newrelic.com/docs/apm/agents/java-agent/custom-instrumentation/java-agent-custom-jmx-instrumentation-yaml/</a> .</p>\n<p>We are able to get appropriate JMX Metric log in newrelic_agent.log present in our server as follows:</p>\n<pre><code>2023-05-22T09:09:10,940+0000 [1 1] com.newrelic.agent.extension.ExtensionService FINER: Reading custom extension file /usr/local/tomcat/newrelic/extensions/GenericObjectPool.yml&amp;amp;nbsp;\n2023-05-22T09:09:10,943+0000 [1 1] com.newrelic.agent.extension.ExtensionService FINER: Adding extension with name GenericObjectPool and version 1.0 2023-05-22T09:09:10,950+0000 [1 1] com.newrelic FINER: Adding JMX config: object_name: org.apache.commons.pool2:type=GenericObjectPool,name=* attributes: [MinIdle type: simple, MaxIdle type: simple, MaxTotal type: simple, NumActive type: simple, NumIdle type: simple, NumWaiters type: simple]&amp;amp;nbsp;\n2023-05-22T09:10:36,982+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: JMX Service : MBeans query java.lang:type=ClassLoading, matches 1 2023-05-22T09:10:36,987+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric LoadedClassCount : 26,825&amp;amp;nbsp;\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric UnloadedClassCount : 1&amp;amp;nbsp;\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Classes/Loaded Value: 26,825&amp;amp;nbsp;\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Classes/Unloaded Value: 1&amp;amp;nbsp;\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: JMX Service : MBeans query java.lang:type=Threading, matches 1&amp;amp;nbsp;\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric ThreadCount : 95&amp;amp;nbsp;\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric TotalStartedThreadCount : 578&amp;amp;nbsp;\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Threads/Thread Count Value: 95&amp;amp;nbsp;\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Threads/TotalStartedCount Value: 578&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: JMX Service : MBeans query org.apache.commons.pool2:type=GenericObjectPool,name=*, matches 12 2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MaxTotal : 5&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumActive : 0&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumWaiters : 0&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumIdle : 5&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MinIdle : 5&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MaxIdle : 5&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MaxTotal : 5&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumActive : 0&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumWaiters : 0&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumIdle : 5&amp;amp;nbsp;\n</code></pre>\n<p>But we are unable to find same JMX Metric data anywhere in newrelic dashboard or tables.</p>\n<p>Can you please help in knowing how can we see JMX Metric data in new relic.</p>\n<p>I asked same question at <a href=\"https://forum.newrelic.com/s/hubtopic/aAX8W0000015AasWAE/unable-to-get-jmx-monitoring-data-in-new-relic?t=1684835773973\" rel=\"nofollow noreferrer\">https://forum.newrelic.com/s/hubtopic/aAX8W0000015AasWAE/unable-to-get-jmx-monitoring-data-in-new-relic?t=1684835773973</a> .</p>\n"},{"tags":["java","gradle","junit","junit4"],"comments":[{"owner":{"account_id":15144230,"reputation":1347,"user_id":10928439,"display_name":"Simon Jacobs"},"score":0,"creation_date":1676517487,"post_id":75444455,"comment_id":133154215,"body_markdown":"What about ./gradlew integrationTest --tests com.x.y.aTest, or use whatever is your integration test task name? Looks like those aren&#39;t captured under the default &quot;test&quot; task","body":"What about ./gradlew integrationTest --tests com.x.y.aTest, or use whatever is your integration test task name? Looks like those aren&#39;t captured under the default &quot;test&quot; task"}],"owner":{"account_id":7363882,"reputation":163,"user_id":5606268,"display_name":"Kpras"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684882198,"creation_date":1676358578,"question_id":75444455,"body_markdown":"I have gradle project with below structure\r\n\r\nParentDirectory\r\n\r\n &gt;component1\r\n\r\n &gt;component2\r\n\r\n &gt;testsuites\r\n\r\n &gt;unittest\r\n\r\nWhen I run command ./gradlew test\r\nIt ran all tests under unittest not integration tests\r\n\r\nI have some integration tests like aTest, bTest etc in testsuites directory, when I run below command it does something like (Configure project...) but I guess its not running integration junit tests as it doesn&#39;t show test details\r\n\r\n    ./gradlew clean test --tests com.x.y.aTest\r\n\r\nHere com.x.y is package location to aTest, what is seen on import in aTest class.\r\n\r\nPlease let me know how can I run single integration test class &amp; multiple integration tests with gradle command in terminal? ","title":"Run integration tests in a specific directory with gradle command","body":"<p>I have gradle project with below structure</p>\n<p>ParentDirectory</p>\n<blockquote>\n<p>component1</p>\n</blockquote>\n<blockquote>\n<p>component2</p>\n</blockquote>\n<blockquote>\n<p>testsuites</p>\n</blockquote>\n<blockquote>\n<p>unittest</p>\n</blockquote>\n<p>When I run command ./gradlew test\nIt ran all tests under unittest not integration tests</p>\n<p>I have some integration tests like aTest, bTest etc in testsuites directory, when I run below command it does something like (Configure project...) but I guess its not running integration junit tests as it doesn't show test details</p>\n<pre><code>./gradlew clean test --tests com.x.y.aTest\n</code></pre>\n<p>Here com.x.y is package location to aTest, what is seen on import in aTest class.</p>\n<p>Please let me know how can I run single integration test class &amp; multiple integration tests with gradle command in terminal?</p>\n"},{"tags":["java","bouncycastle"],"comments":[{"owner":{"account_id":2664783,"reputation":186,"user_id":2303530,"accept_rate":50,"display_name":"markmacw"},"score":3,"creation_date":1684882134,"post_id":76319072,"comment_id":134581812,"body_markdown":"You might want to phrase the title as a question... please see advice on the StackOverflow help article: https://stackoverflow.com/help/how-to-ask\nSpecifically they suggest writing your title last &quot;If you&#39;re having trouble summarizing the problem, write the title last—sometimes, writing the rest of the question first can make it easier to describe the problem.&quot;","body":"You might want to phrase the title as a question... please see advice on the StackOverflow help article: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> Specifically they suggest writing your title last &quot;If you&#39;re having trouble summarizing the problem, write the title last—sometimes, writing the rest of the question first can make it easier to describe the problem.&quot;"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1684886478,"post_id":76319072,"comment_id":134582213,"body_markdown":"I&#39;m not familiar with `BouncyCastle`. But, Google found the [class JceKeyTransEnvelopedRecipient API](https://www.bouncycastle.org/docs/pkixdocs1.5on/index.html?org/bouncycastle/cms/jcajce/JceKeyTransEnvelopedRecipient.html). Note that the *only* constructor takes a `java.security.PrivateKey`  Object for an argument. You are trying to pass a PublicKey.","body":"I&#39;m not familiar with <code>BouncyCastle</code>. But, Google found the <a href=\"https://www.bouncycastle.org/docs/pkixdocs1.5on/index.html?org/bouncycastle/cms/jcajce/JceKeyTransEnvelopedRecipient.html\" rel=\"nofollow noreferrer\">class JceKeyTransEnvelopedRecipient API</a>. Note that the <i>only</i> constructor takes a <code>java.security.PrivateKey</code>  Object for an argument. You are trying to pass a PublicKey."}],"owner":{"account_id":28665935,"reputation":1,"user_id":21949945,"display_name":"Pedro Marques"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684881831,"creation_date":1684881831,"question_id":76319072,"body_markdown":"Trying to decrypt a file which for my Cryptografy class, but I cannot pass the correct arguments for the function:\r\n\r\n\r\n```\r\nimport org.bouncycastle.cms.CMSEnvelopedDataParser;\r\nimport org.bouncycastle.cms.RecipientInformation;\r\nimport org.bouncycastle.cms.RecipientInformationStore;\r\nimport org.bouncycastle.cms.jcajce.JceKeyTransEnvelopedRecipient;\r\nimport org.bouncycastle.util.io.Streams;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.OutputStream;\r\nimport java.security.cert.CertificateFactory;\r\nimport java.security.cert.X509Certificate;\r\n\r\npublic class BouncyCastleDecrypt {\r\n    public static void main(String[] args) {\r\n        try {\r\n            CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n            FileInputStream certFileInputStream = new FileInputStream(&quot;xxxx.crt&quot;);\r\n            X509Certificate cert = (X509Certificate) certFactory.generateCertificate(certFileInputStream);\r\n\r\n            FileInputStream encryptedFileInputStream = new FileInputStream(&quot;xxxx.enc&quot;);\r\n            CMSEnvelopedDataParser parser = new CMSEnvelopedDataParser(encryptedFileInputStream);\r\n\r\n            RecipientInformationStore recipientInfos = parser.getRecipientInfos();\r\n            RecipientInformation recipientInfo = recipientInfos.getRecipients().iterator().next();\r\n\r\n            JceKeyTransEnvelopedRecipient recipient = new JceKeyTransEnvelopedRecipient(cert.getPublicKey());\r\n            byte[] decryptedData = recipientInfo.getContent(recipient);\r\n\r\n            OutputStream decryptedOutputStream = new FileOutputStream(&quot;final_file.pdf&quot;);\r\n            decryptedOutputStream.write(decryptedData);\r\n            decryptedOutputStream.close();\r\n\r\n            System.out.println(&quot;Descriptografia conclu&#237;da com sucesso!&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nMultiple variations in order to create the receipient to access the key","title":"Cannot pass this issue: The constructor JceKeyTransEnvelopedRecipient(PublicKey) is undefined","body":"<p>Trying to decrypt a file which for my Cryptografy class, but I cannot pass the correct arguments for the function:</p>\n<pre><code>import org.bouncycastle.cms.CMSEnvelopedDataParser;\nimport org.bouncycastle.cms.RecipientInformation;\nimport org.bouncycastle.cms.RecipientInformationStore;\nimport org.bouncycastle.cms.jcajce.JceKeyTransEnvelopedRecipient;\nimport org.bouncycastle.util.io.Streams;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.OutputStream;\nimport java.security.cert.CertificateFactory;\nimport java.security.cert.X509Certificate;\n\npublic class BouncyCastleDecrypt {\n    public static void main(String[] args) {\n        try {\n            CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n            FileInputStream certFileInputStream = new FileInputStream(&quot;xxxx.crt&quot;);\n            X509Certificate cert = (X509Certificate) certFactory.generateCertificate(certFileInputStream);\n\n            FileInputStream encryptedFileInputStream = new FileInputStream(&quot;xxxx.enc&quot;);\n            CMSEnvelopedDataParser parser = new CMSEnvelopedDataParser(encryptedFileInputStream);\n\n            RecipientInformationStore recipientInfos = parser.getRecipientInfos();\n            RecipientInformation recipientInfo = recipientInfos.getRecipients().iterator().next();\n\n            JceKeyTransEnvelopedRecipient recipient = new JceKeyTransEnvelopedRecipient(cert.getPublicKey());\n            byte[] decryptedData = recipientInfo.getContent(recipient);\n\n            OutputStream decryptedOutputStream = new FileOutputStream(&quot;final_file.pdf&quot;);\n            decryptedOutputStream.write(decryptedData);\n            decryptedOutputStream.close();\n\n            System.out.println(&quot;Descriptografia concluída com sucesso!&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Multiple variations in order to create the receipient to access the key</p>\n"},{"tags":["java","https","ssl-certificate","keystore","x509"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1684973154,"post_id":76319001,"comment_id":134597306,"body_markdown":"I think there may be two different problems. Did you do the `-import[cert]`s, particularly the last one, to the same keystore _and entry/alias_ as you used for `-genkey[pair]`? If not, that would explain the certs not being linked (as a chain) in the keystore, and the keystore not being usable for an SSL/TLS server. However, the KSE Verify operation just seems to be broken, at least in the version I have (5.5.1) -- not onlyl does it say valid Sectigo CA certs &#39;[don&#39;t] chain to an anchor&#39; it also does this for certs in cacerts which are by definition anchors.","body":"I think there may be two different problems. Did you do the <code>-import[cert]</code>s, particularly the last one, to the same keystore <i>and entry/alias</i> as you used for <code>-genkey[pair]</code>? If not, that would explain the certs not being linked (as a chain) in the keystore, and the keystore not being usable for an SSL/TLS server. However, the KSE Verify operation just seems to be broken, at least in the version I have (5.5.1) -- not onlyl does it say valid Sectigo CA certs &#39;[don&#39;t] chain to an anchor&#39; it also does this for certs in cacerts which are by definition anchors."},{"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"score":0,"creation_date":1685107852,"post_id":76319001,"comment_id":134619407,"body_markdown":"Interesting. I created the certificate request using commodo&#39;s online certificate request creation page. So I don&#39;t believe I used &quot;genkey&quot; at all. Regarding your second suggestion, I will test on the public website.","body":"Interesting. I created the certificate request using commodo&#39;s online certificate request creation page. So I don&#39;t believe I used &quot;genkey&quot; at all. Regarding your second suggestion, I will test on the public website."},{"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"score":0,"creation_date":1685275201,"post_id":76319001,"comment_id":134636230,"body_markdown":"Thank you! The part about the same alias for the genkey did the trick.","body":"Thank you! The part about the same alias for the genkey did the trick."}],"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684880757,"creation_date":1684880757,"question_id":76319001,"body_markdown":"I&#39;m trying to add https capability to an Spring Boot app. \r\n\r\nI purchased a certificate from Comodo but am having a lot of difficulty getting it to be trusted. \r\n\r\nI came across [this post](https://stackoverflow.com/questions/51107096/springboot-and-comodo-https-configuration-for-the-web-application) and imported the certificate chain as follows\r\n\r\n\r\n    // The first was arleady trusted under a different alias, added anyway\r\n    \r\n    keytool -import -trustcacerts -alias AAACertificateServices -file AAACertificateServices.crt -keystore domain.keystore\r\n    \r\n    keytool -import -trustcacerts -alias USERTrustRSAAAACA -file  USERTrustRSAAAACA.crt -keystore domain.keystore\r\n    \r\n    keytool -import -trustcacerts -alias SectigoRSADomainValidationSecureServerCA -file  SectigoRSADomainValidationSecureServerCA.crt -keystore domain.keystore\r\n    \r\n    keytool -import -trustcacerts -alias tomcat -file mydoman.crt -keystore domain.keystore\r\n\r\n\r\nHowever, when I verify the certificates in Keystore Explorer, the verification fails, and the certificate chain is not linked. \r\n\r\nAny ideas how I can solve this aggravating problem?","title":"Java keystore - Imported certificate chain is untrusted","body":"<p>I'm trying to add https capability to an Spring Boot app.</p>\n<p>I purchased a certificate from Comodo but am having a lot of difficulty getting it to be trusted.</p>\n<p>I came across <a href=\"https://stackoverflow.com/questions/51107096/springboot-and-comodo-https-configuration-for-the-web-application\">this post</a> and imported the certificate chain as follows</p>\n<pre><code>// The first was arleady trusted under a different alias, added anyway\n\nkeytool -import -trustcacerts -alias AAACertificateServices -file AAACertificateServices.crt -keystore domain.keystore\n\nkeytool -import -trustcacerts -alias USERTrustRSAAAACA -file  USERTrustRSAAAACA.crt -keystore domain.keystore\n\nkeytool -import -trustcacerts -alias SectigoRSADomainValidationSecureServerCA -file  SectigoRSADomainValidationSecureServerCA.crt -keystore domain.keystore\n\nkeytool -import -trustcacerts -alias tomcat -file mydoman.crt -keystore domain.keystore\n</code></pre>\n<p>However, when I verify the certificates in Keystore Explorer, the verification fails, and the certificate chain is not linked.</p>\n<p>Any ideas how I can solve this aggravating problem?</p>\n"},{"tags":["java","arrays","string","performance","time-complexity"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1684867084,"post_id":76317718,"comment_id":134579231,"body_markdown":"O(n^2)??? Please share any resource claiming that. And what is n in your case? See you just asking about appending a string of length n to itself?","body":"O(n^2)??? Please share any resource claiming that. And what is n in your case? See you just asking about appending a string of length n to itself?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1684867469,"post_id":76317718,"comment_id":134579304,"body_markdown":"&quot;Is it not the case that the compiler can detect the length of the RHS literal and directly assign the new array to be whatever the length of str is + the RHS literal right away&quot; Appending strings requires copying characters, not just calculating the length.","body":"&quot;Is it not the case that the compiler can detect the length of the RHS literal and directly assign the new array to be whatever the length of str is + the RHS literal right away&quot; Appending strings requires copying characters, not just calculating the length."},{"owner":{"account_id":17829609,"reputation":107,"user_id":12949960,"display_name":"Zerenity"},"score":1,"creation_date":1684867605,"post_id":76317718,"comment_id":134579329,"body_markdown":"@luk2302 https://interviews.school/strings https://stackoverflow.com/questions/15400508/string-concatenation-complexity-in-c-and-java https://plainenglish.io/blog/concatenating-strings-efficiently-in-python etc. Sorry, I should change it to O(mn) considering two diff input variables.","body":"@luk2302 <a href=\"https://interviews.school/strings\" rel=\"nofollow noreferrer\">interviews.school/strings</a> <a href=\"https://stackoverflow.com/questions/15400508/string-concatenation-complexity-in-c-and-java\" title=\"string concatenation complexity in c and java\">stackoverflow.com/questions/15400508/&hellip;</a> <a href=\"https://plainenglish.io/blog/concatenating-strings-efficiently-in-python\" rel=\"nofollow noreferrer\">plainenglish.io/blog/&hellip;</a> etc. Sorry, I should change it to O(mn) considering two diff input variables."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1684867737,"post_id":76317718,"comment_id":134579348,"body_markdown":"All those are basically intentionally bad, O(n^2) yes. And no, your second snippet obviously is O(n) or O(n+m) but not quadratic.","body":"All those are basically intentionally bad, O(n^2) yes. And no, your second snippet obviously is O(n) or O(n+m) but not quadratic."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1684867811,"post_id":76317718,"comment_id":134579357,"body_markdown":"Stop trying to reason about what the compiler can infer or not, that is irrelevant. Adding anything to a string is linear in time, adding things n times therefore is quadratic, end of argument.","body":"Stop trying to reason about what the compiler can infer or not, that is irrelevant. Adding anything to a string is linear in time, adding things n times therefore is quadratic, end of argument."},{"owner":{"account_id":17829609,"reputation":107,"user_id":12949960,"display_name":"Zerenity"},"score":0,"creation_date":1684868067,"post_id":76317718,"comment_id":134579407,"body_markdown":"@Code-Apprentice I know, I&#39;m wondering though whether a new array is created for each step in the RHS literal with copying of prev characters occurring for each new array or if one single array is created by inferring the length of RHS literal and copying of prev characters only occurring once, i.e., is it case 1 that happens (in java specifically) or case 2 for string concatenation?","body":"@Code-Apprentice I know, I&#39;m wondering though whether a new array is created for each step in the RHS literal with copying of prev characters occurring for each new array or if one single array is created by inferring the length of RHS literal and copying of prev characters only occurring once, i.e., is it case 1 that happens (in java specifically) or case 2 for string concatenation?"},{"owner":{"account_id":17829609,"reputation":107,"user_id":12949960,"display_name":"Zerenity"},"score":1,"creation_date":1684868287,"post_id":76317718,"comment_id":134579452,"body_markdown":"@luk2302 Right, that&#39;s what I assumed too, so concatenating two strings in one line outside a loop is O(n+m) (as a new array is only formed once being that java can infer the length of the RHS literal?) while concatenating within a loop in a per iteration basis is O(nm) (as new arrays are formed every iteration?)? Edit: Thanks, your latest comment makes sense.","body":"@luk2302 Right, that&#39;s what I assumed too, so concatenating two strings in one line outside a loop is O(n+m) (as a new array is only formed once being that java can infer the length of the RHS literal?) while concatenating within a loop in a per iteration basis is O(nm) (as new arrays are formed every iteration?)? Edit: Thanks, your latest comment makes sense."},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":0,"creation_date":1684868543,"post_id":76317718,"comment_id":134579506,"body_markdown":"I think some compilers or JIT interpeters automatically convert repeated string concatenation to use `StringBuilder` in some cases, which amortizes reallocation?","body":"I think some compilers or JIT interpeters automatically convert repeated string concatenation to use <code>StringBuilder</code> in some cases, which amortizes reallocation?"},{"owner":{"account_id":17829609,"reputation":107,"user_id":12949960,"display_name":"Zerenity"},"score":1,"creation_date":1684868773,"post_id":76317718,"comment_id":134579543,"body_markdown":"@SolomonUcko I read something about the StringBuilder automatically being invoked in the following forum discussion https://stackoverflow.com/questions/58309852/why-is-the-complexity-of-simple-string-concatenation-on2","body":"@SolomonUcko I read something about the StringBuilder automatically being invoked in the following forum discussion <a href=\"https://stackoverflow.com/questions/58309852/why-is-the-complexity-of-simple-string-concatenation-on2\" title=\"why is the complexity of simple string concatenation on2\">stackoverflow.com/questions/58309852/&hellip;</a>"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1684880524,"post_id":76317718,"comment_id":134581628,"body_markdown":"This (in append2) looks like a bug: `String str += s;`   You&#39;re concatenating &#39;s&#39; onto an uninitialized variable.  It&#39;s probably not even legal syntax; the context is &#39;initialization&#39;, not &#39;assignment&#39;.","body":"This (in append2) looks like a bug: <code>String str += s;</code>   You&#39;re concatenating &#39;s&#39; onto an uninitialized variable.  It&#39;s probably not even legal syntax; the context is &#39;initialization&#39;, not &#39;assignment&#39;."}],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684876782,"creation_date":1684867623,"answer_id":76317797,"question_id":76317718,"body_markdown":"Concatenating strings should be `O(n)`. It will be roughly the following algorithm:\r\n\r\n```\r\nget the length of each string and add them together\r\nallocate a new array of this length\r\ncopy each character from the first string into the new array buffer\r\ncopy each character from the second string int the new array buffer making sure to place them after the last character from the first string\r\n```\r\n\r\nThe first 2 steps are &quot;simple&quot; operations and take constant time because they don&#39;t depend on the number of characters. This assumes that the length of each string is already stored somewhere and we don&#39;t have to count the characters on-the-fly.\r\n\r\nThe last two steps will require a single loop, so will be `O(n)`.","title":"Is adding the string e.g. &quot; world&quot; to another string &quot;hello&quot; in one line seen as one or many concatenations?","body":"<p>Concatenating strings should be <code>O(n)</code>. It will be roughly the following algorithm:</p>\n<pre><code>get the length of each string and add them together\nallocate a new array of this length\ncopy each character from the first string into the new array buffer\ncopy each character from the second string int the new array buffer making sure to place them after the last character from the first string\n</code></pre>\n<p>The first 2 steps are &quot;simple&quot; operations and take constant time because they don't depend on the number of characters. This assumes that the length of each string is already stored somewhere and we don't have to count the characters on-the-fly.</p>\n<p>The last two steps will require a single loop, so will be <code>O(n)</code>.</p>\n"}],"owner":{"account_id":17829609,"reputation":107,"user_id":12949960,"display_name":"Zerenity"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76317797,"answer_count":1,"score":-2,"last_activity_date":1684880706,"creation_date":1684866776,"question_id":76317718,"body_markdown":"I&#39;m exploring the time complexities of string concatenation. I&#39;ve read on many websites that the time complexity of concatenating two strings using the + operator is O(n^2) (or O(mn) to be exact in regards to concatenating two different string variables). I&#39;m wondering if this only occurs for a certain type of concatenation scheme (using the + operator). I&#39;m contemplating whether:\r\n\r\n```\r\nvoid append1 (String s){\r\n  \r\n  //s literal is &quot; world&quot;\r\n\r\n  String str = &quot;hello&quot;;\r\n\r\n  for (int i = 0; i &lt; s.length; i++){\r\n    str += s.charAt(i);\r\n  }\r\n}\r\n```\r\nhas the same time complexity as:\r\n```\r\nvoid append2 (String s){\r\n  \r\n  //s literal is &quot; world&quot;\r\n\r\n  String str = &quot;hello&quot;;\r\n\r\n  str += s;\r\n}\r\n```\r\nWould this be true or false?\r\n\r\nIn append1(String s) I understand that a new concatenation occurs every new iteration, and thus I can see how the time complexity for appending to String str in append1(String s) is O(n^2) i.e. O(mn) in our case (being the old copies are always copied over to a new array that can fit the new additional to-be-added character). However, in append2(String s), is it still the case that a new array, with copying all previous characters into it, is undergone for each character in the RHS literal (which would entail that &quot; world&quot; is not just one concatenation but many for each charAt(x) in &quot; world&quot;?)? For: \r\n\r\n```\r\nstr += &quot; world&quot;\r\n```\r\n\r\nIs it not the case that the compiler can detect the length of the RHS literal and directly assign the new array to be whatever the length of str is + the RHS literal right away, or is it unable to do so and just creates the new arrays whenever a new character is to be appended? If this is the case, doesn&#39;t this entail that creating any type of String is O(n^2) (if not, how can the compiler infer the length of RHS literal for String x = &quot;hello&quot; (which presumably is O(n)) but not x += &quot; world&quot;)? Conclusively, should:\r\n```\r\n str += &quot; world&quot;\r\n```\r\nbe regarded as one or many concatenations? Thanks.","title":"Is adding the string e.g. &quot; world&quot; to another string &quot;hello&quot; in one line seen as one or many concatenations?","body":"<p>I'm exploring the time complexities of string concatenation. I've read on many websites that the time complexity of concatenating two strings using the + operator is O(n^2) (or O(mn) to be exact in regards to concatenating two different string variables). I'm wondering if this only occurs for a certain type of concatenation scheme (using the + operator). I'm contemplating whether:</p>\n<pre><code>void append1 (String s){\n  \n  //s literal is &quot; world&quot;\n\n  String str = &quot;hello&quot;;\n\n  for (int i = 0; i &lt; s.length; i++){\n    str += s.charAt(i);\n  }\n}\n</code></pre>\n<p>has the same time complexity as:</p>\n<pre><code>void append2 (String s){\n  \n  //s literal is &quot; world&quot;\n\n  String str = &quot;hello&quot;;\n\n  str += s;\n}\n</code></pre>\n<p>Would this be true or false?</p>\n<p>In append1(String s) I understand that a new concatenation occurs every new iteration, and thus I can see how the time complexity for appending to String str in append1(String s) is O(n^2) i.e. O(mn) in our case (being the old copies are always copied over to a new array that can fit the new additional to-be-added character). However, in append2(String s), is it still the case that a new array, with copying all previous characters into it, is undergone for each character in the RHS literal (which would entail that &quot; world&quot; is not just one concatenation but many for each charAt(x) in &quot; world&quot;?)? For:</p>\n<pre><code>str += &quot; world&quot;\n</code></pre>\n<p>Is it not the case that the compiler can detect the length of the RHS literal and directly assign the new array to be whatever the length of str is + the RHS literal right away, or is it unable to do so and just creates the new arrays whenever a new character is to be appended? If this is the case, doesn't this entail that creating any type of String is O(n^2) (if not, how can the compiler infer the length of RHS literal for String x = &quot;hello&quot; (which presumably is O(n)) but not x += &quot; world&quot;)? Conclusively, should:</p>\n<pre><code> str += &quot; world&quot;\n</code></pre>\n<p>be regarded as one or many concatenations? Thanks.</p>\n"},{"tags":["java","queue","activemq-artemis","purge"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1684878150,"post_id":76318785,"comment_id":134581277,"body_markdown":"Out of curiosity, why are you using the core API?","body":"Out of curiosity, why are you using the core API?"},{"owner":{"account_id":17938786,"reputation":7,"user_id":13034566,"display_name":"NewDev_X606"},"score":0,"creation_date":1685116399,"post_id":76318785,"comment_id":134621446,"body_markdown":"For performance and efficiency and compatibility with older versions","body":"For performance and efficiency and compatibility with older versions"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1685118359,"post_id":76318785,"comment_id":134621817,"body_markdown":"FWIW, the broker maintains backwards compatibility with all the protocols it supports so that older clients should always work with newer brokers.","body":"FWIW, the broker maintains backwards compatibility with all the protocols it supports so that older clients should always work with newer brokers."}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684880154,"creation_date":1684879171,"answer_id":76318906,"question_id":76318785,"body_markdown":"Most messaging APIs and protocols do not provide a way to purge (i.e. clear _all_ messages from) a queue. The two basic operations you normally get are producing and consuming. Such is the case with the &quot;core&quot; API provided by ActiveMQ Artemis.\r\n\r\nThat said, there is a **management** API which provides a way to purge a queue because this is something typically reserved for administrators who may be managing the broker. The management API is based on JMX MBeans so it can be accessed via JMX and a handful of other methods (e.g. web console, HTTP via Jolokia, management &quot;messages&quot;).\r\n\r\nFor Java applications the `jmx` example which ships with ActiveMQ Artemis in the `examples/features/standard/jmx` directory demonstrates exactly what you want to do. It uses the [`removeMessages` method of the `QueueControl`][1] with a `null` filter value to remove all the messages from the queue. Here&#39;s a quick summary:\r\n\r\n```java\r\nimport javax.management.MBeanServerConnection;\r\nimport javax.management.MBeanServerInvocationHandler;\r\nimport javax.management.ObjectName;\r\nimport javax.management.remote.JMXConnector;\r\nimport javax.management.remote.JMXConnectorFactory;\r\nimport javax.management.remote.JMXServiceURL;\r\n\r\nimport org.apache.activemq.artemis.api.core.RoutingType;\r\nimport org.apache.activemq.artemis.api.core.SimpleString;\r\nimport org.apache.activemq.artemis.api.core.management.ObjectNameBuilder;\r\nimport org.apache.activemq.artemis.api.core.management.QueueControl;\r\n\r\n...\r\n\r\nObjectName on = ObjectNameBuilder.DEFAULT.getQueueObjectName(SimpleString.toSimpleString(queueName), SimpleString.toSimpleString(queueName), RoutingType.ANYCAST);\r\nJMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi&quot;));\r\nMBeanServerConnection mbsc = connector.getMBeanServerConnection();\r\nQueueControl queueControl = MBeanServerInvocationHandler.newProxyInstance(mbsc, on, QueueControl.class, false);\r\nqueueControl.removeMessages(null);\r\n```\r\n\r\nFor more details on running the examples see the [&quot;Examples&quot; chapter in the documentation][2].\r\n\r\nFor more details on the management API and broker management in general (including configuration changes necessary to enable [remote JMX access][3]) see the [&quot;Management&quot; chapter in the documentation][4].\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/management/QueueControl.html#removeMessages(java.lang.String)\r\n  [2]: https://activemq.apache.org/components/artemis/documentation/latest/examples.html\r\n  [3]: https://activemq.apache.org/components/artemis/documentation/latest/management.html#remote-jmx-access\r\n  [4]: https://activemq.apache.org/components/artemis/documentation/latest/management.html","title":"How to purge a queue in ActiveMQ Artemis programmatically using Java?","body":"<p>Most messaging APIs and protocols do not provide a way to purge (i.e. clear <em>all</em> messages from) a queue. The two basic operations you normally get are producing and consuming. Such is the case with the &quot;core&quot; API provided by ActiveMQ Artemis.</p>\n<p>That said, there is a <strong>management</strong> API which provides a way to purge a queue because this is something typically reserved for administrators who may be managing the broker. The management API is based on JMX MBeans so it can be accessed via JMX and a handful of other methods (e.g. web console, HTTP via Jolokia, management &quot;messages&quot;).</p>\n<p>For Java applications the <code>jmx</code> example which ships with ActiveMQ Artemis in the <code>examples/features/standard/jmx</code> directory demonstrates exactly what you want to do. It uses the <a href=\"https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/management/QueueControl.html#removeMessages(java.lang.String)\" rel=\"nofollow noreferrer\"><code>removeMessages</code> method of the <code>QueueControl</code></a> with a <code>null</code> filter value to remove all the messages from the queue. Here's a quick summary:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.management.MBeanServerConnection;\nimport javax.management.MBeanServerInvocationHandler;\nimport javax.management.ObjectName;\nimport javax.management.remote.JMXConnector;\nimport javax.management.remote.JMXConnectorFactory;\nimport javax.management.remote.JMXServiceURL;\n\nimport org.apache.activemq.artemis.api.core.RoutingType;\nimport org.apache.activemq.artemis.api.core.SimpleString;\nimport org.apache.activemq.artemis.api.core.management.ObjectNameBuilder;\nimport org.apache.activemq.artemis.api.core.management.QueueControl;\n\n...\n\nObjectName on = ObjectNameBuilder.DEFAULT.getQueueObjectName(SimpleString.toSimpleString(queueName), SimpleString.toSimpleString(queueName), RoutingType.ANYCAST);\nJMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(&quot;service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi&quot;));\nMBeanServerConnection mbsc = connector.getMBeanServerConnection();\nQueueControl queueControl = MBeanServerInvocationHandler.newProxyInstance(mbsc, on, QueueControl.class, false);\nqueueControl.removeMessages(null);\n</code></pre>\n<p>For more details on running the examples see the <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/examples.html\" rel=\"nofollow noreferrer\">&quot;Examples&quot; chapter in the documentation</a>.</p>\n<p>For more details on the management API and broker management in general (including configuration changes necessary to enable <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/management.html#remote-jmx-access\" rel=\"nofollow noreferrer\">remote JMX access</a>) see the <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/management.html\" rel=\"nofollow noreferrer\">&quot;Management&quot; chapter in the documentation</a>.</p>\n"}],"owner":{"account_id":17938786,"reputation":7,"user_id":13034566,"display_name":"NewDev_X606"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76318906,"answer_count":1,"score":0,"last_activity_date":1684880154,"creation_date":1684877477,"question_id":76318785,"body_markdown":"I am new to using ActiveMQ Artemis, and I am trying to purge one queue programmatically. I have searched through the documentation, and online but have not been able to find anything to help with this.\r\n\r\nI would like an example of how to do this given a name if a queue using Java.  \r\n\r\n```java\r\nClientSessionFactory sessionFactory;\r\nClientSession session\r\nClientProducer producer\r\n\r\n//Creating the queue as follows:\r\nsession = sessionFactory.createSession();\r\nproducer = session.createProducer(queueName);\r\nsession.start();\r\n```","title":"How to purge a queue in ActiveMQ Artemis programmatically using Java?","body":"<p>I am new to using ActiveMQ Artemis, and I am trying to purge one queue programmatically. I have searched through the documentation, and online but have not been able to find anything to help with this.</p>\n<p>I would like an example of how to do this given a name if a queue using Java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClientSessionFactory sessionFactory;\nClientSession session\nClientProducer producer\n\n//Creating the queue as follows:\nsession = sessionFactory.createSession();\nproducer = session.createProducer(queueName);\nsession.start();\n</code></pre>\n"},{"tags":["java","android","android-studio","user-interface","textview"],"answers":[{"tags":[],"owner":{"account_id":6140624,"reputation":592,"user_id":4788165,"accept_rate":47,"display_name":"Josemafuen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684880146,"creation_date":1684858488,"answer_id":76316777,"question_id":76315207,"body_markdown":"The solution would be to create your own custom View from scratch. \r\n\r\n    public class StrokedTextView extends View {\r\n    private final Paint TEXT_PAINT;\r\n    private final Paint WHITE_BORDER_PAINT;\r\n    private final Paint BROWN_BORDER_PAINT;\r\n\r\n    private String text;\r\n\r\n    private int desiredWidth, desiredHeight;\r\n    private final int bigBorderSize, halfMargin;\r\n\r\n    // constructors\r\n    public StrokedTextView(Context context) {\r\n        this(context, null, 0);\r\n    }\r\n\r\n    public StrokedTextView(Context context, AttributeSet attrs) {\r\n        this(context, attrs, 0);\r\n    }\r\n\r\n    public StrokedTextView(Context context, AttributeSet attrs, int defStyle) {\r\n        super(context, attrs, defStyle);\r\n\r\n        float textSize = 0;\r\n        int textColor = context.getColor(R.color.main_color);\r\n        text = &quot;&quot;;\r\n        if(attrs != null) {\r\n            @SuppressLint(&quot;CustomViewStyleable&quot;) TypedArray a = context.obtainStyledAttributes(attrs,R.styleable.StrokedTextAttrs);\r\n            textSize = a.getDimensionPixelSize(R.styleable.StickerTextAttrs_textSize, 0);\r\n            textColor = a.getColor(R.styleable.StrokedTextAttrs_textColor, textColor);\r\n            text = a.getString(R.styleable.StrokedTextAttrs_text);\r\n            a.recycle();\r\n        }\r\n\r\n        TEXT_PAINT = new Paint();\r\n        TEXT_PAINT.setTextSize(textSize);\r\n        TEXT_PAINT.setStyle(Paint.Style.FILL);\r\n        TEXT_PAINT.setColor(textColor);\r\n\r\n        int smallBorderSize = dpToPx(context, 2);\r\n        bigBorderSize = smallBorderSize * 3;\r\n        halfMargin = bigBorderSize / 2;\r\n\r\n        WHITE_BORDER_PAINT = new Paint();\r\n        WHITE_BORDER_PAINT.setTextSize(textSize);\r\n        WHITE_BORDER_PAINT.setStyle(Paint.Style.STROKE);\r\n        WHITE_BORDER_PAINT.setStrokeWidth(bigBorderSize);\r\n        WHITE_BORDER_PAINT.setColor(context.getColor(R.color.white));\r\n\r\n        BROWN_BORDER_PAINT = new Paint();\r\n        BROWN_BORDER_PAINT.setTextSize(textSize);\r\n        BROWN_BORDER_PAINT.setStyle(Paint.Style.STROKE);\r\n        BROWN_BORDER_PAINT.setStrokeWidth(smallBorderSize);\r\n        BROWN_BORDER_PAINT.setColor(context.getColor(R.color.main_color_dark));\r\n        measure();\r\n    }\r\n\r\n    public void setText(String t){\r\n        text = t;\r\n        measure();\r\n        invalidate();\r\n        requestLayout();\r\n    }\r\n\r\n    private void measure(){\r\n        Rect bounds = new Rect();\r\n        TEXT_PAINT.getTextBounds(text, 0, text.length(), bounds);\r\n        desiredHeight = bounds.height() + bigBorderSize;\r\n        desiredWidth = bounds.width() + bigBorderSize;\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        super.onDraw(canvas);\r\n        int bottom = getHeight() - halfMargin;\r\n        canvas.drawText(text, halfMargin, bottom, WHITE_BORDER_PAINT);\r\n        canvas.drawText(text, halfMargin, bottom, BROWN_BORDER_PAINT);\r\n        canvas.drawText(text, halfMargin, bottom, TEXT_PAINT);\r\n    }\r\n\r\n    public static int dpToPx(Context context, float dp)\r\n    {\r\n        final float scale = context.getResources().getDisplayMetrics().density;\r\n        return (int) (dp * scale + 0.5f);\r\n    }\r\n\r\n    @Override\r\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n        int widthMode = MeasureSpec.getMode(widthMeasureSpec);\r\n        int widthSize = MeasureSpec.getSize(widthMeasureSpec);\r\n        int heightMode = MeasureSpec.getMode(heightMeasureSpec);\r\n        int heightSize = MeasureSpec.getSize(heightMeasureSpec);\r\n\r\n        int width;\r\n        int height;\r\n\r\n        //Measure Width\r\n        if (widthMode == MeasureSpec.EXACTLY) {\r\n            //Must be this size\r\n            width = widthSize;\r\n        } else if (widthMode == MeasureSpec.AT_MOST) {\r\n            //Can&#39;t be bigger than...\r\n            width = Math.min(desiredWidth, widthSize);\r\n        } else {\r\n            //Be whatever you want\r\n            width = desiredWidth;\r\n        }\r\n\r\n        //Measure Height\r\n        if (heightMode == MeasureSpec.EXACTLY) {\r\n            //Must be this size\r\n            height = heightSize;\r\n        } else if (heightMode == MeasureSpec.AT_MOST) {\r\n            //Can&#39;t be bigger than...\r\n            height = Math.min(desiredHeight, heightSize);\r\n        } else {\r\n            //Be whatever you want\r\n            height = desiredHeight;\r\n        }\r\n\r\n        setMeasuredDimension(width, height);\r\n    }\r\n\r\n\r\nand in the `attr.xml`:\r\n\r\n    &lt;declare-styleable name=&quot;StickerTextAttrs&quot;&gt;\r\n        &lt;attr name=&quot;textColor&quot; format=&quot;color&quot;/&gt;\r\n        &lt;attr name=&quot;textSize&quot; format=&quot;dimension&quot;/&gt;\r\n        &lt;attr name=&quot;text&quot; format=&quot;string&quot;/&gt;\r\n    &lt;/declare-styleable&gt;\r\n\r\n","title":"TextView with outline in Android","body":"<p>The solution would be to create your own custom View from scratch.</p>\n<pre><code>public class StrokedTextView extends View {\nprivate final Paint TEXT_PAINT;\nprivate final Paint WHITE_BORDER_PAINT;\nprivate final Paint BROWN_BORDER_PAINT;\n\nprivate String text;\n\nprivate int desiredWidth, desiredHeight;\nprivate final int bigBorderSize, halfMargin;\n\n// constructors\npublic StrokedTextView(Context context) {\n    this(context, null, 0);\n}\n\npublic StrokedTextView(Context context, AttributeSet attrs) {\n    this(context, attrs, 0);\n}\n\npublic StrokedTextView(Context context, AttributeSet attrs, int defStyle) {\n    super(context, attrs, defStyle);\n\n    float textSize = 0;\n    int textColor = context.getColor(R.color.main_color);\n    text = &quot;&quot;;\n    if(attrs != null) {\n        @SuppressLint(&quot;CustomViewStyleable&quot;) TypedArray a = context.obtainStyledAttributes(attrs,R.styleable.StrokedTextAttrs);\n        textSize = a.getDimensionPixelSize(R.styleable.StickerTextAttrs_textSize, 0);\n        textColor = a.getColor(R.styleable.StrokedTextAttrs_textColor, textColor);\n        text = a.getString(R.styleable.StrokedTextAttrs_text);\n        a.recycle();\n    }\n\n    TEXT_PAINT = new Paint();\n    TEXT_PAINT.setTextSize(textSize);\n    TEXT_PAINT.setStyle(Paint.Style.FILL);\n    TEXT_PAINT.setColor(textColor);\n\n    int smallBorderSize = dpToPx(context, 2);\n    bigBorderSize = smallBorderSize * 3;\n    halfMargin = bigBorderSize / 2;\n\n    WHITE_BORDER_PAINT = new Paint();\n    WHITE_BORDER_PAINT.setTextSize(textSize);\n    WHITE_BORDER_PAINT.setStyle(Paint.Style.STROKE);\n    WHITE_BORDER_PAINT.setStrokeWidth(bigBorderSize);\n    WHITE_BORDER_PAINT.setColor(context.getColor(R.color.white));\n\n    BROWN_BORDER_PAINT = new Paint();\n    BROWN_BORDER_PAINT.setTextSize(textSize);\n    BROWN_BORDER_PAINT.setStyle(Paint.Style.STROKE);\n    BROWN_BORDER_PAINT.setStrokeWidth(smallBorderSize);\n    BROWN_BORDER_PAINT.setColor(context.getColor(R.color.main_color_dark));\n    measure();\n}\n\npublic void setText(String t){\n    text = t;\n    measure();\n    invalidate();\n    requestLayout();\n}\n\nprivate void measure(){\n    Rect bounds = new Rect();\n    TEXT_PAINT.getTextBounds(text, 0, text.length(), bounds);\n    desiredHeight = bounds.height() + bigBorderSize;\n    desiredWidth = bounds.width() + bigBorderSize;\n}\n\n@Override\nprotected void onDraw(Canvas canvas) {\n    super.onDraw(canvas);\n    int bottom = getHeight() - halfMargin;\n    canvas.drawText(text, halfMargin, bottom, WHITE_BORDER_PAINT);\n    canvas.drawText(text, halfMargin, bottom, BROWN_BORDER_PAINT);\n    canvas.drawText(text, halfMargin, bottom, TEXT_PAINT);\n}\n\npublic static int dpToPx(Context context, float dp)\n{\n    final float scale = context.getResources().getDisplayMetrics().density;\n    return (int) (dp * scale + 0.5f);\n}\n\n@Override\nprotected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    int widthMode = MeasureSpec.getMode(widthMeasureSpec);\n    int widthSize = MeasureSpec.getSize(widthMeasureSpec);\n    int heightMode = MeasureSpec.getMode(heightMeasureSpec);\n    int heightSize = MeasureSpec.getSize(heightMeasureSpec);\n\n    int width;\n    int height;\n\n    //Measure Width\n    if (widthMode == MeasureSpec.EXACTLY) {\n        //Must be this size\n        width = widthSize;\n    } else if (widthMode == MeasureSpec.AT_MOST) {\n        //Can't be bigger than...\n        width = Math.min(desiredWidth, widthSize);\n    } else {\n        //Be whatever you want\n        width = desiredWidth;\n    }\n\n    //Measure Height\n    if (heightMode == MeasureSpec.EXACTLY) {\n        //Must be this size\n        height = heightSize;\n    } else if (heightMode == MeasureSpec.AT_MOST) {\n        //Can't be bigger than...\n        height = Math.min(desiredHeight, heightSize);\n    } else {\n        //Be whatever you want\n        height = desiredHeight;\n    }\n\n    setMeasuredDimension(width, height);\n}\n</code></pre>\n<p>and in the <code>attr.xml</code>:</p>\n<pre><code>&lt;declare-styleable name=&quot;StickerTextAttrs&quot;&gt;\n    &lt;attr name=&quot;textColor&quot; format=&quot;color&quot;/&gt;\n    &lt;attr name=&quot;textSize&quot; format=&quot;dimension&quot;/&gt;\n    &lt;attr name=&quot;text&quot; format=&quot;string&quot;/&gt;\n&lt;/declare-styleable&gt;\n</code></pre>\n"}],"owner":{"account_id":6140624,"reputation":592,"user_id":4788165,"accept_rate":47,"display_name":"Josemafuen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76316777,"answer_count":1,"score":0,"last_activity_date":1684880146,"creation_date":1684847669,"question_id":76315207,"body_markdown":"I want to have a textview with a double stroke in Android, which is not natively supported (not even a single stroke). Following https://stackoverflow.com/questions/3182393/android-textview-outline-text/31945164?r=Saves_UserSavesList#31945164 it can be easily achieved.\r\n\r\n    public class StrokedTextView extends androidx.appcompat.widget.AppCompatTextView {\r\n\r\n    // fields\r\n    private int strokeColorW, strokeColorB;\r\n    private float strokeWidthW, strokeWidthB;\r\n\r\n    // constructors\r\n    public StrokedTextView(Context context) {\r\n        this(context, null, 0);\r\n    }\r\n\r\n    public StrokedTextView(Context context, AttributeSet attrs) {\r\n        this(context, attrs, 0);\r\n    }\r\n\r\n    public StrokedTextView(Context context, AttributeSet attrs, int defStyle) {\r\n        super(context, attrs, defStyle);\r\n\r\n        strokeColorW = context.getColor(R.color.white);\r\n        strokeWidthW = dpToPx(context, 2);\r\n        strokeColorB = context.getColor(R.color.main_color_dark);\r\n        strokeWidthB = dpToPx(context, 3);\r\n    }\r\n\r\n    // overridden methods\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        //set paint to fill mode\r\n        Paint p = getPaint();\r\n        p.setStyle(Paint.Style.FILL);\r\n        //draw the fill part of text\r\n        super.onDraw(canvas);\r\n        //save the text color\r\n        int currentTextColor = getCurrentTextColor();\r\n        //set paint to stroke mode and specify\r\n        //stroke 1 color and width\r\n        p.setStyle(Paint.Style.STROKE);\r\n        p.setStrokeWidth(strokeWidthB);\r\n        setTextColor(strokeColorB);\r\n        //draw text stroke\r\n        super.onDraw(canvas);\r\n        //set paint to stroke mode and specify\r\n        //stroke 2 color and width\r\n        p.setStyle(Paint.Style.STROKE);\r\n        p.setStrokeWidth(strokeWidthW);\r\n        setTextColor(strokeColorW);\r\n        //draw text stroke\r\n        super.onDraw(canvas);\r\n        //revert the color back to the one\r\n        //initially specified\r\n        setTextColor(currentTextColor);\r\n    }\r\n\r\n    public static int dpToPx(Context context, float dp)\r\n    {\r\n        final float scale= context.getResources().getDisplayMetrics().density;\r\n        return (int) (dp * scale + 0.5f);\r\n    }\r\n}\r\n\r\nThe problem is that `setTextColor` calls invalidate, so this falls into infinite calls of onDraw. As some suggest, I&#39;ve tried to control it with a flag, that indicates whether the invalidate is caused by the setTextColor or not. But it still calls onDraw infinitely\r\n\r\n    private boolean isDrawing = false;\r\n    \r\n    @Override\r\n    public void invalidate() {\r\n        if(isDrawing) return;\r\n        super.invalidate();\r\n    }\r\n    \r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        isDrawing = true;\r\n\r\n        Paint p = getPaint();\r\n        p.setStyle(Paint.Style.FILL);\r\n        super.onDraw(canvas);\r\n        int currentTextColor = getCurrentTextColor();\r\n\r\n        p.setStyle(Paint.Style.STROKE);\r\n        p.setStrokeWidth(strokeWidthB);\r\n        setTextColor(strokeColorB);\r\n        super.onDraw(canvas);\r\n\r\n        p.setStyle(Paint.Style.STROKE);\r\n        p.setStrokeWidth(strokeWidthW);\r\n        setTextColor(strokeColorW);\r\n        super.onDraw(canvas);\r\n\r\n        setTextColor(currentTextColor);\r\n\r\n        isDrawing = false;\r\n    }\r\n\r\nAs other user states in that question, I&#39;ve also tried using Reflection to access the private field of the TextView and brute-forcely set it:\r\n\r\n    private void setColor(int color){\r\n        Field field = TextView.class.getDeclaredField(&quot;mCurTextColor&quot;);\r\n        field.setAccessible(true);\r\n        field.set(this, color);\r\n    }\r\n\r\nHowever, it states `Reflective access to mCurTextColor will throw an Exception when targeting API 33 and above`\r\n\r\nSo I&#39;m asking if someone sees a way to overcome this issue different from the ones I&#39;ve already tried and failed at.","title":"TextView with outline in Android","body":"<p>I want to have a textview with a double stroke in Android, which is not natively supported (not even a single stroke). Following <a href=\"https://stackoverflow.com/questions/3182393/android-textview-outline-text/31945164?r=Saves_UserSavesList#31945164\">Android textview outline text</a> it can be easily achieved.</p>\n<pre><code>public class StrokedTextView extends androidx.appcompat.widget.AppCompatTextView {\n\n// fields\nprivate int strokeColorW, strokeColorB;\nprivate float strokeWidthW, strokeWidthB;\n\n// constructors\npublic StrokedTextView(Context context) {\n    this(context, null, 0);\n}\n\npublic StrokedTextView(Context context, AttributeSet attrs) {\n    this(context, attrs, 0);\n}\n\npublic StrokedTextView(Context context, AttributeSet attrs, int defStyle) {\n    super(context, attrs, defStyle);\n\n    strokeColorW = context.getColor(R.color.white);\n    strokeWidthW = dpToPx(context, 2);\n    strokeColorB = context.getColor(R.color.main_color_dark);\n    strokeWidthB = dpToPx(context, 3);\n}\n\n// overridden methods\n@Override\nprotected void onDraw(Canvas canvas) {\n    //set paint to fill mode\n    Paint p = getPaint();\n    p.setStyle(Paint.Style.FILL);\n    //draw the fill part of text\n    super.onDraw(canvas);\n    //save the text color\n    int currentTextColor = getCurrentTextColor();\n    //set paint to stroke mode and specify\n    //stroke 1 color and width\n    p.setStyle(Paint.Style.STROKE);\n    p.setStrokeWidth(strokeWidthB);\n    setTextColor(strokeColorB);\n    //draw text stroke\n    super.onDraw(canvas);\n    //set paint to stroke mode and specify\n    //stroke 2 color and width\n    p.setStyle(Paint.Style.STROKE);\n    p.setStrokeWidth(strokeWidthW);\n    setTextColor(strokeColorW);\n    //draw text stroke\n    super.onDraw(canvas);\n    //revert the color back to the one\n    //initially specified\n    setTextColor(currentTextColor);\n}\n\npublic static int dpToPx(Context context, float dp)\n{\n    final float scale= context.getResources().getDisplayMetrics().density;\n    return (int) (dp * scale + 0.5f);\n}\n</code></pre>\n<p>}</p>\n<p>The problem is that <code>setTextColor</code> calls invalidate, so this falls into infinite calls of onDraw. As some suggest, I've tried to control it with a flag, that indicates whether the invalidate is caused by the setTextColor or not. But it still calls onDraw infinitely</p>\n<pre><code>private boolean isDrawing = false;\n\n@Override\npublic void invalidate() {\n    if(isDrawing) return;\n    super.invalidate();\n}\n\n@Override\nprotected void onDraw(Canvas canvas) {\n    isDrawing = true;\n\n    Paint p = getPaint();\n    p.setStyle(Paint.Style.FILL);\n    super.onDraw(canvas);\n    int currentTextColor = getCurrentTextColor();\n\n    p.setStyle(Paint.Style.STROKE);\n    p.setStrokeWidth(strokeWidthB);\n    setTextColor(strokeColorB);\n    super.onDraw(canvas);\n\n    p.setStyle(Paint.Style.STROKE);\n    p.setStrokeWidth(strokeWidthW);\n    setTextColor(strokeColorW);\n    super.onDraw(canvas);\n\n    setTextColor(currentTextColor);\n\n    isDrawing = false;\n}\n</code></pre>\n<p>As other user states in that question, I've also tried using Reflection to access the private field of the TextView and brute-forcely set it:</p>\n<pre><code>private void setColor(int color){\n    Field field = TextView.class.getDeclaredField(&quot;mCurTextColor&quot;);\n    field.setAccessible(true);\n    field.set(this, color);\n}\n</code></pre>\n<p>However, it states <code>Reflective access to mCurTextColor will throw an Exception when targeting API 33 and above</code></p>\n<p>So I'm asking if someone sees a way to overcome this issue different from the ones I've already tried and failed at.</p>\n"},{"tags":["java","pdf","pdfbox","electronic-signature"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1684855864,"post_id":76315490,"comment_id":134576896,"body_markdown":"Please share the file. Did you change the `setMDPPermission` line in the sample code?","body":"Please share the file. Did you change the <code>setMDPPermission</code> line in the sample code?"},{"owner":{"account_id":5704563,"reputation":1278,"user_id":4508555,"accept_rate":80,"display_name":"Joniras"},"score":0,"creation_date":1684864647,"post_id":76315490,"comment_id":134578766,"body_markdown":"Which file? The whole CreateSignature.java or my resulting PDF? Yes i deleted the line because of another answer is saw on SO which suggested that.","body":"Which file? The whole CreateSignature.java or my resulting PDF? Yes i deleted the line because of another answer is saw on SO which suggested that."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684879526,"creation_date":1684879526,"answer_id":76318940,"question_id":76315490,"body_markdown":"&gt; This code adds a digital signature dictionary to the PDF, but it doesn&#39;t seem to create an approval signature that allows for further modifications to the document.\r\n\r\nHere is your fundamental misconception, *an approval signature does **not** allow for further modifications*.\r\n\r\nAdmittedly, the PDF spec does not mention a restriction of allowed changes if there only are approval signatures. Adobe Acrobat, on the other hand, for many years has been imposing restrictions on such documents that are nearly identical to those of documents with a certification signature with a MDP **P** value of 3, cf. [this answer][1]. Furthermore, Adobe Acrobat does enforce this, it does not allow its users to apply changes to a PDF that it would consider disallowed.\r\n\r\nThus,\r\n\r\n&gt; I know that any modification to the pdf breaks the signature but i still want to allow modifications so the client can do modifications and edit text.\r\n\r\nthis is not supported by Adobe Acrobat. Other PDF editors may or may not support disallowed manipulations of signed PDFs.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16711745/1729265","title":"PDFBox signed Document prevents modification","body":"<blockquote>\n<p>This code adds a digital signature dictionary to the PDF, but it doesn't seem to create an approval signature that allows for further modifications to the document.</p>\n</blockquote>\n<p>Here is your fundamental misconception, <em>an approval signature does <strong>not</strong> allow for further modifications</em>.</p>\n<p>Admittedly, the PDF spec does not mention a restriction of allowed changes if there only are approval signatures. Adobe Acrobat, on the other hand, for many years has been imposing restrictions on such documents that are nearly identical to those of documents with a certification signature with a MDP <strong>P</strong> value of 3, cf. <a href=\"https://stackoverflow.com/a/16711745/1729265\">this answer</a>. Furthermore, Adobe Acrobat does enforce this, it does not allow its users to apply changes to a PDF that it would consider disallowed.</p>\n<p>Thus,</p>\n<blockquote>\n<p>I know that any modification to the pdf breaks the signature but i still want to allow modifications so the client can do modifications and edit text.</p>\n</blockquote>\n<p>this is not supported by Adobe Acrobat. Other PDF editors may or may not support disallowed manipulations of signed PDFs.</p>\n"}],"owner":{"account_id":5704563,"reputation":1278,"user_id":4508555,"accept_rate":80,"display_name":"Joniras"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684879526,"creation_date":1684849465,"question_id":76315490,"body_markdown":"I am (successfully) signing a PDF with a .p12 certificate. \r\n\r\nThe problem is, that **after signing the pdf, the file cannot be modified anymore**. \r\n\r\nI know that any modification to the pdf breaks the signature but i still want to allow modifications so the client can do modifications and edit text.\r\n\r\nHeres my minimal reproduction of my valid signature ( I started with the CreateSignature Example of Apache PDfBox): \r\n```lang-java\r\n\r\n    public void signDetached(PDDocument document, OutputStream output)\r\n            throws IOException {\r\n        PDSignature signature = new PDSignature();\r\n        signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n        signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\r\n        signature.setName(&quot;Testing User&quot;);\r\n        signature.setLocation(&quot;Los Angeles, CA&quot;);\r\n        signature.setReason(&quot;Testing&quot;);\r\n        signature.setSignDate(Calendar.getInstance());\r\n        document.addSignature(signature, this);\r\n        document.saveIncremental(output);\r\n    }\r\n```\r\n\r\nThis code adds a digital signature dictionary to the PDF, but it doesn&#39;t seem to create an approval signature that allows for further modifications to the document.\r\n\r\nWhat am I doing wrong here? Is it possible to create a non-visible approval signature with Apache PDFBox that allows for modifications and becomes invalidated when those modifications occur?\r\n\r\nThank you in advance for any help or insights you can provide!","title":"PDFBox signed Document prevents modification","body":"<p>I am (successfully) signing a PDF with a .p12 certificate.</p>\n<p>The problem is, that <strong>after signing the pdf, the file cannot be modified anymore</strong>.</p>\n<p>I know that any modification to the pdf breaks the signature but i still want to allow modifications so the client can do modifications and edit text.</p>\n<p>Heres my minimal reproduction of my valid signature ( I started with the CreateSignature Example of Apache PDfBox):</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    public void signDetached(PDDocument document, OutputStream output)\n            throws IOException {\n        PDSignature signature = new PDSignature();\n        signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n        signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n        signature.setName(&quot;Testing User&quot;);\n        signature.setLocation(&quot;Los Angeles, CA&quot;);\n        signature.setReason(&quot;Testing&quot;);\n        signature.setSignDate(Calendar.getInstance());\n        document.addSignature(signature, this);\n        document.saveIncremental(output);\n    }\n</code></pre>\n<p>This code adds a digital signature dictionary to the PDF, but it doesn't seem to create an approval signature that allows for further modifications to the document.</p>\n<p>What am I doing wrong here? Is it possible to create a non-visible approval signature with Apache PDFBox that allows for modifications and becomes invalidated when those modifications occur?</p>\n<p>Thank you in advance for any help or insights you can provide!</p>\n"},{"tags":["java","log4j2","slf4j"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1684727949,"post_id":76302494,"comment_id":134553726,"body_markdown":"Your code uses Log4j 2.x, while your configuration uses the Log4j 1.x format. Are you sure you are not using (the unsupported) Log4j 1.x as logging backend?","body":"Your code uses Log4j 2.x, while your configuration uses the Log4j 1.x format. Are you sure you are not using (the unsupported) Log4j 1.x as logging backend?"},{"owner":{"account_id":4196227,"reputation":781,"user_id":3437575,"accept_rate":72,"display_name":"asb"},"score":0,"creation_date":1684757649,"post_id":76302494,"comment_id":134558839,"body_markdown":"I tried using &quot;mvn dependency:tree | grep log4j&quot; and i can confirm i am using log4j 2.x. So my problem might be i am using  1.x config as you mentioned. Will try 2.x config.","body":"I tried using &quot;mvn dependency:tree | grep log4j&quot; and i can confirm i am using log4j 2.x. So my problem might be i am using  1.x config as you mentioned. Will try 2.x config."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1684760950,"post_id":76302494,"comment_id":134559537,"body_markdown":"A Log4j 1.x configuration also works with [`ch.qos.reload4j:reload4j`](https://mvnrepository.com/artifact/ch.qos.reload4j/reload4j) (in which case you are not using Log4j 2.x) and [`org.apache.logging.log4j:log4j-1.2-api`](https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-1.2-api) with `log4j1.compatibility = &quot;true&quot;`.","body":"A Log4j 1.x configuration also works with <a href=\"https://mvnrepository.com/artifact/ch.qos.reload4j/reload4j\" rel=\"nofollow noreferrer\"><code>ch.qos.reload4j:reload4j</code></a> (in which case you are not using Log4j 2.x) and <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-1.2-api\" rel=\"nofollow noreferrer\"><code>org.apache.logging.log4j:log4j-1.2-api</code></a> with <code>log4j1.compatibility = &quot;true&quot;</code>."},{"owner":{"account_id":4196227,"reputation":781,"user_id":3437575,"accept_rate":72,"display_name":"asb"},"score":0,"creation_date":1684794650,"post_id":76302494,"comment_id":134566216,"body_markdown":"I edited the post to update with dependency tree. May be a problem with sl4j? but not sure how to work around it","body":"I edited the post to update with dependency tree. May be a problem with sl4j? but not sure how to work around it"},{"owner":{"account_id":3660498,"reputation":740,"user_id":6291061,"display_name":"william xyz"},"score":0,"creation_date":1684798459,"post_id":76302494,"comment_id":134566543,"body_markdown":"It seems you could trying to convert a string to an hex number with `%X`. Try getting process id this way:\n\n\n`long pid = Long.parseLong(processName.split(&quot;@&quot;)[0]);`","body":"It seems you could trying to convert a string to an hex number with <code>%X</code>. Try getting process id this way:   <code>long pid = Long.parseLong(processName.split(&quot;@&quot;)[0]);</code>"},{"owner":{"account_id":4196227,"reputation":781,"user_id":3437575,"accept_rate":72,"display_name":"asb"},"score":0,"creation_date":1684808927,"post_id":76302494,"comment_id":134567480,"body_markdown":"I tried something like this -&gt; ThreadContext.put(&quot;PID&quot;, rt.getName().split(&quot;@&quot;)[0]); as put expects 2 strings. I checked in the debugger and see that processName.split(&quot;@&quot;)[0] evaluates to 12276 which is the process id. But still doesnt work.","body":"I tried something like this -&gt; ThreadContext.put(&quot;PID&quot;, rt.getName().split(&quot;@&quot;)[0]); as put expects 2 strings. I checked in the debugger and see that processName.split(&quot;@&quot;)[0] evaluates to 12276 which is the process id. But still doesnt work."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1684812514,"post_id":76302494,"comment_id":134567745,"body_markdown":"The `log4j-1.2-api` module does **not** issue warnings prefixed by `log4j:WARN`. This message comes from `reload4j` or a shaded `log4j` (version 1.2). Remark that `log4j-1.2-api` and `log4j-slf4j-impl` have a &quot;provided&quot; scope in your project and are not deployed with the app.","body":"The <code>log4j-1.2-api</code> module does <b>not</b> issue warnings prefixed by <code>log4j:WARN</code>. This message comes from <code>reload4j</code> or a shaded <code>log4j</code> (version 1.2). Remark that <code>log4j-1.2-api</code> and <code>log4j-slf4j-impl</code> have a &quot;provided&quot; scope in your project and are not deployed with the app."},{"owner":{"account_id":4196227,"reputation":781,"user_id":3437575,"accept_rate":72,"display_name":"asb"},"score":0,"creation_date":1684815905,"post_id":76302494,"comment_id":134568049,"body_markdown":"Sorry, what can i try next? I did try the log4j1.compatibility=true, with 2.x config which didnt work. With the existing 1.x config everything else seems to be in place except it being not able to extract back the PID that i added from code","body":"Sorry, what can i try next? I did try the log4j1.compatibility=true, with 2.x config which didnt work. With the existing 1.x config everything else seems to be in place except it being not able to extract back the PID that i added from code"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1684907847,"post_id":76302494,"comment_id":134584109,"body_markdown":"First ensure that the Log4j 2 libraries are in the `runtime` or `compile` Maven scope. You can then run your application with both `-Dlog4j.debug=true` and `-Dlog4j2.debug=true` and add the output to your question.","body":"First ensure that the Log4j 2 libraries are in the <code>runtime</code> or <code>compile</code> Maven scope. You can then run your application with both <code>-Dlog4j.debug=true</code> and <code>-Dlog4j2.debug=true</code> and add the output to your question."}],"owner":{"account_id":4196227,"reputation":781,"user_id":3437575,"accept_rate":72,"display_name":"asb"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684878699,"creation_date":1684716729,"question_id":76302494,"body_markdown":"I am trying to use [this][1] solution to fetch the process id and print it out in the log\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4622252/how-to-add-the-process-id-to-a-log4j-log-file\r\n\r\n    RuntimeMXBean rt = ManagementFactory.getRuntimeMXBean();\r\n    String pid = rt.getName();\r\n    ThreadContext.put(&quot;PID&quot;, pid);\r\n\r\nEdit : In my logger class I can see we are importing. so I can infer that we are definitely using SL4J facade with most likely log4j2.x  as per dependency tree.\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\nI could see form the dubugger that the code is correctly fetching the process ID, but the log simple isnt showing it and there is no other errors. My log currently looks like this \r\n\r\n    2023-05-22 10:36:54,487 [] DEBUG beanutils.converters.ArrayConverter  - Setting default value: [Ljava.lang.Short;@7a3a49e5\r\n\r\nIt is not able to fetch the PID still.This is what I have in my log4j config. \r\n\r\n    log4j.appender.consoleAppender.layout.ConversionPattern=%d [%X{PID}] %-5p %c{3} %x - %m%n\r\n\r\nMy dependency tree looks like this. May be Sl4J is interfering?\r\n\r\n    λ mvn dependency:tree |grep log4\r\n    [INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\r\n    [INFO] |  +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.17.2:provided\r\n    [INFO] |  +- org.apache.logging.log4j:log4j-1.2-api:jar:2.17.2:provided\r\n    [INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\r\n\r\nAny ideas as to what i might be doing wrong or what can i do to debug this further? I tried using log4j2.x config. But it completely stopped logging and gave this warning\r\n\r\n    log4j:WARN Please initialize the log4j system properly.","title":"SL4J with MDC/Thread context unable to read PID","body":"<p>I am trying to use <a href=\"https://stackoverflow.com/questions/4622252/how-to-add-the-process-id-to-a-log4j-log-file\">this</a> solution to fetch the process id and print it out in the log</p>\n<pre><code>RuntimeMXBean rt = ManagementFactory.getRuntimeMXBean();\nString pid = rt.getName();\nThreadContext.put(&quot;PID&quot;, pid);\n</code></pre>\n<p>Edit : In my logger class I can see we are importing. so I can infer that we are definitely using SL4J facade with most likely log4j2.x  as per dependency tree.</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n</code></pre>\n<p>I could see form the dubugger that the code is correctly fetching the process ID, but the log simple isnt showing it and there is no other errors. My log currently looks like this</p>\n<pre><code>2023-05-22 10:36:54,487 [] DEBUG beanutils.converters.ArrayConverter  - Setting default value: [Ljava.lang.Short;@7a3a49e5\n</code></pre>\n<p>It is not able to fetch the PID still.This is what I have in my log4j config.</p>\n<pre><code>log4j.appender.consoleAppender.layout.ConversionPattern=%d [%X{PID}] %-5p %c{3} %x - %m%n\n</code></pre>\n<p>My dependency tree looks like this. May be Sl4J is interfering?</p>\n<pre><code>λ mvn dependency:tree |grep log4\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\n[INFO] |  +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.17.2:provided\n[INFO] |  +- org.apache.logging.log4j:log4j-1.2-api:jar:2.17.2:provided\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\n</code></pre>\n<p>Any ideas as to what i might be doing wrong or what can i do to debug this further? I tried using log4j2.x config. But it completely stopped logging and gave this warning</p>\n<pre><code>log4j:WARN Please initialize the log4j system properly.\n</code></pre>\n"},{"tags":["java","spring-boot","apache","reverse-proxy","http-status-code-503"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":1,"creation_date":1684912835,"post_id":76318850,"comment_id":134584992,"body_markdown":"The apache error says it cannot connect to port 8080. Is the Spring Boot App running?","body":"The apache error says it cannot connect to port 8080. Is the Spring Boot App running?"},{"owner":{"account_id":25226706,"reputation":33,"user_id":19062456,"display_name":"Andy Salim Rojas Hinojosa"},"score":0,"creation_date":1684917942,"post_id":76318850,"comment_id":134586148,"body_markdown":"do i need to run springboot app? i thought that already was made by the dominio, in this case how can i run the springboot app of a proyect, is it possible that instead of my springboot project called &quot;repo333&quot;, i can use a jar executable springboot app?","body":"do i need to run springboot app? i thought that already was made by the dominio, in this case how can i run the springboot app of a proyect, is it possible that instead of my springboot project called &quot;repo333&quot;, i can use a jar executable springboot app?"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1684918636,"post_id":76318850,"comment_id":134586300,"body_markdown":"Yes. You need to run the app. How would you expect it to work without it running? Source code in an apache folder makes no sense except if you want to show your code on the web. There are multiple way to run the app but easiest is probably to package as jar and run `java -jar &lt;your app&gt;.jar` (that should not be in the apache folder if you do not wish to share the code). The command assume that you have the correct java version installed on the server obviously.","body":"Yes. You need to run the app. How would you expect it to work without it running? Source code in an apache folder makes no sense except if you want to show your code on the web. There are multiple way to run the app but easiest is probably to package as jar and run <code>java -jar &lt;your app&gt;.jar</code> (that should not be in the apache folder if you do not wish to share the code). The command assume that you have the correct java version installed on the server obviously."}],"owner":{"account_id":25226706,"reputation":33,"user_id":19062456,"display_name":"Andy Salim Rojas Hinojosa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684878473,"creation_date":1684878473,"question_id":76318850,"body_markdown":"**Apache conf:**\r\n\r\n**/etc/apache2/sites-available/andyrojaslab08.tk.conf**\r\n\r\n    &lt;VirtualHost *:80&gt;\r\n           ServerName andyrojaslab08.tk\r\n           DocumentRoot /var/www/andyrojaslab08.tk/repo333\r\n\r\n           ProxyPreserveHost on\r\n           ProxyPass  /  http://127.0.0.1:8080/\r\n           ProxyPassReverse  /   http://127.0.0.1:8080/\r\n\r\n           ErrorLog ${APACHE_LOG_DIR}/error.log\r\n           CustomLog ${APACHE_LOG_DIR}/access.log combined\r\n\r\n    &lt;/VirtualHost&gt;\r\n\r\n\r\n\r\n**Error Logs from Apache:**\r\n\r\n     [proxy_http:error] [pid 7970:tid 140567970084416] [client 127.0.0.1:33122] AH01114: HTTP: failed to make connection to backend: 127.0.0.1\r\n\r\n     Connection refused AH00957: http: attempt to connect to 127.0.0.1:8080 (127.0.0.1) failed\r\n\r\n\r\n**etc/hosts:**\r\n\r\n     127.0.0.1       andyrojaslab08.tk\r\n     127.0.1.1       andyrojaslab08.tk\r\n     192.168.139.128    andyrojaslab08.tk\r\n\r\n     ::1     ip6-localhost ip6-loopback\r\n     fe00::0 ip6-localnet\r\n     ff00::0 ip6-mcastprefix\r\n     ff02::1 ip6-allnodes\r\n     ff02::2 ip6-allrouters\r\n\r\n\r\n\r\n**proyect structure:**\r\n\r\n        andy@andy-virtual-machine:/var/www/andyrojaslab08.tk/repo333$ ls\r\n        app.yaml  HELP.md  mvnw  mvnw.cmd  pom.xml  src  target\r\n\r\n\r\n\r\n**proyect path:**\r\n\r\n        andy@andy-virtual-machine:/var/www/andyrojaslab08.tk$ ls\r\n        goodbst.jar  Lab02-Rojas-0.0.1-SNAPSHOT.jar lab08xy.jar  repo333\r\n\r\n\r\n\r\n**app.yaml from proyect:**\r\n\r\n        runtime: java17\r\n        server.port=8080\r\n\r\n**resources from my proyect:**\r\n\r\n        andy@andy-virtual-machine:/var/www/andyrojaslab08.tk/repo333/src/main/resources$ ls\r\n        application.properties  static  templates\r\n\r\n\r\n\r\n**application.properties:**\r\n                                   \r\n        spring.jpa.show-sql = true\r\n        spring.jpa.hibernate.ddl-auto = update\r\n        spring.datasource.url =jdbc:mysql://xxxxxx:3306/xxxxxx\r\n        spring.datasource.username =xxxxx\r\n        spring.datasource.password =xxxxx\r\n        spring.thymeleaf.prefix=classpath:/templates/\r\n        spring.thymeleaf.suffix=.html\r\n        server.port=8080\r\n\r\n\r\n\r\n***Error:***\r\n\r\n        andy@andy-virtual-machine:/$ curl andyrojaslab08.tk\r\n\r\n        &lt;!DOCTYPE HTML PUBLIC &quot;-//IETF//DTD HTML 2.0//EN&quot;&gt;\r\n        &lt;html&gt;&lt;head&gt;\r\n        &lt;title&gt;503 Service Unavailable&lt;/title&gt;\r\n        &lt;/head&gt;&lt;body&gt;\r\n        &lt;h1&gt;Service Unavailable&lt;/h1&gt;\r\n        &lt;p&gt;The server is temporarily unable to service your\r\n        request due to maintenance downtime or capacity problems. Please try again later.&lt;/p&gt;\r\n        &lt;hr&gt;\r\n        &lt;address&gt;Apache/2.4.52 (Ubuntu) Server at andyrojaslab08.tk Port 80&lt;/address&gt;\r\n        &lt;/body&gt;&lt;/html&gt;\r\n\r\n\r\n\r\n***Error on web:***\r\n\r\n[![enter image description here][13]][13]\r\n\r\n\r\n  [13]: https://i.stack.imgur.com/r33F7.png\r\n\r\n\r\n(I am using thymeleaf in html, and my html files are in src/main/resources/templates)\r\n\r\n(I am using mysql database from the cloud, i already verified that the problem does not come from there)\r\n\r\n(My css files are in src/main/resources/static)\r\n\r\n(I am using apache2)\r\n\r\n(i installed maven)\r\n","title":"I want to deploy locally a SpringBoot app on Ubuntu Terminal with Apache Server 2, but it encounters an error","body":"<p><strong>Apache conf:</strong></p>\n<p><strong>/etc/apache2/sites-available/andyrojaslab08.tk.conf</strong></p>\n<pre><code>&lt;VirtualHost *:80&gt;\n       ServerName andyrojaslab08.tk\n       DocumentRoot /var/www/andyrojaslab08.tk/repo333\n\n       ProxyPreserveHost on\n       ProxyPass  /  http://127.0.0.1:8080/\n       ProxyPassReverse  /   http://127.0.0.1:8080/\n\n       ErrorLog ${APACHE_LOG_DIR}/error.log\n       CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n&lt;/VirtualHost&gt;\n</code></pre>\n<p><strong>Error Logs from Apache:</strong></p>\n<pre><code> [proxy_http:error] [pid 7970:tid 140567970084416] [client 127.0.0.1:33122] AH01114: HTTP: failed to make connection to backend: 127.0.0.1\n\n Connection refused AH00957: http: attempt to connect to 127.0.0.1:8080 (127.0.0.1) failed\n</code></pre>\n<p><strong>etc/hosts:</strong></p>\n<pre><code> 127.0.0.1       andyrojaslab08.tk\n 127.0.1.1       andyrojaslab08.tk\n 192.168.139.128    andyrojaslab08.tk\n\n ::1     ip6-localhost ip6-loopback\n fe00::0 ip6-localnet\n ff00::0 ip6-mcastprefix\n ff02::1 ip6-allnodes\n ff02::2 ip6-allrouters\n</code></pre>\n<p><strong>proyect structure:</strong></p>\n<pre><code>    andy@andy-virtual-machine:/var/www/andyrojaslab08.tk/repo333$ ls\n    app.yaml  HELP.md  mvnw  mvnw.cmd  pom.xml  src  target\n</code></pre>\n<p><strong>proyect path:</strong></p>\n<pre><code>    andy@andy-virtual-machine:/var/www/andyrojaslab08.tk$ ls\n    goodbst.jar  Lab02-Rojas-0.0.1-SNAPSHOT.jar lab08xy.jar  repo333\n</code></pre>\n<p><strong>app.yaml from proyect:</strong></p>\n<pre><code>    runtime: java17\n    server.port=8080\n</code></pre>\n<p><strong>resources from my proyect:</strong></p>\n<pre><code>    andy@andy-virtual-machine:/var/www/andyrojaslab08.tk/repo333/src/main/resources$ ls\n    application.properties  static  templates\n</code></pre>\n<p><strong>application.properties:</strong></p>\n<pre><code>    spring.jpa.show-sql = true\n    spring.jpa.hibernate.ddl-auto = update\n    spring.datasource.url =jdbc:mysql://xxxxxx:3306/xxxxxx\n    spring.datasource.username =xxxxx\n    spring.datasource.password =xxxxx\n    spring.thymeleaf.prefix=classpath:/templates/\n    spring.thymeleaf.suffix=.html\n    server.port=8080\n</code></pre>\n<p><em><strong>Error:</strong></em></p>\n<pre><code>    andy@andy-virtual-machine:/$ curl andyrojaslab08.tk\n\n    &lt;!DOCTYPE HTML PUBLIC &quot;-//IETF//DTD HTML 2.0//EN&quot;&gt;\n    &lt;html&gt;&lt;head&gt;\n    &lt;title&gt;503 Service Unavailable&lt;/title&gt;\n    &lt;/head&gt;&lt;body&gt;\n    &lt;h1&gt;Service Unavailable&lt;/h1&gt;\n    &lt;p&gt;The server is temporarily unable to service your\n    request due to maintenance downtime or capacity problems. Please try again later.&lt;/p&gt;\n    &lt;hr&gt;\n    &lt;address&gt;Apache/2.4.52 (Ubuntu) Server at andyrojaslab08.tk Port 80&lt;/address&gt;\n    &lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p><em><strong>Error on web:</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/r33F7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r33F7.png\" alt=\"enter image description here\" /></a></p>\n<p>(I am using thymeleaf in html, and my html files are in src/main/resources/templates)</p>\n<p>(I am using mysql database from the cloud, i already verified that the problem does not come from there)</p>\n<p>(My css files are in src/main/resources/static)</p>\n<p>(I am using apache2)</p>\n<p>(i installed maven)</p>\n"},{"tags":["java","google-cloud-platform","publish-subscribe","google-cloud-pubsub"],"comments":[{"owner":{"account_id":17353400,"reputation":3932,"user_id":12571387,"display_name":"Alexandre Moraes"},"score":0,"creation_date":1593767002,"post_id":62703520,"comment_id":110899938,"body_markdown":"What are you trying to achieve with this code ? Because according to the [documentation](https://googleapis.github.io/google-cloud-dotnet/docs/Google.Cloud.PubSub.V1/api/Google.Cloud.PubSub.V1.TopicName.html), there is a constructor within the class TopicName(), which *Constructs a new instance of a TopicName class from the component parts of pattern*.","body":"What are you trying to achieve with this code ? Because according to the <a href=\"https://googleapis.github.io/google-cloud-dotnet/docs/Google.Cloud.PubSub.V1/api/Google.Cloud.PubSub.V1.TopicName.html\" rel=\"nofollow noreferrer\">documentation</a>, there is a constructor within the class TopicName(), which <i>Constructs a new instance of a TopicName class from the component parts of pattern</i>."},{"owner":{"account_id":13373807,"reputation":156,"user_id":9651249,"display_name":"Soumik Das"},"score":0,"creation_date":1593807778,"post_id":62703520,"comment_id":110917831,"body_markdown":"@AlexandreMoraes: I want to publish a message to pubsub queue. For that I created a topicname in GCP and followed the GCP documentation. However, that &#39;of&#39; method is not coming after &#39;TopicName&#39; class.","body":"@AlexandreMoraes: I want to publish a message to pubsub queue. For that I created a topicname in GCP and followed the GCP documentation. However, that &#39;of&#39; method is not coming after &#39;TopicName&#39; class."},{"owner":{"account_id":17353400,"reputation":3932,"user_id":12571387,"display_name":"Alexandre Moraes"},"score":0,"creation_date":1594278413,"post_id":62703520,"comment_id":111071094,"body_markdown":"have you followed this [documentation](https://stackoverflow.com/questions/62654686/set-a-timeout-for-airflow-kubernetespodoperator-task) in order to create the topic.","body":"have you followed this <a href=\"https://stackoverflow.com/questions/62654686/set-a-timeout-for-airflow-kubernetespodoperator-task\">documentation</a> in order to create the topic."},{"owner":{"account_id":13373807,"reputation":156,"user_id":9651249,"display_name":"Soumik Das"},"score":0,"creation_date":1594290874,"post_id":62703520,"comment_id":111077367,"body_markdown":"No, I was referring this GCP documentation -&gt; https://cloud.google.com/pubsub/docs/publisher","body":"No, I was referring this GCP documentation -&gt; <a href=\"https://cloud.google.com/pubsub/docs/publisher\" rel=\"nofollow noreferrer\">cloud.google.com/pubsub/docs/publisher</a>"},{"owner":{"account_id":17353400,"reputation":3932,"user_id":12571387,"display_name":"Alexandre Moraes"},"score":1,"creation_date":1594381355,"post_id":62703520,"comment_id":111113237,"body_markdown":"Did you follow the [quick start](https://cloud.google.com/pubsub/docs/quickstart-client-libraries) for preparing your environment to use the Java API?","body":"Did you follow the <a href=\"https://cloud.google.com/pubsub/docs/quickstart-client-libraries\" rel=\"nofollow noreferrer\">quick start</a> for preparing your environment to use the Java API?"},{"owner":{"account_id":13373807,"reputation":156,"user_id":9651249,"display_name":"Soumik Das"},"score":1,"creation_date":1594388129,"post_id":62703520,"comment_id":111116982,"body_markdown":"adding libraries-bom in the pom dependency management fixed the issue. Thanks for your help.","body":"adding libraries-bom in the pom dependency management fixed the issue. Thanks for your help."},{"owner":{"account_id":17353400,"reputation":3932,"user_id":12571387,"display_name":"Alexandre Moraes"},"score":0,"creation_date":1594624936,"post_id":62703520,"comment_id":111178939,"body_markdown":"I have summarised our discussion as an answer. Please, consider upvoting and accepting the answer.","body":"I have summarised our discussion as an answer. Please, consider upvoting and accepting the answer."}],"answers":[{"tags":[],"owner":{"account_id":17353400,"reputation":3932,"user_id":12571387,"display_name":"Alexandre Moraes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1594624880,"creation_date":1594624880,"answer_id":62870998,"question_id":62703520,"body_markdown":"I am summarising our discussion as an answer. \r\n\r\nYou are referring to the [documentation][1], which explains how to publish a message in PubSub using Java and you got an error referent to the `TopicName.of(projectId, topicId)`. Since this method is referenced in the documentation, its execution depends on adding the required Java dependencies. In order to do so, you have to follow the [Quickstart][2] and prepare your environment. Afterwards, you will be able to follow the [Publishing messages to topics][3] tutorial.\r\n\r\n\r\n  [1]: https://cloud.google.com/pubsub/docs/publisher#java\r\n  [2]: https://cloud.google.com/pubsub/docs/quickstart-client-libraries#install\r\n  [3]: https://cloud.google.com/pubsub/docs/publisher","title":"Not getting &#39;of&#39; method for TopicName class using com.google.cloud.pubsub.v1","body":"<p>I am summarising our discussion as an answer.</p>\n<p>You are referring to the <a href=\"https://cloud.google.com/pubsub/docs/publisher#java\" rel=\"nofollow noreferrer\">documentation</a>, which explains how to publish a message in PubSub using Java and you got an error referent to the <code>TopicName.of(projectId, topicId)</code>. Since this method is referenced in the documentation, its execution depends on adding the required Java dependencies. In order to do so, you have to follow the <a href=\"https://cloud.google.com/pubsub/docs/quickstart-client-libraries#install\" rel=\"nofollow noreferrer\">Quickstart</a> and prepare your environment. Afterwards, you will be able to follow the <a href=\"https://cloud.google.com/pubsub/docs/publisher\" rel=\"nofollow noreferrer\">Publishing messages to topics</a> tutorial.</p>\n"},{"tags":[],"owner":{"account_id":904106,"reputation":10873,"user_id":939420,"accept_rate":80,"display_name":"Lisandro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684876796,"creation_date":1684876796,"answer_id":76318719,"question_id":62703520,"body_markdown":"I wasted more time than Im willing to admit on this same problem, so Im leaving a solution in case anyone else stumbles on the same issue.\r\n\r\nIn short, my project uses JHipster and the dependency conflict comes from the order in which the POMs are imported:\r\n\r\n```\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- THIS DEPENDENCY HAS TO GO BEFORE THE OTHER ONE  --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;26.15.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.github.jhipster&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jhipster-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${jhipster-dependencies.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n```\r\n\r\nI can imagine this could happen with other dependencies.","title":"Not getting &#39;of&#39; method for TopicName class using com.google.cloud.pubsub.v1","body":"<p>I wasted more time than Im willing to admit on this same problem, so Im leaving a solution in case anyone else stumbles on the same issue.</p>\n<p>In short, my project uses JHipster and the dependency conflict comes from the order in which the POMs are imported:</p>\n<pre><code>    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- THIS DEPENDENCY HAS TO GO BEFORE THE OTHER ONE  --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n                &lt;version&gt;26.15.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.github.jhipster&lt;/groupId&gt;\n                &lt;artifactId&gt;jhipster-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${jhipster-dependencies.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            \n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>I can imagine this could happen with other dependencies.</p>\n"}],"owner":{"account_id":13373807,"reputation":156,"user_id":9651249,"display_name":"Soumik Das"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":849,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62870998,"answer_count":2,"score":1,"last_activity_date":1684876796,"creation_date":1593717287,"question_id":62703520,"body_markdown":"I am using GCP PubSub and using the TopicName class. I want to write the below code:\r\n\r\n    TopicName topicName = TopicName.of(projectId, topicId);\r\n\r\nBut I can&#39;t get the `&#39;of&#39;`method. \r\n\r\nPlease can anyone suggest what I am doing wrong.","title":"Not getting &#39;of&#39; method for TopicName class using com.google.cloud.pubsub.v1","body":"<p>I am using GCP PubSub and using the TopicName class. I want to write the below code:</p>\n<pre><code>TopicName topicName = TopicName.of(projectId, topicId);\n</code></pre>\n<p>But I can't get the <code>'of'</code>method.</p>\n<p>Please can anyone suggest what I am doing wrong.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684952867,"post_id":76317396,"comment_id":134594320,"body_markdown":"`Map&lt;aProp, Map&lt;bProp, cProp&gt;&gt;` makes no sense. Your properties have type `String`, so the result would be a `Map&lt;String, Map&lt;String, String&gt;&gt;`. And if you tried `Collectors.groupingBy`, show what you tried.","body":"<code>Map&lt;aProp, Map&lt;bProp, cProp&gt;&gt;</code> makes no sense. Your properties have type <code>String</code>, so the result would be a <code>Map&lt;String, Map&lt;String, String&gt;&gt;</code>. And if you tried <code>Collectors.groupingBy</code>, show what you tried."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684864791,"creation_date":1684864791,"answer_id":76317491,"question_id":76317396,"body_markdown":"You can create a for-loop on `List&lt;A&gt;`, adding a new map entry for each iteration.\r\n\r\n```java\r\nMap&lt;String, Map&lt;String, String&gt;&gt; map(List&lt;A&gt; aList) {\r\n    Map&lt;String, Map&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\r\n    for (A a : aList) map.put(a.aProp, Map.of(a.bProp, a.cProp));\r\n    return map;\r\n}\r\n```\r\n\r\nExample output\r\n\r\n```none\r\n{a={b=c}, d={e=f}, g={h=i}, j={k=l}}\r\n```","title":"How to group a list of objects into a Map of Map based on object&#39;s attributes in Java?","body":"<p>You can create a for-loop on <code>List&lt;A&gt;</code>, adding a new map entry for each iteration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Map&lt;String, String&gt;&gt; map(List&lt;A&gt; aList) {\n    Map&lt;String, Map&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\n    for (A a : aList) map.put(a.aProp, Map.of(a.bProp, a.cProp));\n    return map;\n}\n</code></pre>\n<p>Example output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{a={b=c}, d={e=f}, g={h=i}, j={k=l}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684868454,"creation_date":1684868454,"answer_id":76317879,"question_id":76317396,"body_markdown":"Assuming that the `aProp` and `bProp` combinations are unique:\r\n```java\r\nMap&lt;String, Map&lt;String, String&gt;&gt; map = aList.stream()\r\n        .collect(Collectors.groupingBy(\r\n                a -&gt; a.aProp,\r\n                Collectors.toMap(a -&gt; a.bProp, a -&gt; a.cProp)\r\n        ));\r\n// map ==&gt; {1={2=3}, 2={3=4}, 3={4=5}}\r\n```\r\nIf there are instances with the same values for `aProp` and `bProp`, then the `toMap` collector will cause an exception to be thrown. If that&#39;s going to happen you can use one of the other `toMap` methods. For instance, `toMap(a -&gt; a.bProp, a -&gt; a.cProp, (x, y) -&gt; y))` will take the last value (although the order doesn&#39;t guarantee what that &quot;last value&quot; will be).","title":"How to group a list of objects into a Map of Map based on object&#39;s attributes in Java?","body":"<p>Assuming that the <code>aProp</code> and <code>bProp</code> combinations are unique:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Map&lt;String, String&gt;&gt; map = aList.stream()\n        .collect(Collectors.groupingBy(\n                a -&gt; a.aProp,\n                Collectors.toMap(a -&gt; a.bProp, a -&gt; a.cProp)\n        ));\n// map ==&gt; {1={2=3}, 2={3=4}, 3={4=5}}\n</code></pre>\n<p>If there are instances with the same values for <code>aProp</code> and <code>bProp</code>, then the <code>toMap</code> collector will cause an exception to be thrown. If that's going to happen you can use one of the other <code>toMap</code> methods. For instance, <code>toMap(a -&gt; a.bProp, a -&gt; a.cProp, (x, y) -&gt; y))</code> will take the last value (although the order doesn't guarantee what that &quot;last value&quot; will be).</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684876790,"creation_date":1684876790,"answer_id":76318718,"question_id":76317396,"body_markdown":"```\r\nclass A {\r\n    private String aProp;\r\n    private String bProp;\r\n    private String cProp;\r\n\r\n    public A(String aProp, String bProp, String cProp) {\r\n        this.aProp = aProp;\r\n        this.bProp = bProp;\r\n        this.cProp = cProp;\r\n    }\r\n\r\n    public String getaProp() {\r\n        return aProp;\r\n    }\r\n\r\n    public String getbProp() {\r\n        return bProp;\r\n    }\r\n\r\n    public String getcProp() {\r\n        return cProp;\r\n    }\r\n\r\n}\r\n\r\nList&lt;A&gt; listOfA = List.of(new A(&quot;r&quot;, &quot;b&quot;, &quot;c&quot;), new A(&quot;r&quot;, &quot;b&quot;, &quot;d&quot;),\r\n          new A(&quot;t&quot;, &quot;b&quot;, &quot;e&quot;), new A(&quot;t&quot;, &quot;c&quot;, &quot;f&quot;),\r\n          new A(&quot;r&quot;, &quot;d&quot;, &quot;g&quot;), new A(&quot;w&quot;, &quot;b&quot;, &quot;j&quot;));\r\n```  \r\nHere is what you requested. \r\n```\r\nMap&lt;String, Map&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\r\n\r\nfor (A a : listOfA) {\r\n    map.computeIfAbsent(a.getaProp(), v -&gt; new HashMap&lt;&gt;())\r\n    .put(a.getbProp(), a.getcProp());\r\n}\r\n\r\nmap.entrySet().forEach(System.out::println);\r\nSystem.out.println();\r\n```\r\nprints\r\n``` \r\nr={b=d, d=g}\r\nt={b=e, c=f}\r\nw={b=j}\r\n```\r\nNotice that since instances of `A` had duplicate `aProp&#39;s` and `bProp&#39;s` the next one encountered replaced the previous one.\r\nIn the previous example, `b,d for r` replaced `b,c for r`.\r\n\r\nTo prevent this, if required, you can create an `ArrayList&lt;String&gt;` as the value for the inner map.\r\n```\r\nMap&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; map2 = new HashMap&lt;&gt;();\r\nfor (A a : listOfA) { \r\n     map2.computeIfAbsent(a.getaProp(), v -&gt; new HashMap&lt;&gt;())\r\n         .computeIfAbsent(a.getbProp(), v -&gt; new ArrayList&lt;&gt;())\r\n             .add(a.getcProp());\r\n}\r\n\r\nmap2.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nr={b=[c, d], d=[g]}\r\nt={b=[e], c=[f]}\r\nw={b=[j]}\r\n```\r\nIn this example, `c` was preserved in the ArrayList.","title":"How to group a list of objects into a Map of Map based on object&#39;s attributes in Java?","body":"<pre><code>class A {\n    private String aProp;\n    private String bProp;\n    private String cProp;\n\n    public A(String aProp, String bProp, String cProp) {\n        this.aProp = aProp;\n        this.bProp = bProp;\n        this.cProp = cProp;\n    }\n\n    public String getaProp() {\n        return aProp;\n    }\n\n    public String getbProp() {\n        return bProp;\n    }\n\n    public String getcProp() {\n        return cProp;\n    }\n\n}\n\nList&lt;A&gt; listOfA = List.of(new A(&quot;r&quot;, &quot;b&quot;, &quot;c&quot;), new A(&quot;r&quot;, &quot;b&quot;, &quot;d&quot;),\n          new A(&quot;t&quot;, &quot;b&quot;, &quot;e&quot;), new A(&quot;t&quot;, &quot;c&quot;, &quot;f&quot;),\n          new A(&quot;r&quot;, &quot;d&quot;, &quot;g&quot;), new A(&quot;w&quot;, &quot;b&quot;, &quot;j&quot;));\n</code></pre>\n<p>Here is what you requested.</p>\n<pre><code>Map&lt;String, Map&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\n\nfor (A a : listOfA) {\n    map.computeIfAbsent(a.getaProp(), v -&gt; new HashMap&lt;&gt;())\n    .put(a.getbProp(), a.getcProp());\n}\n\nmap.entrySet().forEach(System.out::println);\nSystem.out.println();\n</code></pre>\n<p>prints</p>\n<pre><code>r={b=d, d=g}\nt={b=e, c=f}\nw={b=j}\n</code></pre>\n<p>Notice that since instances of <code>A</code> had duplicate <code>aProp's</code> and <code>bProp's</code> the next one encountered replaced the previous one.\nIn the previous example, <code>b,d for r</code> replaced <code>b,c for r</code>.</p>\n<p>To prevent this, if required, you can create an <code>ArrayList&lt;String&gt;</code> as the value for the inner map.</p>\n<pre><code>Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; map2 = new HashMap&lt;&gt;();\nfor (A a : listOfA) { \n     map2.computeIfAbsent(a.getaProp(), v -&gt; new HashMap&lt;&gt;())\n         .computeIfAbsent(a.getbProp(), v -&gt; new ArrayList&lt;&gt;())\n             .add(a.getcProp());\n}\n\nmap2.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>r={b=[c, d], d=[g]}\nt={b=[e], c=[f]}\nw={b=[j]}\n</code></pre>\n<p>In this example, <code>c</code> was preserved in the ArrayList.</p>\n"}],"owner":{"account_id":1810578,"reputation":725,"user_id":1646735,"accept_rate":81,"display_name":"Pratik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76317879,"answer_count":3,"score":0,"last_activity_date":1684876790,"creation_date":1684863864,"question_id":76317396,"body_markdown":"I have a list of objects that I want to convert to a map of maps.\r\n```\r\nclass A {\r\n  String aProp;\r\n  String bProp;\r\n  String cProp;\r\n}\r\n```\r\nthen I have `List&lt;A&gt; aList`.\r\nand I am trying to convert them into a map - \r\n```\r\nMap&lt;aProp, Map&lt;bProp, cProp&gt;&gt;\r\n```\r\n\r\nhow can I achieve this?\r\nI tried `Collectors.groupingBy` but still not able to achieve what I want.","title":"How to group a list of objects into a Map of Map based on object&#39;s attributes in Java?","body":"<p>I have a list of objects that I want to convert to a map of maps.</p>\n<pre><code>class A {\n  String aProp;\n  String bProp;\n  String cProp;\n}\n</code></pre>\n<p>then I have <code>List&lt;A&gt; aList</code>.\nand I am trying to convert them into a map -</p>\n<pre><code>Map&lt;aProp, Map&lt;bProp, cProp&gt;&gt;\n</code></pre>\n<p>how can I achieve this?\nI tried <code>Collectors.groupingBy</code> but still not able to achieve what I want.</p>\n"},{"tags":["java","gradle","intellij-idea"],"owner":{"account_id":25718726,"reputation":3,"user_id":19476026,"display_name":"Potat.OS1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684876465,"creation_date":1684876465,"question_id":76318685,"body_markdown":"I have a ray casting light intellij project in javafx with gradle that im trying to add soft shadows to, and i wish to use the GPU to help. I decided to use Aparapi to do so, as i can write code in pure java. the problem im coming up with is that after adding this to my dependencies in my build file:\r\n\r\n```\r\nimplementation &quot;com.aparapi:aparapi:3.0.0&quot;\r\n```\r\n\r\nand this in my module-info file:\r\n\r\n```\r\nrequires static aparapi.jni;\r\nrequires static aparapi;\r\n```\r\n\r\ni get this error stack trace:\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalAccessError: superclass access check failed: class com.example.ray_casting.ImageKernel (in module com.example.ray_casting) cannot access class com.aparapi.Kernel (in unnamed module @0x52c51a06) because module com.example.ray_casting does not read unnamed module @0x52c51a06\r\n\tat com.example.ray_casting/com.example.ray_casting.Update.updateShadows(Update.java:84)\r\n\tat com.example.ray_casting/com.example.ray_casting.Update.handle(Update.java:64)\r\n\tat javafx.graphics@19.0.2.1/javafx.animation.AnimationTimer$AnimationTimerReceiver.lambda$handle$0(AnimationTimer.java:58)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19.0.2.1/javafx.animation.AnimationTimer$AnimationTimerReceiver.handle(AnimationTimer.java:57)\r\n\tat javafx.graphics@19.0.2.1/com.sun.scenario.animation.AbstractPrimaryTimer.timePulseImpl(AbstractPrimaryTimer.java:356)\r\n\tat javafx.graphics@19.0.2.1/com.sun.scenario.animation.AbstractPrimaryTimer$MainLoop.run(AbstractPrimaryTimer.java:266)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:571)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:555)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:548)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n```\r\n\r\ni tried doing some googling to figure out why as im not familiar with adding additional libraries/frameworks/whatever-aparapi-is to projects, and from what i understand if im not wrong is that Gradle puts aparapi on the classpath instead of the modulepath, with the classpath then being treated as the module. Am i just stuck or is there a way around this?","title":"unnamed module problem with a library in gradle","body":"<p>I have a ray casting light intellij project in javafx with gradle that im trying to add soft shadows to, and i wish to use the GPU to help. I decided to use Aparapi to do so, as i can write code in pure java. the problem im coming up with is that after adding this to my dependencies in my build file:</p>\n<pre><code>implementation &quot;com.aparapi:aparapi:3.0.0&quot;\n</code></pre>\n<p>and this in my module-info file:</p>\n<pre><code>requires static aparapi.jni;\nrequires static aparapi;\n</code></pre>\n<p>i get this error stack trace:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalAccessError: superclass access check failed: class com.example.ray_casting.ImageKernel (in module com.example.ray_casting) cannot access class com.aparapi.Kernel (in unnamed module @0x52c51a06) because module com.example.ray_casting does not read unnamed module @0x52c51a06\n    at com.example.ray_casting/com.example.ray_casting.Update.updateShadows(Update.java:84)\n    at com.example.ray_casting/com.example.ray_casting.Update.handle(Update.java:64)\n    at javafx.graphics@19.0.2.1/javafx.animation.AnimationTimer$AnimationTimerReceiver.lambda$handle$0(AnimationTimer.java:58)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2.1/javafx.animation.AnimationTimer$AnimationTimerReceiver.handle(AnimationTimer.java:57)\n    at javafx.graphics@19.0.2.1/com.sun.scenario.animation.AbstractPrimaryTimer.timePulseImpl(AbstractPrimaryTimer.java:356)\n    at javafx.graphics@19.0.2.1/com.sun.scenario.animation.AbstractPrimaryTimer$MainLoop.run(AbstractPrimaryTimer.java:266)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:571)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:555)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:548)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n</code></pre>\n<p>i tried doing some googling to figure out why as im not familiar with adding additional libraries/frameworks/whatever-aparapi-is to projects, and from what i understand if im not wrong is that Gradle puts aparapi on the classpath instead of the modulepath, with the classpath then being treated as the module. Am i just stuck or is there a way around this?</p>\n"},{"tags":["java","hibernate","maven"],"owner":{"account_id":28665610,"reputation":1,"user_id":21949696,"display_name":"Zvheer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684876421,"creation_date":1684876421,"question_id":76318681,"body_markdown":"i&#39;m trying to use hibernate in a maven project . So i include these dependancies in my projet which are supposed to be enough as i read. I have access to the jakarta package so i successfuly mapped my classes but now i&#39;m trying to insert a row in database to test and understand how it works. But when i try to find a tutorial which explain how i can do they all use a class org.hibernate.cfg.Configuration to read an xml file but i don&#39;t have this class in my project i suppose it was a part of previous versions but now how i can do ?? or am i the one which doesn&#39;t understand ?? \r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.33&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.2.Final&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Where is hibernate configuration class in hibernate-core","body":"<p>i'm trying to use hibernate in a maven project . So i include these dependancies in my projet which are supposed to be enough as i read. I have access to the jakarta package so i successfuly mapped my classes but now i'm trying to insert a row in database to test and understand how it works. But when i try to find a tutorial which explain how i can do they all use a class org.hibernate.cfg.Configuration to read an xml file but i don't have this class in my project i suppose it was a part of previous versions but now how i can do ?? or am i the one which doesn't understand ??</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.33&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.2.Final&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","sorting","hashmap","key","key-value"],"comments":[{"owner":{"account_id":7801308,"reputation":462,"user_id":5900660,"accept_rate":100,"display_name":"Conor Egan"},"score":0,"creation_date":1684873041,"post_id":76318343,"comment_id":134580373,"body_markdown":"This might be helpful: https://stackoverflow.com/a/26296947/5900660","body":"This might be helpful: <a href=\"https://stackoverflow.com/a/26296947/5900660\">stackoverflow.com/a/26296947/5900660</a>"},{"owner":{"account_id":7801308,"reputation":462,"user_id":5900660,"accept_rate":100,"display_name":"Conor Egan"},"score":0,"creation_date":1684873355,"post_id":76318343,"comment_id":134580433,"body_markdown":"Additionally, when you call `put()` it is replacing the original value for that key in the hashmap. A better solution would be to map an integer to a list of integers. HashMap&lt;Integer, List&lt;Integer&gt;&gt;.","body":"Additionally, when you call <code>put()</code> it is replacing the original value for that key in the hashmap. A better solution would be to map an integer to a list of integers. HashMap&lt;Integer, List&lt;Integer&gt;&gt;."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684874349,"post_id":76318343,"comment_id":134580648,"body_markdown":"Where is the difference between the input and the expected output, what am I missing?","body":"Where is the difference between the input and the expected output, what am I missing?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684874615,"post_id":76318343,"comment_id":134580709,"body_markdown":"Yes, as @ConorEgan mentioned, since the `Map` keys need to be unique, the second assignment of `11` will over-write the current value.  If you&#39;re looking to store more than one value per key, use a `List&lt;Integer&gt;` as the value.","body":"Yes, as @ConorEgan mentioned, since the <code>Map</code> keys need to be unique, the second assignment of <code>11</code> will over-write the current value.  If you&#39;re looking to store more than one value per key, use a <code>List&lt;Integer&gt;</code> as the value."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1684875809,"post_id":76318343,"comment_id":134580907,"body_markdown":"_ an hashMap that is sorted in descending values._ - that is impossible. HashMaps aren&#39;t ordered. If you put in keys &#39;a&#39;, &#39;b&#39;, &#39;c&#39; - and then immediately iterate, you get an arbitrary order back. You can sort _on keys_ (`TreeMap`). You can&#39;t sort on values.","body":"_ an hashMap that is sorted in descending values._ - that is impossible. HashMaps aren&#39;t ordered. If you put in keys &#39;a&#39;, &#39;b&#39;, &#39;c&#39; - and then immediately iterate, you get an arbitrary order back. You can sort <i>on keys</i> (<code>TreeMap</code>). You can&#39;t sort on values."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684876075,"post_id":76318343,"comment_id":134580959,"body_markdown":"@rzwitserloot, agreed; at least, not intrinsically, it&#39;s not part of the abstraction.  You&#39;d have to create some sort of iteration on a `LinkedHashMap`, and re-order the keys.","body":"@rzwitserloot, agreed; at least, not intrinsically, it&#39;s not part of the abstraction.  You&#39;d have to create some sort of iteration on a <code>LinkedHashMap</code>, and re-order the keys."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684876117,"creation_date":1684875719,"answer_id":76318620,"question_id":76318343,"body_markdown":"Here is a possible solution to your inquiry.\r\n\r\nFirstly, you can use a `Map&lt;Integer, List&lt;Integer&gt;&gt;`, as a way to hold more than one value per key.\r\n\r\nWhen adding a new value, sort the `List` using `Comparator.reverseOrder`.\r\n\r\n```java\r\npublic class Example {\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = new LinkedHashMap&lt;&gt;();\r\n\r\n    void add(int key, int value) {\r\n        if (!map.containsKey(key))\r\n            map.put(key, new ArrayList&lt;&gt;(List.of(value)));\r\n        else {\r\n            map.get(key).add(value);\r\n            map.get(key).sort(Comparator.reverseOrder());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is an example usage\r\n\r\n```java\r\nExample example = new Example();\r\nexample.add(7, 4);\r\nexample.add(11, 3);\r\nexample.add(18, 3);\r\nexample.add(35, 3);\r\nexample.add(2, 2);\r\nexample.add(5, 1);\r\nexample.add(11, 1);\r\n\r\nSystem.out.println(example.map);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n{7=[4], 11=[3, 1], 18=[3], 35=[3], 2=[2], 5=[1]}\r\n```","title":"Rearranging Duplicate Values in a Hashmap pairs in ascending Key order","body":"<p>Here is a possible solution to your inquiry.</p>\n<p>Firstly, you can use a <code>Map&lt;Integer, List&lt;Integer&gt;&gt;</code>, as a way to hold more than one value per key.</p>\n<p>When adding a new value, sort the <code>List</code> using <code>Comparator.reverseOrder</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map = new LinkedHashMap&lt;&gt;();\n\n    void add(int key, int value) {\n        if (!map.containsKey(key))\n            map.put(key, new ArrayList&lt;&gt;(List.of(value)));\n        else {\n            map.get(key).add(value);\n            map.get(key).sort(Comparator.reverseOrder());\n        }\n    }\n}\n</code></pre>\n<p>Here is an example usage</p>\n<pre class=\"lang-java prettyprint-override\"><code>Example example = new Example();\nexample.add(7, 4);\nexample.add(11, 3);\nexample.add(18, 3);\nexample.add(35, 3);\nexample.add(2, 2);\nexample.add(5, 1);\nexample.add(11, 1);\n\nSystem.out.println(example.map);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{7=[4], 11=[3, 1], 18=[3], 35=[3], 2=[2], 5=[1]}\n</code></pre>\n"}],"owner":{"account_id":25338369,"reputation":313,"user_id":19157137,"display_name":"Bosser445"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76318620,"answer_count":1,"score":0,"last_activity_date":1684876117,"creation_date":1684872730,"question_id":76318343,"body_markdown":"I want to write a piece of code in java that takes in an hashMap that is sorted in descending values. It only rearranges the pairs that have more than one duplicate values and order them in ascending key order. So {7=4, 17=2, 5=2} hashMap would result in `{7=4, 5=2, 17=2}`. For another example `{7=4, 11=3 , 18=3 , 35=3, 2=2, 5=1, 11,1}` would equal `{7=4, 11=3 , 18=3 , 35=3, 2=2, 5=1, 11,1}` since all the duplicates are already sorted in ascending keys. The code down below is wrong and does not give the expected value described. Please change the code below for it to perform what its supposed to. The pair `11=3` is also missing in the output.  \r\n\r\n```\r\nInput:{7=4, 11=3 , 18=3 , 35=3, 2=2, 5=1, 11,1}\r\nOutput: {2=2, 18=3, 35=3, 5=1, 7=4, 11=1}\r\nExpected Output: {7=4, 11=3 , 18=3 , 35=3, 2=2, 5=1, 11=1}\r\n```\r\n\r\nCode\r\n```\r\nimport java.util.*;\r\n\r\npublic class HashMapSort {\r\n    public static void main(String[] args) {\r\n        HashMap&lt;Integer, Integer&gt; hashMap = new HashMap&lt;&gt;();\r\n        hashMap.put(7, 4);\r\n        hashMap.put(11, 3);\r\n        hashMap.put(18, 3);\r\n        hashMap.put(35, 3);\r\n        hashMap.put(2, 2);\r\n        hashMap.put(5, 1);\r\n        hashMap.put(11, 1);\r\n        System.out.println(&quot;Before rearranging: &quot; + hashMap);\r\n        HashMap&lt;Integer, Integer&gt; rearrangedHashMap = rearrangeHashMap(hashMap);\r\n        System.out.println(&quot;After rearranging: &quot; + rearrangedHashMap);\r\n    }\r\n\r\n    public static HashMap&lt;Integer, Integer&gt; rearrangeHashMap(HashMap&lt;Integer, Integer&gt; hashMap) {\r\n        HashMap&lt;Integer, Integer&gt; rearrangedHashMap = new HashMap&lt;&gt;();\r\n        // Group the values by count and by whether they have duplicates\r\n       HashMap&lt;Integer, List&lt;Integer&gt;&gt; groupedValues = new HashMap&lt;&gt;();\r\n        for (Map.Entry&lt;Integer, Integer&gt; entry : hashMap.entrySet()) {\r\n            int key = entry.getKey();\r\n            int value = entry.getValue();\r\n            if (value &gt; 1) {\r\n                groupedValues.computeIfAbsent(value, k -&gt; new ArrayList&lt;&gt;()).add(key);\r\n            } else {\r\n                rearrangedHashMap.put(key, value);\r\n            }\r\n        }\r\n        // Rearrange the groups with multiple values\r\n        for (Map.Entry&lt;Integer, List&lt;Integer&gt;&gt; entry : groupedValues.entrySet()) {\r\n            int value = entry.getKey();\r\n            List&lt;Integer&gt; keys = entry.getValue();\r\n            Collections.sort(keys, Collections.reverseOrder());\r\n            for (int key : keys) {\r\n                rearrangedHashMap.put(key, value);\r\n            }\r\n        }\r\n        return rearrangedHashMap;\r\n    }\r\n}\r\n\r\n```","title":"Rearranging Duplicate Values in a Hashmap pairs in ascending Key order","body":"<p>I want to write a piece of code in java that takes in an hashMap that is sorted in descending values. It only rearranges the pairs that have more than one duplicate values and order them in ascending key order. So {7=4, 17=2, 5=2} hashMap would result in <code>{7=4, 5=2, 17=2}</code>. For another example <code>{7=4, 11=3 , 18=3 , 35=3, 2=2, 5=1, 11,1}</code> would equal <code>{7=4, 11=3 , 18=3 , 35=3, 2=2, 5=1, 11,1}</code> since all the duplicates are already sorted in ascending keys. The code down below is wrong and does not give the expected value described. Please change the code below for it to perform what its supposed to. The pair <code>11=3</code> is also missing in the output.</p>\n<pre><code>Input:{7=4, 11=3 , 18=3 , 35=3, 2=2, 5=1, 11,1}\nOutput: {2=2, 18=3, 35=3, 5=1, 7=4, 11=1}\nExpected Output: {7=4, 11=3 , 18=3 , 35=3, 2=2, 5=1, 11=1}\n</code></pre>\n<p>Code</p>\n<pre><code>import java.util.*;\n\npublic class HashMapSort {\n    public static void main(String[] args) {\n        HashMap&lt;Integer, Integer&gt; hashMap = new HashMap&lt;&gt;();\n        hashMap.put(7, 4);\n        hashMap.put(11, 3);\n        hashMap.put(18, 3);\n        hashMap.put(35, 3);\n        hashMap.put(2, 2);\n        hashMap.put(5, 1);\n        hashMap.put(11, 1);\n        System.out.println(&quot;Before rearranging: &quot; + hashMap);\n        HashMap&lt;Integer, Integer&gt; rearrangedHashMap = rearrangeHashMap(hashMap);\n        System.out.println(&quot;After rearranging: &quot; + rearrangedHashMap);\n    }\n\n    public static HashMap&lt;Integer, Integer&gt; rearrangeHashMap(HashMap&lt;Integer, Integer&gt; hashMap) {\n        HashMap&lt;Integer, Integer&gt; rearrangedHashMap = new HashMap&lt;&gt;();\n        // Group the values by count and by whether they have duplicates\n       HashMap&lt;Integer, List&lt;Integer&gt;&gt; groupedValues = new HashMap&lt;&gt;();\n        for (Map.Entry&lt;Integer, Integer&gt; entry : hashMap.entrySet()) {\n            int key = entry.getKey();\n            int value = entry.getValue();\n            if (value &gt; 1) {\n                groupedValues.computeIfAbsent(value, k -&gt; new ArrayList&lt;&gt;()).add(key);\n            } else {\n                rearrangedHashMap.put(key, value);\n            }\n        }\n        // Rearrange the groups with multiple values\n        for (Map.Entry&lt;Integer, List&lt;Integer&gt;&gt; entry : groupedValues.entrySet()) {\n            int value = entry.getKey();\n            List&lt;Integer&gt; keys = entry.getValue();\n            Collections.sort(keys, Collections.reverseOrder());\n            for (int key : keys) {\n                rearrangedHashMap.put(key, value);\n            }\n        }\n        return rearrangedHashMap;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","typecasting-operator"],"comments":[{"owner":{"account_id":52839,"reputation":91099,"user_id":157957,"display_name":"IMSoP"},"score":2,"creation_date":1684862961,"post_id":76317283,"comment_id":134578462,"body_markdown":"Who is &quot;they&quot;? Where does this code come from? Are you sure it&#39;s not just a mistake by whoever wrote that code?","body":"Who is &quot;they&quot;? Where does this code come from? Are you sure it&#39;s not just a mistake by whoever wrote that code?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1684865193,"post_id":76317283,"comment_id":134578864,"body_markdown":"`ArrayList` has two different `remove` methods: (i) `remove(int)` and (ii) `remove(Object)` - the first use the argument as index of the element to be removed, while the second removes the given Object - since `charAt()` returns a `char`, both method can be called (a `char` is also an integral type), the compiler will call the first one - casting to `Character` forces the second one to be called","body":"<code>ArrayList</code> has two different <code>remove</code> methods: (i) <code>remove(int)</code> and (ii) <code>remove(Object)</code> - the first use the argument as index of the element to be removed, while the second removes the given Object - since <code>charAt()</code> returns a <code>char</code>, both method can be called (a <code>char</code> is also an integral type), the compiler will call the first one - casting to <code>Character</code> forces the second one to be called"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":3,"creation_date":1684866230,"post_id":76317283,"comment_id":134579070,"body_markdown":"btw, you&#39;ve stumbled upon some non-obvious code (good on you for noticing that!). The given answers (and @user16320675&#39;s slightly more in-depth explanation) are correct, but if I were you, I would do a favor to the next person who runs across this and add a short comment in the code; something like `// casting to Character so Java uses the remove(T) overload instead of remove(int)`","body":"btw, you&#39;ve stumbled upon some non-obvious code (good on you for noticing that!). The given answers (and @user16320675&#39;s slightly more in-depth explanation) are correct, but if I were you, I would do a favor to the next person who runs across this and add a short comment in the code; something like <code>&#47;&#47; casting to Character so Java uses the remove(T) overload instead of remove(int)</code>"}],"answers":[{"tags":[],"owner":{"account_id":27267586,"reputation":59,"user_id":20789350,"display_name":"carter"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1684865563,"creation_date":1684863157,"answer_id":76317327,"question_id":76317283,"body_markdown":"Removing both chars and ints can lead to logic errors when using the `remove(T e)` because of the overloaded method\r\n`remove(int index)` of the ArrayList class. Casting to their wrapper class avoids this.","title":"Casting char-&gt;Character in ArrayList#remove() - Why?","body":"<p>Removing both chars and ints can lead to logic errors when using the <code>remove(T e)</code> because of the overloaded method\n<code>remove(int index)</code> of the ArrayList class. Casting to their wrapper class avoids this.</p>\n"},{"tags":[],"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684863278,"creation_date":1684863278,"answer_id":76317337,"question_id":76317283,"body_markdown":"The ArrayList class uses generics to specify that it contains a instances of Character. The casting allows automatic boxing char into a Character instance. See https://www.geeksforgeeks.org/autoboxing-unboxing-java/\r\nThe reason behind this, being that unlike in C#, generics are supported for classes but not intrinsic types such as int, char...","title":"Casting char-&gt;Character in ArrayList#remove() - Why?","body":"<p>The ArrayList class uses generics to specify that it contains a instances of Character. The casting allows automatic boxing char into a Character instance. See <a href=\"https://www.geeksforgeeks.org/autoboxing-unboxing-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/autoboxing-unboxing-java/</a>\nThe reason behind this, being that unlike in C#, generics are supported for classes but not intrinsic types such as int, char...</p>\n"}],"owner":{"account_id":28662032,"reputation":41,"user_id":21946775,"display_name":"Hritikesh S Shendre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1684875876,"creation_date":1684862826,"question_id":76317283,"body_markdown":"```\r\nimport java.util.*;\r\n\r\npublic class rearrange_palindrome {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc=new Scanner(System.in);\r\n        String st=sc.nextLine();\r\n\r\n        ArrayList&lt;Character&gt; ar = new ArrayList&lt;Character&gt;();\r\n\r\n        for (int i=0;i&lt;st.length();i++){\r\n            if (ar.contains(st.charAt(i)))\r\n            ar.remove((Character)st.charAt(i));//why did they use type casting?\r\n            else\r\n            ar.add(st.charAt(i));\r\n        }\r\n        if (st.length()%2==0 &amp;&amp; ar.isEmpty()==true || st.length()%2==1 &amp;&amp; ar.size()==1)\r\n        System.out.println(&quot;Palindrome&quot;);\r\n        else\r\n        System.out.println(&quot;Not a palindrome&quot;);\r\n    }\r\n}\r\n```\r\nplease tell, me the reason why did they use type casting, I&#39;ve commented that line.","title":"Casting char-&gt;Character in ArrayList#remove() - Why?","body":"<pre><code>import java.util.*;\n\npublic class rearrange_palindrome {\n\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        String st=sc.nextLine();\n\n        ArrayList&lt;Character&gt; ar = new ArrayList&lt;Character&gt;();\n\n        for (int i=0;i&lt;st.length();i++){\n            if (ar.contains(st.charAt(i)))\n            ar.remove((Character)st.charAt(i));//why did they use type casting?\n            else\n            ar.add(st.charAt(i));\n        }\n        if (st.length()%2==0 &amp;&amp; ar.isEmpty()==true || st.length()%2==1 &amp;&amp; ar.size()==1)\n        System.out.println(&quot;Palindrome&quot;);\n        else\n        System.out.println(&quot;Not a palindrome&quot;);\n    }\n}\n</code></pre>\n<p>please tell, me the reason why did they use type casting, I've commented that line.</p>\n"},{"tags":["java","maven","jsonschema2pojo"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1651048635,"post_id":72025422,"comment_id":127266988,"body_markdown":"What is maven and java version?","body":"What is maven and java version?"},{"owner":{"account_id":1900320,"reputation":25,"user_id":1716304,"display_name":"user1716304"},"score":0,"creation_date":1651049667,"post_id":72025422,"comment_id":127267393,"body_markdown":"Apache Maven 3.8.4 and Java version: 17.0.2","body":"Apache Maven 3.8.4 and Java version: 17.0.2"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1651050546,"post_id":72025422,"comment_id":127267727,"body_markdown":"Can you update jsonschema2pojo-maven-plugin to version 1.1.1 ? Your current version is from April 2017.","body":"Can you update jsonschema2pojo-maven-plugin to version 1.1.1 ? Your current version is from April 2017."},{"owner":{"account_id":2629084,"reputation":7968,"user_id":2275490,"display_name":"Vickel"},"score":0,"creation_date":1684873015,"post_id":72025422,"comment_id":134580369,"body_markdown":"Please don&#39;t make more work for other people by vandalizing your posts. And YES, deleting the essential code block of your question is called vandalizing. By posting on Stack Overflow, you&#39;ve granted a non-revocable right, under the CC BY-SA 4.0 license for Stack Overflow to distribute that content.","body":"Please don&#39;t make more work for other people by vandalizing your posts. And YES, deleting the essential code block of your question is called vandalizing. By posting on Stack Overflow, you&#39;ve granted a non-revocable right, under the CC BY-SA 4.0 license for Stack Overflow to distribute that content."},{"owner":{"account_id":2629084,"reputation":7968,"user_id":2275490,"display_name":"Vickel"},"score":0,"creation_date":1684873074,"post_id":72025422,"comment_id":134580380,"body_markdown":"You may dissociate a question from your account, instead of vandalizing:\nIf you made a post that you regret posting you can [have the post dissociated from your account](https://meta.stackexchange.com/questions/96732/how-do-i-remove-my-name-from-a-post-in-accordance-with-cc-by-sa)","body":"You may dissociate a question from your account, instead of vandalizing: If you made a post that you regret posting you can <a href=\"https://meta.stackexchange.com/questions/96732/how-do-i-remove-my-name-from-a-post-in-accordance-with-cc-by-sa\">have the post dissociated from your account</a>"}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684875694,"creation_date":1684875694,"answer_id":76318617,"question_id":72025422,"body_markdown":"Remove the following section from the &quot;Impact&quot; definition:\r\n\r\n    &quot;*&quot;: {\r\n    \t&quot;type&quot;: &quot;object&quot;\r\n    }\r\n\r\nIt appears to be an invalid definition.","title":"how to generate classes out of the json schema","body":"<p>Remove the following section from the &quot;Impact&quot; definition:</p>\n<pre><code>&quot;*&quot;: {\n    &quot;type&quot;: &quot;object&quot;\n}\n</code></pre>\n<p>It appears to be an invalid definition.</p>\n"}],"owner":{"account_id":1900320,"reputation":25,"user_id":1716304,"display_name":"user1716304"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1333,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684875694,"creation_date":1651047279,"question_id":72025422,"body_markdown":"I have a json schema from which I need to generate java classes\r\n\r\n```\r\n{\r\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-07/schema#&quot;,\r\n    &quot;$id&quot;: &quot;https://schema.softsense.io/analysis/vulnerabilities/v1alpha1/vulnerabilities.json&quot;,\r\n    &quot;title&quot;: &quot;Vulnerabilities&quot;,\r\n    &quot;description&quot;: &quot;SoftSense Vulnerabilities analysis schema v1alpha3&quot;,\r\n    \r\n    &quot;type&quot;: &quot;object&quot;,\r\n    &quot;allOf&quot;: [ { &quot;$ref&quot;: &quot;https://schema.softsense.io/analysis/v1alpha3/base.json&quot; } ],\r\n    &quot;properties&quot;: {\r\n        &quot;vulnerabilities&quot;: {\r\n            &quot;items&quot;: {\r\n                &quot;$ref&quot;: &quot;#/definitions/Vulnerability&quot;\r\n            },\r\n            &quot;type&quot;: &quot;array&quot;\r\n        }\r\n    },\r\n    &quot;oneOf&quot;: [{ &quot;required&quot;: [&quot;vulnerabilities&quot;] }, { &quot;required&quot;: [&quot;error&quot;] }],\r\n    &quot;definitions&quot;: {\r\n        &quot;Vulnerability&quot;: {\r\n            &quot;required&quot;: [\r\n                &quot;id&quot;,\r\n                &quot;description&quot;,\r\n                &quot;sources&quot;\r\n            ],\r\n            &quot;properties&quot;: {\r\n                &quot;id&quot;: {\r\n                    &quot;description&quot;: &quot;Identifier for the vulnerability, such as a CVE identifier (CVE-2021-12345).&quot;,\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;published&quot;: {\r\n                    &quot;description&quot;: &quot;UTC time when the vulnerability was published&quot;,\r\n                    &quot;type&quot;: &quot;string&quot;,\r\n                    &quot;format&quot;: &quot;date-time&quot;\r\n                },\r\n                &quot;updated&quot;: {\r\n                    &quot;description&quot;: &quot;UTC time when the vulnerability was updated&quot;,\r\n                    &quot;type&quot;: &quot;string&quot;,\r\n                    &quot;format&quot;: &quot;date-time&quot;\r\n                },\r\n                &quot;description&quot;: {\r\n                    &quot;description&quot;: &quot;Description of the vulnerability&quot;,\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;sources&quot;: {\r\n                    &quot;description&quot;: &quot;The collection of backing vulnerability sources that listed this vulnerability for the software component&quot;,\r\n                    &quot;items&quot;: {\r\n                        &quot;type&quot;: &quot;string&quot;\r\n                    },\r\n                    &quot;type&quot;: &quot;array&quot;\r\n                },\r\n                &quot;cwes&quot;: {\r\n                    &quot;description&quot;: &quot;The collection of Common Weakness Enumeration (CWE) identifiers that characterize the vulnerability.&quot;,\r\n                    &quot;items&quot;: {\r\n                        &quot;$ref&quot;: &quot;#/definitions/CWE&quot;\r\n                    },\r\n                    &quot;type&quot;: &quot;array&quot;\r\n                },\r\n                &quot;references&quot;: {\r\n                    &quot;description&quot;: &quot;External URLs related to the vulnerability, such as issue trackers, mailing list discussions, commits, or patches.&quot;,\r\n                    &quot;items&quot;: {\r\n                        &quot;$ref&quot;: &quot;#/definitions/Reference&quot;\r\n                    },\r\n                    &quot;type&quot;: &quot;array&quot;\r\n                },\r\n                &quot;impact&quot;: {\r\n                    &quot;description&quot;: &quot;What impact this vulnerability has&quot;,\r\n                    &quot;$ref&quot;: &quot;#/definitions/Impact&quot;\r\n                }\r\n            },\r\n            &quot;type&quot;: &quot;object&quot;\r\n        },\r\n        &quot;Impact&quot;: {\r\n            &quot;properties&quot;: {\r\n                &quot;metricV3&quot;: {\r\n                    &quot;$ref&quot;: &quot;#/definitions/ImpactMetricV3&quot;\r\n                },\r\n                &quot;metricV2&quot;: {\r\n                    &quot;$ref&quot;: &quot;#/definitions/ImpactMetricV2&quot;\r\n                },\r\n                &quot;*&quot;: {\r\n                    &quot;type&quot;: &quot;object&quot;\r\n                }\r\n            },\r\n            &quot;type&quot;: &quot;object&quot;\r\n        },\r\n        &quot;ImpactMetricV3&quot;: {\r\n            &quot;properties&quot;: {\r\n                &quot;cvssV3&quot;: {\r\n                    &quot;$ref&quot;: &quot;#/definitions/CVSSv3&quot;\r\n                },\r\n                &quot;exploitabilityScore&quot;: {\r\n                    &quot;type&quot;: &quot;number&quot;\r\n                },\r\n                &quot;impactScore&quot;: {\r\n                    &quot;type&quot;: &quot;number&quot;\r\n                }\r\n            }\r\n        },\r\n        &quot;CVSSv3&quot;: {\r\n            &quot;required&quot;: [\r\n                &quot;version&quot;,\r\n                &quot;vectorString&quot;,\r\n                &quot;baseScore&quot;,\r\n                &quot;baseSeverity&quot;\r\n            ],\r\n            &quot;properties&quot;: {\r\n                &quot;version&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;vectorString&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;attackVector&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;attackComplexity&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;privilegesRequired&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;userInteraction&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;scope&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;confidentialityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;integrityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;availabilityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;baseScore&quot;: {\r\n                    &quot;type&quot;: &quot;number&quot;\r\n                },\r\n                &quot;baseSeverity&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;exploitCodeMaturity&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;remediationLevel&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;reportConfidence&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;temporalScore&quot;: {\r\n                    &quot;type&quot;: &quot;number&quot;\r\n                },\r\n                &quot;temporalSeverity&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;confidentialityRequirement&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;integrityRequirement&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;availabilityRequirement&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;modifiedAttackVector&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;modifiedAttackComplexity&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;modifiedPrivilegesRequired&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;modifiedUserInteraction&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;modifiedScope&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;modifiedConfidentialityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;modifiedIntegrityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;modifiedAvailabilityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;environmentalScore&quot;: {\r\n                    &quot;type&quot;: &quot;number&quot;\r\n                },\r\n                &quot;environmentalSeverity&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                }\r\n            },\r\n            &quot;type&quot;: &quot;object&quot;\r\n        },\r\n        &quot;ImpactMetricV2&quot;: {\r\n            &quot;required&quot;: [\r\n                &quot;cvssV2&quot;,\r\n                &quot;severity&quot;,\r\n                &quot;exploitabilityScore&quot;,\r\n                &quot;impactScore&quot;,\r\n                &quot;obtainAllPrivilege&quot;,\r\n                &quot;obtainUserPrivilege&quot;,\r\n                &quot;obtainOtherPrivilege&quot;,\r\n                &quot;userInteractionRequired&quot;\r\n            ],\r\n            &quot;properties&quot;: {\r\n                &quot;cvssV2&quot;: {\r\n                &quot;$ref&quot;: &quot;#/definitions/CVSSv2&quot;\r\n                },\r\n                &quot;severity&quot;: {\r\n                &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;exploitabilityScore&quot;: {\r\n                &quot;type&quot;: &quot;number&quot;\r\n                },\r\n                &quot;impactScore&quot;: {\r\n                &quot;type&quot;: &quot;number&quot;\r\n                },\r\n                &quot;acInsufInfo&quot;: {\r\n                &quot;type&quot;: &quot;boolean&quot;\r\n                },\r\n                &quot;obtainAllPrivilege&quot;: {\r\n                &quot;type&quot;: &quot;boolean&quot;\r\n                },\r\n                &quot;obtainUserPrivilege&quot;: {\r\n                &quot;type&quot;: &quot;boolean&quot;\r\n                },\r\n                &quot;obtainOtherPrivilege&quot;: {\r\n                &quot;type&quot;: &quot;boolean&quot;\r\n                },\r\n                &quot;userInteractionRequired&quot;: {\r\n                &quot;type&quot;: &quot;boolean&quot;\r\n                }\r\n            },\r\n            &quot;type&quot;: &quot;object&quot;\r\n        },\r\n        &quot;CVSSv2&quot;: {\r\n            &quot;required&quot;: [\r\n                &quot;version&quot;,\r\n                &quot;vectorString&quot;,\r\n                &quot;baseScore&quot;\r\n            ],\r\n            &quot;properties&quot;: {\r\n                &quot;version&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;vectorString&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;accessVector&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;accessComplexity&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;authentication&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;confidentialityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;integrityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;availabilityImpact&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;baseScore&quot;: {\r\n                    &quot;type&quot;: &quot;number&quot;\r\n                },\r\n                &quot;exploitability&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;remediationLevel&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;reportConfidence&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;temporalScore&quot;: {\r\n                    &quot;type&quot;: &quot;number&quot;\r\n                },\r\n                &quot;collateralDamagePotential&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;targetDistribution&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;confidentialityRequirement&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;integrityRequirement&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;availabilityRequirement&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;environmentalScore&quot;: {\r\n                    &quot;type&quot;: &quot;number&quot;\r\n                }\r\n            },\r\n            &quot;type&quot;: &quot;object&quot;\r\n        },\r\n        &quot;CWE&quot;: {\r\n            &quot;required&quot;: [\r\n                &quot;name&quot;\r\n            ],\r\n            &quot;properties&quot;: {\r\n                &quot;name&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;description&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                }\r\n            },\r\n            &quot;type&quot;: &quot;object&quot;\r\n        },\r\n        &quot;Reference&quot;: {\r\n            &quot;required&quot;: [\r\n                &quot;url&quot;\r\n            ],\r\n            &quot;properties&quot;: {\r\n                &quot;name&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;url&quot;: {\r\n                    &quot;type&quot;: &quot;string&quot;\r\n                },\r\n                &quot;tags&quot;: {\r\n                    &quot;items&quot;: {\r\n                        &quot;type&quot;: &quot;string&quot;\r\n                    },\r\n                    &quot;type&quot;: &quot;array&quot;\r\n                }\r\n            },\r\n            &quot;type&quot;: &quot;object&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI am trying to use the jsonschema2pojo as under. \r\n```\r\n   &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsonschema2pojo-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.4.34&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;sourceDirectory&gt;${basedir}/src/main/resources/schema&lt;/sourceDirectory&gt;\r\n                    &lt;targetPackage&gt;com.test.gen&lt;/targetPackage&gt;\r\n                    &lt;useCommonsLang3&gt;true&lt;/useCommonsLang3&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nFor some reason I get the following error when i use mvn generate-sources\r\n\r\n[ERROR] Failed to execute goal org.jsonschema2pojo:jsonschema2pojo-maven-plugin:1.1.1:generate (default) on project hsk: Execution default of goal org.jsonschema2pojo:jsonschema2pojo-maven-plugin:1.1.1:generate failed: String index out of range: 0 -&gt; [Help 1]\r\n\r\nAny help is highly appreciated\r\n\r\nRegards,\r\n","title":"how to generate classes out of the json schema","body":"<p>I have a json schema from which I need to generate java classes</p>\n<pre><code>{\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-07/schema#&quot;,\n    &quot;$id&quot;: &quot;https://schema.softsense.io/analysis/vulnerabilities/v1alpha1/vulnerabilities.json&quot;,\n    &quot;title&quot;: &quot;Vulnerabilities&quot;,\n    &quot;description&quot;: &quot;SoftSense Vulnerabilities analysis schema v1alpha3&quot;,\n    \n    &quot;type&quot;: &quot;object&quot;,\n    &quot;allOf&quot;: [ { &quot;$ref&quot;: &quot;https://schema.softsense.io/analysis/v1alpha3/base.json&quot; } ],\n    &quot;properties&quot;: {\n        &quot;vulnerabilities&quot;: {\n            &quot;items&quot;: {\n                &quot;$ref&quot;: &quot;#/definitions/Vulnerability&quot;\n            },\n            &quot;type&quot;: &quot;array&quot;\n        }\n    },\n    &quot;oneOf&quot;: [{ &quot;required&quot;: [&quot;vulnerabilities&quot;] }, { &quot;required&quot;: [&quot;error&quot;] }],\n    &quot;definitions&quot;: {\n        &quot;Vulnerability&quot;: {\n            &quot;required&quot;: [\n                &quot;id&quot;,\n                &quot;description&quot;,\n                &quot;sources&quot;\n            ],\n            &quot;properties&quot;: {\n                &quot;id&quot;: {\n                    &quot;description&quot;: &quot;Identifier for the vulnerability, such as a CVE identifier (CVE-2021-12345).&quot;,\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;published&quot;: {\n                    &quot;description&quot;: &quot;UTC time when the vulnerability was published&quot;,\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;format&quot;: &quot;date-time&quot;\n                },\n                &quot;updated&quot;: {\n                    &quot;description&quot;: &quot;UTC time when the vulnerability was updated&quot;,\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;format&quot;: &quot;date-time&quot;\n                },\n                &quot;description&quot;: {\n                    &quot;description&quot;: &quot;Description of the vulnerability&quot;,\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;sources&quot;: {\n                    &quot;description&quot;: &quot;The collection of backing vulnerability sources that listed this vulnerability for the software component&quot;,\n                    &quot;items&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    },\n                    &quot;type&quot;: &quot;array&quot;\n                },\n                &quot;cwes&quot;: {\n                    &quot;description&quot;: &quot;The collection of Common Weakness Enumeration (CWE) identifiers that characterize the vulnerability.&quot;,\n                    &quot;items&quot;: {\n                        &quot;$ref&quot;: &quot;#/definitions/CWE&quot;\n                    },\n                    &quot;type&quot;: &quot;array&quot;\n                },\n                &quot;references&quot;: {\n                    &quot;description&quot;: &quot;External URLs related to the vulnerability, such as issue trackers, mailing list discussions, commits, or patches.&quot;,\n                    &quot;items&quot;: {\n                        &quot;$ref&quot;: &quot;#/definitions/Reference&quot;\n                    },\n                    &quot;type&quot;: &quot;array&quot;\n                },\n                &quot;impact&quot;: {\n                    &quot;description&quot;: &quot;What impact this vulnerability has&quot;,\n                    &quot;$ref&quot;: &quot;#/definitions/Impact&quot;\n                }\n            },\n            &quot;type&quot;: &quot;object&quot;\n        },\n        &quot;Impact&quot;: {\n            &quot;properties&quot;: {\n                &quot;metricV3&quot;: {\n                    &quot;$ref&quot;: &quot;#/definitions/ImpactMetricV3&quot;\n                },\n                &quot;metricV2&quot;: {\n                    &quot;$ref&quot;: &quot;#/definitions/ImpactMetricV2&quot;\n                },\n                &quot;*&quot;: {\n                    &quot;type&quot;: &quot;object&quot;\n                }\n            },\n            &quot;type&quot;: &quot;object&quot;\n        },\n        &quot;ImpactMetricV3&quot;: {\n            &quot;properties&quot;: {\n                &quot;cvssV3&quot;: {\n                    &quot;$ref&quot;: &quot;#/definitions/CVSSv3&quot;\n                },\n                &quot;exploitabilityScore&quot;: {\n                    &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;impactScore&quot;: {\n                    &quot;type&quot;: &quot;number&quot;\n                }\n            }\n        },\n        &quot;CVSSv3&quot;: {\n            &quot;required&quot;: [\n                &quot;version&quot;,\n                &quot;vectorString&quot;,\n                &quot;baseScore&quot;,\n                &quot;baseSeverity&quot;\n            ],\n            &quot;properties&quot;: {\n                &quot;version&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;vectorString&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;attackVector&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;attackComplexity&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;privilegesRequired&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;userInteraction&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;scope&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;confidentialityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;integrityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;availabilityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;baseScore&quot;: {\n                    &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;baseSeverity&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;exploitCodeMaturity&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;remediationLevel&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;reportConfidence&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;temporalScore&quot;: {\n                    &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;temporalSeverity&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;confidentialityRequirement&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;integrityRequirement&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;availabilityRequirement&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;modifiedAttackVector&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;modifiedAttackComplexity&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;modifiedPrivilegesRequired&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;modifiedUserInteraction&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;modifiedScope&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;modifiedConfidentialityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;modifiedIntegrityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;modifiedAvailabilityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;environmentalScore&quot;: {\n                    &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;environmentalSeverity&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                }\n            },\n            &quot;type&quot;: &quot;object&quot;\n        },\n        &quot;ImpactMetricV2&quot;: {\n            &quot;required&quot;: [\n                &quot;cvssV2&quot;,\n                &quot;severity&quot;,\n                &quot;exploitabilityScore&quot;,\n                &quot;impactScore&quot;,\n                &quot;obtainAllPrivilege&quot;,\n                &quot;obtainUserPrivilege&quot;,\n                &quot;obtainOtherPrivilege&quot;,\n                &quot;userInteractionRequired&quot;\n            ],\n            &quot;properties&quot;: {\n                &quot;cvssV2&quot;: {\n                &quot;$ref&quot;: &quot;#/definitions/CVSSv2&quot;\n                },\n                &quot;severity&quot;: {\n                &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;exploitabilityScore&quot;: {\n                &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;impactScore&quot;: {\n                &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;acInsufInfo&quot;: {\n                &quot;type&quot;: &quot;boolean&quot;\n                },\n                &quot;obtainAllPrivilege&quot;: {\n                &quot;type&quot;: &quot;boolean&quot;\n                },\n                &quot;obtainUserPrivilege&quot;: {\n                &quot;type&quot;: &quot;boolean&quot;\n                },\n                &quot;obtainOtherPrivilege&quot;: {\n                &quot;type&quot;: &quot;boolean&quot;\n                },\n                &quot;userInteractionRequired&quot;: {\n                &quot;type&quot;: &quot;boolean&quot;\n                }\n            },\n            &quot;type&quot;: &quot;object&quot;\n        },\n        &quot;CVSSv2&quot;: {\n            &quot;required&quot;: [\n                &quot;version&quot;,\n                &quot;vectorString&quot;,\n                &quot;baseScore&quot;\n            ],\n            &quot;properties&quot;: {\n                &quot;version&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;vectorString&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;accessVector&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;accessComplexity&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;authentication&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;confidentialityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;integrityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;availabilityImpact&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;baseScore&quot;: {\n                    &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;exploitability&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;remediationLevel&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;reportConfidence&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;temporalScore&quot;: {\n                    &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;collateralDamagePotential&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;targetDistribution&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;confidentialityRequirement&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;integrityRequirement&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;availabilityRequirement&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;environmentalScore&quot;: {\n                    &quot;type&quot;: &quot;number&quot;\n                }\n            },\n            &quot;type&quot;: &quot;object&quot;\n        },\n        &quot;CWE&quot;: {\n            &quot;required&quot;: [\n                &quot;name&quot;\n            ],\n            &quot;properties&quot;: {\n                &quot;name&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;description&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                }\n            },\n            &quot;type&quot;: &quot;object&quot;\n        },\n        &quot;Reference&quot;: {\n            &quot;required&quot;: [\n                &quot;url&quot;\n            ],\n            &quot;properties&quot;: {\n                &quot;name&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;url&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;tags&quot;: {\n                    &quot;items&quot;: {\n                        &quot;type&quot;: &quot;string&quot;\n                    },\n                    &quot;type&quot;: &quot;array&quot;\n                }\n            },\n            &quot;type&quot;: &quot;object&quot;\n        }\n    }\n}\n</code></pre>\n<p>I am trying to use the jsonschema2pojo as under.</p>\n<pre><code>   &lt;plugin&gt;\n                &lt;groupId&gt;org.jsonschema2pojo&lt;/groupId&gt;\n                &lt;artifactId&gt;jsonschema2pojo-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.4.34&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;sourceDirectory&gt;${basedir}/src/main/resources/schema&lt;/sourceDirectory&gt;\n                    &lt;targetPackage&gt;com.test.gen&lt;/targetPackage&gt;\n                    &lt;useCommonsLang3&gt;true&lt;/useCommonsLang3&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>For some reason I get the following error when i use mvn generate-sources</p>\n<p>[ERROR] Failed to execute goal org.jsonschema2pojo:jsonschema2pojo-maven-plugin:1.1.1:generate (default) on project hsk: Execution default of goal org.jsonschema2pojo:jsonschema2pojo-maven-plugin:1.1.1:generate failed: String index out of range: 0 -&gt; [Help 1]</p>\n<p>Any help is highly appreciated</p>\n<p>Regards,</p>\n"},{"tags":["java","spring","scheduled-tasks"],"answers":[{"tags":[],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552059495,"creation_date":1552059495,"answer_id":55066466,"question_id":55066218,"body_markdown":"If the task is not accepted you should get a [TaskRejectedException][1] that you can handle. If the task is accepted it should eventually run. If you schedule tasks far off in the future and keep adding more tasks or if the system is overloaded and can&#39;t process the tasks fast enough of course you can run out of memory eventually. However, a task is not likely to consume that much memory, so in that case you will probably have other more urgent problems first!\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/task/TaskRejectedException.html","title":"What happens to failed queued tasks in Spring?","body":"<p>If the task is not accepted you should get a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/task/TaskRejectedException.html\" rel=\"nofollow noreferrer\">TaskRejectedException</a> that you can handle. If the task is accepted it should eventually run. If you schedule tasks far off in the future and keep adding more tasks or if the system is overloaded and can't process the tasks fast enough of course you can run out of memory eventually. However, a task is not likely to consume that much memory, so in that case you will probably have other more urgent problems first!</p>\n"}],"owner":{"account_id":13532298,"reputation":43,"user_id":10474511,"display_name":"Carolina Ponce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684874238,"creation_date":1552058511,"question_id":55066218,"body_markdown":"I have a process that when receives a request through REST made by another process it schedules jobs. Each time it&#39;s called, it schedules a new job.\r\n\r\nWhat happens if for some reason a job can&#39;t be executed? The next time it has to be executed, but if it never happens? Could tasks be queued and then make me have a problem with memory?","title":"What happens to failed queued tasks in Spring?","body":"<p>I have a process that when receives a request through REST made by another process it schedules jobs. Each time it's called, it schedules a new job.</p>\n<p>What happens if for some reason a job can't be executed? The next time it has to be executed, but if it never happens? Could tasks be queued and then make me have a problem with memory?</p>\n"},{"tags":["java","enums","constants"],"comments":[{"owner":{"account_id":2734255,"reputation":561,"user_id":2384806,"display_name":"mdoflaz"},"score":0,"creation_date":1656493144,"post_id":72798556,"comment_id":128583756,"body_markdown":"Duplicate of: https://stackoverflow.com/questions/4197988/java-enum-valueof-with-multiple-values \nYou can ref to this answer: https://stackoverflow.com/a/4198066/2384806","body":"Duplicate of: <a href=\"https://stackoverflow.com/questions/4197988/java-enum-valueof-with-multiple-values\" title=\"java enum valueof with multiple values\">stackoverflow.com/questions/4197988/&hellip;</a>  You can ref to this answer: <a href=\"https://stackoverflow.com/a/4198066/2384806\">stackoverflow.com/a/4198066/2384806</a>"},{"owner":{"account_id":25674532,"reputation":1,"user_id":19438198,"display_name":"Bilva"},"score":0,"creation_date":1656493453,"post_id":72798556,"comment_id":128583874,"body_markdown":"Yes, It does answer. Thank you!","body":"Yes, It does answer. Thank you!"}],"owner":{"account_id":25674532,"reputation":1,"user_id":19438198,"display_name":"Bilva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656493471,"answer_count":0,"score":0,"last_activity_date":1684873980,"creation_date":1656492958,"question_id":72798556,"body_markdown":"I am struggling to have a proper implementation in java when it is required to have a set of constants values in String and those strings have the values again in integer/String.\r\nfor example, \r\n\r\n 1. small-diesel-car : 142g \r\n 2. small-petrol-car : 154g\r\n 3. small-plugin-hybrid-car : 73g \r\n 4. small-electric-car : 50g\r\n\r\nSo, I have defined those Strings literals in Constants.java like:\r\n\r\n`public static final String SMALL_DIESEL_CAR = &quot;small-diesel-car&quot;;`\r\n\r\nBut now &quot;small-diesel-car&quot; should have a value of 142.\r\n\r\nMy question is: How should I be handling this scenario using constants and enum classes or anything else?\r\n","title":"how to define constants or enum in java when a value has a value to store","body":"<p>I am struggling to have a proper implementation in java when it is required to have a set of constants values in String and those strings have the values again in integer/String.\nfor example,</p>\n<ol>\n<li>small-diesel-car : 142g</li>\n<li>small-petrol-car : 154g</li>\n<li>small-plugin-hybrid-car : 73g</li>\n<li>small-electric-car : 50g</li>\n</ol>\n<p>So, I have defined those Strings literals in Constants.java like:</p>\n<p><code>public static final String SMALL_DIESEL_CAR = &quot;small-diesel-car&quot;;</code></p>\n<p>But now &quot;small-diesel-car&quot; should have a value of 142.</p>\n<p>My question is: How should I be handling this scenario using constants and enum classes or anything else?</p>\n"},{"tags":["java","maven-plugin","maven-surefire-plugin","serenity-bdd","maven-failsafe-plugin"],"comments":[{"owner":{"display_name":"user10639668"},"score":0,"creation_date":1543934610,"post_id":53615326,"comment_id":94091462,"body_markdown":"Can you post the pom.xml?","body":"Can you post the pom.xml?"},{"owner":{"account_id":10271400,"reputation":1,"user_id":7579644,"display_name":"Amit Rai"},"score":0,"creation_date":1543995979,"post_id":53615326,"comment_id":94114626,"body_markdown":"@EugenCovaci Could you please see above in the post ,I have already provided the pom.xml..","body":"@EugenCovaci Could you please see above in the post ,I have already provided the pom.xml.."},{"owner":{"display_name":"user10639668"},"score":0,"creation_date":1543996583,"post_id":53615326,"comment_id":94114908,"body_markdown":"If &quot;cmd.exe is restricted&quot; how can you run any Maven command?","body":"If &quot;cmd.exe is restricted&quot; how can you run any Maven command?"},{"owner":{"account_id":10271400,"reputation":1,"user_id":7579644,"display_name":"Amit Rai"},"score":0,"creation_date":1543998245,"post_id":53615326,"comment_id":94115631,"body_markdown":"@EugenCovaci  we use eclipse and m2e plugin for that..","body":"@EugenCovaci  we use eclipse and m2e plugin for that.."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1543998695,"post_id":53615326,"comment_id":94115861,"body_markdown":"It seems to me you won&#39;t be able to do any serious development work on this machine. (I can&#39;t live without the command line).","body":"It seems to me you won&#39;t be able to do any serious development work on this machine. (I can&#39;t live without the command line)."}],"answers":[{"tags":[],"owner":{"account_id":5351771,"reputation":147,"user_id":4265722,"display_name":"Omprakash Gautam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684873677,"creation_date":1684842186,"answer_id":76314372,"question_id":53615326,"body_markdown":"Try setting the `forkCount` to `0`\r\n","title":"Surefire plugin fails forking as CMD.exe is restrcited in my system","body":"<p>Try setting the <code>forkCount</code> to <code>0</code></p>\n"}],"owner":{"account_id":10271400,"reputation":1,"user_id":7579644,"display_name":"Amit Rai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684873677,"creation_date":1543934294,"question_id":53615326,"body_markdown":"I am using maven-fail-safe plugin and maven-surefire-plugin to run my tests.\r\nbut surefire plugin calls cmd.exe for forking command line and fails to execute the goals as cmd.exe is restricted to use in my organization.\r\n## Errors from Eclipse  console ## \r\n### The forked VM terminated without properly saying goodbye. VM crash or System.exit called? ###\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-failsafe- \r\n    plugin:2.18.1:integration-test (default) on project bdd-test: Execution \r\n    default of goal org.apache.maven.plugins:maven-failsafe- \r\n    plugin:2.18.1:integration-test failed: The forked VM terminated without \r\n    properly saying goodbye. VM crash or System.exit called?\r\n    [ERROR] Command was cmd.exe /X /C &quot;&quot;C:\\Program \r\n    Files\\Java\\jre1.8.0_151\\bin\\java&quot; -Xmx512m -jar C:\\Users\\ar11495\\Serenity- \r\n    workspace\\bdd-test\\target\\surefire\\surefirebooter3944168471238729169.jar \r\n    C:\\Users\\ar11495\\Serenity-workspace\\bdd- \r\n    test\\target\\surefire\\surefire3290184423596544348tmp \r\n    C:\\Users\\ar11495\\Serenity-workspace\\bdd- \r\n    test\\target\\surefire\\surefire_0917807971278197542tmp&quot;\r\n\r\n### below is my pom.xml ###\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;firstSerenity&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;bdd-test&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;Sample Serenity project using JBehave and WebDriver&lt;/name&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;serenity.version&gt;1.8.21&lt;/serenity.version&gt;\r\n    \t\t&lt;serenity.jbehave.version&gt;1.34.0&lt;/serenity.jbehave.version&gt;\r\n    \t\t&lt;webdriver.driver&gt;firefox&lt;/webdriver.driver&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;id&gt;central&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;bintray&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://jcenter.bintray.com&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;id&gt;central&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;bintray-plugins&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;http://jcenter.bintray.com&lt;/url&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\r\n    \t\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;2.53.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${serenity.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;serenity-jbehave&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${serenity.jbehave.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.7.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;3.17&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;skip&gt;true&lt;/skip&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\r\n    \t\t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/*Test.java&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/*TestSuite.java&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/Test*.java&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/When*.java&lt;/include&gt;\r\n    \t\t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t\t&lt;argLine&gt;-Xmx512m&lt;/argLine&gt;\r\n    \t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n    \t\t\t\t\t\t&lt;webdriver.driver&gt;${webdriver.driver}&lt;/webdriver.driver&gt;\r\n    \t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.2&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.8.21&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;serenity-reports&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;aggregate&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n    \r\n\r\n\r\n\r\n\r\n","title":"Surefire plugin fails forking as CMD.exe is restrcited in my system","body":"<p>I am using maven-fail-safe plugin and maven-surefire-plugin to run my tests.\nbut surefire plugin calls cmd.exe for forking command line and fails to execute the goals as cmd.exe is restricted to use in my organization.</p>\n\n<h2>Errors from Eclipse  console ##</h2>\n\n<h3>The forked VM terminated without properly saying goodbye. VM crash or System.exit called?</h3>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-failsafe- \nplugin:2.18.1:integration-test (default) on project bdd-test: Execution \ndefault of goal org.apache.maven.plugins:maven-failsafe- \nplugin:2.18.1:integration-test failed: The forked VM terminated without \nproperly saying goodbye. VM crash or System.exit called?\n[ERROR] Command was cmd.exe /X /C \"\"C:\\Program \nFiles\\Java\\jre1.8.0_151\\bin\\java\" -Xmx512m -jar C:\\Users\\ar11495\\Serenity- \nworkspace\\bdd-test\\target\\surefire\\surefirebooter3944168471238729169.jar \nC:\\Users\\ar11495\\Serenity-workspace\\bdd- \ntest\\target\\surefire\\surefire3290184423596544348tmp \nC:\\Users\\ar11495\\Serenity-workspace\\bdd- \ntest\\target\\surefire\\surefire_0917807971278197542tmp\"\n</code></pre>\n\n<h3>below is my pom.xml</h3>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;firstSerenity&lt;/groupId&gt;\n    &lt;artifactId&gt;bdd-test&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Sample Serenity project using JBehave and WebDriver&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;serenity.version&gt;1.8.21&lt;/serenity.version&gt;\n        &lt;serenity.jbehave.version&gt;1.34.0&lt;/serenity.jbehave.version&gt;\n        &lt;webdriver.driver&gt;firefox&lt;/webdriver.driver&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;bintray&lt;/name&gt;\n            &lt;url&gt;http://jcenter.bintray.com&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;bintray-plugins&lt;/name&gt;\n            &lt;url&gt;http://jcenter.bintray.com&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencies&gt;\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;2.53.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-jbehave&lt;/artifactId&gt;\n            &lt;version&gt;${serenity.jbehave.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;3.17&lt;/version&gt;\n&lt;/dependency&gt; \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n                &lt;configuration&gt;\n\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                        &lt;include&gt;**/*TestSuite.java&lt;/include&gt;\n                        &lt;include&gt;**/Test*.java&lt;/include&gt;\n                        &lt;include&gt;**/When*.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;argLine&gt;-Xmx512m&lt;/argLine&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;webdriver.driver&gt;${webdriver.driver}&lt;/webdriver.driver&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.8.21&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;serenity-reports&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","arraylist","stop-words"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1429116427,"post_id":29656071,"comment_id":47451809,"body_markdown":"Kindly take a look onto this post: http://stackoverflow.com/q/223918/1679863","body":"Kindly take a look onto this post: <a href=\"http://stackoverflow.com/q/223918/1679863\">stackoverflow.com/q/223918/1679863</a>"},{"owner":{"account_id":2674098,"reputation":49601,"user_id":2310866,"display_name":"Xaver Kapeller"},"score":0,"creation_date":1429116774,"post_id":29656071,"comment_id":47452012,"body_markdown":"Use `Iterator` to remove elements while looping.","body":"Use <code>Iterator</code> to remove elements while looping."}],"answers":[{"tags":[],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1429162664,"creation_date":1429116436,"answer_id":29656110,"question_id":29656071,"body_markdown":"Use `Iterator.remove()` to remove elements while iterating.\r\n\r\n    for (Iterator&lt;String&gt; iter = myarraylist.iterator(); iter.hasNext(); ) {\r\n      String element = iter.next();\r\n      if (element meets some criteria) {\r\n        iter.remove();\r\n      }\r\n    }\r\n\r\nOr use Google Guava&#39;s [filter][1] which returns a filtered view and leaves the original list unchanged.\r\n\r\n    Iterable&lt;String&gt; filtered = Iterables.filter(myarraylist, new Predicate&lt;String&gt;() {\r\n      public boolean apply(String element) {\r\n        return true of false based on criteria\r\n      }\r\n    });\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Iterables.html#filter(java.lang.Iterable,%20com.google.common.base.Predicate)","title":"Java Arraylist remove multiple element by index","body":"<p>Use <code>Iterator.remove()</code> to remove elements while iterating.</p>\n\n<pre><code>for (Iterator&lt;String&gt; iter = myarraylist.iterator(); iter.hasNext(); ) {\n  String element = iter.next();\n  if (element meets some criteria) {\n    iter.remove();\n  }\n}\n</code></pre>\n\n<p>Or use Google Guava's <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Iterables.html#filter(java.lang.Iterable,%20com.google.common.base.Predicate)\" rel=\"noreferrer\">filter</a> which returns a filtered view and leaves the original list unchanged.</p>\n\n<pre><code>Iterable&lt;String&gt; filtered = Iterables.filter(myarraylist, new Predicate&lt;String&gt;() {\n  public boolean apply(String element) {\n    return true of false based on criteria\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3280120,"reputation":13508,"user_id":2760919,"display_name":"bonnyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429116479,"creation_date":1429116479,"answer_id":29656122,"question_id":29656071,"body_markdown":"Not sure about why you want to do this by index, but you can try this (untested):\r\n\r\n    int dynamicSize = myarraylist.size();\r\n    for (int i = 0; i &lt; dynamicSize; i++) {\r\n            for (int j = 0; j &lt; stopwords.size(); j++) {\r\n                if (stopwords.get(j).equals(myarraylist.get(i))) {\r\n                    myarraylist.remove(i);\r\n                    id.remove(i);\r\n                    i--; // to look at the same index again!\r\n                    dynamicSize--;\r\n                }\r\n            }\r\n        }","title":"Java Arraylist remove multiple element by index","body":"<p>Not sure about why you want to do this by index, but you can try this (untested):</p>\n\n<pre><code>int dynamicSize = myarraylist.size();\nfor (int i = 0; i &lt; dynamicSize; i++) {\n        for (int j = 0; j &lt; stopwords.size(); j++) {\n            if (stopwords.get(j).equals(myarraylist.get(i))) {\n                myarraylist.remove(i);\n                id.remove(i);\n                i--; // to look at the same index again!\n                dynamicSize--;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2781278,"reputation":3728,"user_id":2393786,"display_name":"Stranger in the Q"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429116894,"creation_date":1429116894,"answer_id":29656243,"question_id":29656071,"body_markdown":"looks like as you want to remove one collection from another.. You should use \r\njava.util.Collection#removeAll method instead","title":"Java Arraylist remove multiple element by index","body":"<p>looks like as you want to remove one collection from another.. You should use \njava.util.Collection#removeAll method instead</p>\n"},{"tags":[],"owner":{"account_id":4443039,"reputation":3322,"user_id":3617127,"accept_rate":100,"display_name":"Panther"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429117040,"creation_date":1429117040,"answer_id":29656283,"question_id":29656071,"body_markdown":"while iterating list and you are removing the object use iterator.\r\n\r\n\r\n    Iterator myListItr = myarraylist.iterator();\r\n\t//Iterate on list \r\n    \twhile(myListItr .hasNext()) {\r\n       \t//if stop words is list of string then contains will work as it is. If its your custom object then override equals method.\r\n         \tif(stopwords.contains( myListItr.next())){\r\n\t\tmyListItr.remove();\r\n\t}\r\n\t}","title":"Java Arraylist remove multiple element by index","body":"<p>while iterating list and you are removing the object use iterator.</p>\n\n<pre><code>Iterator myListItr = myarraylist.iterator();\n//Iterate on list \n    while(myListItr .hasNext()) {\n    //if stop words is list of string then contains will work as it is. If its your custom object then override equals method.\n        if(stopwords.contains( myListItr.next())){\n    myListItr.remove();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1429552536,"creation_date":1429117123,"answer_id":29656309,"question_id":29656071,"body_markdown":"One thing you need to keep in mind is that when you use `ArrayLists` that they are meant to be versatile, moreso than `Arrays`. You can shorten an array by removing an entire index, add an index to it, and do wonderfulness with `ArrayLists`. \r\n\r\nThis is a common problem with people who do not realize, or remember, that when you remove a value, the `ArrayList` indexes (or whatever the correct plural is) readjust and the `ArrayList` shortens.\r\n\r\nWhen attempting to remove elements from an `ArrayList`, you should always start at the end of the `ArrayList`. \r\n\r\n    for(int x = arrayList.size() - 1; x &gt; 0; x--)\r\n    {\r\n        arrayList.remove(x);\r\n    }\r\n\r\nThis should provide you with the function that you are looking for. Take a look at the [ArrayList API][1] for other methods that may help you.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html","title":"Java Arraylist remove multiple element by index","body":"<p>One thing you need to keep in mind is that when you use <code>ArrayLists</code> that they are meant to be versatile, moreso than <code>Arrays</code>. You can shorten an array by removing an entire index, add an index to it, and do wonderfulness with <code>ArrayLists</code>. </p>\n\n<p>This is a common problem with people who do not realize, or remember, that when you remove a value, the <code>ArrayList</code> indexes (or whatever the correct plural is) readjust and the <code>ArrayList</code> shortens.</p>\n\n<p>When attempting to remove elements from an <code>ArrayList</code>, you should always start at the end of the <code>ArrayList</code>. </p>\n\n<pre><code>for(int x = arrayList.size() - 1; x &gt; 0; x--)\n{\n    arrayList.remove(x);\n}\n</code></pre>\n\n<p>This should provide you with the function that you are looking for. Take a look at the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\">ArrayList API</a> for other methods that may help you.</p>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441370725,"creation_date":1441370725,"answer_id":32398444,"question_id":29656071,"body_markdown":"**Using [ListIterator][1]**\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \t  // List : [&quot;java&quot;, &quot;.net&quot;, &quot;javascript&quot;, &quot;html&quot;, &quot;css&quot;, &quot;selenium&quot;, &quot;image&quot;, &quot;Spring&quot;]\r\n    \t\t\r\n    \tArrayList&lt;Integer&gt; indexes = new ArrayList&lt;Integer&gt;();\r\n    \t                                  // indexes : [5, 3, 2, 5, 0]\r\n    \t// Sort the Indexes in Order to remove from back words. and make Unique\r\n    \tTreeSet&lt;Integer&gt; uniqueSorted = new TreeSet&lt;Integer&gt;();\r\n    \t\tuniqueSorted.addAll(indexes);\r\n    \t\r\n    \t// To remove all elements from the ArrayList and make its size = 0\t\r\n    \t\tindexes.clear(); \r\n    \t    indexes.addAll(uniqueSorted);\r\n    \t\r\n    \t// Iterate form back, so that if size decreases also no problem.\r\n    \tListIterator&lt;Integer&gt; li = indexes.listIterator(indexes.size());\r\n    \r\n       // we can traverse a List in both the directions (forward and Backward).\r\n    \t\twhile(li.hasPrevious()) {\r\n    \t\t\tint position = li.previous();\r\n    \t\t    list.remove(position);\r\n    \t\t}\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/ListIterator.html","title":"Java Arraylist remove multiple element by index","body":"<p><strong>Using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ListIterator.html\" rel=\"nofollow\">ListIterator</a></strong></p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n      // List : [\"java\", \".net\", \"javascript\", \"html\", \"css\", \"selenium\", \"image\", \"Spring\"]\n\n    ArrayList&lt;Integer&gt; indexes = new ArrayList&lt;Integer&gt;();\n                                      // indexes : [5, 3, 2, 5, 0]\n    // Sort the Indexes in Order to remove from back words. and make Unique\n    TreeSet&lt;Integer&gt; uniqueSorted = new TreeSet&lt;Integer&gt;();\n        uniqueSorted.addAll(indexes);\n\n    // To remove all elements from the ArrayList and make its size = 0  \n        indexes.clear(); \n        indexes.addAll(uniqueSorted);\n\n    // Iterate form back, so that if size decreases also no problem.\n    ListIterator&lt;Integer&gt; li = indexes.listIterator(indexes.size());\n\n   // we can traverse a List in both the directions (forward and Backward).\n        while(li.hasPrevious()) {\n            int position = li.previous();\n            list.remove(position);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6113679,"reputation":379,"user_id":4769384,"display_name":"Vinayak Mestri"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1563172797,"creation_date":1563172797,"answer_id":57034391,"question_id":29656071,"body_markdown":"Ok this is very good problem to solve.\r\nLets start with an exmaple\r\n\r\nWe have `data = [5,2,7,3,9,34,63,23,85,23,94,7]`\r\n\r\nindexes to remove \r\n\r\n    int index[] = [5,2,7,9]\r\n\r\n**Note** : As you remove single item from array other elements get shifted by 1.\r\n\r\nIf we use ArrayList to remove elements of indexes then first you need to sort the indexes in descending.\r\n\r\ni.e indexes = [9,7,5,2]\r\nthen remove the element from index\r\n\r\n\r\n     \r\n    ArrayList&lt;Integer&gt; data = Arrays.asList(new Integer[] {5,2,7,3,9,34,63,23,85,23,94,7});\r\n    \r\n    for(int i=0;i&lt;index.length;i++){\r\n        data.remove(index[i]);\r\n        }\r\n      ","title":"Java Arraylist remove multiple element by index","body":"<p>Ok this is very good problem to solve.\nLets start with an exmaple</p>\n\n<p>We have <code>data = [5,2,7,3,9,34,63,23,85,23,94,7]</code></p>\n\n<p>indexes to remove </p>\n\n<pre><code>int index[] = [5,2,7,9]\n</code></pre>\n\n<p><strong>Note</strong> : As you remove single item from array other elements get shifted by 1.</p>\n\n<p>If we use ArrayList to remove elements of indexes then first you need to sort the indexes in descending.</p>\n\n<p>i.e indexes = [9,7,5,2]\nthen remove the element from index</p>\n\n<pre><code>ArrayList&lt;Integer&gt; data = Arrays.asList(new Integer[] {5,2,7,3,9,34,63,23,85,23,94,7});\n\nfor(int i=0;i&lt;index.length;i++){\n    data.remove(index[i]);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10037707,"reputation":649,"user_id":7421700,"display_name":"Evan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601551913,"creation_date":1601551913,"answer_id":64154514,"question_id":29656071,"body_markdown":"Here is short benchmark that roughly compares various methods to remove elements from array list. Removal by index is really a bad idea since array list shrinks its internal array on every operation. There will be no real difference for small arrays but if you have large chunk of indices to remove it will cost much.\r\n\r\n    Benchmark                                    Mode  Cnt   Score   Error  Units\r\n    CollectionsTest.filterToNewListViaLoop       avgt    2   4.425          ms/op\r\n    CollectionsTest.filterToNewListViaStream     avgt    2   5.410          ms/op\r\n    CollectionsTest.removeByIndexInReverseOrder  avgt    2  69.234          ms/op\r\n    CollectionsTest.removeByIterator             avgt    2   4.311          ms/op\r\n    CollectionsTest.removeViaRemoveAllMethod     avgt    2   4.145          ms/op\r\n\r\n**CODE:**\r\n\r\n    @BenchmarkMode(Mode.AverageTime)\r\n    @OutputTimeUnit(MILLISECONDS)\r\n    @State(Scope.Benchmark)\r\n    @Warmup(iterations = 2)\r\n    @Measurement(iterations = 2)\r\n    public class CollectionsTest {\r\n    \r\n        private static final Random RANDOM = new Random();\r\n        private static final int CONTAINER_SIZE = 100_000;\r\n        private static final int REMOVE_COUNT = 10_000;\r\n    \r\n        private List&lt;Foo&gt; _container;\r\n        private TreeSet&lt;Integer&gt; _indicesToRemove;\r\n        private HashSet&lt;Foo&gt; _elementsToRemove;\r\n    \r\n        public static void main(String[] args) throws RunnerException {\r\n            Options opt = new OptionsBuilder()\r\n                    .include(CollectionsTest.class.getSimpleName())\r\n                    .forks(1)\r\n                    .build();\r\n            new Runner(opt).run();\r\n        }\r\n    \r\n        @Setup(Level.Invocation)\r\n        public void setup() {\r\n            _container = generateContainerData(CONTAINER_SIZE);\r\n            _indicesToRemove = generateIndicesToRemove(REMOVE_COUNT, CONTAINER_SIZE);\r\n    \r\n            _elementsToRemove = new HashSet&lt;&gt;();\r\n            _indicesToRemove.stream().map(Foo::new).forEach(_elementsToRemove::add);\r\n        }\r\n    \r\n        @Benchmark\r\n        public void removeByIndexInReverseOrder() {\r\n            int iterations = 0;\r\n            for (int arrayIndex : _indicesToRemove.descendingSet()) {\r\n                _container.remove(arrayIndex);\r\n            }\r\n        }\r\n    \r\n        @Benchmark\r\n        public void removeByIterator() {\r\n            _container.removeIf(foo -&gt; _elementsToRemove.contains(foo));\r\n        }\r\n    \r\n        @Benchmark\r\n        public void filterToNewListViaStream() {\r\n            List&lt;Foo&gt; elementsToKeep = _container.stream()\r\n                    .filter(foo -&gt; !_indicesToRemove.contains(foo.id))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        @Benchmark\r\n        public void filterToNewListViaLoop() {\r\n            List&lt;Foo&gt; elementsToKeep = new ArrayList&lt;&gt;(CONTAINER_SIZE - REMOVE_COUNT);\r\n            for (Foo foo : _container) {\r\n                if (!_indicesToRemove.contains(foo.id)) elementsToKeep.add(foo);\r\n            }\r\n        }\r\n    \r\n        @Benchmark\r\n        public void removeViaRemoveAllMethod() {\r\n            _container.removeAll(_elementsToRemove);\r\n        }\r\n    \r\n        private List&lt;Foo&gt; generateContainerData(int size) {\r\n            List&lt;Foo&gt; data = new ArrayList&lt;&gt;();\r\n            for (int idx = 0; idx &lt; size; idx++) {\r\n                data.add(new Foo(idx));\r\n            }\r\n            return data;\r\n        }\r\n    \r\n        private TreeSet&lt;Integer&gt; generateIndicesToRemove(int count, int containerSize) {\r\n            TreeSet&lt;Integer&gt; data = new TreeSet&lt;&gt;();\r\n            ThreadLocalRandom.current().ints(0, containerSize)\r\n                    .distinct()\r\n                    .limit(count)\r\n                    .forEach(data::add);\r\n            return data;\r\n        }\r\n    \r\n        public static class Foo implements Comparable&lt;Foo&gt; {\r\n            private static final Comparator&lt;Foo&gt; COMPARATOR = Comparator.comparing(foo -&gt; foo.id);\r\n    \r\n            public int id;\r\n    \r\n            public Foo(int id) {\r\n                this.id = id;\r\n            }\r\n    \r\n            @Override\r\n            public int compareTo(Foo that) {\r\n                return COMPARATOR.compare(this, that);\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                final StringBuilder sb = new StringBuilder(&quot;Foo{&quot;);\r\n                sb.append(&quot;id=&quot;).append(id);\r\n                sb.append(&#39;}&#39;);\r\n                return sb.toString();\r\n            }\r\n        }\r\n    }","title":"Java Arraylist remove multiple element by index","body":"<p>Here is short benchmark that roughly compares various methods to remove elements from array list. Removal by index is really a bad idea since array list shrinks its internal array on every operation. There will be no real difference for small arrays but if you have large chunk of indices to remove it will cost much.</p>\n<pre><code>Benchmark                                    Mode  Cnt   Score   Error  Units\nCollectionsTest.filterToNewListViaLoop       avgt    2   4.425          ms/op\nCollectionsTest.filterToNewListViaStream     avgt    2   5.410          ms/op\nCollectionsTest.removeByIndexInReverseOrder  avgt    2  69.234          ms/op\nCollectionsTest.removeByIterator             avgt    2   4.311          ms/op\nCollectionsTest.removeViaRemoveAllMethod     avgt    2   4.145          ms/op\n</code></pre>\n<p><strong>CODE:</strong></p>\n<pre><code>@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(MILLISECONDS)\n@State(Scope.Benchmark)\n@Warmup(iterations = 2)\n@Measurement(iterations = 2)\npublic class CollectionsTest {\n\n    private static final Random RANDOM = new Random();\n    private static final int CONTAINER_SIZE = 100_000;\n    private static final int REMOVE_COUNT = 10_000;\n\n    private List&lt;Foo&gt; _container;\n    private TreeSet&lt;Integer&gt; _indicesToRemove;\n    private HashSet&lt;Foo&gt; _elementsToRemove;\n\n    public static void main(String[] args) throws RunnerException {\n        Options opt = new OptionsBuilder()\n                .include(CollectionsTest.class.getSimpleName())\n                .forks(1)\n                .build();\n        new Runner(opt).run();\n    }\n\n    @Setup(Level.Invocation)\n    public void setup() {\n        _container = generateContainerData(CONTAINER_SIZE);\n        _indicesToRemove = generateIndicesToRemove(REMOVE_COUNT, CONTAINER_SIZE);\n\n        _elementsToRemove = new HashSet&lt;&gt;();\n        _indicesToRemove.stream().map(Foo::new).forEach(_elementsToRemove::add);\n    }\n\n    @Benchmark\n    public void removeByIndexInReverseOrder() {\n        int iterations = 0;\n        for (int arrayIndex : _indicesToRemove.descendingSet()) {\n            _container.remove(arrayIndex);\n        }\n    }\n\n    @Benchmark\n    public void removeByIterator() {\n        _container.removeIf(foo -&gt; _elementsToRemove.contains(foo));\n    }\n\n    @Benchmark\n    public void filterToNewListViaStream() {\n        List&lt;Foo&gt; elementsToKeep = _container.stream()\n                .filter(foo -&gt; !_indicesToRemove.contains(foo.id))\n                .collect(Collectors.toList());\n    }\n\n    @Benchmark\n    public void filterToNewListViaLoop() {\n        List&lt;Foo&gt; elementsToKeep = new ArrayList&lt;&gt;(CONTAINER_SIZE - REMOVE_COUNT);\n        for (Foo foo : _container) {\n            if (!_indicesToRemove.contains(foo.id)) elementsToKeep.add(foo);\n        }\n    }\n\n    @Benchmark\n    public void removeViaRemoveAllMethod() {\n        _container.removeAll(_elementsToRemove);\n    }\n\n    private List&lt;Foo&gt; generateContainerData(int size) {\n        List&lt;Foo&gt; data = new ArrayList&lt;&gt;();\n        for (int idx = 0; idx &lt; size; idx++) {\n            data.add(new Foo(idx));\n        }\n        return data;\n    }\n\n    private TreeSet&lt;Integer&gt; generateIndicesToRemove(int count, int containerSize) {\n        TreeSet&lt;Integer&gt; data = new TreeSet&lt;&gt;();\n        ThreadLocalRandom.current().ints(0, containerSize)\n                .distinct()\n                .limit(count)\n                .forEach(data::add);\n        return data;\n    }\n\n    public static class Foo implements Comparable&lt;Foo&gt; {\n        private static final Comparator&lt;Foo&gt; COMPARATOR = Comparator.comparing(foo -&gt; foo.id);\n\n        public int id;\n\n        public Foo(int id) {\n            this.id = id;\n        }\n\n        @Override\n        public int compareTo(Foo that) {\n            return COMPARATOR.compare(this, that);\n        }\n\n        @Override\n        public String toString() {\n            final StringBuilder sb = new StringBuilder(&quot;Foo{&quot;);\n            sb.append(&quot;id=&quot;).append(id);\n            sb.append('}');\n            return sb.toString();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28664603,"reputation":1,"user_id":21948881,"display_name":"180254"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684873488,"creation_date":1684865435,"answer_id":76317564,"question_id":29656071,"body_markdown":"Assume you have the input as an `ArrayList` and a list of indices to be deleted. If the input `ArrayList` list does not contain nulls, then you can do it this way:\r\n\r\n    List&lt;?&gt; newList = new ArrayList&lt;&gt;(oldList);\r\n    for (int i : indicesToRemove) {\r\n      newList.set(i, null);\r\n    }\r\n    newList.removeIf(Objects::isNull);\r\n\r\nThis way does not require sorting the indexes to be removed and takes advantage of the fact that `ArrayList` has its own optimal `removeIf` implementation.","title":"Java Arraylist remove multiple element by index","body":"<p>Assume you have the input as an <code>ArrayList</code> and a list of indices to be deleted. If the input <code>ArrayList</code> list does not contain nulls, then you can do it this way:</p>\n<pre><code>List&lt;?&gt; newList = new ArrayList&lt;&gt;(oldList);\nfor (int i : indicesToRemove) {\n  newList.set(i, null);\n}\nnewList.removeIf(Objects::isNull);\n</code></pre>\n<p>This way does not require sorting the indexes to be removed and takes advantage of the fact that <code>ArrayList</code> has its own optimal <code>removeIf</code> implementation.</p>\n"}],"owner":{"account_id":6013754,"reputation":175,"user_id":4723326,"accept_rate":100,"display_name":"Lita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35044,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":29656309,"answer_count":9,"score":11,"last_activity_date":1684873488,"creation_date":1429116331,"question_id":29656071,"body_markdown":"Here is my code:\r\n\r\n    for (int i = 0; i &lt; myarraylist.size(); i++) {\r\n\t\t    for (int j = 0; j &lt; stopwords.size(); j++) {\r\n\t\t        if (stopwords.get(j).equals(myarraylist.get(i))) {\r\n\t\t        \tmyarraylist.remove(i);\r\n\t\t        \tid.remove(i);\r\n\t\t            i--; // to look at the same index again!\r\n\t\t        }\r\n\t\t    }\r\n\t\t}\r\n\r\nI have problem.. after element removed, all index always changed, the loop above so messy.\r\n\r\nTo illustrate: \r\nI have 54 data, but loop above become messy after element removed.. so only 50 data that checked.\r\n\r\nIs there another way or fix my code to **remove multiple element by index**??\r\nelement index is so important to me, to remove another arraylist that have the same index.","title":"Java Arraylist remove multiple element by index","body":"<p>Here is my code:</p>\n\n<pre><code>for (int i = 0; i &lt; myarraylist.size(); i++) {\n        for (int j = 0; j &lt; stopwords.size(); j++) {\n            if (stopwords.get(j).equals(myarraylist.get(i))) {\n                myarraylist.remove(i);\n                id.remove(i);\n                i--; // to look at the same index again!\n            }\n        }\n    }\n</code></pre>\n\n<p>I have problem.. after element removed, all index always changed, the loop above so messy.</p>\n\n<p>To illustrate: \nI have 54 data, but loop above become messy after element removed.. so only 50 data that checked.</p>\n\n<p>Is there another way or fix my code to <strong>remove multiple element by index</strong>??\nelement index is so important to me, to remove another arraylist that have the same index.</p>\n"},{"tags":["java","xml","unit-testing","powermock"],"answers":[{"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684872258,"creation_date":1684872258,"answer_id":76318284,"question_id":76271199,"body_markdown":"Your code havily enploys *static access* and thus has *tight coupling* with various classes from the java runtime and 3rd party libs. Your difficulties to create mocks is a clear sign of that bad design and the use of PowerMock is a surrender to it. \r\n\r\nIf you disagree stop reading here.\r\n\r\n----\r\n\r\nThe way to go would be to separate the *instantiation of dependencies* - the objects you want to mock - from your business logic and **inject** them into your *code under test* (cut). The easiest approach is to wrap the static assess in *factory classes*. This classes will be *too simple to fail* so they don&#39;t need unittests of their own.\r\n\r\nIn case the static method called does not have parameters calculatest within your cut you can directly mock its outcome using any other mocking framework beside PowerMock.\r\n\r\nIn case the static method called does have parameters calculated within your cut  you need to create an mock for this factory and inject it. Of cause you need to configure the factory mock to return a mock of the final dependency...\r\n\r\n","title":"Unit Test in Java, using Powermock, how to mock/spy xml parser class private method","body":"<p>Your code havily enploys <em>static access</em> and thus has <em>tight coupling</em> with various classes from the java runtime and 3rd party libs. Your difficulties to create mocks is a clear sign of that bad design and the use of PowerMock is a surrender to it.</p>\n<p>If you disagree stop reading here.</p>\n<hr />\n<p>The way to go would be to separate the <em>instantiation of dependencies</em> - the objects you want to mock - from your business logic and <strong>inject</strong> them into your <em>code under test</em> (cut). The easiest approach is to wrap the static assess in <em>factory classes</em>. This classes will be <em>too simple to fail</em> so they don't need unittests of their own.</p>\n<p>In case the static method called does not have parameters calculatest within your cut you can directly mock its outcome using any other mocking framework beside PowerMock.</p>\n<p>In case the static method called does have parameters calculated within your cut  you need to create an mock for this factory and inject it. Of cause you need to configure the factory mock to return a mock of the final dependency...</p>\n"}],"owner":{"account_id":4602769,"reputation":27,"user_id":3733050,"display_name":"Melih"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684872258,"creation_date":1684320013,"question_id":76271199,"body_markdown":"I would like to write unit test a function that calls another private function. This private function is responsible for reading an XML file from disk. However, I want to avoid dependencies on a real file during the unit test. Instead, I would like to use XML content stored in a String variable.\r\n\r\nDespite successfully mocking the ScenarioParser, I am encountering an error due to the inner variables DocumentBuilder and DocumentFactory. Therefore, I was considering extending and modifying the unit test accordingly to address this issue.\r\n\r\nI am using PowerMockito &amp; JUnit4.\r\n\r\nClass which is being tested:\r\n\r\n\r\n```public class ScenarioParser {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(ScenarioParser.class);\r\n    \r\n    private final String scenarioFile;\r\n    \r\n    /**\r\n     * Constructs a ScenarioParser with the specified scenario file path.\r\n     *\r\n     * @param scenarioFile the path to the scenario XML file\r\n     */\r\n    public ScenarioParser(String scenarioFile) {\r\n        LOGGER.debug(&quot;ScenarioParser Ctor&quot;);\r\n        this.scenarioFile = scenarioFile;\r\n    }\r\n    \r\n    /**\r\n     * Parses the scenario XML file and returns a list of Scenario objects.\r\n     *\r\n     * @return the list of parsed Scenario objects\r\n     */\r\n    public List&lt;Scenario&gt; parse() {\r\n        List&lt;Scenario&gt; scenarios = new ArrayList&lt;&gt;();\r\n    \r\n        try(InputStream inputStream = getResourceAsStream(scenarioFile))  \r\n        {\r\n            LOGGER.trace(&quot;getResourceAsStream is working for {0}&quot;, scenarioFile);\r\n            if (inputStream != null) {\r\n                Document document = parseDocument(inputStream);\r\n                if (document != null) {\r\n                    scenarios = parseScenarios(document);\r\n                }\r\n            } else {\r\n                LOGGER.error(&quot;Scenario XML file {} is not found&quot;, scenarioFile);\r\n            }\r\n        } catch (IOException e) {\r\n            LOGGER.error(&quot;Failed to read the scenario XML file: {}&quot;, e.getMessage());\r\n        }\r\n    \r\n        return scenarios;\r\n    }\r\n    \r\n    /**\r\n     * Retrieves the input stream for the scenario XML file.\r\n     *\r\n     * @param scenarioFile the path to the scenario XML file\r\n     * @return the input stream for the scenario XML file\r\n     */\r\n    private InputStream getResourceAsStream(String resourcePath) {\r\n        return Thread.currentThread().getContextClassLoader().getResourceAsStream(resourcePath);\r\n    }\r\n    \r\n    /**\r\n     * Parses the XML document from the input stream.\r\n     *\r\n     * @param inputStream the input stream of the XML file\r\n     * @return the parsed Document object\r\n     */\r\n    private Document parseDocument(InputStream inputStream) {\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n        try {\r\n            DocumentBuilder builder = factory.newDocumentBuilder();\r\n            return builder.parse(inputStream);\r\n        } catch (ParserConfigurationException | SAXException | IOException e) {\r\n            LOGGER.error(&quot;Failed to parse the scenario XML file: {}&quot;, e.getMessage());\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    /**\r\n     * Parses the Document and returns a list of Scenario objects.\r\n     *\r\n     * @param document the scenario element\r\n     * @return the list of parsed Scenario objects\r\n     */\r\n    private List&lt;Scenario&gt; parseScenarios(Document document) {\r\n        List&lt;Scenario&gt; scenarios = new ArrayList&lt;&gt;();\r\n        Element rootElement = document.getDocumentElement();\r\n        NodeList scenarioNodes = rootElement.getElementsByTagName(&quot;scenario&quot;);\r\n    \r\n        for (int i = 0; i &lt; scenarioNodes.getLength(); i++) {\r\n            Node scenarioNode = scenarioNodes.item(i);\r\n            if (scenarioNode.getNodeType() == Node.ELEMENT_NODE) {\r\n                Element scenarioElement = (Element) scenarioNode;\r\n                String name = scenarioElement.getAttribute(&quot;name&quot;);\r\n                //...\r\n            }\r\n        }\r\n    \r\n        return scenarios;\r\n    }\r\n    \r\n    /**\r\n     * Parses the step elements within a scenario element and creates ScenarioStep\r\n     * objects.\r\n     *\r\n     * @param scenarioElement the scenario element\r\n     * @return the list of parsed ScenarioStep objects\r\n     */\r\n    private List&lt;ScenarioStep&gt; parseScenarioSteps(Element scenarioElement) {\r\n        List&lt;ScenarioStep&gt; steps = new ArrayList&lt;&gt;();\r\n        NodeList stepNodes = scenarioElement.getElementsByTagName(&quot;step&quot;);\r\n    \r\n        for (int j = 0; j &lt; stepNodes.getLength(); j++) {\r\n            Node stepNode = stepNodes.item(j);\r\n    \r\n            if (stepNode.getNodeType() == Node.ELEMENT_NODE) {\r\n                Element stepElement = (Element) stepNode;\r\n                //..\r\n                steps.add(step);\r\n            }\r\n        }\r\n    \r\n        return steps;\r\n    }\r\n    \r\n    /**\r\n     * Parses the parameter elements within a step element and creates a map of\r\n     * parameter key-value pairs.\r\n     *\r\n     * @param stepElement the step element\r\n     * @return the map of parsed parameter key-value pairs\r\n     */\r\n    private Map&lt;String, String&gt; parseStepParameters(Element stepElement) {\r\n        Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\r\n        NodeList parameterNodes = stepElement.getElementsByTagName(&quot;parameter&quot;);\r\n    \r\n        for (int k = 0; k &lt; parameterNodes.getLength(); k++) {\r\n            Node parameterNode = parameterNodes.item(k);\r\n    \r\n            if (parameterNode.getNodeType() == Node.ELEMENT_NODE) {\r\n                Element parameterElement = (Element) parameterNode;\r\n                String key = parameterElement.getAttribute(&quot;key&quot;);\r\n                String value = parameterElement.getAttribute(&quot;value&quot;);\r\n                parameters.put(key, value);\r\n            }\r\n        }\r\n    \r\n        return parameters;\r\n     } \r\n}\r\n```\r\n\r\nFollowing is my test class:\r\n\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PowerMockIgnore({ &quot;com.sun.org.apache.xerces.&quot;, &quot;javax.xml.&quot;, &quot;org.xml.&quot;,   &quot;javax.management.&quot;})@PrepareForTest({ ScenarioParser.class, DocumentBuilderFactory.class, DocumentBuilder.class })public class ScenarioParserTest {\r\n\r\n    @Mock\r\n    private InputStream mockInputStream;\r\n    \r\n    @Spy\r\n    private ScenarioParser scenarioParser = new ScenarioParser(&quot;sample.xml&quot;); \r\n    \r\n    @Before\r\n    public void setup() throws Exception {\r\n        MockitoAnnotations.initMocks(this);\r\n       \r\n    }\r\n    \r\n    @Test\r\n    public void testParse_ValidInput_ReturnsScenarios() throws Exception {\r\n        // Mock the input stream with a sample XML content\r\n        String xmlContent = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot; +\r\n                &quot;&lt;scenarios&gt;\\n&quot; +\r\n                &quot;     &lt;scenario name=\\&quot;Scenario 1\\&quot; duration=\\&quot;10\\&quot; interval=\\&quot;2\\&quot;&gt;\\n&quot; +\r\n                &quot;       &lt;step action=\\&quot;Action 1\\&quot;&gt;\\n&quot; +\r\n                &quot;            &lt;parameter key=\\&quot;Param1\\&quot; value=\\&quot;Value1\\&quot; /&gt;\\n&quot; +\r\n                &quot;            &lt;parameter key=\\&quot;Param2\\&quot; value=\\&quot;Value2\\&quot; /&gt;\\n&quot; +\r\n                &quot;        &lt;/step&gt;\\n&quot; +\r\n                &quot;        &lt;step action=\\&quot;Action 2\\&quot;&gt;\\n&quot; +\r\n                &quot;            &lt;parameter key=\\&quot;Param3\\&quot; value=\\&quot;Value3\\&quot; /&gt;\\n&quot; +\r\n                &quot;        &lt;/step&gt;\\n&quot; +\r\n                &quot;    &lt;/scenario&gt;\\n&quot; +\r\n                &quot;    &lt;scenario name=\\&quot;Scenario 2\\&quot; duration=\\&quot;20\\&quot; interval=\\&quot;3\\&quot;&gt;\\n&quot; +\r\n                &quot;        &lt;step action=\\&quot;Action 3\\&quot;&gt;\\n&quot; +\r\n                &quot;            &lt;parameter key=\\&quot;Param4\\&quot; value=\\&quot;Value4\\&quot; /&gt;\\n&quot; +\r\n                &quot;            &lt;parameter key=\\&quot;Param5\\&quot; value=\\&quot;Value5\\&quot; /&gt;\\n&quot; +\r\n                &quot;            &lt;parameter key=\\&quot;Param6\\&quot; value=\\&quot;Value6\\&quot; /&gt;\\n&quot; +\r\n                &quot;        &lt;/step&gt;\\n&quot; +\r\n                &quot;        &lt;step action=\\&quot;Action 4\\&quot; /&gt;\\n&quot; +\r\n                &quot;    &lt;/scenario&gt;\\n&quot; +\r\n                &quot;    &lt;scenario name=\\&quot;Scenario 3\\&quot; duration=\\&quot;30\\&quot; interval=\\&quot;4\\&quot;&gt;\\n&quot; +\r\n                &quot;        &lt;step action=\\&quot;Action 5\\&quot;&gt;\\n&quot; +\r\n                &quot;            &lt;parameter key=\\&quot;Param7\\&quot; value=\\&quot;Value7\\&quot; /&gt;\\n&quot; +\r\n                &quot;        &lt;/step&gt;\\n&quot; +\r\n                &quot;    &lt;/scenario&gt;\\n&quot; +\r\n                &quot;&lt;/scenarios&gt;&quot;;\r\n    \r\n        // Mock DocumentBuilderFactory and DocumentBuilder\r\n        //DocumentBuilderFactory documentBuilderFactoryMock =    \r\n        PowerMockito.mock(DocumentBuilderFactory.class);\r\n        //DocumentBuilder documentBuilderMock = PowerMockito.mock(DocumentBuilder.class); \r\n       \r\n        //PowerMockito.whenNew(\r\n        //DocumentBuilderFactory.class).withNoArguments().thenReturn(documentBuilderF\r\n        //actoryMock);\r\n    \r\n        //PowerMockito.when(\r\n        //documentBuilderFactoryMock.newDocumentBuilder()).thenReturn(documentBuilderMock);\r\n    \r\n        // Mock Document\r\n        //Document documentMock = PowerMockito.mock(Document.class);\r\n        //PowerMockito.\r\n        //when(documentBuilderMock.parse(Mockito.any(InputStream.class))).\r\n        //thenReturn(documentMock);\r\n        // Mock the scenarioElement, scenarioNode, and other necessary objects for testing\r\n    \r\n        // Mock DocumentBuilderFactory and DocumentBuilder\r\n        when(mockInputStream.read(Mockito.any(byte[].class), Mockito.anyInt(), Mockito.anyInt()))\r\n                .thenAnswer(invocation -&gt; {\r\n                    byte[] buffer = invocation.getArgument(0);\r\n                    byte[] contentBytes = xmlContent.getBytes();\r\n                    int len = Math.min(buffer.length, contentBytes.length);\r\n                    System.arraycopy(contentBytes, 0, buffer, 0, len);\r\n                    return len;\r\n                });\r\n    \r\n        // Create the scenario parser and parse the scenarios\r\n        PowerMockito.when(scenarioParser, PowerMockito.method(ScenarioParser.class,     \r\n        &quot;getResourceAsStream&quot;, String.class)).withArguments(Mockito.anyString())\r\n                .thenReturn(mockInputStream);\r\n    \r\n                \r\n        //when(scenarioParser, &quot;getResourceAsStream&quot;,    \r\n        ArgumentMatchers.anyString()).thenReturn(mockInputStream);\r\n        List&lt;Scenario&gt; scenarios = scenarioParser.parse();\r\n    \r\n        // Verify the parsed scenarios\r\n        assertEquals(2, scenarios.size());\r\n    \r\n        Scenario scenario1 = scenarios.get(0);\r\n        assertEquals(&quot;Scenario 1&quot;, scenario1.getName());\r\n        assertEquals(10, scenario1.getDuration());\r\n        assertEquals(2, scenario1.getInterval());\r\n    \r\n        List&lt;ScenarioStep&gt; steps1 = scenario1.getSteps();\r\n        assertEquals(2, steps1.size());\r\n        assertEquals(&quot;Action 1&quot;, steps1.get(0).getAction());\r\n        assertEquals(&quot;Value1&quot;, steps1.get(1).getParameter(&quot;Param1&quot;));\r\n    \r\n        Scenario scenario2 = scenarios.get(1);\r\n        assertEquals(&quot;Scenario 2&quot;, scenario2.getName());\r\n        assertEquals(20, scenario2.getDuration());\r\n        assertEquals(3, scenario2.getInterval());\r\n    \r\n        List&lt;ScenarioStep&gt; steps2 = scenario2.getSteps();\r\n        assertEquals(3, steps2.size());\r\n        assertEquals(&quot;Action 3&quot;, steps2.get(0).getAction());\r\n        assertEquals(&quot;Value4&quot;, steps2.get(1).getParameter(&quot;Param4&quot;));\r\n        assertEquals(&quot;Value5&quot;, steps2.get(2).getParameter(&quot;Param5&quot;));\r\n    }\r\n\r\n}\r\n```\r\n\r\nand this is the pom.xml file partial\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;...&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;&lt;version&gt;2.22.1&lt;/version&gt;&lt;configuration&gt;&lt;argLine&gt;--illegal-access=permit--add-opens java.base/java.lang=ALL-UNNAMED--add-opens java.base/java.util=ALL-UNNAMED--add-opens jdk.management/com.sun.management.internal=ALL-UNNAMED -Dillegal-access=permit\r\n        --add-exports org.junit.platform.commons/org.junit.platform.commons.util=ALL-UNNAMED\r\n        --add-exports org.junit.platform.commons/org.junit.platform.commons.logging=ALL-UNNAMED\r\n        &lt;/argLine&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n    ...\r\n```\r\n\r\n\r\nWhen executing the test without or with the Maven goal `-Dmaven.surefire.debug test`, I encounter the following error:\r\n\r\n&gt; java.lang.VerifyError:Bad type on operand stackException\r\n&gt; Details:Location:javax/xml/parsers/DocumentBuilderFactory.newDefaultNSInstance()Ljavax/xml/parsers/DocumentBuilderFactory;\r\n&gt; @119: invokestaticReason:Type\r\n&gt; &#39;com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderFactoryImpl&#39;\r\n&gt; (current frame, stack[0]) is not assignable to\r\n&gt; &#39;javax/xml/parsers/DocumentBuilderFactory&#39;...\r\n\r\n\r\nHow to fix this issue!","title":"Unit Test in Java, using Powermock, how to mock/spy xml parser class private method","body":"<p>I would like to write unit test a function that calls another private function. This private function is responsible for reading an XML file from disk. However, I want to avoid dependencies on a real file during the unit test. Instead, I would like to use XML content stored in a String variable.</p>\n<p>Despite successfully mocking the ScenarioParser, I am encountering an error due to the inner variables DocumentBuilder and DocumentFactory. Therefore, I was considering extending and modifying the unit test accordingly to address this issue.</p>\n<p>I am using PowerMockito &amp; JUnit4.</p>\n<p>Class which is being tested:</p>\n<pre><code>\n    private static final Logger LOGGER = LoggerFactory.getLogger(ScenarioParser.class);\n    \n    private final String scenarioFile;\n    \n    /**\n     * Constructs a ScenarioParser with the specified scenario file path.\n     *\n     * @param scenarioFile the path to the scenario XML file\n     */\n    public ScenarioParser(String scenarioFile) {\n        LOGGER.debug(&quot;ScenarioParser Ctor&quot;);\n        this.scenarioFile = scenarioFile;\n    }\n    \n    /**\n     * Parses the scenario XML file and returns a list of Scenario objects.\n     *\n     * @return the list of parsed Scenario objects\n     */\n    public List&lt;Scenario&gt; parse() {\n        List&lt;Scenario&gt; scenarios = new ArrayList&lt;&gt;();\n    \n        try(InputStream inputStream = getResourceAsStream(scenarioFile))  \n        {\n            LOGGER.trace(&quot;getResourceAsStream is working for {0}&quot;, scenarioFile);\n            if (inputStream != null) {\n                Document document = parseDocument(inputStream);\n                if (document != null) {\n                    scenarios = parseScenarios(document);\n                }\n            } else {\n                LOGGER.error(&quot;Scenario XML file {} is not found&quot;, scenarioFile);\n            }\n        } catch (IOException e) {\n            LOGGER.error(&quot;Failed to read the scenario XML file: {}&quot;, e.getMessage());\n        }\n    \n        return scenarios;\n    }\n    \n    /**\n     * Retrieves the input stream for the scenario XML file.\n     *\n     * @param scenarioFile the path to the scenario XML file\n     * @return the input stream for the scenario XML file\n     */\n    private InputStream getResourceAsStream(String resourcePath) {\n        return Thread.currentThread().getContextClassLoader().getResourceAsStream(resourcePath);\n    }\n    \n    /**\n     * Parses the XML document from the input stream.\n     *\n     * @param inputStream the input stream of the XML file\n     * @return the parsed Document object\n     */\n    private Document parseDocument(InputStream inputStream) {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        try {\n            DocumentBuilder builder = factory.newDocumentBuilder();\n            return builder.parse(inputStream);\n        } catch (ParserConfigurationException | SAXException | IOException e) {\n            LOGGER.error(&quot;Failed to parse the scenario XML file: {}&quot;, e.getMessage());\n        }\n        return null;\n    }\n    \n    /**\n     * Parses the Document and returns a list of Scenario objects.\n     *\n     * @param document the scenario element\n     * @return the list of parsed Scenario objects\n     */\n    private List&lt;Scenario&gt; parseScenarios(Document document) {\n        List&lt;Scenario&gt; scenarios = new ArrayList&lt;&gt;();\n        Element rootElement = document.getDocumentElement();\n        NodeList scenarioNodes = rootElement.getElementsByTagName(&quot;scenario&quot;);\n    \n        for (int i = 0; i &lt; scenarioNodes.getLength(); i++) {\n            Node scenarioNode = scenarioNodes.item(i);\n            if (scenarioNode.getNodeType() == Node.ELEMENT_NODE) {\n                Element scenarioElement = (Element) scenarioNode;\n                String name = scenarioElement.getAttribute(&quot;name&quot;);\n                //...\n            }\n        }\n    \n        return scenarios;\n    }\n    \n    /**\n     * Parses the step elements within a scenario element and creates ScenarioStep\n     * objects.\n     *\n     * @param scenarioElement the scenario element\n     * @return the list of parsed ScenarioStep objects\n     */\n    private List&lt;ScenarioStep&gt; parseScenarioSteps(Element scenarioElement) {\n        List&lt;ScenarioStep&gt; steps = new ArrayList&lt;&gt;();\n        NodeList stepNodes = scenarioElement.getElementsByTagName(&quot;step&quot;);\n    \n        for (int j = 0; j &lt; stepNodes.getLength(); j++) {\n            Node stepNode = stepNodes.item(j);\n    \n            if (stepNode.getNodeType() == Node.ELEMENT_NODE) {\n                Element stepElement = (Element) stepNode;\n                //..\n                steps.add(step);\n            }\n        }\n    \n        return steps;\n    }\n    \n    /**\n     * Parses the parameter elements within a step element and creates a map of\n     * parameter key-value pairs.\n     *\n     * @param stepElement the step element\n     * @return the map of parsed parameter key-value pairs\n     */\n    private Map&lt;String, String&gt; parseStepParameters(Element stepElement) {\n        Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\n        NodeList parameterNodes = stepElement.getElementsByTagName(&quot;parameter&quot;);\n    \n        for (int k = 0; k &lt; parameterNodes.getLength(); k++) {\n            Node parameterNode = parameterNodes.item(k);\n    \n            if (parameterNode.getNodeType() == Node.ELEMENT_NODE) {\n                Element parameterElement = (Element) parameterNode;\n                String key = parameterElement.getAttribute(&quot;key&quot;);\n                String value = parameterElement.getAttribute(&quot;value&quot;);\n                parameters.put(key, value);\n            }\n        }\n    \n        return parameters;\n     } \n}\n</code></pre>\n<p>Following is my test class:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PowerMockIgnore({ &quot;com.sun.org.apache.xerces.&quot;, &quot;javax.xml.&quot;, &quot;org.xml.&quot;,   &quot;javax.management.&quot;})@PrepareForTest({ ScenarioParser.class, DocumentBuilderFactory.class, DocumentBuilder.class })public class ScenarioParserTest {\n\n    @Mock\n    private InputStream mockInputStream;\n    \n    @Spy\n    private ScenarioParser scenarioParser = new ScenarioParser(&quot;sample.xml&quot;); \n    \n    @Before\n    public void setup() throws Exception {\n        MockitoAnnotations.initMocks(this);\n       \n    }\n    \n    @Test\n    public void testParse_ValidInput_ReturnsScenarios() throws Exception {\n        // Mock the input stream with a sample XML content\n        String xmlContent = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot; +\n                &quot;&lt;scenarios&gt;\\n&quot; +\n                &quot;     &lt;scenario name=\\&quot;Scenario 1\\&quot; duration=\\&quot;10\\&quot; interval=\\&quot;2\\&quot;&gt;\\n&quot; +\n                &quot;       &lt;step action=\\&quot;Action 1\\&quot;&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param1\\&quot; value=\\&quot;Value1\\&quot; /&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param2\\&quot; value=\\&quot;Value2\\&quot; /&gt;\\n&quot; +\n                &quot;        &lt;/step&gt;\\n&quot; +\n                &quot;        &lt;step action=\\&quot;Action 2\\&quot;&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param3\\&quot; value=\\&quot;Value3\\&quot; /&gt;\\n&quot; +\n                &quot;        &lt;/step&gt;\\n&quot; +\n                &quot;    &lt;/scenario&gt;\\n&quot; +\n                &quot;    &lt;scenario name=\\&quot;Scenario 2\\&quot; duration=\\&quot;20\\&quot; interval=\\&quot;3\\&quot;&gt;\\n&quot; +\n                &quot;        &lt;step action=\\&quot;Action 3\\&quot;&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param4\\&quot; value=\\&quot;Value4\\&quot; /&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param5\\&quot; value=\\&quot;Value5\\&quot; /&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param6\\&quot; value=\\&quot;Value6\\&quot; /&gt;\\n&quot; +\n                &quot;        &lt;/step&gt;\\n&quot; +\n                &quot;        &lt;step action=\\&quot;Action 4\\&quot; /&gt;\\n&quot; +\n                &quot;    &lt;/scenario&gt;\\n&quot; +\n                &quot;    &lt;scenario name=\\&quot;Scenario 3\\&quot; duration=\\&quot;30\\&quot; interval=\\&quot;4\\&quot;&gt;\\n&quot; +\n                &quot;        &lt;step action=\\&quot;Action 5\\&quot;&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param7\\&quot; value=\\&quot;Value7\\&quot; /&gt;\\n&quot; +\n                &quot;        &lt;/step&gt;\\n&quot; +\n                &quot;    &lt;/scenario&gt;\\n&quot; +\n                &quot;&lt;/scenarios&gt;&quot;;\n    \n        // Mock DocumentBuilderFactory and DocumentBuilder\n        //DocumentBuilderFactory documentBuilderFactoryMock =    \n        PowerMockito.mock(DocumentBuilderFactory.class);\n        //DocumentBuilder documentBuilderMock = PowerMockito.mock(DocumentBuilder.class); \n       \n        //PowerMockito.whenNew(\n        //DocumentBuilderFactory.class).withNoArguments().thenReturn(documentBuilderF\n        //actoryMock);\n    \n        //PowerMockito.when(\n        //documentBuilderFactoryMock.newDocumentBuilder()).thenReturn(documentBuilderMock);\n    \n        // Mock Document\n        //Document documentMock = PowerMockito.mock(Document.class);\n        //PowerMockito.\n        //when(documentBuilderMock.parse(Mockito.any(InputStream.class))).\n        //thenReturn(documentMock);\n        // Mock the scenarioElement, scenarioNode, and other necessary objects for testing\n    \n        // Mock DocumentBuilderFactory and DocumentBuilder\n        when(mockInputStream.read(Mockito.any(byte[].class), Mockito.anyInt(), Mockito.anyInt()))\n                .thenAnswer(invocation -&gt; {\n                    byte[] buffer = invocation.getArgument(0);\n                    byte[] contentBytes = xmlContent.getBytes();\n                    int len = Math.min(buffer.length, contentBytes.length);\n                    System.arraycopy(contentBytes, 0, buffer, 0, len);\n                    return len;\n                });\n    \n        // Create the scenario parser and parse the scenarios\n        PowerMockito.when(scenarioParser, PowerMockito.method(ScenarioParser.class,     \n        &quot;getResourceAsStream&quot;, String.class)).withArguments(Mockito.anyString())\n                .thenReturn(mockInputStream);\n    \n                \n        //when(scenarioParser, &quot;getResourceAsStream&quot;,    \n        ArgumentMatchers.anyString()).thenReturn(mockInputStream);\n        List&lt;Scenario&gt; scenarios = scenarioParser.parse();\n    \n        // Verify the parsed scenarios\n        assertEquals(2, scenarios.size());\n    \n        Scenario scenario1 = scenarios.get(0);\n        assertEquals(&quot;Scenario 1&quot;, scenario1.getName());\n        assertEquals(10, scenario1.getDuration());\n        assertEquals(2, scenario1.getInterval());\n    \n        List&lt;ScenarioStep&gt; steps1 = scenario1.getSteps();\n        assertEquals(2, steps1.size());\n        assertEquals(&quot;Action 1&quot;, steps1.get(0).getAction());\n        assertEquals(&quot;Value1&quot;, steps1.get(1).getParameter(&quot;Param1&quot;));\n    \n        Scenario scenario2 = scenarios.get(1);\n        assertEquals(&quot;Scenario 2&quot;, scenario2.getName());\n        assertEquals(20, scenario2.getDuration());\n        assertEquals(3, scenario2.getInterval());\n    \n        List&lt;ScenarioStep&gt; steps2 = scenario2.getSteps();\n        assertEquals(3, steps2.size());\n        assertEquals(&quot;Action 3&quot;, steps2.get(0).getAction());\n        assertEquals(&quot;Value4&quot;, steps2.get(1).getParameter(&quot;Param4&quot;));\n        assertEquals(&quot;Value5&quot;, steps2.get(2).getParameter(&quot;Param5&quot;));\n    }\n\n}\n</code></pre>\n<p>and this is the pom.xml file partial</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;...&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;&lt;version&gt;2.22.1&lt;/version&gt;&lt;configuration&gt;&lt;argLine&gt;--illegal-access=permit--add-opens java.base/java.lang=ALL-UNNAMED--add-opens java.base/java.util=ALL-UNNAMED--add-opens jdk.management/com.sun.management.internal=ALL-UNNAMED -Dillegal-access=permit\n        --add-exports org.junit.platform.commons/org.junit.platform.commons.util=ALL-UNNAMED\n        --add-exports org.junit.platform.commons/org.junit.platform.commons.logging=ALL-UNNAMED\n        &lt;/argLine&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    ...\n</code></pre>\n<p>When executing the test without or with the Maven goal <code>-Dmaven.surefire.debug test</code>, I encounter the following error:</p>\n<blockquote>\n<p>java.lang.VerifyError:Bad type on operand stackException\nDetails:Location:javax/xml/parsers/DocumentBuilderFactory.newDefaultNSInstance()Ljavax/xml/parsers/DocumentBuilderFactory;\n@119: invokestaticReason:Type\n'com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderFactoryImpl'\n(current frame, stack[0]) is not assignable to\n'javax/xml/parsers/DocumentBuilderFactory'...</p>\n</blockquote>\n<p>How to fix this issue!</p>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":14722005,"reputation":3527,"user_id":10632291,"display_name":"Sandeepa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1549896717,"creation_date":1549881650,"answer_id":54628694,"question_id":54628527,"body_markdown":"Use this in your test class,\r\n\r\n    @Mock\r\n    private MtsConfFactoryWrapper mtsConfFactoryWrapper;\r\n\r\ninstead of\r\n\r\n    @Mock\r\n    private MtsConfFactoryWrapper mtsConfFactoryWrapper = new MtsConfFactoryWrapper();\r\n\r\nYou shouldn&#39;t assigned a new object to `mtsConfFactoryWrapper` variable. A mock object will be assigned to `mtsConfFactoryWrapper` variable when `MockitoAnnotations.initMocks(this);` get called.\r\n\r\nIn your method you are always creating a new object like below,\r\n\r\n`MtsConfFactoryWrapper mtsConfFactoryWrapper = new MtsConfFactoryWrapper();`\r\n\r\nSo even you mocked the object in your test, when the method get called, it will again create a new object. Try to inject that to the class instead of creating a new instance inside your method.\r\n\r\nYour class should look like this,\r\n\r\n    public class BatTrafficManagerStatsHelper {\r\n    \r\n        private MtsConfFactoryWrapper mtsConfFactoryWrapper;\r\n        \r\n        public BatTrafficManagerStatsHelper(MtsConfFactoryWrapper mtsConfFactoryWrapper) {\r\n            this.mtsConfFactoryWrapper = mtsConfFactoryWrapper;\r\n        }\r\n        \r\n        // other stuffs\r\n    }\r\n\r\nIn your test class when you create the object of `BatTrafficManagerStatsHelper`, pass your mock object to the constructor as below,\r\n\r\n    public class BatTrafficManagerStatsHelperTest {\r\n        @Test\r\n        public void testGetBtmString() throws Exception {\r\n            //your code\r\n    \r\n            BatTrafficManagerStatsHelper btmStatsHelper = new BatTrafficManagerStatsHelper(passYourMockedObjectHere);\r\n        }\r\n    }","title":"mocked method not being invoked","body":"<p>Use this in your test class,</p>\n\n<pre><code>@Mock\nprivate MtsConfFactoryWrapper mtsConfFactoryWrapper;\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>@Mock\nprivate MtsConfFactoryWrapper mtsConfFactoryWrapper = new MtsConfFactoryWrapper();\n</code></pre>\n\n<p>You shouldn't assigned a new object to <code>mtsConfFactoryWrapper</code> variable. A mock object will be assigned to <code>mtsConfFactoryWrapper</code> variable when <code>MockitoAnnotations.initMocks(this);</code> get called.</p>\n\n<p>In your method you are always creating a new object like below,</p>\n\n<p><code>MtsConfFactoryWrapper mtsConfFactoryWrapper = new MtsConfFactoryWrapper();</code></p>\n\n<p>So even you mocked the object in your test, when the method get called, it will again create a new object. Try to inject that to the class instead of creating a new instance inside your method.</p>\n\n<p>Your class should look like this,</p>\n\n<pre><code>public class BatTrafficManagerStatsHelper {\n\n    private MtsConfFactoryWrapper mtsConfFactoryWrapper;\n\n    public BatTrafficManagerStatsHelper(MtsConfFactoryWrapper mtsConfFactoryWrapper) {\n        this.mtsConfFactoryWrapper = mtsConfFactoryWrapper;\n    }\n\n    // other stuffs\n}\n</code></pre>\n\n<p>In your test class when you create the object of <code>BatTrafficManagerStatsHelper</code>, pass your mock object to the constructor as below,</p>\n\n<pre><code>public class BatTrafficManagerStatsHelperTest {\n    @Test\n    public void testGetBtmString() throws Exception {\n        //your code\n\n        BatTrafficManagerStatsHelper btmStatsHelper = new BatTrafficManagerStatsHelper(passYourMockedObjectHere);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1900320,"reputation":25,"user_id":1716304,"display_name":"user1716304"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54628694,"answer_count":1,"score":1,"last_activity_date":1684872222,"creation_date":1549881117,"question_id":54628527,"body_markdown":"I am using testng with Mockito and due to a restriction I cannot use PowerMock. When i try to run my test, for some reason the real method is called instead of the mock! I have added a wrapper class around the class which has static methods. I know from the documentation that Mockito does not support static methods. So, as a way over it, I have written a simple wrapper which just calls the static method in that class.\r\n    \r\n    public class BatTrafficManagerStatsHelperTest {\r\n    \r\n        @Mock\r\n        private MtsConfFactoryWrapper mtsConfFactoryWrapper = new MtsConfFactoryWrapper();\r\n    \r\n        private static final String EXPECTED_JSON_STR = &quot;{&quot;\r\n                + &quot;         \\&quot;duration\\&quot;: 100,&quot;\r\n                + &quot;         \\&quot;timestamp\\&quot;: \\&quot;1970-01-01T00:00:00\\&quot;,&quot;\r\n                + &quot;         \\&quot;cellMetrics\\&quot;: {&quot;\r\n                + &quot;           \\&quot;enb1_cell1\\&quot;: {&quot;\r\n                + &quot;             \\&quot;handoverAttempts\\&quot;: 2,&quot;\r\n                + &quot;             \\&quot;rrcConnectionAttempts\\&quot;: 1&quot;\r\n                + &quot;           }&quot;\r\n                + &quot;         },&quot;\r\n                + &quot;         \\&quot;trafficProfileMetrics\\&quot;: {&quot;\r\n                + &quot;           \\&quot;voipSpeech_2PDN\\&quot;: {&quot;\r\n                + &quot;             \\&quot;srMtSuccess\\&quot;: 4,&quot;\r\n                + &quot;             \\&quot;numberOfUEs\\&quot;: 100,&quot;\r\n                + &quot;             \\&quot;srMoSuccess\\&quot;: 3,&quot;\r\n                + &quot;             \\&quot;attachSuccess\\&quot;: 5,&quot;\r\n                + &quot;             \\&quot;rrcConnectionAttempts\\&quot;: 1&quot;\r\n                + &quot;           }&quot;\r\n                + &quot;         },&quot;\r\n                + &quot;         \\&quot;ueGroupMetrics\\&quot;: {&quot;\r\n                + &quot;           \\&quot;ueGroup1\\&quot;: {&quot;\r\n                + &quot;             \\&quot;handoverAttempts\\&quot;: 2,&quot;\r\n                + &quot;             \\&quot;numberOfUEs\\&quot;: 100,&quot;\r\n                + &quot;             \\&quot;rrcConnectionAttempts\\&quot;: 1&quot;\r\n                + &quot;           }&quot;\r\n                + &quot;         }&quot;\r\n                + &quot;       }&quot;;\r\n    \r\n        @BeforeMethod\r\n        public void setUp() {\r\n            MockitoAnnotations.initMocks(this);\r\n        }\r\n    \r\n        /**\r\n         * getBstmString()\r\n         * Setup mock, tests getBstmString() and verify result\r\n         *\r\n         * @throws Exception\r\n         */\r\n        @Test\r\n        public void testGetBtmString() throws Exception {\r\n            final Date date = Mockito.mock(Date.class);\r\n            Mockito.when(date.getTime()).thenReturn(0L);\r\n    \r\n            final Map&lt;OptimizedRoute, List&lt;StatsQueue&gt;&gt; ueStatsTrackerMock = getUeStatsTrackerMock();\r\n            final Map&lt;Enb, List&lt;OptimizedCellStatsQueue&gt;&gt; cellStatsTrackerMock = getCellStatsTrackerMock();\r\n            final MtsConfBuilder confBuilderMock = Mockito.mock(MtsConfBuilder.class);\r\n            final Tracker trackerMock = Mockito.mock(Tracker.class);\r\n    \r\n            Mockito.when(mtsConfFactoryWrapper.getConfBuilderr()).thenReturn(confBuilderMock);\r\n            Mockito.when(confBuilderMock.getTracker()).thenReturn(trackerMock);\r\n            Mockito.when(trackerMock.getUeStatsTracker()).thenReturn(\r\n                    ueStatsTrackerMock);\r\n            Mockito.when(trackerMock.getCellStatsTracker()).thenReturn(\r\n                    cellStatsTrackerMock);\r\n            Mockito.when(trackerMock.getConfiguredTrafficProfiles())\r\n                    .thenReturn(\r\n                            getFakeTrafficProfilesList());\r\n    \r\n            BatTrafficManagerStatsHelper btmStatsHelper = new BatTrafficManagerStatsHelper(date);\r\n            String result = btmStatsHelper.getBtmString(TIME).replace(&quot;JsonDataForBatTrafficManagerRegex:&quot;, &quot;&quot;);\r\n    \r\n            JsonParser parser = new JsonParser();\r\n            assertEquals(parser.parse(result), parser.parse(EXPECTED_JSON_STR));\r\n        }\r\n    \r\n    }\r\n\r\n    \r\nThe orginal class under test looks like this \r\n    \r\n    public class BatTrafficManagerStatsHelper {\r\n    \r\n        private final Date date;\r\n    \r\n        /*\r\n         * Constants for BAT Traffic Manager log parsing\r\n         */\r\n        private static final ImmutableMap&lt;String, String&gt; AHL_STATS_CONSTANTS_TO_BTM_CONSTANTS = ImmutableMap.of(\r\n                BatAeroflexHLStatsConstants.RRC_CONNECTION_REQUEST_ATTEMPTS, &quot;rrcConnectionAttempts&quot;,\r\n                BatAeroflexHLStatsConstants.HANDOVER_ATTEMPTS, &quot;handoverAttempts&quot;,\r\n                BatAeroflexHLStatsConstants.SERVICE_REQ_MO_SUCCESS, &quot;srMoSuccess&quot;,\r\n                BatAeroflexHLStatsConstants.SERVICE_REQ_MT_SUCCESS, &quot;srMtSuccess&quot;,\r\n                BatAeroflexHLStatsConstants.ATTACH_SUCCESS, &quot;attachSuccess&quot;);\r\n        private static final String NUMBER_OF_UES = &quot;numberOfUEs&quot;;\r\n    \r\n        /**\r\n         * Constructor\r\n         *\r\n         * @param date\r\n         */\r\n        public BatTrafficManagerStatsHelper(Date date) {\r\n            this.date = new Date(date.getTime());\r\n        }\r\n    \r\n        /**\r\n         * Extracts log data and returns it in a format suited\r\n         * for parsing in {@literal BAT Traffic Manager}.\r\n         *\r\n         * @param elapsedTime\r\n         * @return log data for BAT Traffic Manager\r\n         */\r\n        public String getBtmString(long elapsedTime) {\r\n            MtsConfFactoryWrapper mtsConfFactoryWrapper = new MtsConfFactoryWrapper();\r\n            Map&lt;OptimizedRoute, List&lt;StatsQueue&gt;&gt; ueGroupTracker = mtsConfFactoryWrapper.getConfBuilderr().getTracker()\r\n                    .getUeStatsTracker();\r\n            Map&lt;Enb, List&lt;OptimizedCellStatsQueue&gt;&gt; cellTracker = mtsConfFactoryWrapper.getConfBuilderr().getTracker()\r\n                    .getCellStatsTracker();\r\n    \r\n            BatTrafficManagerStatsHelperJson json = new BatTrafficManagerStatsHelperJsonBuilder()\r\n                    .setDuration(elapsedTime)\r\n                    .setTimestamp(getTimeStamp())\r\n                    .setCellMetrics(getCellMetrics(cellTracker))\r\n                    .setTrafficProfileMetrics(getTrafficProfileMetrics(ueGroupTracker))\r\n                    .setUeGroupMetrics(getUeGroupMetrics(ueGroupTracker))\r\n                    .build();\r\n    \r\n            return &quot;JsonDataForBatTrafficManagerRegex:&quot; + getJsonString(json);\r\n        }\r\n    \r\n    }\r\n\r\n    public class MtsConfFactoryWrapper  {\r\n        public MtsConfFactoryWrapper() {}\r\n   \r\n        public MtsConfBuilder getConfBuilderr() {\r\n            return MtsConfFactory.getConfBuilder();\r\n        }\r\n    }\r\n","title":"mocked method not being invoked","body":"<p>I am using testng with Mockito and due to a restriction I cannot use PowerMock. When i try to run my test, for some reason the real method is called instead of the mock! I have added a wrapper class around the class which has static methods. I know from the documentation that Mockito does not support static methods. So, as a way over it, I have written a simple wrapper which just calls the static method in that class.</p>\n<pre><code>public class BatTrafficManagerStatsHelperTest {\n\n    @Mock\n    private MtsConfFactoryWrapper mtsConfFactoryWrapper = new MtsConfFactoryWrapper();\n\n    private static final String EXPECTED_JSON_STR = &quot;{&quot;\n            + &quot;         \\&quot;duration\\&quot;: 100,&quot;\n            + &quot;         \\&quot;timestamp\\&quot;: \\&quot;1970-01-01T00:00:00\\&quot;,&quot;\n            + &quot;         \\&quot;cellMetrics\\&quot;: {&quot;\n            + &quot;           \\&quot;enb1_cell1\\&quot;: {&quot;\n            + &quot;             \\&quot;handoverAttempts\\&quot;: 2,&quot;\n            + &quot;             \\&quot;rrcConnectionAttempts\\&quot;: 1&quot;\n            + &quot;           }&quot;\n            + &quot;         },&quot;\n            + &quot;         \\&quot;trafficProfileMetrics\\&quot;: {&quot;\n            + &quot;           \\&quot;voipSpeech_2PDN\\&quot;: {&quot;\n            + &quot;             \\&quot;srMtSuccess\\&quot;: 4,&quot;\n            + &quot;             \\&quot;numberOfUEs\\&quot;: 100,&quot;\n            + &quot;             \\&quot;srMoSuccess\\&quot;: 3,&quot;\n            + &quot;             \\&quot;attachSuccess\\&quot;: 5,&quot;\n            + &quot;             \\&quot;rrcConnectionAttempts\\&quot;: 1&quot;\n            + &quot;           }&quot;\n            + &quot;         },&quot;\n            + &quot;         \\&quot;ueGroupMetrics\\&quot;: {&quot;\n            + &quot;           \\&quot;ueGroup1\\&quot;: {&quot;\n            + &quot;             \\&quot;handoverAttempts\\&quot;: 2,&quot;\n            + &quot;             \\&quot;numberOfUEs\\&quot;: 100,&quot;\n            + &quot;             \\&quot;rrcConnectionAttempts\\&quot;: 1&quot;\n            + &quot;           }&quot;\n            + &quot;         }&quot;\n            + &quot;       }&quot;;\n\n    @BeforeMethod\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    /**\n     * getBstmString()\n     * Setup mock, tests getBstmString() and verify result\n     *\n     * @throws Exception\n     */\n    @Test\n    public void testGetBtmString() throws Exception {\n        final Date date = Mockito.mock(Date.class);\n        Mockito.when(date.getTime()).thenReturn(0L);\n\n        final Map&lt;OptimizedRoute, List&lt;StatsQueue&gt;&gt; ueStatsTrackerMock = getUeStatsTrackerMock();\n        final Map&lt;Enb, List&lt;OptimizedCellStatsQueue&gt;&gt; cellStatsTrackerMock = getCellStatsTrackerMock();\n        final MtsConfBuilder confBuilderMock = Mockito.mock(MtsConfBuilder.class);\n        final Tracker trackerMock = Mockito.mock(Tracker.class);\n\n        Mockito.when(mtsConfFactoryWrapper.getConfBuilderr()).thenReturn(confBuilderMock);\n        Mockito.when(confBuilderMock.getTracker()).thenReturn(trackerMock);\n        Mockito.when(trackerMock.getUeStatsTracker()).thenReturn(\n                ueStatsTrackerMock);\n        Mockito.when(trackerMock.getCellStatsTracker()).thenReturn(\n                cellStatsTrackerMock);\n        Mockito.when(trackerMock.getConfiguredTrafficProfiles())\n                .thenReturn(\n                        getFakeTrafficProfilesList());\n\n        BatTrafficManagerStatsHelper btmStatsHelper = new BatTrafficManagerStatsHelper(date);\n        String result = btmStatsHelper.getBtmString(TIME).replace(&quot;JsonDataForBatTrafficManagerRegex:&quot;, &quot;&quot;);\n\n        JsonParser parser = new JsonParser();\n        assertEquals(parser.parse(result), parser.parse(EXPECTED_JSON_STR));\n    }\n\n}\n</code></pre>\n<p>The orginal class under test looks like this</p>\n<pre><code>public class BatTrafficManagerStatsHelper {\n\n    private final Date date;\n\n    /*\n     * Constants for BAT Traffic Manager log parsing\n     */\n    private static final ImmutableMap&lt;String, String&gt; AHL_STATS_CONSTANTS_TO_BTM_CONSTANTS = ImmutableMap.of(\n            BatAeroflexHLStatsConstants.RRC_CONNECTION_REQUEST_ATTEMPTS, &quot;rrcConnectionAttempts&quot;,\n            BatAeroflexHLStatsConstants.HANDOVER_ATTEMPTS, &quot;handoverAttempts&quot;,\n            BatAeroflexHLStatsConstants.SERVICE_REQ_MO_SUCCESS, &quot;srMoSuccess&quot;,\n            BatAeroflexHLStatsConstants.SERVICE_REQ_MT_SUCCESS, &quot;srMtSuccess&quot;,\n            BatAeroflexHLStatsConstants.ATTACH_SUCCESS, &quot;attachSuccess&quot;);\n    private static final String NUMBER_OF_UES = &quot;numberOfUEs&quot;;\n\n    /**\n     * Constructor\n     *\n     * @param date\n     */\n    public BatTrafficManagerStatsHelper(Date date) {\n        this.date = new Date(date.getTime());\n    }\n\n    /**\n     * Extracts log data and returns it in a format suited\n     * for parsing in {@literal BAT Traffic Manager}.\n     *\n     * @param elapsedTime\n     * @return log data for BAT Traffic Manager\n     */\n    public String getBtmString(long elapsedTime) {\n        MtsConfFactoryWrapper mtsConfFactoryWrapper = new MtsConfFactoryWrapper();\n        Map&lt;OptimizedRoute, List&lt;StatsQueue&gt;&gt; ueGroupTracker = mtsConfFactoryWrapper.getConfBuilderr().getTracker()\n                .getUeStatsTracker();\n        Map&lt;Enb, List&lt;OptimizedCellStatsQueue&gt;&gt; cellTracker = mtsConfFactoryWrapper.getConfBuilderr().getTracker()\n                .getCellStatsTracker();\n\n        BatTrafficManagerStatsHelperJson json = new BatTrafficManagerStatsHelperJsonBuilder()\n                .setDuration(elapsedTime)\n                .setTimestamp(getTimeStamp())\n                .setCellMetrics(getCellMetrics(cellTracker))\n                .setTrafficProfileMetrics(getTrafficProfileMetrics(ueGroupTracker))\n                .setUeGroupMetrics(getUeGroupMetrics(ueGroupTracker))\n                .build();\n\n        return &quot;JsonDataForBatTrafficManagerRegex:&quot; + getJsonString(json);\n    }\n\n}\n\npublic class MtsConfFactoryWrapper  {\n    public MtsConfFactoryWrapper() {}\n\n    public MtsConfBuilder getConfBuilderr() {\n        return MtsConfFactory.getConfBuilder();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":10455199,"reputation":11,"user_id":7707553,"display_name":"Wenbo Qin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684871732,"creation_date":1684826328,"question_id":76312172,"body_markdown":"Test skill error, error message as follows\r\n\r\n```java\r\nExpected state to include: {&quot;thermostatTemperatureSetpoint&quot;:20}, actual state: {}: expected false to be true\r\nThe data returned by action.devices.EXECUTE is \r\n\r\n{\r\n  &quot;payload&quot;: {\r\n    &quot;commands&quot;: [\r\n      {\r\n        &quot;ids&quot;: [\r\n          &quot;2-3ff7c353d55cfa6fa6d5a8e8facad017-32dcfe7c1&quot;\r\n        ],\r\n        &quot;status&quot;: &quot;SUCCESS&quot;,\r\n        &quot;states&quot;: {\r\n          &quot;online&quot;: true,\r\n          &quot;thermostatMode&quot;: &quot;on&quot;\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  &quot;requestId&quot;: &quot;17484325286169092632&quot;\r\n}\r\n```\r\nAttempts to modify the return structure did not work","title":"How can I fix the &#39;Expected state to include&#39; error when using action.devices.EXECUTE with a thermostat device on Google Home?","body":"<p>Test skill error, error message as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>Expected state to include: {&quot;thermostatTemperatureSetpoint&quot;:20}, actual state: {}: expected false to be true\nThe data returned by action.devices.EXECUTE is \n\n{\n  &quot;payload&quot;: {\n    &quot;commands&quot;: [\n      {\n        &quot;ids&quot;: [\n          &quot;2-3ff7c353d55cfa6fa6d5a8e8facad017-32dcfe7c1&quot;\n        ],\n        &quot;status&quot;: &quot;SUCCESS&quot;,\n        &quot;states&quot;: {\n          &quot;online&quot;: true,\n          &quot;thermostatMode&quot;: &quot;on&quot;\n        }\n      }\n    ]\n  },\n  &quot;requestId&quot;: &quot;17484325286169092632&quot;\n}\n</code></pre>\n<p>Attempts to modify the return structure did not work</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","download","large-files"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":3,"creation_date":1684875182,"post_id":76318227,"comment_id":134580802,"body_markdown":"You want to [copy an object from one bucket to another](https://stackoverflow.com/questions/56670285/aws-java-sdk-2-s3-copy-object)?","body":"You want to <a href=\"https://stackoverflow.com/questions/56670285/aws-java-sdk-2-s3-copy-object\">copy an object from one bucket to another</a>?"}],"owner":{"account_id":17228592,"reputation":11,"user_id":12473678,"display_name":"Rajat Dobriyal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684871714,"creation_date":1684871714,"question_id":76318227,"body_markdown":"S3 object read function does not read byte according to the buffer declared.\r\n\r\nI want to read a file from a bucket and upload that file into another bucket.\r\nBut as file can be huge I want to read and upload the file in chunks.\r\n\r\nFor reading I am using s3Object.read(buffer) and for uploading I am using CompletedMultipartUpload.\r\n\r\n```\r\npackage com.dnd.adx.injector;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\r\nimport software.amazon.awssdk.auth.credentials.DefaultCredentialsProvider;\r\nimport software.amazon.awssdk.core.ResponseInputStream;\r\nimport software.amazon.awssdk.core.SdkBytes;\r\nimport software.amazon.awssdk.core.sync.RequestBody;\r\nimport software.amazon.awssdk.regions.Region;\r\nimport software.amazon.awssdk.services.s3.S3Client;\r\nimport software.amazon.awssdk.services.s3.model.CompleteMultipartUploadRequest;\r\nimport software.amazon.awssdk.services.s3.model.CompletedMultipartUpload;\r\nimport software.amazon.awssdk.services.s3.model.CompletedPart;\r\nimport software.amazon.awssdk.services.s3.model.CreateMultipartUploadRequest;\r\nimport software.amazon.awssdk.services.s3.model.CreateMultipartUploadResponse;\r\nimport software.amazon.awssdk.services.s3.model.GetObjectRequest;\r\nimport software.amazon.awssdk.services.s3.model.GetObjectResponse;\r\nimport software.amazon.awssdk.services.s3.model.UploadPartRequest;\r\n\r\npublic class Test {\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tAwsCredentialsProvider awsCredentialsProvider = DefaultCredentialsProvider.builder().build();\r\n\t\tS3Client s3Client = S3Client.builder().region(Region.of(Region.CA_CENTRAL_1.toString()))\r\n\t\t\t\t.credentialsProvider(awsCredentialsProvider).build();\r\n\t\tGetObjectRequest getObjectRequest = GetObjectRequest.builder().bucket(&quot;dev-dnd-crushftp-client-bucket&quot;)\r\n\t\t\t\t.key(&quot;CrushFTP.log_20230223_235929.log&quot;).build();\r\n\t\tResponseInputStream&lt;GetObjectResponse&gt; s3Object = s3Client.getObject(getObjectRequest);\r\n\t\tbyte[] buffer = new byte[5000];\r\n\t\tint noOfByteRead = 0;\r\n\t\tint counter = 1;\r\n\t\tCreateMultipartUploadRequest createMultipartUploadRequest = CreateMultipartUploadRequest.builder()\r\n\t\t\t\t.bucket(&quot;dev-dnd-crushftp-encrypt-decrypt-file&quot;).key(&quot;CrushFTP2.log&quot;).build();\r\n\t\tCreateMultipartUploadResponse response = s3Client.createMultipartUpload(createMultipartUploadRequest);\r\n\t\tString uploadId = response.uploadId();\r\n\t\tList&lt;CompletedPart&gt; completePartList = new ArrayList&lt;&gt;();\r\n\t\twhile ((noOfByteRead = s3Object.read(buffer)) != -1) {\r\n\t\t\tbyte[] copyBuffer = Arrays.copyOf(buffer, noOfByteRead);\r\n\t\t\tSystem.out.println(noOfByteRead);\r\n//\t\t\tSystem.out.println(new String(copyBuffer));\r\n\t\t\tSdkBytes sdkBytes = SdkBytes.fromByteArray(copyBuffer);\r\n\t\t\tCompletedPart part = writeToS3Object(s3Client, counter, sdkBytes, uploadId);\r\n\t\t\tcompletePartList.add(part);\r\n\t\t\tcounter++;\r\n\t\t}\r\n\t\tCompletedMultipartUpload completedMultipartUpload = CompletedMultipartUpload.builder().parts(completePartList)\r\n\t\t\t\t.build();\r\n\t\tCompleteMultipartUploadRequest completeMultipartUploadRequest = CompleteMultipartUploadRequest.builder()\r\n\t\t\t\t.bucket(&quot;dev-dnd-crushftp-encrypt-decrypt-file&quot;).key(&quot;CrushFTP2.log&quot;)\r\n\t\t\t\t.multipartUpload(completedMultipartUpload).uploadId(uploadId).build();\r\n\t\ts3Client.completeMultipartUpload(completeMultipartUploadRequest);\r\n\r\n\t}\r\n\r\n\tpublic static CompletedPart writeToS3Object(S3Client s3Client, int counter, SdkBytes bufferBytes, String uploadId) {\r\n\t\tSystem.out.println(uploadId);\r\n\t\tUploadPartRequest uploadPartRequest = UploadPartRequest.builder()\r\n\t\t\t\t.bucket(&quot;dev-dnd-crushftp-encrypt-decrypt-file&quot;).key(&quot;CrushFTP2.log&quot;).uploadId(uploadId)\r\n\t\t\t\t.partNumber(counter).build();\r\n\t\tString etag = s3Client.uploadPart(uploadPartRequest, RequestBody.fromByteBuffer(bufferBytes.asByteBuffer()))\r\n\t\t\t\t.eTag();\r\n\t\tCompletedPart completedPart = CompletedPart.builder().partNumber(counter).eTag(etag).build();\r\n\t\treturn completedPart;\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe no of bytes read by the program from s3Object even when I have given buffer of 5 mb : \r\n\r\n```\r\n18:49:25,372 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@dd8ba08 - Registering current configuration as safe fallback point\r\n\r\n7585\r\n16384\r\n1024\r\n16384\r\n1024\r\n10992\r\n9000\r\n8408\r\n16384\r\n1024\r\n16384\r\n1024\r\n16384\r\n1024\r\n16384\r\n1024\r\n16384\r\n1024\r\n16384\r\n```","title":"How can I efficiently read and upload large files in Amazon S3 using AWS SDKV2 java?","body":"<p>S3 object read function does not read byte according to the buffer declared.</p>\n<p>I want to read a file from a bucket and upload that file into another bucket.\nBut as file can be huge I want to read and upload the file in chunks.</p>\n<p>For reading I am using s3Object.read(buffer) and for uploading I am using CompletedMultipartUpload.</p>\n<pre><code>package com.dnd.adx.injector;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\nimport software.amazon.awssdk.auth.credentials.DefaultCredentialsProvider;\nimport software.amazon.awssdk.core.ResponseInputStream;\nimport software.amazon.awssdk.core.SdkBytes;\nimport software.amazon.awssdk.core.sync.RequestBody;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3Client;\nimport software.amazon.awssdk.services.s3.model.CompleteMultipartUploadRequest;\nimport software.amazon.awssdk.services.s3.model.CompletedMultipartUpload;\nimport software.amazon.awssdk.services.s3.model.CompletedPart;\nimport software.amazon.awssdk.services.s3.model.CreateMultipartUploadRequest;\nimport software.amazon.awssdk.services.s3.model.CreateMultipartUploadResponse;\nimport software.amazon.awssdk.services.s3.model.GetObjectRequest;\nimport software.amazon.awssdk.services.s3.model.GetObjectResponse;\nimport software.amazon.awssdk.services.s3.model.UploadPartRequest;\n\npublic class Test {\n    public static void main(String[] args) throws IOException {\n        AwsCredentialsProvider awsCredentialsProvider = DefaultCredentialsProvider.builder().build();\n        S3Client s3Client = S3Client.builder().region(Region.of(Region.CA_CENTRAL_1.toString()))\n                .credentialsProvider(awsCredentialsProvider).build();\n        GetObjectRequest getObjectRequest = GetObjectRequest.builder().bucket(&quot;dev-dnd-crushftp-client-bucket&quot;)\n                .key(&quot;CrushFTP.log_20230223_235929.log&quot;).build();\n        ResponseInputStream&lt;GetObjectResponse&gt; s3Object = s3Client.getObject(getObjectRequest);\n        byte[] buffer = new byte[5000];\n        int noOfByteRead = 0;\n        int counter = 1;\n        CreateMultipartUploadRequest createMultipartUploadRequest = CreateMultipartUploadRequest.builder()\n                .bucket(&quot;dev-dnd-crushftp-encrypt-decrypt-file&quot;).key(&quot;CrushFTP2.log&quot;).build();\n        CreateMultipartUploadResponse response = s3Client.createMultipartUpload(createMultipartUploadRequest);\n        String uploadId = response.uploadId();\n        List&lt;CompletedPart&gt; completePartList = new ArrayList&lt;&gt;();\n        while ((noOfByteRead = s3Object.read(buffer)) != -1) {\n            byte[] copyBuffer = Arrays.copyOf(buffer, noOfByteRead);\n            System.out.println(noOfByteRead);\n//          System.out.println(new String(copyBuffer));\n            SdkBytes sdkBytes = SdkBytes.fromByteArray(copyBuffer);\n            CompletedPart part = writeToS3Object(s3Client, counter, sdkBytes, uploadId);\n            completePartList.add(part);\n            counter++;\n        }\n        CompletedMultipartUpload completedMultipartUpload = CompletedMultipartUpload.builder().parts(completePartList)\n                .build();\n        CompleteMultipartUploadRequest completeMultipartUploadRequest = CompleteMultipartUploadRequest.builder()\n                .bucket(&quot;dev-dnd-crushftp-encrypt-decrypt-file&quot;).key(&quot;CrushFTP2.log&quot;)\n                .multipartUpload(completedMultipartUpload).uploadId(uploadId).build();\n        s3Client.completeMultipartUpload(completeMultipartUploadRequest);\n\n    }\n\n    public static CompletedPart writeToS3Object(S3Client s3Client, int counter, SdkBytes bufferBytes, String uploadId) {\n        System.out.println(uploadId);\n        UploadPartRequest uploadPartRequest = UploadPartRequest.builder()\n                .bucket(&quot;dev-dnd-crushftp-encrypt-decrypt-file&quot;).key(&quot;CrushFTP2.log&quot;).uploadId(uploadId)\n                .partNumber(counter).build();\n        String etag = s3Client.uploadPart(uploadPartRequest, RequestBody.fromByteBuffer(bufferBytes.asByteBuffer()))\n                .eTag();\n        CompletedPart completedPart = CompletedPart.builder().partNumber(counter).eTag(etag).build();\n        return completedPart;\n\n    }\n\n}\n</code></pre>\n<p>The no of bytes read by the program from s3Object even when I have given buffer of 5 mb :</p>\n<pre><code>18:49:25,372 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@dd8ba08 - Registering current configuration as safe fallback point\n\n7585\n16384\n1024\n16384\n1024\n10992\n9000\n8408\n16384\n1024\n16384\n1024\n16384\n1024\n16384\n1024\n16384\n1024\n16384\n</code></pre>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":235021,"reputation":1856,"user_id":501560,"accept_rate":94,"display_name":"ofirbt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684871594,"creation_date":1684868622,"question_id":76317888,"body_markdown":"I have a simplified DataFrame Row that contains a json string.\r\nThis json string contains nested elements.\r\nI read this json string column using Spark&#39;s from_json(...) method, providing it a schema of the json string.\r\n\r\nLet&#39;s say that this json string looks like this:\r\n\r\n    {\r\n    &quot;key1_1&quot;: {\r\n        &quot;key2_1&quot;: &quot;value2_1&quot;,\r\n        &quot;key2_2&quot;: &quot;value2_2&quot;\r\n    }}\r\n\r\nAnd that the schema is declared as follows:\r\n\r\n    StructType schema = new StructType();\r\n        schema = schema.add(&quot;key1_1&quot;, new StructType()\r\n                .add(&quot;key2_1&quot;, DataTypes.StringType)\r\n                .add(&quot;key2_2&quot;, new MapType(DataTypes.StringType, DataTypes.StringType, true))\r\n        );\r\n\r\nThe json string data fits the schema&#39;s &quot;key1_1&quot;, and &quot;key2_1&quot;, but not &quot;key2_2&quot; because in the data the value of this key is of type string, and in the schema it&#39;s declared as a map.\r\n\r\nI would like to get the values of &quot;key1_1&quot; and &quot;key2_1&quot;, as they fit the schema, instead of getting null for the whole record, because of the nested &quot;key2_2&quot; value.\r\nIs there a way I can get that result?\r\n\r\nI thought of dividing the schema to separate small ones, but I wonder if I can achieve it with only 1 schema, as the schema I&#39;m working on is pretty big and complex.\r\n\r\n===============================================\r\n\r\n\r\nHere&#39;s the whole code snippet:\r\n\r\n```\r\npackage com.example.sparkproject;\r\n\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.Row;\r\nimport org.apache.spark.sql.SparkSession;\r\nimport org.apache.spark.sql.functions;\r\nimport org.apache.spark.sql.types.DataTypes;\r\nimport org.apache.spark.sql.types.MapType;\r\nimport org.apache.spark.sql.types.StructType;\r\n\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    public static class RowData {\r\n        private int id;\r\n        private String jsonString;\r\n\r\n        public int getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getJsonString() {\r\n            return jsonString;\r\n        }\r\n\r\n        public void setJsonString(String jsonString) {\r\n            this.jsonString = jsonString;\r\n        }\r\n\r\n        public RowData(int id, String jsonString) {\r\n            this.id = id;\r\n            this.jsonString = jsonString;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] argh) {\r\n\r\n        StructType schema = new StructType();\r\n        schema = schema.add(&quot;key1_1&quot;, new StructType()\r\n                .add(&quot;key2_1&quot;, DataTypes.StringType)\r\n                .add(&quot;key2_2&quot;, new MapType(DataTypes.StringType, DataTypes.StringType, true))\r\n        );\r\n\r\n        SparkSession spark = SparkSession.builder()\r\n                .master(&quot;local[1]&quot;)\r\n                .appName(&quot;MyApp&quot;)\r\n                .config(&quot;spark.driver.bindAddress&quot;, &quot;127.0.0.1&quot;)\r\n                .getOrCreate();\r\n\r\n        List&lt;RowData&gt; list = List.of(new RowData(1, &quot;{&quot; +\r\n                        &quot;\\&quot;key1_1\\&quot;: {&quot; +\r\n                        &quot;\\&quot;key2_1\\&quot;:\\&quot;value2_1\\&quot;,&quot; +\r\n                        &quot;\\&quot;key2_2\\&quot;:\\&quot;value2_2\\&quot;&quot; +\r\n                        &quot;}&quot; +\r\n                        &quot;}&quot;));\r\n\r\n        Dataset&lt;Row&gt; df = spark.createDataFrame(list, RowData.class);\r\n\r\n        df.select(functions.from_json(functions.col(&quot;jsonString&quot;), schema)).show(false);\r\n        df.select(functions.from_json(functions.col(&quot;jsonString&quot;), schema)).printSchema();\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAnd the output of the code snippet above is:\r\n```\r\n+---------------------+\r\n|from_json(jsonString)|\r\n+---------------------+\r\n|[]                   |\r\n+---------------------+\r\n\r\nroot\r\n |-- from_json(jsonString): struct (nullable = true)\r\n |    |-- key1_1: struct (nullable = true)\r\n |    |    |-- key2_1: string (nullable = true)\r\n |    |    |-- key2_2: map (nullable = true)\r\n |    |    |    |-- key: string\r\n |    |    |    |-- value: string (valueContainsNull = true)\r\n```\r\n","title":"Spark&#39;s from_json returns null even if only 1 of the nested elements doesn&#39;t fit the schema","body":"<p>I have a simplified DataFrame Row that contains a json string.\nThis json string contains nested elements.\nI read this json string column using Spark's from_json(...) method, providing it a schema of the json string.</p>\n<p>Let's say that this json string looks like this:</p>\n<pre><code>{\n&quot;key1_1&quot;: {\n    &quot;key2_1&quot;: &quot;value2_1&quot;,\n    &quot;key2_2&quot;: &quot;value2_2&quot;\n}}\n</code></pre>\n<p>And that the schema is declared as follows:</p>\n<pre><code>StructType schema = new StructType();\n    schema = schema.add(&quot;key1_1&quot;, new StructType()\n            .add(&quot;key2_1&quot;, DataTypes.StringType)\n            .add(&quot;key2_2&quot;, new MapType(DataTypes.StringType, DataTypes.StringType, true))\n    );\n</code></pre>\n<p>The json string data fits the schema's &quot;key1_1&quot;, and &quot;key2_1&quot;, but not &quot;key2_2&quot; because in the data the value of this key is of type string, and in the schema it's declared as a map.</p>\n<p>I would like to get the values of &quot;key1_1&quot; and &quot;key2_1&quot;, as they fit the schema, instead of getting null for the whole record, because of the nested &quot;key2_2&quot; value.\nIs there a way I can get that result?</p>\n<p>I thought of dividing the schema to separate small ones, but I wonder if I can achieve it with only 1 schema, as the schema I'm working on is pretty big and complex.</p>\n<p>===============================================</p>\n<p>Here's the whole code snippet:</p>\n<pre><code>package com.example.sparkproject;\n\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.SparkSession;\nimport org.apache.spark.sql.functions;\nimport org.apache.spark.sql.types.DataTypes;\nimport org.apache.spark.sql.types.MapType;\nimport org.apache.spark.sql.types.StructType;\n\nimport java.util.List;\n\npublic class Main {\n\n    public static class RowData {\n        private int id;\n        private String jsonString;\n\n        public int getId() {\n            return id;\n        }\n\n        public void setId(int id) {\n            this.id = id;\n        }\n\n        public String getJsonString() {\n            return jsonString;\n        }\n\n        public void setJsonString(String jsonString) {\n            this.jsonString = jsonString;\n        }\n\n        public RowData(int id, String jsonString) {\n            this.id = id;\n            this.jsonString = jsonString;\n        }\n    }\n\n    public static void main(String[] argh) {\n\n        StructType schema = new StructType();\n        schema = schema.add(&quot;key1_1&quot;, new StructType()\n                .add(&quot;key2_1&quot;, DataTypes.StringType)\n                .add(&quot;key2_2&quot;, new MapType(DataTypes.StringType, DataTypes.StringType, true))\n        );\n\n        SparkSession spark = SparkSession.builder()\n                .master(&quot;local[1]&quot;)\n                .appName(&quot;MyApp&quot;)\n                .config(&quot;spark.driver.bindAddress&quot;, &quot;127.0.0.1&quot;)\n                .getOrCreate();\n\n        List&lt;RowData&gt; list = List.of(new RowData(1, &quot;{&quot; +\n                        &quot;\\&quot;key1_1\\&quot;: {&quot; +\n                        &quot;\\&quot;key2_1\\&quot;:\\&quot;value2_1\\&quot;,&quot; +\n                        &quot;\\&quot;key2_2\\&quot;:\\&quot;value2_2\\&quot;&quot; +\n                        &quot;}&quot; +\n                        &quot;}&quot;));\n\n        Dataset&lt;Row&gt; df = spark.createDataFrame(list, RowData.class);\n\n        df.select(functions.from_json(functions.col(&quot;jsonString&quot;), schema)).show(false);\n        df.select(functions.from_json(functions.col(&quot;jsonString&quot;), schema)).printSchema();\n\n    }\n\n}\n\n</code></pre>\n<p>And the output of the code snippet above is:</p>\n<pre><code>+---------------------+\n|from_json(jsonString)|\n+---------------------+\n|[]                   |\n+---------------------+\n\nroot\n |-- from_json(jsonString): struct (nullable = true)\n |    |-- key1_1: struct (nullable = true)\n |    |    |-- key2_1: string (nullable = true)\n |    |    |-- key2_2: map (nullable = true)\n |    |    |    |-- key: string\n |    |    |    |-- value: string (valueContainsNull = true)\n</code></pre>\n"},{"tags":["java","spring-boot","google-cloud-pubsub","testcontainers","google-cloud-pubsub-emulator"],"comments":[{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1684333709,"post_id":76272943,"comment_id":134503390,"body_markdown":"I think you can, I haven&#39;t done it before but can help. Not sure if you are using spring cloud functions or another one but somehow there should be a connection string where you can set the emulator endpoint. Look at this example https://github.com/saturnism/testcontainers-gcloud-examples/blob/main/springboot/pubsub-example/src/test/java/com/example/springboot/pubsub/PubSubIntegrationTests.java#L141","body":"I think you can, I haven&#39;t done it before but can help. Not sure if you are using spring cloud functions or another one but somehow there should be a connection string where you can set the emulator endpoint. Look at this example <a href=\"https://github.com/saturnism/testcontainers-gcloud-examples/blob/main/springboot/pubsub-example/src/test/java/com/example/springboot/pubsub/PubSubIntegrationTests.java#L141\" rel=\"nofollow noreferrer\">github.com/saturnism/testcontainers-gcloud-examples/blob/mai&zwnj;&#8203;n/&hellip;</a>"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684340819,"post_id":76272943,"comment_id":134505277,"body_markdown":"@Edd&#250;Mel&#233;ndez I saw that example and the problem is that it fails with the current version of PubSub testcontainer","body":"@Edd&#250;Mel&#233;ndez I saw that example and the problem is that it fails with the current version of PubSub testcontainer"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1684365565,"post_id":76272943,"comment_id":134509741,"body_markdown":"It fails because of testcontainers or the image itself? Can you update the question with your logs, please?","body":"It fails because of testcontainers or the image itself? Can you update the question with your logs, please?"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684528501,"post_id":76272943,"comment_id":134535742,"body_markdown":"@Edd&#250;Mel&#233;ndez I have added errors when it fails","body":"@Edd&#250;Mel&#233;ndez I have added errors when it fails"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1684540364,"post_id":76272943,"comment_id":134537103,"body_markdown":"well, the PubSubEmulatorContainer doesn&#39;t provide a topic, so, this should be manually created. After that, subscription for that topic should be created too. Then you should submit the message","body":"well, the PubSubEmulatorContainer doesn&#39;t provide a topic, so, this should be manually created. After that, subscription for that topic should be created too. Then you should submit the message"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684765224,"post_id":76272943,"comment_id":134560567,"body_markdown":"@Edd&#250;Mel&#233;ndez so the GitHub example is incomplete?","body":"@Edd&#250;Mel&#233;ndez so the GitHub example is incomplete?"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1684768380,"post_id":76272943,"comment_id":134561349,"body_markdown":"The github example does everything through code. What you want to do is different and I want to do that too but also have some issues with it due to the message is received but null","body":"The github example does everything through code. What you want to do is different and I want to do that too but also have some issues with it due to the message is received but null"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684770039,"post_id":76272943,"comment_id":134561724,"body_markdown":"@Edd&#250;Mel&#233;ndez Interesting because when I try to run the GitHub example it throws the same errors for me as I will use it with my code so not sure if the testcontainers changed anything since that code was released.","body":"@Edd&#250;Mel&#233;ndez Interesting because when I try to run the GitHub example it throws the same errors for me as I will use it with my code so not sure if the testcontainers changed anything since that code was released."},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1684774307,"post_id":76272943,"comment_id":134562671,"body_markdown":"To be clear, the error I talked about is receiving the message from pubsub but a null message when arriving to the function. However, your error is related to missing topic/subscription which you actually need to send the message and be processed by the function.","body":"To be clear, the error I talked about is receiving the message from pubsub but a null message when arriving to the function. However, your error is related to missing topic/subscription which you actually need to send the message and be processed by the function."},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684777075,"post_id":76272943,"comment_id":134563239,"body_markdown":"@Edd&#250;Mel&#233;ndez Based on the GitHub example, in my case, it should be done in the `setup()` method lines #102 and #103","body":"@Edd&#250;Mel&#233;ndez Based on the GitHub example, in my case, it should be done in the <code>setup()</code> method lines #102 and #103"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1684777496,"post_id":76272943,"comment_id":134563317,"body_markdown":"I&#39;m just trying to help with the shared information but I think I can not continue due to lack of context. I just can say it can be an initialization issue, I do not have that issue but can not say what is missing in you case unless you can share a repository to take a look.","body":"I&#39;m just trying to help with the shared information but I think I can not continue due to lack of context. I just can say it can be an initialization issue, I do not have that issue but can not say what is missing in you case unless you can share a repository to take a look."},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684778429,"post_id":76272943,"comment_id":134563508,"body_markdown":"@Edd&#250;Mel&#233;ndez Yeah I know you are trying to help and I&#39;m happy about that. I&#39;m just trying to point out that the GitHub example doesn&#39;t even work. I have copied that test example with the necessary dependencies and then run `testSend()` - it will fail on line #128  as `PubSubIntegrationTests.testSend() throws java.util.concurrent.ExecutionException,java.lang.InterruptedException` because `test-subscription` doesn&#39;t exist. My point is that example may be obsolete to what testcontainers repo offers now for SpringBoot","body":"@Edd&#250;Mel&#233;ndez Yeah I know you are trying to help and I&#39;m happy about that. I&#39;m just trying to point out that the GitHub example doesn&#39;t even work. I have copied that test example with the necessary dependencies and then run <code>testSend()</code> - it will fail on line #128  as <code>PubSubIntegrationTests.testSend() throws java.util.concurrent.ExecutionException,java.lang.Interrupte&zwnj;&#8203;dException</code> because <code>test-subscription</code> doesn&#39;t exist. My point is that example may be obsolete to what testcontainers repo offers now for SpringBoot"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":1,"creation_date":1684782959,"post_id":76272943,"comment_id":134564436,"body_markdown":"Oh, ok. my fault so the example is not working. I know those are not updates. Can you check on this repo https://github.com/ddobrin/testcontainers-gcloud-examples ?","body":"Oh, ok. my fault so the example is not working. I know those are not updates. Can you check on this repo <a href=\"https://github.com/ddobrin/testcontainers-gcloud-examples\" rel=\"nofollow noreferrer\">github.com/ddobrin/testcontainers-gcloud-examples</a> ?"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684787486,"post_id":76272943,"comment_id":134565239,"body_markdown":"@Edd&#250;Mel&#233;ndez Not sure what is different but that one example works for me. Now can take a look further. Thanks!","body":"@Edd&#250;Mel&#233;ndez Not sure what is different but that one example works for me. Now can take a look further. Thanks!"},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684866577,"post_id":76272943,"comment_id":134579134,"body_markdown":"@Edd&#250;Mel&#233;ndez it came up that test will work fine with the service implementation which uses `PubSubPublisherTemplate` but not for `Publisher`. Will error out that resource for the topic not found.","body":"@Edd&#250;Mel&#233;ndez it came up that test will work fine with the service implementation which uses <code>PubSubPublisherTemplate</code> but not for <code>Publisher</code>. Will error out that resource for the topic not found."},{"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"score":0,"creation_date":1684870520,"post_id":76272943,"comment_id":134579865,"body_markdown":"@Edd&#250;Mel&#233;ndez I have an open new SO question regarding that issue above https://stackoverflow.com/questions/76318081/testing-gcp-pubsub-with-testcontainer-pubsub-emulator but at least I got my function triggered by that PubSub test mentioned in that new post.","body":"@Edd&#250;Mel&#233;ndez I have an open new SO question regarding that issue above <a href=\"https://stackoverflow.com/questions/76318081/testing-gcp-pubsub-with-testcontainer-pubsub-emulator\" title=\"testing gcp pubsub with testcontainer pubsub emulator\">stackoverflow.com/questions/76318081/&hellip;</a> but at least I got my function triggered by that PubSub test mentioned in that new post."}],"answers":[{"tags":[],"owner":{"account_id":13185554,"reputation":534,"user_id":12022900,"display_name":"Joevanie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684871513,"creation_date":1684871513,"answer_id":76318198,"question_id":76272943,"body_markdown":"&lt;p style=&quot;margin: 0;&quot;&gt;There is a way to do integration tests for the Cloud Function using PubSubEmulatorContainer. You can follow this &lt;a href=&quot;https://cloud.google.com/functions/docs/samples/functions-pubsub-integration-test#functions_pubsub_integration_test-java&quot;&gt;documentation&lt;/a&gt;.&lt;/p&gt;","title":"Testing GCP Cloud Function trigger with PubSub testcontainer","body":"There is a way to do integration tests for the Cloud Function using PubSubEmulatorContainer. You can follow this <a href=\"https://cloud.google.com/functions/docs/samples/functions-pubsub-integration-test#functions_pubsub_integration_test-java\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}],"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684871513,"creation_date":1684331922,"question_id":76272943,"body_markdown":"Is there any way to do integration tests for the Cloud Function using `PubSubEmulatorContainer`?\r\n\r\nMy Cloud Function is triggered by the message in the PubSub topic as follows\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class MessageIngest implements Consumer&lt;PubSubMessage&gt; {\r\n\r\n    private final MessageResource msgResource;\r\n    private final ObjectMapper objectMapper;\r\n\r\n\r\n    @Override\r\n    public void accept(PubSubMessage pubSubMessage) {\r\n        var message = new String(Base64.getDecoder().decode(pubSubMessage.getData()), UTF_8);\r\n        msgResource.ingest(objectMapper.readValue(message, Message.class));\r\n    }\r\n}\r\n``` \r\n\r\nSo far what I found about using `PubSubEmulatorContainer` for the integration testing is to publish there or subscribe from nothing about how to listen to the topic and trigger the test on publishing to the topic. My assumption is that I need to do that within the `contextLoads()` test.\r\n\r\nFor the live code trigger is provided during the deployment as an argument\r\n\r\n```\r\ngcloud functions deploy myCloudFunction --trigger-topic=$TOPIC_TO_LISTEN\r\n```\r\n\r\nPS.\r\nProvided example from the comments fails for me on testconainers version 1.18.0\r\n\r\n`testSend()` errors out as\r\n\r\n```\r\n[ault-executor-0] c.g.c.s.p.c.p.PubSubPublisherTemplate    : Publishing to test-topic topic failed.\r\ncom.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Topic not found\r\ncom.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Subscription does not exist\r\n```\r\n\r\nand `testWorker()` as\r\n\r\n```\r\n[ault-executor-0] c.g.c.s.p.c.p.PubSubPublisherTemplate    : Publishing to test-topic topic failed.\r\ncom.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Topic not found\r\ncom.google.api.gax.rpc.NotFoundException: com.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Subscription does not exist (resource=test-subscription)\r\n```","title":"Testing GCP Cloud Function trigger with PubSub testcontainer","body":"<p>Is there any way to do integration tests for the Cloud Function using <code>PubSubEmulatorContainer</code>?</p>\n<p>My Cloud Function is triggered by the message in the PubSub topic as follows</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class MessageIngest implements Consumer&lt;PubSubMessage&gt; {\n\n    private final MessageResource msgResource;\n    private final ObjectMapper objectMapper;\n\n\n    @Override\n    public void accept(PubSubMessage pubSubMessage) {\n        var message = new String(Base64.getDecoder().decode(pubSubMessage.getData()), UTF_8);\n        msgResource.ingest(objectMapper.readValue(message, Message.class));\n    }\n}\n</code></pre>\n<p>So far what I found about using <code>PubSubEmulatorContainer</code> for the integration testing is to publish there or subscribe from nothing about how to listen to the topic and trigger the test on publishing to the topic. My assumption is that I need to do that within the <code>contextLoads()</code> test.</p>\n<p>For the live code trigger is provided during the deployment as an argument</p>\n<pre><code>gcloud functions deploy myCloudFunction --trigger-topic=$TOPIC_TO_LISTEN\n</code></pre>\n<p>PS.\nProvided example from the comments fails for me on testconainers version 1.18.0</p>\n<p><code>testSend()</code> errors out as</p>\n<pre><code>[ault-executor-0] c.g.c.s.p.c.p.PubSubPublisherTemplate    : Publishing to test-topic topic failed.\ncom.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Topic not found\ncom.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Subscription does not exist\n</code></pre>\n<p>and <code>testWorker()</code> as</p>\n<pre><code>[ault-executor-0] c.g.c.s.p.c.p.PubSubPublisherTemplate    : Publishing to test-topic topic failed.\ncom.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Topic not found\ncom.google.api.gax.rpc.NotFoundException: com.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Subscription does not exist (resource=test-subscription)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-batch","xstream"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1684915281,"post_id":76315977,"comment_id":134585545,"body_markdown":"You are using XStream, and you should first configure XStream to unmarshall fragments as Strings. This is actually an XStream unmarshalling issue, not a Spring Batch issue per se, as the reader from Spring Batch just delegates to XStream to unmarshall items (and more precisely, to `XStreamMarshaller` from Spring OXM).","body":"You are using XStream, and you should first configure XStream to unmarshall fragments as Strings. This is actually an XStream unmarshalling issue, not a Spring Batch issue per se, as the reader from Spring Batch just delegates to XStream to unmarshall items (and more precisely, to <code>XStreamMarshaller</code> from Spring OXM)."},{"owner":{"account_id":427236,"reputation":2707,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"score":0,"creation_date":1684929504,"post_id":76315977,"comment_id":134588729,"body_markdown":"Any suggestion on how to configure XStream to unmarshall fragments as Strings?","body":"Any suggestion on how to configure XStream to unmarshall fragments as Strings?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1684931625,"post_id":76315977,"comment_id":134589270,"body_markdown":"I checked their docs before commenting here, and unfortunately I could not find anything related to that case.","body":"I checked their docs before commenting here, and unfortunately I could not find anything related to that case."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684854043,"creation_date":1684854043,"answer_id":76316152,"question_id":76315977,"body_markdown":"If you want to unmarshal to Contact class you should define the alias as follows:\r\n\r\n    aliases.put(&quot;contact&quot;, Contact.class);","title":"Unable to unmarshal xml elements into string - Spring Batch","body":"<p>If you want to unmarshal to Contact class you should define the alias as follows:</p>\n<pre><code>aliases.put(&quot;contact&quot;, Contact.class);\n</code></pre>\n"}],"owner":{"account_id":427236,"reputation":2707,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684871265,"creation_date":1684852867,"question_id":76315977,"body_markdown":"I have below sample XML that I need to read each `contact` element as String for later in the processor using dom4j for a simpler processing, the actual XML is way more complex than the one below, this is just for reproducing the issue I&#39;m having:\r\n\r\n    &lt;query&gt;\r\n    \t&lt;contact&gt;\r\n    \t\t&lt;full_name&gt;\r\n    \t\t\t&lt;first_name&gt;John&lt;/first_name&gt;\r\n    \t\t\t&lt;last_name&gt;Doe&lt;/last_name&gt;\r\n    \t\t&lt;/full_name&gt;\r\n    \t\t&lt;street&gt;111 Main St&lt;/street&gt;\r\n    \t\t&lt;city&gt;Chicago&lt;/city&gt;\r\n    \t\t&lt;state&gt;IL&lt;/state&gt;\r\n    \t\t&lt;zip&gt;60610&lt;/zip&gt;\r\n    \t&lt;/contact&gt;\r\n    \t&lt;contact&gt;\r\n    \t\t&lt;full_name&gt;\r\n    \t\t\t&lt;first_name&gt;Jane&lt;/first_name&gt;\r\n    \t\t\t&lt;last_name&gt;Smith&lt;/last_name&gt;\r\n    \t\t&lt;/full_name&gt;\r\n    \t\t&lt;street&gt;222 Main St&lt;/street&gt;\r\n    \t\t&lt;city&gt;Miami&lt;/city&gt;\r\n    \t\t&lt;state&gt;FL&lt;/state&gt;\r\n    \t&lt;/contact&gt;\r\n    &lt;/query&gt;\r\n\r\n**BatchConfiguration.java**\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    @Slf4j\r\n    public class BatchConfiguration {\r\n    \t\r\n    \t@Autowired\r\n        public JobBuilderFactory jobBuilderFactory;\r\n    \r\n        @Autowired\r\n        public StepBuilderFactory stepBuilderFactory;\r\n        \r\n        @Autowired\r\n        public ContactItemProcessor contactItemProcessor;\r\n        \r\n        @Bean\r\n        public StaxEventItemReader&lt;String&gt; reader() {\r\n        \t\r\n        \tStaxEventItemReader&lt;String&gt; reader = new StaxEventItemReader&lt;&gt;();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tMap&lt;String, Class&lt;?&gt;&gt; aliases = new HashMap&lt;&gt;();\r\n    \t        aliases.put(&quot;contact&quot;, String.class);\r\n    \t        \r\n    \t\t\tXStreamMarshaller unmarshaller = new XStreamMarshaller();\r\n    \t    \tunmarshaller.setAliases(aliases);\t\t\t\r\n    \t\t\t\r\n    \t\t\treader.setName(&quot;itemReader&quot;);\r\n    \t\t\treader.setResource(new FileSystemResource(&quot;contact-list.xml&quot;));\r\n    \t\t\treader.setFragmentRootElementName(&quot;contact&quot;);\r\n    \t\t\treader.setUnmarshaller(unmarshaller);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error(&quot;ERROR in StaxEventItemReader :: Error while reading: {}&quot;, e.getMessage());\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn reader;\r\n        }\r\n        \r\n        @Bean\r\n        public FlatFileItemWriter&lt;Contact&gt; writer() {\r\n        \t\r\n        \tFlatFileItemWriter&lt;Contact&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n        \twriter.setResource(new FileSystemResource(&quot;contact-out.dat&quot;));\r\n        \twriter.setLineAggregator(new DelimitedLineAggregator&lt;Contact&gt;() {\r\n        \t\t{\r\n        \t\t\tsetDelimiter(&quot;,&quot;);\r\n        \t\t\tsetFieldExtractor(new BeanWrapperFieldExtractor&lt;Contact&gt;() {\r\n        \t\t\t\t{\r\n        \t\t\t\t\tsetNames(new String[] { &quot;firstName&quot;, &quot;lastName&quot;, &quot;street&quot;, &quot;city&quot;, &quot;state&quot;, &quot;zip&quot; });\r\n        \t\t\t\t}    \t\t\t\t\r\n        \t\t\t});\r\n        \t\t}\r\n        \t});\r\n        \t\r\n        \treturn writer;\r\n        }\r\n            \r\n        @Bean(&quot;InputJob&quot;)\r\n    \t@Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n        public Job importUserJob(Step step) {\r\n            return jobBuilderFactory.get(&quot;importUserJob&quot;)\r\n              .incrementer(new RunIdIncrementer())          \r\n              .flow(step)\r\n              .end()\r\n              .build();\r\n        }\r\n    \r\n        @Bean\r\n        public Step step(FlatFileItemWriter&lt;Contact&gt; writer) {    \t\r\n            return stepBuilderFactory.get(&quot;step&quot;)\r\n              .&lt;String, Contact&gt; chunk(10)\r\n              .reader(reader())          \r\n              .processor(contactItemProcessor)\r\n              .writer(writer)          \r\n              .build();\r\n        }\r\n    \r\n    }\r\n**ContactItemProcessor.java**\r\n\r\n    @Component\r\n    public class ContactItemProcessor implements ItemProcessor&lt;String, Contact&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic Contact process(String item) throws Exception {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    }\r\nIn above `ContactItemProcessor` class the item string value that is coming from the reader is: `\\n\\t\\t`, is not bringing the actual `contact` element, not sure why.","title":"Unable to unmarshal xml elements into string - Spring Batch","body":"<p>I have below sample XML that I need to read each <code>contact</code> element as String for later in the processor using dom4j for a simpler processing, the actual XML is way more complex than the one below, this is just for reproducing the issue I'm having:</p>\n<pre><code>&lt;query&gt;\n    &lt;contact&gt;\n        &lt;full_name&gt;\n            &lt;first_name&gt;John&lt;/first_name&gt;\n            &lt;last_name&gt;Doe&lt;/last_name&gt;\n        &lt;/full_name&gt;\n        &lt;street&gt;111 Main St&lt;/street&gt;\n        &lt;city&gt;Chicago&lt;/city&gt;\n        &lt;state&gt;IL&lt;/state&gt;\n        &lt;zip&gt;60610&lt;/zip&gt;\n    &lt;/contact&gt;\n    &lt;contact&gt;\n        &lt;full_name&gt;\n            &lt;first_name&gt;Jane&lt;/first_name&gt;\n            &lt;last_name&gt;Smith&lt;/last_name&gt;\n        &lt;/full_name&gt;\n        &lt;street&gt;222 Main St&lt;/street&gt;\n        &lt;city&gt;Miami&lt;/city&gt;\n        &lt;state&gt;FL&lt;/state&gt;\n    &lt;/contact&gt;\n&lt;/query&gt;\n</code></pre>\n<p><strong>BatchConfiguration.java</strong></p>\n<pre><code>@Configuration\n@EnableBatchProcessing\n@Slf4j\npublic class BatchConfiguration {\n    \n    @Autowired\n    public JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    public StepBuilderFactory stepBuilderFactory;\n    \n    @Autowired\n    public ContactItemProcessor contactItemProcessor;\n    \n    @Bean\n    public StaxEventItemReader&lt;String&gt; reader() {\n        \n        StaxEventItemReader&lt;String&gt; reader = new StaxEventItemReader&lt;&gt;();\n        \n        try {\n            Map&lt;String, Class&lt;?&gt;&gt; aliases = new HashMap&lt;&gt;();\n            aliases.put(&quot;contact&quot;, String.class);\n            \n            XStreamMarshaller unmarshaller = new XStreamMarshaller();\n            unmarshaller.setAliases(aliases);           \n            \n            reader.setName(&quot;itemReader&quot;);\n            reader.setResource(new FileSystemResource(&quot;contact-list.xml&quot;));\n            reader.setFragmentRootElementName(&quot;contact&quot;);\n            reader.setUnmarshaller(unmarshaller);\n        } catch (Exception e) {\n            log.error(&quot;ERROR in StaxEventItemReader :: Error while reading: {}&quot;, e.getMessage());\n        }\n        \n        return reader;\n    }\n    \n    @Bean\n    public FlatFileItemWriter&lt;Contact&gt; writer() {\n        \n        FlatFileItemWriter&lt;Contact&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(&quot;contact-out.dat&quot;));\n        writer.setLineAggregator(new DelimitedLineAggregator&lt;Contact&gt;() {\n            {\n                setDelimiter(&quot;,&quot;);\n                setFieldExtractor(new BeanWrapperFieldExtractor&lt;Contact&gt;() {\n                    {\n                        setNames(new String[] { &quot;firstName&quot;, &quot;lastName&quot;, &quot;street&quot;, &quot;city&quot;, &quot;state&quot;, &quot;zip&quot; });\n                    }                   \n                });\n            }\n        });\n        \n        return writer;\n    }\n        \n    @Bean(&quot;InputJob&quot;)\n    @Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n    public Job importUserJob(Step step) {\n        return jobBuilderFactory.get(&quot;importUserJob&quot;)\n          .incrementer(new RunIdIncrementer())          \n          .flow(step)\n          .end()\n          .build();\n    }\n\n    @Bean\n    public Step step(FlatFileItemWriter&lt;Contact&gt; writer) {      \n        return stepBuilderFactory.get(&quot;step&quot;)\n          .&lt;String, Contact&gt; chunk(10)\n          .reader(reader())          \n          .processor(contactItemProcessor)\n          .writer(writer)          \n          .build();\n    }\n\n}\n</code></pre>\n<p><strong>ContactItemProcessor.java</strong></p>\n<pre><code>@Component\npublic class ContactItemProcessor implements ItemProcessor&lt;String, Contact&gt; {\n\n    @Override\n    public Contact process(String item) throws Exception {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n}\n</code></pre>\n<p>In above <code>ContactItemProcessor</code> class the item string value that is coming from the reader is: <code>\\n\\t\\t</code>, is not bringing the actual <code>contact</code> element, not sure why.</p>\n"},{"tags":["java","unit-testing","jvm","junit4","java-11"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1684558481,"post_id":76293532,"comment_id":134538035,"body_markdown":"Some unit test frameworks might be able to do this.  However I usually avoid making things private that I need to test, so I&#39;m not really sure which ones to use specifically in this case.  Look around!","body":"Some unit test frameworks might be able to do this.  However I usually avoid making things private that I need to test, so I&#39;m not really sure which ones to use specifically in this case.  Look around!"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1684558632,"post_id":76293532,"comment_id":134538041,"body_markdown":"If  it is just a test ,you can  modify ```Class2```  be a inner static class temporary ,so that you can instantiate class2 and test your method. In general , wo often use some test framework like junit , here is [doc](https://junit.org/junit5/)","body":"If  it is just a test ,you can  modify <code>Class2</code>  be a inner static class temporary ,so that you can instantiate class2 and test your method. In general , wo often use some test framework like junit , here is <a href=\"https://junit.org/junit5/\" rel=\"nofollow noreferrer\">doc</a>"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":5,"creation_date":1684567581,"post_id":76293532,"comment_id":134538631,"body_markdown":"You shouldn&#39;t test private methods or classes directly; test them through observable behaviour of package private (or higher) classes and methods.","body":"You shouldn&#39;t test private methods or classes directly; test them through observable behaviour of package private (or higher) classes and methods."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1684568235,"post_id":76293532,"comment_id":134538689,"body_markdown":"There must be some code in `Class1` that calls that method in `Class2`.  That&#39;s the code that you should be testing.","body":"There must be some code in <code>Class1</code> that calls that method in <code>Class2</code>.  That&#39;s the code that you should be testing."},{"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"score":0,"creation_date":1684611661,"post_id":76293532,"comment_id":134543621,"body_markdown":"Yes, there&#39;s a code in Class1 which calls methods of Class2, but somehow that couldn&#39;t be tested.","body":"Yes, there&#39;s a code in Class1 which calls methods of Class2, but somehow that couldn&#39;t be tested."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684701104,"creation_date":1684559010,"answer_id":76293589,"question_id":76293532,"body_markdown":"You could use reflection, I was able to get the following to work.\r\n\r\nConsider the following, `Class1`, and `Class2`.\r\n\r\n```java\r\npublic class Class1 {\r\n    private class Class2 {\r\n        int a1;\r\n        void method() {\r\n            System.out.println(&quot;value&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe following method will return an instance of `Class2`.\r\n\r\n```java\r\nClass1.Class2 instance() throws ReflectiveOperationException {\r\n    Class1 class1 = new Class1();\r\n    Class&lt;?&gt; object = Class1.class.getDeclaredClasses()[0];\r\n    Constructor&lt;?&gt; constructor = object.getDeclaredConstructors()[0];\r\n    constructor.setAccessible(true);\r\n    return (Class1.Class2) constructor.newInstance(class1);\r\n}\r\n```\r\n\r\nAdditionally, from the JUnit4 Frequently Asked Questions.\r\n\r\n[JUnit4 - How do I test private methods?](https://junit.org/junit4/faq.html#atests_11)\r\n\r\n&gt; Testing private methods may be an indication that those methods should be moved into another class to promote reusability.\r\n&gt; \r\n&gt; But if you must...\r\n&gt; \r\n&gt; If you are using JDK 1.3 or higher, you can use reflection to subvert the access control mechanism with the aid of the [PrivilegedAccessor](http://sourceforge.net/projects/privaccessor/). For details on how to use it, read [this article](http://www.onjava.com/pub/a/onjava/2003/11/12/reflection.html).\r\n&gt; \r\n&gt; If you are using JDK 1.6 or higher and you annotate your tests with @Test, you can use Dp4j to inject reflection in your test methods. For details on how to use it, see [this test script](http://dp4j.com/testscript).","title":"Writing test cases for private classes","body":"<p>You could use reflection, I was able to get the following to work.</p>\n<p>Consider the following, <code>Class1</code>, and <code>Class2</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Class1 {\n    private class Class2 {\n        int a1;\n        void method() {\n            System.out.println(&quot;value&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The following method will return an instance of <code>Class2</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class1.Class2 instance() throws ReflectiveOperationException {\n    Class1 class1 = new Class1();\n    Class&lt;?&gt; object = Class1.class.getDeclaredClasses()[0];\n    Constructor&lt;?&gt; constructor = object.getDeclaredConstructors()[0];\n    constructor.setAccessible(true);\n    return (Class1.Class2) constructor.newInstance(class1);\n}\n</code></pre>\n<p>Additionally, from the JUnit4 Frequently Asked Questions.</p>\n<p><a href=\"https://junit.org/junit4/faq.html#atests_11\" rel=\"nofollow noreferrer\">JUnit4 - How do I test private methods?</a></p>\n<blockquote>\n<p>Testing private methods may be an indication that those methods should be moved into another class to promote reusability.</p>\n<p>But if you must...</p>\n<p>If you are using JDK 1.3 or higher, you can use reflection to subvert the access control mechanism with the aid of the <a href=\"http://sourceforge.net/projects/privaccessor/\" rel=\"nofollow noreferrer\">PrivilegedAccessor</a>. For details on how to use it, read <a href=\"http://www.onjava.com/pub/a/onjava/2003/11/12/reflection.html\" rel=\"nofollow noreferrer\">this article</a>.</p>\n<p>If you are using JDK 1.6 or higher and you annotate your tests with @Test, you can use Dp4j to inject reflection in your test methods. For details on how to use it, see <a href=\"http://dp4j.com/testscript\" rel=\"nofollow noreferrer\">this test script</a>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12660821,"reputation":1,"user_id":10421995,"display_name":"WILFREDO ALARCON GUEVARA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684561152,"creation_date":1684559353,"answer_id":76293604,"question_id":76293532,"body_markdown":"If the access modifier of the embedded class were combined with a public getter, then it&#39;d be more feasible and reliable. Also, it would force you to have a new instance every time `retrieveClass()` is called.\r\n\r\nSay...\r\n\r\n    public class Class1 { \r\n      private class Class2 { \r\n       int a1; \r\n       void method ();\r\n      }\r\n       public Class2 retrieveClass() { \r\n         return new Class2();\r\n     }  \r\n    } \r\n\r\n\r\nEven if you had reflection handle it behind the scenes with a sort of mocking type of behavior, It may work but also I would not rely on that wonky code. Since you need it testable. \r\n\r\nAlternatively, these may be the undesired workarounds to go by:\r\n\r\n       Method method = TargetClass.getDeclaredMethod(methodName, argClasses);\r\n       method.setAccessible(true);\r\n       return method.invoke(targetObject, argObjects);\r\n\r\n\r\n       Class obj = test.getClass(); // create an object of the class named Class\r\n    \r\n       Field field = obj.getDeclaredField(&quot;fieldname&quot;); // access the private variable\r\n    \r\n       field.setAccessible(true); // make private field accessible\r\n\r\n       field.set(test,&quot;value&quot;); // setting a field value","title":"Writing test cases for private classes","body":"<p>If the access modifier of the embedded class were combined with a public getter, then it'd be more feasible and reliable. Also, it would force you to have a new instance every time <code>retrieveClass()</code> is called.</p>\n<p>Say...</p>\n<pre><code>public class Class1 { \n  private class Class2 { \n   int a1; \n   void method ();\n  }\n   public Class2 retrieveClass() { \n     return new Class2();\n }  \n} \n</code></pre>\n<p>Even if you had reflection handle it behind the scenes with a sort of mocking type of behavior, It may work but also I would not rely on that wonky code. Since you need it testable.</p>\n<p>Alternatively, these may be the undesired workarounds to go by:</p>\n<pre><code>   Method method = TargetClass.getDeclaredMethod(methodName, argClasses);\n   method.setAccessible(true);\n   return method.invoke(targetObject, argObjects);\n\n\n   Class obj = test.getClass(); // create an object of the class named Class\n\n   Field field = obj.getDeclaredField(&quot;fieldname&quot;); // access the private variable\n\n   field.setAccessible(true); // make private field accessible\n\n   field.set(test,&quot;value&quot;); // setting a field value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684870904,"creation_date":1684870904,"answer_id":76318136,"question_id":76293532,"body_markdown":"UnitTest do not *test code*, they verify the *pubic observable behavior* of the code under test. That is *return values* and *communication with dependencies* according to the parameters passed in.\r\n\r\nYour private class is an *implementation detail*, your current decision how your unit realizes its *desired behavior*. You may later change your mind and omit this class in favor of some different approach resulting in the same behavior. This is known as refactoring. In that case all your unittests &quot;testing&quot; this class would become useless and the safety net, that unittests  build for detecting unwanted changes in the units behaviors, will get a big hole. When doing unittests correctly you can change *implementation details* without changing the unittest and the latter will guarantee that the units behavior did not change unexpectedly.\r\n\r\nIn Consequence you should **not** test the private class *explicitly*. That means you should create testcases against the public class, that use this private class *implicitly*.","title":"Writing test cases for private classes","body":"<p>UnitTest do not <em>test code</em>, they verify the <em>pubic observable behavior</em> of the code under test. That is <em>return values</em> and <em>communication with dependencies</em> according to the parameters passed in.</p>\n<p>Your private class is an <em>implementation detail</em>, your current decision how your unit realizes its <em>desired behavior</em>. You may later change your mind and omit this class in favor of some different approach resulting in the same behavior. This is known as refactoring. In that case all your unittests &quot;testing&quot; this class would become useless and the safety net, that unittests  build for detecting unwanted changes in the units behaviors, will get a big hole. When doing unittests correctly you can change <em>implementation details</em> without changing the unittest and the latter will guarantee that the units behavior did not change unexpectedly.</p>\n<p>In Consequence you should <strong>not</strong> test the private class <em>explicitly</em>. That means you should create testcases against the public class, that use this private class <em>implicitly</em>.</p>\n"}],"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684870904,"creation_date":1684557054,"question_id":76293532,"body_markdown":"There is a public class in which a private class has been written with some properties and methods. Now, we want to write test cases for this private class but since it&#39;s a private class, we can&#39;t create an instance of that class. I tried using reflection utils, but that can help only for private methods of public classes.\r\n\r\n```java\r\npublic class Class1{\r\n    private class Class2{\r\n        int a1;\r\n        void method () { }\r\n    }\r\n}\r\n```","title":"Writing test cases for private classes","body":"<p>There is a public class in which a private class has been written with some properties and methods. Now, we want to write test cases for this private class but since it's a private class, we can't create an instance of that class. I tried using reflection utils, but that can help only for private methods of public classes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Class1{\n    private class Class2{\n        int a1;\n        void method () { }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684870594,"creation_date":1675144750,"answer_id":75293200,"question_id":75292960,"body_markdown":"Debugged this for many hours. The error is not because it cannot find `com.teradata.jdbc:terajdbc4:jar`, its because the `application.properties` was not making it through. We thought it was reading `application.properties` but it wasn&#39;t. In our case we were building the fatjar using the shade plugin as mentioned in the question. It turns out the fatjar should be built using the _`spring-boot-maven-plugin`_ as explained [here](https://www.baeldung.com/spring-boot-repackage-vs-mvn-package). Specifically you have to be careful to use:\r\n\r\n```\r\nmvn clean package spring-boot:repackage\r\n```\r\n\r\nIn the first case (using the `shade` plugin), the `application.properties` is under the root directory of the jar file. In the second case (using `spring-boot-maven-plugin`), the root directory contains\r\n\r\n```\r\n % ls                                                                                                                                                                                                                                         temp/td-atr-api2 SIJAIN2-M-89PB\r\nBOOT-INF META-INF org\r\n```\r\n\r\nand application.properties is under `BOOT-INF/classes/application.properties`. the organization is very different.","title":"o.s.b.a.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class","body":"<p>Debugged this for many hours. The error is not because it cannot find <code>com.teradata.jdbc:terajdbc4:jar</code>, its because the <code>application.properties</code> was not making it through. We thought it was reading <code>application.properties</code> but it wasn't. In our case we were building the fatjar using the shade plugin as mentioned in the question. It turns out the fatjar should be built using the <em><code>spring-boot-maven-plugin</code></em> as explained <a href=\"https://www.baeldung.com/spring-boot-repackage-vs-mvn-package\" rel=\"nofollow noreferrer\">here</a>. Specifically you have to be careful to use:</p>\n<pre><code>mvn clean package spring-boot:repackage\n</code></pre>\n<p>In the first case (using the <code>shade</code> plugin), the <code>application.properties</code> is under the root directory of the jar file. In the second case (using <code>spring-boot-maven-plugin</code>), the root directory contains</p>\n<pre><code> % ls                                                                                                                                                                                                                                         temp/td-atr-api2 SIJAIN2-M-89PB\nBOOT-INF META-INF org\n</code></pre>\n<p>and application.properties is under <code>BOOT-INF/classes/application.properties</code>. the organization is very different.</p>\n"}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75293200,"answer_count":1,"score":0,"last_activity_date":1684870594,"creation_date":1675142188,"question_id":75292960,"body_markdown":"We have a spring boot 2.7.3 app. It runs fine when invoked from Maven like this:\r\n\r\n```\r\nmvn spring-boot:run\r\n```\r\n\r\nBut when we build a fatjar using the shade plugin and try to invoke the application using `java`, we get this error (showing the innermost exception):\r\n\r\n```\r\nCaused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:182)\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:123)\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48)\r\n\tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 42 common frames omitted\r\n```\r\n\r\nOur `application.properties` is like this:\r\n\r\n```\r\nspring.datasource.driver-class-name=com.teradata.jdbc.TeraDriver\r\nspring.jpa.hibernate.ddl-auto=none\r\nspring.jpa.open-in-view=false\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.TeradataDialect\r\nspring.datasource.username=\r\nspring.datasource.url=jdbc:teradata://TD1/TMODE=ANSI,CHARSET=UTF8\r\nspring.datasource.password=\r\n```\r\n\r\nand in our `pom.xml` we have:\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;com.teradata.jdbc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;terajdbc4&lt;/artifactId&gt;\r\n      &lt;version&gt;17.20.00.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n_We also unpacked the fatjar and verified `com.teradata.jdbc.TeraDriver` is contained in it_. When we built the fatjar we could see below in Maven output:\r\n\r\n```\r\n[INFO] Including com.teradata.jdbc:terajdbc4:jar:17.20.00.12 in the shaded jar.\r\n```\r\n\r\nWhy is it then saying Failed to determine a suitable driver class? How can we fix this problem?","title":"o.s.b.a.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class","body":"<p>We have a spring boot 2.7.3 app. It runs fine when invoked from Maven like this:</p>\n<pre><code>mvn spring-boot:run\n</code></pre>\n<p>But when we build a fatjar using the shade plugin and try to invoke the application using <code>java</code>, we get this error (showing the innermost exception):</p>\n<pre><code>Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:182)\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:123)\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48)\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 42 common frames omitted\n</code></pre>\n<p>Our <code>application.properties</code> is like this:</p>\n<pre><code>spring.datasource.driver-class-name=com.teradata.jdbc.TeraDriver\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.open-in-view=false\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.TeradataDialect\nspring.datasource.username=\nspring.datasource.url=jdbc:teradata://TD1/TMODE=ANSI,CHARSET=UTF8\nspring.datasource.password=\n</code></pre>\n<p>and in our <code>pom.xml</code> we have:</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;com.teradata.jdbc&lt;/groupId&gt;\n      &lt;artifactId&gt;terajdbc4&lt;/artifactId&gt;\n      &lt;version&gt;17.20.00.12&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><em>We also unpacked the fatjar and verified <code>com.teradata.jdbc.TeraDriver</code> is contained in it</em>. When we built the fatjar we could see below in Maven output:</p>\n<pre><code>[INFO] Including com.teradata.jdbc:terajdbc4:jar:17.20.00.12 in the shaded jar.\n</code></pre>\n<p>Why is it then saying Failed to determine a suitable driver class? How can we fix this problem?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679396119,"post_id":75800209,"comment_id":133710413,"body_markdown":"Did you have a look at the plugin&#39;s [usage page](http://www.mojohaus.org/properties-maven-plugin/usage.html) and try one of the first 2 options which include `&lt;phase&gt;initialize&lt;/phase&gt;` and `&lt;goal&gt;read-project-properties&lt;/goal&gt;`?","body":"Did you have a look at the plugin&#39;s <a href=\"http://www.mojohaus.org/properties-maven-plugin/usage.html\" rel=\"nofollow noreferrer\">usage page</a> and try one of the first 2 options which include <code>&lt;phase&gt;initialize&lt;&#47;phase&gt;</code> and <code>&lt;goal&gt;read-project-properties&lt;&#47;goal&gt;</code>?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679396500,"post_id":75800209,"comment_id":133710515,"body_markdown":"Why is the `jacoco-maven-plugin` even a dependency, isn&#39;t that weird? Also you defined a property named `version` and reference `example-library.version` as a property, that doesn&#39;t match.","body":"Why is the <code>jacoco-maven-plugin</code> even a dependency, isn&#39;t that weird? Also you defined a property named <code>version</code> and reference <code>example-library.version</code> as a property, that doesn&#39;t match."}],"answers":[{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684870468,"creation_date":1684868090,"answer_id":76317839,"question_id":75800209,"body_markdown":"There a a couple of things to point out \r\n\r\n 1. If you intend to use maven properties plugin (either a new or an old one, see below), this will not help you. Becuase when maven parses the POM it needs to know the versions already, **it happens before any build**. So by the time of build you should already know the versions of dependencies, not by the time of some build phase. So the plugin you are trying to use is not going to solve this problem. \r\n\r\n 2. To solve your problem, you can try to pass properties into maven form command line, like `-Dsome.version=1.6.3` for instance. This way, you will provide the property value at the parsing time so the maven will be able to recognize and substitute the variable.\r\n\r\nAs a side note, talking about `properties-maven-plugin`, there are 2 options, as far as I can tell...\r\n\r\n* There is maven properties plugin: https://github.com/mojohaus/properties-maven-plugin. I do not think a lot of people use it since this plugin is no more under active development.\r\n\r\n* Or you can use this plugin: https://github.com/Mikhail2048/properties-maven-plugin/tree/v1.0.0. This plugin is a fork of maven plugin but is under active development and is more feature reach. \r\n\r\nI only can tell about the later since I myself is one of the contributors to the project - there is a `README.md` file that shows multiple examples of how you can use the plugin. There is an example specifically for your case as well. So check this out.","title":"how can I dynamically add version of any dependency in pom.xml without profiling","body":"<p>There a a couple of things to point out</p>\n<ol>\n<li><p>If you intend to use maven properties plugin (either a new or an old one, see below), this will not help you. Becuase when maven parses the POM it needs to know the versions already, <strong>it happens before any build</strong>. So by the time of build you should already know the versions of dependencies, not by the time of some build phase. So the plugin you are trying to use is not going to solve this problem.</p>\n</li>\n<li><p>To solve your problem, you can try to pass properties into maven form command line, like <code>-Dsome.version=1.6.3</code> for instance. This way, you will provide the property value at the parsing time so the maven will be able to recognize and substitute the variable.</p>\n</li>\n</ol>\n<p>As a side note, talking about <code>properties-maven-plugin</code>, there are 2 options, as far as I can tell...</p>\n<ul>\n<li><p>There is maven properties plugin: <a href=\"https://github.com/mojohaus/properties-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/mojohaus/properties-maven-plugin</a>. I do not think a lot of people use it since this plugin is no more under active development.</p>\n</li>\n<li><p>Or you can use this plugin: <a href=\"https://github.com/Mikhail2048/properties-maven-plugin/tree/v1.0.0\" rel=\"nofollow noreferrer\">https://github.com/Mikhail2048/properties-maven-plugin/tree/v1.0.0</a>. This plugin is a fork of maven plugin but is under active development and is more feature reach.</p>\n</li>\n</ul>\n<p>I only can tell about the later since I myself is one of the contributors to the project - there is a <code>README.md</code> file that shows multiple examples of how you can use the plugin. There is an example specifically for your case as well. So check this out.</p>\n"}],"owner":{"account_id":10278174,"reputation":11,"user_id":19296413,"display_name":"Praduman Yadav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684870468,"creation_date":1679395708,"question_id":75800209,"body_markdown":"I want to dynamically add the version of the dependency using `${variable_name}`, I added that variable in another pom.properties file parallel to the pom. I am getting the &quot;not able to resolve dependencies&quot; error. I am using `properties-maven-plugin`.\r\n\r\nI expected that if I used this plugin the plugin would read me the variable that i have defined in pom.properties and I will be able to use that variable in version tag in dependency.\r\nI have used `org.jacoco.jacoco-maven-plugin` to find the solution of this problem.\r\n\r\nI have added my `pom.xml` below.\r\n\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.9&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;project&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;project&lt;/name&gt;\r\n\t&lt;description&gt;Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t  &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;set-property&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                       \r\n                        &lt;configuration&gt;\r\n                            &lt;files&gt;\r\n                                \r\n                                &lt;file&gt;C:\\Users\\praduman.yadav\\eclipse\\learning-workspace\\springboot project\\project\\example-library.properties&lt;/file&gt;\r\n                            &lt;/files&gt;\r\n                         \r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n    \r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;${example-library.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI have added the below version variable in my pom.properties below\r\n\r\n\r\n```\r\nversion=0.8.8\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"how can I dynamically add version of any dependency in pom.xml without profiling","body":"<p>I want to dynamically add the version of the dependency using <code>${variable_name}</code>, I added that variable in another pom.properties file parallel to the pom. I am getting the &quot;not able to resolve dependencies&quot; error. I am using <code>properties-maven-plugin</code>.</p>\n<p>I expected that if I used this plugin the plugin would read me the variable that i have defined in pom.properties and I will be able to use that variable in version tag in dependency.\nI have used <code>org.jacoco.jacoco-maven-plugin</code> to find the solution of this problem.</p>\n<p>I have added my <code>pom.xml</code> below.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.9&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;project&lt;/name&gt;\n    &lt;description&gt;Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;set-property&lt;/goal&gt;\n                        &lt;/goals&gt;\n                       \n                        &lt;configuration&gt;\n                            &lt;files&gt;\n                                \n                                &lt;file&gt;C:\\Users\\praduman.yadav\\eclipse\\learning-workspace\\springboot project\\project\\example-library.properties&lt;/file&gt;\n                            &lt;/files&gt;\n                         \n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n    \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${example-library.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have added the below version variable in my pom.properties below</p>\n<pre><code>version=0.8.8\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675241024,"creation_date":1675241024,"answer_id":75307514,"question_id":75291817,"body_markdown":"Adjust your `application.yml/properties` to the following\r\n\r\n``` \r\nspring:\r\n  application:\r\n    name: service-name\r\n\r\n  profiles:\r\n    active: ${PROFILE:local}\r\n\r\n```\r\n\r\nand run the following command\r\n\r\n`java -jar td-api-1.0-SNAPSHOT.jar --PROFILE=environement`\r\n\r\nthe advantage of the above is you can default your profile to a fallback profile if the environment was not provided.\r\n\r\n*The command above takes into consideration that you are inside of the /target dir*","title":"SPRING_PROFILES_ACTIVE does not work. How to fix?","body":"<p>Adjust your <code>application.yml/properties</code> to the following</p>\n<pre><code>spring:\n  application:\n    name: service-name\n\n  profiles:\n    active: ${PROFILE:local}\n\n</code></pre>\n<p>and run the following command</p>\n<p><code>java -jar td-api-1.0-SNAPSHOT.jar --PROFILE=environement</code></p>\n<p>the advantage of the above is you can default your profile to a fallback profile if the environment was not provided.</p>\n<p><em>The command above takes into consideration that you are inside of the /target dir</em></p>\n"},{"tags":[],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684870368,"creation_date":1684870368,"answer_id":76318076,"question_id":75291817,"body_markdown":"As best as I can remember the problem in our case was a misconfigured `pom.xml` due to which the `.properties` file was not making it to the fat jar. There was no issue with the `.properties` file or with Spring. _The solution was to use the [`spring-boot-maven-plugin`][1] to package the application instead of the `shade` plugin_. `pom.xml` looks like:\r\n\r\n```\r\n&lt;build&gt;\r\n    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;        \r\n        &lt;/plugin&gt;       \r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/","title":"SPRING_PROFILES_ACTIVE does not work. How to fix?","body":"<p>As best as I can remember the problem in our case was a misconfigured <code>pom.xml</code> due to which the <code>.properties</code> file was not making it to the fat jar. There was no issue with the <code>.properties</code> file or with Spring. <em>The solution was to use the <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\"><code>spring-boot-maven-plugin</code></a> to package the application instead of the <code>shade</code> plugin</em>. <code>pom.xml</code> looks like:</p>\n<pre><code>&lt;build&gt;\n    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n        &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;        \n        &lt;/plugin&gt;       \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":897,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76318076,"answer_count":2,"score":0,"last_activity_date":1684870368,"creation_date":1675128095,"question_id":75291817,"body_markdown":"According to [this](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.properties-and-configuration) (and also [this](https://stackoverflow.com/a/46050490/147530)):\r\n\r\n&gt; The Spring Environment has an API for this, but you would normally set a System property (spring.profiles.active) or an OS environment variable (SPRING_PROFILES_ACTIVE).\r\n\r\nI am using version 2.7.3 of Spring Boot:\r\n\r\n```\r\n&lt;dependency&gt;\r\n        &lt;!-- Import dependency management from Spring Boot --&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n```\r\n\r\nWe have a `src/main/resources/application.properties` file like this:\r\n\r\n```\r\nspring.datasource.driver-class-name=com.teradata.jdbc.TeraDriver\r\nspring.jpa.hibernate.ddl-auto=none\r\nspring.jpa.open-in-view=false\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.TeradataDialect\r\n#---\r\nspring.config.activate.on-profile=local\r\nspring.datasource.username=\r\nspring.datasource.url=jdbc:teradata://TDTEST/TMODE=ANSI,CHARSET=UTF8\r\nspring.datasource.password=\r\n#---\r\nspring.config.activate.on-profile=prod\r\nspring.datasource.username=\r\nspring.datasource.url=\r\n```\r\n\r\nWe built a fatjar using the maven shade plugin. But when we try to run it like this:\r\n\r\n```\r\nSPRING_PROFILES_ACTIVE=local java -ea -jar target/td-api-1.0-SNAPSHOT.jar\r\n```\r\n\r\nWe get this message:\r\n\r\n```\r\n17:09:42.663 [main] INFO cdao.dpde.app.App - No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n```\r\n\r\nWhy? How can I fix this?","title":"SPRING_PROFILES_ACTIVE does not work. How to fix?","body":"<p>According to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.properties-and-configuration\" rel=\"nofollow noreferrer\">this</a> (and also <a href=\"https://stackoverflow.com/a/46050490/147530\">this</a>):</p>\n<blockquote>\n<p>The Spring Environment has an API for this, but you would normally set a System property (spring.profiles.active) or an OS environment variable (SPRING_PROFILES_ACTIVE).</p>\n</blockquote>\n<p>I am using version 2.7.3 of Spring Boot:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;!-- Import dependency management from Spring Boot --&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>We have a <code>src/main/resources/application.properties</code> file like this:</p>\n<pre><code>spring.datasource.driver-class-name=com.teradata.jdbc.TeraDriver\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.open-in-view=false\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.TeradataDialect\n#---\nspring.config.activate.on-profile=local\nspring.datasource.username=\nspring.datasource.url=jdbc:teradata://TDTEST/TMODE=ANSI,CHARSET=UTF8\nspring.datasource.password=\n#---\nspring.config.activate.on-profile=prod\nspring.datasource.username=\nspring.datasource.url=\n</code></pre>\n<p>We built a fatjar using the maven shade plugin. But when we try to run it like this:</p>\n<pre><code>SPRING_PROFILES_ACTIVE=local java -ea -jar target/td-api-1.0-SNAPSHOT.jar\n</code></pre>\n<p>We get this message:</p>\n<pre><code>17:09:42.663 [main] INFO cdao.dpde.app.App - No active profile set, falling back to 1 default profile: &quot;default&quot;\n</code></pre>\n<p>Why? How can I fix this?</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1684868326,"post_id":76317852,"comment_id":134579464,"body_markdown":"Sounds like `#getListObject` is returning a `List&lt;Object&gt;` which your `PetList` (naming conventions!) does not accept. That function should really be `public &lt;T&gt; ArrayList&lt;T&gt; getListObject(String key, Class&lt;T&gt; mClass) { ... }` in order to return the correct type.","body":"Sounds like <code>#getListObject</code> is returning a <code>List&lt;Object&gt;</code> which your <code>PetList</code> (naming conventions!) does not accept. That function should really be <code>public &lt;T&gt; ArrayList&lt;T&gt; getListObject(String key, Class&lt;T&gt; mClass) { ... }</code> in order to return the correct type."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684868610,"post_id":76317852,"comment_id":134579519,"body_markdown":"gson can already parse and return a list. Dont use a for loop","body":"gson can already parse and return a list. Dont use a for loop"}],"answers":[{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684869003,"creation_date":1684868600,"answer_id":76317885,"question_id":76317852,"body_markdown":"Without any improvements to the code beyond what is necessary, you should utilize the type provided by your `Class` parameter:\r\n\r\n    public &lt;T&gt; ArrayList&lt;T&gt; getListObject(String key, Class&lt;T&gt; mClass){ //change 1\r\n        Gson gson = new Gson();\r\n    \r\n        ArrayList&lt;String&gt; objStrings = getListString(key);\r\n        ArrayList&lt;T&gt; objects =  new ArrayList&lt;&gt;(); //change 2\r\n    \r\n        for(String jObjString : objStrings){\r\n            T value  = gson.fromJson(jObjString,  mClass); //change 3\r\n            objects.add(value);\r\n        }\r\n        return objects;\r\n    }\r\n\r\nRegarding the changes above:\r\n\r\n \r\n\r\n 1. Introducing `&lt;T&gt;` is declaring a generic type parameter _on the method_. When we then declare `mClass` as a `Class&lt;T&gt;`, we say that `T` is an instance of the class type you passed. By returning `ArrayList&lt;T&gt;`, we&#39;re returning a list of objects that have the type you provided.\r\n 2. Our returned value is changed accordingly, so that we truly return a `List&lt;T&gt;`. The second `Object` is dropped in favor of the diamond operator `new ArrayList&lt;&gt;()`, as re-declaring the type is not necessary in Java 7+\r\n 3. We utilize the generic return value from `Gson#fromJson` which does a similar approach to what we&#39;ve done above. This allows us to get a `T` value instead of just an `Object`, which we add to our result list.\r\n\r\nAs noted in the comments, there are means of retrieving list values from gson (e.g. a `TypeAdapter` or even type tokens), but the solution above is to demonstrate fixing the problem with raw types and invariant types for generics (`List&lt;String&gt; != List&lt;Number&gt;` for most contexts).","title":"In Java I&#39;m was doing an ArrayList with my class, but when I&#39;m trying to use a function from side library, I get an error about Provided type","body":"<p>Without any improvements to the code beyond what is necessary, you should utilize the type provided by your <code>Class</code> parameter:</p>\n<pre><code>public &lt;T&gt; ArrayList&lt;T&gt; getListObject(String key, Class&lt;T&gt; mClass){ //change 1\n    Gson gson = new Gson();\n\n    ArrayList&lt;String&gt; objStrings = getListString(key);\n    ArrayList&lt;T&gt; objects =  new ArrayList&lt;&gt;(); //change 2\n\n    for(String jObjString : objStrings){\n        T value  = gson.fromJson(jObjString,  mClass); //change 3\n        objects.add(value);\n    }\n    return objects;\n}\n</code></pre>\n<p>Regarding the changes above:</p>\n<ol>\n<li>Introducing <code>&lt;T&gt;</code> is declaring a generic type parameter <em>on the method</em>. When we then declare <code>mClass</code> as a <code>Class&lt;T&gt;</code>, we say that <code>T</code> is an instance of the class type you passed. By returning <code>ArrayList&lt;T&gt;</code>, we're returning a list of objects that have the type you provided.</li>\n<li>Our returned value is changed accordingly, so that we truly return a <code>List&lt;T&gt;</code>. The second <code>Object</code> is dropped in favor of the diamond operator <code>new ArrayList&lt;&gt;()</code>, as re-declaring the type is not necessary in Java 7+</li>\n<li>We utilize the generic return value from <code>Gson#fromJson</code> which does a similar approach to what we've done above. This allows us to get a <code>T</code> value instead of just an <code>Object</code>, which we add to our result list.</li>\n</ol>\n<p>As noted in the comments, there are means of retrieving list values from gson (e.g. a <code>TypeAdapter</code> or even type tokens), but the solution above is to demonstrate fixing the problem with raw types and invariant types for generics (<code>List&lt;String&gt; != List&lt;Number&gt;</code> for most contexts).</p>\n"}],"owner":{"account_id":22556897,"reputation":5,"user_id":18053287,"display_name":"yogurtik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76317885,"answer_count":1,"score":0,"last_activity_date":1684869003,"creation_date":1684868224,"question_id":76317852,"body_markdown":"I am creating an ArrayList with my own Pet class, but when I try to use a function from a side library, I get an error message. This is a necessary piece of code:\r\n```\r\nArrayList&lt;Pet&gt; PetList = new ArrayList&lt;Pet&gt;();\r\nTinyDB tinydb = new TinyDB(getContext());\r\nPetList = tinydb.getListObject(&quot;PETS&quot;, Pet.class);\r\n```\r\nMessage error:\r\n```\r\nRequired type:\r\nArrayList&lt;Pet&gt;\r\nProvided:\r\nArrayList&lt;Object&gt;\r\n```\r\nThere&#39;s a Pet class:\r\n\r\n```\r\nimport android.graphics.Bitmap;\r\n\r\npublic class Pet {\r\n    public String name;\r\n    public String birthday;\r\n    public Animal type;\r\n    public Bitmap photo;\r\n\r\n    public Pet() {\r\n    }\r\n}\r\n```\r\nThere&#39;s a function&#39;s code:\r\n```\r\npublic ArrayList&lt;Object&gt; getListObject(String key, Class&lt;?&gt; mClass){\r\n    Gson gson = new Gson();\r\n\r\n    ArrayList&lt;String&gt; objStrings = getListString(key);\r\n    ArrayList&lt;Object&gt; objects =  new ArrayList&lt;Object&gt;();\r\n\r\n    for(String jObjString : objStrings){\r\n    \tObject value  = gson.fromJson(jObjString,  mClass);\r\n    \tobjects.add(value);\r\n    }\r\n    return objects;\r\n}\r\n```","title":"In Java I&#39;m was doing an ArrayList with my class, but when I&#39;m trying to use a function from side library, I get an error about Provided type","body":"<p>I am creating an ArrayList with my own Pet class, but when I try to use a function from a side library, I get an error message. This is a necessary piece of code:</p>\n<pre><code>ArrayList&lt;Pet&gt; PetList = new ArrayList&lt;Pet&gt;();\nTinyDB tinydb = new TinyDB(getContext());\nPetList = tinydb.getListObject(&quot;PETS&quot;, Pet.class);\n</code></pre>\n<p>Message error:</p>\n<pre><code>Required type:\nArrayList&lt;Pet&gt;\nProvided:\nArrayList&lt;Object&gt;\n</code></pre>\n<p>There's a Pet class:</p>\n<pre><code>import android.graphics.Bitmap;\n\npublic class Pet {\n    public String name;\n    public String birthday;\n    public Animal type;\n    public Bitmap photo;\n\n    public Pet() {\n    }\n}\n</code></pre>\n<p>There's a function's code:</p>\n<pre><code>public ArrayList&lt;Object&gt; getListObject(String key, Class&lt;?&gt; mClass){\n    Gson gson = new Gson();\n\n    ArrayList&lt;String&gt; objStrings = getListString(key);\n    ArrayList&lt;Object&gt; objects =  new ArrayList&lt;Object&gt;();\n\n    for(String jObjString : objStrings){\n        Object value  = gson.fromJson(jObjString,  mClass);\n        objects.add(value);\n    }\n    return objects;\n}\n</code></pre>\n"},{"tags":["java","maven","multi-module","properties-file"],"answers":[{"tags":[],"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389274430,"creation_date":1389274430,"answer_id":21021721,"question_id":21020755,"body_markdown":"In a production ready application you wouldn&#39;t want your properties to be bundled in your app, but rather be outside of it, so you can change just them rather than having to rebuild the whole app, so I would advise you to make your application production-ready and not have the properties included in the first place.","title":"Maven Properties Plugin","body":"<p>In a production ready application you wouldn't want your properties to be bundled in your app, but rather be outside of it, so you can change just them rather than having to rebuild the whole app, so I would advise you to make your application production-ready and not have the properties included in the first place.</p>\n"},{"tags":[],"owner":{"account_id":304772,"reputation":11223,"user_id":614482,"accept_rate":80,"display_name":"Emerson Farrugia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389275767,"creation_date":1389275767,"answer_id":21022203,"question_id":21020755,"body_markdown":"Put the properties file at the parent project level, then tell the Properties Maven plugin to reference it from there.\r\n\r\n      &lt;configuration&gt;\r\n         &lt;files&gt;\r\n            &lt;file&gt;${myPropertyFile}/file&gt;\r\n         &lt;/files&gt;\r\n      &lt;/configuration&gt;\r\n\r\nIn the parent project,\r\n\r\n       &lt;properties&gt;\r\n          &lt;myPropertyFile&gt;${project.basedir}/foo.properties&lt;/myPropertyFile&gt;\r\n       &lt;/properties&gt;\r\n\r\nIn the child projects,\r\n\r\n       &lt;properties&gt;\r\n          &lt;myPropertyFile&gt;${project.parent.basedir}/foo.properties&lt;/myPropertyFile&gt;\r\n       &lt;/properties&gt;\r\n\r\nDepending on your project, you might be able to just put the latter &quot;.parent.&quot; version in the parent project and be done with it, since the child projects would inherit it.","title":"Maven Properties Plugin","body":"<p>Put the properties file at the parent project level, then tell the Properties Maven plugin to reference it from there.</p>\n\n<pre><code>  &lt;configuration&gt;\n     &lt;files&gt;\n        &lt;file&gt;${myPropertyFile}/file&gt;\n     &lt;/files&gt;\n  &lt;/configuration&gt;\n</code></pre>\n\n<p>In the parent project,</p>\n\n<pre><code>   &lt;properties&gt;\n      &lt;myPropertyFile&gt;${project.basedir}/foo.properties&lt;/myPropertyFile&gt;\n   &lt;/properties&gt;\n</code></pre>\n\n<p>In the child projects,</p>\n\n<pre><code>   &lt;properties&gt;\n      &lt;myPropertyFile&gt;${project.parent.basedir}/foo.properties&lt;/myPropertyFile&gt;\n   &lt;/properties&gt;\n</code></pre>\n\n<p>Depending on your project, you might be able to just put the latter \".parent.\" version in the parent project and be done with it, since the child projects would inherit it.</p>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684868892,"creation_date":1684868892,"answer_id":76317918,"question_id":21020755,"body_markdown":"In general, you seem to just want to access the properties loaded in parent module in child modules as well. \r\n\r\nIf this is case, there will be no point to declare plugin in each child - you&#39;ll just be able to reference properties with `${}` in child modules.\r\n\r\nThere is a feature request actually in original repository: https://github.com/mojohaus/properties-maven-plugin/issues/32\r\n\r\n**But Apache maven-properties-plugin is no longer in active development.**\r\n\r\nThere is a more modern fork, with more features and under active development:\r\n\r\nhttps://github.com/Mikhail2048/properties-maven-plugin\r\n\r\nI am one of the contributors to this project as well. We have also an issue to implement this behavior: https://github.com/Mikhail2048/properties-maven-plugin/issues/8\r\n\r\nI guess it should be available at `1.1.0` version. I will update this post for future developers who will be interested in it.","title":"Maven Properties Plugin","body":"<p>In general, you seem to just want to access the properties loaded in parent module in child modules as well.</p>\n<p>If this is case, there will be no point to declare plugin in each child - you'll just be able to reference properties with <code>${}</code> in child modules.</p>\n<p>There is a feature request actually in original repository: <a href=\"https://github.com/mojohaus/properties-maven-plugin/issues/32\" rel=\"nofollow noreferrer\">https://github.com/mojohaus/properties-maven-plugin/issues/32</a></p>\n<p><strong>But Apache maven-properties-plugin is no longer in active development.</strong></p>\n<p>There is a more modern fork, with more features and under active development:</p>\n<p><a href=\"https://github.com/Mikhail2048/properties-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/Mikhail2048/properties-maven-plugin</a></p>\n<p>I am one of the contributors to this project as well. We have also an issue to implement this behavior: <a href=\"https://github.com/Mikhail2048/properties-maven-plugin/issues/8\" rel=\"nofollow noreferrer\">https://github.com/Mikhail2048/properties-maven-plugin/issues/8</a></p>\n<p>I guess it should be available at <code>1.1.0</code> version. I will update this post for future developers who will be interested in it.</p>\n"}],"owner":{"account_id":3320172,"reputation":199,"user_id":2791546,"display_name":"user2791546"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":914,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684868892,"creation_date":1389271720,"question_id":21020755,"body_markdown":"I am using Maven Properties plugin to load the properties from a properties file. My Project is a multi module project with EAR and EJB modules with there respective pom files. And there is a parent pom. \r\nI am getting an error if I dont keep the properties file at all three locations (i.e. one in parent module and one each in EAR and EJB modules). It throws a FileNotFoundException if the Properties file isnt there even in one location. \r\nI dont want to keep the same file at three different locations.\r\nPlease suggest how can I work around with this.","title":"Maven Properties Plugin","body":"<p>I am using Maven Properties plugin to load the properties from a properties file. My Project is a multi module project with EAR and EJB modules with there respective pom files. And there is a parent pom. \nI am getting an error if I dont keep the properties file at all three locations (i.e. one in parent module and one each in EAR and EJB modules). It throws a FileNotFoundException if the Properties file isnt there even in one location. \nI dont want to keep the same file at three different locations.\nPlease suggest how can I work around with this.</p>\n"},{"tags":["java","android","android-studio","activitynotfoundexception"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1684731209,"post_id":76302794,"comment_id":134554019,"body_markdown":"Your error says you spelled `image` wrong - it says you spelled it `iamge`. Do you still get the same error when you spell the mime type correctly?","body":"Your error says you spelled <code>image</code> wrong - it says you spelled it <code>iamge</code>. Do you still get the same error when you spell the mime type correctly?"},{"owner":{"account_id":28650697,"reputation":1,"user_id":21937717,"display_name":"QiaoHW"},"score":0,"creation_date":1684734346,"post_id":76302794,"comment_id":134554335,"body_markdown":"I checked code ,You are right ,I did make a spelling mistake in one place and missed it","body":"I checked code ,You are right ,I did make a spelling mistake in one place and missed it"}],"answers":[{"tags":[],"owner":{"account_id":25693839,"reputation":34,"user_id":19454844,"display_name":"Sachithra Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684725930,"creation_date":1684725631,"answer_id":76302853,"question_id":76302794,"body_markdown":"Put your code into a `try-catch` block like below,\r\n\r\n     try {\r\n           Intent intent = new Intent();\r\n           if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.S_V2) {\r\n               intent.setAction(MediaStore.ACTION_PICK_IMAGES);\r\n           } else {\r\n               intent.setAction(Intent.ACTION_PICK);\r\n           }\r\n           intent.setDataAndType(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, &quot;image/*&quot;);\r\n           activity.startActivityForResult(intent, requestCode);\r\n       } catch (ActivityNotFoundException ex) {\r\n           e.printStackTrace();\r\n       }\r\n\r\nIf this not work try to use `Intent` code as a below,\r\n\r\n    Intent intent = new Intent(this, class);","title":"No Activity found to handle Intent act=android.provider.action.PICK_IMAGES","body":"<p>Put your code into a <code>try-catch</code> block like below,</p>\n<pre><code> try {\n       Intent intent = new Intent();\n       if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.S_V2) {\n           intent.setAction(MediaStore.ACTION_PICK_IMAGES);\n       } else {\n           intent.setAction(Intent.ACTION_PICK);\n       }\n       intent.setDataAndType(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, &quot;image/*&quot;);\n       activity.startActivityForResult(intent, requestCode);\n   } catch (ActivityNotFoundException ex) {\n       e.printStackTrace();\n   }\n</code></pre>\n<p>If this not work try to use <code>Intent</code> code as a below,</p>\n<pre><code>Intent intent = new Intent(this, class);\n</code></pre>\n"}],"owner":{"account_id":28650697,"reputation":1,"user_id":21937717,"display_name":"QiaoHW"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684868496,"creation_date":1684724181,"question_id":76302794,"body_markdown":"I am making an Android app. I updated the target version from 28 to 33. I need to use the picture selector. I made it such that if the Build.VERSION.SDK_INT is higher than S_V2, then action MediaStore.ACTION_PICK_IMAGES is used. Otherwise Intent.ACTION_PICK used.\r\nI extracted it into a tool. However, when I use it elsewhere in the project, sometimes it works, but sometimes I get an exception. The exception that I get:\r\n~~~\r\nandroid.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.provider.action.PICK_IMAGES cat=\\[android.intent.category.DEFAULT\\] dat=content://media/... typ=iamge/\\* }\r\n~~~\r\n\r\nI don&#39;t understand why this exception is thrown.\r\nMy code:\r\n```\r\nIntent intent = new Intent();\r\nif (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.S_V2){\r\nintent.setAction(MediaStore.ACTION_PICK_IMAGES);\r\n} else {\r\nintent.setAction(Intent.ACTION_PICK);\r\n}\r\nintent.setDataAndType(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, &quot;image/*&quot;);\r\nactivity.startActivityForResult(intent, requestCode);\r\n```\r\n\r\nWhat should I do to solve the exception? Any help is appreciated.","title":"No Activity found to handle Intent act=android.provider.action.PICK_IMAGES","body":"<p>I am making an Android app. I updated the target version from 28 to 33. I need to use the picture selector. I made it such that if the Build.VERSION.SDK_INT is higher than S_V2, then action MediaStore.ACTION_PICK_IMAGES is used. Otherwise Intent.ACTION_PICK used.\nI extracted it into a tool. However, when I use it elsewhere in the project, sometimes it works, but sometimes I get an exception. The exception that I get:</p>\n<pre><code>android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.provider.action.PICK_IMAGES cat=\\[android.intent.category.DEFAULT\\] dat=content://media/... typ=iamge/\\* }\n</code></pre>\n<p>I don't understand why this exception is thrown.\nMy code:</p>\n<pre><code>Intent intent = new Intent();\nif (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.S_V2){\nintent.setAction(MediaStore.ACTION_PICK_IMAGES);\n} else {\nintent.setAction(Intent.ACTION_PICK);\n}\nintent.setDataAndType(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, &quot;image/*&quot;);\nactivity.startActivityForResult(intent, requestCode);\n</code></pre>\n<p>What should I do to solve the exception? Any help is appreciated.</p>\n"},{"tags":["java","spring","mongodb","aggregation-framework","spring-mongodb"],"owner":{"account_id":28664671,"reputation":1,"user_id":21948944,"display_name":"KWilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684867303,"creation_date":1684867303,"question_id":76317765,"body_markdown":"I&#39;d like to be able to return a subset of documents from an array field, without having to include fields of the parent document. Specifically, I have a parent document which has an array field containing objects. That array may be very large, and I want to provide a paged API to let clients access subsets of the array. I was able to accomplish this using a projection of the array, and the $slice array operator, but that still results in an object of the parent type being returned. It seems like I should be able to query and slice the contents of the array field directly but I have not found a way.\r\n\r\n(This is not working code but is hopefully enough to convey my intent)\r\nGiven a document structured as:\r\n\r\n```\r\n@Document\r\npublic class Parent {\r\n  @Id\r\n  String id;\r\n  String sessionId;\r\n  List&lt;Child&gt; children;\r\n}\r\n\r\npublic class Child {\r\n  String sessionId;\r\n  String field1;\r\n  Integer field2;\r\n}\r\n```\r\n\r\nand the following Spring Data MongoDB repository definition:\r\n\r\n```\r\npublic interface ParentRepository extends MongoRepository&lt;Parent, String&gt; {\r\n\r\n  @Query(\r\n      value = &quot;{&#39;sessionId&#39;: ?#{ #id } }&quot;,\r\n      fields = &quot;{ &#39;sessionId&#39;: 1, &#39;children&#39; :  { $slice: [ ?#{ #request.page * #request.size }, ?#{ #request.size } ] } }&quot;\r\n  )\r\n  Optional&lt;Parent&gt; getChildSliceBySessionId(@Param(&quot;id&quot;) String sessionId, @Param(&quot;request&quot;) PageInfo pageRequest);\r\n}\r\n```\r\n\r\nThe above query definition works for getting the desired slice, but wouldn&#39;t use the sort field in PageInfo, and does not leverage any automatic support for paging in the Spring Data MongoDB API.\r\n\r\nThe [Spring MongoDB documentation](https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.json-based) says there is support for paging inherent with the resolution of an Aggregation pipeline, but that appears to only apply to results derived from the parent document.\r\n\r\n```\r\n @Aggregation(&quot;{ $group: { _id : $lastname, names : { $addToSet : ?0 } } }&quot;)\r\n  Slice&lt;PersonAggregate&gt; groupByLastnameAnd(String property, Pageable page); \r\n```\r\n\r\nI tried various aggregation pipelines, to try to access the child array in a way that the Spring code would page the elements of the array, but nothing I tried worked. Both unwinding the array, and the below @Aggregation resulted in a stack overflow. I also didn&#39;t didn&#39;t find a way to extract a subset of the array field without using a projection and slice, as above, in an aggregation pipeline.\r\n\r\n```\r\n  @Aggregation(pipeline = {\r\n      &quot;{ $match : { &#39;sessionId&#39; : ?#{ #id} } }&quot;,\r\n      &quot;{ $project:  { &#39;children&#39;: $children} }&quot;,\r\n      &quot;{ $merge :  {&#39;children&#39;} }&quot;\r\n  })\r\nSlice&lt;Child&gt; childSliceBySessionId(@Param(&quot;id&quot;) String sessionId, @Param(&quot;request&quot;) PageInfo pageRequest) ;\r\n```\r\n\r\nIs there a way in Spring MongoDb (and straight MongoDB I guess) to simply query and return elements of an array of embedded documents? This is a pretty fundamental use case, I would think, for a NoSQL DB and document model that may contain many arrays of other objects or documents.","title":"Spring MongoDB: Querying and slicing contents of an array field directly","body":"<p>I'd like to be able to return a subset of documents from an array field, without having to include fields of the parent document. Specifically, I have a parent document which has an array field containing objects. That array may be very large, and I want to provide a paged API to let clients access subsets of the array. I was able to accomplish this using a projection of the array, and the $slice array operator, but that still results in an object of the parent type being returned. It seems like I should be able to query and slice the contents of the array field directly but I have not found a way.</p>\n<p>(This is not working code but is hopefully enough to convey my intent)\nGiven a document structured as:</p>\n<pre><code>@Document\npublic class Parent {\n  @Id\n  String id;\n  String sessionId;\n  List&lt;Child&gt; children;\n}\n\npublic class Child {\n  String sessionId;\n  String field1;\n  Integer field2;\n}\n</code></pre>\n<p>and the following Spring Data MongoDB repository definition:</p>\n<pre><code>public interface ParentRepository extends MongoRepository&lt;Parent, String&gt; {\n\n  @Query(\n      value = &quot;{'sessionId': ?#{ #id } }&quot;,\n      fields = &quot;{ 'sessionId': 1, 'children' :  { $slice: [ ?#{ #request.page * #request.size }, ?#{ #request.size } ] } }&quot;\n  )\n  Optional&lt;Parent&gt; getChildSliceBySessionId(@Param(&quot;id&quot;) String sessionId, @Param(&quot;request&quot;) PageInfo pageRequest);\n}\n</code></pre>\n<p>The above query definition works for getting the desired slice, but wouldn't use the sort field in PageInfo, and does not leverage any automatic support for paging in the Spring Data MongoDB API.</p>\n<p>The <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.json-based\" rel=\"nofollow noreferrer\">Spring MongoDB documentation</a> says there is support for paging inherent with the resolution of an Aggregation pipeline, but that appears to only apply to results derived from the parent document.</p>\n<pre><code> @Aggregation(&quot;{ $group: { _id : $lastname, names : { $addToSet : ?0 } } }&quot;)\n  Slice&lt;PersonAggregate&gt; groupByLastnameAnd(String property, Pageable page); \n</code></pre>\n<p>I tried various aggregation pipelines, to try to access the child array in a way that the Spring code would page the elements of the array, but nothing I tried worked. Both unwinding the array, and the below @Aggregation resulted in a stack overflow. I also didn't didn't find a way to extract a subset of the array field without using a projection and slice, as above, in an aggregation pipeline.</p>\n<pre><code>  @Aggregation(pipeline = {\n      &quot;{ $match : { 'sessionId' : ?#{ #id} } }&quot;,\n      &quot;{ $project:  { 'children': $children} }&quot;,\n      &quot;{ $merge :  {'children'} }&quot;\n  })\nSlice&lt;Child&gt; childSliceBySessionId(@Param(&quot;id&quot;) String sessionId, @Param(&quot;request&quot;) PageInfo pageRequest) ;\n</code></pre>\n<p>Is there a way in Spring MongoDb (and straight MongoDB I guess) to simply query and return elements of an array of embedded documents? This is a pretty fundamental use case, I would think, for a NoSQL DB and document model that may contain many arrays of other objects or documents.</p>\n"},{"tags":["java","list","arraylist","collections","user-input"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1684863443,"post_id":76317195,"comment_id":134578547,"body_markdown":"Read the entire line, split the string by comma (or whatever delimiter  you need), iterate the resulting array, parse each element to int and add to the list. You can also research how to do it with Stream API.","body":"Read the entire line, split the string by comma (or whatever delimiter  you need), iterate the resulting array, parse each element to int and add to the list. You can also research how to do it with Stream API."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684866912,"creation_date":1684866912,"answer_id":76317732,"question_id":76317195,"body_markdown":"To allow for the user to input a list of integers, comma separated, you can use the following.\r\n\r\n```java\r\nString[] values = input.nextLine().split(&quot;, *&quot;);\r\nfor (String value : values)\r\n    al.add(Integer.parseInt(value));\r\n```\r\n\r\nThis will capture the entire line, then use the `String.split` method to create an array of strings, using the comma and optional space as the delimiter.\r\n\r\nThen, we can iterate through each `String` value and use the `Integer.parseInt` method to parse the value to an `int`.\r\n\r\nInput\r\n\r\n```none\r\n12,2,1,5,10\r\n```\r\n\r\nOutput\r\n```none\r\nEntered array elements are:\r\n12\r\n2\r\n1\r\n5\r\n10\r\nArray elemets :[12, 2, 1, 5, 10]\r\nSorted array: [1, 2, 5, 10, 12]\r\n```","title":"Taking User Input in one line and store in the ArrayList in multiple variables","body":"<p>To allow for the user to input a list of integers, comma separated, you can use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] values = input.nextLine().split(&quot;, *&quot;);\nfor (String value : values)\n    al.add(Integer.parseInt(value));\n</code></pre>\n<p>This will capture the entire line, then use the <code>String.split</code> method to create an array of strings, using the comma and optional space as the delimiter.</p>\n<p>Then, we can iterate through each <code>String</code> value and use the <code>Integer.parseInt</code> method to parse the value to an <code>int</code>.</p>\n<p>Input</p>\n<pre class=\"lang-none prettyprint-override\"><code>12,2,1,5,10\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Entered array elements are:\n12\n2\n1\n5\n10\nArray elemets :[12, 2, 1, 5, 10]\nSorted array: [1, 2, 5, 10, 12]\n</code></pre>\n"}],"owner":{"account_id":23448076,"reputation":37,"user_id":17504599,"display_name":"Jeevan Jitu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1684945816,"accepted_answer_id":76317732,"answer_count":1,"score":1,"last_activity_date":1684866912,"creation_date":1684861953,"question_id":76317195,"body_markdown":"I am trying to take User Input in one line and store in Array List. For Example I want to take User Input to sort the maximum and Minimum values of the given input. I am looking for some code suggestions on how an Array List can take input in one Line.\r\n\r\nBelow is the Code that I am using. Please review and provide better inputs and suggestions\r\n\r\n   \r\n\r\n        public static void main(String[] args) {\r\n      //1.take input from user\r\n      Scanner input = new Scanner(System.in);\r\n      //2.store them in an arraylist\r\n      ArrayList&lt;Integer&gt; al = new ArrayList&lt;Integer&gt;();\r\n       \r\n        \r\n        while(true){\r\n        System.out.println(&quot;Enter the Array elements :&quot;);\r\n        int in = input.nextInt();\r\n        al.add(in);\r\n            System.out.println(&quot;Are array elements entered ? Type \\&quot;yes\\&quot; if finished or else enter no&quot;);\r\n            String answer = input.next();\r\n            if(answer.equalsIgnoreCase(&quot;yes&quot;)){\r\n                break;\r\n            }\r\n        }\r\n        System.out.println(&quot;Entered array elements are:&quot;);\r\n        //we can simply print here or to retrieve them we have to iterate elemets\r\n        \r\n        for(Integer a:al){\r\n            System.out.println(a);\r\n        }\r\n        System.out.println(&quot;Array elemets :&quot;+al);\r\n        Collections.sort(al);\r\n        System.out.println(&quot;Sorted array: &quot;+ al);\r\n      \r\n    }\r\n\r\nHere if I give User Input seperated by comma(,) it throws InputMismatchException . I cannot give here User Input as 12,2,1,5,10 .The above code doesn&#39;t read all the values in one line and store . I have to give one input at a time and then have to give yes if Array List input is completed else no to continue to give user input. I am beginner in Java. Looking for some better code and suggestions. Any Kind help is appreciated. ","title":"Taking User Input in one line and store in the ArrayList in multiple variables","body":"<p>I am trying to take User Input in one line and store in Array List. For Example I want to take User Input to sort the maximum and Minimum values of the given input. I am looking for some code suggestions on how an Array List can take input in one Line.</p>\n<p>Below is the Code that I am using. Please review and provide better inputs and suggestions</p>\n<pre><code>    public static void main(String[] args) {\n  //1.take input from user\n  Scanner input = new Scanner(System.in);\n  //2.store them in an arraylist\n  ArrayList&lt;Integer&gt; al = new ArrayList&lt;Integer&gt;();\n   \n    \n    while(true){\n    System.out.println(&quot;Enter the Array elements :&quot;);\n    int in = input.nextInt();\n    al.add(in);\n        System.out.println(&quot;Are array elements entered ? Type \\&quot;yes\\&quot; if finished or else enter no&quot;);\n        String answer = input.next();\n        if(answer.equalsIgnoreCase(&quot;yes&quot;)){\n            break;\n        }\n    }\n    System.out.println(&quot;Entered array elements are:&quot;);\n    //we can simply print here or to retrieve them we have to iterate elemets\n    \n    for(Integer a:al){\n        System.out.println(a);\n    }\n    System.out.println(&quot;Array elemets :&quot;+al);\n    Collections.sort(al);\n    System.out.println(&quot;Sorted array: &quot;+ al);\n  \n}\n</code></pre>\n<p>Here if I give User Input seperated by comma(,) it throws InputMismatchException . I cannot give here User Input as 12,2,1,5,10 .The above code doesn't read all the values in one line and store . I have to give one input at a time and then have to give yes if Array List input is completed else no to continue to give user input. I am beginner in Java. Looking for some better code and suggestions. Any Kind help is appreciated.</p>\n"},{"tags":["java","android","android-studio","android-dark-theme"],"answers":[{"tags":[],"owner":{"account_id":11181020,"reputation":4038,"user_id":8205099,"accept_rate":62,"display_name":"Wahdat Jan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613112771,"creation_date":1613112771,"answer_id":66167490,"question_id":66167450,"body_markdown":"Add this in your App theme\r\n\r\n    &lt;item name=&quot;android:forceDarkAllowed&quot;&gt;false&lt;/item&gt;","title":"How can I disable Night Mode in Android 11?","body":"<p>Add this in your App theme</p>\n<pre><code>&lt;item name=&quot;android:forceDarkAllowed&quot;&gt;false&lt;/item&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20589482,"reputation":72,"user_id":15113533,"display_name":"RaphaWOW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613147045,"creation_date":1613147045,"answer_id":66175416,"question_id":66167450,"body_markdown":"In the declaration of your style, try changing the parent directly to `Light` as follows : \r\n\r\n    &lt;style name=&quot;Theme.app&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;","title":"How can I disable Night Mode in Android 11?","body":"<p>In the declaration of your style, try changing the parent directly to <code>Light</code> as follows :</p>\n<pre><code>&lt;style name=&quot;Theme.app&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17080845,"reputation":233,"user_id":12359279,"display_name":"Faizan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1624971231,"creation_date":1624971231,"answer_id":68179069,"question_id":66167450,"body_markdown":"Just change both theme files with\r\n\r\n    &lt;style name=&quot;Theme&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;","title":"How can I disable Night Mode in Android 11?","body":"<p>Just change both theme files with</p>\n<pre><code>&lt;style name=&quot;Theme&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2098534,"reputation":523,"user_id":1866772,"display_name":"Mahdi Safarmohammadloo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684866538,"creation_date":1628046128,"answer_id":68644870,"question_id":66167450,"body_markdown":"(Both above answers ! and it works in jetpack compose)\r\n\r\nChange both theme files with\r\n\r\n    &lt;style name=&quot;Theme.PathFinder&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\r\n\r\nAnd add this in both theme files\r\n\r\n    &lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;","title":"How can I disable Night Mode in Android 11?","body":"<p>(Both above answers ! and it works in jetpack compose)</p>\n<p>Change both theme files with</p>\n<pre><code>&lt;style name=&quot;Theme.PathFinder&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\n</code></pre>\n<p>And add this in both theme files</p>\n<pre><code>&lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;\n</code></pre>\n"}],"owner":{"account_id":17080845,"reputation":233,"user_id":12359279,"display_name":"Faizan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4992,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":68179069,"answer_count":4,"score":6,"last_activity_date":1684866538,"creation_date":1613112465,"question_id":66167450,"body_markdown":"I tried to delete night `theme.xml`, and I tried to make color changes in night theme. I also tried\r\n\r\n```\r\nAppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n```\r\n\r\nBut none of these worked.\r\n\r\nThis is my `theme.xml`:\r\n\r\n```\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.app&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/light_blue&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/light_blue&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n    &lt;/style&gt;\r\n\r\n&lt;/resources&gt;\r\n```\r\n\r\nHow can I do it?","title":"How can I disable Night Mode in Android 11?","body":"<p>I tried to delete night <code>theme.xml</code>, and I tried to make color changes in night theme. I also tried</p>\n<pre><code>AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n</code></pre>\n<p>But none of these worked.</p>\n<p>This is my <code>theme.xml</code>:</p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Theme.app&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- Primary brand color. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/light_blue&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/light_blue&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n        &lt;!-- Secondary brand color. --&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;!-- Status bar color. --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n        &lt;!-- Customize your theme here. --&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n<p>How can I do it?</p>\n"},{"tags":["java","visibility","volatile","java-memory-model","happens-before"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1684822933,"post_id":76311736,"comment_id":134568944,"body_markdown":"The last snippet does not use refresh in any meaningful way. Nothing in the code depends on its value. It behaves exactly as the sniper before it.","body":"The last snippet does not use refresh in any meaningful way. Nothing in the code depends on its value. It behaves exactly as the sniper before it."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684823505,"post_id":76311736,"comment_id":134569072,"body_markdown":"The 4th version is equivalent to the 2nd one.  The HB relation involving `finish` is the same.  (The `flush` variable doesn&#39;t alter the HB relation for `finish`.  It is just redundant.)   And you can make a similar argument to say that the 4th version is equivalent to the 3rd version.","body":"The 4th version is equivalent to the 2nd one.  The HB relation involving <code>finish</code> is the same.  (The <code>flush</code> variable doesn&#39;t alter the HB relation for <code>finish</code>.  It is just redundant.)   And you can make a similar argument to say that the 4th version is equivalent to the 3rd version."},{"owner":{"account_id":24742089,"reputation":1,"user_id":18628791,"display_name":"dibo"},"score":0,"creation_date":1684824118,"post_id":76311736,"comment_id":134569171,"body_markdown":"clearification: the reason for the instruction &quot;boolean dummy = refresh;&quot; is solely to refresh the cache of the thread. And my question is &quot;Is it really refreshed&quot;? If i replace the statement with &quot;boolean dummy = flush;&quot; the refresh is guaranteed!","body":"clearification: the reason for the instruction &quot;boolean dummy = refresh;&quot; is solely to refresh the cache of the thread. And my question is &quot;Is it really refreshed&quot;? If i replace the statement with &quot;boolean dummy = flush;&quot; the refresh is guaranteed!"},{"owner":{"account_id":24742089,"reputation":1,"user_id":18628791,"display_name":"dibo"},"score":0,"creation_date":1684828467,"post_id":76311736,"comment_id":134570105,"body_markdown":"Stephen: In the 3rd and 4th version finish ist not declared as volatile!","body":"Stephen: In the 3rd and 4th version finish ist not declared as volatile!"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1684832845,"post_id":76311736,"comment_id":134571081,"body_markdown":"[4.5. Wishful Thinking: Unobserved Volatiles Have Memory Effects](https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#wishful-unobserved-volatiles) • [4.6. Wishful Thinking: Mismatched Ops Are Okay](https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#wishful-mismatched)","body":"<a href=\"https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#wishful-unobserved-volatiles\" rel=\"nofollow noreferrer\">4.5. Wishful Thinking: Unobserved Volatiles Have Memory Effects</a> • <a href=\"https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#wishful-mismatched\" rel=\"nofollow noreferrer\">4.6. Wishful Thinking: Mismatched Ops Are Okay</a>"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1685535991,"post_id":76311736,"comment_id":134673412,"body_markdown":"If a volatile read sees a particular volatile write then there is a happens-before relation between that write and that read.\n\nThis makes it clear that it implies the same variable and this also makes clear that there is only a happens-before relation if that read sees that  write. This also removes &#39;time&#39; from the definition. Time can be very confusing with the JMM.","body":"If a volatile read sees a particular volatile write then there is a happens-before relation between that write and that read.  This makes it clear that it implies the same variable and this also makes clear that there is only a happens-before relation if that read sees that  write. This also removes &#39;time&#39; from the definition. Time can be very confusing with the JMM."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1685536620,"post_id":76311736,"comment_id":134673582,"body_markdown":"A correctly synchronized program in Java can only have sequential consistent executions. The real-time order doesn&#39;t need to be respected for sequential consistency. And this often leads to very hard-to-understand wording that gives the impression that the real-time order needs to be respected (especially when you see things like subsequent).","body":"A correctly synchronized program in Java can only have sequential consistent executions. The real-time order doesn&#39;t need to be respected for sequential consistency. And this often leads to very hard-to-understand wording that gives the impression that the real-time order needs to be respected (especially when you see things like subsequent)."}],"answers":[{"tags":[],"owner":{"account_id":3862105,"reputation":29203,"user_id":3199595,"accept_rate":84,"display_name":"Malt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684866308,"creation_date":1684866308,"answer_id":76317665,"question_id":76311736,"body_markdown":"&gt; What happens if I write a volatile field in the main thread and read another volatile field in the other thread\r\n\r\nThere are no guarantees in this case. Writing to a volatile field doesn&#39;t guarantee anything about any other variables. You get guarantees only by reading the same variable from a different thread.\r\n\r\n\r\nIn the fourth version of the code, the only thing tying the two threads together is `finish`, which is non-volatile and provides no guarantees.","title":"Writing to a volatile field and reading another volatile field: Is the happens-before-rule valid?","body":"<blockquote>\n<p>What happens if I write a volatile field in the main thread and read another volatile field in the other thread</p>\n</blockquote>\n<p>There are no guarantees in this case. Writing to a volatile field doesn't guarantee anything about any other variables. You get guarantees only by reading the same variable from a different thread.</p>\n<p>In the fourth version of the code, the only thing tying the two threads together is <code>finish</code>, which is non-volatile and provides no guarantees.</p>\n"}],"owner":{"account_id":24742089,"reputation":1,"user_id":18628791,"display_name":"dibo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684866308,"creation_date":1684822453,"question_id":76311736,"body_markdown":"Question: Is this statement true: „A write to a volatile field happens-before every subsequent read of that **or another volatile** field.“\r\n\r\nOn https://stackoverflow.com/questions/11970428/how-to-understand-happens-before-consistent I found the following statements:\r\n\r\nHappens-before: „Two actions can be ordered by a happens-before relationship. If one action happens-before another, then the first is visible to and ordered before the second.“\r\n\r\nVolatile: „A write to a volatile field happens-before every subsequent read of that field.“\r\n\r\nVisibility: „When Thread A changes/writes a volatile variable it also pushes all previous changes into RAM - Main Memory as a result all not volatile variable will be up to date and visible for another threads“.\r\n\r\nIn the following program, according to the java memory model, it is **not guaranteed** that the output &quot;thread end&quot; will appear on the console:\r\n\r\n    public class VolatileQuestion {\r\n\r\n\tstatic boolean finish = false;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tnew Thread(() -&gt; {\r\n\t\t\twhile (!finish);\r\n\t\t\tSystem.out.println(&quot;thread end&quot;);\r\n\t\t}).start();\r\n\t\tThread.sleep(2000);\r\n\t\tfinish = true;\r\n\t\tSystem.out.println(&quot;main end&quot;);\r\n\t}\r\n    }\r\n\r\n\r\nDeclaring field „finish&quot; as volatile it **is guaranteed** that the output &quot;thread end&quot; will appear on the console:\r\n\r\n    public class VolatileQuestion {\r\n\r\n\tstatic volatile boolean finish = false;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tnew Thread(() -&gt; {\r\n\t\t\twhile (!finish);\r\n\t\t\tSystem.out.println(&quot;thread end&quot;);\r\n\t\t}).start();\r\n\t\tThread.sleep(2000);\r\n\t\tfinish = true;\r\n\t\tSystem.out.println(&quot;main end&quot;);\r\n\t}\r\n    }\r\n\r\nIn the third program, I don&#39;t declare field finish as volatile, but I introduce another field declared as volatile, which the main thread writes and the other thread reads. Therefore, according to the java memory model, the output of &quot;thread end&quot; **is guaranteed**:\r\n\r\n    public class VolatileQuestion {\r\n\r\n\tstatic boolean finish = false;\r\n\tstatic volatile boolean flush = false;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tnew Thread(() -&gt; {\r\n\t\t\twhile (!finish) {\r\n\t\t\t\tboolean dummy = flush;\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;thread end&quot;);\r\n\t\t}).start();\r\n\t\tThread.sleep(2000);\r\n\t\tfinish = true;\r\n\t\tflush = true;\r\n\t\tSystem.out.println(&quot;main end&quot;);\r\n\t}\r\n    }\r\n\r\nAnd now my question: What happens if I write a volatile field in the main thread and read another volatile field in the other thread: Is the output of &quot;thread end&quot; guaranteed in that case too?\r\n\r\n    public class VolatileQuestion {\r\n\r\n\tstatic boolean finish = false;\r\n\tstatic volatile boolean flush = false;\r\n\tstatic volatile boolean refresh = false;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tnew Thread(() -&gt; {\r\n\t\t\twhile (!finish) {\r\n\t\t\t\tboolean dummy = refresh;\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;thread end&quot;);\r\n\t\t}).start();\r\n\t\tThread.sleep(2000);\r\n\t\tfinish = true;\r\n\t\tflush = true;\r\n\t\tSystem.out.println(&quot;main end&quot;);\r\n\t}\r\n    }\r\n\r\n","title":"Writing to a volatile field and reading another volatile field: Is the happens-before-rule valid?","body":"<p>Question: Is this statement true: „A write to a volatile field happens-before every subsequent read of that <strong>or another volatile</strong> field.“</p>\n<p>On <a href=\"https://stackoverflow.com/questions/11970428/how-to-understand-happens-before-consistent\">How to understand happens-before consistent</a> I found the following statements:</p>\n<p>Happens-before: „Two actions can be ordered by a happens-before relationship. If one action happens-before another, then the first is visible to and ordered before the second.“</p>\n<p>Volatile: „A write to a volatile field happens-before every subsequent read of that field.“</p>\n<p>Visibility: „When Thread A changes/writes a volatile variable it also pushes all previous changes into RAM - Main Memory as a result all not volatile variable will be up to date and visible for another threads“.</p>\n<p>In the following program, according to the java memory model, it is <strong>not guaranteed</strong> that the output &quot;thread end&quot; will appear on the console:</p>\n<pre><code>public class VolatileQuestion {\n\nstatic boolean finish = false;\n\npublic static void main(String[] args) throws Exception {\n    new Thread(() -&gt; {\n        while (!finish);\n        System.out.println(&quot;thread end&quot;);\n    }).start();\n    Thread.sleep(2000);\n    finish = true;\n    System.out.println(&quot;main end&quot;);\n}\n}\n</code></pre>\n<p>Declaring field „finish&quot; as volatile it <strong>is guaranteed</strong> that the output &quot;thread end&quot; will appear on the console:</p>\n<pre><code>public class VolatileQuestion {\n\nstatic volatile boolean finish = false;\n\npublic static void main(String[] args) throws Exception {\n    new Thread(() -&gt; {\n        while (!finish);\n        System.out.println(&quot;thread end&quot;);\n    }).start();\n    Thread.sleep(2000);\n    finish = true;\n    System.out.println(&quot;main end&quot;);\n}\n}\n</code></pre>\n<p>In the third program, I don't declare field finish as volatile, but I introduce another field declared as volatile, which the main thread writes and the other thread reads. Therefore, according to the java memory model, the output of &quot;thread end&quot; <strong>is guaranteed</strong>:</p>\n<pre><code>public class VolatileQuestion {\n\nstatic boolean finish = false;\nstatic volatile boolean flush = false;\n\npublic static void main(String[] args) throws Exception {\n    new Thread(() -&gt; {\n        while (!finish) {\n            boolean dummy = flush;\n        }\n        System.out.println(&quot;thread end&quot;);\n    }).start();\n    Thread.sleep(2000);\n    finish = true;\n    flush = true;\n    System.out.println(&quot;main end&quot;);\n}\n}\n</code></pre>\n<p>And now my question: What happens if I write a volatile field in the main thread and read another volatile field in the other thread: Is the output of &quot;thread end&quot; guaranteed in that case too?</p>\n<pre><code>public class VolatileQuestion {\n\nstatic boolean finish = false;\nstatic volatile boolean flush = false;\nstatic volatile boolean refresh = false;\n\npublic static void main(String[] args) throws Exception {\n    new Thread(() -&gt; {\n        while (!finish) {\n            boolean dummy = refresh;\n        }\n        System.out.println(&quot;thread end&quot;);\n    }).start();\n    Thread.sleep(2000);\n    finish = true;\n    flush = true;\n    System.out.println(&quot;main end&quot;);\n}\n}\n</code></pre>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684866274,"creation_date":1684857555,"answer_id":76316661,"question_id":76316489,"body_markdown":"I guess the first is the output of  `ps` and tomcat* is the user name of the process.\r\n\r\n`tomcat_+` is the abbreviated name of the real user name (ps prints first 7 chars). Look for the full name by getting the UID:\r\n\r\n    ps -l 1604\r\n    grep &lt;UID&gt; /etc/password\r\n\r\nI guess you have 5 tomcats running, one started from the parent process id 1603. Look what is PID 1603.\r\n\r\nAnyway, in ps you see the starting configuration for minimal and maximal heap. That is not the current effective usage of heap in each process.\r\n\r\nWhat is the correct ? Depends on the heap usage of your application.\r\n","title":"Correct memory allocation for tomcat server?","body":"<p>I guess the first is the output of  <code>ps</code> and tomcat* is the user name of the process.</p>\n<p><code>tomcat_+</code> is the abbreviated name of the real user name (ps prints first 7 chars). Look for the full name by getting the UID:</p>\n<pre><code>ps -l 1604\ngrep &lt;UID&gt; /etc/password\n</code></pre>\n<p>I guess you have 5 tomcats running, one started from the parent process id 1603. Look what is PID 1603.</p>\n<p>Anyway, in ps you see the starting configuration for minimal and maximal heap. That is not the current effective usage of heap in each process.</p>\n<p>What is the correct ? Depends on the heap usage of your application.</p>\n"}],"owner":{"account_id":8869050,"reputation":1842,"user_id":6623265,"display_name":"Jyoti Prakash Mallick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684866274,"creation_date":1684856268,"question_id":76316489,"body_markdown":"My current set has 4 instance of tomcat running on 4 different ports, I am trying to understand the memory allocation for them, it seems the value is confusing me. I need help before that let me put the configuration details here \r\n\r\n    tomcat_+  1604  1603  0 May22 ?        00:03:20 /home/tomcat_mat/jre-9.0.4/bin/java -Djava.util.logging.config.file=/usr/tomcat_mat/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK=0027 -Xms2048m -Xmx2048m -Djava.library.path=/usr/tomcat_mat/webapps/imagemeta/WEB-INF/classes -Dignore.endorsed.dirs= -classpath /usr/tomcat_mat//bin/bootstrap.jar:/usr/tomcat_mat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat_mat -Dcatalina.home=/usr/tomcat_mat/ -Djava.io.tmpdir=/usr/tomcat_mat/temp org.apache.catalina.startup.Bootstrap start\r\n    \r\n    tomcat1  22245     1  2 May22 ?        00:50:33 /usr/java/latest/bin/java -Djava.util.logging.config.file=/usr/tomcat.1/conf/logging.properties -Xms256M -Xmx4000M -Xss256k -XX:MaxPermSize=4000M -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=8099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.endorsed.dirs=/usr/tomcat.1/common/endorsed -classpath /usr/tomcat/bin/bootstrap.jar:/usr/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat.1 -Dcatalina.home=/usr/tomcat -Djava.io.tmpdir=/usr/tomcat.1/temp org.apache.catalina.startup.Bootstrap start\r\n    \r\n    tomcat2   4329     1  1 08:03 ?        00:02:32 /usr/java/latest/bin/java -Djava.util.logging.config.file=/usr/tomcat.2/conf/logging.properties -Xms256M -Xmx512M -Xss256k -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=9099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.endorsed.dirs=/usr/tomcat.2/common/endorsed -classpath /usr/tomcat/bin/bootstrap.jar:/usr/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat.2 -Dcatalina.home=/usr/tomcat -Djava.io.tmpdir=/usr/tomcat.2/temp org.apache.catalina.startup.Bootstrap start\r\n    \r\n    tomcat3   8799     1  0 08:16 ?        00:00:13 /usr/java/latest/bin/java -Djava.util.logging.config.file=/usr/tomcat.3/conf/logging.properties -Xms256M -Xmx512M -Xss256k -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=10099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.endorsed.dirs=/usr/tomcat.3/common/endorsed -classpath /usr/tomcat/bin/bootstrap.jar:/usr/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat.3 -Dcatalina.home=/usr/tomcat -Djava.io.tmpdir=/usr/tomcat.3/temp org.apache.catalina.startup.Bootstrap start\r\n    \r\n    tomcat4   9514     1  1 08:17 ?        00:03:09 /usr/java/latest/bin/java -Djava.util.logging.config.file=/usr/tomcat.4/conf/logging.properties -Xms256M -Xmx512M -Xss256k -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=11099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.endorsed.dirs=/usr/tomcat.4/common/endorsed -classpath /usr/tomcat/bin/bootstrap.jar:/usr/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat.4 -Dcatalina.home=/usr/tomcat -Djava.io.tmpdir=/usr/tomcat.4/temp org.apache.catalina.startup.Bootstrap start\r\n\r\nin-short current allocation tell me \r\n\r\n    tomcat_+ -&gt; -Xms2048m -Xmx2048m\r\n    tomcat1  -&gt; -Xms256M -Xmx4000M\r\n    tomcat2  -&gt; -Xms256M -Xmx512M \r\n    tomcat3  -&gt; -Xms256M -Xmx512M \r\n    tomcat4  -&gt; -Xms256M -Xmx512M \r\n\r\nWhat is this `tomcat_+`, so as per math what is the correct memory allocation for tomcat server is it 2GB or 4GB ?","title":"Correct memory allocation for tomcat server?","body":"<p>My current set has 4 instance of tomcat running on 4 different ports, I am trying to understand the memory allocation for them, it seems the value is confusing me. I need help before that let me put the configuration details here</p>\n<pre><code>tomcat_+  1604  1603  0 May22 ?        00:03:20 /home/tomcat_mat/jre-9.0.4/bin/java -Djava.util.logging.config.file=/usr/tomcat_mat/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK=0027 -Xms2048m -Xmx2048m -Djava.library.path=/usr/tomcat_mat/webapps/imagemeta/WEB-INF/classes -Dignore.endorsed.dirs= -classpath /usr/tomcat_mat//bin/bootstrap.jar:/usr/tomcat_mat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat_mat -Dcatalina.home=/usr/tomcat_mat/ -Djava.io.tmpdir=/usr/tomcat_mat/temp org.apache.catalina.startup.Bootstrap start\n\ntomcat1  22245     1  2 May22 ?        00:50:33 /usr/java/latest/bin/java -Djava.util.logging.config.file=/usr/tomcat.1/conf/logging.properties -Xms256M -Xmx4000M -Xss256k -XX:MaxPermSize=4000M -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=8099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.endorsed.dirs=/usr/tomcat.1/common/endorsed -classpath /usr/tomcat/bin/bootstrap.jar:/usr/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat.1 -Dcatalina.home=/usr/tomcat -Djava.io.tmpdir=/usr/tomcat.1/temp org.apache.catalina.startup.Bootstrap start\n\ntomcat2   4329     1  1 08:03 ?        00:02:32 /usr/java/latest/bin/java -Djava.util.logging.config.file=/usr/tomcat.2/conf/logging.properties -Xms256M -Xmx512M -Xss256k -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=9099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.endorsed.dirs=/usr/tomcat.2/common/endorsed -classpath /usr/tomcat/bin/bootstrap.jar:/usr/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat.2 -Dcatalina.home=/usr/tomcat -Djava.io.tmpdir=/usr/tomcat.2/temp org.apache.catalina.startup.Bootstrap start\n\ntomcat3   8799     1  0 08:16 ?        00:00:13 /usr/java/latest/bin/java -Djava.util.logging.config.file=/usr/tomcat.3/conf/logging.properties -Xms256M -Xmx512M -Xss256k -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=10099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.endorsed.dirs=/usr/tomcat.3/common/endorsed -classpath /usr/tomcat/bin/bootstrap.jar:/usr/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat.3 -Dcatalina.home=/usr/tomcat -Djava.io.tmpdir=/usr/tomcat.3/temp org.apache.catalina.startup.Bootstrap start\n\ntomcat4   9514     1  1 08:17 ?        00:03:09 /usr/java/latest/bin/java -Djava.util.logging.config.file=/usr/tomcat.4/conf/logging.properties -Xms256M -Xmx512M -Xss256k -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.awt.headless=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=11099 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false -Djava.endorsed.dirs=/usr/tomcat.4/common/endorsed -classpath /usr/tomcat/bin/bootstrap.jar:/usr/tomcat/bin/tomcat-juli.jar -Dcatalina.base=/usr/tomcat.4 -Dcatalina.home=/usr/tomcat -Djava.io.tmpdir=/usr/tomcat.4/temp org.apache.catalina.startup.Bootstrap start\n</code></pre>\n<p>in-short current allocation tell me</p>\n<pre><code>tomcat_+ -&gt; -Xms2048m -Xmx2048m\ntomcat1  -&gt; -Xms256M -Xmx4000M\ntomcat2  -&gt; -Xms256M -Xmx512M \ntomcat3  -&gt; -Xms256M -Xmx512M \ntomcat4  -&gt; -Xms256M -Xmx512M \n</code></pre>\n<p>What is this <code>tomcat_+</code>, so as per math what is the correct memory allocation for tomcat server is it 2GB or 4GB ?</p>\n"},{"tags":["java","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":220153,"reputation":8157,"user_id":1112503,"accept_rate":100,"display_name":"Ivan Mushketyk"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1619764520,"creation_date":1501567972,"answer_id":45430172,"question_id":45429490,"body_markdown":"**First approach**\r\n\r\nThe benefit here is that you can store arbitrary data and should not care if DynamoDB supports it. You don&#39;t even need to care if this is a valid JSON. If you are storing DynamoDB List/Maps all attributes should be of types that DynamoDB supports.\r\n\r\nYou can push this approach even further and use compression and your item will occupy less space and save you some RCUs/WCUs in the process.\r\n\r\nThe first drawback is that it is harder to work with code like this. Simply because you need to convert data back and forth and this will make your code and operations more complicated.\r\n\r\nThe second drawback, DynamoDB won&#39;t know anything about your data and won&#39;t be able to access it. For example you will not be able to use [document paths][1] feature.\r\n\r\n**Second approach**\r\n\r\nI think this is a preferred approach unless you have a good reason to stick to the first one (e.g. unusual data or size constraints).\r\n\r\nThe benefit here is that it is easier to work with, you can access all DynamoDB features and if you are using [DynamoDBMapper][2] it is [really easy to implement][3].\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.Attributes.html#Expressions.Attributes.NestedElements.DocumentPathExamples\r\n  [2]: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.html\r\n  [3]: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html#DynamoDBMapper.Annotations.DynamoDBDocument","title":"Storing JSON as string in DynamoDB vs List/Map types","body":"<p><strong>First approach</strong></p>\n<p>The benefit here is that you can store arbitrary data and should not care if DynamoDB supports it. You don't even need to care if this is a valid JSON. If you are storing DynamoDB List/Maps all attributes should be of types that DynamoDB supports.</p>\n<p>You can push this approach even further and use compression and your item will occupy less space and save you some RCUs/WCUs in the process.</p>\n<p>The first drawback is that it is harder to work with code like this. Simply because you need to convert data back and forth and this will make your code and operations more complicated.</p>\n<p>The second drawback, DynamoDB won't know anything about your data and won't be able to access it. For example you will not be able to use <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.Attributes.html#Expressions.Attributes.NestedElements.DocumentPathExamples\" rel=\"noreferrer\">document paths</a> feature.</p>\n<p><strong>Second approach</strong></p>\n<p>I think this is a preferred approach unless you have a good reason to stick to the first one (e.g. unusual data or size constraints).</p>\n<p>The benefit here is that it is easier to work with, you can access all DynamoDB features and if you are using <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.html\" rel=\"noreferrer\">DynamoDBMapper</a> it is <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html#DynamoDBMapper.Annotations.DynamoDBDocument\" rel=\"noreferrer\">really easy to implement</a>.</p>\n"},{"tags":[],"owner":{"account_id":5744140,"reputation":15,"user_id":4535818,"display_name":"Junaid Rahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684864528,"creation_date":1684864528,"answer_id":76317464,"question_id":45429490,"body_markdown":"DynamoDB provides more query flexibility. First of all you can specify query expressions that will use fields in you maps/lists. Second you will be able to project attributes from DynamoDB data structures","title":"Storing JSON as string in DynamoDB vs List/Map types","body":"<p>DynamoDB provides more query flexibility. First of all you can specify query expressions that will use fields in you maps/lists. Second you will be able to project attributes from DynamoDB data structures</p>\n"}],"owner":{"account_id":4310584,"reputation":865,"user_id":3555136,"accept_rate":64,"display_name":"enitihas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47959,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":45430172,"answer_count":2,"score":30,"last_activity_date":1684864528,"creation_date":1501564806,"question_id":45429490,"body_markdown":"I am using DynamoDB for storage. I need to store a Java object in one attribute within a table. I see two approaches:\r\n\r\n1. One to convert the object to JSON using Jackson on the client side, and then store the JSON string in the attribute.\r\n2. Another way is to use DynamoDB List/Map types to store my object.\r\n\r\nWhat are the pros and cons of each (In terms of item size, flexibility in Dynamo DB queries)?","title":"Storing JSON as string in DynamoDB vs List/Map types","body":"<p>I am using DynamoDB for storage. I need to store a Java object in one attribute within a table. I see two approaches:</p>\n<ol>\n<li>One to convert the object to JSON using Jackson on the client side, and then store the JSON string in the attribute.</li>\n<li>Another way is to use DynamoDB List/Map types to store my object.</li>\n</ol>\n<p>What are the pros and cons of each (In terms of item size, flexibility in Dynamo DB queries)?</p>\n"},{"tags":["java","arraylist","java-8","java-stream"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1684853460,"post_id":76315777,"comment_id":134576215,"body_markdown":"So is it working but you are looking for a different solution (better? faster? clearer? more maintainable?, cleverer? ) What is the problem you want to solve? If anything I would make it easier to read and maintain (granted performance doesn&#39;t deteriorate) and then work on something else.","body":"So is it working but you are looking for a different solution (better? faster? clearer? more maintainable?, cleverer? ) What is the problem you want to solve? If anything I would make it easier to read and maintain (granted performance doesn&#39;t deteriorate) and then work on something else."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1684854184,"post_id":76315777,"comment_id":134576432,"body_markdown":"If you find yourself nesting collections, 9/10 times it&#39;s a sign that you really want a class to represent that data. E.g. a `Map&lt;String, Category&gt;` for sorting into `&quot;Product&quot;` vs `&quot;Project&quot;`, and then `Category` in turn may hold a `Map&lt;String, Definition&gt;` for describing ID/class of various things under a `Category`.","body":"If you find yourself nesting collections, 9/10 times it&#39;s a sign that you really want a class to represent that data. E.g. a <code>Map&lt;String, Category&gt;</code> for sorting into <code>&quot;Product&quot;</code> vs <code>&quot;Project&quot;</code>, and then <code>Category</code> in turn may hold a <code>Map&lt;String, Definition&gt;</code> for describing ID/class of various things under a <code>Category</code>."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":1,"creation_date":1684860110,"post_id":76315777,"comment_id":134577911,"body_markdown":"`Map&lt;String, Map&lt;String, Definition&gt;&gt; definitionByName = definitionList.stream()\n                .collect(Collectors.groupingBy(Definition::getDefName, Collectors.toMap(Definition::getDefDesc,Function.identity())));`","body":"<code>Map&lt;String, Map&lt;String, Definition&gt;&gt; definitionByName = definitionList.stream()                 .collect(Collectors.groupingBy(Definition::getDefName, Collectors.toMap(Definition::getDefDesc,Function.identity())&zwnj;&#8203;));</code>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1685396050,"post_id":76315777,"comment_id":134651129,"body_markdown":"Please edit your code to show the list in a compilable form. Not something that looks like toString() output.","body":"Please edit your code to show the list in a compilable form. Not something that looks like toString() output."}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684863919,"creation_date":1684854232,"answer_id":76316180,"question_id":76315777,"body_markdown":"You can compute all the items for a given definition name in a single loop, because you&#39;re using maps after all. \r\n\r\nIf the entry exits you add a new map with the description. If it doesn&#39;t you create a new map and add it. \r\n\r\nYou can even leverage `Map.computeIfAbsent(k, func)` to have it in one expression:\r\n\r\n(If you really want it in one line)\r\n\r\n    definitions.forEach( d -&gt; map.computeIfAbsent( d.name(), k -&gt; new HashMap&lt;String,Definition&gt;()).put(d.desc(), d));\r\n\r\nHere&#39;s a full example with output (Java 17)\r\n\r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.HashMap;\r\n\r\nclass Main {\r\n  public static void main(String ... args) {\r\n    var definitions = List.of(\r\n          new Definition(&quot;project&quot;, &quot;project 1&quot;, &quot;id1&quot;, &quot;class1&quot;),\r\n          new Definition(&quot;project&quot;, &quot;project 2&quot;, &quot;id2&quot;, &quot;class2&quot;),\r\n          new Definition(&quot;project&quot;, &quot;project 3&quot;, &quot;id3&quot;, &quot;class3&quot;),\r\n          new Definition(&quot;product&quot;, &quot;product 1&quot;, &quot;id4&quot;, &quot;class1&quot;),\r\n          new Definition(&quot;product&quot;, &quot;product 2&quot;, &quot;id5&quot;, &quot;class2&quot;),\r\n          new Definition(&quot;product&quot;, &quot;product 3&quot;, &quot;id6&quot;, &quot;class3&quot;)\r\n        );\r\n    var map = new HashMap&lt;String,Map&lt;String,Definition&gt;&gt;();\r\n    \r\n    // Properly formatted \r\n    definitions.forEach( d -&gt; \r\n        map.computeIfAbsent(\r\n          d.name(), k -&gt; new HashMap&lt;String,Definition&gt;()\r\n        )\r\n        .put(d.desc(), d)\r\n    );\r\n\r\n    System.out.println(map);\r\n  }\r\n}\r\n\r\nrecord Definition(String name, String desc, String id, String type){}\r\n\r\n\r\n/*\r\n \r\nOutput (formatted): \r\n\r\n{\r\n  product={\r\n    product 3=Definition[name=product, desc=product 3, id=id6, type=class3], \r\n    product 1=Definition[name=product, desc=product 1, id=id4, type=class1], \r\n    product 2=Definition[name=product, desc=product 2, id=id5, type=class2]\r\n   }, \r\n   project={\r\n      project 2=Definition[name=project, desc=project 2, id=id2, type=class2], \r\n      project 1=Definition[name=project, desc=project 1, id=id1, type=class1], \r\n      project 3=Definition[name=project, desc=project 3, id=id3, type=class3]\r\n   }\r\n}\r\n\r\n*/\r\n```\r\n","title":"Convert List to Map of Map","body":"<p>You can compute all the items for a given definition name in a single loop, because you're using maps after all.</p>\n<p>If the entry exits you add a new map with the description. If it doesn't you create a new map and add it.</p>\n<p>You can even leverage <code>Map.computeIfAbsent(k, func)</code> to have it in one expression:</p>\n<p>(If you really want it in one line)</p>\n<pre><code>definitions.forEach( d -&gt; map.computeIfAbsent( d.name(), k -&gt; new HashMap&lt;String,Definition&gt;()).put(d.desc(), d));\n</code></pre>\n<p>Here's a full example with output (Java 17)</p>\n<pre><code>import java.util.List;\nimport java.util.Map;\nimport java.util.HashMap;\n\nclass Main {\n  public static void main(String ... args) {\n    var definitions = List.of(\n          new Definition(&quot;project&quot;, &quot;project 1&quot;, &quot;id1&quot;, &quot;class1&quot;),\n          new Definition(&quot;project&quot;, &quot;project 2&quot;, &quot;id2&quot;, &quot;class2&quot;),\n          new Definition(&quot;project&quot;, &quot;project 3&quot;, &quot;id3&quot;, &quot;class3&quot;),\n          new Definition(&quot;product&quot;, &quot;product 1&quot;, &quot;id4&quot;, &quot;class1&quot;),\n          new Definition(&quot;product&quot;, &quot;product 2&quot;, &quot;id5&quot;, &quot;class2&quot;),\n          new Definition(&quot;product&quot;, &quot;product 3&quot;, &quot;id6&quot;, &quot;class3&quot;)\n        );\n    var map = new HashMap&lt;String,Map&lt;String,Definition&gt;&gt;();\n    \n    // Properly formatted \n    definitions.forEach( d -&gt; \n        map.computeIfAbsent(\n          d.name(), k -&gt; new HashMap&lt;String,Definition&gt;()\n        )\n        .put(d.desc(), d)\n    );\n\n    System.out.println(map);\n  }\n}\n\nrecord Definition(String name, String desc, String id, String type){}\n\n\n/*\n \nOutput (formatted): \n\n{\n  product={\n    product 3=Definition[name=product, desc=product 3, id=id6, type=class3], \n    product 1=Definition[name=product, desc=product 1, id=id4, type=class1], \n    product 2=Definition[name=product, desc=product 2, id=id5, type=class2]\n   }, \n   project={\n      project 2=Definition[name=project, desc=project 2, id=id2, type=class2], \n      project 1=Definition[name=project, desc=project 1, id=id1, type=class1], \n      project 3=Definition[name=project, desc=project 3, id=id3, type=class3]\n   }\n}\n\n*/\n</code></pre>\n"}],"owner":{"account_id":2518869,"reputation":8932,"user_id":2189617,"accept_rate":68,"display_name":"iCode"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1684863919,"creation_date":1684851479,"question_id":76315777,"body_markdown":"I have an object array like below. \r\n\r\n    [\r\n    \t{\r\n    \t\t&quot;defName&quot;: &quot;Project&quot;,\r\n    \t\t&quot;defDesc&quot;: &quot;Project 1&quot;,\r\n    \t\t&quot;defID&quot;: &quot;abcd123&quot;,\r\n    \t\t&quot;defClass&quot;: &quot;class1&quot;\r\n    \t},\r\n    \t{\r\n    \t\t&quot;defName&quot;: &quot;Project&quot;,\r\n    \t\t&quot;defDesc&quot;: &quot;Project 2&quot;,\r\n    \t\t&quot;defID&quot;: &quot;asdoihw1345&quot;,\r\n    \t\t&quot;defClass&quot;: &quot;class2&quot;\r\n    \t},\r\n    \t{\r\n    \t\t&quot;defName&quot;: &quot;Project&quot;,\r\n    \t\t&quot;defDesc&quot;: &quot;Project 3&quot;,\r\n    \t\t&quot;defID&quot;: &quot;ewrwu123&quot;,\r\n    \t\t&quot;defClass&quot;: &quot;class3&quot;\r\n    \t},\r\n    \t{\r\n    \t\t&quot;defName&quot;: &quot;Product&quot;,\r\n    \t\t&quot;defDesc&quot;: &quot;Product 1&quot;,\r\n    \t\t&quot;defID&quot;: &quot;pgkorejgoi1234&quot;,\r\n    \t\t&quot;defClass&quot;: &quot;class1&quot;\r\n    \t},\r\n    \t{\r\n    \t\t&quot;defName&quot;: &quot;Product&quot;,\r\n    \t\t&quot;defDesc&quot;: &quot;Product 2&quot;,\r\n    \t\t&quot;defID&quot;: &quot;asadsad2343&quot;,\r\n    \t\t&quot;defClass&quot;: &quot;class2&quot;\r\n    \t},\r\n    \t{\r\n    \t\t&quot;defName&quot;: &quot;Product&quot;,\r\n    \t\t&quot;defDesc&quot;: &quot;Product 3&quot;,\r\n    \t\t&quot;defID&quot;: &quot;4dgaksld&quot;,\r\n    \t\t&quot;defClass&quot;: &quot;class3&quot;\r\n    \t}\r\n    ]\r\n\r\nI have converted into a `List&lt;Defintion&gt;`. Now I&#39;m trying to convert to into a `Map&lt;String, Map&lt;String, Defintion&gt;` where the first map key is the `defName` and the second map key will be the `defDesc`. It is confirmed that `defDesc` will be unique for specific `defName`.\r\n\r\nCurrently I&#39;m doing in the following way. \r\n\r\n    List&lt;Definition&gt; definitions = // Got from JSON\r\n    Map&lt;String, List&lt;Definition&gt;&gt; definitionByName = definitions.stream().collect(Collectors.groupingBy(Definition::getDefName));\r\n    Map&lt;String, Map&lt;String, Definition&gt;&gt; definitionMap = new HashMap&lt;&gt;();\r\n    definitionByName.forEach((name, definitionList) -&gt; {\r\n    \tMap&lt;String, Definition&gt; definitionDescMap = definitionList.stream()\r\n    \t\t\t.collect(Collectors.toMap(def -&gt; def.getDefDesc(), Function.identity()));\r\n    \tdefinitionMap.put(name, definitionDescMap);\r\n    });\r\n\r\nCan we do it in Single statement? I&#39;m using Java 8 now. Java 8 and new versions solutions are welcome for future references. ","title":"Convert List to Map of Map","body":"<p>I have an object array like below.</p>\n<pre><code>[\n    {\n        &quot;defName&quot;: &quot;Project&quot;,\n        &quot;defDesc&quot;: &quot;Project 1&quot;,\n        &quot;defID&quot;: &quot;abcd123&quot;,\n        &quot;defClass&quot;: &quot;class1&quot;\n    },\n    {\n        &quot;defName&quot;: &quot;Project&quot;,\n        &quot;defDesc&quot;: &quot;Project 2&quot;,\n        &quot;defID&quot;: &quot;asdoihw1345&quot;,\n        &quot;defClass&quot;: &quot;class2&quot;\n    },\n    {\n        &quot;defName&quot;: &quot;Project&quot;,\n        &quot;defDesc&quot;: &quot;Project 3&quot;,\n        &quot;defID&quot;: &quot;ewrwu123&quot;,\n        &quot;defClass&quot;: &quot;class3&quot;\n    },\n    {\n        &quot;defName&quot;: &quot;Product&quot;,\n        &quot;defDesc&quot;: &quot;Product 1&quot;,\n        &quot;defID&quot;: &quot;pgkorejgoi1234&quot;,\n        &quot;defClass&quot;: &quot;class1&quot;\n    },\n    {\n        &quot;defName&quot;: &quot;Product&quot;,\n        &quot;defDesc&quot;: &quot;Product 2&quot;,\n        &quot;defID&quot;: &quot;asadsad2343&quot;,\n        &quot;defClass&quot;: &quot;class2&quot;\n    },\n    {\n        &quot;defName&quot;: &quot;Product&quot;,\n        &quot;defDesc&quot;: &quot;Product 3&quot;,\n        &quot;defID&quot;: &quot;4dgaksld&quot;,\n        &quot;defClass&quot;: &quot;class3&quot;\n    }\n]\n</code></pre>\n<p>I have converted into a <code>List&lt;Defintion&gt;</code>. Now I'm trying to convert to into a <code>Map&lt;String, Map&lt;String, Defintion&gt;</code> where the first map key is the <code>defName</code> and the second map key will be the <code>defDesc</code>. It is confirmed that <code>defDesc</code> will be unique for specific <code>defName</code>.</p>\n<p>Currently I'm doing in the following way.</p>\n<pre><code>List&lt;Definition&gt; definitions = // Got from JSON\nMap&lt;String, List&lt;Definition&gt;&gt; definitionByName = definitions.stream().collect(Collectors.groupingBy(Definition::getDefName));\nMap&lt;String, Map&lt;String, Definition&gt;&gt; definitionMap = new HashMap&lt;&gt;();\ndefinitionByName.forEach((name, definitionList) -&gt; {\n    Map&lt;String, Definition&gt; definitionDescMap = definitionList.stream()\n            .collect(Collectors.toMap(def -&gt; def.getDefDesc(), Function.identity()));\n    definitionMap.put(name, definitionDescMap);\n});\n</code></pre>\n<p>Can we do it in Single statement? I'm using Java 8 now. Java 8 and new versions solutions are welcome for future references.</p>\n"},{"tags":["java","stripe-payments"],"answers":[{"tags":[],"owner":{"account_id":22220966,"reputation":1063,"user_id":16458642,"display_name":"Pompey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1659987317,"creation_date":1659987317,"answer_id":73283146,"question_id":73279833,"body_markdown":"Unfortunately you can&#39;t list all of a product&#39;s prices from the list products call. To get a full list of prices by product, you will need to make a List Prices call for each product ID that you want the prices for.[1]\r\n\r\nThe reason that you are getting an error is that Stripe&#39;s Product objects do not have a `prices` field to expand. This call will work if you specify an expandable field that products do have such as `default_price`.\r\n\r\n[1] https://site-admin.stripe.com/docs/api/prices/list#list_prices-product\r\n\r\n[2] https://site-admin.stripe.com/docs/api/products/object","title":"Stripe - expand Product data with Prices","body":"<p>Unfortunately you can't list all of a product's prices from the list products call. To get a full list of prices by product, you will need to make a List Prices call for each product ID that you want the prices for.[1]</p>\n<p>The reason that you are getting an error is that Stripe's Product objects do not have a <code>prices</code> field to expand. This call will work if you specify an expandable field that products do have such as <code>default_price</code>.</p>\n<p>[1] <a href=\"https://site-admin.stripe.com/docs/api/prices/list#list_prices-product\" rel=\"noreferrer\">https://site-admin.stripe.com/docs/api/prices/list#list_prices-product</a></p>\n<p>[2] <a href=\"https://site-admin.stripe.com/docs/api/products/object\" rel=\"noreferrer\">https://site-admin.stripe.com/docs/api/products/object</a></p>\n"},{"tags":[],"owner":{"account_id":8639572,"reputation":620,"user_id":6468641,"display_name":"Deepak Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684862648,"creation_date":1684862648,"answer_id":76317264,"question_id":73279833,"body_markdown":"As mentioned in the accepted answer unfortunately you can&#39;t list all of a product&#39;s prices from the list products call.\r\n\r\nHowever, you can use the [search api][1] of stripe and get the data. This would require you to make two calls one to fetch your products and the other to fetch prices for all the retrieved products.\r\n\r\nSample calls:\r\n\r\nFetch the products:\r\n\r\n    curl https://api.stripe.com/v1/products/search \\\r\n      -u sk_test_xxxxx: \\\r\n      --data-urlencode query=&quot;active:&#39;true&#39;&quot; \\\r\n      -G\r\n\r\nFetch the prices of the retrieved products:\r\n\r\n    curl https://api.stripe.com/v1/prices/search \\\r\n      -u sk_test_xxxxx: \\\r\n      --data-urlencode query=&quot;product:&#39;prod_xxxx&#39; OR product:&#39;prod_yyy&#39;&quot; \\\r\n      -G\r\n\r\n\r\n  [1]: https://stripe.com/docs/api/products/search","title":"Stripe - expand Product data with Prices","body":"<p>As mentioned in the accepted answer unfortunately you can't list all of a product's prices from the list products call.</p>\n<p>However, you can use the <a href=\"https://stripe.com/docs/api/products/search\" rel=\"nofollow noreferrer\">search api</a> of stripe and get the data. This would require you to make two calls one to fetch your products and the other to fetch prices for all the retrieved products.</p>\n<p>Sample calls:</p>\n<p>Fetch the products:</p>\n<pre><code>curl https://api.stripe.com/v1/products/search \\\n  -u sk_test_xxxxx: \\\n  --data-urlencode query=&quot;active:'true'&quot; \\\n  -G\n</code></pre>\n<p>Fetch the prices of the retrieved products:</p>\n<pre><code>curl https://api.stripe.com/v1/prices/search \\\n  -u sk_test_xxxxx: \\\n  --data-urlencode query=&quot;product:'prod_xxxx' OR product:'prod_yyy'&quot; \\\n  -G\n</code></pre>\n"}],"owner":{"account_id":2855790,"reputation":591,"user_id":2452093,"accept_rate":100,"display_name":"Ciaran George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1708,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73283146,"answer_count":2,"score":1,"last_activity_date":1684862648,"creation_date":1659970254,"question_id":73279833,"body_markdown":"Basically I&#39;m just trying to expand the product call in stripe with prices, so I don&#39;t have to make another API for each product that&#39;s retrieved.\r\n\r\n```\r\nProduct.list(ProductListParams.builder()\r\n                    .setActive(true)\r\n                    .addExpand(&quot;data.prices&quot;)\r\n                    .build());\r\n```\r\n\r\nI&#39;ve tried both data.prices and data.price but the Product Collection response -&gt; defaultPrice is still just returning the prices id with a null expandable object. \r\n\r\nI&#39;ve also tried data.defaultPrice, but the call fails completely in this case.\r\n\r\nThanks all.","title":"Stripe - expand Product data with Prices","body":"<p>Basically I'm just trying to expand the product call in stripe with prices, so I don't have to make another API for each product that's retrieved.</p>\n<pre><code>Product.list(ProductListParams.builder()\n                    .setActive(true)\n                    .addExpand(&quot;data.prices&quot;)\n                    .build());\n</code></pre>\n<p>I've tried both data.prices and data.price but the Product Collection response -&gt; defaultPrice is still just returning the prices id with a null expandable object.</p>\n<p>I've also tried data.defaultPrice, but the call fails completely in this case.</p>\n<p>Thanks all.</p>\n"},{"tags":["java","dictionary"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":3,"creation_date":1400854946,"post_id":23831713,"comment_id":36668362,"body_markdown":"Read into the usage of &quot;generics&quot; and all should become clear.","body":"Read into the usage of &quot;generics&quot; and all should become clear."},{"owner":{"account_id":198018,"reputation":8276,"user_id":442451,"accept_rate":100,"display_name":"GriffeyDog"},"score":2,"creation_date":1400855710,"post_id":23831713,"comment_id":36668834,"body_markdown":"http://docs.oracle.com/javase/tutorial/java/generics/","body":"<a href=\"http://docs.oracle.com/javase/tutorial/java/generics/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics</a>"},{"owner":{"account_id":2781492,"reputation":1091,"user_id":2393954,"accept_rate":100,"display_name":"gcalex5"},"score":0,"creation_date":1400856497,"post_id":23831713,"comment_id":36669419,"body_markdown":"@GriffeyDog thanks for the link read through some of it and it cleared up a few of my questions","body":"@GriffeyDog thanks for the link read through some of it and it cleared up a few of my questions"}],"answers":[{"tags":[],"owner":{"account_id":4277762,"reputation":328,"user_id":3497985,"display_name":"dharr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1400855084,"creation_date":1400855084,"answer_id":23831774,"question_id":23831713,"body_markdown":" Specify the type for key and value:\r\n\r\n       Map&lt;String, String&gt; aMethod(aType type);","title":"Map is a raw type. References to generic type Map&lt;K,V&gt; should be parameterized","body":"<p>Specify the type for key and value:</p>\n\n<pre><code>   Map&lt;String, String&gt; aMethod(aType type);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3740782,"reputation":2146,"user_id":3110608,"display_name":"Jurgen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1400856519,"creation_date":1400856519,"answer_id":23832282,"question_id":23831713,"body_markdown":"Whenever possible one should specify what Type of values a collection will hold. There are two benefits to doing this:\r\n\r\n 1. The first is that the compiler can check that you do not mistakenly put an incorrect Type of value into the collection.\r\n\r\n 2. The second is that you don&#39;t have to cast from Object to whatever Type of value it is when you retrieve the value/object from the collection.\r\n\r\nIn the case of a Map you need to specify two Types: `Map&lt;K,V&gt;`\r\n\r\nReplace K with the Type of the keys in the Map, and V with the Type of values being held in the Map.","title":"Map is a raw type. References to generic type Map&lt;K,V&gt; should be parameterized","body":"<p>Whenever possible one should specify what Type of values a collection will hold. There are two benefits to doing this:</p>\n\n<ol>\n<li><p>The first is that the compiler can check that you do not mistakenly put an incorrect Type of value into the collection.</p></li>\n<li><p>The second is that you don't have to cast from Object to whatever Type of value it is when you retrieve the value/object from the collection.</p></li>\n</ol>\n\n<p>In the case of a Map you need to specify two Types: <code>Map&lt;K,V&gt;</code></p>\n\n<p>Replace K with the Type of the keys in the Map, and V with the Type of values being held in the Map.</p>\n"}],"owner":{"account_id":2781492,"reputation":1091,"user_id":2393954,"accept_rate":100,"display_name":"gcalex5"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":23832282,"answer_count":2,"score":0,"last_activity_date":1684862458,"creation_date":1400854901,"question_id":23831713,"body_markdown":"Whenever I declare a map object I always get the below warning on the declartion, getter, and setter.\r\n\r\n    Map is a raw type. References to generic type Map&lt;K,V&gt; should be parameterized\t\r\n\r\nMy declarations are:\r\n\r\n    import java.util.Map;\r\n    private Map pricingInfo;\r\n    pricingInfo = getCurrentSession();\r\nThe map is grabbing the current session information I stored in the previous Struts2 Action\r\nand passing them into a generic Java Object. The code I use to store it is included below to give a little more context on what I&#39;m doing.\r\n\r\n    ServletActionContext.getRequest().getSession().putValue(&quot;pricing&quot;, this);\r\n\r\n\r\n\r\nHowever I get all the expected values and have yet to run into a runtime error.\r\n\r\nSo the question is should I just use annotations to make these warnings go away or is there a &#39;correct&#39; way to go about instantiating and using these variables?","title":"Map is a raw type. References to generic type Map&lt;K,V&gt; should be parameterized","body":"<p>Whenever I declare a map object I always get the below warning on the declartion, getter, and setter.</p>\n\n<pre><code>Map is a raw type. References to generic type Map&lt;K,V&gt; should be parameterized  \n</code></pre>\n\n<p>My declarations are:</p>\n\n<pre><code>import java.util.Map;\nprivate Map pricingInfo;\npricingInfo = getCurrentSession();\n</code></pre>\n\n<p>The map is grabbing the current session information I stored in the previous Struts2 Action\nand passing them into a generic Java Object. The code I use to store it is included below to give a little more context on what I'm doing.</p>\n\n<pre><code>ServletActionContext.getRequest().getSession().putValue(\"pricing\", this);\n</code></pre>\n\n<p>However I get all the expected values and have yet to run into a runtime error.</p>\n\n<p>So the question is should I just use annotations to make these warnings go away or is there a 'correct' way to go about instantiating and using these variables?</p>\n"},{"tags":["java","selenium","maven","javafx","intellij-14"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1671739748,"post_id":74892632,"comment_id":132168143,"body_markdown":"Offtopic: The current version of the `javafx-maven-plugin` is `0.0.8`.  The current non-early access (no `-ea` in the version) of JavaFX is `19`.","body":"Offtopic: The current version of the <code>javafx-maven-plugin</code> is <code>0.0.8</code>.  The current non-early access (no <code>-ea</code> in the version) of JavaFX is <code>19</code>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1671739925,"post_id":74892632,"comment_id":132168184,"body_markdown":"If you have a `module-info.java` then you can delete it and run the application non-modular, see [openjfx.io getting started](https://openjfx.io/openjfx-docs/).  If you want a modular project, require all of the correct modules in your `module-info.java`, see [understanding modules](https://www.oracle.com/corporate/features/understanding-java-9-modules.html), and provide the fully qualified (by module) name when specifying the `mainClass` to the javafx-maven-plugin.","body":"If you have a <code>module-info.java</code> then you can delete it and run the application non-modular, see <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io getting started</a>.  If you want a modular project, require all of the correct modules in your <code>module-info.java</code>, see <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">understanding modules</a>, and provide the fully qualified (by module) name when specifying the <code>mainClass</code> to the javafx-maven-plugin."},{"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"score":0,"creation_date":1671740310,"post_id":74892632,"comment_id":132168285,"body_markdown":"@jewelsea what you mean by that? What version should i use? Sorry i don&#39;t understand","body":"@jewelsea what you mean by that? What version should i use? Sorry i don&#39;t understand"},{"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"score":0,"creation_date":1671740365,"post_id":74892632,"comment_id":132168306,"body_markdown":"@jewelsea i tried to run without this module-info and it shows another error: Error: JavaFX runtime components are missing, and are required to run this application. But the maven are importing javafx this makes no sense","body":"@jewelsea i tried to run without this module-info and it shows another error: Error: JavaFX runtime components are missing, and are required to run this application. But the maven are importing javafx this makes no sense"},{"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"score":0,"creation_date":1671740532,"post_id":74892632,"comment_id":132168346,"body_markdown":"@jewelsea i will read this understanding modules to try to understand. The getting started of openjfx.io i have readed already and tryied many different aproaches, none have worked. Tryied creating with archetype from beggining ant nothing too.","body":"@jewelsea i will read this understanding modules to try to understand. The getting started of openjfx.io i have readed already and tryied many different aproaches, none have worked. Tryied creating with archetype from beggining ant nothing too."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1671740559,"post_id":74892632,"comment_id":132168351,"body_markdown":"*&quot;What version should i use?&quot;* -&gt; You should use the versions suggested in the comment, `javafx-maven-plugin` `0.0.8`, instead of what you have (which is `0.0.8).  Similarly, JavaFX versions should be `19`, not `20-ea+11`.  That is not the root cause of your problem.","body":"<i>&quot;What version should i use?&quot;</i> -&gt; You should use the versions suggested in the comment, <code>javafx-maven-plugin</code> <code>0.0.8</code>, instead of what you have (which is <code>0.0.8).  Similarly, JavaFX versions should be </code>19<code>, not </code>20-ea+11`.  That is not the root cause of your problem."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1671740677,"post_id":74892632,"comment_id":132168378,"body_markdown":"Provide a [mcve]. I created a new project using the Idea new JavaFX project, which is what you did. And added the dependencies to `webdrivermanager` and `selenium-java` as you have and the resultant application ran fine.  So the error is in something that you are not showing.","body":"Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I created a new project using the Idea new JavaFX project, which is what you did. And added the dependencies to <code>webdrivermanager</code> and <code>selenium-java</code> as you have and the resultant application ran fine.  So the error is in something that you are not showing."},{"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"score":0,"creation_date":1671741729,"post_id":74892632,"comment_id":132168695,"body_markdown":"@jewelsea maybe the problem is the archetype from intellij. In this new version of intellij the way to create a project from archetype is a bit different from the openjfx.io doc - And my intellij is not saving the archetype on any of the catalog (internal or default local). Maybe is a problem with my intellij? When it create a project from this archetype showed on the openjfx it is being created empty and basic, no classes and no source code. Maybe i should create another question for that error.","body":"@jewelsea maybe the problem is the archetype from intellij. In this new version of intellij the way to create a project from archetype is a bit different from the openjfx.io doc - And my intellij is not saving the archetype on any of the catalog (internal or default local). Maybe is a problem with my intellij? When it create a project from this archetype showed on the openjfx it is being created empty and basic, no classes and no source code. Maybe i should create another question for that error."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671754244,"creation_date":1671753853,"answer_id":74894978,"question_id":74892632,"body_markdown":"This occurs because the Java Platform Module definitions used for the `4.7.1` version of Selenium software that you are using appear (to me) to be broken.\r\n\r\nI&#39;m working with the pom.xml you have in your application updated for:\r\n\r\n&gt; * The current version of the javafx-maven-plugin is 0.0.8. \r\n&gt; * The current non-early access (no -ea in the version) of JavaFX is 19.\r\n\r\nAnd the [hello world program from the selenium documentation][1].\r\n\r\n    package dev.selenium.hello;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class HelloSelenium {\r\n        public static void main(String[] args) {\r\n            WebDriver driver = new ChromeDriver();\r\n    \r\n            driver.get(&quot;https://selenium.dev&quot;);\r\n    \r\n            driver.quit();\r\n        }\r\n    }\r\n\r\n\r\nAs far as I can tell (and I can&#39;t really find documentation on this), so maybe this isn&#39;t even supported at the moment, to use Selenium in a modular application, you need the following modules in your `module-info.java`.  These were suggested by my IDE when I tried to compile the above program.\r\n\r\n    requires org.seleniumhq.selenium.api;\r\n    requires org.seleniumhq.selenium.chrome_driver;\r\n\r\nOnce that was done, a subsequent `mvn:compile` gives the errors from the question:\r\n\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] module not found: processed.jcommander\r\n    [ERROR] module not found: processed.async.http.client\r\n\r\nThese modules are not in the transitive dependencies for selenium, so the selenium modules are broken.  There are maven dependencies on the artifacts, so you can see jcommander and async-http-client jars in the library dependencies that Maven brings in, however those jars do not provide any module information, so their module names should be derived from the jar file names as &quot;automatic modules&quot;.  This means they would be referenced from a `module-info.java` as:\r\n\r\n    requires jcommander;\r\n    requires async.http.client;\r\n\r\nBut they are not referenced using these names.\r\n\r\nThe selenium-chrome-driver jar has: \r\n\r\n    module org.seleniumhq.selenium.chrome_driver {\r\n        ...\r\n        requires org.seleniumhq.selenium.remote_driver;\r\n        ...\r\n    }\r\n\r\nThe selenium-remote-driver jar, has:\r\n\r\n    module org.seleniumhq.selenium.remote_driver {\r\n        ...\r\n        requires processed.async.http.client;\r\n        requires processed.jcommander;\r\n        ...\r\n    }\r\n\r\nSo those are the wrong names, the modules with the `processed.` prefix do not exist, so the simple `HelloSelenium` application is not usable if you define `module-info.java`.\r\n\r\nThe only workaround I can advise for now is to make your application non-modular by ***not*** defining a `module-info.java` (i.e. delete the `module-info.java` file if you have one in your project.).  \r\n\r\nHowever, because JavaFX needs to be on the module path, you then also need to either:\r\n\r\n 1. Use a JDK which includes JavaFX (e.g. [&quot;Full JDK&quot; from liberica][2]), (*this is the option I recommend*) OR \r\n 2. Add VM options to set the module path and add the JavaFX modules at compile and execution time (as specified at [openjfx.io][2]).\r\n\r\nI also advise [filing a bug][3] for the selenium project to fix their broken module definitions in the selenium-remote-driver jar. \r\n\r\n * Note: I don&#39;t know how the selenium project bug reporting process works, so I guessed the issue link, it might be something else for this error, but my recommendation is to try that.\r\n * In filing a bug report you can link back to this post.\r\n * If you file a bug report post a link to it here either by editing this answer or posting a comment.\r\n\r\n  [1]: https://www.selenium.dev/documentation/\r\n  [2]: https://bell-sw.com/pages/downloads/#/java-19-current\r\n  [3]: https://github.com/SeleniumHQ/selenium/issues","title":"Compilation Error with Maven on Intellij: Module not found: processed.jcommander","body":"<p>This occurs because the Java Platform Module definitions used for the <code>4.7.1</code> version of Selenium software that you are using appear (to me) to be broken.</p>\n<p>I'm working with the pom.xml you have in your application updated for:</p>\n<blockquote>\n<ul>\n<li>The current version of the javafx-maven-plugin is 0.0.8.</li>\n<li>The current non-early access (no -ea in the version) of JavaFX is 19.</li>\n</ul>\n</blockquote>\n<p>And the <a href=\"https://www.selenium.dev/documentation/\" rel=\"nofollow noreferrer\">hello world program from the selenium documentation</a>.</p>\n<pre><code>package dev.selenium.hello;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class HelloSelenium {\n    public static void main(String[] args) {\n        WebDriver driver = new ChromeDriver();\n\n        driver.get(&quot;https://selenium.dev&quot;);\n\n        driver.quit();\n    }\n}\n</code></pre>\n<p>As far as I can tell (and I can't really find documentation on this), so maybe this isn't even supported at the moment, to use Selenium in a modular application, you need the following modules in your <code>module-info.java</code>.  These were suggested by my IDE when I tried to compile the above program.</p>\n<pre><code>requires org.seleniumhq.selenium.api;\nrequires org.seleniumhq.selenium.chrome_driver;\n</code></pre>\n<p>Once that was done, a subsequent <code>mvn:compile</code> gives the errors from the question:</p>\n<pre><code>[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] module not found: processed.jcommander\n[ERROR] module not found: processed.async.http.client\n</code></pre>\n<p>These modules are not in the transitive dependencies for selenium, so the selenium modules are broken.  There are maven dependencies on the artifacts, so you can see jcommander and async-http-client jars in the library dependencies that Maven brings in, however those jars do not provide any module information, so their module names should be derived from the jar file names as &quot;automatic modules&quot;.  This means they would be referenced from a <code>module-info.java</code> as:</p>\n<pre><code>requires jcommander;\nrequires async.http.client;\n</code></pre>\n<p>But they are not referenced using these names.</p>\n<p>The selenium-chrome-driver jar has:</p>\n<pre><code>module org.seleniumhq.selenium.chrome_driver {\n    ...\n    requires org.seleniumhq.selenium.remote_driver;\n    ...\n}\n</code></pre>\n<p>The selenium-remote-driver jar, has:</p>\n<pre><code>module org.seleniumhq.selenium.remote_driver {\n    ...\n    requires processed.async.http.client;\n    requires processed.jcommander;\n    ...\n}\n</code></pre>\n<p>So those are the wrong names, the modules with the <code>processed.</code> prefix do not exist, so the simple <code>HelloSelenium</code> application is not usable if you define <code>module-info.java</code>.</p>\n<p>The only workaround I can advise for now is to make your application non-modular by <em><strong>not</strong></em> defining a <code>module-info.java</code> (i.e. delete the <code>module-info.java</code> file if you have one in your project.).</p>\n<p>However, because JavaFX needs to be on the module path, you then also need to either:</p>\n<ol>\n<li>Use a JDK which includes JavaFX (e.g. <a href=\"https://bell-sw.com/pages/downloads/#/java-19-current\" rel=\"nofollow noreferrer\">&quot;Full JDK&quot; from liberica</a>), (<em>this is the option I recommend</em>) OR</li>\n<li>Add VM options to set the module path and add the JavaFX modules at compile and execution time (as specified at <a href=\"https://bell-sw.com/pages/downloads/#/java-19-current\" rel=\"nofollow noreferrer\">openjfx.io</a>).</li>\n</ol>\n<p>I also advise <a href=\"https://github.com/SeleniumHQ/selenium/issues\" rel=\"nofollow noreferrer\">filing a bug</a> for the selenium project to fix their broken module definitions in the selenium-remote-driver jar.</p>\n<ul>\n<li>Note: I don't know how the selenium project bug reporting process works, so I guessed the issue link, it might be something else for this error, but my recommendation is to try that.</li>\n<li>In filing a bug report you can link back to this post.</li>\n<li>If you file a bug report post a link to it here either by editing this answer or posting a comment.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2719548,"reputation":2231,"user_id":2346131,"display_name":"Lavish Kothari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673714282,"creation_date":1673714282,"answer_id":75119544,"question_id":74892632,"body_markdown":"As other answers didn&#39;t mention this, I wanted to put this out over here that 4.6.0 version is working fine and not giving a similar error.\r\nIn case you don&#39;t require specific enhancements/bug-fixes introduced from 4.7.x, you can use 4.6.0.\r\nI was also using 4.7.2 earlier but rolled back to 4.6.0 and it worked like a charm.","title":"Compilation Error with Maven on Intellij: Module not found: processed.jcommander","body":"<p>As other answers didn't mention this, I wanted to put this out over here that 4.6.0 version is working fine and not giving a similar error.\nIn case you don't require specific enhancements/bug-fixes introduced from 4.7.x, you can use 4.6.0.\nI was also using 4.7.2 earlier but rolled back to 4.6.0 and it worked like a charm.</p>\n"}],"owner":{"account_id":7722502,"reputation":39,"user_id":5848294,"display_name":"Fernando Afonso"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74894978,"answer_count":2,"score":0,"last_activity_date":1684862046,"creation_date":1671734243,"question_id":74892632,"body_markdown":"I was developing some small program using selenium and javaFX. everything was going fine, when i tried my code on selenium on a project and on a JavaFX project separatedly. When i put the code together and imported all dependecies to maven, and tried to run, it keep showing this error:\r\n\r\n```\r\n[ERROR] COMPILATION ERROR :[INFO] -------------------------------------------------------------[ERROR] module not found: processed.jcommander[ERROR] module not found: processed.async.http.client\r\n```\r\n\r\nI don&#39;t know what are those modules, they were not dependecies and are not used in the code. What those modules are and why compilation error?\r\n\r\nHere is my POM.xml:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;DedoDoDida&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;lombok&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;1.18.6&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;gson&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;2.10&lt;/version&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;20-ea+11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;20-ea+11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;19&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running --&gt;\r\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;org.example.App&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI tried already searching on internet and i am stuck on this problem for 2 days already, i was giving up this project but i decided to try stackoverflow. Probably some easy thing to solve that i am not being able to solve.","title":"Compilation Error with Maven on Intellij: Module not found: processed.jcommander","body":"<p>I was developing some small program using selenium and javaFX. everything was going fine, when i tried my code on selenium on a project and on a JavaFX project separatedly. When i put the code together and imported all dependecies to maven, and tried to run, it keep showing this error:</p>\n<pre><code>[ERROR] COMPILATION ERROR :[INFO] -------------------------------------------------------------[ERROR] module not found: processed.jcommander[ERROR] module not found: processed.async.http.client\n</code></pre>\n<p>I don't know what are those modules, they were not dependecies and are not used in the code. What those modules are and why compilation error?</p>\n<p>Here is my POM.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;DedoDoDida&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;lombok&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;1.18.6&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;gson&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;2.10&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;20-ea+11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;20-ea+11&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;19&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running --&gt;\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;org.example.App&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I tried already searching on internet and i am stuck on this problem for 2 days already, i was giving up this project but i decided to try stackoverflow. Probably some easy thing to solve that i am not being able to solve.</p>\n"},{"tags":["java","apache-poi","noclassdeffounderror","docx"],"answers":[{"tags":[],"owner":{"account_id":996144,"reputation":1722,"user_id":1012022,"display_name":"robermann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1396624230,"creation_date":1396623453,"answer_id":22866221,"question_id":22866089,"body_markdown":"Your classpath is missing a library, [xmlbeans][1]. Check the POI&#39;s [*Component Map*][2] page.\r\n\r\nReassuming:\r\n\r\n  1. you need [`poi-ooxml`][3]\r\n  2. `poi-ooxml` depends on [`poi-ooxml-schemas`][4] (see the `dependencies` tag)\r\n  3. `poi-ooxml-schemas` depends on [`xmlbeans`][5]\r\n\r\nSo you have to add the [xmlbeans jar] [6].\r\n\r\n\r\n  [1]: http://xmlbeans.apache.org/\r\n  [2]: http://poi.apache.org/overview.html\r\n  [3]: http://search.maven.org/#artifactdetails%7Corg.apache.poi%7Cpoi-ooxml%7C3.10-FINAL%7Cjar\r\n  [4]: http://search.maven.org/#artifactdetails%7Corg.apache.poi%7Cpoi-ooxml-schemas%7C3.10-FINAL%7Cjar\r\n  [5]: http://search.maven.org/#artifactdetails%7Corg.apache.xmlbeans%7Cxmlbeans%7C2.6.0%7Cjar\r\n  [6]: http://search.maven.org/remotecontent?filepath=org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar","title":"Why am I getting exception as I try to read .DOCX file?","body":"<p>Your classpath is missing a library, <a href=\"http://xmlbeans.apache.org/\" rel=\"nofollow\">xmlbeans</a>. Check the POI's <a href=\"http://poi.apache.org/overview.html\" rel=\"nofollow\"><em>Component Map</em></a> page.</p>\n\n<p>Reassuming:</p>\n\n<ol>\n<li>you need <a href=\"http://search.maven.org/#artifactdetails%7Corg.apache.poi%7Cpoi-ooxml%7C3.10-FINAL%7Cjar\" rel=\"nofollow\"><code>poi-ooxml</code></a></li>\n<li><code>poi-ooxml</code> depends on <a href=\"http://search.maven.org/#artifactdetails%7Corg.apache.poi%7Cpoi-ooxml-schemas%7C3.10-FINAL%7Cjar\" rel=\"nofollow\"><code>poi-ooxml-schemas</code></a> (see the <code>dependencies</code> tag)</li>\n<li><code>poi-ooxml-schemas</code> depends on <a href=\"http://search.maven.org/#artifactdetails%7Corg.apache.xmlbeans%7Cxmlbeans%7C2.6.0%7Cjar\" rel=\"nofollow\"><code>xmlbeans</code></a></li>\n</ol>\n\n<p>So you have to add the <a href=\"http://search.maven.org/remotecontent?filepath=org/apache/xmlbeans/xmlbeans/2.6.0/xmlbeans-2.6.0.jar\" rel=\"nofollow\">xmlbeans jar</a>.</p>\n"},{"tags":[],"owner":{"account_id":4277762,"reputation":328,"user_id":3497985,"display_name":"dharr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684861844,"creation_date":1396623532,"answer_id":22866253,"question_id":22866089,"body_markdown":"Add  [xmlbeans][1] on your classpath.\r\n\r\n[NoClassDefFoundError][2] explanation:\r\n\r\n&gt; Thrown if the Java Virtual Machine or a ClassLoader instance tries to\r\n&gt; load in the definition of a class (as part of a normal method call or\r\n&gt; as part of creating a new instance using the new expression) and no\r\n&gt; definition of the class could be found.\r\n&gt; \r\n&gt; The searched-for class definition existed when the currently executing\r\n&gt; class was compiled, but the definition can no longer be found.\r\n\r\n\r\n  [1]: http://xmlbeans.apache.org/\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/NoClassDefFoundError.html","title":"Why am I getting exception as I try to read .DOCX file?","body":"<p>Add  <a href=\"http://xmlbeans.apache.org/\" rel=\"nofollow noreferrer\">xmlbeans</a> on your classpath.</p>\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/NoClassDefFoundError.html\" rel=\"nofollow noreferrer\">NoClassDefFoundError</a> explanation:</p>\n<blockquote>\n<p>Thrown if the Java Virtual Machine or a ClassLoader instance tries to\nload in the definition of a class (as part of a normal method call or\nas part of creating a new instance using the new expression) and no\ndefinition of the class could be found.</p>\n<p>The searched-for class definition existed when the currently executing\nclass was compiled, but the definition can no longer be found.</p>\n</blockquote>\n"}],"owner":{"account_id":326393,"reputation":22554,"user_id":648138,"accept_rate":68,"display_name":"Suhail Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":22866221,"answer_count":2,"score":-1,"last_activity_date":1684861844,"creation_date":1396623135,"question_id":22866089,"body_markdown":"While trying to read `.docx` file using the following snippet :\r\n\r\n    public void parseDocxFile(String textEntered) {\r\n        try {\r\n            XWPFDocument doc = new XWPFDocument(new FileInputStream(new File(SContainer.getFilePath())));\r\n            XWPFWordExtractor extractor = new XWPFWordExtractor(doc);\r\n            System.out.println(&quot;DOCX File : &quot; + extractor.getText());\r\n        }catch(Exception exc) {exc.printStackTrace();}\r\n    }\r\n\r\nI get an exception, which says :\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: org/apache\r\n    /xmlbeans/XmlException\r\n\tat org.suhail.gui.Main.parseDocxFile(Main.java:246)\r\n\tat org.suhail.gui.Main.jButton1ActionPerformed(Main.java:167)\r\n\tat org.suhail.gui.Main.access$000(Main.java:22)\r\n\tat org.suhail.gui.Main$1.actionPerformed(Main.java:71)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2318)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:236)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6038)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3260)\r\n\tat java.awt.Component.processEvent(Component.java:5803)\r\n\tat java.awt.Container.processEvent(Container.java:2058)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4410)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2116)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4240)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4322)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:3986)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:3916)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2102)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2429)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4240)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:599)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:121)\r\n\r\nWhat does it mean ? Why does it occur ?","title":"Why am I getting exception as I try to read .DOCX file?","body":"<p>While trying to read <code>.docx</code> file using the following snippet :</p>\n\n<pre><code>public void parseDocxFile(String textEntered) {\n    try {\n        XWPFDocument doc = new XWPFDocument(new FileInputStream(new File(SContainer.getFilePath())));\n        XWPFWordExtractor extractor = new XWPFWordExtractor(doc);\n        System.out.println(\"DOCX File : \" + extractor.getText());\n    }catch(Exception exc) {exc.printStackTrace();}\n}\n</code></pre>\n\n<p>I get an exception, which says :</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.lang.NoClassDefFoundError: org/apache\n/xmlbeans/XmlException\nat org.suhail.gui.Main.parseDocxFile(Main.java:246)\nat org.suhail.gui.Main.jButton1ActionPerformed(Main.java:167)\nat org.suhail.gui.Main.access$000(Main.java:22)\nat org.suhail.gui.Main$1.actionPerformed(Main.java:71)\nat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\nat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2318)\nat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)\nat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)\nat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:236)\nat java.awt.Component.processMouseEvent(Component.java:6038)\nat javax.swing.JComponent.processMouseEvent(JComponent.java:3260)\nat java.awt.Component.processEvent(Component.java:5803)\nat java.awt.Container.processEvent(Container.java:2058)\nat java.awt.Component.dispatchEventImpl(Component.java:4410)\nat java.awt.Container.dispatchEventImpl(Container.java:2116)\nat java.awt.Component.dispatchEvent(Component.java:4240)\nat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4322)\nat java.awt.LightweightDispatcher.processMouseEvent(Container.java:3986)\nat java.awt.LightweightDispatcher.dispatchEvent(Container.java:3916)\nat java.awt.Container.dispatchEventImpl(Container.java:2102)\nat java.awt.Window.dispatchEventImpl(Window.java:2429)\nat java.awt.Component.dispatchEvent(Component.java:4240)\nat java.awt.EventQueue.dispatchEvent(EventQueue.java:599)\nat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)\nat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)\nat java.awt.EventDispatchThread.run(EventDispatchThread.java:121)\n</code></pre>\n\n<p>What does it mean ? Why does it occur ?</p>\n"},{"tags":["java","spring-boot","selenium-webdriver"],"comments":[{"owner":{"account_id":4034639,"reputation":985,"user_id":3319557,"accept_rate":100,"display_name":"mlecz"},"score":0,"creation_date":1684861876,"post_id":76308329,"comment_id":134578270,"body_markdown":"it might be due to headless mode for application servers. I suggest to put this before spring context is started and check if it works         System.setProperty(&quot;java.awt.headless&quot;, &quot;false&quot;);","body":"it might be due to headless mode for application servers. I suggest to put this before spring context is started and check if it works         System.setProperty(&quot;java.awt.headless&quot;, &quot;false&quot;);"}],"owner":{"account_id":27480367,"reputation":35,"user_id":20967571,"display_name":"sera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684861508,"creation_date":1684773880,"question_id":76308329,"body_markdown":"Selenium doesn&#39;t open browser\r\nautomatically.\r\nBesides this, I ran other example code and it didn&#39;t work.\r\n\r\nThis code may be wrong because it&#39;s my first time doing a spring boot. However, copying other successful examples did not work the same.\r\n\r\nI searched for Stack Overflow solutions but it doesn&#39;t run.\r\nI&#39;d really appreciate your help.\r\n\r\n    package com.ptuproject.ptuproject.Controller;\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    @Component\r\n    public class SeleniumController {\r\n        private WebDriver driver;\r\n\r\n        public void process() {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\chromedriver.exe&quot;);\r\n\r\n            driver = new ChromeDriver();\r\n\r\n            driver.get(&quot;https://www.google.co.kr/&quot;);\r\n\r\n        }\r\n\r\n    }\r\n\r\n**Output**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbuild.gradle\r\n\r\n```java\r\ndependencies {\r\n\timplementation &#39;org.seleniumhq.selenium:selenium-java:4.1.2&#39;\r\n    }\r\n```\r\n    \r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d8Krc.png","title":"Selenium doesn&#39;t open browser. springboot","body":"<p>Selenium doesn't open browser\nautomatically.\nBesides this, I ran other example code and it didn't work.</p>\n<p>This code may be wrong because it's my first time doing a spring boot. However, copying other successful examples did not work the same.</p>\n<p>I searched for Stack Overflow solutions but it doesn't run.\nI'd really appreciate your help.</p>\n<pre><code>package com.ptuproject.ptuproject.Controller;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.springframework.stereotype.Component;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Component\npublic class SeleniumController {\n    private WebDriver driver;\n\n    public void process() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\chromedriver.exe&quot;);\n\n        driver = new ChromeDriver();\n\n        driver.get(&quot;https://www.google.co.kr/&quot;);\n\n    }\n\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/d8Krc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d8Krc.png\" alt=\"enter image description here\" /></a></p>\n<p>build.gradle</p>\n<pre class=\"lang-java prettyprint-override\"><code>dependencies {\n    implementation 'org.seleniumhq.selenium:selenium-java:4.1.2'\n    }\n</code></pre>\n"},{"tags":["java","asyncresttemplate"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1684853710,"post_id":76316037,"comment_id":134576282,"body_markdown":"From the looks of this, you&#39;re using Spring.  You can simply autowire that into your component class with `@Value(&quot;${messageapi}&quot;)`","body":"From the looks of this, you&#39;re using Spring.  You can simply autowire that into your component class with <code>@Value(&quot;${messageapi}&quot;)</code>"},{"owner":{"account_id":4144906,"reputation":1342,"user_id":3795691,"accept_rate":53,"display_name":"Mattia Righetti"},"score":0,"creation_date":1684853731,"post_id":76316037,"comment_id":134576292,"body_markdown":"[Provide a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Provide a Minimal, Reproducible Example</a>"},{"owner":{"account_id":20678167,"reputation":43,"user_id":15182329,"display_name":"Aquaman"},"score":0,"creation_date":1684856479,"post_id":76316037,"comment_id":134577048,"body_markdown":"@lane.maxwell I am accessing the api through @Value(&quot;${messageapi}&quot;), but i need to access value of {{userid}} in exchange() method","body":"@lane.maxwell I am accessing the api through @Value(&quot;${messageapi}&quot;), but i need to access value of {{userid}} in exchange() method"}],"answers":[{"tags":[],"owner":{"account_id":875271,"reputation":2505,"user_id":925040,"accept_rate":75,"display_name":"Alexius DIAKOGIANNIS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684856762,"creation_date":1684856762,"answer_id":76316549,"question_id":76316037,"body_markdown":"This how i would approach it. I would plase a string placeholder, get it with @Value and then I would use String.format. So here it goes: \r\n\r\n - Step 1 use this format in your `application.properties` file entry `messageapi=http://localhost:8080/uxt/get/%s/messages/notification` \r\n - Step 2 in your class use the \r\n      \r\n       @Value(&quot;${messageapi}&quot;)\r\n       String messageapi;\r\n\r\nand store the value\r\n - Step 3 use the following to replace the **userId** `String.format(messageapi,&quot;userId &quot;));` and in your case somthing like\r\n\r\n       asycTemp.exchange(String.format(messageapi,&quot;userId &quot;)), method, requestEntity, responseType);\r\n\r\nI hope I helped","title":"get external url from application.properties with pathvariable","body":"<p>This how i would approach it. I would plase a string placeholder, get it with @Value and then I would use String.format. So here it goes:</p>\n<ul>\n<li><p>Step 1 use this format in your <code>application.properties</code> file entry <code>messageapi=http://localhost:8080/uxt/get/%s/messages/notification</code></p>\n</li>\n<li><p>Step 2 in your class use the</p>\n<pre><code>@Value(&quot;${messageapi}&quot;)\nString messageapi;\n</code></pre>\n</li>\n</ul>\n<p>and store the value</p>\n<ul>\n<li><p>Step 3 use the following to replace the <strong>userId</strong> <code>String.format(messageapi,&quot;userId &quot;));</code> and in your case somthing like</p>\n<pre><code>asycTemp.exchange(String.format(messageapi,&quot;userId &quot;)), method, requestEntity, responseType);\n</code></pre>\n</li>\n</ul>\n<p>I hope I helped</p>\n"},{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684861386,"creation_date":1684861386,"answer_id":76317136,"question_id":76316037,"body_markdown":"To add to the already accepted answer, you can do this with a combination of the `@Value` annotation, `SpEL`, and request scoped beans.\r\n\r\nConsider this implementation\r\n\r\n\t@Value(&quot;#{T(java.lang.String).format(&#39;${messageapi}&#39;, T(org.springframework.security.core.context.SecurityContextHolder).getContext().authentication.name)}&quot; )\r\n\tprivate String messageApiURL;\r\n\r\nAdd that to a service that&#39;s scoped with request, that&#39;s called from another request scoped bean.  This pulls the user from the active security context, but you could put any method here that you can reach, you can even call methods from other beans that are not request scoped, like this:\r\n\r\n\t@Value(&quot;#{T(java.lang.String).format(&#39;${messageapi}&#39;, {userService.getUser()})}&quot; )\r\n\tprivate String prop;\r\n\r\nThis would call the `getUser()` method on a bean named `userService`, passing it as an arg to the String format.","title":"get external url from application.properties with pathvariable","body":"<p>To add to the already accepted answer, you can do this with a combination of the <code>@Value</code> annotation, <code>SpEL</code>, and request scoped beans.</p>\n<p>Consider this implementation</p>\n<pre><code>@Value(&quot;#{T(java.lang.String).format('${messageapi}', T(org.springframework.security.core.context.SecurityContextHolder).getContext().authentication.name)}&quot; )\nprivate String messageApiURL;\n</code></pre>\n<p>Add that to a service that's scoped with request, that's called from another request scoped bean.  This pulls the user from the active security context, but you could put any method here that you can reach, you can even call methods from other beans that are not request scoped, like this:</p>\n<pre><code>@Value(&quot;#{T(java.lang.String).format('${messageapi}', {userService.getUser()})}&quot; )\nprivate String prop;\n</code></pre>\n<p>This would call the <code>getUser()</code> method on a bean named <code>userService</code>, passing it as an arg to the String format.</p>\n"}],"owner":{"account_id":20678167,"reputation":43,"user_id":15182329,"display_name":"Aquaman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76316549,"answer_count":2,"score":0,"last_activity_date":1684861386,"creation_date":1684853330,"question_id":76316037,"body_markdown":"I have a situation were i need to  call an external endpoint. I am using spring boot. I have placed the endpoint in the `application.properties` file and used a placeholder for the parameter I need to change like so: `messageapi=http://localhost:8080/uxt/get/{{userId}}/messages/notification`\r\n    \r\nwhere userid is a dynamic value generated in code.\r\n\r\nwhat is the most efficient way for me to to access this value in asyncRestTemplate.exchange() method and replace the variable?","title":"get external url from application.properties with pathvariable","body":"<p>I have a situation were i need to  call an external endpoint. I am using spring boot. I have placed the endpoint in the <code>application.properties</code> file and used a placeholder for the parameter I need to change like so: <code>messageapi=http://localhost:8080/uxt/get/{{userId}}/messages/notification</code></p>\n<p>where userid is a dynamic value generated in code.</p>\n<p>what is the most efficient way for me to to access this value in asyncRestTemplate.exchange() method and replace the variable?</p>\n"},{"tags":["java","spring","amazon-web-services","tomcat","amazon-elb"],"comments":[{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1485957906,"post_id":41977414,"comment_id":71141130,"body_markdown":"How are the listeners on your ELB configured exactly? Are you doing SSL termination at the ELB or in Tomcat?","body":"How are the listeners on your ELB configured exactly? Are you doing SSL termination at the ELB or in Tomcat?"},{"owner":{"account_id":5077631,"reputation":31,"user_id":4074595,"display_name":"ymansour"},"score":0,"creation_date":1485961542,"post_id":41977414,"comment_id":71143660,"body_markdown":"@MarkB : listeners are configured this way ELB Protocol: HTTP / ELB Port : 80 / Instance Protocol : HTTP / Instance Port 8080 and ELB Protocol: HTTPS / ELB Port : 443 / Instance Protocol : HTTP / Instance Port 8080","body":"@MarkB : listeners are configured this way ELB Protocol: HTTP / ELB Port : 80 / Instance Protocol : HTTP / Instance Port 8080 and ELB Protocol: HTTPS / ELB Port : 443 / Instance Protocol : HTTP / Instance Port 8080"},{"owner":{"account_id":5077631,"reputation":31,"user_id":4074595,"display_name":"ymansour"},"score":0,"creation_date":1485961697,"post_id":41977414,"comment_id":71143789,"body_markdown":"The termination is done at the ELB","body":"The termination is done at the ELB"},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1485962934,"post_id":41977414,"comment_id":71144713,"body_markdown":"Are you sure the requests with the null x-forwarded-for header aren&#39;t simply the ELB health check requests? Also, you are accepting both HTTP and HTTPS requests from the ELB, and you should only expect the HTTPS requests to result in `isSecure == true`.","body":"Are you sure the requests with the null x-forwarded-for header aren&#39;t simply the ELB health check requests? Also, you are accepting both HTTP and HTTPS requests from the ELB, and you should only expect the HTTPS requests to result in <code>isSecure == true</code>."},{"owner":{"account_id":5077631,"reputation":31,"user_id":4074595,"display_name":"ymansour"},"score":0,"creation_date":1485967309,"post_id":41977414,"comment_id":71147855,"body_markdown":"Yes I&#39;m sure it&#39;s not ELB health check. About HTTP and HTTPS, for my tests, I only make requests using HTTPS.","body":"Yes I&#39;m sure it&#39;s not ELB health check. About HTTP and HTTPS, for my tests, I only make requests using HTTPS."},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1485967625,"post_id":41977414,"comment_id":71148034,"body_markdown":"Did you configure the ELB health checks to use HTTPS?","body":"Did you configure the ELB health checks to use HTTPS?"},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1485972526,"post_id":41977414,"comment_id":71151038,"body_markdown":"I was looking at the documentation for `RemoteIpValve` and it states: &quot;x-forwarded-by header is null because only internal proxies as been traversed by the request. x-forwarded-by is null because all the proxies are trusted or internal.&quot; You might want to look into how the internal proxies setting causes values to be nulled out. It looks like x-forwarded-for will be nulled out and the IP address will be in `request.remoteAddr`","body":"I was looking at the documentation for <code>RemoteIpValve</code> and it states: &quot;x-forwarded-by header is null because only internal proxies as been traversed by the request. x-forwarded-by is null because all the proxies are trusted or internal.&quot; You might want to look into how the internal proxies setting causes values to be nulled out. It looks like x-forwarded-for will be nulled out and the IP address will be in <code>request.remoteAddr</code>"}],"answers":[{"tags":[],"owner":{"account_id":24300729,"reputation":11,"user_id":18244272,"display_name":"spring-developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684860630,"creation_date":1684860630,"answer_id":76317049,"question_id":41977414,"body_markdown":"you can use request.getRemoteAddr() in spring-boot 3.0+\r\n\r\nwhen you pass x-forwarded-for header, its transferred into remoteAddress field of HttpServletRequest.","title":"Tomcat - RemoteIpValve - x-forwarded-for header is null","body":"<p>you can use request.getRemoteAddr() in spring-boot 3.0+</p>\n<p>when you pass x-forwarded-for header, its transferred into remoteAddress field of HttpServletRequest.</p>\n"}],"owner":{"account_id":5077631,"reputation":31,"user_id":4074595,"display_name":"ymansour"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684860630,"creation_date":1485945059,"question_id":41977414,"body_markdown":"I have an application (JVM 1.8.0_31-b13, Spring MVC 4.2.4, Security 4.0.3) deployed on Tomcat 7 (7.0.68) and I&#39;m using an AWS ELB to handle requests from client.\r\nIn my application, I try to get the client ip address using the X-forwarded-for header. If I don&#39;t find it, then I use the method getRemoteAddr of the HttpServletRequest class.\r\nAnd I have noticed several things when I log informations in the application:\r\n\r\nFirst:\r\nThe header x-forwarded-for is always null\r\n\r\nSecond:\r\nThe remote address is sometimes the same as the elb ip and sometimes it&#39;s the same as client ip address.\r\nI have noticed that: \r\n\r\n - when the remote address is the same as the client ip address then the request is considered as secured and the scheme is https (method isSecure and getScheme)\r\n - when the remote address is the same as the elb address ip then the request is not considered as secured and the scheme is http (method isSecure and getScheme)\r\n\r\nHere&#39;s the valve configuration in server.xml:\r\n\r\n    &lt;Valve className=&quot;org.apache.catalina.valves.RemoteIpValve&quot; protocolHeader=&quot;X-Forwarded-Proto&quot; internalProxies=&quot;172\\.(1[6-9]|2\\d|3[0-1])\\.\\d{1,3}\\.\\d{1,3}|10\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|192\\.168\\.\\d{1,3}\\.\\d{1,3}&quot; /&gt;\r\n\r\nHere&#39;s an example of elb address ip: 172.31.xxx.xxx \r\n\r\nI don&#39;t understand:\r\n\r\n - Why the x-forwarded-for header is always null.\r\n - And why some requests are considered as secured and some are not.","title":"Tomcat - RemoteIpValve - x-forwarded-for header is null","body":"<p>I have an application (JVM 1.8.0_31-b13, Spring MVC 4.2.4, Security 4.0.3) deployed on Tomcat 7 (7.0.68) and I'm using an AWS ELB to handle requests from client.\nIn my application, I try to get the client ip address using the X-forwarded-for header. If I don't find it, then I use the method getRemoteAddr of the HttpServletRequest class.\nAnd I have noticed several things when I log informations in the application:</p>\n<p>First:\nThe header x-forwarded-for is always null</p>\n<p>Second:\nThe remote address is sometimes the same as the elb ip and sometimes it's the same as client ip address.\nI have noticed that:</p>\n<ul>\n<li>when the remote address is the same as the client ip address then the request is considered as secured and the scheme is https (method isSecure and getScheme)</li>\n<li>when the remote address is the same as the elb address ip then the request is not considered as secured and the scheme is http (method isSecure and getScheme)</li>\n</ul>\n<p>Here's the valve configuration in server.xml:</p>\n<pre><code>&lt;Valve className=&quot;org.apache.catalina.valves.RemoteIpValve&quot; protocolHeader=&quot;X-Forwarded-Proto&quot; internalProxies=&quot;172\\.(1[6-9]|2\\d|3[0-1])\\.\\d{1,3}\\.\\d{1,3}|10\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|192\\.168\\.\\d{1,3}\\.\\d{1,3}&quot; /&gt;\n</code></pre>\n<p>Here's an example of elb address ip: 172.31.xxx.xxx</p>\n<p>I don't understand:</p>\n<ul>\n<li>Why the x-forwarded-for header is always null.</li>\n<li>And why some requests are considered as secured and some are not.</li>\n</ul>\n"},{"tags":["java","spring-boot","http","httpresponse","spring-restcontroller"],"comments":[{"owner":{"account_id":28662696,"reputation":15,"user_id":21947320,"display_name":"TesUser476797"},"score":0,"creation_date":1684855194,"post_id":76316096,"comment_id":134576719,"body_markdown":"If anyone has any idea please comment it out","body":"If anyone has any idea please comment it out"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684860493,"creation_date":1684860493,"answer_id":76317029,"question_id":76316096,"body_markdown":"Java objects only exists in the memory. There is no way to transfer them outside the memory over an HTTP request, or any other kind of request. \r\n\r\nWhat you could do is serialize the request in a way that can be understood and parsed from the client to reconstruct a similar object. Traditional Java serialization is very fragile and not really helpful and would be a bad idea for this use case. \r\n\r\nThe traditional way of solving it for REST APIs/HTTP requests this is to translate the Java object into a JSON document. You could use XML or some other standard format if you prefer.","title":"Returning complex data objects from Spring Boot Controllers","body":"<p>Java objects only exists in the memory. There is no way to transfer them outside the memory over an HTTP request, or any other kind of request.</p>\n<p>What you could do is serialize the request in a way that can be understood and parsed from the client to reconstruct a similar object. Traditional Java serialization is very fragile and not really helpful and would be a bad idea for this use case.</p>\n<p>The traditional way of solving it for REST APIs/HTTP requests this is to translate the Java object into a JSON document. You could use XML or some other standard format if you prefer.</p>\n"}],"owner":{"account_id":28662696,"reputation":15,"user_id":21947320,"display_name":"TesUser476797"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684860493,"creation_date":1684853756,"question_id":76316096,"body_markdown":"I&#39;m trying to return a complex data object which has interface aggregated in it as shown below,\r\n\r\n\r\n```\r\npublic class ReportHolder extends AbstractDataObject implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 51617699878708757349465L;\r\n\tstatic {\r\n\t\tcom.scmn.gjow.util.XMLConverter.registerDataObjectClass(com.scmn.gjow.dto.ReportHolder.class);\r\n\t}\r\n\r\n\tprivate List productKeys;\r\n\t**private ReportHeader reportHeader;**\r\n\tprivate BlackedOutDestination[] blackedOutDestinations;\r\n\tprivate TabOccurrences tabsOccurrencesData;\r\n\t\r\n\tpublic ReportHolder(ReportHeader reportHeader, List productKeys)\r\n    {\r\n        this.reportHeader = reportHeader;\r\n        this.productKeys = productKeys;\r\n    }\r\n\t\r\n\tpublic ReportHeader getReportHeader()\r\n    {\r\n        return reportHeader;\r\n    }\r\n\r\n\tpublic ReportHolder(List productKeys) {\r\n\t\tthis.productKeys = productKeys;\r\n\t}\r\n\r\n\tpublic List getProductKeys() {\r\n\t\treturn productKeys;\r\n\t}\r\n\r\n\tpublic void setProductKeys(List productKeys) {\r\n\t\tthis.productKeys = productKeys;\r\n\t}\r\n\r\n\tpublic BlackedOutDestination[] getBlackedOutDestinations() {\r\n\t\treturn blackedOutDestinations;\r\n\t}\r\n\r\n\tpublic void setBlackedOutDestinations(BlackedOutDestination[] blackedOutDestinations) {\r\n\t\tthis.blackedOutDestinations = blackedOutDestinations;\r\n\t}\r\n\r\n\tpublic TabOccurrences getTabsOccurrencesData() {\r\n\t\treturn tabsOccurrencesData;\r\n\t}\r\n\r\n\tpublic void setTabsOccurrencesData(TabOccurrences tabsOccurrencesData) {\r\n\t\tthis.tabsOccurrencesData = tabsOccurrencesData;\r\n\t}\r\n}\r\n\r\n```\r\nAnd the Report Header sub class is an interface as below,\r\n\r\n\r\n```\r\n\r\npublic interface ReportHeader extends DataObjectWithChangeLog,Validatable,SensitiveLogSupported, Cloneable\r\n{\r\n   \r\n    public static final String LOA_FIELD                           = &quot;loaExist&quot;;\r\n    public static final String INCIDENT_NUM_FIELD                  = &quot;incidentNum&quot;;\r\n\r\n    void validate(Validator validator);\r\n\r\n    void update(ReportHeader report);\r\n    \r\n    String getSourceText1();\r\n\r\n    void setSourceText1(String sourceText);\r\n\r\n    String getSourceText2();\r\n\r\n    void setSourceText2(String sourceText);\r\n\r\n    T1AIndicator getT1AIndicator();\r\n\r\n    void setT1AIndicator(T1AIndicator indicator);\r\n\r\n    ReportSource getRptSource();\r\n\r\n    void setRptSource(ReportSource rptSource);\r\n   \r\n}\r\n```\r\nWhen I remove the ReportHeader object from this ReportHolder I don&#39;t get any exception. But I need it to be returned from my controller.\r\nWhen I try to return this **Report Holder **object from controller with this Report Header I get \r\nthe below exception:\r\n\r\n\r\n```\r\nFailure while trying to resolve exception [org.springframework.http.converter.HttpMessageNotWritableException]\r\n\r\njava.lang.IllegalStateException: Cannot call sendError() after the response has been committed\r\n\tat org.apache.catalina.connector.ResponseFacade.checkCommitted(ResponseFacade.java:530) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n\tat org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:363) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\r\n\tat org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.sendServerError(DefaultHandlerExceptionResolver.java:552) ~[spring-webmvc-5.3.26.jar:5.3.26]\r\n\tat org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.handleHttpMessageNotWritable(DefaultHandlerExceptionResolver.java:442) ~[spring-webmvc-5.3.26.jar:5.3.26]\r\n\tat org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.doResolveException(DefaultHandlerExceptionResolver.java:209) ~[spring-webmvc-5.3.26.jar:5.3.26]\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142) [spring-webmvc-5.3.26.jar:5.3.26]\r\n\tat org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) [spring-webmvc-5.3.26.jar:5.3.26]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1332) [spring-webmvc-5.3.26.jar:5.3.26]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1143) [spring-webmvc-5.3.26.jar:5.3.26]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) [spring-webmvc-5.3.26.jar:5.3.26]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) [spring-webmvc-5.3.26.jar:5.3.26]\r\n```\r\n\r\n\r\nDo I need to add HttpMessageConverters or is there any way to return this kind of Data Object.\r\nHow to resolve this exception.","title":"Returning complex data objects from Spring Boot Controllers","body":"<p>I'm trying to return a complex data object which has interface aggregated in it as shown below,</p>\n<pre><code>public class ReportHolder extends AbstractDataObject implements Serializable {\n\n    private static final long serialVersionUID = 51617699878708757349465L;\n    static {\n        com.scmn.gjow.util.XMLConverter.registerDataObjectClass(com.scmn.gjow.dto.ReportHolder.class);\n    }\n\n    private List productKeys;\n    **private ReportHeader reportHeader;**\n    private BlackedOutDestination[] blackedOutDestinations;\n    private TabOccurrences tabsOccurrencesData;\n    \n    public ReportHolder(ReportHeader reportHeader, List productKeys)\n    {\n        this.reportHeader = reportHeader;\n        this.productKeys = productKeys;\n    }\n    \n    public ReportHeader getReportHeader()\n    {\n        return reportHeader;\n    }\n\n    public ReportHolder(List productKeys) {\n        this.productKeys = productKeys;\n    }\n\n    public List getProductKeys() {\n        return productKeys;\n    }\n\n    public void setProductKeys(List productKeys) {\n        this.productKeys = productKeys;\n    }\n\n    public BlackedOutDestination[] getBlackedOutDestinations() {\n        return blackedOutDestinations;\n    }\n\n    public void setBlackedOutDestinations(BlackedOutDestination[] blackedOutDestinations) {\n        this.blackedOutDestinations = blackedOutDestinations;\n    }\n\n    public TabOccurrences getTabsOccurrencesData() {\n        return tabsOccurrencesData;\n    }\n\n    public void setTabsOccurrencesData(TabOccurrences tabsOccurrencesData) {\n        this.tabsOccurrencesData = tabsOccurrencesData;\n    }\n}\n\n</code></pre>\n<p>And the Report Header sub class is an interface as below,</p>\n<pre><code>\npublic interface ReportHeader extends DataObjectWithChangeLog,Validatable,SensitiveLogSupported, Cloneable\n{\n   \n    public static final String LOA_FIELD                           = &quot;loaExist&quot;;\n    public static final String INCIDENT_NUM_FIELD                  = &quot;incidentNum&quot;;\n\n    void validate(Validator validator);\n\n    void update(ReportHeader report);\n    \n    String getSourceText1();\n\n    void setSourceText1(String sourceText);\n\n    String getSourceText2();\n\n    void setSourceText2(String sourceText);\n\n    T1AIndicator getT1AIndicator();\n\n    void setT1AIndicator(T1AIndicator indicator);\n\n    ReportSource getRptSource();\n\n    void setRptSource(ReportSource rptSource);\n   \n}\n</code></pre>\n<p>When I remove the ReportHeader object from this ReportHolder I don't get any exception. But I need it to be returned from my controller.\nWhen I try to return this **Report Holder **object from controller with this Report Header I get\nthe below exception:</p>\n<pre><code>Failure while trying to resolve exception [org.springframework.http.converter.HttpMessageNotWritableException]\n\njava.lang.IllegalStateException: Cannot call sendError() after the response has been committed\n    at org.apache.catalina.connector.ResponseFacade.checkCommitted(ResponseFacade.java:530) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:363) ~[tomcat-embed-core-9.0.73.jar:9.0.73]\n    at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.sendServerError(DefaultHandlerExceptionResolver.java:552) ~[spring-webmvc-5.3.26.jar:5.3.26]\n    at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.handleHttpMessageNotWritable(DefaultHandlerExceptionResolver.java:442) ~[spring-webmvc-5.3.26.jar:5.3.26]\n    at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.doResolveException(DefaultHandlerExceptionResolver.java:209) ~[spring-webmvc-5.3.26.jar:5.3.26]\n    at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142) [spring-webmvc-5.3.26.jar:5.3.26]\n    at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) [spring-webmvc-5.3.26.jar:5.3.26]\n    at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1332) [spring-webmvc-5.3.26.jar:5.3.26]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1143) [spring-webmvc-5.3.26.jar:5.3.26]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) [spring-webmvc-5.3.26.jar:5.3.26]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) [spring-webmvc-5.3.26.jar:5.3.26]\n</code></pre>\n<p>Do I need to add HttpMessageConverters or is there any way to return this kind of Data Object.\nHow to resolve this exception.</p>\n"},{"tags":["java","spring-boot","apache-spark"],"owner":{"account_id":25926402,"reputation":55,"user_id":19648218,"display_name":"Kiolimandars"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684860325,"creation_date":1684860325,"question_id":76317013,"body_markdown":"I am encountering the following error when I try to read a csv file with spark in my springboot app: `java.lang.reflect.InaccessibleObjectException: Unable to make field private transient java.lang.String java.net.URI.scheme accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7d3a22a9`\r\n\r\nThis is the code I am trying to run\r\n\r\n```\r\nDataset&lt;Row&gt; csvDatas = spark.read()\r\n                                .format(&quot;csv&quot;)\r\n                                .option(&quot;header&quot;, &quot;true&quot;) // Assuming the CSV file has a header\r\n                                .load(filePath);\r\n\r\n                        // Show the DataFrame\r\n                        csvDatas.show();\r\n```\r\n\r\nthis is my pom.xml file:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;dbtest&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;dbtest&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;!--&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;--&gt;\r\n\t\t\t\t&lt;!-- Add more exclusions if needed --&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.6&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.3&lt;/version&gt;\r\n\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-yarn-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.6&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.0.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-streaming_2.12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.6&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.32&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;antlr4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.26&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.34&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;argLine&gt;\r\n\t\t\t\t\t\t--add-opens=java.base/java.net=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.base/java.lang.ref=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.base/java.lang=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.base/java.security=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.base/java.util=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/javax.swing.plaf.basic=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/javax.swing.text=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/javax.swing=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/java.awt=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/java.awt.event=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.prefs/java.util.prefs=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.jshell/jdk.jshell=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-modules=jdk.jshell\r\n\t\t\t\t\t\t--add-exports=java.desktop/sun.awt=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=java.desktop/java.awt.peer=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=java.desktop/com.sun.beans.editors=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=java.desktop/sun.swing=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=java.desktop/sun.awt.im=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=java.desktop/com.sun.java.swing.plaf.motif=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=java.management/sun.management=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=java.base/sun.reflect.annotation=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.jdeps/com.sun.tools.classfile=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-exports=jdk.jdeps/com.sun.tools.javap=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/sun.awt.X11=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/javax.swing.plaf.synth=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/com.sun.java.swing.plaf.gtk=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/sun.awt.shell=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.desktop/sun.awt.im=ALL-UNNAMED\r\n\t\t\t\t\t\t--add-opens=java.base/java.nio=ALL-UNNAMED\r\n\t\t\t\t\t&lt;/argLine&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nAs you see in the pom.xml file I tried to make java version and spark versions compatible and I tried adding plugins to solv the issue but it didn&#39;t work","title":"java.lang.reflect.InaccessibleObjectException error when trying to read a csv file with spark in springboot","body":"<p>I am encountering the following error when I try to read a csv file with spark in my springboot app: <code>java.lang.reflect.InaccessibleObjectException: Unable to make field private transient java.lang.String java.net.URI.scheme accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @7d3a22a9</code></p>\n<p>This is the code I am trying to run</p>\n<pre><code>Dataset&lt;Row&gt; csvDatas = spark.read()\n                                .format(&quot;csv&quot;)\n                                .option(&quot;header&quot;, &quot;true&quot;) // Assuming the CSV file has a header\n                                .load(filePath);\n\n                        // Show the DataFrame\n                        csvDatas.show();\n</code></pre>\n<p>this is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;dbtest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;dbtest&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n\n            &lt;exclusions&gt;\n                &lt;!--&lt;exclusion&gt;\n                    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;--&gt;\n                &lt;!-- Add more exclusions if needed --&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n            &lt;version&gt;3.0.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;janino&lt;/artifactId&gt;\n            &lt;version&gt;3.0.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.4.6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n                    &lt;artifactId&gt;janino&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n            &lt;version&gt;3.3.3&lt;/version&gt;\n\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n                    &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-yarn-client&lt;/artifactId&gt;\n            &lt;version&gt;3.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.4.6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n                    &lt;artifactId&gt;janino&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;7.0.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-streaming_2.12&lt;/artifactId&gt;\n            &lt;version&gt;2.4.6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.32&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n            &lt;artifactId&gt;antlr4&lt;/artifactId&gt;\n            &lt;version&gt;4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n            &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\n            &lt;version&gt;4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;version&gt;2.34&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;\n                        --add-opens=java.base/java.net=ALL-UNNAMED\n                        --add-opens=java.base/java.lang.ref=ALL-UNNAMED\n                        --add-opens=java.base/java.lang=ALL-UNNAMED\n                        --add-opens=java.base/java.security=ALL-UNNAMED\n                        --add-opens=java.base/java.util=ALL-UNNAMED\n                        --add-opens=java.desktop/javax.swing.plaf.basic=ALL-UNNAMED\n                        --add-opens=java.desktop/javax.swing.text=ALL-UNNAMED\n                        --add-opens=java.desktop/javax.swing=ALL-UNNAMED\n                        --add-opens=java.desktop/java.awt=ALL-UNNAMED\n                        --add-opens=java.desktop/java.awt.event=ALL-UNNAMED\n                        --add-opens=java.prefs/java.util.prefs=ALL-UNNAMED\n                        --add-opens=jdk.jshell/jdk.jshell=ALL-UNNAMED\n                        --add-modules=jdk.jshell\n                        --add-exports=java.desktop/sun.awt=ALL-UNNAMED\n                        --add-exports=java.desktop/java.awt.peer=ALL-UNNAMED\n                        --add-exports=java.desktop/com.sun.beans.editors=ALL-UNNAMED\n                        --add-exports=java.desktop/sun.swing=ALL-UNNAMED\n                        --add-exports=java.desktop/sun.awt.im=ALL-UNNAMED\n                        --add-exports=java.desktop/com.sun.java.swing.plaf.motif=ALL-UNNAMED\n                        --add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\n                        --add-exports=java.management/sun.management=ALL-UNNAMED\n                        --add-exports=java.base/sun.reflect.annotation=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\n                        --add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\n                        --add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\n                        --add-exports=jdk.jdeps/com.sun.tools.classfile=ALL-UNNAMED\n                        --add-exports=jdk.jdeps/com.sun.tools.javap=ALL-UNNAMED\n                        --add-opens=java.desktop/sun.awt.X11=ALL-UNNAMED\n                        --add-opens=java.desktop/javax.swing.plaf.synth=ALL-UNNAMED\n                        --add-opens=java.desktop/com.sun.java.swing.plaf.gtk=ALL-UNNAMED\n                        --add-opens=java.desktop/sun.awt.shell=ALL-UNNAMED\n                        --add-opens=java.desktop/sun.awt.im=ALL-UNNAMED\n                        --add-opens=java.base/java.nio=ALL-UNNAMED\n                    &lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>As you see in the pom.xml file I tried to make java version and spark versions compatible and I tried adding plugins to solv the issue but it didn't work</p>\n"},{"tags":["java","spring-mvc","spring-boot","swagger","springfox"],"answers":[{"tags":[],"owner":{"account_id":345047,"reputation":10337,"user_id":677735,"display_name":"William Cheng"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1489582417,"creation_date":1453709440,"answer_id":34987818,"question_id":34984820,"body_markdown":"You can try &quot;HTML&quot; or &quot;Dynamic HTML&quot; under the &quot;Generate Client&quot; menu in https://editor.swagger.io. For any issue/feedback with the static doc, please report in the [Swagger Codegen](https://github.com/swagger-api/swagger-codegen/) Github repo.\r\n\r\neditor.swagger.io leverages https://generator.swagger.io to generate code and generator.swagger.io (Swagger Generator) is part of the Swagger Codegen project.","title":"How to generate offline Swagger API docs?","body":"<p>You can try \"HTML\" or \"Dynamic HTML\" under the \"Generate Client\" menu in <a href=\"https://editor.swagger.io\" rel=\"nofollow noreferrer\">https://editor.swagger.io</a>. For any issue/feedback with the static doc, please report in the <a href=\"https://github.com/swagger-api/swagger-codegen/\" rel=\"nofollow noreferrer\">Swagger Codegen</a> Github repo.</p>\n\n<p>editor.swagger.io leverages <a href=\"https://generator.swagger.io\" rel=\"nofollow noreferrer\">https://generator.swagger.io</a> to generate code and generator.swagger.io (Swagger Generator) is part of the Swagger Codegen project.</p>\n"},{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1453727141,"creation_date":1453727141,"answer_id":34993377,"question_id":34984820,"body_markdown":"Springfox allows you to easily create a Swagger tester/API docs based on your Spring annotations.\r\n\r\nSwagger itself has some tools to allow you to generate offline/static documentation:\r\n\r\n- The [Swagger Editor][1] has several ways of generating documentation listed in the **Generate Client** menu\r\n- The [Swagger Codegen][2] module allows you to generate a static and dynamic HTML document\r\n\r\nBoth of them require a Swagger YAML or JSON file. In case you don&#39;t have a Swagger definition in YAML/JSON because you&#39;re using Springfox, you can use the generated file used for Swagger UI (`/v2/api-docs?group=&lt;group name&gt;`).\r\n\r\n\r\n  [1]: http://editor.swagger.io/#/\r\n  [2]: https://github.com/swagger-api/swagger-codegen#generating-dynamic-html-api-documentation","title":"How to generate offline Swagger API docs?","body":"<p>Springfox allows you to easily create a Swagger tester/API docs based on your Spring annotations.</p>\n\n<p>Swagger itself has some tools to allow you to generate offline/static documentation:</p>\n\n<ul>\n<li>The <a href=\"http://editor.swagger.io/#/\" rel=\"noreferrer\">Swagger Editor</a> has several ways of generating documentation listed in the <strong>Generate Client</strong> menu</li>\n<li>The <a href=\"https://github.com/swagger-api/swagger-codegen#generating-dynamic-html-api-documentation\" rel=\"noreferrer\">Swagger Codegen</a> module allows you to generate a static and dynamic HTML document</li>\n</ul>\n\n<p>Both of them require a Swagger YAML or JSON file. In case you don't have a Swagger definition in YAML/JSON because you're using Springfox, you can use the generated file used for Swagger UI (<code>/v2/api-docs?group=&lt;group name&gt;</code>).</p>\n"},{"tags":[],"owner":{"account_id":5584988,"reputation":1615,"user_id":4425676,"accept_rate":29,"display_name":"Jerrod Horton"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1453762933,"creation_date":1453762933,"answer_id":35004134,"question_id":34984820,"body_markdown":"You might take a look at https://www.DynamicApis.com.  You can create an API portal and upload your swagger JSON documents.  This site takes the Swagger document and generates a much nicer user interface for your API along with some pretty cool tooling.\r\n\r\n[Here][1] is an example of a portal API that has documentation on one of their APIs.\r\n\r\n\r\n  [1]: https://www.dynamicapis.com/dapi/apis/0b971e55-c61f-4428-a65f-ca905bd52762","title":"How to generate offline Swagger API docs?","body":"<p>You might take a look at <a href=\"https://www.DynamicApis.com\" rel=\"nofollow\">https://www.DynamicApis.com</a>.  You can create an API portal and upload your swagger JSON documents.  This site takes the Swagger document and generates a much nicer user interface for your API along with some pretty cool tooling.</p>\n\n<p><a href=\"https://www.dynamicapis.com/dapi/apis/0b971e55-c61f-4428-a65f-ca905bd52762\" rel=\"nofollow\">Here</a> is an example of a portal API that has documentation on one of their APIs.</p>\n"},{"tags":[],"owner":{"account_id":6233895,"reputation":1955,"user_id":4849766,"display_name":"Sahar Menashe"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1453834248,"creation_date":1453833930,"answer_id":35021432,"question_id":34984820,"body_markdown":"Swagger has tool for generating offline docs.\r\n\r\nThe tool is &quot;[Swagger2Markup][1]&quot; which is located @ Github.\r\n\r\n\r\nThe output of &quot;Swagger2Markup&quot; can be used as an alternative to swagger-ui and can be served as static content.\r\n\r\n\r\n\r\n[Here is an Example][2]\r\n\r\nGood luck! :)\r\n\r\n\r\n  [1]: https://github.com/Swagger2Markup/swagger2markup\r\n  [2]: https://i.stack.imgur.com/02lc5.jpg","title":"How to generate offline Swagger API docs?","body":"<p>Swagger has tool for generating offline docs.</p>\n\n<p>The tool is \"<a href=\"https://github.com/Swagger2Markup/swagger2markup\" rel=\"noreferrer\">Swagger2Markup</a>\" which is located @ Github.</p>\n\n<p>The output of \"Swagger2Markup\" can be used as an alternative to swagger-ui and can be served as static content.</p>\n\n<p><a href=\"https://i.stack.imgur.com/02lc5.jpg\" rel=\"noreferrer\">Here is an Example</a></p>\n\n<p>Good luck! :)</p>\n"},{"tags":[],"owner":{"account_id":6666991,"reputation":71,"user_id":5144371,"display_name":"Tobi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490547992,"creation_date":1490547992,"answer_id":43031853,"question_id":34984820,"body_markdown":"Pretty-swag is a UI for Swagger Specification V2 capable of generating static HTML an other formats. It is inspired by Swagger Editor.\r\n\r\ncheckout https://github.com/twskj/pretty-swag","title":"How to generate offline Swagger API docs?","body":"<p>Pretty-swag is a UI for Swagger Specification V2 capable of generating static HTML an other formats. It is inspired by Swagger Editor.</p>\n\n<p>checkout <a href=\"https://github.com/twskj/pretty-swag\" rel=\"nofollow noreferrer\">https://github.com/twskj/pretty-swag</a></p>\n"},{"tags":[],"owner":{"account_id":14095827,"reputation":65,"user_id":10182640,"display_name":"Goutham "},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1548067628,"creation_date":1548067628,"answer_id":54288277,"question_id":34984820,"body_markdown":"Open the live swagger HTML. click on expanding all the operations. Then save the HTML as PDF.\r\n\r\nThis should give you a decent PDF API documentation with all the details in it.\r\n\r\n","title":"How to generate offline Swagger API docs?","body":"<p>Open the live swagger HTML. click on expanding all the operations. Then save the HTML as PDF.</p>\n\n<p>This should give you a decent PDF API documentation with all the details in it.</p>\n"}],"owner":{"account_id":1568778,"reputation":5404,"user_id":1456962,"accept_rate":73,"display_name":"code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41392,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":34993377,"answer_count":6,"score":18,"last_activity_date":1684860100,"creation_date":1453694116,"question_id":34984820,"body_markdown":"I have a spring boot MVC java Web app. I&#39;ve been able to integrate Springfox for API documentation. I can visually see all of the APIs when server is up and running. \n\nHow can I generate OFFLINE swagger API documentation? Note: I would not like to use asciidoc or markdown documentation, but I&#39;d like the same swagger API user interface in html files. I&#39;d like so that the links are relative to local directory instead of local host server links. Thanks","title":"How to generate offline Swagger API docs?","body":"<p>I have a spring boot MVC java Web app. I've been able to integrate Springfox for API documentation. I can visually see all of the APIs when server is up and running. </p>\n\n<p>How can I generate OFFLINE swagger API documentation? Note: I would not like to use asciidoc or markdown documentation, but I'd like the same swagger API user interface in html files. I'd like so that the links are relative to local directory instead of local host server links. Thanks</p>\n"},{"tags":["java","selenium-webdriver","testing","automation","selenium-chromedriver"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1684671131,"post_id":76299816,"comment_id":134548008,"body_markdown":"Two things. Firstly, don&#39;t do Thread.sleep. Instead use \n(WebDriverWait) wait.until(ExpectedConditions.presenceOfElementLocated(...). But the issue you are having could be that you need to click the textfield first before you can sendkeys.","body":"Two things. Firstly, don&#39;t do Thread.sleep. Instead use  (WebDriverWait) wait.until(ExpectedConditions.presenceOfElementLocated(...). But the issue you are having could be that you need to click the textfield first before you can sendkeys."},{"owner":{"account_id":16039496,"reputation":1,"user_id":11576243,"display_name":"Julio Safitra Mayoru"},"score":0,"creation_date":1684671509,"post_id":76299816,"comment_id":134548042,"body_markdown":"yes, as you can see at my code, i click the textfield first before i sendkeys","body":"yes, as you can see at my code, i click the textfield first before i sendkeys"},{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1684672127,"post_id":76299816,"comment_id":134548098,"body_markdown":"Ah, I see now. Then chances are you might be using the wrong webelement. I see you are finding it by id. But sometimes you have to drill down a div or two to find the &#39;input&#39; element.","body":"Ah, I see now. Then chances are you might be using the wrong webelement. I see you are finding it by id. But sometimes you have to drill down a div or two to find the &#39;input&#39; element."},{"owner":{"account_id":16039496,"reputation":1,"user_id":11576243,"display_name":"Julio Safitra Mayoru"},"score":0,"creation_date":1684721937,"post_id":76299816,"comment_id":134553286,"body_markdown":"hmmm let me check it out then","body":"hmmm let me check it out then"}],"answers":[{"tags":[],"owner":{"account_id":7912553,"reputation":345,"user_id":5976130,"display_name":"Samira Kumar Nanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684859974,"creation_date":1684859974,"answer_id":76316966,"question_id":76299816,"body_markdown":"The error you&#39;re facing, org.openqa.selenium.ElementNotInteractableException: element not interactable, typically occurs when an element on the web page is found but cannot be interacted with using the specified method.\r\n\r\n**#solution 1 Wait for the element to become interactable:** \r\nIt&#39;s possible that the element is not immediately ready for interaction when the currency WebElement is located. You can try using explicit waits to ensure the element is present and interactable before performing actions on it. \r\n\r\n    WebElement currency = new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.id(&quot;select_currency&quot;)));\r\n\r\n**#solution 2 Scroll into view:**\r\nIf the VueSelect component is not in the visible area of the web page, you may need to scroll it into view before interacting with it. You can use the scrollIntoView JavaScript function to bring the element into the view.\r\n\r\n    JavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\r\n    jsExecutor.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, currency);","title":"Troubleshooting &#39;org.openqa.selenium.ElementNotInteractableException&#39; when automating tests with Selenium WebDriver on VueSelect in Nuxt.js","body":"<p>The error you're facing, org.openqa.selenium.ElementNotInteractableException: element not interactable, typically occurs when an element on the web page is found but cannot be interacted with using the specified method.</p>\n<p><strong>#solution 1 Wait for the element to become interactable:</strong>\nIt's possible that the element is not immediately ready for interaction when the currency WebElement is located. You can try using explicit waits to ensure the element is present and interactable before performing actions on it.</p>\n<pre><code>WebElement currency = new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.id(&quot;select_currency&quot;)));\n</code></pre>\n<p><strong>#solution 2 Scroll into view:</strong>\nIf the VueSelect component is not in the visible area of the web page, you may need to scroll it into view before interacting with it. You can use the scrollIntoView JavaScript function to bring the element into the view.</p>\n<pre><code>JavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\njsExecutor.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, currency);\n</code></pre>\n"}],"owner":{"account_id":16039496,"reputation":1,"user_id":11576243,"display_name":"Julio Safitra Mayoru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684859974,"creation_date":1684670579,"question_id":76299816,"body_markdown":"org.openqa.selenium.ElementNotInteractableException: element not interactable &quot;when interacting with VueSelect\r\n\r\nso guys, in my current project i was interacting with VueSelect since we are using Nuxt.js\r\ni got the error : org.openqa.selenium.ElementNotInteractableException: element not interactable when i execute my code like below :\r\n\r\n\r\n```\r\n\r\n        WebElement currency = driver.findElement(By.id(&quot;select_currency&quot;));\r\n        Assert.assertTrue(currency.isDisplayed());\r\n        currency.click();\r\n        \r\n        Thread.sleep(3000);\r\n        \r\n        currency.sendKeys(&quot;Indonesian Rupiah&quot;);\r\n        \r\n        Thread.sleep(3000);\r\n        \r\n        currency.sendKeys(Keys.ENTER);\r\n\r\n        // below the frontend code in case you guys need it\r\n\r\n                        &lt;label&gt;Currency&lt;/label&gt;\r\n                        &lt;VueSelect\r\n                          :class=&quot;\r\n                            validationContext.errors[0]\r\n                              ? &#39;vs__dropdown-toggle-invalid&#39;\r\n                              : &#39;&#39;\r\n                          &quot;\r\n                          :options=&quot;listCurrency&quot;\r\n                          placeholder=&quot;Select Currency&quot;\r\n                          label=&quot;text&quot;\r\n                          v-model=&quot;selectCurrency&quot;\r\n                          id=&quot;select_currency&quot;\r\n                        &gt;&lt;/VueSelect&gt;\r\n                     \r\n```\r\n\r\ni use Thread.sleep so i could check the interface\r\n\r\nbefore the code failed this is the latest condition before it&#39;s shut down\r\n\r\n[before it shut down](https://i.stack.imgur.com/DMKYx.png)\r\n\r\nit seems like it got error at the code : currency.sendKeys(&quot;Indonesian Rupiah&quot;); anybody could give me insight about this? \r\n\r\ni hope i could get some help","title":"Troubleshooting &#39;org.openqa.selenium.ElementNotInteractableException&#39; when automating tests with Selenium WebDriver on VueSelect in Nuxt.js","body":"<p>org.openqa.selenium.ElementNotInteractableException: element not interactable &quot;when interacting with VueSelect</p>\n<p>so guys, in my current project i was interacting with VueSelect since we are using Nuxt.js\ni got the error : org.openqa.selenium.ElementNotInteractableException: element not interactable when i execute my code like below :</p>\n<pre><code>\n        WebElement currency = driver.findElement(By.id(&quot;select_currency&quot;));\n        Assert.assertTrue(currency.isDisplayed());\n        currency.click();\n        \n        Thread.sleep(3000);\n        \n        currency.sendKeys(&quot;Indonesian Rupiah&quot;);\n        \n        Thread.sleep(3000);\n        \n        currency.sendKeys(Keys.ENTER);\n\n        // below the frontend code in case you guys need it\n\n                        &lt;label&gt;Currency&lt;/label&gt;\n                        &lt;VueSelect\n                          :class=&quot;\n                            validationContext.errors[0]\n                              ? 'vs__dropdown-toggle-invalid'\n                              : ''\n                          &quot;\n                          :options=&quot;listCurrency&quot;\n                          placeholder=&quot;Select Currency&quot;\n                          label=&quot;text&quot;\n                          v-model=&quot;selectCurrency&quot;\n                          id=&quot;select_currency&quot;\n                        &gt;&lt;/VueSelect&gt;\n                     \n</code></pre>\n<p>i use Thread.sleep so i could check the interface</p>\n<p>before the code failed this is the latest condition before it's shut down</p>\n<p><a href=\"https://i.stack.imgur.com/DMKYx.png\" rel=\"nofollow noreferrer\">before it shut down</a></p>\n<p>it seems like it got error at the code : currency.sendKeys(&quot;Indonesian Rupiah&quot;); anybody could give me insight about this?</p>\n<p>i hope i could get some help</p>\n"},{"tags":["java","arrays","string","sorting","object"],"comments":[{"owner":{"account_id":2835128,"reputation":11494,"user_id":2435872,"accept_rate":83,"display_name":"jboi"},"score":3,"creation_date":1379597853,"post_id":18895915,"comment_id":27891508,"body_markdown":"Implement a `Comparator` and use it for sorting.","body":"Implement a <code>Comparator</code> and use it for sorting."},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":1,"creation_date":1379598077,"post_id":18895915,"comment_id":27891680,"body_markdown":"In the `Comparator` split the string and use the first element as the name.","body":"In the <code>Comparator</code> split the string and use the first element as the name."}],"answers":[{"tags":[],"owner":{"account_id":1383794,"reputation":822,"user_id":1316247,"display_name":"zbess"},"down_vote_count":1,"up_vote_count":60,"is_accepted":false,"score":59,"last_activity_date":1379598187,"creation_date":1379598187,"answer_id":18896343,"question_id":18895915,"body_markdown":"You can try something like this:\r\n\r\n    List&lt;Book&gt; books = new ArrayList&lt;Book&gt;();\r\n\r\n    Collections.sort(books, new Comparator&lt;Book&gt;(){\r\n   \r\n      public int compare(Book o1, Book o2)\r\n      {\r\n         return o1.name.compareTo(o2.name);\r\n      }\r\n    });","title":"How to sort an array of objects in Java?","body":"<p>You can try something like this:</p>\n\n<pre><code>List&lt;Book&gt; books = new ArrayList&lt;Book&gt;();\n\nCollections.sort(books, new Comparator&lt;Book&gt;(){\n\n  public int compare(Book o1, Book o2)\n  {\n     return o1.name.compareTo(o2.name);\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1443457674,"creation_date":1379598381,"answer_id":18896422,"question_id":18895915,"body_markdown":"You have two ways to do that, both use the [Arrays][1] utility class\r\n\r\n1. Implement a [Comparator][2] and pass your array along with the comparator to the [sort method][3] which take it as second parameter.\r\n2. Implement the [Comparable][4] interface in the class your objects are from and pass your array to the [sort method][5] which takes only one parameter.\r\n\r\n\r\n**Example**\r\n\r\n\r\n\tclass Book implements Comparable&lt;Book&gt; {\r\n\t\tpublic String name, id, author, publisher;\r\n\t\tpublic Book(String name, String id, String author, String publisher) {\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.id = id;\r\n\t\t\tthis.author = author;\r\n\t\t\tthis.publisher = publisher;\r\n\t\t}\r\n\t\tpublic String toString() {\r\n\t        return (&quot;(&quot; + name + &quot;, &quot; + id + &quot;, &quot; + author + &quot;, &quot; + publisher + &quot;)&quot;);\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic int compareTo(Book o) {\r\n\t\t\t// usually toString should not be used,\r\n\t\t\t// instead one of the attributes or more in a comparator chain\r\n\t\t\treturn toString().compareTo(o.toString());\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void sortBooks() {\r\n\t\tBook[] books = {\r\n\t\t\t\tnew Book(&quot;foo&quot;, &quot;1&quot;, &quot;author1&quot;, &quot;pub1&quot;),\r\n\t\t\t\tnew Book(&quot;bar&quot;, &quot;2&quot;, &quot;author2&quot;, &quot;pub2&quot;)\r\n\t\t};\r\n\t\t\r\n\t\t// 1. sort using Comparable\r\n\t\tArrays.sort(books);\r\n\t\tSystem.out.println(Arrays.asList(books));\r\n\t\t\r\n\t\t// 2. sort using comparator: sort by id\r\n\t\tArrays.sort(books, new Comparator&lt;Book&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(Book o1, Book o2) {\r\n\t\t\t\treturn o1.id.compareTo(o2.id);\r\n\t\t\t}\r\n\t\t});\r\n\t\tSystem.out.println(Arrays.asList(books));\r\n\t}\r\n\r\n\r\n**Output**\r\n\r\n    [(bar, 2, author2, pub2), (foo, 1, author1, pub1)]\r\n    [(foo, 1, author1, pub1), (bar, 2, author2, pub2)]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort%28T%5B%5D,%20java.util.Comparator%29\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\r\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort%28java.lang.Object%5B%5D%29","title":"How to sort an array of objects in Java?","body":"<p>You have two ways to do that, both use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html\">Arrays</a> utility class</p>\n\n<ol>\n<li>Implement a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\">Comparator</a> and pass your array along with the comparator to the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort%28T%5B%5D,%20java.util.Comparator%29\">sort method</a> which take it as second parameter.</li>\n<li>Implement the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\">Comparable</a> interface in the class your objects are from and pass your array to the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort%28java.lang.Object%5B%5D%29\">sort method</a> which takes only one parameter.</li>\n</ol>\n\n<p><strong>Example</strong></p>\n\n<pre><code>class Book implements Comparable&lt;Book&gt; {\n    public String name, id, author, publisher;\n    public Book(String name, String id, String author, String publisher) {\n        this.name = name;\n        this.id = id;\n        this.author = author;\n        this.publisher = publisher;\n    }\n    public String toString() {\n        return (\"(\" + name + \", \" + id + \", \" + author + \", \" + publisher + \")\");\n    }\n    @Override\n    public int compareTo(Book o) {\n        // usually toString should not be used,\n        // instead one of the attributes or more in a comparator chain\n        return toString().compareTo(o.toString());\n    }\n}\n\n@Test\npublic void sortBooks() {\n    Book[] books = {\n            new Book(\"foo\", \"1\", \"author1\", \"pub1\"),\n            new Book(\"bar\", \"2\", \"author2\", \"pub2\")\n    };\n\n    // 1. sort using Comparable\n    Arrays.sort(books);\n    System.out.println(Arrays.asList(books));\n\n    // 2. sort using comparator: sort by id\n    Arrays.sort(books, new Comparator&lt;Book&gt;() {\n        @Override\n        public int compare(Book o1, Book o2) {\n            return o1.id.compareTo(o2.id);\n        }\n    });\n    System.out.println(Arrays.asList(books));\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>[(bar, 2, author2, pub2), (foo, 1, author1, pub1)]\n[(foo, 1, author1, pub1), (bar, 2, author2, pub2)]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1454939615,"creation_date":1454939615,"answer_id":35271338,"question_id":18895915,"body_markdown":"## Java 8\r\n\r\n---\r\n\r\n### Using [lambda expressions][1]\r\n\r\n    Arrays.sort(myTypes, (a,b) -&gt; a.name.compareTo(b.name));\r\n\r\n**Test.java**\r\n\r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            MyType[] myTypes = {\r\n                    new MyType(&quot;John&quot;, 2, &quot;author1&quot;, &quot;publisher1&quot;),\r\n                    new MyType(&quot;Marry&quot;, 298, &quot;author2&quot;, &quot;publisher2&quot;),\r\n                    new MyType(&quot;David&quot;, 3, &quot;author3&quot;, &quot;publisher3&quot;),\r\n            };\r\n    \r\n            System.out.println(&quot;--- before&quot;);\r\n            System.out.println(Arrays.asList(myTypes));\r\n            Arrays.sort(myTypes, (a, b) -&gt; a.name.compareTo(b.name));\r\n            System.out.println(&quot;--- after&quot;);\r\n            System.out.println(Arrays.asList(myTypes));\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n**MyType.java**\r\n\r\n    public class MyType {\r\n    \r\n        public String name;\r\n        public int id;\r\n        public String author;\r\n        public String publisher;\r\n    \r\n        public MyType(String name, int id, String author, String publisher) {\r\n            this.name = name;\r\n            this.id = id;\r\n            this.author = author;\r\n            this.publisher = publisher;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;MyType{&quot; +\r\n                    &quot;name=&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, id=&quot; + id +\r\n                    &quot;, author=&#39;&quot; + author + &#39;\\&#39;&#39; +\r\n                    &quot;, publisher=&#39;&quot; + publisher + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39; + System.getProperty(&quot;line.separator&quot;);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    --- before\r\n    [MyType{name=John&#39;, id=2, author=&#39;author1&#39;, publisher=&#39;publisher1&#39;}\r\n    , MyType{name=Marry&#39;, id=298, author=&#39;author2&#39;, publisher=&#39;publisher2&#39;}\r\n    , MyType{name=David&#39;, id=3, author=&#39;author3&#39;, publisher=&#39;publisher3&#39;}\r\n    ]\r\n    --- after\r\n    [MyType{name=David&#39;, id=3, author=&#39;author3&#39;, publisher=&#39;publisher3&#39;}\r\n    , MyType{name=John&#39;, id=2, author=&#39;author1&#39;, publisher=&#39;publisher1&#39;}\r\n    , MyType{name=Marry&#39;, id=298, author=&#39;author2&#39;, publisher=&#39;publisher2&#39;}\r\n    ]\r\n\r\n---\r\n\r\n### Using [method references][2]\r\n\r\n    Arrays.sort(myTypes, MyType::compareThem);\r\n\r\nwhere `compareThem` has to be added in **MyType.java**:\r\n\r\n    public static int compareThem(MyType a, MyType b) {\r\n        return a.name.compareTo(b.name);\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"How to sort an array of objects in Java?","body":"<h2>Java 8</h2>\n\n<hr>\n\n<h3>Using <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"noreferrer\">lambda expressions</a></h3>\n\n<pre><code>Arrays.sort(myTypes, (a,b) -&gt; a.name.compareTo(b.name));\n</code></pre>\n\n<p><strong>Test.java</strong></p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n\n        MyType[] myTypes = {\n                new MyType(\"John\", 2, \"author1\", \"publisher1\"),\n                new MyType(\"Marry\", 298, \"author2\", \"publisher2\"),\n                new MyType(\"David\", 3, \"author3\", \"publisher3\"),\n        };\n\n        System.out.println(\"--- before\");\n        System.out.println(Arrays.asList(myTypes));\n        Arrays.sort(myTypes, (a, b) -&gt; a.name.compareTo(b.name));\n        System.out.println(\"--- after\");\n        System.out.println(Arrays.asList(myTypes));\n\n    }\n\n}\n</code></pre>\n\n<p><strong>MyType.java</strong></p>\n\n<pre><code>public class MyType {\n\n    public String name;\n    public int id;\n    public String author;\n    public String publisher;\n\n    public MyType(String name, int id, String author, String publisher) {\n        this.name = name;\n        this.id = id;\n        this.author = author;\n        this.publisher = publisher;\n    }\n\n    @Override\n    public String toString() {\n        return \"MyType{\" +\n                \"name=\" + name + '\\'' +\n                \", id=\" + id +\n                \", author='\" + author + '\\'' +\n                \", publisher='\" + publisher + '\\'' +\n                '}' + System.getProperty(\"line.separator\");\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>--- before\n[MyType{name=John', id=2, author='author1', publisher='publisher1'}\n, MyType{name=Marry', id=298, author='author2', publisher='publisher2'}\n, MyType{name=David', id=3, author='author3', publisher='publisher3'}\n]\n--- after\n[MyType{name=David', id=3, author='author3', publisher='publisher3'}\n, MyType{name=John', id=2, author='author1', publisher='publisher1'}\n, MyType{name=Marry', id=298, author='author2', publisher='publisher2'}\n]\n</code></pre>\n\n<hr>\n\n<h3>Using <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"noreferrer\">method references</a></h3>\n\n<pre><code>Arrays.sort(myTypes, MyType::compareThem);\n</code></pre>\n\n<p>where <code>compareThem</code> has to be added in <strong>MyType.java</strong>:</p>\n\n<pre><code>public static int compareThem(MyType a, MyType b) {\n    return a.name.compareTo(b.name);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7868701,"reputation":3,"user_id":9124167,"display_name":"Stephen Barner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513797037,"creation_date":1513797037,"answer_id":47912876,"question_id":18895915,"body_markdown":"Sometimes you want to sort an array of objects on an arbitrary value.  Since compareTo() always uses the same information about the instance, you might want to use a different technique.  One way is to use a standard sorting algorithm.  Let&#39;s say you have an array of books and you want to sort them on their height, which is stored as an int and accessible through the method getHeight().  Here&#39;s how you could sort the books in your array. (If you don&#39;t want to change the original array, simply make a copy and sort that.)\r\n\r\n    `int tallest; // the index of tallest book found thus far\r\n     Book temp; // used in the swap\r\n     for(int a = 0; a &lt; booksArray.length - 1; a++) {\r\n       tallest = a; // reset tallest to current index\r\n       // start inner loop at next index\r\n       for(int b = a + 1; b &lt; booksArray.length; b++)\r\n         // check if the book at this index is taller than the\r\n         // tallest found thus far\r\n         if(booksArray[b].getHeight() &gt; booksArray[tallest].getHeight())\r\n           tallest = b;\r\n       // once inner loop is complete, swap the tallest book found with\r\n       // the one at the current index of the outer loop\r\n       temp = booksArray[a];\r\n       booksArray[a] = booksArray[tallest];\r\n       booksArray[tallest] = temp;\r\n     }`\r\n\r\nWhen this code is done, the array of Book object will be sorted by height in descending order--an interior designer&#39;s dream!","title":"How to sort an array of objects in Java?","body":"<p>Sometimes you want to sort an array of objects on an arbitrary value.  Since compareTo() always uses the same information about the instance, you might want to use a different technique.  One way is to use a standard sorting algorithm.  Let's say you have an array of books and you want to sort them on their height, which is stored as an int and accessible through the method getHeight().  Here's how you could sort the books in your array. (If you don't want to change the original array, simply make a copy and sort that.)</p>\n\n<pre><code>`int tallest; // the index of tallest book found thus far\n Book temp; // used in the swap\n for(int a = 0; a &lt; booksArray.length - 1; a++) {\n   tallest = a; // reset tallest to current index\n   // start inner loop at next index\n   for(int b = a + 1; b &lt; booksArray.length; b++)\n     // check if the book at this index is taller than the\n     // tallest found thus far\n     if(booksArray[b].getHeight() &gt; booksArray[tallest].getHeight())\n       tallest = b;\n   // once inner loop is complete, swap the tallest book found with\n   // the one at the current index of the outer loop\n   temp = booksArray[a];\n   booksArray[a] = booksArray[tallest];\n   booksArray[tallest] = temp;\n }`\n</code></pre>\n\n<p>When this code is done, the array of Book object will be sorted by height in descending order--an interior designer's dream!</p>\n"},{"tags":[],"owner":{"account_id":6656175,"reputation":17964,"user_id":5136659,"accept_rate":60,"display_name":"Ali Faris"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1623085986,"creation_date":1516786012,"answer_id":48418903,"question_id":18895915,"body_markdown":"With **Java 8**, you can use a reference method.\r\n\r\nYou could add `compare` method to your `Book` class \r\n```java\r\nclass Book {\r\n    public static int compare(Book a, Book b) {\r\n        return a.name.compareTo(b.name);\r\n    }\r\n}\r\n```\r\nAnd then you could do this :\r\n```java\r\nArrays.sort(books, Book::compare);\r\n```\r\nHere is the full example:\r\n```java\r\nclass Book {\r\n    String name;\r\n    String author;\r\n\r\n    public Book(String name, String author) {\r\n        this.name = name;\r\n        this.author = author;\r\n    }\r\n\r\n    public static int compareBooks(Book a, Book b) {\r\n        return a.name.compareTo(b.name);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;name : &quot; + name + &quot;\\t&quot; + &quot;author : &quot; + author;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Book[] books = {\r\n                new Book(&quot;Book 3&quot;, &quot;Author 1&quot;),\r\n                new Book(&quot;Book 2&quot;, &quot;Author 2&quot;),\r\n                new Book(&quot;Book 1&quot;, &quot;Author 3&quot;),\r\n                new Book(&quot;Book 4&quot;, &quot;Author 4&quot;)\r\n        };\r\n        Arrays.sort(books, Book::compareBooks);\r\n        Arrays.asList(books).forEach(System.out::println);\r\n    }\r\n}\r\n```\r\n","title":"How to sort an array of objects in Java?","body":"<p>With <strong>Java 8</strong>, you can use a reference method.</p>\n<p>You could add <code>compare</code> method to your <code>Book</code> class</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Book {\n    public static int compare(Book a, Book b) {\n        return a.name.compareTo(b.name);\n    }\n}\n</code></pre>\n<p>And then you could do this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.sort(books, Book::compare);\n</code></pre>\n<p>Here is the full example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Book {\n    String name;\n    String author;\n\n    public Book(String name, String author) {\n        this.name = name;\n        this.author = author;\n    }\n\n    public static int compareBooks(Book a, Book b) {\n        return a.name.compareTo(b.name);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;name : &quot; + name + &quot;\\t&quot; + &quot;author : &quot; + author;\n    }\n\n    public static void main(String[] args) {\n        Book[] books = {\n                new Book(&quot;Book 3&quot;, &quot;Author 1&quot;),\n                new Book(&quot;Book 2&quot;, &quot;Author 2&quot;),\n                new Book(&quot;Book 1&quot;, &quot;Author 3&quot;),\n                new Book(&quot;Book 4&quot;, &quot;Author 4&quot;)\n        };\n        Arrays.sort(books, Book::compareBooks);\n        Arrays.asList(books).forEach(System.out::println);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1533483501,"creation_date":1531381272,"answer_id":51299919,"question_id":18895915,"body_markdown":"    public class Student implements Comparable&lt;Student&gt; {\r\n    \r\n    \tprivate int sid;\r\n    \tprivate String sname;\r\n    \r\n    \tpublic Student(int sid, String sname) {\r\n    \t\tsuper();\r\n    \t\tthis.sid = sid;\r\n    \t\tthis.sname = sname;\r\n    \t}\r\n    \r\n    \tpublic int getSid() {\r\n    \t\treturn sid;\r\n    \t}\r\n    \r\n    \tpublic void setSid(int sid) {\r\n    \t\tthis.sid = sid;\r\n    \t}\r\n    \r\n    \tpublic String getSname() {\r\n    \t\treturn sname;\r\n    \t}\r\n    \r\n    \tpublic void setSname(String sname) {\r\n    \t\tthis.sname = sname;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Student [sid=&quot; + sid + &quot;, sname=&quot; + sname + &quot;]&quot;;\r\n    \t}\r\n    \r\n    \tpublic int compareTo(Student o) {\r\n    \t\tif (this.getSname().compareTo(o.getSname()) &gt; 1) {\r\n    \t\t\treturn toString().compareTo(o.getSname());\r\n    \t\t} else if (this.getSname().compareTo(o.getSname()) &lt; 1) {\r\n    \t\t\treturn toString().compareTo(o.getSname());\r\n    \t\t}\r\n    \t\treturn 0;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to sort an array of objects in Java?","body":"<pre><code>public class Student implements Comparable&lt;Student&gt; {\n\n    private int sid;\n    private String sname;\n\n    public Student(int sid, String sname) {\n        super();\n        this.sid = sid;\n        this.sname = sname;\n    }\n\n    public int getSid() {\n        return sid;\n    }\n\n    public void setSid(int sid) {\n        this.sid = sid;\n    }\n\n    public String getSname() {\n        return sname;\n    }\n\n    public void setSname(String sname) {\n        this.sname = sname;\n    }\n\n    @Override\n    public String toString() {\n        return \"Student [sid=\" + sid + \", sname=\" + sname + \"]\";\n    }\n\n    public int compareTo(Student o) {\n        if (this.getSname().compareTo(o.getSname()) &gt; 1) {\n            return toString().compareTo(o.getSname());\n        } else if (this.getSname().compareTo(o.getSname()) &lt; 1) {\n            return toString().compareTo(o.getSname());\n        }\n        return 0;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1623050729,"creation_date":1531381400,"answer_id":51299960,"question_id":18895915,"body_markdown":"```java\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        List&lt;Student&gt; str = new ArrayList&lt;Student&gt;();\r\n        str.add(new Student(101, &quot;aaa&quot;));\r\n        str.add(new Student(104, &quot;bbb&quot;));\r\n        str.add(new Student(103, &quot;ccc&quot;));\r\n        str.add(new Student(105, &quot;ddd&quot;));\r\n        str.add(new Student(104, &quot;eee&quot;));\r\n        str.add(new Student(102, &quot;fff&quot;));\r\n\r\n        Collections.sort(str);\r\n        for (Student student : str) {\r\n            System.out.println(student);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to sort an array of objects in Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Collections;\nimport java.util.List;\nimport java.util.ArrayList;\n\npublic class Test {\n    public static void main(String[] args) {\n        List&lt;Student&gt; str = new ArrayList&lt;Student&gt;();\n        str.add(new Student(101, &quot;aaa&quot;));\n        str.add(new Student(104, &quot;bbb&quot;));\n        str.add(new Student(103, &quot;ccc&quot;));\n        str.add(new Student(105, &quot;ddd&quot;));\n        str.add(new Student(104, &quot;eee&quot;));\n        str.add(new Student(102, &quot;fff&quot;));\n\n        Collections.sort(str);\n        for (Student student : str) {\n            System.out.println(student);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7439229,"reputation":105,"user_id":5657520,"display_name":"Devashish Priyadarshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531654924,"creation_date":1531654924,"answer_id":51348041,"question_id":18895915,"body_markdown":"You can implement the &quot;Comparable&quot; interface on a class whose objects you want to compare.\r\n\r\nAnd also implement the &quot;compareTo&quot; method in that.\r\n\r\nAdd the instances of the class in an ArrayList\r\n\r\nThen the &quot;java.utils.Collections.sort()&quot; method will do the necessary magic.\r\n\r\nHere&#39;s---&gt;(https://deva-codes.herokuapp.com/CompareOnTwoKeys) a working example where objects are sorted based on two keys first by the id and then by name. \r\n\r\n\r\n\r\n","title":"How to sort an array of objects in Java?","body":"<p>You can implement the \"Comparable\" interface on a class whose objects you want to compare.</p>\n\n<p>And also implement the \"compareTo\" method in that.</p>\n\n<p>Add the instances of the class in an ArrayList</p>\n\n<p>Then the \"java.utils.Collections.sort()\" method will do the necessary magic.</p>\n\n<p>Here's--->(<a href=\"https://deva-codes.herokuapp.com/CompareOnTwoKeys\" rel=\"nofollow noreferrer\">https://deva-codes.herokuapp.com/CompareOnTwoKeys</a>) a working example where objects are sorted based on two keys first by the id and then by name. </p>\n"},{"tags":[],"owner":{"account_id":6067817,"reputation":948,"user_id":4737559,"accept_rate":78,"display_name":"shriyog"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1546584625,"creation_date":1546584100,"answer_id":54034150,"question_id":18895915,"body_markdown":"## Update for Java 8 constructs ##\n\nAssuming a `Book` class with a `name` field getter, you can use `Arrays.sort` method by passing an additional `Comparator` specified using Java 8 constructs - [Comparator default method][1] &amp; [method references][2].\n\n\n    Arrays.sort(bookArray, Comparator.comparing(Book::getName));\n\nAlso, it&#39;s possible to compare on multiple fields using `thenComparing` methods.\n\n    Arrays.sort(bookArray, Comparator.comparing(Book::getName)\n          .thenComparing(Book::getAuthor))\n          .thenComparingInt(Book::getId));\n\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"How to sort an array of objects in Java?","body":"<h2>Update for Java 8 constructs</h2>\n<p>Assuming a <code>Book</code> class with a <code>name</code> field getter, you can use <code>Arrays.sort</code> method by passing an additional <code>Comparator</code> specified using Java 8 constructs - <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"noreferrer\">Comparator default method</a> &amp; <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"noreferrer\">method references</a>.</p>\n<pre><code>Arrays.sort(bookArray, Comparator.comparing(Book::getName));\n</code></pre>\n<p>Also, it's possible to compare on multiple fields using <code>thenComparing</code> methods.</p>\n<pre><code>Arrays.sort(bookArray, Comparator.comparing(Book::getName)\n      .thenComparing(Book::getAuthor))\n      .thenComparingInt(Book::getId));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8795718,"reputation":346,"user_id":6573672,"display_name":"Mehmet Onar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646255657,"creation_date":1557814190,"answer_id":56123999,"question_id":18895915,"body_markdown":"     Arrays.sort(yourList,new Comparator&lt;YourObject&gt;() {\r\n    \r\n    \t@Override\r\n    \tpublic int compare(YourObject o1, YourObject o2) {\r\n    \t\treturn compare(o1.getYourColumn(), o2.getYourColumn());\r\n    \t}\r\n    });","title":"How to sort an array of objects in Java?","body":"<pre><code> Arrays.sort(yourList,new Comparator&lt;YourObject&gt;() {\n\n    @Override\n    public int compare(YourObject o1, YourObject o2) {\n        return compare(o1.getYourColumn(), o2.getYourColumn());\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11955301,"reputation":31,"user_id":8747827,"display_name":"Abdel Ali"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1623041382,"creation_date":1599219537,"answer_id":63740455,"question_id":18895915,"body_markdown":"```\r\n[Employee(name=John, age=25, salary=3000.0, mobile=9922001), \r\n Employee(name=Ace, age=22, salary=2000.0, mobile=5924001), \r\n Employee(name=Keith, age=35, salary=4000.0, mobile=3924401)]\r\n```\r\n```java\r\npublic void whenComparing_thenSortedByName() {\r\n    Comparator&lt;Employee&gt; employeeNameComparator\r\n            = Comparator.comparing(Employee::getName);\r\n    Arrays.sort(employees, employeeNameComparator);\r\n    assertTrue(Arrays.equals(employees, sortedEmployeesByName));\r\n}\r\n```\r\nresult \r\n```\r\n[Employee(name=Ace, age=22, salary=2000.0, mobile=5924001), \r\n Employee(name=John, age=25, salary=3000.0, mobile=9922001), \r\n Employee(name=Keith, age=35, salary=4000.0, mobile=3924401)]\r\n```\r\n","title":"How to sort an array of objects in Java?","body":"<pre><code>[Employee(name=John, age=25, salary=3000.0, mobile=9922001), \n Employee(name=Ace, age=22, salary=2000.0, mobile=5924001), \n Employee(name=Keith, age=35, salary=4000.0, mobile=3924401)]\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public void whenComparing_thenSortedByName() {\n    Comparator&lt;Employee&gt; employeeNameComparator\n            = Comparator.comparing(Employee::getName);\n    Arrays.sort(employees, employeeNameComparator);\n    assertTrue(Arrays.equals(employees, sortedEmployeesByName));\n}\n</code></pre>\n<p>result</p>\n<pre><code>[Employee(name=Ace, age=22, salary=2000.0, mobile=5924001), \n Employee(name=John, age=25, salary=3000.0, mobile=9922001), \n Employee(name=Keith, age=35, salary=4000.0, mobile=3924401)]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3000988,"reputation":728,"user_id":2546511,"display_name":"Ashish Lahoti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684859031,"creation_date":1684858720,"answer_id":76316805,"question_id":18895915,"body_markdown":"Let&#39;s take an example of `Book` class and build a list of book objects:-\r\n\r\n```java\r\npublic class Book {\r\n  String name;\r\n  String author;\r\n  double rating;\r\n}\r\n\r\nBook book1 = new Book(&quot;book1&quot;, &quot;author1&quot;, 3.0);\r\nBook book2 = new Book(&quot;book2&quot;, &quot;author2&quot;, 5);\r\nBook book3 = new Book(&quot;book3&quot;, &quot;author1&quot;, 4.0);\r\nBook book4 = new Book(&quot;book4&quot;, &quot;author2&quot;, 2.5);\r\nBook book5 = new Book(&quot;book5&quot;, &quot;author1&quot;, 4.0);\r\n\r\nList&lt;Book&gt; library = Arrays.asList(book1, book2, book3, book4, book5);\r\n```\r\n\r\nWe can sort a list of objects using `Comparator.comparing()`. We can also chain it with `.thenComparing()` to sort by multiple fields. Let&#39;s look at examples:-\r\n\r\n```java\r\n// Sort in ascending order\r\nCollections.sort(library, Comparator.comparing(Book::getAuthor));\r\nCollections.sort(library, Comparator.comparingDouble(Book::getRating));\r\n\r\n// Sort in descending order\r\nCollections.sort(library, Comparator.comparing(Book::getAuthor).reversed());\r\nCollections.sort(library, Comparator.comparingDouble(Book::getRating).reversed());\r\n\r\n// Sort by multiple fields in ascending order\r\nCollections.sort(library, Comparator.comparing(Book::getAuthor)\r\n            .thenComparingDouble(Book::getRating)\r\n            .thenComparing(Book::getName));\r\n\r\n// Sort by multiple fields in ascending then descending order\r\nCollections.sort(library, Comparator.comparing(Book::getAuthor)\r\n        .thenComparing((b1, b2) -&gt; Double.compare(b2.getRating(), b1.getRating()))\r\n        .thenComparing((b1, b2) -&gt; b2.getName().compareTo(b1.getName())));\r\n\r\n```\r\n\r\n&gt; Source: [CodingNConcepts](https://codingnconcepts.com/java/sort-array-list-of-object-in-java/)\r\n","title":"How to sort an array of objects in Java?","body":"<p>Let's take an example of <code>Book</code> class and build a list of book objects:-</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Book {\n  String name;\n  String author;\n  double rating;\n}\n\nBook book1 = new Book(&quot;book1&quot;, &quot;author1&quot;, 3.0);\nBook book2 = new Book(&quot;book2&quot;, &quot;author2&quot;, 5);\nBook book3 = new Book(&quot;book3&quot;, &quot;author1&quot;, 4.0);\nBook book4 = new Book(&quot;book4&quot;, &quot;author2&quot;, 2.5);\nBook book5 = new Book(&quot;book5&quot;, &quot;author1&quot;, 4.0);\n\nList&lt;Book&gt; library = Arrays.asList(book1, book2, book3, book4, book5);\n</code></pre>\n<p>We can sort a list of objects using <code>Comparator.comparing()</code>. We can also chain it with <code>.thenComparing()</code> to sort by multiple fields. Let's look at examples:-</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Sort in ascending order\nCollections.sort(library, Comparator.comparing(Book::getAuthor));\nCollections.sort(library, Comparator.comparingDouble(Book::getRating));\n\n// Sort in descending order\nCollections.sort(library, Comparator.comparing(Book::getAuthor).reversed());\nCollections.sort(library, Comparator.comparingDouble(Book::getRating).reversed());\n\n// Sort by multiple fields in ascending order\nCollections.sort(library, Comparator.comparing(Book::getAuthor)\n            .thenComparingDouble(Book::getRating)\n            .thenComparing(Book::getName));\n\n// Sort by multiple fields in ascending then descending order\nCollections.sort(library, Comparator.comparing(Book::getAuthor)\n        .thenComparing((b1, b2) -&gt; Double.compare(b2.getRating(), b1.getRating()))\n        .thenComparing((b1, b2) -&gt; b2.getName().compareTo(b1.getName())));\n\n</code></pre>\n<blockquote>\n<p>Source: <a href=\"https://codingnconcepts.com/java/sort-array-list-of-object-in-java/\" rel=\"nofollow noreferrer\">CodingNConcepts</a></p>\n</blockquote>\n"}],"owner":{"account_id":2075020,"reputation":4964,"user_id":1848639,"accept_rate":73,"display_name":"Tushar Monirul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232591,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":18896422,"answer_count":12,"score":51,"last_activity_date":1684859031,"creation_date":1379597138,"question_id":18895915,"body_markdown":"My array does not contain any string. But its contains object references. Every object reference returns name, id, author and publisher by toString method.\r\n\r\n    public String toString() {\r\n            return (name + &quot;\\n&quot; + id + &quot;\\n&quot; + author + &quot;\\n&quot; + publisher + &quot;\\n&quot;);\r\n    }\r\n\r\nNow I need to sort that array of objects by the name. I know how to sort, but I do not know how to extract the name from the objects and sort them. ","title":"How to sort an array of objects in Java?","body":"<p>My array does not contain any string. But its contains object references. Every object reference returns name, id, author and publisher by toString method.</p>\n\n<pre><code>public String toString() {\n        return (name + \"\\n\" + id + \"\\n\" + author + \"\\n\" + publisher + \"\\n\");\n}\n</code></pre>\n\n<p>Now I need to sort that array of objects by the name. I know how to sort, but I do not know how to extract the name from the objects and sort them. </p>\n"},{"tags":["java","spring-boot","azure","tomcat","azure-web-app-service"],"comments":[{"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"score":1,"creation_date":1684735473,"post_id":76303341,"comment_id":134554474,"body_markdown":"Can you edit the question with your code","body":"Can you edit the question with your code"},{"owner":{"account_id":28651479,"reputation":1,"user_id":21938364,"display_name":"Jimmy Patel"},"score":0,"creation_date":1684735905,"post_id":76303341,"comment_id":134554538,"body_markdown":"Which code are you asking?","body":"Which code are you asking?"},{"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"score":0,"creation_date":1684736419,"post_id":76303341,"comment_id":134554622,"body_markdown":"provide the code which you are trying in the question","body":"provide the code which you are trying in the question"},{"owner":{"account_id":6502221,"reputation":1372,"user_id":5032541,"display_name":"Erwan Daniel"},"score":0,"creation_date":1684743228,"post_id":76303341,"comment_id":134555891,"body_markdown":"The error `java.lang.IllegalStateException: zip file closed` indicate a broken dependency. You can find a similar issue here : [Spring boot Tomcat server not starting due to zip file closed](https://stackoverflow.com/questions/75694101/spring-boot-tomcat-server-not-starting-due-to-zip-file-closed)","body":"The error <code>java.lang.IllegalStateException: zip file closed</code> indicate a broken dependency. You can find a similar issue here : <a href=\"https://stackoverflow.com/questions/75694101/spring-boot-tomcat-server-not-starting-due-to-zip-file-closed\">Spring boot Tomcat server not starting due to zip file closed</a>"}],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684859021,"creation_date":1684858537,"answer_id":76316782,"question_id":76303341,"body_markdown":"After checking your logs, I think there must be issue with the JAR file or the dependencies being used.\r\n\r\n***Check if the below troubleshooting steps help you to fix the issue:***\r\n\r\nTry to re-deploy your application through other ways and check if you are facing the issue.\r\n- Also, check if you have all the required permissions for ***tomcat deployment*** in your subscription.\r\n\r\n-  Add port settings in App Service-&gt;configuration-&gt;Add Application settings as shown below:\r\n\r\n![enter image description here](https://i.imgur.com/n2MFbQG.png)\r\n\r\n***- Check if your application is running with the correct permissions.***\r\n&gt;web application failed to start\r\n- This error could be due to the Tomcat version is not compatible with the version of Spring Boot you are using.\r\n- And also as it is saying in the error, enable the logging in App service logs and try to run the application again.\r\n\r\n![enter image description here](https://i.imgur.com/yFvblLN.png)\r\n","title":"I deployed a spring boot app with tomcat. Running the url in the browser gives Application failed to start error . How to resolve this?","body":"<p>After checking your logs, I think there must be issue with the JAR file or the dependencies being used.</p>\n<p><em><strong>Check if the below troubleshooting steps help you to fix the issue:</strong></em></p>\n<p>Try to re-deploy your application through other ways and check if you are facing the issue.</p>\n<ul>\n<li><p>Also, check if you have all the required permissions for <em><strong>tomcat deployment</strong></em> in your subscription.</p>\n</li>\n<li><p>Add port settings in App Service-&gt;configuration-&gt;Add Application settings as shown below:</p>\n</li>\n</ul>\n<p><img src=\"https://i.imgur.com/n2MFbQG.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>- Check if your application is running with the correct permissions.</strong></em></p>\n<blockquote>\n<p>web application failed to start</p>\n</blockquote>\n<ul>\n<li>This error could be due to the Tomcat version is not compatible with the version of Spring Boot you are using.</li>\n<li>And also as it is saying in the error, enable the logging in App service logs and try to run the application again.</li>\n</ul>\n<p><img src=\"https://i.imgur.com/yFvblLN.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":28651479,"reputation":1,"user_id":21938364,"display_name":"Jimmy Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684859021,"creation_date":1684734825,"question_id":76303341,"body_markdown":"I am deploying a springboot app on azure. It shows deployed successfully but when i enter the url in the browser it gives me application failed to start error everytime ?\r\n\r\nMy application also contains tomcat to render jsp pages. So then i tried to deployed one simple app without tomcat and it worked fine . But after adding tomcat in it also gives me same error. I tried changing ports, gave startup command but nothing worked . \r\napplication logs are as below. \r\n\r\n```\r\n2023-05-15T11:32:08.139273507Z    _|_|                                            \r\n2023-05-15T11:32:08.139308107Z  _|    _|  _|_|_|_|  _|    _|  _|  _|_|    _|_|    \r\n2023-05-15T11:32:08.139313407Z  _|_|_|_|      _|    _|    _|  _|_|      _|_|_|_|  \r\n2023-05-15T11:32:08.139317007Z  _|    _|    _|      _|    _|  _|        _|        \r\n2023-05-15T11:32:08.139320907Z  _|    _|  _|_|_|_|    _|_|_|  _|          _|_|_|\r\n2023-05-15T11:32:08.139324507Z \r\n2023-05-15T11:32:08.139327807Z      J A V A   O N   A P P   S E R V I C E\r\n2023-05-15T11:32:08.139331207Z \r\n2023-05-15T11:32:08.139334307Z Documentation: https://aka.ms/appservice\r\n2023-05-15T11:32:08.139337607Z \r\n2023-05-15T11:32:08.139340907Z **NOTE**: No files or system changes outside of /home will persist beyond your application&#39;s current session. /home is your application&#39;s persistent storage and is shared across all the server instances.\r\n2023-05-15T11:32:08.139347707Z \r\n2023-05-15T11:32:08.139350907Z \r\n2023-05-15T11:32:08.139672109Z Updating /etc/ssh/sshd_config to use PORT 2222\r\n2023-05-15T11:32:08.158498691Z Starting ssh service...\r\n2023-05-15T11:32:08.285563646Z ssh-keygen: generating new host keys: DSA \r\n2023-05-15T11:32:08.694137330Z  * Starting OpenBSD Secure Shell server sshd\r\n2023-05-15T11:32:08.896999716Z    ...done.\r\n2023-05-15T11:32:08.999859765Z  * sshd is running\r\n2023-05-15T11:32:09.044667760Z ## Printing build info...\r\n2023-05-15T11:32:09.067252659Z                                            PACKAGE |                             VERSION | COMMIT\r\n2023-05-15T11:32:09.067285559Z        Microsoft.AppService.WebsitesExtensionsJava |                          1.0.022547 | 5d33e9c4\r\n2023-05-15T11:32:09.067290859Z                                               self |                         1.0.0228639 | 693c2b72\r\n2023-05-15T11:32:09.067884861Z ## Done printing build info.\r\n2023-05-15T11:32:09.068095462Z Container info: WEBSITE_INSTANCE_ID = 08307498aa991c84523184617d17f074bad5139bd2c0710fdf2b1a0ad3d3a9b7 ; WEBSITE_SITE_NAME = smartinventorytest\r\n2023-05-15T11:32:09.090823161Z Add public certificates to keystore if exists...\r\n2023-05-15T11:32:09.091065862Z Add private certificates to keystore if exists...\r\n2023-05-15T11:32:09.091741665Z Configuring max heap = 1253 MB\r\n2023-05-15T11:32:09.175821032Z STARTUP_FILE=\r\n2023-05-15T11:32:09.175988833Z STARTUP_COMMAND=\r\n2023-05-15T11:32:09.176150333Z No STARTUP_FILE available.\r\n2023-05-15T11:32:09.176305034Z No STARTUP_COMMAND defined.\r\n2023-05-15T11:32:09.738843887Z Picked up JAVA_TOOL_OPTIONS: -Xmx1253M -Djava.net.preferIPv4Stack=true -javaagent:/agents/java/applicationinsights-agent-codeless.jar\r\n2023-05-15T11:32:10.950209262Z OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\r\n2023-05-15T11:32:36.661153333Z Mangled result from Jar entry point parser is: 2023-05-15 11:32:35.390Z INFO  c.m.applicationinsights.agent - Application Insights Java Agent 3.4.6 started successfully (PID 45, JVM running for 25.629 s)\r\n2023-05-15T11:32:36.661227834Z 2023-05-15 11:32:35.479Z INFO  c.m.applicationinsights.agent - Java version: 17.0.4.1, vendor: Microsoft, home: /opt/java/openjdk\r\n2023-05-15T11:32:36.663417543Z __COM_MICROSOFT_AZURE_APPSERVICE_JARENTRYPOINT_PREFIX__org.springframework.boot.loader.JarLauncher__COM_MICROSOFT_AZURE_APPSERVICE_JARENTRYPOINT_SUFFIX__\r\n2023-05-15T11:32:36.713372862Z Extracted jar entry point. Class name is: &#39;org.springframework.boot.loader.JarLauncher&#39;\r\n2023-05-15T11:32:36.742933092Z Defaulting to UTF-8\r\n2023-05-15T11:32:36.749596921Z Running command: java -cp /home/site/wwwroot/app.jar:/usr/local/appservice/lib/azure.appservice.jar: -Djava.util.logging.config.file=/usr/local/appservice/logging.properties -Dfile.encoding=UTF-8  -Dserver.port=80 -XX:ErrorFile=/home/LogFiles/java_error_smartinventorytest_lw0sdlwk000628_%p.log -XX:+CrashOnOutOfMemoryError -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/home/LogFiles/java_memdump_smartinventorytest_lw0sdlwk000628.log -Duser.dir=/home/site/wwwroot org.springframework.boot.loader.JarLauncher\r\n2023-05-15T11:32:36.750310224Z Launched child process with pid: 92\r\n2023-05-15T11:32:36.769582309Z Picked up JAVA_TOOL_OPTIONS: -Xmx1253M -Djava.net.preferIPv4Stack=true -javaagent:/agents/java/applicationinsights-agent-codeless.jar\r\n2023-05-15T11:32:36.788062590Z Waiting for main process to exit. GLOBAL_PID_MAIN=92\r\n2023-05-15T11:32:36.789243695Z Waiting for GLOBAL_PID_MAIN == 92\r\n2023-05-15T11:32:37.201911805Z OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\r\n2023-05-15T11:32:53.543964388Z 2023-05-15 11:32:53.496Z INFO  c.m.applicationinsights.agent - Application Insights Java Agent 3.4.6 started successfully (PID 92, JVM running for 16.717 s)\r\n2023-05-15T11:32:53.545481794Z 2023-05-15 11:32:53.544Z INFO  c.m.applicationinsights.agent - Java version: 17.0.4.1, vendor: Microsoft, home: /opt/java/openjdk\r\n2023-05-15T11:33:08.836203647Z \r\n2023-05-15T11:33:08.837511552Z   .   ____          _            __ _ _\r\n2023-05-15T11:33:08.837528552Z  /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n2023-05-15T11:33:08.838708157Z ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n2023-05-15T11:33:08.838727257Z  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n2023-05-15T11:33:08.838732557Z   &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n2023-05-15T11:33:08.838947258Z  =========|_|==============|___/=/_/_/_/\r\n2023-05-15T11:33:08.857923037Z  :: Spring Boot ::                (v3.0.4)\r\n2023-05-15T11:33:08.865216167Z \r\n2023-05-15T11:33:10.726461402Z 2023-05-15T11:33:10.564Z  INFO 92 --- [           main] c.e.s.SmartInventoryApplication          : Starting SmartInventoryApplication v0.0.1-SNAPSHOT using Java 17.0.4.1 with PID 92 (/home/site/wwwroot/app.jar started by root in /home/site/wwwroot)\r\n2023-05-15T11:33:10.757303030Z 2023-05-15T11:33:10.756Z  INFO 92 --- [           main] c.e.s.SmartInventoryApplication          : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-05-15T11:33:21.052113071Z 2023-05-15T11:33:21.051Z  INFO 92 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n2023-05-15T11:33:21.310293128Z 2023-05-15T11:33:21.309Z  INFO 92 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-05-15T11:33:22.184496304Z 2023-05-15T11:33:22.178Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.mongorepository.ProductRackRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository\r\n2023-05-15T11:33:22.445876173Z 2023-05-15T11:33:22.445Z  INFO 92 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1009 ms. Found 8 JPA repository interfaces.\r\n2023-05-15T11:33:23.027809451Z 2023-05-15T11:33:23.026Z  INFO 92 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n2023-05-15T11:33:23.044610520Z 2023-05-15T11:33:23.044Z  INFO 92 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\r\n2023-05-15T11:33:23.130282469Z 2023-05-15T11:33:23.092Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.userrepository.OrderItemRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository\r\n2023-05-15T11:33:23.130323169Z 2023-05-15T11:33:23.101Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.userrepository.OrderRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository\r\n2023-05-15T11:33:23.130330569Z 2023-05-15T11:33:23.102Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.userrepository.InventoryRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository\r\n2023-05-15T11:33:23.130337369Z 2023-05-15T11:33:23.102Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.userrepository.CustomerRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository\r\n2023-05-15T11:33:23.130354969Z 2023-05-15T11:33:23.103Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.userrepository.SupplierRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository\r\n2023-05-15T11:33:23.130360370Z 2023-05-15T11:33:23.112Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.userrepository.UserRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository\r\n2023-05-15T11:33:23.130365470Z 2023-05-15T11:33:23.113Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.userrepository.RoleRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository\r\n2023-05-15T11:33:23.130370870Z 2023-05-15T11:33:23.114Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.userrepository.ProductRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository\r\n2023-05-15T11:33:23.201258959Z 2023-05-15T11:33:23.181Z  INFO 92 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 133 ms. Found 1 MongoDB repository interfaces.\r\n2023-05-15T11:33:33.320694911Z 2023-05-15T11:33:33.320Z  INFO 92 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 80 (http)\r\n2023-05-15T11:33:33.687390964Z x-ms-applog:Informational:base64:SW5pdGlhbGl6aW5nIFByb3RvY29sSGFuZGxlciBbImh0dHAtbmlvLTgwIl0Kc291cmNlOiBvcmcuYXBhY2hlLmNveW90ZS5BYnN0cmFjdFByb3RvY29sCm1ldGhvZDogaW5pdApsb2dnZXI6IG9yZy5hcGFjaGUuY295b3RlLmh0dHAxMS5IdHRwMTFOaW9Qcm90b2NvbA==\r\n2023-05-15T11:33:33.689729674Z x-ms-applog:Informational:base64:U3RhcnRpbmcgc2VydmljZSBbVG9tY2F0XQpzb3VyY2U6IG9yZy5hcGFjaGUuY2F0YWxpbmEuY29yZS5TdGFuZGFyZFNlcnZpY2UKbWV0aG9kOiBzdGFydEludGVybmFsCmxvZ2dlcjogb3JnLmFwYWNoZS5jYXRhbGluYS5jb3JlLlN0YW5kYXJkU2VydmljZQ==\r\n2023-05-15T11:33:33.792184880Z x-ms-applog:Informational:base64:U3RhcnRpbmcgU2VydmxldCBlbmdpbmU6IFtBcGFjaGUgVG9tY2F0LzEwLjEuNV0Kc291cmNlOiBvcmcuYXBhY2hlLmNhdGFsaW5hLmNvcmUuU3RhbmRhcmRFbmdpbmUKbWV0aG9kOiBzdGFydEludGVybmFsCmxvZ2dlcjogb3JnLmFwYWNoZS5jYXRhbGluYS5jb3JlLlN0YW5kYXJkRW5naW5l\r\napplog:Informational:base64:UGF1c2luZyBQcm90b2NvbEhhbmRsZXIgWyJodHRwLW5pby04MCJdCnNvdXJjZTogb3JnLmFwYWNoZS5jb3lvdGUuQWJzdHJhY3RQcm90b2NvbAptZXRob2Q6IHBhdXNlCmxvZ2dlcjogb3JnLmFwYWNoZS5jb3lvdGUuaHR0cDExLkh0dHAxMU5pb1Byb3RvY29s\r\n2023-05-15T11:33:34.943494939Z x-ms-applog:Informational:base64:U3RvcHBpbmcgc2VydmljZSBbVG9tY2F0XQpzb3VyY2U6IG9yZy5hcGFjaGUuY2F0YWxpbmEuY29yZS5TdGFuZGFyZFNlcnZpY2UKbWV0aG9kOiBzdG9wSW50ZXJuYWwKbG9nZ2VyOiBvcmcuYXBhY2hlLmNhdGFsaW5hLmNvcmUuU3RhbmRhcmRTZXJ2aWNl\r\n2023-05-15T11:33:34.988862618Z x-ms-applog:Informational:base64:RGVzdHJveWluZyBQcm90b2NvbEhhbmRsZXIgWyJodHRwLW5pby04MCJdCnNvdXJjZTogb3JnLmFwYWNoZS5jb3lvdGUuQWJzdHJhY3RQcm90b2NvbAptZXRob2Q6IGRlc3Ryb3kKbG9nZ2VyOiBvcmcuYXBhY2hlLmNveW90ZS5odHRwMTEuSHR0cDExTmlvUHJvdG9jb2w=\r\n2023-05-15T11:33:35.330861970Z 2023-05-15T11:33:35.313Z  WARN 92 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server\r\n2023-05-15T11:33:35.407655774Z 2023-05-15T11:33:35.407Z  INFO 92 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n2023-05-15T11:33:35.407737474Z \r\n2023-05-15T11:33:35.407747974Z Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-05-15T11:33:35.695403212Z 2023-05-15T11:33:35.598Z ERROR 92 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n2023-05-15T11:33:35.695474212Z \r\n2023-05-15T11:33:35.695481012Z org.springframework.context.ApplicationContextException: Unable to start web server\r\n2023-05-15T11:33:35.695486012Z \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.0.4.jar!/:3.0.4]\r\n2023-05-15T11:33:35.695491212Z \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.6.jar!/:6.0.6]\r\n2023-05-15T11:33:35.695516812Z \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar!/:3.0.4]\r\n2023-05-15T11:33:35.695522412Z \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar!/:3.0.4]\r\n2023-05-15T11:33:35.695526712Z \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar!/:3.0.4]\r\n2023-05-15T11:33:35.695530612Z \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar!/:3.0.4]\r\n2023-05-15T11:33:35.695534512Z \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar!/:3.0.4]\r\n2023-05-15T11:33:35.695538512Z \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar!/:3.0.4]\r\n2023-05-15T11:33:35.695542512Z \tat com.einfochips.smartinventory.SmartInventoryApplication.main(SmartInventoryApplication.java:13) ~[classes!/:0.0.1-SNAPSHOT]\r\n2023-05-15T11:33:35.695546512Z \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n2023-05-15T11:33:35.695550412Z \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n2023-05-15T11:33:35.695554412Z \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n2023-05-15T11:33:35.695558312Z \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n2023-05-15T11:33:35.695562212Z \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT]\r\n2023-05-15T11:33:35.695566112Z \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[app.jar:0.0.1-SNAPSHOT]\r\n2023-05-15T11:33:35.695572412Z \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT]\r\n2023-05-15T11:33:35.695576812Z \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[app.jar:0.0.1-SNAPSHOT]\r\n2023-05-15T11:33:35.695580712Z Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n2023-05-15T11:33:35.695584712Z \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-3.0.4.jar!/:3.0.4]\r\n2023-05-15T11:33:35.695588812Z \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.4.jar!/:3.0.4]\r\n2023-05-15T11:33:35.695593012Z \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488) ~[spring-boot-3.0.4.jar!/:3.0.4]\r\n2023-05-15T11:33:35.695597212Z \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210) ~[spring-boot-3.0.4.jar!/:3.0.4]\r\n2023-05-15T11:33:35.695601312Z \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.0.4.jar!/:3.0.4]\r\n2023-05-15T11:33:35.695610112Z \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.0.4.jar!/:3.0.4]\r\n2023-05-15T11:33:35.695614412Z \t... 16 common frames omitted\r\n2023-05-15T11:33:35.695618312Z Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n2023-05-15T11:33:35.695622212Z \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:935) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.695626212Z \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:252) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.695630112Z \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.695634112Z \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:430) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.695638112Z \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.695642012Z \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:926) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.695646312Z \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.695650412Z \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.695654413Z \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.4.jar!/:3.0.4]\r\n2023-05-15T11:33:35.695658513Z \t... 21 common frames omitted\r\n2023-05-15T11:33:35.695662213Z Caused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n2023-05-15T11:33:35.695666313Z \tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\r\n2023-05-15T11:33:35.695670213Z \tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\r\n2023-05-15T11:33:35.695674113Z \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:923) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.695678013Z \t... 29 common frames omitted\r\n2023-05-15T11:33:35.695681813Z Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n2023-05-15T11:33:35.695685713Z \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:935) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.695689713Z \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.695693513Z \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.695697413Z \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.707428759Z \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.707446959Z \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n2023-05-15T11:33:35.707452259Z \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util-10.1.5.jar!/:10.1.5]\r\n2023-05-15T11:33:35.707456659Z \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n2023-05-15T11:33:35.707460759Z \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.707464759Z \t... 29 common frames omitted\r\n2023-05-15T11:33:35.707482359Z Caused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n2023-05-15T11:33:35.707488859Z \tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\r\n2023-05-15T11:33:35.707493059Z \tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\r\n2023-05-15T11:33:35.707496959Z \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:923) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.707503659Z \t... 37 common frames omitted\r\n2023-05-15T11:33:35.707507559Z Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n2023-05-15T11:33:35.707511659Z \tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.707515559Z \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.707519659Z \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.707523559Z \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.707527459Z \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n2023-05-15T11:33:35.760145767Z \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util-10.1.5.jar!/:10.1.5]\r\n2023-05-15T11:33:35.760182468Z \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n2023-05-15T11:33:35.760188268Z \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.760192768Z \t... 37 common frames omitted\r\n2023-05-15T11:33:35.760196968Z Caused by: java.lang.IllegalStateException: zip file closed\r\n2023-05-15T11:33:35.760201168Z \tat java.base/java.util.zip.ZipFile.ensureOpen(ZipFile.java:831) ~[na:na]\r\n2023-05-15T11:33:35.760205168Z \tat java.base/java.util.zip.ZipFile.getManifestName(ZipFile.java:1057) ~[na:na]\r\n2023-05-15T11:33:35.760221968Z \tat java.base/java.util.zip.ZipFile$1.getManifestName(ZipFile.java:1100) ~[na:na]\r\n2023-05-15T11:33:35.760226368Z \tat java.base/java.util.jar.JarFile.getManEntry(JarFile.java:937) ~[na:na]\r\n2023-05-15T11:33:35.760230468Z \tat java.base/java.util.jar.JarFile.checkForSpecialAttributes(JarFile.java:1000) ~[na:na]\r\n2023-05-15T11:33:35.760234368Z \tat java.base/java.util.jar.JarFile.isMultiRelease(JarFile.java:389) ~[na:na]\r\n2023-05-15T11:33:35.760243268Z \tat org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:68) ~[tomcat-util-scan-10.1.5.jar!/:10.1.5]\r\n2023-05-15T11:33:35.760247768Z \tat org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:41) ~[tomcat-util-scan-10.1.5.jar!/:10.1.5]\r\n2023-05-15T11:33:35.760251768Z \tat org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:393) ~[tomcat-util-scan-10.1.5.jar!/:10.1.5]\r\n2023-05-15T11:33:35.760255768Z \tat org.apache.tomcat.util.scan.StandardJarScanner.processURLs(StandardJarScanner.java:328) ~[tomcat-util-scan-10.1.5.jar!/:10.1.5]\r\n2023-05-15T11:33:35.760259768Z \tat org.apache.tomcat.util.scan.StandardJarScanner.doScanClassPath(StandardJarScanner.java:271) ~[tomcat-util-scan-10.1.5.jar!/:10.1.5]\r\n2023-05-15T11:33:35.760263768Z \tat org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:234) ~[tomcat-util-scan-10.1.5.jar!/:10.1.5]\r\n2023-05-15T11:33:35.760267868Z \tat org.apache.jasper.servlet.TldScanner.scanJars(TldScanner.java:262) ~[tomcat-jasper-10.1.5.jar!/:10.1.5]\r\n2023-05-15T11:33:35.760271868Z \tat org.apache.jasper.servlet.TldScanner.scan(TldScanner.java:104) ~[tomcat-jasper-10.1.5.jar!/:10.1.5]\r\n2023-05-15T11:33:35.760275668Z \tat org.apache.jasper.servlet.JasperInitializer.onStartup(JasperInitializer.java:83) ~[tomcat-jasper-10.1.5.jar!/:10.1.5]\r\n2023-05-15T11:33:35.760280468Z \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5144) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.760339168Z \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.5.jar!/:na]\r\n2023-05-15T11:33:35.760352668Z \t... 43 common frames omitted\r\n2023-05-15T11:33:35.760356968Z \r\n2023-05-15T11:33:36.279834820Z Wait for pid == 92 either returned successfully or was interrupted due to a signal 92\r\n2023-05-15T11:33:36.315925763Z Done waiting for main process. GLOBAL_PID_MAIN=92.\r\n2023-05-15T11:33:36.315965163Z Exiting entry script!\r\n\r\n```\r\n","title":"I deployed a spring boot app with tomcat. Running the url in the browser gives Application failed to start error . How to resolve this?","body":"<p>I am deploying a springboot app on azure. It shows deployed successfully but when i enter the url in the browser it gives me application failed to start error everytime ?</p>\n<p>My application also contains tomcat to render jsp pages. So then i tried to deployed one simple app without tomcat and it worked fine . But after adding tomcat in it also gives me same error. I tried changing ports, gave startup command but nothing worked .\napplication logs are as below.</p>\n<pre><code>2023-05-15T11:32:08.139273507Z    _|_|                                            \n2023-05-15T11:32:08.139308107Z  _|    _|  _|_|_|_|  _|    _|  _|  _|_|    _|_|    \n2023-05-15T11:32:08.139313407Z  _|_|_|_|      _|    _|    _|  _|_|      _|_|_|_|  \n2023-05-15T11:32:08.139317007Z  _|    _|    _|      _|    _|  _|        _|        \n2023-05-15T11:32:08.139320907Z  _|    _|  _|_|_|_|    _|_|_|  _|          _|_|_|\n2023-05-15T11:32:08.139324507Z \n2023-05-15T11:32:08.139327807Z      J A V A   O N   A P P   S E R V I C E\n2023-05-15T11:32:08.139331207Z \n2023-05-15T11:32:08.139334307Z Documentation: https://aka.ms/appservice\n2023-05-15T11:32:08.139337607Z \n2023-05-15T11:32:08.139340907Z **NOTE**: No files or system changes outside of /home will persist beyond your application's current session. /home is your application's persistent storage and is shared across all the server instances.\n2023-05-15T11:32:08.139347707Z \n2023-05-15T11:32:08.139350907Z \n2023-05-15T11:32:08.139672109Z Updating /etc/ssh/sshd_config to use PORT 2222\n2023-05-15T11:32:08.158498691Z Starting ssh service...\n2023-05-15T11:32:08.285563646Z ssh-keygen: generating new host keys: DSA \n2023-05-15T11:32:08.694137330Z  * Starting OpenBSD Secure Shell server sshd\n2023-05-15T11:32:08.896999716Z    ...done.\n2023-05-15T11:32:08.999859765Z  * sshd is running\n2023-05-15T11:32:09.044667760Z ## Printing build info...\n2023-05-15T11:32:09.067252659Z                                            PACKAGE |                             VERSION | COMMIT\n2023-05-15T11:32:09.067285559Z        Microsoft.AppService.WebsitesExtensionsJava |                          1.0.022547 | 5d33e9c4\n2023-05-15T11:32:09.067290859Z                                               self |                         1.0.0228639 | 693c2b72\n2023-05-15T11:32:09.067884861Z ## Done printing build info.\n2023-05-15T11:32:09.068095462Z Container info: WEBSITE_INSTANCE_ID = 08307498aa991c84523184617d17f074bad5139bd2c0710fdf2b1a0ad3d3a9b7 ; WEBSITE_SITE_NAME = smartinventorytest\n2023-05-15T11:32:09.090823161Z Add public certificates to keystore if exists...\n2023-05-15T11:32:09.091065862Z Add private certificates to keystore if exists...\n2023-05-15T11:32:09.091741665Z Configuring max heap = 1253 MB\n2023-05-15T11:32:09.175821032Z STARTUP_FILE=\n2023-05-15T11:32:09.175988833Z STARTUP_COMMAND=\n2023-05-15T11:32:09.176150333Z No STARTUP_FILE available.\n2023-05-15T11:32:09.176305034Z No STARTUP_COMMAND defined.\n2023-05-15T11:32:09.738843887Z Picked up JAVA_TOOL_OPTIONS: -Xmx1253M -Djava.net.preferIPv4Stack=true -javaagent:/agents/java/applicationinsights-agent-codeless.jar\n2023-05-15T11:32:10.950209262Z OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\n2023-05-15T11:32:36.661153333Z Mangled result from Jar entry point parser is: 2023-05-15 11:32:35.390Z INFO  c.m.applicationinsights.agent - Application Insights Java Agent 3.4.6 started successfully (PID 45, JVM running for 25.629 s)\n2023-05-15T11:32:36.661227834Z 2023-05-15 11:32:35.479Z INFO  c.m.applicationinsights.agent - Java version: 17.0.4.1, vendor: Microsoft, home: /opt/java/openjdk\n2023-05-15T11:32:36.663417543Z __COM_MICROSOFT_AZURE_APPSERVICE_JARENTRYPOINT_PREFIX__org.springframework.boot.loader.JarLauncher__COM_MICROSOFT_AZURE_APPSERVICE_JARENTRYPOINT_SUFFIX__\n2023-05-15T11:32:36.713372862Z Extracted jar entry point. Class name is: 'org.springframework.boot.loader.JarLauncher'\n2023-05-15T11:32:36.742933092Z Defaulting to UTF-8\n2023-05-15T11:32:36.749596921Z Running command: java -cp /home/site/wwwroot/app.jar:/usr/local/appservice/lib/azure.appservice.jar: -Djava.util.logging.config.file=/usr/local/appservice/logging.properties -Dfile.encoding=UTF-8  -Dserver.port=80 -XX:ErrorFile=/home/LogFiles/java_error_smartinventorytest_lw0sdlwk000628_%p.log -XX:+CrashOnOutOfMemoryError -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/home/LogFiles/java_memdump_smartinventorytest_lw0sdlwk000628.log -Duser.dir=/home/site/wwwroot org.springframework.boot.loader.JarLauncher\n2023-05-15T11:32:36.750310224Z Launched child process with pid: 92\n2023-05-15T11:32:36.769582309Z Picked up JAVA_TOOL_OPTIONS: -Xmx1253M -Djava.net.preferIPv4Stack=true -javaagent:/agents/java/applicationinsights-agent-codeless.jar\n2023-05-15T11:32:36.788062590Z Waiting for main process to exit. GLOBAL_PID_MAIN=92\n2023-05-15T11:32:36.789243695Z Waiting for GLOBAL_PID_MAIN == 92\n2023-05-15T11:32:37.201911805Z OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\n2023-05-15T11:32:53.543964388Z 2023-05-15 11:32:53.496Z INFO  c.m.applicationinsights.agent - Application Insights Java Agent 3.4.6 started successfully (PID 92, JVM running for 16.717 s)\n2023-05-15T11:32:53.545481794Z 2023-05-15 11:32:53.544Z INFO  c.m.applicationinsights.agent - Java version: 17.0.4.1, vendor: Microsoft, home: /opt/java/openjdk\n2023-05-15T11:33:08.836203647Z \n2023-05-15T11:33:08.837511552Z   .   ____          _            __ _ _\n2023-05-15T11:33:08.837528552Z  /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n2023-05-15T11:33:08.838708157Z ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n2023-05-15T11:33:08.838727257Z  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n2023-05-15T11:33:08.838732557Z   '  |____| .__|_| |_|_| |_\\__, | / / / /\n2023-05-15T11:33:08.838947258Z  =========|_|==============|___/=/_/_/_/\n2023-05-15T11:33:08.857923037Z  :: Spring Boot ::                (v3.0.4)\n2023-05-15T11:33:08.865216167Z \n2023-05-15T11:33:10.726461402Z 2023-05-15T11:33:10.564Z  INFO 92 --- [           main] c.e.s.SmartInventoryApplication          : Starting SmartInventoryApplication v0.0.1-SNAPSHOT using Java 17.0.4.1 with PID 92 (/home/site/wwwroot/app.jar started by root in /home/site/wwwroot)\n2023-05-15T11:33:10.757303030Z 2023-05-15T11:33:10.756Z  INFO 92 --- [           main] c.e.s.SmartInventoryApplication          : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-15T11:33:21.052113071Z 2023-05-15T11:33:21.051Z  INFO 92 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-05-15T11:33:21.310293128Z 2023-05-15T11:33:21.309Z  INFO 92 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-05-15T11:33:22.184496304Z 2023-05-15T11:33:22.178Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.mongorepository.ProductRackRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository\n2023-05-15T11:33:22.445876173Z 2023-05-15T11:33:22.445Z  INFO 92 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1009 ms. Found 8 JPA repository interfaces.\n2023-05-15T11:33:23.027809451Z 2023-05-15T11:33:23.026Z  INFO 92 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-05-15T11:33:23.044610520Z 2023-05-15T11:33:23.044Z  INFO 92 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\n2023-05-15T11:33:23.130282469Z 2023-05-15T11:33:23.092Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.userrepository.OrderItemRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository\n2023-05-15T11:33:23.130323169Z 2023-05-15T11:33:23.101Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.userrepository.OrderRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository\n2023-05-15T11:33:23.130330569Z 2023-05-15T11:33:23.102Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.userrepository.InventoryRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository\n2023-05-15T11:33:23.130337369Z 2023-05-15T11:33:23.102Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.userrepository.CustomerRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository\n2023-05-15T11:33:23.130354969Z 2023-05-15T11:33:23.103Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.userrepository.SupplierRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository\n2023-05-15T11:33:23.130360370Z 2023-05-15T11:33:23.112Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.userrepository.UserRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository\n2023-05-15T11:33:23.130365470Z 2023-05-15T11:33:23.113Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.userrepository.RoleRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository\n2023-05-15T11:33:23.130370870Z 2023-05-15T11:33:23.114Z  INFO 92 --- [           main] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.einfochips.smartinventory.userrepository.ProductRepository; If you want this repository to be a MongoDB repository, consider annotating your entities with one of these annotations: org.springframework.data.mongodb.core.mapping.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.mongodb.repository.MongoRepository\n2023-05-15T11:33:23.201258959Z 2023-05-15T11:33:23.181Z  INFO 92 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 133 ms. Found 1 MongoDB repository interfaces.\n2023-05-15T11:33:33.320694911Z 2023-05-15T11:33:33.320Z  INFO 92 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 80 (http)\n2023-05-15T11:33:33.687390964Z x-ms-applog:Informational:base64:SW5pdGlhbGl6aW5nIFByb3RvY29sSGFuZGxlciBbImh0dHAtbmlvLTgwIl0Kc291cmNlOiBvcmcuYXBhY2hlLmNveW90ZS5BYnN0cmFjdFByb3RvY29sCm1ldGhvZDogaW5pdApsb2dnZXI6IG9yZy5hcGFjaGUuY295b3RlLmh0dHAxMS5IdHRwMTFOaW9Qcm90b2NvbA==\n2023-05-15T11:33:33.689729674Z x-ms-applog:Informational:base64:U3RhcnRpbmcgc2VydmljZSBbVG9tY2F0XQpzb3VyY2U6IG9yZy5hcGFjaGUuY2F0YWxpbmEuY29yZS5TdGFuZGFyZFNlcnZpY2UKbWV0aG9kOiBzdGFydEludGVybmFsCmxvZ2dlcjogb3JnLmFwYWNoZS5jYXRhbGluYS5jb3JlLlN0YW5kYXJkU2VydmljZQ==\n2023-05-15T11:33:33.792184880Z x-ms-applog:Informational:base64:U3RhcnRpbmcgU2VydmxldCBlbmdpbmU6IFtBcGFjaGUgVG9tY2F0LzEwLjEuNV0Kc291cmNlOiBvcmcuYXBhY2hlLmNhdGFsaW5hLmNvcmUuU3RhbmRhcmRFbmdpbmUKbWV0aG9kOiBzdGFydEludGVybmFsCmxvZ2dlcjogb3JnLmFwYWNoZS5jYXRhbGluYS5jb3JlLlN0YW5kYXJkRW5naW5l\napplog:Informational:base64:UGF1c2luZyBQcm90b2NvbEhhbmRsZXIgWyJodHRwLW5pby04MCJdCnNvdXJjZTogb3JnLmFwYWNoZS5jb3lvdGUuQWJzdHJhY3RQcm90b2NvbAptZXRob2Q6IHBhdXNlCmxvZ2dlcjogb3JnLmFwYWNoZS5jb3lvdGUuaHR0cDExLkh0dHAxMU5pb1Byb3RvY29s\n2023-05-15T11:33:34.943494939Z x-ms-applog:Informational:base64:U3RvcHBpbmcgc2VydmljZSBbVG9tY2F0XQpzb3VyY2U6IG9yZy5hcGFjaGUuY2F0YWxpbmEuY29yZS5TdGFuZGFyZFNlcnZpY2UKbWV0aG9kOiBzdG9wSW50ZXJuYWwKbG9nZ2VyOiBvcmcuYXBhY2hlLmNhdGFsaW5hLmNvcmUuU3RhbmRhcmRTZXJ2aWNl\n2023-05-15T11:33:34.988862618Z x-ms-applog:Informational:base64:RGVzdHJveWluZyBQcm90b2NvbEhhbmRsZXIgWyJodHRwLW5pby04MCJdCnNvdXJjZTogb3JnLmFwYWNoZS5jb3lvdGUuQWJzdHJhY3RQcm90b2NvbAptZXRob2Q6IGRlc3Ryb3kKbG9nZ2VyOiBvcmcuYXBhY2hlLmNveW90ZS5odHRwMTEuSHR0cDExTmlvUHJvdG9jb2w=\n2023-05-15T11:33:35.330861970Z 2023-05-15T11:33:35.313Z  WARN 92 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server\n2023-05-15T11:33:35.407655774Z 2023-05-15T11:33:35.407Z  INFO 92 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n2023-05-15T11:33:35.407737474Z \n2023-05-15T11:33:35.407747974Z Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-05-15T11:33:35.695403212Z 2023-05-15T11:33:35.598Z ERROR 92 --- [           main] o.s.boot.SpringApplication               : Application run failed\n2023-05-15T11:33:35.695474212Z \n2023-05-15T11:33:35.695481012Z org.springframework.context.ApplicationContextException: Unable to start web server\n2023-05-15T11:33:35.695486012Z  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.0.4.jar!/:3.0.4]\n2023-05-15T11:33:35.695491212Z  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.6.jar!/:6.0.6]\n2023-05-15T11:33:35.695516812Z  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar!/:3.0.4]\n2023-05-15T11:33:35.695522412Z  at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar!/:3.0.4]\n2023-05-15T11:33:35.695526712Z  at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar!/:3.0.4]\n2023-05-15T11:33:35.695530612Z  at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar!/:3.0.4]\n2023-05-15T11:33:35.695534512Z  at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar!/:3.0.4]\n2023-05-15T11:33:35.695538512Z  at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar!/:3.0.4]\n2023-05-15T11:33:35.695542512Z  at com.einfochips.smartinventory.SmartInventoryApplication.main(SmartInventoryApplication.java:13) ~[classes!/:0.0.1-SNAPSHOT]\n2023-05-15T11:33:35.695546512Z  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n2023-05-15T11:33:35.695550412Z  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n2023-05-15T11:33:35.695554412Z  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n2023-05-15T11:33:35.695558312Z  at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n2023-05-15T11:33:35.695562212Z  at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT]\n2023-05-15T11:33:35.695566112Z  at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[app.jar:0.0.1-SNAPSHOT]\n2023-05-15T11:33:35.695572412Z  at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT]\n2023-05-15T11:33:35.695576812Z  at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[app.jar:0.0.1-SNAPSHOT]\n2023-05-15T11:33:35.695580712Z Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n2023-05-15T11:33:35.695584712Z  at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-3.0.4.jar!/:3.0.4]\n2023-05-15T11:33:35.695588812Z  at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.4.jar!/:3.0.4]\n2023-05-15T11:33:35.695593012Z  at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488) ~[spring-boot-3.0.4.jar!/:3.0.4]\n2023-05-15T11:33:35.695597212Z  at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210) ~[spring-boot-3.0.4.jar!/:3.0.4]\n2023-05-15T11:33:35.695601312Z  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.0.4.jar!/:3.0.4]\n2023-05-15T11:33:35.695610112Z  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.0.4.jar!/:3.0.4]\n2023-05-15T11:33:35.695614412Z  ... 16 common frames omitted\n2023-05-15T11:33:35.695618312Z Caused by: org.apache.catalina.LifecycleException: A child container failed during start\n2023-05-15T11:33:35.695622212Z  at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:935) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.695626212Z  at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:252) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.695630112Z  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.695634112Z  at org.apache.catalina.core.StandardService.startInternal(StandardService.java:430) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.695638112Z  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.695642012Z  at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:926) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.695646312Z  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.695650412Z  at org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.695654413Z  at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.4.jar!/:3.0.4]\n2023-05-15T11:33:35.695658513Z  ... 21 common frames omitted\n2023-05-15T11:33:35.695662213Z Caused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\n2023-05-15T11:33:35.695666313Z  at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\n2023-05-15T11:33:35.695670213Z  at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\n2023-05-15T11:33:35.695674113Z  at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:923) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.695678013Z  ... 29 common frames omitted\n2023-05-15T11:33:35.695681813Z Caused by: org.apache.catalina.LifecycleException: A child container failed during start\n2023-05-15T11:33:35.695685713Z  at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:935) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.695689713Z  at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.695693513Z  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.695697413Z  at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.707428759Z  at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.707446959Z  at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n2023-05-15T11:33:35.707452259Z  at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util-10.1.5.jar!/:10.1.5]\n2023-05-15T11:33:35.707456659Z  at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n2023-05-15T11:33:35.707460759Z  at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.707464759Z  ... 29 common frames omitted\n2023-05-15T11:33:35.707482359Z Caused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n2023-05-15T11:33:35.707488859Z  at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\n2023-05-15T11:33:35.707493059Z  at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\n2023-05-15T11:33:35.707496959Z  at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:923) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.707503659Z  ... 37 common frames omitted\n2023-05-15T11:33:35.707507559Z Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n2023-05-15T11:33:35.707511659Z  at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.707515559Z  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.707519659Z  at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.707523559Z  at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.707527459Z  at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n2023-05-15T11:33:35.760145767Z  at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util-10.1.5.jar!/:10.1.5]\n2023-05-15T11:33:35.760182468Z  at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n2023-05-15T11:33:35.760188268Z  at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.760192768Z  ... 37 common frames omitted\n2023-05-15T11:33:35.760196968Z Caused by: java.lang.IllegalStateException: zip file closed\n2023-05-15T11:33:35.760201168Z  at java.base/java.util.zip.ZipFile.ensureOpen(ZipFile.java:831) ~[na:na]\n2023-05-15T11:33:35.760205168Z  at java.base/java.util.zip.ZipFile.getManifestName(ZipFile.java:1057) ~[na:na]\n2023-05-15T11:33:35.760221968Z  at java.base/java.util.zip.ZipFile$1.getManifestName(ZipFile.java:1100) ~[na:na]\n2023-05-15T11:33:35.760226368Z  at java.base/java.util.jar.JarFile.getManEntry(JarFile.java:937) ~[na:na]\n2023-05-15T11:33:35.760230468Z  at java.base/java.util.jar.JarFile.checkForSpecialAttributes(JarFile.java:1000) ~[na:na]\n2023-05-15T11:33:35.760234368Z  at java.base/java.util.jar.JarFile.isMultiRelease(JarFile.java:389) ~[na:na]\n2023-05-15T11:33:35.760243268Z  at org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:68) ~[tomcat-util-scan-10.1.5.jar!/:10.1.5]\n2023-05-15T11:33:35.760247768Z  at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:41) ~[tomcat-util-scan-10.1.5.jar!/:10.1.5]\n2023-05-15T11:33:35.760251768Z  at org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:393) ~[tomcat-util-scan-10.1.5.jar!/:10.1.5]\n2023-05-15T11:33:35.760255768Z  at org.apache.tomcat.util.scan.StandardJarScanner.processURLs(StandardJarScanner.java:328) ~[tomcat-util-scan-10.1.5.jar!/:10.1.5]\n2023-05-15T11:33:35.760259768Z  at org.apache.tomcat.util.scan.StandardJarScanner.doScanClassPath(StandardJarScanner.java:271) ~[tomcat-util-scan-10.1.5.jar!/:10.1.5]\n2023-05-15T11:33:35.760263768Z  at org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:234) ~[tomcat-util-scan-10.1.5.jar!/:10.1.5]\n2023-05-15T11:33:35.760267868Z  at org.apache.jasper.servlet.TldScanner.scanJars(TldScanner.java:262) ~[tomcat-jasper-10.1.5.jar!/:10.1.5]\n2023-05-15T11:33:35.760271868Z  at org.apache.jasper.servlet.TldScanner.scan(TldScanner.java:104) ~[tomcat-jasper-10.1.5.jar!/:10.1.5]\n2023-05-15T11:33:35.760275668Z  at org.apache.jasper.servlet.JasperInitializer.onStartup(JasperInitializer.java:83) ~[tomcat-jasper-10.1.5.jar!/:10.1.5]\n2023-05-15T11:33:35.760280468Z  at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5144) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.760339168Z  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.5.jar!/:na]\n2023-05-15T11:33:35.760352668Z  ... 43 common frames omitted\n2023-05-15T11:33:35.760356968Z \n2023-05-15T11:33:36.279834820Z Wait for pid == 92 either returned successfully or was interrupted due to a signal 92\n2023-05-15T11:33:36.315925763Z Done waiting for main process. GLOBAL_PID_MAIN=92.\n2023-05-15T11:33:36.315965163Z Exiting entry script!\n\n</code></pre>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":7,"creation_date":1684851744,"post_id":76315805,"comment_id":134575716,"body_markdown":"What would your function return if `e` is null?","body":"What would your function return if <code>e</code> is null?"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":2,"creation_date":1684852064,"post_id":76315805,"comment_id":134575815,"body_markdown":"If you expect only these two values and not even null, it becomes a validation thing. So validate the input before calling this function or throw `IllegalArgumentException`","body":"If you expect only these two values and not even null, it becomes a validation thing. So validate the input before calling this function or throw <code>IllegalArgumentException</code>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1684852754,"post_id":76315805,"comment_id":134576015,"body_markdown":"@biziclop in this case it&#39;d emit an `NPE` since you cannot call `Enum#ordinal` on a `null`. For OP, validation and _robustness_ to change are valid here too: If you added another enum constant, then this method would no longer work. Admittedly, a compile-time check would be able to catch that, the only real &quot;evil&quot; thing I can think of here is someone instrumenting new enum constants at runtime. It may just be that the check for this case isn&#39;t overly involved.","body":"@biziclop in this case it&#39;d emit an <code>NPE</code> since you cannot call <code>Enum#ordinal</code> on a <code>null</code>. For OP, validation and <i>robustness</i> to change are valid here too: If you added another enum constant, then this method would no longer work. Admittedly, a compile-time check would be able to catch that, the only real &quot;evil&quot; thing I can think of here is someone instrumenting new enum constants at runtime. It may just be that the check for this case isn&#39;t overly involved."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1684852923,"post_id":76315805,"comment_id":134576067,"body_markdown":"A better fix here is to put `throw new AssertionError();` in place of fix 2. That&#39;s saying that it&#39;s an error to reach that point, rather than silently returning null.","body":"A better fix here is to put <code>throw new AssertionError();</code> in place of fix 2. That&#39;s saying that it&#39;s an error to reach that point, rather than silently returning null."},{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":0,"creation_date":1684852971,"post_id":76315805,"comment_id":134576079,"body_markdown":"Alternative approach: You could move the `toString` method into your enum class. All instances of the enum would be forced to implement `toString` and there would be no need for a switch statement.","body":"Alternative approach: You could move the <code>toString</code> method into your enum class. All instances of the enum would be forced to implement <code>toString</code> and there would be no need for a switch statement."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1684853730,"post_id":76315805,"comment_id":134576290,"body_markdown":"Or: use single return statement with body as `{ return switch (e) { case A -&gt; &quot;A&quot;;  case B -&gt; &quot;B&quot;;};}`","body":"Or: use single return statement with body as <code>{ return switch (e) { case A -&gt; &quot;A&quot;;  case B -&gt; &quot;B&quot;;};}</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1684854245,"post_id":76315805,"comment_id":134576445,"body_markdown":"you are aware that the class and the enum can eventually be compiled separately  - maybe not in this specific code, but in general That means, it is still possible to add a third value to the enum and *forget* to re-compile the switch containing source","body":"you are aware that the class and the enum can eventually be compiled separately  - maybe not in this specific code, but in general That means, it is still possible to add a third value to the enum and <i>forget</i> to re-compile the switch containing source"},{"owner":{"account_id":28343577,"reputation":73,"user_id":21800549,"display_name":"alex"},"score":0,"creation_date":1684854490,"post_id":76315805,"comment_id":134576515,"body_markdown":"@user16320675 That&#39;s a really good point. In general this sort of function was desired in order to make it a compile-time issue if the enum was extended, which would then prompt fixes elsewhere rather than silently masking issues (or even runtime AssertionErrors as seen elsewhere in the thread). But I did not consider this as a possible path for an unrecognized value to enter the function.","body":"@user16320675 That&#39;s a really good point. In general this sort of function was desired in order to make it a compile-time issue if the enum was extended, which would then prompt fixes elsewhere rather than silently masking issues (or even runtime AssertionErrors as seen elsewhere in the thread). But I did not consider this as a possible path for an unrecognized value to enter the function."},{"owner":{"account_id":28343577,"reputation":73,"user_id":21800549,"display_name":"alex"},"score":0,"creation_date":1684854597,"post_id":76315805,"comment_id":134576548,"body_markdown":"@user16320675 Although do you know how this effects the switch expression, as demonstrated in one of the answers? It seems from a previous answer that we might be able to break type safety by separate compilation, as an answer below seems to indicate a switch expression with no default is valid.","body":"@user16320675 Although do you know how this effects the switch expression, as demonstrated in one of the answers? It seems from a previous answer that we might be able to break type safety by separate compilation, as an answer below seems to indicate a switch expression with no default is valid."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1684855844,"post_id":76315805,"comment_id":134576890,"body_markdown":"yes, compiling the files separately will allow *incomplete* switch expressions [`IncompatibleClassChangeError`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/IncompatibleClassChangeError.html): &quot;*Thrown when an incompatible class change has occurred to some class definition. The definition of some class, on which the currently executing method depends, has since changed.*&quot;","body":"yes, compiling the files separately will allow <i>incomplete</i> switch expressions <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/IncompatibleClassChangeError.html\" rel=\"nofollow noreferrer\"><code>IncompatibleClassChangeError</code></a>: &quot;<i>Thrown when an incompatible class change has occurred to some class definition. The definition of some class, on which the currently executing method depends, has since changed.</i>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684858999,"creation_date":1684853355,"answer_id":76316043,"question_id":76315805,"body_markdown":"&gt; Does anybody have information on what about the Java language causes this to be the case?\r\n\r\nYou can find this in [JLS 14.22, Unreachable statements](https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.22):\r\n\r\n&gt; * A switch statement whose switch block consists of switch labeled statement groups can complete normally iff at least one of the following is true:\r\n&gt;\r\n&gt;   * The last statement in the switch block can complete normally.\r\n&gt;   * There is at least one switch label after the last switch block statement group.\r\n&gt;   * There is a reachable break statement that exits the switch statement.\r\n&gt;   * The switch block does not contain a default label.\r\n\r\nIf your switch statement doesn&#39;t contain a `default:` label, it&#39;s clear that at least one of those conditions is true.\r\n\r\nThus, your switch statement can complete normally (meaning, it the compiler can&#39;t guarantee that it loops forever; returns; or throws an exception).\r\n\r\nThis means that the statement following the `switch` statement is reachable, so you have to provide something to do if execution reaches that point.\r\n\r\nRemember: you sometimes know more than the compiler. In this case, you know that the switch statement actually can&#39;t complete normally, because all of the enum values are covered. In this case, it&#39;s appropriate to put `throw new AssertionError();` after the switch statement, to indicate that your &quot;model of the world&quot; is invalidated if you reach that point in the program.\r\n\r\n---\r\n\r\nHowever, a better approach (at least in Java 17+) is to use a [switch expression](https://docs.oracle.com/en/java/javase/17/language/switch-expressions.html), which will not compile unless all of the enum values are explicitly matched (or you provide a default):\r\n\r\n```\r\nreturn switch (e) {\r\n  case A -&gt; &quot;A&quot;;\r\n  case B -&gt; &quot;B&quot;;\r\n};\r\n```\r\n\r\nOr, assuming the returned name really is just the name of the enum value:\r\n\r\n```\r\nreturn e.name();\r\n```","title":"Java switch on enum with all cases handled, but compiler still complains","body":"<blockquote>\n<p>Does anybody have information on what about the Java language causes this to be the case?</p>\n</blockquote>\n<p>You can find this in <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.22\" rel=\"nofollow noreferrer\">JLS 14.22, Unreachable statements</a>:</p>\n<blockquote>\n<ul>\n<li><p>A switch statement whose switch block consists of switch labeled statement groups can complete normally iff at least one of the following is true:</p>\n<ul>\n<li>The last statement in the switch block can complete normally.</li>\n<li>There is at least one switch label after the last switch block statement group.</li>\n<li>There is a reachable break statement that exits the switch statement.</li>\n<li>The switch block does not contain a default label.</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>If your switch statement doesn't contain a <code>default:</code> label, it's clear that at least one of those conditions is true.</p>\n<p>Thus, your switch statement can complete normally (meaning, it the compiler can't guarantee that it loops forever; returns; or throws an exception).</p>\n<p>This means that the statement following the <code>switch</code> statement is reachable, so you have to provide something to do if execution reaches that point.</p>\n<p>Remember: you sometimes know more than the compiler. In this case, you know that the switch statement actually can't complete normally, because all of the enum values are covered. In this case, it's appropriate to put <code>throw new AssertionError();</code> after the switch statement, to indicate that your &quot;model of the world&quot; is invalidated if you reach that point in the program.</p>\n<hr />\n<p>However, a better approach (at least in Java 17+) is to use a <a href=\"https://docs.oracle.com/en/java/javase/17/language/switch-expressions.html\" rel=\"nofollow noreferrer\">switch expression</a>, which will not compile unless all of the enum values are explicitly matched (or you provide a default):</p>\n<pre><code>return switch (e) {\n  case A -&gt; &quot;A&quot;;\n  case B -&gt; &quot;B&quot;;\n};\n</code></pre>\n<p>Or, assuming the returned name really is just the name of the enum value:</p>\n<pre><code>return e.name();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28663243,"reputation":21,"user_id":21947774,"display_name":"Tyler Frantom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684853790,"creation_date":1684853739,"answer_id":76316092,"question_id":76315805,"body_markdown":"My understanding of this is that in java switch statements, a default control flow must be defined, even if the default realistically couldn&#39;t be reached. In your example, the obvious situation where default &quot;might&quot; happen is if null is passed into the function, though since you&#39;re using enums, the error would be thrown at the function call before it even makes it to the switch. Switch expressions can help with the weirdness for more modern versions and let you compile without the default case specifically with this example, since pattern matching will help the compiler know what actually could go into the switch, and if you later add a new enum for C, the compiler would then tell you that you need to cover all possible input values.\r\n\r\n    static String toStringExp(MyEnum e) {\r\n      return switch(e) {\r\n        case A -&gt; &quot;A&quot;;\r\n        case B -&gt; &quot;B&quot;;\r\n      };\r\n    }\r\n\r\n \r\n[Here is a link to an older question that was very similar with more details][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5013194/why-is-default-required-for-a-switch-on-an-enum","title":"Java switch on enum with all cases handled, but compiler still complains","body":"<p>My understanding of this is that in java switch statements, a default control flow must be defined, even if the default realistically couldn't be reached. In your example, the obvious situation where default &quot;might&quot; happen is if null is passed into the function, though since you're using enums, the error would be thrown at the function call before it even makes it to the switch. Switch expressions can help with the weirdness for more modern versions and let you compile without the default case specifically with this example, since pattern matching will help the compiler know what actually could go into the switch, and if you later add a new enum for C, the compiler would then tell you that you need to cover all possible input values.</p>\n<pre><code>static String toStringExp(MyEnum e) {\n  return switch(e) {\n    case A -&gt; &quot;A&quot;;\n    case B -&gt; &quot;B&quot;;\n  };\n}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/5013194/why-is-default-required-for-a-switch-on-an-enum\">Here is a link to an older question that was very similar with more details</a></p>\n"}],"owner":{"account_id":28343577,"reputation":73,"user_id":21800549,"display_name":"alex"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76316043,"answer_count":2,"score":0,"last_activity_date":1684858999,"creation_date":1684851640,"question_id":76315805,"body_markdown":"I have a function that `switch`es on a value of some enum type, and in all cases returns a value. However, the Java compiler is not happy with this function unless it also returns a default value. A minimal example is as follows:\r\n\r\n```\r\nclass Main {\r\n    enum MyEnum {\r\n        A,\r\n        B\r\n    }\r\n    \r\n    static String toString(MyEnum e) {\r\n        switch (e) {\r\n            case A: return &quot;A&quot;;\r\n            case B: return &quot;B&quot;;\r\n        }\r\n        // COMPILER COMPLAINS HERE: &#39;MISSING RETURN STATEMENT&#39;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        System.out.println(toString(MyEnum.A) + toString(MyEnum.B));\r\n    }\r\n}\r\n```\r\nAdding either a `default` case in the `switch`, or simply returning a default value at the end of the function, now allows the code to compile:\r\n\r\n```\r\n// only 1 of the 2 fixes is required to get this to compile\r\nstatic String toString(MyEnum e) {\r\n    switch (e) {\r\n        case A: return &quot;A&quot;;\r\n        case B: return &quot;B&quot;;\r\n        default: return null;  // fix 1\r\n    }\r\n    return null; // fix 2\r\n}\r\n```\r\n\r\nWhy is this the case? As I understand it, enums in Java are type-safe so cannot contain unexpected values (whereas in say, C or C++, you could force in a random integer into a function that takes an enum type and really cause problems). As a result the code without a default feels like it should work, but clearly the Java compiler isn&#39;t happy about it. Does anybody have information on what about the Java language causes this to be the case? ","title":"Java switch on enum with all cases handled, but compiler still complains","body":"<p>I have a function that <code>switch</code>es on a value of some enum type, and in all cases returns a value. However, the Java compiler is not happy with this function unless it also returns a default value. A minimal example is as follows:</p>\n<pre><code>class Main {\n    enum MyEnum {\n        A,\n        B\n    }\n    \n    static String toString(MyEnum e) {\n        switch (e) {\n            case A: return &quot;A&quot;;\n            case B: return &quot;B&quot;;\n        }\n        // COMPILER COMPLAINS HERE: 'MISSING RETURN STATEMENT'\n    }\n    \n    public static void main(String[] args) {\n        System.out.println(toString(MyEnum.A) + toString(MyEnum.B));\n    }\n}\n</code></pre>\n<p>Adding either a <code>default</code> case in the <code>switch</code>, or simply returning a default value at the end of the function, now allows the code to compile:</p>\n<pre><code>// only 1 of the 2 fixes is required to get this to compile\nstatic String toString(MyEnum e) {\n    switch (e) {\n        case A: return &quot;A&quot;;\n        case B: return &quot;B&quot;;\n        default: return null;  // fix 1\n    }\n    return null; // fix 2\n}\n</code></pre>\n<p>Why is this the case? As I understand it, enums in Java are type-safe so cannot contain unexpected values (whereas in say, C or C++, you could force in a random integer into a function that takes an enum type and really cause problems). As a result the code without a default feels like it should work, but clearly the Java compiler isn't happy about it. Does anybody have information on what about the Java language causes this to be the case?</p>\n"},{"tags":["java","c","insertion-sort"],"comments":[{"owner":{"account_id":2497975,"reputation":133520,"user_id":2173917,"accept_rate":70,"display_name":"Sourav Ghosh"},"score":2,"creation_date":1489331767,"post_id":42749087,"comment_id":72614786,"body_markdown":"What wrong? What is right? What is your input and what is the expcected ouput? What do you actually see?","body":"What wrong? What is right? What is your input and what is the expcected ouput? What do you actually see?"},{"owner":{"account_id":4990274,"reputation":154,"user_id":4012713,"accept_rate":62,"display_name":"sunil sarode"},"score":0,"creation_date":1489331843,"post_id":42749087,"comment_id":72614818,"body_markdown":"number of times the swap operation is performed in insertion sort","body":"number of times the swap operation is performed in insertion sort"},{"owner":{"account_id":166319,"reputation":17378,"user_id":390363,"accept_rate":46,"display_name":"aragaer"},"score":0,"creation_date":1489334973,"post_id":42749087,"comment_id":72615890,"body_markdown":"Your Java code uses `println` which adds the newline, but your C code doesn&#39;t have &#39;\\n&#39; in the output `printf`.","body":"Your Java code uses <code>println</code> which adds the newline, but your C code doesn&#39;t have &#39;\\n&#39; in the output <code>printf</code>."},{"owner":{"account_id":4990274,"reputation":154,"user_id":4012713,"accept_rate":62,"display_name":"sunil sarode"},"score":0,"creation_date":1489335254,"post_id":42749087,"comment_id":72615975,"body_markdown":"@aragaer it wroks thanks, fool i am , you please post your answer...:)","body":"@aragaer it wroks thanks, fool i am , you please post your answer...:)"}],"answers":[{"tags":[],"owner":{"account_id":10442591,"reputation":37,"user_id":7698731,"display_name":"Laischon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1489332888,"creation_date":1489332888,"answer_id":42749325,"question_id":42749087,"body_markdown":"Your solution seems to be correct! \r\n\r\nWhen you upload the solution, select the correct version of C compiler.\r\nYou are using **C99** or next, i think.. so try to use it!\r\n[C99][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0AV1a.png","title":"C code gives wrong answer but java code gives correct answer on spoj","body":"<p>Your solution seems to be correct! </p>\n\n<p>When you upload the solution, select the correct version of C compiler.\nYou are using <strong>C99</strong> or next, i think.. so try to use it!\n<a href=\"https://i.stack.imgur.com/0AV1a.png\" rel=\"nofollow noreferrer\">C99</a></p>\n"},{"tags":[],"owner":{"account_id":1781872,"reputation":14665,"user_id":1624376,"accept_rate":76,"display_name":"Aubin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489335323,"creation_date":1489334179,"answer_id":42749599,"question_id":42749087,"body_markdown":"Your code, simplified, without any user input:\r\n\r\nIn C:\r\n\r\n    #include &lt;stdio.h&gt;\r\n    \r\n    int insertion_sort() {\r\n       int arr[] = { 1, 1, 1, 2, 2 };\r\n       /*int arr[] = { 2, 1, 3, 1, 2 };*/\r\n       int n     = sizeof(arr)/sizeof(arr[0]);\r\n       int count = 0;\r\n       for(int i = 1; i &lt; n; i++ ) {\r\n          int key = arr[i];\r\n          int j   = i - 1;\r\n          while(( j &gt;= 0 ) &amp;&amp; ( arr[j] &gt; key )) {\r\n             arr[j+1] = arr[j];\r\n             count++;\r\n             j = j-1;\r\n          }\r\n          arr[j+1]=key;\r\n       }\r\n       for( int i = 0; i &lt; n; i++ ) {\r\n          printf( &quot;%d,&quot;,arr[i]);\r\n       }\r\n       printf( &quot;\\n&quot; );\r\n       printf( &quot;count: %d\\n&quot;,count );\r\n       return 0;\r\n    }\r\n\r\nIn Java:\r\n\r\n    public class InsertionSort {\r\n    \r\n       public static void main( String[] args ) throws Exception {\r\n          //final int inputArr[] = { 1, 1, 1, 2, 2 };\r\n          final int inputArr[] = { 2, 1, 3, 1, 2 };\r\n          final int n = inputArr.length;\r\n          int count = 0;\r\n          for( int i = 1; i &lt; n; i++ ) {\r\n             final int key = inputArr[i];\r\n             int j   = i - 1;\r\n             while(( j &gt;= 0 ) &amp;&amp; ( inputArr[j] &gt; key )) {\r\n                inputArr[j + 1] = inputArr[j];\r\n                j = j - 1;\r\n                count++;\r\n             }\r\n             inputArr[j + 1] = key;\r\n          }\r\n          System.out.println( Arrays.toString( inputArr ));\r\n          System.out.println( &quot;count: &quot; + count );\r\n       }\r\n    }\r\n\r\nC Execution trace:\r\n\r\n    1,1,1,2,2,\r\n    count: 0\r\n\r\n    2,1,3,1,2,\r\n    count: 4\r\n\r\nJava Execution trace:\r\n\r\n    [1, 1, 1, 2, 2]\r\n    count: 0\r\n\r\n    [2, 1, 3, 1, 2]\r\n    count: 4\r\n\r\nWhere is the differences?\r\n\r\n**EDIT**\r\n\r\nYour code isn&#39;t ANSI C:\r\n\r\n    gcc -ansi -c insertion_sort.c \r\n    insertion_sort.c: In function ‘insertion_sort’:\r\n    insertion_sort.c:34:7: error: ‘for’ loop initial declarations are only allowed in C99 or C11 mode\r\n           for(int i=0; i&lt;n; i++) {\r\n           ^\r\n    insertion_sort.c:34:7: note: use option -std=c99, -std=gnu99, -std=c11 or -std=gnu11 to compile your code\r\n    insertion_sort.c:39:15: error: redefinition of ‘i’\r\n           for(int i=1; i&lt;n; i++) {\r\n                   ^\r\n    insertion_sort.c:34:15: note: previous definition of ‘i’ was here\r\n           for(int i=0; i&lt;n; i++) {\r\n                   ^\r\n    insertion_sort.c:39:7: error: ‘for’ loop initial declarations are only allowed in C99 or C11 mode\r\n           for(int i=1; i&lt;n; i++) {\r\n           ^\r\n\r\n","title":"C code gives wrong answer but java code gives correct answer on spoj","body":"<p>Your code, simplified, without any user input:</p>\n\n<p>In C:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint insertion_sort() {\n   int arr[] = { 1, 1, 1, 2, 2 };\n   /*int arr[] = { 2, 1, 3, 1, 2 };*/\n   int n     = sizeof(arr)/sizeof(arr[0]);\n   int count = 0;\n   for(int i = 1; i &lt; n; i++ ) {\n      int key = arr[i];\n      int j   = i - 1;\n      while(( j &gt;= 0 ) &amp;&amp; ( arr[j] &gt; key )) {\n         arr[j+1] = arr[j];\n         count++;\n         j = j-1;\n      }\n      arr[j+1]=key;\n   }\n   for( int i = 0; i &lt; n; i++ ) {\n      printf( \"%d,\",arr[i]);\n   }\n   printf( \"\\n\" );\n   printf( \"count: %d\\n\",count );\n   return 0;\n}\n</code></pre>\n\n<p>In Java:</p>\n\n<pre><code>public class InsertionSort {\n\n   public static void main( String[] args ) throws Exception {\n      //final int inputArr[] = { 1, 1, 1, 2, 2 };\n      final int inputArr[] = { 2, 1, 3, 1, 2 };\n      final int n = inputArr.length;\n      int count = 0;\n      for( int i = 1; i &lt; n; i++ ) {\n         final int key = inputArr[i];\n         int j   = i - 1;\n         while(( j &gt;= 0 ) &amp;&amp; ( inputArr[j] &gt; key )) {\n            inputArr[j + 1] = inputArr[j];\n            j = j - 1;\n            count++;\n         }\n         inputArr[j + 1] = key;\n      }\n      System.out.println( Arrays.toString( inputArr ));\n      System.out.println( \"count: \" + count );\n   }\n}\n</code></pre>\n\n<p>C Execution trace:</p>\n\n<pre><code>1,1,1,2,2,\ncount: 0\n\n2,1,3,1,2,\ncount: 4\n</code></pre>\n\n<p>Java Execution trace:</p>\n\n<pre><code>[1, 1, 1, 2, 2]\ncount: 0\n\n[2, 1, 3, 1, 2]\ncount: 4\n</code></pre>\n\n<p>Where is the differences?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Your code isn't ANSI C:</p>\n\n<pre><code>gcc -ansi -c insertion_sort.c \ninsertion_sort.c: In function ‘insertion_sort’:\ninsertion_sort.c:34:7: error: ‘for’ loop initial declarations are only allowed in C99 or C11 mode\n       for(int i=0; i&lt;n; i++) {\n       ^\ninsertion_sort.c:34:7: note: use option -std=c99, -std=gnu99, -std=c11 or -std=gnu11 to compile your code\ninsertion_sort.c:39:15: error: redefinition of ‘i’\n       for(int i=1; i&lt;n; i++) {\n               ^\ninsertion_sort.c:34:15: note: previous definition of ‘i’ was here\n       for(int i=0; i&lt;n; i++) {\n               ^\ninsertion_sort.c:39:7: error: ‘for’ loop initial declarations are only allowed in C99 or C11 mode\n       for(int i=1; i&lt;n; i++) {\n       ^\n</code></pre>\n"},{"tags":[],"owner":{"account_id":166319,"reputation":17378,"user_id":390363,"accept_rate":46,"display_name":"aragaer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1489336469,"creation_date":1489336469,"answer_id":42750001,"question_id":42749087,"body_markdown":"The code itself is correct, but your output is wrong. Expected output format is a number followed by newline. Your Java code uses `println` which automatically inserts newline. Your C code lacks `\\n`. `printf(&quot;%d\\n&quot;, count);` is what you should use.","title":"C code gives wrong answer but java code gives correct answer on spoj","body":"<p>The code itself is correct, but your output is wrong. Expected output format is a number followed by newline. Your Java code uses <code>println</code> which automatically inserts newline. Your C code lacks <code>\\n</code>. <code>printf(\"%d\\n\", count);</code> is what you should use.</p>\n"}],"owner":{"account_id":4990274,"reputation":154,"user_id":4012713,"accept_rate":62,"display_name":"sunil sarode"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":42750001,"answer_count":3,"score":2,"last_activity_date":1684858705,"creation_date":1489331707,"question_id":42749087,"body_markdown":"I am solving  following problem on SPOJ.It is simple insertion sort algorithm. My java code works but C code is giving wrong answer.\r\nwhat wrong i am doing?\r\n\r\nPlease help and thanks lot......:)  \r\n\r\n[link of problem statement][1]\r\n\r\n\r\njava code\r\n\r\n    public class Main {\r\n    \r\n       public static void main(String[] args) throws NumberFormatException, IOException {\r\n          BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n          int t = Integer.parseInt(br.readLine());\r\n          while (t &gt; 0) {\r\n             int n = Integer.parseInt(br.readLine());\r\n             String str = br.readLine();\r\n             String arr[] = str.split(&quot; &quot;);\r\n             int inputArr[] = new int[n];\r\n             for (int i = 0; i &lt; n; i++) {\r\n                inputArr[i] = Integer.parseInt(arr[i]);\r\n             }\r\n             int key = 0;\r\n             int count = 0;\r\n             for( int i = 1; i &lt; n; i++ ) {\r\n                key = inputArr[i];\r\n                int j = i - 1;\r\n                while (j &gt;= 0 &amp;&amp; inputArr[j] &gt; key) {\r\n                   inputArr[j + 1] = inputArr[j];\r\n                   j = j - 1;\r\n                   count++;\r\n                }\r\n                inputArr[j + 1] = key;\r\n             }\r\n             System.out.println(count);\r\n             t--;\r\n          }\r\n       }\r\n    }\r\n\r\nC code\r\n\r\n    #include&lt;stdio.h&gt;\r\n    int main() {\r\n       int t=0;\r\n       scanf(&quot;%d&quot;,&amp;t);\r\n       while( t &gt; 0 ) {\r\n          int n=0;\r\n          scanf(&quot;%d&quot;,&amp;n);\r\n          int arr[n];\r\n          int key=0;\r\n          for(int i=0; i&lt;n; i++) {\r\n             scanf(&quot;%d&quot;,&amp;arr[i]);\r\n          }\r\n          int count=0;\r\n          int j=0;\r\n          for(int i=1; i&lt;n; i++) {\r\n             key = arr[i];\r\n             j   = i - 1;\r\n             while(j&gt;=0&amp;&amp;arr[j]&gt;key) {\r\n                arr[j+1]=arr[j];\r\n                count++;\r\n                j = j-1;\r\n             }\r\n             arr[j+1]=key;\r\n          }\r\n          printf(&quot;%d&quot;,count);\r\n          t--;\r\n       }\r\n       return 0;\r\n    }\r\n[![java solution accepted][2]][2]\r\n\r\n\r\n  [1]: http://www.spoj.com/problems/CODESPTB/\r\n  [2]: https://i.stack.imgur.com/lWwMc.png","title":"C code gives wrong answer but java code gives correct answer on spoj","body":"<p>I am solving  following problem on SPOJ.It is simple insertion sort algorithm. My java code works but C code is giving wrong answer.\nwhat wrong i am doing?</p>\n\n<p>Please help and thanks lot......:)  </p>\n\n<p><a href=\"http://www.spoj.com/problems/CODESPTB/\" rel=\"nofollow noreferrer\">link of problem statement</a></p>\n\n<p>java code</p>\n\n<pre><code>public class Main {\n\n   public static void main(String[] args) throws NumberFormatException, IOException {\n      BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n      int t = Integer.parseInt(br.readLine());\n      while (t &gt; 0) {\n         int n = Integer.parseInt(br.readLine());\n         String str = br.readLine();\n         String arr[] = str.split(\" \");\n         int inputArr[] = new int[n];\n         for (int i = 0; i &lt; n; i++) {\n            inputArr[i] = Integer.parseInt(arr[i]);\n         }\n         int key = 0;\n         int count = 0;\n         for( int i = 1; i &lt; n; i++ ) {\n            key = inputArr[i];\n            int j = i - 1;\n            while (j &gt;= 0 &amp;&amp; inputArr[j] &gt; key) {\n               inputArr[j + 1] = inputArr[j];\n               j = j - 1;\n               count++;\n            }\n            inputArr[j + 1] = key;\n         }\n         System.out.println(count);\n         t--;\n      }\n   }\n}\n</code></pre>\n\n<p>C code</p>\n\n<pre><code>#include&lt;stdio.h&gt;\nint main() {\n   int t=0;\n   scanf(\"%d\",&amp;t);\n   while( t &gt; 0 ) {\n      int n=0;\n      scanf(\"%d\",&amp;n);\n      int arr[n];\n      int key=0;\n      for(int i=0; i&lt;n; i++) {\n         scanf(\"%d\",&amp;arr[i]);\n      }\n      int count=0;\n      int j=0;\n      for(int i=1; i&lt;n; i++) {\n         key = arr[i];\n         j   = i - 1;\n         while(j&gt;=0&amp;&amp;arr[j]&gt;key) {\n            arr[j+1]=arr[j];\n            count++;\n            j = j-1;\n         }\n         arr[j+1]=key;\n      }\n      printf(\"%d\",count);\n      t--;\n   }\n   return 0;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/lWwMc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lWwMc.png\" alt=\"java solution accepted\"></a></p>\n"},{"tags":["java","loops","terminal","java.util.scanner"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1684858658,"post_id":76316626,"comment_id":134577575,"body_markdown":"Have you learned about `while` loops yet? If not: you&#39;ll learn this when you get to those. If you have, ask yourself what your repeating vs. halting condition would be if you, the human, played this game with another human.","body":"Have you learned about <code>while</code> loops yet? If not: you&#39;ll learn this when you get to those. If you have, ask yourself what your repeating vs. halting condition would be if you, the human, played this game with another human."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1684858707,"post_id":76316626,"comment_id":134577584,"body_markdown":"Every programmer needs to know how to debug code - both his own code and other people&#39;s. This line of your code is outside of the `while` loop: `continueGambling = scanner.nextLine();`","body":"Every programmer needs to know how to debug code - both his own code and other people&#39;s. This line of your code is outside of the <code>while</code> loop: <code>continueGambling = scanner.nextLine();</code>"},{"owner":{"account_id":28663828,"reputation":1,"user_id":21948264,"display_name":"Brock Benton"},"score":0,"creation_date":1684858978,"post_id":76316626,"comment_id":134577638,"body_markdown":"@Abra I have moved the statement continueGambling = scanner.nextLine(); around and nothing happens","body":"@Abra I have moved the statement continueGambling = scanner.nextLine(); around and nothing happens"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1684859199,"post_id":76316626,"comment_id":134577702,"body_markdown":"_nothing happens_ means that you are in an infinite loop. I repeat, you need to learn how to debug your code. If you are using an IDE then it should have a debugger. I suggest that you learn how to use it.","body":"<i>nothing happens</i> means that you are in an infinite loop. I repeat, you need to learn how to debug your code. If you are using an IDE then it should have a debugger. I suggest that you learn how to use it."},{"owner":{"account_id":28663828,"reputation":1,"user_id":21948264,"display_name":"Brock Benton"},"score":0,"creation_date":1684859316,"post_id":76316626,"comment_id":134577728,"body_markdown":"@Abra Alright, my bad","body":"@Abra Alright, my bad"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1684859427,"post_id":76316626,"comment_id":134577757,"body_markdown":"you had 2 things wrong with the code one abra already mention it the 2nd is you have the 3 options outside of the while loop just put them inside the loop instead of before.Just a quick note you should try and refactor your code there is a lot of repetetive code","body":"you had 2 things wrong with the code one abra already mention it the 2nd is you have the 3 options outside of the while loop just put them inside the loop instead of before.Just a quick note you should try and refactor your code there is a lot of repetetive code"},{"owner":{"account_id":28663828,"reputation":1,"user_id":21948264,"display_name":"Brock Benton"},"score":0,"creation_date":1684859594,"post_id":76316626,"comment_id":134577788,"body_markdown":"@Anon Ah, I see! I do not know how I missed that. Thank you so much!","body":"@Anon Ah, I see! I do not know how I missed that. Thank you so much!"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1684860838,"post_id":76316626,"comment_id":134578067,"body_markdown":"@BrockBenton Most likely it was missed because of the large vertical space and deep nesting *(code turned on its side is not a graph of how awesome it is ;)* In other words, mirroring the previous refactoring comment: &quot;chunking up&quot; some of the functionality, like the balance and options output, can be moved into a supporting function. That alone would go a long way towards de-talling the code, which in turn makes it much easier to reason about.","body":"@BrockBenton Most likely it was missed because of the large vertical space and deep nesting <i>(code turned on its side is not a graph of how awesome it is ;)</i> In other words, mirroring the previous refactoring comment: &quot;chunking up&quot; some of the functionality, like the balance and options output, can be moved into a supporting function. That alone would go a long way towards de-talling the code, which in turn makes it much easier to reason about."},{"owner":{"account_id":28663828,"reputation":1,"user_id":21948264,"display_name":"Brock Benton"},"score":0,"creation_date":1684865872,"post_id":76316626,"comment_id":134578980,"body_markdown":"@DaveNewton Good to know. The code was definitely weirdly long and somewhat confusing, but I guess limiting repetition is a part of the learning process! I will work on that. Thank you.","body":"@DaveNewton Good to know. The code was definitely weirdly long and somewhat confusing, but I guess limiting repetition is a part of the learning process! I will work on that. Thank you."}],"owner":{"account_id":28663828,"reputation":1,"user_id":21948264,"display_name":"Brock Benton"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684858561,"creation_date":1684857294,"question_id":76316626,"body_markdown":"I just started learning Java a week or two ago and I wanted to create a silly little gambling software within the terminal; however, the player is only able to gamble once even though I would like them to be able to gamble several times.\r\n\r\nCode: \r\n```java\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Gambler {\r\n\r\n    public static void main(String[] args) {\r\n        Random random = new Random();\r\n        Scanner scanner = new Scanner(System.in);\r\n        int balance = 100;\r\n        System.out.println();\r\n        System.out.println(&quot;--&gt; Current Balance: $&quot; + balance + &quot; &lt;--&quot;);\r\n        System.out.println();\r\n        System.out.println(&quot;Would you like to enter the Java Gambler simulator?&quot;);\r\n        System.out.println();\r\n        System.out.println(&quot;[Yes] [No]&quot;);\r\n        System.out.println();\r\n        String yesOrNo;\r\n        yesOrNo = scanner.nextLine();\r\n        if (yesOrNo.equalsIgnoreCase(&quot;Yes&quot;)) {\r\n            System.out.println();\r\n            System.out.println(&quot;[!] Welcome to the Java Gambler! [!]&quot;);\r\n            System.out.println();\r\n            System.out.println(&quot;The only Java gambling software in all of Java County!&quot;);\r\n            System.out.println();\r\n            System.out.println(&quot;If the chosen number is {1}, the player automatically wins $20.&quot;);\r\n            System.out.println(&quot;If the chosen number is {2}, the player automatically wins $10.&quot;);\r\n            System.out.println(&quot;If the chosen number is {3}, the player automatically wins $5.&quot;);\r\n            System.out.println(&quot;All other numbers are an automatic loss.&quot;);\r\n            System.out.println();\r\n            System.out.println(&quot;Continue?&quot;);\r\n            System.out.println();\r\n            System.out.println(&quot;[Yes] [No]&quot;);\r\n            System.out.println();\r\n            String yesOrNo2;\r\n            yesOrNo2 = scanner.nextLine();\r\n            if (yesOrNo2.equalsIgnoreCase(&quot;Yes&quot;)) {\r\n                System.out.println();\r\n                System.out.println(&quot;Gambling Options:&quot;);\r\n                System.out.println();\r\n                System.out.println(&quot;[A] $1 Bet (1/20 $20, 1/20 $10, 1/20 $5)&quot;);\r\n                System.out.println(&quot;[B] $5 Bet (1/10 $20, 1/10 $10, 1/10 $5)&quot;);\r\n                System.out.println(&quot;[C] $10 Bet (1/5 $20, 1/5 $10, 1/5 $5)&quot;);\r\n                System.out.println();\r\n                System.out.println(&quot;Gambling Selection: &quot;);\r\n                System.out.println();\r\n                String continueGambling = &quot;Yes&quot;;\r\n                while (continueGambling.equalsIgnoreCase(&quot;Yes&quot;)) {\r\n                    String gamblingSelection;\r\n                    gamblingSelection = scanner.nextLine();\r\n                    String a = &quot;A&quot;;\r\n                    String b = &quot;B&quot;;\r\n                    String c = &quot;C&quot;;\r\n                    if (gamblingSelection.equalsIgnoreCase(a)) {\r\n                        balance = balance - 1;\r\n                        int aSelection = random.nextInt(20) + 1;\r\n                        System.out.println();\r\n                        System.out.println(&quot;And the number is... &quot; + aSelection);\r\n                        System.out.println();\r\n                        switch (aSelection) {\r\n                            case 1:\r\n                                System.out.println(&quot;Congrats, you have won $20!&quot;);\r\n                                balance = balance + 20;\r\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;Continue?&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;[Yes] [No]&quot;);\r\n                                System.out.println();\r\n                                break;\r\n                            case 2:\r\n                                System.out.println(&quot;Congrats, you have won $10!&quot;);\r\n                                balance = balance + 10;\r\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;Continue?&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;[Yes] [No]&quot;);\r\n                                System.out.println();\r\n                                break;\r\n                            case 3:\r\n                                System.out.println(&quot;Congrats, you have won $5!&quot;);\r\n                                balance = balance + 5;\r\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;Continue?&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;[Yes] [No]&quot;);\r\n                                System.out.println();\r\n                                break;\r\n                            default:\r\n                                System.out.println(&quot;Sorry, no luck this time...&quot;);\r\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;Continue?&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;[Yes] [No]&quot;);\r\n                                System.out.println();\r\n                                break;\r\n                        }\r\n                    }\r\n                    else if (gamblingSelection.equalsIgnoreCase(b)) {\r\n                        balance = balance - 5;\r\n                        int bSelection = random.nextInt(10) + 1;\r\n                        System.out.println();\r\n                        System.out.println(&quot;And the number is... &quot; + bSelection);\r\n                        System.out.println();\r\n                        switch (bSelection) {\r\n                            case 1:\r\n                                System.out.println(&quot;Congrats, you have won $20!&quot;);\r\n                                balance = balance + 20;\r\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;Continue?&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;[Yes] [No]&quot;);\r\n                                System.out.println();\r\n                                break;\r\n                            case 2:\r\n                                System.out.println(&quot;Congrats, you have won $10!&quot;);\r\n                                balance = balance + 10;\r\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;Continue?&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;[Yes] [No]&quot;);\r\n                                System.out.println();\r\n                                break;\r\n                            case 3:\r\n                                System.out.println(&quot;You won $5! Its a free spin, I guess...&quot;);\r\n                                balance = balance + 5;\r\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;Continue?&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;[Yes] [No]&quot;);\r\n                                System.out.println();\r\n                                break;\r\n                            default:\r\n                                System.out.println(&quot;Sorry, no luck this time...&quot;);\r\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;Continue?&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;[Yes] [No]&quot;);\r\n                                System.out.println();\r\n                                break;\r\n                        }\r\n                    }\r\n                    else if (gamblingSelection.equalsIgnoreCase(c)) {\r\n                        balance = balance - 10;\r\n                        int cSelection = random.nextInt(5) + 1;\r\n                        System.out.println();\r\n                        System.out.println(&quot;And the number is... &quot; + cSelection);\r\n                        System.out.println();\r\n                        switch (cSelection) {\r\n                            case 1:\r\n                                System.out.println(&quot;Congrats, you have won $20!&quot;);\r\n                                balance = balance + 20;\r\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;Continue?&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;[Yes] [No]&quot;);\r\n                                System.out.println();\r\n                                break;\r\n                            case 2:\r\n                                System.out.println(&quot;You won $10! Its a free spin, I guess...&quot;);\r\n                                balance = balance + 10;\r\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;Continue?&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;[Yes] [No]&quot;);\r\n                                System.out.println();\r\n                                break;\r\n                            case 3:\r\n                                System.out.println(&quot;You won $5! At least its somethin...&quot;);\r\n                                balance = balance + 5;\r\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;Continue?&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;[Yes] [No]&quot;);\r\n                                System.out.println();\r\n                                break;\r\n                            default:\r\n                                System.out.println(&quot;Sorry, no luck this time...&quot;);\r\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;Continue?&quot;);\r\n                                System.out.println();\r\n                                System.out.println(&quot;[Yes] [No]&quot;);\r\n                                System.out.println();\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n                continueGambling = scanner.nextLine();\r\n            }\r\n            else {\r\n                String wrongValue = &quot;Invalid response. Please try again.&quot;;\r\n                System.out.println(wrongValue);\r\n            }\r\n        }\r\n        else if (yesOrNo.equalsIgnoreCase(&quot;No&quot;)) {\r\n            System.out.println(&quot;You sure are missing out...&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;Invalid response. Please try again.&quot;);\r\n        }\r\n        scanner.close();\r\n    }\r\n}\r\n```\r\nHere is a link to the FULL code on GitHub: https://github.com/OkBrock/Gambler\r\n\r\nI did a loop and made a scanner but every time I type &quot;Yes&quot; nothing happens.\r\n\r\n\r\nSummary:  \r\nI need the player to have the ability to gamble several times with a singular balance.\r\nI have made a loop with a scanner but nothing happens. Check the code to see.","title":"Basic Loop Issue with Java Code - How do I allow a player to gamble multiple times in the terminal?","body":"<p>I just started learning Java a week or two ago and I wanted to create a silly little gambling software within the terminal; however, the player is only able to gamble once even though I would like them to be able to gamble several times.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class Gambler {\n\n    public static void main(String[] args) {\n        Random random = new Random();\n        Scanner scanner = new Scanner(System.in);\n        int balance = 100;\n        System.out.println();\n        System.out.println(&quot;--&gt; Current Balance: $&quot; + balance + &quot; &lt;--&quot;);\n        System.out.println();\n        System.out.println(&quot;Would you like to enter the Java Gambler simulator?&quot;);\n        System.out.println();\n        System.out.println(&quot;[Yes] [No]&quot;);\n        System.out.println();\n        String yesOrNo;\n        yesOrNo = scanner.nextLine();\n        if (yesOrNo.equalsIgnoreCase(&quot;Yes&quot;)) {\n            System.out.println();\n            System.out.println(&quot;[!] Welcome to the Java Gambler! [!]&quot;);\n            System.out.println();\n            System.out.println(&quot;The only Java gambling software in all of Java County!&quot;);\n            System.out.println();\n            System.out.println(&quot;If the chosen number is {1}, the player automatically wins $20.&quot;);\n            System.out.println(&quot;If the chosen number is {2}, the player automatically wins $10.&quot;);\n            System.out.println(&quot;If the chosen number is {3}, the player automatically wins $5.&quot;);\n            System.out.println(&quot;All other numbers are an automatic loss.&quot;);\n            System.out.println();\n            System.out.println(&quot;Continue?&quot;);\n            System.out.println();\n            System.out.println(&quot;[Yes] [No]&quot;);\n            System.out.println();\n            String yesOrNo2;\n            yesOrNo2 = scanner.nextLine();\n            if (yesOrNo2.equalsIgnoreCase(&quot;Yes&quot;)) {\n                System.out.println();\n                System.out.println(&quot;Gambling Options:&quot;);\n                System.out.println();\n                System.out.println(&quot;[A] $1 Bet (1/20 $20, 1/20 $10, 1/20 $5)&quot;);\n                System.out.println(&quot;[B] $5 Bet (1/10 $20, 1/10 $10, 1/10 $5)&quot;);\n                System.out.println(&quot;[C] $10 Bet (1/5 $20, 1/5 $10, 1/5 $5)&quot;);\n                System.out.println();\n                System.out.println(&quot;Gambling Selection: &quot;);\n                System.out.println();\n                String continueGambling = &quot;Yes&quot;;\n                while (continueGambling.equalsIgnoreCase(&quot;Yes&quot;)) {\n                    String gamblingSelection;\n                    gamblingSelection = scanner.nextLine();\n                    String a = &quot;A&quot;;\n                    String b = &quot;B&quot;;\n                    String c = &quot;C&quot;;\n                    if (gamblingSelection.equalsIgnoreCase(a)) {\n                        balance = balance - 1;\n                        int aSelection = random.nextInt(20) + 1;\n                        System.out.println();\n                        System.out.println(&quot;And the number is... &quot; + aSelection);\n                        System.out.println();\n                        switch (aSelection) {\n                            case 1:\n                                System.out.println(&quot;Congrats, you have won $20!&quot;);\n                                balance = balance + 20;\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\n                                System.out.println();\n                                System.out.println(&quot;Continue?&quot;);\n                                System.out.println();\n                                System.out.println(&quot;[Yes] [No]&quot;);\n                                System.out.println();\n                                break;\n                            case 2:\n                                System.out.println(&quot;Congrats, you have won $10!&quot;);\n                                balance = balance + 10;\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\n                                System.out.println();\n                                System.out.println(&quot;Continue?&quot;);\n                                System.out.println();\n                                System.out.println(&quot;[Yes] [No]&quot;);\n                                System.out.println();\n                                break;\n                            case 3:\n                                System.out.println(&quot;Congrats, you have won $5!&quot;);\n                                balance = balance + 5;\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\n                                System.out.println();\n                                System.out.println(&quot;Continue?&quot;);\n                                System.out.println();\n                                System.out.println(&quot;[Yes] [No]&quot;);\n                                System.out.println();\n                                break;\n                            default:\n                                System.out.println(&quot;Sorry, no luck this time...&quot;);\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\n                                System.out.println();\n                                System.out.println(&quot;Continue?&quot;);\n                                System.out.println();\n                                System.out.println(&quot;[Yes] [No]&quot;);\n                                System.out.println();\n                                break;\n                        }\n                    }\n                    else if (gamblingSelection.equalsIgnoreCase(b)) {\n                        balance = balance - 5;\n                        int bSelection = random.nextInt(10) + 1;\n                        System.out.println();\n                        System.out.println(&quot;And the number is... &quot; + bSelection);\n                        System.out.println();\n                        switch (bSelection) {\n                            case 1:\n                                System.out.println(&quot;Congrats, you have won $20!&quot;);\n                                balance = balance + 20;\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\n                                System.out.println();\n                                System.out.println(&quot;Continue?&quot;);\n                                System.out.println();\n                                System.out.println(&quot;[Yes] [No]&quot;);\n                                System.out.println();\n                                break;\n                            case 2:\n                                System.out.println(&quot;Congrats, you have won $10!&quot;);\n                                balance = balance + 10;\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\n                                System.out.println();\n                                System.out.println(&quot;Continue?&quot;);\n                                System.out.println();\n                                System.out.println(&quot;[Yes] [No]&quot;);\n                                System.out.println();\n                                break;\n                            case 3:\n                                System.out.println(&quot;You won $5! Its a free spin, I guess...&quot;);\n                                balance = balance + 5;\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\n                                System.out.println();\n                                System.out.println(&quot;Continue?&quot;);\n                                System.out.println();\n                                System.out.println(&quot;[Yes] [No]&quot;);\n                                System.out.println();\n                                break;\n                            default:\n                                System.out.println(&quot;Sorry, no luck this time...&quot;);\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\n                                System.out.println();\n                                System.out.println(&quot;Continue?&quot;);\n                                System.out.println();\n                                System.out.println(&quot;[Yes] [No]&quot;);\n                                System.out.println();\n                                break;\n                        }\n                    }\n                    else if (gamblingSelection.equalsIgnoreCase(c)) {\n                        balance = balance - 10;\n                        int cSelection = random.nextInt(5) + 1;\n                        System.out.println();\n                        System.out.println(&quot;And the number is... &quot; + cSelection);\n                        System.out.println();\n                        switch (cSelection) {\n                            case 1:\n                                System.out.println(&quot;Congrats, you have won $20!&quot;);\n                                balance = balance + 20;\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\n                                System.out.println();\n                                System.out.println(&quot;Continue?&quot;);\n                                System.out.println();\n                                System.out.println(&quot;[Yes] [No]&quot;);\n                                System.out.println();\n                                break;\n                            case 2:\n                                System.out.println(&quot;You won $10! Its a free spin, I guess...&quot;);\n                                balance = balance + 10;\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\n                                System.out.println();\n                                System.out.println(&quot;Continue?&quot;);\n                                System.out.println();\n                                System.out.println(&quot;[Yes] [No]&quot;);\n                                System.out.println();\n                                break;\n                            case 3:\n                                System.out.println(&quot;You won $5! At least its somethin...&quot;);\n                                balance = balance + 5;\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\n                                System.out.println();\n                                System.out.println(&quot;Continue?&quot;);\n                                System.out.println();\n                                System.out.println(&quot;[Yes] [No]&quot;);\n                                System.out.println();\n                                break;\n                            default:\n                                System.out.println(&quot;Sorry, no luck this time...&quot;);\n                                System.out.println(&quot;--&gt; Your new balance: $&quot; + balance + &quot; &lt;--&quot;);\n                                System.out.println();\n                                System.out.println(&quot;Continue?&quot;);\n                                System.out.println();\n                                System.out.println(&quot;[Yes] [No]&quot;);\n                                System.out.println();\n                                break;\n                        }\n                    }\n                }\n                continueGambling = scanner.nextLine();\n            }\n            else {\n                String wrongValue = &quot;Invalid response. Please try again.&quot;;\n                System.out.println(wrongValue);\n            }\n        }\n        else if (yesOrNo.equalsIgnoreCase(&quot;No&quot;)) {\n            System.out.println(&quot;You sure are missing out...&quot;);\n        }\n        else {\n            System.out.println(&quot;Invalid response. Please try again.&quot;);\n        }\n        scanner.close();\n    }\n}\n</code></pre>\n<p>Here is a link to the FULL code on GitHub: <a href=\"https://github.com/OkBrock/Gambler\" rel=\"nofollow noreferrer\">https://github.com/OkBrock/Gambler</a></p>\n<p>I did a loop and made a scanner but every time I type &quot;Yes&quot; nothing happens.</p>\n<p>Summary:<br />\nI need the player to have the ability to gamble several times with a singular balance.\nI have made a loop with a scanner but nothing happens. Check the code to see.</p>\n"},{"tags":["java","maven","intellij-idea","adoptopenjdk","java-19"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":2,"creation_date":1678394061,"post_id":75689637,"comment_id":133528841,"body_markdown":"Change IDE Project JDK to 20, you are using JDK 11 which cannot target level 20. Also do the same for Maven JDK: https://i.imgur.com/SbuV0a9.png.","body":"Change IDE Project JDK to 20, you are using JDK 11 which cannot target level 20. Also do the same for Maven JDK: <a href=\"https://i.imgur.com/SbuV0a9.png\" rel=\"nofollow noreferrer\">i.imgur.com/SbuV0a9.png</a>."},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":1,"creation_date":1679419240,"post_id":75689637,"comment_id":133717647,"body_markdown":"off topic: please replace the source and target properties with `maven.compiler.release` to ensure code is compatible when it is being built with a newer JDK.","body":"off topic: please replace the source and target properties with <code>maven.compiler.release</code> to ensure code is compatible when it is being built with a newer JDK."},{"owner":{"account_id":2874397,"reputation":482,"user_id":6646109,"accept_rate":94,"display_name":"raz"},"score":0,"creation_date":1687103918,"post_id":75689637,"comment_id":134887151,"body_markdown":"For me doing, &quot;File-&gt;Project Structure-&gt;Project-&gt;Language Level&quot; Then selecting the right version fixed the problem.","body":"For me doing, &quot;File-&gt;Project Structure-&gt;Project-&gt;Language Level&quot; Then selecting the right version fixed the problem."}],"answers":[{"tags":[],"owner":{"account_id":27978036,"reputation":21,"user_id":21366363,"display_name":"Saco MongoDB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678395568,"creation_date":1678395568,"answer_id":75689986,"question_id":75689637,"body_markdown":"I would recommend using 15 above, i personally use 17version by amazon correto and that switch feature is available.\r\nits up to what new java features you want to use.\r\n\r\nhowever if you want to use the 20 version you had to set the sdk/jdk,language level to 20\r\n\r\n**like this:**\r\n\r\nhttps://i.stack.imgur.com/SBena.png\r\n\r\nhttps://i.stack.imgur.com/TbyJh.png\r\n\r\nhttps://i.stack.imgur.com/BAAQJ.png\r\n\r\nhttps://i.stack.imgur.com/4tJmI.png\r\n\r\nyou might be missing those points.","title":"Idea Intellij: Error:java: error: release version 20 not supported, maven.compiler.target in pom.xml","body":"<p>I would recommend using 15 above, i personally use 17version by amazon correto and that switch feature is available.\nits up to what new java features you want to use.</p>\n<p>however if you want to use the 20 version you had to set the sdk/jdk,language level to 20</p>\n<p><strong>like this:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/SBena.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/SBena.png</a></p>\n<p><a href=\"https://i.stack.imgur.com/TbyJh.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/TbyJh.png</a></p>\n<p><a href=\"https://i.stack.imgur.com/BAAQJ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/BAAQJ.png</a></p>\n<p><a href=\"https://i.stack.imgur.com/4tJmI.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/4tJmI.png</a></p>\n<p>you might be missing those points.</p>\n"},{"tags":[],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679099399,"creation_date":1679099399,"answer_id":75773195,"question_id":75689637,"body_markdown":"I think my problem was connected to this:\r\n\r\nhttps://stackoverflow.com/questions/57490341/intellij-insists-on-compiling-with-javac-11-0-3-instead-of-java-7\r\n\r\n    IntelliJ IDEA checks all JDKs that are used in the project: the JDKs that are defined on both the project and module levels.\r\n    \r\n    IntelliJ IDEA calculates the latest of these JDKs. This is necessary to make sure that all modules can be compiled.\r\n    \r\n    If the version of the latest JDK configured is lower than 1.6, IntelliJ IDEA will pick the JDK version that is used for running the IDE. This limitation is related to the fact that the compiler API used by IntelliJ IDEA for building projects is supported starting from JDK 1.6.\r\n\r\nI had \r\n```\r\nInformation:javac 11 was used to compile java sources\r\n```\r\nmessage before the actual error message.\r\n\r\nSo I think despite all the correct settings of JDK, Idea Intellij just insisted on using JDK 11 to compile and there was nothing that could be done about it. \r\n\r\nI ended up just downloading the latest Intellij version and now it works fine","title":"Idea Intellij: Error:java: error: release version 20 not supported, maven.compiler.target in pom.xml","body":"<p>I think my problem was connected to this:</p>\n<p><a href=\"https://stackoverflow.com/questions/57490341/intellij-insists-on-compiling-with-javac-11-0-3-instead-of-java-7\">Intellij insists on compiling with javac 11.0.3 instead of Java 7</a></p>\n<pre><code>IntelliJ IDEA checks all JDKs that are used in the project: the JDKs that are defined on both the project and module levels.\n\nIntelliJ IDEA calculates the latest of these JDKs. This is necessary to make sure that all modules can be compiled.\n\nIf the version of the latest JDK configured is lower than 1.6, IntelliJ IDEA will pick the JDK version that is used for running the IDE. This limitation is related to the fact that the compiler API used by IntelliJ IDEA for building projects is supported starting from JDK 1.6.\n</code></pre>\n<p>I had</p>\n<pre><code>Information:javac 11 was used to compile java sources\n</code></pre>\n<p>message before the actual error message.</p>\n<p>So I think despite all the correct settings of JDK, Idea Intellij just insisted on using JDK 11 to compile and there was nothing that could be done about it.</p>\n<p>I ended up just downloading the latest Intellij version and now it works fine</p>\n"},{"tags":[],"owner":{"account_id":17074189,"reputation":163,"user_id":12354182,"display_name":"cherish sham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679283052,"creation_date":1679283052,"answer_id":75786380,"question_id":75689637,"body_markdown":"In Project settings you need to set\r\nProject SDK to 20\r\nand project language level to 20","title":"Idea Intellij: Error:java: error: release version 20 not supported, maven.compiler.target in pom.xml","body":"<p>In Project settings you need to set\nProject SDK to 20\nand project language level to 20</p>\n"},{"tags":[],"owner":{"account_id":3720966,"reputation":41,"user_id":5082941,"display_name":"Bladimir Jimenez"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679671983,"creation_date":1679671983,"answer_id":75835558,"question_id":75689637,"body_markdown":"You don&#39;t need to have Java 20 to use the `enhanced switch blocks` java 17 has it too. And you are building it in java 11, and compiling in java 20, which is the reason you are getting that error.\r\n\r\nGeneraly you need to add java 20 to your project in the screenshot `file -&gt; Project Structure -&gt; project` to use the libraries of java 20 that are compilable in java 20.\r\n\r\nI hope that makes sense.","title":"Idea Intellij: Error:java: error: release version 20 not supported, maven.compiler.target in pom.xml","body":"<p>You don't need to have Java 20 to use the <code>enhanced switch blocks</code> java 17 has it too. And you are building it in java 11, and compiling in java 20, which is the reason you are getting that error.</p>\n<p>Generaly you need to add java 20 to your project in the screenshot <code>file -&gt; Project Structure -&gt; project</code> to use the libraries of java 20 that are compilable in java 20.</p>\n<p>I hope that makes sense.</p>\n"},{"tags":[],"owner":{"account_id":5852103,"reputation":3,"user_id":4610501,"display_name":"de bois Michiel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684858182,"creation_date":1684858182,"answer_id":76316742,"question_id":75689637,"body_markdown":"I got the same problem when I change jdk from jdk11 to GrealVM-java11 in intellij and I solve this problem by \r\nChanging JDK_X to JDK_11 in .idea/misc.xml.\r\n\r\nSee also https://youtrack.jetbrains.com/issue/IDEA-240068 .\r\n\r\n","title":"Idea Intellij: Error:java: error: release version 20 not supported, maven.compiler.target in pom.xml","body":"<p>I got the same problem when I change jdk from jdk11 to GrealVM-java11 in intellij and I solve this problem by\nChanging JDK_X to JDK_11 in .idea/misc.xml.</p>\n<p>See also <a href=\"https://youtrack.jetbrains.com/issue/IDEA-240068\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-240068</a> .</p>\n"}],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20241,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75773195,"answer_count":5,"score":5,"last_activity_date":1684858182,"creation_date":1678393127,"question_id":75689637,"body_markdown":"I have a `Idea Intellij` project like this:\r\n\r\n**Test.java**:\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Test&quot;);\r\n    }\r\n}\r\n```\r\n**pom.xml**:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;test&lt;/groupId&gt;\r\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n     \r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**Idea Intellij**\r\n```\r\nFile -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler\r\n```\r\n[![enter image description here][1]][1] \r\n\r\n```\r\nFile -&gt; Project Structure -&gt; Project\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\n ```\r\nFile -&gt; Project Structure -&gt; Modules -&gt; Sources\r\n```\r\n[![enter image description here][3]][3]\r\n```\r\nFile -&gt; Project Structure -&gt; Modules -&gt; Dependencies\r\n```\r\n[![enter image description here][4]][4]\r\n\r\nWhen trying to run `Test.java` I get an error:\r\n\r\n```\r\nError:java: error: release version 20 not supported\r\n```\r\n[![enter image description here][5]][5]\r\n\r\nI use Ubuntu. When I type `java --version` in the terminal, I get:\r\n\r\n```\r\nopenjdk 20 2023-03-21\r\nOpenJDK Runtime Environment (build 20+36-2344)\r\nOpenJDK 64-Bit Server VM (build 20+36-2344, mixed mode, sharing)\r\n```\r\n\r\nI&#39;m not sure how I can make Intellij use Java 20 \r\n\r\nWhen I use \r\n```\r\n   &lt;properties&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;/properties&gt;\r\n```\r\nthe code runs fine. However I want a newer Java to be used, so that features like `enhanced switch blocks`:\r\n\r\n```\r\nswitch (value)  {\r\n case 1 -&gt; {}\r\n}\r\n```\r\n\r\nare available\r\n\r\n  [1]: https://i.stack.imgur.com/64YmG.png\r\n  [2]: https://i.stack.imgur.com/UykIK.png\r\n  [3]: https://i.stack.imgur.com/21OQy.png\r\n  [4]: https://i.stack.imgur.com/CymXg.png\r\n  [5]: https://i.stack.imgur.com/ZQ83T.png","title":"Idea Intellij: Error:java: error: release version 20 not supported, maven.compiler.target in pom.xml","body":"<p>I have a <code>Idea Intellij</code> project like this:</p>\n<p><strong>Test.java</strong>:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        System.out.println(&quot;Test&quot;);\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;test&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n     \n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Idea Intellij</strong></p>\n<pre><code>File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/64YmG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/64YmG.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>File -&gt; Project Structure -&gt; Project\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UykIK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UykIK.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>File -&gt; Project Structure -&gt; Modules -&gt; Sources\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/21OQy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/21OQy.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>File -&gt; Project Structure -&gt; Modules -&gt; Dependencies\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CymXg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CymXg.png\" alt=\"enter image description here\" /></a></p>\n<p>When trying to run <code>Test.java</code> I get an error:</p>\n<pre><code>Error:java: error: release version 20 not supported\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZQ83T.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZQ83T.png\" alt=\"enter image description here\" /></a></p>\n<p>I use Ubuntu. When I type <code>java --version</code> in the terminal, I get:</p>\n<pre><code>openjdk 20 2023-03-21\nOpenJDK Runtime Environment (build 20+36-2344)\nOpenJDK 64-Bit Server VM (build 20+36-2344, mixed mode, sharing)\n</code></pre>\n<p>I'm not sure how I can make Intellij use Java 20</p>\n<p>When I use</p>\n<pre><code>   &lt;properties&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>the code runs fine. However I want a newer Java to be used, so that features like <code>enhanced switch blocks</code>:</p>\n<pre><code>switch (value)  {\n case 1 -&gt; {}\n}\n</code></pre>\n<p>are available</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":2879629,"reputation":23886,"user_id":2470818,"accept_rate":82,"display_name":"vallentin"},"score":0,"creation_date":1382001022,"post_id":19422366,"comment_id":28793097,"body_markdown":"Which exception does it throw? could you please provide the stack trace.","body":"Which exception does it throw? could you please provide the stack trace."},{"owner":{"account_id":370103,"reputation":11696,"user_id":717839,"accept_rate":81,"display_name":"Caballero"},"score":0,"creation_date":1382001331,"post_id":19422366,"comment_id":28793241,"body_markdown":"@Vallentin this is just one method out of dozens on the application. This is not about one specific exception, I need to handle all possible uncaught exceptions.","body":"@Vallentin this is just one method out of dozens on the application. This is not about one specific exception, I need to handle all possible uncaught exceptions."},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":1,"creation_date":1382002383,"post_id":19422366,"comment_id":28793937,"body_markdown":"What is your higher-level goal here? What do you want to happen when there is an uncaught exception? Why do you want this? I suspect there may be a better way to do this.","body":"What is your higher-level goal here? What do you want to happen when there is an uncaught exception? Why do you want this? I suspect there may be a better way to do this."},{"owner":{"account_id":370103,"reputation":11696,"user_id":717839,"accept_rate":81,"display_name":"Caballero"},"score":0,"creation_date":1382002983,"post_id":19422366,"comment_id":28794299,"body_markdown":"@TomAnderson this question explains why I want this: http://stackoverflow.com/questions/19401904/java-error-log-output-ubuntu","body":"@TomAnderson this question explains why I want this: <a href=\"http://stackoverflow.com/questions/19401904/java-error-log-output-ubuntu\" title=\"java error log output ubuntu\">stackoverflow.com/questions/19401904/&hellip;</a>"},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1382011978,"post_id":19422366,"comment_id":28799561,"body_markdown":"@Caballero: Aha. Normally, i would recommend that you don&#39;t try to trap uncaught exceptions in Java, but instead let the java process crash, and capture the output at the higher level. But it seems like that is precisely the problem you are trying to work around!","body":"@Caballero: Aha. Normally, i would recommend that you don&#39;t try to trap uncaught exceptions in Java, but instead let the java process crash, and capture the output at the higher level. But it seems like that is precisely the problem you are trying to work around!"},{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":0,"creation_date":1445865143,"post_id":19422366,"comment_id":54488588,"body_markdown":"And to make it available to all threads, use the `ThreadGroup` of your thread, as answered here : http://stackoverflow.com/questions/33344294/java-uncaught-global-exception-handler-for-all-threads/33344392#33344392","body":"And to make it available to all threads, use the <code>ThreadGroup</code> of your thread, as answered here : <a href=\"http://stackoverflow.com/questions/33344294/java-uncaught-global-exception-handler-for-all-threads/33344392#33344392\" title=\"java uncaught global exception handler for all threads\">stackoverflow.com/questions/33344294/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":133140,"reputation":8968,"user_id":334279,"accept_rate":31,"display_name":"RamonBoza"},"down_vote_count":1,"up_vote_count":35,"is_accepted":true,"score":34,"last_activity_date":1382001768,"creation_date":1382001069,"answer_id":19422503,"question_id":19422366,"body_markdown":"You can set UncaughtExceptionHandler for the thread controlling the code above:\r\n\r\n    // t is the parent code thread\r\n    t.setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() {\r\n\r\n        public void uncaughtException(Thread t, Throwable e) {\r\n           LOGGER.error(t + &quot; throws exception: &quot; + e);\r\n        }\r\n     });\r\n\r\n\r\nJava docs for [UncaughtExceptionHandler][1] -\r\n\r\n&gt; When a thread is about to terminate due to an uncaught exception the\r\n&gt; Java Virtual  Machine will query the thread for its\r\n&gt; UncaughtExceptionHandler using  Thread.getUncaughtExceptionHandler()\r\n&gt; and will invoke the handler&#39;s uncaughtException  method, passing the\r\n&gt; thread and the exception as arguments\r\n\r\nthe setUncaughtExceptionHandler is commonly used to free memory or kill threads that the system will not be able to kill, and perhaps, remain zombie.\r\n\r\n\r\nA real example:\r\n\r\n    Thread t = new Thread(new MyRunnable());\r\n    t.setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() {\r\n\r\n        public void uncaughtException(Thread t, Throwable e) {\r\n           LOGGER.error(t + &quot; throws exception: &quot; + e);\r\n        }\r\n    });\r\n    t.start();\r\n\r\n    //outside that class\r\n    class MyRunnable implements Runnable(){\r\n        public void run(){\r\n            throw new RuntimeException(&quot;hey you!&quot;);\r\n        }\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.UncaughtExceptionHandler.html","title":"Java uncaught global exception handler","body":"<p>You can set UncaughtExceptionHandler for the thread controlling the code above:</p>\n\n<pre><code>// t is the parent code thread\nt.setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() {\n\n    public void uncaughtException(Thread t, Throwable e) {\n       LOGGER.error(t + \" throws exception: \" + e);\n    }\n });\n</code></pre>\n\n<p>Java docs for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.UncaughtExceptionHandler.html\">UncaughtExceptionHandler</a> -</p>\n\n<blockquote>\n  <p>When a thread is about to terminate due to an uncaught exception the\n  Java Virtual  Machine will query the thread for its\n  UncaughtExceptionHandler using  Thread.getUncaughtExceptionHandler()\n  and will invoke the handler's uncaughtException  method, passing the\n  thread and the exception as arguments</p>\n</blockquote>\n\n<p>the setUncaughtExceptionHandler is commonly used to free memory or kill threads that the system will not be able to kill, and perhaps, remain zombie.</p>\n\n<p>A real example:</p>\n\n<pre><code>Thread t = new Thread(new MyRunnable());\nt.setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() {\n\n    public void uncaughtException(Thread t, Throwable e) {\n       LOGGER.error(t + \" throws exception: \" + e);\n    }\n});\nt.start();\n\n//outside that class\nclass MyRunnable implements Runnable(){\n    public void run(){\n        throw new RuntimeException(\"hey you!\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3328940,"reputation":13909,"user_id":2798291,"accept_rate":53,"display_name":"TwoThe"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1382001087,"creation_date":1382001087,"answer_id":19422513,"question_id":19422366,"body_markdown":"You can try [setting your own uncaught Exception handler][1], however I strongly advise against it. If your application has parts that can potentially break and if that exception is then not properly handled at the location _where_ your code breaks, your entire program will malfunction frequently.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html#setDefaultUncaughtExceptionHandler%28java.lang.Thread.UncaughtExceptionHandler%29","title":"Java uncaught global exception handler","body":"<p>You can try <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html#setDefaultUncaughtExceptionHandler%28java.lang.Thread.UncaughtExceptionHandler%29\" rel=\"nofollow\">setting your own uncaught Exception handler</a>, however I strongly advise against it. If your application has parts that can potentially break and if that exception is then not properly handled at the location <em>where</em> your code breaks, your entire program will malfunction frequently.</p>\n"},{"tags":[],"owner":{"account_id":448055,"reputation":1447,"user_id":842056,"accept_rate":62,"display_name":"Sachin Gorade"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1382003022,"creation_date":1382003022,"answer_id":19423233,"question_id":19422366,"body_markdown":"You can use [UncaughtExceptionHandler][1] to handle the exception those causes a thread to terminate abruptly.\r\nJava doc for UncaughtExceptionHandler -\r\n\r\n&gt; Interface for handlers invoked when a Thread abruptly terminates due\r\n&gt; to an uncaught exception. When a thread is about to terminate due to an uncaught exception the Java Virtual Machine will query the thread for its UncaughtExceptionHandler using Thread.getUncaughtExceptionHandler() and will invoke the handler&#39;s uncaughtException method, passing the thread and the exception as arguments\r\n\r\nYou need to implement this interface and set your implementation of UncaughtExceptionHandler for a thread by using method setUncaughtExceptionHandler.\r\nThere are two ways you can do this -\r\n\r\n 1. setUncaughtExceptionHandler\r\n 2. setDefaultUncaughtExceptionHandler\r\n\r\n1) setUncaughtExceptionHandler - This will be a thread specific exception handler. So in case this thread gets terminated by some unhandled exception, this handler will be used.\r\n\r\n2) setDefaultUncaughtExceptionHandler - This will be a default exception handler in case there is no specific uncaught exception handler for a thread.\r\n\r\n\r\nExample -\r\n\r\n    class MyExceptionHandler implements UncaughtExceptionHandler{\r\n    \t@Override\r\n    \tpublic void uncaughtException(Thread arg0, Throwable arg1) {\r\n    \t\tSystem.out.println(&quot;[DEFAULT EXCEPTION HANDLER] Caught some exception&quot;);\r\n    \t}\r\n    }\r\n    \r\n    class MyThread extends Thread{\r\n    \tpublic MyThread() {\r\n    \t\tsetUncaughtExceptionHandler(new UncaughtExceptionHandler() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void uncaughtException(Thread t, Throwable e) {\r\n    \t\t\t\tSystem.out.println(&quot;[THREAD SPECIFIC] My exception handler&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \tpublic void run(){\r\n    \t\tthrow new RuntimeException();\r\n    \t}\r\n    }\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tThread.setDefaultUncaughtExceptionHandler(new MyExceptionHandler());\r\n    \t\tnew MyThread().start();\r\n    \t\t// current thread does not have a thread specific exception handler\r\n    \t\tthrow new RuntimeException();\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.UncaughtExceptionHandler.html","title":"Java uncaught global exception handler","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.UncaughtExceptionHandler.html\" rel=\"noreferrer\">UncaughtExceptionHandler</a> to handle the exception those causes a thread to terminate abruptly.\nJava doc for UncaughtExceptionHandler -</p>\n\n<blockquote>\n  <p>Interface for handlers invoked when a Thread abruptly terminates due\n  to an uncaught exception. When a thread is about to terminate due to an uncaught exception the Java Virtual Machine will query the thread for its UncaughtExceptionHandler using Thread.getUncaughtExceptionHandler() and will invoke the handler's uncaughtException method, passing the thread and the exception as arguments</p>\n</blockquote>\n\n<p>You need to implement this interface and set your implementation of UncaughtExceptionHandler for a thread by using method setUncaughtExceptionHandler.\nThere are two ways you can do this -</p>\n\n<ol>\n<li>setUncaughtExceptionHandler</li>\n<li>setDefaultUncaughtExceptionHandler</li>\n</ol>\n\n<p>1) setUncaughtExceptionHandler - This will be a thread specific exception handler. So in case this thread gets terminated by some unhandled exception, this handler will be used.</p>\n\n<p>2) setDefaultUncaughtExceptionHandler - This will be a default exception handler in case there is no specific uncaught exception handler for a thread.</p>\n\n<p>Example -</p>\n\n<pre><code>class MyExceptionHandler implements UncaughtExceptionHandler{\n    @Override\n    public void uncaughtException(Thread arg0, Throwable arg1) {\n        System.out.println(\"[DEFAULT EXCEPTION HANDLER] Caught some exception\");\n    }\n}\n\nclass MyThread extends Thread{\n    public MyThread() {\n        setUncaughtExceptionHandler(new UncaughtExceptionHandler() {\n            @Override\n            public void uncaughtException(Thread t, Throwable e) {\n                System.out.println(\"[THREAD SPECIFIC] My exception handler\");\n            }\n        });\n    }\n    public void run(){\n        throw new RuntimeException();\n    }\n}\n\npublic class Test {\n\n    public static void main(String[] args) {\n        Thread.setDefaultUncaughtExceptionHandler(new MyExceptionHandler());\n        new MyThread().start();\n        // current thread does not have a thread specific exception handler\n        throw new RuntimeException();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684858148,"creation_date":1684858148,"answer_id":76316737,"question_id":19422366,"body_markdown":"Main.java\r\n\r\n    import static org.app.DefaultUncaughtExceptionHandler.registerDefaultUncaughtExceptionHandler;\r\n\r\n    static {\r\n        registerDefaultUncaughtExceptionHandler();\r\n    }\r\n\r\nDefaultUncaughtExceptionHandler.java\r\n\r\n    import java.lang.Thread.UncaughtExceptionHandler;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    /**\r\n     * @see ThreadGroup#uncaughtException(Thread, Throwable)\r\n     */\r\n    public class DefaultUncaughtExceptionHandler implements UncaughtExceptionHandler {\r\n    \r\n        private static final Logger logger = LoggerFactory.getLogger(DefaultUncaughtExceptionHandler.class);\r\n        private static final UncaughtExceptionHandler parent;\r\n        private static final DefaultUncaughtExceptionHandler instance;\r\n    \r\n        static {\r\n            parent = Thread.getDefaultUncaughtExceptionHandler();\r\n            instance = new DefaultUncaughtExceptionHandler();\r\n            Thread.setDefaultUncaughtExceptionHandler(instance);\r\n        }\r\n    \r\n        public static final void registerDefaultUncaughtExceptionHandler() {\r\n            // registered\r\n        }\r\n    \r\n        @Override\r\n        public void uncaughtException(Thread t, Throwable e) {\r\n            if (!(e instanceof ThreadDeath))\r\n                logger.error(&quot;Exception in thread \\&quot;&quot; + t.getName() + &quot;\\&quot; &quot;, e);\r\n            if (parent != null)\r\n                parent.uncaughtException(t, e);\r\n        }\r\n    }\r\n","title":"Java uncaught global exception handler","body":"<p>Main.java</p>\n<pre><code>import static org.app.DefaultUncaughtExceptionHandler.registerDefaultUncaughtExceptionHandler;\n\nstatic {\n    registerDefaultUncaughtExceptionHandler();\n}\n</code></pre>\n<p>DefaultUncaughtExceptionHandler.java</p>\n<pre><code>import java.lang.Thread.UncaughtExceptionHandler;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n/**\n * @see ThreadGroup#uncaughtException(Thread, Throwable)\n */\npublic class DefaultUncaughtExceptionHandler implements UncaughtExceptionHandler {\n\n    private static final Logger logger = LoggerFactory.getLogger(DefaultUncaughtExceptionHandler.class);\n    private static final UncaughtExceptionHandler parent;\n    private static final DefaultUncaughtExceptionHandler instance;\n\n    static {\n        parent = Thread.getDefaultUncaughtExceptionHandler();\n        instance = new DefaultUncaughtExceptionHandler();\n        Thread.setDefaultUncaughtExceptionHandler(instance);\n    }\n\n    public static final void registerDefaultUncaughtExceptionHandler() {\n        // registered\n    }\n\n    @Override\n    public void uncaughtException(Thread t, Throwable e) {\n        if (!(e instanceof ThreadDeath))\n            logger.error(&quot;Exception in thread \\&quot;&quot; + t.getName() + &quot;\\&quot; &quot;, e);\n        if (parent != null)\n            parent.uncaughtException(t, e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":370103,"reputation":11696,"user_id":717839,"accept_rate":81,"display_name":"Caballero"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45315,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":19422503,"answer_count":4,"score":35,"last_activity_date":1684858148,"creation_date":1382000715,"question_id":19422366,"body_markdown":"I have an application and need to code a custom global uncaught exception handler. I&#39;ve read all the stackoverflow threads and each one of them is just missing a clear and simple example of how this is to be implemented.\r\n\r\nConsider this simple following example:\r\n\r\n\tpublic static void log(String msg) throws Exception {\r\n\t\t\r\n\t\tString logPath = &quot;/application/logs/java.log&quot;;\r\n\t\t\r\n\t    Calendar c = new GregorianCalendar();\r\n\t    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t    String now = format.format(c.getTime());\r\n\t\t\r\n\t    PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(logPath, true)));\r\n\t    out.println(now + &quot;  &quot; + msg);\r\n\t    out.close();\r\n    \t\r\n\t}\r\n\r\nIt throws a standard exception which is just a standard output. How do I implement my own exception which overrides the standard one by something simple as outputing the error into a log file? Obviously the actual application is much larger and we&#39;re talking about uncaught exceptions, which is why try/catch blocks is not the option.\r\n\r\n**UPDATE:** If you could please answer with a very clear full example, because I found dozens of examples like the one @RamonBoza provided, yet I have no idea how to implement them, which is what this question is all about.\r\n\r\n**UPDATE2:** So I&#39;ve tried to test the only example in the answer below, it obviously doesn&#39;t work. I&#39;ve created a new class file &quot;MyRunnable&quot; and pasted the code in it:\r\n\r\n\r\n    package mypackage;\r\n    \r\n    Thread t = new Thread(new MyRunnable());\r\n    t.setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() {\r\n    \r\n        public void uncaughtException(Thread t, Throwable e) {\r\n           LOGGER.error(t + &quot; throws exception: &quot; + e);\r\n        }\r\n    });\r\n    t.start();\r\n    \r\n    //outside that class\r\n    class MyRunnable implements Runnable(){\r\n        public void run(){\r\n            throw new RuntimeException(&quot;hey you!&quot;);\r\n        }\r\n    }\r\n\r\nNeedless to say I get a bunch of errors with this. How can something be outside of class anyway?\r\n\r\n**UPDATE3:** This is the solution that finally works:\r\n\r\n\tpackage mypackage;\r\n\r\n\tpublic class MyClass {\r\n\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\r\n\t\t\tThread.currentThread().setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() { \r\n\t\t\t\tpublic void uncaughtException(Thread t, Throwable e) { \r\n\t\t\t\t\tStringWriter sw = new StringWriter();\r\n\t\t\t\t\te.printStackTrace(new PrintWriter(sw));\r\n\t\t\t\t\tString stacktrace = sw.toString();\r\n\t\t\t\t\tSystem.out.println(stacktrace);\r\n\t\t\t\t}\r\n\t\t\t});\t\t\r\n\t\t\t\r\n\t\t\t//main method code\r\n\r\n\t\t}\r\n\r\n\t\t//Rest of the methods here\r\n\r\n\t}","title":"Java uncaught global exception handler","body":"<p>I have an application and need to code a custom global uncaught exception handler. I've read all the stackoverflow threads and each one of them is just missing a clear and simple example of how this is to be implemented.</p>\n\n<p>Consider this simple following example:</p>\n\n<pre><code>public static void log(String msg) throws Exception {\n\n    String logPath = \"/application/logs/java.log\";\n\n    Calendar c = new GregorianCalendar();\n    SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n    String now = format.format(c.getTime());\n\n    PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(logPath, true)));\n    out.println(now + \"  \" + msg);\n    out.close();\n\n}\n</code></pre>\n\n<p>It throws a standard exception which is just a standard output. How do I implement my own exception which overrides the standard one by something simple as outputing the error into a log file? Obviously the actual application is much larger and we're talking about uncaught exceptions, which is why try/catch blocks is not the option.</p>\n\n<p><strong>UPDATE:</strong> If you could please answer with a very clear full example, because I found dozens of examples like the one @RamonBoza provided, yet I have no idea how to implement them, which is what this question is all about.</p>\n\n<p><strong>UPDATE2:</strong> So I've tried to test the only example in the answer below, it obviously doesn't work. I've created a new class file \"MyRunnable\" and pasted the code in it:</p>\n\n<pre><code>package mypackage;\n\nThread t = new Thread(new MyRunnable());\nt.setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() {\n\n    public void uncaughtException(Thread t, Throwable e) {\n       LOGGER.error(t + \" throws exception: \" + e);\n    }\n});\nt.start();\n\n//outside that class\nclass MyRunnable implements Runnable(){\n    public void run(){\n        throw new RuntimeException(\"hey you!\");\n    }\n}\n</code></pre>\n\n<p>Needless to say I get a bunch of errors with this. How can something be outside of class anyway?</p>\n\n<p><strong>UPDATE3:</strong> This is the solution that finally works:</p>\n\n<pre><code>package mypackage;\n\npublic class MyClass {\n\n    public static void main(String[] args) throws Exception {\n\n        Thread.currentThread().setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() { \n            public void uncaughtException(Thread t, Throwable e) { \n                StringWriter sw = new StringWriter();\n                e.printStackTrace(new PrintWriter(sw));\n                String stacktrace = sw.toString();\n                System.out.println(stacktrace);\n            }\n        });     \n\n        //main method code\n\n    }\n\n    //Rest of the methods here\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","package"],"answers":[{"tags":[],"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495387041,"creation_date":1495385085,"answer_id":44099345,"question_id":44098899,"body_markdown":"How about this command:\r\n    \r\n    # which jar file you need analyzing\r\n    export JAR_FILE=&quot;...&quot;;\r\n    # export CLASSPATH environment for compiling purpose\r\n    export CLASSPATH=&quot;...&quot;;\r\n    \r\n    javac -verbose *.java 2&gt;&amp;1 \\\r\n         | grep -E &quot;^\\[loading&quot; \\\r\n         | grep $JAR_FILE \\\r\n         | grep -Eo &quot;\\((.*?)\\)&quot;;\r\n\r\n## Example\r\n\r\ncompiling `Main.java`: \r\n\r\n    public class Main {\r\n       public static void main(String[] args) {\r\n          org.joda.time.DateTime dateTime = new org.joda.time.DateTime();\r\n       }\r\n    }\r\n\r\nwith commands below:\r\n\r\n    export JAR_FILE=&quot;joda-time-2.9.9.jar&quot;;\r\n    export CLASSPATH=&quot;joda-time-2.9.9.jar&quot;;\r\n    javac -verbose *.java 2&gt;&amp;1 \\\r\n         | grep -E &quot;^\\[loading&quot; \\\r\n         | grep $JAR_FILE \\\r\n         | grep -Eo &quot;\\((.*?)\\)&quot;;\r\n\r\nwill outputs the classes that used in `joda.jar` only:\r\n\r\n&gt; (org/joda/time/DateTime.class)\r\n ","title":"Find classes which are used during compilation in eclipse","body":"<p>How about this command:</p>\n\n<pre><code># which jar file you need analyzing\nexport JAR_FILE=\"...\";\n# export CLASSPATH environment for compiling purpose\nexport CLASSPATH=\"...\";\n\njavac -verbose *.java 2&gt;&amp;1 \\\n     | grep -E \"^\\[loading\" \\\n     | grep $JAR_FILE \\\n     | grep -Eo \"\\((.*?)\\)\";\n</code></pre>\n\n<h2>Example</h2>\n\n<p>compiling <code>Main.java</code>: </p>\n\n<pre><code>public class Main {\n   public static void main(String[] args) {\n      org.joda.time.DateTime dateTime = new org.joda.time.DateTime();\n   }\n}\n</code></pre>\n\n<p>with commands below:</p>\n\n<pre><code>export JAR_FILE=\"joda-time-2.9.9.jar\";\nexport CLASSPATH=\"joda-time-2.9.9.jar\";\njavac -verbose *.java 2&gt;&amp;1 \\\n     | grep -E \"^\\[loading\" \\\n     | grep $JAR_FILE \\\n     | grep -Eo \"\\((.*?)\\)\";\n</code></pre>\n\n<p>will outputs the classes that used in <code>joda.jar</code> only:</p>\n\n<blockquote>\n  <p>(org/joda/time/DateTime.class)</p>\n</blockquote>\n"}],"owner":{"account_id":7499769,"reputation":2018,"user_id":5698626,"accept_rate":82,"display_name":"PlsWork"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684857739,"creation_date":1495382254,"question_id":44098899,"body_markdown":"I have a package x which contains about 30 classes. The program I am compiling uses 5 classes from package x. How to find the 5 classes which are used during my current compilation at a glance?\r\n\r\nMy current approach is to inspect the code and see which classes are used/instantiated, this is tedious and slow as I have to manually go through the code. Is there a better approach to find all classes which are used during my current compilation?\r\n\r\nI want to press a button and see all classes which are required for the compilation of my program.","title":"Find classes which are used during compilation in eclipse","body":"<p>I have a package x which contains about 30 classes. The program I am compiling uses 5 classes from package x. How to find the 5 classes which are used during my current compilation at a glance?</p>\n\n<p>My current approach is to inspect the code and see which classes are used/instantiated, this is tedious and slow as I have to manually go through the code. Is there a better approach to find all classes which are used during my current compilation?</p>\n\n<p>I want to press a button and see all classes which are required for the compilation of my program.</p>\n"},{"tags":["java","arrays","grid","java.util.scanner","variable-assignment"],"comments":[{"owner":{"account_id":17681517,"reputation":13,"user_id":12835311,"display_name":"Jock"},"score":0,"creation_date":1684711596,"post_id":76302314,"comment_id":134552496,"body_markdown":"I just noticed that some part of the text as well as input got into the code area, I apolagize its been a long time since I did this ^^.","body":"I just noticed that some part of the text as well as input got into the code area, I apolagize its been a long time since I did this ^^."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1684711705,"post_id":76302314,"comment_id":134552507,"body_markdown":"Why don&#39;t your sprinkle some print statements in key locations to see what is going on?","body":"Why don&#39;t your sprinkle some print statements in key locations to see what is going on?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1684711806,"post_id":76302314,"comment_id":134552514,"body_markdown":"Does it work with smaller dimensions?","body":"Does it work with smaller dimensions?"},{"owner":{"account_id":17681517,"reputation":13,"user_id":12835311,"display_name":"Jock"},"score":0,"creation_date":1684712089,"post_id":76302314,"comment_id":134552539,"body_markdown":"I just did and I can see that it is doing what I want it to but its just very slow. Am I missing something?","body":"I just did and I can see that it is doing what I want it to but its just very slow. Am I missing something?"},{"owner":{"account_id":17681517,"reputation":13,"user_id":12835311,"display_name":"Jock"},"score":0,"creation_date":1684712109,"post_id":76302314,"comment_id":134552541,"body_markdown":"It does work without issues for smaller dimensions","body":"It does work without issues for smaller dimensions"},{"owner":{"account_id":17681517,"reputation":13,"user_id":12835311,"display_name":"Jock"},"score":0,"creation_date":1684712338,"post_id":76302314,"comment_id":134552556,"body_markdown":"Yes. From what I have heard from other classmates that have passed this assignment they have used the same method of typing everything into the console.","body":"Yes. From what I have heard from other classmates that have passed this assignment they have used the same method of typing everything into the console."},{"owner":{"account_id":17681517,"reputation":13,"user_id":12835311,"display_name":"Jock"},"score":0,"creation_date":1684713234,"post_id":76302314,"comment_id":134552626,"body_markdown":"I print every nextLine and it is slow. It prints done when it is done and the info I get is total time 42s. I am unsure how to fix it because I need to get the grid from somewhere so it can be used for grading.","body":"I print every nextLine and it is slow. It prints done when it is done and the info I get is total time 42s. I am unsure how to fix it because I need to get the grid from somewhere so it can be used for grading."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1684713955,"post_id":76302314,"comment_id":134552674,"body_markdown":"If this is from a coding challenge / practice site, please include a link to the problem page.","body":"If this is from a coding challenge / practice site, please include a link to the problem page."},{"owner":{"account_id":17681517,"reputation":13,"user_id":12835311,"display_name":"Jock"},"score":0,"creation_date":1684713995,"post_id":76302314,"comment_id":134552678,"body_markdown":"it is from my school so I dont think anyone outside the school can access the exercise :/ sorry","body":"it is from my school so I dont think anyone outside the school can access the exercise :/ sorry"},{"owner":{"account_id":17681517,"reputation":13,"user_id":12835311,"display_name":"Jock"},"score":0,"creation_date":1684714036,"post_id":76302314,"comment_id":134552684,"body_markdown":"That is all to my code, I havent added in anything more yet because this takes so long for me.","body":"That is all to my code, I havent added in anything more yet because this takes so long for me."},{"owner":{"account_id":17681517,"reputation":13,"user_id":12835311,"display_name":"Jock"},"score":0,"creation_date":1684716104,"post_id":76302314,"comment_id":134552847,"body_markdown":"Windows 11 on this pc and I have tried it on another pc I have that has windows 10","body":"Windows 11 on this pc and I have tried it on another pc I have that has windows 10"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684724809,"post_id":76302314,"comment_id":134553501,"body_markdown":"@Jock, If you are storing files that are `10,000` chars by `10,000` chars,  that&#39;s a total of `200,000,000 bytes`, or `200 MB`.  That&#39;s too much for a map; in my opinion.","body":"@Jock, If you are storing files that are <code>10,000</code> chars by <code>10,000</code> chars,  that&#39;s a total of <code>200,000,000 bytes</code>, or <code>200 MB</code>.  That&#39;s too much for a map; in my opinion."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684724975,"post_id":76302314,"comment_id":134553512,"body_markdown":"@Jock, since your map data is simply a `~` or `@`, have you tried using a run-length encoding?","body":"@Jock, since your map data is simply a <code>~</code> or <code>@</code>, have you tried using a run-length encoding?"},{"owner":{"account_id":17681517,"reputation":13,"user_id":12835311,"display_name":"Jock"},"score":0,"creation_date":1684735397,"post_id":76302314,"comment_id":134554460,"body_markdown":"I have not tried run-length encoding. Gonna start reading up on it now.","body":"I have not tried run-length encoding. Gonna start reading up on it now."},{"owner":{"account_id":17681517,"reputation":13,"user_id":12835311,"display_name":"Jock"},"score":0,"creation_date":1684735636,"post_id":76302314,"comment_id":134554495,"body_markdown":"The assignment reads like this, You are gonna write a program that counts islands, an island is atleast one @ if they are neighbors they are part of the same island. All inputfile start with two numbers x and y where x is how many rows and y is how many columns there are. You can assume that both x and y is larger or equal to 1 and can get as big as 10000. You can also expect all islands filled in so no water can be in the middle of an island. Output is a number of how many islands.","body":"The assignment reads like this, You are gonna write a program that counts islands, an island is atleast one @ if they are neighbors they are part of the same island. All inputfile start with two numbers x and y where x is how many rows and y is how many columns there are. You can assume that both x and y is larger or equal to 1 and can get as big as 10000. You can also expect all islands filled in so no water can be in the middle of an island. Output is a number of how many islands."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1684755167,"post_id":76302314,"comment_id":134558313,"body_markdown":"You&#39;ve got to be a fast typist. Not sure how many hours it would take *me* to enter 10,000 lines of text...","body":"You&#39;ve got to be a fast typist. Not sure how many hours it would take <i>me</i> to enter 10,000 lines of text..."},{"owner":{"account_id":17681517,"reputation":13,"user_id":12835311,"display_name":"Jock"},"score":0,"creation_date":1684757130,"post_id":76302314,"comment_id":134558723,"body_markdown":"Well I have examples which I can just copy into the console, Ofc Im not typing it manually","body":"Well I have examples which I can just copy into the console, Ofc Im not typing it manually"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684758879,"post_id":76302314,"comment_id":134559122,"body_markdown":"OK. 1000x1000 is instantaneous for me, reading not from clipboard, but stdin (from a file)","body":"OK. 1000x1000 is instantaneous for me, reading not from clipboard, but stdin (from a file)"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1684773453,"post_id":76302314,"comment_id":134562508,"body_markdown":"It would be a good idea to move the description of the assignment from comments to the question body.  Also,  if two `@` are in diagonally adjacent, are they part of the same island, that is neighbors?","body":"It would be a good idea to move the description of the assignment from comments to the question body.  Also,  if two <code>@</code> are in diagonally adjacent, are they part of the same island, that is neighbors?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1684782677,"post_id":76302314,"comment_id":134564377,"body_markdown":"Off-topic: You can put your input into a file, and use input redirection to have your program read from the file.","body":"Off-topic: You can put your input into a file, and use input redirection to have your program read from the file."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1684783265,"post_id":76302314,"comment_id":134564496,"body_markdown":"(1) Are you sure it is the input part of the program that is slow, and not something that comes after the part you&#39;ve shown?  (2) Are you running the program from within an IDE or from a command console?","body":"(1) Are you sure it is the input part of the program that is slow, and not something that comes after the part you&#39;ve shown?  (2) Are you running the program from within an IDE or from a command console?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684857308,"creation_date":1684714303,"answer_id":76302405,"question_id":76302314,"body_markdown":"This version takes input from a file. The first line should be the number of rows.  Nothing needs to be entered from the console.\r\n```\r\npublic static void main(String[] args) {\r\n    try (Scanner fromFile = new Scanner(new File(&quot;C:/yourFilename.txt&quot;))) {\r\n        int rows = fromFile.nextInt(); // read the rows from the file.\r\n        fromFile.nextLine();  // remove EOL from the input buffer\r\n        char[][] seaCard = new char[rows][];\r\n        for (int r = 0; r &lt; rows; r++) {\r\n            seaCard[r] = fromFile.nextLine().toCharArray();\r\n        }\r\n        System.out.println(&quot;Done!&quot;);\r\n    } catch (IOException ioe) {\r\n        ioe.printStackTrace();\r\n    }\r\n}\r\n\r\n","title":"Why is my Scanner taking too long to convert inputs to a 2D char array?","body":"<p>This version takes input from a file. The first line should be the number of rows.  Nothing needs to be entered from the console.</p>\n<pre><code>public static void main(String[] args) {\n    try (Scanner fromFile = new Scanner(new File(&quot;C:/yourFilename.txt&quot;))) {\n        int rows = fromFile.nextInt(); // read the rows from the file.\n        fromFile.nextLine();  // remove EOL from the input buffer\n        char[][] seaCard = new char[rows][];\n        for (int r = 0; r &lt; rows; r++) {\n            seaCard[r] = fromFile.nextLine().toCharArray();\n        }\n        System.out.println(&quot;Done!&quot;);\n    } catch (IOException ioe) {\n        ioe.printStackTrace();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":17681517,"reputation":13,"user_id":12835311,"display_name":"Jock"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76302405,"answer_count":1,"score":0,"last_activity_date":1684857308,"creation_date":1684711522,"question_id":76302314,"body_markdown":"# Scanner to 2D char array taking too long time. \r\nHi! For some reason unkown to me makes my code take very long time, my only guess is that Scanner is slow however I cant escape it because I need to use it. The size of the seaCard can be anything from 1 * 1 to 10000 * 10000. The cpu time limit is 8 seconds which should be plenty of time to execute this. The whole assignment is to count islands in a grid but I cant even read the data in a timely manner. \r\n\r\nThe inputs are maps like these \r\n```\r\n~~~~~\r\n~@@~~\r\n@~~~~.\r\n```\r\n\r\nMy code is like this.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        int rows = input.nextInt();\r\n        int cols = input.nextInt();\r\n        input.nextLine();\r\n        \r\n        char[][] seaCard = new char[rows][cols];\r\n\r\n        // making the map\r\n        for(int i = 0; i &lt; rows; i++){\r\n            String thisRow = input.nextLine();\r\n            for(int j = 0; j &lt; cols; j++){\r\n                seaCard[i][j] = thisRow.charAt(j);\r\n            }\r\n        }\r\n        input.close();\r\n```\r\n\r\nI have tried changing from 2D array to a 1D string array but that didnt change much, I have also tried using next() instead of nextLine(). \r\n\r\nI expected the code to run smoothly and not take longer than 6s for rows = 10000 and cols = 10000 with an string input of a 10000 string lines of length 10000. \r\n\r\nHowever it just dosent finish, my only idea is that because Im using 2 for loops I get a time complexity of n^2 but I feel like this still shouldnt make it take this long. ","title":"Why is my Scanner taking too long to convert inputs to a 2D char array?","body":"<h1>Scanner to 2D char array taking too long time.</h1>\n<p>Hi! For some reason unkown to me makes my code take very long time, my only guess is that Scanner is slow however I cant escape it because I need to use it. The size of the seaCard can be anything from 1 * 1 to 10000 * 10000. The cpu time limit is 8 seconds which should be plenty of time to execute this. The whole assignment is to count islands in a grid but I cant even read the data in a timely manner.</p>\n<p>The inputs are maps like these</p>\n<pre><code>~~~~~\n~@@~~\n@~~~~.\n</code></pre>\n<p>My code is like this.</p>\n<pre><code>public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int rows = input.nextInt();\n        int cols = input.nextInt();\n        input.nextLine();\n        \n        char[][] seaCard = new char[rows][cols];\n\n        // making the map\n        for(int i = 0; i &lt; rows; i++){\n            String thisRow = input.nextLine();\n            for(int j = 0; j &lt; cols; j++){\n                seaCard[i][j] = thisRow.charAt(j);\n            }\n        }\n        input.close();\n</code></pre>\n<p>I have tried changing from 2D array to a 1D string array but that didnt change much, I have also tried using next() instead of nextLine().</p>\n<p>I expected the code to run smoothly and not take longer than 6s for rows = 10000 and cols = 10000 with an string input of a 10000 string lines of length 10000.</p>\n<p>However it just dosent finish, my only idea is that because Im using 2 for loops I get a time complexity of n^2 but I feel like this still shouldnt make it take this long.</p>\n"},{"tags":["java","mongodb","aggregation-framework","bson"],"answers":[{"tags":[],"owner":{"account_id":11831315,"reputation":15,"user_id":12980274,"display_name":"josepereira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684857045,"creation_date":1684766992,"answer_id":76307390,"question_id":75199017,"body_markdown":"You can fetch each value like a Map&lt;Key, Value&gt;: \r\n   \r\n        Document document = iterator.next();\r\n        Integer id = document.containsKey(&quot;id&quot;) ? document.get(&quot;id&quot;, Integer.class) : null;\r\n        String key = document.containsKey(&quot;key&quot;) ? document.get(&quot;key&quot;, String.class) : null;\r\n        //   after collect each value, you can instantiate your object\r\n        YourObject obj = new YourObject();\r\n        obj.setId(id);\r\n        obj.setKey(key);\r\n        //...","title":"To Map AggregateIterable&lt;Document&gt; to a class","body":"<p>You can fetch each value like a Map&lt;Key, Value&gt;:</p>\n<pre><code>    Document document = iterator.next();\n    Integer id = document.containsKey(&quot;id&quot;) ? document.get(&quot;id&quot;, Integer.class) : null;\n    String key = document.containsKey(&quot;key&quot;) ? document.get(&quot;key&quot;, String.class) : null;\n    //   after collect each value, you can instantiate your object\n    YourObject obj = new YourObject();\n    obj.setId(id);\n    obj.setKey(key);\n    //...\n</code></pre>\n"}],"owner":{"account_id":26589135,"reputation":21,"user_id":20212627,"display_name":"Chinmay Chikode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684857045,"creation_date":1674375417,"question_id":75199017,"body_markdown":"I am performing an aggregation pipeline over mongodb database. Generated result is in the form of AggregateIterable&lt;Document&gt;  which is needed to be mapped to java pojo class. \r\n\r\n#MyClass.java\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Document(collection = &quot;myCollection&quot;)\r\npublic class ODSMongo {\r\n\t\r\n\t@Field(&quot;_id&quot;)\r\n    @Id\r\n\tprivate String _id;\r\n\tprivate String Key;\r\n\tprivate String projectKey;\r\n\tprivate Long highestIndex;\r\n\tprivate Long type;\r\n\tprivate Long exists;\r\n}\r\n\r\n```\r\n#app.java\r\n\r\n```\r\nAggregateIterable&lt;Document&gt; output = collection.aggregate(Arrays.asList(\r\n\t\t\t\tmatch(new Document(&quot;projectKey&quot;, &quot;myProject&quot;)),\r\n\t\t\t\tnew Document(&quot;$group&quot;, new Document(&quot;_id&quot;, &quot;$Key&quot;)\r\n\t\t\t\t\t\t.append(&quot;maxQuantity&quot;, new Document(&quot;$max&quot;, &quot;$highestIndex&quot;))\r\n\t\t\t\t\t\t.append(&quot;docs&quot;, new Document(&quot;$push&quot;, new Document(&quot;_id&quot;, &quot;$_id&quot;).append(&quot;Key&quot;, &quot;$Key&quot;)\r\n\t\t\t\t\t\t\t\t.append(&quot;highestIndex&quot;, &quot;$highestIndex&quot;).append(&quot;exists&quot;, &quot;$exists&quot;).append(&quot;type&quot;, &quot;$type&quot;)))),\r\n\t\t\t\tnew Document(&quot;$project&quot;,\r\n\t\t\t\t\t\tnew Document(&quot;_id&quot;, 0L).append(&quot;docs&quot;,\r\n\t\t\t\t\t\t\t\tnew Document(&quot;$filter&quot;, new Document(&quot;input&quot;, &quot;$docs&quot;).append(&quot;as&quot;, &quot;doc&quot;).append(\r\n\t\t\t\t\t\t\t\t\t\t&quot;cond&quot;,\r\n\t\t\t\t\t\t\t\t\t\tnew Document(&quot;$eq&quot;, Arrays.asList(&quot;$$doc.highestIndex&quot;, &quot;$maxQuantity&quot;))))))));\r\n\r\n\r\nIterator&lt;Document&gt; iterator = output.iterator();\r\n\twhile (iterator.hasNext()) {\r\n\t\tSystem.out.println(iterator.next().get(&quot;docs&quot;));\r\n\t}\r\n\r\n```\r\n\r\n\r\n\r\nAfter performing above operations, the output which get is \r\n\r\n```\r\n[Document{{_id=56, Key=AGS, highestIndex=1, exists=1, type=0}}]\r\n[Document{{_id=41, Key=GFT, highestIndex=1, exists=1, type=0}}]\r\n[Document{{_id=78, Key=ZAS, highestIndex=85, exists=1, type=0}}]\r\n[Document{{_id=42, Key=O.ZAD, highestIndex=85, exists=1, type=0}}]\r\n[Document{{_id=12, Key=MAH, highestIndex=936, exists=1, type=0}}]\r\n[Document{{_id=21, Key=GOA, highestIndex=85, exists=1, type=0}}]\r\n```\r\nPlease let me know how can I fetch each value of the key as well as map the entire result to the ArrayList&lt;MyClass&gt;.\r\n","title":"To Map AggregateIterable&lt;Document&gt; to a class","body":"<p>I am performing an aggregation pipeline over mongodb database. Generated result is in the form of AggregateIterable  which is needed to be mapped to java pojo class.</p>\n<p>#MyClass.java</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Document(collection = &quot;myCollection&quot;)\npublic class ODSMongo {\n    \n    @Field(&quot;_id&quot;)\n    @Id\n    private String _id;\n    private String Key;\n    private String projectKey;\n    private Long highestIndex;\n    private Long type;\n    private Long exists;\n}\n\n</code></pre>\n<p>#app.java</p>\n<pre><code>AggregateIterable&lt;Document&gt; output = collection.aggregate(Arrays.asList(\n                match(new Document(&quot;projectKey&quot;, &quot;myProject&quot;)),\n                new Document(&quot;$group&quot;, new Document(&quot;_id&quot;, &quot;$Key&quot;)\n                        .append(&quot;maxQuantity&quot;, new Document(&quot;$max&quot;, &quot;$highestIndex&quot;))\n                        .append(&quot;docs&quot;, new Document(&quot;$push&quot;, new Document(&quot;_id&quot;, &quot;$_id&quot;).append(&quot;Key&quot;, &quot;$Key&quot;)\n                                .append(&quot;highestIndex&quot;, &quot;$highestIndex&quot;).append(&quot;exists&quot;, &quot;$exists&quot;).append(&quot;type&quot;, &quot;$type&quot;)))),\n                new Document(&quot;$project&quot;,\n                        new Document(&quot;_id&quot;, 0L).append(&quot;docs&quot;,\n                                new Document(&quot;$filter&quot;, new Document(&quot;input&quot;, &quot;$docs&quot;).append(&quot;as&quot;, &quot;doc&quot;).append(\n                                        &quot;cond&quot;,\n                                        new Document(&quot;$eq&quot;, Arrays.asList(&quot;$$doc.highestIndex&quot;, &quot;$maxQuantity&quot;))))))));\n\n\nIterator&lt;Document&gt; iterator = output.iterator();\n    while (iterator.hasNext()) {\n        System.out.println(iterator.next().get(&quot;docs&quot;));\n    }\n\n</code></pre>\n<p>After performing above operations, the output which get is</p>\n<pre><code>[Document{{_id=56, Key=AGS, highestIndex=1, exists=1, type=0}}]\n[Document{{_id=41, Key=GFT, highestIndex=1, exists=1, type=0}}]\n[Document{{_id=78, Key=ZAS, highestIndex=85, exists=1, type=0}}]\n[Document{{_id=42, Key=O.ZAD, highestIndex=85, exists=1, type=0}}]\n[Document{{_id=12, Key=MAH, highestIndex=936, exists=1, type=0}}]\n[Document{{_id=21, Key=GOA, highestIndex=85, exists=1, type=0}}]\n</code></pre>\n<p>Please let me know how can I fetch each value of the key as well as map the entire result to the ArrayList.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","spring-repositories"],"answers":[{"tags":[],"owner":{"account_id":3416886,"reputation":137,"user_id":2865528,"display_name":"manojgarimella"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684856768,"creation_date":1684856768,"answer_id":76316551,"question_id":76316496,"body_markdown":"Linking JPA repositories to a transaction manager ensures proper transactional behavior, simplifies transaction management, maintains data integrity, and provides performance optimisations through caching. \r\n\r\nIt allows developers to focus on business logic while delegating transaction handling and persistence context management to the underlying framework.","title":"Why JPA repositories have to be linked to a transaction manager?","body":"<p>Linking JPA repositories to a transaction manager ensures proper transactional behavior, simplifies transaction management, maintains data integrity, and provides performance optimisations through caching.</p>\n<p>It allows developers to focus on business logic while delegating transaction handling and persistence context management to the underlying framework.</p>\n"}],"owner":{"account_id":1565149,"reputation":1179,"user_id":1454121,"accept_rate":62,"display_name":"Eduardo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684856768,"creation_date":1684856300,"question_id":76316496,"body_markdown":"I don&#39;t understand why JPA repositories have to be linked to a transaction manager.\r\n\r\n@EnableJpaRepositories(\r\n          basePackages = &quot;com.ieci.mugeju.data.repositories1&quot;, \r\n          entityManagerFactoryRef = &quot;entityManager1&quot;,\r\n          transactionManagerRef = &quot;transactionManager1&quot;)\r\n\r\nIf I do this, any method I execute from these repositories will be executed with the transaction manager called &quot;transactionManager1&quot;.\r\n\r\nSuppose I define a second transaction manager and the following service class:\r\n\r\n\t@Service\r\n    public class TestDenunciasServiceImpl implements TestDenunciasService\r\n    {\r\n\t  @Autowired\r\n\t  private Repository1 repository1;\r\n\r\n\t  @Override\r\n\t  @Transactional (readOnly = false, transactionManager = &quot;transactionManager2&quot;)\r\n\t  public void test ()\r\n\t  {\t\t\r\n          MyEntity entity = new MyEntity ();\r\n          ... call setters ...\r\n\r\n          repository2.saveAndFlush(entity);\r\n      }\r\n\t}\r\n\t\r\n\r\nAlthough we have used the @Transactional annotation to say that we want the test method to be executed in the transactionManager2 context, the entity is inserted using transactionManager1\r\n\r\nHow can I define a repository independently of a transaction manager? I would like transactions to be determined using the @Transactional annotation.\r\n\r\nI would like the saveAndFlush method of the repository to be executed in the transaction of the transaction manager indicated through the @Transactional annotation","title":"Why JPA repositories have to be linked to a transaction manager?","body":"<p>I don't understand why JPA repositories have to be linked to a transaction manager.</p>\n<p>@EnableJpaRepositories(\nbasePackages = &quot;com.ieci.mugeju.data.repositories1&quot;,\nentityManagerFactoryRef = &quot;entityManager1&quot;,\ntransactionManagerRef = &quot;transactionManager1&quot;)</p>\n<p>If I do this, any method I execute from these repositories will be executed with the transaction manager called &quot;transactionManager1&quot;.</p>\n<p>Suppose I define a second transaction manager and the following service class:</p>\n<pre><code>@Service\npublic class TestDenunciasServiceImpl implements TestDenunciasService\n{\n  @Autowired\n  private Repository1 repository1;\n\n  @Override\n  @Transactional (readOnly = false, transactionManager = &quot;transactionManager2&quot;)\n  public void test ()\n  {     \n      MyEntity entity = new MyEntity ();\n      ... call setters ...\n\n      repository2.saveAndFlush(entity);\n  }\n}\n</code></pre>\n<p>Although we have used the @Transactional annotation to say that we want the test method to be executed in the transactionManager2 context, the entity is inserted using transactionManager1</p>\n<p>How can I define a repository independently of a transaction manager? I would like transactions to be determined using the @Transactional annotation.</p>\n<p>I would like the saveAndFlush method of the repository to be executed in the transaction of the transaction manager indicated through the @Transactional annotation</p>\n"},{"tags":["java","jvm","emulation"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684858822,"post_id":76316544,"comment_id":134577611,"body_markdown":"nanoTime() has the most resolution. Its performance depend significantly on the platform.","body":"nanoTime() has the most resolution. Its performance depend significantly on the platform."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684884122,"post_id":76316544,"comment_id":134581987,"body_markdown":"Your loop is a spin-loop—it runs constantly, never giving other threads a chance to do any work.  Obviously this a very bad idea, especially for an emulator.  Try using a [ScheduledExecutorService](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/Executors.html#newSingleThreadScheduledExecutor()).","body":"Your loop is a spin-loop—it runs constantly, never giving other threads a chance to do any work.  Obviously this a very bad idea, especially for an emulator.  Try using a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/Executors.html#newSingleThreadScheduledExecutor()\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a>."},{"owner":{"account_id":13067014,"reputation":41,"user_id":14814342,"display_name":"James Osterhage"},"score":0,"creation_date":1684886722,"post_id":76316544,"comment_id":134582230,"body_markdown":"@VGR: thanks for catching that and thanks for the suggestion. I&#39;ll probably use your suggestion for testing. I think I&#39;m going to have to implement my original idea: a device driver that hooks the APIC interfaced through JNI.","body":"@VGR: thanks for catching that and thanks for the suggestion. I&#39;ll probably use your suggestion for testing. I think I&#39;m going to have to implement my original idea: a device driver that hooks the APIC interfaced through JNI."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684939397,"post_id":76316544,"comment_id":134591371,"body_markdown":"Your `nanoSecondsElapsed` variable has a misleading name, as it does not contain elapsed time at all. Further, there’s no reason to make it an instance field instead of a local variable. Then, there’s no update within the loop, so you’re only measuring the time elapsed since the beginning of the loop. Once the time is larger than one tick (after the first tick) it will stay larger forever (well for more than 290 years) so you’re effectively not checking the time at all but just running as fast as you can.","body":"Your <code>nanoSecondsElapsed</code> variable has a misleading name, as it does not contain elapsed time at all. Further, there’s no reason to make it an instance field instead of a local variable. Then, there’s no update within the loop, so you’re only measuring the time elapsed since the beginning of the loop. Once the time is larger than one tick (after the first tick) it will stay larger forever (well for more than 290 years) so you’re effectively not checking the time at all but just running as fast as you can."},{"owner":{"account_id":13067014,"reputation":41,"user_id":14814342,"display_name":"James Osterhage"},"score":0,"creation_date":1684950812,"post_id":76316544,"comment_id":134593936,"body_markdown":"@Holger Yeah. I renamed it in my local test version, but I&#39;m not using this flow anyway.","body":"@Holger Yeah. I renamed it in my local test version, but I&#39;m not using this flow anyway."}],"owner":{"account_id":13067014,"reputation":41,"user_id":14814342,"display_name":"James Osterhage"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684856742,"creation_date":1684856742,"question_id":76316544,"body_markdown":"A while ago I started writing an emulator of the [IBM 5150 Personal Computer in C#](https://github.com/josterhage/PC-Emulator.git). While I got most of the way done, I never finished it, and now I want to re-write it in Java. One of the technical issues I ran into was how to emulate a 4.77MHz clock tick. I&#39;ll send the tick signal through an interface method, most likely each class that needs to act on a clock tick will implement some form of:\r\n\r\n```\r\npublic interface Clocked {\r\n     void onTick();\r\n}\r\n```\r\n\r\nHow could I implement this in Java that would allow me to fairly closely emulate the clock behavior and timing I&#39;m looking for?\r\n\r\nMy current idea is to implement a class that calls onTick() to a set of registered Clocked objects every time a simple count-down timer reaches 1/4_770_000 of a second:\r\n\r\n```\r\npublic class RTC {\r\n   private List&lt;Clocked&gt; clockedObjects;\r\n   private long nanoSecondsElapsed;\r\n   private final long NS_PER_TICK = 1_000_000_000 / 4_770_000;\r\n   private boolean isRunning;\r\n\r\n   // the &quot;how&quot; of initialization isn&#39;t important here\r\n\r\n   public void startClock() {\r\n      isRunning = true;\r\n      nanoSecondsElapsed = System.nanoTime();\r\n      while(isRunning) {\r\n         if(System.nanoTime() - nanoSecondsElapsed &gt; NS_PER_TICK) {\r\n            clockedObjects.forEach(Clocked::onTick);\r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nTesting on my local system, I see right away that my time resolution varies between 300ns-600ns (with a few iterations taking as long as 6400ns) without any meaningful load on the system, while the resolution of a tick at 4.77MHz is ~209ns.\r\n\r\nIs there a way to get a finer grained tick, or possibly a better way to implement this?","title":"Emulating a RTC in Java","body":"<p>A while ago I started writing an emulator of the <a href=\"https://github.com/josterhage/PC-Emulator.git\" rel=\"nofollow noreferrer\">IBM 5150 Personal Computer in C#</a>. While I got most of the way done, I never finished it, and now I want to re-write it in Java. One of the technical issues I ran into was how to emulate a 4.77MHz clock tick. I'll send the tick signal through an interface method, most likely each class that needs to act on a clock tick will implement some form of:</p>\n<pre><code>public interface Clocked {\n     void onTick();\n}\n</code></pre>\n<p>How could I implement this in Java that would allow me to fairly closely emulate the clock behavior and timing I'm looking for?</p>\n<p>My current idea is to implement a class that calls onTick() to a set of registered Clocked objects every time a simple count-down timer reaches 1/4_770_000 of a second:</p>\n<pre><code>public class RTC {\n   private List&lt;Clocked&gt; clockedObjects;\n   private long nanoSecondsElapsed;\n   private final long NS_PER_TICK = 1_000_000_000 / 4_770_000;\n   private boolean isRunning;\n\n   // the &quot;how&quot; of initialization isn't important here\n\n   public void startClock() {\n      isRunning = true;\n      nanoSecondsElapsed = System.nanoTime();\n      while(isRunning) {\n         if(System.nanoTime() - nanoSecondsElapsed &gt; NS_PER_TICK) {\n            clockedObjects.forEach(Clocked::onTick);\n         }\n      }\n   }\n}\n</code></pre>\n<p>Testing on my local system, I see right away that my time resolution varies between 300ns-600ns (with a few iterations taking as long as 6400ns) without any meaningful load on the system, while the resolution of a tick at 4.77MHz is ~209ns.</p>\n<p>Is there a way to get a finer grained tick, or possibly a better way to implement this?</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":17470371,"reputation":310,"user_id":12666301,"display_name":"karim farhouti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650362163,"creation_date":1650362163,"answer_id":71923013,"question_id":71802504,"body_markdown":"Since you specified the joinColumn and the inverseJoinColumn in the person class,try removing the @JoinColumn in the Sector class.","title":"i have this exception &quot;org.hibernate.tool.schema.spi.CommandAcceptanceException:","body":"<p>Since you specified the joinColumn and the inverseJoinColumn in the person class,try removing the @JoinColumn in the Sector class.</p>\n"}],"owner":{"account_id":24876185,"reputation":1,"user_id":18750001,"display_name":"germes mercury"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71923013,"answer_count":1,"score":-1,"last_activity_date":1684856596,"creation_date":1649447482,"question_id":71802504,"body_markdown":"this is my code\r\n\r\n    package com.examplesector.choosesectors.models.Entity;\r\n\r\n    import lombok.*;\r\n\r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.Size;\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;person&quot;)\r\n    public class Person {\r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.AUTO)\r\n       private Long id;\r\n       private String name;\r\n\r\n       @JoinTable(name = &quot;person_sector&quot;,\r\n       joinColumns = {@JoinColumn(name = &quot;PERSON_ID&quot;)},\r\n       inverseJoinColumns = {@JoinColumn(name = &quot;SECTOR_ID&quot;)})\r\n       @ManyToMany(cascade = {CascadeType.ALL})\r\n       private List&lt;Sector&gt; sectors;\r\n       private Boolean checkedAgreeToTerms;\r\n\r\n\r\n      }\r\n\r\n\r\n\r\n\r\n      package com.examplesector.choosesectors.models.Entity;\r\n\r\n      import lombok.*;\r\n\r\n      import javax.persistence.*;\r\n      import javax.validation.constraints.Size;\r\n      import java.util.List;\r\n      import java.util.Objects;\r\n\r\n      @Entity\r\n      @Data\r\n      @Table(name = &quot;sector&quot;)\r\n      public class Sector {\r\n         @Id\r\n         @GeneratedValue(strategy = GenerationType.AUTO)\r\n         private Long id;\r\n         private String nameSector;\r\n         private String group;\r\n\r\n         @ManyToMany()\r\n         @JoinColumn(name = &quot;PERSON_ID&quot;)\r\n         private List&lt;Person&gt; persons;\r\n\r\n\r\n      }\r\n\r\n    enter code here\r\n\r\n    properties\r\n    server.port=8082\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/dbsector? \r\n    useUnicode=true&amp;serverTimezone=UTC&amp;useSSL=true&amp;verifyServerCertificate=false\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    #spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    #spring.jpa.hibernate.naming-strategy=org.hibernate.cfg.ImprovedNamingStrategy\r\n    #spring.jpa.properties.hibernate.id.new_generator_mappings=true\r\n    #spring.jpa.properties.hibernate.jdbc.lab.non_contextual_creation=true\r\n\r\n\r\nthis error\r\n   org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create \r\n   table sector (id bigint not null, group varchar(255), name_sector varchar(255), primary \r\n   key (id)) engine=InnoDB&quot; via JDBC Statement\r\n\r\n   org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter \r\n   table person_sector add constraint FK7jwl41bm5xj1cyypbdl8vn2gp foreign key (sector_id) \r\n   references sector (id)&quot; via JDBC Statement\r\n\r\n   Caused by: java.sql.SQLException: Failed to open the referenced table &#39;sector&#39;\r\n\r\n   org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter \r\n   table sector_persons add constraint FKk28lnwtjxuu7gxx4998v0ex1m foreign key (sector_id) \r\n   references sector (id)&quot; via JDBC Statement\r\n\r\n","title":"i have this exception &quot;org.hibernate.tool.schema.spi.CommandAcceptanceException:","body":"<p>this is my code</p>\n<pre><code>package com.examplesector.choosesectors.models.Entity;\n\nimport lombok.*;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.Size;\nimport java.util.List;\nimport java.util.Objects;\n\n@Entity\n@Data\n@Table(name = &quot;person&quot;)\npublic class Person {\n   @Id\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   private Long id;\n   private String name;\n\n   @JoinTable(name = &quot;person_sector&quot;,\n   joinColumns = {@JoinColumn(name = &quot;PERSON_ID&quot;)},\n   inverseJoinColumns = {@JoinColumn(name = &quot;SECTOR_ID&quot;)})\n   @ManyToMany(cascade = {CascadeType.ALL})\n   private List&lt;Sector&gt; sectors;\n   private Boolean checkedAgreeToTerms;\n\n\n  }\n\n\n\n\n  package com.examplesector.choosesectors.models.Entity;\n\n  import lombok.*;\n\n  import javax.persistence.*;\n  import javax.validation.constraints.Size;\n  import java.util.List;\n  import java.util.Objects;\n\n  @Entity\n  @Data\n  @Table(name = &quot;sector&quot;)\n  public class Sector {\n     @Id\n     @GeneratedValue(strategy = GenerationType.AUTO)\n     private Long id;\n     private String nameSector;\n     private String group;\n\n     @ManyToMany()\n     @JoinColumn(name = &quot;PERSON_ID&quot;)\n     private List&lt;Person&gt; persons;\n\n\n  }\n\nenter code here\n\nproperties\nserver.port=8082\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/dbsector? \nuseUnicode=true&amp;serverTimezone=UTC&amp;useSSL=true&amp;verifyServerCertificate=false\nspring.datasource.username=root\nspring.datasource.password=root\n#spring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n#spring.jpa.hibernate.naming-strategy=org.hibernate.cfg.ImprovedNamingStrategy\n#spring.jpa.properties.hibernate.id.new_generator_mappings=true\n#spring.jpa.properties.hibernate.jdbc.lab.non_contextual_creation=true\n</code></pre>\n<p>this error\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create\ntable sector (id bigint not null, group varchar(255), name_sector varchar(255), primary\nkey (id)) engine=InnoDB&quot; via JDBC Statement</p>\n<p>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter\ntable person_sector add constraint FK7jwl41bm5xj1cyypbdl8vn2gp foreign key (sector_id)\nreferences sector (id)&quot; via JDBC Statement</p>\n<p>Caused by: java.sql.SQLException: Failed to open the referenced table 'sector'</p>\n<p>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter\ntable sector_persons add constraint FKk28lnwtjxuu7gxx4998v0ex1m foreign key (sector_id)\nreferences sector (id)&quot; via JDBC Statement</p>\n"},{"tags":["java","android","material-design","searchview","searchbar"],"answers":[{"tags":[],"owner":{"account_id":10365667,"reputation":203,"user_id":7644792,"display_name":"Ahmad Arif Faizin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684856262,"creation_date":1684856262,"answer_id":76316487,"question_id":76090646,"body_markdown":"Just add this code in Activity to show the SearchView and handle the backpress\r\n\r\n        with(binding) {\r\n            searchView\r\n                .editText\r\n                .setOnEditorActionListener { v, actionId, event -&gt;\r\n                    searchBar.text = searchView.text\r\n                    searchView.hide()\r\n                    false\r\n                }\r\n        }\r\n\r\nAlternatively, you can remove CoordinatorLayout and just connect it manually\r\n\r\n    searchView.setupWithSearchBar(searchBar)\r\n\r\n\r\n","title":"create filter with com.google.android.material.search.SearchView","body":"<p>Just add this code in Activity to show the SearchView and handle the backpress</p>\n<pre><code>    with(binding) {\n        searchView\n            .editText\n            .setOnEditorActionListener { v, actionId, event -&gt;\n                searchBar.text = searchView.text\n                searchView.hide()\n                false\n            }\n    }\n</code></pre>\n<p>Alternatively, you can remove CoordinatorLayout and just connect it manually</p>\n<pre><code>searchView.setupWithSearchBar(searchBar)\n</code></pre>\n"}],"owner":{"account_id":28395771,"reputation":1,"user_id":21720867,"display_name":"Truong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684856262,"creation_date":1682329927,"question_id":76090646,"body_markdown":"i followed the code in material components android : \r\n\r\n```\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent``your text``&quot;&gt;\r\n\r\n  &lt;!-- NestedScrollingChild goes here (NestedScrollView, RecyclerView, etc.). --&gt;\r\n  &lt;androidx.core.widget.NestedScrollView\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;match_parent&quot;\r\n      app:layout_behavior=&quot;@string/searchbar_scrolling_view_behavior&quot;&gt;\r\n    &lt;!-- Screen content goes here. --&gt;\r\n  &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n  &lt;com.google.android.material.appbar.AppBarLayout\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;wrap_content&quot;&gt;\r\n    &lt;com.google.android.material.search.SearchBar\r\n        android:id=&quot;@+id/search_bar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;@string/searchbar_hint&quot; /&gt;\r\n  &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n  &lt;com.google.android.material.search.SearchView\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;match_parent&quot;\r\n      android:hint=&quot;@string/searchbar_hint&quot;\r\n      app:layout_anchor=&quot;@id/search_bar&quot;&gt;\r\n    &lt;!-- Search suggestions/results go here (ScrollView, RecyclerView, etc.). --&gt;\r\n  &lt;/com.google.android.material.search.SearchView&gt;\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\nbut i don&#39;t know how to filter with this searchview  , i only see instructions for androidx.appcompat.widget.SearchView\r\nif i replace to androidx.appcompat.widget.SearchView , when i click search bar , searchview doesn&#39;t appear\r\n","title":"create filter with com.google.android.material.search.SearchView","body":"<p>i followed the code in material components android :</p>\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent``your text``&quot;&gt;\n\n  &lt;!-- NestedScrollingChild goes here (NestedScrollView, RecyclerView, etc.). --&gt;\n  &lt;androidx.core.widget.NestedScrollView\n      android:layout_width=&quot;match_parent&quot;\n      android:layout_height=&quot;match_parent&quot;\n      app:layout_behavior=&quot;@string/searchbar_scrolling_view_behavior&quot;&gt;\n    &lt;!-- Screen content goes here. --&gt;\n  &lt;/androidx.core.widget.NestedScrollView&gt;\n\n  &lt;com.google.android.material.appbar.AppBarLayout\n      android:layout_width=&quot;match_parent&quot;\n      android:layout_height=&quot;wrap_content&quot;&gt;\n    &lt;com.google.android.material.search.SearchBar\n        android:id=&quot;@+id/search_bar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;@string/searchbar_hint&quot; /&gt;\n  &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n  &lt;com.google.android.material.search.SearchView\n      android:layout_width=&quot;match_parent&quot;\n      android:layout_height=&quot;match_parent&quot;\n      android:hint=&quot;@string/searchbar_hint&quot;\n      app:layout_anchor=&quot;@id/search_bar&quot;&gt;\n    &lt;!-- Search suggestions/results go here (ScrollView, RecyclerView, etc.). --&gt;\n  &lt;/com.google.android.material.search.SearchView&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>but i don't know how to filter with this searchview  , i only see instructions for androidx.appcompat.widget.SearchView\nif i replace to androidx.appcompat.widget.SearchView , when i click search bar , searchview doesn't appear</p>\n"},{"tags":["java","maven","intellij-idea","derby"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684881778,"post_id":76316481,"comment_id":134581778,"body_markdown":"As you can see, the classpath that&#39;s reported by your useful property query does *not* contain the Derby driver jar. You need to copy it to WEB-INF/lib","body":"As you can see, the classpath that&#39;s reported by your useful property query does <i>not</i> contain the Derby driver jar. You need to copy it to WEB-INF/lib"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684883171,"post_id":76316481,"comment_id":134581904,"body_markdown":"[Covered many times already.](https://duckduckgo.com/?q=deploy+derby+on+tomcat+site%3Astackoverflow.com&amp;t=osx&amp;ia=web) Search before posting here.","body":"<a href=\"https://duckduckgo.com/?q=deploy+derby+on+tomcat+site%3Astackoverflow.com&amp;t=osx&amp;ia=web\" rel=\"nofollow noreferrer\">Covered many times already.</a> Search before posting here."}],"owner":{"account_id":20357193,"reputation":23,"user_id":21948176,"display_name":"Matteo Possamai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684856236,"creation_date":1684856236,"question_id":76316481,"body_markdown":"I am creating my Java project with Servlet and Derby. I am trying to connect the database to the java code. This is the code I am using \r\n:\r\n\r\n```\r\n        String username = request.getParameter(&quot;username&quot;);\r\n        String password = request.getParameter(&quot;password&quot;);\r\n\r\n        Connection con;\r\n        try{\r\n            // Connect to the database to check if the user exists\r\n            System.out.println(System.getProperty(&quot;java.class.path&quot;));\r\n            Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\r\n            con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/rubbish&quot;);\r\n\r\n            // Query the database to get the user\r\n            String query = &quot;SELECT * FROM users WHERE username = &#39;&quot; + username + &quot;&#39;&quot;;\r\n            Statement stmt = con.createStatement();\r\n            ResultSet res = stmt.executeQuery(query);\r\n            // Other code\r\n        }catch (SQLException | ClassNotFoundException e){\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nAnd I get the following error when the line `Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);` is hitted:\r\n\r\n```\r\njava.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1420)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1228)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:391)\r\n\tat java.base/java.lang.Class.forName(Class.java:382)\r\n\tat com.projects.intro_prog_web_29.Login.doPost(Login.java:24)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:514)\r\n\r\n```\r\n\r\nThe previous line prints this:\r\n```\r\n/opt/tomcat/bin/bootstrap.jar:/opt/tomcat/bin/tomcat-juli.jar\r\n```\r\nIn my Intellij Mavean interface, the dependecy of derby appears, so I think that it is installed correctly. \r\n\r\nThen I also added this to pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n            &lt;artifactId&gt;derbyclient&lt;/artifactId&gt;\r\n            &lt;version&gt;10.16.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n```\r\nSo, I don&#39;t really know what is missing\r\n\r\n I am expecting that the database connection is established, and then I can query it, but it is not recognizing the driver, so I don&#39;t know what to do. \r\n\r\nIf someone can help me, please, I am in a hurry\r\n\r\nThank you a lot","title":"Derby Driver class not found exception in java","body":"<p>I am creating my Java project with Servlet and Derby. I am trying to connect the database to the java code. This is the code I am using\n:</p>\n<pre><code>        String username = request.getParameter(&quot;username&quot;);\n        String password = request.getParameter(&quot;password&quot;);\n\n        Connection con;\n        try{\n            // Connect to the database to check if the user exists\n            System.out.println(System.getProperty(&quot;java.class.path&quot;));\n            Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\n            con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/rubbish&quot;);\n\n            // Query the database to get the user\n            String query = &quot;SELECT * FROM users WHERE username = '&quot; + username + &quot;'&quot;;\n            Statement stmt = con.createStatement();\n            ResultSet res = stmt.executeQuery(query);\n            // Other code\n        }catch (SQLException | ClassNotFoundException e){\n            e.printStackTrace();\n        }\n</code></pre>\n<p>And I get the following error when the line <code>Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);</code> is hitted:</p>\n<pre><code>java.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1420)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1228)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:391)\n    at java.base/java.lang.Class.forName(Class.java:382)\n    at com.projects.intro_prog_web_29.Login.doPost(Login.java:24)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:514)\n\n</code></pre>\n<p>The previous line prints this:</p>\n<pre><code>/opt/tomcat/bin/bootstrap.jar:/opt/tomcat/bin/tomcat-juli.jar\n</code></pre>\n<p>In my Intellij Mavean interface, the dependecy of derby appears, so I think that it is installed correctly.</p>\n<p>Then I also added this to pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n            &lt;artifactId&gt;derbyclient&lt;/artifactId&gt;\n            &lt;version&gt;10.16.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<p>So, I don't really know what is missing</p>\n<p>I am expecting that the database connection is established, and then I can query it, but it is not recognizing the driver, so I don't know what to do.</p>\n<p>If someone can help me, please, I am in a hurry</p>\n<p>Thank you a lot</p>\n"},{"tags":["java","mysql","sql","sql-server"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":3,"creation_date":1382009149,"post_id":19425298,"comment_id":28797936,"body_markdown":"You still put scriptlet code in JSPs?  Database calls?  Terrible.","body":"You still put scriptlet code in JSPs?  Database calls?  Terrible."},{"owner":{"account_id":1631448,"reputation":306,"user_id":1505885,"accept_rate":100,"display_name":"薛源少"},"score":0,"creation_date":1382059959,"post_id":19425298,"comment_id":28823577,"body_markdown":"lol, i just can followed the rules in my company...\nreally sorry...","body":"lol, i just can followed the rules in my company... really sorry..."}],"answers":[{"tags":[],"owner":{"account_id":931282,"reputation":13327,"user_id":961125,"accept_rate":83,"display_name":"Sashi Kant"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1382008886,"creation_date":1382008886,"answer_id":19425330,"question_id":19425298,"body_markdown":"Try with    `WHERE 1=1`::\r\n\r\n    Select * from myTable  WHERE 1=1\r\n\r\n","title":"Is it possible to use &quot;WHERE&quot; clause to select all records in SQL Statement?","body":"<p>Try with    <code>WHERE 1=1</code>::</p>\n\n<pre><code>Select * from myTable  WHERE 1=1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":133140,"reputation":8968,"user_id":334279,"accept_rate":31,"display_name":"RamonBoza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382009081,"creation_date":1382009081,"answer_id":19425401,"question_id":19425298,"body_markdown":"Try with wildcard value `&#39;%&#39;` but I would recommend to use a Factory here to create the SQL statement, what you are trying to do smells a bit.","title":"Is it possible to use &quot;WHERE&quot; clause to select all records in SQL Statement?","body":"<p>Try with wildcard value <code>'%'</code> but I would recommend to use a Factory here to create the SQL statement, what you are trying to do smells a bit.</p>\n"},{"tags":[],"owner":{"account_id":3317265,"reputation":4342,"user_id":2789327,"accept_rate":78,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382009084,"creation_date":1382009084,"answer_id":19425403,"question_id":19425298,"body_markdown":"Consider moving the special case inside the query itself, e.g.\r\n\r\n    SELECT * FROM table_example WHERE &#39;&lt;%=passVar%&gt;&#39; IN (&#39;ALL&#39;, First_Col)\r\n\r\n\r\n\r\n","title":"Is it possible to use &quot;WHERE&quot; clause to select all records in SQL Statement?","body":"<p>Consider moving the special case inside the query itself, e.g.</p>\n\n<pre><code>SELECT * FROM table_example WHERE '&lt;%=passVar%&gt;' IN ('ALL', First_Col)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1382009166,"creation_date":1382009166,"answer_id":19425432,"question_id":19425298,"body_markdown":"This also works:\r\n\r\n    WHERE columnname LIKE &#39;%&#39;\r\n\r\nExcept for NULL values.","title":"Is it possible to use &quot;WHERE&quot; clause to select all records in SQL Statement?","body":"<p>This also works:</p>\n\n<pre><code>WHERE columnname LIKE '%'\n</code></pre>\n\n<p>Except for NULL values.</p>\n"},{"tags":[],"owner":{"account_id":2371928,"reputation":1293,"user_id":2076351,"accept_rate":50,"display_name":"lt.kraken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382009250,"creation_date":1382009250,"answer_id":19425465,"question_id":19425298,"body_markdown":"Something else you could do, is making that combination of code and SQL a single query. Which means the IF..ELSE will be in SQL language.\r\n\r\nCheck these links for some more info:&lt;br /&gt;\r\n[MySQL][1]&lt;br /&gt;\r\nhttps://stackoverflow.com/questions/13526592/using-if-else-in-sql-select-statement\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.0/en/if.html\r\n","title":"Is it possible to use &quot;WHERE&quot; clause to select all records in SQL Statement?","body":"<p>Something else you could do, is making that combination of code and SQL a single query. Which means the IF..ELSE will be in SQL language.</p>\n\n<p>Check these links for some more info:<br />\n<a href=\"http://dev.mysql.com/doc/refman/5.0/en/if.html\" rel=\"nofollow noreferrer\">MySQL</a><br />\n<a href=\"https://stackoverflow.com/questions/13526592/using-if-else-in-sql-select-statement\">Using If else in SQL Select statement</a></p>\n"},{"tags":[],"owner":{"account_id":279943,"reputation":202411,"user_id":575376,"accept_rate":82,"display_name":"juergen d"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382009538,"creation_date":1382009538,"answer_id":19425558,"question_id":19425298,"body_markdown":"It would be better to differ the 2 situations and make 2 queries out of it. \r\n\r\n- If there is no where condition then the DB does not need to evaluate it (potencially faster)\r\n- The source code/debugging output is clearer.","title":"Is it possible to use &quot;WHERE&quot; clause to select all records in SQL Statement?","body":"<p>It would be better to differ the 2 situations and make 2 queries out of it. </p>\n\n<ul>\n<li>If there is no where condition then the DB does not need to evaluate it (potencially faster)</li>\n<li>The source code/debugging output is clearer.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15921084,"reputation":1,"user_id":11488074,"display_name":"Bahaa Qurini"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684855550,"creation_date":1558992572,"answer_id":56332613,"question_id":19425298,"body_markdown":"On sqlserver you can make proc:\r\n\r\n    create proc select_all_on_null\r\n    @a int = null\r\n    as\r\n    begin\r\n      select * from Records where (@a is null or Record_id=@a )\r\n    end\r\n\r\nWhen you select be your program:\r\n\r\n    make @a in null will select all \r\n\r\nif i is `number` there will select row with this id\r\n","title":"Is it possible to use &quot;WHERE&quot; clause to select all records in SQL Statement?","body":"<p>On sqlserver you can make proc:</p>\n<pre><code>create proc select_all_on_null\n@a int = null\nas\nbegin\n  select * from Records where (@a is null or Record_id=@a )\nend\n</code></pre>\n<p>When you select be your program:</p>\n<pre><code>make @a in null will select all \n</code></pre>\n<p>if i is <code>number</code> there will select row with this id</p>\n"},{"tags":[],"owner":{"account_id":10657342,"reputation":151,"user_id":10276878,"display_name":"saswat panda"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1578138269,"creation_date":1578134220,"answer_id":59589914,"question_id":19425298,"body_markdown":"where 1=1 worked for me, Although where clause was being used all records were selected.\r\n\r\nYou can also try\r\n\r\n\r\n```\r\nSELECT * FROM Customers\r\nWHERE CustomerID=CustomerID; /* query */\r\n```\r\n\r\nor \r\n[any_column_name]=[column_name_in_LHL]\r\n\r\n(LHL=left hand side.)\r\n\r\n\r\ncopy the query and\r\n[click here to try code][1]\r\n\r\n\r\n  [1]: https://www.w3schools.com/sql/trysql.asp?filename=trysql_op_in","title":"Is it possible to use &quot;WHERE&quot; clause to select all records in SQL Statement?","body":"<p>where 1=1 worked for me, Although where clause was being used all records were selected.</p>\n\n<p>You can also try</p>\n\n<pre><code>SELECT * FROM Customers\nWHERE CustomerID=CustomerID; /* query */\n</code></pre>\n\n<p>or \n[any_column_name]=[column_name_in_LHL]</p>\n\n<p>(LHL=left hand side.)</p>\n\n<p>copy the query and\n<a href=\"https://www.w3schools.com/sql/trysql.asp?filename=trysql_op_in\" rel=\"nofollow noreferrer\">click here to try code</a></p>\n"}],"owner":{"account_id":1631448,"reputation":306,"user_id":1505885,"accept_rate":100,"display_name":"薛源少"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28794,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":19425432,"answer_count":8,"score":5,"last_activity_date":1684855550,"creation_date":1382008791,"question_id":19425298,"body_markdown":"Good Evening, I am curious if it is possible to make a WHERE-clause in a SQL statement which can show all records? \r\n\r\nBelow some explanation:\r\n\r\n&gt; Random SQL Statement (**Java**)-(**JSP example**), Normal Situation\r\n\r\n    String SqlStatement = &quot;SELECT * FROM table_example WHERE First_Col = &#39;&lt;%=passVar%&gt;&#39; &quot;;\r\n    db.query(SqlStatement );\r\n    //........\r\n    //........\r\n\r\nWhat if the **passVar** is &#39;ALL&#39;, and we need to prompt all the records out when **passVar** = All? I know I can do it with if-else and check if the **passVar** is &quot;ALL&quot; then query the **without-WHERE statement** to make it work..\r\n\r\n&gt;     **without-WHERE statement (Java)-(JSP example)**\r\n\r\n    if(&lt;%=passVar%&gt; == &quot;ALL&quot;) {\r\n       SqlStatement = &quot;SELECT * FROM table_example&quot;;\r\n    } else {\r\n\r\n       SqlStatement = &quot;SELECT * FROM table_example WHERE First_Col = &#39;&lt;%=passVar%&gt;&#39; &quot;;\r\n    }\r\n\r\nbut can I just code one SQL statement to make all the records prompt? Something like below:\r\n\r\n    \r\n&gt; (**Java**)-(**JSP example**)\r\n\r\n    String ShowAll = &quot;&quot;;\r\n    if(&lt;%=passVar%&gt; == &quot;ALL&quot;) {\r\n        ShowAll = *;\r\n\r\n    } else {\r\n        ShowAll = &lt;%=passVar%&gt;;\r\n    }\r\n    SqlStatement = &quot;SELECT * FROM table_example WHERE First_Col = ShowAll &quot;;","title":"Is it possible to use &quot;WHERE&quot; clause to select all records in SQL Statement?","body":"<p>Good Evening, I am curious if it is possible to make a WHERE-clause in a SQL statement which can show all records? </p>\n\n<p>Below some explanation:</p>\n\n<blockquote>\n  <p>Random SQL Statement (<strong>Java</strong>)-(<strong>JSP example</strong>), Normal Situation</p>\n</blockquote>\n\n<pre><code>String SqlStatement = \"SELECT * FROM table_example WHERE First_Col = '&lt;%=passVar%&gt;' \";\ndb.query(SqlStatement );\n//........\n//........\n</code></pre>\n\n<p>What if the <strong>passVar</strong> is 'ALL', and we need to prompt all the records out when <strong>passVar</strong> = All? I know I can do it with if-else and check if the <strong>passVar</strong> is \"ALL\" then query the <strong>without-WHERE statement</strong> to make it work..</p>\n\n<blockquote>\n<pre><code>**without-WHERE statement (Java)-(JSP example)**\n</code></pre>\n</blockquote>\n\n<pre><code>if(&lt;%=passVar%&gt; == \"ALL\") {\n   SqlStatement = \"SELECT * FROM table_example\";\n} else {\n\n   SqlStatement = \"SELECT * FROM table_example WHERE First_Col = '&lt;%=passVar%&gt;' \";\n}\n</code></pre>\n\n<p>but can I just code one SQL statement to make all the records prompt? Something like below:</p>\n\n<blockquote>\n  <p>(<strong>Java</strong>)-(<strong>JSP example</strong>)</p>\n</blockquote>\n\n<pre><code>String ShowAll = \"\";\nif(&lt;%=passVar%&gt; == \"ALL\") {\n    ShowAll = *;\n\n} else {\n    ShowAll = &lt;%=passVar%&gt;;\n}\nSqlStatement = \"SELECT * FROM table_example WHERE First_Col = ShowAll \";\n</code></pre>\n"},{"tags":["java","hibernate","hibernate-mapping","sqlexception"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":1,"creation_date":1684849758,"post_id":76315080,"comment_id":134575200,"body_markdown":"Can you modify the property name from `add` to `address` and try again? `add` is a keyword in MySQL like `ADD CONSTRAINT`.","body":"Can you modify the property name from <code>add</code> to <code>address</code> and try again? <code>add</code> is a keyword in MySQL like <code>ADD CONSTRAINT</code>."}],"owner":{"account_id":28654177,"reputation":1,"user_id":21940569,"display_name":"Eswara Moorthi S M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684855423,"creation_date":1684846860,"question_id":76315080,"body_markdown":"Exception caused by mapping class=Student\r\n\r\n**Student.java**\r\nThis is entity class with Jpa annotations\r\n\r\n```java\r\npackage org.jsp.dto;\r\n\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\n@Entity\r\npublic class Student {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate String add;\r\n\tprivate long phone;\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getAdd() {\r\n\t\treturn add;\r\n\t}\r\n\r\n\tpublic void setAdd(String add) {\r\n\t\tthis.add = add;\r\n\t}\r\n\r\n\tpublic long getPhone() {\r\n\t\treturn phone;\r\n\t}\r\n\r\n\tpublic void setPhone(long phone) {\r\n\t\tthis.phone = phone;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**student.hbm.xml**\r\nThis is hibernate mapping file.\r\n\r\n```xml\r\n&lt;?xml version = &quot;1.0&quot; encoding = &quot;utf-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-mapping PUBLIC \r\n&quot;-//Hibernate/Hibernate Mapping DTD//EN&quot;\r\n&quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n&lt;hibernate-mapping&gt;\r\n\t&lt;class name=&quot;org.jsp.dto.Student&quot; table=&quot;hib_student&quot;&gt;\r\n\t\t&lt;id name=&quot;id&quot; column=&quot;id&quot;&gt;\r\n\t\t\t&lt;generator class=&quot;identity&quot;&gt;&lt;/generator&gt;\r\n\t\t&lt;/id&gt;\r\n\t\t&lt;property name=&quot;name&quot; column=&quot;name&quot;&gt;&lt;/property&gt;\r\n\t\t&lt;property name=&quot;add&quot; column=&quot;address&quot;&gt;&lt;/property&gt;\r\n\t\t&lt;property name=&quot;phone&quot; column=&quot;phone&quot;&gt;&lt;/property&gt;\r\n\t&lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\n\r\n**hibernate.cfg.xml**\r\nThis is hibernate config file\r\n\r\nHere if mapping class=&quot;org.jsp.dto.Student&quot;  changed to mapping resource=student.hbm.xml  it works fine.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC \r\n  &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; \r\n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\r\n&lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\t\t&lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hib_student&lt;/property&gt;\r\n\t\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.password&quot;&gt;admin&lt;/property&gt;\r\n\t\t&lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n\t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n\t\t&lt;mapping class=&quot;org.jsp.dto.Student&quot; /&gt;\r\n\t\t\r\n\t&lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\n**Controller**\r\nHere I am trying to create table using `buildSessionFactory` Interface of hibernate.\r\n\r\n```java\r\npackage org.jsp.Controller;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.cfg.Configuration;\r\n\r\n\r\n\r\npublic class CreateTable {\r\npublic static void main(String[] args) {\r\n\tConfiguration con=new Configuration().configure();\r\n\tSessionFactory sf=con.buildSessionFactory();\r\n\t\r\n}\r\n}\r\n```\r\n\r\nException due to \\&lt;mapping class=&quot;org.jsp.dto.Student&quot; /\\&gt; tag\r\n\r\n```none\r\nMay 22, 2023 5:45:57 PM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate ORM core version 5.6.14.Final\r\nMay 22, 2023 5:45:58 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\nMay 22, 2023 5:45:58 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\nMay 22, 2023 5:45:58 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001005: using driver [com.mysql.cj.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/hib_student]\r\nMay 22, 2023 5:45:58 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001001: Connection properties: {user=root, password=****}\r\nMay 22, 2023 5:45:58 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001003: Autocommit mode: false\r\nMay 22, 2023 5:45:58 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\nMay 22, 2023 5:45:59 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\r\nMay 22, 2023 5:46:00 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5339bbad] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\nHibernate: \r\n    \r\n    create table Student (\r\n       id integer not null auto_increment,\r\n        add varchar(255),\r\n        name varchar(255),\r\n        phone bigint not null,\r\n        primary key (id)\r\n    ) engine=InnoDB\r\nMay 22, 2023 5:46:00 PM org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\r\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL &quot;\r\n    create table Student (\r\n       id integer not null auto_increment,\r\n        add varchar(255),\r\n        name varchar(255),\r\n        phone bigint not null,\r\n        primary key (id)\r\n    ) engine=InnoDB&quot; via JDBC Statement\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n    create table Student (\r\n       id integer not null auto_increment,\r\n        add varchar(255),\r\n        name varchar(255),\r\n        phone bigint not null,\r\n        primary key (id)\r\n    ) engine=InnoDB&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:293)\r\n\tat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:74)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:728)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:746)\r\n\tat org.jsp.Controller.CreateTable.main(CreateTable.java:12)\r\nCaused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;add varchar(255),\r\n        name varchar(255),\r\n        phone bigint not null,\r\n &#39; at line 3\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)\r\n\tat com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\r\n\t... 13 more\r\n\r\nMay 22, 2023 5:46:00 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n```\r\n\r\nBut it works fine if change it to resource=hibernate.cfg.xml but I want to make it work with entity class.","title":"java.sql.SQLSyntaxErrorException due to mapping class","body":"<p>Exception caused by mapping class=Student</p>\n<p><strong>Student.java</strong>\nThis is entity class with Jpa annotations</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.jsp.dto;\n\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\n@Entity\npublic class Student {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String name;\n    private String add;\n    private long phone;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAdd() {\n        return add;\n    }\n\n    public void setAdd(String add) {\n        this.add = add;\n    }\n\n    public long getPhone() {\n        return phone;\n    }\n\n    public void setPhone(long phone) {\n        this.phone = phone;\n    }\n\n}\n</code></pre>\n<p><strong>student.hbm.xml</strong>\nThis is hibernate mapping file.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version = &quot;1.0&quot; encoding = &quot;utf-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC \n&quot;-//Hibernate/Hibernate Mapping DTD//EN&quot;\n&quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;hibernate-mapping&gt;\n    &lt;class name=&quot;org.jsp.dto.Student&quot; table=&quot;hib_student&quot;&gt;\n        &lt;id name=&quot;id&quot; column=&quot;id&quot;&gt;\n            &lt;generator class=&quot;identity&quot;&gt;&lt;/generator&gt;\n        &lt;/id&gt;\n        &lt;property name=&quot;name&quot; column=&quot;name&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;add&quot; column=&quot;address&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;phone&quot; column=&quot;phone&quot;&gt;&lt;/property&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p><strong>hibernate.cfg.xml</strong>\nThis is hibernate config file</p>\n<p>Here if mapping class=&quot;org.jsp.dto.Student&quot;  changed to mapping resource=student.hbm.xml  it works fine.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC \n  &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; \n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hib_student&lt;/property&gt;\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;admin&lt;/property&gt;\n        &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n        &lt;mapping class=&quot;org.jsp.dto.Student&quot; /&gt;\n        \n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p><strong>Controller</strong>\nHere I am trying to create table using <code>buildSessionFactory</code> Interface of hibernate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.jsp.Controller;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\n\n\n\npublic class CreateTable {\npublic static void main(String[] args) {\n    Configuration con=new Configuration().configure();\n    SessionFactory sf=con.buildSessionFactory();\n    \n}\n}\n</code></pre>\n<p>Exception due to &lt;mapping class=&quot;org.jsp.dto.Student&quot; /&gt; tag</p>\n<pre class=\"lang-none prettyprint-override\"><code>May 22, 2023 5:45:57 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate ORM core version 5.6.14.Final\nMay 22, 2023 5:45:58 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\nMay 22, 2023 5:45:58 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nMay 22, 2023 5:45:58 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [com.mysql.cj.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/hib_student]\nMay 22, 2023 5:45:58 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {user=root, password=****}\nMay 22, 2023 5:45:58 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nMay 22, 2023 5:45:58 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nMay 22, 2023 5:45:59 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\nMay 22, 2023 5:46:00 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5339bbad] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\nHibernate: \n    \n    create table Student (\n       id integer not null auto_increment,\n        add varchar(255),\n        name varchar(255),\n        phone bigint not null,\n        primary key (id)\n    ) engine=InnoDB\nMay 22, 2023 5:46:00 PM org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL &quot;\n    create table Student (\n       id integer not null auto_increment,\n        add varchar(255),\n        name varchar(255),\n        phone bigint not null,\n        primary key (id)\n    ) engine=InnoDB&quot; via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\n    create table Student (\n       id integer not null auto_increment,\n        add varchar(255),\n        name varchar(255),\n        phone bigint not null,\n        primary key (id)\n    ) engine=InnoDB&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:293)\n    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:74)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:728)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:746)\n    at org.jsp.Controller.CreateTable.main(CreateTable.java:12)\nCaused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'add varchar(255),\n        name varchar(255),\n        phone bigint not null,\n ' at line 3\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)\n    at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\n    ... 13 more\n\nMay 22, 2023 5:46:00 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n</code></pre>\n<p>But it works fine if change it to resource=hibernate.cfg.xml but I want to make it work with entity class.</p>\n"},{"tags":["java","json","jackson","gson"],"answers":[{"tags":[],"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1559155371,"creation_date":1529585432,"answer_id":50969020,"question_id":50967015,"body_markdown":"## Reading the JSON documents as `Map`s and comparing them\r\n\r\nYou could read both JSON documents as [`Map&lt;K, V&gt;`][1]. See the below examples for Jackson and Gson:\r\n    \r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    ObjectMapper mapper = new ObjectMapper();\r\n    TypeReference&lt;HashMap&lt;String, Object&gt;&gt; type = \r\n        new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {};\r\n    \r\n    Map&lt;String, Object&gt; leftMap = mapper.readValue(leftJson, type);\r\n    Map&lt;String, Object&gt; rightMap = mapper.readValue(rightJson, type);\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Gson gson = new Gson();\r\n    Type type = new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType();\r\n    \r\n    Map&lt;String, Object&gt; leftMap = gson.fromJson(leftJson, type);\r\n    Map&lt;String, Object&gt; rightMap = gson.fromJson(rightJson, type);\r\n    \r\nThen use Guava&#39;s [`Maps.difference(Map&lt;K, V&gt;, Map&lt;K, V&gt;)`][2] to compare them. It returns a [`MapDifference&lt;K, V&gt;`][3] instance:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    MapDifference&lt;String, Object&gt; difference = Maps.difference(leftMap, rightMap);\r\n    \r\nIf you are not happy with the result, you can consider **flattening** the maps and then compare them. It will provide better comparison results especially for nested objects and arrays.\r\n    \r\n## Creating flat `Map`s for the comparison\r\n\r\nTo flat the map, you can use:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public final class FlatMapUtil {\r\n\r\n        private FlatMapUtil() {\r\n            throw new AssertionError(&quot;No instances for you!&quot;);\r\n        }\r\n\r\n        public static Map&lt;String, Object&gt; flatten(Map&lt;String, Object&gt; map) {\r\n            return map.entrySet().stream()\r\n                    .flatMap(FlatMapUtil::flatten)\r\n                    .collect(LinkedHashMap::new, (m, e) -&gt; m.put(&quot;/&quot; + e.getKey(), e.getValue()), LinkedHashMap::putAll);\r\n        }\r\n\r\n        private static Stream&lt;Map.Entry&lt;String, Object&gt;&gt; flatten(Map.Entry&lt;String, Object&gt; entry) {\r\n\r\n            if (entry == null) {\r\n                return Stream.empty();\r\n            }\r\n\r\n            if (entry.getValue() instanceof Map&lt;?, ?&gt;) {\r\n                return ((Map&lt;?, ?&gt;) entry.getValue()).entrySet().stream()\r\n                        .flatMap(e -&gt; flatten(new AbstractMap.SimpleEntry&lt;&gt;(entry.getKey() + &quot;/&quot; + e.getKey(), e.getValue())));\r\n            }\r\n\r\n            if (entry.getValue() instanceof List&lt;?&gt;) {\r\n                List&lt;?&gt; list = (List&lt;?&gt;) entry.getValue();\r\n                return IntStream.range(0, list.size())\r\n                        .mapToObj(i -&gt; new AbstractMap.SimpleEntry&lt;String, Object&gt;(entry.getKey() + &quot;/&quot; + i, list.get(i)))\r\n                        .flatMap(FlatMapUtil::flatten);\r\n            }\r\n\r\n            return Stream.of(entry);\r\n        }\r\n    }\r\n\r\nIt uses the _JSON Pointer notation_ defined in the [RFC 6901][4] for the keys, so you can easily locate the values.\r\n    \r\n## Example\r\n\r\nConsider the following JSON documents:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    {\r\n      &quot;name&quot;: {\r\n        &quot;first&quot;: &quot;John&quot;,\r\n        &quot;last&quot;: &quot;Doe&quot;\r\n      },\r\n      &quot;address&quot;: null,\r\n      &quot;birthday&quot;: &quot;1980-01-01&quot;,\r\n      &quot;company&quot;: &quot;Acme&quot;,\r\n      &quot;occupation&quot;: &quot;Software engineer&quot;,\r\n      &quot;phones&quot;: [\r\n        {\r\n          &quot;number&quot;: &quot;000000000&quot;,\r\n          &quot;type&quot;: &quot;home&quot;\r\n        },\r\n        {\r\n          &quot;number&quot;: &quot;999999999&quot;,\r\n          &quot;type&quot;: &quot;mobile&quot;\r\n        }\r\n      ]\r\n    }\r\n    \r\n&lt;!-- language: lang-json --&gt;\r\n    \r\n    {\r\n      &quot;name&quot;: {\r\n        &quot;first&quot;: &quot;Jane&quot;,\r\n        &quot;last&quot;: &quot;Doe&quot;,\r\n        &quot;nickname&quot;: &quot;Jenny&quot;\r\n      },\r\n      &quot;birthday&quot;: &quot;1990-01-01&quot;,\r\n      &quot;occupation&quot;: null,\r\n      &quot;phones&quot;: [\r\n        {\r\n          &quot;number&quot;: &quot;111111111&quot;,\r\n          &quot;type&quot;: &quot;mobile&quot;\r\n        }\r\n      ],\r\n      &quot;favorite&quot;: true,\r\n      &quot;groups&quot;: [\r\n        &quot;close-friends&quot;,\r\n        &quot;gym&quot;\r\n      ]\r\n    }\r\n\r\nAnd the following code to compare them and show the differences:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    Map&lt;String, Object&gt; leftFlatMap = FlatMapUtil.flatten(leftMap);\r\n    Map&lt;String, Object&gt; rightFlatMap = FlatMapUtil.flatten(rightMap);\r\n\r\n    MapDifference&lt;String, Object&gt; difference = Maps.difference(leftFlatMap, rightFlatMap);\r\n\r\n    System.out.println(&quot;Entries only on the left\\n--------------------------&quot;);\r\n    difference.entriesOnlyOnLeft()\r\n              .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\r\n\r\n    System.out.println(&quot;\\n\\nEntries only on the right\\n--------------------------&quot;);\r\n    difference.entriesOnlyOnRight()\r\n              .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\r\n\r\n    System.out.println(&quot;\\n\\nEntries differing\\n--------------------------&quot;);\r\n    difference.entriesDiffering()\r\n              .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\r\n    \r\nIt will produce the following output:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Entries only on the left\r\n    --------------------------\r\n    /address: null\r\n    /phones/1/number: 999999999\r\n    /phones/1/type: mobile\r\n    /company: Acme\r\n\r\n\r\n    Entries only on the right\r\n    --------------------------\r\n    /name/nickname: Jenny\r\n    /groups/0: close-friends\r\n    /groups/1: gym\r\n    /favorite: true\r\n\r\n\r\n    Entries differing\r\n    --------------------------\r\n    /birthday: (1980-01-01, 1990-01-01)\r\n    /occupation: (Software engineer, null)\r\n    /name/first: (John, Jane)\r\n    /phones/0/number: (000000000, 111111111)\r\n    /phones/0/type: (home, mobile)\r\n\r\n    \r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Map.html\r\n  [2]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Maps.html#difference-java.util.Map-java.util.Map-\r\n  [3]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/MapDifference.html\r\n  [4]: https://www.rfc-editor.org/rfc/rfc6901","title":"How to compare JSON documents and return the differences with Jackson or Gson?","body":"<h2>Reading the JSON documents as <code>Map</code>s and comparing them</h2>\n<p>You could read both JSON documents as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Map.html\" rel=\"noreferrer\"><code>Map&lt;K, V&gt;</code></a>. See the below examples for Jackson and Gson:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\nTypeReference&lt;HashMap&lt;String, Object&gt;&gt; type = \n    new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {};\n\nMap&lt;String, Object&gt; leftMap = mapper.readValue(leftJson, type);\nMap&lt;String, Object&gt; rightMap = mapper.readValue(rightJson, type);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Gson gson = new Gson();\nType type = new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType();\n\nMap&lt;String, Object&gt; leftMap = gson.fromJson(leftJson, type);\nMap&lt;String, Object&gt; rightMap = gson.fromJson(rightJson, type);\n</code></pre>\n<p>Then use Guava's <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Maps.html#difference-java.util.Map-java.util.Map-\" rel=\"noreferrer\"><code>Maps.difference(Map&lt;K, V&gt;, Map&lt;K, V&gt;)</code></a> to compare them. It returns a <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/MapDifference.html\" rel=\"noreferrer\"><code>MapDifference&lt;K, V&gt;</code></a> instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MapDifference&lt;String, Object&gt; difference = Maps.difference(leftMap, rightMap);\n</code></pre>\n<p>If you are not happy with the result, you can consider <strong>flattening</strong> the maps and then compare them. It will provide better comparison results especially for nested objects and arrays.</p>\n<h2>Creating flat <code>Map</code>s for the comparison</h2>\n<p>To flat the map, you can use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class FlatMapUtil {\n\n    private FlatMapUtil() {\n        throw new AssertionError(&quot;No instances for you!&quot;);\n    }\n\n    public static Map&lt;String, Object&gt; flatten(Map&lt;String, Object&gt; map) {\n        return map.entrySet().stream()\n                .flatMap(FlatMapUtil::flatten)\n                .collect(LinkedHashMap::new, (m, e) -&gt; m.put(&quot;/&quot; + e.getKey(), e.getValue()), LinkedHashMap::putAll);\n    }\n\n    private static Stream&lt;Map.Entry&lt;String, Object&gt;&gt; flatten(Map.Entry&lt;String, Object&gt; entry) {\n\n        if (entry == null) {\n            return Stream.empty();\n        }\n\n        if (entry.getValue() instanceof Map&lt;?, ?&gt;) {\n            return ((Map&lt;?, ?&gt;) entry.getValue()).entrySet().stream()\n                    .flatMap(e -&gt; flatten(new AbstractMap.SimpleEntry&lt;&gt;(entry.getKey() + &quot;/&quot; + e.getKey(), e.getValue())));\n        }\n\n        if (entry.getValue() instanceof List&lt;?&gt;) {\n            List&lt;?&gt; list = (List&lt;?&gt;) entry.getValue();\n            return IntStream.range(0, list.size())\n                    .mapToObj(i -&gt; new AbstractMap.SimpleEntry&lt;String, Object&gt;(entry.getKey() + &quot;/&quot; + i, list.get(i)))\n                    .flatMap(FlatMapUtil::flatten);\n        }\n\n        return Stream.of(entry);\n    }\n}\n</code></pre>\n<p>It uses the <em>JSON Pointer notation</em> defined in the <a href=\"https://www.rfc-editor.org/rfc/rfc6901\" rel=\"noreferrer\">RFC 6901</a> for the keys, so you can easily locate the values.</p>\n<h2>Example</h2>\n<p>Consider the following JSON documents:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: {\n    &quot;first&quot;: &quot;John&quot;,\n    &quot;last&quot;: &quot;Doe&quot;\n  },\n  &quot;address&quot;: null,\n  &quot;birthday&quot;: &quot;1980-01-01&quot;,\n  &quot;company&quot;: &quot;Acme&quot;,\n  &quot;occupation&quot;: &quot;Software engineer&quot;,\n  &quot;phones&quot;: [\n    {\n      &quot;number&quot;: &quot;000000000&quot;,\n      &quot;type&quot;: &quot;home&quot;\n    },\n    {\n      &quot;number&quot;: &quot;999999999&quot;,\n      &quot;type&quot;: &quot;mobile&quot;\n    }\n  ]\n}\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: {\n    &quot;first&quot;: &quot;Jane&quot;,\n    &quot;last&quot;: &quot;Doe&quot;,\n    &quot;nickname&quot;: &quot;Jenny&quot;\n  },\n  &quot;birthday&quot;: &quot;1990-01-01&quot;,\n  &quot;occupation&quot;: null,\n  &quot;phones&quot;: [\n    {\n      &quot;number&quot;: &quot;111111111&quot;,\n      &quot;type&quot;: &quot;mobile&quot;\n    }\n  ],\n  &quot;favorite&quot;: true,\n  &quot;groups&quot;: [\n    &quot;close-friends&quot;,\n    &quot;gym&quot;\n  ]\n}\n</code></pre>\n<p>And the following code to compare them and show the differences:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; leftFlatMap = FlatMapUtil.flatten(leftMap);\nMap&lt;String, Object&gt; rightFlatMap = FlatMapUtil.flatten(rightMap);\n\nMapDifference&lt;String, Object&gt; difference = Maps.difference(leftFlatMap, rightFlatMap);\n\nSystem.out.println(&quot;Entries only on the left\\n--------------------------&quot;);\ndifference.entriesOnlyOnLeft()\n          .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\n\nSystem.out.println(&quot;\\n\\nEntries only on the right\\n--------------------------&quot;);\ndifference.entriesOnlyOnRight()\n          .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\n\nSystem.out.println(&quot;\\n\\nEntries differing\\n--------------------------&quot;);\ndifference.entriesDiffering()\n          .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\n</code></pre>\n<p>It will produce the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Entries only on the left\n--------------------------\n/address: null\n/phones/1/number: 999999999\n/phones/1/type: mobile\n/company: Acme\n\n\nEntries only on the right\n--------------------------\n/name/nickname: Jenny\n/groups/0: close-friends\n/groups/1: gym\n/favorite: true\n\n\nEntries differing\n--------------------------\n/birthday: (1980-01-01, 1990-01-01)\n/occupation: (Software engineer, null)\n/name/first: (John, Jane)\n/phones/0/number: (000000000, 111111111)\n/phones/0/type: (home, mobile)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1565086325,"creation_date":1532340155,"answer_id":51476162,"question_id":50967015,"body_markdown":"## Creating a JSON Patch document\r\n\r\nAlternatively to the approach described in the [other answer][1], you could use the [Java API for JSON Processing][2] defined in the [JSR 374][3] (it doesn&#39;t use on Gson or Jackson). The following dependencies are required:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\t\r\n\t&lt;!-- Java API for JSON Processing (API) --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.json&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;javax.json-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- Java API for JSON Processing (implementation) --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThen you can create a JSON diff from the JSON documents. It will produce a JSON Patch document as defined in the [RFC 6902][4]:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    JsonPatch diff = Json.createDiff(source, target);\r\n\r\nWhen applied to the source document, the JSON Patch yields the target document. The JSON Patch can be applied to the source document using:\r\n\r\n&lt;!-- language: lang-java --&gt;\t\r\n\r\n    JsonObject patched = diff.apply(source);\r\n\t\r\n## Creating a JSON Merge Patch document\r\n\r\nDepending on your needs, you could create a JSON Merge Patch document as defined in the [RFC 7396][5]:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    JsonMergePatch mergeDiff = Json.createMergeDiff(source, target);\r\n\r\nWhen applied to the source document, the JSON Merge Patch yields the target document. To patch the source, use:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    JsonValue patched = mergeDiff.apply(source);\r\n\r\n## Pretty printing JSON documents\r\n\t\r\nTo pretty print the JSON documents, you can use:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.println(format(diff.toJsonArray()));\r\n\tSystem.out.println(format(mergeDiff.toJsonValue()));\r\n\t\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static String format(JsonValue json) {\r\n        StringWriter stringWriter = new StringWriter();\r\n        prettyPrint(json, stringWriter);\r\n        return stringWriter.toString();\r\n    }\r\n\r\n    public static void prettyPrint(JsonValue json, Writer writer) {\r\n        Map&lt;String, Object&gt; config =\r\n                Collections.singletonMap(JsonGenerator.PRETTY_PRINTING, true);\r\n        JsonWriterFactory writerFactory = Json.createWriterFactory(config);\r\n        try (JsonWriter jsonWriter = writerFactory.createWriter(writer)) {\r\n            jsonWriter.write(json);\r\n        }\r\n    }\r\n\t\r\n## Example\r\n\r\nConsider the following JSON documents:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n\t{\r\n\t  &quot;name&quot;: {\r\n\t\t&quot;first&quot;: &quot;John&quot;,\r\n\t\t&quot;last&quot;: &quot;Doe&quot;\r\n\t  },\r\n\t  &quot;address&quot;: null,\r\n\t  &quot;birthday&quot;: &quot;1980-01-01&quot;,\r\n\t  &quot;company&quot;: &quot;Acme&quot;,\r\n\t  &quot;occupation&quot;: &quot;Software engineer&quot;,\r\n\t  &quot;phones&quot;: [\r\n\t\t{\r\n\t\t  &quot;number&quot;: &quot;000000000&quot;,\r\n\t\t  &quot;type&quot;: &quot;home&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t  &quot;number&quot;: &quot;999999999&quot;,\r\n\t\t  &quot;type&quot;: &quot;mobile&quot;\r\n\t\t}\r\n\t  ]\r\n\t}\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n\t{\r\n\t  &quot;name&quot;: {\r\n\t\t&quot;first&quot;: &quot;Jane&quot;,\r\n\t\t&quot;last&quot;: &quot;Doe&quot;,\r\n\t\t&quot;nickname&quot;: &quot;Jenny&quot;\r\n\t  },\r\n\t  &quot;birthday&quot;: &quot;1990-01-01&quot;,\r\n\t  &quot;occupation&quot;: null,\r\n\t  &quot;phones&quot;: [\r\n\t\t{\r\n\t\t  &quot;number&quot;: &quot;111111111&quot;,\r\n\t\t  &quot;type&quot;: &quot;mobile&quot;\r\n\t\t}\r\n\t  ],\r\n\t  &quot;favorite&quot;: true,\r\n\t  &quot;groups&quot;: [\r\n\t\t&quot;close-friends&quot;,\r\n\t\t&quot;gym&quot;\r\n\t  ]\r\n\t}\r\n\r\nAnd the following code to produce a JSON Patch:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tJsonValue source = Json.createReader(new StringReader(leftJson)).readValue();\r\n    JsonValue target = Json.createReader(new StringReader(rightJson)).readValue();\r\n\r\n\tJsonPatch diff = Json.createDiff(source.asJsonObject(), target.asJsonObject());\r\n\tSystem.out.println(format(diff.toJsonArray()));\r\n\t\r\nIt will produce the following output:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\t[\r\n\t\t{\r\n\t\t\t&quot;op&quot;: &quot;replace&quot;,\r\n\t\t\t&quot;path&quot;: &quot;/name/first&quot;,\r\n\t\t\t&quot;value&quot;: &quot;Jane&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;op&quot;: &quot;add&quot;,\r\n\t\t\t&quot;path&quot;: &quot;/name/nickname&quot;,\r\n\t\t\t&quot;value&quot;: &quot;Jenny&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;op&quot;: &quot;remove&quot;,\r\n\t\t\t&quot;path&quot;: &quot;/address&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;op&quot;: &quot;replace&quot;,\r\n\t\t\t&quot;path&quot;: &quot;/birthday&quot;,\r\n\t\t\t&quot;value&quot;: &quot;1990-01-01&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;op&quot;: &quot;remove&quot;,\r\n\t\t\t&quot;path&quot;: &quot;/company&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;op&quot;: &quot;replace&quot;,\r\n\t\t\t&quot;path&quot;: &quot;/occupation&quot;,\r\n\t\t\t&quot;value&quot;: null\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;op&quot;: &quot;replace&quot;,\r\n\t\t\t&quot;path&quot;: &quot;/phones/1/number&quot;,\r\n\t\t\t&quot;value&quot;: &quot;111111111&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;op&quot;: &quot;remove&quot;,\r\n\t\t\t&quot;path&quot;: &quot;/phones/0&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;op&quot;: &quot;add&quot;,\r\n\t\t\t&quot;path&quot;: &quot;/favorite&quot;,\r\n\t\t\t&quot;value&quot;: true\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;op&quot;: &quot;add&quot;,\r\n\t\t\t&quot;path&quot;: &quot;/groups&quot;,\r\n\t\t\t&quot;value&quot;: [\r\n\t\t\t\t&quot;close-friends&quot;,\r\n\t\t\t\t&quot;gym&quot;\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n\r\nNow consider the following code to produce a JSON Merge Patch:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tJsonValue source = Json.createReader(new StringReader(leftJson)).readValue();\r\n    JsonValue target = Json.createReader(new StringReader(rightJson)).readValue();\r\n\r\n\tJsonMergePatch mergeDiff = Json.createMergeDiff(source, target);\r\n    System.out.println(format(mergeDiff.toJsonValue()));\r\n\t\r\nIt will produce the following output:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n\t{\r\n\t\t&quot;name&quot;: {\r\n\t\t\t&quot;first&quot;: &quot;Jane&quot;,\r\n\t\t\t&quot;nickname&quot;: &quot;Jenny&quot;\r\n\t\t},\r\n\t\t&quot;address&quot;: null,\r\n\t\t&quot;birthday&quot;: &quot;1990-01-01&quot;,\r\n\t\t&quot;company&quot;: null,\r\n\t\t&quot;occupation&quot;: null,\r\n\t\t&quot;phones&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;number&quot;: &quot;111111111&quot;,\r\n\t\t\t\t&quot;type&quot;: &quot;mobile&quot;\r\n\t\t\t}\r\n\t\t],\r\n\t\t&quot;favorite&quot;: true,\r\n\t\t&quot;groups&quot;: [\r\n\t\t\t&quot;close-friends&quot;,\r\n\t\t\t&quot;gym&quot;\r\n\t\t]\r\n\t}\r\n\t\r\n## Different results when applying the patches\r\n\t\r\nWhen the patch document is applied, the results are slightly different for the approaches described above. Consider the following code that applies JSON Patch to a document:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    JsonPatch diff = ...\r\n\tJsonValue patched = diff.apply(source.asJsonObject());\r\n    System.out.println(format(patched));\r\n\r\nIt produces:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\t\r\n\t{\r\n\t\t&quot;name&quot;: {\r\n\t\t\t&quot;first&quot;: &quot;Jane&quot;,\r\n\t\t\t&quot;last&quot;: &quot;Doe&quot;,\r\n\t\t\t&quot;nickname&quot;: &quot;Jenny&quot;\r\n\t\t},\r\n\t\t&quot;birthday&quot;: &quot;1990-01-01&quot;,\r\n\t\t&quot;occupation&quot;: null,\r\n\t\t&quot;phones&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;number&quot;: &quot;111111111&quot;,\r\n\t\t\t\t&quot;type&quot;: &quot;mobile&quot;\r\n\t\t\t}\r\n\t\t],\r\n\t\t&quot;favorite&quot;: true,\r\n\t\t&quot;groups&quot;: [\r\n\t\t\t&quot;close-friends&quot;,\r\n\t\t\t&quot;gym&quot;\r\n\t\t]\r\n\t}\r\n\t\r\nNow consider the following code that applies JSON Merge Patch to a document:\r\n\t\r\n&lt;!-- language: lang-java --&gt;\r\n\t\r\n\tJsonMergePatch mergeDiff = ...\r\n\tJsonValue patched = mergeDiff.apply(source);\r\n    System.out.println(format(patched));\r\n\r\nIt produces:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\t\r\n\t{\r\n\t\t&quot;name&quot;: {\r\n\t\t\t&quot;first&quot;: &quot;Jane&quot;,\r\n\t\t\t&quot;last&quot;: &quot;Doe&quot;,\r\n\t\t\t&quot;nickname&quot;: &quot;Jenny&quot;\r\n\t\t},\r\n\t\t&quot;birthday&quot;: &quot;1990-01-01&quot;,\r\n\t\t&quot;phones&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;number&quot;: &quot;111111111&quot;,\r\n\t\t\t\t&quot;type&quot;: &quot;mobile&quot;\r\n\t\t\t}\r\n\t\t],\r\n\t\t&quot;favorite&quot;: true,\r\n\t\t&quot;groups&quot;: [\r\n\t\t\t&quot;close-friends&quot;,\r\n\t\t\t&quot;gym&quot;\r\n\t\t]\r\n\t}\r\n\t\r\nIn the first example, the `occupation` property is `null`. In the second example, it&#39;s omitted. It&#39;s due to the `null` semantics on JSON Merge Patch. From the [RFC 7396][5]:\r\n\r\n&gt; If the target does contain the member, the value is replaced.  Null values in the merge patch are given special meaning to indicate the removal of existing values in the target. [...]\r\n&gt;\r\n&gt; This design means that merge patch documents are suitable for describing modifications to JSON documents that primarily use objects for their structure and do not make use of explicit null values.  The merge patch format is not appropriate for all JSON syntaxes.\r\n\t\r\n\r\n  [1]: https://stackoverflow.com/a/50969020/1426227\r\n  [2]: https://javaee.github.io/jsonp/\r\n  [3]: https://www.jcp.org/en/jsr/detail?id=374\r\n  [4]: https://www.rfc-editor.org/rfc/rfc6902\r\n  [5]: https://www.rfc-editor.org/rfc/rfc7396","title":"How to compare JSON documents and return the differences with Jackson or Gson?","body":"<h2>Creating a JSON Patch document</h2>\n<p>Alternatively to the approach described in the <a href=\"https://stackoverflow.com/a/50969020/1426227\">other answer</a>, you could use the <a href=\"https://javaee.github.io/jsonp/\" rel=\"noreferrer\">Java API for JSON Processing</a> defined in the <a href=\"https://www.jcp.org/en/jsr/detail?id=374\" rel=\"noreferrer\">JSR 374</a> (it doesn't use on Gson or Jackson). The following dependencies are required:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Java API for JSON Processing (API) --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.json&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.json-api&lt;/artifactId&gt;\n    &lt;version&gt;1.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Java API for JSON Processing (implementation) --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n    &lt;version&gt;1.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then you can create a JSON diff from the JSON documents. It will produce a JSON Patch document as defined in the <a href=\"https://www.rfc-editor.org/rfc/rfc6902\" rel=\"noreferrer\">RFC 6902</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonPatch diff = Json.createDiff(source, target);\n</code></pre>\n<p>When applied to the source document, the JSON Patch yields the target document. The JSON Patch can be applied to the source document using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonObject patched = diff.apply(source);\n</code></pre>\n<h2>Creating a JSON Merge Patch document</h2>\n<p>Depending on your needs, you could create a JSON Merge Patch document as defined in the <a href=\"https://www.rfc-editor.org/rfc/rfc7396\" rel=\"noreferrer\">RFC 7396</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonMergePatch mergeDiff = Json.createMergeDiff(source, target);\n</code></pre>\n<p>When applied to the source document, the JSON Merge Patch yields the target document. To patch the source, use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonValue patched = mergeDiff.apply(source);\n</code></pre>\n<h2>Pretty printing JSON documents</h2>\n<p>To pretty print the JSON documents, you can use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(format(diff.toJsonArray()));\nSystem.out.println(format(mergeDiff.toJsonValue()));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static String format(JsonValue json) {\n    StringWriter stringWriter = new StringWriter();\n    prettyPrint(json, stringWriter);\n    return stringWriter.toString();\n}\n\npublic static void prettyPrint(JsonValue json, Writer writer) {\n    Map&lt;String, Object&gt; config =\n            Collections.singletonMap(JsonGenerator.PRETTY_PRINTING, true);\n    JsonWriterFactory writerFactory = Json.createWriterFactory(config);\n    try (JsonWriter jsonWriter = writerFactory.createWriter(writer)) {\n        jsonWriter.write(json);\n    }\n}\n</code></pre>\n<h2>Example</h2>\n<p>Consider the following JSON documents:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: {\n    &quot;first&quot;: &quot;John&quot;,\n    &quot;last&quot;: &quot;Doe&quot;\n  },\n  &quot;address&quot;: null,\n  &quot;birthday&quot;: &quot;1980-01-01&quot;,\n  &quot;company&quot;: &quot;Acme&quot;,\n  &quot;occupation&quot;: &quot;Software engineer&quot;,\n  &quot;phones&quot;: [\n    {\n      &quot;number&quot;: &quot;000000000&quot;,\n      &quot;type&quot;: &quot;home&quot;\n    },\n    {\n      &quot;number&quot;: &quot;999999999&quot;,\n      &quot;type&quot;: &quot;mobile&quot;\n    }\n  ]\n}\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: {\n    &quot;first&quot;: &quot;Jane&quot;,\n    &quot;last&quot;: &quot;Doe&quot;,\n    &quot;nickname&quot;: &quot;Jenny&quot;\n  },\n  &quot;birthday&quot;: &quot;1990-01-01&quot;,\n  &quot;occupation&quot;: null,\n  &quot;phones&quot;: [\n    {\n      &quot;number&quot;: &quot;111111111&quot;,\n      &quot;type&quot;: &quot;mobile&quot;\n    }\n  ],\n  &quot;favorite&quot;: true,\n  &quot;groups&quot;: [\n    &quot;close-friends&quot;,\n    &quot;gym&quot;\n  ]\n}\n</code></pre>\n<p>And the following code to produce a JSON Patch:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonValue source = Json.createReader(new StringReader(leftJson)).readValue();\nJsonValue target = Json.createReader(new StringReader(rightJson)).readValue();\n\nJsonPatch diff = Json.createDiff(source.asJsonObject(), target.asJsonObject());\nSystem.out.println(format(diff.toJsonArray()));\n</code></pre>\n<p>It will produce the following output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>[\n    {\n        &quot;op&quot;: &quot;replace&quot;,\n        &quot;path&quot;: &quot;/name/first&quot;,\n        &quot;value&quot;: &quot;Jane&quot;\n    },\n    {\n        &quot;op&quot;: &quot;add&quot;,\n        &quot;path&quot;: &quot;/name/nickname&quot;,\n        &quot;value&quot;: &quot;Jenny&quot;\n    },\n    {\n        &quot;op&quot;: &quot;remove&quot;,\n        &quot;path&quot;: &quot;/address&quot;\n    },\n    {\n        &quot;op&quot;: &quot;replace&quot;,\n        &quot;path&quot;: &quot;/birthday&quot;,\n        &quot;value&quot;: &quot;1990-01-01&quot;\n    },\n    {\n        &quot;op&quot;: &quot;remove&quot;,\n        &quot;path&quot;: &quot;/company&quot;\n    },\n    {\n        &quot;op&quot;: &quot;replace&quot;,\n        &quot;path&quot;: &quot;/occupation&quot;,\n        &quot;value&quot;: null\n    },\n    {\n        &quot;op&quot;: &quot;replace&quot;,\n        &quot;path&quot;: &quot;/phones/1/number&quot;,\n        &quot;value&quot;: &quot;111111111&quot;\n    },\n    {\n        &quot;op&quot;: &quot;remove&quot;,\n        &quot;path&quot;: &quot;/phones/0&quot;\n    },\n    {\n        &quot;op&quot;: &quot;add&quot;,\n        &quot;path&quot;: &quot;/favorite&quot;,\n        &quot;value&quot;: true\n    },\n    {\n        &quot;op&quot;: &quot;add&quot;,\n        &quot;path&quot;: &quot;/groups&quot;,\n        &quot;value&quot;: [\n            &quot;close-friends&quot;,\n            &quot;gym&quot;\n        ]\n    }\n]\n</code></pre>\n<p>Now consider the following code to produce a JSON Merge Patch:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonValue source = Json.createReader(new StringReader(leftJson)).readValue();\nJsonValue target = Json.createReader(new StringReader(rightJson)).readValue();\n\nJsonMergePatch mergeDiff = Json.createMergeDiff(source, target);\nSystem.out.println(format(mergeDiff.toJsonValue()));\n</code></pre>\n<p>It will produce the following output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: {\n        &quot;first&quot;: &quot;Jane&quot;,\n        &quot;nickname&quot;: &quot;Jenny&quot;\n    },\n    &quot;address&quot;: null,\n    &quot;birthday&quot;: &quot;1990-01-01&quot;,\n    &quot;company&quot;: null,\n    &quot;occupation&quot;: null,\n    &quot;phones&quot;: [\n        {\n            &quot;number&quot;: &quot;111111111&quot;,\n            &quot;type&quot;: &quot;mobile&quot;\n        }\n    ],\n    &quot;favorite&quot;: true,\n    &quot;groups&quot;: [\n        &quot;close-friends&quot;,\n        &quot;gym&quot;\n    ]\n}\n</code></pre>\n<h2>Different results when applying the patches</h2>\n<p>When the patch document is applied, the results are slightly different for the approaches described above. Consider the following code that applies JSON Patch to a document:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonPatch diff = ...\nJsonValue patched = diff.apply(source.asJsonObject());\nSystem.out.println(format(patched));\n</code></pre>\n<p>It produces:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: {\n        &quot;first&quot;: &quot;Jane&quot;,\n        &quot;last&quot;: &quot;Doe&quot;,\n        &quot;nickname&quot;: &quot;Jenny&quot;\n    },\n    &quot;birthday&quot;: &quot;1990-01-01&quot;,\n    &quot;occupation&quot;: null,\n    &quot;phones&quot;: [\n        {\n            &quot;number&quot;: &quot;111111111&quot;,\n            &quot;type&quot;: &quot;mobile&quot;\n        }\n    ],\n    &quot;favorite&quot;: true,\n    &quot;groups&quot;: [\n        &quot;close-friends&quot;,\n        &quot;gym&quot;\n    ]\n}\n</code></pre>\n<p>Now consider the following code that applies JSON Merge Patch to a document:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonMergePatch mergeDiff = ...\nJsonValue patched = mergeDiff.apply(source);\nSystem.out.println(format(patched));\n</code></pre>\n<p>It produces:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: {\n        &quot;first&quot;: &quot;Jane&quot;,\n        &quot;last&quot;: &quot;Doe&quot;,\n        &quot;nickname&quot;: &quot;Jenny&quot;\n    },\n    &quot;birthday&quot;: &quot;1990-01-01&quot;,\n    &quot;phones&quot;: [\n        {\n            &quot;number&quot;: &quot;111111111&quot;,\n            &quot;type&quot;: &quot;mobile&quot;\n        }\n    ],\n    &quot;favorite&quot;: true,\n    &quot;groups&quot;: [\n        &quot;close-friends&quot;,\n        &quot;gym&quot;\n    ]\n}\n</code></pre>\n<p>In the first example, the <code>occupation</code> property is <code>null</code>. In the second example, it's omitted. It's due to the <code>null</code> semantics on JSON Merge Patch. From the <a href=\"https://www.rfc-editor.org/rfc/rfc7396\" rel=\"noreferrer\">RFC 7396</a>:</p>\n<blockquote>\n<p>If the target does contain the member, the value is replaced.  Null values in the merge patch are given special meaning to indicate the removal of existing values in the target. [...]</p>\n<p>This design means that merge patch documents are suitable for describing modifications to JSON documents that primarily use objects for their structure and do not make use of explicit null values.  The merge patch format is not appropriate for all JSON syntaxes.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23044388,"reputation":11,"user_id":17162127,"display_name":"mkfl3x"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684855128,"creation_date":1684854168,"answer_id":76316171,"question_id":50967015,"body_markdown":"You can try my library - [json-delta][1].  \r\nIt&#39;s based on **Gson** and can be configured with specific purposes like ignoring fields or consider/not consider missed/unexpected fields.\r\n\r\n**Example**   \r\n```lang-json\r\nexpected:\r\n{\r\n  &quot;type&quot;: &quot;animal&quot;,\r\n  &quot;info&quot;: {\r\n    &quot;id&quot;: 123,\r\n    &quot;subtype&quot;: &quot;Cat&quot;,\r\n    &quot;timestamp&quot;: 1684852390\r\n  }\r\n}\r\n\r\nactual:\r\n{\r\n  &quot;type&quot;: &quot;animal&quot;,\r\n  &quot;info&quot;: {\r\n    &quot;id&quot;: 123,\r\n    &quot;subtype&quot;: &quot;Tiger&quot;,\r\n    &quot;timestamp&quot;: 1684852399\r\n  }\r\n}\r\n```\r\nComparison and printed result:\r\n```lang-java\r\n// Third parameter &#39;ignoredFields&#39; is vararg  \r\n// Here &#39;timestamp&#39; field is ignored because dynamic\r\nJsonDeltaReport report = new JsonDelta().compare(expected, actual, &quot;root.info.timestamp&quot;);\r\nSystem.out.println(report);\r\n```\r\nThe output will look like this:\r\n```lang-none\r\nStatus: failed\r\nMismatches:\r\n&quot;root.info.subtype&quot;: Value mismatch. Expected: &quot;Cat&quot;; Actual: &quot;Tiger&quot;\r\n```\r\n**JsonDeltaReport** object has following fields:\r\n\r\n 1. **success** (Boolean): Comparison result (success if JSONs are equals)\r\n 2. **mismatches** (List&lt;Mismatch&gt;): List of all mismatches\r\n\r\n  [1]: https://github.com/mkfl3x/json-delta","title":"How to compare JSON documents and return the differences with Jackson or Gson?","body":"<p>You can try my library - <a href=\"https://github.com/mkfl3x/json-delta\" rel=\"nofollow noreferrer\">json-delta</a>.<br />\nIt's based on <strong>Gson</strong> and can be configured with specific purposes like ignoring fields or consider/not consider missed/unexpected fields.</p>\n<p><strong>Example</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>expected:\n{\n  &quot;type&quot;: &quot;animal&quot;,\n  &quot;info&quot;: {\n    &quot;id&quot;: 123,\n    &quot;subtype&quot;: &quot;Cat&quot;,\n    &quot;timestamp&quot;: 1684852390\n  }\n}\n\nactual:\n{\n  &quot;type&quot;: &quot;animal&quot;,\n  &quot;info&quot;: {\n    &quot;id&quot;: 123,\n    &quot;subtype&quot;: &quot;Tiger&quot;,\n    &quot;timestamp&quot;: 1684852399\n  }\n}\n</code></pre>\n<p>Comparison and printed result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Third parameter 'ignoredFields' is vararg  \n// Here 'timestamp' field is ignored because dynamic\nJsonDeltaReport report = new JsonDelta().compare(expected, actual, &quot;root.info.timestamp&quot;);\nSystem.out.println(report);\n</code></pre>\n<p>The output will look like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Status: failed\nMismatches:\n&quot;root.info.subtype&quot;: Value mismatch. Expected: &quot;Cat&quot;; Actual: &quot;Tiger&quot;\n</code></pre>\n<p><strong>JsonDeltaReport</strong> object has following fields:</p>\n<ol>\n<li><strong>success</strong> (Boolean): Comparison result (success if JSONs are equals)</li>\n<li><strong>mismatches</strong> (List): List of all mismatches</li>\n</ol>\n"}],"owner":{"account_id":4496339,"reputation":3703,"user_id":3656056,"accept_rate":53,"display_name":"VelNaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71556,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":50969020,"answer_count":3,"score":44,"last_activity_date":1684855128,"creation_date":1529579239,"question_id":50967015,"body_markdown":"I am using spring-boot to develop backend services. There is a scenario to compare 2-beans(one is the DB object and another one is the client requested object) and return the &quot;new element&quot;,&quot;modified element&quot; and if there is no change then return false. The 2-beans are in a below format\r\n\r\n    &quot;sampleList&quot;:{\r\n         &quot;timeStamp&quot;:&quot;Thu, 21 Jun 2018 07:57:00 +0000&quot;,\r\n         &quot;id&quot;:&quot;5b19441ac9e77c000189b991&quot;,\r\n         &quot;sampleListTypeId&quot;:&quot;type001&quot;,\r\n         &quot;friendlyName&quot;:&quot;sample&quot;,\r\n         &quot;contacts&quot;:[\r\n            {\r\n               &quot;id&quot;:&quot;5b05329cc9e77c000189b950&quot;,\r\n               &quot;priorityOrder&quot;:1,\r\n               &quot;name&quot;:&quot;sample1&quot;,\r\n               &quot;relation&quot;:&quot;Friend&quot;,\r\n               &quot;sampleInfo&quot;:{\r\n                  &quot;countryCode&quot;:&quot;91&quot;,\r\n                  &quot;numberType&quot;:&quot;MOBILE&quot;,\r\n                  &quot;numberRegion&quot;:&quot;IN&quot;\r\n               }\r\n            },\r\n            {\r\n               &quot;id&quot;:&quot;5b05329cc9e77c000189b950&quot;,\r\n               &quot;priorityOrder&quot;:1,\r\n               &quot;name&quot;:&quot;sample2&quot;,\r\n               &quot;relation&quot;:&quot;Friend&quot;,\r\n               &quot;sampleInfo&quot;:{\r\n                  &quot;countryCode&quot;:&quot;91&quot;,\r\n                  &quot;numberType&quot;:&quot;MOBILE&quot;,\r\n                  &quot;numberRegion&quot;:&quot;IN&quot;\r\n               }\r\n            }\r\n         ]\r\n      }\r\n\r\nI have browsed internet about bean comparison for this scenario in java but I couldn&#39;t find any simpler solution but found some cool solution for JSON. I can see some solution for GSON but it will not return the client object contains &quot;new element&quot; and the &quot;changes element&quot;. Is there any way to return the newer and modified element in JSON or JAVA? Your help should be appreciable. Even a hint will be a great start for me.","title":"How to compare JSON documents and return the differences with Jackson or Gson?","body":"<p>I am using spring-boot to develop backend services. There is a scenario to compare 2-beans(one is the DB object and another one is the client requested object) and return the \"new element\",\"modified element\" and if there is no change then return false. The 2-beans are in a below format</p>\n\n<pre><code>\"sampleList\":{\n     \"timeStamp\":\"Thu, 21 Jun 2018 07:57:00 +0000\",\n     \"id\":\"5b19441ac9e77c000189b991\",\n     \"sampleListTypeId\":\"type001\",\n     \"friendlyName\":\"sample\",\n     \"contacts\":[\n        {\n           \"id\":\"5b05329cc9e77c000189b950\",\n           \"priorityOrder\":1,\n           \"name\":\"sample1\",\n           \"relation\":\"Friend\",\n           \"sampleInfo\":{\n              \"countryCode\":\"91\",\n              \"numberType\":\"MOBILE\",\n              \"numberRegion\":\"IN\"\n           }\n        },\n        {\n           \"id\":\"5b05329cc9e77c000189b950\",\n           \"priorityOrder\":1,\n           \"name\":\"sample2\",\n           \"relation\":\"Friend\",\n           \"sampleInfo\":{\n              \"countryCode\":\"91\",\n              \"numberType\":\"MOBILE\",\n              \"numberRegion\":\"IN\"\n           }\n        }\n     ]\n  }\n</code></pre>\n\n<p>I have browsed internet about bean comparison for this scenario in java but I couldn't find any simpler solution but found some cool solution for JSON. I can see some solution for GSON but it will not return the client object contains \"new element\" and the \"changes element\". Is there any way to return the newer and modified element in JSON or JAVA? Your help should be appreciable. Even a hint will be a great start for me.</p>\n"},{"tags":["java","selenium-webdriver","testng"],"answers":[{"tags":[],"owner":{"account_id":21598275,"reputation":150,"user_id":15926872,"display_name":"Sean Dillon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684854658,"creation_date":1684854658,"answer_id":76316234,"question_id":76316192,"body_markdown":"Remove @Optional annotation and define the parameter in the XML file:\r\nRemove the @Optional annotation from the startDriver method, and make sure the browser parameter is defined in the XML file. Update your XML file as follows:\r\n\r\n   \r\n\r\n     &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Regression Suite&quot; parallel=&quot;none&quot;&gt;\r\n        &lt;test name=&quot;Regression Test&quot; preserve-order=&quot;true&quot;&gt;\r\n            &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot;/&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;org.TestCasesWithoutItems.ApplicationContentTestCase&quot;&gt;&lt;/class&gt;\r\n            &lt;/classes&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;","title":"How to launch the browsers through the XML parameters","body":"<p>Remove @Optional annotation and define the parameter in the XML file:\nRemove the @Optional annotation from the startDriver method, and make sure the browser parameter is defined in the XML file. Update your XML file as follows:</p>\n<pre><code> &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Regression Suite&quot; parallel=&quot;none&quot;&gt;\n    &lt;test name=&quot;Regression Test&quot; preserve-order=&quot;true&quot;&gt;\n        &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;org.TestCasesWithoutItems.ApplicationContentTestCase&quot;&gt;&lt;/class&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n"}],"owner":{"account_id":28663371,"reputation":1,"user_id":21947884,"display_name":"Haider waleed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684854658,"creation_date":1684854330,"question_id":76316192,"body_markdown":"I am experiencing difficulties with launching the browser using TestNG parameters\r\n\r\nI am experiencing difficulties with launching the browser using TestNG parameters however when i tried to change the value of the paramter from XML file always run with chrome and if i tried to remove the @Optional i get an error &quot;Parameter &#39;browser&#39; is required by BeforeSuite on method startDriver but has not been marked @Optional or defined&quot;\r\n\r\nhere&#39;s my code for TestBase:\r\n\r\n``` java\r\n@BeforeSuite\r\n    @Parameters(&quot;browser&quot;)\r\n    public void startDriver(@Optional(&quot;chrome&quot;) String browserName) {\r\n            if (browserName.equalsIgnoreCase(&quot;chrome&quot;)) {\r\n                // Set the path to the Chrome driver\r\n                System.setProperty(ChromeDriverService.CHROME_DRIVER_SILENT_OUTPUT_PROPERTY, &quot;true&quot;);\r\n                System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\r\n\r\n                // insecure connection / untrusted certificate\r\n                ChromeOptions options = new ChromeOptions();\r\n                options.setAcceptInsecureCerts(true);\r\n                driver = new ChromeDriver(options);\r\n                options.addArguments(&quot;--disable-extensions&quot;);\r\n                options.addArguments(&quot;--disable-web-security&quot;);\r\n                options.addArguments(&quot;--disable-notifications&quot;);\r\n                options.addArguments(&quot;--start-maximized&quot;);\r\n                options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\r\n\r\n            } else if (browserName.equalsIgnoreCase(&quot;headless&quot;)) {\r\n                System.setProperty(ChromeDriverService.CHROME_DRIVER_SILENT_OUTPUT_PROPERTY, &quot;true&quot;);\r\n                System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\r\n\r\n                ChromeOptions options = new ChromeOptions();\r\n                options.setAcceptInsecureCerts(true);\r\n                options.addArguments(&quot;--window-size=1920,1080&quot;);\r\n                options.addArguments(&quot;--disable-gpu&quot;);\r\n                options.addArguments(&quot;--disable-extensions&quot;);\r\n                options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n                options.addArguments(&quot;--proxy-server=&#39;direct://&#39;&quot;);\r\n                options.addArguments(&quot;--proxy-bypass-list=*&quot;);\r\n                options.addArguments(&quot;--start-maximized&quot;);\r\n                options.addArguments(&quot;--headless&quot;);\r\n                driver = new ChromeDriver(options);\r\n            }else {\r\n                throw new IllegalArgumentException(&quot;Invalid browser parameter value: &quot; + browserName);\r\n            }\r\n```\r\n\r\nAnd here&#39;s my XML file:\r\n\r\n\r\n```XML\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\r\n&lt;suite name=&quot;Regression Suite&quot; parallel=&quot;none&quot;&gt;\r\n\r\n    &lt;test name=&quot;Regression Test&quot; preserve-order=&quot;true&quot;&gt;\r\n\r\n        &lt;parameter name=&quot;browser&quot; value=&quot;headless&quot;/&gt;\r\n\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;org.TestCasesWithoutItems.ApplicationContentTestCase&quot;&gt; &lt;/class&gt;\r\n\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```","title":"How to launch the browsers through the XML parameters","body":"<p>I am experiencing difficulties with launching the browser using TestNG parameters</p>\n<p>I am experiencing difficulties with launching the browser using TestNG parameters however when i tried to change the value of the paramter from XML file always run with chrome and if i tried to remove the @Optional i get an error &quot;Parameter 'browser' is required by BeforeSuite on method startDriver but has not been marked @Optional or defined&quot;</p>\n<p>here's my code for TestBase:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BeforeSuite\n    @Parameters(&quot;browser&quot;)\n    public void startDriver(@Optional(&quot;chrome&quot;) String browserName) {\n            if (browserName.equalsIgnoreCase(&quot;chrome&quot;)) {\n                // Set the path to the Chrome driver\n                System.setProperty(ChromeDriverService.CHROME_DRIVER_SILENT_OUTPUT_PROPERTY, &quot;true&quot;);\n                System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\n\n                // insecure connection / untrusted certificate\n                ChromeOptions options = new ChromeOptions();\n                options.setAcceptInsecureCerts(true);\n                driver = new ChromeDriver(options);\n                options.addArguments(&quot;--disable-extensions&quot;);\n                options.addArguments(&quot;--disable-web-security&quot;);\n                options.addArguments(&quot;--disable-notifications&quot;);\n                options.addArguments(&quot;--start-maximized&quot;);\n                options.addArguments(&quot;--remote-allow-origins=*&quot;);\n\n\n            } else if (browserName.equalsIgnoreCase(&quot;headless&quot;)) {\n                System.setProperty(ChromeDriverService.CHROME_DRIVER_SILENT_OUTPUT_PROPERTY, &quot;true&quot;);\n                System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\n\n                ChromeOptions options = new ChromeOptions();\n                options.setAcceptInsecureCerts(true);\n                options.addArguments(&quot;--window-size=1920,1080&quot;);\n                options.addArguments(&quot;--disable-gpu&quot;);\n                options.addArguments(&quot;--disable-extensions&quot;);\n                options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\n                options.addArguments(&quot;--proxy-server='direct://'&quot;);\n                options.addArguments(&quot;--proxy-bypass-list=*&quot;);\n                options.addArguments(&quot;--start-maximized&quot;);\n                options.addArguments(&quot;--headless&quot;);\n                driver = new ChromeDriver(options);\n            }else {\n                throw new IllegalArgumentException(&quot;Invalid browser parameter value: &quot; + browserName);\n            }\n</code></pre>\n<p>And here's my XML file:</p>\n<pre><code>&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\n&lt;suite name=&quot;Regression Suite&quot; parallel=&quot;none&quot;&gt;\n\n    &lt;test name=&quot;Regression Test&quot; preserve-order=&quot;true&quot;&gt;\n\n        &lt;parameter name=&quot;browser&quot; value=&quot;headless&quot;/&gt;\n\n        &lt;classes&gt;\n            &lt;class name=&quot;org.TestCasesWithoutItems.ApplicationContentTestCase&quot;&gt; &lt;/class&gt;\n\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n"},{"tags":["java","kotlin","nullpointerexception","kotlin-null-safety"],"comments":[{"owner":{"account_id":13264723,"reputation":476,"user_id":16893413,"display_name":"DavidT"},"score":0,"creation_date":1684868092,"post_id":76316074,"comment_id":134579410,"body_markdown":"TBH, Kotlin&#39;s interface with Java is pretty clean, typically the 3 areas where extra care is required are: Nullability, Mutability (immutable lists etc) and cases where a Java library constructs new Kotlin objects (how to pass in class objects and usage of late init etc).","body":"TBH, Kotlin&#39;s interface with Java is pretty clean, typically the 3 areas where extra care is required are: Nullability, Mutability (immutable lists etc) and cases where a Java library constructs new Kotlin objects (how to pass in class objects and usage of late init etc)."},{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":1,"creation_date":1684884114,"post_id":76316074,"comment_id":134581985,"body_markdown":"As the question, comments, and answers show, you have many options. Which one(s) to choose depends upon this: **What do you _want_ to happen if the Java code returns null where the Kotlin code is expecting non-null?** An immediate exception with a specific helpful message? An immediate generic NullPointerException? No exception unless/until you try to use the value? A default value? Bypassing any code which tries to use the value? — All of those are possible, and most could make sense in the right situation.","body":"As the question, comments, and answers show, you have many options. Which one(s) to choose depends upon this: <b>What do you <i>want</i> to happen if the Java code returns null where the Kotlin code is expecting non-null?</b> An immediate exception with a specific helpful message? An immediate generic NullPointerException? No exception unless/until you try to use the value? A default value? Bypassing any code which tries to use the value? — All of those are possible, and most could make sense in the right situation."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1684854488,"creation_date":1684854088,"answer_id":76316156,"question_id":76316074,"body_markdown":"Treat it the same way you would in Java. Assume the value might be null unless the documentation for the method that you are getting it from declares that it will not be null. If it does not declare that it will not return null, it is nullable. Treat it exactly as a nullable Kotlin variable. So use `?.`, `?:`, `if (foo != null)`, or `.orEmpty()` as appropriate for the situation.\r\n\r\nJava also has non-nullable `boolean`, `long`, `int`, `char`, `byte`, `double`, and `float`. If you see the lowercase type, you know it&#39;s not nullable.","title":"How can I safely handle null values when calling Java methods from Kotlin?","body":"<p>Treat it the same way you would in Java. Assume the value might be null unless the documentation for the method that you are getting it from declares that it will not be null. If it does not declare that it will not return null, it is nullable. Treat it exactly as a nullable Kotlin variable. So use <code>?.</code>, <code>?:</code>, <code>if (foo != null)</code>, or <code>.orEmpty()</code> as appropriate for the situation.</p>\n<p>Java also has non-nullable <code>boolean</code>, <code>long</code>, <code>int</code>, <code>char</code>, <code>byte</code>, <code>double</code>, and <code>float</code>. If you see the lowercase type, you know it's not nullable.</p>\n"}],"owner":{"account_id":28621079,"reputation":55,"user_id":21914120,"display_name":"Stammenator"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76316156,"answer_count":1,"score":3,"last_activity_date":1684854488,"creation_date":1684853659,"question_id":76316074,"body_markdown":"How can I handle null safety in Kotlin when interfacing with Java libraries that do not have null safety?\r\n\r\nThrough research, here are things I found that &quot;work&quot;, but are not safe.\r\n\r\n1. Using Kotlin&#39;s non-null type with a Java method that returns null:\r\n\r\n2. Using `!!` operator with a Java method that returns null:\r\n\r\n3. Assuming a Java Boolean is never null: In Java, `Boolean` can be `true`, `false`, or `null`, but in Kotlin, `Boolean` can only be `true` or `false`.\r\n\r\nIn these examples, my Kotlin compiler won&#39;t show an error because it doesn&#39;t have enough information about whether the Java methods can return null. ","title":"How can I safely handle null values when calling Java methods from Kotlin?","body":"<p>How can I handle null safety in Kotlin when interfacing with Java libraries that do not have null safety?</p>\n<p>Through research, here are things I found that &quot;work&quot;, but are not safe.</p>\n<ol>\n<li><p>Using Kotlin's non-null type with a Java method that returns null:</p>\n</li>\n<li><p>Using <code>!!</code> operator with a Java method that returns null:</p>\n</li>\n<li><p>Assuming a Java Boolean is never null: In Java, <code>Boolean</code> can be <code>true</code>, <code>false</code>, or <code>null</code>, but in Kotlin, <code>Boolean</code> can only be <code>true</code> or <code>false</code>.</p>\n</li>\n</ol>\n<p>In these examples, my Kotlin compiler won't show an error because it doesn't have enough information about whether the Java methods can return null.</p>\n"},{"tags":["java","angular","spring"],"owner":{"account_id":2486083,"reputation":155,"user_id":5846098,"accept_rate":0,"display_name":"isin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684853765,"creation_date":1684853765,"question_id":76316097,"body_markdown":"In a project I want to view files and folders under a root folder and be able to download these files or navigate in folders. \r\n\r\nFor txt, json, log extensions the files are successfully downloaded but for other types like xlsx I get strange errors like the one below\r\n\r\n    sendMessage:  SyntaxError: Unexpected token &#39;P&#39;, &quot;PK\u0003\u0004\u0014 &quot; is not a valid JSON...\r\n\r\nIt is trying to parse a json file.\r\n\r\nI am using a @RepositoryRestController with the Java code:\r\n\r\n      @RequestMapping(value = &quot;/user/file/download&quot;, method = RequestMethod.GET)\r\n      public void downloadFile(@RequestParam String path, HttpServletResponse response)\r\n          throws Exception {\r\n    \r\n        String filename = path.contains(&quot;\\\\&quot;) ? path.substring(path.lastIndexOf(&quot;\\\\&quot;) + 1) : path;\r\n        String fullPath = filesPath + path;\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.add(\r\n            HttpHeaders.CONTENT_DISPOSITION,\r\n            &quot;attachment; filename=\\&quot;&quot; + URLEncoder.encode(filename, &quot;UTF-8&quot;) + &quot;\\&quot;&quot;);\r\n    \r\n        FileSystemResource fileSystemResource = new FileSystemResource(fullPath);\r\n        File file = fileSystemResource.getFile();\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + file.getName());\r\n        response.setHeader(&quot;Content-Length&quot;, String.valueOf(file.length()));\r\n        FileCopyUtils.copy(in, response.getOutputStream());\r\n        response.flushBuffer();\r\n      }\r\n\r\nAnd the angular code:\r\n  \r\n\r\n    getFile(file: FileElement) {\r\n        this.http\r\n          .get&lt;HttpResponse&lt;any&gt;&gt;(&quot;rest/user/file/download&quot;, {\r\n            headers: new HttpHeaders().append(\r\n              &quot;Content-Type&quot;,\r\n              this.getMimeType(file.name)\r\n            ),\r\n            observe: &quot;response&quot;,\r\n            params: { path: file.path },\r\n          })\r\n          .pipe(\r\n            map((res) =&gt; {\r\n              this.donwloadingFile(res, &quot;success&quot;);\r\n            }),\r\n            catchError((error) =&gt; {\r\n                console.log(error);\r\n                return of(error);\r\n            })\r\n          )\r\n          .subscribe();\r\n      }\r\n    \r\n      getMimeType(filename: string) {\r\n        var re = /(?:\\.([^.]+))?$/;\r\n        var ext = re.exec(filename)[1];\r\n        switch (ext.toLowerCase()) {\r\n          case &quot;zip&quot;:\r\n            return &quot;application/zip&quot;;\r\n          case &quot;json&quot;:\r\n            return &quot;application/json&quot;;\r\n          case &quot;txt&quot;:\r\n            return &quot;text&quot;;\r\n          case &quot;log&quot;:\r\n            return &quot;text&quot;;\r\n          case &quot;csv&quot;:\r\n            return &quot;text/csv&quot;;\r\n          case &quot;xlsx&quot;:\r\n            return &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;;\r\n          case &quot;xls&quot;:\r\n            return &quot;application/vnd.ms-excel&quot;;\r\n        }\r\n      }\r\n    \r\n      donwloadingFile(res: HttpResponse&lt;any&gt;, SuccessMsg: string) {\r\n        console.log(&quot;download res: &quot;, res);\r\n        if (res === null || res === undefined || typeof res == undefined) return false;\r\n        var filename = &quot;&quot;;\r\n        var disposition = res.headers.get(&#39;Content-Disposition&#39;);\r\n        if (disposition &amp;&amp; disposition.indexOf(&#39;attachment&#39;) !== -1) {\r\n          var filenameRegex = /filename[^;=\\n]*=(([&#39;&quot;]).*?\\2|[^;\\n]*)/;\r\n          var matches = filenameRegex.exec(disposition);\r\n          if (matches != null &amp;&amp; matches[1]) {\r\n            filename = matches[1].replace(/[&#39;&quot;]/g, &#39;&#39;);\r\n          }\r\n        }\r\n        var type = res.headers.get(&#39;Content-Type&#39;);\r\n        var blob = new Blob([res.body], { type: type });\r\n    \r\n        let nav: any = window.navigator;\r\n        if (nav &amp;&amp; nav.msSaveOrOpenBlob) {\r\n          nav.msSaveOrOpenBlob(blob);\r\n        } else {\r\n          var file = new File([blob], filename, { type: type, lastModified: Date.now() });\r\n          var objectUrl = window.URL.createObjectURL(file);\r\n          var fileLink = document.createElement(&#39;a&#39;);\r\n          fileLink.href = objectUrl;\r\n          fileLink.download = filename;\r\n          fileLink.target = &quot;_self&quot;;\r\n          fileLink.dispatchEvent(new MouseEvent(&#39;click&#39;, { bubbles: true, cancelable: true, view: window }));\r\n    \r\n          setTimeout(function () {\r\n            window.URL.revokeObjectURL(objectUrl);\r\n            fileLink.remove();\r\n          }, 0);\r\n        }\r\n    \r\n        this.comServ.sendMessage(SuccessMsg, &#39;S&#39;);\r\n        return true;\r\n      }\r\n\r\nAny ideas how to download any type of file in browser?","title":"Downloading files from filesystem using spring rest controller and angular","body":"<p>In a project I want to view files and folders under a root folder and be able to download these files or navigate in folders.</p>\n<p>For txt, json, log extensions the files are successfully downloaded but for other types like xlsx I get strange errors like the one below</p>\n<pre><code>sendMessage:  SyntaxError: Unexpected token 'P', &quot;PK &quot; is not a valid JSON...\n</code></pre>\n<p>It is trying to parse a json file.</p>\n<p>I am using a @RepositoryRestController with the Java code:</p>\n<pre><code>  @RequestMapping(value = &quot;/user/file/download&quot;, method = RequestMethod.GET)\n  public void downloadFile(@RequestParam String path, HttpServletResponse response)\n      throws Exception {\n\n    String filename = path.contains(&quot;\\\\&quot;) ? path.substring(path.lastIndexOf(&quot;\\\\&quot;) + 1) : path;\n    String fullPath = filesPath + path;\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(\n        HttpHeaders.CONTENT_DISPOSITION,\n        &quot;attachment; filename=\\&quot;&quot; + URLEncoder.encode(filename, &quot;UTF-8&quot;) + &quot;\\&quot;&quot;);\n\n    FileSystemResource fileSystemResource = new FileSystemResource(fullPath);\n    File file = fileSystemResource.getFile();\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + file.getName());\n    response.setHeader(&quot;Content-Length&quot;, String.valueOf(file.length()));\n    FileCopyUtils.copy(in, response.getOutputStream());\n    response.flushBuffer();\n  }\n</code></pre>\n<p>And the angular code:</p>\n<pre><code>getFile(file: FileElement) {\n    this.http\n      .get&lt;HttpResponse&lt;any&gt;&gt;(&quot;rest/user/file/download&quot;, {\n        headers: new HttpHeaders().append(\n          &quot;Content-Type&quot;,\n          this.getMimeType(file.name)\n        ),\n        observe: &quot;response&quot;,\n        params: { path: file.path },\n      })\n      .pipe(\n        map((res) =&gt; {\n          this.donwloadingFile(res, &quot;success&quot;);\n        }),\n        catchError((error) =&gt; {\n            console.log(error);\n            return of(error);\n        })\n      )\n      .subscribe();\n  }\n\n  getMimeType(filename: string) {\n    var re = /(?:\\.([^.]+))?$/;\n    var ext = re.exec(filename)[1];\n    switch (ext.toLowerCase()) {\n      case &quot;zip&quot;:\n        return &quot;application/zip&quot;;\n      case &quot;json&quot;:\n        return &quot;application/json&quot;;\n      case &quot;txt&quot;:\n        return &quot;text&quot;;\n      case &quot;log&quot;:\n        return &quot;text&quot;;\n      case &quot;csv&quot;:\n        return &quot;text/csv&quot;;\n      case &quot;xlsx&quot;:\n        return &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;;\n      case &quot;xls&quot;:\n        return &quot;application/vnd.ms-excel&quot;;\n    }\n  }\n\n  donwloadingFile(res: HttpResponse&lt;any&gt;, SuccessMsg: string) {\n    console.log(&quot;download res: &quot;, res);\n    if (res === null || res === undefined || typeof res == undefined) return false;\n    var filename = &quot;&quot;;\n    var disposition = res.headers.get('Content-Disposition');\n    if (disposition &amp;&amp; disposition.indexOf('attachment') !== -1) {\n      var filenameRegex = /filename[^;=\\n]*=((['&quot;]).*?\\2|[^;\\n]*)/;\n      var matches = filenameRegex.exec(disposition);\n      if (matches != null &amp;&amp; matches[1]) {\n        filename = matches[1].replace(/['&quot;]/g, '');\n      }\n    }\n    var type = res.headers.get('Content-Type');\n    var blob = new Blob([res.body], { type: type });\n\n    let nav: any = window.navigator;\n    if (nav &amp;&amp; nav.msSaveOrOpenBlob) {\n      nav.msSaveOrOpenBlob(blob);\n    } else {\n      var file = new File([blob], filename, { type: type, lastModified: Date.now() });\n      var objectUrl = window.URL.createObjectURL(file);\n      var fileLink = document.createElement('a');\n      fileLink.href = objectUrl;\n      fileLink.download = filename;\n      fileLink.target = &quot;_self&quot;;\n      fileLink.dispatchEvent(new MouseEvent('click', { bubbles: true, cancelable: true, view: window }));\n\n      setTimeout(function () {\n        window.URL.revokeObjectURL(objectUrl);\n        fileLink.remove();\n      }, 0);\n    }\n\n    this.comServ.sendMessage(SuccessMsg, 'S');\n    return true;\n  }\n</code></pre>\n<p>Any ideas how to download any type of file in browser?</p>\n"},{"tags":["java","bouncycastle","gnupg","openpgp"],"answers":[{"tags":[],"owner":{"account_id":733521,"reputation":37853,"user_id":695343,"accept_rate":100,"display_name":"Jens Erat"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1505512143,"creation_date":1449830260,"answer_id":34221494,"question_id":34212230,"body_markdown":"&lt;!-- language-all: lang-none --&gt;\r\n\r\n[GnuPG 2.1 by default uses the new keybox file format](https://www.gnupg.org/faq/whats-new-in-2.1.html#sec-1-11) -- if no `pubring.gpg` is found. If there is a &quot;legacy&quot; keyring file, it will be used instead.\r\n\r\nI&#39;m not aware Bouncy Castle supports the `.kbx` file format. So if you want to use Bouncy Castle together on the same key files GnuPG is using, you&#39;ve got three options:\r\n\r\n- Additionally maintaining an old `pubring.gpg` file somewhere else, which means running an `gpg --export` or `--export-secret-keys` when needed. The old `pubring.gpg` is just a dump of keys, you can directly use the export output as keyring.\r\n- Using a `pubring.gpg` in your GnuPG home directory, with other words dropping the better performance of the `.kbx` file in exchange for compatiblity.\r\n\r\n  First of all, be sure to copy the whole `~/.gnupg` folder or make sure to have an up-to-date backup!\r\n\r\n  In the end, the migration process boils down to exporting the information in the keybox file to the old OpenPGP keyring format. Looking at the proposal for migration from `.kbx` files to `.gpg` files from the changelog linked above:\r\n\r\n        $ cd ~/.gnupg\r\n        $ gpg --export-ownertrust &gt; otrust.lst\r\n        $ mv pubring.gpg publickeys\r\n        $ gpg2 --import-options import-local-sigs --import publickeys\r\n        $ gpg2 --import-ownertrust otrust.lst\r\n\r\n  The reverse process should look rather similar (given no secret keys are stored, otherwise read below, and exchange `gpg2` and `gpg` to match the binaries installed on your machine):\r\n\r\n        $ cd ~/.gnupg\r\n        $ gpg2 --export-ownertrust &gt; otrust.lst\r\n        $ gpg2 --export &gt; pubring.gpg\r\n        $ mv pubring.kbx pubring.kbx~\r\n        $ gpg2 --import-options import-local-sigs\r\n        $ gpg2 --import-ownertrust otrust.lst\r\n\r\n  The `--export` result can directly be used as new keyring, so no `--import` of this file is needed. Ownertrust should probably be copied in a similar manner, I just kept was the changelog proposed here.\r\n\r\n  If you&#39;ve also stored private keys, I&#39;d better export them first into another file and finally importing them again:\r\n\r\n        $ cd ~/.gnupg\r\n        $ gpg2 --export-secret-keys &gt; secret-keys.gpg\r\n        $ gpg2 --export-ownertrust &gt; otrust.lst\r\n        $ gpg2 --export &gt; pubring.gpg\r\n        $ mv pubring.kbx pubring.kbx~\r\n        $ gpg2 --import-options import-local-sigs --import secret-keys.gpg\r\n        $ gpg2 --import-ownertrust otrust.lst\r\n\r\n- Implement the `.kbx` format for Bouncy Castle.","title":"Using BouncyCastle with GnuPG 2.1&#39;s `pubring.kbx` file","body":"\n\n<p><a href=\"https://www.gnupg.org/faq/whats-new-in-2.1.html#sec-1-11\" rel=\"noreferrer\">GnuPG 2.1 by default uses the new keybox file format</a> -- if no <code>pubring.gpg</code> is found. If there is a \"legacy\" keyring file, it will be used instead.</p>\n\n<p>I'm not aware Bouncy Castle supports the <code>.kbx</code> file format. So if you want to use Bouncy Castle together on the same key files GnuPG is using, you've got three options:</p>\n\n<ul>\n<li>Additionally maintaining an old <code>pubring.gpg</code> file somewhere else, which means running an <code>gpg --export</code> or <code>--export-secret-keys</code> when needed. The old <code>pubring.gpg</code> is just a dump of keys, you can directly use the export output as keyring.</li>\n<li><p>Using a <code>pubring.gpg</code> in your GnuPG home directory, with other words dropping the better performance of the <code>.kbx</code> file in exchange for compatiblity.</p>\n\n<p>First of all, be sure to copy the whole <code>~/.gnupg</code> folder or make sure to have an up-to-date backup!</p>\n\n<p>In the end, the migration process boils down to exporting the information in the keybox file to the old OpenPGP keyring format. Looking at the proposal for migration from <code>.kbx</code> files to <code>.gpg</code> files from the changelog linked above:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cd ~/.gnupg\n$ gpg --export-ownertrust &gt; otrust.lst\n$ mv pubring.gpg publickeys\n$ gpg2 --import-options import-local-sigs --import publickeys\n$ gpg2 --import-ownertrust otrust.lst\n</code></pre>\n\n<p>The reverse process should look rather similar (given no secret keys are stored, otherwise read below, and exchange <code>gpg2</code> and <code>gpg</code> to match the binaries installed on your machine):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cd ~/.gnupg\n$ gpg2 --export-ownertrust &gt; otrust.lst\n$ gpg2 --export &gt; pubring.gpg\n$ mv pubring.kbx pubring.kbx~\n$ gpg2 --import-options import-local-sigs\n$ gpg2 --import-ownertrust otrust.lst\n</code></pre>\n\n<p>The <code>--export</code> result can directly be used as new keyring, so no <code>--import</code> of this file is needed. Ownertrust should probably be copied in a similar manner, I just kept was the changelog proposed here.</p>\n\n<p>If you've also stored private keys, I'd better export them first into another file and finally importing them again:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ cd ~/.gnupg\n$ gpg2 --export-secret-keys &gt; secret-keys.gpg\n$ gpg2 --export-ownertrust &gt; otrust.lst\n$ gpg2 --export &gt; pubring.gpg\n$ mv pubring.kbx pubring.kbx~\n$ gpg2 --import-options import-local-sigs --import secret-keys.gpg\n$ gpg2 --import-ownertrust otrust.lst\n</code></pre></li>\n<li><p>Implement the <code>.kbx</code> format for Bouncy Castle.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":102617,"reputation":2303,"user_id":275347,"display_name":"Gunnar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1543796263,"creation_date":1543795934,"answer_id":53585900,"question_id":34212230,"body_markdown":"As of version 1.60 BouncyCastle support reading KeyBox files.\r\n\r\nhttps://www.bouncycastle.org/releasenotes.html\r\n\r\n&gt; A parser has now been added for the GNU keybox file format. The GPG SExpr parser now covers a wider range of key types.\r\n\r\nThere is some example code in [KeyBoxTest.java][1].\r\n\r\n\r\n  [1]: https://github.com/bcgit/bc-java/blob/master/pg/src/test/java/org/bouncycastle/gpg/test/KeyBoxTest.java","title":"Using BouncyCastle with GnuPG 2.1&#39;s `pubring.kbx` file","body":"<p>As of version 1.60 BouncyCastle support reading KeyBox files.</p>\n\n<p><a href=\"https://www.bouncycastle.org/releasenotes.html\" rel=\"noreferrer\">https://www.bouncycastle.org/releasenotes.html</a></p>\n\n<blockquote>\n  <p>A parser has now been added for the GNU keybox file format. The GPG SExpr parser now covers a wider range of key types.</p>\n</blockquote>\n\n<p>There is some example code in <a href=\"https://github.com/bcgit/bc-java/blob/master/pg/src/test/java/org/bouncycastle/gpg/test/KeyBoxTest.java\" rel=\"noreferrer\">KeyBoxTest.java</a>.</p>\n"},{"tags":[],"owner":{"account_id":7134601,"reputation":61,"user_id":5454725,"display_name":"BodhiOne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684853668,"creation_date":1684853668,"answer_id":76316078,"question_id":34212230,"body_markdown":"If you have come here then you will realize that the API leap from .pgp to .kbx files in bouncycastle is poorly documented.  I&#39;ve looked at alternatives such as https://github.com/pgpainless/pgpainless and org.eclipse.jgit.gpg.bc which attempt to rationalize the changes. But refactoring existing code which uses .pgp keyring files over to .kbx is extremely challenging.","title":"Using BouncyCastle with GnuPG 2.1&#39;s `pubring.kbx` file","body":"<p>If you have come here then you will realize that the API leap from .pgp to .kbx files in bouncycastle is poorly documented.  I've looked at alternatives such as <a href=\"https://github.com/pgpainless/pgpainless\" rel=\"nofollow noreferrer\">https://github.com/pgpainless/pgpainless</a> and org.eclipse.jgit.gpg.bc which attempt to rationalize the changes. But refactoring existing code which uses .pgp keyring files over to .kbx is extremely challenging.</p>\n"}],"owner":{"account_id":3617484,"reputation":13834,"user_id":3017003,"accept_rate":81,"display_name":"Jakub Kubrynski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3795,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":34221494,"answer_count":3,"score":4,"last_activity_date":1684853668,"creation_date":1449783568,"question_id":34212230,"body_markdown":"I&#39;m trying to use BouncyCastle with PGP2 to read public keys ring. The problem is that since GnuPG 2.1 it&#39;s stored in `pubring.kbx` instead of `pubring.gpg`. That leads to IOException `public key ring doesn&#39;t start with public key tag: tag 0x0`\r\n\r\nAny idea if and how I can use BC with GnuPG 2.1?","title":"Using BouncyCastle with GnuPG 2.1&#39;s `pubring.kbx` file","body":"<p>I'm trying to use BouncyCastle with PGP2 to read public keys ring. The problem is that since GnuPG 2.1 it's stored in <code>pubring.kbx</code> instead of <code>pubring.gpg</code>. That leads to IOException <code>public key ring doesn't start with public key tag: tag 0x0</code></p>\n\n<p>Any idea if and how I can use BC with GnuPG 2.1?</p>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684852317,"creation_date":1684852317,"answer_id":76315888,"question_id":76315833,"body_markdown":"The answer is in the stacktrace:\r\n\r\n```\r\n at org.jooq_3.18.4.DEFAULT.debug(Unknown Source)\r\n```\r\n\r\nThat `DEFAULT` means `SQLDialect.DEFAULT`, which isn&#39;t the right configuration to work with PostgreSQL. Use `SQLDialect.POSTGRES` instead.","title":"Unexpected PSQLException using `returning`","body":"<p>The answer is in the stacktrace:</p>\n<pre><code> at org.jooq_3.18.4.DEFAULT.debug(Unknown Source)\n</code></pre>\n<p>That <code>DEFAULT</code> means <code>SQLDialect.DEFAULT</code>, which isn't the right configuration to work with PostgreSQL. Use <code>SQLDialect.POSTGRES</code> instead.</p>\n"}],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76315888,"answer_count":1,"score":1,"last_activity_date":1684852317,"creation_date":1684851880,"question_id":76315833,"body_markdown":"I am writing an insert method in my DAO, taking advantage of PostgreSQL `returning` support.\r\n\r\n```java\r\npublic Vendor insert(final Vendor pojo) {\r\n  final VendorRecord record = dsl.newRecord(VENDOR, pojo);\r\n\r\n  record.setDateCreated(OffsetDateTime.now());\r\n  record.setCreatedBy(&quot;TODO&quot;);\r\n\r\n  return dsl\r\n      .insertInto(VENDOR)\r\n      .set(record)\r\n      .returning(VENDOR)\r\n      .fetchOneInto(Vendor.class);\r\n}\r\n```\r\n\r\nI get the following exception:\r\n\r\n```\r\norg.springframework.dao.DataIntegrityViolationException: jOOQ; SQL [insert into &quot;public&quot;.&quot;vendor&quot; (&quot;id&quot;, &quot;name&quot;, &quot;description&quot;, &quot;url&quot;, &quot;date_created&quot;, &quot;created_by&quot;, &quot;date_updated&quot;, &quot;updated_by&quot;) values (?, ?, ?, ?, ?, ?, ?, ?) returning &quot;public&quot;.&quot;vendor&quot;.&quot;id&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;name&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;description&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;url&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;enabled&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;date_created&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;created_by&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;date_updated&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;updated_by&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;version&quot;]; A result was returned when none was expected.\r\n\r\n\tat org.jooq_3.18.4.DEFAULT.debug(Unknown Source)\r\n\tat org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:105)\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)\r\n\tat org.springframework.boot.autoconfigure.jooq.JooqExceptionTranslator.translate(JooqExceptionTranslator.java:94)\r\n\tat org.springframework.boot.autoconfigure.jooq.JooqExceptionTranslator.handle(JooqExceptionTranslator.java:81)\r\n\tat org.springframework.boot.autoconfigure.jooq.JooqExceptionTranslator.exception(JooqExceptionTranslator.java:55)\r\n\tat org.jooq.impl.ExecuteListeners.exception(ExecuteListeners.java:304)\r\n\tat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:372)\r\n\tat org.jooq.impl.AbstractDMLQueryAsResultQuery.fetch(AbstractDMLQueryAsResultQuery.java:140)\r\n\tat org.jooq.impl.ResultQueryTrait.fetchLazy(ResultQueryTrait.java:281)\r\n\tat org.jooq.impl.ResultQueryTrait.fetchLazyNonAutoClosing(ResultQueryTrait.java:290)\r\n\tat org.jooq.impl.ResultQueryTrait.fetchOne(ResultQueryTrait.java:509)\r\n\tat org.jooq.impl.ResultQueryTrait.fetchOneInto(ResultQueryTrait.java:533)\r\n\tat com.oliveryasuna.finance.backend.persistence.repository.VendorRepository2.insert(VendorRepository2.java:42)\r\n\tat com.oliveryasuna.finance.backend.persistence.repository.VendorRepositoryTests.insertOne(VendorRepositoryTests.java:47)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: org.postgresql.util.PSQLException: A result was returned when none was expected.\r\n\tat org.postgresql.jdbc.PgStatement.checkNoResultUpdate(PgStatement.java:280)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:153)\r\n\tat org.jooq.tools.jdbc.DefaultPreparedStatement.executeUpdate(DefaultPreparedStatement.java:109)\r\n\tat org.jooq.impl.AbstractDMLQuery.executeReturningGeneratedKeys(AbstractDMLQuery.java:1264)\r\n\tat org.jooq.impl.AbstractDMLQuery.execute(AbstractDMLQuery.java:1223)\r\n\tat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:357)\r\n\t... 77 more\r\n```\r\n\r\nHere is the DDL for the `vendor` table:\r\n\r\n```sql\r\ncreate table vendor\r\n(\r\n    id           uuid                     not null\r\n        constraint vendor_pk\r\n            primary key,\r\n    name         varchar(50)              not null,\r\n    description  varchar(255),\r\n    url          varchar(2048),\r\n    enabled      boolean                  not null default true,\r\n    date_created timestamp with time zone not null,\r\n    created_by   varchar(50)              not null,\r\n    date_updated timestamp with time zone,\r\n    updated_by   varchar(50),\r\n    version      integer                  not null default 0\r\n);\r\n```\r\n\r\nAnd I don&#39;t use any fancy jOOQ configuration except to generate POJOs.\r\n\r\nThank you for your time.","title":"Unexpected PSQLException using `returning`","body":"<p>I am writing an insert method in my DAO, taking advantage of PostgreSQL <code>returning</code> support.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Vendor insert(final Vendor pojo) {\n  final VendorRecord record = dsl.newRecord(VENDOR, pojo);\n\n  record.setDateCreated(OffsetDateTime.now());\n  record.setCreatedBy(&quot;TODO&quot;);\n\n  return dsl\n      .insertInto(VENDOR)\n      .set(record)\n      .returning(VENDOR)\n      .fetchOneInto(Vendor.class);\n}\n</code></pre>\n<p>I get the following exception:</p>\n<pre><code>org.springframework.dao.DataIntegrityViolationException: jOOQ; SQL [insert into &quot;public&quot;.&quot;vendor&quot; (&quot;id&quot;, &quot;name&quot;, &quot;description&quot;, &quot;url&quot;, &quot;date_created&quot;, &quot;created_by&quot;, &quot;date_updated&quot;, &quot;updated_by&quot;) values (?, ?, ?, ?, ?, ?, ?, ?) returning &quot;public&quot;.&quot;vendor&quot;.&quot;id&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;name&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;description&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;url&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;enabled&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;date_created&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;created_by&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;date_updated&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;updated_by&quot;, &quot;public&quot;.&quot;vendor&quot;.&quot;version&quot;]; A result was returned when none was expected.\n\n    at org.jooq_3.18.4.DEFAULT.debug(Unknown Source)\n    at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:105)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)\n    at org.springframework.boot.autoconfigure.jooq.JooqExceptionTranslator.translate(JooqExceptionTranslator.java:94)\n    at org.springframework.boot.autoconfigure.jooq.JooqExceptionTranslator.handle(JooqExceptionTranslator.java:81)\n    at org.springframework.boot.autoconfigure.jooq.JooqExceptionTranslator.exception(JooqExceptionTranslator.java:55)\n    at org.jooq.impl.ExecuteListeners.exception(ExecuteListeners.java:304)\n    at org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:372)\n    at org.jooq.impl.AbstractDMLQueryAsResultQuery.fetch(AbstractDMLQueryAsResultQuery.java:140)\n    at org.jooq.impl.ResultQueryTrait.fetchLazy(ResultQueryTrait.java:281)\n    at org.jooq.impl.ResultQueryTrait.fetchLazyNonAutoClosing(ResultQueryTrait.java:290)\n    at org.jooq.impl.ResultQueryTrait.fetchOne(ResultQueryTrait.java:509)\n    at org.jooq.impl.ResultQueryTrait.fetchOneInto(ResultQueryTrait.java:533)\n    at com.oliveryasuna.finance.backend.persistence.repository.VendorRepository2.insert(VendorRepository2.java:42)\n    at com.oliveryasuna.finance.backend.persistence.repository.VendorRepositoryTests.insertOne(VendorRepositoryTests.java:47)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.postgresql.util.PSQLException: A result was returned when none was expected.\n    at org.postgresql.jdbc.PgStatement.checkNoResultUpdate(PgStatement.java:280)\n    at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:153)\n    at org.jooq.tools.jdbc.DefaultPreparedStatement.executeUpdate(DefaultPreparedStatement.java:109)\n    at org.jooq.impl.AbstractDMLQuery.executeReturningGeneratedKeys(AbstractDMLQuery.java:1264)\n    at org.jooq.impl.AbstractDMLQuery.execute(AbstractDMLQuery.java:1223)\n    at org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:357)\n    ... 77 more\n</code></pre>\n<p>Here is the DDL for the <code>vendor</code> table:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table vendor\n(\n    id           uuid                     not null\n        constraint vendor_pk\n            primary key,\n    name         varchar(50)              not null,\n    description  varchar(255),\n    url          varchar(2048),\n    enabled      boolean                  not null default true,\n    date_created timestamp with time zone not null,\n    created_by   varchar(50)              not null,\n    date_updated timestamp with time zone,\n    updated_by   varchar(50),\n    version      integer                  not null default 0\n);\n</code></pre>\n<p>And I don't use any fancy jOOQ configuration except to generate POJOs.</p>\n<p>Thank you for your time.</p>\n"},{"tags":["java","angular","spring-boot","httpsession","jsessionid"],"answers":[{"tags":[],"owner":{"account_id":3524392,"reputation":859,"user_id":2945917,"accept_rate":73,"display_name":"user435421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684852098,"creation_date":1684850355,"answer_id":76315604,"question_id":76314410,"body_markdown":"I overlooked that even though the browser showed me (in `Cookies` tab) that `JSESSIONID` cookie was present it actually was not sent with the request. I did not notice that `Cookie` header was not present in the requests. I am adding screenshot where a) `Cookies` tab is present and if opened shows `JSESSIONID` which gave me the idea that the cookie is being sent and b) where you can see that `Cookie` header is present in the correct request:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhy `Cookie` header was not present? Because even though the configuration for `CORS` was correct on `Angular` side:\r\n[![enter image description here][2]][2]\r\nbut HTTP interceptor&#39;s registration was commented in the AppModule:\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/djtW3.png\r\n  [2]: https://i.stack.imgur.com/ANzUx.png\r\n  [3]: https://i.stack.imgur.com/sVzAX.png","title":"Spring Boot creates new JSESSIONID on each request","body":"<p>I overlooked that even though the browser showed me (in <code>Cookies</code> tab) that <code>JSESSIONID</code> cookie was present it actually was not sent with the request. I did not notice that <code>Cookie</code> header was not present in the requests. I am adding screenshot where a) <code>Cookies</code> tab is present and if opened shows <code>JSESSIONID</code> which gave me the idea that the cookie is being sent and b) where you can see that <code>Cookie</code> header is present in the correct request:\n<a href=\"https://i.stack.imgur.com/djtW3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/djtW3.png\" alt=\"enter image description here\" /></a></p>\n<p>Why <code>Cookie</code> header was not present? Because even though the configuration for <code>CORS</code> was correct on <code>Angular</code> side:\n<a href=\"https://i.stack.imgur.com/ANzUx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ANzUx.png\" alt=\"enter image description here\" /></a>\nbut HTTP interceptor's registration was commented in the AppModule:\n<a href=\"https://i.stack.imgur.com/sVzAX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sVzAX.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3524392,"reputation":859,"user_id":2945917,"accept_rate":73,"display_name":"user435421"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684852098,"creation_date":1684842474,"question_id":76314410,"body_markdown":"Spring Boot application runs on https://localhost:8080 and front-end (Angular) app runs on https://localhost:4200. On each request new JSESSIONID gets set/created as if HTTP session engine does not recognize JSESSIONID it has just set for previous request. But when I start serving front-end app as static content from Spring Boot app (which means same port for Angular app) everything works fine.\r\n\r\n**UPDATE 1:** so far I have tracked that this happens because Request object get recycled because this code return false\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**UPDATE 2**: I now see that &quot;cookie&quot; header like this one is not present in the request when font-end runs on different port.\r\n\r\n    cookie = SLG_G_WPT_TO=en; SLG_GWPT_Show_Hide_tmp=undefined; SLG_wptGlobTipTmp=undefined; JSESSIONID=6C59D1FE6310EE1E141FD96236D9218A\r\n\r\nWhen this code is run:\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sr2Lw.png\r\n  [2]: https://i.stack.imgur.com/ZA2n6.png\r\n  [3]: https://i.stack.imgur.com/Uu7ZV.png","title":"Spring Boot creates new JSESSIONID on each request","body":"<p>Spring Boot application runs on https://localhost:8080 and front-end (Angular) app runs on https://localhost:4200. On each request new JSESSIONID gets set/created as if HTTP session engine does not recognize JSESSIONID it has just set for previous request. But when I start serving front-end app as static content from Spring Boot app (which means same port for Angular app) everything works fine.</p>\n<p><strong>UPDATE 1:</strong> so far I have tracked that this happens because Request object get recycled because this code return false\n<a href=\"https://i.stack.imgur.com/Sr2Lw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sr2Lw.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ZA2n6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZA2n6.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>UPDATE 2</strong>: I now see that &quot;cookie&quot; header like this one is not present in the request when font-end runs on different port.</p>\n<pre><code>cookie = SLG_G_WPT_TO=en; SLG_GWPT_Show_Hide_tmp=undefined; SLG_wptGlobTipTmp=undefined; JSESSIONID=6C59D1FE6310EE1E141FD96236D9218A\n</code></pre>\n<p>When this code is run:\n<a href=\"https://i.stack.imgur.com/Uu7ZV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uu7ZV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","azure","project-reactor"],"owner":{"account_id":6691602,"reputation":989,"user_id":5160940,"display_name":"DockYard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1684852057,"creation_date":1684098758,"question_id":76249707,"body_markdown":"I&#39;m using Microsoft cosmos Nosql DB and a spring boot backend with the reactive cosmos client.\r\n\r\nTheres a container Person.java, and the backend application does CRUD operations on it.\r\n\r\nBelow if existing code for it:\r\n\r\n```\r\n------------------------------------------------\r\nPerson.java\r\n------------------------------------------------\r\npackage com.cosmos.containers;\r\n\r\nimport com.azure.spring.data.cosmos.core.mapping.Container;\r\nimport com.azure.spring.data.cosmos.core.mapping.PartitionKey;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.annotation.Version;\r\n\r\n@Container(containerName = &quot;Person&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Person extends DomainEntity {\r\n\r\n    @Id private String id;\r\n\r\n    @PartitionKey private String partitionKey;\r\n\r\n    private String name;\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n```\r\n------------------------------------------------\r\nCosmosDBConfig.java\r\n------------------------------------------------\r\npackage com.cosmos.config;\r\n\r\nimport com.azure.core.credential.AzureKeyCredential;\r\nimport com.azure.cosmos.ConsistencyLevel;\r\nimport com.azure.cosmos.CosmosClientBuilder;\r\nimport com.azure.cosmos.DirectConnectionConfig;\r\nimport com.azure.cosmos.GatewayConnectionConfig;\r\nimport com.azure.spring.data.cosmos.config.AbstractCosmosConfiguration;\r\nimport com.azure.spring.data.cosmos.config.CosmosConfig;\r\nimport com.azure.spring.data.cosmos.repository.config.EnableReactiveCosmosRepositories;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n@EnableReactiveCosmosRepositories(\r\n        basePackages = {&quot;com.cosmos.repositories&quot;})\r\n@Slf4j\r\npublic class CosmosDBConfig extends AbstractCosmosConfiguration {\r\n\r\n    private AzureKeyCredential azureKeyCredential;\r\n\r\n\r\n    @Override\r\n    protected String getDatabaseName() {\r\n        return &quot;MyDataBase&quot;;\r\n    }\r\n\r\n    @Bean\r\n    public CosmosClientBuilder cosmosDBClientBuilder() {\r\n        this.azureKeyCredential = new AzureKeyCredential(&lt;private key&gt;);\r\n        DirectConnectionConfig directConnectionConfig = new DirectConnectionConfig();\r\n        GatewayConnectionConfig gatewayConnectionConfig = new GatewayConnectionConfig();\r\n        return new CosmosClientBuilder()\r\n                .endpoint(&lt;url&gt;)\r\n                .credential(azureKeyCredential)\r\n                .consistencyLevel(\r\n                        ConsistencyLevel.valueOf(&quot;SESSION&quot;))\r\n                .multipleWriteRegionsEnabled(false)\r\n                .preferredRegions(&lt;my regions&gt;)\r\n                .directMode(directConnectionConfig, gatewayConnectionConfig);\r\n    }\r\n\r\n\r\n    @Override\r\n    public CosmosConfig cosmosConfig() {\r\n        return CosmosConfig.builder()\r\n                .enableQueryMetrics(true)\r\n                .maxDegreeOfParallelism(-1)\r\n                .build();\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\n------------------------------------------------\r\nPersonRepository.java\r\n------------------------------------------------\r\n\r\npackage com.cosmos.repositories;\r\n\r\nimport com.azure.spring.data.cosmos.repository.ReactiveCosmosRepository;\r\n\r\n@Repository\r\npublic interface PersonRepository extends ReactiveCosmosRepository&lt;Person, String&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\n------------------------------------------------\r\nMyPersonService.java\r\n------------------------------------------------\r\n@Service\r\npublic class MyPersonService {\r\n    @Autowired\r\n    private PersonRepository repository;\r\n\r\n    public Person save(Person person) {\r\n        return repository.save(person);\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow lets say I want to limit the usage of RUs for Person container to 1500 RUs/seconds using the ThroughputControlGroupConfig feature of java sdk in this code base([details docs of ThroughputControlGroupConfig can be found here][1]). \r\n\r\nHow do I do this.\r\n\r\nMore specifically I want to know how to I pass his ThroughputControlGroupConfig to the ```PersonRepository``` class\r\n\r\n  [1]: https://the9090rule.medium.com/controlling-an-applications-throughput-consumption-in-cosmos-db-with-throughputcontrolgroup-247cc0eafa92","title":"Implementing Throughput Control in a Spring boot app using reactive Azure Cosmos client","body":"<p>I'm using Microsoft cosmos Nosql DB and a spring boot backend with the reactive cosmos client.</p>\n<p>Theres a container Person.java, and the backend application does CRUD operations on it.</p>\n<p>Below if existing code for it:</p>\n<pre><code>------------------------------------------------\nPerson.java\n------------------------------------------------\npackage com.cosmos.containers;\n\nimport com.azure.spring.data.cosmos.core.mapping.Container;\nimport com.azure.spring.data.cosmos.core.mapping.PartitionKey;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.annotation.Version;\n\n@Container(containerName = &quot;Person&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Person extends DomainEntity {\n\n    @Id private String id;\n\n    @PartitionKey private String partitionKey;\n\n    private String name;\n}\n\n\n</code></pre>\n<pre><code>------------------------------------------------\nCosmosDBConfig.java\n------------------------------------------------\npackage com.cosmos.config;\n\nimport com.azure.core.credential.AzureKeyCredential;\nimport com.azure.cosmos.ConsistencyLevel;\nimport com.azure.cosmos.CosmosClientBuilder;\nimport com.azure.cosmos.DirectConnectionConfig;\nimport com.azure.cosmos.GatewayConnectionConfig;\nimport com.azure.spring.data.cosmos.config.AbstractCosmosConfiguration;\nimport com.azure.spring.data.cosmos.config.CosmosConfig;\nimport com.azure.spring.data.cosmos.repository.config.EnableReactiveCosmosRepositories;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@EnableReactiveCosmosRepositories(\n        basePackages = {&quot;com.cosmos.repositories&quot;})\n@Slf4j\npublic class CosmosDBConfig extends AbstractCosmosConfiguration {\n\n    private AzureKeyCredential azureKeyCredential;\n\n\n    @Override\n    protected String getDatabaseName() {\n        return &quot;MyDataBase&quot;;\n    }\n\n    @Bean\n    public CosmosClientBuilder cosmosDBClientBuilder() {\n        this.azureKeyCredential = new AzureKeyCredential(&lt;private key&gt;);\n        DirectConnectionConfig directConnectionConfig = new DirectConnectionConfig();\n        GatewayConnectionConfig gatewayConnectionConfig = new GatewayConnectionConfig();\n        return new CosmosClientBuilder()\n                .endpoint(&lt;url&gt;)\n                .credential(azureKeyCredential)\n                .consistencyLevel(\n                        ConsistencyLevel.valueOf(&quot;SESSION&quot;))\n                .multipleWriteRegionsEnabled(false)\n                .preferredRegions(&lt;my regions&gt;)\n                .directMode(directConnectionConfig, gatewayConnectionConfig);\n    }\n\n\n    @Override\n    public CosmosConfig cosmosConfig() {\n        return CosmosConfig.builder()\n                .enableQueryMetrics(true)\n                .maxDegreeOfParallelism(-1)\n                .build();\n    }\n\n\n}\n\n</code></pre>\n<pre><code>------------------------------------------------\nPersonRepository.java\n------------------------------------------------\n\npackage com.cosmos.repositories;\n\nimport com.azure.spring.data.cosmos.repository.ReactiveCosmosRepository;\n\n@Repository\npublic interface PersonRepository extends ReactiveCosmosRepository&lt;Person, String&gt; {\n\n}\n\n</code></pre>\n<pre><code>------------------------------------------------\nMyPersonService.java\n------------------------------------------------\n@Service\npublic class MyPersonService {\n    @Autowired\n    private PersonRepository repository;\n\n    public Person save(Person person) {\n        return repository.save(person);\n    }\n}\n\n</code></pre>\n<p>Now lets say I want to limit the usage of RUs for Person container to 1500 RUs/seconds using the ThroughputControlGroupConfig feature of java sdk in this code base(<a href=\"https://the9090rule.medium.com/controlling-an-applications-throughput-consumption-in-cosmos-db-with-throughputcontrolgroup-247cc0eafa92\" rel=\"nofollow noreferrer\">details docs of ThroughputControlGroupConfig can be found here</a>).</p>\n<p>How do I do this.</p>\n<p>More specifically I want to know how to I pass his ThroughputControlGroupConfig to the <code>PersonRepository</code> class</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684440211,"creation_date":1684440211,"answer_id":76284109,"question_id":76284010,"body_markdown":"Based primarily on the exception class and details message, if the code presented is responsible for the exception then it likely results from one of these `indexOf()` invocations returning -1 (to indicate that the searched-for item is not in the `items` list):\r\n&gt; ```\r\n&gt;                     int draggedIdx = items.indexOf(db.getString());\r\n&gt;                     int thisIdx = items.indexOf(getItem());\r\n&gt; ```\r\n\r\nIf either one is not found, then the subsequent\r\n&gt; ```\r\n&gt;                     Categoria temp = categorie.get(draggedIdx);\r\n&gt;                     categorie.set(draggedIdx, categorie.get(thisIdx));\r\n&gt;                     categorie.set(thisIdx, temp);\r\n&gt; ```\r\nwould throw exactly such an exception.\r\n\r\nIndeed, since `items` is a `ObservableList&lt;Categoria&gt;`, it seems unlikely that `items.indexOf(db.getString())` could be expected ever to return other than -1, as `items` cannot contain any `String`s.","title":"ListView Drag and Drop, error &quot;IndexOutOfBoundsException: Index -1 out of bounds for length 4&quot;","body":"<p>Based primarily on the exception class and details message, if the code presented is responsible for the exception then it likely results from one of these <code>indexOf()</code> invocations returning -1 (to indicate that the searched-for item is not in the <code>items</code> list):</p>\n<blockquote>\n<pre><code>                    int draggedIdx = items.indexOf(db.getString());\n                    int thisIdx = items.indexOf(getItem());\n</code></pre>\n</blockquote>\n<p>If either one is not found, then the subsequent</p>\n<blockquote>\n<pre><code>                    Categoria temp = categorie.get(draggedIdx);\n                    categorie.set(draggedIdx, categorie.get(thisIdx));\n                    categorie.set(thisIdx, temp);\n</code></pre>\n</blockquote>\n<p>would throw exactly such an exception.</p>\n<p>Indeed, since <code>items</code> is a <code>ObservableList&lt;Categoria&gt;</code>, it seems unlikely that <code>items.indexOf(db.getString())</code> could be expected ever to return other than -1, as <code>items</code> cannot contain any <code>String</code>s.</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684851343,"creation_date":1684463170,"answer_id":76285625,"question_id":76284010,"body_markdown":"Here is an example of using a custom data format when dragging a serializable record to reorder a list in a list view.\r\n\r\nIn the picture, the &quot;Planet&quot; category is in the process of being dragged over the &quot;Star&quot; category.  It would be a bit clearer if the drag cursor was shown, but the screenshot does not pick up the cursor.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou could modify it to use a custom class, but I find it easier to work with records for this case.\r\n\r\nI won&#39;t go over what you are doing wrong in your current implementation, as [John Bollinger&#39;s answer and comments](https://stackoverflow.com/a/76284109/1155209) have already covered most of that.\r\n\r\nI won&#39;t explain this much, it is similar to the answer to the earlier related question (which, also, I didn&#39;t really explain :-), but modified for a custom data type rather than an image:\r\n\r\n * https://stackoverflow.com/questions/20412445/how-to-create-a-reorder-able-tableview-in-javafx\r\n\r\nHopefully, you can understand what is happening by reading the code, referring to the javadoc, and checking out the Oracle [tutorial][2] and [cool example][3] on drag and drop in JavaFX.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ListChangeListener;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ListCell;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.scene.input.*;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class DraggableRecords extends Application {\r\n    \r\n        public record Category(\r\n                String name,\r\n                String description\r\n        ) implements Serializable {}\r\n    \r\n        private static final ObservableList&lt;Category&gt; categories = FXCollections.observableArrayList(\r\n                new Category(&quot;Star&quot;, &quot;A ball of hot plasma&quot;),\r\n                new Category(&quot;Planet&quot;, &quot;A large, rounded astronomical body that is neither a star nor its remnant.&quot;),\r\n                new Category(&quot;Galaxy&quot;, &quot;A system of stars, bound together by gravity&quot;),\r\n                new Category(&quot;Universe&quot;, &quot;All of space and time and their contents,&quot;)\r\n        );\r\n    \r\n        private static final DataFormat CATEGORY_DATA_FORMAT = new DataFormat(\r\n                &quot;application/jewelsea-category&quot;\r\n        );\r\n    \r\n        private static final String REORDER_CATEGORIES =\r\n                &quot;Drag the categories to order from largest to smallest&quot;;\r\n    \r\n        private static final String CATEGORIES_ARE_IN_ORDER =\r\n                &quot;The categories have been reordered correctly&quot;;\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            do {\r\n                Collections.shuffle(categories);\r\n            } while (categoriesAreInOrder());\r\n    \r\n            ListView&lt;Category&gt; categoryListView = new ListView&lt;&gt;(categories);\r\n            categoryListView.setCellFactory(param -&gt; new CategoryCell());\r\n            categoryListView.setPrefSize(\r\n                    430, 180\r\n            );\r\n    \r\n            VBox layout = new VBox(categoryListView);\r\n            layout.setPadding(new Insets(10));\r\n    \r\n            stage.setTitle(REORDER_CATEGORIES);\r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n    \r\n            categories.addListener((ListChangeListener&lt;Category&gt;) change -&gt; {\r\n                stage.setTitle(\r\n                        categoriesAreInOrder()\r\n                                ? CATEGORIES_ARE_IN_ORDER\r\n                                : REORDER_CATEGORIES\r\n                );\r\n            });\r\n        }\r\n    \r\n        private boolean categoriesAreInOrder() {\r\n            List&lt;String&gt; displayedCategoryNames = categories.stream().map(\r\n                    Category::name\r\n            ).toList();\r\n    \r\n            return displayedCategoryNames.equals(\r\n                    List.of(&quot;Universe&quot;, &quot;Galaxy&quot;, &quot;Star&quot;, &quot;Planet&quot;)\r\n            );\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(DraggableRecords.class);\r\n        }\r\n    \r\n        private static final class CategoryCell extends ListCell&lt;Category&gt; {\r\n            public CategoryCell() {\r\n                final ListCell&lt;Category&gt; thisCell = this;\r\n    \r\n                setOnDragDetected(event -&gt; {\r\n                    if (getItem() == null) {\r\n                        return;\r\n                    }\r\n    \r\n                    Dragboard dragboard = startDragAndDrop(TransferMode.MOVE);\r\n                    ClipboardContent content = new ClipboardContent();\r\n                    content.putString(getItem().toString());\r\n                    content.put(CATEGORY_DATA_FORMAT, getItem());\r\n    \r\n                    dragboard.setContent(content);\r\n    \r\n                    event.consume();\r\n                });\r\n    \r\n                setOnDragOver(event -&gt; {\r\n                    if (event.getGestureSource() != thisCell &amp;&amp;\r\n                            event.getDragboard().hasContent(CATEGORY_DATA_FORMAT)) {\r\n                        event.acceptTransferModes(TransferMode.MOVE);\r\n                    }\r\n    \r\n                    event.consume();\r\n                });\r\n    \r\n                setOnDragEntered(event -&gt; {\r\n                    if (event.getGestureSource() != thisCell &amp;&amp;\r\n                            event.getDragboard().hasContent(CATEGORY_DATA_FORMAT)) {\r\n                        setOpacity(0.3);\r\n                    }\r\n                });\r\n    \r\n                setOnDragExited(event -&gt; {\r\n                    if (event.getGestureSource() != thisCell &amp;&amp;\r\n                            event.getDragboard().hasContent(CATEGORY_DATA_FORMAT)) {\r\n                        setOpacity(1);\r\n                    }\r\n                });\r\n    \r\n                setOnDragDropped(event -&gt; {\r\n                    if (getItem() == null) {\r\n                        return;\r\n                    }\r\n    \r\n                    Dragboard db = event.getDragboard();\r\n                    boolean success = false;\r\n    \r\n                    if (db.hasContent(CATEGORY_DATA_FORMAT)) {\r\n                        Category droppedCategory = (Category) db.getContent(\r\n                                CATEGORY_DATA_FORMAT\r\n                        );\r\n                        ObservableList&lt;Category&gt; items = getListView().getItems();\r\n                        int draggedIdx = items.indexOf(\r\n                                droppedCategory\r\n                        );\r\n                        int thisIdx = items.indexOf(getItem());\r\n    \r\n                        Category temp = categories.get(draggedIdx);\r\n                        categories.set(draggedIdx, categories.get(thisIdx));\r\n                        categories.set(thisIdx, temp);\r\n    \r\n                        success = true;\r\n                    }\r\n                    event.setDropCompleted(success);\r\n    \r\n                    event.consume();\r\n                });\r\n    \r\n                setOnDragDone(DragEvent::consume);\r\n            }\r\n    \r\n            @Override\r\n            protected void updateItem(Category item, boolean empty) {\r\n                super.updateItem(item, empty);\r\n    \r\n                setText(\r\n                        (empty || item == null)\r\n                                ? null\r\n                                : item.name + &quot;\\n&quot; + item.description\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\nThe solution provided isn&#39;t the only solution.  You could use a different serialization format (e.g. a JSON string) rather than the custom binary format used here.  That might be good if you need compatibility with other applications.  I won&#39;t demonstrate an alternative string serialization using JSON here though.\r\n\r\nIt is possible to place multiple entries in the `DragBoard` for the same item, with each entry providing a different representation of the same data.  I did that here, using a custom data format for the binary data and a string format, which just invokes `toString` on the item.  If you drag within the app, which understands the binary format, the app can use the binary format.  However, if you drag to something outside the app, which won&#39;t understand the custom format, it will fall back to the string format.  This can be seen by dragging items from the example into a text editor.\r\n\r\n**FAQ**\r\n\r\n&gt; so i can make this work with Classes\r\n\r\nFor a class, generate `hashCode` and `equals` functions using your IDE and use equals instead of `==` to test equivalence, so that you avoid some of the issues mentioned by John Bollinger. \r\n\r\nFor a record you don&#39;t need to write the hashing and equals functions, or the accessor functions, as the records provide them. \r\n\r\nOther than that, most of the implementation is the same regardless of whether you choose to use records or classes.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ListChangeListener;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ListCell;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.scene.input.*;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    \r\n    \r\n    public class DraggableRecords extends Application {\r\n    \r\n        public static final class Category implements Serializable {\r\n            private final String name;\r\n            private final String description;\r\n    \r\n            public Category(String name, String description) {\r\n                this.name = name;\r\n                this.description = description;\r\n            }\r\n    \r\n            public String getName() {\r\n                return name;\r\n            }\r\n    \r\n            public String getDescription() {\r\n                return description;\r\n            }\r\n    \r\n            @Override\r\n            public boolean equals(Object o) {\r\n                if (this == o) return true;\r\n                if (o == null || getClass() != o.getClass()) return false;\r\n                Category category = (Category) o;\r\n                return Objects.equals(name, category.name) &amp;&amp; Objects.equals(description, category.description);\r\n            }\r\n    \r\n            @Override\r\n            public int hashCode() {\r\n                return Objects.hash(name, description);\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;Category{&quot; +\r\n                        &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                        &quot;, description=&#39;&quot; + description + &#39;\\&#39;&#39; +\r\n                        &#39;}&#39;;\r\n            }\r\n        }\r\n    \r\n        private static final ObservableList&lt;Category&gt; categories = FXCollections.observableArrayList(\r\n                new Category(&quot;Star&quot;, &quot;A ball of hot plasma.&quot;),\r\n                new Category(&quot;Planet&quot;, &quot;A large, rounded astronomical body that is neither a star nor its remnant.&quot;),\r\n                new Category(&quot;Galaxy&quot;, &quot;A system of stars, bound together by gravity.&quot;),\r\n                new Category(&quot;Universe&quot;, &quot;All of space and time and their contents.&quot;)\r\n        );\r\n    \r\n        private static final DataFormat CATEGORY_DATA_FORMAT = new DataFormat(\r\n                &quot;application/jewelsea-category&quot;\r\n        );\r\n    \r\n        private static final String REORDER_CATEGORIES =\r\n                &quot;Drag the categories to order from largest to smallest&quot;;\r\n    \r\n        private static final String CATEGORIES_ARE_IN_ORDER =\r\n                &quot;The categories have been reordered from correctly&quot;;\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            do {\r\n                Collections.shuffle(categories);\r\n            } while (categoriesAreInOrder());\r\n    \r\n            ListView&lt;Category&gt; categoryListView = new ListView&lt;&gt;(categories);\r\n            categoryListView.setCellFactory(param -&gt; new CategoryCell());\r\n            categoryListView.setPrefSize(\r\n                    430, 180\r\n            );\r\n    \r\n            VBox layout = new VBox(categoryListView);\r\n            layout.setPadding(new Insets(10));\r\n    \r\n            stage.setTitle(REORDER_CATEGORIES);\r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n    \r\n            categories.addListener((ListChangeListener&lt;Category&gt;) change -&gt; {\r\n                stage.setTitle(\r\n                        categoriesAreInOrder()\r\n                                ? CATEGORIES_ARE_IN_ORDER\r\n                                : REORDER_CATEGORIES\r\n                );\r\n            });\r\n        }\r\n    \r\n        private boolean categoriesAreInOrder() {\r\n            List&lt;String&gt; displayedCategoryNames = categories.stream().map(\r\n                    Category::getName\r\n            ).toList();\r\n    \r\n            return displayedCategoryNames.equals(\r\n                    List.of(&quot;Universe&quot;, &quot;Galaxy&quot;, &quot;Star&quot;, &quot;Planet&quot;)\r\n            );\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(DraggableRecords.class);\r\n        }\r\n    \r\n        private static final class CategoryCell extends ListCell&lt;Category&gt; {\r\n            public CategoryCell() {\r\n                final ListCell&lt;Category&gt; thisCell = this;\r\n    \r\n                setOnDragDetected(event -&gt; {\r\n                    if (getItem() == null) {\r\n                        return;\r\n                    }\r\n    \r\n                    Dragboard dragboard = startDragAndDrop(TransferMode.MOVE);\r\n                    ClipboardContent content = new ClipboardContent();\r\n                    content.putString(getItem().toString());\r\n                    content.put(CATEGORY_DATA_FORMAT, getItem());\r\n    \r\n                    dragboard.setContent(content);\r\n    \r\n                    event.consume();\r\n                });\r\n    \r\n                setOnDragOver(event -&gt; {\r\n                    if (event.getGestureSource() != thisCell &amp;&amp;\r\n                            event.getDragboard().hasContent(CATEGORY_DATA_FORMAT)) {\r\n                        event.acceptTransferModes(TransferMode.MOVE);\r\n                    }\r\n    \r\n                    event.consume();\r\n                });\r\n    \r\n                setOnDragEntered(event -&gt; {\r\n                    if (event.getGestureSource() != thisCell &amp;&amp;\r\n                            event.getDragboard().hasContent(CATEGORY_DATA_FORMAT)) {\r\n                        setOpacity(0.3);\r\n                    }\r\n                });\r\n    \r\n                setOnDragExited(event -&gt; {\r\n                    if (event.getGestureSource() != thisCell &amp;&amp;\r\n                            event.getDragboard().hasContent(CATEGORY_DATA_FORMAT)) {\r\n                        setOpacity(1);\r\n                    }\r\n                });\r\n    \r\n                setOnDragDropped(event -&gt; {\r\n                    if (getItem() == null) {\r\n                        return;\r\n                    }\r\n    \r\n                    Dragboard db = event.getDragboard();\r\n                    boolean success = false;\r\n    \r\n                    if (db.hasContent(CATEGORY_DATA_FORMAT)) {\r\n                        Category droppedCategory = (Category) db.getContent(\r\n                                CATEGORY_DATA_FORMAT\r\n                        );\r\n                        ObservableList&lt;Category&gt; items = getListView().getItems();\r\n                        int draggedIdx = items.indexOf(\r\n                                droppedCategory\r\n                        );\r\n                        int thisIdx = items.indexOf(getItem());\r\n    \r\n                        Category temp = categories.get(draggedIdx);\r\n                        categories.set(draggedIdx, categories.get(thisIdx));\r\n                        categories.set(thisIdx, temp);\r\n    \r\n                        success = true;\r\n                    }\r\n                    event.setDropCompleted(success);\r\n    \r\n                    event.consume();\r\n                });\r\n    \r\n                setOnDragDone(DragEvent::consume);\r\n            }\r\n    \r\n            @Override\r\n            protected void updateItem(Category item, boolean empty) {\r\n                super.updateItem(item, empty);\r\n    \r\n                setText(\r\n                        (empty || item == null)\r\n                                ? null\r\n                                : item.getName() + &quot;\\n&quot; + item.getDescription()\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/Qy1fB.png\r\n  [2]: https://docs.oracle.com/javase/8/javafx/events-tutorial/drag-drop.htm\r\n  [3]: https://docs.oracle.com/javase/8/javafx/events-tutorial/paper-doll.htm","title":"ListView Drag and Drop, error &quot;IndexOutOfBoundsException: Index -1 out of bounds for length 4&quot;","body":"<p>Here is an example of using a custom data format when dragging a serializable record to reorder a list in a list view.</p>\n<p>In the picture, the &quot;Planet&quot; category is in the process of being dragged over the &quot;Star&quot; category.  It would be a bit clearer if the drag cursor was shown, but the screenshot does not pick up the cursor.</p>\n<p><a href=\"https://i.stack.imgur.com/Qy1fB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qy1fB.png\" alt=\"enter image description here\" /></a></p>\n<p>You could modify it to use a custom class, but I find it easier to work with records for this case.</p>\n<p>I won't go over what you are doing wrong in your current implementation, as <a href=\"https://stackoverflow.com/a/76284109/1155209\">John Bollinger's answer and comments</a> have already covered most of that.</p>\n<p>I won't explain this much, it is similar to the answer to the earlier related question (which, also, I didn't really explain :-), but modified for a custom data type rather than an image:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/20412445/how-to-create-a-reorder-able-tableview-in-javafx\">How to create a reorder-able TableView in JavaFx</a></li>\n</ul>\n<p>Hopefully, you can understand what is happening by reading the code, referring to the javadoc, and checking out the Oracle <a href=\"https://docs.oracle.com/javase/8/javafx/events-tutorial/drag-drop.htm\" rel=\"nofollow noreferrer\">tutorial</a> and <a href=\"https://docs.oracle.com/javase/8/javafx/events-tutorial/paper-doll.htm\" rel=\"nofollow noreferrer\">cool example</a> on drag and drop in JavaFX.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ListChangeListener;\nimport javafx.collections.ObservableList;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ListCell;\nimport javafx.scene.control.ListView;\nimport javafx.scene.input.*;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.io.Serializable;\nimport java.util.Collections;\nimport java.util.List;\n\n\npublic class DraggableRecords extends Application {\n\n    public record Category(\n            String name,\n            String description\n    ) implements Serializable {}\n\n    private static final ObservableList&lt;Category&gt; categories = FXCollections.observableArrayList(\n            new Category(&quot;Star&quot;, &quot;A ball of hot plasma&quot;),\n            new Category(&quot;Planet&quot;, &quot;A large, rounded astronomical body that is neither a star nor its remnant.&quot;),\n            new Category(&quot;Galaxy&quot;, &quot;A system of stars, bound together by gravity&quot;),\n            new Category(&quot;Universe&quot;, &quot;All of space and time and their contents,&quot;)\n    );\n\n    private static final DataFormat CATEGORY_DATA_FORMAT = new DataFormat(\n            &quot;application/jewelsea-category&quot;\n    );\n\n    private static final String REORDER_CATEGORIES =\n            &quot;Drag the categories to order from largest to smallest&quot;;\n\n    private static final String CATEGORIES_ARE_IN_ORDER =\n            &quot;The categories have been reordered correctly&quot;;\n\n    @Override\n    public void start(Stage stage) {\n        do {\n            Collections.shuffle(categories);\n        } while (categoriesAreInOrder());\n\n        ListView&lt;Category&gt; categoryListView = new ListView&lt;&gt;(categories);\n        categoryListView.setCellFactory(param -&gt; new CategoryCell());\n        categoryListView.setPrefSize(\n                430, 180\n        );\n\n        VBox layout = new VBox(categoryListView);\n        layout.setPadding(new Insets(10));\n\n        stage.setTitle(REORDER_CATEGORIES);\n        stage.setScene(new Scene(layout));\n        stage.show();\n\n        categories.addListener((ListChangeListener&lt;Category&gt;) change -&gt; {\n            stage.setTitle(\n                    categoriesAreInOrder()\n                            ? CATEGORIES_ARE_IN_ORDER\n                            : REORDER_CATEGORIES\n            );\n        });\n    }\n\n    private boolean categoriesAreInOrder() {\n        List&lt;String&gt; displayedCategoryNames = categories.stream().map(\n                Category::name\n        ).toList();\n\n        return displayedCategoryNames.equals(\n                List.of(&quot;Universe&quot;, &quot;Galaxy&quot;, &quot;Star&quot;, &quot;Planet&quot;)\n        );\n    }\n\n    public static void main(String[] args) {\n        launch(DraggableRecords.class);\n    }\n\n    private static final class CategoryCell extends ListCell&lt;Category&gt; {\n        public CategoryCell() {\n            final ListCell&lt;Category&gt; thisCell = this;\n\n            setOnDragDetected(event -&gt; {\n                if (getItem() == null) {\n                    return;\n                }\n\n                Dragboard dragboard = startDragAndDrop(TransferMode.MOVE);\n                ClipboardContent content = new ClipboardContent();\n                content.putString(getItem().toString());\n                content.put(CATEGORY_DATA_FORMAT, getItem());\n\n                dragboard.setContent(content);\n\n                event.consume();\n            });\n\n            setOnDragOver(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                        event.getDragboard().hasContent(CATEGORY_DATA_FORMAT)) {\n                    event.acceptTransferModes(TransferMode.MOVE);\n                }\n\n                event.consume();\n            });\n\n            setOnDragEntered(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                        event.getDragboard().hasContent(CATEGORY_DATA_FORMAT)) {\n                    setOpacity(0.3);\n                }\n            });\n\n            setOnDragExited(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                        event.getDragboard().hasContent(CATEGORY_DATA_FORMAT)) {\n                    setOpacity(1);\n                }\n            });\n\n            setOnDragDropped(event -&gt; {\n                if (getItem() == null) {\n                    return;\n                }\n\n                Dragboard db = event.getDragboard();\n                boolean success = false;\n\n                if (db.hasContent(CATEGORY_DATA_FORMAT)) {\n                    Category droppedCategory = (Category) db.getContent(\n                            CATEGORY_DATA_FORMAT\n                    );\n                    ObservableList&lt;Category&gt; items = getListView().getItems();\n                    int draggedIdx = items.indexOf(\n                            droppedCategory\n                    );\n                    int thisIdx = items.indexOf(getItem());\n\n                    Category temp = categories.get(draggedIdx);\n                    categories.set(draggedIdx, categories.get(thisIdx));\n                    categories.set(thisIdx, temp);\n\n                    success = true;\n                }\n                event.setDropCompleted(success);\n\n                event.consume();\n            });\n\n            setOnDragDone(DragEvent::consume);\n        }\n\n        @Override\n        protected void updateItem(Category item, boolean empty) {\n            super.updateItem(item, empty);\n\n            setText(\n                    (empty || item == null)\n                            ? null\n                            : item.name + &quot;\\n&quot; + item.description\n            );\n        }\n    }\n}\n</code></pre>\n<p>The solution provided isn't the only solution.  You could use a different serialization format (e.g. a JSON string) rather than the custom binary format used here.  That might be good if you need compatibility with other applications.  I won't demonstrate an alternative string serialization using JSON here though.</p>\n<p>It is possible to place multiple entries in the <code>DragBoard</code> for the same item, with each entry providing a different representation of the same data.  I did that here, using a custom data format for the binary data and a string format, which just invokes <code>toString</code> on the item.  If you drag within the app, which understands the binary format, the app can use the binary format.  However, if you drag to something outside the app, which won't understand the custom format, it will fall back to the string format.  This can be seen by dragging items from the example into a text editor.</p>\n<p><strong>FAQ</strong></p>\n<blockquote>\n<p>so i can make this work with Classes</p>\n</blockquote>\n<p>For a class, generate <code>hashCode</code> and <code>equals</code> functions using your IDE and use equals instead of <code>==</code> to test equivalence, so that you avoid some of the issues mentioned by John Bollinger.</p>\n<p>For a record you don't need to write the hashing and equals functions, or the accessor functions, as the records provide them.</p>\n<p>Other than that, most of the implementation is the same regardless of whether you choose to use records or classes.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ListChangeListener;\nimport javafx.collections.ObservableList;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ListCell;\nimport javafx.scene.control.ListView;\nimport javafx.scene.input.*;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.io.Serializable;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Objects;\n\n\npublic class DraggableRecords extends Application {\n\n    public static final class Category implements Serializable {\n        private final String name;\n        private final String description;\n\n        public Category(String name, String description) {\n            this.name = name;\n            this.description = description;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public String getDescription() {\n            return description;\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) return true;\n            if (o == null || getClass() != o.getClass()) return false;\n            Category category = (Category) o;\n            return Objects.equals(name, category.name) &amp;&amp; Objects.equals(description, category.description);\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(name, description);\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Category{&quot; +\n                    &quot;name='&quot; + name + '\\'' +\n                    &quot;, description='&quot; + description + '\\'' +\n                    '}';\n        }\n    }\n\n    private static final ObservableList&lt;Category&gt; categories = FXCollections.observableArrayList(\n            new Category(&quot;Star&quot;, &quot;A ball of hot plasma.&quot;),\n            new Category(&quot;Planet&quot;, &quot;A large, rounded astronomical body that is neither a star nor its remnant.&quot;),\n            new Category(&quot;Galaxy&quot;, &quot;A system of stars, bound together by gravity.&quot;),\n            new Category(&quot;Universe&quot;, &quot;All of space and time and their contents.&quot;)\n    );\n\n    private static final DataFormat CATEGORY_DATA_FORMAT = new DataFormat(\n            &quot;application/jewelsea-category&quot;\n    );\n\n    private static final String REORDER_CATEGORIES =\n            &quot;Drag the categories to order from largest to smallest&quot;;\n\n    private static final String CATEGORIES_ARE_IN_ORDER =\n            &quot;The categories have been reordered from correctly&quot;;\n\n    @Override\n    public void start(Stage stage) {\n        do {\n            Collections.shuffle(categories);\n        } while (categoriesAreInOrder());\n\n        ListView&lt;Category&gt; categoryListView = new ListView&lt;&gt;(categories);\n        categoryListView.setCellFactory(param -&gt; new CategoryCell());\n        categoryListView.setPrefSize(\n                430, 180\n        );\n\n        VBox layout = new VBox(categoryListView);\n        layout.setPadding(new Insets(10));\n\n        stage.setTitle(REORDER_CATEGORIES);\n        stage.setScene(new Scene(layout));\n        stage.show();\n\n        categories.addListener((ListChangeListener&lt;Category&gt;) change -&gt; {\n            stage.setTitle(\n                    categoriesAreInOrder()\n                            ? CATEGORIES_ARE_IN_ORDER\n                            : REORDER_CATEGORIES\n            );\n        });\n    }\n\n    private boolean categoriesAreInOrder() {\n        List&lt;String&gt; displayedCategoryNames = categories.stream().map(\n                Category::getName\n        ).toList();\n\n        return displayedCategoryNames.equals(\n                List.of(&quot;Universe&quot;, &quot;Galaxy&quot;, &quot;Star&quot;, &quot;Planet&quot;)\n        );\n    }\n\n    public static void main(String[] args) {\n        launch(DraggableRecords.class);\n    }\n\n    private static final class CategoryCell extends ListCell&lt;Category&gt; {\n        public CategoryCell() {\n            final ListCell&lt;Category&gt; thisCell = this;\n\n            setOnDragDetected(event -&gt; {\n                if (getItem() == null) {\n                    return;\n                }\n\n                Dragboard dragboard = startDragAndDrop(TransferMode.MOVE);\n                ClipboardContent content = new ClipboardContent();\n                content.putString(getItem().toString());\n                content.put(CATEGORY_DATA_FORMAT, getItem());\n\n                dragboard.setContent(content);\n\n                event.consume();\n            });\n\n            setOnDragOver(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                        event.getDragboard().hasContent(CATEGORY_DATA_FORMAT)) {\n                    event.acceptTransferModes(TransferMode.MOVE);\n                }\n\n                event.consume();\n            });\n\n            setOnDragEntered(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                        event.getDragboard().hasContent(CATEGORY_DATA_FORMAT)) {\n                    setOpacity(0.3);\n                }\n            });\n\n            setOnDragExited(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                        event.getDragboard().hasContent(CATEGORY_DATA_FORMAT)) {\n                    setOpacity(1);\n                }\n            });\n\n            setOnDragDropped(event -&gt; {\n                if (getItem() == null) {\n                    return;\n                }\n\n                Dragboard db = event.getDragboard();\n                boolean success = false;\n\n                if (db.hasContent(CATEGORY_DATA_FORMAT)) {\n                    Category droppedCategory = (Category) db.getContent(\n                            CATEGORY_DATA_FORMAT\n                    );\n                    ObservableList&lt;Category&gt; items = getListView().getItems();\n                    int draggedIdx = items.indexOf(\n                            droppedCategory\n                    );\n                    int thisIdx = items.indexOf(getItem());\n\n                    Category temp = categories.get(draggedIdx);\n                    categories.set(draggedIdx, categories.get(thisIdx));\n                    categories.set(thisIdx, temp);\n\n                    success = true;\n                }\n                event.setDropCompleted(success);\n\n                event.consume();\n            });\n\n            setOnDragDone(DragEvent::consume);\n        }\n\n        @Override\n        protected void updateItem(Category item, boolean empty) {\n            super.updateItem(item, empty);\n\n            setText(\n                    (empty || item == null)\n                            ? null\n                            : item.getName() + &quot;\\n&quot; + item.getDescription()\n            );\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28630571,"reputation":39,"user_id":21921697,"display_name":"TrySoHard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76285625,"answer_count":2,"score":1,"last_activity_date":1684851343,"creation_date":1684439276,"question_id":76284010,"body_markdown":"i&#39;m implementing a Drag and drop system for a ListView. I&#39;ve drawn inspiration from this code:\r\n\r\nhttps://gist.github.com/jewelsea/7821196\r\n\r\nThis is what i did:\r\n\r\n\r\n```\r\npackage com.example.ratatouille23.View.Supervisore;\r\n\r\n\r\n\r\npublic class CategoryOrder {\r\n\r\n    @FXML\r\n    private VBox vbox;\r\n\r\n    ObservableList&lt;Categoria&gt; categorie;\r\n\r\n    @FXML\r\n    public void initialize() {\r\n\r\n        popolaListview();\r\n    }\r\n\r\n    private void popolaListview() {\r\n\r\n\r\n        Piatto piatto1 = new Piatto(&quot;A&quot;, &quot;B&quot;,\r\n                &quot;C&quot;,\r\n                &quot;D&quot;);\r\n\r\n        ArrayList&lt;Piatto&gt; lista1 = new ArrayList&lt;Piatto&gt;();\r\n\r\n        lista1.add(piatto1);\r\n\r\n\r\n\r\n        Categoria cat1 = new Categoria(&quot;Antipasti&quot;, lista1);\r\n\r\n        Categoria cat2 = new Categoria(&quot;Primi piatti&quot;, lista1);\r\n\r\n        ArrayList&lt;Categoria&gt; listaCat = new ArrayList&lt;Categoria&gt;();\r\n\r\n        listaCat.add(cat1);\r\n        listaCat.add(cat2);\r\n        listaCat.add(cat2);\r\n        listaCat.add(cat1);\r\n\r\n\r\n        categorie = FXCollections.observableArrayList(listaCat);\r\n\r\n        ListView&lt;Categoria&gt; listaCategorie = new ListView&lt;&gt;(categorie);\r\n        listaCategorie.setCellFactory(new Callback&lt;ListView&lt;Categoria&gt;, ListCell&lt;Categoria&gt;&gt;() {\r\n            @Override\r\n            public ListCell&lt;Categoria&gt; call(ListView&lt;Categoria&gt; listaCategorie) {\r\n                return new CategoriaCell();\r\n            }\r\n        });\r\n\r\n        vbox.getChildren().add(listaCategorie);\r\n\r\n    }\r\n\r\n\r\n\r\n    private class CategoriaCell extends ListCell&lt;Categoria&gt; {\r\n\r\n        public CategoriaCell() {\r\n            ListCell thisCell = this;\r\n\r\n            setContentDisplay(ContentDisplay.TEXT_ONLY);\r\n\r\n            setAlignment(Pos.CENTER_LEFT);\r\n\r\n            setOnDragDetected(event -&gt; {\r\n                if (getItem() == null) {\r\n                    return;\r\n                }\r\n\r\n\r\n                Dragboard dragboard = startDragAndDrop(TransferMode.MOVE);\r\n                ClipboardContent content = new ClipboardContent();\r\n\r\n                content.putString(String.valueOf(getItem()));\r\n\r\n                dragboard.setContent(content);\r\n\r\n                event.consume();\r\n            });\r\n\r\n            setOnDragOver(event -&gt; {\r\n                if (event.getGestureSource() != thisCell &amp;&amp;\r\n                        event.getDragboard().hasString()) {\r\n                    event.acceptTransferModes(TransferMode.MOVE);\r\n                }\r\n\r\n                event.consume();\r\n            });\r\n\r\n            setOnDragEntered(event -&gt; {\r\n                if (event.getGestureSource() != thisCell &amp;&amp;\r\n                        event.getDragboard().hasString()) {\r\n                    setOpacity(0.3);\r\n                }\r\n            });\r\n\r\n            setOnDragExited(event -&gt; {\r\n                if (event.getGestureSource() != thisCell &amp;&amp;\r\n                        event.getDragboard().hasString()) {\r\n                    setOpacity(1);\r\n                }\r\n            });\r\n\r\n            setOnDragDropped(event -&gt; {\r\n                if (getItem().equals(null)) {\r\n                    return;\r\n                }\r\n\r\n                Dragboard db = event.getDragboard();\r\n                boolean success = false;\r\n\r\n                if (db.hasContent(CATEGORY_DATA_FORMAT)) {\r\n                    Categoria droppedCategory = (Categoria) db.getContent(\r\n                            CATEGORY_DATA_FORMAT\r\n                    );\r\n\r\n        \r\n                    ObservableList&lt;Categoria&gt; items = getListView().getItems();\r\n\r\n\r\n                    int draggedIdx = items.indexOf(droppedCategory);\r\n\r\n                    int thisIdx = items.indexOf(getItem());\r\n\r\n                    Categoria temp = categorie.get(draggedIdx);\r\n                    categorie.set(draggedIdx, categorie.get(thisIdx));\r\n                    categorie.set(thisIdx, temp);\r\n\r\n                    success = true;\r\n                }\r\n                event.setDropCompleted(success);\r\n\r\n                event.consume();\r\n            });\r\n            setOnDragDone(DragEvent::consume);\r\n        }\r\n\r\n        @Override\r\n        protected void updateItem(Categoria item, boolean empty) {\r\n            super.updateItem(item, empty);\r\n            if (empty || item == null) {\r\n                setText(null);\r\n            } else {\r\n                setText(item.getNome());\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nThese are my Piatto and Categoria classes:\r\n\r\n\r\n```\r\npackage com.example.ratatouille23.Model;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Categoria {\r\n\r\n    private String nomeCategoria;\r\n    private List&lt;Piatto&gt; listaPiatti;\r\n\r\n    public Categoria(String nome, List&lt;Piatto&gt; lista) {\r\n        this.nomeCategoria = nome;\r\n        listaPiatti = lista;\r\n    }\r\n\r\n    public String getNome() {\r\n        return nomeCategoria;\r\n    }\r\n\r\n    public void setNome(String nome) {\r\n        this.nomeCategoria = nome;\r\n    }\r\n\r\n    public List&lt;Piatto&gt; getPiatti() {\r\n        return listaPiatti;\r\n    }\r\n\r\n    public void setPiatti(List&lt;Piatto&gt; piatti) {\r\n        this.listaPiatti = piatti;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return nomeCategoria;\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof Categoria categoria)) return false;\r\n        return Objects.equals(nomeCategoria, categoria.nomeCategoria) &amp;&amp; Objects.equals(listaPiatti, categoria.listaPiatti);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(nomeCategoria, listaPiatti);\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\npackage com.example.ratatouille23.Model;\r\n\r\npublic class Piatto {\r\n    private String nomePiatto;\r\n    private String costoPiatto;\r\n    private String allergeni;\r\n    private String descrizione;\r\n\r\n    public Piatto(String nomePiatto, String costoPiatto, String allergeni, String descrizione) {\r\n        this.nomePiatto = nomePiatto;\r\n        this.costoPiatto = costoPiatto;\r\n        this.allergeni = allergeni;\r\n        this.descrizione = descrizione;\r\n    }\r\n\r\n    public String getNomePiatto() {\r\n        return nomePiatto;\r\n    }\r\n\r\n    public void setNomePiatto(String nomePiatto) {\r\n        this.nomePiatto = nomePiatto;\r\n    }\r\n\r\n    public String getCostoPiatto() {\r\n        return costoPiatto;\r\n    }\r\n\r\n    public void setCostoPiatto(String costoPiatto) {\r\n        this.costoPiatto = costoPiatto;\r\n    }\r\n\r\n    public String getAllergeni() {\r\n        return allergeni;\r\n    }\r\n\r\n    public void setAllergeni(String allergeni) {\r\n        this.allergeni = allergeni;\r\n    }\r\n\r\n    public String getDescrizione() {\r\n        return descrizione;\r\n    }\r\n\r\n    public void setDescrizione(String descrizione) {\r\n        this.descrizione = descrizione;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return nomePiatto;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe code executes just fine, and my ListView is populated. When i drag and drop an element, however, this is the error it gives me:\r\n\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.IndexOutOfBoundsException: Index -1 out of bounds for length 4\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\r\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\r\n```\r\n\r\nAnd the line that throws it is:\r\n```\r\n                event.consume();\r\n```\r\n\r\n\r\n\r\n\r\nI don&#39;t really know how to solve this. Any help is appreciated.","title":"ListView Drag and Drop, error &quot;IndexOutOfBoundsException: Index -1 out of bounds for length 4&quot;","body":"<p>i'm implementing a Drag and drop system for a ListView. I've drawn inspiration from this code:</p>\n<p><a href=\"https://gist.github.com/jewelsea/7821196\" rel=\"nofollow noreferrer\">https://gist.github.com/jewelsea/7821196</a></p>\n<p>This is what i did:</p>\n<pre><code>package com.example.ratatouille23.View.Supervisore;\n\n\n\npublic class CategoryOrder {\n\n    @FXML\n    private VBox vbox;\n\n    ObservableList&lt;Categoria&gt; categorie;\n\n    @FXML\n    public void initialize() {\n\n        popolaListview();\n    }\n\n    private void popolaListview() {\n\n\n        Piatto piatto1 = new Piatto(&quot;A&quot;, &quot;B&quot;,\n                &quot;C&quot;,\n                &quot;D&quot;);\n\n        ArrayList&lt;Piatto&gt; lista1 = new ArrayList&lt;Piatto&gt;();\n\n        lista1.add(piatto1);\n\n\n\n        Categoria cat1 = new Categoria(&quot;Antipasti&quot;, lista1);\n\n        Categoria cat2 = new Categoria(&quot;Primi piatti&quot;, lista1);\n\n        ArrayList&lt;Categoria&gt; listaCat = new ArrayList&lt;Categoria&gt;();\n\n        listaCat.add(cat1);\n        listaCat.add(cat2);\n        listaCat.add(cat2);\n        listaCat.add(cat1);\n\n\n        categorie = FXCollections.observableArrayList(listaCat);\n\n        ListView&lt;Categoria&gt; listaCategorie = new ListView&lt;&gt;(categorie);\n        listaCategorie.setCellFactory(new Callback&lt;ListView&lt;Categoria&gt;, ListCell&lt;Categoria&gt;&gt;() {\n            @Override\n            public ListCell&lt;Categoria&gt; call(ListView&lt;Categoria&gt; listaCategorie) {\n                return new CategoriaCell();\n            }\n        });\n\n        vbox.getChildren().add(listaCategorie);\n\n    }\n\n\n\n    private class CategoriaCell extends ListCell&lt;Categoria&gt; {\n\n        public CategoriaCell() {\n            ListCell thisCell = this;\n\n            setContentDisplay(ContentDisplay.TEXT_ONLY);\n\n            setAlignment(Pos.CENTER_LEFT);\n\n            setOnDragDetected(event -&gt; {\n                if (getItem() == null) {\n                    return;\n                }\n\n\n                Dragboard dragboard = startDragAndDrop(TransferMode.MOVE);\n                ClipboardContent content = new ClipboardContent();\n\n                content.putString(String.valueOf(getItem()));\n\n                dragboard.setContent(content);\n\n                event.consume();\n            });\n\n            setOnDragOver(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                        event.getDragboard().hasString()) {\n                    event.acceptTransferModes(TransferMode.MOVE);\n                }\n\n                event.consume();\n            });\n\n            setOnDragEntered(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                        event.getDragboard().hasString()) {\n                    setOpacity(0.3);\n                }\n            });\n\n            setOnDragExited(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                        event.getDragboard().hasString()) {\n                    setOpacity(1);\n                }\n            });\n\n            setOnDragDropped(event -&gt; {\n                if (getItem().equals(null)) {\n                    return;\n                }\n\n                Dragboard db = event.getDragboard();\n                boolean success = false;\n\n                if (db.hasContent(CATEGORY_DATA_FORMAT)) {\n                    Categoria droppedCategory = (Categoria) db.getContent(\n                            CATEGORY_DATA_FORMAT\n                    );\n\n        \n                    ObservableList&lt;Categoria&gt; items = getListView().getItems();\n\n\n                    int draggedIdx = items.indexOf(droppedCategory);\n\n                    int thisIdx = items.indexOf(getItem());\n\n                    Categoria temp = categorie.get(draggedIdx);\n                    categorie.set(draggedIdx, categorie.get(thisIdx));\n                    categorie.set(thisIdx, temp);\n\n                    success = true;\n                }\n                event.setDropCompleted(success);\n\n                event.consume();\n            });\n            setOnDragDone(DragEvent::consume);\n        }\n\n        @Override\n        protected void updateItem(Categoria item, boolean empty) {\n            super.updateItem(item, empty);\n            if (empty || item == null) {\n                setText(null);\n            } else {\n                setText(item.getNome());\n            }\n        }\n    }\n\n}\n\n\n</code></pre>\n<p>These are my Piatto and Categoria classes:</p>\n<pre><code>package com.example.ratatouille23.Model;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Categoria {\n\n    private String nomeCategoria;\n    private List&lt;Piatto&gt; listaPiatti;\n\n    public Categoria(String nome, List&lt;Piatto&gt; lista) {\n        this.nomeCategoria = nome;\n        listaPiatti = lista;\n    }\n\n    public String getNome() {\n        return nomeCategoria;\n    }\n\n    public void setNome(String nome) {\n        this.nomeCategoria = nome;\n    }\n\n    public List&lt;Piatto&gt; getPiatti() {\n        return listaPiatti;\n    }\n\n    public void setPiatti(List&lt;Piatto&gt; piatti) {\n        this.listaPiatti = piatti;\n    }\n\n    @Override\n    public String toString() {\n        return nomeCategoria;\n    }\n\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Categoria categoria)) return false;\n        return Objects.equals(nomeCategoria, categoria.nomeCategoria) &amp;&amp; Objects.equals(listaPiatti, categoria.listaPiatti);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(nomeCategoria, listaPiatti);\n    }\n}\n\n\n\n\npackage com.example.ratatouille23.Model;\n\npublic class Piatto {\n    private String nomePiatto;\n    private String costoPiatto;\n    private String allergeni;\n    private String descrizione;\n\n    public Piatto(String nomePiatto, String costoPiatto, String allergeni, String descrizione) {\n        this.nomePiatto = nomePiatto;\n        this.costoPiatto = costoPiatto;\n        this.allergeni = allergeni;\n        this.descrizione = descrizione;\n    }\n\n    public String getNomePiatto() {\n        return nomePiatto;\n    }\n\n    public void setNomePiatto(String nomePiatto) {\n        this.nomePiatto = nomePiatto;\n    }\n\n    public String getCostoPiatto() {\n        return costoPiatto;\n    }\n\n    public void setCostoPiatto(String costoPiatto) {\n        this.costoPiatto = costoPiatto;\n    }\n\n    public String getAllergeni() {\n        return allergeni;\n    }\n\n    public void setAllergeni(String allergeni) {\n        this.allergeni = allergeni;\n    }\n\n    public String getDescrizione() {\n        return descrizione;\n    }\n\n    public void setDescrizione(String descrizione) {\n        this.descrizione = descrizione;\n    }\n\n    @Override\n    public String toString() {\n        return nomePiatto;\n    }\n}\n\n</code></pre>\n<p>The code executes just fine, and my ListView is populated. When i drag and drop an element, however, this is the error it gives me:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IndexOutOfBoundsException: Index -1 out of bounds for length 4\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\n</code></pre>\n<p>And the line that throws it is:</p>\n<pre><code>                event.consume();\n</code></pre>\n<p>I don't really know how to solve this. Any help is appreciated.</p>\n"},{"tags":["java","spring","rest","openapi","springdoc"],"answers":[{"tags":[],"owner":{"account_id":1742043,"reputation":513,"user_id":1593165,"display_name":"user1593165"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684846912,"creation_date":1684846912,"answer_id":76315087,"question_id":76315011,"body_markdown":"By default springdoc serves the api documentation \r\n\r\nat /v3/api-docs in json format\r\nat /v3/api-docs.yaml in yaml format\r\n\r\nThe first is shown to as a link in swagger-ui. To have the second shown as link you need to set the following spring configuration property\r\n\r\nspringdoc.swagger-ui.url: /v3/api-docs.yaml","title":"yaml format by default in springdoc","body":"<p>By default springdoc serves the api documentation</p>\n<p>at /v3/api-docs in json format\nat /v3/api-docs.yaml in yaml format</p>\n<p>The first is shown to as a link in swagger-ui. To have the second shown as link you need to set the following spring configuration property</p>\n<p>springdoc.swagger-ui.url: /v3/api-docs.yaml</p>\n"},{"tags":[],"owner":{"account_id":11450501,"reputation":311,"user_id":8423371,"display_name":"SM. Hosseini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684851176,"creation_date":1684851176,"answer_id":76315729,"question_id":76315011,"body_markdown":"Yes, it is possible to have Swagger link the API documentation in YAML format by default when using Springdoc.\r\n\r\nSpringdoc integrates with Swagger UI to generate API documentation, and Swagger UI supports both JSON and YAML formats. To configure Springdoc to use YAML as the default format, you can follow these steps:\r\n\r\nInclude the necessary dependencies: Make sure you have the required dependencies in your project. You need springdoc-openapi-ui for Swagger UI integration and snakeyaml for YAML support.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n        &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nConfigure Springdoc to use YAML format: In your Spring Boot application configuration, you can define a bean of type OpenAPI and configure it to produce YAML output. You can use the YamlOpenAPIResource class provided by Springdoc to generate the YAML documentation.\r\n\r\n    import io.swagger.v3.oas.models.OpenAPI;\r\n    import org.springdoc.core.SwaggerUiConfigParameters;\r\n    import org.springdoc.core.SwaggerUiConfigParametersBuilder;\r\n    import org.springdoc.core.SwaggerUiConfigProperties;\r\n    \r\n    @Configuration\r\n    public class SwaggerConfiguration {\r\n    \r\n        @Bean\r\n        public OpenAPI openAPI() {\r\n            return new OpenAPI();\r\n        }\r\n    \r\n        @Bean\r\n        public SwaggerUiConfigParameters swaggerUiConfigParameters() {\r\n            SwaggerUiConfigProperties properties = new SwaggerUiConfigProperties();\r\n            properties.setConfigUrl(&quot;/v3/api-docs.yaml&quot;); // Set the YAML URL as the default\r\n    \r\n            return new SwaggerUiConfigParametersBuilder(properties).build();\r\n        }\r\n    }\r\n\r\nIn this configuration, setConfigUrl() is used to set the default URL for the Swagger UI configuration. By setting it to &quot;/v3/api-docs.yaml&quot;, it tells Swagger UI to load the documentation in YAML format by default.\r\n\r\nGenerate and access the YAML documentation: Start your application, and you can access the API documentation in YAML format by navigating to the following URL:\r\n\r\nbash\r\n\r\n    http://localhost:8080/swagger-ui/index.html?configUrl=/v3/api-docs.yaml\r\n\r\nThis URL will load Swagger UI with the API documentation in YAML format.\r\n\r\nNote: The configUrl parameter is used to specify the URL of the Swagger configuration file. In this case, it points to the YAML file generated by Springdoc.\r\n\r\n","title":"yaml format by default in springdoc","body":"<p>Yes, it is possible to have Swagger link the API documentation in YAML format by default when using Springdoc.</p>\n<p>Springdoc integrates with Swagger UI to generate API documentation, and Swagger UI supports both JSON and YAML formats. To configure Springdoc to use YAML as the default format, you can follow these steps:</p>\n<p>Include the necessary dependencies: Make sure you have the required dependencies in your project. You need springdoc-openapi-ui for Swagger UI integration and snakeyaml for YAML support.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n    &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n    &lt;version&gt;2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Configure Springdoc to use YAML format: In your Spring Boot application configuration, you can define a bean of type OpenAPI and configure it to produce YAML output. You can use the YamlOpenAPIResource class provided by Springdoc to generate the YAML documentation.</p>\n<pre><code>import io.swagger.v3.oas.models.OpenAPI;\nimport org.springdoc.core.SwaggerUiConfigParameters;\nimport org.springdoc.core.SwaggerUiConfigParametersBuilder;\nimport org.springdoc.core.SwaggerUiConfigProperties;\n\n@Configuration\npublic class SwaggerConfiguration {\n\n    @Bean\n    public OpenAPI openAPI() {\n        return new OpenAPI();\n    }\n\n    @Bean\n    public SwaggerUiConfigParameters swaggerUiConfigParameters() {\n        SwaggerUiConfigProperties properties = new SwaggerUiConfigProperties();\n        properties.setConfigUrl(&quot;/v3/api-docs.yaml&quot;); // Set the YAML URL as the default\n\n        return new SwaggerUiConfigParametersBuilder(properties).build();\n    }\n}\n</code></pre>\n<p>In this configuration, setConfigUrl() is used to set the default URL for the Swagger UI configuration. By setting it to &quot;/v3/api-docs.yaml&quot;, it tells Swagger UI to load the documentation in YAML format by default.</p>\n<p>Generate and access the YAML documentation: Start your application, and you can access the API documentation in YAML format by navigating to the following URL:</p>\n<p>bash</p>\n<pre><code>http://localhost:8080/swagger-ui/index.html?configUrl=/v3/api-docs.yaml\n</code></pre>\n<p>This URL will load Swagger UI with the API documentation in YAML format.</p>\n<p>Note: The configUrl parameter is used to specify the URL of the Swagger configuration file. In this case, it points to the YAML file generated by Springdoc.</p>\n"}],"owner":{"account_id":1742043,"reputation":513,"user_id":1593165,"display_name":"user1593165"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684851176,"creation_date":1684846680,"question_id":76315011,"body_markdown":"Using springdoc is it possibile to have swagger link the api documentation in yaml format by default?\r\n\r\nBy default springdoc have swagger link the api documentation in json format. Sometimes it&#39;s desirable to have the documentation in yaml format by default.","title":"yaml format by default in springdoc","body":"<p>Using springdoc is it possibile to have swagger link the api documentation in yaml format by default?</p>\n<p>By default springdoc have swagger link the api documentation in json format. Sometimes it's desirable to have the documentation in yaml format by default.</p>\n"},{"tags":["java","spring-boot","basic-authentication","hashicorp-vault"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1684840411,"post_id":76314045,"comment_id":134572860,"body_markdown":"How are you measuring? Did you time the two implementations of `AuthenticationProvider` or end-to-end request-response time?","body":"How are you measuring? Did you time the two implementations of <code>AuthenticationProvider</code> or end-to-end request-response time?"},{"owner":{"account_id":1118598,"reputation":556,"user_id":2462719,"accept_rate":83,"display_name":"AcidHawk"},"score":0,"creation_date":1684842473,"post_id":76314045,"comment_id":134573365,"body_markdown":"Ahh good question.  I did nothing as elaborate as that.  I was simply looking at the response time in postman when I ran my tests against myApp.  The reason I am looking at the authentication is that if I turn off all authentication the transactions complete in under 10ms.  When I enable Basic Authentication directly to the vault I see request-response times of 375ms and when I use the InMemoryUserDetailsManager and not direct calls to Vault I see very similar request-response times of 370ms.  I thought it would be more with an InMemory data structure.","body":"Ahh good question.  I did nothing as elaborate as that.  I was simply looking at the response time in postman when I ran my tests against myApp.  The reason I am looking at the authentication is that if I turn off all authentication the transactions complete in under 10ms.  When I enable Basic Authentication directly to the vault I see request-response times of 375ms and when I use the InMemoryUserDetailsManager and not direct calls to Vault I see very similar request-response times of 370ms.  I thought it would be more with an InMemory data structure."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1684851854,"post_id":76314045,"comment_id":134575751,"body_markdown":"Your screenshots suggests a &lt;1% difference.","body":"Your screenshots suggests a &lt;1% difference."},{"owner":{"account_id":1118598,"reputation":556,"user_id":2462719,"accept_rate":83,"display_name":"AcidHawk"},"score":0,"creation_date":1684909945,"post_id":76314045,"comment_id":134584437,"body_markdown":"@ValerijDobler - Exactly.  That is what I am saying.  When making the call to a Vault on a remote machine compared to making the call to an InMemoryUserDetailsManager shouldn&#39;t the call to memory be significantly quicker than the call to the Vault?","body":"@ValerijDobler - Exactly.  That is what I am saying.  When making the call to a Vault on a remote machine compared to making the call to an InMemoryUserDetailsManager shouldn&#39;t the call to memory be significantly quicker than the call to the Vault?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1684926433,"post_id":76314045,"comment_id":134588051,"body_markdown":"Is the call being made at the time of the recording? Can you observe it at the serving side?","body":"Is the call being made at the time of the recording? Can you observe it at the serving side?"}],"owner":{"account_id":1118598,"reputation":556,"user_id":2462719,"accept_rate":83,"display_name":"AcidHawk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684851035,"creation_date":1684840029,"question_id":76314045,"body_markdown":"I was playing around with a little Spring Boot application that uses Hashicorp Vault. I wanted to implement Basic Authentication and wondered if I could keep the users details in the vault.  There will never be many users for this app perhaps 5 - 10 different users.  As the vault is used for other things I wanted to avoid having to keep the users in a separate database somewhere.  \r\n\r\nThe vault has kv (v1) engine which contains the username, a Bcrypt encoded password and the Roles of the user.\r\n\r\nWhen a user logins into this app it does a lookup for the provided username in the vault and compares the password provided (which is BCrypt encoded) with the encoded password string from the vault and if authenticated collects the Roles etc etc...\r\n\r\nSomething like this.\r\n\r\nI include this into my POM file\r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.vault&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-vault-core&lt;/artifactId&gt;\r\n   &lt;version&gt;3.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nA simple User POJO\r\n```java\r\npublic class VaultBasicUser {\r\n    private String password;\r\n    private String roles;\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getRoles() {\r\n        return roles;\r\n    }\r\n\r\n    public void setRoles(String roles) {\r\n        this.roles = roles;\r\n    }\r\n}\r\n```\r\n\r\nMy Custom Authentication Provider\r\n```java\r\n@Slf4j\r\n@Component\r\npublic class BasicVaultAuthentication implements AuthenticationProvider {\r\n\r\n    @Autowired\r\n    private VaultTemplate vaultTemplate;\r\n    \r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        \r\n        String name = authentication.getName();\r\n        String password = authentication.getCredentials().toString();\r\n        \r\n        VaultResponseSupport&lt;VaultBasicUser&gt; vaultResponse = vaultTemplate.read(&quot;myApp/users/&quot; + name, VaultBasicUser.class);\r\n        \r\n        String vaultSecret = vaultResponse.getData().getPassword();\r\n        \r\n        if (vaultSecret != null) {\r\n            if (BCrypt.checkpw(password, vaultSecret)) {\r\n        \r\n                String vaultRoles = vaultResponse.getData().getRoles();\r\n                        \r\n                List&lt;GrantedAuthority&gt; roles = new ArrayList&lt;&gt;();\r\n                \r\n                String[] stringOfRoles = vaultRoles.split(&quot;,&quot;);\r\n                for (String singleRole : stringOfRoles) {\r\n                    roles.add(new SimpleGrantedAuthority(singleRole.replaceAll(&quot;\\s&quot;, &quot;&quot;)));\r\n                }\r\n                \r\n                UserDetails principal = new User(name, password, roles);\r\n                Authentication auth = new UsernamePasswordAuthenticationToken(principal, password, roles);\r\n                return auth;\r\n            }\r\n            else {\r\n                log.info(&quot;Incorrect Credentials (Password)&quot;);\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            log.info(&quot;Incorrect Credentials (User Not found in Vault)&quot;);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        return authentication.equals(UsernamePasswordAuthenticationToken.class\r\n        );\r\n    }\r\n```\r\n\r\nThis works, however when testing I noticed that each transaction&#39;s authentication was taking about 375ms to process.  I wondered if I change my strategy a little if I could reduce the 375ms for the authentication.\r\n\r\nSo I thought perhaps I could populate an InMemoryUserDetailsManager at startup and then the users will be in memory so the authentication part won&#39;t rely on API calls to the Vault for each transaction thereby reducing the time for authentication.\r\n\r\nI tried something like this:\r\n```java\r\n@Bean\r\n    public UserDetailsService userDetailsService(PasswordEncoder encoder) {\r\n        \r\n        Collection&lt;UserDetails&gt; allUsers = new ArrayList();\r\n\r\n        log.info(&quot;Collecting MyApp users from Vault: &quot; + vaultConfig.getUrl());\r\n\r\n        // ***** Get All users from Vault HERE ***** \r\n            VaultEndpoint vaultEndpoint;\r\n            try {\r\n                vaultEndpoint = VaultEndpoint.from(new URI(vaultConfig.getUrl()));\r\n                VaultTemplate vaultTemplate = new VaultTemplate(vaultEndpoint, new TokenAuthentication(vaultConfig.getToken()));\r\n                List&lt;String&gt; vaultUsers = vaultTemplate.list(&quot;myApp/users&quot;);\r\n\r\n                for (String vaultUser : vaultUsers) {\r\n                    VaultResponseSupport&lt;VaultBasicUser&gt; vaultResponse = vaultTemplate.read(&quot;myApp/users/&quot; + vaultUser, VaultBasicUser.class);\r\n                    String password = vaultResponse.getData().getPassword();\r\n                    String vaultRoles = vaultResponse.getData().getRoles();\r\n                    \r\n                    log.info(&quot;Adding User: [&quot; + vaultUser + &quot;, &quot; + password + &quot;, &quot; + vaultRoles + &quot;]&quot;);\r\n                    allUsers.add(User.withUsername(vaultUser).password(password).roles(vaultRoles).build());\r\n                }\r\n\r\n            } catch (URISyntaxException ex) {\r\n                log.error(&quot;Unable to read in MyApp users from Vault: &quot; + ex.getMessage());\r\n                log.info(&quot;Adding some Default Users...&quot;);\r\n                allUsers.add(User.withUsername(&quot;myapp_admin&quot;).password(encoder.encode(&quot;adminPassword&quot;)).roles(&quot;MYADMIN&quot;).build());\r\n                allUsers.add(User.withUsername(&quot;myapp_poweruser&quot;).password(encoder.encode(&quot;powerUserPassword&quot;)).roles(&quot;MYELEVATED&quot;).build());\r\n                allUsers.add(User.withUsername(&quot;myapp_client&quot;).password(encoder.encode(&quot;clientPassword&quot;)).roles(&quot;MYUSER&quot;).build());\r\n            }\r\n        } else {\r\n            log.info(&quot;Authentication configured for [&quot; + authType.getType() + &quot;] - Not connecting to Vault!&quot;);\r\n        }\r\n\r\n        return new InMemoryUserDetailsManager(allUsers);\r\n    }\r\n```\r\n\r\nHowever, when I run the same test the authentication still takes approximately 370ms.  Is my thinking totally wrong here?  Shouldn&#39;t retrieving the user details from memory be faster than getting them from the vault directly?  Have I got a problem somewhere else?\r\n\r\n**Edit #1:** Added some screenshots of using the Profiler in Netbeans.\r\n\r\nThis image is of using the BasicVaultAuthentication Custom Authentication Provider (This is where the call to the Vault happens right before the BCrypt.checkpw)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis picture is using the InMemoryUserDetailsManager However the authentication should be against the users that have been loaded into memory.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2fcyg.png\r\n  [2]: https://i.stack.imgur.com/XyMJ0.png","title":"Spring boot using Hashicorp Vault for Basic Authentication","body":"<p>I was playing around with a little Spring Boot application that uses Hashicorp Vault. I wanted to implement Basic Authentication and wondered if I could keep the users details in the vault.  There will never be many users for this app perhaps 5 - 10 different users.  As the vault is used for other things I wanted to avoid having to keep the users in a separate database somewhere.</p>\n<p>The vault has kv (v1) engine which contains the username, a Bcrypt encoded password and the Roles of the user.</p>\n<p>When a user logins into this app it does a lookup for the provided username in the vault and compares the password provided (which is BCrypt encoded) with the encoded password string from the vault and if authenticated collects the Roles etc etc...</p>\n<p>Something like this.</p>\n<p>I include this into my POM file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.vault&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-vault-core&lt;/artifactId&gt;\n   &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>A simple User POJO</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class VaultBasicUser {\n    private String password;\n    private String roles;\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getRoles() {\n        return roles;\n    }\n\n    public void setRoles(String roles) {\n        this.roles = roles;\n    }\n}\n</code></pre>\n<p>My Custom Authentication Provider</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Component\npublic class BasicVaultAuthentication implements AuthenticationProvider {\n\n    @Autowired\n    private VaultTemplate vaultTemplate;\n    \n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        \n        String name = authentication.getName();\n        String password = authentication.getCredentials().toString();\n        \n        VaultResponseSupport&lt;VaultBasicUser&gt; vaultResponse = vaultTemplate.read(&quot;myApp/users/&quot; + name, VaultBasicUser.class);\n        \n        String vaultSecret = vaultResponse.getData().getPassword();\n        \n        if (vaultSecret != null) {\n            if (BCrypt.checkpw(password, vaultSecret)) {\n        \n                String vaultRoles = vaultResponse.getData().getRoles();\n                        \n                List&lt;GrantedAuthority&gt; roles = new ArrayList&lt;&gt;();\n                \n                String[] stringOfRoles = vaultRoles.split(&quot;,&quot;);\n                for (String singleRole : stringOfRoles) {\n                    roles.add(new SimpleGrantedAuthority(singleRole.replaceAll(&quot;\\s&quot;, &quot;&quot;)));\n                }\n                \n                UserDetails principal = new User(name, password, roles);\n                Authentication auth = new UsernamePasswordAuthenticationToken(principal, password, roles);\n                return auth;\n            }\n            else {\n                log.info(&quot;Incorrect Credentials (Password)&quot;);\n                return null;\n            }\n        }\n        else {\n            log.info(&quot;Incorrect Credentials (User Not found in Vault)&quot;);\n            return null;\n        }\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return authentication.equals(UsernamePasswordAuthenticationToken.class\n        );\n    }\n</code></pre>\n<p>This works, however when testing I noticed that each transaction's authentication was taking about 375ms to process.  I wondered if I change my strategy a little if I could reduce the 375ms for the authentication.</p>\n<p>So I thought perhaps I could populate an InMemoryUserDetailsManager at startup and then the users will be in memory so the authentication part won't rely on API calls to the Vault for each transaction thereby reducing the time for authentication.</p>\n<p>I tried something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n    public UserDetailsService userDetailsService(PasswordEncoder encoder) {\n        \n        Collection&lt;UserDetails&gt; allUsers = new ArrayList();\n\n        log.info(&quot;Collecting MyApp users from Vault: &quot; + vaultConfig.getUrl());\n\n        // ***** Get All users from Vault HERE ***** \n            VaultEndpoint vaultEndpoint;\n            try {\n                vaultEndpoint = VaultEndpoint.from(new URI(vaultConfig.getUrl()));\n                VaultTemplate vaultTemplate = new VaultTemplate(vaultEndpoint, new TokenAuthentication(vaultConfig.getToken()));\n                List&lt;String&gt; vaultUsers = vaultTemplate.list(&quot;myApp/users&quot;);\n\n                for (String vaultUser : vaultUsers) {\n                    VaultResponseSupport&lt;VaultBasicUser&gt; vaultResponse = vaultTemplate.read(&quot;myApp/users/&quot; + vaultUser, VaultBasicUser.class);\n                    String password = vaultResponse.getData().getPassword();\n                    String vaultRoles = vaultResponse.getData().getRoles();\n                    \n                    log.info(&quot;Adding User: [&quot; + vaultUser + &quot;, &quot; + password + &quot;, &quot; + vaultRoles + &quot;]&quot;);\n                    allUsers.add(User.withUsername(vaultUser).password(password).roles(vaultRoles).build());\n                }\n\n            } catch (URISyntaxException ex) {\n                log.error(&quot;Unable to read in MyApp users from Vault: &quot; + ex.getMessage());\n                log.info(&quot;Adding some Default Users...&quot;);\n                allUsers.add(User.withUsername(&quot;myapp_admin&quot;).password(encoder.encode(&quot;adminPassword&quot;)).roles(&quot;MYADMIN&quot;).build());\n                allUsers.add(User.withUsername(&quot;myapp_poweruser&quot;).password(encoder.encode(&quot;powerUserPassword&quot;)).roles(&quot;MYELEVATED&quot;).build());\n                allUsers.add(User.withUsername(&quot;myapp_client&quot;).password(encoder.encode(&quot;clientPassword&quot;)).roles(&quot;MYUSER&quot;).build());\n            }\n        } else {\n            log.info(&quot;Authentication configured for [&quot; + authType.getType() + &quot;] - Not connecting to Vault!&quot;);\n        }\n\n        return new InMemoryUserDetailsManager(allUsers);\n    }\n</code></pre>\n<p>However, when I run the same test the authentication still takes approximately 370ms.  Is my thinking totally wrong here?  Shouldn't retrieving the user details from memory be faster than getting them from the vault directly?  Have I got a problem somewhere else?</p>\n<p><strong>Edit #1:</strong> Added some screenshots of using the Profiler in Netbeans.</p>\n<p>This image is of using the BasicVaultAuthentication Custom Authentication Provider (This is where the call to the Vault happens right before the BCrypt.checkpw)</p>\n<p><a href=\"https://i.stack.imgur.com/2fcyg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2fcyg.png\" alt=\"enter image description here\" /></a></p>\n<p>This picture is using the InMemoryUserDetailsManager However the authentication should be against the users that have been loaded into memory.</p>\n<p><a href=\"https://i.stack.imgur.com/XyMJ0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XyMJ0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jpa","annotations","one-to-one"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1684522163,"post_id":76291469,"comment_id":134534751,"body_markdown":"Why are you using PrimaryKeyJoinColumn instead of @MapsId? Try it instead and remove the mappedby- mappedby means the other side has the foreign key or at least defines the relationship which isn’t the case here. Do you really have both a customer_id and a separate appraised_for column or should that too be a single relation to the customer table?","body":"Why are you using PrimaryKeyJoinColumn instead of @MapsId? Try it instead and remove the mappedby- mappedby means the other side has the foreign key or at least defines the relationship which isn’t the case here. Do you really have both a customer_id and a separate appraised_for column or should that too be a single relation to the customer table?"},{"owner":{"account_id":5322173,"reputation":325,"user_id":4245323,"accept_rate":60,"display_name":"Rob Gravelle"},"score":0,"creation_date":1684588445,"post_id":76291469,"comment_id":134540766,"body_markdown":"@Chris, I removed the PrimaryKeyJoinColumn and renamed the customer_id column: @Column(name=&quot;appraised_for&quot;, insertable=false, updatable=false).","body":"@Chris, I removed the PrimaryKeyJoinColumn and renamed the customer_id column: @Column(name=&quot;appraised_for&quot;, insertable=false, updatable=false)."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684850908,"creation_date":1684850908,"answer_id":76315683,"question_id":76291469,"body_markdown":"Since you have a composite primary key mapped in the entity that references other entities, you might want to let JPA handle the foreign key values directly so you don&#39;t have to set them yourself. With JPA 2.0 and beyond, you can mark relationship with @Id or if using basic/embeddableId mappings for the identifiers, tell JPA that the relationship controls the mapping using @MapsId instead:\r\n\r\n    @Entity\r\n    @Table(name = &quot;appraisal&quot;)\r\n    @IdClass(AppraisalId.class)\r\n    public class Appraisal {\r\n        \r\n        @Id\r\n        private Long vehicleId;\r\n        \r\n        @MapsId(&quot;vehicleId&quot;)\r\n        @OneToOne\r\n        @JoinColumn(name=&quot;vehicle_id&quot;)\r\n        private Vehicle vehicle;\r\n        \r\n        @Id\r\n        private Long customerId;\r\n        \r\n        @MapsId(&quot;customerId&quot;)\r\n        @OneToOne\r\n        @JoinColumn(name=&quot;appraised_for&quot;, referencedColumnName=&quot;id&quot;)\r\n        private Customer customer;\r\n        \r\n        ..\r\n    }","title":"How to create a one-to-one relationship between two entities on a PK using JPA?","body":"<p>Since you have a composite primary key mapped in the entity that references other entities, you might want to let JPA handle the foreign key values directly so you don't have to set them yourself. With JPA 2.0 and beyond, you can mark relationship with @Id or if using basic/embeddableId mappings for the identifiers, tell JPA that the relationship controls the mapping using @MapsId instead:</p>\n<pre><code>@Entity\n@Table(name = &quot;appraisal&quot;)\n@IdClass(AppraisalId.class)\npublic class Appraisal {\n    \n    @Id\n    private Long vehicleId;\n    \n    @MapsId(&quot;vehicleId&quot;)\n    @OneToOne\n    @JoinColumn(name=&quot;vehicle_id&quot;)\n    private Vehicle vehicle;\n    \n    @Id\n    private Long customerId;\n    \n    @MapsId(&quot;customerId&quot;)\n    @OneToOne\n    @JoinColumn(name=&quot;appraised_for&quot;, referencedColumnName=&quot;id&quot;)\n    private Customer customer;\n    \n    ..\n}\n</code></pre>\n"}],"owner":{"account_id":5322173,"reputation":325,"user_id":4245323,"accept_rate":60,"display_name":"Rob Gravelle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76315683,"answer_count":1,"score":0,"last_activity_date":1684850908,"creation_date":1684519110,"question_id":76291469,"body_markdown":"I&#39;m trying to link two entities using JPA via a one-to-one relationship, but I&#39;m getting a &quot;referenced property unknown&quot; error one one of the classes.  Here is a diagram of the two entities in question:\r\n\r\n[![Model diagram][1]][1]\r\n\r\nThe vehicle_id column of the appraisal table links to the id of the vehicle. For that reason, I added the @PrimaryKeyJoinColumn annotation in the Appraisal class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;appraisal&quot;)\r\n    @Data\r\n    @IdClass(AppraisalId.class)\r\n    public class Appraisal {\r\n    \t\r\n    \t@Id\r\n    \t@Column(name=&quot;vehicle_id&quot;)\r\n        private Long vehicleId;\r\n    \t\r\n    \t@PrimaryKeyJoinColumn\r\n    \t@OneToOne(mappedBy = &quot;appraisal&quot;)\r\n    \tprivate Vehicle vehicle;\r\n    \t\r\n    \t@Id\r\n    \t@Column(name=&quot;customer_id&quot;)\r\n        private Long customerId;\r\n    \t\r\n    \t@OneToOne\r\n    \t@JoinColumn(name=&quot;appraised_for&quot;, referencedColumnName=&quot;id&quot;)\r\n    \tprivate Customer customer;\r\n    \t\r\n    \t//1 column omitted for brevity\r\n    }\r\n\r\nNotice that the Appraisal class uses a composite PK.  Here is the AppraisalId class:\r\n\r\n    @Data\r\n    public class AppraisalId implements Serializable {\r\n    \t\r\n    \tprivate static final long serialVersionUID = -5373569618334807665L;\r\n    \t\r\n    \tprivate Long vehicleId;\r\n    \tprivate Long customerId;\r\n    \r\n    }\r\n\r\nHere&#39;s the Vehicle class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;vehicle&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Vehicle {\r\n    \t\r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;id&quot;)\r\n        private Long id;\r\n    \t\r\n    \t@OneToOne(mappedBy = &quot;vehicle&quot;)\r\n        private Appraisal appraisal;\r\n    \t\r\n    \t//other columns omitted for brevity\r\n    }\r\n\r\nNote that I&#39;m using the Lombok @Data annotation to generate getters and setters.\r\n\r\nThe exact error is &quot;Unknown mappedBy in: ca.allauto.ups.model.Appraisal.vehicle, referenced property unknown: ca.allauto.ups.model.Vehicle.appraisal&quot;.\r\n\r\n**Any ideas what I&#39;m doing wrong?**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8RFHN.png","title":"How to create a one-to-one relationship between two entities on a PK using JPA?","body":"<p>I'm trying to link two entities using JPA via a one-to-one relationship, but I'm getting a &quot;referenced property unknown&quot; error one one of the classes.  Here is a diagram of the two entities in question:</p>\n<p><a href=\"https://i.stack.imgur.com/8RFHN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8RFHN.png\" alt=\"Model diagram\" /></a></p>\n<p>The vehicle_id column of the appraisal table links to the id of the vehicle. For that reason, I added the @PrimaryKeyJoinColumn annotation in the Appraisal class:</p>\n<pre><code>@Entity\n@Table(name = &quot;appraisal&quot;)\n@Data\n@IdClass(AppraisalId.class)\npublic class Appraisal {\n    \n    @Id\n    @Column(name=&quot;vehicle_id&quot;)\n    private Long vehicleId;\n    \n    @PrimaryKeyJoinColumn\n    @OneToOne(mappedBy = &quot;appraisal&quot;)\n    private Vehicle vehicle;\n    \n    @Id\n    @Column(name=&quot;customer_id&quot;)\n    private Long customerId;\n    \n    @OneToOne\n    @JoinColumn(name=&quot;appraised_for&quot;, referencedColumnName=&quot;id&quot;)\n    private Customer customer;\n    \n    //1 column omitted for brevity\n}\n</code></pre>\n<p>Notice that the Appraisal class uses a composite PK.  Here is the AppraisalId class:</p>\n<pre><code>@Data\npublic class AppraisalId implements Serializable {\n    \n    private static final long serialVersionUID = -5373569618334807665L;\n    \n    private Long vehicleId;\n    private Long customerId;\n\n}\n</code></pre>\n<p>Here's the Vehicle class:</p>\n<pre><code>@Entity\n@Table(name = &quot;vehicle&quot;)\n@Getter\n@Setter\npublic class Vehicle {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private Long id;\n    \n    @OneToOne(mappedBy = &quot;vehicle&quot;)\n    private Appraisal appraisal;\n    \n    //other columns omitted for brevity\n}\n</code></pre>\n<p>Note that I'm using the Lombok @Data annotation to generate getters and setters.</p>\n<p>The exact error is &quot;Unknown mappedBy in: ca.allauto.ups.model.Appraisal.vehicle, referenced property unknown: ca.allauto.ups.model.Vehicle.appraisal&quot;.</p>\n<p><strong>Any ideas what I'm doing wrong?</strong></p>\n"},{"tags":["java","indexing","lucene"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1684767479,"post_id":76306857,"comment_id":134561134,"body_markdown":"Not an answer,just a couple of observations: (1) For Lucene 9.6.0, you need to use [`lucene-analysis-common`](https://mvnrepository.com/artifact/org.apache.lucene/lucene-analysis-common). The package was renamed from `analyzers` to `analysis`. Don&#39;t mix different JAR versions. (2) The sort you are trying to implement is the default sort order (by score, highest to lowest) - so you can remove it and get the required result (as you mention in the question).","body":"Not an answer,just a couple of observations: (1) For Lucene 9.6.0, you need to use <a href=\"https://mvnrepository.com/artifact/org.apache.lucene/lucene-analysis-common\" rel=\"nofollow noreferrer\"><code>lucene-analysis-common</code></a>. The package was renamed from <code>analyzers</code> to <code>analysis</code>. Don&#39;t mix different JAR versions. (2) The sort you are trying to implement is the default sort order (by score, highest to lowest) - so you can remove it and get the required result (as you mention in the question)."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1684778699,"post_id":76306857,"comment_id":134563564,"body_markdown":"Some more notes: When you do not try to use an explicit sort, you can retrieve the score from your `ScoreDoc`, which is: `doc=2 score=0.49662238 shardIndex=-1` (as you note). But when you get `NaN` the `ScoreDoc` is this:  `doc=2 score=NaN shardIndex=-1 fields=[0.49662238]`. You can see the `NaN` - but you can also see the score in the `fields` array - which looks very odd to me (but there may be an explanation). I would ask on the Lucene `java-user` mailing list - see [here](https://lucene.apache.org/core/discussion.html) for how to subscribe.","body":"Some more notes: When you do not try to use an explicit sort, you can retrieve the score from your <code>ScoreDoc</code>, which is: <code>doc=2 score=0.49662238 shardIndex=-1</code> (as you note). But when you get <code>NaN</code> the <code>ScoreDoc</code> is this:  <code>doc=2 score=NaN shardIndex=-1 fields=[0.49662238]</code>. You can see the <code>NaN</code> - but you can also see the score in the <code>fields</code> array - which looks very odd to me (but there may be an explanation). I would ask on the Lucene <code>java-user</code> mailing list - see <a href=\"https://lucene.apache.org/core/discussion.html\" rel=\"nofollow noreferrer\">here</a> for how to subscribe."},{"owner":{"account_id":1951378,"reputation":2495,"user_id":1755381,"accept_rate":48,"display_name":"Franz Deschler"},"score":0,"creation_date":1684779958,"post_id":76306857,"comment_id":134563811,"body_markdown":"Thanks @andrewJames for the hints! The `fields` property is part of the `FieldDoc` class (a subclass of `ScoreDoc`). The JavaDoc says, that it contains information about how to sort the documents. The `fields` array contains the score in THIS case, because I order by score. But it can also contain other types, depending on the type of the field-type that should be used for sorting.","body":"Thanks @andrewJames for the hints! The <code>fields</code> property is part of the <code>FieldDoc</code> class (a subclass of <code>ScoreDoc</code>). The JavaDoc says, that it contains information about how to sort the documents. The <code>fields</code> array contains the score in THIS case, because I order by score. But it can also contain other types, depending on the type of the field-type that should be used for sorting."}],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684850583,"creation_date":1684850583,"answer_id":76315631,"question_id":76306857,"body_markdown":"**Short Answer**\r\n\r\nSorting will work the way you expect, using your provided `Sort` criterion. It is equivalent to the default &quot;relevance&quot; sort order used by Lucene.\r\n\r\nYou can still access the relevance score, if you want to, by casting `ScoreDoc` to `FieldDoc`.\r\n\r\n---\r\n\r\n**Longer Answer**\r\n\r\nThe sort order defined by:\r\n\r\n    Sort sort = new Sort(SortField.FIELD_SCORE);\r\n\r\nis the same as the default sort order - which sorts by score (relevance) from highest to lowest. So, documents will be ordered in the same way in both cases.\r\n\r\nBut when you use an explicit sort, you can no longer access the score using `scoreDoc.score`, as noted in the question. Instead you only get `NaN` (not a number).\r\n\r\n    2 : NaN\r\n\r\n---\r\n\r\nHowever, you can still access the score (if you want to) by casting each `ScoreDoc` instance to a [`FieldDoc`](https://lucene.apache.org/core/9_6_0/core/org/apache/lucene/search/FieldDoc.html). We get `FieldDocs` because we have added a sort field to our search.\r\n\r\n`FieldDoc` extends `ScoreDoc`. It contains &quot;information about how to sort the referenced document&quot;.\r\n\r\nIn our case, there is only one sort field and it is the `FIELD_SCORE` value.\r\n\r\nSo, to print the score, we can change this code:\r\n\r\n```java\r\nfor (ScoreDoc scoreDoc : topDocs.scoreDocs) {\r\n    System.out.println(scoreDoc.doc + &quot; : &quot; + scoreDoc.score);\r\n}\r\n```\r\n\r\nto this:\r\n\r\n```java\r\nfor (ScoreDoc scoreDoc : topFieldDocs.scoreDocs) {\r\n    FieldDoc fieldDoc = (FieldDoc) scoreDoc;\r\n    System.out.println(scoreDoc.doc + &quot; : &quot; + fieldDoc.fields[0]);\r\n}\r\n```\r\n\r\nNow we will get the score printed, instead of `NaN`:\r\n\r\n    2 : 0.49662238\r\n\r\n**Speculation:** I may be wrong, but I assume the original `scoreDoc.score` field is `NaN` because it doesn&#39;t make sense to calculate it and store it here, given there is no guarantee that the applied search will use `SortField.FIELD_SCORE`. \r\n\r\nI expect users will mostly want to sort by something other than score - and maybe optionally use score as a tie-breaker.\r\n\r\nBut if `FIELD_SCORE` _is_ used, then the score will be available in that field, instead.\r\n\r\n---\r\n\r\nAs an aside, instead of this:\r\n\r\n    TopDocs topDocs = indexSearcher.search(query, 10, sort);\r\n\r\nYou can use this:\r\n\r\n    TopFieldDocs topFieldDocs = indexSearcher.search(query, 10, sort);\r\n\r\nThis allows us to access `SortField[]` - the fields which were used for sorting results. This includes information about field types.","title":"Apache Lucene returns NaN as score when sorting by relevance","body":"<p><strong>Short Answer</strong></p>\n<p>Sorting will work the way you expect, using your provided <code>Sort</code> criterion. It is equivalent to the default &quot;relevance&quot; sort order used by Lucene.</p>\n<p>You can still access the relevance score, if you want to, by casting <code>ScoreDoc</code> to <code>FieldDoc</code>.</p>\n<hr />\n<p><strong>Longer Answer</strong></p>\n<p>The sort order defined by:</p>\n<pre><code>Sort sort = new Sort(SortField.FIELD_SCORE);\n</code></pre>\n<p>is the same as the default sort order - which sorts by score (relevance) from highest to lowest. So, documents will be ordered in the same way in both cases.</p>\n<p>But when you use an explicit sort, you can no longer access the score using <code>scoreDoc.score</code>, as noted in the question. Instead you only get <code>NaN</code> (not a number).</p>\n<pre><code>2 : NaN\n</code></pre>\n<hr />\n<p>However, you can still access the score (if you want to) by casting each <code>ScoreDoc</code> instance to a <a href=\"https://lucene.apache.org/core/9_6_0/core/org/apache/lucene/search/FieldDoc.html\" rel=\"nofollow noreferrer\"><code>FieldDoc</code></a>. We get <code>FieldDocs</code> because we have added a sort field to our search.</p>\n<p><code>FieldDoc</code> extends <code>ScoreDoc</code>. It contains &quot;information about how to sort the referenced document&quot;.</p>\n<p>In our case, there is only one sort field and it is the <code>FIELD_SCORE</code> value.</p>\n<p>So, to print the score, we can change this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (ScoreDoc scoreDoc : topDocs.scoreDocs) {\n    System.out.println(scoreDoc.doc + &quot; : &quot; + scoreDoc.score);\n}\n</code></pre>\n<p>to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (ScoreDoc scoreDoc : topFieldDocs.scoreDocs) {\n    FieldDoc fieldDoc = (FieldDoc) scoreDoc;\n    System.out.println(scoreDoc.doc + &quot; : &quot; + fieldDoc.fields[0]);\n}\n</code></pre>\n<p>Now we will get the score printed, instead of <code>NaN</code>:</p>\n<pre><code>2 : 0.49662238\n</code></pre>\n<p><strong>Speculation:</strong> I may be wrong, but I assume the original <code>scoreDoc.score</code> field is <code>NaN</code> because it doesn't make sense to calculate it and store it here, given there is no guarantee that the applied search will use <code>SortField.FIELD_SCORE</code>.</p>\n<p>I expect users will mostly want to sort by something other than score - and maybe optionally use score as a tie-breaker.</p>\n<p>But if <code>FIELD_SCORE</code> <em>is</em> used, then the score will be available in that field, instead.</p>\n<hr />\n<p>As an aside, instead of this:</p>\n<pre><code>TopDocs topDocs = indexSearcher.search(query, 10, sort);\n</code></pre>\n<p>You can use this:</p>\n<pre><code>TopFieldDocs topFieldDocs = indexSearcher.search(query, 10, sort);\n</code></pre>\n<p>This allows us to access <code>SortField[]</code> - the fields which were used for sorting results. This includes information about field types.</p>\n"}],"owner":{"account_id":1951378,"reputation":2495,"user_id":1755381,"accept_rate":48,"display_name":"Franz Deschler"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76315631,"answer_count":1,"score":1,"last_activity_date":1684850583,"creation_date":1684763222,"question_id":76306857,"body_markdown":"I want to order the results of my Apache Lucene search by relevance. But when I use `SortField.FIELD_SCORE` for sorting, the score of the resulting documents is always `NaN`.\r\nWhen I omit the sort parameter, the search works perfectly fine, and the result documents contain a valid score.\r\n\r\nI use `lucene-core 9.6.0` and `lucene-analyzers-common 8.11.2` which are the most up to date versions in the Maven repository right now.\r\n\r\nAt first I thought, I messed up my index or query. But I&#39;m able to reproduce the issue with the most simple implementation I can imagine: \r\n\r\n```java\r\npublic class LuceneSearch {\r\n    public static void main(String[] args) {\r\n        try {\r\n            Directory directory = new ByteBuffersDirectory();\r\n            \r\n            try (IndexWriter indexWriter = new IndexWriter(directory, new IndexWriterConfig(new SimpleAnalyzer()))) {\r\n                indexWriter.addDocument(createDocument(&quot;a very simple example&quot;));\r\n                indexWriter.addDocument(createDocument(&quot;another example&quot;));\r\n                indexWriter.addDocument(createDocument(&quot;hello world&quot;));\r\n            }\r\n\r\n            IndexReader indexReader = DirectoryReader.open(directory);\r\n            IndexSearcher indexSearcher = new IndexSearcher(indexReader);\r\n\r\n            Query query = new TermQuery(new Term(&quot;value&quot;, &quot;hello&quot;));\r\n            Sort sort = new Sort(SortField.FIELD_SCORE); // &lt;&lt;&lt;&lt; this causes the problem\r\n            TopDocs topDocs = indexSearcher.search(query, 10, sort);\r\n            for (ScoreDoc scoreDoc : topDocs.scoreDocs) {\r\n                System.out.println(scoreDoc.doc + &quot; : &quot; + scoreDoc.score);\r\n            }\r\n\r\n            indexReader.close();\r\n            directory.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static Document createDocument(String value) {\r\n        Document document = new Document();\r\n        document.add(new TextField(&quot;value&quot;, value, Field.Store.NO));\r\n        return document;\r\n    }\r\n}\r\n```\r\n\r\nWhen I run this simple code, I get `2 : NaN`. Without the `sort` parameter, I get `2 : 0.49662238`. I have no idea what I&#39;m missing here. Or could it be a bug in the library?\r\nThanks for your help!\r\n\r\n**Edit:**\r\nAs @andrewJames stated in the comments, the ScoreDoc (actually `FieldDoc`) object contains a property `fields` which contains the score when using the sort parameter.\r\nAfter some testing, I found out that the actual score is identical in both cases (with/without sort parameter). So the sorting works correctly.","title":"Apache Lucene returns NaN as score when sorting by relevance","body":"<p>I want to order the results of my Apache Lucene search by relevance. But when I use <code>SortField.FIELD_SCORE</code> for sorting, the score of the resulting documents is always <code>NaN</code>.\nWhen I omit the sort parameter, the search works perfectly fine, and the result documents contain a valid score.</p>\n<p>I use <code>lucene-core 9.6.0</code> and <code>lucene-analyzers-common 8.11.2</code> which are the most up to date versions in the Maven repository right now.</p>\n<p>At first I thought, I messed up my index or query. But I'm able to reproduce the issue with the most simple implementation I can imagine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LuceneSearch {\n    public static void main(String[] args) {\n        try {\n            Directory directory = new ByteBuffersDirectory();\n            \n            try (IndexWriter indexWriter = new IndexWriter(directory, new IndexWriterConfig(new SimpleAnalyzer()))) {\n                indexWriter.addDocument(createDocument(&quot;a very simple example&quot;));\n                indexWriter.addDocument(createDocument(&quot;another example&quot;));\n                indexWriter.addDocument(createDocument(&quot;hello world&quot;));\n            }\n\n            IndexReader indexReader = DirectoryReader.open(directory);\n            IndexSearcher indexSearcher = new IndexSearcher(indexReader);\n\n            Query query = new TermQuery(new Term(&quot;value&quot;, &quot;hello&quot;));\n            Sort sort = new Sort(SortField.FIELD_SCORE); // &lt;&lt;&lt;&lt; this causes the problem\n            TopDocs topDocs = indexSearcher.search(query, 10, sort);\n            for (ScoreDoc scoreDoc : topDocs.scoreDocs) {\n                System.out.println(scoreDoc.doc + &quot; : &quot; + scoreDoc.score);\n            }\n\n            indexReader.close();\n            directory.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static Document createDocument(String value) {\n        Document document = new Document();\n        document.add(new TextField(&quot;value&quot;, value, Field.Store.NO));\n        return document;\n    }\n}\n</code></pre>\n<p>When I run this simple code, I get <code>2 : NaN</code>. Without the <code>sort</code> parameter, I get <code>2 : 0.49662238</code>. I have no idea what I'm missing here. Or could it be a bug in the library?\nThanks for your help!</p>\n<p><strong>Edit:</strong>\nAs @andrewJames stated in the comments, the ScoreDoc (actually <code>FieldDoc</code>) object contains a property <code>fields</code> which contains the score when using the sort parameter.\nAfter some testing, I found out that the actual score is identical in both cases (with/without sort parameter). So the sorting works correctly.</p>\n"},{"tags":["java","sql","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":18129699,"reputation":296,"user_id":13184919,"display_name":"M&#225;t&#233; Tős&#233;r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684850564,"creation_date":1684850564,"answer_id":76315628,"question_id":76315446,"body_markdown":"You can write a JPA find method, for your example:\r\n\r\n    findAllByProcessEntity_GroupIdsProcessIsIn(Set&lt;Long&gt; setOfIDs)\r\n\r\nI am not sure about the groupIdsProcess part, that is annotated with @ElementCollection, but missing a @CollectionTable(...) annotation, does it correctly map and return every value if you use findAll() in the ProcessInstance Repository?","title":"Is there a way to filter with JPA using a Set of IDs?","body":"<p>You can write a JPA find method, for your example:</p>\n<pre><code>findAllByProcessEntity_GroupIdsProcessIsIn(Set&lt;Long&gt; setOfIDs)\n</code></pre>\n<p>I am not sure about the groupIdsProcess part, that is annotated with @ElementCollection, but missing a @CollectionTable(...) annotation, does it correctly map and return every value if you use findAll() in the ProcessInstance Repository?</p>\n"}],"owner":{"account_id":25497686,"reputation":5,"user_id":19291501,"display_name":"Solaire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76315628,"answer_count":1,"score":0,"last_activity_date":1684850564,"creation_date":1684849165,"question_id":76315446,"body_markdown":"    public class ProcessEntity implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        private Long id;\r\n        @NotNull\r\n        private String processDefinitionName;\r\n        @Column(name = &quot;groups_ids&quot;)\r\n        @ElementCollection\r\n        private Set&lt;Long&gt; groupIdsProcess = new HashSet&lt;&gt;();\r\n    }\r\n    \r\n    public class ProcessInstance implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        private Long id;\r\n        @ManyToOne\r\n        private ProcessEntity processEntity;\r\n    }\r\n\r\nI want to filter ProcessInstance using JPA by using a method like: \r\n\r\n    List&lt;ProcessInstance&gt; getAllByProcessEntityGroupIdsProcessContains(Set&lt;Long&gt; setOfIDs) \r\n\r\nThat will return a list of `ProcessInstances` whose `processEntity.groupIdsProcess` contains any of the IDs contained in the passed parameter `Set&lt;Long&gt; setOfIDs`\r\n\r\nIs it possible? \r\n\r\nI tried writing a native query without success, help would be appreciated","title":"Is there a way to filter with JPA using a Set of IDs?","body":"<pre><code>public class ProcessEntity implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n    @NotNull\n    private String processDefinitionName;\n    @Column(name = &quot;groups_ids&quot;)\n    @ElementCollection\n    private Set&lt;Long&gt; groupIdsProcess = new HashSet&lt;&gt;();\n}\n\npublic class ProcessInstance implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n    @ManyToOne\n    private ProcessEntity processEntity;\n}\n</code></pre>\n<p>I want to filter ProcessInstance using JPA by using a method like:</p>\n<pre><code>List&lt;ProcessInstance&gt; getAllByProcessEntityGroupIdsProcessContains(Set&lt;Long&gt; setOfIDs) \n</code></pre>\n<p>That will return a list of <code>ProcessInstances</code> whose <code>processEntity.groupIdsProcess</code> contains any of the IDs contained in the passed parameter <code>Set&lt;Long&gt; setOfIDs</code></p>\n<p>Is it possible?</p>\n<p>I tried writing a native query without success, help would be appreciated</p>\n"},{"tags":["java","networking","rmi"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684851696,"post_id":76315575,"comment_id":134575700,"body_markdown":"Any reason you need to use RMI in a production application?","body":"Any reason you need to use RMI in a production application?"},{"owner":{"account_id":8075788,"reputation":163,"user_id":6086886,"accept_rate":75,"display_name":"Federico Lolli"},"score":0,"creation_date":1684851794,"post_id":76315575,"comment_id":134575732,"body_markdown":"Uni project sadly (required)...","body":"Uni project sadly (required)..."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684852134,"post_id":76315575,"comment_id":134575830,"body_markdown":"I can only suggest to look at the differences between production and development environments. Was development in the same machine and production communicates over the network? That could be a source of delays.","body":"I can only suggest to look at the differences between production and development environments. Was development in the same machine and production communicates over the network? That could be a source of delays."},{"owner":{"account_id":8075788,"reputation":163,"user_id":6086886,"accept_rate":75,"display_name":"Federico Lolli"},"score":0,"creation_date":1684852971,"post_id":76315575,"comment_id":134576078,"body_markdown":"No difference, dev environment means just localhost as target ip for server","body":"No difference, dev environment means just localhost as target ip for server"}],"owner":{"account_id":8075788,"reputation":163,"user_id":6086886,"accept_rate":75,"display_name":"Federico Lolli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684850386,"creation_date":1684850077,"question_id":76315575,"body_markdown":"In a localhost environment, `registry.lookup` in Java RMI (Remote Method Invocation) works fine, but in production and staging environments, the same lookup takes a **very long time (ages)**, which is affecting our application&#39;s performance deeply.\r\n\r\nWe cannot find any solution, looked for other solutions here but nothing useful.\r\n\r\nThe code for the client:\r\n```\r\npackage it.***.***.network.rmi;\r\n\r\nimport java.io.IOException;\r\nimport java.rmi.NotBoundException;\r\nimport java.rmi.RemoteException;\r\nimport java.rmi.registry.LocateRegistry;\r\nimport java.rmi.registry.Registry;\r\n\r\n/**\r\n * This class represents the RMI client.\r\n */\r\npublic class ClientRmi implements ClientRmiIF {\r\n    private final String serverHost;\r\n    private final int serverPort;\r\n    private ServerRmiIF server;\r\n    private final CommandCallback callback;\r\n    private static Registry registry;\r\n    public ClientRmi(String serverHost, CommandCallback callback) throws RemoteException {\r\n        System.setProperty(&quot;java.rmi.server.hostname&quot;, serverHost);\r\n        this.serverHost = serverHost;\r\n        this.serverPort = 1099;\r\n        this.callback = callback;\r\n        server = null;\r\n    }\r\n\r\n    public ClientRmi(String serverHost, int serverPort, CommandCallback callback) throws RemoteException {\r\n        System.setProperty(&quot;java.rmi.server.hostname&quot;, serverHost);\r\n        this.serverHost = serverHost;\r\n        this.serverPort = serverPort;\r\n        this.callback = callback;\r\n        server = null;\r\n    }\r\n\r\n    @Override\r\n    public ClientRmi connect() throws RemoteException, NotBoundException {\r\n        registry = LocateRegistry.getRegistry(serverHost, serverPort);\r\n        this.server = (ServerRmiIF) registry.lookup(&quot;MyRMIServer&quot;);\r\n        return this;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd the code for the server:\r\n```\r\npackage it.***.***.network.rmi;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\n\r\nimport java.io.IOException;\r\nimport java.net.MalformedURLException;\r\nimport java.rmi.Naming;\r\nimport java.rmi.RemoteException;\r\nimport java.rmi.registry.LocateRegistry;\r\nimport java.rmi.registry.Registry;\r\nimport java.rmi.server.UnicastRemoteObject;\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\n/**\r\n * This class represents the RMI server.\r\n */\r\npublic class ServerRmi implements ServerRmiIF {\r\n    private static Registry registry;\r\n    private final Set&lt;ClientRmiIF&gt; clients;\r\n    private final CommandCallback callback;\r\n    private static final Logger logger = LogManager.getLogger(ServerRmi.class);\r\n\r\n\r\n    public ServerRmi(String hostname, CommandCallback callback) throws RemoteException {\r\n        clients = new HashSet&lt;&gt;();\r\n\r\n        // set java.rmi.server.hostname\r\n        System.setProperty(&quot;java.rmi.server.hostname&quot;, hostname);\r\n\r\n        try {\r\n            registry = LocateRegistry.createRegistry(1099);\r\n            ServerRmiIF stub = (ServerRmiIF) UnicastRemoteObject.exportObject(this, 0);\r\n            registry.rebind(&quot;MyRMIServer&quot;, stub);\r\n        } catch (RemoteException e) {\r\n            logger.error(e.getMessage());\r\n            throw e;\r\n        }\r\n        this.callback = callback;\r\n    }\r\n}\r\n```\r\n\r\n\r\nAny insights on what could be causing the difference in lookup time, or suggestions for what we can investigate, would be greatly appreciated.","title":"Java RMI too slow to registry.lookup in non-dev environment","body":"<p>In a localhost environment, <code>registry.lookup</code> in Java RMI (Remote Method Invocation) works fine, but in production and staging environments, the same lookup takes a <strong>very long time (ages)</strong>, which is affecting our application's performance deeply.</p>\n<p>We cannot find any solution, looked for other solutions here but nothing useful.</p>\n<p>The code for the client:</p>\n<pre><code>package it.***.***.network.rmi;\n\nimport java.io.IOException;\nimport java.rmi.NotBoundException;\nimport java.rmi.RemoteException;\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\n\n/**\n * This class represents the RMI client.\n */\npublic class ClientRmi implements ClientRmiIF {\n    private final String serverHost;\n    private final int serverPort;\n    private ServerRmiIF server;\n    private final CommandCallback callback;\n    private static Registry registry;\n    public ClientRmi(String serverHost, CommandCallback callback) throws RemoteException {\n        System.setProperty(&quot;java.rmi.server.hostname&quot;, serverHost);\n        this.serverHost = serverHost;\n        this.serverPort = 1099;\n        this.callback = callback;\n        server = null;\n    }\n\n    public ClientRmi(String serverHost, int serverPort, CommandCallback callback) throws RemoteException {\n        System.setProperty(&quot;java.rmi.server.hostname&quot;, serverHost);\n        this.serverHost = serverHost;\n        this.serverPort = serverPort;\n        this.callback = callback;\n        server = null;\n    }\n\n    @Override\n    public ClientRmi connect() throws RemoteException, NotBoundException {\n        registry = LocateRegistry.getRegistry(serverHost, serverPort);\n        this.server = (ServerRmiIF) registry.lookup(&quot;MyRMIServer&quot;);\n        return this;\n    }\n}\n\n</code></pre>\n<p>And the code for the server:</p>\n<pre><code>package it.***.***.network.rmi;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.rmi.Naming;\nimport java.rmi.RemoteException;\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\nimport java.rmi.server.UnicastRemoteObject;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\n\n/**\n * This class represents the RMI server.\n */\npublic class ServerRmi implements ServerRmiIF {\n    private static Registry registry;\n    private final Set&lt;ClientRmiIF&gt; clients;\n    private final CommandCallback callback;\n    private static final Logger logger = LogManager.getLogger(ServerRmi.class);\n\n\n    public ServerRmi(String hostname, CommandCallback callback) throws RemoteException {\n        clients = new HashSet&lt;&gt;();\n\n        // set java.rmi.server.hostname\n        System.setProperty(&quot;java.rmi.server.hostname&quot;, hostname);\n\n        try {\n            registry = LocateRegistry.createRegistry(1099);\n            ServerRmiIF stub = (ServerRmiIF) UnicastRemoteObject.exportObject(this, 0);\n            registry.rebind(&quot;MyRMIServer&quot;, stub);\n        } catch (RemoteException e) {\n            logger.error(e.getMessage());\n            throw e;\n        }\n        this.callback = callback;\n    }\n}\n</code></pre>\n<p>Any insights on what could be causing the difference in lookup time, or suggestions for what we can investigate, would be greatly appreciated.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1684831210,"post_id":76312788,"comment_id":134570728,"body_markdown":"Add H2 for an in-memory database or stop using `@SpringBootTest` for simple testcases (which is whatyou are probably doing, without knowing the implications of this).","body":"Add H2 for an in-memory database or stop using <code>@SpringBootTest</code> for simple testcases (which is whatyou are probably doing, without knowing the implications of this)."},{"owner":{"account_id":4957766,"reputation":578,"user_id":3989874,"accept_rate":86,"display_name":"Pacman"},"score":0,"creation_date":1684831332,"post_id":76312788,"comment_id":134570750,"body_markdown":"H2: Don&#39;t want to add any db tests. @SpringBootTest: What would be an alternative?","body":"H2: Don&#39;t want to add any db tests. @SpringBootTest: What would be an alternative?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1684831396,"post_id":76312788,"comment_id":134570768,"body_markdown":"You don&#39;t need to but H2 will be created at startup of your test. This is what you need when writing tests with `@SpringBootTest` it will bootstrap a full application. If you don&#39;t want that don&#39;t use `@SpringBootTest` .","body":"You don&#39;t need to but H2 will be created at startup of your test. This is what you need when writing tests with <code>@SpringBootTest</code> it will bootstrap a full application. If you don&#39;t want that don&#39;t use <code>@SpringBootTest</code> ."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684834990,"creation_date":1684834990,"answer_id":76313349,"question_id":76312788,"body_markdown":"You get this error as you are probably abusing `@SpringBootTest` to do tests for services with using `@MockBean` to inject/create mocks for dependencies/repositories. `@SpringBootTest` is mainly intended for writing integration tests for the whole application not to test 1 single service. \r\n\r\nThe short answer is don&#39;t. Either use one of the sliced tests for that or just write a simple unit test (instantiate the service yourself and create mocks using Mockito yourself and inject, don&#39;t abuse `@SpringBootTest` for that). \r\n\r\nIf you really want to continue on this way the easiest solution is to add H2 as a test dependency so you have an in-memory database created for you when running tests. You don&#39;t use it but it is needed to start the application. \r\n\r\nAnother option would be to mock the `DataSource` in an `@TestConfiguration`. Problem is you would need to mock a whole lot of methods and classes as well and you are basically mocking so much you have mocked a stub of a datasource implementation. ","title":"How to prevent a Spring Boot application from instantiating a JDBC datasource during tests?","body":"<p>You get this error as you are probably abusing <code>@SpringBootTest</code> to do tests for services with using <code>@MockBean</code> to inject/create mocks for dependencies/repositories. <code>@SpringBootTest</code> is mainly intended for writing integration tests for the whole application not to test 1 single service.</p>\n<p>The short answer is don't. Either use one of the sliced tests for that or just write a simple unit test (instantiate the service yourself and create mocks using Mockito yourself and inject, don't abuse <code>@SpringBootTest</code> for that).</p>\n<p>If you really want to continue on this way the easiest solution is to add H2 as a test dependency so you have an in-memory database created for you when running tests. You don't use it but it is needed to start the application.</p>\n<p>Another option would be to mock the <code>DataSource</code> in an <code>@TestConfiguration</code>. Problem is you would need to mock a whole lot of methods and classes as well and you are basically mocking so much you have mocked a stub of a datasource implementation.</p>\n"}],"owner":{"account_id":4957766,"reputation":578,"user_id":3989874,"accept_rate":86,"display_name":"Pacman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76313349,"answer_count":1,"score":0,"last_activity_date":1684850122,"creation_date":1684831128,"question_id":76312788,"body_markdown":"I&#39;ve recently added JPA to my application for a single database request. Since then the tests are failing:\r\n```java.lang.IllegalStateException: Failed to load ApplicationContext```\r\n\r\n[...]\r\n\r\n```Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39;```\r\n\r\nMy understanding here is that during the test run Spring Boot tries to initialize the database connection, but I&#39;m not interested in doing any tests on the added db request. How can I stop this behaviour?","title":"How to prevent a Spring Boot application from instantiating a JDBC datasource during tests?","body":"<p>I've recently added JPA to my application for a single database request. Since then the tests are failing:\n<code>java.lang.IllegalStateException: Failed to load ApplicationContext</code></p>\n<p>[...]</p>\n<p><code>Error creating bean with name 'dataSourceScriptDatabaseInitializer'</code></p>\n<p>My understanding here is that during the test run Spring Boot tries to initialize the database connection, but I'm not interested in doing any tests on the added db request. How can I stop this behaviour?</p>\n"},{"tags":["java","junit5","spring-boot-test"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1684755407,"post_id":76305197,"comment_id":134558360,"body_markdown":"When using `MockitoExtension`, you don&#39;t have to call `openMocks` (and openMocks should be called for the test class, not the field).","body":"When using <code>MockitoExtension</code>, you don&#39;t have to call <code>openMocks</code> (and openMocks should be called for the test class, not the field)."},{"owner":{"account_id":4999034,"reputation":1870,"user_id":6722075,"display_name":"Tohid Makari"},"score":0,"creation_date":1684755614,"post_id":76305197,"comment_id":134558406,"body_markdown":"@knittl I updated the question and still same error","body":"@knittl I updated the question and still same error"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1684820300,"post_id":76305197,"comment_id":134568527,"body_markdown":"Is `userInfo` and `userInfoDto` a typo or your real code? One doesn&#39;t exist, the other is never used.","body":"Is <code>userInfo</code> and <code>userInfoDto</code> a typo or your real code? One doesn&#39;t exist, the other is never used."}],"answers":[{"tags":[],"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684850092,"creation_date":1684850092,"answer_id":76315579,"question_id":76305197,"body_markdown":"I think you should change the:\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\nFor\r\n\r\n    @InjectMocks\r\n    private UserRepository userRepository;\r\n\r\nI&#39;m assuming your `UserInfoDto` is `@Autowired` in original class and the `UserRepository` is the class you&#39;re trying to test\r\n","title":"Mocking returns null when using with @SpringBootTest and @ExtendWith(MockitoExtension.class)","body":"<p>I think you should change the:</p>\n<pre><code>@Autowired\nprivate UserRepository userRepository;\n</code></pre>\n<p>For</p>\n<pre><code>@InjectMocks\nprivate UserRepository userRepository;\n</code></pre>\n<p>I'm assuming your <code>UserInfoDto</code> is <code>@Autowired</code> in original class and the <code>UserRepository</code> is the class you're trying to test</p>\n"}],"owner":{"account_id":4999034,"reputation":1870,"user_id":6722075,"display_name":"Tohid Makari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684850092,"creation_date":1684750966,"question_id":76305197,"body_markdown":"I have snippet code as follows that when trying to mock object it returns null:\r\n\r\n`userInfoDto` is null.\r\n\r\n```\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@ExtendWith(MockitoExtension.class)\r\npublic class IntegrationTest {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Mock\r\n    private UserInfoDto userInfo;\r\n    @BeforeEach\r\n    public void init() {\r\n        when(userInfo.getXCaller()).thenReturn(&quot;Test&quot;);\r\n    }\r\n\r\n}\r\n```","title":"Mocking returns null when using with @SpringBootTest and @ExtendWith(MockitoExtension.class)","body":"<p>I have snippet code as follows that when trying to mock object it returns null:</p>\n<p><code>userInfoDto</code> is null.</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ExtendWith(MockitoExtension.class)\npublic class IntegrationTest {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Mock\n    private UserInfoDto userInfo;\n    @BeforeEach\n    public void init() {\n        when(userInfo.getXCaller()).thenReturn(&quot;Test&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","exception","jpa"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1684844263,"post_id":76314460,"comment_id":134573797,"body_markdown":"Can you add the complete error log?","body":"Can you add the complete error log?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1684844538,"post_id":76314460,"comment_id":134573873,"body_markdown":"`:p.productName` there should be no `:`. Same for the other fields. `:` should only be followed by the actual parameter name","body":"<code>:p.productName</code> there should be no <code>:</code>. Same for the other fields. <code>:</code> should only be followed by the actual parameter name"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1684844997,"post_id":76314460,"comment_id":134573982,"body_markdown":"Your entity is named `Product` not `Products` and as you are writing a JPQL and not a SQL you need to reference the entity not the table. Also `:p.categoryId` is where you probably wanted to write `:categoryId` to check if the passed in parameter was `null` or not. The same applies to your other fields as well.","body":"Your entity is named <code>Product</code> not <code>Products</code> and as you are writing a JPQL and not a SQL you need to reference the entity not the table. Also <code>:p.categoryId</code> is where you probably wanted to write <code>:categoryId</code> to check if the passed in parameter was <code>null</code> or not. The same applies to your other fields as well."}],"answers":[{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1684850026,"creation_date":1684844538,"answer_id":76314705,"question_id":76314460,"body_markdown":"One of the errors in the query is with the `:p.productName is null`, change it to `(p.productName is null or p.productName = :productName)`\r\n\r\nThe `:p.productName` is a named parameter and the named parameters are expected to have a value, since `:p.productName` is not provided with a the exception is thrown. It should be either the property name in the bean if you are using HQL, or it should be the column name from the table if you are using a native query. \r\n\r\nThe same is happening for other columns like `:p.brandId`, `:p.categoryId`, and `:p.modelYear`, so you should do it for other columns as well, the correct query will be \r\n\r\n    @Query(&quot;SELECT p FROM Product p WHERE &quot; +\r\n                &quot;(p.productId is null or p.productId = :productId) and &quot; +\r\n                &quot;(p.productName is null or p.productName = :productName) and &quot; +\r\n                &quot;(p.brandId is null or p.brandId = :brandId) and &quot; +\r\n                &quot;(p.categoryId is null or p.categoryId = :categoryId) and &quot; +\r\n                &quot;(p.modelYear is null or p.modelYear = :modelYear)&quot;)","title":"org.hibernate.query.SemanticException: A query exception occurred","body":"<p>One of the errors in the query is with the <code>:p.productName is null</code>, change it to <code>(p.productName is null or p.productName = :productName)</code></p>\n<p>The <code>:p.productName</code> is a named parameter and the named parameters are expected to have a value, since <code>:p.productName</code> is not provided with a the exception is thrown. It should be either the property name in the bean if you are using HQL, or it should be the column name from the table if you are using a native query.</p>\n<p>The same is happening for other columns like <code>:p.brandId</code>, <code>:p.categoryId</code>, and <code>:p.modelYear</code>, so you should do it for other columns as well, the correct query will be</p>\n<pre><code>@Query(&quot;SELECT p FROM Product p WHERE &quot; +\n            &quot;(p.productId is null or p.productId = :productId) and &quot; +\n            &quot;(p.productName is null or p.productName = :productName) and &quot; +\n            &quot;(p.brandId is null or p.brandId = :brandId) and &quot; +\n            &quot;(p.categoryId is null or p.categoryId = :categoryId) and &quot; +\n            &quot;(p.modelYear is null or p.modelYear = :modelYear)&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2207385,"reputation":1511,"user_id":1950242,"display_name":"azwar_akbar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684845522,"creation_date":1684845522,"answer_id":76314843,"question_id":76314460,"body_markdown":"I think you have problem with your query, here is the reasons:\r\n\r\nLook at the other `WHERE` statements for example `and (:p.productName is null or p.productName = :productName)` at this point you are putting `:p` which means it should be a parameter rather than column. By writing `:p.productName` it means that you are accessing property `.productName` from parameter `:p` which is not exist. The right syntax to compare **input parameter** with **value of column** is `and (p.productName is null or p.productName = :productName)`. Also you can make it more simple `and (p.productName = :productName)` by this way it will compare for null value or not.\r\n\r\nWhen you need to check the input parameter and the table column as well you can do like this way:\r\n\r\n    and (:productName is null or p.productName = :productName) \r\n\r\nor\r\n\r\n    and (:productName is not null or p.productName = :productName) \r\n\r\n\r\nThis is the example:\r\n\r\n    select\r\n    \tp\r\n    from\r\n    \tProducts p\r\n    where\r\n    \t(p.productId is null\r\n    \t\tor p.productId = :productId)\r\n    \tand (p.productName is null\r\n    \t\tor p.productName = :productName)\r\n    \tand (p.brandId is null\r\n    \t\tor p.brandId = :brandId)\r\n    \tand (p.categoryId is null\r\n    \t\tor p.categoryId = :categoryId)\r\n    \tand (p.modelYear is null\r\n    \t\tor p.modelYear = :modelYear)\r\n\r\n\t\t\r\nOther exsample:\r\n\r\n\r\n    select\r\n    \tp\r\n    from\r\n    \tProducts p\r\n    where\r\n    \t(:productId is null\r\n    \t\tor p.productId = :productId)\r\n    \tand (:productName is null\r\n    \t\tor p.productName = :productName)\r\n    \tand (:brandId is null\r\n    \t\tor p.brandId = :brandId)\r\n    \tand (:categoryId is null\r\n    \t\tor p.categoryId = :categoryId)\r\n    \tand (:modelYear is null\r\n    \t\tor p.modelYear = :modelYear)\r\n\r\nHope it helps.\r\n\r\n\r\n\r\n","title":"org.hibernate.query.SemanticException: A query exception occurred","body":"<p>I think you have problem with your query, here is the reasons:</p>\n<p>Look at the other <code>WHERE</code> statements for example <code>and (:p.productName is null or p.productName = :productName)</code> at this point you are putting <code>:p</code> which means it should be a parameter rather than column. By writing <code>:p.productName</code> it means that you are accessing property <code>.productName</code> from parameter <code>:p</code> which is not exist. The right syntax to compare <strong>input parameter</strong> with <strong>value of column</strong> is <code>and (p.productName is null or p.productName = :productName)</code>. Also you can make it more simple <code>and (p.productName = :productName)</code> by this way it will compare for null value or not.</p>\n<p>When you need to check the input parameter and the table column as well you can do like this way:</p>\n<pre><code>and (:productName is null or p.productName = :productName) \n</code></pre>\n<p>or</p>\n<pre><code>and (:productName is not null or p.productName = :productName) \n</code></pre>\n<p>This is the example:</p>\n<pre><code>select\n    p\nfrom\n    Products p\nwhere\n    (p.productId is null\n        or p.productId = :productId)\n    and (p.productName is null\n        or p.productName = :productName)\n    and (p.brandId is null\n        or p.brandId = :brandId)\n    and (p.categoryId is null\n        or p.categoryId = :categoryId)\n    and (p.modelYear is null\n        or p.modelYear = :modelYear)\n\n    \n</code></pre>\n<p>Other exsample:</p>\n<pre><code>select\n    p\nfrom\n    Products p\nwhere\n    (:productId is null\n        or p.productId = :productId)\n    and (:productName is null\n        or p.productName = :productName)\n    and (:brandId is null\n        or p.brandId = :brandId)\n    and (:categoryId is null\n        or p.categoryId = :categoryId)\n    and (:modelYear is null\n        or p.modelYear = :modelYear)\n</code></pre>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":17385009,"reputation":65,"user_id":12596492,"display_name":"Minh Nguy&#234;n Nguyễn Đức"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1087,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76314705,"answer_count":2,"score":1,"last_activity_date":1684850026,"creation_date":1684842872,"question_id":76314460,"body_markdown":"I am doing a @GetMapping request to search a product using multiple parameters.\r\n\r\nMy ProductController.java\r\n\r\n```\r\n@GetMapping(&quot;/search&quot;)\r\n    ResponseEntity&lt;ResponseObject&gt; findBySearch(@RequestParam(required = false) Integer productId,\r\n                                                @RequestParam(required = false) String productName,\r\n                                                @RequestParam(required = false) Integer brandId,\r\n                                                @RequestParam(required = false) Integer categoryId,\r\n                                                @RequestParam(required = false) Integer modelYear) {\r\n        List&lt;Product&gt; foundProducts = repository.findProductBySearch(productId, productName, brandId, categoryId, modelYear);\r\n        return (!foundProducts.isEmpty()) ?\r\n                ResponseEntity.status(HttpStatus.OK).body(new ResponseObject(HttpStatus.OK.toString(), &quot;Query successfully&quot;, foundProducts))\r\n                :\r\n                ResponseEntity.status(HttpStatus.NOT_FOUND).body(new ResponseObject(HttpStatus.NOT_FOUND.toString(), &quot;Cannot find product with provided model&quot;, &quot;&quot;));\r\n    }\r\n```\r\n\r\nMy ProductRepository.java\r\n\r\n```\r\n@Query(&quot;SELECT p FROM Products p WHERE (:productId is null or p.productId = :productId) and &quot; +\r\n            &quot;(:p.productName is null or p.productName = :productName) and &quot; +\r\n            &quot;(:p.brandId is null or p.brandId = :brandId) and &quot; +\r\n            &quot;(:p.categoryId is null or p.categoryId = :categoryId) and &quot; +\r\n            &quot;(:p.modelYear is null or p.modelYear = :modelYear)&quot;)\r\n    List&lt;Product&gt; findProductBySearch(@Param(&quot;productId&quot;) Integer productId,\r\n                                      @Param(&quot;productName&quot;) String productName,\r\n                                      @Param(&quot;brandId&quot;) Integer brandId,\r\n                                      @Param(&quot;categoryId&quot;) Integer categoryId,\r\n                                      @Param(&quot;modelYear&quot;) Integer modelYear);\r\n```\r\n\r\nMy Product.java\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;Products&quot;)\r\npublic class Product {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;product_sequence&quot;,\r\n            sequenceName = &quot;product_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue (\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;product_sequence&quot;\r\n    )\r\n    @Column(name = &quot;product_id&quot;)\r\n    int productId;\r\n    @Column(name = &quot;product_name&quot;)\r\n    String productName;\r\n    @Column(name = &quot;brand_id&quot;)\r\n    int brandId;\r\n    @Column(name = &quot;category_id&quot;)\r\n    int categoryId;\r\n    @Column(name = &quot;model_year&quot;)\r\n    int modelYear;\r\n    @Column(name = &quot;list_price&quot;)\r\n    double listPrice;\r\n\r\n//getters, setters\r\n```\r\n\r\nWhen I run project, it produced this error\r\n\r\n**org.hibernate.query.SemanticException: A query exception occurred [SELECT p FROM Products p WHERE (:productId is null or p.productId = :productId) and (:p.productName is null or p.productName = :productName) and (:p.brandId is null or p.brandId = :brandId) and (:p.categoryId is null or p.categoryId = :categoryId) and (:p.modelYear is null or p.modelYear = :modelYear)]**\r\n\r\nPlease help me to find where I got it wrong.","title":"org.hibernate.query.SemanticException: A query exception occurred","body":"<p>I am doing a @GetMapping request to search a product using multiple parameters.</p>\n<p>My ProductController.java</p>\n<pre><code>@GetMapping(&quot;/search&quot;)\n    ResponseEntity&lt;ResponseObject&gt; findBySearch(@RequestParam(required = false) Integer productId,\n                                                @RequestParam(required = false) String productName,\n                                                @RequestParam(required = false) Integer brandId,\n                                                @RequestParam(required = false) Integer categoryId,\n                                                @RequestParam(required = false) Integer modelYear) {\n        List&lt;Product&gt; foundProducts = repository.findProductBySearch(productId, productName, brandId, categoryId, modelYear);\n        return (!foundProducts.isEmpty()) ?\n                ResponseEntity.status(HttpStatus.OK).body(new ResponseObject(HttpStatus.OK.toString(), &quot;Query successfully&quot;, foundProducts))\n                :\n                ResponseEntity.status(HttpStatus.NOT_FOUND).body(new ResponseObject(HttpStatus.NOT_FOUND.toString(), &quot;Cannot find product with provided model&quot;, &quot;&quot;));\n    }\n</code></pre>\n<p>My ProductRepository.java</p>\n<pre><code>@Query(&quot;SELECT p FROM Products p WHERE (:productId is null or p.productId = :productId) and &quot; +\n            &quot;(:p.productName is null or p.productName = :productName) and &quot; +\n            &quot;(:p.brandId is null or p.brandId = :brandId) and &quot; +\n            &quot;(:p.categoryId is null or p.categoryId = :categoryId) and &quot; +\n            &quot;(:p.modelYear is null or p.modelYear = :modelYear)&quot;)\n    List&lt;Product&gt; findProductBySearch(@Param(&quot;productId&quot;) Integer productId,\n                                      @Param(&quot;productName&quot;) String productName,\n                                      @Param(&quot;brandId&quot;) Integer brandId,\n                                      @Param(&quot;categoryId&quot;) Integer categoryId,\n                                      @Param(&quot;modelYear&quot;) Integer modelYear);\n</code></pre>\n<p>My Product.java</p>\n<pre><code>@Entity\n@Table(name = &quot;Products&quot;)\npublic class Product {\n    @Id\n    @SequenceGenerator(\n            name = &quot;product_sequence&quot;,\n            sequenceName = &quot;product_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue (\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;product_sequence&quot;\n    )\n    @Column(name = &quot;product_id&quot;)\n    int productId;\n    @Column(name = &quot;product_name&quot;)\n    String productName;\n    @Column(name = &quot;brand_id&quot;)\n    int brandId;\n    @Column(name = &quot;category_id&quot;)\n    int categoryId;\n    @Column(name = &quot;model_year&quot;)\n    int modelYear;\n    @Column(name = &quot;list_price&quot;)\n    double listPrice;\n\n//getters, setters\n</code></pre>\n<p>When I run project, it produced this error</p>\n<p><strong>org.hibernate.query.SemanticException: A query exception occurred [SELECT p FROM Products p WHERE (:productId is null or p.productId = :productId) and (:p.productName is null or p.productName = :productName) and (:p.brandId is null or p.brandId = :brandId) and (:p.categoryId is null or p.categoryId = :categoryId) and (:p.modelYear is null or p.modelYear = :modelYear)]</strong></p>\n<p>Please help me to find where I got it wrong.</p>\n"},{"tags":["java","micronaut"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1565399929,"post_id":57437794,"comment_id":101354453,"body_markdown":"Yes it is really the expected behaviour, as it is documented, and you&#39;re getting it.","body":"Yes it is really the expected behaviour, as it is documented, and you&#39;re getting it."}],"answers":[{"tags":[],"owner":{"account_id":1844706,"reputation":3419,"user_id":1673320,"accept_rate":86,"display_name":"itachi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1565399987,"creation_date":1565399987,"answer_id":57438605,"question_id":57437794,"body_markdown":"I don&#39;t think there&#39;s something wrong with your code. The documentation of this particular exception states clearly:\r\n\r\n&gt; An exception that occurs when a response returns an error code equal to or greater than 400.\r\n\r\nIf that&#39;s not satisfactory for you, we can dig deeper. The exception is thrown in `DefaultHttpClient` class in a method named `channelRead0`. Let&#39;s see what can we find there.\r\n\r\n    boolean errorStatus = statusCode &gt;= 400;\r\n    if (errorStatus) {\r\n        emitter.onError(new HttpClientResponseException(response.getStatus().getReason(), response));\r\n    } else {\r\n        emitter.onNext(response);\r\n        emitter.onComplete();\r\n    }\r\n\r\nThis exception is passed further and it looks like it&#39;s eventually thrown somewhere. It just works this way, this is the author&#39;s design. If you don&#39;t like it, you can always use good old built-in [HttpURLConnection][1], a new [HttpClient][2] from Java 9 or something 3rd party like [OkHttp][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/jdk/incubator/http/HttpClient.html\r\n  [3]: https://square.github.io/okhttp/","title":"HttpClient throws exception on response code 404. Is this by design or am I doing something wrong?","body":"<p>I don't think there's something wrong with your code. The documentation of this particular exception states clearly:</p>\n\n<blockquote>\n  <p>An exception that occurs when a response returns an error code equal to or greater than 400.</p>\n</blockquote>\n\n<p>If that's not satisfactory for you, we can dig deeper. The exception is thrown in <code>DefaultHttpClient</code> class in a method named <code>channelRead0</code>. Let's see what can we find there.</p>\n\n<pre><code>boolean errorStatus = statusCode &gt;= 400;\nif (errorStatus) {\n    emitter.onError(new HttpClientResponseException(response.getStatus().getReason(), response));\n} else {\n    emitter.onNext(response);\n    emitter.onComplete();\n}\n</code></pre>\n\n<p>This exception is passed further and it looks like it's eventually thrown somewhere. It just works this way, this is the author's design. If you don't like it, you can always use good old built-in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html\" rel=\"nofollow noreferrer\">HttpURLConnection</a>, a new <a href=\"https://docs.oracle.com/javase/9/docs/api/jdk/incubator/http/HttpClient.html\" rel=\"nofollow noreferrer\">HttpClient</a> from Java 9 or something 3rd party like <a href=\"https://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">OkHttp</a>.</p>\n"}],"owner":{"account_id":236684,"reputation":4709,"user_id":504331,"accept_rate":85,"display_name":"JSBach"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4068,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1565443889,"accepted_answer_id":57438605,"answer_count":1,"score":1,"last_activity_date":1684849263,"creation_date":1565389795,"question_id":57437794,"body_markdown":"I am starting today with Micronaut.\r\nI built this controller:\r\n\r\n    @Controller\r\n    public class MyController implements MyApi{\r\n\r\n\t@Override\r\n\tpublic String doit() {\r\n\t\tthrow new NotFoundException();\r\n\t    }\r\n    }\r\n\r\nand this exception handler:\r\n\r\n```java\r\n@Produces\r\n@Singleton\r\n@Requires(classes = { NotFoundException.class, ExceptionHandler.class})\r\npublic class NotFoundExceptionHandler implements ExceptionHandler&lt;NotFoundException, HttpResponse&gt; {\r\n\r\n\t@Override\r\n\tpublic HttpResponse handle(HttpRequest request, NotFoundException exception) {\r\n\t\treturn HttpResponseFactory.INSTANCE.status(HttpStatus.NOT_FOUND);\r\n\t}\r\n}\r\n```\r\n\r\nAnd this test:\r\n\r\n    \r\n    @MicronautTest\r\n    public class MyControllerIT {\r\n\r\n\t@Inject\r\n\t@Client(&quot;/&quot;)\r\n\tHttpClient client;\r\n\r\n\t@Test\r\n\tpublic void testHello() {\r\n\t\tHttpRequest&lt;String&gt; request = HttpRequest.GET(&quot;/myController&quot;);\r\n\t\tHttpResponse&lt;String&gt; body = client.toBlocking().exchange(request);\r\n\r\n\t\tassertThat(body.getStatus(), is(HttpStatus.NOT_FOUND));\r\n\t    }\r\n    }\r\n\r\n\r\nMy expectation is that it would pass: I would get a response back with no content, HTTP code 404, message &quot;Not found&quot; and I would be done.\r\n\r\nBut, instead, I get:\r\n\r\n    io.micronaut.http.client.exceptions.HttpClientResponseException: Not Found\r\n\r\n\tat io.micronaut.http.client.DefaultHttpClient$10.channelRead0(DefaultHttpClient.java:1799)\r\n\tat io.micronaut.http.client.DefaultHttpClient$10.channelRead0(DefaultHttpClient.java:1739)\r\n\tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\r\n\tat io.micronaut.http.netty.stream.HttpStreamsHandler.channelRead(HttpStreamsHandler.java:185)\r\n\tat io.micronaut.http.netty.stream.HttpStreamsClientHandler.channelRead(HttpStreamsClientHandler.java:180)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:328)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:302)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\r\n\tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:287)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1421)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:697)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:632)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:549)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:511)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:918)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n\r\n\r\nI found this [HttpClientResponseException](https://docs.micronaut.io/latest/api/io/micronaut/http/client/exceptions/HttpClientResponseException.html) documentation that describes `An exception that occurs when a response returns an error code equal to or greater than 400.`\r\n\r\nIs this really the expected behavior? It seems a little bit odd that it forces me to handle it as an exception when the error code &gt; 400.\r\n\r\nDid I do something wrong in my setup?\r\n","title":"HttpClient throws exception on response code 404. Is this by design or am I doing something wrong?","body":"<p>I am starting today with Micronaut.\nI built this controller:</p>\n<pre><code>@Controller\npublic class MyController implements MyApi{\n\n@Override\npublic String doit() {\n    throw new NotFoundException();\n    }\n}\n</code></pre>\n<p>and this exception handler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Produces\n@Singleton\n@Requires(classes = { NotFoundException.class, ExceptionHandler.class})\npublic class NotFoundExceptionHandler implements ExceptionHandler&lt;NotFoundException, HttpResponse&gt; {\n\n    @Override\n    public HttpResponse handle(HttpRequest request, NotFoundException exception) {\n        return HttpResponseFactory.INSTANCE.status(HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n<p>And this test:</p>\n<pre><code>@MicronautTest\npublic class MyControllerIT {\n\n@Inject\n@Client(&quot;/&quot;)\nHttpClient client;\n\n@Test\npublic void testHello() {\n    HttpRequest&lt;String&gt; request = HttpRequest.GET(&quot;/myController&quot;);\n    HttpResponse&lt;String&gt; body = client.toBlocking().exchange(request);\n\n    assertThat(body.getStatus(), is(HttpStatus.NOT_FOUND));\n    }\n}\n</code></pre>\n<p>My expectation is that it would pass: I would get a response back with no content, HTTP code 404, message &quot;Not found&quot; and I would be done.</p>\n<p>But, instead, I get:</p>\n<pre><code>io.micronaut.http.client.exceptions.HttpClientResponseException: Not Found\n\nat io.micronaut.http.client.DefaultHttpClient$10.channelRead0(DefaultHttpClient.java:1799)\nat io.micronaut.http.client.DefaultHttpClient$10.channelRead0(DefaultHttpClient.java:1739)\nat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:105)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\nat io.micronaut.http.netty.stream.HttpStreamsHandler.channelRead(HttpStreamsHandler.java:185)\nat io.micronaut.http.netty.stream.HttpStreamsClientHandler.channelRead(HttpStreamsClientHandler.java:180)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\nat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\nat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\nat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438)\nat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:328)\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:302)\nat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\nat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:287)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352)\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1421)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360)\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930)\nat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\nat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:697)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:632)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:549)\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:511)\nat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:918)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>I found this <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/http/client/exceptions/HttpClientResponseException.html\" rel=\"nofollow noreferrer\">HttpClientResponseException</a> documentation that describes <code>An exception that occurs when a response returns an error code equal to or greater than 400.</code></p>\n<p>Is this really the expected behavior? It seems a little bit odd that it forces me to handle it as an exception when the error code &gt; 400.</p>\n<p>Did I do something wrong in my setup?</p>\n"},{"tags":["java","swing","jcombobox","netbeans-8"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1684820214,"post_id":76311455,"comment_id":134568516,"body_markdown":"Is &quot;Swing design&quot; the name of the sofware you&#39;re using to design Swing forms?","body":"Is &quot;Swing design&quot; the name of the sofware you&#39;re using to design Swing forms?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1684820394,"post_id":76311455,"comment_id":134568544,"body_markdown":"[This post](https://stackoverflow.com/a/22652008/4725875) may assist you.","body":"<a href=\"https://stackoverflow.com/a/22652008/4725875\">This post</a> may assist you."},{"owner":{"account_id":28121958,"reputation":69,"user_id":21488044,"display_name":"Lucia"},"score":0,"creation_date":1684820430,"post_id":76311455,"comment_id":134568552,"body_markdown":"@MauricePerry No. I use Swing design in Netbeans 8.2.","body":"@MauricePerry No. I use Swing design in Netbeans 8.2."},{"owner":{"account_id":28121958,"reputation":69,"user_id":21488044,"display_name":"Lucia"},"score":0,"creation_date":1684820550,"post_id":76311455,"comment_id":134568570,"body_markdown":"@DevilsHnd Thank you. But I use the design option in Netbeans, which is drag and drop. So some code is auto-generated and cannot be modified.","body":"@DevilsHnd Thank you. But I use the design option in Netbeans, which is drag and drop. So some code is auto-generated and cannot be modified."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1684821292,"post_id":76311455,"comment_id":134568677,"body_markdown":"@Lucia it can be modified: https://stackoverflow.com/a/43892689/7036419","body":"@Lucia it can be modified: <a href=\"https://stackoverflow.com/a/43892689/7036419\">stackoverflow.com/a/43892689/7036419</a>"},{"owner":{"account_id":28121958,"reputation":69,"user_id":21488044,"display_name":"Lucia"},"score":0,"creation_date":1684821672,"post_id":76311455,"comment_id":134568738,"body_markdown":"@MauricePerry Yes, I&#39;ve already followed that link. But when I drag a new combo box, the line `cbLicense.setModel(new javax.swing.DefaultComboBoxModel&lt;&gt;(new String[] { &quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot;, &quot;Item 4&quot; }));` is created automatically. Even I changed data type after that, that line is still there.","body":"@MauricePerry Yes, I&#39;ve already followed that link. But when I drag a new combo box, the line <code>cbLicense.setModel(new javax.swing.DefaultComboBoxModel&lt;&gt;(new String[] { &quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot;, &quot;Item 4&quot; }));</code> is created automatically. Even I changed data type after that, that line is still there."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1684821806,"post_id":76311455,"comment_id":134568753,"body_markdown":"Use `Custom creation code` in the `Code` tab of the combobox properties","body":"Use <code>Custom creation code</code> in the <code>Code</code> tab of the combobox properties"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1684822123,"post_id":76311455,"comment_id":134568795,"body_markdown":"@Lucia or right-click on the combobox, and select &quot;Customize code...&quot;","body":"@Lucia or right-click on the combobox, and select &quot;Customize code...&quot;"},{"owner":{"account_id":28121958,"reputation":69,"user_id":21488044,"display_name":"Lucia"},"score":0,"creation_date":1684822294,"post_id":76311455,"comment_id":134568822,"body_markdown":"@MauricePerry I have declared CustomerItem outside of the generation code section. Now I added those code into Custom creation code:\n`cbLicense = CustomerItem[] items = new CustomerItem[3];\nitems[0] = new CustomerItem(&quot;oh&quot;, false);\nitems[1] = new CustomerItem(&quot;My&quot;, false);\nitems[2] = new CustomerItem(&quot;God&quot;, false);\n\n        DefaultComboBoxModel&lt;CustomerItem&gt; model = new DefaultComboBoxModel&lt;&gt;(items);\n        cbLicense.setModel(model);\n        cbLicense.setRenderer(new RenderCheckComboBox());`","body":"@MauricePerry I have declared CustomerItem outside of the generation code section. Now I added those code into Custom creation code: <code>cbLicense = CustomerItem[] items = new CustomerItem[3]; items[0] = new CustomerItem(&quot;oh&quot;, false); items[1] = new CustomerItem(&quot;My&quot;, false); items[2] = new CustomerItem(&quot;God&quot;, false);          DefaultComboBoxModel&lt;CustomerItem&gt; model = new DefaultComboBoxModel&lt;&gt;(items);         cbLicense.setModel(model);         cbLicense.setRenderer(new RenderCheckComboBox());</code>"},{"owner":{"account_id":28121958,"reputation":69,"user_id":21488044,"display_name":"Lucia"},"score":0,"creation_date":1684822446,"post_id":76311455,"comment_id":134568851,"body_markdown":"@MauricePerry I do apologise if it&#39;s hard to read my comment. I dont know to format code on comment. But an error has occured on the line: `cbLicense = CustomerItem[] items = new CustomerItem[3];`. And with this way, can I retrieve value from the database into combo box?","body":"@MauricePerry I do apologise if it&#39;s hard to read my comment. I dont know to format code on comment. But an error has occured on the line: <code>cbLicense = CustomerItem[] items = new CustomerItem[3];</code>. And with this way, can I retrieve value from the database into combo box?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1684822570,"post_id":76311455,"comment_id":134568872,"body_markdown":"Try `new DefaultComboBoxModel&lt;&gt;(new CustomerItem[]{\nnew CustomerItem(&quot;oh&quot;, false), new CustomerItem(&quot;My&quot;, false), new CustomerItem(&quot;God&quot;, false)\n\n})`","body":"Try <code>new DefaultComboBoxModel&lt;&gt;(new CustomerItem[]{ new CustomerItem(&quot;oh&quot;, false), new CustomerItem(&quot;My&quot;, false), new CustomerItem(&quot;God&quot;, false)  })</code>"},{"owner":{"account_id":28121958,"reputation":69,"user_id":21488044,"display_name":"Lucia"},"score":0,"creation_date":1684822945,"post_id":76311455,"comment_id":134568948,"body_markdown":"@MauricePerry It automatically added `cbLicense =` before your code.\n        `cbLicense = DefaultComboBoxModel&lt;CustomerItem&gt; model = new DefaultComboBoxModel&lt;&gt;(new CustomerItem[]{\n            new CustomerItem(&quot;oh&quot;, false),\n            new CustomerItem(&quot;My&quot;, false),\n            new CustomerItem(&quot;God&quot;, false)\n        });\n        cbLicense.setModel(model);\n        cbLicense.setRenderer(new RenderCheckComboBox());`","body":"@MauricePerry It automatically added <code>cbLicense =</code> before your code.         <code>cbLicense = DefaultComboBoxModel&lt;CustomerItem&gt; model = new DefaultComboBoxModel&lt;&gt;(new CustomerItem[]{             new CustomerItem(&quot;oh&quot;, false),             new CustomerItem(&quot;My&quot;, false),             new CustomerItem(&quot;God&quot;, false)         });         cbLicense.setModel(model);         cbLicense.setRenderer(new RenderCheckComboBox());</code>"},{"owner":{"account_id":28121958,"reputation":69,"user_id":21488044,"display_name":"Lucia"},"score":0,"creation_date":1684823177,"post_id":76311455,"comment_id":134569002,"body_markdown":"@MauricePerry Oh, this is `Custom creation Code` so it will automatically add `cbLicense =`. But I wanna make changes on `cbLicense.setModel`.","body":"@MauricePerry Oh, this is <code>Custom creation Code</code> so it will automatically add <code>cbLicense =</code>. But I wanna make changes on <code>cbLicense.setModel</code>."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1684823843,"post_id":76311455,"comment_id":134569134,"body_markdown":"@Lucia two possible solutions: 1) right-click on the combobox and select &quot;Customize code...&quot;, 2) `new JComboBox&lt;&gt;(new DefaultComboBoxModel&lt;&gt;(new CustomerItem[]{ new CustomerItem(&quot;oh&quot;, false), new CustomerItem(&quot;My&quot;, false), new CustomerItem(&quot;God&quot;, false)  }))`","body":"@Lucia two possible solutions: 1) right-click on the combobox and select &quot;Customize code...&quot;, 2) <code>new JComboBox&lt;&gt;(new DefaultComboBoxModel&lt;&gt;(new CustomerItem[]{ new CustomerItem(&quot;oh&quot;, false), new CustomerItem(&quot;My&quot;, false), new CustomerItem(&quot;God&quot;, false)  }))</code>"}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684823994,"creation_date":1684823994,"answer_id":76311909,"question_id":76311455,"body_markdown":"Right-click on the combobox, and select &quot;Customize code...&quot;:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NNKfV.png","title":"Modify data type of JComboBox in Swing","body":"<p>Right-click on the combobox, and select &quot;Customize code...&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/NNKfV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NNKfV.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28121958,"reputation":69,"user_id":21488044,"display_name":"Lucia"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684849238,"creation_date":1684818956,"question_id":76311455,"body_markdown":"I was trying to modify the data type of a combo box named `cbLicense` in Swing. In this case, I wanna change from `String` to `CustomerItem` which is a class. I use Swing design, so I selected the combo box, went to Properties/Code/TypeParameters. But the problem is that on the `Generated Code` section, there&#39;s still a line:\r\n\r\n`cbLicense.setModel(new javax.swing.DefaultComboBoxModel&lt;&gt;(new String[] { &quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot;, &quot;Item 4&quot; }));`\r\n\r\nThis line has an incompatible type error. So how do I fix it? Do I need to add each `CustomerItem `object into `cbLicense `via Design view? Because the `CustomerItem `value is retrieved from the database.\r\n\r\nFind the way to customize combo box in Swing","title":"Modify data type of JComboBox in Swing","body":"<p>I was trying to modify the data type of a combo box named <code>cbLicense</code> in Swing. In this case, I wanna change from <code>String</code> to <code>CustomerItem</code> which is a class. I use Swing design, so I selected the combo box, went to Properties/Code/TypeParameters. But the problem is that on the <code>Generated Code</code> section, there's still a line:</p>\n<p><code>cbLicense.setModel(new javax.swing.DefaultComboBoxModel&lt;&gt;(new String[] { &quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot;, &quot;Item 4&quot; }));</code></p>\n<p>This line has an incompatible type error. So how do I fix it? Do I need to add each <code>CustomerItem </code>object into <code>cbLicense </code>via Design view? Because the <code>CustomerItem </code>value is retrieved from the database.</p>\n<p>Find the way to customize combo box in Swing</p>\n"},{"tags":["java","spring-mvc","authentication","spring-security"],"answers":[{"tags":[],"owner":{"account_id":981284,"reputation":27959,"user_id":1000933,"display_name":"Master Slave"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1593937255,"creation_date":1418757650,"answer_id":27512275,"question_id":27503285,"body_markdown":"You should register your custom authentication in SecurityConfig class which have extended WebSecurityConfigureAdapter: \r\n\r\n    @Autowired\r\n    private MyUserDetailsService userDetailsService;\r\n \r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) \r\n          throws Exception {\r\n    \tauth.userDetailsService(this.userDetailsService);\r\n    }\r\n\r\nfor 3.2.3 the config should be\r\n\r\n    @Autowired\r\n\tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(this.userDetailsService);\r\n    }","title":"Spring Security service configuration","body":"<p>You should register your custom authentication in SecurityConfig class which have extended WebSecurityConfigureAdapter:</p>\n<pre><code>@Autowired\nprivate MyUserDetailsService userDetailsService;\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) \n      throws Exception {\n    auth.userDetailsService(this.userDetailsService);\n}\n</code></pre>\n<p>for 3.2.3 the config should be</p>\n<pre><code>@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(this.userDetailsService);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28662752,"reputation":11,"user_id":21947367,"display_name":"PRANJAL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684848773,"creation_date":1684847492,"answer_id":76315187,"question_id":27503285,"body_markdown":"    @Component\r\n    public class JwtUtil {\r\n\r\n    @Value(&quot;${jwt.secret}&quot;)\r\n    private String secret;\r\n\r\n    @Value(&quot;${jwt.expiration}&quot;)\r\n    private Long expiration;\r\n\r\n    Date now = new Date();\r\n    Date ExpirationDate = new Date(now.getTime() + expiration * 1000);\r\n\r\n    public User getUser(final String token) {\r\n        Claims body = Jwts.parser()\r\n            .setSigningKey(secret)\r\n            .parseClaimsJws(token)\r\n            .getBody();\r\n\r\n        User u = new User();\r\n        u.setUsername(body.getSubject());\r\n        u.setUserId(Integer.parseInt((String) body.get(&quot;userId&quot;)));\r\n        Set &lt; Role &gt; roles = new HashSet &lt; &gt; ();\r\n        roles.add(Role.CONSUMER);\r\n        roles.add(Role.SELLER);\r\n        u.setRoles(roles);\r\n        return u;\r\n    }\r\n\r\n    public String generateToken(String username) {\r\n        User u = new User();\r\n        Claims claims = Jwts.claims().setSubject(username);\r\n        claims.put(&quot;userId&quot;, u.getUserId());\r\n        Set &lt; Role &gt; roles = new HashSet &lt; &gt; ();\r\n        roles.add(Role.CONSUMER);\r\n        roles.add(Role.SELLER);\r\n        claims.put(&quot;role&quot;, roles);\r\n\r\n        return Jwts.builder()\r\n            .setClaims(claims)\r\n            .setIssuedAt(now)\r\n            .setExpiration(ExpirationDate)\r\n            .signWith(SignatureAlgorithm.HS512, secret)\r\n            .compact();\r\n\r\n    }\r\n\r\n    public boolean validateToken(final String token) {\r\n        return getClaims(secret, token)\r\n            .getExpiration()\r\n            .after(new Date(System.currentTimeMillis()));\r\n    }\r\n\r\n    public Claims getClaims(String secret, String token) {\r\n        return Jwts.parser()\r\n            .setSigningKey(secret)\r\n            .parseClaimsJws(token)\r\n            .getBody();\r\n    }\r\n    public Boolean validateToken(String token, UserDetails userDetails) {\r\n\r\n        String username = extractUsername(token);\r\n\r\n        return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\r\n\r\n    }\r\n\r\n\r\n    public String extractUsername(String token) {\r\n\r\n        return extractClaim(token, Claims::getSubject);\r\n\r\n    }\r\n\r\n\r\n    public String extractRole(String token) {\r\n\r\n        return (String) extractClaim(token, claims - &gt; claims.get(&quot;role&quot;));\r\n\r\n    }\r\n\r\n\r\n    public Date extractExpiration(String token) {\r\n\r\n        return extractClaim(token, Claims::getExpiration);\r\n\r\n    }\r\n\r\n\r\n    public &lt; T &gt; T extractClaim(String token, Function &lt; Claims, T &gt; claimsResolver) {\r\n\r\n        final Claims claims = extractAllClaims(token);\r\n\r\n        return claimsResolver.apply(claims);\r\n\r\n    }\r\n\r\n\r\n    private Claims extractAllClaims(String token) {\r\n\r\n        return Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();\r\n\r\n    }\r\n\r\n\r\n    private Boolean isTokenExpired(String token) {\r\n\r\n        final Date expiration = extractExpiration(token);\r\n\r\n        return expiration.before(new Date());\r\n\r\n    }\r\n    }\r\n\r\n\r\n    @Component\r\n    public class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n\r\n    @Autowired\r\n    private JwtUtil jwtTokenUtil;\r\n\r\n\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException {\r\n\r\n        final String authorizationHeader = request.getHeader(&quot;Authorization&quot;);\r\n        String username = null;\r\n        String jwt = null;\r\n\r\n\r\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;JWT &quot;)) {\r\n\r\n            jwt = authorizationHeader.substring(7);\r\n            username = jwtTokenUtil.extractUsername(jwt);\r\n\r\n        }\r\n\r\n\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\r\n\r\n\r\n            if (jwtTokenUtil.validateToken(jwt, userDetails)) {\r\n\r\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\r\n\r\n                    userDetails, null, userDetails.getAuthorities());\r\n\r\n                usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\r\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        chain.doFilter(request, response);\r\n\r\n    }\r\n\r\n    }\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class ApiSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private ApiAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n\r\n\r\n    @Autowired\r\n    private JwtAuthenticationFilter jwtAuthorizationFilter;\r\n\r\n\r\n    @Autowired\r\n    private UserAuthService jwtUserDetailsService;\r\n\r\n\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n\r\n        return new BCryptPasswordEncoder();\r\n\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\r\n        auth.userDetailsService(jwtUserDetailsService).passwordEncoder(passwordEncoder());\r\n\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n\r\n    }\r\n\r\n    @Autowired\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(this.jwtUserDetailsService);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n            .authorizeRequests()\r\n            .antMatchers(HttpMethod.POST, &quot;/authenticate&quot;).permitAll()\r\n            .antMatchers(&quot;/api/public/**&quot;).permitAll()\r\n            .antMatchers(&quot;/api/auth/consumer/**&quot;).hasRole(&quot;CONSUMER&quot;)\r\n            .antMatchers(&quot;/api/auth/seller/**&quot;).hasRole(&quot;SELLER&quot;)\r\n            .anyRequest().authenticated()\r\n            .and()\r\n            .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n            .and()\r\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n\r\n        http.addFilterBefore(jwtAuthorizationFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n    }\r\n\r\n    @Bean\r\n    public RegistrationBean jwtAuthFilterRegister(JwtAuthenticationFilter filter) {\r\n        FilterRegistrationBean registrationBean = new FilterRegistrationBean(filter);\r\n        registrationBean.setEnabled(false);\r\n        return registrationBean;\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n\r\n    }\r\n\r\n\r\n    @Component\r\n    public class ApiAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n\t@Override\r\n\tpublic void commence(HttpServletRequest request, HttpServletResponse response,\r\n\t\t\tAuthenticationException authException) throws IOException, ServletException {\r\n\t\r\n\t\tresponse.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\r\n\t}\r\n    }\r\n\r\n    @Service\r\n    public class AuthService {\r\n\r\n    @Autowired\r\n    private UserRepo userRepository;\r\n\r\n    @Autowired\r\n    private JwtUtil jwtutil;\r\n\r\n\r\n    public String authenticate(String username, String password) throws AuthenticationException {\r\n        Optional &lt; User &gt; user = userRepository.findByUsername(username);\r\n        if (user == null) {\r\n            throw new AuthenticationException(&quot;Invalid username or password&quot;);\r\n        }\r\n        return jwtutil.generateToken(username);\r\n    }\r\n\r\n\r\n\r\n    }\r\n\r\n    @Service\r\n    public class ProductService {\r\n\r\n    @Autowired\r\n    private ProductRepo productRepository;\r\n\r\n    public List &lt; Product &gt; searchProducts(String keyword) {\r\n        return productRepository.findByProductNameContainingIgnoreCaseOrCategoryCategoryNameContainingIgnoreCase(keyword, keyword);\r\n    }\r\n\r\n    }\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/public&quot;)\r\n    public class PublicController {\r\n\r\n    @Autowired\r\n    private ProductService productService;\r\n\r\n    @Autowired\r\n    private AuthService authService;\r\n\r\n    @GetMapping(&quot;/product/search&quot;)\r\n    public List &lt; Product &gt; searchProducts(@RequestParam(&quot;keyword&quot;) String keyword) {\r\n        return productService.searchProducts(keyword);\r\n    }\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity &lt; String &gt; login(@RequestBody User credentials) {\r\n        try {\r\n            String token = null;\r\n            try {\r\n                token = authService.authenticate(credentials.getUsername(), credentials.getPassword());\r\n            } catch (javax.naming.AuthenticationException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n            return ResponseEntity.ok(token);\r\n        } catch (AuthenticationException e) {\r\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\r\n        }\r\n    }\r\n\r\n    }","title":"Spring Security service configuration","body":"<pre><code>@Component\npublic class JwtUtil {\n\n@Value(&quot;${jwt.secret}&quot;)\nprivate String secret;\n\n@Value(&quot;${jwt.expiration}&quot;)\nprivate Long expiration;\n\nDate now = new Date();\nDate ExpirationDate = new Date(now.getTime() + expiration * 1000);\n\npublic User getUser(final String token) {\n    Claims body = Jwts.parser()\n        .setSigningKey(secret)\n        .parseClaimsJws(token)\n        .getBody();\n\n    User u = new User();\n    u.setUsername(body.getSubject());\n    u.setUserId(Integer.parseInt((String) body.get(&quot;userId&quot;)));\n    Set &lt; Role &gt; roles = new HashSet &lt; &gt; ();\n    roles.add(Role.CONSUMER);\n    roles.add(Role.SELLER);\n    u.setRoles(roles);\n    return u;\n}\n\npublic String generateToken(String username) {\n    User u = new User();\n    Claims claims = Jwts.claims().setSubject(username);\n    claims.put(&quot;userId&quot;, u.getUserId());\n    Set &lt; Role &gt; roles = new HashSet &lt; &gt; ();\n    roles.add(Role.CONSUMER);\n    roles.add(Role.SELLER);\n    claims.put(&quot;role&quot;, roles);\n\n    return Jwts.builder()\n        .setClaims(claims)\n        .setIssuedAt(now)\n        .setExpiration(ExpirationDate)\n        .signWith(SignatureAlgorithm.HS512, secret)\n        .compact();\n\n}\n\npublic boolean validateToken(final String token) {\n    return getClaims(secret, token)\n        .getExpiration()\n        .after(new Date(System.currentTimeMillis()));\n}\n\npublic Claims getClaims(String secret, String token) {\n    return Jwts.parser()\n        .setSigningKey(secret)\n        .parseClaimsJws(token)\n        .getBody();\n}\npublic Boolean validateToken(String token, UserDetails userDetails) {\n\n    String username = extractUsername(token);\n\n    return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\n\n}\n\n\npublic String extractUsername(String token) {\n\n    return extractClaim(token, Claims::getSubject);\n\n}\n\n\npublic String extractRole(String token) {\n\n    return (String) extractClaim(token, claims - &gt; claims.get(&quot;role&quot;));\n\n}\n\n\npublic Date extractExpiration(String token) {\n\n    return extractClaim(token, Claims::getExpiration);\n\n}\n\n\npublic &lt; T &gt; T extractClaim(String token, Function &lt; Claims, T &gt; claimsResolver) {\n\n    final Claims claims = extractAllClaims(token);\n\n    return claimsResolver.apply(claims);\n\n}\n\n\nprivate Claims extractAllClaims(String token) {\n\n    return Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();\n\n}\n\n\nprivate Boolean isTokenExpired(String token) {\n\n    final Date expiration = extractExpiration(token);\n\n    return expiration.before(new Date());\n\n}\n}\n\n\n@Component\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n\n@Autowired\nprivate JwtUtil jwtTokenUtil;\n\n\n@Autowired\nprivate UserDetailsService userDetailsService;\n\n\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException {\n\n    final String authorizationHeader = request.getHeader(&quot;Authorization&quot;);\n    String username = null;\n    String jwt = null;\n\n\n    if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;JWT &quot;)) {\n\n        jwt = authorizationHeader.substring(7);\n        username = jwtTokenUtil.extractUsername(jwt);\n\n    }\n\n\n    if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n\n        UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\n\n\n        if (jwtTokenUtil.validateToken(jwt, userDetails)) {\n\n            UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\n\n                userDetails, null, userDetails.getAuthorities());\n\n            usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n            SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n\n        }\n\n    }\n\n    chain.doFilter(request, response);\n\n}\n\n}\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class ApiSecurityConfig extends WebSecurityConfigurerAdapter {\n\n@Autowired\nprivate ApiAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n\n\n@Autowired\nprivate JwtAuthenticationFilter jwtAuthorizationFilter;\n\n\n@Autowired\nprivate UserAuthService jwtUserDetailsService;\n\n\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n\n    return new BCryptPasswordEncoder();\n\n}\n\n@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n\n    auth.userDetailsService(jwtUserDetailsService).passwordEncoder(passwordEncoder());\n\n}\n\n@Override\npublic void configure(WebSecurity web) throws Exception {\n\n}\n\n@Autowired\npublic void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(this.jwtUserDetailsService);\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n        .authorizeRequests()\n        .antMatchers(HttpMethod.POST, &quot;/authenticate&quot;).permitAll()\n        .antMatchers(&quot;/api/public/**&quot;).permitAll()\n        .antMatchers(&quot;/api/auth/consumer/**&quot;).hasRole(&quot;CONSUMER&quot;)\n        .antMatchers(&quot;/api/auth/seller/**&quot;).hasRole(&quot;SELLER&quot;)\n        .anyRequest().authenticated()\n        .and()\n        .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\n        .and()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n\n    http.addFilterBefore(jwtAuthorizationFilter, UsernamePasswordAuthenticationFilter.class);\n\n}\n\n@Bean\npublic RegistrationBean jwtAuthFilterRegister(JwtAuthenticationFilter filter) {\n    FilterRegistrationBean registrationBean = new FilterRegistrationBean(filter);\n    registrationBean.setEnabled(false);\n    return registrationBean;\n}\n\n@Bean\n@Override\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n\n\n}\n\n\n@Component\npublic class ApiAuthenticationEntryPoint implements AuthenticationEntryPoint {\n@Override\npublic void commence(HttpServletRequest request, HttpServletResponse response,\n        AuthenticationException authException) throws IOException, ServletException {\n\n    response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\n}\n}\n\n@Service\npublic class AuthService {\n\n@Autowired\nprivate UserRepo userRepository;\n\n@Autowired\nprivate JwtUtil jwtutil;\n\n\npublic String authenticate(String username, String password) throws AuthenticationException {\n    Optional &lt; User &gt; user = userRepository.findByUsername(username);\n    if (user == null) {\n        throw new AuthenticationException(&quot;Invalid username or password&quot;);\n    }\n    return jwtutil.generateToken(username);\n}\n\n\n\n}\n\n@Service\npublic class ProductService {\n\n@Autowired\nprivate ProductRepo productRepository;\n\npublic List &lt; Product &gt; searchProducts(String keyword) {\n    return productRepository.findByProductNameContainingIgnoreCaseOrCategoryCategoryNameContainingIgnoreCase(keyword, keyword);\n}\n\n}\n\n@RestController\n@RequestMapping(&quot;/api/public&quot;)\npublic class PublicController {\n\n@Autowired\nprivate ProductService productService;\n\n@Autowired\nprivate AuthService authService;\n\n@GetMapping(&quot;/product/search&quot;)\npublic List &lt; Product &gt; searchProducts(@RequestParam(&quot;keyword&quot;) String keyword) {\n    return productService.searchProducts(keyword);\n}\n\n@PostMapping(&quot;/login&quot;)\npublic ResponseEntity &lt; String &gt; login(@RequestBody User credentials) {\n    try {\n        String token = null;\n        try {\n            token = authService.authenticate(credentials.getUsername(), credentials.getPassword());\n        } catch (javax.naming.AuthenticationException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return ResponseEntity.ok(token);\n    } catch (AuthenticationException e) {\n        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\n    }\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":170337,"reputation":1872,"user_id":1792216,"accept_rate":82,"display_name":"Emiliano Schiano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2589,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":27512275,"answer_count":2,"score":3,"last_activity_date":1684848773,"creation_date":1418728280,"question_id":27503285,"body_markdown":"I&#39;m trying to build a Java EE app prototype using different frameworks. Everything works fine except the security layer. I chose to use Spring Security configured with Spring configuration.\r\n\r\nThe code is like this:\r\n\r\n**Spring Security Config**\r\n\r\n    @Configuration\r\n    @EnableWebMvcSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter\r\n    {\r\n    \t@Autowired\r\n    \tprivate MyUserDetailsService userDetailsService;\r\n    \r\n    \t@Override\r\n    \tprotected UserDetailsService userDetailsService () {\r\n    \t\treturn this.userDetailsService;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configure(WebSecurity web) throws Exception {\r\n    \t\tweb\r\n    \t\t.ignoring()\r\n    \t\t.antMatchers(&quot;/resources/**&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n    \t\t.formLogin()\r\n    \t\t.loginPage(&quot;/login&quot;)\r\n    \t\t.loginProcessingUrl(&quot;/login/authenticate&quot;)\r\n    \t\t.failureUrl(&quot;/login?error=bad_credentials&quot;)\r\n    \t\t.and()\r\n    \t\t.logout()\r\n    \t\t.logoutUrl(&quot;/signout&quot;)\r\n    \t\t.deleteCookies(&quot;JSESSIONID&quot;)\r\n    \t\t.and()\r\n    \t\t.authorizeRequests()\r\n    \t\t.antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n    \t\t.antMatchers(&quot;/**&quot;).permitAll()\r\n    \t\t.and()\r\n    \t\t.csrf();\r\n    \t}\r\n    }\r\n\r\n**User Detail Service**\r\n\r\n    @Service(&quot;myUserDetailsService&quot;)\r\n    public class MyUserDetailsService implements UserDetailsService\r\n    {\r\n        public static final Logger log = Logger.getLogger(MyUserDetailsService.class);\r\n    \r\n        public MyUserDetailsService() {\r\n        }\r\n    \r\n        @Autowired\r\n        private UserDao userDao;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String userName) throws UsernameNotFoundException {\r\n            final User user = getSystemUser(userName);\r\n            final List&lt;GrantedAuthority&gt; authorities = getUserAuthorities(user);\r\n            return buildUserForAuthentication(user, authorities);\r\n        }\r\n    \r\n        private User buildUserForAuthentication(User user, List&lt;GrantedAuthority&gt; authorities) {\r\n            //...\r\n        }\r\n    \r\n        private User getSystemUser(String alias) {\r\n        \t//...\r\n        }\r\n    \r\n        private List&lt;GrantedAuthority&gt; getUserAuthorities(User user) {\r\n        \t//...\r\n            return null;\r\n        }\r\n    }\r\n\r\nWhat I&#39;m expecting this code to do is that when `/login/authenticate` is reached with the user &amp; pass params, the underlying spring code invokes my user service, but this never happens.\r\n\r\nWhat am I missing?\r\n\r\nI&#39;m using spring-security 3.2.3.RELEASE.","title":"Spring Security service configuration","body":"<p>I'm trying to build a Java EE app prototype using different frameworks. Everything works fine except the security layer. I chose to use Spring Security configured with Spring configuration.</p>\n\n<p>The code is like this:</p>\n\n<p><strong>Spring Security Config</strong></p>\n\n<pre><code>@Configuration\n@EnableWebMvcSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter\n{\n    @Autowired\n    private MyUserDetailsService userDetailsService;\n\n    @Override\n    protected UserDetailsService userDetailsService () {\n        return this.userDetailsService;\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web\n        .ignoring()\n        .antMatchers(\"/resources/**\");\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n        .formLogin()\n        .loginPage(\"/login\")\n        .loginProcessingUrl(\"/login/authenticate\")\n        .failureUrl(\"/login?error=bad_credentials\")\n        .and()\n        .logout()\n        .logoutUrl(\"/signout\")\n        .deleteCookies(\"JSESSIONID\")\n        .and()\n        .authorizeRequests()\n        .antMatchers(\"/admin/**\").hasRole(\"ADMIN\")\n        .antMatchers(\"/**\").permitAll()\n        .and()\n        .csrf();\n    }\n}\n</code></pre>\n\n<p><strong>User Detail Service</strong></p>\n\n<pre><code>@Service(\"myUserDetailsService\")\npublic class MyUserDetailsService implements UserDetailsService\n{\n    public static final Logger log = Logger.getLogger(MyUserDetailsService.class);\n\n    public MyUserDetailsService() {\n    }\n\n    @Autowired\n    private UserDao userDao;\n\n    @Override\n    public UserDetails loadUserByUsername(String userName) throws UsernameNotFoundException {\n        final User user = getSystemUser(userName);\n        final List&lt;GrantedAuthority&gt; authorities = getUserAuthorities(user);\n        return buildUserForAuthentication(user, authorities);\n    }\n\n    private User buildUserForAuthentication(User user, List&lt;GrantedAuthority&gt; authorities) {\n        //...\n    }\n\n    private User getSystemUser(String alias) {\n        //...\n    }\n\n    private List&lt;GrantedAuthority&gt; getUserAuthorities(User user) {\n        //...\n        return null;\n    }\n}\n</code></pre>\n\n<p>What I'm expecting this code to do is that when <code>/login/authenticate</code> is reached with the user &amp; pass params, the underlying spring code invokes my user service, but this never happens.</p>\n\n<p>What am I missing?</p>\n\n<p>I'm using spring-security 3.2.3.RELEASE.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9577,"page":415,"page_size":100}
