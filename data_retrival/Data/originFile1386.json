{"items":[{"tags":["java","spring","spring-boot","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":24249668,"reputation":1,"user_id":18200842,"display_name":"Hui Li"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651379593,"creation_date":1651379593,"answer_id":72074016,"question_id":72073725,"body_markdown":"\r\n    @Override\r\n    @Transactional(propagation=Propagation.SUPPORTS)\r\n    public Item updateItemPrice(int itemId) {\r\n        //API call to external items client\r\n        int price = getExternalItemPrice(itemId);\r\n        return updateItemPrice(itemId, price);\r\n    }\r\n\r\n    @Transactional(propagation=Propagation.NEVER)\r\n    int getExternalItemPrice(int id) {\r\n        ExternalItem externalItem = itemExternalClient.getItemById(id);\r\n        return externalItem.getPrice();\r\n    }\r\n\r\n    @Transactional(readOnly = false)\r\n    Item updateItemPrice(int itemId, int price) {\r\n        Item item = itemRepository.getById(itemId);\r\n        item.setPrice(price);\r\n        return itemRepository.save(item);\r\n    }","title":"How handle Transactions and API call in same method?","body":"<pre><code>@Override\n@Transactional(propagation=Propagation.SUPPORTS)\npublic Item updateItemPrice(int itemId) {\n    //API call to external items client\n    int price = getExternalItemPrice(itemId);\n    return updateItemPrice(itemId, price);\n}\n\n@Transactional(propagation=Propagation.NEVER)\nint getExternalItemPrice(int id) {\n    ExternalItem externalItem = itemExternalClient.getItemById(id);\n    return externalItem.getPrice();\n}\n\n@Transactional(readOnly = false)\nItem updateItemPrice(int itemId, int price) {\n    Item item = itemRepository.getById(itemId);\n    item.setPrice(price);\n    return itemRepository.save(item);\n}\n</code></pre>\n"}],"owner":{"account_id":13700585,"reputation":33,"user_id":9885875,"display_name":"Ajay Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651379593,"creation_date":1651374541,"question_id":72073725,"body_markdown":"How handle Transactions and API call in same method? \r\nIf API takes long time to get the data from external api or waits till ConnectionTimeout, updateItemPrice will hold the db as method is @Transactional(readOnly = false). \r\nHow make method performant so that API call does not create long running Transaction? \r\n```\r\n@Service\r\n@Transactional(readOnly = true)\r\npublic class ItemServiceImpl implements ItemService {\r\n\r\n    @Autowired\r\n    private ItemExternalClient itemExternalClient;\r\n\r\n    @Autowired\r\n    private ItemRepository itemRepository;\r\n\r\n    ... other methods\r\n\r\n    @Override\r\n    @Transactional(readOnly = false)\r\n    public Item updateItemPrice(int itemId) {\r\n        Item item = itemRepository.getById(itemId);\r\n        \r\n        //API call to external items client\r\n        ExternalItem externalItem = itemExternalClient.getItemById(id);\r\n        item.setPrice(externalItem.getPrice());\r\n        \r\n        return itemRepository.save(item);\r\n    }\r\n}\r\n```\r\n","title":"How handle Transactions and API call in same method?","body":"<p>How handle Transactions and API call in same method?\nIf API takes long time to get the data from external api or waits till ConnectionTimeout, updateItemPrice will hold the db as method is @Transactional(readOnly = false).\nHow make method performant so that API call does not create long running Transaction?</p>\n<pre><code>@Service\n@Transactional(readOnly = true)\npublic class ItemServiceImpl implements ItemService {\n\n    @Autowired\n    private ItemExternalClient itemExternalClient;\n\n    @Autowired\n    private ItemRepository itemRepository;\n\n    ... other methods\n\n    @Override\n    @Transactional(readOnly = false)\n    public Item updateItemPrice(int itemId) {\n        Item item = itemRepository.getById(itemId);\n        \n        //API call to external items client\n        ExternalItem externalItem = itemExternalClient.getItemById(id);\n        item.setPrice(externalItem.getPrice());\n        \n        return itemRepository.save(item);\n    }\n}\n</code></pre>\n"},{"tags":["java","queue","priority-queue","compareto"],"comments":[{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":1,"creation_date":1473174762,"post_id":39352302,"comment_id":66034617,"body_markdown":"You have to provide a `Comparator` instance. Implement a class with `Comparator&lt;Student&gt;` and pass an instance of it in the `PriorityQueue` constructor.","body":"You have to provide a <code>Comparator</code> instance. Implement a class with <code>Comparator&lt;Student&gt;</code> and pass an instance of it in the <code>PriorityQueue</code> constructor."}],"answers":[{"tags":[],"owner":{"account_id":7637322,"reputation":4139,"user_id":5790498,"display_name":"Abhijeet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651379401,"creation_date":1473174991,"answer_id":39352534,"question_id":39352302,"body_markdown":"Create new Class which implements `Comparator` Inteface and pass this class instance to your priority queue.\r\n\r\nIf your GPA is Class/Reference Type:(e.g. Integer,Double,Float) you can use following code : \r\n\r\n    PriorityQueue&lt;Student&gt; pQueue = new PriorityQueue&lt;Student&gt;(10, new Comparator&lt;Student&gt; (){\r\n    \r\n    \t@Override\r\n    \tpublic int compare(Student arg0, Student arg1) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn arg0.getGPA().compareTo(arg1.getGPA());\r\n    \t}\r\n    });\r\n\r\nIf your GPA is primitive Type:(e.g. int,double,float) you can use following code :\r\n\r\n    @Override\r\n    \tpublic int compare(Student arg0, Student arg1) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn Integer.compare(arg0.getGPA(),arg1.getGPA());\r\n    \t}\r\n\r\n**Note:** Replace Integer according to your datatype.\r\n\r\n`compareTo()` doesn&#39;t necessarily return only -1, 0 or 1. `compareTo()`return 0 for both objects are equal, value less than zero if obj1 &lt; obj2 and value greater than zero if obj1 &gt; obj2. \r\nThis method is inline comparator declaration.  ","title":"Confused over compareTo implementation with PriorityQueue","body":"<p>Create new Class which implements <code>Comparator</code> Inteface and pass this class instance to your priority queue.</p>\n<p>If your GPA is Class/Reference Type:(e.g. Integer,Double,Float) you can use following code :</p>\n<pre><code>PriorityQueue&lt;Student&gt; pQueue = new PriorityQueue&lt;Student&gt;(10, new Comparator&lt;Student&gt; (){\n\n    @Override\n    public int compare(Student arg0, Student arg1) {\n        // TODO Auto-generated method stub\n        return arg0.getGPA().compareTo(arg1.getGPA());\n    }\n});\n</code></pre>\n<p>If your GPA is primitive Type:(e.g. int,double,float) you can use following code :</p>\n<pre><code>@Override\n    public int compare(Student arg0, Student arg1) {\n        // TODO Auto-generated method stub\n        return Integer.compare(arg0.getGPA(),arg1.getGPA());\n    }\n</code></pre>\n<p><strong>Note:</strong> Replace Integer according to your datatype.</p>\n<p><code>compareTo()</code> doesn't necessarily return only -1, 0 or 1. <code>compareTo()</code>return 0 for both objects are equal, value less than zero if obj1 &lt; obj2 and value greater than zero if obj1 &gt; obj2.\nThis method is inline comparator declaration.</p>\n"},{"tags":[],"owner":{"display_name":"user6073886"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473175179,"creation_date":1473175179,"answer_id":39352596,"question_id":39352302,"body_markdown":"The second parameter expects a Comparator object, not a direct call to the compareTo Method:\r\n\r\n    //Create Priority Queue\r\n    PriorityQueue&lt;Student&gt; pQueue = new PriorityQueue&lt;Student&gt;(10, new Comparator&lt;Student&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(Student o1, Student o2) {\r\n\t\t\t\t// your logic\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\nThe &quot;compare(T o1, T o2)&quot;-Method is part of that Comparator object and has to be defined in one.","title":"Confused over compareTo implementation with PriorityQueue","body":"<p>The second parameter expects a Comparator object, not a direct call to the compareTo Method:</p>\n\n<pre><code>//Create Priority Queue\nPriorityQueue&lt;Student&gt; pQueue = new PriorityQueue&lt;Student&gt;(10, new Comparator&lt;Student&gt;() {\n\n        @Override\n        public int compare(Student o1, Student o2) {\n            // your logic\n        }\n    });\n</code></pre>\n\n<p>The \"compare(T o1, T o2)\"-Method is part of that Comparator object and has to be defined in one.</p>\n"}],"owner":{"account_id":5431066,"reputation":37,"user_id":4321925,"accept_rate":75,"display_name":"Pds0303"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651379401,"creation_date":1473174305,"question_id":39352302,"body_markdown":"I am trying to write a program where I replicate a registrar&#39;s office using a priority queue. The sorting for this priority queue would be based on a higher GPA being served first etc. I have constructed a program that does this with my own implementation but I am simply confused how to implement my compareTo method.\r\n\r\n\r\n    //Create Priority Queue\r\n    PriorityQueue&lt;Student&gt; pQueue = new PriorityQueue&lt;Student&gt;(10, compareTo());\r\n\r\nFirst I made my priority queue. According to documentation, I can specify what I am to use for my comparisons, compareTo().\r\n\r\nBut when I tried to implement my compareTo method, it does not allow me to provide any parameters.\r\n\r\n    private Comparator&lt;? super Student&gt; compareTo(Student x, Student y) {\r\n    }\r\n\r\nIt tells me &#39;compareTo in BursarOfficeJavaService cannot be applied to ()&#39; and my IDE offers to remove my parameters. But I do not understand how I can make comparisons without objects to compare?\r\n\r\nMy only other method in the class is recieveEvent, which basically just determines if I am removing from the queue or adding to the queue. The data under the event is a student object I can compare with, but I simply don&#39;t understand how to put this all together.\r\n\r\n        public void receiveEvent(Event&lt;Student&gt; event) {\r\n        if (event.getType() == EventType.REQUEST_COMPLETED){\r\n            pQueue.poll();\r\n        }\r\n\r\n        else{\r\n\r\n\r\n        }\r\n    }\r\n\r\nWith some help, I have come up with this compare method. However an issue still persists when a new student is checked against the student first on the list, and their GPA is not higher, it will append that student to the end of the list without checking against the other students in the pQueue.\r\n\r\n    PriorityQueue&lt;Student&gt; pQueue = new PriorityQueue&lt;Student&gt;(10, new Comparator&lt;Student&gt;(){\r\n        @Override\r\n        public int compare(Student o1, Student o2){\r\n            if (o1.equals(o2))\r\n                return 0;\r\n            else if(o1.getGpa() &gt; o2.getGpa())\r\n                return -1;\r\n            else\r\n                return 1;\r\n        }\r\n\r\n    });\r\n\r\n    private boolean equals (Student o1, Student o2){\r\n        if (o1.getGpa() == o2.getGpa())\r\n            return true;\r\n        else\r\n            return false;\r\n    }\r\n","title":"Confused over compareTo implementation with PriorityQueue","body":"<p>I am trying to write a program where I replicate a registrar's office using a priority queue. The sorting for this priority queue would be based on a higher GPA being served first etc. I have constructed a program that does this with my own implementation but I am simply confused how to implement my compareTo method.</p>\n\n<pre><code>//Create Priority Queue\nPriorityQueue&lt;Student&gt; pQueue = new PriorityQueue&lt;Student&gt;(10, compareTo());\n</code></pre>\n\n<p>First I made my priority queue. According to documentation, I can specify what I am to use for my comparisons, compareTo().</p>\n\n<p>But when I tried to implement my compareTo method, it does not allow me to provide any parameters.</p>\n\n<pre><code>private Comparator&lt;? super Student&gt; compareTo(Student x, Student y) {\n}\n</code></pre>\n\n<p>It tells me 'compareTo in BursarOfficeJavaService cannot be applied to ()' and my IDE offers to remove my parameters. But I do not understand how I can make comparisons without objects to compare?</p>\n\n<p>My only other method in the class is recieveEvent, which basically just determines if I am removing from the queue or adding to the queue. The data under the event is a student object I can compare with, but I simply don't understand how to put this all together.</p>\n\n<pre><code>    public void receiveEvent(Event&lt;Student&gt; event) {\n    if (event.getType() == EventType.REQUEST_COMPLETED){\n        pQueue.poll();\n    }\n\n    else{\n\n\n    }\n}\n</code></pre>\n\n<p>With some help, I have come up with this compare method. However an issue still persists when a new student is checked against the student first on the list, and their GPA is not higher, it will append that student to the end of the list without checking against the other students in the pQueue.</p>\n\n<pre><code>PriorityQueue&lt;Student&gt; pQueue = new PriorityQueue&lt;Student&gt;(10, new Comparator&lt;Student&gt;(){\n    @Override\n    public int compare(Student o1, Student o2){\n        if (o1.equals(o2))\n            return 0;\n        else if(o1.getGpa() &gt; o2.getGpa())\n            return -1;\n        else\n            return 1;\n    }\n\n});\n\nprivate boolean equals (Student o1, Student o2){\n    if (o1.getGpa() == o2.getGpa())\n        return true;\n    else\n        return false;\n}\n</code></pre>\n"},{"tags":["java","dictionary","collections","hashmap","frequency"],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651319258,"creation_date":1651319258,"answer_id":72068250,"question_id":72068224,"body_markdown":"Missing else\r\n```\r\nif(map.containsKey(arr[i])){\r\n            map.put(arr[i],map.get(arr[i])+1);\r\n        }\r\nelse\r\n        map.put(arr[i], 1);\r\n\r\n```\r\nThat&#39;s why your elements are being initialized with frequency 1 each time instead of incrementing. So output is 5+3+2=10","title":"How to calculate the sum of odd frequency elements in array using hashmap","body":"<p>Missing else</p>\n<pre><code>if(map.containsKey(arr[i])){\n            map.put(arr[i],map.get(arr[i])+1);\n        }\nelse\n        map.put(arr[i], 1);\n\n</code></pre>\n<p>That's why your elements are being initialized with frequency 1 each time instead of incrementing. So output is 5+3+2=10</p>\n"},{"tags":[],"owner":{"account_id":13113269,"reputation":86,"user_id":9473464,"display_name":"Elie Azoury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651319592,"creation_date":1651319592,"answer_id":72068293,"question_id":72068224,"body_markdown":"you are overiding the  increment instead of :\r\n\r\n     if(map.containsKey(arr[i])){\r\n                map.put(arr[i],map.get(arr[i])+1);\r\n            }\r\n            map.put(arr[i], 1);\r\n\r\ndo \r\n\r\n     if(map.containsKey(arr[i])){\r\n    \t            map.put(arr[i],map.get(arr[i])+1);\r\n    \t        }\r\n    \t        else map.put(arr[i], 1);","title":"How to calculate the sum of odd frequency elements in array using hashmap","body":"<p>you are overiding the  increment instead of :</p>\n<pre><code> if(map.containsKey(arr[i])){\n            map.put(arr[i],map.get(arr[i])+1);\n        }\n        map.put(arr[i], 1);\n</code></pre>\n<p>do</p>\n<pre><code> if(map.containsKey(arr[i])){\n                map.put(arr[i],map.get(arr[i])+1);\n            }\n            else map.put(arr[i], 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651330639,"creation_date":1651330639,"answer_id":72069560,"question_id":72068224,"body_markdown":"Your first `for` loop checks if an int value is already contained as a key within your `map` to increment its frequency. In case the int is already present its corresponding frequency is incremented, but then the opposing condition is &lt;b&gt;not placed within an else branch&lt;/b&gt;, resetting to 1 the int frequency. \r\n\r\nThe loop should be written like so:\r\n\r\n```\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n    if (map.containsKey(arr[i])) {\r\n        map.put(arr[i], map.get(arr[i]) + 1);\r\n    } else {\r\n        map.put(arr[i], 1);\r\n    }\r\n}\r\n```\r\n\r\nBesides, if you&#39;re allowed to use streams (I don&#39;t know whether this is a school assignment or not), you could achieve what you&#39;re doing in a much more compact writing.\r\n\r\n```\r\nint arr[] = {5, 3, 3, 3, 3, 5, 5, 2};\r\nInteger sum = Arrays.stream(arr)\r\n        .boxed()\r\n        .collect(Collectors.groupingBy(Integer::intValue, Collectors.counting())) //Creating a hashmap where to each int (boxed to Integer) corresponds its frequency\r\n        .entrySet().stream() //Streaming the map&#39;s entries\r\n        .filter(e -&gt; e.getValue() % 2 == 1) //for each entry we keep only the ones with an odd frequency\r\n        .collect(Collectors.summingInt(e -&gt; e.getKey())); //Summing the values of Integers with an odd frequency\r\n```","title":"How to calculate the sum of odd frequency elements in array using hashmap","body":"<p>Your first <code>for</code> loop checks if an int value is already contained as a key within your <code>map</code> to increment its frequency. In case the int is already present its corresponding frequency is incremented, but then the opposing condition is <b>not placed within an else branch</b>, resetting to 1 the int frequency.</p>\n<p>The loop should be written like so:</p>\n<pre><code>for (int i = 0; i &lt; arr.length; i++) {\n    if (map.containsKey(arr[i])) {\n        map.put(arr[i], map.get(arr[i]) + 1);\n    } else {\n        map.put(arr[i], 1);\n    }\n}\n</code></pre>\n<p>Besides, if you're allowed to use streams (I don't know whether this is a school assignment or not), you could achieve what you're doing in a much more compact writing.</p>\n<pre><code>int arr[] = {5, 3, 3, 3, 3, 5, 5, 2};\nInteger sum = Arrays.stream(arr)\n        .boxed()\n        .collect(Collectors.groupingBy(Integer::intValue, Collectors.counting())) //Creating a hashmap where to each int (boxed to Integer) corresponds its frequency\n        .entrySet().stream() //Streaming the map's entries\n        .filter(e -&gt; e.getValue() % 2 == 1) //for each entry we keep only the ones with an odd frequency\n        .collect(Collectors.summingInt(e -&gt; e.getKey())); //Summing the values of Integers with an odd frequency\n</code></pre>\n"}],"owner":{"account_id":25155221,"reputation":7,"user_id":19000131,"display_name":"Ken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72069560,"answer_count":3,"score":0,"last_activity_date":1651379034,"creation_date":1651319033,"question_id":72068224,"body_markdown":"Gievn following array `arr[] = {5,3,3,3,3,5,5,2}`, I have to produce the sum of only the elements with an odd frequency. My output should be 7, i.e. the sum of 5 + 2.\r\n \r\nFor some reason, I am getting 10 and I don&#39;t understand why.\r\n\r\n```\r\npublic class OddnumberOfElements {\r\n    public static void main(String[] args) {\r\n        int arr[] = {5, 3, 3, 3, 3, 5, 5, 2};\r\n        LinkedHashMap&lt;Integer, Integer&gt; map = new LinkedHashMap&lt;Integer, Integer&gt;();\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            if (map.containsKey(arr[i])) {\r\n                map.put(arr[i], map.get(arr[i]) + 1);\r\n            }\r\n            map.put(arr[i], 1);\r\n        }\r\n        int sum = 0;\r\n        for (Map.Entry&lt;Integer, Integer&gt; e : map.entrySet()) {\r\n            if (e.getValue() % 2 != 0) {\r\n                sum = sum + e.getKey();\r\n            }\r\n        }\r\n        System.out.println(sum);\r\n    }\r\n}\r\n```\r\n","title":"How to calculate the sum of odd frequency elements in array using hashmap","body":"<p>Gievn following array <code>arr[] = {5,3,3,3,3,5,5,2}</code>, I have to produce the sum of only the elements with an odd frequency. My output should be 7, i.e. the sum of 5 + 2.</p>\n<p>For some reason, I am getting 10 and I don't understand why.</p>\n<pre><code>public class OddnumberOfElements {\n    public static void main(String[] args) {\n        int arr[] = {5, 3, 3, 3, 3, 5, 5, 2};\n        LinkedHashMap&lt;Integer, Integer&gt; map = new LinkedHashMap&lt;Integer, Integer&gt;();\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (map.containsKey(arr[i])) {\n                map.put(arr[i], map.get(arr[i]) + 1);\n            }\n            map.put(arr[i], 1);\n        }\n        int sum = 0;\n        for (Map.Entry&lt;Integer, Integer&gt; e : map.entrySet()) {\n            if (e.getValue() % 2 != 0) {\n                sum = sum + e.getKey();\n            }\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","google-play-services"],"comments":[{"owner":{"account_id":189621,"reputation":39951,"user_id":429063,"display_name":"Chris Stratton"},"score":0,"creation_date":1443586107,"post_id":32856919,"comment_id":53548614,"body_markdown":"I suspect you are confusing the Google Play Services SDK components with the companion application package they requires on the (emulated) device.   It looks like the latter is what you are being prompted to update, from within the emulated device.","body":"I suspect you are confusing the Google Play Services SDK components with the companion application package they requires on the (emulated) device.   It looks like the latter is what you are being prompted to update, from within the emulated device."}],"answers":[{"tags":[],"owner":{"account_id":4848830,"reputation":789,"user_id":3911725,"accept_rate":75,"display_name":"LonelyIdiot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443583099,"creation_date":1443583099,"answer_id":32857179,"question_id":32856919,"body_markdown":"Your build.gradle has this line:\r\n\r\n    compile &#39;com.google.android.gms:play-services:+&#39;\r\nThis means that android will use the latest version of Google Play Services when ever the app is run. The emulator might not have all the latest updates so the app will not run. Updating Google Play Services will help.","title":"AndroidStudio emulator &quot;won&#39;t run unless you update Google Play Services&quot;","body":"<p>Your build.gradle has this line:</p>\n\n<pre><code>compile 'com.google.android.gms:play-services:+'\n</code></pre>\n\n<p>This means that android will use the latest version of Google Play Services when ever the app is run. The emulator might not have all the latest updates so the app will not run. Updating Google Play Services will help.</p>\n"},{"tags":[],"owner":{"account_id":6999575,"reputation":723,"user_id":5366025,"display_name":"vab"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1443595255,"creation_date":1443595255,"answer_id":32859446,"question_id":32856919,"body_markdown":"Navigate to settings--&gt; apps in your emulator and then find Google Play Services, check the version number and use it in you build.gradle\r\n\r\nHope this helps","title":"AndroidStudio emulator &quot;won&#39;t run unless you update Google Play Services&quot;","body":"<p>Navigate to settings--> apps in your emulator and then find Google Play Services, check the version number and use it in you build.gradle</p>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":6240749,"reputation":1722,"user_id":4854450,"accept_rate":76,"display_name":"Raphael Teyssandier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651377314,"creation_date":1449593929,"answer_id":34161670,"question_id":32856919,"body_markdown":"I downgraded the SDK from 5.1 to 5.0 and it&#39;s working.","title":"AndroidStudio emulator &quot;won&#39;t run unless you update Google Play Services&quot;","body":"<p>I downgraded the SDK from 5.1 to 5.0 and it's working.</p>\n"},{"tags":[],"owner":{"account_id":217831,"reputation":779,"user_id":473829,"accept_rate":88,"display_name":"Will Vanderhoef"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1450284316,"creation_date":1450284316,"answer_id":34317512,"question_id":32856919,"body_markdown":"Change the SDK in your emulator to v21 or lower.  Physical devices are not effected by this issue.\r\n\r\nThe reason Android is complaining about an update for Google Play services is related to a known issue in Android emulators for API v22 and up (at this time 23).  https://code.google.com/p/android/issues/detail?id=176348\r\n\r\nYou should try to use the latest version of Play Services in your build script as users are generally forced to have the latest version of this on their device.","title":"AndroidStudio emulator &quot;won&#39;t run unless you update Google Play Services&quot;","body":"<p>Change the SDK in your emulator to v21 or lower.  Physical devices are not effected by this issue.</p>\n\n<p>The reason Android is complaining about an update for Google Play services is related to a known issue in Android emulators for API v22 and up (at this time 23).  <a href=\"https://code.google.com/p/android/issues/detail?id=176348\" rel=\"nofollow\">https://code.google.com/p/android/issues/detail?id=176348</a></p>\n\n<p>You should try to use the latest version of Play Services in your build script as users are generally forced to have the latest version of this on their device.</p>\n"},{"tags":[],"owner":{"account_id":353742,"reputation":3219,"user_id":691626,"accept_rate":46,"display_name":"Dino Tw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539122913,"creation_date":1475526598,"answer_id":39839896,"question_id":32856919,"body_markdown":"Encountered the same problem on Android Studio 2.2. What I did was to go to `SDK Manger` -&gt; `Launch Standalone SDK Manager`, uninstalled `Broken Intel x86 Atom google_apis`. Restarted Android Studio and ran the project, a popup asked `Download System Image`, hit `OK` to continue, the problem then went away.","title":"AndroidStudio emulator &quot;won&#39;t run unless you update Google Play Services&quot;","body":"<p>Encountered the same problem on Android Studio 2.2. What I did was to go to <code>SDK Manger</code> -> <code>Launch Standalone SDK Manager</code>, uninstalled <code>Broken Intel x86 Atom google_apis</code>. Restarted Android Studio and ran the project, a popup asked <code>Download System Image</code>, hit <code>OK</code> to continue, the problem then went away.</p>\n"},{"tags":[],"owner":{"account_id":8902641,"reputation":286,"user_id":6645610,"display_name":"Dmitry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479917060,"creation_date":1478799851,"answer_id":40533904,"question_id":32856919,"body_markdown":"This problem occurred when I start my application on emulator Android 5.1.1 (x86_64) - API 22. I have read some discussions about it, but no one from them helped me.\r\n\r\nI tried to adjust version of Google Play Services in gradle build script (I mean you should update the script with &quot;app&quot; name). Don&#39;t forget to sync gradle when you update something in your script.\r\n\r\nMy gradle script &quot;app&quot; after updates:\r\n\r\n\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n        compileSdkVersion 24\r\n        buildToolsVersion &quot;24.0.2&quot;\r\n        defaultConfig {\r\n            applicationId &quot;com.itmm.map&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 24\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        compile &#39;com.android.support:appcompat-v7:24.2.1&#39;\r\n        compile &#39;com.google.android.gms:play-services:9.0.0&#39;\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n    }\r\n\r\n\r\n\r\nPlease, have a look into dependencies section. You&#39;re interesting in the follwoing line of script:\r\n\r\n    compile &#39;com.google.android.gms:play-services:9.0.0&#39;\r\n\r\nCurrently, ver. 9.0.0 helps me and everything is ok. I can see MapActivity on Android emulator. 9.0.0 is not a newest version of Google Play Services (the newest is 9.6.1), but it works and it can solve your problem, if you aren&#39;t interestion in new features of ver. 9.6.1.","title":"AndroidStudio emulator &quot;won&#39;t run unless you update Google Play Services&quot;","body":"<p>This problem occurred when I start my application on emulator Android 5.1.1 (x86_64) - API 22. I have read some discussions about it, but no one from them helped me.</p>\n\n<p>I tried to adjust version of Google Play Services in gradle build script (I mean you should update the script with \"app\" name). Don't forget to sync gradle when you update something in your script.</p>\n\n<p>My gradle script \"app\" after updates:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 24\n    buildToolsVersion \"24.0.2\"\n    defaultConfig {\n        applicationId \"com.itmm.map\"\n        minSdkVersion 16\n        targetSdkVersion 24\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:24.2.1'\n    compile 'com.google.android.gms:play-services:9.0.0'\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p>Please, have a look into dependencies section. You're interesting in the follwoing line of script:</p>\n\n<pre><code>compile 'com.google.android.gms:play-services:9.0.0'\n</code></pre>\n\n<p>Currently, ver. 9.0.0 helps me and everything is ok. I can see MapActivity on Android emulator. 9.0.0 is not a newest version of Google Play Services (the newest is 9.6.1), but it works and it can solve your problem, if you aren't interestion in new features of ver. 9.6.1.</p>\n"},{"tags":[],"owner":{"account_id":940928,"reputation":7119,"user_id":969016,"accept_rate":79,"display_name":"Boy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497858984,"creation_date":1497858984,"answer_id":44625063,"question_id":32856919,"body_markdown":"My issue was resolved after logging in with an google account on the emulator. The &#39;update&#39; button worked after that","title":"AndroidStudio emulator &quot;won&#39;t run unless you update Google Play Services&quot;","body":"<p>My issue was resolved after logging in with an google account on the emulator. The 'update' button worked after that</p>\n"},{"tags":[],"owner":{"account_id":8138636,"reputation":2544,"user_id":6129553,"accept_rate":29,"display_name":"RileyManda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516864280,"creation_date":1516864280,"answer_id":48437426,"question_id":32856919,"body_markdown":"Check in your SDK settings if youve installed google play services:\r\n***Android Studio--System Settings--Android SDK--SDK Tools:***\r\n\r\nLook for:**Google Play Services** and **Google Play Licensing Library** and make sure that both their status is:***Installed***.....if the above checklist is perfect,the next step you ought to perform is:\r\n\r\nOpen your **build.gradle** *project level gradle* and check that your gradle has:\r\n\r\n    classpath &#39;com.google.gms:google-services:3.1.0&#39;\r\n\r\nThen in your **App level gradle**:\r\nUnder **dependencies**:\r\n\r\n \r\n\r\n           dependencies{\r\n         implementation &#39;com.google.android.gms:play-services-auth:11.8.0&#39;\r\n     and at the end of your gradle file:\r\n    \r\n        repositories {\r\n        mavenCentral()\r\n        apply plugin: &#39;com.google.gms.google-services&#39;\r\n    }\r\n\r\n**Next**\r\n\r\nClick on the notification error you keep getting in your notification bar of your emulator and sign in with your google account(existing Email Address and password)\r\nThen try and run the app again...if you still get the error,click the notification error and try to sign in,,,keep trying until eventually the google playstore app will install and prompt you to update it.\r\nThis is the simplest process,it requires a little bit of patience but evetually it works.\r\n***Good Luck***\r\n","title":"AndroidStudio emulator &quot;won&#39;t run unless you update Google Play Services&quot;","body":"<p>Check in your SDK settings if youve installed google play services:\n<strong><em>Android Studio--System Settings--Android SDK--SDK Tools:</em></strong></p>\n\n<p>Look for:<strong>Google Play Services</strong> and <strong>Google Play Licensing Library</strong> and make sure that both their status is:<strong><em>Installed</em></strong>.....if the above checklist is perfect,the next step you ought to perform is:</p>\n\n<p>Open your <strong>build.gradle</strong> <em>project level gradle</em> and check that your gradle has:</p>\n\n<pre><code>classpath 'com.google.gms:google-services:3.1.0'\n</code></pre>\n\n<p>Then in your <strong>App level gradle</strong>:\nUnder <strong>dependencies</strong>:</p>\n\n<pre><code>       dependencies{\n     implementation 'com.google.android.gms:play-services-auth:11.8.0'\n and at the end of your gradle file:\n\n    repositories {\n    mavenCentral()\n    apply plugin: 'com.google.gms.google-services'\n}\n</code></pre>\n\n<p><strong>Next</strong></p>\n\n<p>Click on the notification error you keep getting in your notification bar of your emulator and sign in with your google account(existing Email Address and password)\nThen try and run the app again...if you still get the error,click the notification error and try to sign in,,,keep trying until eventually the google playstore app will install and prompt you to update it.\nThis is the simplest process,it requires a little bit of patience but evetually it works.\n<strong><em>Good Luck</em></strong></p>\n"},{"tags":[],"owner":{"account_id":2643108,"reputation":999,"user_id":2286372,"display_name":"Jaya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528433677,"creation_date":1528433677,"answer_id":50753593,"question_id":32856919,"body_markdown":"    I had the same issue. But I followed the following things\r\n    1) First download the latest build tools and play services in Android SDK \r\n    Android Studio -&gt; Tools -&gt; Android -&gt; SDK Manager -&gt; SDK Tools -&gt; Android SDK Build Tools -&gt; Install them \r\n    &amp; install Play Services by following same steps \r\n    \r\n    2) Create a new emaulator with latest api level for ex( API level : 28)\r\n    \r\n    3) Run the app in the latest emulator \r\n    \r\n    It will work fine.","title":"AndroidStudio emulator &quot;won&#39;t run unless you update Google Play Services&quot;","body":"<pre><code>I had the same issue. But I followed the following things\n1) First download the latest build tools and play services in Android SDK \nAndroid Studio -&gt; Tools -&gt; Android -&gt; SDK Manager -&gt; SDK Tools -&gt; Android SDK Build Tools -&gt; Install them \n&amp; install Play Services by following same steps \n\n2) Create a new emaulator with latest api level for ex( API level : 28)\n\n3) Run the app in the latest emulator \n\nIt will work fine.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8248844,"reputation":9692,"user_id":6204133,"display_name":"Dan Alboteanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534580610,"creation_date":1534580610,"answer_id":51906719,"question_id":32856919,"body_markdown":"my emulator&#39;s Google Play services version is 12.6.85\r\n\r\nso I changed the build.gradle like:\r\n       `implementation &#39;com.google.android.gms:play-services-maps:12.0.1&#39;`\r\n\r\n\r\n\r\nNotes:\r\n\r\n  - to check emulator&#39;s Google Play services version: go to Emulator \\ Settings \\ Apps \\ GooglePlay services\r\n  - to see available versions for the build.gradle check https://developers.google.com/android/guides/releases","title":"AndroidStudio emulator &quot;won&#39;t run unless you update Google Play Services&quot;","body":"<p>my emulator's Google Play services version is 12.6.85</p>\n\n<p>so I changed the build.gradle like:\n       <code>implementation 'com.google.android.gms:play-services-maps:12.0.1'</code></p>\n\n<p>Notes:</p>\n\n<ul>\n<li>to check emulator's Google Play services version: go to Emulator \\ Settings \\ Apps \\ GooglePlay services</li>\n<li>to see available versions for the build.gradle check <a href=\"https://developers.google.com/android/guides/releases\" rel=\"nofollow noreferrer\">https://developers.google.com/android/guides/releases</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10860508,"reputation":1460,"user_id":7985538,"display_name":"Sreekant Shenoy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588837716,"creation_date":1588832175,"answer_id":61651118,"question_id":32856919,"body_markdown":"Since I haven&#39;t seen any working solutions in 2020. There are two ways to fix this:\r\n\r\n1. Easy way is to create a new emulator with `PlayStore Enabled`. Check before downloading system image for the emulator.\r\n\r\n2. Hard way is to to install `Google Play Store` on the emulator manually and make the update button work. You can refer to the installation part [here][1]. \r\n\r\nAfter that, the app will automatically update the Google Play Services in a few minutes. That&#39;s all.\r\n\r\n**Note**: If that doesn&#39;t work, Go to Chrome -&gt; Search for Google Play Services and open the playStore link of that app and update it there.\r\n\r\n  [1]: https://medium.com/@dai_shi/installing-google-play-services-on-an-android-studio-emulator-fffceb2c28a1","title":"AndroidStudio emulator &quot;won&#39;t run unless you update Google Play Services&quot;","body":"<p>Since I haven't seen any working solutions in 2020. There are two ways to fix this:</p>\n\n<ol>\n<li><p>Easy way is to create a new emulator with <code>PlayStore Enabled</code>. Check before downloading system image for the emulator.</p></li>\n<li><p>Hard way is to to install <code>Google Play Store</code> on the emulator manually and make the update button work. You can refer to the installation part <a href=\"https://medium.com/@dai_shi/installing-google-play-services-on-an-android-studio-emulator-fffceb2c28a1\" rel=\"nofollow noreferrer\">here</a>. </p></li>\n</ol>\n\n<p>After that, the app will automatically update the Google Play Services in a few minutes. That's all.</p>\n\n<p><strong>Note</strong>: If that doesn't work, Go to Chrome -> Search for Google Play Services and open the playStore link of that app and update it there.</p>\n"}],"owner":{"account_id":6240749,"reputation":1722,"user_id":4854450,"accept_rate":76,"display_name":"Raphael Teyssandier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43877,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":34161670,"answer_count":11,"score":17,"last_activity_date":1651377314,"creation_date":1443581243,"question_id":32856919,"body_markdown":"I have this problem with my emulator, i&#39;m using API 5.1.1 and i have the lastest version of Google Play Services from SDK Manager.\r\n\r\nAndroidManifest.xml:\r\n\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\nIn the build.grable:\r\n\r\n    compile &#39;com.google.android.gms:play-services:+&#39;\r\n\r\n&lt;a href=&quot;https://gyazo.com/c63e6479b8ad93c390d77f1c1a77efb2&quot;&gt;&lt;img src=&quot;https://i.gyazo.com/c63e6479b8ad93c390d77f1c1a77efb2.png&quot; /&gt;&lt;/a&gt;","title":"AndroidStudio emulator &quot;won&#39;t run unless you update Google Play Services&quot;","body":"<p>I have this problem with my emulator, i'm using API 5.1.1 and i have the lastest version of Google Play Services from SDK Manager.</p>\n\n<p>AndroidManifest.xml:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n</code></pre>\n\n<p>In the build.grable:</p>\n\n<pre><code>compile 'com.google.android.gms:play-services:+'\n</code></pre>\n\n<p><a href=\"https://gyazo.com/c63e6479b8ad93c390d77f1c1a77efb2\" rel=\"noreferrer\"><img src=\"https://i.gyazo.com/c63e6479b8ad93c390d77f1c1a77efb2.png\" /></a></p>\n"},{"tags":["java","android","arraylist"],"comments":[{"owner":{"account_id":4244675,"reputation":179,"user_id":3473696,"display_name":"Trey50Daniel"},"score":0,"creation_date":1458242837,"post_id":36069886,"comment_id":59785961,"body_markdown":"So you want to be able to send an Arraylist from one class to another, right? What editor are you using?","body":"So you want to be able to send an Arraylist from one class to another, right? What editor are you using?"},{"owner":{"account_id":7465348,"reputation":145,"user_id":5675147,"accept_rate":38,"display_name":"Voly"},"score":0,"creation_date":1458243314,"post_id":36069886,"comment_id":59786295,"body_markdown":"@Trey50Daniel ye that&#39;s basically it, and i&#39;m using Android Studio.","body":"@Trey50Daniel ye that&#39;s basically it, and i&#39;m using Android Studio."},{"owner":{"account_id":4244675,"reputation":179,"user_id":3473696,"display_name":"Trey50Daniel"},"score":0,"creation_date":1458243784,"post_id":36069886,"comment_id":59786590,"body_markdown":"@Voly check my answer post","body":"@Voly check my answer post"}],"answers":[{"tags":[],"owner":{"account_id":4244675,"reputation":179,"user_id":3473696,"display_name":"Trey50Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458243577,"creation_date":1458243577,"answer_id":36070200,"question_id":36069886,"body_markdown":"Here is an example of what I recently used when I needed to send a HashMap from one activity to another:\r\n\r\n    Intent i = new Intent(getApplicationContext(), BillPage.class);\r\n    i.putExtra(&quot;workPriceMap&quot;, (HashMap&lt;String, Float&gt;)workPriceMap);\r\n    startActivity(i);\r\n\r\nAnd then in my other class I used this:\r\n\r\n    private Map&lt;String, Float&gt; workPriceMap;\r\n    workPriceMap=(HashMap&lt;String,Float&gt;intent.getSerializableExtra(&quot;workPriceMap&quot;);","title":"How to create an ArrayList that is accessible by different classes in android?","body":"<p>Here is an example of what I recently used when I needed to send a HashMap from one activity to another:</p>\n\n<pre><code>Intent i = new Intent(getApplicationContext(), BillPage.class);\ni.putExtra(\"workPriceMap\", (HashMap&lt;String, Float&gt;)workPriceMap);\nstartActivity(i);\n</code></pre>\n\n<p>And then in my other class I used this:</p>\n\n<pre><code>private Map&lt;String, Float&gt; workPriceMap;\nworkPriceMap=(HashMap&lt;String,Float&gt;intent.getSerializableExtra(\"workPriceMap\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2259151,"reputation":576,"user_id":1989637,"display_name":"ihsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651377304,"creation_date":1458243916,"answer_id":36070292,"question_id":36069886,"body_markdown":"You can create a singleton class, like below:\r\n\r\n    public class Singleton {\r\n    \t\r\n    \tprivate static Singleton instance;\r\n    \t\r\n    \tprivate List&lt;String&gt; frameList;\r\n    \t\r\n    \tprivate Singleton() {\r\n    \t\tthis.frameList = new ArrayList&lt;String&gt;();\r\n    \t}\r\n    \t\r\n    \tpublic static Singleton getInstance() {\r\n    \t\tif(instance == null)\r\n    \t\t\tinstance = new Singleton();\r\n    \t\t\t\r\n    \t\treturn instance;\r\n    \t}\r\n    \r\n    \tpublic List&lt;String&gt; getList() {\r\n    \t\treturn this.frameList;\r\n    \t}\r\n    \t\r\n    \tpublic void setList(List&lt;String&gt; frameList) {\r\n    \t\tthis.frameList = frameList;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nYou can then access it from any class by:\r\n\r\n    Singleton.getInstance().getList().add(&quot;x&quot;);","title":"How to create an ArrayList that is accessible by different classes in android?","body":"<p>You can create a singleton class, like below:</p>\n<pre><code>public class Singleton {\n    \n    private static Singleton instance;\n    \n    private List&lt;String&gt; frameList;\n    \n    private Singleton() {\n        this.frameList = new ArrayList&lt;String&gt;();\n    }\n    \n    public static Singleton getInstance() {\n        if(instance == null)\n            instance = new Singleton();\n            \n        return instance;\n    }\n\n    public List&lt;String&gt; getList() {\n        return this.frameList;\n    }\n    \n    public void setList(List&lt;String&gt; frameList) {\n        this.frameList = frameList;\n    }\n    \n}\n</code></pre>\n<p>You can then access it from any class by:</p>\n<pre><code>Singleton.getInstance().getList().add(&quot;x&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7254757,"reputation":1882,"user_id":5533820,"accept_rate":0,"display_name":"Arturo Mejia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458244203,"creation_date":1458244203,"answer_id":36070376,"question_id":36069886,"body_markdown":"You could use a singleton method, this way you can have the same reference everywhere.\r\n\r\n\r\n    public  class YourClass {\r\n    \t\r\n        private ArrayList&lt;String&gt; yourList;\r\n    \tprivate  YourClass instance;\r\n    \t\r\n    \tprivate YourClass(){\r\n    \t\tyourList = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t}\r\n    \tpublic static YourClass getInstance(){\r\n    \t\tif(instance == null){\r\n    \t\t\tinstance = new YourClass(); \r\n    \t\t}\r\n    \t\treturn instance;\r\n    \t}\r\n    \t\r\n    \tpublic ArrayList&lt;String&gt; getYourList(){\r\n    \t\treturn this.yourList;\r\n    \t}\r\n    \r\n    } \r\n    \r\n    public class OtherClass{\r\n    \tpublic static void main(String [] args){\r\n    \t\tArrayList&lt;String&gt; yourList  =  YourClass.getInstance().getYourList();\r\n    \t}\r\n    }","title":"How to create an ArrayList that is accessible by different classes in android?","body":"<p>You could use a singleton method, this way you can have the same reference everywhere.</p>\n\n<pre><code>public  class YourClass {\n\n    private ArrayList&lt;String&gt; yourList;\n    private  YourClass instance;\n\n    private YourClass(){\n        yourList = new ArrayList&lt;&gt;();\n\n    }\n    public static YourClass getInstance(){\n        if(instance == null){\n            instance = new YourClass(); \n        }\n        return instance;\n    }\n\n    public ArrayList&lt;String&gt; getYourList(){\n        return this.yourList;\n    }\n\n} \n\npublic class OtherClass{\n    public static void main(String [] args){\n        ArrayList&lt;String&gt; yourList  =  YourClass.getInstance().getYourList();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7465348,"reputation":145,"user_id":5675147,"accept_rate":38,"display_name":"Voly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2059,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1458245217,"answer_count":3,"score":0,"last_activity_date":1651377304,"creation_date":1458242676,"question_id":36069886,"body_markdown":"I got a CameraView class (with an onPreviewFrame) which on each incoming frame calculates a value of 1 or 0 depends on the frame brightness, I want that on each incoming frame the calculated value will be add to an ArrayList.\r\nThe problem begins when I need to read the data that is in the ArrayList from my MainActivity class.\r\n\r\n**How do I create a list that different class can get to?**\r\n\r\nI know it&#39;s relatively simple but i&#39;m new to java/android and trying to wrap my head around how it all works.\r\n","title":"How to create an ArrayList that is accessible by different classes in android?","body":"<p>I got a CameraView class (with an onPreviewFrame) which on each incoming frame calculates a value of 1 or 0 depends on the frame brightness, I want that on each incoming frame the calculated value will be add to an ArrayList.\nThe problem begins when I need to read the data that is in the ArrayList from my MainActivity class.</p>\n\n<p><strong>How do I create a list that different class can get to?</strong></p>\n\n<p>I know it's relatively simple but i'm new to java/android and trying to wrap my head around how it all works.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1651363380,"post_id":72071667,"comment_id":127347535,"body_markdown":"Can you show us the whole BSTMapping class?","body":"Can you show us the whole BSTMapping class?"}],"answers":[{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651373054,"creation_date":1651373054,"answer_id":72073651,"question_id":72071667,"body_markdown":"When removing root, `remove(K key, Node current)` never reaches the bottom where it would assign a node to `current.left` or `current.right`.  You can address this in `remove(key)` by assigning directly to the `root` variable when appropriate.\r\n\r\n    public V remove(K key) {\r\n        Node node = remove(key, root);\r\n        if (root.key.equals(key)) {\r\n           root=node;\r\n        }\r\n        return node.value;\r\n    }","title":"Can&#39;t remove root node in Binary Search Tree","body":"<p>When removing root, <code>remove(K key, Node current)</code> never reaches the bottom where it would assign a node to <code>current.left</code> or <code>current.right</code>.  You can address this in <code>remove(key)</code> by assigning directly to the <code>root</code> variable when appropriate.</p>\n<pre><code>public V remove(K key) {\n    Node node = remove(key, root);\n    if (root.key.equals(key)) {\n       root=node;\n    }\n    return node.value;\n}\n</code></pre>\n"}],"owner":{"account_id":18814207,"reputation":13,"user_id":13721739,"display_name":"MicroCosmos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72073651,"answer_count":1,"score":1,"last_activity_date":1651373054,"creation_date":1651347939,"question_id":72071667,"body_markdown":"I&#39;m trying to remove the root of my binary search tree so I can update it&#39;s value, but this method can&#39;t do it. My idea is to remove the root, and then insert it again in the binary search tree but with another value. It works with every Node in the tree, but not the root cause I cannot delete it. Anyone knows why this happens? Thanks.\r\n\r\n    public V remove(K key) {\r\n        Node node = remove(key, root);\r\n        return node.value;\r\n    }\r\n\r\n    private Node remove(K key, Node current) {\r\n        if (current == null) { \r\n            return null;\r\n        }\r\n        if (current.key.equals(key)) { \r\n            \r\n            if (current.left == null &amp;&amp; current.right == null) {\r\n                return null;\r\n            } \r\n            else if (current.left == null &amp;&amp; current.right != null) {\r\n                return current.right;\r\n            } else if (current.left != null &amp;&amp; current.right == null) {\r\n                return current.left;\r\n            } else {\r\n                Node plowest = current.right;\r\n                Node parent = current;\r\n                while (plowest.left != null) {\r\n                    parent = plowest;\r\n                    plowest = plowest.left;\r\n                }\r\n                plowest.left = current.left;\r\n                if (plowest != current.right) {\r\n                    parent.left = plowest.right;\r\n                    plowest.right = current.right;\r\n                }\r\n                return plowest;\r\n            }\r\n        }\r\n        if (key.compareTo(current.key) &lt; 0) { // Subarbre esquerra\r\n            current.left = remove(key, current.left);                                   \r\n        } else {// Subarbre dret\r\n            current.right = remove(key, current.right);\r\n        }\r\n        return current;\r\n    }\r\n\r\nAnd this is the main code where I call the method to delete any Node, in this case I would like to delete the root.\r\n\r\n    public static void main(String[] args) {\r\n\r\n        BSTMapping&lt;String, Integer&gt; arbre = new BSTMapping();\r\n        arbre.put(&quot;G&quot;, 4);\r\n        arbre.put(&quot;A&quot;, 1);\r\n        arbre.put(&quot;C&quot;, 2);\r\n\r\n        arbre.remove(&quot;G&quot;);\r\n  \r\n        Iterator it = arbre.iterator();\r\n        while (it.hasNext()) {\r\n            BSTMapping.Pair p = (BSTMapping.Pair) it.next();\r\n            System.out.println(p.getKey() + &quot; - &quot; + p.getValue());\r\n        }\r\n\r\n         \r\n    }","title":"Can&#39;t remove root node in Binary Search Tree","body":"<p>I'm trying to remove the root of my binary search tree so I can update it's value, but this method can't do it. My idea is to remove the root, and then insert it again in the binary search tree but with another value. It works with every Node in the tree, but not the root cause I cannot delete it. Anyone knows why this happens? Thanks.</p>\n<pre><code>public V remove(K key) {\n    Node node = remove(key, root);\n    return node.value;\n}\n\nprivate Node remove(K key, Node current) {\n    if (current == null) { \n        return null;\n    }\n    if (current.key.equals(key)) { \n        \n        if (current.left == null &amp;&amp; current.right == null) {\n            return null;\n        } \n        else if (current.left == null &amp;&amp; current.right != null) {\n            return current.right;\n        } else if (current.left != null &amp;&amp; current.right == null) {\n            return current.left;\n        } else {\n            Node plowest = current.right;\n            Node parent = current;\n            while (plowest.left != null) {\n                parent = plowest;\n                plowest = plowest.left;\n            }\n            plowest.left = current.left;\n            if (plowest != current.right) {\n                parent.left = plowest.right;\n                plowest.right = current.right;\n            }\n            return plowest;\n        }\n    }\n    if (key.compareTo(current.key) &lt; 0) { // Subarbre esquerra\n        current.left = remove(key, current.left);                                   \n    } else {// Subarbre dret\n        current.right = remove(key, current.right);\n    }\n    return current;\n}\n</code></pre>\n<p>And this is the main code where I call the method to delete any Node, in this case I would like to delete the root.</p>\n<pre><code>public static void main(String[] args) {\n\n    BSTMapping&lt;String, Integer&gt; arbre = new BSTMapping();\n    arbre.put(&quot;G&quot;, 4);\n    arbre.put(&quot;A&quot;, 1);\n    arbre.put(&quot;C&quot;, 2);\n\n    arbre.remove(&quot;G&quot;);\n\n    Iterator it = arbre.iterator();\n    while (it.hasNext()) {\n        BSTMapping.Pair p = (BSTMapping.Pair) it.next();\n        System.out.println(p.getKey() + &quot; - &quot; + p.getValue());\n    }\n\n     \n}\n</code></pre>\n"},{"tags":["java","android-canvas"],"answers":[{"tags":[],"owner":{"account_id":10102965,"reputation":11,"user_id":7466467,"display_name":"Arlak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651370869,"creation_date":1651370869,"answer_id":72073520,"question_id":68508200,"body_markdown":"Yes, there is a better way, Use Spannables and setSpan from and to indices of the text address and addressData. \r\nYou can create spans for each of the ways you to style parts of the text.\r\n[Span Help][1]\r\n\r\n\r\n  [1]: https://medium.com/androiddevelopers/spantastic-text-styling-with-spans-17b0c16b4568","title":"Canvas center two different paints drawText align with each other","body":"<p>Yes, there is a better way, Use Spannables and setSpan from and to indices of the text address and addressData.\nYou can create spans for each of the ways you to style parts of the text.\n<a href=\"https://medium.com/androiddevelopers/spantastic-text-styling-with-spans-17b0c16b4568\" rel=\"nofollow noreferrer\">Span Help</a></p>\n"}],"owner":{"account_id":22287868,"reputation":1,"user_id":16515209,"display_name":"Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651370869,"creation_date":1627114666,"question_id":68508200,"body_markdown":"First of all really sorry for my English. I am new to android studio. I want to center two different canvas drawText align with each other. Currently, I just set an X-direction position to both the text but if changing texts then they are overlapping. Below is the code. Hope it will make some clearance. \r\n\r\n``` \r\nPaint address= new Paint();\r\naddress.setTextAlign(Paint.Align.LEFT);\r\naddress.setTypeface(Typeface.create(Typeface.DEFAULT, Typeface.BOLD));\r\naddress.setTextSize(TEXTSIZE);\r\ncanvas.drawText(&quot;Address:&quot;, (canvas.getWidth() / 2 - 50), 45, address);\r\n\r\n// Get the user address\r\nPaint addressData = new Paint();\r\naddressData.setTextAlign(Paint.Align.LEFT);\r\naddressData.setColor(Color.rgb(112, 119, 119));\r\naddressData.setTypeface(Typeface.create(Typeface.DEFAULT,Typeface.NORMAL));\r\naddressData.setTextSize(TEXTSIZE);\r\ncanvas.drawText(&quot;User address data(varying)&quot;, (canvas.getWidth() / 2), 45, addressData);\r\n```\r\n\r\nIf there is any other way to do it please do let me know. Thanks in advance.\r\n","title":"Canvas center two different paints drawText align with each other","body":"<p>First of all really sorry for my English. I am new to android studio. I want to center two different canvas drawText align with each other. Currently, I just set an X-direction position to both the text but if changing texts then they are overlapping. Below is the code. Hope it will make some clearance.</p>\n<pre><code>Paint address= new Paint();\naddress.setTextAlign(Paint.Align.LEFT);\naddress.setTypeface(Typeface.create(Typeface.DEFAULT, Typeface.BOLD));\naddress.setTextSize(TEXTSIZE);\ncanvas.drawText(&quot;Address:&quot;, (canvas.getWidth() / 2 - 50), 45, address);\n\n// Get the user address\nPaint addressData = new Paint();\naddressData.setTextAlign(Paint.Align.LEFT);\naddressData.setColor(Color.rgb(112, 119, 119));\naddressData.setTypeface(Typeface.create(Typeface.DEFAULT,Typeface.NORMAL));\naddressData.setTextSize(TEXTSIZE);\ncanvas.drawText(&quot;User address data(varying)&quot;, (canvas.getWidth() / 2), 45, addressData);\n</code></pre>\n<p>If there is any other way to do it please do let me know. Thanks in advance.</p>\n"},{"tags":["java","algorithm","greedy"],"comments":[{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":0,"creation_date":1651365449,"post_id":72072820,"comment_id":127347744,"body_markdown":"So what is your actual question?","body":"So what is your actual question?"},{"owner":{"account_id":19595765,"reputation":1,"user_id":14341839,"display_name":"snaigy"},"score":0,"creation_date":1651368095,"post_id":72072820,"comment_id":127348015,"body_markdown":"I am trying to implement a greedy method within the heap class that has uses items with  capacity, ID, value, and weight parameters in order to solve a knapsack problem.","body":"I am trying to implement a greedy method within the heap class that has uses items with  capacity, ID, value, and weight parameters in order to solve a knapsack problem."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1651368880,"post_id":72072820,"comment_id":127348096,"body_markdown":"That&#39;s not a question, that&#39;s something you&#39;re trying to do.  A question might be something like &quot;what is wrong with this max heap class?&quot; or &quot;why is this code not compiling?&quot;","body":"That&#39;s not a question, that&#39;s something you&#39;re trying to do.  A question might be something like &quot;what is wrong with this max heap class?&quot; or &quot;why is this code not compiling?&quot;"}],"owner":{"account_id":19595765,"reputation":1,"user_id":14341839,"display_name":"snaigy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651368185,"creation_date":1651359922,"question_id":72072820,"body_markdown":"```\r\npublic class MaxHeap {\r\n\r\n    class Item{\r\nprivate double weight;\r\nprivate int value;\r\nprivate int ID;\r\nprivate double factor;\r\n\r\npublic Item(double weight, int value, int id, double factor){\r\nthis.weight = weight;\r\nthis.value = value;\r\nthis.ID = id;\r\nthis.factor = factor;\r\n}\r\n\r\npublic double getWeight() {\r\nreturn weight;\r\n}\r\n\r\npublic void setWeight(double weight) {\r\nthis.weight = weight;\r\n}\r\n\r\npublic int getValue() {\r\nreturn value;\r\n}\r\n\r\npublic void setValue(int value) {\r\nthis.value = value;\r\n}\r\n\r\npublic int getID() {\r\nreturn ID;\r\n}\r\n\r\npublic void setID(int ID) {\r\nthis.ID = ID;\r\n}\r\n\r\npublic double getFactor() {\r\nreturn factor;\r\n}\r\n\r\npublic void setFactor(double factor) {\r\nthis.factor = factor;\r\n}\r\n}\r\n \r\n\r\n  private int[] Heap;\r\n    private int size;\r\n    private int maxsize;\r\n \r\n    // Constructor to initialize an\r\n    // empty max heap with given maximum\r\n    // capacity\r\n    public MaxHeap(int maxsize)\r\n    {\r\n        // This keyword refers to current instance itself\r\n        this.maxsize = maxsize;\r\n        this.size = 0;\r\n        Heap = new int[this.maxsize];\r\n    }\r\n \r\n    // Method 1\r\n    // Returning position of parent\r\n    private int parent(int pos) { return (pos - 1) / 2; }\r\n \r\n    // Method 2\r\n    // Returning left children\r\n    private int leftChild(int pos) { return (2 * pos) + 1; }\r\n \r\n    // Method 3\r\n    // Returning right children\r\n    private int rightChild(int pos){ return (2 * pos) + 2; }\r\n \r\n    // Method 4\r\n    // Returning true of given node is leaf\r\n    private boolean isLeaf(int pos)\r\n    {\r\n        if (pos &gt; (size / 2) &amp;&amp; pos &lt;= size) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n \r\n    // Method 5\r\n    // Swapping nodes\r\n    private void swap(int fpos, int spos)\r\n    {\r\n        int tmp;\r\n        tmp = Heap[fpos];\r\n        Heap[fpos] = Heap[spos];\r\n        Heap[spos] = tmp;\r\n    }\r\n \r\n    // Method 6\r\n    // Recursive function to max heapify given subtree\r\n    private void maxHeapify(int pos)\r\n    {\r\n        if (isLeaf(pos))\r\n            return;\r\n \r\n        if (Heap[pos] &lt; Heap[leftChild(pos)]\r\n            || Heap[pos] &lt; Heap[rightChild(pos)]) {\r\n \r\n            if (Heap[leftChild(pos)]\r\n                &gt; Heap[rightChild(pos)]) {\r\n                swap(pos, leftChild(pos));\r\n                maxHeapify(leftChild(pos));\r\n            }\r\n            else {\r\n                swap(pos, rightChild(pos));\r\n                maxHeapify(rightChild(pos));\r\n            }\r\n        }\r\n    }\r\n \r\n    // Method 7\r\n    // Inserts a new element to max heap\r\n    public void insert(double weight, int value, int id)\r\n    {\r\n        Heap[size] = value;\r\n \r\n        // Traverse up and fix violated property\r\n        int current = size;\r\n        while (Heap[current] &gt; Heap[parent(current)]) {\r\n            swap(current, parent(current));\r\n            current = parent(current);\r\n        }\r\n        size++;\r\n    }\r\n \r\n    // Method 8\r\n    // To display heap\r\n   \r\n \r\n\r\n    public int extractMax()\r\n    {\r\n        int popped = Heap[0];\r\n        Heap[0] = Heap[size--];\r\n        maxHeapify(0);\r\n        return popped;\r\n    }\r\n    \r\n \r\n\r\n    public static void main(String[] arg)\r\n    {\r\n\r\n \r\n        MaxHeap maxHeap = new MaxHeap(67);\r\n \r\n        // Inserting nodes\r\n        // Custom inputs\r\n        maxHeap.insert(23,505,0);\r\n        maxHeap.insert(26,352,1);\r\n        maxHeap.insert(20,458,2);\r\n        maxHeap.insert(18,220,3);\r\n        maxHeap.insert(32,354,4);\r\n        maxHeap.insert(27,414,5);\r\n        maxHeap.insert(29,498,6);\r\n        maxHeap.insert(26,545,7);\r\n        maxHeap.insert(30,473,8);\r\n        maxHeap.insert(27,543,9);\r\n       \r\n        maxHeap.print();\r\n \r\n        \r\n        System.out.println(&quot;The max val is &quot;\r\n                           + maxHeap.extractMax());\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n        // TODO code application logic here\r\n    }\r\n    \r\n}\r\n```\r\nI was tasked with trying to create a max heap and and item class and implement the two in solving a basic knapsack problem. I have been playing around with it and I cannot figure out how I can use my max heap class and item class in order to create a greedy algorithm. Any help is appreciated. I am also not sure how necessary the &quot;knapsack&quot; class is as I had just taken that from geeksforgeeks and was trying to take bits and pieces and implement it into mine. Apologies if this is too much code. ","title":"How to Implement Max Heaps and Item Class To Create Greedy Algorithm?","body":"<pre><code>public class MaxHeap {\n\n    class Item{\nprivate double weight;\nprivate int value;\nprivate int ID;\nprivate double factor;\n\npublic Item(double weight, int value, int id, double factor){\nthis.weight = weight;\nthis.value = value;\nthis.ID = id;\nthis.factor = factor;\n}\n\npublic double getWeight() {\nreturn weight;\n}\n\npublic void setWeight(double weight) {\nthis.weight = weight;\n}\n\npublic int getValue() {\nreturn value;\n}\n\npublic void setValue(int value) {\nthis.value = value;\n}\n\npublic int getID() {\nreturn ID;\n}\n\npublic void setID(int ID) {\nthis.ID = ID;\n}\n\npublic double getFactor() {\nreturn factor;\n}\n\npublic void setFactor(double factor) {\nthis.factor = factor;\n}\n}\n \n\n  private int[] Heap;\n    private int size;\n    private int maxsize;\n \n    // Constructor to initialize an\n    // empty max heap with given maximum\n    // capacity\n    public MaxHeap(int maxsize)\n    {\n        // This keyword refers to current instance itself\n        this.maxsize = maxsize;\n        this.size = 0;\n        Heap = new int[this.maxsize];\n    }\n \n    // Method 1\n    // Returning position of parent\n    private int parent(int pos) { return (pos - 1) / 2; }\n \n    // Method 2\n    // Returning left children\n    private int leftChild(int pos) { return (2 * pos) + 1; }\n \n    // Method 3\n    // Returning right children\n    private int rightChild(int pos){ return (2 * pos) + 2; }\n \n    // Method 4\n    // Returning true of given node is leaf\n    private boolean isLeaf(int pos)\n    {\n        if (pos &gt; (size / 2) &amp;&amp; pos &lt;= size) {\n            return true;\n        }\n        return false;\n    }\n \n    // Method 5\n    // Swapping nodes\n    private void swap(int fpos, int spos)\n    {\n        int tmp;\n        tmp = Heap[fpos];\n        Heap[fpos] = Heap[spos];\n        Heap[spos] = tmp;\n    }\n \n    // Method 6\n    // Recursive function to max heapify given subtree\n    private void maxHeapify(int pos)\n    {\n        if (isLeaf(pos))\n            return;\n \n        if (Heap[pos] &lt; Heap[leftChild(pos)]\n            || Heap[pos] &lt; Heap[rightChild(pos)]) {\n \n            if (Heap[leftChild(pos)]\n                &gt; Heap[rightChild(pos)]) {\n                swap(pos, leftChild(pos));\n                maxHeapify(leftChild(pos));\n            }\n            else {\n                swap(pos, rightChild(pos));\n                maxHeapify(rightChild(pos));\n            }\n        }\n    }\n \n    // Method 7\n    // Inserts a new element to max heap\n    public void insert(double weight, int value, int id)\n    {\n        Heap[size] = value;\n \n        // Traverse up and fix violated property\n        int current = size;\n        while (Heap[current] &gt; Heap[parent(current)]) {\n            swap(current, parent(current));\n            current = parent(current);\n        }\n        size++;\n    }\n \n    // Method 8\n    // To display heap\n   \n \n\n    public int extractMax()\n    {\n        int popped = Heap[0];\n        Heap[0] = Heap[size--];\n        maxHeapify(0);\n        return popped;\n    }\n    \n \n\n    public static void main(String[] arg)\n    {\n\n \n        MaxHeap maxHeap = new MaxHeap(67);\n \n        // Inserting nodes\n        // Custom inputs\n        maxHeap.insert(23,505,0);\n        maxHeap.insert(26,352,1);\n        maxHeap.insert(20,458,2);\n        maxHeap.insert(18,220,3);\n        maxHeap.insert(32,354,4);\n        maxHeap.insert(27,414,5);\n        maxHeap.insert(29,498,6);\n        maxHeap.insert(26,545,7);\n        maxHeap.insert(30,473,8);\n        maxHeap.insert(27,543,9);\n       \n        maxHeap.print();\n \n        \n        System.out.println(&quot;The max val is &quot;\n                           + maxHeap.extractMax());\n    }\n}\n\n\n\n\n    public static void main(String[] args) {\n        // TODO code application logic here\n    }\n    \n}\n</code></pre>\n<p>I was tasked with trying to create a max heap and and item class and implement the two in solving a basic knapsack problem. I have been playing around with it and I cannot figure out how I can use my max heap class and item class in order to create a greedy algorithm. Any help is appreciated. I am also not sure how necessary the &quot;knapsack&quot; class is as I had just taken that from geeksforgeeks and was trying to take bits and pieces and implement it into mine. Apologies if this is too much code.</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1651367715,"post_id":72073336,"comment_id":127347984,"body_markdown":"I&#39;m not sure what you mean by &quot;mirrors&quot;, but there is one glaring error here, `maze[x][y] == &quot;.&quot;`, although I&#39;m not sure if it is the cause of your problems. Regardless, don&#39;t compare Strings using `==` or `!=`. Use the `equals(...)` or the `equalsIgnoreCase(...)` method instead. Understand that `==` checks if the two *object references* are the same which is not what you&#39;re interested in. The methods on the other hand check if the two Strings have the same characters in the same order, and that&#39;s what matters here.","body":"I&#39;m not sure what you mean by &quot;mirrors&quot;, but there is one glaring error here, <code>maze[x][y] == &quot;.&quot;</code>, although I&#39;m not sure if it is the cause of your problems. Regardless, don&#39;t compare Strings using <code>==</code> or <code>!=</code>. Use the <code>equals(...)</code> or the <code>equalsIgnoreCase(...)</code> method instead. Understand that <code>==</code> checks if the two <i>object references</i> are the same which is not what you&#39;re interested in. The methods on the other hand check if the two Strings have the same characters in the same order, and that&#39;s what matters here."}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651368029,"creation_date":1651368029,"answer_id":72073357,"question_id":72073336,"body_markdown":"I think you just need to add a second `if` inside the loop.  I assume you&#39;re adding the &quot;mirrors&quot; in pairs.\r\n\r\n    // Deploying mirrors randomly within the maze\r\n    for (int i = 1; i &lt;= usersMirrors;) {\r\n        int x = (int)(Math.random() * numRows);\r\n        int y = (int)(Math.random() * numCols);\r\n\r\n        if((x &gt;= 0 &amp;&amp; x &lt; numRows) &amp;&amp; (y &gt;= 0 &amp;&amp; y &lt; numCols) &amp;&amp; (maze[x][y].equals( &quot;.&quot; ) )) {\r\n            maze[x][y] = &quot;\\\\&quot;;\r\n            i++;\r\n        }\r\n\r\n        x = (int)(Math.random() * numRows);\r\n        y = (int)(Math.random() * numCols);\r\n\r\n        if((x &gt;= 0 &amp;&amp; x &lt; numRows) &amp;&amp; (y &gt;= 0 &amp;&amp; y &lt; numCols) &amp;&amp; (maze[x][y].equals( &quot;.&quot; ) )) {\r\n            maze[x][y] = &quot;/&quot;;\r\n        }\r\n    }","title":"Adding more than 1 thing into a Java Array","body":"<p>I think you just need to add a second <code>if</code> inside the loop.  I assume you're adding the &quot;mirrors&quot; in pairs.</p>\n<pre><code>// Deploying mirrors randomly within the maze\nfor (int i = 1; i &lt;= usersMirrors;) {\n    int x = (int)(Math.random() * numRows);\n    int y = (int)(Math.random() * numCols);\n\n    if((x &gt;= 0 &amp;&amp; x &lt; numRows) &amp;&amp; (y &gt;= 0 &amp;&amp; y &lt; numCols) &amp;&amp; (maze[x][y].equals( &quot;.&quot; ) )) {\n        maze[x][y] = &quot;\\\\&quot;;\n        i++;\n    }\n\n    x = (int)(Math.random() * numRows);\n    y = (int)(Math.random() * numCols);\n\n    if((x &gt;= 0 &amp;&amp; x &lt; numRows) &amp;&amp; (y &gt;= 0 &amp;&amp; y &lt; numCols) &amp;&amp; (maze[x][y].equals( &quot;.&quot; ) )) {\n        maze[x][y] = &quot;/&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22885208,"reputation":3,"user_id":17026191,"display_name":"Zoey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72073357,"answer_count":1,"score":-1,"last_activity_date":1651368174,"creation_date":1651367631,"question_id":72073336,"body_markdown":"For this program, I am supposed to add two different kinds of &#39;mirrors&#39; (the forward and backward slashes represent mirrors in my game) which is &#39;/&#39; and &#39;\\\\&#39;. I have successfully added the first set of slashes into my maze array but I can&#39;t seem to figure out how to add both of the different slashes at the same time.\r\n\r\n    public static void placeMirrors(){\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        // Promopting user for how many mirrors they want\r\n        System.out.print(&quot;\\nHow many mirrors do you want in your maze?&quot;);\r\n        System.out.print(&quot;The maximum number of mirrors you can have is 8. The minimum is 2.\\n&quot;);\r\n        int usersMirrors = input.nextInt();\r\n\r\n        // Deploying mirrors randomly within the maze\r\n        for (int i = 1; i &lt;= usersMirrors;) {\r\n            int x = (int)(Math.random() * numRows);\r\n            int y = (int)(Math.random() * numCols);\r\n\r\n            // *FIGURE OUT ADDING BOTH SETS AT ONCE THING*\r\n            if((x &gt;= 0 &amp;&amp; x &lt; numRows) &amp;&amp; (y &gt;= 0 &amp;&amp; y &lt; numCols) &amp;&amp; (maze[x][y] == &quot;.&quot;)) {\r\n                maze[x][y] = &quot;\\\\&quot;;\r\n                i++;\r\n            }\r\n        }\r\n        System.out.println(&quot;Mirrors placed.&quot;);\r\n    }","title":"Adding more than 1 thing into a Java Array","body":"<p>For this program, I am supposed to add two different kinds of 'mirrors' (the forward and backward slashes represent mirrors in my game) which is '/' and '\\'. I have successfully added the first set of slashes into my maze array but I can't seem to figure out how to add both of the different slashes at the same time.</p>\n<pre><code>public static void placeMirrors(){\n    Scanner input = new Scanner(System.in);\n\n    // Promopting user for how many mirrors they want\n    System.out.print(&quot;\\nHow many mirrors do you want in your maze?&quot;);\n    System.out.print(&quot;The maximum number of mirrors you can have is 8. The minimum is 2.\\n&quot;);\n    int usersMirrors = input.nextInt();\n\n    // Deploying mirrors randomly within the maze\n    for (int i = 1; i &lt;= usersMirrors;) {\n        int x = (int)(Math.random() * numRows);\n        int y = (int)(Math.random() * numCols);\n\n        // *FIGURE OUT ADDING BOTH SETS AT ONCE THING*\n        if((x &gt;= 0 &amp;&amp; x &lt; numRows) &amp;&amp; (y &gt;= 0 &amp;&amp; y &lt; numCols) &amp;&amp; (maze[x][y] == &quot;.&quot;)) {\n            maze[x][y] = &quot;\\\\&quot;;\n            i++;\n        }\n    }\n    System.out.println(&quot;Mirrors placed.&quot;);\n}\n</code></pre>\n"},{"tags":["java","android","xml","size","drawable"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1651361769,"post_id":72072937,"comment_id":127347395,"body_markdown":"What is your `minSdkVersion`?","body":"What is your <code>minSdkVersion</code>?"},{"owner":{"account_id":11789652,"reputation":1,"user_id":14211423,"display_name":"Ragnarok"},"score":0,"creation_date":1651362084,"post_id":72072937,"comment_id":127347430,"body_markdown":"The minSdkVersion is 18.","body":"The minSdkVersion is 18."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1651362594,"post_id":72072937,"comment_id":127347471,"body_markdown":"See https://developer.android.com/guide/topics/graphics/vector-drawable-resources#vector-drawables-backward-solution and try following those instructions for updating your Gradle settings. Vector drawables only work natively on Android 5.0 (API Level 21) and higher. If you want to support older devices than that, either Android Studio will generate PNGs for you (which you do not like), or you will need to switch to the alternative backwards-compatible solution covered in that documentation.","body":"See <a href=\"https://developer.android.com/guide/topics/graphics/vector-drawable-resources#vector-drawables-backward-solution\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/graphics/&hellip;</a> and try following those instructions for updating your Gradle settings. Vector drawables only work natively on Android 5.0 (API Level 21) and higher. If you want to support older devices than that, either Android Studio will generate PNGs for you (which you do not like), or you will need to switch to the alternative backwards-compatible solution covered in that documentation."},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1651392104,"post_id":72072937,"comment_id":127350569,"body_markdown":"you can use proguard rules to reduce app size.","body":"you can use proguard rules to reduce app size."},{"owner":{"account_id":11789652,"reputation":1,"user_id":14211423,"display_name":"Ragnarok"},"score":0,"creation_date":1651627699,"post_id":72072937,"comment_id":127406834,"body_markdown":"I got it right.","body":"I got it right."}],"owner":{"account_id":11789652,"reputation":1,"user_id":14211423,"display_name":"Ragnarok"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651367780,"creation_date":1651361450,"question_id":72072937,"body_markdown":"The size of my app is larger than I expected, all my drawble are 95% .SVG and are converted to XML in Android studio. When I did APK analyzer it shows xxhdpi-v4 take up most of the size and inside is .PNG generated. How do prevent android studio from generating this drawables directories.\r\n\r\n**APK analyser :**\r\n\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/R3xX6.jpg&quot; width=&quot;850&quot;/&gt;","title":"Android Studio drawable xxhdpi-v4","body":"<p>The size of my app is larger than I expected, all my drawble are 95% .SVG and are converted to XML in Android studio. When I did APK analyzer it shows xxhdpi-v4 take up most of the size and inside is .PNG generated. How do prevent android studio from generating this drawables directories.</p>\n<p><strong>APK analyser :</strong></p>\n<img src=\"https://i.stack.imgur.com/R3xX6.jpg\" width=\"850\"/>\n"},{"tags":["java","reactjs","spring-boot","maven","webpack"],"comments":[{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1650820875,"post_id":71982946,"comment_id":127207747,"body_markdown":"I&#39;m new with React, have only used it in tutorials where it is a client for spring microservices. The React-based page in these tutorials always runs via its own server, e.g., requiring &quot;nmp start&quot; command. Does Spring Boot w/Thymeleaf need to do anything extra for the React code to run? (Am looking forward to learning about this.) Perhaps your &quot;Library&quot; header displayed because it is simple, well-formed html and the other react-based parts of the page threw errors and were ignored? Have you checked the page using &lt;F12&gt; developer tool?","body":"I&#39;m new with React, have only used it in tutorials where it is a client for spring microservices. The React-based page in these tutorials always runs via its own server, e.g., requiring &quot;nmp start&quot; command. Does Spring Boot w/Thymeleaf need to do anything extra for the React code to run? (Am looking forward to learning about this.) Perhaps your &quot;Library&quot; header displayed because it is simple, well-formed html and the other react-based parts of the page threw errors and were ignored? Have you checked the page using &lt;F12&gt; developer tool?"},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1650821417,"post_id":71982946,"comment_id":127207864,"body_markdown":"I did a search on &quot;react thymeleaf&quot; and the lack of results has me wondering if the two are even very compatible. There would be more tutorials combining the two if they were, I would think.","body":"I did a search on &quot;react thymeleaf&quot; and the lack of results has me wondering if the two are even very compatible. There would be more tutorials combining the two if they were, I would think."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1650828098,"post_id":71982946,"comment_id":127209447,"body_markdown":"React by itself is just a Javascript library that sits in your browser after loading a HTML page that instructed it to load that javascript code. After bundling it via i.e. Webpack you should have a js file somewhere which you can load as any other typical JS file/library within your page. Therefore what you are looking for is probably something along the lines of [this](https://www.baeldung.com/spring-thymeleaf-css-js)","body":"React by itself is just a Javascript library that sits in your browser after loading a HTML page that instructed it to load that javascript code. After bundling it via i.e. Webpack you should have a js file somewhere which you can load as any other typical JS file/library within your page. Therefore what you are looking for is probably something along the lines of <a href=\"https://www.baeldung.com/spring-thymeleaf-css-js\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":18295839,"reputation":199,"user_id":13321797,"display_name":"TeaDrinker"},"score":1,"creation_date":1651357604,"post_id":71982946,"comment_id":127346824,"body_markdown":"@PhilFreihofner You are correct, the react application can be run on its own server. Typically on port 3000. Thymeleaf&#39;s main goal, and I&#39;m quoting from the Thymeleaf site, _&quot;to bring elegant natural templates to your development workflow — HTML that can be correctly displayed in browsers and also work as static prototypes, allowing for stronger collaboration in development teams.&quot;_ I was given to understand that this meant that Thymeleaf was used to act as a sort of hypervisor that allows a React application to work when not hosted directly from NPM. I was mistaken.","body":"@PhilFreihofner You are correct, the react application can be run on its own server. Typically on port 3000. Thymeleaf&#39;s main goal, and I&#39;m quoting from the Thymeleaf site, <i>&quot;to bring elegant natural templates to your development workflow — HTML that can be correctly displayed in browsers and also work as static prototypes, allowing for stronger collaboration in development teams.&quot;</i> I was given to understand that this meant that Thymeleaf was used to act as a sort of hypervisor that allows a React application to work when not hosted directly from NPM. I was mistaken."},{"owner":{"account_id":18295839,"reputation":199,"user_id":13321797,"display_name":"TeaDrinker"},"score":0,"creation_date":1651357837,"post_id":71982946,"comment_id":127346868,"body_markdown":"@PhilFreihofner The more and more I researched this problem. The more and more I agree with you. I&#39;ve dropped Thymeleaf as well as WebPack from my project. More details in the answer.","body":"@PhilFreihofner The more and more I researched this problem. The more and more I agree with you. I&#39;ve dropped Thymeleaf as well as WebPack from my project. More details in the answer."},{"owner":{"account_id":18295839,"reputation":199,"user_id":13321797,"display_name":"TeaDrinker"},"score":0,"creation_date":1651358057,"post_id":71982946,"comment_id":127346913,"body_markdown":"@RomanVottner React &quot;sitting&quot; in the server was the core detail that I missed. The process of bundling was working correctly, I did have a **bundle.js** file after Webpack was finished running and when I clicked on its associated **index.html** file, the react application would open in a browser exactly like I expected. &lt;br/&gt;I&#39;ve dropped Thymeleaf for the time being along with Webpack and automated the process myself and now things work as I expect them too. I&#39;ll have more details in the answer section.","body":"@RomanVottner React &quot;sitting&quot; in the server was the core detail that I missed. The process of bundling was working correctly, I did have a <b>bundle.js</b> file after Webpack was finished running and when I clicked on its associated <b>index.html</b> file, the react application would open in a browser exactly like I expected. &lt;br/&gt;I&#39;ve dropped Thymeleaf for the time being along with Webpack and automated the process myself and now things work as I expect them too. I&#39;ll have more details in the answer section."}],"answers":[{"tags":[],"owner":{"account_id":18295839,"reputation":199,"user_id":13321797,"display_name":"TeaDrinker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651367671,"creation_date":1651360277,"answer_id":72072841,"question_id":71982946,"body_markdown":"Okay, so after a week of thinking this problem over, (I stopped for a time because of intense frustration) I&#39;ve worked out a way that I feel to be much better.\r\n\r\nPart of the solution was to drop both Thymeleaf and Webpack. The other was an extensive restructure of the project.\r\n\r\nI&#39;ve broken the larger project up into two separate domains. One for the Frontend and the other for the Backend. \r\n\r\nFile Structure:\r\n=============\r\n```\r\n+-- Website\r\n\t+-- \\Backend\r\n\t\t+-- \\src\r\n\t\t\t+-- \\main\r\n\t\t\t\t+-- \\java\r\n\t\t\t\t+-- \\resources\r\n\t\t\t+-- \\test\r\n\t\t+-- \\target\r\n\t\t\t+-- \\classes\r\n\t\t\t\t+-- \\static\r\n\t\t+-- pom.xml\r\n\t+-- \\Frontend\r\n\t\t+-- \\build\r\n\t\t+-- \\public\r\n\t\t+-- \\src\r\n\t\t+-- package.json\r\n\t\t+-- build.bat\r\n\t\t+-- build_script.ps1\r\n```\r\n\r\nA standard **npm run build** command will create all the files needed to host a react application on a Spring Boot server. Webpack is not a requirement and by extension, neither is Thymeleaf. All that&#39;s required is to then copy/paste the resulting files from the **\\Frontend\\build** folder into the **\\Backend\\target\\classes\\static** folder. I created a Powershell file called **build_script.ps1** that runs the build script for the react application and then copys the newly built files into the intended folder on the backend. The **build.bat** file simply runs the Powershell file without me needing to type a lot into command prompt.\r\n\r\nbuild_script.ps1:\r\n================\r\n```\r\n#Variables\r\n$Directory = &quot;{dir}\\LibraryWebsite\\Frontend&quot;\r\n$sourceDirectory = &quot;{dir}\\LibraryWebsite\\Frontend\\build\\*&quot;\r\n$targetDirectory = &quot;{dir}\\LibraryWebsite\\Backend\\target\\classes\\static&quot;\r\n\r\n#test\r\n\r\n#Build the application and then copy it to the server&#39;s \r\ncd $Directory\r\nnpm run-script build\r\nCopy-Item -Force -Recurse $sourceDirectory -Destination $targetDirectory\r\n```\r\n\r\nAll of this results in a much cleaner program structure and no meaningful increase in my workload. Everything is done with ./build.\r\n\r\nI may return to Thymeleaf at some point in the future (If I hate myself) but this meets my needs for the time being.","title":"Spring Boot Server not loading React webpage","body":"<p>Okay, so after a week of thinking this problem over, (I stopped for a time because of intense frustration) I've worked out a way that I feel to be much better.</p>\n<p>Part of the solution was to drop both Thymeleaf and Webpack. The other was an extensive restructure of the project.</p>\n<p>I've broken the larger project up into two separate domains. One for the Frontend and the other for the Backend.</p>\n<h1>File Structure:</h1>\n<pre><code>+-- Website\n    +-- \\Backend\n        +-- \\src\n            +-- \\main\n                +-- \\java\n                +-- \\resources\n            +-- \\test\n        +-- \\target\n            +-- \\classes\n                +-- \\static\n        +-- pom.xml\n    +-- \\Frontend\n        +-- \\build\n        +-- \\public\n        +-- \\src\n        +-- package.json\n        +-- build.bat\n        +-- build_script.ps1\n</code></pre>\n<p>A standard <strong>npm run build</strong> command will create all the files needed to host a react application on a Spring Boot server. Webpack is not a requirement and by extension, neither is Thymeleaf. All that's required is to then copy/paste the resulting files from the <strong>\\Frontend\\build</strong> folder into the <strong>\\Backend\\target\\classes\\static</strong> folder. I created a Powershell file called <strong>build_script.ps1</strong> that runs the build script for the react application and then copys the newly built files into the intended folder on the backend. The <strong>build.bat</strong> file simply runs the Powershell file without me needing to type a lot into command prompt.</p>\n<h1>build_script.ps1:</h1>\n<pre><code>#Variables\n$Directory = &quot;{dir}\\LibraryWebsite\\Frontend&quot;\n$sourceDirectory = &quot;{dir}\\LibraryWebsite\\Frontend\\build\\*&quot;\n$targetDirectory = &quot;{dir}\\LibraryWebsite\\Backend\\target\\classes\\static&quot;\n\n#test\n\n#Build the application and then copy it to the server's \ncd $Directory\nnpm run-script build\nCopy-Item -Force -Recurse $sourceDirectory -Destination $targetDirectory\n</code></pre>\n<p>All of this results in a much cleaner program structure and no meaningful increase in my workload. Everything is done with ./build.</p>\n<p>I may return to Thymeleaf at some point in the future (If I hate myself) but this meets my needs for the time being.</p>\n"}],"owner":{"account_id":18295839,"reputation":199,"user_id":13321797,"display_name":"TeaDrinker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72072841,"answer_count":1,"score":0,"last_activity_date":1651367671,"creation_date":1650741788,"question_id":71982946,"body_markdown":"Issue:\r\n=====\r\nHello! I&#39;ve been spending a fair bit of time now trying to get a Spring Boot server to host a React Application. I&#39;ve been able to work out nearly everything except for this last issue and that&#39;s getting the React Page to render.\r\n\r\nThe page (called &quot;Library&quot;) is opened by the server. I know this part of the server is working correctly for two reasons.\r\n\r\n 1. The browser tab&#39;s name is set to &quot;Library&quot; like it should.\r\n 2. When I set the page to only open an HTML page with a simple h1 header that says &quot;Hello&quot;, it works as well.\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][1]][1]\r\n&lt;br /&gt;\r\n\r\nThoughts:\r\n========\r\n&lt;s&gt;The issue seems to be coming from **Thymeleaf** but I can&#39;t find the cause of the problem. &lt;/s&gt; The issue doesn&#39;t seem to be Thymeleaf after-all but another issue in the configuration. Though I may be incorrect about this. I&#39;ve tried a variety of settings and configurations and the one I have now seems to be working the best overall.\r\n\r\nIt doesn&#39;t seem that the React application is the cause. I am building the react project with no obvious issues occurring during the build process. All files are being generated where they&#39;re expected. When I open the resulting Webpack bundle as a standalone file in a browser, it opens and functions like it should.\r\n\r\nThe server itself is, this issue notwithstanding, running exactly as expected.\r\n\r\nThere is no REST functionality currently being used. The only goal of this server, as of right now, is to simply open the React application.\r\n&lt;br /&gt;\r\n\r\nFiles/Configuration:\r\n====================\r\nThese are all of the files that I think are relevant. I&#39;ll add more if they&#39;re requested.\r\n\r\nFile Structure\r\n--------------\r\n```\r\n+-- src\r\n   +-- \\main\r\n      +-- \\java\r\n      +-- \\react\r\n      +-- \\resources\r\n         +-- \\templates\r\n            +-- bundle.js\r\n\t        +-- index.html\r\n\t        +-- bundle.js.License.txt\r\n         +-- application.properties\r\n   +-- \\test\r\n+-- package.json\r\n+-- pom.xml\r\n+-- webpack.config.js\r\n```\r\n\r\nWebpack.Config.js\r\n----------------\r\n```\r\nvar path = require(&#39;path&#39;);\r\nconst HtmlWebPackPlugin = require(&quot;html-webpack-plugin&quot;);\r\n\r\nmodule.exports = {\r\n    entry: &#39;./src/main/react/index.js&#39;,\r\n    mode: &#39;development&#39;,\r\n    output: {\r\n\t    path: path.resolve(__dirname, &quot;src/main/resources/templates/&quot;),\r\n\t    filename: &quot;bundle.js&quot;,\r\n\t    },\r\n    module: {\r\n        rules: [\r\n            {\r\n                test: /\\.(js|jsx)$/,\r\n                exclude: /(node_modules)/,\r\n                use: [{\r\n                    loader: &#39;babel-loader&#39;,\r\n                    options: {\r\n                        presets: [&quot;@babel/preset-env&quot;, &quot;@babel/preset-react&quot;]\r\n                    }\r\n                }]\r\n            },\r\n            {\r\n\t\t\t\ttest: /\\.css$/,\r\n\t\t\t\texclude: /(node_modules)/,\r\n\t\t\t\tuse: [&quot;style-loader&quot;, &quot;css-loader&quot;],\r\n\t\t\t}\r\n            \r\n        ]\r\n    },\r\n    plugins: [\r\n    new HtmlWebPackPlugin({\r\n      template: &quot;./src/main/react/index.html&quot;,\r\n    }),\r\n  ],\r\n};\r\n```\r\n\r\npackage.json\r\n------------\r\n```\r\n{\r\n  &quot;name&quot;: &quot;website&quot;,\r\n  &quot;version&quot;: &quot;0.1.0&quot;,\r\n  &quot;main&quot;: &quot;index.js&quot;,\r\n  &quot;dependencies&quot;: {\r\n    &quot;acorn&quot;: &quot;^8.7.0&quot;,\r\n    &quot;react&quot;: &quot;^17.0.2&quot;,\r\n    &quot;react-dom&quot;: &quot;^17.0.2&quot;,\r\n    &quot;react-table&quot;: &quot;^7.7.0&quot;,\r\n    &quot;react-tabulator&quot;: &quot;^0.16.1&quot;,\r\n    &quot;rest&quot;: &quot;^1.3.1&quot;,\r\n    &quot;web-vitals&quot;: &quot;^1.1.2&quot;\r\n  },\r\n  &quot;scripts&quot;: {\r\n    &quot;start&quot;: &quot;npm start&quot;,\r\n    &quot;build&quot;: &quot;webpack&quot;,\r\n    &quot;watch&quot;: &quot;webpack --watch -d --output ./target/classes/static/built/bundle.js&quot;\r\n  },\r\n  &quot;proxy&quot;: &quot;http://localhost:8080&quot;,\r\n  &quot;eslintConfig&quot;: {\r\n    &quot;extends&quot;: [\r\n      &quot;react-app&quot;,\r\n      &quot;react-app/jest&quot;\r\n    ]\r\n  },\r\n  &quot;devDependencies&quot;: {\r\n    &quot;@babel/core&quot;: &quot;^7.13.16&quot;,\r\n    &quot;@babel/preset-env&quot;: &quot;^7.13.15&quot;,\r\n    &quot;@babel/preset-react&quot;: &quot;^7.13.13&quot;,\r\n    &quot;babel-loader&quot;: &quot;^8.2.2&quot;,\r\n    &quot;css-loader&quot;: &quot;^5.2.7&quot;,\r\n    &quot;html-webpack-plugin&quot;: &quot;^5.3.1&quot;,\r\n    &quot;style-loader&quot;: &quot;^2.0.0&quot;,\r\n    &quot;webpack&quot;: &quot;^5.35.1&quot;,\r\n    &quot;webpack-cli&quot;: &quot;^4.6.0&quot;,\r\n    &quot;webpack-dev-server&quot;: &quot;^3.11.2&quot;\r\n  }\r\n}\r\n```\r\n\r\npom.xml\r\n------\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;  &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t\r\n\t&lt;groupId&gt;jweber.code&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Library&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Library&lt;/name&gt;\r\n\t&lt;description&gt;Library Website&lt;/description&gt;\r\n\t\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\naplication.properties\r\n-----------\r\n```\r\nspring.thymeleaf.cache=false  \r\nspring.thymeleaf.suffix: .html  \r\n```\r\n&lt;br /&gt;\r\n\r\nClosing:\r\n=======\r\nI&#39;ll keep looking for a solution in the meantime and I&#39;ll be sure to update the post with any findings that I come across. Thanks for any help!\r\n&lt;br /&gt;\r\n\r\nFollowup:\r\n========\r\n**4/24 8:22 am EST**\r\n\r\nI&#39;ve added a &quot;mode&quot; field to **webpack.config.js** and that removed a warning from the react build process but not much more. I&#39;ve also reworked the dependencies in the **pom.xml** file to see if there was an issue arising from the order or from an unneeded one. I did run a clean install but this did nothing either. I&#39;ve updated the files shown above with the new information.\r\n\r\n  [1]: https://i.stack.imgur.com/s58Im.png\r\n  [2]: https://i.stack.imgur.com/AUr3I.png","title":"Spring Boot Server not loading React webpage","body":"<h1>Issue:</h1>\n<p>Hello! I've been spending a fair bit of time now trying to get a Spring Boot server to host a React Application. I've been able to work out nearly everything except for this last issue and that's getting the React Page to render.</p>\n<p>The page (called &quot;Library&quot;) is opened by the server. I know this part of the server is working correctly for two reasons.</p>\n<ol>\n<li>The browser tab's name is set to &quot;Library&quot; like it should.</li>\n<li>When I set the page to only open an HTML page with a simple h1 header that says &quot;Hello&quot;, it works as well.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/AUr3I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AUr3I.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/s58Im.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s58Im.png\" alt=\"enter image description here\" /></a>\n<br /></p>\n<h1>Thoughts:</h1>\n<p><s>The issue seems to be coming from <strong>Thymeleaf</strong> but I can't find the cause of the problem. </s> The issue doesn't seem to be Thymeleaf after-all but another issue in the configuration. Though I may be incorrect about this. I've tried a variety of settings and configurations and the one I have now seems to be working the best overall.</p>\n<p>It doesn't seem that the React application is the cause. I am building the react project with no obvious issues occurring during the build process. All files are being generated where they're expected. When I open the resulting Webpack bundle as a standalone file in a browser, it opens and functions like it should.</p>\n<p>The server itself is, this issue notwithstanding, running exactly as expected.</p>\n<p>There is no REST functionality currently being used. The only goal of this server, as of right now, is to simply open the React application.\n<br /></p>\n<h1>Files/Configuration:</h1>\n<p>These are all of the files that I think are relevant. I'll add more if they're requested.</p>\n<h2>File Structure</h2>\n<pre><code>+-- src\n   +-- \\main\n      +-- \\java\n      +-- \\react\n      +-- \\resources\n         +-- \\templates\n            +-- bundle.js\n            +-- index.html\n            +-- bundle.js.License.txt\n         +-- application.properties\n   +-- \\test\n+-- package.json\n+-- pom.xml\n+-- webpack.config.js\n</code></pre>\n<h2>Webpack.Config.js</h2>\n<pre><code>var path = require('path');\nconst HtmlWebPackPlugin = require(&quot;html-webpack-plugin&quot;);\n\nmodule.exports = {\n    entry: './src/main/react/index.js',\n    mode: 'development',\n    output: {\n        path: path.resolve(__dirname, &quot;src/main/resources/templates/&quot;),\n        filename: &quot;bundle.js&quot;,\n        },\n    module: {\n        rules: [\n            {\n                test: /\\.(js|jsx)$/,\n                exclude: /(node_modules)/,\n                use: [{\n                    loader: 'babel-loader',\n                    options: {\n                        presets: [&quot;@babel/preset-env&quot;, &quot;@babel/preset-react&quot;]\n                    }\n                }]\n            },\n            {\n                test: /\\.css$/,\n                exclude: /(node_modules)/,\n                use: [&quot;style-loader&quot;, &quot;css-loader&quot;],\n            }\n            \n        ]\n    },\n    plugins: [\n    new HtmlWebPackPlugin({\n      template: &quot;./src/main/react/index.html&quot;,\n    }),\n  ],\n};\n</code></pre>\n<h2>package.json</h2>\n<pre><code>{\n  &quot;name&quot;: &quot;website&quot;,\n  &quot;version&quot;: &quot;0.1.0&quot;,\n  &quot;main&quot;: &quot;index.js&quot;,\n  &quot;dependencies&quot;: {\n    &quot;acorn&quot;: &quot;^8.7.0&quot;,\n    &quot;react&quot;: &quot;^17.0.2&quot;,\n    &quot;react-dom&quot;: &quot;^17.0.2&quot;,\n    &quot;react-table&quot;: &quot;^7.7.0&quot;,\n    &quot;react-tabulator&quot;: &quot;^0.16.1&quot;,\n    &quot;rest&quot;: &quot;^1.3.1&quot;,\n    &quot;web-vitals&quot;: &quot;^1.1.2&quot;\n  },\n  &quot;scripts&quot;: {\n    &quot;start&quot;: &quot;npm start&quot;,\n    &quot;build&quot;: &quot;webpack&quot;,\n    &quot;watch&quot;: &quot;webpack --watch -d --output ./target/classes/static/built/bundle.js&quot;\n  },\n  &quot;proxy&quot;: &quot;http://localhost:8080&quot;,\n  &quot;eslintConfig&quot;: {\n    &quot;extends&quot;: [\n      &quot;react-app&quot;,\n      &quot;react-app/jest&quot;\n    ]\n  },\n  &quot;devDependencies&quot;: {\n    &quot;@babel/core&quot;: &quot;^7.13.16&quot;,\n    &quot;@babel/preset-env&quot;: &quot;^7.13.15&quot;,\n    &quot;@babel/preset-react&quot;: &quot;^7.13.13&quot;,\n    &quot;babel-loader&quot;: &quot;^8.2.2&quot;,\n    &quot;css-loader&quot;: &quot;^5.2.7&quot;,\n    &quot;html-webpack-plugin&quot;: &quot;^5.3.1&quot;,\n    &quot;style-loader&quot;: &quot;^2.0.0&quot;,\n    &quot;webpack&quot;: &quot;^5.35.1&quot;,\n    &quot;webpack-cli&quot;: &quot;^4.6.0&quot;,\n    &quot;webpack-dev-server&quot;: &quot;^3.11.2&quot;\n  }\n}\n</code></pre>\n<h2>pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt;  &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    \n    &lt;groupId&gt;jweber.code&lt;/groupId&gt;\n    &lt;artifactId&gt;Library&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Library&lt;/name&gt;\n    &lt;description&gt;Library Website&lt;/description&gt;\n    \n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h2>aplication.properties</h2>\n<pre><code>spring.thymeleaf.cache=false  \nspring.thymeleaf.suffix: .html  \n</code></pre>\n<br />\n<h1>Closing:</h1>\n<p>I'll keep looking for a solution in the meantime and I'll be sure to update the post with any findings that I come across. Thanks for any help!\n<br /></p>\n<h1>Followup:</h1>\n<p><strong>4/24 8:22 am EST</strong></p>\n<p>I've added a &quot;mode&quot; field to <strong>webpack.config.js</strong> and that removed a warning from the react build process but not much more. I've also reworked the dependencies in the <strong>pom.xml</strong> file to see if there was an issue arising from the order or from an unneeded one. I did run a clean install but this did nothing either. I've updated the files shown above with the new information.</p>\n"},{"tags":["java","arrays","json","dictionary"],"answers":[{"tags":[],"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651367606,"creation_date":1651367606,"answer_id":72073332,"question_id":72073067,"body_markdown":"The structure you have is a JSON object that contains a JSON array `places`, I am not really sure what you are trying to achieve by using a `Map&lt;String, String&gt;`, you need to either create a `Place` POJO and parse accordingly OR just access it directly as a JsonObject:\r\n\r\nPlace.java\r\n```\r\npublic class Place\r\n{\r\n    private int id;\r\n    private String city;\r\n    private String vehicle;\r\n\r\n    public Place(int id, String city, String vehicle)\r\n    {\r\n        this.id = id;\r\n        this.city = city;\r\n        this.vehicle = vehicle;\r\n    }\r\n\r\n    // Setters &amp; getters\r\n}\r\n\r\n```\r\n\r\n```\r\n    public static void main(String[] args)\r\n    {\r\n        Gson gson = new Gson();\r\n\r\n        // Parse your file to a JsonObject\r\n        JsonObject jsonObject = gson.fromJson(contentoffile, JsonObject.class);\r\n\r\n        // Extract JsonArray (places) from JsonObject\r\n        JsonArray jsonArray = jsonObject.get(&quot;Places&quot;).getAsJsonArray();\r\n```\r\nOption 1: Converting into `List&lt;Place&gt;`:\r\n```        \r\n        // Convert JsonArray to a list of places  \r\n        Type type = new TypeToken&lt;List&lt;Place&gt;&gt;() {}.getType();\r\n        List&lt;Place&gt; places = gson.fromJson(jsonArray, type);\r\n\r\n        //iterate over places\r\n        for (Place place : places)\r\n        {\r\n           int id = place.getId();\r\n           //etc..\r\n        }\r\n    }\r\n```\r\nOption 2: Iterating directly over JsonArray:\r\n```\r\n        for (JsonElement jsonElement : jsonArray)\r\n        {\r\n            //This will represent a Place object\r\n            JsonObject curr = jsonElement.getAsJsonObject();\r\n\r\n            int id = curr.get(&quot;id&quot;).getAsInt();\r\n            String city = curr.get(&quot;city&quot;).getAsString();\r\n            String vehicle  = curr.get(&quot;vehicle&quot;).getAsString();\r\n        }\r\n```\r\n\r\nOption 3: Create a wrapper class\r\n```\r\npublic class PlaceWrapper\r\n{\r\n   private List&lt;Place&gt; places;\r\n\r\n   //Const, setters, getters\r\n}\r\n```\r\n\r\n```\r\npublic static void main(String[] args)\r\n    {\r\n        Gson gson = new Gson();\r\n\r\n        // Deserialize json \r\n        PlaceWrapper placeWrapper = gson.fromJson(contentoffile, PlaceWrapper.class);\r\n\r\n        // iterate over places\r\n        for (Place place : placeWrapper.getPlaces())\r\n        {\r\n            // do your thing\r\n        }\r\n   }\r\n```","title":"get Json values from a JsonArray inside a Json in Java using Map","body":"<p>The structure you have is a JSON object that contains a JSON array <code>places</code>, I am not really sure what you are trying to achieve by using a <code>Map&lt;String, String&gt;</code>, you need to either create a <code>Place</code> POJO and parse accordingly OR just access it directly as a JsonObject:</p>\n<p>Place.java</p>\n<pre><code>public class Place\n{\n    private int id;\n    private String city;\n    private String vehicle;\n\n    public Place(int id, String city, String vehicle)\n    {\n        this.id = id;\n        this.city = city;\n        this.vehicle = vehicle;\n    }\n\n    // Setters &amp; getters\n}\n\n</code></pre>\n<pre><code>    public static void main(String[] args)\n    {\n        Gson gson = new Gson();\n\n        // Parse your file to a JsonObject\n        JsonObject jsonObject = gson.fromJson(contentoffile, JsonObject.class);\n\n        // Extract JsonArray (places) from JsonObject\n        JsonArray jsonArray = jsonObject.get(&quot;Places&quot;).getAsJsonArray();\n</code></pre>\n<p>Option 1: Converting into <code>List&lt;Place&gt;</code>:</p>\n<pre><code>        // Convert JsonArray to a list of places  \n        Type type = new TypeToken&lt;List&lt;Place&gt;&gt;() {}.getType();\n        List&lt;Place&gt; places = gson.fromJson(jsonArray, type);\n\n        //iterate over places\n        for (Place place : places)\n        {\n           int id = place.getId();\n           //etc..\n        }\n    }\n</code></pre>\n<p>Option 2: Iterating directly over JsonArray:</p>\n<pre><code>        for (JsonElement jsonElement : jsonArray)\n        {\n            //This will represent a Place object\n            JsonObject curr = jsonElement.getAsJsonObject();\n\n            int id = curr.get(&quot;id&quot;).getAsInt();\n            String city = curr.get(&quot;city&quot;).getAsString();\n            String vehicle  = curr.get(&quot;vehicle&quot;).getAsString();\n        }\n</code></pre>\n<p>Option 3: Create a wrapper class</p>\n<pre><code>public class PlaceWrapper\n{\n   private List&lt;Place&gt; places;\n\n   //Const, setters, getters\n}\n</code></pre>\n<pre><code>public static void main(String[] args)\n    {\n        Gson gson = new Gson();\n\n        // Deserialize json \n        PlaceWrapper placeWrapper = gson.fromJson(contentoffile, PlaceWrapper.class);\n\n        // iterate over places\n        for (Place place : placeWrapper.getPlaces())\n        {\n            // do your thing\n        }\n   }\n</code></pre>\n"}],"owner":{"account_id":21110568,"reputation":11,"user_id":15518615,"display_name":"Luis MC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":790,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1651367606,"creation_date":1651363269,"question_id":72073067,"body_markdown":"i need to access the values of a Json, that its inside an Array, that its inside of a Json, the structure of the Json file its like this:\r\n\r\n```\r\n{\r\n\t&quot;Places&quot;: [\r\n\t{\r\n\t\t&quot;id&quot;: 17,\r\n\t\t&quot;city&quot;: &quot;Chicago&quot;,\r\n\t\t&quot;vehicle&quot;: &quot;car&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;id&quot;: 13,\r\n\t\t&quot;city&quot;: &quot;New York&quot;,\r\n\t\t&quot;vehicle&quot;: &quot;plane&quot;,\r\n\t}\r\n\t]\r\n}\r\n```\r\ni only need the values of &quot;id&quot;, &quot;city&quot; and &quot;vehicle&quot;\r\nim using the map function like this:\r\n\r\n```\r\nGson gson = new Gson();\r\nMap&lt;String,String&gt; userMap = gson.fromJson(contentoffile, Map.class);\r\n        \r\n        for (Object value : userMap.values()) {\r\n            Map places= (Map) value;\r\n            \r\n            int id = (int) (places.get(&quot;id&quot;));\r\n            String city= (String) places.get(&quot;city&quot;);\r\n            String vehicle= (String) places.get(&quot;vehicle&quot;);\r\n```\r\n\r\nbut i got the next error\r\n\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: java.util.ArrayList cannot be cast to java.util.Map\r\n```\r\n\r\n**how i can acces the data?**\r\nbtw, i can use other libraries for this, not only Map function\r\n","title":"get Json values from a JsonArray inside a Json in Java using Map","body":"<p>i need to access the values of a Json, that its inside an Array, that its inside of a Json, the structure of the Json file its like this:</p>\n<pre><code>{\n    &quot;Places&quot;: [\n    {\n        &quot;id&quot;: 17,\n        &quot;city&quot;: &quot;Chicago&quot;,\n        &quot;vehicle&quot;: &quot;car&quot;\n    },\n    {\n        &quot;id&quot;: 13,\n        &quot;city&quot;: &quot;New York&quot;,\n        &quot;vehicle&quot;: &quot;plane&quot;,\n    }\n    ]\n}\n</code></pre>\n<p>i only need the values of &quot;id&quot;, &quot;city&quot; and &quot;vehicle&quot;\nim using the map function like this:</p>\n<pre><code>Gson gson = new Gson();\nMap&lt;String,String&gt; userMap = gson.fromJson(contentoffile, Map.class);\n        \n        for (Object value : userMap.values()) {\n            Map places= (Map) value;\n            \n            int id = (int) (places.get(&quot;id&quot;));\n            String city= (String) places.get(&quot;city&quot;);\n            String vehicle= (String) places.get(&quot;vehicle&quot;);\n</code></pre>\n<p>but i got the next error</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: java.util.ArrayList cannot be cast to java.util.Map\n</code></pre>\n<p><strong>how i can acces the data?</strong>\nbtw, i can use other libraries for this, not only Map function</p>\n"},{"tags":["java","generics","casting"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1651193561,"post_id":72051594,"comment_id":127311887,"body_markdown":"Arrays and generics don&#39;t mix well.  Use a collection class instead.  Also, why do you believe you can create a `new Object()` and then cast the resulting reference to some other class?  That&#39;s not possible in Java.","body":"Arrays and generics don&#39;t mix well.  Use a collection class instead.  Also, why do you believe you can create a <code>new Object()</code> and then cast the resulting reference to some other class?  That&#39;s not possible in Java."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1651194007,"post_id":72051594,"comment_id":127311954,"body_markdown":"Change it to `new Pair[k]`.","body":"Change it to <code>new Pair[k]</code>."}],"owner":{"account_id":25135825,"reputation":45,"user_id":18982610,"display_name":"cactus020"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1651367243,"creation_date":1651192257,"question_id":72051594,"body_markdown":"    public class ArrayPQK&lt;P extends Comparable&lt;P&gt;, T&gt; implements PQK&lt;P, T&gt; {\r\n\tint maxsize;\r\n\tint size;\r\n\tint head,tail;\r\n\tPair&lt;P, T&gt;[] nodes;\r\n\tpublic ArrayPQK(int k) {\r\n\t\tmaxsize=k;\r\n\t\tsize=0;\r\n\t\thead=tail=0;\r\n\t\tnodes= (Pair&lt;P, T&gt;[])new Object[k];\r\n\t\t\r\n\t}\r\nWhenever I try to run this code in main,\r\n\r\n    private static void testPQK() {\r\n\t\tSystem.out.println(&quot;-------------------&quot;);\r\n\t\tPQK&lt;Integer, String&gt; pq = new ArrayPQK&lt;Integer, String&gt;(3);// error here\r\n     }\r\nI got the error as,\r\nException in thread &quot;main&quot; java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [LPair;\r\n\tat ArrayPQK.&lt;init&gt;(ArrayPQK.java:11)\r\n\r\nnow from what i searched, we cannot create a generic type array so we use Object[k], but apparently things are different when a class is extended,\r\n\r\n    public class ArrayPQK&lt;P extends Comparable&lt;P&gt;, T&gt; implements PQK&lt;P, T&gt; {\r\n\r\nand what i have found is that i better use ArrayList with generic types instead of an array, but i have to figure this out without using it.\r\n\r\n","title":"Java initialize array with mutiple type parameters error java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to","body":"<pre><code>public class ArrayPQK&lt;P extends Comparable&lt;P&gt;, T&gt; implements PQK&lt;P, T&gt; {\nint maxsize;\nint size;\nint head,tail;\nPair&lt;P, T&gt;[] nodes;\npublic ArrayPQK(int k) {\n    maxsize=k;\n    size=0;\n    head=tail=0;\n    nodes= (Pair&lt;P, T&gt;[])new Object[k];\n    \n}\n</code></pre>\n<p>Whenever I try to run this code in main,</p>\n<pre><code>private static void testPQK() {\n    System.out.println(&quot;-------------------&quot;);\n    PQK&lt;Integer, String&gt; pq = new ArrayPQK&lt;Integer, String&gt;(3);// error here\n }\n</code></pre>\n<p>I got the error as,\nException in thread &quot;main&quot; java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [LPair;\nat ArrayPQK.(ArrayPQK.java:11)</p>\n<p>now from what i searched, we cannot create a generic type array so we use Object[k], but apparently things are different when a class is extended,</p>\n<pre><code>public class ArrayPQK&lt;P extends Comparable&lt;P&gt;, T&gt; implements PQK&lt;P, T&gt; {\n</code></pre>\n<p>and what i have found is that i better use ArrayList with generic types instead of an array, but i have to figure this out without using it.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1651246692,"post_id":72060358,"comment_id":127326223,"body_markdown":"Remove `text:`. That&#39;s not supposed to be in the actual code. It&#39;s just a parameter hint that you&#39;re likely seeing in a screenshot or video of someone else&#39;s IDE.","body":"Remove <code>text:</code>. That&#39;s not supposed to be in the actual code. It&#39;s just a parameter hint that you&#39;re likely seeing in a screenshot or video of someone else&#39;s IDE."},{"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"score":0,"creation_date":1651247188,"post_id":72060358,"comment_id":127326413,"body_markdown":"Simply do this         Toast.makeText(getApplicationContext(),&quot;Item Removed&quot;, Toast.LENGTH_LONG).show();","body":"Simply do this         Toast.makeText(getApplicationContext(),&quot;Item Removed&quot;, Toast.LENGTH_LONG).show();"}],"answers":[{"tags":[],"owner":{"account_id":9705313,"reputation":317,"user_id":7198913,"display_name":"Sourav Kumar Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651362694,"creation_date":1651362694,"answer_id":72073030,"question_id":72060358,"body_markdown":"its Syntext error\r\n\r\nSyntext is  -&gt; Toast.makeText(context, text, duration).show();\r\n\r\n    Toast.makeText(getApplicationContext(), &quot;Item Removed&quot;,Toast.LENGTH_LONG).show(); \r\n\r\n\r\n\r\n","title":"cannot resolve context after importing android.content.Context; The Toast","body":"<p>its Syntext error</p>\n<p>Syntext is  -&gt; Toast.makeText(context, text, duration).show();</p>\n<pre><code>Toast.makeText(getApplicationContext(), &quot;Item Removed&quot;,Toast.LENGTH_LONG).show(); \n</code></pre>\n"}],"owner":{"account_id":15778837,"reputation":25,"user_id":11385870,"display_name":"VanchyTechMer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72073030,"answer_count":1,"score":-1,"last_activity_date":1651362694,"creation_date":1651246554,"question_id":72060358,"body_markdown":"This is my code block and I attached an Image . I don&#39;t know why &quot;text&quot; and .show() looks red. \r\n\r\nCode Block: \r\n\r\n    private void setUpListViewListener() {\r\n        listView.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {\r\n            @Override\r\n            public boolean onItemLongClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                Context context = getApplicationContext();\r\n                //Context context = getApplicationContext();\r\n\r\n\r\n                Toast.makeText(context, text: &quot;Item Removed&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                items.remove((i));\r\n                itemsAdapter.notifyDataSetChanged();\r\n                return true;\r\n\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1cs3H.png","title":"cannot resolve context after importing android.content.Context; The Toast","body":"<p>This is my code block and I attached an Image . I don't know why &quot;text&quot; and .show() looks red.</p>\n<p>Code Block:</p>\n<pre><code>private void setUpListViewListener() {\n    listView.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {\n        @Override\n        public boolean onItemLongClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n            Context context = getApplicationContext();\n            //Context context = getApplicationContext();\n\n\n            Toast.makeText(context, text: &quot;Item Removed&quot;, Toast.LENGTH_LONG).show();\n\n            items.remove((i));\n            itemsAdapter.notifyDataSetChanged();\n            return true;\n\n\n        }\n    });\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1cs3H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1cs3H.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":25133794,"reputation":1340,"user_id":18980756,"display_name":"Franck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651360877,"creation_date":1651360564,"answer_id":72072873,"question_id":72072807,"body_markdown":"A simple way to complete your code is the use of chars where you already have your output.\r\n\r\n```\r\npublic class Maze {\r\n    public static int numRows = 5;\r\n    public static int numCols = 5;\r\n    public static String[][] maze = new String[numRows][numCols];\r\n// * Method * Creating the maze grid\r\npublic static void createMazeGrid(){\r\n    // First section of Maze Grid\r\n    System.out.print(&quot;  &quot;);\r\n    for(char alphabet = &#39;A&#39;; alphabet &lt; &#39;F&#39;; alphabet++)\r\n        System.out.print(alphabet);\r\n    System.out.println();\r\n\r\n    // Middle section of Maze Grid\r\n    // *TRY TO FIGURE OUT ALPHABET GRID*\r\n    for(int i = 0; i &lt; maze.length; i++) {\r\n        System.out.print(&quot; &quot;);\r\n        for (int j = 0; j &lt; maze[i].length; j++) {\r\n            maze[i][j] = &quot;.&quot;;\r\n            if (j == 0)\r\n                System.out.print((char)(&#39;T&#39; - i) + maze[i][j]); // left side\r\n            else if (j == maze[i].length - 1)\r\n                System.out.print(maze[i][j] + (char)(&#39;F&#39; + i)); // right side\r\n            else\r\n                System.out.print(maze[i][j]);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    // Last section of Maze Grid\r\n    System.out.print(&quot;  &quot;);\r\n    for(char alphabet = &#39;O&#39;; alphabet &gt; &#39;J&#39;; alphabet--)\r\n        System.out.print(alphabet);\r\n    System.out.println();\r\n}\r\npublic static void main(String[] args) { createMazeGrid(); }\r\n}\r\n```\r\n\r\nNow let&#39;s test it:\r\n\r\n```\r\n$ java Maze.java\r\n  ABCDE\r\n T.....F\r\n S.....G\r\n R.....H\r\n Q.....I\r\n P.....J\r\n  ONMLK\r\n```\r\n\r\nLooks good. :-)","title":"Creating a Java increasing alphabet grid with a 5x5 array","body":"<p>A simple way to complete your code is the use of chars where you already have your output.</p>\n<pre><code>public class Maze {\n    public static int numRows = 5;\n    public static int numCols = 5;\n    public static String[][] maze = new String[numRows][numCols];\n// * Method * Creating the maze grid\npublic static void createMazeGrid(){\n    // First section of Maze Grid\n    System.out.print(&quot;  &quot;);\n    for(char alphabet = 'A'; alphabet &lt; 'F'; alphabet++)\n        System.out.print(alphabet);\n    System.out.println();\n\n    // Middle section of Maze Grid\n    // *TRY TO FIGURE OUT ALPHABET GRID*\n    for(int i = 0; i &lt; maze.length; i++) {\n        System.out.print(&quot; &quot;);\n        for (int j = 0; j &lt; maze[i].length; j++) {\n            maze[i][j] = &quot;.&quot;;\n            if (j == 0)\n                System.out.print((char)('T' - i) + maze[i][j]); // left side\n            else if (j == maze[i].length - 1)\n                System.out.print(maze[i][j] + (char)('F' + i)); // right side\n            else\n                System.out.print(maze[i][j]);\n        }\n        System.out.println();\n    }\n\n    // Last section of Maze Grid\n    System.out.print(&quot;  &quot;);\n    for(char alphabet = 'O'; alphabet &gt; 'J'; alphabet--)\n        System.out.print(alphabet);\n    System.out.println();\n}\npublic static void main(String[] args) { createMazeGrid(); }\n}\n</code></pre>\n<p>Now let's test it:</p>\n<pre><code>$ java Maze.java\n  ABCDE\n T.....F\n S.....G\n R.....H\n Q.....I\n P.....J\n  ONMLK\n</code></pre>\n<p>Looks good. :-)</p>\n"}],"owner":{"account_id":22885208,"reputation":3,"user_id":17026191,"display_name":"Zoey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72072873,"answer_count":1,"score":0,"last_activity_date":1651360877,"creation_date":1651359750,"question_id":72072807,"body_markdown":"The grid I need to recreate looks like this\r\n\r\n     ABCDE\r\n    T.....F\r\n    S.....G\r\n    R.....H\r\n    Q.....I\r\n    P.....J\r\n     ONMLK\r\n\r\nThe grid I have now looks like this\r\n\r\n     ABCDE\r\n    0.....0\r\n    1.....1\r\n    2.....2\r\n    3.....3\r\n    4.....4\r\n     ONMLK\r\n\r\n\r\nMy code for creating the grid\r\n\r\n    // * Method * Creating the maze grid\r\n    public static void createMazeGrid(){\r\n        // First section of Maze Grid\r\n        System.out.print(&quot;  &quot;);\r\n        for(char alphabet = &#39;A&#39;; alphabet &lt; &#39;F&#39;; alphabet++)\r\n            System.out.print(alphabet);\r\n        System.out.println();\r\n\r\n        // Middle section of Maze Grid\r\n        // *TRY TO FIGURE OUT ALPHABET GRID*\r\n        for(int i = 0; i &lt; maze.length; i++) {\r\n            System.out.print(&quot; &quot;);\r\n            for (int j = 0; j &lt; maze[i].length; j++) {\r\n                maze[i][j] = &quot;.&quot;;\r\n                if (j == 0)\r\n                    System.out.print(i + maze[i][j]);\r\n                else if (j == maze[i].length - 1)\r\n                    System.out.print(maze[i][j] + i);\r\n                else\r\n                    System.out.print(maze[i][j]);\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\n        // Last section of Maze Grid\r\n        System.out.print(&quot;  &quot;);\r\n        for(char alphabet = &#39;O&#39;; alphabet &gt; &#39;J&#39;; alphabet--)\r\n            System.out.print(alphabet);\r\n        System.out.println();\r\n    }\r\n\r\nI have already declared these variables in the public class, not my main method. How would I achieve this? I tried changing the int&#39;s in the middle section of my map to char like my top and bottom section but it just cuts the middle portion of the map out.\r\n\r\n\r\n----------\r\npublic static int numRows = 5;\r\n\r\n----------\r\npublic static int numCols = 5;\r\n\r\n----------\r\npublic static String[][] maze = new String[numRows][numCols];","title":"Creating a Java increasing alphabet grid with a 5x5 array","body":"<p>The grid I need to recreate looks like this</p>\n<pre><code> ABCDE\nT.....F\nS.....G\nR.....H\nQ.....I\nP.....J\n ONMLK\n</code></pre>\n<p>The grid I have now looks like this</p>\n<pre><code> ABCDE\n0.....0\n1.....1\n2.....2\n3.....3\n4.....4\n ONMLK\n</code></pre>\n<p>My code for creating the grid</p>\n<pre><code>// * Method * Creating the maze grid\npublic static void createMazeGrid(){\n    // First section of Maze Grid\n    System.out.print(&quot;  &quot;);\n    for(char alphabet = 'A'; alphabet &lt; 'F'; alphabet++)\n        System.out.print(alphabet);\n    System.out.println();\n\n    // Middle section of Maze Grid\n    // *TRY TO FIGURE OUT ALPHABET GRID*\n    for(int i = 0; i &lt; maze.length; i++) {\n        System.out.print(&quot; &quot;);\n        for (int j = 0; j &lt; maze[i].length; j++) {\n            maze[i][j] = &quot;.&quot;;\n            if (j == 0)\n                System.out.print(i + maze[i][j]);\n            else if (j == maze[i].length - 1)\n                System.out.print(maze[i][j] + i);\n            else\n                System.out.print(maze[i][j]);\n        }\n        System.out.println();\n    }\n\n    // Last section of Maze Grid\n    System.out.print(&quot;  &quot;);\n    for(char alphabet = 'O'; alphabet &gt; 'J'; alphabet--)\n        System.out.print(alphabet);\n    System.out.println();\n}\n</code></pre>\n<p>I have already declared these variables in the public class, not my main method. How would I achieve this? I tried changing the int's in the middle section of my map to char like my top and bottom section but it just cuts the middle portion of the map out.</p>\n<hr />\n<p>public static int numRows = 5;</p>\n<hr />\n<p>public static int numCols = 5;</p>\n<hr />\n<p>public static String[][] maze = new String[numRows][numCols];</p>\n"},{"tags":["java","list","algorithm","for-loop","recursion"],"answers":[{"tags":[],"owner":{"account_id":14798798,"reputation":92,"user_id":10687680,"display_name":"willbill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651358086,"creation_date":1651339174,"answer_id":72070611,"question_id":72065588,"body_markdown":"It isn&#39;t needed to recurse on this, but you can do this:\r\n\r\n    public static void readAloud (List&lt;Integer&gt; xs, int ind){\r\n        if(ind == xs.size()) return;\r\n        if(ind == 0 || !answer.get(answer.size() - 1).equals(xs.get(ind))) {\r\n            answer.add(1);\r\n            answer.add(xs.get(ind));\r\n        }\r\n        else{\r\n            answer.set(answer.size() - 2, answer.get(answer.size() - 2) + 1);\r\n        }\r\n        readAloud(xs, ind + 1);\r\n    }\r\n\r\n----------\r\nMake sure to add ans as a global variable, or pass it in as an argument. This means you have to instantiate it again every time you want to call the method. ","title":"Turn a for loop into Recursion","body":"<p>It isn't needed to recurse on this, but you can do this:</p>\n<pre><code>public static void readAloud (List&lt;Integer&gt; xs, int ind){\n    if(ind == xs.size()) return;\n    if(ind == 0 || !answer.get(answer.size() - 1).equals(xs.get(ind))) {\n        answer.add(1);\n        answer.add(xs.get(ind));\n    }\n    else{\n        answer.set(answer.size() - 2, answer.get(answer.size() - 2) + 1);\n    }\n    readAloud(xs, ind + 1);\n}\n</code></pre>\n<hr />\n<p>Make sure to add ans as a global variable, or pass it in as an argument. This means you have to instantiate it again every time you want to call the method.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651360193,"creation_date":1651345588,"answer_id":72071400,"question_id":72065588,"body_markdown":"In order to implement this problem recursively, you need to maintain position in the source list (denoted as `pos` in the code below). It will be passed as a parameter and get incremented at each method call. \r\n\r\nEvery recursive implementation consists of two parts:\r\n* **Base case** - that represents a simple *edge-case* (condition when recursion terminates) for which the outcome is known in advance. In for this task, the **base case** will represent a situation when the source list was discovered completely and position is equal to its size (invalid index).\r\n\r\n* **Recursive case** - a part of a solution where recursive calls are made and where the main logic resides.\r\n\r\nIn the recursive case, we need to determine whether the value at the current position matches the previous value. And if it is the case, increment the resulting count, otherwise add the previous value to the resulting list and add a counter-element (having a value of `1`) for the next value.\r\n\r\nMy suggestion if to hide actual details of recursive implementation by providing a *convenience method* that requires only one parameter - the source list. And that method will be invoked from the client code.\r\n\r\nAlso, convenience method treats the edge case with the empty source and simplifies the conditional logic of the recursive method adding the counter-value for the first element (no need to treat the case when previous element doesn&#39;t exist because the very recursive call will have the *position parameter* `1`).\r\n\r\n***Note:*** \r\n\r\n* Because `Integer` is an *object*, you should use method `equals()` to compare the values of two instances of `Integer`. By using double equals sign `==` you are checking whether two object references objects point at the *same object* in memory. And the code you&#39;ve listed &quot;seems to be working&quot; only because you&#39;ve tested it against the values that JVM caches integers in rage of `byte`, i.e. `[-128,127]` ([*for more information, you might have a look at this question*](https://stackoverflow.com/questions/71363302/java-sorting-list-of-array-vs-sorting-list-of-list/71363726)). It will fail if you would pass let&#39;s say `List.of(1, 1, 1, 180, 180)` into it.\r\n\r\n* It&#39;s highly advisable to make the scope of your variables as *narrow as possible*. The benefit of this basic recommendation is better memory consumption and more transparent code, which easier to debug and maintain. And in this case doesn&#39;t make sense to make the resulting list a global variable because you will not able to call the method multiple times (with different input) because the next result will override the previous. `result` list must be limited to the scope of method.\r\n\r\nThe implementation might look that:\r\n\r\n    public static List&lt;Integer&gt; readAloud(List&lt;Integer&gt; source) {\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n        if (source.isEmpty()) { // early kill\r\n            return result;\r\n        }\r\n        \r\n        result.add(1); // adding the count for the first element in the source list\r\n        return readAloud(source, result, 1);\r\n    }\r\n    \r\n    private static List&lt;Integer&gt; readAloud(List&lt;Integer&gt; source, List&lt;Integer&gt; result, int pos) {\r\n        if (pos == source.size()) { // base case\r\n            result.add(source.get(pos - 1)); // adding the last value from the source list\r\n            return result;\r\n        }\r\n        // recursive case\r\n        int currentInd = result.size() - 1; \r\n        \r\n        if (source.get(pos - 1).equals(source.get(pos))) {\r\n            result.set(currentInd, result.get(currentInd) + 1); // incrementing the count\r\n        } else {\r\n            result.add(source.get(pos - 1)); // adding the previous value\r\n            result.add(1); // adding the count for a new value\r\n        }\r\n        return readAloud(source, result, pos + 1);\r\n    }\r\n\r\n`main()` - demo\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(readAloud(List.of(3, 3, 1, 1, 3, 1, 1)));\r\n        System.out.println(readAloud(List.of(1, 1, 1, 180, 180)));\r\n    }\r\n\r\n**Output**\r\n```\r\n[2, 3, 2, 1, 1, 3, 2, 1]\r\n[3, 1, 2, 180]\r\n```","title":"Turn a for loop into Recursion","body":"<p>In order to implement this problem recursively, you need to maintain position in the source list (denoted as <code>pos</code> in the code below). It will be passed as a parameter and get incremented at each method call.</p>\n<p>Every recursive implementation consists of two parts:</p>\n<ul>\n<li><p><strong>Base case</strong> - that represents a simple <em>edge-case</em> (condition when recursion terminates) for which the outcome is known in advance. In for this task, the <strong>base case</strong> will represent a situation when the source list was discovered completely and position is equal to its size (invalid index).</p>\n</li>\n<li><p><strong>Recursive case</strong> - a part of a solution where recursive calls are made and where the main logic resides.</p>\n</li>\n</ul>\n<p>In the recursive case, we need to determine whether the value at the current position matches the previous value. And if it is the case, increment the resulting count, otherwise add the previous value to the resulting list and add a counter-element (having a value of <code>1</code>) for the next value.</p>\n<p>My suggestion if to hide actual details of recursive implementation by providing a <em>convenience method</em> that requires only one parameter - the source list. And that method will be invoked from the client code.</p>\n<p>Also, convenience method treats the edge case with the empty source and simplifies the conditional logic of the recursive method adding the counter-value for the first element (no need to treat the case when previous element doesn't exist because the very recursive call will have the <em>position parameter</em> <code>1</code>).</p>\n<p><em><strong>Note:</strong></em></p>\n<ul>\n<li><p>Because <code>Integer</code> is an <em>object</em>, you should use method <code>equals()</code> to compare the values of two instances of <code>Integer</code>. By using double equals sign <code>==</code> you are checking whether two object references objects point at the <em>same object</em> in memory. And the code you've listed &quot;seems to be working&quot; only because you've tested it against the values that JVM caches integers in rage of <code>byte</code>, i.e. <code>[-128,127]</code> (<a href=\"https://stackoverflow.com/questions/71363302/java-sorting-list-of-array-vs-sorting-list-of-list/71363726\"><em>for more information, you might have a look at this question</em></a>). It will fail if you would pass let's say <code>List.of(1, 1, 1, 180, 180)</code> into it.</p>\n</li>\n<li><p>It's highly advisable to make the scope of your variables as <em>narrow as possible</em>. The benefit of this basic recommendation is better memory consumption and more transparent code, which easier to debug and maintain. And in this case doesn't make sense to make the resulting list a global variable because you will not able to call the method multiple times (with different input) because the next result will override the previous. <code>result</code> list must be limited to the scope of method.</p>\n</li>\n</ul>\n<p>The implementation might look that:</p>\n<pre><code>public static List&lt;Integer&gt; readAloud(List&lt;Integer&gt; source) {\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    if (source.isEmpty()) { // early kill\n        return result;\n    }\n    \n    result.add(1); // adding the count for the first element in the source list\n    return readAloud(source, result, 1);\n}\n\nprivate static List&lt;Integer&gt; readAloud(List&lt;Integer&gt; source, List&lt;Integer&gt; result, int pos) {\n    if (pos == source.size()) { // base case\n        result.add(source.get(pos - 1)); // adding the last value from the source list\n        return result;\n    }\n    // recursive case\n    int currentInd = result.size() - 1; \n    \n    if (source.get(pos - 1).equals(source.get(pos))) {\n        result.set(currentInd, result.get(currentInd) + 1); // incrementing the count\n    } else {\n        result.add(source.get(pos - 1)); // adding the previous value\n        result.add(1); // adding the count for a new value\n    }\n    return readAloud(source, result, pos + 1);\n}\n</code></pre>\n<p><code>main()</code> - demo</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(readAloud(List.of(3, 3, 1, 1, 3, 1, 1)));\n    System.out.println(readAloud(List.of(1, 1, 1, 180, 180)));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[2, 3, 2, 1, 1, 3, 2, 1]\n[3, 1, 2, 180]\n</code></pre>\n"}],"owner":{"account_id":20599439,"reputation":11,"user_id":15121032,"display_name":"Unknown8628"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651360193,"creation_date":1651291001,"question_id":72065588,"body_markdown":"I have a list of elements that I wanted to print out. The way it is gonna work is that when we read aloud the list `[1,1,1,1,4,4,4]`, we most likely say four `1`s and three `4`s, instead\r\nof uttering each number one by one.\r\n\r\nMethod `readAloud(List)` should return a `List`.\r\n\r\n*For example:*\r\n\r\n• `readAloud(List(1,1,1))` should return `List(3,1)`.\r\n\r\n• `readAloud(List(-1,2,7))` should return `List(1,-1,1,2,1,7)`.\r\n\r\n• `readAloud(List(3,3,8,-10,-10,-10))` should return `List(2,3,1,8,3,-10)`.\r\n\r\n• `readAloud(List(3,3,1,1,3,1,1))` should return `List(2,3,2,1,1,3,2,1)`.\r\n\r\nAs you can see, I have already done it. But how can I turn this code into recursion?\r\n\r\n```private  static List&lt;Integer&gt; readAloud(List&lt;Integer&gt; xs){\r\n        List&lt;Integer&gt; answer = new ArrayList&lt;&gt;();\r\n        int count=1;\r\n        int prev_elt = xs.get(0);\r\n        for(int i=1;i&lt;xs.size();i++){\r\n            if (prev_elt == xs.get(i)){\r\n                count += 1;\r\n            }\r\n            else{\r\n                answer.add(count);\r\n                answer.add(prev_elt);\r\n                prev_elt=xs.get(i);\r\n                count=1;\r\n            }\r\n            if(i == xs.size()-1){\r\n                answer.add(count);\r\n                answer.add(prev_elt);\r\n                prev_elt=xs.get(i);\r\n                count=1;\r\n            }\r\n\r\n        }\r\n        return answer;\r\n    }\r\n```","title":"Turn a for loop into Recursion","body":"<p>I have a list of elements that I wanted to print out. The way it is gonna work is that when we read aloud the list <code>[1,1,1,1,4,4,4]</code>, we most likely say four <code>1</code>s and three <code>4</code>s, instead\nof uttering each number one by one.</p>\n<p>Method <code>readAloud(List)</code> should return a <code>List</code>.</p>\n<p><em>For example:</em></p>\n<p>• <code>readAloud(List(1,1,1))</code> should return <code>List(3,1)</code>.</p>\n<p>• <code>readAloud(List(-1,2,7))</code> should return <code>List(1,-1,1,2,1,7)</code>.</p>\n<p>• <code>readAloud(List(3,3,8,-10,-10,-10))</code> should return <code>List(2,3,1,8,3,-10)</code>.</p>\n<p>• <code>readAloud(List(3,3,1,1,3,1,1))</code> should return <code>List(2,3,2,1,1,3,2,1)</code>.</p>\n<p>As you can see, I have already done it. But how can I turn this code into recursion?</p>\n<pre><code>        List&lt;Integer&gt; answer = new ArrayList&lt;&gt;();\n        int count=1;\n        int prev_elt = xs.get(0);\n        for(int i=1;i&lt;xs.size();i++){\n            if (prev_elt == xs.get(i)){\n                count += 1;\n            }\n            else{\n                answer.add(count);\n                answer.add(prev_elt);\n                prev_elt=xs.get(i);\n                count=1;\n            }\n            if(i == xs.size()-1){\n                answer.add(count);\n                answer.add(prev_elt);\n                prev_elt=xs.get(i);\n                count=1;\n            }\n\n        }\n        return answer;\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1475175869,"post_id":39778030,"comment_id":66850499,"body_markdown":"What business requirement prompted you for this technical design? I think you are on wrong thought path.","body":"What business requirement prompted you for this technical design? I think you are on wrong thought path."},{"owner":{"account_id":9293601,"reputation":9,"user_id":6901294,"display_name":"Mr V"},"score":0,"creation_date":1475176151,"post_id":39778030,"comment_id":66850648,"body_markdown":"Hi Nambari, the app contains sensitive information and with tools available online anybody can decompile app and get sourcecode. So, just looking at ways to prevent this from happening.","body":"Hi Nambari, the app contains sensitive information and with tools available online anybody can decompile app and get sourcecode. So, just looking at ways to prevent this from happening."},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1475176285,"post_id":39778030,"comment_id":66850714,"body_markdown":"If it has sensitive information, you better think about &#39;encryption&#39; or server/client(app) approach. You suggested approach simply not supported by underlying platform.","body":"If it has sensitive information, you better think about &#39;encryption&#39; or server/client(app) approach. You suggested approach simply not supported by underlying platform."},{"owner":{"account_id":413213,"reputation":35885,"user_id":786718,"accept_rate":87,"display_name":"DeeV"},"score":0,"creation_date":1475176369,"post_id":39778030,"comment_id":66850756,"body_markdown":"Everything is compiled in to the APK before you even start the app.  Whatever sensitive information such as security keys must be downloaded after you run the app and *not saved on the device at all*.  If you want more security, you can look in to tools like DexGuard. DexGuard will *not* prevent people from seeing everything though. Just makes it harder. https://www.guardsquare.com/dexguard","body":"Everything is compiled in to the APK before you even start the app.  Whatever sensitive information such as security keys must be downloaded after you run the app and <i>not saved on the device at all</i>.  If you want more security, you can look in to tools like DexGuard. DexGuard will <i>not</i> prevent people from seeing everything though. Just makes it harder. <a href=\"https://www.guardsquare.com/dexguard\" rel=\"nofollow noreferrer\">guardsquare.com/dexguard</a>"}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1475176071,"creation_date":1475176071,"answer_id":39778175,"question_id":39778030,"body_markdown":"You can&#39;t.  The idea of an app is that the code run on the device is local.  Not running downloaded code is part of the design.  Can you imagine what a security nightmare it would be to run non-sandboxed code downloaded from a server at runtime?","title":"How to load MainActivity.java from server?","body":"<p>You can't.  The idea of an app is that the code run on the device is local.  Not running downloaded code is part of the design.  Can you imagine what a security nightmare it would be to run non-sandboxed code downloaded from a server at runtime?</p>\n"},{"tags":[],"owner":{"account_id":23640416,"reputation":1,"user_id":17670746,"display_name":"abdul rasheed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651356645,"creation_date":1651356645,"answer_id":72072552,"question_id":39778030,"body_markdown":"i too really want to load a method from server , by which I can make changes in the method without upda","title":"How to load MainActivity.java from server?","body":"<p>i too really want to load a method from server , by which I can make changes in the method without upda</p>\n"}],"owner":{"account_id":9293601,"reputation":9,"user_id":6901294,"display_name":"Mr V"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651356645,"creation_date":1475175503,"question_id":39778030,"body_markdown":"I&#39;m developing an app in which the code is in MainActivity.java (locally) but I would like know how can I load MainActivity.java externally?\r\n\r\nExample: Save the MainActivity.java on my web server. When the app loads, it get MainActivity.java from my server rather than locally?\r\n\r\nI&#39;ve been searching the web and Stack Overflow but haven&#39;t had any luck.","title":"How to load MainActivity.java from server?","body":"<p>I'm developing an app in which the code is in MainActivity.java (locally) but I would like know how can I load MainActivity.java externally?</p>\n\n<p>Example: Save the MainActivity.java on my web server. When the app loads, it get MainActivity.java from my server rather than locally?</p>\n\n<p>I've been searching the web and Stack Overflow but haven't had any luck.</p>\n"},{"tags":["java","hibernate","hql","hbm","hbmxml"],"answers":[{"tags":[],"owner":{"account_id":17961884,"reputation":41,"user_id":13052677,"display_name":"Diallo Mamadou Path&#233;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651224565,"creation_date":1651224047,"answer_id":72055665,"question_id":72049823,"body_markdown":"you can try this.\r\n\r\nDo you need to format the dates?\r\n```\r\nQuery query = session.createQuery(&quot;FROM USER us WHERE :from_date between us.hiDate and us.depDate&quot;);\r\nquery.setParameter( &quot;from_date &quot;, from_date );\r\n```","title":"Get user data between two date in Hibernate Java","body":"<p>you can try this.</p>\n<p>Do you need to format the dates?</p>\n<pre><code>Query query = session.createQuery(&quot;FROM USER us WHERE :from_date between us.hiDate and us.depDate&quot;);\nquery.setParameter( &quot;from_date &quot;, from_date );\n</code></pre>\n"}],"owner":{"account_id":24280012,"reputation":123,"user_id":18226690,"display_name":"ln3106"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1651356529,"creation_date":1651177622,"question_id":72049823,"body_markdown":"i have an hibernate entity called user.I want to get the list of users who are between two dates a date interval. Example, I have a date D1 and I want to know the people hired between my hiDate and my depDate.\r\nHere is the mapping of the hibernate file of my user entity\r\n\r\n    &lt;class name=&quot;com.bam.model.User&quot; table=&quot;USER&quot;&gt;\r\n    \t\t&lt;composite-id class=&quot;com.bam.model.UserId&quot; name=&quot;id&quot;&gt;\r\n    \t\t\t&lt;key-property name=&quot;idUser&quot; type=&quot;java.lang.String&quot;&gt;\r\n    \t\t\t\t&lt;column name=&quot;ID_USER&quot; not-null=&quot;true&quot; precision=&quot;0&quot; scale=&quot;30&quot; sql-type=&quot;varchar&quot;/&gt;\r\n    \t\t\t&lt;/key-property&gt;\r\n    \t\t\t&lt;key-property name=&quot;idCompany&quot; type=&quot;java.lang.String&quot;&gt;\r\n    \t\t\t\t&lt;column name=&quot;ID_COMPANY&quot; not-null=&quot;true&quot; precision=&quot;0&quot; scale=&quot;30&quot; sql-type=&quot;varchar&quot;/&gt;\r\n    \t\t\t&lt;/key-property&gt;\r\n    \t\t&lt;/composite-id&gt; \r\n    \t\t&lt;property name=&quot;gender&quot; type=&quot;java.lang.String&quot;&gt;\r\n    \t\t\t&lt;column name=&quot;GENDER&quot; not-null=&quot;false&quot; precision=&quot;0&quot; scale=&quot;4&quot; sql-type=&quot;varchar&quot;/&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;firstname&quot; type=&quot;java.lang.String&quot;&gt;\r\n    \t\t\t&lt;column name=&quot;FIRSTNAME&quot; not-null=&quot;false&quot; precision=&quot;0&quot; scale=&quot;100&quot; sql-type=&quot;varchar&quot;/&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;lastname&quot; type=&quot;java.lang.String&quot;&gt;\r\n    \t\t\t&lt;column name=&quot;LASTNAME&quot; not-null=&quot;false&quot; precision=&quot;0&quot; scale=&quot;100&quot; sql-type=&quot;varchar&quot;/&gt;\r\n    \t\t&lt;/property&gt;\r\n    \r\n    \t\t\r\n    &lt;/class&gt;\r\n\r\n\r\nHere is also the class of my user entity.\r\n\r\n    @XmlRootElement(name = &quot;user&quot;)\r\n    public class User implements Serializable {\r\n    \r\n        @XmlElement(name = &quot;id&quot;)\r\n        private UserId id;\r\n    \r\n        @XmlElement(name = &quot;gender&quot;)\r\n        private String gender;\r\n    \r\n        @XmlElement(name = &quot;firstName&quot;)\r\n        private String firstname;\r\n    \r\n        @XmlElement(name = &quot;lastName&quot;)\r\n        private String lastname;\r\n    }\r\n\r\nThe query that I will write with the hql language is this one : \r\n\r\n    Query query = session.createQuery(&quot;SELECT * FROM USER us oh WHERE   DATE_FORMAT(us.HI_DATE,&#39;%dd-%mm-%YYYY&#39;) &lt;= :from_date &lt;= DATE_FORMAT(us.DEP_DATE&#39;%dd-%mm-%YYYY&#39;) &quot;);\r\n    query.setParameter( &quot;from_date &quot;, from_date );\r\n\r\nbut it doesn&#39;t work, any idea ?","title":"Get user data between two date in Hibernate Java","body":"<p>i have an hibernate entity called user.I want to get the list of users who are between two dates a date interval. Example, I have a date D1 and I want to know the people hired between my hiDate and my depDate.\nHere is the mapping of the hibernate file of my user entity</p>\n<pre><code>&lt;class name=&quot;com.bam.model.User&quot; table=&quot;USER&quot;&gt;\n        &lt;composite-id class=&quot;com.bam.model.UserId&quot; name=&quot;id&quot;&gt;\n            &lt;key-property name=&quot;idUser&quot; type=&quot;java.lang.String&quot;&gt;\n                &lt;column name=&quot;ID_USER&quot; not-null=&quot;true&quot; precision=&quot;0&quot; scale=&quot;30&quot; sql-type=&quot;varchar&quot;/&gt;\n            &lt;/key-property&gt;\n            &lt;key-property name=&quot;idCompany&quot; type=&quot;java.lang.String&quot;&gt;\n                &lt;column name=&quot;ID_COMPANY&quot; not-null=&quot;true&quot; precision=&quot;0&quot; scale=&quot;30&quot; sql-type=&quot;varchar&quot;/&gt;\n            &lt;/key-property&gt;\n        &lt;/composite-id&gt; \n        &lt;property name=&quot;gender&quot; type=&quot;java.lang.String&quot;&gt;\n            &lt;column name=&quot;GENDER&quot; not-null=&quot;false&quot; precision=&quot;0&quot; scale=&quot;4&quot; sql-type=&quot;varchar&quot;/&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;firstname&quot; type=&quot;java.lang.String&quot;&gt;\n            &lt;column name=&quot;FIRSTNAME&quot; not-null=&quot;false&quot; precision=&quot;0&quot; scale=&quot;100&quot; sql-type=&quot;varchar&quot;/&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;lastname&quot; type=&quot;java.lang.String&quot;&gt;\n            &lt;column name=&quot;LASTNAME&quot; not-null=&quot;false&quot; precision=&quot;0&quot; scale=&quot;100&quot; sql-type=&quot;varchar&quot;/&gt;\n        &lt;/property&gt;\n\n        \n&lt;/class&gt;\n</code></pre>\n<p>Here is also the class of my user entity.</p>\n<pre><code>@XmlRootElement(name = &quot;user&quot;)\npublic class User implements Serializable {\n\n    @XmlElement(name = &quot;id&quot;)\n    private UserId id;\n\n    @XmlElement(name = &quot;gender&quot;)\n    private String gender;\n\n    @XmlElement(name = &quot;firstName&quot;)\n    private String firstname;\n\n    @XmlElement(name = &quot;lastName&quot;)\n    private String lastname;\n}\n</code></pre>\n<p>The query that I will write with the hql language is this one :</p>\n<pre><code>Query query = session.createQuery(&quot;SELECT * FROM USER us oh WHERE   DATE_FORMAT(us.HI_DATE,'%dd-%mm-%YYYY') &lt;= :from_date &lt;= DATE_FORMAT(us.DEP_DATE'%dd-%mm-%YYYY') &quot;);\nquery.setParameter( &quot;from_date &quot;, from_date );\n</code></pre>\n<p>but it doesn't work, any idea ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1462713365,"post_id":37100100,"comment_id":61742808,"body_markdown":"*&quot;but results are wrong&quot;* How are they wrong? What did you expect and what did you get.","body":"<i>&quot;but results are wrong&quot;</i> How are they wrong? What did you expect and what did you get."}],"answers":[{"tags":[],"owner":{"account_id":219257,"reputation":11430,"user_id":476048,"accept_rate":72,"display_name":"Berin Loritsch"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1462735203,"creation_date":1462713029,"answer_id":37100223,"question_id":37100100,"body_markdown":"What you are experiencing is known as a _race condition_.  That means due to the order of threads operating, you can get two threads thinking they decremented something but only one did, etc.\r\n\r\nTo address this, you have two options:\r\n\r\n* `synchronized` -- which is pretty heavy handed, and unless you put it at the smallest critical section is going to be too much.\r\n* [`AtomicInteger`][1] -- which makes sure that the integer is incremented or decremented safely across threads.\r\n\r\nTo fix your example and still use `synchronized`, your code should look like this:\r\n\r\n    class windows implements Runnable\r\n    {\r\n        int tickets=1000;\r\n        public void run()\r\n        {\r\n            while(tickets&gt;0)\r\n            {\r\n                synchronized(this)\r\n                {\r\n                    System.out.println(Thread.currentThread().getName()+&quot; is saling&quot;+tickets);\r\n                    tickets--;\r\n                }\r\n             }\r\n         }\r\n     }\r\n\r\nOf course, the down side to that is you have to remember to `synchronize` all access to the variable. \r\n\r\nUsing `AtomicInteger` the process is much easier to control:\r\n\r\n    class windows implements Runnable\r\n    {\r\n        AtomicInteger tickets = new AtomicInteger(1000);\r\n        public void run()\r\n        {\r\n            while(tickets.get() &gt; 0)\r\n            {\r\n                System.out.println(Thread.currentThread().getName()\r\n                    + &quot; is saling&quot; + tickets.decrementAndGet());\r\n             }\r\n         }\r\n     }\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/atomic/AtomicInteger.html","title":"i want to test java multithread ,but only one thread run","body":"<p>What you are experiencing is known as a <em>race condition</em>.  That means due to the order of threads operating, you can get two threads thinking they decremented something but only one did, etc.</p>\n\n<p>To address this, you have two options:</p>\n\n<ul>\n<li><code>synchronized</code> -- which is pretty heavy handed, and unless you put it at the smallest critical section is going to be too much.</li>\n<li><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow\"><code>AtomicInteger</code></a> -- which makes sure that the integer is incremented or decremented safely across threads.</li>\n</ul>\n\n<p>To fix your example and still use <code>synchronized</code>, your code should look like this:</p>\n\n<pre><code>class windows implements Runnable\n{\n    int tickets=1000;\n    public void run()\n    {\n        while(tickets&gt;0)\n        {\n            synchronized(this)\n            {\n                System.out.println(Thread.currentThread().getName()+\" is saling\"+tickets);\n                tickets--;\n            }\n         }\n     }\n }\n</code></pre>\n\n<p>Of course, the down side to that is you have to remember to <code>synchronize</code> all access to the variable. </p>\n\n<p>Using <code>AtomicInteger</code> the process is much easier to control:</p>\n\n<pre><code>class windows implements Runnable\n{\n    AtomicInteger tickets = new AtomicInteger(1000);\n    public void run()\n    {\n        while(tickets.get() &gt; 0)\n        {\n            System.out.println(Thread.currentThread().getName()\n                + \" is saling\" + tickets.decrementAndGet());\n         }\n     }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1462714843,"creation_date":1462714843,"answer_id":37100472,"question_id":37100100,"body_markdown":"When you synchronize the entire loop, the first thread will get the lock and will count down to 0. The other 3 threads will wait until first thread releases the lock, at which point there&#39;s nothing left for them to do. In effect, the result is single-threaded.\r\n\r\nTo work correctly, you need to synchronize inside the loop, so the other threads can work too.\r\n\r\nHowever, the first thread may still be **too fast**, so that it ends up doing all the work. To better simulate what you want, add a delay outside the synchronize block *(making a sale takes time, you know)*. Added minimum delay of 1ms in the code below.\r\n\r\nAnd finally, Java naming convention is for class names to start with an Uppercase letter, so it should be named `Windows`.\r\n\r\n\tclass Windows implements Runnable {\r\n\t\tprivate int tickets = 1000;\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tString threadName = Thread.currentThread().getName();\r\n\t\t\tfor (;;) { // loop forever\r\n\t\t\t\tsynchronized (this){\r\n\t\t\t\t\tif (this.tickets == 0)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tSystem.out.println(threadName + &quot; is saling &quot; + this.tickets);\r\n\t\t\t\t\tthis.tickets--;\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(1);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n**OUTPUT**\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n\tThread-0 is saling 1000\r\n\tThread-2 is saling 999\r\n\tThread-3 is saling 998\r\n\tThread-1 is saling 997\r\n\tThread-0 is saling 996\r\n\tThread-1 is saling 995\r\n\tThread-2 is saling 994\r\n\tThread-3 is saling 993\r\n\tThread-0 is saling 992\r\n\tThread-1 is saling 991\r\n\tThread-3 is saling 990\r\n\tThread-2 is saling 989\r\n            . . .\r\n\tThread-2 is saling 11\r\n\tThread-1 is saling 10\r\n\tThread-0 is saling 9\r\n\tThread-3 is saling 8\r\n\tThread-0 is saling 7\r\n\tThread-1 is saling 6\r\n\tThread-2 is saling 5\r\n\tThread-1 is saling 4\r\n\tThread-0 is saling 3\r\n\tThread-3 is saling 2\r\n\tThread-2 is saling 1","title":"i want to test java multithread ,but only one thread run","body":"<p>When you synchronize the entire loop, the first thread will get the lock and will count down to 0. The other 3 threads will wait until first thread releases the lock, at which point there's nothing left for them to do. In effect, the result is single-threaded.</p>\n\n<p>To work correctly, you need to synchronize inside the loop, so the other threads can work too.</p>\n\n<p>However, the first thread may still be <strong>too fast</strong>, so that it ends up doing all the work. To better simulate what you want, add a delay outside the synchronize block <em>(making a sale takes time, you know)</em>. Added minimum delay of 1ms in the code below.</p>\n\n<p>And finally, Java naming convention is for class names to start with an Uppercase letter, so it should be named <code>Windows</code>.</p>\n\n<pre><code>class Windows implements Runnable {\n    private int tickets = 1000;\n    @Override\n    public void run() {\n        String threadName = Thread.currentThread().getName();\n        for (;;) { // loop forever\n            synchronized (this){\n                if (this.tickets == 0)\n                    break;\n                System.out.println(threadName + \" is saling \" + this.tickets);\n                this.tickets--;\n            }\n            try {\n                Thread.sleep(1);\n            } catch (InterruptedException e) {\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Thread-0 is saling 1000\nThread-2 is saling 999\nThread-3 is saling 998\nThread-1 is saling 997\nThread-0 is saling 996\nThread-1 is saling 995\nThread-2 is saling 994\nThread-3 is saling 993\nThread-0 is saling 992\nThread-1 is saling 991\nThread-3 is saling 990\nThread-2 is saling 989\n        . . .\nThread-2 is saling 11\nThread-1 is saling 10\nThread-0 is saling 9\nThread-3 is saling 8\nThread-0 is saling 7\nThread-1 is saling 6\nThread-2 is saling 5\nThread-1 is saling 4\nThread-0 is saling 3\nThread-3 is saling 2\nThread-2 is saling 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7971290,"reputation":321,"user_id":6015878,"display_name":"Bruce H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462716768,"creation_date":1462716768,"answer_id":37100760,"question_id":37100100,"body_markdown":"You do need to synchronize due to the tickets member being accessed by multiple threads.  But because you are basing the run method on while tickets &gt; 0, only 1 thread will ever run until the end.  One solution would be to tie the execution of the thread to another variable and have the run method just decrement tickets once, then sleep so other threads can have a chance to run.  For example, if you refactor your windows class as follows, then it will do what I think you want it to do.\r\n\r\n    class windows implements Runnable {\r\n        volatile boolean finished = false;\r\n        int tickets = 1000;\r\n\r\n        public void run() {\r\n            while(!finished) {\r\n                synchronized(this) {\r\n                    if (tickets &gt; 0) {\r\n                        System.out.println(Thread.currentThread().getName()+&quot; is selling &quot; + tickets);\r\n                        tickets--;\r\n\r\n                        if (tickets &lt;= 0) {\r\n                            finished = true;\r\n                        }\r\n                    }\r\n                }\r\n                try {\r\n                    Thread.sleep(10);\r\n                }\r\n                catch(InterruptedException ex) {\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"i want to test java multithread ,but only one thread run","body":"<p>You do need to synchronize due to the tickets member being accessed by multiple threads.  But because you are basing the run method on while tickets > 0, only 1 thread will ever run until the end.  One solution would be to tie the execution of the thread to another variable and have the run method just decrement tickets once, then sleep so other threads can have a chance to run.  For example, if you refactor your windows class as follows, then it will do what I think you want it to do.</p>\n\n<pre><code>class windows implements Runnable {\n    volatile boolean finished = false;\n    int tickets = 1000;\n\n    public void run() {\n        while(!finished) {\n            synchronized(this) {\n                if (tickets &gt; 0) {\n                    System.out.println(Thread.currentThread().getName()+\" is selling \" + tickets);\n                    tickets--;\n\n                    if (tickets &lt;= 0) {\n                        finished = true;\n                    }\n                }\n            }\n            try {\n                Thread.sleep(10);\n            }\n            catch(InterruptedException ex) {\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22804474,"reputation":26,"user_id":16956685,"display_name":"Heisenberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651355966,"creation_date":1632169536,"answer_id":69260411,"question_id":37100100,"body_markdown":"From your code I understand that you are trying to replicate a Sales Window in Real Life for the Tickets.\r\nAnalogy (Look at the Image Link at the bottom of answer):\r\nA place for sales of Tickets (Say, concert Tickets). This place has multiple Sections/Windows from where the exchange of money happens and the concert ticket is provided. Behind the Window there is a person that actually takes the money and gives u the ticket. Since in your example there is nothing related to money, so this is just a one sided exchange. Basically the person behind the window gives the ticket when ever a customer comes (Customer coming is like thread getting executed in your example).\r\n\r\n\r\nThere are only limited finite number of Ticket, each having a *unique* ticket number between 1 to 1000.\r\n\r\nYour code has same instance of Runnable Window. And this same instance is provided  for execution to all threads (All different Instances of Thread).\r\nSo your Real Life Design becomes like : \r\nThat the same person will give you the tickets from Window 1, 2, 3 etc. But at one time only one window can be taken care by this person.\r\nSo making your code effectively to run as Single Processer/Core code but poorer performance than the sequential code as the thread switching (if occurred) will have more overheads.\r\n\r\nNow lets say we had multiple sales person - One for each window. Then the question becomes of NOT selling the same ticket by different sales person (Race Condition). \r\n\r\nFor this all the sales person have to take a ticket from a box one at a time. I.E. the part of getting the ticket is the only part that needs to be synchronized. This would be best achieved by Atomic Integers. Other answers have more than required chunk of code with in their synchronized blocks. This part has been answered (as per me) by @Berin Loritsch reply.\r\n\r\n    class TicketSeller /* Not windows*/ implements Runnable {\r\n            AtomicInteger tickets = new AtomicInteger(1000);\r\n    \r\n            public void run() {\r\n                while (tickets.get() &gt; 0) {\r\n                    System.out.println(Thread.currentThread().getName()\r\n                            + &quot; is saling&quot; + tickets.decrementAndGet());\r\n                }\r\n            }\r\n        }\r\n\r\n    public class ThreadText {\r\n        public static void main(String[] args) {\r\n            Thread t1 = new Thread(new TicketSeller());\r\n            Thread t2 = new Thread(new TicketSeller());\r\n            Thread t3 = new Thread(new TicketSeller());\r\n            Thread t4 = new Thread(new TicketSeller());                        \r\n            /*four threads, four windows from where the ticket can be provided by 4 \r\n              different TicketSellers*/\r\n            t1.start();\r\n            t2.start();\r\n            t3.start();\r\n            t4.start();\r\n        }\r\n     }\r\n\r\nWith this when a different thread comes into execution or multiple threads run in parallel the thread is not put to unnecessary sleep (And sleep doesn&#39;t even confirm avoiding of the race condition, by the way) and is blocked from execution for only a limited area of the code, i.e. tickets.get().\r\n\r\n\r\nOf course you can go a few steps ahead an optimize this even more. But that would require a lot more deeper understanding and complex thinking. E.g. Sales person is allocated a certain number of tickets. And ticket shuffling happens so that to optimize that maximum number of tickets are sold in quickest execution time by something managing the tickets that each SalePerson has.\r\n\r\n\r\nTicket Sale Window Example :\r\nhttps://www.google.com/imgres?imgurl=https%3A%2F%2Fimage.shutterstock.com%2Fimage-photo%2Fthree-windows-stadium-ticket-offices-260nw-1776188525.jpg&amp;imgrefurl=https%3A%2F%2Fwww.shutterstock.com%2Fsearch%2Ftickets%2Bwindow&amp;tbnid=BW8bA0aSqJTxaM&amp;vet=12ahUKEwiVvvrmp47zAhU6g0sFHW8TCekQMygEegUIARC9AQ..i&amp;docid=QQwLjL01dRWDoM&amp;w=390&amp;h=280&amp;q=Ticket%20Sale%20Window&amp;ved=2ahUKEwiVvvrmp47zAhU6g0sFHW8TCekQMygEegUIARC9AQ\r\n\r\n\r\n","title":"i want to test java multithread ,but only one thread run","body":"<p>From your code I understand that you are trying to replicate a Sales Window in Real Life for the Tickets.\nAnalogy (Look at the Image Link at the bottom of answer):\nA place for sales of Tickets (Say, concert Tickets). This place has multiple Sections/Windows from where the exchange of money happens and the concert ticket is provided. Behind the Window there is a person that actually takes the money and gives u the ticket. Since in your example there is nothing related to money, so this is just a one sided exchange. Basically the person behind the window gives the ticket when ever a customer comes (Customer coming is like thread getting executed in your example).</p>\n<p>There are only limited finite number of Ticket, each having a <em>unique</em> ticket number between 1 to 1000.</p>\n<p>Your code has same instance of Runnable Window. And this same instance is provided  for execution to all threads (All different Instances of Thread).\nSo your Real Life Design becomes like :\nThat the same person will give you the tickets from Window 1, 2, 3 etc. But at one time only one window can be taken care by this person.\nSo making your code effectively to run as Single Processer/Core code but poorer performance than the sequential code as the thread switching (if occurred) will have more overheads.</p>\n<p>Now lets say we had multiple sales person - One for each window. Then the question becomes of NOT selling the same ticket by different sales person (Race Condition).</p>\n<p>For this all the sales person have to take a ticket from a box one at a time. I.E. the part of getting the ticket is the only part that needs to be synchronized. This would be best achieved by Atomic Integers. Other answers have more than required chunk of code with in their synchronized blocks. This part has been answered (as per me) by @Berin Loritsch reply.</p>\n<pre><code>class TicketSeller /* Not windows*/ implements Runnable {\n        AtomicInteger tickets = new AtomicInteger(1000);\n\n        public void run() {\n            while (tickets.get() &gt; 0) {\n                System.out.println(Thread.currentThread().getName()\n                        + &quot; is saling&quot; + tickets.decrementAndGet());\n            }\n        }\n    }\n\npublic class ThreadText {\n    public static void main(String[] args) {\n        Thread t1 = new Thread(new TicketSeller());\n        Thread t2 = new Thread(new TicketSeller());\n        Thread t3 = new Thread(new TicketSeller());\n        Thread t4 = new Thread(new TicketSeller());                        \n        /*four threads, four windows from where the ticket can be provided by 4 \n          different TicketSellers*/\n        t1.start();\n        t2.start();\n        t3.start();\n        t4.start();\n    }\n }\n</code></pre>\n<p>With this when a different thread comes into execution or multiple threads run in parallel the thread is not put to unnecessary sleep (And sleep doesn't even confirm avoiding of the race condition, by the way) and is blocked from execution for only a limited area of the code, i.e. tickets.get().</p>\n<p>Of course you can go a few steps ahead an optimize this even more. But that would require a lot more deeper understanding and complex thinking. E.g. Sales person is allocated a certain number of tickets. And ticket shuffling happens so that to optimize that maximum number of tickets are sold in quickest execution time by something managing the tickets that each SalePerson has.</p>\n<p>Ticket Sale Window Example :\n<a href=\"https://www.google.com/imgres?imgurl=https%3A%2F%2Fimage.shutterstock.com%2Fimage-photo%2Fthree-windows-stadium-ticket-offices-260nw-1776188525.jpg&amp;imgrefurl=https%3A%2F%2Fwww.shutterstock.com%2Fsearch%2Ftickets%2Bwindow&amp;tbnid=BW8bA0aSqJTxaM&amp;vet=12ahUKEwiVvvrmp47zAhU6g0sFHW8TCekQMygEegUIARC9AQ..i&amp;docid=QQwLjL01dRWDoM&amp;w=390&amp;h=280&amp;q=Ticket%20Sale%20Window&amp;ved=2ahUKEwiVvvrmp47zAhU6g0sFHW8TCekQMygEegUIARC9AQ\" rel=\"nofollow noreferrer\">https://www.google.com/imgres?imgurl=https%3A%2F%2Fimage.shutterstock.com%2Fimage-photo%2Fthree-windows-stadium-ticket-offices-260nw-1776188525.jpg&amp;imgrefurl=https%3A%2F%2Fwww.shutterstock.com%2Fsearch%2Ftickets%2Bwindow&amp;tbnid=BW8bA0aSqJTxaM&amp;vet=12ahUKEwiVvvrmp47zAhU6g0sFHW8TCekQMygEegUIARC9AQ..i&amp;docid=QQwLjL01dRWDoM&amp;w=390&amp;h=280&amp;q=Ticket%20Sale%20Window&amp;ved=2ahUKEwiVvvrmp47zAhU6g0sFHW8TCekQMygEegUIARC9AQ</a></p>\n"}],"owner":{"account_id":8378083,"reputation":13,"user_id":6290983,"display_name":"liang lei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2222,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":37100472,"answer_count":4,"score":0,"last_activity_date":1651355966,"creation_date":1462712308,"question_id":37100100,"body_markdown":"    public class ThreadText\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            windows w=new windows();\r\n            Thread t1=new Thread(w);\r\n            Thread t2=new Thread(w);\r\n            Thread t3=new Thread(w);\r\n            Thread t4=new Thread(w);/*four threads*/\r\n            t1.start();\r\n            t2.start();\r\n            t3.start();\r\n            t4.start();\r\n         }\r\n    }\r\n\r\n\r\n----------\r\n\r\ni want to use four windows to sale 1000 tickets\r\n----------\r\n\r\n    class windows implements Runnable\r\n        {\r\n        int tickets=1000;\r\n        public void run()\r\n        {\r\n        synchronized(this)\r\n        {\r\n            while(tickets&gt;0)\r\n            {\r\n                System.out.println(Thread.currentThread().getName()+&quot; is saling&quot;+tickets);\r\n                tickets--;\r\n            }\r\n        }/*i think problem is here*/\t\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\nwhen i don&#39;t use synchronized ,all threads run,but results are wrong.\r\nsome tickets number are same.the correct result is that every window gets different ticket number. \r\n\r\nThanks\r\n----------","title":"i want to test java multithread ,but only one thread run","body":"<pre><code>public class ThreadText\n{\n    public static void main(String[] args)\n    {\n        windows w=new windows();\n        Thread t1=new Thread(w);\n        Thread t2=new Thread(w);\n        Thread t3=new Thread(w);\n        Thread t4=new Thread(w);/*four threads*/\n        t1.start();\n        t2.start();\n        t3.start();\n        t4.start();\n     }\n}\n</code></pre>\n\n<hr>\n\n<h2>i want to use four windows to sale 1000 tickets</h2>\n\n<pre><code>class windows implements Runnable\n    {\n    int tickets=1000;\n    public void run()\n    {\n    synchronized(this)\n    {\n        while(tickets&gt;0)\n        {\n            System.out.println(Thread.currentThread().getName()+\" is saling\"+tickets);\n            tickets--;\n        }\n    }/*i think problem is here*/    \n    }\n}\n</code></pre>\n\n<hr>\n\n<p>when i don't use synchronized ,all threads run,but results are wrong.\nsome tickets number are same.the correct result is that every window gets different ticket number. </p>\n\n<h2>Thanks</h2>\n"},{"tags":["java","postgresql","spring-boot","jpa","axon"],"answers":[{"tags":[],"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600690320,"creation_date":1600690320,"answer_id":63992060,"question_id":63544567,"body_markdown":"Honestly, you&#39;ve gone pretty deep on the matter here @Zon. Unsure whether I can help you sufficiently, but I will give it a go regardless.\r\n\r\nResearch point 1 is obviously the most pragmatic solution to get things to work right now. If you are going to notice the &quot;ineffeciency&quot; of `String` compared to `UUID` is something I&#39;d be hard pressed about. So if this is an absolute no no, investigation should proceed. Otherwise, it does get the job done of course.\r\n\r\nWhen it comes to research points 2 and 3, I believe you are hitting an issue with the dialect being used for PostgreSQL, although I am not a 100% certain here. Especially PostgreSQL brandishes a couple of &quot;awesome&quot; types, but these do not always automatically work in all scenarios. I am basing my &quot;guesswork&quot; here on forcing PostgreSQL to use `BYTEA` instead of `OID` in case you want to should down Postgres&#39; [TOAST][1] capability. This becomes especially handy if you opt to use Postgres for your event store and want to be able to actually see the contents of events. This blog post for example specifies how to deal with this. More importantly, this [blog][2] post shows how you could for example adjust the dialect being used. Maybe that could serve you in solutions 2 and 3?\r\n\r\nOption 4 should in this case be the most logical solution to take. But I gather from your response that you didn&#39;t get it to work at the moment. When combing Axon with Spring, the `SpringAxonAutoConfigurer` (from which you are referring the `registerAggregateBeanDefinitions` method from I believe) will automatically check for configurable beans on your Aggregate. It does so based on fields defined in the `@Aggregate` (i.e. Axon&#39;s Spring stereotype annotation). More specifically, you can use the `repository` field in the `@Aggregate` to define the bean name of the repository you want to use.\r\n\r\nYou should thus simply be able to provide a `GenericJpaRepository` bean with the desired `identifierConverter`. The name of that bean can than be specified in the `@Aggregate` annotation on your `MyAggregate`, so that Axon&#39;s auto config can pick it up correctly. Hope this helps you out!\r\n\r\n  [1]: https://wiki.postgresql.org/wiki/TOAST\r\n  [2]: https://blog.trifork.com/2017/10/09/axon-postgresql-without-toast/","title":"Axon Aggregate Identifier Type Converter","body":"<p>Honestly, you've gone pretty deep on the matter here @Zon. Unsure whether I can help you sufficiently, but I will give it a go regardless.</p>\n<p>Research point 1 is obviously the most pragmatic solution to get things to work right now. If you are going to notice the &quot;ineffeciency&quot; of <code>String</code> compared to <code>UUID</code> is something I'd be hard pressed about. So if this is an absolute no no, investigation should proceed. Otherwise, it does get the job done of course.</p>\n<p>When it comes to research points 2 and 3, I believe you are hitting an issue with the dialect being used for PostgreSQL, although I am not a 100% certain here. Especially PostgreSQL brandishes a couple of &quot;awesome&quot; types, but these do not always automatically work in all scenarios. I am basing my &quot;guesswork&quot; here on forcing PostgreSQL to use <code>BYTEA</code> instead of <code>OID</code> in case you want to should down Postgres' <a href=\"https://wiki.postgresql.org/wiki/TOAST\" rel=\"nofollow noreferrer\">TOAST</a> capability. This becomes especially handy if you opt to use Postgres for your event store and want to be able to actually see the contents of events. This blog post for example specifies how to deal with this. More importantly, this <a href=\"https://blog.trifork.com/2017/10/09/axon-postgresql-without-toast/\" rel=\"nofollow noreferrer\">blog</a> post shows how you could for example adjust the dialect being used. Maybe that could serve you in solutions 2 and 3?</p>\n<p>Option 4 should in this case be the most logical solution to take. But I gather from your response that you didn't get it to work at the moment. When combing Axon with Spring, the <code>SpringAxonAutoConfigurer</code> (from which you are referring the <code>registerAggregateBeanDefinitions</code> method from I believe) will automatically check for configurable beans on your Aggregate. It does so based on fields defined in the <code>@Aggregate</code> (i.e. Axon's Spring stereotype annotation). More specifically, you can use the <code>repository</code> field in the <code>@Aggregate</code> to define the bean name of the repository you want to use.</p>\n<p>You should thus simply be able to provide a <code>GenericJpaRepository</code> bean with the desired <code>identifierConverter</code>. The name of that bean can than be specified in the <code>@Aggregate</code> annotation on your <code>MyAggregate</code>, so that Axon's auto config can pick it up correctly. Hope this helps you out!</p>\n"},{"tags":[],"owner":{"account_id":6757114,"reputation":109,"user_id":5222782,"display_name":"Michael Jeszenka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651355192,"creation_date":1651355192,"answer_id":72072399,"question_id":63544567,"body_markdown":"Here is a working solution for option #3, creating a custom GenericJpaRepository for each aggregate. Similar how Spring does a component scan, this will scan for classes with `@Aggregate` from a base package, which can either be defined in your properties file or replace in this config class with a literal.\r\n\r\n```\r\n@Configuration\r\npublic class GenericJpaRepositoryConfig {\r\n\r\n\t@Value(&quot;${base-package}&quot;)\r\n\tprivate String basePackage;\r\n\r\n\t@Autowired\r\n\tpublic void registerGenericJpaRepositories(ApplicationContext applicationContext,\r\n\t\t\t\t\t\t\t\t\t\t\t   EntityManagerProvider provider,\r\n\t\t\t\t\t\t\t\t\t\t\t   @Qualifier(&quot;eventBus&quot;) EventBus simpleEventBus) throws ClassNotFoundException {\r\n\r\n\t\tList&lt;Class&lt;?&gt;&gt; classes = this.getAggregateClasses();\r\n\r\n\t\tConfigurableApplicationContext context = (ConfigurableApplicationContext) applicationContext;\r\n\t\tDefaultListableBeanFactory beanFactory = (DefaultListableBeanFactory) context.getBeanFactory();\r\n\r\n\t\tfor (Class&lt;?&gt; clazz : classes) {\r\n\t\t\tGenericJpaRepository&lt;?&gt; repository = aggregateJpaRepository(provider, simpleEventBus, clazz);\r\n\t\t\tbeanFactory.registerSingleton(&quot;axon&quot; + clazz.getSimpleName() + &quot;Repository&quot;, repository);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate &lt;T&gt; GenericJpaRepository&lt;T&gt; aggregateJpaRepository(\r\n\t\t\tEntityManagerProvider provider,\r\n\t\t\tEventBus simpleEventBus,\r\n\t\t\tClass&lt;T&gt; className) {\r\n\r\n\t\treturn GenericJpaRepository\r\n\t\t\t\t.builder(className)\r\n\t\t\t\t.identifierConverter(UUID::fromString)\r\n\t\t\t\t.entityManagerProvider(provider)\r\n\t\t\t\t.eventBus(simpleEventBus)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\tprivate List&lt;Class&lt;?&gt;&gt; getAggregateClasses() throws ClassNotFoundException {\r\n\t\tClassPathScanningCandidateComponentProvider scanner =\r\n\t\t\t\tnew ClassPathScanningCandidateComponentProvider(true);\r\n\r\n\t\tList&lt;Class&lt;?&gt;&gt; classes = new ArrayList&lt;&gt;();\r\n\r\n\t\tif (basePackage == null || basePackage.isEmpty()) {\r\n\t\t\tbasePackage = this.getClass().getPackageName();\r\n\t\t}\r\n\r\n\t\tfor (BeanDefinition bd : scanner.findCandidateComponents(basePackage)) {\r\n\t\t\tClass&lt;?&gt; clazz = Class.forName(bd.getBeanClassName());\r\n\t\t\tAggregate annotation = clazz.getAnnotation(Aggregate.class);\r\n\r\n\t\t\tif (annotation != null) {\r\n\t\t\t\tclasses.add(clazz);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn classes;\r\n\t}\r\n}\r\n```\r\n\r\nNote that each created GenericJpaRepository has a name of the format `axon&lt;AggregateName&gt;Repository`. To get this to work with your aggregate class that you named `MyAggregate` you will need the annotation with the repository value: `@Aggregate(repository = &quot;axonMyAggregateRepository&quot;)`. Adding the repository name to the aggregate annotation was mentioned in Steven&#39;s answer, and is probably why your solution didn&#39;t work.","title":"Axon Aggregate Identifier Type Converter","body":"<p>Here is a working solution for option #3, creating a custom GenericJpaRepository for each aggregate. Similar how Spring does a component scan, this will scan for classes with <code>@Aggregate</code> from a base package, which can either be defined in your properties file or replace in this config class with a literal.</p>\n<pre><code>@Configuration\npublic class GenericJpaRepositoryConfig {\n\n    @Value(&quot;${base-package}&quot;)\n    private String basePackage;\n\n    @Autowired\n    public void registerGenericJpaRepositories(ApplicationContext applicationContext,\n                                               EntityManagerProvider provider,\n                                               @Qualifier(&quot;eventBus&quot;) EventBus simpleEventBus) throws ClassNotFoundException {\n\n        List&lt;Class&lt;?&gt;&gt; classes = this.getAggregateClasses();\n\n        ConfigurableApplicationContext context = (ConfigurableApplicationContext) applicationContext;\n        DefaultListableBeanFactory beanFactory = (DefaultListableBeanFactory) context.getBeanFactory();\n\n        for (Class&lt;?&gt; clazz : classes) {\n            GenericJpaRepository&lt;?&gt; repository = aggregateJpaRepository(provider, simpleEventBus, clazz);\n            beanFactory.registerSingleton(&quot;axon&quot; + clazz.getSimpleName() + &quot;Repository&quot;, repository);\n        }\n\n    }\n\n    private &lt;T&gt; GenericJpaRepository&lt;T&gt; aggregateJpaRepository(\n            EntityManagerProvider provider,\n            EventBus simpleEventBus,\n            Class&lt;T&gt; className) {\n\n        return GenericJpaRepository\n                .builder(className)\n                .identifierConverter(UUID::fromString)\n                .entityManagerProvider(provider)\n                .eventBus(simpleEventBus)\n                .build();\n    }\n\n    private List&lt;Class&lt;?&gt;&gt; getAggregateClasses() throws ClassNotFoundException {\n        ClassPathScanningCandidateComponentProvider scanner =\n                new ClassPathScanningCandidateComponentProvider(true);\n\n        List&lt;Class&lt;?&gt;&gt; classes = new ArrayList&lt;&gt;();\n\n        if (basePackage == null || basePackage.isEmpty()) {\n            basePackage = this.getClass().getPackageName();\n        }\n\n        for (BeanDefinition bd : scanner.findCandidateComponents(basePackage)) {\n            Class&lt;?&gt; clazz = Class.forName(bd.getBeanClassName());\n            Aggregate annotation = clazz.getAnnotation(Aggregate.class);\n\n            if (annotation != null) {\n                classes.add(clazz);\n            }\n\n        }\n\n        return classes;\n    }\n}\n</code></pre>\n<p>Note that each created GenericJpaRepository has a name of the format <code>axon&lt;AggregateName&gt;Repository</code>. To get this to work with your aggregate class that you named <code>MyAggregate</code> you will need the annotation with the repository value: <code>@Aggregate(repository = &quot;axonMyAggregateRepository&quot;)</code>. Adding the repository name to the aggregate annotation was mentioned in Steven's answer, and is probably why your solution didn't work.</p>\n"}],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1651355192,"creation_date":1598168703,"question_id":63544567,"body_markdown":"**PROBLEM:** In an aggregate-state Axon SpringBoot application `@AggregateIdentifier` is of type `UUID` and PostgreSQL database column is of type `UUID`. When persisted on create-commands - identifier is successfully stored. When sending update-command warning rises and command is not delivered to aggregate handler, because `@TargetAggregateIdentifier` expects String type [as described by Axon here][1]:\r\n\r\n&gt; java.lang.IllegalArgumentException: Provided id of the wrong type for\r\n&gt; class ....MyAggregate. Expected: class java.util.UUID, got class java.lang.String\r\n\r\n**RESEARCH:** \r\n\r\n 1. Working solution is to refactor the domain to `String` types for all aggregate indentifiers. Database `@Id` filed also should be converted to `varchar(36)` type to store `UUID.toString()` as primary key. Major minus is that it&#39;s inefficient: 9 times bigger size and slower String reads.\r\n 2. Minimal boilerplate and compromise solution is to refactor the domain to `String` types for all aggregate indentifiers and use `javax.persistence.Converters` to convert String to UUID in JPA layer while persisting:\r\n\r\n\r\n        @Converter\r\n        public class UuidJpaConverter implements AttributeConverter&lt;String, UUID&gt; {\r\n \r\n          @Override\r\n          public UUID convertToDatabaseColumn(String uuid) {\r\n            return fromString(uuid);\r\n          }\r\n\r\n          @Override\r\n          public String convertToEntityAttribute(UUID uuid) {\r\n            return uuid.toString();\r\n          }\r\n        }\r\n\r\n        ...\r\n\r\n        @Aggregate\r\n        @Entity\r\n        @IdClass(UuidKey.class)\r\n        public class MyAggregate implements Serializable {\r\n\r\n          @AggregateIdentifier\r\n          @Id\r\n          private String uuid;\r\n          ...\r\n        }\r\n\r\n        public class UuidKey implements Serializable {\r\n\r\n          @Column(name = &quot;uuid&quot;, nullable = false, updatable = false)\r\n          @Convert(converter = UuidJpaConverter.class)\r\n          private String uuid;\r\n        }\r\n\r\nBut it results in:\r\n\r\n&gt; o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column &quot;uuid&quot; is of type uuid but expression is of type bytea\r\n\r\n\r\n3. Use Axon identifier converter, but it requires custom GenericJpaRepository for each aggregate and actually never calls identifierConverter handler on a breakpoint:\r\n\r\n\r\n        @Configuration\r\n        public class IdentifierConverter {\r\n\r\n          @Bean\r\n          public GenericJpaRepository&lt;MyAggregate&gt; aggregateJpaRepository(\r\n              EntityManagerProvider provider,\r\n              @Qualifier(&quot;eventBus&quot;) EventBus simpleEventBus) {\r\n\r\n            GenericJpaRepository&lt;MyAggregate&gt; repository = GenericJpaRepository\r\n                .builder(MyAggregate.class)\r\n         -&gt;       .identifierConverter(name -&gt; UUID.fromString(name))\r\n                .entityManagerProvider(provider)\r\n                .eventBus(simpleEventBus)\r\n                .build();\r\n\r\n            return repository;\r\n          }\r\n        }\r\n\r\nAnd results in:\r\n\r\n&gt; o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column &quot;uuid&quot; is of\r\n&gt; type uuid but expression is of type character varying\r\n\r\n4. There is also a [suggested universal GenericJpaRepository solution][1] to find the type of the aggregate identifier and - unless it is already a String - convert it via the Spring conversion service. But it is not clear where to bind it added it to the `registerAggregateBeanDefinitions` in the configurer when we have Axon autoconfiguration and beans are expected in favour of [Configurer][2]:\r\n\r\n\r\n\r\n        final Class&lt;?&gt; aggregateIdentifierType = Stream.of( aggregateType.getDeclaredFields( ) )\r\n\t\t.filter( field -&gt; field.isAnnotationPresent( AggregateIdentifier.class ) )\r\n\t\t.map( field -&gt; field.getType( ) )\r\n\t\t.findFirst( )\r\n\t\t.orElseThrow( ( ) -&gt; new IllegalStateException( &quot;The aggregate &#39;&quot; + aggregate + &quot;&#39; does not have an identifier.&quot; ) );\r\n\r\n        aggregateConf.configureRepository(\r\n\t\tc -&gt; GenericJpaRepository.builder( aggregateType )\r\n\t\t\t\t.identifierConverter( string -&gt; {\r\n\t\t\t\t\tif ( aggregateType == String.class ) {\r\n\t\t\t\t\t\treturn string;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tfinal ConversionService conversionService = beanFactory.getBean( ConversionService.class );\r\n\t\t\t\t\t\t\treturn conversionService.convert( string, aggregateIdentifierType );\r\n\t\t\t\t\t\t} catch ( final NoSuchBeanDefinitionException ex ) {\r\n\t\t\t\t\t\t\tthrow new IllegalStateException( &quot;Unable to convert String to aggregate identifier of type &#39;&quot; + aggregateIdentifierType.getName( ) + &quot;&#39;. A conversion service is missing.&quot; );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} )\r\n\r\n        ...\r\n\r\n        @Named\r\n        final class MyIdConverter implements Converter&lt;String, MyId&gt; {\r\n\r\n        \t...\r\n\r\n        \t@Override\r\n        \tpublic MyId convert( final String source ) {\r\n        \t\treturn MyId.fromString( source );\r\n        \t}\r\n\r\n        }\r\n\r\n**QUESTION:** How to keep UUID type of aggregate identifier in PostgreSQL database - with `UUID` as preferred type for `@AggregateIdentifier` or at least `String`. Also why is only `String` currently supported if [at 2010 UUID was widely used in Axon][3]?\r\n\r\n\r\n  [1]: https://github.com/AxonFramework/AxonFramework/issues/1062\r\n  [2]: https://docs.axoniq.io/reference-guide/v/3.3/part-i-getting-started/configuration-api\r\n  [3]: https://groups.google.com/g/axonframework/c/09ZQ2HhjzoQ","title":"Axon Aggregate Identifier Type Converter","body":"<p><strong>PROBLEM:</strong> In an aggregate-state Axon SpringBoot application <code>@AggregateIdentifier</code> is of type <code>UUID</code> and PostgreSQL database column is of type <code>UUID</code>. When persisted on create-commands - identifier is successfully stored. When sending update-command warning rises and command is not delivered to aggregate handler, because <code>@TargetAggregateIdentifier</code> expects String type <a href=\"https://github.com/AxonFramework/AxonFramework/issues/1062\" rel=\"nofollow noreferrer\">as described by Axon here</a>:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Provided id of the wrong type for\nclass ....MyAggregate. Expected: class java.util.UUID, got class java.lang.String</p>\n</blockquote>\n<p><strong>RESEARCH:</strong></p>\n<ol>\n<li><p>Working solution is to refactor the domain to <code>String</code> types for all aggregate indentifiers. Database <code>@Id</code> filed also should be converted to <code>varchar(36)</code> type to store <code>UUID.toString()</code> as primary key. Major minus is that it's inefficient: 9 times bigger size and slower String reads.</p>\n</li>\n<li><p>Minimal boilerplate and compromise solution is to refactor the domain to <code>String</code> types for all aggregate indentifiers and use <code>javax.persistence.Converters</code> to convert String to UUID in JPA layer while persisting:</p>\n<pre><code>@Converter\npublic class UuidJpaConverter implements AttributeConverter&lt;String, UUID&gt; {\n\n  @Override\n  public UUID convertToDatabaseColumn(String uuid) {\n    return fromString(uuid);\n  }\n\n  @Override\n  public String convertToEntityAttribute(UUID uuid) {\n    return uuid.toString();\n  }\n}\n\n...\n\n@Aggregate\n@Entity\n@IdClass(UuidKey.class)\npublic class MyAggregate implements Serializable {\n\n  @AggregateIdentifier\n  @Id\n  private String uuid;\n  ...\n}\n\npublic class UuidKey implements Serializable {\n\n  @Column(name = &quot;uuid&quot;, nullable = false, updatable = false)\n  @Convert(converter = UuidJpaConverter.class)\n  private String uuid;\n}\n</code></pre>\n</li>\n</ol>\n<p>But it results in:</p>\n<blockquote>\n<p>o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column &quot;uuid&quot; is of type uuid but expression is of type bytea</p>\n</blockquote>\n<ol start=\"3\">\n<li><p>Use Axon identifier converter, but it requires custom GenericJpaRepository for each aggregate and actually never calls identifierConverter handler on a breakpoint:</p>\n<pre><code> @Configuration\n public class IdentifierConverter {\n\n   @Bean\n   public GenericJpaRepository&lt;MyAggregate&gt; aggregateJpaRepository(\n       EntityManagerProvider provider,\n       @Qualifier(&quot;eventBus&quot;) EventBus simpleEventBus) {\n\n     GenericJpaRepository&lt;MyAggregate&gt; repository = GenericJpaRepository\n         .builder(MyAggregate.class)\n  -&gt;       .identifierConverter(name -&gt; UUID.fromString(name))\n         .entityManagerProvider(provider)\n         .eventBus(simpleEventBus)\n         .build();\n\n     return repository;\n   }\n }\n</code></pre>\n</li>\n</ol>\n<p>And results in:</p>\n<blockquote>\n<p>o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column &quot;uuid&quot; is of\ntype uuid but expression is of type character varying</p>\n</blockquote>\n<ol start=\"4\">\n<li><p>There is also a <a href=\"https://github.com/AxonFramework/AxonFramework/issues/1062\" rel=\"nofollow noreferrer\">suggested universal GenericJpaRepository solution</a> to find the type of the aggregate identifier and - unless it is already a String - convert it via the Spring conversion service. But it is not clear where to bind it added it to the <code>registerAggregateBeanDefinitions</code> in the configurer when we have Axon autoconfiguration and beans are expected in favour of <a href=\"https://docs.axoniq.io/reference-guide/v/3.3/part-i-getting-started/configuration-api\" rel=\"nofollow noreferrer\">Configurer</a>:</p>\n<pre><code> final Class&lt;?&gt; aggregateIdentifierType = Stream.of( aggregateType.getDeclaredFields( ) )\n .filter( field -&gt; field.isAnnotationPresent( AggregateIdentifier.class ) )\n .map( field -&gt; field.getType( ) )\n .findFirst( )\n .orElseThrow( ( ) -&gt; new IllegalStateException( &quot;The aggregate '&quot; + aggregate + &quot;' does not have an identifier.&quot; ) );\n\n aggregateConf.configureRepository(\n c -&gt; GenericJpaRepository.builder( aggregateType )\n         .identifierConverter( string -&gt; {\n             if ( aggregateType == String.class ) {\n                 return string;\n             } else {\n                 try {\n                     final ConversionService conversionService = beanFactory.getBean( ConversionService.class );\n                     return conversionService.convert( string, aggregateIdentifierType );\n                 } catch ( final NoSuchBeanDefinitionException ex ) {\n                     throw new IllegalStateException( &quot;Unable to convert String to aggregate identifier of type '&quot; + aggregateIdentifierType.getName( ) + &quot;'. A conversion service is missing.&quot; );\n                 }\n             }\n         } )\n\n ...\n\n @Named\n final class MyIdConverter implements Converter&lt;String, MyId&gt; {\n\n     ...\n\n     @Override\n     public MyId convert( final String source ) {\n         return MyId.fromString( source );\n     }\n\n }\n</code></pre>\n</li>\n</ol>\n<p><strong>QUESTION:</strong> How to keep UUID type of aggregate identifier in PostgreSQL database - with <code>UUID</code> as preferred type for <code>@AggregateIdentifier</code> or at least <code>String</code>. Also why is only <code>String</code> currently supported if <a href=\"https://groups.google.com/g/axonframework/c/09ZQ2HhjzoQ\" rel=\"nofollow noreferrer\">at 2010 UUID was widely used in Axon</a>?</p>\n"},{"tags":["java","generics","data-structures","methods","min-heap"],"comments":[{"owner":{"account_id":19586534,"reputation":442,"user_id":14334528,"display_name":"ioannis-kokkalis"},"score":0,"creation_date":1650993104,"post_id":72017213,"comment_id":127253858,"body_markdown":"Can you give a little more context on what this bubbleUp() method does or supposed to be doing. Seems like you are using some other methods and variables that are global as well. Add them to be more clear what is going on here.","body":"Can you give a little more context on what this bubbleUp() method does or supposed to be doing. Seems like you are using some other methods and variables that are global as well. Add them to be more clear what is going on here."},{"owner":{"account_id":25104695,"reputation":13,"user_id":18954998,"display_name":"Tiyus98"},"score":0,"creation_date":1650999888,"post_id":72017213,"comment_id":127256144,"body_markdown":"ioannis-kokkalis, i have add full code .. i think now it more clear","body":"ioannis-kokkalis, i have add full code .. i think now it more clear"}],"answers":[{"tags":[],"owner":{"account_id":19586534,"reputation":442,"user_id":14334528,"display_name":"ioannis-kokkalis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651002995,"creation_date":1651002673,"answer_id":72019762,"question_id":72017213,"body_markdown":"---\r\n\r\n### Explanation\r\nThe `bubbleDown()` method is not a different way to insert a node and move it to it&#39;s correct position in the Heap. When `bubbleDown()` is called it&#39;s job is to `Heapify` the Binary Tree from any state. So your attempt to write the method just by changing the condition from the `bubbleUp()` method isn&#39;t gonna help you.\r\n\r\n---\r\n\r\n### Extra\r\nHere is a [video](https://youtu.be/PkCBI4BKeb8?t=188) that can give you the idea of how `bubbleDown` is supposed to work.\r\n\r\n---","title":"BubbleDown function(min heap) not working","body":"<hr />\n<h3>Explanation</h3>\n<p>The <code>bubbleDown()</code> method is not a different way to insert a node and move it to it's correct position in the Heap. When <code>bubbleDown()</code> is called it's job is to <code>Heapify</code> the Binary Tree from any state. So your attempt to write the method just by changing the condition from the <code>bubbleUp()</code> method isn't gonna help you.</p>\n<hr />\n<h3>Extra</h3>\n<p>Here is a <a href=\"https://youtu.be/PkCBI4BKeb8?t=188\" rel=\"nofollow noreferrer\">video</a> that can give you the idea of how <code>bubbleDown</code> is supposed to work.</p>\n<hr />\n"}],"owner":{"account_id":25104695,"reputation":13,"user_id":18954998,"display_name":"Tiyus98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72019762,"answer_count":1,"score":1,"last_activity_date":1651353711,"creation_date":1650989604,"question_id":72017213,"body_markdown":"&gt; I have generated a minheap to this file but I think something I have missed but I can&#39;t identify what are the things I have missed.  I have missed something on  --private void bubbleDown() { }-- section but I can&#39;t find what are the things missed by me. \r\n\r\n```public class Heap&lt;T extends Comparable&lt;T&gt;&gt; {\r\n        private int default_size = 100; // how big the heap should be\r\n\r\n        private T[] array;\r\n        private int size;\r\n\r\n        public Heap() {\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            T[] tmp = (T[]) (new Comparable[default_size]);\r\n            array = tmp;\r\n            size  = 0;\r\n        }\r\n\r\n        boolean isRoot(int index) {\treturn (index == 0);   }\r\n        int leftChild(int index)  { return 2 * index + 1;  }\r\n        int parent(int index)     { return (index - 1) / 2; }\r\n        int rightChild(int index) { return 2 * index + 2;   }\r\n        T myParent(int index) { return array[parent(index)]; }\r\n        T myLeftChild(int index) { return array[leftChild(index)]; }\r\n        T myRightChild(int index) { return array[rightChild(index)]; }\r\n        boolean hasLeftChild(int i) { return leftChild(i) &lt; size-1; }\r\n        boolean hasRightChild(int i){ return rightChild(i) &lt; size-1; }\r\n\r\n        private void swap(int a, int b) {\r\n            T tmp = array[a];\r\n            array[a] = array[b];\r\n            array[b] = tmp;\r\n        }\r\n\r\n        public boolean isEmpty() { return (size == 0); }\r\n\r\n\r\n        /* adding heap */\r\n        public void add(T value) {\r\n            if(size == default_size) throw new IllegalStateException(&quot;Full array&quot;);\r\n            array[size++] = value;\r\n            bubbleUp();\r\n        }\r\n\r\n        public void bubbleUp() {\r\n            if(size == 0) throw new IllegalStateException(&quot;Shape error&quot;);\r\n            int index = size - 1;\r\n            while(!isRoot(index)) {\r\n                if(myParent(index).compareTo(array[index]) &lt;= 0) break;\r\n                /* else part */\r\n                swap(parent(index), index);\r\n                index = parent(index);\r\n            }\r\n        }\r\n\r\n        /* removing */\r\n\r\n        public T remove() {\r\n            if(isEmpty()) return null;\r\n            T res = array[0]; /* root */\r\n            array[0] = array[size-1];\r\n            size --;\r\n            bubbleDown();\r\n            return res;\r\n        }\r\n\r\n// i think this section having wrong something\r\n        private void bubbleDown() {\r\n        int parent = 0;\r\n        int leftChild = 2*parent + 1;\r\n        int rightChild = 2*parent + 2;\r\n\r\n        int choice = compareAndPick(leftChild, rightChild);\r\n\r\n        while (choice != -1)\r\n        {\r\n            swap(choice, parent);\r\n            parent = choice;\r\n            choice = compareAndPick(2*choice+1, 2*choice+2);\r\n        }\r\n    }\r\n    private int compareAndPick(int leftChild, int rightChild)\r\n    {\r\n        if (leftChild &gt;= default_size || array[leftChild] == null) return -1;\r\n        if (array[leftChild].compareTo(array[rightChild]) &lt;= 0 || (array[rightChild] == null))\r\n            return leftChild;\r\n        return rightChild;\r\n    }\r\n\r\n\r\n        public void show() {\r\n            for(int i=0; i&lt;size; i++)\r\n                System.out.print(array[i] + &quot; &quot;);\r\n            System.out.println(&quot;=======&quot;);\r\n        }\r\n\r\n\r\n        public static void main(String [] args) {\r\n            Heap&lt;Integer&gt; heap = new Heap&lt;Integer&gt;();\r\n\r\n            for(int i=0; i&lt;10; i++) {\r\n                heap.add((Integer)(int)(Math.random() * 100));\r\n                heap.show();\r\n            }\r\n\r\n\r\n            System.out.println(&quot;You should see sorted numbers&quot;);\r\n            while(!heap.isEmpty()) {\r\n                System.out.print(heap.remove());\r\n                System.out.print(&quot; &quot;);\r\n                heap.show();\r\n            }\r\n            System.out.println();\r\n\r\n        }\r\n\r\n}\r\n```\r\n\r\n&gt; this code used generics and min heap functions.. i need to identify what is the wrong thing did by me on bubbleDown() section ","title":"BubbleDown function(min heap) not working","body":"<blockquote>\n<p>I have generated a minheap to this file but I think something I have missed but I can't identify what are the things I have missed.  I have missed something on  --private void bubbleDown() { }-- section but I can't find what are the things missed by me.</p>\n</blockquote>\n<pre><code>        private int default_size = 100; // how big the heap should be\n\n        private T[] array;\n        private int size;\n\n        public Heap() {\n            @SuppressWarnings(&quot;unchecked&quot;)\n            T[] tmp = (T[]) (new Comparable[default_size]);\n            array = tmp;\n            size  = 0;\n        }\n\n        boolean isRoot(int index) { return (index == 0);   }\n        int leftChild(int index)  { return 2 * index + 1;  }\n        int parent(int index)     { return (index - 1) / 2; }\n        int rightChild(int index) { return 2 * index + 2;   }\n        T myParent(int index) { return array[parent(index)]; }\n        T myLeftChild(int index) { return array[leftChild(index)]; }\n        T myRightChild(int index) { return array[rightChild(index)]; }\n        boolean hasLeftChild(int i) { return leftChild(i) &lt; size-1; }\n        boolean hasRightChild(int i){ return rightChild(i) &lt; size-1; }\n\n        private void swap(int a, int b) {\n            T tmp = array[a];\n            array[a] = array[b];\n            array[b] = tmp;\n        }\n\n        public boolean isEmpty() { return (size == 0); }\n\n\n        /* adding heap */\n        public void add(T value) {\n            if(size == default_size) throw new IllegalStateException(&quot;Full array&quot;);\n            array[size++] = value;\n            bubbleUp();\n        }\n\n        public void bubbleUp() {\n            if(size == 0) throw new IllegalStateException(&quot;Shape error&quot;);\n            int index = size - 1;\n            while(!isRoot(index)) {\n                if(myParent(index).compareTo(array[index]) &lt;= 0) break;\n                /* else part */\n                swap(parent(index), index);\n                index = parent(index);\n            }\n        }\n\n        /* removing */\n\n        public T remove() {\n            if(isEmpty()) return null;\n            T res = array[0]; /* root */\n            array[0] = array[size-1];\n            size --;\n            bubbleDown();\n            return res;\n        }\n\n// i think this section having wrong something\n        private void bubbleDown() {\n        int parent = 0;\n        int leftChild = 2*parent + 1;\n        int rightChild = 2*parent + 2;\n\n        int choice = compareAndPick(leftChild, rightChild);\n\n        while (choice != -1)\n        {\n            swap(choice, parent);\n            parent = choice;\n            choice = compareAndPick(2*choice+1, 2*choice+2);\n        }\n    }\n    private int compareAndPick(int leftChild, int rightChild)\n    {\n        if (leftChild &gt;= default_size || array[leftChild] == null) return -1;\n        if (array[leftChild].compareTo(array[rightChild]) &lt;= 0 || (array[rightChild] == null))\n            return leftChild;\n        return rightChild;\n    }\n\n\n        public void show() {\n            for(int i=0; i&lt;size; i++)\n                System.out.print(array[i] + &quot; &quot;);\n            System.out.println(&quot;=======&quot;);\n        }\n\n\n        public static void main(String [] args) {\n            Heap&lt;Integer&gt; heap = new Heap&lt;Integer&gt;();\n\n            for(int i=0; i&lt;10; i++) {\n                heap.add((Integer)(int)(Math.random() * 100));\n                heap.show();\n            }\n\n\n            System.out.println(&quot;You should see sorted numbers&quot;);\n            while(!heap.isEmpty()) {\n                System.out.print(heap.remove());\n                System.out.print(&quot; &quot;);\n                heap.show();\n            }\n            System.out.println();\n\n        }\n\n}\n</code></pre>\n<blockquote>\n<p>this code used generics and min heap functions.. i need to identify what is the wrong thing did by me on bubbleDown() section</p>\n</blockquote>\n"},{"tags":["java","android","xml","android-fragments","android-menu"],"answers":[{"tags":[],"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1468252636,"creation_date":1468252636,"answer_id":38311312,"question_id":38311208,"body_markdown":"You could try to `clear()` the menu if you want to keep your structure that way.\r\n\r\nIn your `Fragment`\r\n\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\r\n        menu.clear(); // Remove all existing items from the menu, leaving it empty as if it had just been created.\r\n        inflater.inflate(R.menu.friend_menu, menu);\r\n    }","title":"How to use different menu in fragment than in activity?","body":"<p>You could try to <code>clear()</code> the menu if you want to keep your structure that way.</p>\n\n<p>In your <code>Fragment</code></p>\n\n<pre><code>@Override\npublic void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n    menu.clear(); // Remove all existing items from the menu, leaving it empty as if it had just been created.\n    inflater.inflate(R.menu.friend_menu, menu);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11166583,"reputation":1442,"user_id":8195076,"display_name":"Wowo Ot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651353578,"creation_date":1651353578,"answer_id":72072254,"question_id":38311208,"body_markdown":"What worked for me \r\n\r\nin your `onCreateView`\r\n\r\n     public View onCreateView(LayoutInflater inflater,\r\n\t      ViewGroup container, Bundle savedInstanceState) {\r\n\r\n\t\t setHasOptionsMenu(true);\r\n     }\r\n\r\nin your `onCreateOptionsMenu`\r\n\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\r\n\t\tmenu.setGroupVisible(0,false);\r\n\t\tinflater.inflate(R.menu.new_menu, menu);\r\n\r\n\t\tsuper.onCreateOptionsMenu(menu, inflater);\r\n    }\r\n","title":"How to use different menu in fragment than in activity?","body":"<p>What worked for me</p>\n<p>in your <code>onCreateView</code></p>\n<pre><code> public View onCreateView(LayoutInflater inflater,\n      ViewGroup container, Bundle savedInstanceState) {\n\n     setHasOptionsMenu(true);\n }\n</code></pre>\n<p>in your <code>onCreateOptionsMenu</code></p>\n<pre><code>@Override\npublic void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n    menu.setGroupVisible(0,false);\n    inflater.inflate(R.menu.new_menu, menu);\n\n    super.onCreateOptionsMenu(menu, inflater);\n}\n</code></pre>\n"}],"owner":{"account_id":5907710,"reputation":2096,"user_id":4648883,"accept_rate":58,"display_name":"Tom Finet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1656,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":38311312,"answer_count":2,"score":4,"last_activity_date":1651353578,"creation_date":1468252300,"question_id":38311208,"body_markdown":"I want to have a menu for my main activity and a menu for a fragment which is contained in the main activity. The main activity menu should be removed and the fragment menu inflated when the fragment is visible. I have tried to achieve this however this is the result:\r\n\r\nMain activity menu snippet by itself:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMain activity menu snippet when fragment is displayed:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nClearly instead of replacing the menu in the main activity I am adding to it despite having created and inflated a fragment menu.\r\n\r\nHere is the code in the activity responsible for this:\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        // Depending on which fragment is used display different actions.\r\n        getMenuInflater().inflate(R.menu.main, menu);\r\n        return true;\r\n    }\r\n\r\nHere is the code in the fragment responsible for this:\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n    setHasOptionsMenu(true);\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\r\n        inflater.inflate(R.menu.friend_menu, menu);\r\n    }\r\n\r\nHere is friend_menu.xml:\r\n\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n          xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;item\r\n        android:icon=&quot;@drawable/ic_person_add_black_24dp&quot;\r\n        android:id=&quot;@+id/nav_person_add&quot;\r\n        android:title=&quot;Add people&quot;\r\n        app:showAsAction=&quot;ifRoom&quot; /&gt;\r\n    \r\n    &lt;/menu&gt;\r\n\r\nHow do I get my desired menu (without the search action and with the add_friend action)? I realise that it may be simpler to manage this from the activity and only inflate specific fragment menus when the fragment is displayed like the comment in the activity says: `// Depending on which fragment is used display different actions.`\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/VCkpb.png\r\n  [2]: http://i.stack.imgur.com/AA03n.png","title":"How to use different menu in fragment than in activity?","body":"<p>I want to have a menu for my main activity and a menu for a fragment which is contained in the main activity. The main activity menu should be removed and the fragment menu inflated when the fragment is visible. I have tried to achieve this however this is the result:</p>\n\n<p>Main activity menu snippet by itself:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VCkpb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VCkpb.png\" alt=\"enter image description here\"></a></p>\n\n<p>Main activity menu snippet when fragment is displayed:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AA03n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AA03n.png\" alt=\"enter image description here\"></a></p>\n\n<p>Clearly instead of replacing the menu in the main activity I am adding to it despite having created and inflated a fragment menu.</p>\n\n<p>Here is the code in the activity responsible for this:</p>\n\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    // Depending on which fragment is used display different actions.\n    getMenuInflater().inflate(R.menu.main, menu);\n    return true;\n}\n</code></pre>\n\n<p>Here is the code in the fragment responsible for this:</p>\n\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\nsetHasOptionsMenu(true);\n}\n\n@Override\npublic void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n    inflater.inflate(R.menu.friend_menu, menu);\n}\n</code></pre>\n\n<p>Here is friend_menu.xml:</p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;item\n    android:icon=\"@drawable/ic_person_add_black_24dp\"\n    android:id=\"@+id/nav_person_add\"\n    android:title=\"Add people\"\n    app:showAsAction=\"ifRoom\" /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n\n<p>How do I get my desired menu (without the search action and with the add_friend action)? I realise that it may be simpler to manage this from the activity and only inflate specific fragment menus when the fragment is displayed like the comment in the activity says: <code>// Depending on which fragment is used display different actions.</code></p>\n"},{"tags":["java","list","csv","java-stream","mapping"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1651344170,"post_id":72071219,"comment_id":127344570,"body_markdown":"It doesn&#39;t seem like you actually need a `BiFunction` at all.  Try writing your code without streams so it&#39;s clear what you want.","body":"It doesn&#39;t seem like you actually need a <code>BiFunction</code> at all.  Try writing your code without streams so it&#39;s clear what you want."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1651344705,"post_id":72071219,"comment_id":127344670,"body_markdown":"I am also confused at what the return-type of the `BiFunction` (`List&lt;String&gt;`) is. If we want a mapping/grouping (e.g. `Male -&gt; [ Fred, Barney, BamBam], Female -&gt; [ Wilma, Betty ], Pet -&gt; [Dino, Puss]`), I&#39;d expect a [`Map&lt;String, List&lt;String&gt;&gt;`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html) (or something similar) as return-type. The parameter `List&lt;String&gt;` (which I assume holds the categories?) seems also superfluous and could be inferred from the actual dataset.","body":"I am also confused at what the return-type of the <code>BiFunction</code> (<code>List&lt;String&gt;</code>) is. If we want a mapping/grouping (e.g. <code>Male -&gt; [ Fred, Barney, BamBam], Female -&gt; [ Wilma, Betty ], Pet -&gt; [Dino, Puss]</code>), I&#39;d expect a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map&lt;String, List&lt;String&gt;&gt;</code></a> (or something similar) as return-type. The parameter <code>List&lt;String&gt;</code> (which I assume holds the categories?) seems also superfluous and could be inferred from the actual dataset."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1651345360,"post_id":72071219,"comment_id":127344776,"body_markdown":"Do you know what a `Map` is and how it is used in Java?","body":"Do you know what a <code>Map</code> is and how it is used in Java?"},{"owner":{"account_id":16611573,"reputation":73,"user_id":12004421,"display_name":"Eris Cacigieri"},"score":0,"creation_date":1651345848,"post_id":72071219,"comment_id":127344864,"body_markdown":"I think so, a map should transform based on a predicate. In my case, I want to map my stream by breaking it up into my defined genders?","body":"I think so, a map should transform based on a predicate. In my case, I want to map my stream by breaking it up into my defined genders?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1651345953,"post_id":72071219,"comment_id":127344889,"body_markdown":"I meant the datastructure [`Map`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html), not the  operation [`Stream::map`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)), sorry for the confusion.","body":"I meant the datastructure <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a>, not the  operation <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Stream::map</code></a>, sorry for the confusion."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651344941,"creation_date":1651344941,"answer_id":72071330,"question_id":72071219,"body_markdown":"What it looks like is that you just want\r\n\r\n    stream.collect(\r\n      Collectors.groupingBy(\r\n         person -&gt; person.gender,\r\n         Collectors.mapping(\r\n           person -&gt; person.name,\r\n           Collectors.toList())));\r\n\r\nwhich does not involve a `BiFunction`.","title":"How do I create a BiFunction stream based off of categories?","body":"<p>What it looks like is that you just want</p>\n<pre><code>stream.collect(\n  Collectors.groupingBy(\n     person -&gt; person.gender,\n     Collectors.mapping(\n       person -&gt; person.name,\n       Collectors.toList())));\n</code></pre>\n<p>which does not involve a <code>BiFunction</code>.</p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651352832,"creation_date":1651352832,"answer_id":72072183,"question_id":72071219,"body_markdown":"I don&#39;t think a BiFunction is what you need, specially not with a stream as one of the params. Note: once a stream has already been operated upon or closed you can not reuse it again. So once you use the BiFunction to get for example the males you can not use that same stream to get the pets or females. Instead you need to read your file again and again to have a stream where you can apply your BiFunction. Nevertheless if you want to do it with a function something like below should work\r\n\r\n    BiFunction&lt;Stream&lt;CavePerson&gt;, String, String[]&gt; getSortedGenders =\r\n            (e, q) -&gt; e.filter(p -&gt; p.gender.equals(q)).map(p -&gt; p.name).toArray(String[]::new);\r\n\r\nand use it\r\n\r\n    Stream&lt;CavePerson&gt; personStream = // read your file and get the stream \r\n    String[] males = getSortedGenders.apply(personStream,&quot;Male&quot;);\r\n\r\n    personStream = // read your file again \r\n    String[] females = getSortedGenders.apply(personStream,&quot;Female&quot;);\r\n\r\n\r\nI think what you realy want might be a predicate from the discription of your question. \r\n\r\n    Predicate&lt;CavePerson&gt; isMale = cavePerson -&gt; cavePerson.gender.equals(&quot;Male&quot;);\r\n    Predicate&lt;CavePerson&gt; isPet = cavePerson -&gt; cavePerson.gender.equals(&quot;Pet&quot;);\r\n\r\nwhich can be used\r\n\r\n    yourStream.filter(isMale).map(...).collect...\r\n\r\n\r\n   ","title":"How do I create a BiFunction stream based off of categories?","body":"<p>I don't think a BiFunction is what you need, specially not with a stream as one of the params. Note: once a stream has already been operated upon or closed you can not reuse it again. So once you use the BiFunction to get for example the males you can not use that same stream to get the pets or females. Instead you need to read your file again and again to have a stream where you can apply your BiFunction. Nevertheless if you want to do it with a function something like below should work</p>\n<pre><code>BiFunction&lt;Stream&lt;CavePerson&gt;, String, String[]&gt; getSortedGenders =\n        (e, q) -&gt; e.filter(p -&gt; p.gender.equals(q)).map(p -&gt; p.name).toArray(String[]::new);\n</code></pre>\n<p>and use it</p>\n<pre><code>Stream&lt;CavePerson&gt; personStream = // read your file and get the stream \nString[] males = getSortedGenders.apply(personStream,&quot;Male&quot;);\n\npersonStream = // read your file again \nString[] females = getSortedGenders.apply(personStream,&quot;Female&quot;);\n</code></pre>\n<p>I think what you realy want might be a predicate from the discription of your question.</p>\n<pre><code>Predicate&lt;CavePerson&gt; isMale = cavePerson -&gt; cavePerson.gender.equals(&quot;Male&quot;);\nPredicate&lt;CavePerson&gt; isPet = cavePerson -&gt; cavePerson.gender.equals(&quot;Pet&quot;);\n</code></pre>\n<p>which can be used</p>\n<pre><code>yourStream.filter(isMale).map(...).collect...\n</code></pre>\n"}],"owner":{"account_id":16611573,"reputation":73,"user_id":12004421,"display_name":"Eris Cacigieri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72072183,"answer_count":2,"score":0,"last_activity_date":1651352832,"creation_date":1651344052,"question_id":72071219,"body_markdown":"This is a continuation from one of my previous questions:\r\nhttps://stackoverflow.com/questions/72049722/if-i-have-a-streamclass-how-can-i-access-the-classes-inherent-information-su\r\n\r\nI have a class named `CavePerson` with the following structure:\r\n```\r\npublic class CavePerson {\r\n   public final int num;\r\n   public final String name;\r\n   public final String gender;\r\n   public final int age;\r\n\r\n   public CavePerson (int aNum, String aName, String aGender, int anAge){\r\n      this.num = aNum;\r\n      this.name = aName;\r\n      this.gender = aGender;\r\n      this.age = anAge;\r\n   }\r\n\r\n   public static CavePerson lineValues(String line) {\r\n      String array = line.split(&quot;,&quot;);\r\n      int numA = array[0];\r\n      String nameA = array[1];\r\n      String genderA array[2];\r\n      int ageA = array[3];\r\n      return new CavePerson(numA, nameA, genderA, ageA);\r\n   }\r\n}\r\n```\r\nEach line in this cavepeople.csv file is a CavePerson object:\r\n```\r\n| Num | Name   | Gender  |Age  |\r\n| --- | ----   | ------  | --- |\r\n| 1   | Fred   | Male    | 41  |\r\n| 2   | Wilma  | Female  | 36  |\r\n| 3   | Barney | Male    | 38  |\r\n| 4   | Betty  | Female  | 35  |\r\n| 5   | Dino   | Pet     | 4   |\r\n| 6   | BamBam | Male    | 2   |\r\n| 7   | Puss   | Pet     | 1   |\r\n```\r\n\r\nI am trying to practice using streams on datasets. I want to use a BiFunction that takes a stream of type `CavePerson` and a `String`. \r\n\r\nThis `String` is one of the defined genders in a `CavePerson` object. The stream should return a `String[]`, which contains everyone who falls under a specific gender. My expected outcome should look like:\r\n\r\n```\r\nEXPECTED OUTCOME\r\nGiven a stream of type `CavePerson` and &quot;Male&quot;: [Fred, Barney, BamBam]\r\nGiven a stream of type `CavePerson` and &quot;Female&quot;: [Wilma, Betty]\r\nGiven a stream of type `CavePerson` and &quot;Pet&quot;: [Dino, Puss]\r\n``` \r\nThis is the beginning of the code, but I am not exactly sure where to go from here:\r\n```\r\nstatic BiFunction&lt;Stream&lt;CavePerson&gt;, String, List&lt;String&gt;&gt; getSortedGenders = (e, q) -&gt; List.of(q);\r\n\r\n//e.collect(Collectors.groupingBy(CavePerson -&gt; CavePerson.gender), Collectors.toList());\r\n```\r\n","title":"How do I create a BiFunction stream based off of categories?","body":"<p>This is a continuation from one of my previous questions:\n<a href=\"https://stackoverflow.com/questions/72049722/if-i-have-a-streamclass-how-can-i-access-the-classes-inherent-information-su\">If I have a Stream&lt;Class&gt;, how can I access the classes&#39; inherent information such as variables and arrays?</a></p>\n<p>I have a class named <code>CavePerson</code> with the following structure:</p>\n<pre><code>public class CavePerson {\n   public final int num;\n   public final String name;\n   public final String gender;\n   public final int age;\n\n   public CavePerson (int aNum, String aName, String aGender, int anAge){\n      this.num = aNum;\n      this.name = aName;\n      this.gender = aGender;\n      this.age = anAge;\n   }\n\n   public static CavePerson lineValues(String line) {\n      String array = line.split(&quot;,&quot;);\n      int numA = array[0];\n      String nameA = array[1];\n      String genderA array[2];\n      int ageA = array[3];\n      return new CavePerson(numA, nameA, genderA, ageA);\n   }\n}\n</code></pre>\n<p>Each line in this cavepeople.csv file is a CavePerson object:</p>\n<pre><code>| Num | Name   | Gender  |Age  |\n| --- | ----   | ------  | --- |\n| 1   | Fred   | Male    | 41  |\n| 2   | Wilma  | Female  | 36  |\n| 3   | Barney | Male    | 38  |\n| 4   | Betty  | Female  | 35  |\n| 5   | Dino   | Pet     | 4   |\n| 6   | BamBam | Male    | 2   |\n| 7   | Puss   | Pet     | 1   |\n</code></pre>\n<p>I am trying to practice using streams on datasets. I want to use a BiFunction that takes a stream of type <code>CavePerson</code> and a <code>String</code>.</p>\n<p>This <code>String</code> is one of the defined genders in a <code>CavePerson</code> object. The stream should return a <code>String[]</code>, which contains everyone who falls under a specific gender. My expected outcome should look like:</p>\n<pre><code>EXPECTED OUTCOME\nGiven a stream of type `CavePerson` and &quot;Male&quot;: [Fred, Barney, BamBam]\nGiven a stream of type `CavePerson` and &quot;Female&quot;: [Wilma, Betty]\nGiven a stream of type `CavePerson` and &quot;Pet&quot;: [Dino, Puss]\n</code></pre>\n<p>This is the beginning of the code, but I am not exactly sure where to go from here:</p>\n<pre><code>static BiFunction&lt;Stream&lt;CavePerson&gt;, String, List&lt;String&gt;&gt; getSortedGenders = (e, q) -&gt; List.of(q);\n\n//e.collect(Collectors.groupingBy(CavePerson -&gt; CavePerson.gender), Collectors.toList());\n</code></pre>\n"},{"tags":["java","oop","inheritance","constructor","abstract-class"],"comments":[{"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"score":2,"creation_date":1392046234,"post_id":21681094,"comment_id":32775296,"body_markdown":"If the author had wanted you to be able to instantiate it, they could have made it non-abstract. The fact that they didn&#39;t -- even if they did implement all methods -- is a software architecture choice; they&#39;re telling you that they don&#39;t believe using the default implementation makes sense. Ask them why, or accept it and create a subclass.","body":"If the author had wanted you to be able to instantiate it, they could have made it non-abstract. The fact that they didn&#39;t -- even if they did implement all methods -- is a software architecture choice; they&#39;re telling you that they don&#39;t believe using the default implementation makes sense. Ask them why, or accept it and create a subclass."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1461466033,"post_id":21681094,"comment_id":61209806,"body_markdown":"You can&#39;t do it because the author marked the class as `abstract`, and that is part of the meaning of the word in Java.","body":"You can&#39;t do it because the author marked the class as <code>abstract</code>, and that is part of the meaning of the word in Java."},{"owner":{"account_id":119615,"reputation":11742,"user_id":311420,"accept_rate":87,"display_name":"Raymond Chenon"},"score":1,"creation_date":1468967329,"post_id":21681094,"comment_id":64343092,"body_markdown":"best answer http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class","body":"best answer <a href=\"http://stackoverflow.com/questions/13670991/interview-can-we-instantiate-abstract-class\" title=\"interview can we instantiate abstract class\">stackoverflow.com/questions/13670991/&hellip;</a>"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1590004473,"post_id":21681094,"comment_id":109520939,"body_markdown":"Because the Java language defines it so.","body":"Because the Java language defines it so."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1590004582,"post_id":21681094,"comment_id":109520991,"body_markdown":"@Raymond Chenon In that answer, the abstract class is not instantiated. An anonymous subclass of the abstract class is instantiated.","body":"@Raymond Chenon In that answer, the abstract class is not instantiated. An anonymous subclass of the abstract class is instantiated."}],"answers":[{"tags":[],"owner":{"account_id":205262,"reputation":2788,"user_id":453927,"display_name":"Eli Iser"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1392046014,"creation_date":1392046014,"answer_id":21681170,"question_id":21681094,"body_markdown":"This is not a technical limitation, rather (as you have pointed out) a logical one. Java (and many other languages) enforce various rules not because they are impossible to break, but because this is an intentional part of the language.","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>This is not a technical limitation, rather (as you have pointed out) a logical one. Java (and many other languages) enforce various rules not because they are impossible to break, but because this is an intentional part of the language.</p>\n"},{"tags":[],"owner":{"account_id":1138392,"reputation":9603,"user_id":1122959,"accept_rate":100,"display_name":"rocketboy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1392046032,"creation_date":1392046032,"answer_id":21681180,"question_id":21681094,"body_markdown":"Because an Abstract Class is a skeleton structure(an incomplete construct if you may), hence the term Abstract.\r\n\r\n    abstract class Person(){\r\n       abstract void Speak();\r\n    }\r\n\r\nMeans every `Person` must speak. That means every person should know how to speak (implement the `speak()`). `new Person()` cannot have that, so it is not allowed.","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>Because an Abstract Class is a skeleton structure(an incomplete construct if you may), hence the term Abstract.</p>\n\n<pre><code>abstract class Person(){\n   abstract void Speak();\n}\n</code></pre>\n\n<p>Means every <code>Person</code> must speak. That means every person should know how to speak (implement the <code>speak()</code>). <code>new Person()</code> cannot have that, so it is not allowed.</p>\n"},{"tags":[],"owner":{"account_id":3393753,"reputation":781,"user_id":2847964,"accept_rate":38,"display_name":"Sunil Singh Bora"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1392046059,"creation_date":1392046059,"answer_id":21681188,"question_id":21681094,"body_markdown":"You can&#39;t instantiate an interface or an abstract class because it would defy the object oriented model. [Read more][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17077547/i-know-we-can-not-instantiate-either-an-interface-or-an-abstract-class-in-java","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>You can't instantiate an interface or an abstract class because it would defy the object oriented model. <a href=\"https://stackoverflow.com/questions/17077547/i-know-we-can-not-instantiate-either-an-interface-or-an-abstract-class-in-java\">Read more</a></p>\n"},{"tags":[],"owner":{"account_id":1049422,"reputation":929,"user_id":1053697,"accept_rate":29,"display_name":"sandejai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392046112,"creation_date":1392046112,"answer_id":21681220,"question_id":21681094,"body_markdown":"What I understand that Abstract classes may contain abstract (empty without implementation) methods. If we instantiate an object and call the empty method, It&#39;s not going to work and may cause problem, hence compiler forces this RULE.\r\nany further in-sighter  ?","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>What I understand that Abstract classes may contain abstract (empty without implementation) methods. If we instantiate an object and call the empty method, It's not going to work and may cause problem, hence compiler forces this RULE.\nany further in-sighter  ?</p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1392050050,"creation_date":1392046439,"answer_id":21681356,"question_id":21681094,"body_markdown":"Well actually you can - but only if you implement any methods that have been declared abstract or left out.\r\n\r\n    /**\r\n     * A classic adaptor pattern.\r\n     *\r\n     * @param &lt;P&gt;\r\n     * @param &lt;Q&gt;\r\n     */\r\n    public static interface Adapter&lt;P, Q&gt; {\r\n\r\n      public Q adapt(P p);\r\n\r\n    }\r\n\r\n    /**\r\n     * An I walks an iterator of one type but delivers items of a different type.\r\n     *\r\n     * Please fill in the `next()` method. Use an Adaptor for convenience.\r\n     *\r\n     * @param &lt;S&gt;\r\n     * @param &lt;T&gt;\r\n     */\r\n    public abstract static class I&lt;S, T&gt; implements Iterator&lt;T&gt; {\r\n\r\n      protected final Iterator&lt;S&gt; it;\r\n\r\n      public I(Iterator&lt;S&gt; it) {\r\n        this.it = it;\r\n      }\r\n\r\n      @Override\r\n      public boolean hasNext() {\r\n        return it.hasNext();\r\n      }\r\n\r\n      @Override\r\n      public void remove() {\r\n        it.remove();\r\n      }\r\n\r\n    }\r\n\r\n    /**\r\n     * Use an adaptor to transform one type into another.\r\n     *\r\n     * @param &lt;S&gt;\r\n     * @param &lt;T&gt;\r\n     */\r\n    public static class IA&lt;S, T&gt; extends I&lt;S, T&gt; {\r\n\r\n      private final Adapter&lt;S, T&gt; adaptor;\r\n\r\n      public IA(Iterator&lt;S&gt; it, Adapter&lt;S, T&gt; adaptor) {\r\n        super(it);\r\n        this.adaptor = adaptor;\r\n      }\r\n\r\n      @Override\r\n      public T next() {\r\n        // Implement the abstract method on-the-fly.\r\n        return adaptor.adapt(it.next());\r\n      }\r\n\r\n    }\r\n\r\nAdded\r\n-\r\n\r\nThe `IA` class instantiates an object of the `I` abstract class and implements the `next` method that was missing from the `I` class. You are actually creating an object of an anonymous that implements the implied abstract method.","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>Well actually you can - but only if you implement any methods that have been declared abstract or left out.</p>\n\n<pre><code>/**\n * A classic adaptor pattern.\n *\n * @param &lt;P&gt;\n * @param &lt;Q&gt;\n */\npublic static interface Adapter&lt;P, Q&gt; {\n\n  public Q adapt(P p);\n\n}\n\n/**\n * An I walks an iterator of one type but delivers items of a different type.\n *\n * Please fill in the `next()` method. Use an Adaptor for convenience.\n *\n * @param &lt;S&gt;\n * @param &lt;T&gt;\n */\npublic abstract static class I&lt;S, T&gt; implements Iterator&lt;T&gt; {\n\n  protected final Iterator&lt;S&gt; it;\n\n  public I(Iterator&lt;S&gt; it) {\n    this.it = it;\n  }\n\n  @Override\n  public boolean hasNext() {\n    return it.hasNext();\n  }\n\n  @Override\n  public void remove() {\n    it.remove();\n  }\n\n}\n\n/**\n * Use an adaptor to transform one type into another.\n *\n * @param &lt;S&gt;\n * @param &lt;T&gt;\n */\npublic static class IA&lt;S, T&gt; extends I&lt;S, T&gt; {\n\n  private final Adapter&lt;S, T&gt; adaptor;\n\n  public IA(Iterator&lt;S&gt; it, Adapter&lt;S, T&gt; adaptor) {\n    super(it);\n    this.adaptor = adaptor;\n  }\n\n  @Override\n  public T next() {\n    // Implement the abstract method on-the-fly.\n    return adaptor.adapt(it.next());\n  }\n\n}\n</code></pre>\n\n<h2>Added</h2>\n\n<p>The <code>IA</code> class instantiates an object of the <code>I</code> abstract class and implements the <code>next</code> method that was missing from the <code>I</code> class. You are actually creating an object of an anonymous that implements the implied abstract method.</p>\n"},{"tags":[],"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1392046533,"creation_date":1392046533,"answer_id":21681388,"question_id":21681094,"body_markdown":"rocketboy shows some mechanistic reasons, but there&#39;s a conceptual reason.\r\n\r\nAn Abstract class represents an abstract concept.  Take your vehicle example.  You cannot build a vehicle that is not something more specific.  You can have a set of vehicles, that could be made of 2004 corolla&#39;s and &#39;98 ford escorts and 1984 cs36 (a kind of yacht), a mark 4 firefly class mid-range bulk transport(the one with the stabilizers), you can take any one of those individually and call them a vehicle but you cannot have something that is only a vehicle and not one of those or some other specific type of vehicle.\r\n\r\nAbstract classes represent such abstract concepts as vehicle.  Hence the idea of instantiating one is non-sensical because to actually instantiate it you need to know what you&#39;re instantiating.","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>rocketboy shows some mechanistic reasons, but there's a conceptual reason.</p>\n\n<p>An Abstract class represents an abstract concept.  Take your vehicle example.  You cannot build a vehicle that is not something more specific.  You can have a set of vehicles, that could be made of 2004 corolla's and '98 ford escorts and 1984 cs36 (a kind of yacht), a mark 4 firefly class mid-range bulk transport(the one with the stabilizers), you can take any one of those individually and call them a vehicle but you cannot have something that is only a vehicle and not one of those or some other specific type of vehicle.</p>\n\n<p>Abstract classes represent such abstract concepts as vehicle.  Hence the idea of instantiating one is non-sensical because to actually instantiate it you need to know what you're instantiating.</p>\n"},{"tags":[],"owner":{"account_id":3566785,"reputation":478,"user_id":2978099,"accept_rate":56,"display_name":"Ankita P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392818114,"creation_date":1392818114,"answer_id":21882598,"question_id":21681094,"body_markdown":"You can&#39;t instantiate abstract class because it&#39;s just to give a structure your class which is extending it.\r\n\r\nAnd if you want to initiate your class, then why you want to define it as **abstract**?\r\n","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>You can't instantiate abstract class because it's just to give a structure your class which is extending it.</p>\n\n<p>And if you want to initiate your class, then why you want to define it as <strong>abstract</strong>?</p>\n"},{"tags":[],"owner":{"account_id":297981,"reputation":2163,"user_id":603765,"accept_rate":57,"display_name":"kevin"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1402764312,"creation_date":1402764312,"answer_id":24222108,"question_id":21681094,"body_markdown":"An abstract class is not complete! The author marked it abstract to tell you that some **implementation is missing in the code**. The author has done some of the work, but you must fill in some bits yourself to get it working. The `abstract` keyword ensures that no one would accidentally initiate this incomplete class.\r\n\r\nThink of repairing a car. Someone has removed the brake pads and is going to replace them in the next day. Now, to prevent someone accidentally driving this car(which has no brakes installed), the mechanic installs a lock on the steering wheel. It&#39;s a fail-safe measure.","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>An abstract class is not complete! The author marked it abstract to tell you that some <strong>implementation is missing in the code</strong>. The author has done some of the work, but you must fill in some bits yourself to get it working. The <code>abstract</code> keyword ensures that no one would accidentally initiate this incomplete class.</p>\n\n<p>Think of repairing a car. Someone has removed the brake pads and is going to replace them in the next day. Now, to prevent someone accidentally driving this car(which has no brakes installed), the mechanic installs a lock on the steering wheel. It's a fail-safe measure.</p>\n"},{"tags":[],"owner":{"account_id":4469471,"reputation":242,"user_id":3636150,"display_name":"Rudra21"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407709425,"creation_date":1407709425,"answer_id":25233584,"question_id":21681094,"body_markdown":"abstract it self tells : existing in thought or as an idea but not having a physical or concrete existence.\r\nIn java term , abstract keyword definition , if abstract comes before a class name, then JDK tells to JVM about discard that class object initiation. \r\nIt&#39;s correct, abstract class can have multiple constructor but only for constructor chaining.   ","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>abstract it self tells : existing in thought or as an idea but not having a physical or concrete existence.\nIn java term , abstract keyword definition , if abstract comes before a class name, then JDK tells to JVM about discard that class object initiation. \nIt's correct, abstract class can have multiple constructor but only for constructor chaining.   </p>\n"},{"tags":[],"owner":{"account_id":6555365,"reputation":1949,"user_id":5068213,"accept_rate":86,"display_name":"Bharti Rawat"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1517548743,"creation_date":1461462386,"answer_id":36818408,"question_id":21681094,"body_markdown":"Because Java restricted it that&#39;s why we can not instantiated the abstract class. Because in general scenario abstract means incomplete so we can not make of object of incomplete things.We have to provide the complete implementation of an abstract class in a concrete class. But we cannot create the object of an abstract class.","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>Because Java restricted it that's why we can not instantiated the abstract class. Because in general scenario abstract means incomplete so we can not make of object of incomplete things.We have to provide the complete implementation of an abstract class in a concrete class. But we cannot create the object of an abstract class.</p>\n"},{"tags":[],"owner":{"account_id":1421032,"reputation":74,"user_id":1345619,"display_name":"user1345619"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1468410032,"creation_date":1468410032,"answer_id":38350736,"question_id":21681094,"body_markdown":"The reason why Java doesnt allows an abstract class to be instantiated is logical. We haven&#39;t given the definition of a method and therefore, if it had allowd the creation of the object, there was no return address to pop the function from the stack and we get thus, stuck. Thus, its logical only not to allow the object instattion.","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>The reason why Java doesnt allows an abstract class to be instantiated is logical. We haven't given the definition of a method and therefore, if it had allowd the creation of the object, there was no return address to pop the function from the stack and we get thus, stuck. Thus, its logical only not to allow the object instattion.</p>\n"},{"tags":[],"owner":{"account_id":10456748,"reputation":587,"user_id":7708750,"accept_rate":78,"display_name":"naila naseem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511149657,"creation_date":1511149657,"answer_id":47384806,"question_id":21681094,"body_markdown":"very simple reason jvm playing to restrict us to instantiate abstract class and interface. \r\n\r\nAssume compiler allow us to instantiate both ok. \r\n\r\nSo suppose my abstract class contains 5 abstract method means only method prototype no method body. \r\n\r\nSo as we know every method call creating a separate stack in jvm Java stack area \r\nThat memory allocation happened based on method structure \r\nand after execute that stack is destroying right.\r\n\r\nSo if my method is not contains any body means how can jvm predict memory to allocate that method \r\n\r\nSecond if no body means no method execution so never it will destroy from your Java stack area there may be a chance u can get memoryout error. \r\n\r\nSo to consider these 2 case compiler restrict us to instantiate both interface and abstract class","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>very simple reason jvm playing to restrict us to instantiate abstract class and interface. </p>\n\n<p>Assume compiler allow us to instantiate both ok. </p>\n\n<p>So suppose my abstract class contains 5 abstract method means only method prototype no method body. </p>\n\n<p>So as we know every method call creating a separate stack in jvm Java stack area \nThat memory allocation happened based on method structure \nand after execute that stack is destroying right.</p>\n\n<p>So if my method is not contains any body means how can jvm predict memory to allocate that method </p>\n\n<p>Second if no body means no method execution so never it will destroy from your Java stack area there may be a chance u can get memoryout error. </p>\n\n<p>So to consider these 2 case compiler restrict us to instantiate both interface and abstract class</p>\n"},{"tags":[],"owner":{"account_id":10979546,"reputation":125,"user_id":9858025,"display_name":"Vipul Verma"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1651350750,"creation_date":1520592757,"answer_id":49192106,"question_id":21681094,"body_markdown":"An abstract class can&#39;t be instantiated by using new operator. Because an abstract class may have abstract methods i.e. methods without any implementation. ***Because an object can&#39;t have abstract methods, JVM can&#39;t allocate memory of these objects abstract methods***","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>An abstract class can't be instantiated by using new operator. Because an abstract class may have abstract methods i.e. methods without any implementation. <em><strong>Because an object can't have abstract methods, JVM can't allocate memory of these objects abstract methods</strong></em></p>\n"},{"tags":[],"owner":{"account_id":8230715,"reputation":351,"user_id":6191407,"display_name":"Sonu patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525780358,"creation_date":1525780358,"answer_id":50232955,"question_id":21681094,"body_markdown":"Because an abstract class is an incomplete class (incomplete in the sense it contains abstract methods without body and output) we cannot create an instance or object; the same way you say for an interface.","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>Because an abstract class is an incomplete class (incomplete in the sense it contains abstract methods without body and output) we cannot create an instance or object; the same way you say for an interface.</p>\n"},{"tags":[],"owner":{"account_id":10595661,"reputation":11,"user_id":7804476,"display_name":"Srinath Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533174694,"creation_date":1533174694,"answer_id":51644449,"question_id":21681094,"body_markdown":"You CAN instantiate an abstract class. You only need to provide a concrete subclass. \r\n   ","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>You CAN instantiate an abstract class. You only need to provide a concrete subclass. </p>\n"},{"tags":[],"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584948404,"creation_date":1584948404,"answer_id":60809382,"question_id":21681094,"body_markdown":"In java, everything is represented as an object except a few cases. When you are about to instantiate the class (A blueprint), you must know the exact size of the class member variables, member methods, and the constructors. Since some/all of the methods are abstract, and JVM doesn&#39;t know the size. Hence allocating memory is useless.\r\n\r\nBut We can implement something to overcome this problem If we take the memory allocation part away from the JVM and assign this ownership to the USER.","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>In java, everything is represented as an object except a few cases. When you are about to instantiate the class (A blueprint), you must know the exact size of the class member variables, member methods, and the constructors. Since some/all of the methods are abstract, and JVM doesn't know the size. Hence allocating memory is useless.</p>\n\n<p>But We can implement something to overcome this problem If we take the memory allocation part away from the JVM and assign this ownership to the USER.</p>\n"}],"owner":{"account_id":1049422,"reputation":929,"user_id":1053697,"accept_rate":29,"display_name":"sandejai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88210,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":21681170,"answer_count":16,"score":17,"last_activity_date":1651350750,"creation_date":1392045872,"question_id":21681094,"body_markdown":"I understand:\r\n\r\n1. Since an abstract class is nothing on its own, e.g. vehicle, we want to create an object of an concrete implementation, like Car, Bike, etc.\r\n2. The constructor of an abstract class gets called during object chaining.\r\n3. We can never directly create an object of an abstract class, even if it contains a constructor and all methods are implemented.\r\n\r\nBut from the compiler&#39;s perspective, why does Java enforce these rules?","title":"Why can&#39;t we instantiate an abstract class in Java?","body":"<p>I understand:</p>\n\n<ol>\n<li>Since an abstract class is nothing on its own, e.g. vehicle, we want to create an object of an concrete implementation, like Car, Bike, etc.</li>\n<li>The constructor of an abstract class gets called during object chaining.</li>\n<li>We can never directly create an object of an abstract class, even if it contains a constructor and all methods are implemented.</li>\n</ol>\n\n<p>But from the compiler's perspective, why does Java enforce these rules?</p>\n"},{"tags":["java","arrays","list","java-stream"],"comments":[{"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"score":0,"creation_date":1651315611,"post_id":72067807,"comment_id":127338785,"body_markdown":"What have you done so far? What isn&#39;t working properly? Try to produce a [mre]","body":"What have you done so far? What isn&#39;t working properly? Try to produce a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1651315873,"post_id":72067807,"comment_id":127338827,"body_markdown":"What is the expected result?","body":"What is the expected result?"},{"owner":{"account_id":6414227,"reputation":195,"user_id":4972927,"accept_rate":71,"display_name":"nilFi"},"score":0,"creation_date":1651316168,"post_id":72067807,"comment_id":127338884,"body_markdown":"Updated the question, i am looking for arrays of splitted Strings.","body":"Updated the question, i am looking for arrays of splitted Strings."},{"owner":{"account_id":6068564,"reputation":400,"user_id":4738108,"display_name":"Tam&#225;s B&#225;r&#225;sz"},"score":0,"creation_date":1651316888,"post_id":72067807,"comment_id":127338996,"body_markdown":"Why do you need an array? In most settings you are better of with a List, which you already managed to create!","body":"Why do you need an array? In most settings you are better of with a List, which you already managed to create!"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651319734,"creation_date":1651317710,"answer_id":72068060,"question_id":72067807,"body_markdown":"&gt; split returns an array\r\n\r\nYou need to apply [`flatMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)) in order to produce a stream of `Strings` from a stream of `Strings[]`.\r\n\r\nAnd in order to collect the stream data into an array, you need to apply [`toArray()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#toArray(java.util.function.IntFunction)), which expects a function that produces an array of the desired type, as terminal operation:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; myList = \r\n            List.of(&quot;15:09:00 SOME TEXT SOME TEXT 088&quot;,\r\n                    &quot;15:09 SOME TEXT 1546 AMOUNT&quot;,\r\n                    &quot;15:09:06 SOME TEXT 1546 AMOUNT&quot;,\r\n                    &quot;13:03:00 SOME TEXT TEXT TEXT 00&quot;);\r\n        \r\n        String[] parts = getParts(myList, &quot;15:09:06&quot;, &quot;\\\\s+&quot;);\r\n\r\n        System.out.println(Arrays.toString(parts));\r\n    }\r\n\r\n    public static String[] getParts(List&lt;String&gt; source, String prefix, String delimiter) {\r\n        return source.stream()\r\n            .filter(str -&gt; str.startsWith(prefix)) // Stream&lt;String&gt;\r\n            .map(str -&gt; str.split(delimiter))      // Stream&lt;String[]&gt;\r\n            .flatMap(Stream::of)                   // Stream&lt;String&gt;\r\n            .toArray(String[]::new);\r\n    }\r\n\r\n**Output**\r\n```\r\n[15:09:06, SOME, TEXT, 1546, AMOUNT]\r\n```","title":"How to filter a List of strings and split them and return an Array in Java 8","body":"<blockquote>\n<p>split returns an array</p>\n</blockquote>\n<p>You need to apply <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>flatMap()</code></a> in order to produce a stream of <code>Strings</code> from a stream of <code>Strings[]</code>.</p>\n<p>And in order to collect the stream data into an array, you need to apply <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#toArray(java.util.function.IntFunction)\" rel=\"nofollow noreferrer\"><code>toArray()</code></a>, which expects a function that produces an array of the desired type, as terminal operation:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; myList = \n        List.of(&quot;15:09:00 SOME TEXT SOME TEXT 088&quot;,\n                &quot;15:09 SOME TEXT 1546 AMOUNT&quot;,\n                &quot;15:09:06 SOME TEXT 1546 AMOUNT&quot;,\n                &quot;13:03:00 SOME TEXT TEXT TEXT 00&quot;);\n    \n    String[] parts = getParts(myList, &quot;15:09:06&quot;, &quot;\\\\s+&quot;);\n\n    System.out.println(Arrays.toString(parts));\n}\n\npublic static String[] getParts(List&lt;String&gt; source, String prefix, String delimiter) {\n    return source.stream()\n        .filter(str -&gt; str.startsWith(prefix)) // Stream&lt;String&gt;\n        .map(str -&gt; str.split(delimiter))      // Stream&lt;String[]&gt;\n        .flatMap(Stream::of)                   // Stream&lt;String&gt;\n        .toArray(String[]::new);\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[15:09:06, SOME, TEXT, 1546, AMOUNT]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651350741,"creation_date":1651350741,"answer_id":72071977,"question_id":72067807,"body_markdown":"You can flatMap and split together.\r\n```\r\nString [] parts = myList.stream()\r\n    .filter(p -&gt; p.startsWith(&quot;19:01 &quot;))\r\n    .flatMap(l -&gt; Arrays.stream(l.split(&quot;\\\\s+&quot;)))\r\n    .toArray(String[]::new);","title":"How to filter a List of strings and split them and return an Array in Java 8","body":"<p>You can flatMap and split together.</p>\n<pre><code>String [] parts = myList.stream()\n    .filter(p -&gt; p.startsWith(&quot;19:01 &quot;))\n    .flatMap(l -&gt; Arrays.stream(l.split(&quot;\\\\s+&quot;)))\n    .toArray(String[]::new);\n</code></pre>\n"}],"owner":{"account_id":6414227,"reputation":195,"user_id":4972927,"accept_rate":71,"display_name":"nilFi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72068060,"answer_count":2,"score":1,"last_activity_date":1651350741,"creation_date":1651315523,"question_id":72067807,"body_markdown":"I have to filter strings from a list containing lines shown below.\r\n\r\n```\r\n&quot;15:09:00 SOME TEXT SOME TEXT 088&quot;\r\n&quot;15:09 SOME TEXT 1546 AMOUNT&quot;\r\n&quot;15:09:06 SOME TEXT 1546 AMOUNT&quot;\r\n&quot;13:03:00 SOME TEXT TEXT TEXT 00&quot;\r\n```\r\nI want to get elements that start with `15:09` and then split the line by white space. The `split()` method returns an array. \r\n\r\nHow to collect this to an array using streams?\r\n\r\nI&#39;ve tried the code below. I don&#39;t understand how to collect the data to array, that&#39;s why here method `collect()` returns a list.\r\n```\r\nString [] parts = myList.stream()\r\n    .filter(p -&gt; p.startsWith(&quot;19:01 &quot;))\r\n    .map(l -&gt; l.split(&quot;\\\\s+&quot;))\r\n    .collect(Collectors.toList());\r\n```\r\n","title":"How to filter a List of strings and split them and return an Array in Java 8","body":"<p>I have to filter strings from a list containing lines shown below.</p>\n<pre><code>&quot;15:09:00 SOME TEXT SOME TEXT 088&quot;\n&quot;15:09 SOME TEXT 1546 AMOUNT&quot;\n&quot;15:09:06 SOME TEXT 1546 AMOUNT&quot;\n&quot;13:03:00 SOME TEXT TEXT TEXT 00&quot;\n</code></pre>\n<p>I want to get elements that start with <code>15:09</code> and then split the line by white space. The <code>split()</code> method returns an array.</p>\n<p>How to collect this to an array using streams?</p>\n<p>I've tried the code below. I don't understand how to collect the data to array, that's why here method <code>collect()</code> returns a list.</p>\n<pre><code>String [] parts = myList.stream()\n    .filter(p -&gt; p.startsWith(&quot;19:01 &quot;))\n    .map(l -&gt; l.split(&quot;\\\\s+&quot;))\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","minecraft-forge"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1597725428,"post_id":63461573,"comment_id":112219765,"body_markdown":"Possibly helpful: https://forums.minecraftforge.net/topic/82543-1152-gradle-build-fail/?do=findComment&amp;comment=390793 &quot; The issue is that whatever JDK you&#39;re using does not have LetsEncrypt&#39;s root certificate. Be sure you are using jdk-8.0.242.08-hotspot or newer&quot;","body":"Possibly helpful: <a href=\"https://forums.minecraftforge.net/topic/82543-1152-gradle-build-fail/?do=findComment&amp;comment=390793\" rel=\"nofollow noreferrer\">forums.minecraftforge.net/topic/82543-1152-gradle-build-fail&zwnj;&#8203;/&hellip;</a> &quot; The issue is that whatever JDK you&#39;re using does not have LetsEncrypt&#39;s root certificate. Be sure you are using jdk-8.0.242.08-hotspot or newer&quot;"},{"owner":{"account_id":16272079,"reputation":19,"user_id":11750356,"display_name":"Exabyte314"},"score":0,"creation_date":1597728560,"post_id":63461573,"comment_id":112220547,"body_markdown":"does it have to have the &#39;-hotspot&#39; on the end of the filename? @sorifiend","body":"does it have to have the &#39;-hotspot&#39; on the end of the filename? @sorifiend"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1597728769,"post_id":63461573,"comment_id":112220611,"body_markdown":"as long as you download from the oracle JDK or OpenJDK then it will be ok.","body":"as long as you download from the oracle JDK or OpenJDK then it will be ok."}],"answers":[{"tags":[],"owner":{"account_id":18621538,"reputation":59,"user_id":13571592,"display_name":"Pulse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598991930,"creation_date":1598991930,"answer_id":63694978,"question_id":63461573,"body_markdown":"(Couldn&#39;t make a comment because not enough reputation) They might have changed the way how you should set up your mod environment. According to their instructions, you should first run the command ``gradlew genEclipseRuns``, which will generate the ``runClient`` and ``runServer`` configurations that will allow you to click the &quot;Run&quot; button in eclipse. After that, you should run the command ``gradlew eclipse``. This should set up your Eclipse folder. What I usually do after that is go into Eclipse, go to **File**, then **Import**, then in the search bar search for **Existing Gradle Projects**. Put in the directory text box the directory of the Forge MDK you have extracted, and click done. It should start importing the necessary libraries needed. After that, you are all set. \r\n\r\nIt seems that the links that Forge is trying to extract data from are outdated because if you try clicking on them they lead to a ``404 Error``. (The file must have been deleted). ","title":"Trying to mod MC Forge 1.12.2, but SetupDecompWorkspace not working","body":"<p>(Couldn't make a comment because not enough reputation) They might have changed the way how you should set up your mod environment. According to their instructions, you should first run the command <code>gradlew genEclipseRuns</code>, which will generate the <code>runClient</code> and <code>runServer</code> configurations that will allow you to click the &quot;Run&quot; button in eclipse. After that, you should run the command <code>gradlew eclipse</code>. This should set up your Eclipse folder. What I usually do after that is go into Eclipse, go to <strong>File</strong>, then <strong>Import</strong>, then in the search bar search for <strong>Existing Gradle Projects</strong>. Put in the directory text box the directory of the Forge MDK you have extracted, and click done. It should start importing the necessary libraries needed. After that, you are all set.</p>\n<p>It seems that the links that Forge is trying to extract data from are outdated because if you try clicking on them they lead to a <code>404 Error</code>. (The file must have been deleted).</p>\n"}],"owner":{"account_id":16272079,"reputation":19,"user_id":11750356,"display_name":"Exabyte314"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6935,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1651349404,"creation_date":1597722227,"question_id":63461573,"body_markdown":"I am trying to make a mod for Minecraft Forge 1.12.2, mdk file forge-1.12.2-14.23.5.2854-mdk. Problem is, when i right-click inside this folder, open Powershell and run the *./gradlew setupDecompWorkspace eclipse* command, it comes up with an error log:\r\n\r\nforge-1.12.2-14.23.5.2854-mdk&gt; ./gradlew setupDecompWorkspace eclipse                                                                                                     To honour the JVM settings for this build a new JVM will be forked. Please consider using the daemon: https://docs.gradlDaemon will be stopped at the end of the build stopping after processing\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;forge-1.12.2-14.23.5.2854-mdk&#39;.\r\n&gt; Could not resolve all artifacts for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve net.minecraftforge.gradle:ForgeGradle:3.+.\r\n     Required by:\r\n         project :\r\n      &gt; Failed to list versions for net.minecraftforge.gradle:ForgeGradle.\r\n         &gt; Unable to load Maven meta-data from https://files.minecraftforge.net/maven/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml.\r\n            &gt; Could not get resource &#39;https://files.minecraftforge.net/maven/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml&#39;.\r\n               &gt; Could not GET &#39;https://files.minecraftforge.net/maven/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml&#39;.\r\n                  &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n      &gt; Failed to list versions for net.minecraftforge.gradle:ForgeGradle.\r\n         &gt; Unable to load Maven meta-data from https://jcenter.bintray.com/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml.\r\n            &gt; Could not get resource &#39;https://jcenter.bintray.com/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml&#39;.\r\n               &gt; Could not GET &#39;https://jcenter.bintray.com/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml&#39;.\r\n                  &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n      &gt; Failed to list versions for net.minecraftforge.gradle:ForgeGradle.\r\n         &gt; Unable to load Maven meta-data from https://repo.maven.apache.org/maven2/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml.\r\n            &gt; Could not get resource &#39;https://repo.maven.apache.org/maven2/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml&#39;.\r\n               &gt; Could not GET &#39;https://repo.maven.apache.org/maven2/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml&#39;.\r\n                  &gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 6s\r\n\r\n\r\nCould somebody please help me with this? I am not sure what else to try.","title":"Trying to mod MC Forge 1.12.2, but SetupDecompWorkspace not working","body":"<p>I am trying to make a mod for Minecraft Forge 1.12.2, mdk file forge-1.12.2-14.23.5.2854-mdk. Problem is, when i right-click inside this folder, open Powershell and run the <em>./gradlew setupDecompWorkspace eclipse</em> command, it comes up with an error log:</p>\n<p>forge-1.12.2-14.23.5.2854-mdk&gt; ./gradlew setupDecompWorkspace eclipse                                                                                                     To honour the JVM settings for this build a new JVM will be forked. Please consider using the daemon: <a href=\"https://docs.gradlDaemon\" rel=\"nofollow noreferrer\">https://docs.gradlDaemon</a> will be stopped at the end of the build stopping after processing</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nA problem occurred configuring root project 'forge-1.12.2-14.23.5.2854-mdk'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all artifacts for configuration ':classpath'.\nCould not resolve net.minecraftforge.gradle:ForgeGradle:3.+.\nRequired by:\nproject :\n&gt; Failed to list versions for net.minecraftforge.gradle:ForgeGradle.\n&gt; Unable to load Maven meta-data from <a href=\"https://files.minecraftforge.net/maven/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml\" rel=\"nofollow noreferrer\">https://files.minecraftforge.net/maven/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml</a>.\n&gt; Could not get resource 'https://files.minecraftforge.net/maven/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml'.\n&gt; Could not GET 'https://files.minecraftforge.net/maven/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml'.\n&gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n&gt; Failed to list versions for net.minecraftforge.gradle:ForgeGradle.\n&gt; Unable to load Maven meta-data from <a href=\"https://jcenter.bintray.com/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml\" rel=\"nofollow noreferrer\">https://jcenter.bintray.com/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml</a>.\n&gt; Could not get resource 'https://jcenter.bintray.com/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml'.\n&gt; Could not GET 'https://jcenter.bintray.com/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml'.\n&gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n&gt; Failed to list versions for net.minecraftforge.gradle:ForgeGradle.\n&gt; Unable to load Maven meta-data from <a href=\"https://repo.maven.apache.org/maven2/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml</a>.\n&gt; Could not get resource 'https://repo.maven.apache.org/maven2/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml'.\n&gt; Could not GET 'https://repo.maven.apache.org/maven2/net/minecraftforge/gradle/ForgeGradle/maven-metadata.xml'.\n&gt; sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>BUILD FAILED in 6s</p>\n<p>Could somebody please help me with this? I am not sure what else to try.</p>\n"},{"tags":["java","logging","log4j"],"answers":[{"tags":[],"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"down_vote_count":0,"up_vote_count":141,"is_accepted":true,"score":141,"last_activity_date":1506816509,"creation_date":1331437435,"answer_id":9652239,"question_id":9652032,"body_markdown":"Try the following configuration:\r\n\r\n    log4j.rootLogger=TRACE, stdout\r\n\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d [%24F:%t:%L] - %m%n\r\n\r\n    log4j.appender.debugLog=org.apache.log4j.FileAppender\r\n    log4j.appender.debugLog.File=logs/debug.log\r\n    log4j.appender.debugLog.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.debugLog.layout.ConversionPattern=%d [%24F:%t:%L] - %m%n\r\n\r\n    log4j.appender.reportsLog=org.apache.log4j.FileAppender\r\n    log4j.appender.reportsLog.File=logs/reports.log\r\n    log4j.appender.reportsLog.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.reportsLog.layout.ConversionPattern=%d [%24F:%t:%L] - %m%n\r\n\r\n    log4j.category.debugLogger=TRACE, debugLog\r\n    log4j.additivity.debugLogger=false\r\n\r\n    log4j.category.reportsLogger=DEBUG, reportsLog\r\n    log4j.additivity.reportsLogger=false\r\n\r\nThen configure the loggers in the Java code accordingly:\r\n\r\n    static final Logger debugLog = Logger.getLogger(&quot;debugLogger&quot;);\r\n    static final Logger resultLog = Logger.getLogger(&quot;reportsLogger&quot;);\r\n\r\nDo you want output to go to `stdout`? If not, change the first line of `log4j.properties` to:\r\n\r\n    log4j.rootLogger=OFF\r\n\r\nand get rid of the `stdout` lines.\r\n","title":"How can I create 2 separate log files with one log4j config file?","body":"<p>Try the following configuration:</p>\n\n<pre><code>log4j.rootLogger=TRACE, stdout\n\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d [%24F:%t:%L] - %m%n\n\nlog4j.appender.debugLog=org.apache.log4j.FileAppender\nlog4j.appender.debugLog.File=logs/debug.log\nlog4j.appender.debugLog.layout=org.apache.log4j.PatternLayout\nlog4j.appender.debugLog.layout.ConversionPattern=%d [%24F:%t:%L] - %m%n\n\nlog4j.appender.reportsLog=org.apache.log4j.FileAppender\nlog4j.appender.reportsLog.File=logs/reports.log\nlog4j.appender.reportsLog.layout=org.apache.log4j.PatternLayout\nlog4j.appender.reportsLog.layout.ConversionPattern=%d [%24F:%t:%L] - %m%n\n\nlog4j.category.debugLogger=TRACE, debugLog\nlog4j.additivity.debugLogger=false\n\nlog4j.category.reportsLogger=DEBUG, reportsLog\nlog4j.additivity.reportsLogger=false\n</code></pre>\n\n<p>Then configure the loggers in the Java code accordingly:</p>\n\n<pre><code>static final Logger debugLog = Logger.getLogger(\"debugLogger\");\nstatic final Logger resultLog = Logger.getLogger(\"reportsLogger\");\n</code></pre>\n\n<p>Do you want output to go to <code>stdout</code>? If not, change the first line of <code>log4j.properties</code> to:</p>\n\n<pre><code>log4j.rootLogger=OFF\n</code></pre>\n\n<p>and get rid of the <code>stdout</code> lines.</p>\n"},{"tags":[],"owner":{"account_id":182761,"reputation":23472,"user_id":417685,"accept_rate":75,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1331437953,"creation_date":1331437953,"answer_id":9652283,"question_id":9652032,"body_markdown":"Modify your `log4j.properties` file accordingly:\r\n    \r\n    log4j.rootLogger=TRACE,stdout\r\n    ...\r\n    log4j.logger.debugLog=TRACE,debugLog\r\n    log4j.logger.reportsLog=DEBUG,reportsLog\r\n\r\nChange the log levels for each logger depending to your needs.","title":"How can I create 2 separate log files with one log4j config file?","body":"<p>Modify your <code>log4j.properties</code> file accordingly:</p>\n\n<pre><code>log4j.rootLogger=TRACE,stdout\n...\nlog4j.logger.debugLog=TRACE,debugLog\nlog4j.logger.reportsLog=DEBUG,reportsLog\n</code></pre>\n\n<p>Change the log levels for each logger depending to your needs.</p>\n"}],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122380,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":9652239,"answer_count":2,"score":75,"last_activity_date":1651349341,"creation_date":1331434634,"question_id":9652032,"body_markdown":"I can&#39;t figure out how to configure my log4j so that my debugLog and my reportsLog are separate from each other (not additive).  Why is it, that in the configuration below, the reportsLog is always empty?\r\n\r\n    log4j.rootLogger=TRACE, stdout, debugLog\r\n\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d [%24F:%t:%L] - %m%n\r\n    \r\n    log4j.appender.debugLog=org.apache.log4j.FileAppender\r\n    log4j.appender.debugLog.File=logs/debug.log\r\n    log4j.appender.debugLog.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.debugLog.layout.ConversionPattern=%d [%24F:%t:%L] - %m%n\r\n    \r\n    log4j.reportsLog=DEBUG,reportsLog\r\n    log4j.appender.reportsLog=org.apache.log4j.FileAppender\r\n    log4j.appender.reportsLog.File=logs/reports.log\r\n    log4j.appender.reportsLog.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.reportsLog.layout.ConversionPattern=%d [%24F:%t:%L] - %m%n\r\n\r\nAnd here is my Java code:\r\n\r\n    package test;\r\n    \r\n    import org.apache.log4j.Logger;\r\n    import org.apache.log4j.PropertyConfigurator;\r\n    \r\n    public class HelloLogger {\r\n    \r\n        static final Logger debugLog = Logger.getLogger(&quot;debugLog&quot;);\r\n        static final Logger resultLog = Logger.getLogger(&quot;reportsLog&quot;);\r\n    \t\r\n        public static void main(String[] args) {\r\n            PropertyConfigurator.configure(&quot;log4j.properties&quot;);\r\n            debugLog.debug(&quot;Hello debugLog message&quot;);\t\r\n            resultLog.debug(&quot;Hello reportsLog message&quot;);\r\n        }\t\r\n    }\r\n\r\n","title":"How can I create 2 separate log files with one log4j config file?","body":"<p>I can't figure out how to configure my log4j so that my debugLog and my reportsLog are separate from each other (not additive).  Why is it, that in the configuration below, the reportsLog is always empty?</p>\n\n<pre><code>log4j.rootLogger=TRACE, stdout, debugLog\n\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d [%24F:%t:%L] - %m%n\n\nlog4j.appender.debugLog=org.apache.log4j.FileAppender\nlog4j.appender.debugLog.File=logs/debug.log\nlog4j.appender.debugLog.layout=org.apache.log4j.PatternLayout\nlog4j.appender.debugLog.layout.ConversionPattern=%d [%24F:%t:%L] - %m%n\n\nlog4j.reportsLog=DEBUG,reportsLog\nlog4j.appender.reportsLog=org.apache.log4j.FileAppender\nlog4j.appender.reportsLog.File=logs/reports.log\nlog4j.appender.reportsLog.layout=org.apache.log4j.PatternLayout\nlog4j.appender.reportsLog.layout.ConversionPattern=%d [%24F:%t:%L] - %m%n\n</code></pre>\n\n<p>And here is my Java code:</p>\n\n<pre><code>package test;\n\nimport org.apache.log4j.Logger;\nimport org.apache.log4j.PropertyConfigurator;\n\npublic class HelloLogger {\n\n    static final Logger debugLog = Logger.getLogger(\"debugLog\");\n    static final Logger resultLog = Logger.getLogger(\"reportsLog\");\n\n    public static void main(String[] args) {\n        PropertyConfigurator.configure(\"log4j.properties\");\n        debugLog.debug(\"Hello debugLog message\");   \n        resultLog.debug(\"Hello reportsLog message\");\n    }   \n}\n</code></pre>\n"},{"tags":["java","arrays","matrix","multidimensional-array","transpose"],"answers":[{"tags":[],"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1618153752,"creation_date":1323291570,"answer_id":8422432,"question_id":8422374,"body_markdown":"```java\r\npublic int[][] tiles, temp;\r\n\r\n// Add values to tiles, wherever you end up doing that, then:\r\nSystem.arraycopy(tiles, 0, temp, 0, tiles.length);\r\n\r\nfor (int row = 0; row &lt; tiles.length; row++) // Loop over rows\r\n    for (int col = 0; col &lt; tiles[row].length; col++) // Loop over columns\r\n        tiles[col][row] = temp[row][col]; // Rotate\r\n```\r\nThat should do it for you.","title":"Multi-dimensional array transposing","body":"<pre class=\"lang-java prettyprint-override\"><code>public int[][] tiles, temp;\n\n// Add values to tiles, wherever you end up doing that, then:\nSystem.arraycopy(tiles, 0, temp, 0, tiles.length);\n\nfor (int row = 0; row &lt; tiles.length; row++) // Loop over rows\n    for (int col = 0; col &lt; tiles[row].length; col++) // Loop over columns\n        tiles[col][row] = temp[row][col]; // Rotate\n</code></pre>\n<p>That should do it for you.</p>\n"},{"tags":[],"owner":{"account_id":55050,"reputation":190509,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"down_vote_count":2,"up_vote_count":10,"is_accepted":true,"score":8,"last_activity_date":1617913953,"creation_date":1323292196,"answer_id":8422593,"question_id":8422374,"body_markdown":"try this:\r\n```java\r\n@Test\r\npublic void transpose() {\r\n    final int[][] original = new int[][]{\r\n            {1, 2, 3, 4},\r\n            {5, 6, 7, 8},\r\n            {9, 10, 11, 12}};\r\n\r\n    for (int i = 0; i &lt; original.length; i++) {\r\n        for (int j = 0; j &lt; original[i].length; j++) {\r\n            System.out.print(original[i][j] + &quot; &quot;);\r\n        }\r\n        System.out.print(&quot;\\n&quot;);\r\n    }\r\n    System.out.print(&quot;\\n\\n matrix transpose:\\n&quot;);\r\n    // transpose\r\n    if (original.length &gt; 0) {\r\n        for (int i = 0; i &lt; original[0].length; i++) {\r\n            for (int j = 0; j &lt; original.length; j++) {\r\n                System.out.print(original[j][i] + &quot; &quot;);\r\n            }\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\noutput:\r\n```\r\n1 2 3 4 \r\n5 6 7 8 \r\n9 10 11 12 \r\n\r\n\r\n matrix transpose:\r\n1 5 9 \r\n2 6 10 \r\n3 7 11 \r\n4 8 12 \r\n```\r\n","title":"Multi-dimensional array transposing","body":"<p>try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void transpose() {\n    final int[][] original = new int[][]{\n            {1, 2, 3, 4},\n            {5, 6, 7, 8},\n            {9, 10, 11, 12}};\n\n    for (int i = 0; i &lt; original.length; i++) {\n        for (int j = 0; j &lt; original[i].length; j++) {\n            System.out.print(original[i][j] + &quot; &quot;);\n        }\n        System.out.print(&quot;\\n&quot;);\n    }\n    System.out.print(&quot;\\n\\n matrix transpose:\\n&quot;);\n    // transpose\n    if (original.length &gt; 0) {\n        for (int i = 0; i &lt; original[0].length; i++) {\n            for (int j = 0; j &lt; original.length; j++) {\n                System.out.print(original[j][i] + &quot; &quot;);\n            }\n            System.out.print(&quot;\\n&quot;);\n        }\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>1 2 3 4 \n5 6 7 8 \n9 10 11 12 \n\n\n matrix transpose:\n1 5 9 \n2 6 10 \n3 7 11 \n4 8 12 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1637225066,"creation_date":1373747910,"answer_id":17634025,"question_id":8422374,"body_markdown":"The following solution does in fact return a transposed array instead of just printing it and works for all rectangular arrays, not just squares.\r\n\r\n```java\r\npublic int[][] transpose(int[][] array) {\r\n    // empty or unset array, nothing do to here\r\n    if (array == null || array.length == 0)\r\n        return array;\r\n\r\n    int width = array.length;\r\n    int height = array[0].length;\r\n\r\n    int[][] array_new = new int[height][width];\r\n\r\n    for (int x = 0; x &lt; width; x++) {\r\n        for (int y = 0; y &lt; height; y++) {\r\n            array_new[y][x] = array[x][y];\r\n        }\r\n    }\r\n    return array_new;\r\n}\r\n```\r\nyou should call it for example via:\r\n```java\r\nint[][] a = new int[][]{{1, 2, 3, 4}, {5, 6, 7, 8}};\r\nfor (int i = 0; i &lt; a.length; i++) {\r\n    System.out.print(&quot;[&quot;);\r\n    for (int y = 0; y &lt; a[0].length; y++) {\r\n        System.out.print(a[i][y] + &quot;,&quot;);\r\n    }\r\n    System.out.print(&quot;]\\n&quot;);\r\n}\r\n\r\na = transpose(a); // call\r\nSystem.out.println();\r\n\r\nfor (int i = 0; i &lt; a.length; i++) {\r\n    System.out.print(&quot;[&quot;);\r\n    for (int y = 0; y &lt; a[0].length; y++) {\r\n        System.out.print(a[i][y] + &quot;,&quot;);\r\n    }\r\n    System.out.print(&quot;]\\n&quot;);\r\n}\r\n```\r\nwhich will as expected output:\r\n```\r\n[1,2,3,4,]\r\n[5,6,7,8,]\r\n\r\n[1,5,]\r\n[2,6,]\r\n[3,7,]\r\n[4,8,]\r\n```\r\n","title":"Multi-dimensional array transposing","body":"<p>The following solution does in fact return a transposed array instead of just printing it and works for all rectangular arrays, not just squares.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int[][] transpose(int[][] array) {\n    // empty or unset array, nothing do to here\n    if (array == null || array.length == 0)\n        return array;\n\n    int width = array.length;\n    int height = array[0].length;\n\n    int[][] array_new = new int[height][width];\n\n    for (int x = 0; x &lt; width; x++) {\n        for (int y = 0; y &lt; height; y++) {\n            array_new[y][x] = array[x][y];\n        }\n    }\n    return array_new;\n}\n</code></pre>\n<p>you should call it for example via:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] a = new int[][]{{1, 2, 3, 4}, {5, 6, 7, 8}};\nfor (int i = 0; i &lt; a.length; i++) {\n    System.out.print(&quot;[&quot;);\n    for (int y = 0; y &lt; a[0].length; y++) {\n        System.out.print(a[i][y] + &quot;,&quot;);\n    }\n    System.out.print(&quot;]\\n&quot;);\n}\n\na = transpose(a); // call\nSystem.out.println();\n\nfor (int i = 0; i &lt; a.length; i++) {\n    System.out.print(&quot;[&quot;);\n    for (int y = 0; y &lt; a[0].length; y++) {\n        System.out.print(a[i][y] + &quot;,&quot;);\n    }\n    System.out.print(&quot;]\\n&quot;);\n}\n</code></pre>\n<p>which will as expected output:</p>\n<pre><code>[1,2,3,4,]\n[5,6,7,8,]\n\n[1,5,]\n[2,6,]\n[3,7,]\n[4,8,]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":227007,"reputation":1241,"user_id":488407,"accept_rate":33,"display_name":"Jash Sayani"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1617913719,"creation_date":1381642289,"answer_id":19342217,"question_id":8422374,"body_markdown":"I saw that all of the answers create a new resultant matrix. This is simple:\r\n```\r\nmatrix[i][j] = matrix[j][i];\r\n```\r\nHowever, you can also do this in-place, in case of square matrix.\r\n```java\r\n// Transpose, where m == n\r\nfor (int i = 0; i &lt; m; i++) {\r\n    for (int j = i + 1; j &lt; n; j++) {\r\n        int temp = matrix[i][j];\r\n        matrix[i][j] = matrix[j][i];\r\n        matrix[j][i] = temp;\r\n    }\r\n}\r\n```\r\nThis is better for larger matrices, where creating a new resultant matrix is wasteful in terms of memory. If its not square, you can create a new one with `NxM` dimensions and do the out of place method. Note: for in-place, take care of `j = i + 1`. It&#39;s not `0`.","title":"Multi-dimensional array transposing","body":"<p>I saw that all of the answers create a new resultant matrix. This is simple:</p>\n<pre><code>matrix[i][j] = matrix[j][i];\n</code></pre>\n<p>However, you can also do this in-place, in case of square matrix.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Transpose, where m == n\nfor (int i = 0; i &lt; m; i++) {\n    for (int j = i + 1; j &lt; n; j++) {\n        int temp = matrix[i][j];\n        matrix[i][j] = matrix[j][i];\n        matrix[j][i] = temp;\n    }\n}\n</code></pre>\n<p>This is better for larger matrices, where creating a new resultant matrix is wasteful in terms of memory. If its not square, you can create a new one with <code>NxM</code> dimensions and do the out of place method. Note: for in-place, take care of <code>j = i + 1</code>. It's not <code>0</code>.</p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390749568,"creation_date":1390749568,"answer_id":21365145,"question_id":8422374,"body_markdown":"If you want to go for in place transpose of a matrix(in which case `row count = col count`) you can so following in Java\r\n\r\n    public static void inPlaceTranspose(int [][] matrix){\r\n\r\n        int rows = matrix.length;\r\n        int cols = matrix[0].length;\r\n\r\n        for(int i=0;i&lt;rows;i++){\r\n            for(int j=i+1;j&lt;cols;j++){\r\n                matrix[i][j] = matrix[i][j] + matrix[j][i];\r\n                matrix[j][i] = matrix[i][j] - matrix[j][i];\r\n                matrix[i][j] = matrix[i][j] - matrix[j][i];\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Multi-dimensional array transposing","body":"<p>If you want to go for in place transpose of a matrix(in which case <code>row count = col count</code>) you can so following in Java</p>\n\n<pre><code>public static void inPlaceTranspose(int [][] matrix){\n\n    int rows = matrix.length;\n    int cols = matrix[0].length;\n\n    for(int i=0;i&lt;rows;i++){\n        for(int j=i+1;j&lt;cols;j++){\n            matrix[i][j] = matrix[i][j] + matrix[j][i];\n            matrix[j][i] = matrix[i][j] - matrix[j][i];\n            matrix[i][j] = matrix[i][j] - matrix[j][i];\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7421208,"reputation":1,"user_id":5645473,"display_name":"Thanuka Samarasinghe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619454469,"creation_date":1451433150,"answer_id":34520968,"question_id":8422374,"body_markdown":"```java\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class Demo {\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        //asking number of rows from user\r\n        int rows = askArray(&quot;Enter number of rows :&quot;, input);\r\n        //asking number of columns from user\r\n        int columns = askArray(&quot;Enter number of columns :&quot;, input);\r\n        int[][] array = Array(rows, columns, input);\r\n        //displaying initial matrix\r\n        DisplayArray(array, rows, columns);\r\n        System.out.println(&quot;Transpose array &quot;);\r\n        //calling Transpose array method\r\n        int[][] array2 = TransposeArray(array, rows, columns);\r\n        for (int i = 0; i &lt; array[0].length; i++) {\r\n            System.out.println(Arrays.toString(array2[i]));\r\n        }\r\n    }\r\n\r\n    //method to take number of rows and number of columns from the user\r\n    public static int askArray(String s, Scanner in) {\r\n        System.out.print(s);\r\n        int value = in.nextInt();\r\n\r\n        return value;\r\n    }\r\n\r\n    //feeding elements to the matrix\r\n    public static int[][] Array(int x, int y, Scanner input) {\r\n        int[][] array = new int[x][y];\r\n        for (int j = 0; j &lt; x; j++) {\r\n            System.out.print(&quot;Enter row number &quot; + (j + 1) + &quot;:&quot;);\r\n            for (int i = 0; i &lt; y; i++) {\r\n                array[j][i] = input.nextInt();\r\n            }\r\n        }\r\n        return array;\r\n    }\r\n\r\n    //Method to display initial matrix\r\n    public static void DisplayArray(int[][] arra, int x, int y) {\r\n        for (int i = 0; i &lt; x; i++) {\r\n            System.out.println(Arrays.toString(arra[i]));\r\n        }\r\n    }\r\n\r\n    //Method to transpose matrix\r\n    public static int[][] TransposeArray(int[][] arr, int x, int y) {\r\n        int[][] Transpose_Array = new int[y][x];\r\n        for (int i = 0; i &lt; x; i++) {\r\n            for (int j = 0; j &lt; y; j++) {\r\n                Transpose_Array[j][i] = arr[i][j];\r\n            }\r\n        }\r\n        return Transpose_Array;\r\n    }\r\n}\r\n```\r\n","title":"Multi-dimensional array transposing","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Demo {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        //asking number of rows from user\n        int rows = askArray(&quot;Enter number of rows :&quot;, input);\n        //asking number of columns from user\n        int columns = askArray(&quot;Enter number of columns :&quot;, input);\n        int[][] array = Array(rows, columns, input);\n        //displaying initial matrix\n        DisplayArray(array, rows, columns);\n        System.out.println(&quot;Transpose array &quot;);\n        //calling Transpose array method\n        int[][] array2 = TransposeArray(array, rows, columns);\n        for (int i = 0; i &lt; array[0].length; i++) {\n            System.out.println(Arrays.toString(array2[i]));\n        }\n    }\n\n    //method to take number of rows and number of columns from the user\n    public static int askArray(String s, Scanner in) {\n        System.out.print(s);\n        int value = in.nextInt();\n\n        return value;\n    }\n\n    //feeding elements to the matrix\n    public static int[][] Array(int x, int y, Scanner input) {\n        int[][] array = new int[x][y];\n        for (int j = 0; j &lt; x; j++) {\n            System.out.print(&quot;Enter row number &quot; + (j + 1) + &quot;:&quot;);\n            for (int i = 0; i &lt; y; i++) {\n                array[j][i] = input.nextInt();\n            }\n        }\n        return array;\n    }\n\n    //Method to display initial matrix\n    public static void DisplayArray(int[][] arra, int x, int y) {\n        for (int i = 0; i &lt; x; i++) {\n            System.out.println(Arrays.toString(arra[i]));\n        }\n    }\n\n    //Method to transpose matrix\n    public static int[][] TransposeArray(int[][] arr, int x, int y) {\n        int[][] Transpose_Array = new int[y][x];\n        for (int i = 0; i &lt; x; i++) {\n            for (int j = 0; j &lt; y; j++) {\n                Transpose_Array[j][i] = arr[i][j];\n            }\n        }\n        return Transpose_Array;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5784203,"reputation":594,"user_id":4563992,"accept_rate":75,"display_name":"Gilles Bodart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617947296,"creation_date":1479978856,"answer_id":40782142,"question_id":8422374,"body_markdown":"```java\r\npublic int[][] getTranspose() {\r\n    int[][] transpose = new int[row][column];\r\n    for (int i = 0; i &lt; row; i++) {\r\n        for (int j = 0; j &lt; column; j++) {\r\n            transpose[i][j] = original[j][i];\r\n        }\r\n    }\r\n    return transpose;\r\n}\r\n```\r\n","title":"Multi-dimensional array transposing","body":"<pre class=\"lang-java prettyprint-override\"><code>public int[][] getTranspose() {\n    int[][] transpose = new int[row][column];\n    for (int i = 0; i &lt; row; i++) {\n        for (int j = 0; j &lt; column; j++) {\n            transpose[i][j] = original[j][i];\n        }\n    }\n    return transpose;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1618261098,"creation_date":1483522839,"answer_id":41460574,"question_id":8422374,"body_markdown":"a bit more generic way:\r\n\r\n    /**\r\n     * Transposes the given array, swapping rows with columns. The given array might contain arrays as elements that are\r\n     * not all of the same length. The returned array will have {@code null} values at those places.\r\n     * \r\n     * @param &lt;T&gt;\r\n     *            the type of the array\r\n     * \r\n     * @param array\r\n     *            the array\r\n     * \r\n     * @return the transposed array\r\n     * \r\n     * @throws NullPointerException\r\n     *             if the given array is {@code null}\r\n     */\r\n    public static &lt;T&gt; T[][] transpose(final T[][] array) {\r\n        Objects.requireNonNull(array);\r\n        // get y count\r\n        final int yCount = Arrays.stream(array).mapToInt(a -&gt; a.length).max().orElse(0);\r\n        final int xCount = array.length;\r\n        final Class&lt;?&gt; componentType = array.getClass().getComponentType().getComponentType();\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        final T[][] newArray = (T[][]) Array.newInstance(componentType, yCount, xCount);\r\n        for (int x = 0; x &lt; xCount; x++) {\r\n            for (int y = 0; y &lt; yCount; y++) {\r\n                if (array[x] == null || y &gt;= array[x].length) break;\r\n                newArray[y][x] = array[x][y];\r\n            }\r\n        }\r\n        return newArray;\r\n    }","title":"Multi-dimensional array transposing","body":"<p>a bit more generic way:</p>\n<pre><code>/**\n * Transposes the given array, swapping rows with columns. The given array might contain arrays as elements that are\n * not all of the same length. The returned array will have {@code null} values at those places.\n * \n * @param &lt;T&gt;\n *            the type of the array\n * \n * @param array\n *            the array\n * \n * @return the transposed array\n * \n * @throws NullPointerException\n *             if the given array is {@code null}\n */\npublic static &lt;T&gt; T[][] transpose(final T[][] array) {\n    Objects.requireNonNull(array);\n    // get y count\n    final int yCount = Arrays.stream(array).mapToInt(a -&gt; a.length).max().orElse(0);\n    final int xCount = array.length;\n    final Class&lt;?&gt; componentType = array.getClass().getComponentType().getComponentType();\n    @SuppressWarnings(&quot;unchecked&quot;)\n    final T[][] newArray = (T[][]) Array.newInstance(componentType, yCount, xCount);\n    for (int x = 0; x &lt; xCount; x++) {\n        for (int y = 0; y &lt; yCount; y++) {\n            if (array[x] == null || y &gt;= array[x].length) break;\n            newArray[y][x] = array[x][y];\n        }\n    }\n    return newArray;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13087154,"reputation":134,"user_id":9455798,"display_name":"Vishnu Mari"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1618335220,"creation_date":1569464789,"answer_id":58108756,"question_id":8422374,"body_markdown":"```java\r\nimport java.util.*;\r\n\r\npublic class TestClass {\r\n    public static void main(String args[]) throws Exception {\r\n        Scanner in = new Scanner(System.in);\r\n        int iSize = in.nextInt();\r\n        int jSize = in.nextInt();\r\n        int arr[][] = new int[iSize][jSize];\r\n        int array[][] = new int[jSize][iSize];\r\n        for (int i = 0; i &lt; iSize; i++) {\r\n            for (int j = 0; j &lt; jSize; j++) {\r\n                arr[i][j] = in.nextInt();\r\n            }\r\n            System.out.println(&quot;\\n&quot;);\r\n        }\r\n\r\n        for (int n = 0; n &lt; arr[0].length; n++) {\r\n            for (int m = 0; m &lt; arr.length; m++) {\r\n                array[n][m] = arr[m][n];\r\n                System.out.print(array[n][m] + &quot; &quot;);\r\n            }\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Multi-dimensional array transposing","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class TestClass {\n    public static void main(String args[]) throws Exception {\n        Scanner in = new Scanner(System.in);\n        int iSize = in.nextInt();\n        int jSize = in.nextInt();\n        int arr[][] = new int[iSize][jSize];\n        int array[][] = new int[jSize][iSize];\n        for (int i = 0; i &lt; iSize; i++) {\n            for (int j = 0; j &lt; jSize; j++) {\n                arr[i][j] = in.nextInt();\n            }\n            System.out.println(&quot;\\n&quot;);\n        }\n\n        for (int n = 0; n &lt; arr[0].length; n++) {\n            for (int m = 0; m &lt; arr.length; m++) {\n                array[n][m] = arr[m][n];\n                System.out.print(array[n][m] + &quot; &quot;);\n            }\n            System.out.print(&quot;\\n&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14227786,"reputation":1,"user_id":10277901,"display_name":"Philomena Lamoureux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574972412,"creation_date":1574882414,"answer_id":59077152,"question_id":8422374,"body_markdown":"Use this function (replace String by int if necessary). It takes the matrix as string array and returns a new matrix which is the transpose. It checks for the edge case of an empty array, too. No prints.\r\n\r\n    private String[][] transposeTable(String[][] table) {\r\n        // Transpose of empty table is empty table\r\n        if (table.length &lt; 1) {\r\n            return table;\r\n        }\r\n\r\n        // Table isn&#39;t empty\r\n        int nRows = table.length;\r\n        int nCols = table[0].length;\r\n        String[][] transpose = new String[nCols][nRows];\r\n\r\n        // Do the transpose\r\n        for (int i = 0; i &lt; nRows; i++) {\r\n            for (int j = 0; j &lt; nCols; j++) {\r\n                transpose[j][i] = table[i][j];\r\n            }\r\n        }\r\n\r\n        return transpose;\r\n    }","title":"Multi-dimensional array transposing","body":"<p>Use this function (replace String by int if necessary). It takes the matrix as string array and returns a new matrix which is the transpose. It checks for the edge case of an empty array, too. No prints.</p>\n\n<pre><code>private String[][] transposeTable(String[][] table) {\n    // Transpose of empty table is empty table\n    if (table.length &lt; 1) {\n        return table;\n    }\n\n    // Table isn't empty\n    int nRows = table.length;\n    int nCols = table[0].length;\n    String[][] transpose = new String[nCols][nRows];\n\n    // Do the transpose\n    for (int i = 0; i &lt; nRows; i++) {\n        for (int j = 0; j &lt; nCols; j++) {\n            transpose[j][i] = table[i][j];\n        }\n    }\n\n    return transpose;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618144839,"creation_date":1583749429,"answer_id":60598571,"question_id":8422374,"body_markdown":"Here is my 50 cents: a utility method and test to transponse multidimensional array (for doubles in my case):\r\n\r\n```java\r\n/**\r\n * Transponse bidimensional array.\r\n *\r\n * @param original Original table.\r\n * @return Transponsed.\r\n */\r\npublic static double[][] transponse(double[][] original) {\r\n    double[][] transponsed = new double\r\n            [original[0].length]\r\n            [original.length];\r\n\r\n    for (int i = 0; i &lt; original[0].length; i++) {\r\n        for (int j = 0; j &lt; original.length; j++) {\r\n            transponsed[i][j] = original[j][i];\r\n        }\r\n    }\r\n    return transponsed;\r\n}\r\n```\r\n```java\r\n@Test\r\nvoid aMatrix_OfTwoDimensions_ToBeTransponsed() {\r\n    final double[][] original =\r\n            new double[][]{{1, 2, 3, 4}, {5, 6, 7, 8}, {9, 10, 11, 12}};\r\n\r\n    double[][] transponsed = Analysis.transponse(original);\r\n\r\n    assertThat(transponsed[1][2], is(equalTo(10)));\r\n}\r\n```\r\n","title":"Multi-dimensional array transposing","body":"<p>Here is my 50 cents: a utility method and test to transponse multidimensional array (for doubles in my case):</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Transponse bidimensional array.\n *\n * @param original Original table.\n * @return Transponsed.\n */\npublic static double[][] transponse(double[][] original) {\n    double[][] transponsed = new double\n            [original[0].length]\n            [original.length];\n\n    for (int i = 0; i &lt; original[0].length; i++) {\n        for (int j = 0; j &lt; original.length; j++) {\n            transponsed[i][j] = original[j][i];\n        }\n    }\n    return transponsed;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid aMatrix_OfTwoDimensions_ToBeTransponsed() {\n    final double[][] original =\n            new double[][]{{1, 2, 3, 4}, {5, 6, 7, 8}, {9, 10, 11, 12}};\n\n    double[][] transponsed = Analysis.transponse(original);\n\n    assertThat(transponsed[1][2], is(equalTo(10)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21285608,"reputation":283,"user_id":15675231,"display_name":"Stackbeans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651348192,"creation_date":1651326706,"answer_id":72069069,"question_id":8422374,"body_markdown":"Here&#39;s what I came up with about a year ago, I was only just learning at the time so I came up with the solution within two weeks of learning Java.\r\n\r\nWe get a list of values:\r\n\r\n```\r\nint[] jest = new int[] {1, 2, 3, 4, 5, 6};\r\n```\r\nThen we produce empty double lists and get the length of the single list, and store these within the double list.\r\n```\r\nint[][] storeValues = null;\r\nint[][] valueLength = new int[jest.length][jest.length];\r\nint[][] submit = null;\r\nint[][] submitted = null;\r\n```\r\nCreate a double `for-loop` to increment a value until the length of the list. Then we store these and go over the array range to make it horizontal.\r\n```\r\nfor(int i=0; i&lt;jest.length;i++) {\r\n\t\tfor(int j = 0; j &lt; jest.length;j++) {\r\n\t  \r\n\t    storeValues = new int[][] {jest};\r\n\t valueLength[j][i] = storeValues[0][i];\r\n\t \r\n\t submit = Arrays.copyOfRange(valueLength, 0, j+1);\r\n\t \r\n\t submitted = Arrays.copyOfRange(submit, j, j+1);\r\n\t}\t\r\n```\r\n\r\nFull working code:\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class transMatrix {\r\n\r\n\tpublic static void main(String[] args) {\r\n\tint[] jest = new int[] {1, 2, 3, 4, 5, 6};\r\n\t    int[][] storeValues = null;\r\n\t    int[][] valueLength = new int[jest.length][jest.length];\r\n\t    int[][] submit = null;\r\n\t    int[][] submitted = null;\r\n\tfor(int i=0; i&lt;jest.length;i++) {\r\n\t\tfor(int j = 0; j &lt; jest.length;j++) {\r\n\t  \r\n\t    storeValues = new int[][] {jest};\r\n\t valueLength[j][i] = storeValues[0][i];\r\n\t \r\n\t submit = Arrays.copyOfRange(valueLength, 0, j+1);\r\n\t \r\n\t submitted = Arrays.copyOfRange(submit, j, j+1);\r\n\t}\t\r\n\t\r\n\t}System.out.println(Arrays.deepToString(submitted)); \r\n}}\r\n```\r\nOutput:\r\n```\r\n[[1, 2, 3, 4, 5, 6]]\r\n```\r\n","title":"Multi-dimensional array transposing","body":"<p>Here's what I came up with about a year ago, I was only just learning at the time so I came up with the solution within two weeks of learning Java.</p>\n<p>We get a list of values:</p>\n<pre><code>int[] jest = new int[] {1, 2, 3, 4, 5, 6};\n</code></pre>\n<p>Then we produce empty double lists and get the length of the single list, and store these within the double list.</p>\n<pre><code>int[][] storeValues = null;\nint[][] valueLength = new int[jest.length][jest.length];\nint[][] submit = null;\nint[][] submitted = null;\n</code></pre>\n<p>Create a double <code>for-loop</code> to increment a value until the length of the list. Then we store these and go over the array range to make it horizontal.</p>\n<pre><code>for(int i=0; i&lt;jest.length;i++) {\n        for(int j = 0; j &lt; jest.length;j++) {\n      \n        storeValues = new int[][] {jest};\n     valueLength[j][i] = storeValues[0][i];\n     \n     submit = Arrays.copyOfRange(valueLength, 0, j+1);\n     \n     submitted = Arrays.copyOfRange(submit, j, j+1);\n    }   \n</code></pre>\n<p>Full working code:</p>\n<pre><code>import java.util.Arrays;\n\npublic class transMatrix {\n\n    public static void main(String[] args) {\n    int[] jest = new int[] {1, 2, 3, 4, 5, 6};\n        int[][] storeValues = null;\n        int[][] valueLength = new int[jest.length][jest.length];\n        int[][] submit = null;\n        int[][] submitted = null;\n    for(int i=0; i&lt;jest.length;i++) {\n        for(int j = 0; j &lt; jest.length;j++) {\n      \n        storeValues = new int[][] {jest};\n     valueLength[j][i] = storeValues[0][i];\n     \n     submit = Arrays.copyOfRange(valueLength, 0, j+1);\n     \n     submitted = Arrays.copyOfRange(submit, j, j+1);\n    }   \n    \n    }System.out.println(Arrays.deepToString(submitted)); \n}}\n</code></pre>\n<p>Output:</p>\n<pre><code>[[1, 2, 3, 4, 5, 6]]\n</code></pre>\n"}],"owner":{"account_id":997731,"reputation":1071,"user_id":1013285,"accept_rate":82,"display_name":"Antti Kolehmainen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54877,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":8422593,"answer_count":12,"score":22,"last_activity_date":1651348192,"creation_date":1323291318,"question_id":8422374,"body_markdown":"I have a row-based multidimensional array:\r\n\r\n    /** [row][column]. */\r\n\tpublic int[][] tiles;\r\n\r\nI would like to transform this array to column-based array, like following:\r\n\r\n    /** [column][row]. */\r\n\tpublic int[][] tiles;\r\n\r\n...But I really don&#39;t know where to start","title":"Multi-dimensional array transposing","body":"<p>I have a row-based multidimensional array:</p>\n\n<pre><code>/** [row][column]. */\npublic int[][] tiles;\n</code></pre>\n\n<p>I would like to transform this array to column-based array, like following:</p>\n\n<pre><code>/** [column][row]. */\npublic int[][] tiles;\n</code></pre>\n\n<p>...But I really don't know where to start</p>\n"},{"tags":["java","types"],"answers":[{"tags":[],"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651346787,"creation_date":1651346031,"answer_id":72071453,"question_id":72071408,"body_markdown":"You can find [here][1] several suggestions. For example, you can use regular expressions. Create an `isNumeric` function that will tell you whether a given string is an integer:\r\n\r\n      public boolean isNumeric(String strNum) {\r\n        Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\r\n        if (strNum == null) {\r\n          return false;\r\n        }\r\n        return pattern.matcher(strNum).matches();\r\n      }\r\n\r\nAnd before pushing the `scanner.next()` to the integer parser, check it with the function.\r\n\r\n  [1]: https://www.baeldung.com/java-check-string-number","title":"How to ask for input until 2 integers are received?","body":"<p>You can find <a href=\"https://www.baeldung.com/java-check-string-number\" rel=\"nofollow noreferrer\">here</a> several suggestions. For example, you can use regular expressions. Create an <code>isNumeric</code> function that will tell you whether a given string is an integer:</p>\n<pre><code>  public boolean isNumeric(String strNum) {\n    Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\n    if (strNum == null) {\n      return false;\n    }\n    return pattern.matcher(strNum).matches();\n  }\n</code></pre>\n<p>And before pushing the <code>scanner.next()</code> to the integer parser, check it with the function.</p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651347611,"creation_date":1651346061,"answer_id":72071456,"question_id":72071408,"body_markdown":"Instead of manually checking if the input is the right type, you could rely on the `Scanner`&#39;s methods `hasNextInt()` and `nextInt()`. \r\n\r\nThe first one will check whether your input is an actual int and then you can proceed reading it with `nextInt()`. For further details about placing a `nextLine()` after reading a numeric type read the following [question][1] asked here on stack overflow.\r\n\r\nHere I&#39;ve also included your code in a sample main. I know yours was just a snippet with much more code around (I didn&#39;t have the `cellOccupied` method, for example) but I&#39;ve just pasted it like so for a minimal testing. Besides, I&#39;ve also parameterized your use case. It was a bit odd and redundant to repeat the same code for reading the user input applying the same coordinate-logic.\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int coord1 = 0, coord2 = 0;\r\n        do {\r\n            coord1 = readCoordinate(&quot;Enter first coordinate: &quot;);\r\n            coord2 = readCoordinate(&quot;Enter second coordinate: &quot;);\r\n\r\n            //Showing an error message if the coords refer to an occupied cell\r\n            if (cellOccupied(field, coord1, coord2)) {\r\n                System.out.println(&quot;This cell is occupied! Choose another one!&quot;);\r\n            }\r\n        } while (cellOccupied(field, coord1, coord2));\r\n    }\r\n\r\n    private static int readCoordinate(String message) {\r\n        int coord;\r\n        Scanner scanner = new Scanner(System.in);\r\n        while (true) {\r\n            System.out.print(message);\r\n            if (scanner.hasNextInt()) {\r\n                coord = scanner.nextInt();\r\n\r\n                //getting rid of the new line character after reading the int\r\n                scanner.nextLine();\r\n\r\n                //Checking coordinate value\r\n                if (coord &lt; 1 || coord &gt; 3) {\r\n                    System.out.println(&quot;Coordinates should be from 1 to 3!&quot;);\r\n                    continue;\r\n                }\r\n            } else {\r\n                //assigning an undesired value (since your coords must be between 1 and 3\r\n                coord = 0;\r\n\r\n                //getting rid of the wrong user input\r\n                scanner.nextLine();\r\n\r\n                //Showing an error message\r\n                System.out.println(&quot;Please enter an int value&quot;);\r\n\r\n                //Skipping directly to the loop&#39;s condition\r\n                continue;\r\n            }\r\n\r\n            break;\r\n        }\r\n\r\n        return coord;\r\n    }\r\n}\r\n```\r\n\r\nOn a side note, avoid declaring fields in a loop.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo","title":"How to ask for input until 2 integers are received?","body":"<p>Instead of manually checking if the input is the right type, you could rely on the <code>Scanner</code>'s methods <code>hasNextInt()</code> and <code>nextInt()</code>.</p>\n<p>The first one will check whether your input is an actual int and then you can proceed reading it with <code>nextInt()</code>. For further details about placing a <code>nextLine()</code> after reading a numeric type read the following <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">question</a> asked here on stack overflow.</p>\n<p>Here I've also included your code in a sample main. I know yours was just a snippet with much more code around (I didn't have the <code>cellOccupied</code> method, for example) but I've just pasted it like so for a minimal testing. Besides, I've also parameterized your use case. It was a bit odd and redundant to repeat the same code for reading the user input applying the same coordinate-logic.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int coord1 = 0, coord2 = 0;\n        do {\n            coord1 = readCoordinate(&quot;Enter first coordinate: &quot;);\n            coord2 = readCoordinate(&quot;Enter second coordinate: &quot;);\n\n            //Showing an error message if the coords refer to an occupied cell\n            if (cellOccupied(field, coord1, coord2)) {\n                System.out.println(&quot;This cell is occupied! Choose another one!&quot;);\n            }\n        } while (cellOccupied(field, coord1, coord2));\n    }\n\n    private static int readCoordinate(String message) {\n        int coord;\n        Scanner scanner = new Scanner(System.in);\n        while (true) {\n            System.out.print(message);\n            if (scanner.hasNextInt()) {\n                coord = scanner.nextInt();\n\n                //getting rid of the new line character after reading the int\n                scanner.nextLine();\n\n                //Checking coordinate value\n                if (coord &lt; 1 || coord &gt; 3) {\n                    System.out.println(&quot;Coordinates should be from 1 to 3!&quot;);\n                    continue;\n                }\n            } else {\n                //assigning an undesired value (since your coords must be between 1 and 3\n                coord = 0;\n\n                //getting rid of the wrong user input\n                scanner.nextLine();\n\n                //Showing an error message\n                System.out.println(&quot;Please enter an int value&quot;);\n\n                //Skipping directly to the loop's condition\n                continue;\n            }\n\n            break;\n        }\n\n        return coord;\n    }\n}\n</code></pre>\n<p>On a side note, avoid declaring fields in a loop.</p>\n"}],"owner":{"account_id":18432089,"reputation":145,"user_id":13426925,"display_name":"vdmclcv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72071456,"answer_count":2,"score":2,"last_activity_date":1651347611,"creation_date":1651345653,"question_id":72071408,"body_markdown":"I need to validate that user inputs two integers and as such, I need to continue asking him for input until he provides both inputs that are integers. Not sure how to implement it, but I came up with something like that but now struggling to implement the part that checks if coord1 and coord2 get correct types. If not, it of course gives me the NumberFormatException:\r\n\r\n```\r\n  while (true) {\r\n            System.out.print(&quot;Enter the coordinates: &quot;);\r\n            int coord1 = Integer.parseInt(scanner.next());\r\n            int coord2 = Integer.parseInt(scanner.next());\r\n            if (coord1 &lt; 1 || coord1 &gt; 3 || coord2 &lt; 1 || coord2 &gt; 3) {\r\n                System.out.println(&quot;Coordinates should be from 1 to 3!&quot;);\r\n                continue;\r\n            } else if (cellOccupied(field, coord1, coord2)) {\r\n                System.out.println(&quot;This cell is occupied! Choose another one!&quot;);\r\n                continue;\r\n            }\r\n            break;\r\n        }\r\n```\r\n\r\nCan I solve it without using try / catch, since I haven&#39;t learned that yet, or is this the only way? \r\n\r\nThank you in advance and sorry, since I&#39;m still learning Java syntax and ways of validation.\r\n","title":"How to ask for input until 2 integers are received?","body":"<p>I need to validate that user inputs two integers and as such, I need to continue asking him for input until he provides both inputs that are integers. Not sure how to implement it, but I came up with something like that but now struggling to implement the part that checks if coord1 and coord2 get correct types. If not, it of course gives me the NumberFormatException:</p>\n<pre><code>  while (true) {\n            System.out.print(&quot;Enter the coordinates: &quot;);\n            int coord1 = Integer.parseInt(scanner.next());\n            int coord2 = Integer.parseInt(scanner.next());\n            if (coord1 &lt; 1 || coord1 &gt; 3 || coord2 &lt; 1 || coord2 &gt; 3) {\n                System.out.println(&quot;Coordinates should be from 1 to 3!&quot;);\n                continue;\n            } else if (cellOccupied(field, coord1, coord2)) {\n                System.out.println(&quot;This cell is occupied! Choose another one!&quot;);\n                continue;\n            }\n            break;\n        }\n</code></pre>\n<p>Can I solve it without using try / catch, since I haven't learned that yet, or is this the only way?</p>\n<p>Thank you in advance and sorry, since I'm still learning Java syntax and ways of validation.</p>\n"},{"tags":["java","docker","containers","devops","docker-volume"],"answers":[{"tags":[],"owner":{"account_id":4866881,"reputation":20471,"user_id":3924803,"display_name":"Hans Kilian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651321223,"creation_date":1651321223,"answer_id":72068475,"question_id":72068298,"body_markdown":"The first thing is that you can&#39;t have spaces in the volume mapping option. I.e.\r\n\r\n    docker run --name mycontainer -v /users/myname/Desktop/OutputFolder : / myimage\r\n\r\nshould be\r\n\r\n    docker run --name mycontainer -v /users/myname/Desktop/OutputFolder:/ myimage\r\n\r\nBut that won&#39;t work because you&#39;re mapping your host directory onto the root of the image. When you do that, you &#39;hide&#39; everything in the root directory and below it in the container, including your .jar file.\r\n\r\nWhat you can do is map a single file onto the output file. As far as I can see, the file name of the output file in the container will be `/SavedFile.xlsx`. \r\nFor this to work, the file must exists on the host before you start the container, so with the following 2 commands\r\n\r\n    touch /users/myname/Desktop/OutputFolder/SavedFile.xlsx\r\n    docker run --name mycontainer -v /users/myname/Desktop/OutputFolder/SavedFile.xlsx:/SavedFile.xlsx myimage\r\n\r\nit should work and you should get your output in `/users/myname/Desktop/OutputFolder/SavedFile.xlsx` on the host.\r\n","title":"Binding a local directory to java application container","body":"<p>The first thing is that you can't have spaces in the volume mapping option. I.e.</p>\n<pre><code>docker run --name mycontainer -v /users/myname/Desktop/OutputFolder : / myimage\n</code></pre>\n<p>should be</p>\n<pre><code>docker run --name mycontainer -v /users/myname/Desktop/OutputFolder:/ myimage\n</code></pre>\n<p>But that won't work because you're mapping your host directory onto the root of the image. When you do that, you 'hide' everything in the root directory and below it in the container, including your .jar file.</p>\n<p>What you can do is map a single file onto the output file. As far as I can see, the file name of the output file in the container will be <code>/SavedFile.xlsx</code>.\nFor this to work, the file must exists on the host before you start the container, so with the following 2 commands</p>\n<pre><code>touch /users/myname/Desktop/OutputFolder/SavedFile.xlsx\ndocker run --name mycontainer -v /users/myname/Desktop/OutputFolder/SavedFile.xlsx:/SavedFile.xlsx myimage\n</code></pre>\n<p>it should work and you should get your output in <code>/users/myname/Desktop/OutputFolder/SavedFile.xlsx</code> on the host.</p>\n"},{"tags":[],"owner":{"account_id":11301263,"reputation":49,"user_id":8287126,"display_name":"sleepy_soul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651347324,"creation_date":1651347324,"answer_id":72071597,"question_id":72068298,"body_markdown":"So to finally summarise Hans&#39;s answer:\r\n\r\n 1. No need to spaces when mapping is being done at\r\n\r\n    \r\n\r\n&gt; docker run --name mycontainer -v\r\n&gt; /Users/myname/Desktop/OutputFolder/SavedFile.xlsx:/SavedFile.xlsx\r\n&gt; myimage\r\n\r\n 2: If any file is outputted from the java application then make sure that the same file with the same name must be created beforehand in the local directory so as to map it from the container. As a result the file in the local directory will have the required data post execution of the container.(eg: In my case I named it SavedFile.xlsx)\r\n\r\n3: When you are using Console to accept username or password in java based applications inside the container use `-it` to enable the console to accept the username and password from keyboard else a nullpointer exception will thrown.\r\n\r\nAs a result the final command will be as follows :\r\n\r\n    docker run -it --name mycontainer -v /Users/myname/Desktop/OutputFolder/SavedFile.xlsx:/SavedFile.xlsx myimage\r\n\r\nAny others suggestions/corrections are welcomed.","title":"Binding a local directory to java application container","body":"<p>So to finally summarise Hans's answer:</p>\n<ol>\n<li>No need to spaces when mapping is being done at</li>\n</ol>\n<blockquote>\n<p>docker run --name mycontainer -v\n/Users/myname/Desktop/OutputFolder/SavedFile.xlsx:/SavedFile.xlsx\nmyimage</p>\n</blockquote>\n<p>2: If any file is outputted from the java application then make sure that the same file with the same name must be created beforehand in the local directory so as to map it from the container. As a result the file in the local directory will have the required data post execution of the container.(eg: In my case I named it SavedFile.xlsx)</p>\n<p>3: When you are using Console to accept username or password in java based applications inside the container use <code>-it</code> to enable the console to accept the username and password from keyboard else a nullpointer exception will thrown.</p>\n<p>As a result the final command will be as follows :</p>\n<pre><code>docker run -it --name mycontainer -v /Users/myname/Desktop/OutputFolder/SavedFile.xlsx:/SavedFile.xlsx myimage\n</code></pre>\n<p>Any others suggestions/corrections are welcomed.</p>\n"}],"owner":{"account_id":11301263,"reputation":49,"user_id":8287126,"display_name":"sleepy_soul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":912,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72068475,"answer_count":2,"score":0,"last_activity_date":1651347324,"creation_date":1651319650,"question_id":72068298,"body_markdown":"Hello I&#39;m a beginner to `docker`.\r\n\r\n\r\nI&#39;m saving my output file in the current directory using the `java` code as follows :\r\n\r\n\r\n    File currDir = new File(&quot;.&quot;);\r\n    String path = currDir.getAbsolutePath();\r\n    String fileLocation = path.substring(0, path.length() - 1) + &quot;SavedFile.xlsx&quot;;\r\n    FileOutputStream outputStream = new FileOutputStream(fileLocation);\r\n    workbook.write(outputStream);\r\n    System.out.println(&quot;Excel file created.........&quot;);\r\n    workbook.close();\r\n\r\nI&#39;ve built a DockerImage and and executed the container.\r\nI know that once the container finishes execution all the files are lost from it.\r\n\r\n\r\nI tried to map my local directory to the container using the following command on my mac terminal\r\n\r\n    docker run --name mycontainer -v /users/myname/Desktop/OutputFolder : / myimage\r\n\r\nor \r\n\r\n    docker run --name mycontainer -v /users/myname/Desktop/OutputFolder : / -it myimage\r\n\r\nI&#39;m getting the following message:\r\n\r\n&gt; docker: invalid reference format.\r\n\r\n\r\nThe dockerfile associated with this as follows :\r\n\r\n    # we will use openjdk 17\r\n    FROM openjdk:17\r\n    \r\n    # copy the packaged jar file into our docker image\r\n    COPY out/artifacts/FileOnDocker_jar/FileOnDocker.jar /demo.jar\r\n    \r\n    # set the startup command to execute the jar\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/demo.jar&quot;]\r\n\r\n\r\n\r\n\r\n\r\nI tried logging into the container\r\n\r\n    myname@xyz DockerTest % docker exec -it mycontainer /bin/bash\r\n    \r\n    bash-4.4# pwd\r\n    /\r\n\r\nDue to this reason I used **/** as mapping the external directory to the container directory int he docker run commands above.\r\n\r\n\r\n\r\n    bash-4.4# ls -al\r\n    total 21156\r\n    drwxr-xr-x   1 root root     4096 Apr 30 11:47 .\r\n    drwxr-xr-x   1 root root     4096 Apr 30 11:47 ..\r\n    -rwxr-xr-x   1 root root        0 Apr 30 11:47 .dockerenv\r\n    lrwxrwxrwx   1 root root        7 Oct  9  2021 bin -&gt; usr/bin\r\n    dr-xr-xr-x   2 root root     4096 Oct  9  2021 boot\r\n    -rw-r--r--   1 root root 21602227 Apr 30 08:07 demo.jar\r\n    drwxr-xr-x   5 root root      360 Apr 30 11:47 dev\r\n    drwxr-xr-x   1 root root     4096 Apr 30 11:47 etc\r\n    drwxr-xr-x   2 root root     4096 Oct  9  2021 home\r\n    lrwxrwxrwx   1 root root        7 Oct  9  2021 lib -&gt; usr/lib\r\n    lrwxrwxrwx   1 root root        9 Oct  9  2021 lib64 -&gt; usr/lib64\r\n    drwxr-xr-x   2 root root     4096 Oct  9  2021 media\r\n    drwxr-xr-x   2 root root     4096 Oct  9  2021 mnt\r\n    drwxr-xr-x   2 root root     4096 Oct  9  2021 opt\r\n    dr-xr-xr-x 188 root root        0 Apr 30 11:47 proc\r\n    dr-xr-x---   1 root root     4096 Apr 27 21:54 root\r\n    drwxr-xr-x   4 root root     4096 Apr 26 19:36 run\r\n    lrwxrwxrwx   1 root root        8 Oct  9  2021 sbin -&gt; usr/sbin\r\n    drwxr-xr-x   2 root root     4096 Oct  9  2021 srv\r\n    dr-xr-xr-x  13 root root        0 Apr 30 11:47 sys\r\n    drwxrwxrwt   1 root root     4096 Apr 27 21:54 tmp\r\n    drwxr-xr-x   1 root root     4096 Apr 27 21:54 usr\r\n    drwxr-xr-x   1 root root     4096 Apr 26 19:36 var\r\n    bash-4.4# \r\n\r\n\r\n\r\n\r\nCan anyone help me where I&#39;m making mistake?\r\n\r\nThanks in advance.\r\n\r\n\r\n\r\nAdding the console code :\r\n\r\n    Console console = System.console();\r\n            System.out.println(&quot;Please enter your username: &quot;);\r\n            String username = console.readLine();\r\n            System.out.println(&quot;Please enter your password: &quot;);\r\n            char[] passwordChars = console.readPassword();\r\n            String password = new String(passwordChars);\r\n\r\n  \r\n\r\n\r\n\r\n","title":"Binding a local directory to java application container","body":"<p>Hello I'm a beginner to <code>docker</code>.</p>\n<p>I'm saving my output file in the current directory using the <code>java</code> code as follows :</p>\n<pre><code>File currDir = new File(&quot;.&quot;);\nString path = currDir.getAbsolutePath();\nString fileLocation = path.substring(0, path.length() - 1) + &quot;SavedFile.xlsx&quot;;\nFileOutputStream outputStream = new FileOutputStream(fileLocation);\nworkbook.write(outputStream);\nSystem.out.println(&quot;Excel file created.........&quot;);\nworkbook.close();\n</code></pre>\n<p>I've built a DockerImage and and executed the container.\nI know that once the container finishes execution all the files are lost from it.</p>\n<p>I tried to map my local directory to the container using the following command on my mac terminal</p>\n<pre><code>docker run --name mycontainer -v /users/myname/Desktop/OutputFolder : / myimage\n</code></pre>\n<p>or</p>\n<pre><code>docker run --name mycontainer -v /users/myname/Desktop/OutputFolder : / -it myimage\n</code></pre>\n<p>I'm getting the following message:</p>\n<blockquote>\n<p>docker: invalid reference format.</p>\n</blockquote>\n<p>The dockerfile associated with this as follows :</p>\n<pre><code># we will use openjdk 17\nFROM openjdk:17\n\n# copy the packaged jar file into our docker image\nCOPY out/artifacts/FileOnDocker_jar/FileOnDocker.jar /demo.jar\n\n# set the startup command to execute the jar\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/demo.jar&quot;]\n</code></pre>\n<p>I tried logging into the container</p>\n<pre><code>myname@xyz DockerTest % docker exec -it mycontainer /bin/bash\n\nbash-4.4# pwd\n/\n</code></pre>\n<p>Due to this reason I used <strong>/</strong> as mapping the external directory to the container directory int he docker run commands above.</p>\n<pre><code>bash-4.4# ls -al\ntotal 21156\ndrwxr-xr-x   1 root root     4096 Apr 30 11:47 .\ndrwxr-xr-x   1 root root     4096 Apr 30 11:47 ..\n-rwxr-xr-x   1 root root        0 Apr 30 11:47 .dockerenv\nlrwxrwxrwx   1 root root        7 Oct  9  2021 bin -&gt; usr/bin\ndr-xr-xr-x   2 root root     4096 Oct  9  2021 boot\n-rw-r--r--   1 root root 21602227 Apr 30 08:07 demo.jar\ndrwxr-xr-x   5 root root      360 Apr 30 11:47 dev\ndrwxr-xr-x   1 root root     4096 Apr 30 11:47 etc\ndrwxr-xr-x   2 root root     4096 Oct  9  2021 home\nlrwxrwxrwx   1 root root        7 Oct  9  2021 lib -&gt; usr/lib\nlrwxrwxrwx   1 root root        9 Oct  9  2021 lib64 -&gt; usr/lib64\ndrwxr-xr-x   2 root root     4096 Oct  9  2021 media\ndrwxr-xr-x   2 root root     4096 Oct  9  2021 mnt\ndrwxr-xr-x   2 root root     4096 Oct  9  2021 opt\ndr-xr-xr-x 188 root root        0 Apr 30 11:47 proc\ndr-xr-x---   1 root root     4096 Apr 27 21:54 root\ndrwxr-xr-x   4 root root     4096 Apr 26 19:36 run\nlrwxrwxrwx   1 root root        8 Oct  9  2021 sbin -&gt; usr/sbin\ndrwxr-xr-x   2 root root     4096 Oct  9  2021 srv\ndr-xr-xr-x  13 root root        0 Apr 30 11:47 sys\ndrwxrwxrwt   1 root root     4096 Apr 27 21:54 tmp\ndrwxr-xr-x   1 root root     4096 Apr 27 21:54 usr\ndrwxr-xr-x   1 root root     4096 Apr 26 19:36 var\nbash-4.4# \n</code></pre>\n<p>Can anyone help me where I'm making mistake?</p>\n<p>Thanks in advance.</p>\n<p>Adding the console code :</p>\n<pre><code>Console console = System.console();\n        System.out.println(&quot;Please enter your username: &quot;);\n        String username = console.readLine();\n        System.out.println(&quot;Please enter your password: &quot;);\n        char[] passwordChars = console.readPassword();\n        String password = new String(passwordChars);\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":25158675,"reputation":41,"user_id":19003165,"display_name":"Baz Garcha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651347290,"creation_date":1651347290,"answer_id":72071593,"question_id":72070417,"body_markdown":"The method userRepo.findByUsername expects a single object to be returned.\r\nUser user = userRepo.findByUsername(username)\r\nBut you have more than 1 user with same username.\r\n\r\nEvery time you&#39;re running the application it&#39;s adding same users again in the DB\r\n\r\n1. You can check if user exist before adding it again to DB. \r\n2. Make username primary key.\r\n","title":"CommandLineRunner won&#39;t add roles to users","body":"<p>The method userRepo.findByUsername expects a single object to be returned.\nUser user = userRepo.findByUsername(username)\nBut you have more than 1 user with same username.</p>\n<p>Every time you're running the application it's adding same users again in the DB</p>\n<ol>\n<li>You can check if user exist before adding it again to DB.</li>\n<li>Make username primary key.</li>\n</ol>\n"}],"owner":{"account_id":19118784,"reputation":79,"user_id":13963141,"display_name":"Flying Nimbus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72071593,"answer_count":1,"score":1,"last_activity_date":1651347290,"creation_date":1651337481,"question_id":72070417,"body_markdown":"I&#39;m follow a [tutorial][1] on Spring Boot Security, but I got stuck. Currently I&#39;m setting up a CommandLineRunner, which does 3 things:\r\n- Create Roles\r\n- Create User\r\n- Add roles to users\r\nRunning the code creates a table with the created roles and a table for the created users, but adding roles to users ends up in a error. I checked the code several times but cant find a mistake.\r\n\r\nPlease check out my code on [Github][2] and below you find the Stack overflow . Please let me know if you found something.\r\n\r\n```\r\n2022-04-30 10:57:14.987  INFO 5620 --- [  restartedMain] \r\no.s.s.web.DefaultSecurityFilterChain   : Will secure any request with    [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@730805c6\r\norg.springframework.security.web.context.SecurityContextPersistenceFilter@bb8b366, org.springframework.security.web.header.HeaderWriterFilter@795dc7e9\r\n org.springframework.security.web.csrf.CsrfFilter@2880966c\r\norg.springframework.security.web.authentication.logout.LogoutFilter@10e422c\r\norg.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@43e72b5f\r\norg.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2f355434\r\norg.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3c7e2ca5\r\norg.springframework.security.web.authentication.www.BasicAuthenticationFilter@7beec8d4 org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a0be2ce\r\norg.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4cdcc103, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31dbfb96\r\norg.springframework.security.web.session.SessionManagementFilter@5a9db93d, org.springframework.security.web.access.ExceptionTranslationFilter@decd01c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b29fa07]\r\n\r\n2022-04-30 10:57:15.081  INFO 5620 --- [  restartedMain]\r\no.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2022-04-30 10:57:15.178  INFO 5620 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2022-04-30 10:57:15.198  INFO 5620 --- [  restartedMain] a.S.SpringSecurityJwtExampleBApplication : Started SpringSecurityJwtExampleBApplication in 12.056 seconds (JVM running for 15.368)\r\n2022-04-30 10:57:15.226  INFO 5620 --- [  restartedMain] c.a.S.service.UserServiceImpl            : Saving new role ROLE_USER to user Akatsuki\r\nHibernate: select user0_.id as id1_1_, user0_.name as name2_1_, user0_.password as password3_1_, user0_.username as username4_1_ from user user0_ where user0_.username=?\r\nHibernate: select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.name as name2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?\r\nHibernate: select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.name as name2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?\r\nHibernate: select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.name as name2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?\r\n2022-04-30 10:57:15.598  INFO 5620 --- [  restartedMain] ConditionEvaluationReportLoggingListener :\r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-04-30 10:57:15.654 ERROR 5620 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:780) ~[spring-boot-2.6.7.jar:2.6.7]\r\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:761) ~[spring-boot-2.6.7.jar:2.6.7]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-2.6.7.jar:2.6.7]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.7.jar:2.6.7]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.7.jar:2.6.7]\r\n    at com.api.SpringSecurityJWTExampleB.SpringSecurityJwtExampleBApplication.main(SpringSecurityJwtExampleBApplication.java:18) ~[classes/:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLaunchr.java:49) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\r\nCaused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 3; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 3\r\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.19.jar:5.3.19]\r\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.19.jar:5.3.19]\r\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.19.jar:5.3.19]\r\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.19.jar:5.3.19]\r\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.19.jar:5.3.19]\r\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.19.jar:5.3.19]\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.19.jar:5.3.19]\r\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.6.4.jar:2.6.4]\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.19.jar:5.3.19]\r\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.19.jar:5.3.19]\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.19.jar:5.3.19]\r\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.19.jar:5.3.19]\r\n    at jdk.proxy4/jdk.proxy4.$Proxy104.findByUsername(Unknown Source) ~[na:na]\r\n    at com.api.SpringSecurityJWTExampleB.service.UserServiceImpl.addRoleToUser(UserServiceImpl.java:42) ~[classes/:na]\r\n    at com.api.SpringSecurityJWTExampleB.service.UserServiceImpl$$FastClassBySpringCGLIB$$3409e614.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.19.jar:5.3.19]\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.19.jar:5.3.19]\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.19.jar:5.3.19]\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.19.jar:5.3.19]\r\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.19.jar:5.3.19]\r\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.19.jar:5.3.19]\r\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.19.jar:5.3.19]\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.19.jar:5.3.19]\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.19.jar:5.3.19]\r\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.19.jar:5.3.19]\r\n    at com.api.SpringSecurityJWTExampleB.service.UserServiceImpl$$EnhancerBySpringCGLIB$$c8ecf556.addRoleToUser(&lt;generated&gt;) ~[classes/:na]\r\n    at com.api.SpringSecurityJWTExampleB.SpringSecurityJwtExampleBApplication.lambda$run$0(SpringSecurityJwtExampleBApplication.java:42) ~[classes/:na]\r\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:777) ~[spring-boot-2.6.7.jar:2.6.7]\r\n    ... 10 common frames omitted\r\nCaused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 3\r\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n    at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n    at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\r\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.6.4.jar:2.6.4]\r\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.4.jar:2.6.4]\r\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.4.jar:2.6.4]\r\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.4.jar:2.6.4]\r\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.19.jar:5.3.19]\r\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.19.jar:5.3.19]\r\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.19.jar:5.3.19]\r\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.19.jar:5.3.19]\r\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.19.jar:5.3.19]\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.19.jar:5.3.19]\r\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.19.jar:5.3.19]\r\n    ... 32 common frames omitted\r\n\r\n2022-04-30 10:57:15.682  INFO 5620 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-04-30 10:57:15.696  INFO 5620 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2022-04-30 10:57:15.712  INFO 5620 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=VVn9OG9nfH0\r\n  [2]: https://github.com/LucasHartman/SpringSecurityJWTExampleB/tree/master/src/main/java/com/api/SpringSecurityJWTExampleB","title":"CommandLineRunner won&#39;t add roles to users","body":"<p>I'm follow a <a href=\"https://www.youtube.com/watch?v=VVn9OG9nfH0\" rel=\"nofollow noreferrer\">tutorial</a> on Spring Boot Security, but I got stuck. Currently I'm setting up a CommandLineRunner, which does 3 things:</p>\n<ul>\n<li>Create Roles</li>\n<li>Create User</li>\n<li>Add roles to users\nRunning the code creates a table with the created roles and a table for the created users, but adding roles to users ends up in a error. I checked the code several times but cant find a mistake.</li>\n</ul>\n<p>Please check out my code on <a href=\"https://github.com/LucasHartman/SpringSecurityJWTExampleB/tree/master/src/main/java/com/api/SpringSecurityJWTExampleB\" rel=\"nofollow noreferrer\">Github</a> and below you find the Stack overflow . Please let me know if you found something.</p>\n<pre><code>2022-04-30 10:57:14.987  INFO 5620 --- [  restartedMain] \no.s.s.web.DefaultSecurityFilterChain   : Will secure any request with    [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@730805c6\norg.springframework.security.web.context.SecurityContextPersistenceFilter@bb8b366, org.springframework.security.web.header.HeaderWriterFilter@795dc7e9\n org.springframework.security.web.csrf.CsrfFilter@2880966c\norg.springframework.security.web.authentication.logout.LogoutFilter@10e422c\norg.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@43e72b5f\norg.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2f355434\norg.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3c7e2ca5\norg.springframework.security.web.authentication.www.BasicAuthenticationFilter@7beec8d4 org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a0be2ce\norg.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4cdcc103, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31dbfb96\norg.springframework.security.web.session.SessionManagementFilter@5a9db93d, org.springframework.security.web.access.ExceptionTranslationFilter@decd01c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b29fa07]\n\n2022-04-30 10:57:15.081  INFO 5620 --- [  restartedMain]\no.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2022-04-30 10:57:15.178  INFO 5620 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-04-30 10:57:15.198  INFO 5620 --- [  restartedMain] a.S.SpringSecurityJwtExampleBApplication : Started SpringSecurityJwtExampleBApplication in 12.056 seconds (JVM running for 15.368)\n2022-04-30 10:57:15.226  INFO 5620 --- [  restartedMain] c.a.S.service.UserServiceImpl            : Saving new role ROLE_USER to user Akatsuki\nHibernate: select user0_.id as id1_1_, user0_.name as name2_1_, user0_.password as password3_1_, user0_.username as username4_1_ from user user0_ where user0_.username=?\nHibernate: select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.name as name2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?\nHibernate: select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.name as name2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?\nHibernate: select roles0_.user_id as user_id1_2_0_, roles0_.roles_id as roles_id2_2_0_, role1_.id as id1_0_1_, role1_.name as name2_0_1_ from user_roles roles0_ inner join role role1_ on roles0_.roles_id=role1_.id where roles0_.user_id=?\n2022-04-30 10:57:15.598  INFO 5620 --- [  restartedMain] ConditionEvaluationReportLoggingListener :\n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-04-30 10:57:15.654 ERROR 5620 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:780) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:761) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.7.jar:2.6.7]\n    at com.api.SpringSecurityJWTExampleB.SpringSecurityJwtExampleBApplication.main(SpringSecurityJwtExampleBApplication.java:18) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLaunchr.java:49) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\nCaused by: org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 3; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 3\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:385) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.19.jar:5.3.19]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.19.jar:5.3.19]\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.19.jar:5.3.19]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.19.jar:5.3.19]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.19.jar:5.3.19]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.6.4.jar:2.6.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.19.jar:5.3.19]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.19.jar:5.3.19]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.19.jar:5.3.19]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.19.jar:5.3.19]\n    at jdk.proxy4/jdk.proxy4.$Proxy104.findByUsername(Unknown Source) ~[na:na]\n    at com.api.SpringSecurityJWTExampleB.service.UserServiceImpl.addRoleToUser(UserServiceImpl.java:42) ~[classes/:na]\n    at com.api.SpringSecurityJWTExampleB.service.UserServiceImpl$$FastClassBySpringCGLIB$$3409e614.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.19.jar:5.3.19]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.19.jar:5.3.19]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.19.jar:5.3.19]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.19.jar:5.3.19]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.19.jar:5.3.19]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.19.jar:5.3.19]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.19.jar:5.3.19]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.19.jar:5.3.19]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.19.jar:5.3.19]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.19.jar:5.3.19]\n    at com.api.SpringSecurityJWTExampleB.service.UserServiceImpl$$EnhancerBySpringCGLIB$$c8ecf556.addRoleToUser(&lt;generated&gt;) ~[classes/:na]\n    at com.api.SpringSecurityJWTExampleB.SpringSecurityJwtExampleBApplication.lambda$run$0(SpringSecurityJwtExampleBApplication.java:42) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:777) ~[spring-boot-2.6.7.jar:2.6.7]\n    ... 10 common frames omitted\nCaused by: javax.persistence.NonUniqueResultException: query did not return a unique result: 3\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:128) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.getSingleResult(AbstractProducedQuery.java:1672) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:111) ~[hibernate-core-5.6.8.Final.jar:5.6.8.Final]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:198) ~[spring-data-jpa-2.6.4.jar:2.6.4]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.4.jar:2.6.4]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.4.jar:2.6.4]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.4.jar:2.6.4]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.19.jar:5.3.19]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.19.jar:5.3.19]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.19.jar:5.3.19]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.19.jar:5.3.19]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.19.jar:5.3.19]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.19.jar:5.3.19]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.19.jar:5.3.19]\n    ... 32 common frames omitted\n\n2022-04-30 10:57:15.682  INFO 5620 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-04-30 10:57:15.696  INFO 5620 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2022-04-30 10:57:15.712  INFO 5620 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":20737252,"reputation":296,"user_id":15227830,"display_name":"alpertign"},"score":0,"creation_date":1651345423,"post_id":72071150,"comment_id":127344785,"body_markdown":"use appCompat button in your xml. It is more editable. You can edit background tint of button object in class","body":"use appCompat button in your xml. It is more editable. You can edit background tint of button object in class"}],"answers":[{"tags":[],"owner":{"account_id":21002599,"reputation":16,"user_id":15433088,"display_name":"Moha_E"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651346799,"creation_date":1651346799,"answer_id":72071546,"question_id":72071150,"body_markdown":"If you dont want to use the normal backgrounTint in your xml folder :\r\n\r\n\r\n\r\n\r\n        android:backgroundTint=&quot;yourcolor&quot;\r\n\r\n\r\nUse this Code in your java code :\r\n\r\n\r\n\r\n        yourbutton.setBackgroundTintList(this.getResources().getColorStateList(R.color.colorname));\r\n        \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Android Studio change button background color with custom drawable","body":"<p>If you dont want to use the normal backgrounTint in your xml folder :</p>\n<pre><code>    android:backgroundTint=&quot;yourcolor&quot;\n</code></pre>\n<p>Use this Code in your java code :</p>\n<pre><code>    yourbutton.setBackgroundTintList(this.getResources().getColorStateList(R.color.colorname));\n    \n</code></pre>\n"}],"owner":{"account_id":23613385,"reputation":33,"user_id":17647949,"display_name":"Operation Star Wars"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72071546,"answer_count":1,"score":0,"last_activity_date":1651346799,"creation_date":1651343545,"question_id":72071150,"body_markdown":"I have a custom drawable using \\&lt;shape&gt; in xml, with the following code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:shape=&quot;rectangle&quot;&gt;\r\n        &lt;solid android:color=&quot;@color/blue&quot;/&gt;\r\n        &lt;corners\r\n            android:radius=&quot;150dp&quot;/&gt;\r\n    &lt;/shape&gt;\r\n\r\non a button, and I would like to programmatically change the button&#39;s color to another color while keeping the shape it gets from the custom drawable. Is this possible?","title":"Android Studio change button background color with custom drawable","body":"<p>I have a custom drawable using &lt;shape&gt; in xml, with the following code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;&gt;\n    &lt;solid android:color=&quot;@color/blue&quot;/&gt;\n    &lt;corners\n        android:radius=&quot;150dp&quot;/&gt;\n&lt;/shape&gt;\n</code></pre>\n<p>on a button, and I would like to programmatically change the button's color to another color while keeping the shape it gets from the custom drawable. Is this possible?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5466758,"reputation":320,"user_id":4347350,"accept_rate":100,"display_name":"karacaoglanb"},"score":0,"creation_date":1651330458,"post_id":72069499,"comment_id":127341759,"body_markdown":"You can use `Intstream`. Please check https://stackoverflow.com/a/67609220/4347350","body":"You can use <code>Intstream</code>. Please check <a href=\"https://stackoverflow.com/a/67609220/4347350\">stackoverflow.com/a/67609220/4347350</a>"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651345288,"creation_date":1651345288,"answer_id":72071366,"question_id":72069499,"body_markdown":"You are close. Refer to below code. Explanations appear after the code.\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\n\r\npublic class Tester {\r\n    private static void handleLine(String line) {\r\n        String[] parts = line.split(&quot; &quot;);\r\n        int num = handleNumber(parts[0]);\r\n        System.out.printf(&quot;%d %s %s%n&quot;, num, parts[1], parts[2]);\r\n    }\r\n\r\n    private static int handleNumber(String number) {\r\n        char[] digits = number.toCharArray();\r\n        int total = 0;\r\n        for (char digit : digits) {\r\n            total += digit - &#39;0&#39;;\r\n        }\r\n        return total;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Path path = Path.of(&quot;tragedy.txt&quot;);\r\n        try (BufferedReader inFile = Files.newBufferedReader(path)) {\r\n            String line = inFile.readLine();\r\n            while (line != null) {\r\n                handleLine(line);\r\n                line = inFile.readLine();\r\n            }\r\n        }\r\n        catch (IOException xIo) {\r\n            xIo.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n* I use class [Files][1] to create a `BufferedReader` but it is not required. Your code for obtaining a `BufferedReader` is correct.\r\n* I also use [try-with-resources][2] to ensure that the file is closed.\r\n* You asked how to print the file lines after manipulating them slightly so that is what the above code does.\r\n* `char` is actually a number so to get the actual number value from the `char`, I subtract the value of the `0` character.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"Read index and strings from text file Java","body":"<p>You are close. Refer to below code. Explanations appear after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\n\npublic class Tester {\n    private static void handleLine(String line) {\n        String[] parts = line.split(&quot; &quot;);\n        int num = handleNumber(parts[0]);\n        System.out.printf(&quot;%d %s %s%n&quot;, num, parts[1], parts[2]);\n    }\n\n    private static int handleNumber(String number) {\n        char[] digits = number.toCharArray();\n        int total = 0;\n        for (char digit : digits) {\n            total += digit - '0';\n        }\n        return total;\n    }\n\n    public static void main(String[] args) {\n        Path path = Path.of(&quot;tragedy.txt&quot;);\n        try (BufferedReader inFile = Files.newBufferedReader(path)) {\n            String line = inFile.readLine();\n            while (line != null) {\n                handleLine(line);\n                line = inFile.readLine();\n            }\n        }\n        catch (IOException xIo) {\n            xIo.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>I use class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html\" rel=\"nofollow noreferrer\">Files</a> to create a <code>BufferedReader</code> but it is not required. Your code for obtaining a <code>BufferedReader</code> is correct.</li>\n<li>I also use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> to ensure that the file is closed.</li>\n<li>You asked how to print the file lines after manipulating them slightly so that is what the above code does.</li>\n<li><code>char</code> is actually a number so to get the actual number value from the <code>char</code>, I subtract the value of the <code>0</code> character.</li>\n</ul>\n"}],"owner":{"account_id":23530384,"reputation":11,"user_id":17576131,"display_name":"user"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1651345288,"creation_date":1651330065,"question_id":72069499,"body_markdown":"Suppose i have a text file that has a number code and a string label on each line:\r\n\r\n    0102 Apple Banana Code\r\n    0203 Pear Watch Time\r\n    0405 Java Computer Pen\r\n    0607 Car Bike Drive\r\n\r\nHow could i print the sum of the non zero numbers in the front and the first two words of each line? Assuming that the numbers are always 4 digits and words are separated by a single space from the number and in between the words. \r\nFor example I would get:\r\n\r\n    3 Apple Banana \r\n    5 Pear Watch \r\n    9 Java Computer \r\n    13 Car Bike \r\n\r\nI have tried to initialize this but i have no idea where to go from here\r\n\r\n    FileReader fr = new FileReader(fileName);\r\n    BufferedReader inFile = new BufferedReader(fr);\r\n    String[][] words = new String[100][];\r\n    String line;\r\n    int size = 0;\r\n    while((line = inFile.readLine()) != null) {\r\n    \twords[size++] = line.split(&quot; &quot;);\r\n    }\r\n    inFile.close();","title":"Read index and strings from text file Java","body":"<p>Suppose i have a text file that has a number code and a string label on each line:</p>\n<pre><code>0102 Apple Banana Code\n0203 Pear Watch Time\n0405 Java Computer Pen\n0607 Car Bike Drive\n</code></pre>\n<p>How could i print the sum of the non zero numbers in the front and the first two words of each line? Assuming that the numbers are always 4 digits and words are separated by a single space from the number and in between the words.\nFor example I would get:</p>\n<pre><code>3 Apple Banana \n5 Pear Watch \n9 Java Computer \n13 Car Bike \n</code></pre>\n<p>I have tried to initialize this but i have no idea where to go from here</p>\n<pre><code>FileReader fr = new FileReader(fileName);\nBufferedReader inFile = new BufferedReader(fr);\nString[][] words = new String[100][];\nString line;\nint size = 0;\nwhile((line = inFile.readLine()) != null) {\n    words[size++] = line.split(&quot; &quot;);\n}\ninFile.close();\n</code></pre>\n"},{"tags":["java","cucumber"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651345061,"creation_date":1651345061,"answer_id":72071344,"question_id":72071074,"body_markdown":"It depends on what you are trying to do. If you want the same random string in *all* scenarios in a single test run you could make it static.\r\n\r\n```\r\npublic class PatientCreateSteps {\r\nprivate static final String RANDOM_DOCUMENT=&#39;ABC&#39;+RandomStringUtils.randomAlphabetic\r\n\r\n....\r\n```\r\n\r\nBut if you are trying to share a specific document between two scenarios you can not do that.\r\n\r\nConsider creating it from scratch and specifying what exactly needs to be the same. For example\r\n\r\n\r\n```\r\nScenario: A patient with a document\r\n  Given a patient\r\n  And a document for that patient\r\n  ...\r\n\r\n\r\nScenario: A patient with the same document as another patient\r\n  Given a patient\r\n  And a document for that patient that is the same as another patients document\r\n  ...\r\n```\r\n\r\nHere after creating the patient you&#39;d create a second patient and give him a document, the give the first patient a copy of the second patients document.\r\n\r\nThis may sound in efficient. Especially if you&#39;re used to manually test things. But computers are pretty fast and/or can do things in parallel. So it&#39;s more important to keep each scenario independent.","title":"Cucumber the same random class in diffrent scenarios","body":"<p>It depends on what you are trying to do. If you want the same random string in <em>all</em> scenarios in a single test run you could make it static.</p>\n<pre><code>public class PatientCreateSteps {\nprivate static final String RANDOM_DOCUMENT='ABC'+RandomStringUtils.randomAlphabetic\n\n....\n</code></pre>\n<p>But if you are trying to share a specific document between two scenarios you can not do that.</p>\n<p>Consider creating it from scratch and specifying what exactly needs to be the same. For example</p>\n<pre><code>Scenario: A patient with a document\n  Given a patient\n  And a document for that patient\n  ...\n\n\nScenario: A patient with the same document as another patient\n  Given a patient\n  And a document for that patient that is the same as another patients document\n  ...\n</code></pre>\n<p>Here after creating the patient you'd create a second patient and give him a document, the give the first patient a copy of the second patients document.</p>\n<p>This may sound in efficient. Especially if you're used to manually test things. But computers are pretty fast and/or can do things in parallel. So it's more important to keep each scenario independent.</p>\n"}],"owner":{"account_id":24822304,"reputation":31,"user_id":18702512,"display_name":"Joanna Kaminska"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72071344,"answer_count":1,"score":1,"last_activity_date":1651345061,"creation_date":1651342957,"question_id":72071074,"body_markdown":"I have Two Cucumber scenarios. \r\nOn each sceanrio I want to use the same random_document\r\n\r\nin my Steps class I have:\r\n\r\n    public class PatientCreateSteps {\r\n    private final String RANDOM_DOCUMENT=&#39;ABC&#39;+RandomStringUtils.randomAlphabetic\r\n    \r\n    ....\r\n  \r\n\r\n#in the featurefile:  \r\n Scenario:  Add patient documentation  \r\n    \r\n    @When (&quot;StepsFromScenarioI)\r\n    .....\r\n    @Then(&quot;StepsFromScenarioI)\r\nScenario: Update patients documentaion\r\n    \r\n    @When(&quot;StepsFromScenarioII)\r\n\r\nIs it possible to change something to not generating new RANDOM_DOCUMENT in the second class?\r\n\r\n","title":"Cucumber the same random class in diffrent scenarios","body":"<p>I have Two Cucumber scenarios.\nOn each sceanrio I want to use the same random_document</p>\n<p>in my Steps class I have:</p>\n<pre><code>public class PatientCreateSteps {\nprivate final String RANDOM_DOCUMENT='ABC'+RandomStringUtils.randomAlphabetic\n\n....\n</code></pre>\n<p>#in the featurefile:<br />\nScenario:  Add patient documentation</p>\n<pre><code>@When (&quot;StepsFromScenarioI)\n.....\n@Then(&quot;StepsFromScenarioI)\n</code></pre>\n<p>Scenario: Update patients documentaion</p>\n<pre><code>@When(&quot;StepsFromScenarioII)\n</code></pre>\n<p>Is it possible to change something to not generating new RANDOM_DOCUMENT in the second class?</p>\n"},{"tags":["java","spring-boot","gradle","dependencies","dependency-management"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1651340815,"post_id":72070692,"comment_id":127343903,"body_markdown":"It could be an issue with IntelliJ. Try to check versions using `gradle -q dependencies`.","body":"It could be an issue with IntelliJ. Try to check versions using <code>gradle -q dependencies</code>."},{"owner":{"account_id":22027761,"reputation":186,"user_id":16295487,"display_name":"RafalLovesWorking"},"score":0,"creation_date":1651344569,"post_id":72070692,"comment_id":127344646,"body_markdown":"@Alex here is part of log:\n+--- org.seleniumhq.selenium:selenium-java:4.1.4\n|    +--- org.seleniumhq.selenium:selenium-api:4.1.4 -&gt; 3.141.59\n|    +--- org.seleniumhq.selenium:selenium-chrome-driver:4.1.4 -&gt; 3.141.59","body":"@Alex here is part of log: +--- org.seleniumhq.selenium:selenium-java:4.1.4 |    +--- org.seleniumhq.selenium:selenium-api:4.1.4 -&gt; 3.141.59 |    +--- org.seleniumhq.selenium:selenium-chrome-driver:4.1.4 -&gt; 3.141.59"}],"answers":[{"tags":[],"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651344615,"creation_date":1651344615,"answer_id":72071292,"question_id":72070692,"body_markdown":"Spring Boot manages the versions for Selenium, so in your case you only specified the version for `selenium-java`, all other versions were managed by Spring Boot. To properly update all Selenium dependencies, you have to override the property for the Selenium version:\r\n\r\n    ext[&#39;selenium.version&#39;] = &#39;4.1.4&#39;\r\n\r\nand remove the version from the selenium-java entry:\r\n\r\n    implementation &#39;org.seleniumhq.selenium:selenium-java&#39;\r\n\r\nYou can find all available properties for libraries managed by Spring Boot in the documentation: https://docs.spring.io/spring-boot/docs/2.6.7/reference/htmlsingle/#appendix.dependency-versions.properties","title":"Gradle downloads old compile dependencies","body":"<p>Spring Boot manages the versions for Selenium, so in your case you only specified the version for <code>selenium-java</code>, all other versions were managed by Spring Boot. To properly update all Selenium dependencies, you have to override the property for the Selenium version:</p>\n<pre><code>ext['selenium.version'] = '4.1.4'\n</code></pre>\n<p>and remove the version from the selenium-java entry:</p>\n<pre><code>implementation 'org.seleniumhq.selenium:selenium-java'\n</code></pre>\n<p>You can find all available properties for libraries managed by Spring Boot in the documentation: <a href=\"https://docs.spring.io/spring-boot/docs/2.6.7/reference/htmlsingle/#appendix.dependency-versions.properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.6.7/reference/htmlsingle/#appendix.dependency-versions.properties</a></p>\n"}],"owner":{"account_id":22027761,"reputation":186,"user_id":16295487,"display_name":"RafalLovesWorking"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72071292,"answer_count":1,"score":0,"last_activity_date":1651344615,"creation_date":1651339853,"question_id":72070692,"body_markdown":"I am using spring-boot and gradle. I want to use latest selenium version, however half of compile dependencies, including drivers, are somehow 3.14 version. I tried invalidating caches, `./gradlew clean build`, `./gradlew build --refresh-dependencies`, but it doesn&#39;t help. My older project has the same dependencies (but no spring-boot) and I this issue is not present.\r\n\r\n```\r\nimport org.gradle.api.tasks.testing.logging.TestExceptionFormat\r\n\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.6.7&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;xxx.xxxxxx&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\r\n\t// https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\r\n\timplementation &#39;org.seleniumhq.selenium:selenium-java:4.1.4&#39;\r\n\t// https://mvnrepository.com/artifact/org.testng/testng\r\n\ttestImplementation &#39;org.testng:testng:7.5&#39;\r\n\t// https://mvnrepository.com/artifact/io.rest-assured/rest-assured\r\n\ttestImplementation &#39;io.rest-assured:rest-assured:4.5.1&#39;\r\n\t// https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\r\n\timplementation &#39;io.github.bonigarcia:webdrivermanager:5.1.1&#39;\r\n\t// https://mvnrepository.com/artifact/com.github.javafaker/javafaker\r\n\timplementation &#39;com.github.javafaker:javafaker:1.0.2&#39;\r\n\t// https://mvnrepository.com/artifact/org.assertj/assertj-core\r\n\ttestImplementation &#39;org.assertj:assertj-core:3.22.0&#39;\r\n\r\n}\r\n\r\ntest {\r\n\tuseTestNG()\r\n\r\n\ttestLogging {\r\n\t\texceptionFormat(TestExceptionFormat.FULL)\r\n\t}\r\n\r\n\tsystemProperties(System.getProperties())\r\n}\r\n```\r\n\r\n[![old dependencies][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XWtJm.png","title":"Gradle downloads old compile dependencies","body":"<p>I am using spring-boot and gradle. I want to use latest selenium version, however half of compile dependencies, including drivers, are somehow 3.14 version. I tried invalidating caches, <code>./gradlew clean build</code>, <code>./gradlew build --refresh-dependencies</code>, but it doesn't help. My older project has the same dependencies (but no spring-boot) and I this issue is not present.</p>\n<pre><code>import org.gradle.api.tasks.testing.logging.TestExceptionFormat\n\nplugins {\n    id 'org.springframework.boot' version '2.6.7'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'xxx.xxxxxx'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n\n    // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\n    implementation 'org.seleniumhq.selenium:selenium-java:4.1.4'\n    // https://mvnrepository.com/artifact/org.testng/testng\n    testImplementation 'org.testng:testng:7.5'\n    // https://mvnrepository.com/artifact/io.rest-assured/rest-assured\n    testImplementation 'io.rest-assured:rest-assured:4.5.1'\n    // https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\n    implementation 'io.github.bonigarcia:webdrivermanager:5.1.1'\n    // https://mvnrepository.com/artifact/com.github.javafaker/javafaker\n    implementation 'com.github.javafaker:javafaker:1.0.2'\n    // https://mvnrepository.com/artifact/org.assertj/assertj-core\n    testImplementation 'org.assertj:assertj-core:3.22.0'\n\n}\n\ntest {\n    useTestNG()\n\n    testLogging {\n        exceptionFormat(TestExceptionFormat.FULL)\n    }\n\n    systemProperties(System.getProperties())\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/XWtJm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XWtJm.png\" alt=\"old dependencies\" /></a></p>\n"},{"tags":["java","algorithm","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":4529457,"reputation":30736,"user_id":3796113,"accept_rate":33,"display_name":"user2736738"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651343383,"creation_date":1651343383,"answer_id":72071128,"question_id":72070792,"body_markdown":"Alright, there are couple of ways of doing that. One simple way would be to pass an array or something similar to pass on to the function and then populate it with the directions. If there is a match of the word then pass the array with all the directions in it. But in case there is no match then just return the empty array or don&#39;t populate anything (assuming if you are passing the reference). And now you can easily write another function or even in the same loop so that given the starting `row` and `col` you would just traverse the stored directions and fill them with `-`.\r\n\r\nNot posting a code since it is also posted in `algortihm` tag. Taking the liberty of just giving the idea.  ","title":"Search for a word of a 2d grid of characters and replace the characters of that word in that 2d grid by hyphens","body":"<p>Alright, there are couple of ways of doing that. One simple way would be to pass an array or something similar to pass on to the function and then populate it with the directions. If there is a match of the word then pass the array with all the directions in it. But in case there is no match then just return the empty array or don't populate anything (assuming if you are passing the reference). And now you can easily write another function or even in the same loop so that given the starting <code>row</code> and <code>col</code> you would just traverse the stored directions and fill them with <code>-</code>.</p>\n<p>Not posting a code since it is also posted in <code>algortihm</code> tag. Taking the liberty of just giving the idea.</p>\n"}],"owner":{"account_id":23337956,"reputation":37,"user_id":17413280,"display_name":"night"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651344163,"creation_date":1651340633,"question_id":72070792,"body_markdown":"I used a known algorithm to check if the words exist in the grid : \r\n\r\n\r\n\r\n\r\n    public boolean wordExists(String word, int row, int col) {\r\n    \r\n    //all 8 directions\r\n    int[] x = {  -1, -1, -1, 0, 0, 1, 1, 1 };\r\n    int[] y = { -1, 0, 1, -1, 1, -1, 0, 1 };\r\n    \r\n    int rows = arrayLetters.length;\r\n    int cols = arrayLetters[0].length;\r\n    \r\n    //Checking if the first character corresponds to the position row, col\r\n    if (arrayLetters[row][col] != word.charAt(0)) {\r\n        return false;\r\n    }\r\n    \r\n    int lenWord = word.length();\r\n    \r\n    //looping through all 8 directions\r\n    for (int direction = 0; direction &lt; 8; direction++) {\r\n        int k = 0;\r\n        int dirRow = row + x[direction];\r\n        int dirCol = col + y[direction];\r\n        \r\n        //Because the first character is checked we then check if the following characters \r\n        //correspond to the word\r\n        for (k = 1; k &lt; lenWord; k++) {\r\n            \r\n            //Out of bounds\r\n            if (dirRow &gt;= rows || dirRow &lt; 0 || dirCol &gt;= cols|| dirCol &lt; 0) {\r\n                break;\r\n            }\r\n                \r\n\r\n            // If not matched\r\n            if (arrayLetters[dirRow][dirCol] != word.charAt(k)) {\r\n                break;\r\n            }\r\n                \r\n            //If everything is valid move in that particular direction\r\n            dirRow += x[direction];\r\n            dirCol += y[direction];\r\n            \r\n        }\r\n        \r\n        //if word exists k should be equal to the length of the word\r\n        if (k == lenMot) {\r\n            return true;\r\n        }\r\n        \r\n    }\r\n    \r\n    //Otherwise\r\n    System.out.println(&quot;The word doesn&#39;t exist&quot;);\r\n    \r\n    return false;\r\n    }\r\n\r\nThen actually looking for the specific word if wordExists returns true and considering every possible position in the 2d array as a starting point: \r\n\r\n    \r\n     public void searchWord(String word) {   \r\n\r\n        for (int row = 0; row &lt; arrayLetters.length; row++) {\r\n           for (int col = 0; col &lt; arrayLetters[0].length; col++) {\r\n              if (arrayLetters[row][col] == word.charAt(0) &amp;&amp; wordExists(word, row, col)) {\r\n                  System.out.println(&quot;Word position : &quot; + row + &quot;, &quot; + col);\r\n              }\r\n          }\r\n      }\r\n  }\r\n\r\n\r\n\r\nNow knowing this, how could I replace the found characters matching the word by hyphens?","title":"Search for a word of a 2d grid of characters and replace the characters of that word in that 2d grid by hyphens","body":"<p>I used a known algorithm to check if the words exist in the grid :</p>\n<pre><code>public boolean wordExists(String word, int row, int col) {\n\n//all 8 directions\nint[] x = {  -1, -1, -1, 0, 0, 1, 1, 1 };\nint[] y = { -1, 0, 1, -1, 1, -1, 0, 1 };\n\nint rows = arrayLetters.length;\nint cols = arrayLetters[0].length;\n\n//Checking if the first character corresponds to the position row, col\nif (arrayLetters[row][col] != word.charAt(0)) {\n    return false;\n}\n\nint lenWord = word.length();\n\n//looping through all 8 directions\nfor (int direction = 0; direction &lt; 8; direction++) {\n    int k = 0;\n    int dirRow = row + x[direction];\n    int dirCol = col + y[direction];\n    \n    //Because the first character is checked we then check if the following characters \n    //correspond to the word\n    for (k = 1; k &lt; lenWord; k++) {\n        \n        //Out of bounds\n        if (dirRow &gt;= rows || dirRow &lt; 0 || dirCol &gt;= cols|| dirCol &lt; 0) {\n            break;\n        }\n            \n\n        // If not matched\n        if (arrayLetters[dirRow][dirCol] != word.charAt(k)) {\n            break;\n        }\n            \n        //If everything is valid move in that particular direction\n        dirRow += x[direction];\n        dirCol += y[direction];\n        \n    }\n    \n    //if word exists k should be equal to the length of the word\n    if (k == lenMot) {\n        return true;\n    }\n    \n}\n\n//Otherwise\nSystem.out.println(&quot;The word doesn't exist&quot;);\n\nreturn false;\n}\n</code></pre>\n<p>Then actually looking for the specific word if wordExists returns true and considering every possible position in the 2d array as a starting point:</p>\n<pre><code> public void searchWord(String word) {   \n\n    for (int row = 0; row &lt; arrayLetters.length; row++) {\n       for (int col = 0; col &lt; arrayLetters[0].length; col++) {\n          if (arrayLetters[row][col] == word.charAt(0) &amp;&amp; wordExists(word, row, col)) {\n              System.out.println(&quot;Word position : &quot; + row + &quot;, &quot; + col);\n          }\n      }\n  }\n</code></pre>\n<p>}</p>\n<p>Now knowing this, how could I replace the found characters matching the word by hyphens?</p>\n"},{"tags":["java","string","recursion","dynamic-programming"],"answers":[{"tags":[],"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651343909,"creation_date":1613109818,"answer_id":66167065,"question_id":66166793,"body_markdown":"Once you have a call wherein `s[i] == s[j]`, you could flip a boolean flag or switch to a modified method that communicates to child calls that they can no longer use the &quot;don&#39;t match, try `i + 1` and `j - 1`&quot; branch (`else` condition). This ensures you&#39;re looking at substrings, not subsequences, for the remainder of the recursion.\r\n\r\nSecondly, for the substring variant, even if `s[i] == s[j]`, you should also try `i + 1` and `j - 1` as if these characters didn&#39;t match, because one or both of these characters might not be part of the final best substring between `i` and `j`. In the subsequence version, there&#39;s never any reason not to add any matching characters to the current palindromic subsequence for the range `i` to `j`, but that&#39;s not always the case with substrings.\r\n\r\nFor example, given input `&quot;aabcbda&quot;` and we&#39;re at a call frame where `i = 1` and `j = length - 1`, we need to maximize over three possibilities:\r\n\r\n1. The best substring includes both `&#39;a&#39;` characters. Call the subroutine with the flag that says we have to consume from both ends on down and can no longer try skipping characters.\r\n2. The best substring might still include `s[i]` but not `s[j]`, try `j - 1`.\r\n3. The best substring might still include `s[j]` but not `s[i]`, try `i + 1`.\r\n\r\nAnother observation: it might make more sense to pass best indices up the helper call chain, then grab the longest palindromic substring based on these indices at the very end in the wrapper function.\r\n\r\nOn a similar note, if you&#39;re struggling, you might simplify the problem and return the longest palindromic substring length using your recursive method, then switch to getting the actual substring itself. This makes it easier to focus on the subsequence logic without the return value complicating things as much.","title":"Recursion: Longest Palindrome Substring","body":"<p>Once you have a call wherein <code>s[i] == s[j]</code>, you could flip a boolean flag or switch to a modified method that communicates to child calls that they can no longer use the &quot;don't match, try <code>i + 1</code> and <code>j - 1</code>&quot; branch (<code>else</code> condition). This ensures you're looking at substrings, not subsequences, for the remainder of the recursion.</p>\n<p>Secondly, for the substring variant, even if <code>s[i] == s[j]</code>, you should also try <code>i + 1</code> and <code>j - 1</code> as if these characters didn't match, because one or both of these characters might not be part of the final best substring between <code>i</code> and <code>j</code>. In the subsequence version, there's never any reason not to add any matching characters to the current palindromic subsequence for the range <code>i</code> to <code>j</code>, but that's not always the case with substrings.</p>\n<p>For example, given input <code>&quot;aabcbda&quot;</code> and we're at a call frame where <code>i = 1</code> and <code>j = length - 1</code>, we need to maximize over three possibilities:</p>\n<ol>\n<li>The best substring includes both <code>'a'</code> characters. Call the subroutine with the flag that says we have to consume from both ends on down and can no longer try skipping characters.</li>\n<li>The best substring might still include <code>s[i]</code> but not <code>s[j]</code>, try <code>j - 1</code>.</li>\n<li>The best substring might still include <code>s[j]</code> but not <code>s[i]</code>, try <code>i + 1</code>.</li>\n</ol>\n<p>Another observation: it might make more sense to pass best indices up the helper call chain, then grab the longest palindromic substring based on these indices at the very end in the wrapper function.</p>\n<p>On a similar note, if you're struggling, you might simplify the problem and return the longest palindromic substring length using your recursive method, then switch to getting the actual substring itself. This makes it easier to focus on the subsequence logic without the return value complicating things as much.</p>\n"},{"tags":[],"owner":{"display_name":"user15309136"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615308849,"creation_date":1615308849,"answer_id":66551362,"question_id":66166793,"body_markdown":"It is *much easier* to use loops here, rather than recursion, something like this:\r\n```java\r\npublic static void main(String[] args) {\r\n    System.out.println(longestPalindrome(&quot;abbqa&quot;)); // bb\r\n    System.out.println(longestPalindrome(&quot;aacabdkacaa&quot;)); // aca\r\n    System.out.println(longestPalindrome(&quot;aacabdkaccaa&quot;)); // acca\r\n}\r\n```\r\n```java\r\npublic static String longestPalindrome(String str) {\r\n    String palindrome = &quot;&quot;;\r\n    for (int i = 0; i &lt; str.length(); i++) {\r\n        for (int j = i; j &lt; str.length(); j++) {\r\n            String substring = str.substring(i, j);\r\n            if (isPalindrome(substring)\r\n                    &amp;&amp; substring.length() &gt; palindrome.length()) {\r\n                palindrome = substring;\r\n            }\r\n        }\r\n    }\r\n    return palindrome;\r\n}\r\n```\r\n```java\r\npublic static boolean isPalindrome(String str) {\r\n    for (int i = 0; i &lt; str.length() / 2; i++) {\r\n        if (str.charAt(i) != str.charAt(str.length() - i - 1)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n```","title":"Recursion: Longest Palindrome Substring","body":"<p>It is <em>much easier</em> to use loops here, rather than recursion, something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    System.out.println(longestPalindrome(&quot;abbqa&quot;)); // bb\n    System.out.println(longestPalindrome(&quot;aacabdkacaa&quot;)); // aca\n    System.out.println(longestPalindrome(&quot;aacabdkaccaa&quot;)); // acca\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static String longestPalindrome(String str) {\n    String palindrome = &quot;&quot;;\n    for (int i = 0; i &lt; str.length(); i++) {\n        for (int j = i; j &lt; str.length(); j++) {\n            String substring = str.substring(i, j);\n            if (isPalindrome(substring)\n                    &amp;&amp; substring.length() &gt; palindrome.length()) {\n                palindrome = substring;\n            }\n        }\n    }\n    return palindrome;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isPalindrome(String str) {\n    for (int i = 0; i &lt; str.length() / 2; i++) {\n        if (str.charAt(i) != str.charAt(str.length() - i - 1)) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":2537322,"reputation":147,"user_id":2204058,"accept_rate":25,"display_name":"Ritesh Sangwan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66167065,"answer_count":2,"score":2,"last_activity_date":1651343909,"creation_date":1613107934,"question_id":66166793,"body_markdown":"This is a very common problem in which we would have to find the longest substring which is also a palindrome substring for the given input string.\r\n\r\nNow there are multiple possible approaches to this and I am aware about Dynamic programming solution, expand from middle etc. All these solutions should be used for any practical usecase.\r\n\r\nI was experimenting with using recursion to solve this problem and trying to implement the simple idea.\r\n\r\nLet us assume that `s` is the given input string and `i` and `j` represent any valid character indexes of input string. So if `s[i] == s[j]`, my longest substring would be:\r\n```java\r\ns.charAt(i) + longestSubstring(s, i + 1, j - 1) + s.charAt(j)\r\n```\r\nAnd if these two characters are not equal then:\r\n```\r\nmax of longestSubstring(s, i + 1, j) or longestSubstring(s, i, j - 1)\r\n```\r\n\r\nI tried to implement this solution below:\r\n```java\r\n// end is inclusive\r\nprivate static String longestPalindromeHelper(String s, int start, int end) {\r\n    if (start &gt; end) {\r\n        return &quot;&quot;;\r\n    } else if (start == end) {\r\n        return s.substring(start, end + 1);\r\n    }\r\n    // if the character at start is equal to end\r\n    if (s.charAt(start) == s.charAt(end)) {\r\n        // I can concatenate the start and end characters to my result string\r\n        // plus I can concatenate the longest palindrome in start + 1 to end - 1\r\n        // now logically this makes sense to me, but this would fail in the case\r\n        // for ex: a a c a b d k a c a a (space added for visualization)\r\n        // when start = 3 (a character)\r\n        // end = 7 (again end character)\r\n        // it will go in recursion with start = 4 and end = 6 from now onwards\r\n        // there is no palindrome substrings apart from the single character\r\n        // substring (which are palindrome by itself) so recursion tree for\r\n        // start = 3 and end = 7 would return any single character from b d k\r\n        // let&#39;s say it returns b so result would be a a c a b a c a a\r\n        // this would be correct answer for longest palindrome subsequence but\r\n        // not substring because for sub strings I need to have consecutive\r\n        // characters\r\n        return s.charAt(start)\r\n                + longestPalindromeHelper(s, start + 1, end - 1) + s.charAt(end);\r\n    } else {\r\n        // characters are not equal, increment start\r\n        String s1 = longestPalindromeHelper(s, start + 1, end);\r\n        String s2 = longestPalindromeHelper(s, start, end - 1);\r\n        return s1.length() &gt; s2.length() ? s1 : s2;\r\n    }\r\n}\r\n```\r\n```java\r\npublic static String longestPalindrome(String s) {\r\n    return longestPalindromeHelper(s, 0, s.length() - 1);\r\n}\r\n```\r\n```java\r\npublic static void main(String[] args) throws Exception {\r\n    String ans = longestPalindrome(&quot;aacabdkacaa&quot;);\r\n    System.out.println(&quot;Answer =&gt; &quot; + ans);\r\n}\r\n```\r\nFor a moment let us forgot about time complexity or runtime. I am focused towards making it work for simple case above.\r\nAs you can see in the comments I got the idea why this is failing but I tried hard to rectify the problem following the exactly same approach. I don&#39;t want to use loops here.\r\n\r\n**What could be the possible fix for this following same approach?**\r\n\r\nNote: I am interested in the actual string as answer and not the length. FYI I had a look at all the other questions and it seems no one is following this approach for correctness so I am trying.","title":"Recursion: Longest Palindrome Substring","body":"<p>This is a very common problem in which we would have to find the longest substring which is also a palindrome substring for the given input string.</p>\n<p>Now there are multiple possible approaches to this and I am aware about Dynamic programming solution, expand from middle etc. All these solutions should be used for any practical usecase.</p>\n<p>I was experimenting with using recursion to solve this problem and trying to implement the simple idea.</p>\n<p>Let us assume that <code>s</code> is the given input string and <code>i</code> and <code>j</code> represent any valid character indexes of input string. So if <code>s[i] == s[j]</code>, my longest substring would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>s.charAt(i) + longestSubstring(s, i + 1, j - 1) + s.charAt(j)\n</code></pre>\n<p>And if these two characters are not equal then:</p>\n<pre><code>max of longestSubstring(s, i + 1, j) or longestSubstring(s, i, j - 1)\n</code></pre>\n<p>I tried to implement this solution below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// end is inclusive\nprivate static String longestPalindromeHelper(String s, int start, int end) {\n    if (start &gt; end) {\n        return &quot;&quot;;\n    } else if (start == end) {\n        return s.substring(start, end + 1);\n    }\n    // if the character at start is equal to end\n    if (s.charAt(start) == s.charAt(end)) {\n        // I can concatenate the start and end characters to my result string\n        // plus I can concatenate the longest palindrome in start + 1 to end - 1\n        // now logically this makes sense to me, but this would fail in the case\n        // for ex: a a c a b d k a c a a (space added for visualization)\n        // when start = 3 (a character)\n        // end = 7 (again end character)\n        // it will go in recursion with start = 4 and end = 6 from now onwards\n        // there is no palindrome substrings apart from the single character\n        // substring (which are palindrome by itself) so recursion tree for\n        // start = 3 and end = 7 would return any single character from b d k\n        // let's say it returns b so result would be a a c a b a c a a\n        // this would be correct answer for longest palindrome subsequence but\n        // not substring because for sub strings I need to have consecutive\n        // characters\n        return s.charAt(start)\n                + longestPalindromeHelper(s, start + 1, end - 1) + s.charAt(end);\n    } else {\n        // characters are not equal, increment start\n        String s1 = longestPalindromeHelper(s, start + 1, end);\n        String s2 = longestPalindromeHelper(s, start, end - 1);\n        return s1.length() &gt; s2.length() ? s1 : s2;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static String longestPalindrome(String s) {\n    return longestPalindromeHelper(s, 0, s.length() - 1);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n    String ans = longestPalindrome(&quot;aacabdkacaa&quot;);\n    System.out.println(&quot;Answer =&gt; &quot; + ans);\n}\n</code></pre>\n<p>For a moment let us forgot about time complexity or runtime. I am focused towards making it work for simple case above.\nAs you can see in the comments I got the idea why this is failing but I tried hard to rectify the problem following the exactly same approach. I don't want to use loops here.</p>\n<p><strong>What could be the possible fix for this following same approach?</strong></p>\n<p>Note: I am interested in the actual string as answer and not the length. FYI I had a look at all the other questions and it seems no one is following this approach for correctness so I am trying.</p>\n"},{"tags":["java","ssl","struts2","https","struts"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1393593575,"creation_date":1393593575,"answer_id":22096315,"question_id":21751503,"body_markdown":"Use a redirect result\r\n\r\n    &lt;result type=&quot;redirect&quot; name=&quot;auth_stat&quot;&gt;\r\n        &lt;param name=&quot;location&quot;&gt;https://www.yourserver.com/auth_stat&lt;/param&gt;\r\n    &lt;/result&gt; ","title":"Struts2 redirectAction is not https?","body":"<p>Use a redirect result</p>\n\n<pre><code>&lt;result type=\"redirect\" name=\"auth_stat\"&gt;\n    &lt;param name=\"location\"&gt;https://www.yourserver.com/auth_stat&lt;/param&gt;\n&lt;/result&gt; \n</code></pre>\n"}],"owner":{"account_id":1747969,"reputation":67,"user_id":1597716,"accept_rate":80,"display_name":"osnium76"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1357,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":22096315,"answer_count":1,"score":0,"last_activity_date":1651343880,"creation_date":1392287302,"question_id":21751503,"body_markdown":"One of my result mapping type is a `&quot;redirectAction&quot;` in `struts.xml`\r\nwhich when executed constructs a NON secure link... Why is that?\r\nI wanted to constructs secure link using `&quot;redirectAction&quot;`\r\nwhat should I do?\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;result type=&quot;redirectAction&quot; name=&quot;auth_stat&quot;&gt;\r\n        &lt;param name=&quot;actionName&quot;&gt;auth_stat&lt;/param&gt;\r\n    &lt;/result&gt;\r\n","title":"Struts2 redirectAction is not https?","body":"<p>One of my result mapping type is a <code>&quot;redirectAction&quot;</code> in <code>struts.xml</code>\nwhich when executed constructs a NON secure link... Why is that?\nI wanted to constructs secure link using <code>&quot;redirectAction&quot;</code>\nwhat should I do?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;result type=&quot;redirectAction&quot; name=&quot;auth_stat&quot;&gt;\n    &lt;param name=&quot;actionName&quot;&gt;auth_stat&lt;/param&gt;\n&lt;/result&gt;\n</code></pre>\n"},{"tags":["java","android","kotlin","android-recyclerview","adapter"],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651343816,"creation_date":1651343816,"answer_id":72071187,"question_id":72067438,"body_markdown":"``onBindViewHolder`` is the method the adapter calls when it&#39;s displaying the list, and it&#39;s passing you a ``ViewHolder`` so you can update it to display a particular item in the list.\r\n\r\nIt&#39;s not the place to be doing stuff like calculating that the list has changed, and requesting a new layout, which is why you&#39;re getting an exception. You also definitely shouldn&#39;t be changing the ``items`` dataset while the ``RecyclerView`` is trying to display part of it!\r\n\r\nReally, your adapter should have some kind of ``setData`` function, where you pass in updated data, and it can do stuff like working out what&#39;s moved, sorting the list for display, keeping a list of what&#39;s new and needs a highlight dot, etc. And that function can call ``notifyDataSetChanged()``, or one of the more specific (and better) update functions as appropriate.\r\n\r\nWhen you get new data (e.g. when you&#39;re storing a new file in the ``SharedPreferences``) that&#39;s when you should be pushing an update to the adapter, so it can do what it needs to do, and refresh if necessary. You can even make it a simple ``update()`` call that passes nothing, and the adapter does all the ``SharedPreferences`` lookup you&#39;re currently doing in ``onBindViewHolder``, if you want. And it&#39;ll be a lot more efficient than doing these lookups every time an item in the list is drawn\r\n\r\n(I&#39;d really recommend against what you&#39;re doing with ``SharedPreferences`` too, but maybe it complicates things less than I&#39;m imagining. I&#39;d still recommend trying to make your adapter work with a basic list internally, though - pass one in, so it doesn&#39;t need to know how the rest of the app is persisting data)","title":"Swapping elements inside adapter","body":"<p><code>onBindViewHolder</code> is the method the adapter calls when it's displaying the list, and it's passing you a <code>ViewHolder</code> so you can update it to display a particular item in the list.</p>\n<p>It's not the place to be doing stuff like calculating that the list has changed, and requesting a new layout, which is why you're getting an exception. You also definitely shouldn't be changing the <code>items</code> dataset while the <code>RecyclerView</code> is trying to display part of it!</p>\n<p>Really, your adapter should have some kind of <code>setData</code> function, where you pass in updated data, and it can do stuff like working out what's moved, sorting the list for display, keeping a list of what's new and needs a highlight dot, etc. And that function can call <code>notifyDataSetChanged()</code>, or one of the more specific (and better) update functions as appropriate.</p>\n<p>When you get new data (e.g. when you're storing a new file in the <code>SharedPreferences</code>) that's when you should be pushing an update to the adapter, so it can do what it needs to do, and refresh if necessary. You can even make it a simple <code>update()</code> call that passes nothing, and the adapter does all the <code>SharedPreferences</code> lookup you're currently doing in <code>onBindViewHolder</code>, if you want. And it'll be a lot more efficient than doing these lookups every time an item in the list is drawn</p>\n<p>(I'd really recommend against what you're doing with <code>SharedPreferences</code> too, but maybe it complicates things less than I'm imagining. I'd still recommend trying to make your adapter work with a basic list internally, though - pass one in, so it doesn't need to know how the rest of the app is persisting data)</p>\n"}],"owner":{"account_id":24237502,"reputation":105,"user_id":18190398,"display_name":"Bam Bou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651343816,"creation_date":1651312588,"question_id":72067438,"body_markdown":"I&#39;m making a file explorer synchronizing a directory in ftp, I would like that when a new item is downloaded it is displayed first in my recyclerview. For that I use sharedpreferences to store the new files and so I display or not a dot next to it to notify that it is new. Then I want to place it first at the begining of my MutableList, everything goes well except when I have to update with notifyItemMoved() which gives me the following error:\r\n\r\n    java.lang.IllegalStateException: Cannot call this method while RecyclerView is computing a layout or scrolling androidx.recyclerview.widget.RecyclerView{e8a722f VFED..... ......ID 0,60-1536,1098 #7f080104 app:id/main_folder_recycle_view}, adapter:fr.frd.calvezdocs.adapter.DirAdapter@f17203c, layout:androidx.recyclerview.widget.GridLayoutManager@31331c5, context:fr.frd.calvezdocs.MainActivity@5181ba0\r\n\r\n\r\nHere is the code in my onBindViewHolder() : \r\n\r\n        val isRead: String? = prefNewDir.getString(currentDir.absolutePath, null) \r\n\r\n        if (isRead!=null) {               \r\n            holder.DirIsRead.visibility = View.VISIBLE\r\n            println(&quot;before : &quot; + items[0])\r\n            items.remove(currentDir)\r\n            items.add(0,currentDir)\r\n            println(&quot;after : &quot;+items[0])\r\n            // Can&#39;t update the recyclerview\r\n            notifyDataSetChanged()\r\n        } else \r\n            holder.DirIsRead.visibility = View.GONE\r\n        \r\n\r\nDoes anyone have an idea? \r\n\r\nThanks","title":"Swapping elements inside adapter","body":"<p>I'm making a file explorer synchronizing a directory in ftp, I would like that when a new item is downloaded it is displayed first in my recyclerview. For that I use sharedpreferences to store the new files and so I display or not a dot next to it to notify that it is new. Then I want to place it first at the begining of my MutableList, everything goes well except when I have to update with notifyItemMoved() which gives me the following error:</p>\n<pre><code>java.lang.IllegalStateException: Cannot call this method while RecyclerView is computing a layout or scrolling androidx.recyclerview.widget.RecyclerView{e8a722f VFED..... ......ID 0,60-1536,1098 #7f080104 app:id/main_folder_recycle_view}, adapter:fr.frd.calvezdocs.adapter.DirAdapter@f17203c, layout:androidx.recyclerview.widget.GridLayoutManager@31331c5, context:fr.frd.calvezdocs.MainActivity@5181ba0\n</code></pre>\n<p>Here is the code in my onBindViewHolder() :</p>\n<pre><code>    val isRead: String? = prefNewDir.getString(currentDir.absolutePath, null) \n\n    if (isRead!=null) {               \n        holder.DirIsRead.visibility = View.VISIBLE\n        println(&quot;before : &quot; + items[0])\n        items.remove(currentDir)\n        items.add(0,currentDir)\n        println(&quot;after : &quot;+items[0])\n        // Can't update the recyclerview\n        notifyDataSetChanged()\n    } else \n        holder.DirIsRead.visibility = View.GONE\n    \n</code></pre>\n<p>Does anyone have an idea?</p>\n<p>Thanks</p>\n"},{"tags":["java","bitmap","buffer","android-camerax","rgba"],"answers":[{"tags":[],"owner":{"account_id":18544248,"reputation":161,"user_id":13512017,"display_name":"MickaelD"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1631795192,"creation_date":1631795192,"answer_id":69208423,"question_id":69151779,"body_markdown":"I actually found a solution myself, so I post it here if anyone is interested:\r\n\r\n    private Bitmap toBitmap(Image image) {\r\n        Image.Plane[] planes = image.getPlanes();\r\n        ByteBuffer buffer = planes[0].getBuffer();\r\n        int pixelStride = planes[0].getPixelStride();\r\n        int rowStride = planes[0].getRowStride();\r\n        int rowPadding = rowStride - pixelStride * image.getWidth();\r\n        Bitmap bitmap = Bitmap.createBitmap(image.getWidth()+rowPadding/pixelStride, \r\n        image.getHeight(), Bitmap.Config.ARGB_8888);\r\n        bitmap.copyPixelsFromBuffer(buffer);\r\n        return bitmap;\r\n        }","title":"How to create Bitmap from Android MediaImage in OUTPUT_IMAGE_FORMAT_RGBA_8888 format?","body":"<p>I actually found a solution myself, so I post it here if anyone is interested:</p>\n<pre><code>private Bitmap toBitmap(Image image) {\n    Image.Plane[] planes = image.getPlanes();\n    ByteBuffer buffer = planes[0].getBuffer();\n    int pixelStride = planes[0].getPixelStride();\n    int rowStride = planes[0].getRowStride();\n    int rowPadding = rowStride - pixelStride * image.getWidth();\n    Bitmap bitmap = Bitmap.createBitmap(image.getWidth()+rowPadding/pixelStride, \n    image.getHeight(), Bitmap.Config.ARGB_8888);\n    bitmap.copyPixelsFromBuffer(buffer);\n    return bitmap;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24428213,"reputation":1,"user_id":18353509,"display_name":"Arkharov Andrei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651343566,"creation_date":1651343566,"answer_id":72071154,"question_id":69151779,"body_markdown":"if you want to process the pixel array further on without creating a bitmap object you can do something like this: \r\n\r\n                val data = imageProxy.planes[0].buffer.toByteArray()\r\n                val pixels = IntArray(data.size / imageProxy.planes[0].pixelStride) {\r\n                    var index = it * imageProxy.planes[0].pixelStride\r\n                    (data[index++].toInt() and 0xff.shl(16)) or\r\n                        (data[index++].toInt() and 0xff).shl(8) or\r\n                        (data[index++].toInt() and 0xff).shl(0) or\r\n                        (data[index].toInt() and 0xff).shl(24)\r\n                }\r\n\r\n\r\nAnd then you can create bitmap this way:\r\n\r\n            Bitmap.createBitmap(\r\n                pixels,\r\n                0,\r\n                imageProxy.planes[0].rowStride / imageProxy.planes[0].pixelStride,\r\n                imageProxy.width,\r\n                imageProxy.height,\r\n                Bitmap.Config.ARGB_8888\r\n            )","title":"How to create Bitmap from Android MediaImage in OUTPUT_IMAGE_FORMAT_RGBA_8888 format?","body":"<p>if you want to process the pixel array further on without creating a bitmap object you can do something like this:</p>\n<pre><code>            val data = imageProxy.planes[0].buffer.toByteArray()\n            val pixels = IntArray(data.size / imageProxy.planes[0].pixelStride) {\n                var index = it * imageProxy.planes[0].pixelStride\n                (data[index++].toInt() and 0xff.shl(16)) or\n                    (data[index++].toInt() and 0xff).shl(8) or\n                    (data[index++].toInt() and 0xff).shl(0) or\n                    (data[index].toInt() and 0xff).shl(24)\n            }\n</code></pre>\n<p>And then you can create bitmap this way:</p>\n<pre><code>        Bitmap.createBitmap(\n            pixels,\n            0,\n            imageProxy.planes[0].rowStride / imageProxy.planes[0].pixelStride,\n            imageProxy.width,\n            imageProxy.height,\n            Bitmap.Config.ARGB_8888\n        )\n</code></pre>\n"}],"owner":{"account_id":18544248,"reputation":161,"user_id":13512017,"display_name":"MickaelD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1734,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69208423,"answer_count":2,"score":4,"last_activity_date":1651343566,"creation_date":1631452727,"question_id":69151779,"body_markdown":"I am trying to use this new feature of CameraX Image Analysis (version 1.1.0-alpha08): using setOutputImageFormat(ImageAnalysis.OUTPUT_IMAGE_FORMAT_RGBA_8888), images sent to the analyzer will have RGBA format.\r\n\r\nSee this for reference: https://developer.android.com/reference/androidx/camera/core/ImageAnalysis#OUTPUT_IMAGE_FORMAT_RGBA_8888\r\n\r\nI need to turn the image sent to the analyzer into a Bitmap so that I can input it to a TensorFlow classifier. \r\nWithout this new feature I would receive the image in the standard YUV_420_888 format then I would have to use one of the several solutions that can be googled in order to turn YUV_420_888 to RGBA then to Bitmap. Like this: https://blog.minhazav.dev/how-to-convert-yuv-420-sp-android.media.Image-to-Bitmap-or-jpeg/.\r\nI assume getting the Media Image directly in RGBA format should help me avoid implementing those painfull solutions (that I have actually tried and do not seem to work very well for me so far).\r\n\r\nProblem is I don&#39;t know how to turn this RGBA Media Image into a Bitmap. I have noticed that calling mediaImage.getFormat() returns 1 which is not an ImageFormat value but a PixelFormat one, the one logically corresponding to RGBA_8888 format, which is in line with the documentation: &quot;All ImageProxy sent to ImageAnalysis.Analyzer.analyze(ImageProxy) will have format PixelFormat.RGBA_8888&quot;.\r\n\r\nI have tried this:\r\n\r\n    private Bitmap toBitmapRGBA(Image image) {\r\n        Image.Plane[] planes = image.getPlanes();\r\n        ByteBuffer buffer = planes[0].getBuffer();\r\n        buffer.rewind();\r\n        int size = buffer.remaining();\r\n        byte[] bytes = new byte[size];\r\n        buffer.get(bytes);\r\n        Bitmap bitmapImage = BitmapFactory.decodeByteArray(bytes, 0, bytes.length, null);\r\n        return bitmapImage;\r\n    }\r\n\r\nThis returns null indicating the decodeByteArray does not work. (I notice the image has got only one plane).\r\n\r\n    private Bitmap toBitmapRGBA2(Image image) {\r\n        Image.Plane[] planes = image.getPlanes();\r\n        ByteBuffer buffer = planes[0].getBuffer();\r\n        Bitmap bitmap = Bitmap.createBitmap(image.getWidth(), image.getHeight(), Bitmap.Config.ARGB_8888);\r\n        buffer.rewind();\r\n        bitmap.copyPixelsFromBuffer(buffer);\r\n        return bitmap;\r\n    }\r\n\r\nThis returns a Bitmap that looks noting but noise.\r\n\r\nPlease help!\r\nKind regards\r\nMickael","title":"How to create Bitmap from Android MediaImage in OUTPUT_IMAGE_FORMAT_RGBA_8888 format?","body":"<p>I am trying to use this new feature of CameraX Image Analysis (version 1.1.0-alpha08): using setOutputImageFormat(ImageAnalysis.OUTPUT_IMAGE_FORMAT_RGBA_8888), images sent to the analyzer will have RGBA format.</p>\n<p>See this for reference: <a href=\"https://developer.android.com/reference/androidx/camera/core/ImageAnalysis#OUTPUT_IMAGE_FORMAT_RGBA_8888\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/camera/core/ImageAnalysis#OUTPUT_IMAGE_FORMAT_RGBA_8888</a></p>\n<p>I need to turn the image sent to the analyzer into a Bitmap so that I can input it to a TensorFlow classifier.\nWithout this new feature I would receive the image in the standard YUV_420_888 format then I would have to use one of the several solutions that can be googled in order to turn YUV_420_888 to RGBA then to Bitmap. Like this: <a href=\"https://blog.minhazav.dev/how-to-convert-yuv-420-sp-android.media.Image-to-Bitmap-or-jpeg/\" rel=\"nofollow noreferrer\">https://blog.minhazav.dev/how-to-convert-yuv-420-sp-android.media.Image-to-Bitmap-or-jpeg/</a>.\nI assume getting the Media Image directly in RGBA format should help me avoid implementing those painfull solutions (that I have actually tried and do not seem to work very well for me so far).</p>\n<p>Problem is I don't know how to turn this RGBA Media Image into a Bitmap. I have noticed that calling mediaImage.getFormat() returns 1 which is not an ImageFormat value but a PixelFormat one, the one logically corresponding to RGBA_8888 format, which is in line with the documentation: &quot;All ImageProxy sent to ImageAnalysis.Analyzer.analyze(ImageProxy) will have format PixelFormat.RGBA_8888&quot;.</p>\n<p>I have tried this:</p>\n<pre><code>private Bitmap toBitmapRGBA(Image image) {\n    Image.Plane[] planes = image.getPlanes();\n    ByteBuffer buffer = planes[0].getBuffer();\n    buffer.rewind();\n    int size = buffer.remaining();\n    byte[] bytes = new byte[size];\n    buffer.get(bytes);\n    Bitmap bitmapImage = BitmapFactory.decodeByteArray(bytes, 0, bytes.length, null);\n    return bitmapImage;\n}\n</code></pre>\n<p>This returns null indicating the decodeByteArray does not work. (I notice the image has got only one plane).</p>\n<pre><code>private Bitmap toBitmapRGBA2(Image image) {\n    Image.Plane[] planes = image.getPlanes();\n    ByteBuffer buffer = planes[0].getBuffer();\n    Bitmap bitmap = Bitmap.createBitmap(image.getWidth(), image.getHeight(), Bitmap.Config.ARGB_8888);\n    buffer.rewind();\n    bitmap.copyPixelsFromBuffer(buffer);\n    return bitmap;\n}\n</code></pre>\n<p>This returns a Bitmap that looks noting but noise.</p>\n<p>Please help!\nKind regards\nMickael</p>\n"},{"tags":["java","com","powerdesigner"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1625815035,"post_id":68312683,"comment_id":120732747,"body_markdown":"Doesn&#39;t the tool&#39;s documentation tell you? From the stacktrace it seems you&#39;d need to open a model first before trying to perform the action you&#39;ve tried. If that action is to open a model there might be a bug in the tool so maybe ask SAP support to get more knowledgable help.","body":"Doesn&#39;t the tool&#39;s documentation tell you? From the stacktrace it seems you&#39;d need to open a model first before trying to perform the action you&#39;ve tried. If that action is to open a model there might be a bug in the tool so maybe ask SAP support to get more knowledgable help."},{"owner":{"account_id":9571842,"reputation":75,"user_id":7109249,"accept_rate":17,"display_name":"Darla"},"score":0,"creation_date":1625815213,"post_id":68312683,"comment_id":120732820,"body_markdown":"Im trying to run this after opening a model, but still the error.","body":"Im trying to run this after opening a model, but still the error."},{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1625817666,"post_id":68312683,"comment_id":120733608,"body_markdown":"You&#39;ve provided pretty minimal set of information here. Does this happen always, or just with one model? Did it work earlier? What did you do when it stopped working?","body":"You&#39;ve provided pretty minimal set of information here. Does this happen always, or just with one model? Did it work earlier? What did you do when it stopped working?"},{"owner":{"account_id":9571842,"reputation":75,"user_id":7109249,"accept_rate":17,"display_name":"Darla"},"score":0,"creation_date":1625824143,"post_id":68312683,"comment_id":120736143,"body_markdown":"Hi James,  This is the first time i&#39;m trying to establish a connection through java to the PowerDesigner. My requirement is that to access the repository using Java. The code i&#39;m trying to run is from the Sample codes provided in the OLE Automation folder of the Power Designer- &#39;C:\\Program Files\\SAP\\PowerDesigner 16\\Ole Automation\\Java Samples/&#39;. There is a sample program in the Java Samples folder to create a model in PD which im trying to run.","body":"Hi James,  This is the first time i&#39;m trying to establish a connection through java to the PowerDesigner. My requirement is that to access the repository using Java. The code i&#39;m trying to run is from the Sample codes provided in the OLE Automation folder of the Power Designer- &#39;C:\\Program Files\\SAP\\PowerDesigner 16\\Ole Automation\\Java Samples/&#39;. There is a sample program in the Java Samples folder to create a model in PD which im trying to run."}],"owner":{"account_id":9571842,"reputation":75,"user_id":7109249,"accept_rate":17,"display_name":"Darla"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651343416,"creation_date":1625814877,"question_id":68312683,"body_markdown":"The actual code\r\n\r\n    package OOM.src.createOOM;\r\n    \r\n    import org.eclipse.swt.internal.ole.win32.COM;\r\n    import com.sybase.stf.powerdesigner.PdCommon.*;\r\n    import com.sybase.stf.powerdesigner.PdOOM.*;\r\n    \r\n    /**\r\n     * @author Xiao Wang\r\n     *\r\n     * This Java sample program shows how to use PowerDesigner Java proxies and \r\n     * OLE automation to create a PowerDesigner OOM model and display the contains of the OOM model.\r\n     */\r\n    public class CreateOOM {\r\n    \r\n       /** PowerDesigner application object */\r\n       private Application pdApp;\r\n       \r\n       private int nbClasses;\r\n       \r\n       /** \r\n        * Program entry point \r\n        */\r\n       public static void main(String[] args) {\r\n    \t   System.out.println(&quot;shhs&quot;);\r\n    \t      // Create an instance of this class\r\n    \t      CreateOOM createOOM1 = new CreateOOM();\r\n    \t      // Create an OOM and display the result\r\n    \t      createOOM1.CreateAndDisplayOOM();\r\n    \t   }\r\n       /**\r\n        *  Create an OOM and display the result \r\n        */\r\n       public void CreateAndDisplayOOM() {\r\n          int hr = COM.OleInitialize(0);\r\n          try {\r\n             // Get PowerDesigner application instance and start PowerDesigner if necessary\r\n             pdApp = Application.getInstance();\r\n             if (pdApp != null)\r\n             {\r\n                // Create an OOM\r\n                Model newModel;\r\n                newModel = createOOM();\r\n             \r\n                // Show the information of the current OOM\r\n                showOOMInfo();\r\n                     \r\n                // Release PowerDesigner application.  \r\n                // This may close PowerDesigner if PowerDesigner was started by this program.\r\n                // pdApp.Release();\r\n             }\r\n          }\r\n          catch (Exception e) {\r\n    \t System.out.println(&quot;Cannot create PowerDesigner application object.  Please verify that PowerDesigner is installed.&quot;);\r\n          }\r\n          finally {\r\n             if (hr == COM.S_OK)\r\n                COM.OleUninitialize();\r\n          }\r\n       }\r\n          \r\n       /**\r\n        *  Create an OOM for Java\r\n        */\r\n       public Model createOOM() {\r\n          try {\r\n             // Create an OOM model, use Java as the language, create a default class diagram\r\n             // Convert the return object to PdOOM.Model proxy object\r\n             Model newModel = new Model(pdApp.CreateModel(PdOOM_Classes.cls_Model, &quot;|Language=Java|Diagram=ClassDiagram&quot;));\r\n             // set name and code\r\n             newModel.SetName(&quot;Customer Management&quot;);\r\n             newModel.SetCode(&quot;CustomerManagement&quot;);\r\n             //System.out.println(&quot;reach&quot;);\r\n             // Create a customer class.  \r\n             // Use the fully qualified name here to avoid conflict with Java\r\n             com.sybase.stf.powerdesigner.PdOOM.Class newClass1 =\r\n                new com.sybase.stf.powerdesigner.PdOOM.Class(newModel.GetClasses().CreateNew());\r\n             newClass1.SetName(&quot;Customer&quot;);\r\n             newClass1.SetCode(&quot;Customer&quot;);\r\n             newClass1.SetComment(&quot;Customer class&quot;);\r\n    \r\n             Attribute newAttribute;\r\n             // Create an id attribute\r\n             newAttribute = new Attribute(newClass1.GetAttributes().CreateNew());\r\n             newAttribute.SetName(&quot;Id&quot;);\r\n             newAttribute.SetCode(&quot;id&quot;);\r\n             // id is the primary identifier (primary key)\r\n             newAttribute.SetPrimaryIdentifier(true);\r\n             // set the Java data type\r\n             newAttribute.SetDataType(&quot;int&quot;);\r\n    \r\n             // Create a name attribute\r\n             newAttribute = new Attribute(newClass1.GetAttributes().CreateNew());\r\n             newAttribute.SetName(&quot;Name&quot;);\r\n             newAttribute.SetCode(&quot;name&quot;);\r\n             // set the Java data type\r\n             newAttribute.SetDataType(&quot;java.lang.String&quot;);\r\n    \r\n             // Create a phone attribute\r\n             newAttribute = new Attribute(newClass1.GetAttributes().CreateNew());\r\n             newAttribute.SetName(&quot;Phone&quot;);\r\n             newAttribute.SetCode(&quot;phone&quot;);\r\n             // set the Java data type\r\n             newAttribute.SetDataType(&quot;java.lang.String&quot;);\r\n    \r\n             // Create an email attribute\r\n             newAttribute = new Attribute(newClass1.GetAttributes().CreateNew());\r\n             newAttribute.SetName(&quot;Email&quot;);\r\n             newAttribute.SetCode(&quot;email&quot;);\r\n             // set the Java data type\r\n             newAttribute.SetDataType(&quot;java.lang.String&quot;);\r\n    \r\n             // Create an SalesOrder class.  \r\n             // Use the fully qualified name here to avoid conflict with Java\r\n             com.sybase.stf.powerdesigner.PdOOM.Class newClass2 =\r\n                new com.sybase.stf.powerdesigner.PdOOM.Class(newModel.GetClasses().CreateNew());\r\n             newClass2.SetName(&quot;SalesOrder&quot;);\r\n             newClass2.SetCode(&quot;SalesOrder&quot;);\r\n             newClass2.SetComment(&quot;Sales order class&quot;);\r\n    \r\n             // Create an orderId attribute\r\n             newAttribute = new Attribute(newClass2.GetAttributes().CreateNew());\r\n             newAttribute.SetName(&quot;Order id&quot;);\r\n             newAttribute.SetCode(&quot;orderId&quot;);\r\n             // id is the primary identifier (primary key)\r\n             newAttribute.SetPrimaryIdentifier(true);\r\n             // set the Java data type\r\n             newAttribute.SetDataType(&quot;int&quot;);\r\n    \r\n             // Create an orderDate attribute\r\n             newAttribute = new Attribute(newClass2.GetAttributes().CreateNew());\r\n             newAttribute.SetName(&quot;Order date&quot;);\r\n             newAttribute.SetCode(&quot;orderDate&quot;);\r\n             // set the Java data type\r\n             newAttribute.SetDataType(&quot;java.util.Date&quot;);\r\n    \r\n             // Create an association\r\n             Association association1 = new Association(newModel.GetAssociations().CreateNew());\r\n             // Set linked classes\r\n             association1.SetObject1(newClass1);\r\n             association1.SetObject2(newClass2);\r\n             // Set role A name and multiplicity\r\n             association1.SetRoleAName(&quot;customer&quot;);\r\n             association1.SetRoleAMultiplicity(&quot;1&quot;);\r\n             // Set role B name and multiplicity\r\n             association1.SetRoleBName(&quot;orders&quot;);\r\n             association1.SetRoleBMultiplicity(&quot;0..*&quot;);\r\n    \r\n             // Get the default class diagram\r\n             ClassDiagram newDiagram = new ClassDiagram(newModel.GetDefaultDiagram());\r\n    \r\n             // show the symbol in the default diagram if it is a class diagram\r\n             newDiagram.AttachObject(newClass1);\r\n             newDiagram.AttachObject(newClass2);\r\n             newDiagram.AttachLinkObject(association1);\r\n            \r\n             return newModel;\r\n    \t  }\r\n    \t  catch (Exception e) {\r\n    \t\t e.printStackTrace();\r\n    \t\t return null;\r\n    \t  }\r\n       }\r\n       \r\n       /**\r\n        *  Display information about the currnt OOM\r\n        */\r\n       public void showOOMInfo() {\r\n          try {\r\n             // Get the current OOM model\r\n             if (!pdApp.GetActiveModel().isNull())\r\n             {\r\n                if (pdApp.GetActiveModel().IsKindOf(PdOOM_Classes.cls_Model))\r\n                {\r\n                   // Convert the active model to an OOM model proxy object\r\n                   Model aModel = new Model(pdApp.GetActiveModel());\r\n    \r\n                   // Initialize the number of classes\r\n                   nbClasses = 0;\r\n                                  \r\n                   // Display a message in PowerDesigner outut window\r\n                   pdApp.Output(&quot;Display the list of classes in the system output window.&quot;);\r\n                   \r\n                   // Show classes and packages defined under the model\r\n                   // Convert model proxy object to package proxy object\r\n    \t\t\t   showPackageInfo(new com.sybase.stf.powerdesigner.PdOOM.Package(aModel));\r\n    \t\t\t   \r\n    \t\t       System.out.println(&quot;There are &quot; + nbClasses + &quot; class(es) in this model.&quot;);\r\n    \t\t\t   \r\n                }\r\n                else\r\n                {\r\n                   System.out.println(&quot;The current model is not an OOM model.&quot;);\r\n                }\r\n             }\r\n             else\r\n             {\r\n                System.out.println(&quot;There is no active model opened in PowerDesigner.&quot;);\r\n             }\r\n          }\r\n          catch (Exception e) {\r\n             e.printStackTrace();\r\n          }\r\n       }\r\n    \r\n       /**\r\n        *  Display information about an OOM package\r\n        */\r\n       public void showPackageInfo(com.sybase.stf.powerdesigner.PdOOM.Package aPackage) {\r\n          if (!aPackage.isNull() &amp;&amp; !aPackage.IsShortcut())\r\n          {\r\n             // Display the number of classes and packages in the system output window\r\n             System.out.println(&quot;The &quot; + aPackage.GetObjectType() + &quot; &#39;&quot; + aPackage.GetCode() + &quot;&#39; contains &quot; + aPackage.GetClasses().GetCount() + &quot; class(es), &quot; + aPackage.GetPackages().GetCount() + &quot; package(s).&quot;);\r\n    \r\n             // Use the fully qualified name here to avoid conflict with Java\r\n             com.sybase.stf.powerdesigner.PdOOM.Class aClass;\r\n             for (int n = 0; n &lt; aPackage.GetClasses().GetCount(); n++)\r\n             {\r\n                nbClasses++;\r\n                if (nbClasses &lt; 100)\r\n                {\r\n                   // display class info\r\n                   aClass = new com.sybase.stf.powerdesigner.PdOOM.Class(aPackage.GetClasses().Item(n));\r\n                   showClassInfo(aClass);\r\n                }\r\n                else\r\n                {\r\n                   if (nbClasses == 100)            \t\r\n                      System.out.println(&quot;...&quot;);\r\n                   break;\r\n                }\r\n             }\r\n    \r\n             // display classes of subpackages         \r\n             com.sybase.stf.powerdesigner.PdOOM.Package subPackage;\r\n             for (int nPackage = 0; nPackage &lt; aPackage.GetPackages().GetCount(); nPackage++)\r\n             {\r\n                subPackage = new com.sybase.stf.powerdesigner.PdOOM.Package(aPackage.GetPackages().Item(nPackage));\r\n                showPackageInfo(subPackage);\r\n             }\r\n          }\r\n       }\r\n       \r\n       /**\r\n        *  Display information about a class\r\n        */\r\n       public void showClassInfo(com.sybase.stf.powerdesigner.PdOOM.Class aClass) {\r\n          try {\r\n             if (!aClass.isNull() &amp;&amp; !aClass.IsShortcut())\r\n             {\r\n                System.out.println(&quot;Class No.&quot; + nbClasses + &quot;: &quot; + aClass.GetCode() + &quot;, &quot; + aClass.GetAttributes().GetCount() + &quot; attribute(s), &quot; + aClass.GetOperations().GetCount() + &quot; operation(s)&quot;);\r\n             }\r\n          }\r\n          catch (Exception e) {\r\n    \t e.printStackTrace();\r\n          }\r\n       }\r\n    }\r\n\r\nThe issue im getting is--\r\n\r\n\r\n \r\n\r\n org.eclipse.swt.SWTException: Action can not be performed. result = -2137456383 (com.sybase.stf.powerdesigner.com.COMException:  COM Failure [HRESULT: 0x80990101])\r\n    \tat org.eclipse.swt.ole.win32.OLE.error(OLE.java:345)\r\n    \tat com.sybase.stf.powerdesigner.com.COMException.raiseOnFail(COMException.java:83)\r\n    \tat com.sybase.stf.powerdesigner.com.IDispatchEx.raisingInvoke(IDispatchEx.java:231)\r\n    \tat com.sybase.stf.powerdesigner.PdCommon.IApplication.CreateModel(IApplication.java:84)\r\n    \tat OOM.src.createOOM.CreateOOM.createOOM(CreateOOM.java:68)\r\n    \tat OOM.src.createOOM.CreateOOM.CreateAndDisplayOOM(CreateOOM.java:42)\r\n    \tat OOM.src.createOOM.CreateOOM.main(CreateOOM.java:28)\r\n    Caused by: com.sybase.stf.powerdesigner.com.COMException:  COM Failure [HRESULT: 0x80990101]\r\n    \tat com.sybase.stf.powerdesigner.com.COMException.raiseOnFail(COMException.java:88)\r\n    \t... 5 more\r\n    There is no active model opened in PowerDesigner.\r\n\r\nhow can I resolve this?\r\n\r\n\r\n\r\n\r\n","title":"Error when trying to create a model in PowerDesigner through Java","body":"<p>The actual code</p>\n<pre><code>package OOM.src.createOOM;\n\nimport org.eclipse.swt.internal.ole.win32.COM;\nimport com.sybase.stf.powerdesigner.PdCommon.*;\nimport com.sybase.stf.powerdesigner.PdOOM.*;\n\n/**\n * @author Xiao Wang\n *\n * This Java sample program shows how to use PowerDesigner Java proxies and \n * OLE automation to create a PowerDesigner OOM model and display the contains of the OOM model.\n */\npublic class CreateOOM {\n\n   /** PowerDesigner application object */\n   private Application pdApp;\n   \n   private int nbClasses;\n   \n   /** \n    * Program entry point \n    */\n   public static void main(String[] args) {\n       System.out.println(&quot;shhs&quot;);\n          // Create an instance of this class\n          CreateOOM createOOM1 = new CreateOOM();\n          // Create an OOM and display the result\n          createOOM1.CreateAndDisplayOOM();\n       }\n   /**\n    *  Create an OOM and display the result \n    */\n   public void CreateAndDisplayOOM() {\n      int hr = COM.OleInitialize(0);\n      try {\n         // Get PowerDesigner application instance and start PowerDesigner if necessary\n         pdApp = Application.getInstance();\n         if (pdApp != null)\n         {\n            // Create an OOM\n            Model newModel;\n            newModel = createOOM();\n         \n            // Show the information of the current OOM\n            showOOMInfo();\n                 \n            // Release PowerDesigner application.  \n            // This may close PowerDesigner if PowerDesigner was started by this program.\n            // pdApp.Release();\n         }\n      }\n      catch (Exception e) {\n     System.out.println(&quot;Cannot create PowerDesigner application object.  Please verify that PowerDesigner is installed.&quot;);\n      }\n      finally {\n         if (hr == COM.S_OK)\n            COM.OleUninitialize();\n      }\n   }\n      \n   /**\n    *  Create an OOM for Java\n    */\n   public Model createOOM() {\n      try {\n         // Create an OOM model, use Java as the language, create a default class diagram\n         // Convert the return object to PdOOM.Model proxy object\n         Model newModel = new Model(pdApp.CreateModel(PdOOM_Classes.cls_Model, &quot;|Language=Java|Diagram=ClassDiagram&quot;));\n         // set name and code\n         newModel.SetName(&quot;Customer Management&quot;);\n         newModel.SetCode(&quot;CustomerManagement&quot;);\n         //System.out.println(&quot;reach&quot;);\n         // Create a customer class.  \n         // Use the fully qualified name here to avoid conflict with Java\n         com.sybase.stf.powerdesigner.PdOOM.Class newClass1 =\n            new com.sybase.stf.powerdesigner.PdOOM.Class(newModel.GetClasses().CreateNew());\n         newClass1.SetName(&quot;Customer&quot;);\n         newClass1.SetCode(&quot;Customer&quot;);\n         newClass1.SetComment(&quot;Customer class&quot;);\n\n         Attribute newAttribute;\n         // Create an id attribute\n         newAttribute = new Attribute(newClass1.GetAttributes().CreateNew());\n         newAttribute.SetName(&quot;Id&quot;);\n         newAttribute.SetCode(&quot;id&quot;);\n         // id is the primary identifier (primary key)\n         newAttribute.SetPrimaryIdentifier(true);\n         // set the Java data type\n         newAttribute.SetDataType(&quot;int&quot;);\n\n         // Create a name attribute\n         newAttribute = new Attribute(newClass1.GetAttributes().CreateNew());\n         newAttribute.SetName(&quot;Name&quot;);\n         newAttribute.SetCode(&quot;name&quot;);\n         // set the Java data type\n         newAttribute.SetDataType(&quot;java.lang.String&quot;);\n\n         // Create a phone attribute\n         newAttribute = new Attribute(newClass1.GetAttributes().CreateNew());\n         newAttribute.SetName(&quot;Phone&quot;);\n         newAttribute.SetCode(&quot;phone&quot;);\n         // set the Java data type\n         newAttribute.SetDataType(&quot;java.lang.String&quot;);\n\n         // Create an email attribute\n         newAttribute = new Attribute(newClass1.GetAttributes().CreateNew());\n         newAttribute.SetName(&quot;Email&quot;);\n         newAttribute.SetCode(&quot;email&quot;);\n         // set the Java data type\n         newAttribute.SetDataType(&quot;java.lang.String&quot;);\n\n         // Create an SalesOrder class.  \n         // Use the fully qualified name here to avoid conflict with Java\n         com.sybase.stf.powerdesigner.PdOOM.Class newClass2 =\n            new com.sybase.stf.powerdesigner.PdOOM.Class(newModel.GetClasses().CreateNew());\n         newClass2.SetName(&quot;SalesOrder&quot;);\n         newClass2.SetCode(&quot;SalesOrder&quot;);\n         newClass2.SetComment(&quot;Sales order class&quot;);\n\n         // Create an orderId attribute\n         newAttribute = new Attribute(newClass2.GetAttributes().CreateNew());\n         newAttribute.SetName(&quot;Order id&quot;);\n         newAttribute.SetCode(&quot;orderId&quot;);\n         // id is the primary identifier (primary key)\n         newAttribute.SetPrimaryIdentifier(true);\n         // set the Java data type\n         newAttribute.SetDataType(&quot;int&quot;);\n\n         // Create an orderDate attribute\n         newAttribute = new Attribute(newClass2.GetAttributes().CreateNew());\n         newAttribute.SetName(&quot;Order date&quot;);\n         newAttribute.SetCode(&quot;orderDate&quot;);\n         // set the Java data type\n         newAttribute.SetDataType(&quot;java.util.Date&quot;);\n\n         // Create an association\n         Association association1 = new Association(newModel.GetAssociations().CreateNew());\n         // Set linked classes\n         association1.SetObject1(newClass1);\n         association1.SetObject2(newClass2);\n         // Set role A name and multiplicity\n         association1.SetRoleAName(&quot;customer&quot;);\n         association1.SetRoleAMultiplicity(&quot;1&quot;);\n         // Set role B name and multiplicity\n         association1.SetRoleBName(&quot;orders&quot;);\n         association1.SetRoleBMultiplicity(&quot;0..*&quot;);\n\n         // Get the default class diagram\n         ClassDiagram newDiagram = new ClassDiagram(newModel.GetDefaultDiagram());\n\n         // show the symbol in the default diagram if it is a class diagram\n         newDiagram.AttachObject(newClass1);\n         newDiagram.AttachObject(newClass2);\n         newDiagram.AttachLinkObject(association1);\n        \n         return newModel;\n      }\n      catch (Exception e) {\n         e.printStackTrace();\n         return null;\n      }\n   }\n   \n   /**\n    *  Display information about the currnt OOM\n    */\n   public void showOOMInfo() {\n      try {\n         // Get the current OOM model\n         if (!pdApp.GetActiveModel().isNull())\n         {\n            if (pdApp.GetActiveModel().IsKindOf(PdOOM_Classes.cls_Model))\n            {\n               // Convert the active model to an OOM model proxy object\n               Model aModel = new Model(pdApp.GetActiveModel());\n\n               // Initialize the number of classes\n               nbClasses = 0;\n                              \n               // Display a message in PowerDesigner outut window\n               pdApp.Output(&quot;Display the list of classes in the system output window.&quot;);\n               \n               // Show classes and packages defined under the model\n               // Convert model proxy object to package proxy object\n               showPackageInfo(new com.sybase.stf.powerdesigner.PdOOM.Package(aModel));\n               \n               System.out.println(&quot;There are &quot; + nbClasses + &quot; class(es) in this model.&quot;);\n               \n            }\n            else\n            {\n               System.out.println(&quot;The current model is not an OOM model.&quot;);\n            }\n         }\n         else\n         {\n            System.out.println(&quot;There is no active model opened in PowerDesigner.&quot;);\n         }\n      }\n      catch (Exception e) {\n         e.printStackTrace();\n      }\n   }\n\n   /**\n    *  Display information about an OOM package\n    */\n   public void showPackageInfo(com.sybase.stf.powerdesigner.PdOOM.Package aPackage) {\n      if (!aPackage.isNull() &amp;&amp; !aPackage.IsShortcut())\n      {\n         // Display the number of classes and packages in the system output window\n         System.out.println(&quot;The &quot; + aPackage.GetObjectType() + &quot; '&quot; + aPackage.GetCode() + &quot;' contains &quot; + aPackage.GetClasses().GetCount() + &quot; class(es), &quot; + aPackage.GetPackages().GetCount() + &quot; package(s).&quot;);\n\n         // Use the fully qualified name here to avoid conflict with Java\n         com.sybase.stf.powerdesigner.PdOOM.Class aClass;\n         for (int n = 0; n &lt; aPackage.GetClasses().GetCount(); n++)\n         {\n            nbClasses++;\n            if (nbClasses &lt; 100)\n            {\n               // display class info\n               aClass = new com.sybase.stf.powerdesigner.PdOOM.Class(aPackage.GetClasses().Item(n));\n               showClassInfo(aClass);\n            }\n            else\n            {\n               if (nbClasses == 100)                \n                  System.out.println(&quot;...&quot;);\n               break;\n            }\n         }\n\n         // display classes of subpackages         \n         com.sybase.stf.powerdesigner.PdOOM.Package subPackage;\n         for (int nPackage = 0; nPackage &lt; aPackage.GetPackages().GetCount(); nPackage++)\n         {\n            subPackage = new com.sybase.stf.powerdesigner.PdOOM.Package(aPackage.GetPackages().Item(nPackage));\n            showPackageInfo(subPackage);\n         }\n      }\n   }\n   \n   /**\n    *  Display information about a class\n    */\n   public void showClassInfo(com.sybase.stf.powerdesigner.PdOOM.Class aClass) {\n      try {\n         if (!aClass.isNull() &amp;&amp; !aClass.IsShortcut())\n         {\n            System.out.println(&quot;Class No.&quot; + nbClasses + &quot;: &quot; + aClass.GetCode() + &quot;, &quot; + aClass.GetAttributes().GetCount() + &quot; attribute(s), &quot; + aClass.GetOperations().GetCount() + &quot; operation(s)&quot;);\n         }\n      }\n      catch (Exception e) {\n     e.printStackTrace();\n      }\n   }\n}\n</code></pre>\n<p>The issue im getting is--</p>\n<p>org.eclipse.swt.SWTException: Action can not be performed. result = -2137456383 (com.sybase.stf.powerdesigner.com.COMException:  COM Failure [HRESULT: 0x80990101])\nat org.eclipse.swt.ole.win32.OLE.error(OLE.java:345)\nat com.sybase.stf.powerdesigner.com.COMException.raiseOnFail(COMException.java:83)\nat com.sybase.stf.powerdesigner.com.IDispatchEx.raisingInvoke(IDispatchEx.java:231)\nat com.sybase.stf.powerdesigner.PdCommon.IApplication.CreateModel(IApplication.java:84)\nat OOM.src.createOOM.CreateOOM.createOOM(CreateOOM.java:68)\nat OOM.src.createOOM.CreateOOM.CreateAndDisplayOOM(CreateOOM.java:42)\nat OOM.src.createOOM.CreateOOM.main(CreateOOM.java:28)\nCaused by: com.sybase.stf.powerdesigner.com.COMException:  COM Failure [HRESULT: 0x80990101]\nat com.sybase.stf.powerdesigner.com.COMException.raiseOnFail(COMException.java:88)\n... 5 more\nThere is no active model opened in PowerDesigner.</p>\n<p>how can I resolve this?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651343392,"creation_date":1651343392,"answer_id":72071130,"question_id":72070454,"body_markdown":"As the error states, you are missing a call to initialize the FirebaseApp before it resumes.\r\n\r\nAdd the following to your activity&#39;s `onCreate`:\r\n\r\n    FirebaseApp.initializeApp(this);","title":"Problem with running app in android studio","body":"<p>As the error states, you are missing a call to initialize the FirebaseApp before it resumes.</p>\n<p>Add the following to your activity's <code>onCreate</code>:</p>\n<pre><code>FirebaseApp.initializeApp(this);\n</code></pre>\n"}],"owner":{"account_id":25156551,"reputation":19,"user_id":19001309,"display_name":"Maksymilian Zakrzewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651343392,"creation_date":1651337787,"question_id":72070454,"body_markdown":"So i have prbolem with running my app and it doesnt want to open, just being white background which disconnect after few seconds\r\n```E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.promilek, PID: 31947\r\n    java.lang.RuntimeException: Unable to resume activity {com.example.promilek/com.example.promilek.Login}: java.lang.IllegalStateException: Default FirebaseApp is not initialized in this process com.example.promilek. Make sure to call FirebaseApp.initializeApp(Context) first.\r\n        at android.app.ActivityThread.performResumeActivity(ActivityThread.java:4444)\r\n        at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:4476)\r\n        at android.app.servertransaction.ResumeActivityItem.execute(ResumeActivityItem.java:52)\r\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:176)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n      ```","title":"Problem with running app in android studio","body":"<p>So i have prbolem with running my app and it doesnt want to open, just being white background which disconnect after few seconds</p>\n<pre><code>    Process: com.example.promilek, PID: 31947\n    java.lang.RuntimeException: Unable to resume activity {com.example.promilek/com.example.promilek.Login}: java.lang.IllegalStateException: Default FirebaseApp is not initialized in this process com.example.promilek. Make sure to call FirebaseApp.initializeApp(Context) first.\n        at android.app.ActivityThread.performResumeActivity(ActivityThread.java:4444)\n        at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:4476)\n        at android.app.servertransaction.ResumeActivityItem.execute(ResumeActivityItem.java:52)\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:176)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n      ```\n</code></pre>\n"},{"tags":["python","java","android","kivy","buildozer"],"answers":[{"tags":[],"owner":{"account_id":25154722,"reputation":26,"user_id":18999690,"display_name":"Nyx-Fleece Ram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651343259,"creation_date":1651343259,"answer_id":72071111,"question_id":72050182,"body_markdown":"I think something probably has gone wrong with your installation, try reinstalling buildozer.\r\n\r\nhttps://buildozer.readthedocs.io/en/latest/installation.html","title":"Error building kivy app for android with buildozer","body":"<p>I think something probably has gone wrong with your installation, try reinstalling buildozer.</p>\n<p><a href=\"https://buildozer.readthedocs.io/en/latest/installation.html\" rel=\"nofollow noreferrer\">https://buildozer.readthedocs.io/en/latest/installation.html</a></p>\n"}],"owner":{"account_id":17925133,"reputation":43,"user_id":18980744,"display_name":"SU_Medicat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72071111,"answer_count":1,"score":1,"last_activity_date":1651343259,"creation_date":1651179681,"question_id":72050182,"body_markdown":"I am fairly new to Kivy and app development in general. I made a simple app and wanted to try creating an apk file using buildozer. I ran the following command:\r\n\r\n```$ buildozer android debug```\r\n\r\nI get a log that ends with:\r\n\r\n```\r\n# Buildozer failed to execute the last command\r\n# The error might be hidden in the log above this error\r\n# Please read the full log, and search for it before\r\n# raising an issue with buildozer itself.\r\n# In case of a bug report, please add a full log with log_level = 2\r\n ```\r\n\r\nAfter searching the log, I found the command that goes wrong:\r\n\r\n```$ /home/myusername/.buildozer/android/platform/android-sdk/tools/bin/sdkmanager```\r\n\r\nOutput:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: /home/myusername/miniconda3/envs/APP/jre/lib/amd64/libnio.so: libnet.so: cannot open shared object file: No such file or directory\r\n\tat java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n\tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1937)\r\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1843)\r\n\tat java.lang.Runtime.loadLibrary0(Runtime.java:870)\r\n\tat java.lang.System.loadLibrary(System.java:1122)\r\n\tat sun.nio.fs.UnixNativeDispatcher$1.run(UnixNativeDispatcher.java:573)\r\n\tat sun.nio.fs.UnixNativeDispatcher$1.run(UnixNativeDispatcher.java:571)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.nio.fs.UnixNativeDispatcher.&lt;clinit&gt;(UnixNativeDispatcher.java:571)\r\n\tat sun.nio.fs.UnixFileSystem.&lt;init&gt;(UnixFileSystem.java:67)\r\n\tat sun.nio.fs.LinuxFileSystem.&lt;init&gt;(LinuxFileSystem.java:39)\r\n\tat sun.nio.fs.LinuxFileSystemProvider.newFileSystem(LinuxFileSystemProvider.java:46)\r\n\tat sun.nio.fs.LinuxFileSystemProvider.newFileSystem(LinuxFileSystemProvider.java:39)\r\n\tat sun.nio.fs.UnixFileSystemProvider.&lt;init&gt;(UnixFileSystemProvider.java:56)\r\n\tat sun.nio.fs.LinuxFileSystemProvider.&lt;init&gt;(LinuxFileSystemProvider.java:41)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\r\n\tat java.lang.Class.newInstance(Class.java:442)\r\n\tat sun.nio.fs.DefaultFileSystemProvider.createProvider(DefaultFileSystemProvider.java:48)\r\n\tat sun.nio.fs.DefaultFileSystemProvider.create(DefaultFileSystemProvider.java:63)\r\n\tat java.nio.file.FileSystems$DefaultFileSystemHolder.getDefaultProvider(FileSystems.java:108)\r\n\tat java.nio.file.FileSystems$DefaultFileSystemHolder.access$000(FileSystems.java:89)\r\n\tat java.nio.file.FileSystems$DefaultFileSystemHolder$1.run(FileSystems.java:98)\r\n\tat java.nio.file.FileSystems$DefaultFileSystemHolder$1.run(FileSystems.java:96)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.nio.file.FileSystems$DefaultFileSystemHolder.defaultFileSystem(FileSystems.java:96)\r\n\tat java.nio.file.FileSystems$DefaultFileSystemHolder.&lt;clinit&gt;(FileSystems.java:90)\r\n\tat java.nio.file.FileSystems.getDefault(FileSystems.java:176)\r\n\tat com.android.repository.io.impl.FileOpImpl.getFileSystem(FileOpImpl.java:37)\r\n\tat com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:57)\r\n\tat com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)\r\n```\r\n\r\nI have checked and both these mentioned files exist:\r\n\r\n``` \r\n/home/myusername/miniconda3/envs/APP/jre/lib/amd64/libnio.so\r\n/home/myusername/miniconda3/envs/APP/jre/lib/amd64/libnet.so\r\n```\r\n\r\nDoes anyone know what I could do?","title":"Error building kivy app for android with buildozer","body":"<p>I am fairly new to Kivy and app development in general. I made a simple app and wanted to try creating an apk file using buildozer. I ran the following command:</p>\n<p><code>$ buildozer android debug</code></p>\n<p>I get a log that ends with:</p>\n<pre><code># Buildozer failed to execute the last command\n# The error might be hidden in the log above this error\n# Please read the full log, and search for it before\n# raising an issue with buildozer itself.\n# In case of a bug report, please add a full log with log_level = 2\n</code></pre>\n<p>After searching the log, I found the command that goes wrong:</p>\n<p><code>$ /home/myusername/.buildozer/android/platform/android-sdk/tools/bin/sdkmanager</code></p>\n<p>Output:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: /home/myusername/miniconda3/envs/APP/jre/lib/amd64/libnio.so: libnet.so: cannot open shared object file: No such file or directory\n    at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1937)\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1843)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:870)\n    at java.lang.System.loadLibrary(System.java:1122)\n    at sun.nio.fs.UnixNativeDispatcher$1.run(UnixNativeDispatcher.java:573)\n    at sun.nio.fs.UnixNativeDispatcher$1.run(UnixNativeDispatcher.java:571)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.nio.fs.UnixNativeDispatcher.&lt;clinit&gt;(UnixNativeDispatcher.java:571)\n    at sun.nio.fs.UnixFileSystem.&lt;init&gt;(UnixFileSystem.java:67)\n    at sun.nio.fs.LinuxFileSystem.&lt;init&gt;(LinuxFileSystem.java:39)\n    at sun.nio.fs.LinuxFileSystemProvider.newFileSystem(LinuxFileSystemProvider.java:46)\n    at sun.nio.fs.LinuxFileSystemProvider.newFileSystem(LinuxFileSystemProvider.java:39)\n    at sun.nio.fs.UnixFileSystemProvider.&lt;init&gt;(UnixFileSystemProvider.java:56)\n    at sun.nio.fs.LinuxFileSystemProvider.&lt;init&gt;(LinuxFileSystemProvider.java:41)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n    at java.lang.Class.newInstance(Class.java:442)\n    at sun.nio.fs.DefaultFileSystemProvider.createProvider(DefaultFileSystemProvider.java:48)\n    at sun.nio.fs.DefaultFileSystemProvider.create(DefaultFileSystemProvider.java:63)\n    at java.nio.file.FileSystems$DefaultFileSystemHolder.getDefaultProvider(FileSystems.java:108)\n    at java.nio.file.FileSystems$DefaultFileSystemHolder.access$000(FileSystems.java:89)\n    at java.nio.file.FileSystems$DefaultFileSystemHolder$1.run(FileSystems.java:98)\n    at java.nio.file.FileSystems$DefaultFileSystemHolder$1.run(FileSystems.java:96)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.nio.file.FileSystems$DefaultFileSystemHolder.defaultFileSystem(FileSystems.java:96)\n    at java.nio.file.FileSystems$DefaultFileSystemHolder.&lt;clinit&gt;(FileSystems.java:90)\n    at java.nio.file.FileSystems.getDefault(FileSystems.java:176)\n    at com.android.repository.io.impl.FileOpImpl.getFileSystem(FileOpImpl.java:37)\n    at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:57)\n    at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)\n</code></pre>\n<p>I have checked and both these mentioned files exist:</p>\n<pre><code>/home/myusername/miniconda3/envs/APP/jre/lib/amd64/libnio.so\n/home/myusername/miniconda3/envs/APP/jre/lib/amd64/libnet.so\n</code></pre>\n<p>Does anyone know what I could do?</p>\n"},{"tags":["java","binary-search-tree","tostring","hashcode"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1651338337,"post_id":72070507,"comment_id":127343429,"body_markdown":"[`Object::toString`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()) does not take any parameters. Hence, we are not overriding `Object::toString` in the code presented.","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\"><code>Object::toString</code></a> does not take any parameters. Hence, we are not overriding <code>Object::toString</code> in the code presented."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651341447,"post_id":72070507,"comment_id":127344007,"body_markdown":"Learn to use the annotation `@Override`. It will prevent you making that error again elsewhere.","body":"Learn to use the annotation <code>@Override</code>. It will prevent you making that error again elsewhere."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651338778,"creation_date":1651338778,"answer_id":72070563,"question_id":72070507,"body_markdown":"You have to write a method with the exact signature `public String toString()` in `BTNode`.\r\n\r\nWriting `public String toString(BTNode&lt;N&gt;)` accomplishes nothing.","title":"Binary Tree toString prints hashcode even after override","body":"<p>You have to write a method with the exact signature <code>public String toString()</code> in <code>BTNode</code>.</p>\n<p>Writing <code>public String toString(BTNode&lt;N&gt;)</code> accomplishes nothing.</p>\n"}],"owner":{"account_id":24817189,"reputation":21,"user_id":18697905,"display_name":"Dae"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72070563,"answer_count":1,"score":1,"last_activity_date":1651342840,"creation_date":1651338249,"question_id":72070507,"body_markdown":"I made a program that inserts characters (letters) into a binary search tree. I am not encountering any errors but when I call the toString method, it only **prints a part of the output with the hashcode of** ```ht=10 [K=G R=BTNode@5b6f7412]```. I might have overlooked something so it would be greatly appreciated if you could help me out. Thanks!\r\n\r\n**Expected Output** *(not the exact output but in this format)*\r\n```ht=2 [K=A L=[K=B R=[K=C]] R=[K=D L=[K=E]]] ``` \r\n\r\n**toString method**\r\n``` \r\npublic String toString()\r\n\t{\r\n\t\tString s = &quot;&quot;;\r\n\t\tBTNode&lt;T&gt; n = root;\r\n\t\t\r\n\t\tif (n == null)\r\n\t\t{\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t\t\r\n\t\tif (n != null) \r\n\t\t{\r\n\t\t\ts = &quot;ht=&quot; + height + &quot; [K=&quot; + n.info;\r\n\t\t\t\r\n\t\t\tif (n.left != null)\r\n\t\t\t{\r\n\t\t\t\ts = s + &quot; L=&quot; + n.left.toString() + &quot;]&quot;; \r\n\t\t\t}\r\n\t\t\tif (n.right != null)\r\n\t\t\t{\r\n\t\t\t\ts = s + &quot; R=&quot; + n.right.toString() + &quot;]&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn s;\r\n\t}\r\n``` \r\n**Main Class**\r\n``` \r\npublic static void main(String args[]) \r\n\t{\r\n\t\tBST&lt;Character&gt; bst = new BST&lt;&gt;(); // instantiate BST object\r\n\t\t\r\n\t\t// insert values to bst\r\n\t\tbst.insert(&#39;A&#39;);\r\n\t\tbst.insert(&#39;B&#39;);\r\n\t\tbst.insert(&#39;C&#39;);\r\n\t\tbst.insert(&#39;D&#39;);\r\n\t\tbst.insert(&#39;E&#39;);\r\n\t\tbst.insert(&#39;F&#39;);\r\n\t\t\r\n\t\t// print bst1\r\n\t\tSystem.out.println(bst.toString());\r\n\t}\r\n\r\n``` ","title":"Binary Tree toString prints hashcode even after override","body":"<p>I made a program that inserts characters (letters) into a binary search tree. I am not encountering any errors but when I call the toString method, it only <strong>prints a part of the output with the hashcode of</strong> <code>ht=10 [K=G R=BTNode@5b6f7412]</code>. I might have overlooked something so it would be greatly appreciated if you could help me out. Thanks!</p>\n<p><strong>Expected Output</strong> <em>(not the exact output but in this format)</em>\n<code>ht=2 [K=A L=[K=B R=[K=C]] R=[K=D L=[K=E]]] </code></p>\n<p><strong>toString method</strong></p>\n<pre><code>public String toString()\n    {\n        String s = &quot;&quot;;\n        BTNode&lt;T&gt; n = root;\n        \n        if (n == null)\n        {\n            return &quot;&quot;;\n        }\n        \n        if (n != null) \n        {\n            s = &quot;ht=&quot; + height + &quot; [K=&quot; + n.info;\n            \n            if (n.left != null)\n            {\n                s = s + &quot; L=&quot; + n.left.toString() + &quot;]&quot;; \n            }\n            if (n.right != null)\n            {\n                s = s + &quot; R=&quot; + n.right.toString() + &quot;]&quot;;\n            }\n        }\n        return s;\n    }\n</code></pre>\n<p><strong>Main Class</strong></p>\n<pre><code>public static void main(String args[]) \n    {\n        BST&lt;Character&gt; bst = new BST&lt;&gt;(); // instantiate BST object\n        \n        // insert values to bst\n        bst.insert('A');\n        bst.insert('B');\n        bst.insert('C');\n        bst.insert('D');\n        bst.insert('E');\n        bst.insert('F');\n        \n        // print bst1\n        System.out.println(bst.toString());\n    }\n\n</code></pre>\n"},{"tags":["java","lwjgl"],"comments":[{"owner":{"account_id":395876,"reputation":5004,"user_id":759064,"accept_rate":86,"display_name":"izstas"},"score":0,"creation_date":1403804479,"post_id":24435853,"comment_id":37810513,"body_markdown":"`System.out.println(Display.isCloseRequested());` - did you put this for troubleshooting? Subsequent call to `Display.isCloseRequested()` will (almost) always return false.","body":"<code>System.out.println(Display.isCloseRequested());</code> - did you put this for troubleshooting? Subsequent call to <code>Display.isCloseRequested()</code> will (almost) always return false."}],"answers":[{"tags":[],"owner":{"account_id":2171627,"reputation":53,"user_id":1923463,"display_name":"Lambach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405878908,"creation_date":1405877408,"answer_id":24853079,"question_id":24435853,"body_markdown":"\r\n\r\nDid some simple tutorials like &lt;http://ninjacave.com/lwjglbasics1&gt; produce similar faulty behavior?\r\n\r\nImportant: i think there is also an reset of an intern Event which id caused through press the x Button, if you call the isCloseRequested twice.\r\n\r\nSo try to save the event and removed the syso-Line","title":"Java Display.isCloseRequested() will not show true","body":"<p>Did some simple tutorials like <a href=\"http://ninjacave.com/lwjglbasics1\" rel=\"nofollow\">http://ninjacave.com/lwjglbasics1</a> produce similar faulty behavior?</p>\n\n<p>Important: i think there is also an reset of an intern Event which id caused through press the x Button, if you call the isCloseRequested twice.</p>\n\n<p>So try to save the event and removed the syso-Line</p>\n"},{"tags":[],"owner":{"account_id":16651827,"reputation":502,"user_id":12034466,"display_name":"qraqatit"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651342264,"creation_date":1651342264,"answer_id":72070992,"question_id":24435853,"body_markdown":"Is your aim to simply stop the `render()` process when the app window is closed?\r\n\r\nIf so, just add this to your main `JFrame` definition:\r\n\r\n    //replace frame with your main JFrame containing the X close button\r\n    frame.addWindowListener(new WindowAdapter() {\r\n        @Override\r\n        public void windowClosing(WindowEvent we) {\r\n            isRunning = false;\r\n            frame.setVisible(false);\r\n            frame.dispose();\r\n        }\r\n    });\r\n\r\n...and change your 2nd code to this:\r\n\r\n    private void run(){\r\n        isRunning = true;\r\n        while(isRunning){\r\n            render();\r\n        }\r\n    }\r\n\r\nThis way when you close your app main window the value of variable `isRunning` is changed to `false` and your `while()` loop will end terminating your `render()`.\r\n\r\nIn fact, I was dealing today exactly with this problem myself. I hit your post prior the solvement of my problem, but once I did solved it, I return here to post my solution (or at least the way it worked for me).\r\n\r\nSurely, you have to make the same `isRunning` variable be available to both.\r\n\r\nIn fact I too never found out why that `isCloseRequested()` never change to `false` after I closed my app. Nevermind, this is my workaorund - hope it will work for you too.","title":"Java Display.isCloseRequested() will not show true","body":"<p>Is your aim to simply stop the <code>render()</code> process when the app window is closed?</p>\n<p>If so, just add this to your main <code>JFrame</code> definition:</p>\n<pre><code>//replace frame with your main JFrame containing the X close button\nframe.addWindowListener(new WindowAdapter() {\n    @Override\n    public void windowClosing(WindowEvent we) {\n        isRunning = false;\n        frame.setVisible(false);\n        frame.dispose();\n    }\n});\n</code></pre>\n<p>...and change your 2nd code to this:</p>\n<pre><code>private void run(){\n    isRunning = true;\n    while(isRunning){\n        render();\n    }\n}\n</code></pre>\n<p>This way when you close your app main window the value of variable <code>isRunning</code> is changed to <code>false</code> and your <code>while()</code> loop will end terminating your <code>render()</code>.</p>\n<p>In fact, I was dealing today exactly with this problem myself. I hit your post prior the solvement of my problem, but once I did solved it, I return here to post my solution (or at least the way it worked for me).</p>\n<p>Surely, you have to make the same <code>isRunning</code> variable be available to both.</p>\n<p>In fact I too never found out why that <code>isCloseRequested()</code> never change to <code>false</code> after I closed my app. Nevermind, this is my workaorund - hope it will work for you too.</p>\n"}],"owner":{"account_id":4667512,"reputation":11,"user_id":3780219,"display_name":"user3780219"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651342264,"creation_date":1403800524,"question_id":24435853,"body_markdown":"I&#39;ve just started using LWJGL and so this is an incredibly basic problem to run into but I&#39;ve scoured the internet and can think of no solution. Also probably pertinent: I&#39;m on a Mac.\r\n\r\nEven when I press the x button, the method Display.isCloseRequested() refuses to return true. Below is the code for my entire &quot;window&quot; class, which is basically a shell for the display object.\r\n\r\n    import org.lwjgl.LWJGLException;\r\n    import org.lwjgl.opengl.*;\r\n    \r\n    \r\n    public class Window {\r\n    \tpublic static void createWindow(int width, int height, String title){\r\n    \t\tDisplay.setTitle(title);\r\n    \t\ttry {\r\n    \t\t\tDisplay.setDisplayMode(new DisplayMode(width,height));\r\n    \t\t\tDisplay.create();\r\n    \t\t} catch (LWJGLException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\t\r\n    \t}\r\n    \tpublic static void render(){\r\n    \t\tDisplay.update();\r\n    \t}\r\n    \tpublic static boolean isCloseRequested(){\r\n    \t\tSystem.out.println(Display.isCloseRequested());\r\n    \t\treturn Display.isCloseRequested();\r\n    \t}\r\n    \tpublic static int getWidth(){\r\n    \t\treturn Display.getDisplayMode().getWidth();\r\n    \t}\r\n    \tpublic static int getHeight(){\r\n    \t\treturn Display.getDisplayMode().getHeight();\r\n    \t}\r\n    \tpublic static String getTitle(){\r\n    \t\treturn Display.getTitle();\r\n    \t}\r\n    }\r\n\r\nThis class is being referenced by a method in a main class, that looks like this:\r\n\r\n    private void run(){\r\n    \t\tisRunning = true;\r\n    \t\twhile(isRunning){\r\n    \t\t\tif (Window.isCloseRequested())\r\n    \t\t\t\tstop();\r\n    \t\t\trender();\r\n    \t\t}\r\n    \t}\r\n\r\nThe stop method is never being run, even when I click the x-button.","title":"Java Display.isCloseRequested() will not show true","body":"<p>I've just started using LWJGL and so this is an incredibly basic problem to run into but I've scoured the internet and can think of no solution. Also probably pertinent: I'm on a Mac.</p>\n\n<p>Even when I press the x button, the method Display.isCloseRequested() refuses to return true. Below is the code for my entire \"window\" class, which is basically a shell for the display object.</p>\n\n<pre><code>import org.lwjgl.LWJGLException;\nimport org.lwjgl.opengl.*;\n\n\npublic class Window {\n    public static void createWindow(int width, int height, String title){\n        Display.setTitle(title);\n        try {\n            Display.setDisplayMode(new DisplayMode(width,height));\n            Display.create();\n        } catch (LWJGLException e) {\n            e.printStackTrace();\n        }   \n    }\n    public static void render(){\n        Display.update();\n    }\n    public static boolean isCloseRequested(){\n        System.out.println(Display.isCloseRequested());\n        return Display.isCloseRequested();\n    }\n    public static int getWidth(){\n        return Display.getDisplayMode().getWidth();\n    }\n    public static int getHeight(){\n        return Display.getDisplayMode().getHeight();\n    }\n    public static String getTitle(){\n        return Display.getTitle();\n    }\n}\n</code></pre>\n\n<p>This class is being referenced by a method in a main class, that looks like this:</p>\n\n<pre><code>private void run(){\n        isRunning = true;\n        while(isRunning){\n            if (Window.isCloseRequested())\n                stop();\n            render();\n        }\n    }\n</code></pre>\n\n<p>The stop method is never being run, even when I click the x-button.</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":112952,"reputation":73174,"user_id":297762,"accept_rate":87,"display_name":"Robby Pond"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1273612579,"creation_date":1269521207,"answer_id":2515533,"question_id":2513031,"body_markdown":"Doesn&#39;t need to.  RequestMapping annotation supports wildcards and ant-style paths.  Also looks like you just want a default view, so you can put \r\n\r\n    &lt;mvc:view-controller path=&quot;/&quot; view-name=&quot;welcome&quot;/&gt;\r\n\r\nin your config file.  That will forward all requests to the Root to the welcome view.","title":"How to use multiple @RequestMapping annotations in spring?","body":"<p>Doesn't need to.  RequestMapping annotation supports wildcards and ant-style paths.  Also looks like you just want a default view, so you can put </p>\n\n<pre><code>&lt;mvc:view-controller path=\"/\" view-name=\"welcome\"/&gt;\n</code></pre>\n\n<p>in your config file.  That will forward all requests to the Root to the welcome view.</p>\n"},{"tags":[],"owner":{"account_id":12892,"reputation":7721,"user_id":25625,"accept_rate":83,"display_name":"Ed Brannin"},"down_vote_count":0,"up_vote_count":527,"is_accepted":true,"score":527,"last_activity_date":1651340893,"creation_date":1273612118,"answer_id":2814463,"question_id":2513031,"body_markdown":"`@RequestMapping` has a &lt;code&gt;String[]&lt;/code&gt; value parameter, so you should be able to specify multiple values like this:\r\n\r\n```java\r\n@RequestMapping(value={&quot;&quot;, &quot;/&quot;, &quot;welcome&quot;})\r\n```","title":"How to use multiple @RequestMapping annotations in spring?","body":"<p><code>@RequestMapping</code> has a <code>String[]</code> value parameter, so you should be able to specify multiple values like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value={&quot;&quot;, &quot;/&quot;, &quot;welcome&quot;})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216381,"reputation":387,"user_id":471604,"display_name":"Alan Zhong"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1300375094,"creation_date":1288693796,"answer_id":4076798,"question_id":2513031,"body_markdown":"From my test (spring 3.0.5), `@RequestMapping(value={&quot;&quot;, &quot;/&quot;})`  - only `&quot;/&quot;` works, `&quot;&quot;` does not. However I found out this works: `@RequestMapping(value={&quot;/&quot;, &quot; * &quot;})`, the `&quot; * &quot;` matches anything, so it will be the default handler in case no others. ","title":"How to use multiple @RequestMapping annotations in spring?","body":"<p>From my test (spring 3.0.5), <code>@RequestMapping(value={\"\", \"/\"})</code>  - only <code>\"/\"</code> works, <code>\"\"</code> does not. However I found out this works: <code>@RequestMapping(value={\"/\", \" * \"})</code>, the <code>\" * \"</code> matches anything, so it will be the default handler in case no others. </p>\n"},{"tags":[],"owner":{"account_id":13786274,"reputation":358,"user_id":9950085,"display_name":"Falcon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576884188,"creation_date":1545950769,"answer_id":53951666,"question_id":2513031,"body_markdown":"Right now with using Spring-Boot 2.0.4 - { } won&#39;t work.\r\n\r\n    @RequestMapping\r\nstill has String[] as a value parameter, so declaration looks like this:\r\n\r\n     @RequestMapping(value=[&quot;/&quot;,&quot;/index&quot;,&quot;/login&quot;,&quot;/home&quot;], method = RequestMethod.GET)\r\n\r\n** Update - Works With Spring-Boot 2.2**\r\n\r\n     @RequestMapping(value={&quot;/&quot;,&quot;/index&quot;,&quot;/login&quot;,&quot;/home&quot;}, method = RequestMethod.GET)","title":"How to use multiple @RequestMapping annotations in spring?","body":"<p>Right now with using Spring-Boot 2.0.4 - { } won't work.</p>\n\n<pre><code>@RequestMapping\n</code></pre>\n\n<p>still has String[] as a value parameter, so declaration looks like this:</p>\n\n<pre><code> @RequestMapping(value=[\"/\",\"/index\",\"/login\",\"/home\"], method = RequestMethod.GET)\n</code></pre>\n\n<p>** Update - Works With Spring-Boot 2.2**</p>\n\n<pre><code> @RequestMapping(value={\"/\",\"/index\",\"/login\",\"/home\"}, method = RequestMethod.GET)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1421177,"reputation":413,"user_id":1345734,"accept_rate":75,"display_name":"CQLI"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1555482040,"creation_date":1555482040,"answer_id":55721106,"question_id":2513031,"body_markdown":"It&#39;s better to use PathVariable annotation if you still want to get the uri which was called.\r\n\r\n    @PostMapping(&quot;/pub/{action:a|b|c}&quot;)\r\n    public JSONObject handlexxx(@PathVariable String action, @RequestBody String reqStr){\r\n    ...\r\n    }\r\n\r\nor parse it from request object.","title":"How to use multiple @RequestMapping annotations in spring?","body":"<p>It's better to use PathVariable annotation if you still want to get the uri which was called.</p>\n\n<pre><code>@PostMapping(\"/pub/{action:a|b|c}\")\npublic JSONObject handlexxx(@PathVariable String action, @RequestBody String reqStr){\n...\n}\n</code></pre>\n\n<p>or parse it from request object.</p>\n"},{"tags":[],"owner":{"account_id":4439251,"reputation":1427,"user_id":3614215,"display_name":"Marco"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1567062830,"creation_date":1567062830,"answer_id":57704894,"question_id":2513031,"body_markdown":"The shortest way is: `@RequestMapping({&quot;&quot;, &quot;/&quot;, &quot;welcome&quot;})`\r\n\r\nAlthough you can also do:\r\n\r\n* `@RequestMapping(value={&quot;&quot;, &quot;/&quot;, &quot;welcome&quot;})`\r\n* `@RequestMapping(path={&quot;&quot;, &quot;/&quot;, &quot;welcome&quot;})`","title":"How to use multiple @RequestMapping annotations in spring?","body":"<p>The shortest way is: <code>@RequestMapping({\"\", \"/\", \"welcome\"})</code></p>\n\n<p>Although you can also do:</p>\n\n<ul>\n<li><code>@RequestMapping(value={\"\", \"/\", \"welcome\"})</code></li>\n<li><code>@RequestMapping(path={\"\", \"/\", \"welcome\"})</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1584567243,"creation_date":1584567243,"answer_id":60747805,"question_id":2513031,"body_markdown":"The following is acceptable as well:\r\n\r\n    @GetMapping(path = { &quot;/{pathVariable1}/{pathVariable1}/somePath&quot;, \r\n                         &quot;/fixedPath/{some-name}/{some-id}/fixed&quot; }, \r\n                produces = &quot;application/json&quot;)\r\n\r\nSame can be applied to `@RequestMapping` as well\r\n","title":"How to use multiple @RequestMapping annotations in spring?","body":"<p>The following is acceptable as well:</p>\n\n<pre><code>@GetMapping(path = { \"/{pathVariable1}/{pathVariable1}/somePath\", \n                     \"/fixedPath/{some-name}/{some-id}/fixed\" }, \n            produces = \"application/json\")\n</code></pre>\n\n<p>Same can be applied to <code>@RequestMapping</code> as well</p>\n"}],"owner":{"account_id":109922,"reputation":12250,"user_id":291059,"accept_rate":39,"display_name":"wuntee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221326,"favorite_count":0,"down_vote_count":1,"up_vote_count":303,"accepted_answer_id":2814463,"answer_count":7,"score":302,"last_activity_date":1651340893,"creation_date":1269490796,"question_id":2513031,"body_markdown":"Is it possible to use multiple `@RequestMapping` annotations over a method?  \r\n\r\nLike :\r\n\r\n    @RequestMapping(&quot;/&quot;)\r\n    @RequestMapping(&quot;&quot;)\r\n    @RequestMapping(&quot;/welcome&quot;)\r\n    public String welcomeHandler(){\r\n      return &quot;welcome&quot;;\r\n    }\r\n","title":"How to use multiple @RequestMapping annotations in spring?","body":"<p>Is it possible to use multiple <code>@RequestMapping</code> annotations over a method?  </p>\n\n<p>Like :</p>\n\n<pre><code>@RequestMapping(\"/\")\n@RequestMapping(\"\")\n@RequestMapping(\"/welcome\")\npublic String welcomeHandler(){\n  return \"welcome\";\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-batch","batch-processing","spring-batch-job-monitoring"],"answers":[{"tags":[],"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651339849,"creation_date":1651339849,"answer_id":72070691,"question_id":71038614,"body_markdown":"I had to eventually write a SQL query myself:\r\n\r\n    SELECT job_execution_id, start_time, end_time, status\r\n    FROM\r\n    batch_job_execution\r\n    WHERE\r\n    job_instance_id IN (SELECT job_instance_id FROM batch_job_instance WHERE job_name = :jobName)\r\n    AND \r\n    status = :status\r\n    ORDER BY job_execution_id DESC LIMIT 1;","title":"How to get the start_time of the last completed job in Spring Batch?","body":"<p>I had to eventually write a SQL query myself:</p>\n<pre><code>SELECT job_execution_id, start_time, end_time, status\nFROM\nbatch_job_execution\nWHERE\njob_instance_id IN (SELECT job_instance_id FROM batch_job_instance WHERE job_name = :jobName)\nAND \nstatus = :status\nORDER BY job_execution_id DESC LIMIT 1;\n</code></pre>\n"}],"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72070691,"answer_count":1,"score":0,"last_activity_date":1651339849,"creation_date":1644343095,"question_id":71038614,"body_markdown":"Suppose these are my job runs:\r\n\r\n```\r\njob_id | job_status\r\n-------------------\r\n1        COMPLETED\r\n2        COMPLETED\r\n3        FAILED\r\n4        COMPLETED\r\n5        FAILED\r\n```\r\n\r\nNow during the runtime of **job 6**, I want to find out the **start_time** of the *last successfully completed job* i.e. **job 4**\r\n\r\nHow can I get it?\r\n\r\nI tried using the `JobExplorer` API but it gives output based on input `count`\r\n\r\nThis will not work for me if there is a COMPLETED job followed by 10 FAILED jobs. I will not get the COMPLETED job then.\r\n\r\n```java\r\nList&lt;JobInstance&gt; jobInstances = jobExplorer.getJobInstances(&quot;myJob&quot;, 0, 10);\r\n\r\nOptional&lt;JobInstance&gt; lastCompletedJobInstance =\r\njobInstances.stream()\r\n            .filter(jobInstance -&gt; {\r\n                long instanceId = jobInstance.getInstanceId();\r\n                return BatchStatus.COMPLETED == jobExplorer.getJobExecution(instanceId).getStatus();\r\n             })\r\n            .findFirst();\r\n```\r\n\r\nThe reason why I need is because in my `ItemReader`, I want to fetch delta records from my database using a query similar to this:\r\n\r\n```sql\r\nSELECT * FROM items i WHERE i.created_at &gt;= :lastSuccessfulJobRun\r\n```\r\n\r\nI don&#39;t want to manually query Batch tables like `batch_job_execution`, `batch_job_execution_context` etc","title":"How to get the start_time of the last completed job in Spring Batch?","body":"<p>Suppose these are my job runs:</p>\n<pre><code>job_id | job_status\n-------------------\n1        COMPLETED\n2        COMPLETED\n3        FAILED\n4        COMPLETED\n5        FAILED\n</code></pre>\n<p>Now during the runtime of <strong>job 6</strong>, I want to find out the <strong>start_time</strong> of the <em>last successfully completed job</em> i.e. <strong>job 4</strong></p>\n<p>How can I get it?</p>\n<p>I tried using the <code>JobExplorer</code> API but it gives output based on input <code>count</code></p>\n<p>This will not work for me if there is a COMPLETED job followed by 10 FAILED jobs. I will not get the COMPLETED job then.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;JobInstance&gt; jobInstances = jobExplorer.getJobInstances(&quot;myJob&quot;, 0, 10);\n\nOptional&lt;JobInstance&gt; lastCompletedJobInstance =\njobInstances.stream()\n            .filter(jobInstance -&gt; {\n                long instanceId = jobInstance.getInstanceId();\n                return BatchStatus.COMPLETED == jobExplorer.getJobExecution(instanceId).getStatus();\n             })\n            .findFirst();\n</code></pre>\n<p>The reason why I need is because in my <code>ItemReader</code>, I want to fetch delta records from my database using a query similar to this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM items i WHERE i.created_at &gt;= :lastSuccessfulJobRun\n</code></pre>\n<p>I don't want to manually query Batch tables like <code>batch_job_execution</code>, <code>batch_job_execution_context</code> etc</p>\n"},{"tags":["java","string","reverse","codemirror"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1651336732,"post_id":72070282,"comment_id":127343097,"body_markdown":"If your expected output matches your actual output, what is your question? Also, `if (split[i].matches(&quot;\\\\d+&quot;)) {`","body":"If your expected output matches your actual output, what is your question? Also, <code>if (split[i].matches(&quot;\\\\d+&quot;)) {</code>"},{"owner":{"account_id":24902032,"reputation":29,"user_id":18772597,"display_name":"VMPandian"},"score":0,"creation_date":1651338687,"post_id":72070282,"comment_id":127343492,"body_markdown":"need alternate methods to perform same operation.","body":"need alternate methods to perform same operation."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651339590,"creation_date":1651339590,"answer_id":72070661,"question_id":72070282,"body_markdown":"Tokenize the input. I would prefer `\\\\s+` to start by splitting on *consecutive* whitespace. If it isn&#39;t the first token, emit a space. Use a *regular expression* to determine if the token is all digits (`\\\\d+`), if so emit it. Otherwise, emit the reverse token. After iterating all of the tokens print a newline. Like,\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString str = &quot;Testing 23 a 42 testing&quot;;\r\n\t\tString[] split = str.split(&quot;\\\\s+&quot;);\r\n\t\tfor (int i = 0; i &lt; split.length; i++) {\r\n\t\t\tif (i != 0) {\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tif (split[i].matches(&quot;\\\\d+&quot;)) {\r\n\t\t\t\tSystem.out.print(split[i]);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.print(new StringBuilder(split[i]).reverse());\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\nOutputs (as requested)\r\n\r\n    gnitseT 23 a 42 gnitset","title":"Reverse print only words in a given string ,number should not be reversed, i need alternate methods to perform the same","body":"<p>Tokenize the input. I would prefer <code>\\\\s+</code> to start by splitting on <em>consecutive</em> whitespace. If it isn't the first token, emit a space. Use a <em>regular expression</em> to determine if the token is all digits (<code>\\\\d+</code>), if so emit it. Otherwise, emit the reverse token. After iterating all of the tokens print a newline. Like,</p>\n<pre><code>public static void main(String[] args) {\n    String str = &quot;Testing 23 a 42 testing&quot;;\n    String[] split = str.split(&quot;\\\\s+&quot;);\n    for (int i = 0; i &lt; split.length; i++) {\n        if (i != 0) {\n            System.out.print(&quot; &quot;);\n        }\n        if (split[i].matches(&quot;\\\\d+&quot;)) {\n            System.out.print(split[i]);\n        } else {\n            System.out.print(new StringBuilder(split[i]).reverse());\n        }\n    }\n    System.out.println();\n}\n</code></pre>\n<p>Outputs (as requested)</p>\n<pre><code>gnitseT 23 a 42 gnitset\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12215167,"reputation":412,"user_id":8915836,"display_name":"mayamar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651339725,"creation_date":1651339725,"answer_id":72070680,"question_id":72070282,"body_markdown":"Use Java streams:\r\n\r\n\t\tString str = &quot;Testing 23 a 42 testing&quot;;\r\n\r\n\t\tSystem.out.println(Arrays.stream(str.split(&quot; &quot;)) //\r\n\t\t\t.map(s -&gt; s.matches(&quot;\\\\d+&quot;) ? s : new StringBuffer(s).reverse().toString()) //\r\n\t\t\t.collect(Collectors.joining(&quot; &quot;)));\r\n","title":"Reverse print only words in a given string ,number should not be reversed, i need alternate methods to perform the same","body":"<p>Use Java streams:</p>\n<pre><code>    String str = &quot;Testing 23 a 42 testing&quot;;\n\n    System.out.println(Arrays.stream(str.split(&quot; &quot;)) //\n        .map(s -&gt; s.matches(&quot;\\\\d+&quot;) ? s : new StringBuffer(s).reverse().toString()) //\n        .collect(Collectors.joining(&quot; &quot;)));\n</code></pre>\n"}],"owner":{"account_id":24902032,"reputation":29,"user_id":18772597,"display_name":"VMPandian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651339725,"creation_date":1651336550,"question_id":72070282,"body_markdown":"**Reverse print only words in a given string ,number should not be reversed**\r\n\r\n**Given String :** Testing 23 a 42 testing\r\n\r\n**Expected output :** gnitseT 23 a 42 gnitset\r\n\r\ni have used this Method \r\n\r\n\r\n```\r\n        public class ReverseString{\r\n        public static void main(String[]args){\r\n\r\n\t\tString str= &quot;Testing 23 a 42 testing&quot;;\r\n\t\tString[] split = str.split(&quot; &quot;);\r\n\t\tfor (int i = 0; i &lt; split.length; i++) {\r\n\t\t\ttry {\r\n\t\t\t\tInteger val = Integer.valueOf(split[i]);\r\n\t\t\t\tSystem.out.print(val);\t\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tfor(int j=split[i].length()-1;j&gt;=0;j--) {\r\n\t\t\t\t\tSystem.out.print(split[i].charAt(j));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tif(split.length-1&gt;i)System.out.print(&quot; &quot;);\r\n\t\t}\r\n    }\r\n}\r\n```\r\n\r\n**Output :**\r\ngnitseT 23 a 42 gnitset","title":"Reverse print only words in a given string ,number should not be reversed, i need alternate methods to perform the same","body":"<p><strong>Reverse print only words in a given string ,number should not be reversed</strong></p>\n<p><strong>Given String :</strong> Testing 23 a 42 testing</p>\n<p><strong>Expected output :</strong> gnitseT 23 a 42 gnitset</p>\n<p>i have used this Method</p>\n<pre><code>        public class ReverseString{\n        public static void main(String[]args){\n\n        String str= &quot;Testing 23 a 42 testing&quot;;\n        String[] split = str.split(&quot; &quot;);\n        for (int i = 0; i &lt; split.length; i++) {\n            try {\n                Integer val = Integer.valueOf(split[i]);\n                System.out.print(val);  \n            } catch (Exception e) {\n                for(int j=split[i].length()-1;j&gt;=0;j--) {\n                    System.out.print(split[i].charAt(j));\n                }\n            }\n        if(split.length-1&gt;i)System.out.print(&quot; &quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Output :</strong>\ngnitseT 23 a 42 gnitset</p>\n"},{"tags":["java","powershell","jvm"],"comments":[{"owner":{"account_id":17655708,"reputation":116,"user_id":12815357,"display_name":"Varun P"},"score":0,"creation_date":1651302597,"post_id":72066113,"comment_id":127336478,"body_markdown":"I am not sure exactly but your path to the package/classname is incorrect.","body":"I am not sure exactly but your path to the package/classname is incorrect."},{"owner":{"account_id":901910,"reputation":25,"user_id":5429512,"display_name":"Manuel Villanueva"},"score":0,"creation_date":1651302808,"post_id":72066113,"comment_id":127336516,"body_markdown":"i got it from the java documentation :S, do you have the correct one?","body":"i got it from the java documentation :S, do you have the correct one?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1651306122,"post_id":72066113,"comment_id":127337060,"body_markdown":"1) do not post text (only) as screenshot **&#185;** (I cannot read that error message); 2) try using the command prompt (*DOS box*), I suspect the PowerShell is *messing up* the arguments (e.g. misinterpreting `.`); 3) check documentation of PowerShell (if previous point helped) || **&#185;** [Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/q/285551/16320675)","body":"1) do not post text (only) as screenshot <b>&#185;</b> (I cannot read that error message); 2) try using the command prompt (<i>DOS box</i>), I suspect the PowerShell is <i>messing up</i> the arguments (e.g. misinterpreting <code>.</code>); 3) check documentation of PowerShell (if previous point helped) || <b>&#185;</b> <a href=\"https://meta.stackoverflow.com/q/285551/16320675\">Why should I not upload images of code/data/errors when asking a question?</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1651321011,"post_id":72066113,"comment_id":127339763,"body_markdown":"@user16320675  has advised what I would. If, for some reason, you *have* to use Powershell, try quoting the env vars, e.g. `&#39;-Dfoo=bar&#39;`","body":"@user16320675  has advised what I would. If, for some reason, you <i>have</i> to use Powershell, try quoting the env vars, e.g. <code>&#39;-Dfoo=bar&#39;</code>"},{"owner":{"account_id":901910,"reputation":25,"user_id":5429512,"display_name":"Manuel Villanueva"},"score":0,"creation_date":1651344055,"post_id":72066113,"comment_id":127344543,"body_markdown":"I have tried in cmd.exe but using: `Java -Djava.net.useSystemProxies=true -Dhttps.proxyHost=squid.domain.com -Dhttps.proxyPort=3128 -Dhttp.proxyHost=squid.domain.com -Dhttp.proxyPort=3128` but i get the list of the available parameters for java.\n\nin powershell i tried quoting the env vars and I also get the parameter list available for java.","body":"I have tried in cmd.exe but using: <code>Java -Djava.net.useSystemProxies=true -Dhttps.proxyHost=squid.domain.com -Dhttps.proxyPort=3128 -Dhttp.proxyHost=squid.domain.com -Dhttp.proxyPort=3128</code> but i get the list of the available parameters for java.  in powershell i tried quoting the env vars and I also get the parameter list available for java."},{"owner":{"account_id":901910,"reputation":25,"user_id":5429512,"display_name":"Manuel Villanueva"},"score":0,"creation_date":1651528672,"post_id":72066113,"comment_id":127381879,"body_markdown":"I dont have a main a class, what im trying to do its telling to the JVM to use a proxy for every connection that it does. according to documentations using the java cli its the way to do it, that why I dont have a class.","body":"I dont have a main a class, what im trying to do its telling to the JVM to use a proxy for every connection that it does. according to documentations using the java cli its the way to do it, that why I dont have a class."}],"owner":{"account_id":901910,"reputation":25,"user_id":5429512,"display_name":"Manuel Villanueva"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651339646,"creation_date":1651298745,"question_id":72066113,"body_markdown":"Hi everyone im trying to set the proxy for java but Im getting an error.\r\n\r\nim using powershell to run these commands:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nthis is the command im using for setting the proxy:\r\n\r\n```Java -Djava.net.useSystemProxies=true -Dhttps.proxyHost=squid.domain.com -Dhttps.proxyPort=3128 -Dhttp.proxyHost=squid.domain.com -Dhttp.proxyPort=3128```\r\n\r\nbut I get this error: \r\n[![enter image description here][2]][2]\r\n\r\nError: Could not find or load main class .net.useSystemProxies=true\r\n\r\nI was following this guide it dosent work for me https://stackoverflow.com/questions/120797/how-do-i-set-the-proxy-to-be-used-by-the-jvm\r\n\r\nDo im missing something? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x8ViW.png\r\n  [2]: https://i.stack.imgur.com/hrCAs.png","title":"How do I set the proxy to be used by java","body":"<p>Hi everyone im trying to set the proxy for java but Im getting an error.</p>\n<p>im using powershell to run these commands:</p>\n<p><a href=\"https://i.stack.imgur.com/x8ViW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x8ViW.png\" alt=\"enter image description here\" /></a></p>\n<p>this is the command im using for setting the proxy:</p>\n<p><code>Java -Djava.net.useSystemProxies=true -Dhttps.proxyHost=squid.domain.com -Dhttps.proxyPort=3128 -Dhttp.proxyHost=squid.domain.com -Dhttp.proxyPort=3128</code></p>\n<p>but I get this error:\n<a href=\"https://i.stack.imgur.com/hrCAs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hrCAs.png\" alt=\"enter image description here\" /></a></p>\n<p>Error: Could not find or load main class .net.useSystemProxies=true</p>\n<p>I was following this guide it dosent work for me <a href=\"https://stackoverflow.com/questions/120797/how-do-i-set-the-proxy-to-be-used-by-the-jvm\">How do I set the proxy to be used by the JVM</a></p>\n<p>Do im missing something?</p>\n"},{"tags":["java","spring-boot","servlets","jax-rs"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1651355668,"post_id":72070657,"comment_id":127346512,"body_markdown":"The application path can be configured in your application.properties using spring.jersey.application-path. Is that what you were looking for?","body":"The application path can be configured in your application.properties using spring.jersey.application-path. Is that what you were looking for?"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1651356832,"post_id":72070657,"comment_id":127346708,"body_markdown":"No. the @ApplicationPath annotation already does that. What we need is the ability to define aliases of that. I need to do something like what JerseyServletContainerInitializer does, but augmenting the servlet, not creating it, and of course I have to ensure that my initializer runs after the other one.","body":"No. the @ApplicationPath annotation already does that. What we need is the ability to define aliases of that. I need to do something like what JerseyServletContainerInitializer does, but augmenting the servlet, not creating it, and of course I have to ensure that my initializer runs after the other one."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1651363459,"post_id":72070657,"comment_id":127347544,"body_markdown":"Can you [use a ServletContainerProvider](https://github.com/psamsotha/jersey-web-initializer)?","body":"Can you <a href=\"https://github.com/psamsotha/jersey-web-initializer\" rel=\"nofollow noreferrer\">use a ServletContainerProvider</a>?"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1651372585,"post_id":72070657,"comment_id":127348460,"body_markdown":"I have no idea. Can you give me a little more than just a link to a class?","body":"I have no idea. Can you give me a little more than just a link to a class?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1651383495,"post_id":72070657,"comment_id":127349454,"body_markdown":"It&#39;s more than just a link to a class. It&#39;s a whole poc repo on how to use it.","body":"It&#39;s more than just a link to a class. It&#39;s a whole poc repo on how to use it."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1651418298,"post_id":72070657,"comment_id":127355604,"body_markdown":"So to be clear, you are suggesting that I can use this IN ADDITION to the existing SpringBoot and Jersey ContainerInitializer class, and the execution order of these won&#39;t matter, and it will just work?","body":"So to be clear, you are suggesting that I can use this IN ADDITION to the existing SpringBoot and Jersey ContainerInitializer class, and the execution order of these won&#39;t matter, and it will just work?"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1651428662,"post_id":72070657,"comment_id":127358129,"body_markdown":"Curiously, I tried running my service in the debugger, setting breakpoints in the various classes implementing ServletContainerInitializer, and it only stopped in TomcatStarter.  It didn&#39;t stop in SpringBootServletInitializer or JerseyServletContainerInitializer. That is perplexing.","body":"Curiously, I tried running my service in the debugger, setting breakpoints in the various classes implementing ServletContainerInitializer, and it only stopped in TomcatStarter.  It didn&#39;t stop in SpringBootServletInitializer or JerseyServletContainerInitializer. That is perplexing."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1651468122,"post_id":72070657,"comment_id":127363868,"body_markdown":"Oh wait nevermind. There JerseyServletContainerInitializaer is not used with an embedded server. I totally forgot. Everything is set up in the Spring Boot JerseyAutoConfiguration. Really, you could just override the the behavior of the JerseyAutoConfiguration and just create your own Jersey servlet. Just look at the source code of the JerseyAutoConfiguration. To disable it, you could simply just not annotate the ResourceConfig with `@Component` or `@Configuration`.","body":"Oh wait nevermind. There JerseyServletContainerInitializaer is not used with an embedded server. I totally forgot. Everything is set up in the Spring Boot JerseyAutoConfiguration. Really, you could just override the the behavior of the JerseyAutoConfiguration and just create your own Jersey servlet. Just look at the source code of the JerseyAutoConfiguration. To disable it, you could simply just not annotate the ResourceConfig with <code>@Component</code> or <code>@Configuration</code>."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1651498450,"post_id":72070657,"comment_id":127371961,"body_markdown":"Here&#39;s an example https://stackoverflow.com/a/35496771/2587435","body":"Here&#39;s an example <a href=\"https://stackoverflow.com/a/35496771/2587435\">stackoverflow.com/a/35496771/2587435</a>"}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651339583,"creation_date":1651339583,"question_id":72070657,"body_markdown":"We have a bunch of SpringBoot applications, all presently using Jersey (JAX-RS) to provide REST services.\r\n\r\nAll of them have an &quot;Application&quot; class that extends `SpringBootServletInitializer` and with a `@SpringBootApplication` annotation.\r\n\r\nThey all have a class that extends `org.glassfish.jersey.server.ResourceConfig` where the constructor has some &quot;`register()`&quot; calls to register jax-rs controllers.  This class also has an `@ApplicationPath` annotation that specifies the url path added to the context-path that all of its controllers listen on.\r\n\r\nWe have a situation where we would like to define &quot;aliases&quot; for the value provided to &quot;`@ApplicationPath`&quot;.  I&#39;m looking for ways to implement this.  I note that the javadoc for `ApplicationPath` says this:\r\n\r\n&gt; When published in a Servlet container, the value of the application\r\n&gt; path may be overridden using a servlet-mapping element in the web.xml.\r\n\r\nNow that says &quot;overridden&quot;, which may or may not be what I want.  I also note that if I had a plain web.xml, I believe I can have multiple servlet-mapping elements pointing to the same servlet.  Does that map both paths?  With a conventional SpringBoot app, I don&#39;t have a web.xml, so I&#39;m not sure if that helps me.\r\n\r\nI note that when I inspect `org.springframework.boot.web.servlet.support.SpringBootServletInitializer`, I see there is code that appear to be manipulating objects that seem like they are analogs of what is defined in the web.xml, so perhaps there&#39;s something I can do with that api to add an additional servlet mapping?","title":"How to make a spring-boot Jersey application have an alias for the @ApplicationPath value?","body":"<p>We have a bunch of SpringBoot applications, all presently using Jersey (JAX-RS) to provide REST services.</p>\n<p>All of them have an &quot;Application&quot; class that extends <code>SpringBootServletInitializer</code> and with a <code>@SpringBootApplication</code> annotation.</p>\n<p>They all have a class that extends <code>org.glassfish.jersey.server.ResourceConfig</code> where the constructor has some &quot;<code>register()</code>&quot; calls to register jax-rs controllers.  This class also has an <code>@ApplicationPath</code> annotation that specifies the url path added to the context-path that all of its controllers listen on.</p>\n<p>We have a situation where we would like to define &quot;aliases&quot; for the value provided to &quot;<code>@ApplicationPath</code>&quot;.  I'm looking for ways to implement this.  I note that the javadoc for <code>ApplicationPath</code> says this:</p>\n<blockquote>\n<p>When published in a Servlet container, the value of the application\npath may be overridden using a servlet-mapping element in the web.xml.</p>\n</blockquote>\n<p>Now that says &quot;overridden&quot;, which may or may not be what I want.  I also note that if I had a plain web.xml, I believe I can have multiple servlet-mapping elements pointing to the same servlet.  Does that map both paths?  With a conventional SpringBoot app, I don't have a web.xml, so I'm not sure if that helps me.</p>\n<p>I note that when I inspect <code>org.springframework.boot.web.servlet.support.SpringBootServletInitializer</code>, I see there is code that appear to be manipulating objects that seem like they are analogs of what is defined in the web.xml, so perhaps there's something I can do with that api to add an additional servlet mapping?</p>\n"},{"tags":["java","graphml"],"comments":[{"owner":{"account_id":4819536,"reputation":785,"user_id":3890577,"accept_rate":67,"display_name":"Twi"},"score":0,"creation_date":1473445975,"post_id":23349428,"comment_id":66160322,"body_markdown":"Have you found a solution? I trying to find a Java library where I can create graphs then I export to graphml.","body":"Have you found a solution? I trying to find a Java library where I can create graphs then I export to graphml."},{"owner":{"account_id":6321202,"reputation":133,"user_id":4909204,"accept_rate":100,"display_name":"TheAppService"},"score":0,"creation_date":1651396767,"post_id":23349428,"comment_id":127351247,"body_markdown":"It should work with JgraphT with the code sketch in the question, it just needs some improvements.\nFor examples and hints:\nhttps://github.com/Systemdir/GML-Writer-for-yED\nhttps://daniel-ebert.github.io/jgrapht-graph-exporting-examples/","body":"It should work with JgraphT with the code sketch in the question, it just needs some improvements. For examples and hints: <a href=\"https://github.com/Systemdir/GML-Writer-for-yED\" rel=\"nofollow noreferrer\">github.com/Systemdir/GML-Writer-for-yED</a> <a href=\"https://daniel-ebert.github.io/jgrapht-graph-exporting-examples/\" rel=\"nofollow noreferrer\">daniel-ebert.github.io/jgrapht-graph-exporting-examples</a>"}],"answers":[{"tags":[],"owner":{"account_id":3507984,"reputation":526,"user_id":3574172,"display_name":"commesan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1398756208,"creation_date":1398756208,"answer_id":23358152,"question_id":23349428,"body_markdown":"I don&#39;t know if this fits your use case, but I use [neo4j][1] for creating a graph and then use the  [neo4j-shell-tools][2] to export the graph as graphml. Perhaps this will work for you.\r\n\r\n\r\n  [1]: http://www.neo4j.org\r\n  [2]: https://github.com/jexp/neo4j-shell-tools","title":"How to generate a graphml file in Java. Gephi, JGraph, Prefuse, etc","body":"<p>I don't know if this fits your use case, but I use <a href=\"http://www.neo4j.org\" rel=\"nofollow\">neo4j</a> for creating a graph and then use the  <a href=\"https://github.com/jexp/neo4j-shell-tools\" rel=\"nofollow\">neo4j-shell-tools</a> to export the graph as graphml. Perhaps this will work for you.</p>\n"},{"tags":[],"owner":{"account_id":1049970,"reputation":5637,"user_id":1054154,"accept_rate":50,"display_name":"tozCSS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418075638,"creation_date":1418075638,"answer_id":27367690,"question_id":23349428,"body_markdown":"Just replace every occurrence of `GmlExporter` with `GraphMLExporter` in your code. That should work.","title":"How to generate a graphml file in Java. Gephi, JGraph, Prefuse, etc","body":"<p>Just replace every occurrence of <code>GmlExporter</code> with <code>GraphMLExporter</code> in your code. That should work.</p>\n"},{"tags":[],"owner":{"account_id":3444607,"reputation":91,"user_id":2885714,"display_name":"inferno88"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1424947735,"creation_date":1424947735,"answer_id":28740404,"question_id":23349428,"body_markdown":"It might be late to answer, but for solution number two:\r\nRight after you import the graph into yEd, just click &quot;Layout&quot; and select one. yed will not choose one for you as default, that&#39;s why it seemed to be linear.","title":"How to generate a graphml file in Java. Gephi, JGraph, Prefuse, etc","body":"<p>It might be late to answer, but for solution number two:\nRight after you import the graph into yEd, just click \"Layout\" and select one. yed will not choose one for you as default, that's why it seemed to be linear.</p>\n"},{"tags":[],"owner":{"account_id":8543127,"reputation":183,"user_id":6402486,"display_name":"Abraham Simpson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481252423,"creation_date":1481252423,"answer_id":41052424,"question_id":23349428,"body_markdown":"I&#180;m using de Prefuse library and you can generate a GraphML file from a Graph object with de class GraphMLWriter.","title":"How to generate a graphml file in Java. Gephi, JGraph, Prefuse, etc","body":"<p>I´m using de Prefuse library and you can generate a GraphML file from a Graph object with de class GraphMLWriter.</p>\n"},{"tags":[],"owner":{"account_id":3663252,"reputation":213,"user_id":3052472,"display_name":"H. Hess"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1484738428,"creation_date":1484738428,"answer_id":41718087,"question_id":23349428,"body_markdown":"I also wanted to export JgraphT graphs for yED but was not happy with the results. Therefore, I created an extended GMLWriter supporting yED&#39;s specific GML format (groups, colours, different edges,...).\r\n\r\n[GML-Writer-for-yED][1]\r\n\r\n\r\n  [1]: https://github.com/Systemdir/GML-Writer-for-yED","title":"How to generate a graphml file in Java. Gephi, JGraph, Prefuse, etc","body":"<p>I also wanted to export JgraphT graphs for yED but was not happy with the results. Therefore, I created an extended GMLWriter supporting yED's specific GML format (groups, colours, different edges,...).</p>\n\n<p><a href=\"https://github.com/Systemdir/GML-Writer-for-yED\" rel=\"nofollow noreferrer\">GML-Writer-for-yED</a></p>\n"},{"tags":[],"owner":{"account_id":6321202,"reputation":133,"user_id":4909204,"accept_rate":100,"display_name":"TheAppService"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651339470,"creation_date":1651339470,"answer_id":72070642,"question_id":23349428,"body_markdown":"I created a little [Tutorial/Github Repo][1] and sample code on how to work with the classes of  JgraphT to export to GraphML and GML and how the results could look like in yED.\r\n\r\nAs already mentioned in another answer, if you don&#39;t want to do much configuration yourself, [GML-Writer-for-yED][2] might be handy.\r\n\r\n\r\n  [1]: https://daniel-ebert.github.io/jgrapht-graph-exporting-examples/\r\n  [2]: https://github.com/Systemdir/GML-Writer-for-yED","title":"How to generate a graphml file in Java. Gephi, JGraph, Prefuse, etc","body":"<p>I created a little <a href=\"https://daniel-ebert.github.io/jgrapht-graph-exporting-examples/\" rel=\"nofollow noreferrer\">Tutorial/Github Repo</a> and sample code on how to work with the classes of  JgraphT to export to GraphML and GML and how the results could look like in yED.</p>\n<p>As already mentioned in another answer, if you don't want to do much configuration yourself, <a href=\"https://github.com/Systemdir/GML-Writer-for-yED\" rel=\"nofollow noreferrer\">GML-Writer-for-yED</a> might be handy.</p>\n"}],"owner":{"account_id":1874708,"reputation":46140,"user_id":1696153,"accept_rate":100,"display_name":"Katie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8599,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":41718087,"answer_count":6,"score":7,"last_activity_date":1651339470,"creation_date":1398712666,"question_id":23349428,"body_markdown":"Help! I&#39;m looking to create a **Java application** that ***generates* a graph** in any one of these formats:\r\n\r\n - **.graphml**\r\n - .ygf\r\n - .gml\r\n - .tgf\r\n\r\nI need to be able to **open the file** in the graph editor [&quot;**yEd**&quot;][1].\r\n\r\nSo far, I have found these solutions:\r\n\r\n   1. ***[yFiles For Java][2]***\r\n      * Pro: Export to graphml, able to open in yEd, Java based, perfect. \r\n      * Why I can&#39;t use it: Would cost me more than **$2000** to use :( it is exactly what I need however\r\n   2. [***Gephi***][3]\r\n      * Pro: FREE, Export to graphml, Java based!\r\n      * Why I can&#39;t use it: When I try to open the generated graphml file in yEd, the **graphml is broken**: it&#39;s linear - one line, like this **screenshot**: \r\n      * ![enter image description here][4]\r\n      * If I get it to work, then this is perfect\r\n      * The graph I tried was generated using their example project\r\n   3. ***[JGraphX][5]***\r\n      * Pro: Able to generate a graph, Java based, FREE\r\n      * Why I can&#39;t use it: How to export the generated graph to graphml? **I couldn&#39;t figure it out**...\r\n   4. ***[Prefuse][6]***\r\n      * Pro: Free, graph generation, Java based\r\n      * What I can&#39;t use it: Seems like I can **only read graphml**, and not write graphml. Also, I built the demos fine with build.sh all, but then when I tried to run demos.jar, I got &quot;Failed to load Main-Class&quot;...\r\n   5. [***Blueprints***][7] with ***[GraphML Reader and Writer Library][8]*** ([***Tinkerpop***][9]?)\r\n      * Pro: Java, Free, seems like you can export graphml with it\r\n      * Why I can&#39;t use it: I&#39;m confused, do I need to use this in conjunction with one of the &quot;Implementations&quot; listed? How do I use this?\r\n   6. ***[JGraphT][10]*** with ***[GraphMLExporter][11]***\r\n      * Pro: Able to generate graph, Java based, free, can export to graphml I think\r\n      * Why I can&#39;t use it: I can&#39;t figure out how to export it! When I tried to open the generated graphml in yed, I got &quot;**yEd** has encountered the following **error**: **Could not import file test.graphml**.&quot; I used thier example project, and did this:\r\n\r\nJGraphT Code I Used:\r\n\r\n    UndirectedGraph&lt;String, DefaultEdge&gt; g = new SimpleGraph&lt;String, DefaultEdge&gt;(DefaultEdge.class);\r\n    \r\n    String v1 = &quot;v1&quot;;\r\n    String v2 = &quot;v2&quot;;\r\n    String v3 = &quot;v3&quot;;\r\n    String v4 = &quot;v4&quot;;\r\n    \r\n    // add the vertices\r\n    g.addVertex(v1);\r\n    g.addVertex(v2);\r\n    g.addVertex(v3);\r\n    g.addVertex(v4);\r\n    \r\n    // add edges to create a circuit\r\n    g.addEdge(v1, v2);\r\n    g.addEdge(v2, v3);\r\n    g.addEdge(v3, v4);\r\n    g.addEdge(v4, v1);\r\n    \r\n    \r\n    FileWriter w;\r\n    try {\r\n    GmlExporter&lt;String, DefaultEdge&gt; exporter = \r\n        new GmlExporter&lt;String, DefaultEdge&gt;(); \r\n    \tw = new FileWriter(&quot;test.graphml&quot;);\r\n    \texporter.export(w, g);\r\n    } catch (IOException e) {\r\n    \te.printStackTrace();\r\n    }\r\n\r\n\r\n\r\nAny ideas? Thanks!\r\n\r\n\r\n  [1]: http://www.yworks.com/en/products_yed_about.html\r\n  [2]: http://www.yworks.com/en/products_yfiles_about.html\r\n  [3]: https://gephi.org/developers/\r\n  [4]: http://i.stack.imgur.com/mvk8b.png\r\n  [5]: https://github.com/jgraph/jgraphx\r\n  [6]: https://github.com/prefuse/Prefuse\r\n  [7]: https://github.com/tinkerpop/blueprints\r\n  [8]: https://github.com/tinkerpop/blueprints/wiki/GraphML-Reader-and-Writer-Library\r\n  [9]: http://www.tinkerpop.com/\r\n  [10]: http://www.jgrapht.org/\r\n  [11]: http://www.jgrapht.org/javadoc/org/jgrapht/ext/GraphMLExporter.html","title":"How to generate a graphml file in Java. Gephi, JGraph, Prefuse, etc","body":"<p>Help! I'm looking to create a <strong>Java application</strong> that <strong><em>generates</em> a graph</strong> in any one of these formats:</p>\n\n<ul>\n<li><strong>.graphml</strong></li>\n<li>.ygf</li>\n<li>.gml</li>\n<li>.tgf</li>\n</ul>\n\n<p>I need to be able to <strong>open the file</strong> in the graph editor <a href=\"http://www.yworks.com/en/products_yed_about.html\" rel=\"nofollow noreferrer\">\"<strong>yEd</strong>\"</a>.</p>\n\n<p>So far, I have found these solutions:</p>\n\n<ol>\n<li><strong><em><a href=\"http://www.yworks.com/en/products_yfiles_about.html\" rel=\"nofollow noreferrer\">yFiles For Java</a></em></strong>\n\n<ul>\n<li>Pro: Export to graphml, able to open in yEd, Java based, perfect. </li>\n<li>Why I can't use it: Would cost me more than <strong>$2000</strong> to use :( it is exactly what I need however</li>\n</ul></li>\n<li><a href=\"https://gephi.org/developers/\" rel=\"nofollow noreferrer\"><strong><em>Gephi</em></strong></a>\n\n<ul>\n<li>Pro: FREE, Export to graphml, Java based!</li>\n<li>Why I can't use it: When I try to open the generated graphml file in yEd, the <strong>graphml is broken</strong>: it's linear - one line, like this <strong>screenshot</strong>: </li>\n<li><img src=\"https://i.stack.imgur.com/mvk8b.png\" alt=\"enter image description here\"></li>\n<li>If I get it to work, then this is perfect</li>\n<li>The graph I tried was generated using their example project</li>\n</ul></li>\n<li><strong><em><a href=\"https://github.com/jgraph/jgraphx\" rel=\"nofollow noreferrer\">JGraphX</a></em></strong>\n\n<ul>\n<li>Pro: Able to generate a graph, Java based, FREE</li>\n<li>Why I can't use it: How to export the generated graph to graphml? <strong>I couldn't figure it out</strong>...</li>\n</ul></li>\n<li><strong><em><a href=\"https://github.com/prefuse/Prefuse\" rel=\"nofollow noreferrer\">Prefuse</a></em></strong>\n\n<ul>\n<li>Pro: Free, graph generation, Java based</li>\n<li>What I can't use it: Seems like I can <strong>only read graphml</strong>, and not write graphml. Also, I built the demos fine with build.sh all, but then when I tried to run demos.jar, I got \"Failed to load Main-Class\"...</li>\n</ul></li>\n<li><a href=\"https://github.com/tinkerpop/blueprints\" rel=\"nofollow noreferrer\"><strong><em>Blueprints</em></strong></a> with <strong><em><a href=\"https://github.com/tinkerpop/blueprints/wiki/GraphML-Reader-and-Writer-Library\" rel=\"nofollow noreferrer\">GraphML Reader and Writer Library</a></em></strong> (<a href=\"http://www.tinkerpop.com/\" rel=\"nofollow noreferrer\"><strong><em>Tinkerpop</em></strong></a>?)\n\n<ul>\n<li>Pro: Java, Free, seems like you can export graphml with it</li>\n<li>Why I can't use it: I'm confused, do I need to use this in conjunction with one of the \"Implementations\" listed? How do I use this?</li>\n</ul></li>\n<li><strong><em><a href=\"http://www.jgrapht.org/\" rel=\"nofollow noreferrer\">JGraphT</a></em></strong> with <strong><em><a href=\"http://www.jgrapht.org/javadoc/org/jgrapht/ext/GraphMLExporter.html\" rel=\"nofollow noreferrer\">GraphMLExporter</a></em></strong>\n\n<ul>\n<li>Pro: Able to generate graph, Java based, free, can export to graphml I think</li>\n<li>Why I can't use it: I can't figure out how to export it! When I tried to open the generated graphml in yed, I got \"<strong>yEd</strong> has encountered the following <strong>error</strong>: <strong>Could not import file test.graphml</strong>.\" I used thier example project, and did this:</li>\n</ul></li>\n</ol>\n\n<p>JGraphT Code I Used:</p>\n\n<pre><code>UndirectedGraph&lt;String, DefaultEdge&gt; g = new SimpleGraph&lt;String, DefaultEdge&gt;(DefaultEdge.class);\n\nString v1 = \"v1\";\nString v2 = \"v2\";\nString v3 = \"v3\";\nString v4 = \"v4\";\n\n// add the vertices\ng.addVertex(v1);\ng.addVertex(v2);\ng.addVertex(v3);\ng.addVertex(v4);\n\n// add edges to create a circuit\ng.addEdge(v1, v2);\ng.addEdge(v2, v3);\ng.addEdge(v3, v4);\ng.addEdge(v4, v1);\n\n\nFileWriter w;\ntry {\nGmlExporter&lt;String, DefaultEdge&gt; exporter = \n    new GmlExporter&lt;String, DefaultEdge&gt;(); \n    w = new FileWriter(\"test.graphml\");\n    exporter.export(w, g);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Any ideas? Thanks!</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1651303833,"post_id":72066519,"comment_id":127336685,"body_markdown":"thats an OR operator","body":"thats an OR operator"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1651303851,"post_id":72066519,"comment_id":127336688,"body_markdown":"1) Implement `equals` and `hashCode` methods in `Student` 2) Add them to a `Set` instead 3) Convert the `Set` to a list","body":"1) Implement <code>equals</code> and <code>hashCode</code> methods in <code>Student</code> 2) Add them to a <code>Set</code> instead 3) Convert the <code>Set</code> to a list"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1651303957,"post_id":72066519,"comment_id":127336706,"body_markdown":"https://stackoverflow.com/q/5907259/16034206 refer to this","body":"<a href=\"https://stackoverflow.com/q/5907259/16034206\">stackoverflow.com/q/5907259/16034206</a> refer to this"}],"answers":[{"tags":[],"owner":{"account_id":23284961,"reputation":40,"user_id":17367939,"display_name":"saaoc"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1651338958,"creation_date":1651303873,"answer_id":72066541,"question_id":72066519,"body_markdown":"My guess is that your Student Class is missing equals() and hashCode() methods.\r\n\r\nImplement equals() and hashCode() methods in the Student Class. You can also auto-generate the equals() and hashCode() methods if you are using an IDE like Eclipse or IntelliJ.\r\n\r\nAlso, instead of ArrayList, use HashSet. \r\nHashSet will prevent insertion of duplicates because a set only contains unique objects.\r\nIf you must use ArrayList, then having the equals() is important for the contains() method of ArrayList to work properly. Also, a side note, if the two Student objects are equal then their hashCode must be the same.\r\n\r\n","title":"How can I avoid adding duplicated objects in an ArrayList?","body":"<p>My guess is that your Student Class is missing equals() and hashCode() methods.</p>\n<p>Implement equals() and hashCode() methods in the Student Class. You can also auto-generate the equals() and hashCode() methods if you are using an IDE like Eclipse or IntelliJ.</p>\n<p>Also, instead of ArrayList, use HashSet.\nHashSet will prevent insertion of duplicates because a set only contains unique objects.\nIf you must use ArrayList, then having the equals() is important for the contains() method of ArrayList to work properly. Also, a side note, if the two Student objects are equal then their hashCode must be the same.</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651328863,"creation_date":1651323777,"answer_id":72068746,"question_id":72066519,"body_markdown":"For two distinct object instances, the `==` operator will always return `false`, even if these two instances are equal.\r\n\r\nIn Java, the `==` operator tests for identity, not for equality (although, if two things are identical, they are obviously also equal).\r\n\r\nThe nasty thing is that in Java two apparently distinct Strings with the same contents *can* be equal *and* identical – but this depends on the underlying JVM and other conditions. Meaning, you should not rely on this!\r\n\r\nSo if `Student::getId` and `Student::getPhoneNumbre` do return object references and not Primitives, you need to compare them with `Object::equals`:\r\n\r\n```java\r\nif( newStudent.getId().equals( student.getId() ) \r\n    || newStudent.getPhoneNumbre().equals( student.getPhoneNumbre() ) ) …\r\n```\r\nI assume you are aware that your logic identifies a new student as a duplicate of an existing one when at least id ***or*** phone number are equals.\r\n\r\nOtherwise, when a duplicate requires that both be equal, you should consider to implement the method `Object::equals` for the class `Student`; that would simplify the check:\r\n\r\n```java\r\nif( newStudent.equals( student ) ) …\r\n```\r\n\r\nAn implementation for `equals()` may look like this:\r\n\r\n```java\r\n@Override\r\npublic final boolean equals( Object o )\r\n{\r\n  final var retValue = (this == o)\r\n    || (o instanceof Student other\r\n        &amp;&amp; Objects.equals( getId(), other.getId() )\r\n        &amp;&amp; Objects.equals( getPhoneNumbre(), other.getPhoneNumbre() ));\r\n  \r\n  return retValue;\r\n}\r\n```\r\n\r\nKeep in mind that it is **strongly recommended** that you *always* implement also `Object::hashCode` when you implement `Object::equals` and vice versa – even when you currently need only one of the methods! \r\n\r\nOh, and in your original code, you need to assure that `Student::getId` and `Student::getPhoneNumbre` will not return `null`; my suggested implementation of `equals()` does already take care of that.\r\n\r\n---\r\n\r\nIf you are not stuck to an implementation of `List` to store the `Student` instance, you should consider to use an implementation of `Set` instead: that does the duplicate check automatically on insertion, once you provided `Student.equals()` and `Student.hashCode()`.\r\n\r\nYou can even use a `Set` implementation if duplicates are identified by either the id or the phone number, but that would be a bit nasty (although it works perfectly):\r\n\r\n```java\r\nSet&lt;Student&gt; students = new TreeSet( (s1,s2) -&gt; Comparator.naturalOrder.compare( s1.getId(), s2.getId() ) * Comparator.naturalOrder.compare( s1.getPhoneNumbre(), s2.getPhoneNumbre() ) );\r\n…\r\nif( !students.add( newStudent ) ) out.println( &quot;Duplicate!&quot; )\r\n```\r\n\r\nConfessed, the output order will be strange, but this can be easily fixed …\r\n\r\nThe implementation of the `Comparator` here assumes that id and phone number will implement `Comparable`.\r\n\r\n---\r\n\r\nFinally, `List::contains` does not work for you because it requires that you implemented `Student::equals` properly. If you have not overridden that method, `contains()` checks for identity, not equality.","title":"How can I avoid adding duplicated objects in an ArrayList?","body":"<p>For two distinct object instances, the <code>==</code> operator will always return <code>false</code>, even if these two instances are equal.</p>\n<p>In Java, the <code>==</code> operator tests for identity, not for equality (although, if two things are identical, they are obviously also equal).</p>\n<p>The nasty thing is that in Java two apparently distinct Strings with the same contents <em>can</em> be equal <em>and</em> identical – but this depends on the underlying JVM and other conditions. Meaning, you should not rely on this!</p>\n<p>So if <code>Student::getId</code> and <code>Student::getPhoneNumbre</code> do return object references and not Primitives, you need to compare them with <code>Object::equals</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if( newStudent.getId().equals( student.getId() ) \n    || newStudent.getPhoneNumbre().equals( student.getPhoneNumbre() ) ) …\n</code></pre>\n<p>I assume you are aware that your logic identifies a new student as a duplicate of an existing one when at least id <em><strong>or</strong></em> phone number are equals.</p>\n<p>Otherwise, when a duplicate requires that both be equal, you should consider to implement the method <code>Object::equals</code> for the class <code>Student</code>; that would simplify the check:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if( newStudent.equals( student ) ) …\n</code></pre>\n<p>An implementation for <code>equals()</code> may look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic final boolean equals( Object o )\n{\n  final var retValue = (this == o)\n    || (o instanceof Student other\n        &amp;&amp; Objects.equals( getId(), other.getId() )\n        &amp;&amp; Objects.equals( getPhoneNumbre(), other.getPhoneNumbre() ));\n  \n  return retValue;\n}\n</code></pre>\n<p>Keep in mind that it is <strong>strongly recommended</strong> that you <em>always</em> implement also <code>Object::hashCode</code> when you implement <code>Object::equals</code> and vice versa – even when you currently need only one of the methods!</p>\n<p>Oh, and in your original code, you need to assure that <code>Student::getId</code> and <code>Student::getPhoneNumbre</code> will not return <code>null</code>; my suggested implementation of <code>equals()</code> does already take care of that.</p>\n<hr />\n<p>If you are not stuck to an implementation of <code>List</code> to store the <code>Student</code> instance, you should consider to use an implementation of <code>Set</code> instead: that does the duplicate check automatically on insertion, once you provided <code>Student.equals()</code> and <code>Student.hashCode()</code>.</p>\n<p>You can even use a <code>Set</code> implementation if duplicates are identified by either the id or the phone number, but that would be a bit nasty (although it works perfectly):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Student&gt; students = new TreeSet( (s1,s2) -&gt; Comparator.naturalOrder.compare( s1.getId(), s2.getId() ) * Comparator.naturalOrder.compare( s1.getPhoneNumbre(), s2.getPhoneNumbre() ) );\n…\nif( !students.add( newStudent ) ) out.println( &quot;Duplicate!&quot; )\n</code></pre>\n<p>Confessed, the output order will be strange, but this can be easily fixed …</p>\n<p>The implementation of the <code>Comparator</code> here assumes that id and phone number will implement <code>Comparable</code>.</p>\n<hr />\n<p>Finally, <code>List::contains</code> does not work for you because it requires that you implemented <code>Student::equals</code> properly. If you have not overridden that method, <code>contains()</code> checks for identity, not equality.</p>\n"},{"tags":[],"owner":{"account_id":8109300,"reputation":177,"user_id":6109933,"display_name":"NKR"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651329209,"creation_date":1651329209,"answer_id":72069406,"question_id":72066519,"body_markdown":"Try using set(allows no duplicates) as given below:\r\n\r\n    Set&lt;Student&gt; student = new HashSet&lt;&gt;();\r\n    student.add(new Student());\r\nthen convert the set to list, which now will have distinct student records\r\n\r\n    List&lt;Student&gt; studentList= new ArrayList&lt;&gt;(student);\r\n","title":"How can I avoid adding duplicated objects in an ArrayList?","body":"<p>Try using set(allows no duplicates) as given below:</p>\n<pre><code>Set&lt;Student&gt; student = new HashSet&lt;&gt;();\nstudent.add(new Student());\n</code></pre>\n<p>then convert the set to list, which now will have distinct student records</p>\n<pre><code>List&lt;Student&gt; studentList= new ArrayList&lt;&gt;(student);\n</code></pre>\n"}],"owner":{"account_id":20709293,"reputation":3,"user_id":15206317,"display_name":"Othman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1651338958,"creation_date":1651303535,"question_id":72066519,"body_markdown":"I&#39;m trying to avoid adding duplicated (student) objects in an ArrayList... I tried to loop over the array and check the ID and PhoneNO but using these two conditions I&#39;m not able to add any object even if it&#39;s unique... Also, I tried to check using the contains() function but it&#39;s not working, it allows adding duplicated objects, how can I solve it?\r\n\r\n    \tpublic void addStudent(Student newStudent) {\r\n\t\t//1-Looping over the ArrayList&lt;student&gt; and check their ID and PhoneNO (can&#39;t add any object of student)\r\n\t\tfor(Student student:students) {\r\n\t\t\tif(newStudent.getId() == student.getId() || newStudent.getPhoneNumbre() == student.getPhoneNumbre()) {\r\n\t\t\t\tSystem.out.println(&quot;Error&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}else\r\n\t\t\t\tthis.students.add(newStudent);\r\n\t\t}\r\n\t\t\r\n\t\t//2- validate using the contains(), but it allows duplicated Objects\r\n\t\tif (!this.students.contains(newStudent)) \r\n\t\t\tthis.students.add(newStudent);\r\n\t}","title":"How can I avoid adding duplicated objects in an ArrayList?","body":"<p>I'm trying to avoid adding duplicated (student) objects in an ArrayList... I tried to loop over the array and check the ID and PhoneNO but using these two conditions I'm not able to add any object even if it's unique... Also, I tried to check using the contains() function but it's not working, it allows adding duplicated objects, how can I solve it?</p>\n<pre><code>    public void addStudent(Student newStudent) {\n    //1-Looping over the ArrayList&lt;student&gt; and check their ID and PhoneNO (can't add any object of student)\n    for(Student student:students) {\n        if(newStudent.getId() == student.getId() || newStudent.getPhoneNumbre() == student.getPhoneNumbre()) {\n            System.out.println(&quot;Error&quot;);\n            break;\n        }else\n            this.students.add(newStudent);\n    }\n    \n    //2- validate using the contains(), but it allows duplicated Objects\n    if (!this.students.contains(newStudent)) \n        this.students.add(newStudent);\n}\n</code></pre>\n"},{"tags":["java","applet"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1651246874,"post_id":72060364,"comment_id":127326293,"body_markdown":"Have you looked at other methods in [Graphics](https://docs.oracle.com/javase/8/docs/api/java/awt/Graphics.html)? The way you&#39;re trying to solve the problem might not be the easiest way.","body":"Have you looked at other methods in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Graphics.html\" rel=\"nofollow noreferrer\">Graphics</a>? The way you&#39;re trying to solve the problem might not be the easiest way."},{"owner":{"account_id":23554036,"reputation":134,"user_id":17596296,"display_name":"Mr. T-REX"},"score":0,"creation_date":1651247259,"post_id":72060364,"comment_id":127326442,"body_markdown":"I have to use &quot;applets&quot; only. The applet part is only there for this semester.I&#39; have not learned java graphics yet. @Kayaman","body":"I have to use &quot;applets&quot; only. The applet part is only there for this semester.I&#39; have not learned java graphics yet. @Kayaman"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1651248022,"post_id":72060364,"comment_id":127326734,"body_markdown":"You&#39;re using that class in your `paint()` method. It&#39;s the parameter, `Graphics g`.","body":"You&#39;re using that class in your <code>paint()</code> method. It&#39;s the parameter, <code>Graphics g</code>."}],"answers":[{"tags":[],"owner":{"account_id":23554036,"reputation":134,"user_id":17596296,"display_name":"Mr. T-REX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651337867,"creation_date":1651337867,"answer_id":72070469,"question_id":72060364,"body_markdown":"So i finally figured out, what i was doing wrong, i was supposed to use &quot;**arcs**&quot; instead of &quot;**oval**&quot; . Here&#39;s the simple code to the question that i asked.\r\n\r\n    import java.applet.*;\r\n    import java.awt.*;\r\n    /*\r\n    &lt;applet code = &quot;oval.class&quot; width = 400 height = 400&gt; &lt;/applet&gt;\r\n    */\r\n    public class oval extends Applet {\r\n        public void init() {\r\n        }\r\n            public void paint(Graphics g) {\r\n            g.setColor(Color.orange);\r\n            g.fillArc(100,100,200,200,0,90);\r\n            g.setColor(Color.red);\r\n            g.fillArc(100,100,200,200,90,90);\r\n            g.setColor(Color.yellow);\r\n            g.fillArc(100,100,200,200,180,90);\r\n            g.setColor(Color.blue);\r\n            g.fillArc(100,100,200,200,270,90);\r\n        }\r\n    }\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bwUxa.png","title":"Divide an oval/circle in 4 equal half&#39;s and display different colors in it using applet[JAVA]","body":"<p>So i finally figured out, what i was doing wrong, i was supposed to use &quot;<strong>arcs</strong>&quot; instead of &quot;<strong>oval</strong>&quot; . Here's the simple code to the question that i asked.</p>\n<pre><code>import java.applet.*;\nimport java.awt.*;\n/*\n&lt;applet code = &quot;oval.class&quot; width = 400 height = 400&gt; &lt;/applet&gt;\n*/\npublic class oval extends Applet {\n    public void init() {\n    }\n        public void paint(Graphics g) {\n        g.setColor(Color.orange);\n        g.fillArc(100,100,200,200,0,90);\n        g.setColor(Color.red);\n        g.fillArc(100,100,200,200,90,90);\n        g.setColor(Color.yellow);\n        g.fillArc(100,100,200,200,180,90);\n        g.setColor(Color.blue);\n        g.fillArc(100,100,200,200,270,90);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bwUxa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bwUxa.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23554036,"reputation":134,"user_id":17596296,"display_name":"Mr. T-REX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72070469,"answer_count":1,"score":0,"last_activity_date":1651337867,"creation_date":1651246590,"question_id":72060364,"body_markdown":"I&#39;m new to applet programming and i&#39;ve got this assignment to divide an oval/circle in 4 equal half&#39;s and display different colors in it using applet[JAVA].\r\n\r\n I&#39;ve written the code as given below but i am confuse on how to fill each of 4 sections in the circle using different colors.\r\n\r\n    import java.applet.*;\r\n    import java.awt.*;\r\n    /*&lt;applet code = &quot;oval.class&quot; width = 300 height = 300&gt; &lt;/applet&gt;*/\r\n    public class oval extends Applet {\r\n    public void init() {\r\n    }\r\n\r\n    public void paint(Graphics g) {\r\n        g.drawOval(100, 100, 200, 200);\r\n        g.setColor(Color.orange);\r\n        g.drawLine(100, 200, 300, 200);\r\n        g.fillColor(Color.blue);\r\n        g.drawLine(200, 100, 200, 300);    \r\n     }}\r\n[![it colors line only][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/saYzc.png","title":"Divide an oval/circle in 4 equal half&#39;s and display different colors in it using applet[JAVA]","body":"<p>I'm new to applet programming and i've got this assignment to divide an oval/circle in 4 equal half's and display different colors in it using applet[JAVA].</p>\n<p>I've written the code as given below but i am confuse on how to fill each of 4 sections in the circle using different colors.</p>\n<pre><code>import java.applet.*;\nimport java.awt.*;\n/*&lt;applet code = &quot;oval.class&quot; width = 300 height = 300&gt; &lt;/applet&gt;*/\npublic class oval extends Applet {\npublic void init() {\n}\n\npublic void paint(Graphics g) {\n    g.drawOval(100, 100, 200, 200);\n    g.setColor(Color.orange);\n    g.drawLine(100, 200, 300, 200);\n    g.fillColor(Color.blue);\n    g.drawLine(200, 100, 200, 300);    \n }}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/saYzc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/saYzc.png\" alt=\"it colors line only\" /></a></p>\n"},{"tags":["java","comparator"],"comments":[{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":5,"creation_date":1624203644,"post_id":68057480,"comment_id":120288698,"body_markdown":"You **have to** return 0 when objects are &quot;equals&quot;.","body":"You <b>have to</b> return 0 when objects are &quot;equals&quot;."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1624209482,"post_id":68057480,"comment_id":120290138,"body_markdown":"Does this answer your question? [Java error: Comparison method violates its general contract](https://stackoverflow.com/questions/11441666/java-error-comparison-method-violates-its-general-contract). Tip: paste error messages you don’t understand immediately into your search engine.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11441666/java-error-comparison-method-violates-its-general-contract\">Java error: Comparison method violates its general contract</a>. Tip: paste error messages you don’t understand immediately into your search engine."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1651336832,"creation_date":1624203949,"answer_id":68057542,"question_id":68057480,"body_markdown":"You never return `0`, even if the elements are equal. Using the `Comparator.comparing` methods is generally better for simple sorting methods.\r\n\r\n```\r\nArrays.sort(arr, Comparator.comparingInt(Integer::bitCount).reversed());\r\n```","title":"Comparator Error java.lang.IllegalArgumentException","body":"<p>You never return <code>0</code>, even if the elements are equal. Using the <code>Comparator.comparing</code> methods is generally better for simple sorting methods.</p>\n<pre><code>Arrays.sort(arr, Comparator.comparingInt(Integer::bitCount).reversed());\n</code></pre>\n"}],"owner":{"account_id":22002835,"reputation":15,"user_id":16274322,"display_name":"Sahil Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1624238903,"accepted_answer_id":68057542,"answer_count":1,"score":0,"last_activity_date":1651336832,"creation_date":1624203550,"question_id":68057480,"body_markdown":"How can I sort array according to the count of set bits? I&#39;m getting an error whit below code:\r\n\r\n    Arrays.sort(arr, (o1, o2) -&gt; {\r\n        if (Integer.bitCount(o1) &lt;=  Integer.bitCount(o2))\r\n            return 1;\r\n        return -1;\r\n    });\r\n\r\nException:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Comparison method violates its general contract!\r\n    \tat java.base/java.util.TimSort.mergeLo(TimSort.java:781)\r\n    \tat java.base/java.util.TimSort.mergeAt(TimSort.java:518)\r\n    \tat java.base/java.util.TimSort.mergeCollapse(TimSort.java:448)\r\n    \tat java.base/java.util.TimSort.sort(TimSort.java:245)\r\n    \tat java.base/java.util.Arrays.sort(Arrays.java:1441)\r\n    \tat Compute.sortBySetBitCount(File.java:44)\r\n    \tat GFG.main(File.java:23)\r\n\r\nHow to fix this?","title":"Comparator Error java.lang.IllegalArgumentException","body":"<p>How can I sort array according to the count of set bits? I'm getting an error whit below code:</p>\n<pre><code>Arrays.sort(arr, (o1, o2) -&gt; {\n    if (Integer.bitCount(o1) &lt;=  Integer.bitCount(o2))\n        return 1;\n    return -1;\n});\n</code></pre>\n<p>Exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Comparison method violates its general contract!\n    at java.base/java.util.TimSort.mergeLo(TimSort.java:781)\n    at java.base/java.util.TimSort.mergeAt(TimSort.java:518)\n    at java.base/java.util.TimSort.mergeCollapse(TimSort.java:448)\n    at java.base/java.util.TimSort.sort(TimSort.java:245)\n    at java.base/java.util.Arrays.sort(Arrays.java:1441)\n    at Compute.sortBySetBitCount(File.java:44)\n    at GFG.main(File.java:23)\n</code></pre>\n<p>How to fix this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1651301973,"post_id":72066151,"comment_id":127336374,"body_markdown":"You can use `next()` method and it&#39;s actually preferable especially if you are also using any of the other **nextFoo()** methods like `nextInt()` or `nextDouble()`, etc. But, to consume the newline character from the ENTER key hit you should also utilize the `useDelimiter()` method with the Scanner object, for example: `Scanner userInput = new Scanner(System.in).useDelimiter(&quot;\\\\R&quot;);`. By doing this the `next()` method will act very similar to the `newLine()` method. A good rule of thumb is: ***If you are going to use `nextLine()` then use it for everything otherwise, don&#39;t use it at all.***","body":"You can use <code>next()</code> method and it&#39;s actually preferable especially if you are also using any of the other <b>nextFoo()</b> methods like <code>nextInt()</code> or <code>nextDouble()</code>, etc. But, to consume the newline character from the ENTER key hit you should also utilize the <code>useDelimiter()</code> method with the Scanner object, for example: <code>Scanner userInput = new Scanner(System.in).useDelimiter(&quot;\\\\R&quot;);</code>. By doing this the <code>next()</code> method will act very similar to the <code>newLine()</code> method. A good rule of thumb is: <b><i>If you are going to use <code>nextLine()</code> then use it for everything otherwise, don&#39;t use it at all.</i></b>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1651302931,"post_id":72066151,"comment_id":127336537,"body_markdown":"Oh...the `\\\\R` expression supplied to the `useDelimiter()` method above is for matching any Unicode line-break sequence, that is equivalent to `&quot;\\u000D\\u000A|[\\u000A\\u000B\\u000C\\u000D\\u0085\\u2028\\u2029]&quot;`.","body":"Oh...the <code>\\\\R</code> expression supplied to the <code>useDelimiter()</code> method above is for matching any Unicode line-break sequence, that is equivalent to <code>&quot;\\u000D\\u000A|[\\u000A\\u000B\\u000C\\u000D\\u0085\\u2028\\u2029]&quot;</code>."},{"owner":{"account_id":24847043,"reputation":1,"user_id":18724468,"display_name":"Cashyup"},"score":0,"creation_date":1651553783,"post_id":72066151,"comment_id":127385258,"body_markdown":"So, you add the useDelimiter() method and then keep next()? This seems simple enough","body":"So, you add the useDelimiter() method and then keep next()? This seems simple enough"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1651565343,"post_id":72066151,"comment_id":127387794,"body_markdown":"Correct, you can then keep using the **Scanner#next()** method.","body":"Correct, you can then keep using the <b>Scanner#next()</b> method."}],"answers":[{"tags":[],"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651299431,"creation_date":1651299431,"answer_id":72066167,"question_id":72066151,"body_markdown":"You could use `input.nextLine();`","title":"input.next() keeps waiting for an input","body":"<p>You could use <code>input.nextLine();</code></p>\n"},{"tags":[],"owner":{"account_id":18492460,"reputation":1,"user_id":13471700,"display_name":"Badar Muneer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651336700,"creation_date":1651299780,"answer_id":72066203,"question_id":72066151,"body_markdown":"You can write `input.nextLine()` which returns whole input except for the line separator, as it finds line separator it skips the input.","title":"input.next() keeps waiting for an input","body":"<p>You can write <code>input.nextLine()</code> which returns whole input except for the line separator, as it finds line separator it skips the input.</p>\n"}],"owner":{"account_id":24847043,"reputation":1,"user_id":18724468,"display_name":"Cashyup"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651336700,"creation_date":1651299137,"question_id":72066151,"body_markdown":"Note: My code is written in Java.\r\n\r\nI am making a reaction time test which works completely well otherwise. However, when I press enter it continues to wait for an input, which makes the reaction time test less effective. What should I write so that the Enter Key can be taken as an input rather than having to type a character then press enter.\r\n","title":"input.next() keeps waiting for an input","body":"<p>Note: My code is written in Java.</p>\n<p>I am making a reaction time test which works completely well otherwise. However, when I press enter it continues to wait for an input, which makes the reaction time test less effective. What should I write so that the Enter Key can be taken as an input rather than having to type a character then press enter.</p>\n"},{"tags":["java","java-stream","option-type"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1651264481,"post_id":72063334,"comment_id":127331625,"body_markdown":"You know how many optionals you are going to be mapping at compile time, right? Otherwise it doesn&#39;t make sense to do this...","body":"You know how many optionals you are going to be mapping at compile time, right? Otherwise it doesn&#39;t make sense to do this..."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1651264525,"post_id":72063334,"comment_id":127331640,"body_markdown":"You should be able to do `new C((A)a, (B)b)` but it&#39;s hard to see the point of this.","body":"You should be able to do <code>new C((A)a, (B)b)</code> but it&#39;s hard to see the point of this."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1651264641,"post_id":72063334,"comment_id":127331680,"body_markdown":"To begin with, can you explain why do you need a stream of optionals?","body":"To begin with, can you explain why do you need a stream of optionals?"},{"owner":{"account_id":1307921,"reputation":16211,"user_id":1256496,"accept_rate":91,"display_name":"zemirco"},"score":0,"creation_date":1651264697,"post_id":72063334,"comment_id":127331693,"body_markdown":"shmosel - this does not work","body":"shmosel - this does not work"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651264715,"creation_date":1651264715,"answer_id":72063454,"question_id":72063334,"body_markdown":"If you have a fixed number of optionals, use a chain of `flatMap`s, ending with another `flatMap` or `map`, in order to map all of them to `Optional&lt;AnotherType&gt;`.\r\n\r\nIn the case of two optionals, this looks like:\r\n\r\n    Optional&lt;A&gt; aOpt = Optional.of(new A());\r\n    Optional&lt;B&gt; bOpt = Optional.of(new B());\r\n    Optional&lt;C&gt; c = aOpt.flatMap(a -&gt;\r\n                    bOpt.map(b -&gt;\r\n                        new C(a, b)));\r\n\r\nYou can generalise this to n optionals:\r\n\r\n    // opt1 to opt5 can all be different types of optionals\r\n    opt1.flatMap(a -&gt;\r\n    opt2.flatMap(b -&gt;\r\n    opt3.flatMap(c -&gt;\r\n    opt4.flatMap(d -&gt;\r\n    opt5.map(e -&gt; // if f returns another optional, you&#39;d use flatMap here too\r\n        f(a, b, c, d, e))))));\r\n\r\n","title":"How to reduce Optionals of different types?","body":"<p>If you have a fixed number of optionals, use a chain of <code>flatMap</code>s, ending with another <code>flatMap</code> or <code>map</code>, in order to map all of them to <code>Optional&lt;AnotherType&gt;</code>.</p>\n<p>In the case of two optionals, this looks like:</p>\n<pre><code>Optional&lt;A&gt; aOpt = Optional.of(new A());\nOptional&lt;B&gt; bOpt = Optional.of(new B());\nOptional&lt;C&gt; c = aOpt.flatMap(a -&gt;\n                bOpt.map(b -&gt;\n                    new C(a, b)));\n</code></pre>\n<p>You can generalise this to n optionals:</p>\n<pre><code>// opt1 to opt5 can all be different types of optionals\nopt1.flatMap(a -&gt;\nopt2.flatMap(b -&gt;\nopt3.flatMap(c -&gt;\nopt4.flatMap(d -&gt;\nopt5.map(e -&gt; // if f returns another optional, you'd use flatMap here too\n    f(a, b, c, d, e))))));\n</code></pre>\n"}],"owner":{"account_id":1307921,"reputation":16211,"user_id":1256496,"accept_rate":91,"display_name":"zemirco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72063454,"answer_count":1,"score":0,"last_activity_date":1651336330,"creation_date":1651263848,"question_id":72063334,"body_markdown":"I know it&#39;s possible to merge Optionals of the same type.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    var foo = Stream.of(Optional.of(&quot;a&quot;), Optional.of(&quot;b&quot;))\r\n        .flatMap(Optional::stream)\r\n        .reduce((a, b) -&gt; a + &quot;-&quot; + b)\r\n        .orElse(null);\r\n    System.out.println(foo); // prints &quot;a-b&quot;\r\n}\r\n```\r\n\r\nHowever, I&#39;m struggling to merge Optionals of **different** types.\r\n\r\n```java\r\npublic class Example {\r\n\r\n    record A(){}\r\n\r\n    record B(){}\r\n\r\n    record C(A a, B b){}\r\n\r\n    public static void main(String[] args) {\r\n        var foo = Stream.of(Optional.of(new A()), Optional.of(new B()))\r\n            .flatMap(Optional::stream)\r\n            .reduce((a, b) -&gt; new C(a, b))\r\n            .orElse(null);\r\n        System.out.println(foo);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nThat does not work and I&#39;m getting the error.\r\n\r\n&gt; Type mismatch: cannot convert from Example.C to capture#1-of ? extends Record\r\n\r\nI tried different versions with type casting but no success so far.\r\nAny ideas?\r\n\r\nThis is obviously a trivial and very simple example. In real life I have two methods\r\n\r\n1. The first one returns an Optional of type `User`\r\n2. The second one returns an Optional of Type `Animal`\r\n\r\nWhen both are successful / not empty, I&#39;d like to call a method `myMethod(User user, Animal animal)`. So, the question is basically about joining / merging two optionals and work with the enclosed values afterwards.","title":"How to reduce Optionals of different types?","body":"<p>I know it's possible to merge Optionals of the same type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    var foo = Stream.of(Optional.of(&quot;a&quot;), Optional.of(&quot;b&quot;))\n        .flatMap(Optional::stream)\n        .reduce((a, b) -&gt; a + &quot;-&quot; + b)\n        .orElse(null);\n    System.out.println(foo); // prints &quot;a-b&quot;\n}\n</code></pre>\n<p>However, I'm struggling to merge Optionals of <strong>different</strong> types.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n\n    record A(){}\n\n    record B(){}\n\n    record C(A a, B b){}\n\n    public static void main(String[] args) {\n        var foo = Stream.of(Optional.of(new A()), Optional.of(new B()))\n            .flatMap(Optional::stream)\n            .reduce((a, b) -&gt; new C(a, b))\n            .orElse(null);\n        System.out.println(foo);\n    }\n    \n}\n</code></pre>\n<p>That does not work and I'm getting the error.</p>\n<blockquote>\n<p>Type mismatch: cannot convert from Example.C to capture#1-of ? extends Record</p>\n</blockquote>\n<p>I tried different versions with type casting but no success so far.\nAny ideas?</p>\n<p>This is obviously a trivial and very simple example. In real life I have two methods</p>\n<ol>\n<li>The first one returns an Optional of type <code>User</code></li>\n<li>The second one returns an Optional of Type <code>Animal</code></li>\n</ol>\n<p>When both are successful / not empty, I'd like to call a method <code>myMethod(User user, Animal animal)</code>. So, the question is basically about joining / merging two optionals and work with the enclosed values afterwards.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1650985016,"post_id":72016109,"comment_id":127250723,"body_markdown":"Does your classpath include the necessary Spring jar files? I also strongly recommend using a build tool such as Maven or Gradle instead of compiling your source files manually by using `javac` directly, because managing Spring and all its dependencies manually is very cumbersome.","body":"Does your classpath include the necessary Spring jar files? I also strongly recommend using a build tool such as Maven or Gradle instead of compiling your source files manually by using <code>javac</code> directly, because managing Spring and all its dependencies manually is very cumbersome."},{"owner":{"account_id":5643232,"reputation":59,"user_id":4466284,"display_name":"vijay"},"score":0,"creation_date":1651028765,"post_id":72016109,"comment_id":127262129,"body_markdown":"Thanks. Yes I agree. I have done with Maven. It works. I used the same three Spring JAR files in Eclipse. It works.  I am trying to understand what went wrong in this case. As shown above, class path contains required Spring jar files. But it seems some issues in classpath so that JAR files are not imported. Not sure how to debug. This example is for educational purpose only.","body":"Thanks. Yes I agree. I have done with Maven. It works. I used the same three Spring JAR files in Eclipse. It works.  I am trying to understand what went wrong in this case. As shown above, class path contains required Spring jar files. But it seems some issues in classpath so that JAR files are not imported. Not sure how to debug. This example is for educational purpose only."},{"owner":{"account_id":7777386,"reputation":3149,"user_id":5885018,"display_name":"statosdotcom"},"score":0,"creation_date":1651246562,"post_id":72016109,"comment_id":127326170,"body_markdown":"Maybe sharing your (sensible snippet or entire) &quot;hello world&quot; would help? Good luck.","body":"Maybe sharing your (sensible snippet or entire) &quot;hello world&quot; would help? Good luck."}],"owner":{"account_id":5643232,"reputation":59,"user_id":4466284,"display_name":"vijay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651335923,"creation_date":1650984700,"question_id":72016109,"body_markdown":"I try to implement a simple hello world program using Spring framework. I have tried the following example in Windows environment without using IDE. In Eclipse IDE, it works fine.   \r\nIn Windows command line prompt, I get following error messages. \r\n\r\n    C:\\Users\\Vijay\\Documents\\javaex\\ex1&gt;javac -d . Test.java  \r\n    Test.java:3: error: package org.springframework.beans.factory does not exist  \r\n    import org.springframework.beans.factory.BeanFactory;  \r\n                                            ^\r\n    Test.java:4: error: package org.springframework.beans.factory.xml does not exist  \r\n    import org.springframework.beans.factory.xml.XmlBeanFactory;  \r\n                                                ^\r\n    Test.java:5: error: package org.springframework.core.io does not exist  \r\n    import org.springframework.core.io.ClassPathResource;  \r\n\r\n    Test.java:6: error: package org.springframework.core.io does not exist  \r\n    import org.springframework.core.io.Resource;  \r\n                                  ^\r\n    Test.java:10: error: cannot find symbol  \r\n    Resource resource=new ClassPathResource(&quot;applicationContext.xml&quot;);  \r\n        ^\r\n    symbol:   class Resource  \r\n    location: class Test  \r\n    Test.java:10: error: cannot find symbol  \r\n    Resource resource=new ClassPathResource(&quot;applicationContext.xml&quot;);  \r\n                              ^\r\n    symbol:   class ClassPathResource  \r\n    location: class Test  \r\n    Test.java:11: error: cannot find symbol  \r\n    BeanFactory factory=new XmlBeanFactory(resource);  \r\n        ^\r\n    symbol:   class BeanFactory  \r\n    location: class Test  \r\n    Test.java:11: error: cannot find symbol  \r\n    BeanFactory factory=new XmlBeanFactory(resource);  \r\n                                ^\r\n    symbol:   class XmlBeanFactory    \r\n    location: class Test    \r\n    \r\n    Please find the folder contents.\r\n    \r\n    C:\\Users\\Vijay\\Documents\\javaex\\ex1&gt;dir  \r\n    26-04-2022  16:19               472 applicationContext.xml  \r\n    26-04-2022  19:22    &lt;DIR&gt;          com  \r\n    15-06-2012  17:30            61,464 com.springsource.org.apache.commons.logging-1.1.1.jar  \r\n    15-06-2012  17:30           547,837 org.springframework.beans-3.0.1.RELEASE-A.jar  \r\n    15-06-2012  17:30           355,598 org.springframework.core-3.0.1.RELEASE-A.jar  \r\n    26-04-2022  17:16               250 Student.java  \r\n    26-04-2022  17:16               519 Test.java  \r\n        \r\n    C:\\Users\\Vijay\\Documents\\javaex\\ex1&gt;echo %JAVA_HOME%\r\n    C:\\Program Files\\Java\\jdk-18.0.1\\bin\r\n    \r\n    C:\\Users\\Vijay\\Documents\\javaex\\ex1&gt;echo %CLASSPATH%\r\n    C:\\Users\\Vijay\\Documents\\javaex\\ex1\r\n\r\n    Student.java \r\n    package com.vijay;\r\n    public class Student {\r\n        private String name;\r\n        public String getName() {\r\n\t         return name;\r\n        }\r\n        public void setName(String name) {\r\n\t         this.name = name;\r\n        }\r\n\r\n        public void displayInfo(){\r\n\t        System.out.println(&quot;Hello: &quot;+name);\r\n        }\r\n     }\r\n   \r\n\r\n    Test.java\r\n       package com.vijay;\r\n       import org.springframework.beans.factory.BeanFactory;\r\n       import org.springframework.beans.factory.xml.XmlBeanFactory;\r\n       import org.springframework.core.io.ClassPathResource;\r\n       import org.springframework.core.io.Resource;\r\n       public class Test {\r\n         public static void main(String[] args) {\r\n    \t Resource resource=new ClassPathResource(&quot;applicationContext.xml&quot;);\r\n    \t BeanFactory factory=new XmlBeanFactory(resource);\r\n    \t Student student=(Student)factory.getBean(&quot;studentbean&quot;);\r\n    \t student.displayInfo();\r\n       }\r\n     }\r\n\r\n    Applicationcontext.xml\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans\r\n    \txmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\r\n    \r\n    &lt;bean id=&quot;studentbean&quot; class=&quot;com.vijay.Student&quot;&gt;\r\n    &lt;property name=&quot;name&quot; value=&quot;Hello Vijay&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nI have put Spring core jar files in same folder.  \r\n     JAVA_HOME and CLASS PATH looks fine. I couldn&#39;t figure out why import is failing.  \r\nIt would be great if someone helps to find out what could have been wrong?  \r\n","title":"package org.springframework.beans.factory does not exist error","body":"<p>I try to implement a simple hello world program using Spring framework. I have tried the following example in Windows environment without using IDE. In Eclipse IDE, it works fine.<br />\nIn Windows command line prompt, I get following error messages.</p>\n<pre><code>C:\\Users\\Vijay\\Documents\\javaex\\ex1&gt;javac -d . Test.java  \nTest.java:3: error: package org.springframework.beans.factory does not exist  \nimport org.springframework.beans.factory.BeanFactory;  \n                                        ^\nTest.java:4: error: package org.springframework.beans.factory.xml does not exist  \nimport org.springframework.beans.factory.xml.XmlBeanFactory;  \n                                            ^\nTest.java:5: error: package org.springframework.core.io does not exist  \nimport org.springframework.core.io.ClassPathResource;  \n\nTest.java:6: error: package org.springframework.core.io does not exist  \nimport org.springframework.core.io.Resource;  \n                              ^\nTest.java:10: error: cannot find symbol  \nResource resource=new ClassPathResource(&quot;applicationContext.xml&quot;);  \n    ^\nsymbol:   class Resource  \nlocation: class Test  \nTest.java:10: error: cannot find symbol  \nResource resource=new ClassPathResource(&quot;applicationContext.xml&quot;);  \n                          ^\nsymbol:   class ClassPathResource  \nlocation: class Test  \nTest.java:11: error: cannot find symbol  \nBeanFactory factory=new XmlBeanFactory(resource);  \n    ^\nsymbol:   class BeanFactory  \nlocation: class Test  \nTest.java:11: error: cannot find symbol  \nBeanFactory factory=new XmlBeanFactory(resource);  \n                            ^\nsymbol:   class XmlBeanFactory    \nlocation: class Test    \n\nPlease find the folder contents.\n\nC:\\Users\\Vijay\\Documents\\javaex\\ex1&gt;dir  \n26-04-2022  16:19               472 applicationContext.xml  \n26-04-2022  19:22    &lt;DIR&gt;          com  \n15-06-2012  17:30            61,464 com.springsource.org.apache.commons.logging-1.1.1.jar  \n15-06-2012  17:30           547,837 org.springframework.beans-3.0.1.RELEASE-A.jar  \n15-06-2012  17:30           355,598 org.springframework.core-3.0.1.RELEASE-A.jar  \n26-04-2022  17:16               250 Student.java  \n26-04-2022  17:16               519 Test.java  \n    \nC:\\Users\\Vijay\\Documents\\javaex\\ex1&gt;echo %JAVA_HOME%\nC:\\Program Files\\Java\\jdk-18.0.1\\bin\n\nC:\\Users\\Vijay\\Documents\\javaex\\ex1&gt;echo %CLASSPATH%\nC:\\Users\\Vijay\\Documents\\javaex\\ex1\n\nStudent.java \npackage com.vijay;\npublic class Student {\n    private String name;\n    public String getName() {\n         return name;\n    }\n    public void setName(String name) {\n         this.name = name;\n    }\n\n    public void displayInfo(){\n        System.out.println(&quot;Hello: &quot;+name);\n    }\n }\n\n\nTest.java\n   package com.vijay;\n   import org.springframework.beans.factory.BeanFactory;\n   import org.springframework.beans.factory.xml.XmlBeanFactory;\n   import org.springframework.core.io.ClassPathResource;\n   import org.springframework.core.io.Resource;\n   public class Test {\n     public static void main(String[] args) {\n     Resource resource=new ClassPathResource(&quot;applicationContext.xml&quot;);\n     BeanFactory factory=new XmlBeanFactory(resource);\n     Student student=(Student)factory.getBean(&quot;studentbean&quot;);\n     student.displayInfo();\n   }\n }\n\nApplicationcontext.xml\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans\n    xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\n\n&lt;bean id=&quot;studentbean&quot; class=&quot;com.vijay.Student&quot;&gt;\n&lt;property name=&quot;name&quot; value=&quot;Hello Vijay&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>I have put Spring core jar files in same folder.<br />\nJAVA_HOME and CLASS PATH looks fine. I couldn't figure out why import is failing.<br />\nIt would be great if someone helps to find out what could have been wrong?</p>\n"},{"tags":["java","json","recursion","gson"],"comments":[{"owner":{"account_id":19492409,"reputation":424,"user_id":14260355,"display_name":"BrunoT"},"score":0,"creation_date":1651335293,"post_id":72069635,"comment_id":127342730,"body_markdown":"Can you give an example of what an output should be for the given JSON? Do you intent to loop over some array or just get a specific object (from the JSON)?","body":"Can you give an example of what an output should be for the given JSON? Do you intent to loop over some array or just get a specific object (from the JSON)?"},{"owner":{"account_id":25156614,"reputation":11,"user_id":19001367,"display_name":"chaoticCowzz"},"score":0,"creation_date":1651335985,"post_id":72069635,"comment_id":127342925,"body_markdown":"Hey I just updated the question with an edit, hopefully it helps. I basically need to neatly format it without it looking like it was from the JSON, and some objects from the json need to be extracted separately as they have unique functions related to them.","body":"Hey I just updated the question with an edit, hopefully it helps. I basically need to neatly format it without it looking like it was from the JSON, and some objects from the json need to be extracted separately as they have unique functions related to them."},{"owner":{"account_id":19492409,"reputation":424,"user_id":14260355,"display_name":"BrunoT"},"score":0,"creation_date":1651336216,"post_id":72069635,"comment_id":127342970,"body_markdown":"Let me just make sure I understand what you need. You need to pretty print this JSON to a Java console output as well as getting the synonyms object for each entry and execute some Java code with it? Am I missing something?","body":"Let me just make sure I understand what you need. You need to pretty print this JSON to a Java console output as well as getting the synonyms object for each entry and execute some Java code with it? Am I missing something?"},{"owner":{"account_id":25156614,"reputation":11,"user_id":19001367,"display_name":"chaoticCowzz"},"score":0,"creation_date":1651336378,"post_id":72069635,"comment_id":127343015,"body_markdown":"Well, I&#39;m doing it through JavaFX so the output will be displayed in a window to the user, and synonyms will be hyperlinked, but essentially yes. Although I realised pretty printing keeps all the json formatting such as curly braces and quotations which is not what i want, unless i just did that wrong.","body":"Well, I&#39;m doing it through JavaFX so the output will be displayed in a window to the user, and synonyms will be hyperlinked, but essentially yes. Although I realised pretty printing keeps all the json formatting such as curly braces and quotations which is not what i want, unless i just did that wrong."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1651499232,"post_id":72069635,"comment_id":127372275,"body_markdown":"It&#39;s really hard to tell what you&#39;re really trying to achieve, but consider using `JsonElement` and its subclasses to make &quot;perfect&quot; JSON snapshots (mapping+deserialization can produce a &quot;not perfect&quot; JSON snapshot because of different deserialization rules) you can reuse multiple times, and have no need in custom mappings.","body":"It&#39;s really hard to tell what you&#39;re really trying to achieve, but consider using <code>JsonElement</code> and its subclasses to make &quot;perfect&quot; JSON snapshots (mapping+deserialization can produce a &quot;not perfect&quot; JSON snapshot because of different deserialization rules) you can reuse multiple times, and have no need in custom mappings."},{"owner":{"account_id":25156614,"reputation":11,"user_id":19001367,"display_name":"chaoticCowzz"},"score":0,"creation_date":1651625209,"post_id":72069635,"comment_id":127406472,"body_markdown":"Yea I&#39;m basically trying to neatly print everything within the JSON, but yea I&#39;ve found that using gson disrupts the format of the JSON and so you can&#39;t treat it as a JSON after mapping and deserialising it. I decided to use simple JSON and dive into everything but have not found an effective way of recursively diving the deepest part of the json and printing the lines found.","body":"Yea I&#39;m basically trying to neatly print everything within the JSON, but yea I&#39;ve found that using gson disrupts the format of the JSON and so you can&#39;t treat it as a JSON after mapping and deserialising it. I decided to use simple JSON and dive into everything but have not found an effective way of recursively diving the deepest part of the json and printing the lines found."}],"owner":{"account_id":25156614,"reputation":11,"user_id":19001367,"display_name":"chaoticCowzz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651335903,"creation_date":1651331237,"question_id":72069635,"body_markdown":"My program currently gets a response from an api which returns an extensive json script, usually around 400 lines or more. Within this JSON there are well over 20 elements, of which only about 2 are needed for other functions, the rest just needs to printed.\r\nI have tried to make classes for each element but it became excessive, especially when the elements had different variations, and so i was told a recursive approach would be better suited. My current attempt involves using gson, although I find myself using instanceof in order to determine whether the next json element can be mapped using gson. \r\n\r\nMy JSON script looks as follows:\r\n```\r\n{\r\n  &quot;id&quot;: &quot;fox&quot;,\r\n  &quot;metadata&quot;: {\r\n    &quot;operation&quot;: &quot;retrieve&quot;,\r\n    &quot;provider&quot;: &quot;Oxford University Press&quot;,\r\n    &quot;schema&quot;: &quot;RetrieveEntry&quot;\r\n  },\r\n  &quot;results&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;fox&quot;,\r\n      &quot;language&quot;: &quot;en-gb&quot;,\r\n      &quot;lexicalEntries&quot;: [\r\n        {\r\n          &quot;derivatives&quot;: [\r\n            {\r\n              &quot;id&quot;: &quot;foxlike&quot;,\r\n              &quot;text&quot;: &quot;foxlike&quot;\r\n            }\r\n          ],\r\n          &quot;entries&quot;: [\r\n            {\r\n              &quot;etymologies&quot;: [\r\n                &quot;Old English, of Germanic origin; related to Dutch vos and German Fuchs&quot;\r\n              ],\r\n              &quot;pronunciations&quot;: [\r\n                {\r\n                  &quot;audioFile&quot;: &quot;https://audio.oxforddictionaries.com/en/mp3/fox_gb_1.mp3&quot;,\r\n                  &quot;dialects&quot;: [\r\n                    &quot;British English&quot;\r\n                  ],\r\n                  &quot;phoneticNotation&quot;: &quot;IPA&quot;,\r\n                  &quot;phoneticSpelling&quot;: &quot;fɒks&quot;\r\n                }\r\n              ],\r\n              &quot;senses&quot;: [\r\n                {\r\n                  &quot;definitions&quot;: [\r\n                    &quot;a carnivorous mammal of the dog family with a pointed muzzle and bushy tail, proverbial for its cunning.&quot;\r\n                  ],\r\n                  &quot;domainClasses&quot;: [\r\n                    {\r\n                      &quot;id&quot;: &quot;mammal&quot;,\r\n                      &quot;text&quot;: &quot;Mammal&quot;\r\n                    }\r\n                  ],\r\n                  &quot;id&quot;: &quot;m_en_gbus0384950.006&quot;,\r\n                  &quot;notes&quot;: [\r\n                    {\r\n                      &quot;text&quot;: &quot;Vulpes and three other genera, family Canidae: several species, including the red fox and the arctic fox&quot;,\r\n                      &quot;type&quot;: &quot;technicalNote&quot;\r\n                    }\r\n                  ],\r\n                  &quot;semanticClasses&quot;: [\r\n                    {\r\n                      &quot;id&quot;: &quot;canid&quot;,\r\n                      &quot;text&quot;: &quot;Canid&quot;\r\n                    }\r\n                  ],\r\n                  &quot;shortDefinitions&quot;: [\r\n                    &quot;carnivorous mammal&quot;\r\n                  ],\r\n                  &quot;subsenses&quot;: [\r\n                    {\r\n                      &quot;definitions&quot;: [\r\n                        &quot;the fur of a fox.&quot;\r\n                      ],\r\n                      &quot;domainClasses&quot;: [\r\n                        {\r\n                          &quot;id&quot;: &quot;mammal&quot;,\r\n                          &quot;text&quot;: &quot;Mammal&quot;\r\n                        }\r\n                      ],\r\n                      &quot;id&quot;: &quot;m_en_gbus0384950.010&quot;,\r\n                      &quot;notes&quot;: [\r\n                        {\r\n                          &quot;text&quot;: &quot;mass noun&quot;,\r\n                          &quot;type&quot;: &quot;grammaticalNote&quot;\r\n                        }\r\n                      ],\r\n                      &quot;semanticClasses&quot;: [\r\n                        {\r\n                          &quot;id&quot;: &quot;fur&quot;,\r\n                          &quot;text&quot;: &quot;Fur&quot;\r\n                        }\r\n                      ],\r\n                      &quot;shortDefinitions&quot;: [\r\n                        &quot;fur of fox&quot;\r\n                      ]\r\n                    }\r\n                  ],\r\n                  &quot;synonyms&quot;: [\r\n                    {\r\n                      &quot;language&quot;: &quot;en&quot;,\r\n                      &quot;text&quot;: &quot;Reynard&quot;\r\n                    }\r\n                  ],\r\n                  &quot;thesaurusLinks&quot;: [\r\n                    {\r\n                      &quot;entry_id&quot;: &quot;fox&quot;,\r\n                      &quot;sense_id&quot;: &quot;t_en_gb0006011.001&quot;\r\n                    }\r\n                  ]\r\n                },\r\n                {\r\n                  &quot;definitions&quot;: [\r\n                    &quot;a cunning or sly person&quot;\r\n                  ],\r\n                  &quot;examples&quot;: [\r\n                    {\r\n                      &quot;text&quot;: &quot;a wily old fox&quot;\r\n                    }\r\n                  ],\r\n                  &quot;id&quot;: &quot;m_en_gbus0384950.013&quot;,\r\n                  &quot;semanticClasses&quot;: [\r\n                    {\r\n                      &quot;id&quot;: &quot;disliked_person&quot;,\r\n                      &quot;text&quot;: &quot;Disliked_Person&quot;\r\n                    }\r\n                  ],\r\n                  &quot;shortDefinitions&quot;: [\r\n                    &quot;cunning or sly person&quot;\r\n                  ]\r\n                },\r\n                {\r\n                  &quot;definitions&quot;: [\r\n                    &quot;a sexually attractive woman.&quot;\r\n                  ],\r\n                  &quot;id&quot;: &quot;m_en_gbus0384950.015&quot;,\r\n                  &quot;regions&quot;: [\r\n                    {\r\n                      &quot;id&quot;: &quot;north_american&quot;,\r\n                      &quot;text&quot;: &quot;North_American&quot;\r\n                    }\r\n                  ],\r\n                  &quot;registers&quot;: [\r\n                    {\r\n                      &quot;id&quot;: &quot;informal&quot;,\r\n                      &quot;text&quot;: &quot;Informal&quot;\r\n                    }\r\n                  ],\r\n                  &quot;semanticClasses&quot;: [\r\n                    {\r\n                      &quot;id&quot;: &quot;attractive_female&quot;,\r\n                      &quot;text&quot;: &quot;Attractive_Female&quot;\r\n                    }\r\n                  ],\r\n                  &quot;shortDefinitions&quot;: [\r\n                    &quot;sexually attractive woman&quot;\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          &quot;language&quot;: &quot;en-gb&quot;,\r\n          &quot;lexicalCategory&quot;: {\r\n            &quot;id&quot;: &quot;noun&quot;,\r\n            &quot;text&quot;: &quot;Noun&quot;\r\n          },\r\n          &quot;text&quot;: &quot;fox&quot;\r\n        },\r\n        {\r\n          &quot;derivatives&quot;: [\r\n            {\r\n              &quot;id&quot;: &quot;foxlike&quot;,\r\n              &quot;text&quot;: &quot;foxlike&quot;\r\n            }\r\n          ],\r\n          &quot;entries&quot;: [\r\n            {\r\n              &quot;grammaticalFeatures&quot;: [\r\n                {\r\n                  &quot;id&quot;: &quot;transitive&quot;,\r\n                  &quot;text&quot;: &quot;Transitive&quot;,\r\n                  &quot;type&quot;: &quot;Subcategorization&quot;\r\n                }\r\n              ],\r\n              &quot;pronunciations&quot;: [\r\n                {\r\n                  &quot;audioFile&quot;: &quot;https://audio.oxforddictionaries.com/en/mp3/fox_gb_1.mp3&quot;,\r\n                  &quot;dialects&quot;: [\r\n                    &quot;British English&quot;\r\n                  ],\r\n                  &quot;phoneticNotation&quot;: &quot;IPA&quot;,\r\n                  &quot;phoneticSpelling&quot;: &quot;fɒks&quot;\r\n                }\r\n              ],\r\n              &quot;senses&quot;: [\r\n                {\r\n                  &quot;definitions&quot;: [\r\n                    &quot;baffle or deceive (someone)&quot;\r\n                  ],\r\n                  &quot;examples&quot;: [\r\n                    {\r\n                      &quot;text&quot;: &quot;the abbreviation foxed me completely&quot;\r\n                    }\r\n                  ],\r\n                  &quot;id&quot;: &quot;m_en_gbus0384950.017&quot;,\r\n                  &quot;registers&quot;: [\r\n                    {\r\n                      &quot;id&quot;: &quot;informal&quot;,\r\n                      &quot;text&quot;: &quot;Informal&quot;\r\n                    }\r\n                  ],\r\n                  &quot;shortDefinitions&quot;: [\r\n                    &quot;baffle or deceive&quot;\r\n                  ],\r\n                  &quot;subsenses&quot;: [\r\n                    {\r\n                      &quot;definitions&quot;: [\r\n                        &quot;behave in a cunning or sly way&quot;\r\n                      ],\r\n                      &quot;examples&quot;: [\r\n                        {\r\n                          &quot;text&quot;: &quot;to his mind everybody was dodging and foxing&quot;\r\n                        }\r\n                      ],\r\n                      &quot;id&quot;: &quot;m_en_gbus0384950.023&quot;,\r\n                      &quot;notes&quot;: [\r\n                        {\r\n                          &quot;text&quot;: &quot;no object&quot;,\r\n                          &quot;type&quot;: &quot;grammaticalNote&quot;\r\n                        }\r\n                      ],\r\n                      &quot;registers&quot;: [\r\n                        {\r\n                          &quot;id&quot;: &quot;dated&quot;,\r\n                          &quot;text&quot;: &quot;Dated&quot;\r\n                        }\r\n                      ],\r\n                      &quot;shortDefinitions&quot;: [\r\n                        &quot;behave in cunning or sly way&quot;\r\n                      ]\r\n                    }\r\n                  ],\r\n                  &quot;synonyms&quot;: [\r\n                    {\r\n                      &quot;language&quot;: &quot;en&quot;,\r\n                      &quot;text&quot;: &quot;baffle&quot;\r\n                    },\r\n                    {\r\n                      &quot;language&quot;: &quot;en&quot;,\r\n                      &quot;text&quot;: &quot;bewilder&quot;\r\n                    },\r\n                    {\r\n                      &quot;language&quot;: &quot;en&quot;,\r\n                      &quot;text&quot;: &quot;mystify&quot;\r\n                    },\r\n                    {\r\n                      &quot;language&quot;: &quot;en&quot;,\r\n                      &quot;text&quot;: &quot;bemuse&quot;\r\n                    },\r\n                    {\r\n                      &quot;language&quot;: &quot;en&quot;,\r\n                      &quot;text&quot;: &quot;perplex&quot;\r\n                    },\r\n                    {\r\n                      &quot;language&quot;: &quot;en&quot;,\r\n                      &quot;text&quot;: &quot;puzzle&quot;\r\n                    },\r\n                    {\r\n                      &quot;language&quot;: &quot;en&quot;,\r\n                      &quot;text&quot;: &quot;confuse&quot;\r\n                    },\r\n                    {\r\n                      &quot;language&quot;: &quot;en&quot;,\r\n                      &quot;text&quot;: &quot;confound&quot;\r\n                    },\r\n                    {\r\n                      &quot;language&quot;: &quot;en&quot;,\r\n                      &quot;text&quot;: &quot;nonplus&quot;\r\n                    },\r\n                    {\r\n                      &quot;language&quot;: &quot;en&quot;,\r\n                      &quot;text&quot;: &quot;disconcert&quot;\r\n                    },\r\n                    {\r\n                      &quot;language&quot;: &quot;en&quot;,\r\n                      &quot;text&quot;: &quot;throw&quot;\r\n                    },\r\n                    {\r\n                      &quot;language&quot;: &quot;en&quot;,\r\n                      &quot;text&quot;: &quot;throw off balance&quot;\r\n                    },\r\n                    {\r\n                      &quot;language&quot;: &quot;en&quot;,\r\n                      &quot;text&quot;: &quot;disorientate&quot;\r\n                    },\r\n                    {\r\n                      &quot;language&quot;: &quot;en&quot;,\r\n                      &quot;text&quot;: &quot;take aback&quot;\r\n                    },\r\n                    {\r\n                      &quot;language&quot;: &quot;en&quot;,\r\n                      &quot;text&quot;: &quot;set thinking&quot;\r\n                    }\r\n                  ],\r\n                  &quot;thesaurusLinks&quot;: [\r\n                    {\r\n                      &quot;entry_id&quot;: &quot;flummox&quot;,\r\n                      &quot;sense_id&quot;: &quot;t_en_gb0005828.001&quot;\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          &quot;language&quot;: &quot;en-gb&quot;,\r\n          &quot;lexicalCategory&quot;: {\r\n            &quot;id&quot;: &quot;verb&quot;,\r\n            &quot;text&quot;: &quot;Verb&quot;\r\n          },\r\n          &quot;text&quot;: &quot;fox&quot;\r\n        }\r\n      ],\r\n      &quot;type&quot;: &quot;headword&quot;,\r\n      &quot;word&quot;: &quot;fox&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: &quot;Fox&quot;,\r\n      &quot;language&quot;: &quot;en-gb&quot;,\r\n      &quot;lexicalEntries&quot;: [\r\n        {\r\n          &quot;entries&quot;: [\r\n            {\r\n              &quot;inflections&quot;: [\r\n                {\r\n                  &quot;grammaticalFeatures&quot;: [\r\n                    {\r\n                      &quot;id&quot;: &quot;plural&quot;,\r\n                      &quot;text&quot;: &quot;Plural&quot;,\r\n                      &quot;type&quot;: &quot;Number&quot;\r\n                    }\r\n                  ],\r\n                  &quot;inflectedForm&quot;: &quot;Fox&quot;\r\n                }\r\n              ],\r\n              &quot;pronunciations&quot;: [\r\n                {\r\n                  &quot;audioFile&quot;: &quot;https://audio.oxforddictionaries.com/en/mp3/fox_gb_1.mp3&quot;,\r\n                  &quot;dialects&quot;: [\r\n                    &quot;British English&quot;\r\n                  ],\r\n                  &quot;phoneticNotation&quot;: &quot;IPA&quot;,\r\n                  &quot;phoneticSpelling&quot;: &quot;fɒks&quot;\r\n                }\r\n              ],\r\n              &quot;senses&quot;: [\r\n                {\r\n                  &quot;definitions&quot;: [\r\n                    &quot;a member of a North American people formerly living in southern Wisconsin, and now mainly in Iowa, Nebraska, and Kansas.&quot;\r\n                  ],\r\n                  &quot;domainClasses&quot;: [\r\n                    {\r\n                      &quot;id&quot;: &quot;people&quot;,\r\n                      &quot;text&quot;: &quot;People&quot;\r\n                    },\r\n                    {\r\n                      &quot;id&quot;: &quot;amerindian&quot;,\r\n                      &quot;text&quot;: &quot;Amerindian&quot;\r\n                    }\r\n                  ],\r\n                  &quot;id&quot;: &quot;m_en_gbus0384960.006&quot;,\r\n                  &quot;semanticClasses&quot;: [\r\n                    {\r\n                      &quot;id&quot;: &quot;amerindian&quot;,\r\n                      &quot;text&quot;: &quot;Amerindian&quot;\r\n                    }\r\n                  ],\r\n                  &quot;shortDefinitions&quot;: [\r\n                    &quot;member of North American people&quot;\r\n                  ]\r\n                },\r\n                {\r\n                  &quot;definitions&quot;: [\r\n                    &quot;the Algonquian language of the Fox, now almost extinct.&quot;\r\n                  ],\r\n                  &quot;domainClasses&quot;: [\r\n                    {\r\n                      &quot;id&quot;: &quot;language&quot;,\r\n                      &quot;text&quot;: &quot;Language&quot;\r\n                    },\r\n                    {\r\n                      &quot;id&quot;: &quot;amerindian&quot;,\r\n                      &quot;text&quot;: &quot;Amerindian&quot;\r\n                    }\r\n                  ],\r\n                  &quot;id&quot;: &quot;m_en_gbus0384960.010&quot;,\r\n                  &quot;notes&quot;: [\r\n                    {\r\n                      &quot;text&quot;: &quot;mass noun&quot;,\r\n                      &quot;type&quot;: &quot;grammaticalNote&quot;\r\n                    }\r\n                  ],\r\n                  &quot;semanticClasses&quot;: [\r\n                    {\r\n                      &quot;id&quot;: &quot;amerindian_language&quot;,\r\n                      &quot;text&quot;: &quot;Amerindian_Language&quot;\r\n                    }\r\n                  ],\r\n                  &quot;shortDefinitions&quot;: [\r\n                    &quot;Algonquian language of Fox, now extinct&quot;\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          &quot;language&quot;: &quot;en-gb&quot;,\r\n          &quot;lexicalCategory&quot;: {\r\n            &quot;id&quot;: &quot;noun&quot;,\r\n            &quot;text&quot;: &quot;Noun&quot;\r\n          },\r\n          &quot;text&quot;: &quot;Fox&quot;\r\n        },\r\n        {\r\n          &quot;entries&quot;: [\r\n            {\r\n              &quot;pronunciations&quot;: [\r\n                {\r\n                  &quot;audioFile&quot;: &quot;https://audio.oxforddictionaries.com/en/mp3/fox_gb_1.mp3&quot;,\r\n                  &quot;dialects&quot;: [\r\n                    &quot;British English&quot;\r\n                  ],\r\n                  &quot;phoneticNotation&quot;: &quot;IPA&quot;,\r\n                  &quot;phoneticSpelling&quot;: &quot;fɒks&quot;\r\n                }\r\n              ],\r\n              &quot;senses&quot;: [\r\n                {\r\n                  &quot;definitions&quot;: [\r\n                    &quot;relating to the Fox or their language.&quot;\r\n                  ],\r\n                  &quot;domainClasses&quot;: [\r\n                    {\r\n                      &quot;id&quot;: &quot;amerindian&quot;,\r\n                      &quot;text&quot;: &quot;Amerindian&quot;\r\n                    }\r\n                  ],\r\n                  &quot;id&quot;: &quot;m_en_gbus0384960.013&quot;,\r\n                  &quot;shortDefinitions&quot;: [\r\n                    &quot;relating to Fox or their language&quot;\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          &quot;language&quot;: &quot;en-gb&quot;,\r\n          &quot;lexicalCategory&quot;: {\r\n            &quot;id&quot;: &quot;adjective&quot;,\r\n            &quot;text&quot;: &quot;Adjective&quot;\r\n          },\r\n          &quot;text&quot;: &quot;Fox&quot;\r\n        }\r\n      ],\r\n      &quot;type&quot;: &quot;headword&quot;,\r\n      &quot;word&quot;: &quot;Fox&quot;\r\n    }\r\n  ],\r\n  &quot;word&quot;: &quot;fox&quot;\r\n}\r\n```\r\n\r\nIf there are any edits I should make to my question please let me know, this is my first question here. Thanks for any help.\r\n\r\nEDIT:\r\nThe output needs to be formatted neatly, so basically it must be line separated and should be displayed in an easy to read manner, but as well as this, some elements, such as synonyms, need to have their words hyperlinked so they must be identified separately. Hope this helps","title":"Recursively print all json elements and nested elements using gson","body":"<p>My program currently gets a response from an api which returns an extensive json script, usually around 400 lines or more. Within this JSON there are well over 20 elements, of which only about 2 are needed for other functions, the rest just needs to printed.\nI have tried to make classes for each element but it became excessive, especially when the elements had different variations, and so i was told a recursive approach would be better suited. My current attempt involves using gson, although I find myself using instanceof in order to determine whether the next json element can be mapped using gson.</p>\n<p>My JSON script looks as follows:</p>\n<pre><code>{\n  &quot;id&quot;: &quot;fox&quot;,\n  &quot;metadata&quot;: {\n    &quot;operation&quot;: &quot;retrieve&quot;,\n    &quot;provider&quot;: &quot;Oxford University Press&quot;,\n    &quot;schema&quot;: &quot;RetrieveEntry&quot;\n  },\n  &quot;results&quot;: [\n    {\n      &quot;id&quot;: &quot;fox&quot;,\n      &quot;language&quot;: &quot;en-gb&quot;,\n      &quot;lexicalEntries&quot;: [\n        {\n          &quot;derivatives&quot;: [\n            {\n              &quot;id&quot;: &quot;foxlike&quot;,\n              &quot;text&quot;: &quot;foxlike&quot;\n            }\n          ],\n          &quot;entries&quot;: [\n            {\n              &quot;etymologies&quot;: [\n                &quot;Old English, of Germanic origin; related to Dutch vos and German Fuchs&quot;\n              ],\n              &quot;pronunciations&quot;: [\n                {\n                  &quot;audioFile&quot;: &quot;https://audio.oxforddictionaries.com/en/mp3/fox_gb_1.mp3&quot;,\n                  &quot;dialects&quot;: [\n                    &quot;British English&quot;\n                  ],\n                  &quot;phoneticNotation&quot;: &quot;IPA&quot;,\n                  &quot;phoneticSpelling&quot;: &quot;fɒks&quot;\n                }\n              ],\n              &quot;senses&quot;: [\n                {\n                  &quot;definitions&quot;: [\n                    &quot;a carnivorous mammal of the dog family with a pointed muzzle and bushy tail, proverbial for its cunning.&quot;\n                  ],\n                  &quot;domainClasses&quot;: [\n                    {\n                      &quot;id&quot;: &quot;mammal&quot;,\n                      &quot;text&quot;: &quot;Mammal&quot;\n                    }\n                  ],\n                  &quot;id&quot;: &quot;m_en_gbus0384950.006&quot;,\n                  &quot;notes&quot;: [\n                    {\n                      &quot;text&quot;: &quot;Vulpes and three other genera, family Canidae: several species, including the red fox and the arctic fox&quot;,\n                      &quot;type&quot;: &quot;technicalNote&quot;\n                    }\n                  ],\n                  &quot;semanticClasses&quot;: [\n                    {\n                      &quot;id&quot;: &quot;canid&quot;,\n                      &quot;text&quot;: &quot;Canid&quot;\n                    }\n                  ],\n                  &quot;shortDefinitions&quot;: [\n                    &quot;carnivorous mammal&quot;\n                  ],\n                  &quot;subsenses&quot;: [\n                    {\n                      &quot;definitions&quot;: [\n                        &quot;the fur of a fox.&quot;\n                      ],\n                      &quot;domainClasses&quot;: [\n                        {\n                          &quot;id&quot;: &quot;mammal&quot;,\n                          &quot;text&quot;: &quot;Mammal&quot;\n                        }\n                      ],\n                      &quot;id&quot;: &quot;m_en_gbus0384950.010&quot;,\n                      &quot;notes&quot;: [\n                        {\n                          &quot;text&quot;: &quot;mass noun&quot;,\n                          &quot;type&quot;: &quot;grammaticalNote&quot;\n                        }\n                      ],\n                      &quot;semanticClasses&quot;: [\n                        {\n                          &quot;id&quot;: &quot;fur&quot;,\n                          &quot;text&quot;: &quot;Fur&quot;\n                        }\n                      ],\n                      &quot;shortDefinitions&quot;: [\n                        &quot;fur of fox&quot;\n                      ]\n                    }\n                  ],\n                  &quot;synonyms&quot;: [\n                    {\n                      &quot;language&quot;: &quot;en&quot;,\n                      &quot;text&quot;: &quot;Reynard&quot;\n                    }\n                  ],\n                  &quot;thesaurusLinks&quot;: [\n                    {\n                      &quot;entry_id&quot;: &quot;fox&quot;,\n                      &quot;sense_id&quot;: &quot;t_en_gb0006011.001&quot;\n                    }\n                  ]\n                },\n                {\n                  &quot;definitions&quot;: [\n                    &quot;a cunning or sly person&quot;\n                  ],\n                  &quot;examples&quot;: [\n                    {\n                      &quot;text&quot;: &quot;a wily old fox&quot;\n                    }\n                  ],\n                  &quot;id&quot;: &quot;m_en_gbus0384950.013&quot;,\n                  &quot;semanticClasses&quot;: [\n                    {\n                      &quot;id&quot;: &quot;disliked_person&quot;,\n                      &quot;text&quot;: &quot;Disliked_Person&quot;\n                    }\n                  ],\n                  &quot;shortDefinitions&quot;: [\n                    &quot;cunning or sly person&quot;\n                  ]\n                },\n                {\n                  &quot;definitions&quot;: [\n                    &quot;a sexually attractive woman.&quot;\n                  ],\n                  &quot;id&quot;: &quot;m_en_gbus0384950.015&quot;,\n                  &quot;regions&quot;: [\n                    {\n                      &quot;id&quot;: &quot;north_american&quot;,\n                      &quot;text&quot;: &quot;North_American&quot;\n                    }\n                  ],\n                  &quot;registers&quot;: [\n                    {\n                      &quot;id&quot;: &quot;informal&quot;,\n                      &quot;text&quot;: &quot;Informal&quot;\n                    }\n                  ],\n                  &quot;semanticClasses&quot;: [\n                    {\n                      &quot;id&quot;: &quot;attractive_female&quot;,\n                      &quot;text&quot;: &quot;Attractive_Female&quot;\n                    }\n                  ],\n                  &quot;shortDefinitions&quot;: [\n                    &quot;sexually attractive woman&quot;\n                  ]\n                }\n              ]\n            }\n          ],\n          &quot;language&quot;: &quot;en-gb&quot;,\n          &quot;lexicalCategory&quot;: {\n            &quot;id&quot;: &quot;noun&quot;,\n            &quot;text&quot;: &quot;Noun&quot;\n          },\n          &quot;text&quot;: &quot;fox&quot;\n        },\n        {\n          &quot;derivatives&quot;: [\n            {\n              &quot;id&quot;: &quot;foxlike&quot;,\n              &quot;text&quot;: &quot;foxlike&quot;\n            }\n          ],\n          &quot;entries&quot;: [\n            {\n              &quot;grammaticalFeatures&quot;: [\n                {\n                  &quot;id&quot;: &quot;transitive&quot;,\n                  &quot;text&quot;: &quot;Transitive&quot;,\n                  &quot;type&quot;: &quot;Subcategorization&quot;\n                }\n              ],\n              &quot;pronunciations&quot;: [\n                {\n                  &quot;audioFile&quot;: &quot;https://audio.oxforddictionaries.com/en/mp3/fox_gb_1.mp3&quot;,\n                  &quot;dialects&quot;: [\n                    &quot;British English&quot;\n                  ],\n                  &quot;phoneticNotation&quot;: &quot;IPA&quot;,\n                  &quot;phoneticSpelling&quot;: &quot;fɒks&quot;\n                }\n              ],\n              &quot;senses&quot;: [\n                {\n                  &quot;definitions&quot;: [\n                    &quot;baffle or deceive (someone)&quot;\n                  ],\n                  &quot;examples&quot;: [\n                    {\n                      &quot;text&quot;: &quot;the abbreviation foxed me completely&quot;\n                    }\n                  ],\n                  &quot;id&quot;: &quot;m_en_gbus0384950.017&quot;,\n                  &quot;registers&quot;: [\n                    {\n                      &quot;id&quot;: &quot;informal&quot;,\n                      &quot;text&quot;: &quot;Informal&quot;\n                    }\n                  ],\n                  &quot;shortDefinitions&quot;: [\n                    &quot;baffle or deceive&quot;\n                  ],\n                  &quot;subsenses&quot;: [\n                    {\n                      &quot;definitions&quot;: [\n                        &quot;behave in a cunning or sly way&quot;\n                      ],\n                      &quot;examples&quot;: [\n                        {\n                          &quot;text&quot;: &quot;to his mind everybody was dodging and foxing&quot;\n                        }\n                      ],\n                      &quot;id&quot;: &quot;m_en_gbus0384950.023&quot;,\n                      &quot;notes&quot;: [\n                        {\n                          &quot;text&quot;: &quot;no object&quot;,\n                          &quot;type&quot;: &quot;grammaticalNote&quot;\n                        }\n                      ],\n                      &quot;registers&quot;: [\n                        {\n                          &quot;id&quot;: &quot;dated&quot;,\n                          &quot;text&quot;: &quot;Dated&quot;\n                        }\n                      ],\n                      &quot;shortDefinitions&quot;: [\n                        &quot;behave in cunning or sly way&quot;\n                      ]\n                    }\n                  ],\n                  &quot;synonyms&quot;: [\n                    {\n                      &quot;language&quot;: &quot;en&quot;,\n                      &quot;text&quot;: &quot;baffle&quot;\n                    },\n                    {\n                      &quot;language&quot;: &quot;en&quot;,\n                      &quot;text&quot;: &quot;bewilder&quot;\n                    },\n                    {\n                      &quot;language&quot;: &quot;en&quot;,\n                      &quot;text&quot;: &quot;mystify&quot;\n                    },\n                    {\n                      &quot;language&quot;: &quot;en&quot;,\n                      &quot;text&quot;: &quot;bemuse&quot;\n                    },\n                    {\n                      &quot;language&quot;: &quot;en&quot;,\n                      &quot;text&quot;: &quot;perplex&quot;\n                    },\n                    {\n                      &quot;language&quot;: &quot;en&quot;,\n                      &quot;text&quot;: &quot;puzzle&quot;\n                    },\n                    {\n                      &quot;language&quot;: &quot;en&quot;,\n                      &quot;text&quot;: &quot;confuse&quot;\n                    },\n                    {\n                      &quot;language&quot;: &quot;en&quot;,\n                      &quot;text&quot;: &quot;confound&quot;\n                    },\n                    {\n                      &quot;language&quot;: &quot;en&quot;,\n                      &quot;text&quot;: &quot;nonplus&quot;\n                    },\n                    {\n                      &quot;language&quot;: &quot;en&quot;,\n                      &quot;text&quot;: &quot;disconcert&quot;\n                    },\n                    {\n                      &quot;language&quot;: &quot;en&quot;,\n                      &quot;text&quot;: &quot;throw&quot;\n                    },\n                    {\n                      &quot;language&quot;: &quot;en&quot;,\n                      &quot;text&quot;: &quot;throw off balance&quot;\n                    },\n                    {\n                      &quot;language&quot;: &quot;en&quot;,\n                      &quot;text&quot;: &quot;disorientate&quot;\n                    },\n                    {\n                      &quot;language&quot;: &quot;en&quot;,\n                      &quot;text&quot;: &quot;take aback&quot;\n                    },\n                    {\n                      &quot;language&quot;: &quot;en&quot;,\n                      &quot;text&quot;: &quot;set thinking&quot;\n                    }\n                  ],\n                  &quot;thesaurusLinks&quot;: [\n                    {\n                      &quot;entry_id&quot;: &quot;flummox&quot;,\n                      &quot;sense_id&quot;: &quot;t_en_gb0005828.001&quot;\n                    }\n                  ]\n                }\n              ]\n            }\n          ],\n          &quot;language&quot;: &quot;en-gb&quot;,\n          &quot;lexicalCategory&quot;: {\n            &quot;id&quot;: &quot;verb&quot;,\n            &quot;text&quot;: &quot;Verb&quot;\n          },\n          &quot;text&quot;: &quot;fox&quot;\n        }\n      ],\n      &quot;type&quot;: &quot;headword&quot;,\n      &quot;word&quot;: &quot;fox&quot;\n    },\n    {\n      &quot;id&quot;: &quot;Fox&quot;,\n      &quot;language&quot;: &quot;en-gb&quot;,\n      &quot;lexicalEntries&quot;: [\n        {\n          &quot;entries&quot;: [\n            {\n              &quot;inflections&quot;: [\n                {\n                  &quot;grammaticalFeatures&quot;: [\n                    {\n                      &quot;id&quot;: &quot;plural&quot;,\n                      &quot;text&quot;: &quot;Plural&quot;,\n                      &quot;type&quot;: &quot;Number&quot;\n                    }\n                  ],\n                  &quot;inflectedForm&quot;: &quot;Fox&quot;\n                }\n              ],\n              &quot;pronunciations&quot;: [\n                {\n                  &quot;audioFile&quot;: &quot;https://audio.oxforddictionaries.com/en/mp3/fox_gb_1.mp3&quot;,\n                  &quot;dialects&quot;: [\n                    &quot;British English&quot;\n                  ],\n                  &quot;phoneticNotation&quot;: &quot;IPA&quot;,\n                  &quot;phoneticSpelling&quot;: &quot;fɒks&quot;\n                }\n              ],\n              &quot;senses&quot;: [\n                {\n                  &quot;definitions&quot;: [\n                    &quot;a member of a North American people formerly living in southern Wisconsin, and now mainly in Iowa, Nebraska, and Kansas.&quot;\n                  ],\n                  &quot;domainClasses&quot;: [\n                    {\n                      &quot;id&quot;: &quot;people&quot;,\n                      &quot;text&quot;: &quot;People&quot;\n                    },\n                    {\n                      &quot;id&quot;: &quot;amerindian&quot;,\n                      &quot;text&quot;: &quot;Amerindian&quot;\n                    }\n                  ],\n                  &quot;id&quot;: &quot;m_en_gbus0384960.006&quot;,\n                  &quot;semanticClasses&quot;: [\n                    {\n                      &quot;id&quot;: &quot;amerindian&quot;,\n                      &quot;text&quot;: &quot;Amerindian&quot;\n                    }\n                  ],\n                  &quot;shortDefinitions&quot;: [\n                    &quot;member of North American people&quot;\n                  ]\n                },\n                {\n                  &quot;definitions&quot;: [\n                    &quot;the Algonquian language of the Fox, now almost extinct.&quot;\n                  ],\n                  &quot;domainClasses&quot;: [\n                    {\n                      &quot;id&quot;: &quot;language&quot;,\n                      &quot;text&quot;: &quot;Language&quot;\n                    },\n                    {\n                      &quot;id&quot;: &quot;amerindian&quot;,\n                      &quot;text&quot;: &quot;Amerindian&quot;\n                    }\n                  ],\n                  &quot;id&quot;: &quot;m_en_gbus0384960.010&quot;,\n                  &quot;notes&quot;: [\n                    {\n                      &quot;text&quot;: &quot;mass noun&quot;,\n                      &quot;type&quot;: &quot;grammaticalNote&quot;\n                    }\n                  ],\n                  &quot;semanticClasses&quot;: [\n                    {\n                      &quot;id&quot;: &quot;amerindian_language&quot;,\n                      &quot;text&quot;: &quot;Amerindian_Language&quot;\n                    }\n                  ],\n                  &quot;shortDefinitions&quot;: [\n                    &quot;Algonquian language of Fox, now extinct&quot;\n                  ]\n                }\n              ]\n            }\n          ],\n          &quot;language&quot;: &quot;en-gb&quot;,\n          &quot;lexicalCategory&quot;: {\n            &quot;id&quot;: &quot;noun&quot;,\n            &quot;text&quot;: &quot;Noun&quot;\n          },\n          &quot;text&quot;: &quot;Fox&quot;\n        },\n        {\n          &quot;entries&quot;: [\n            {\n              &quot;pronunciations&quot;: [\n                {\n                  &quot;audioFile&quot;: &quot;https://audio.oxforddictionaries.com/en/mp3/fox_gb_1.mp3&quot;,\n                  &quot;dialects&quot;: [\n                    &quot;British English&quot;\n                  ],\n                  &quot;phoneticNotation&quot;: &quot;IPA&quot;,\n                  &quot;phoneticSpelling&quot;: &quot;fɒks&quot;\n                }\n              ],\n              &quot;senses&quot;: [\n                {\n                  &quot;definitions&quot;: [\n                    &quot;relating to the Fox or their language.&quot;\n                  ],\n                  &quot;domainClasses&quot;: [\n                    {\n                      &quot;id&quot;: &quot;amerindian&quot;,\n                      &quot;text&quot;: &quot;Amerindian&quot;\n                    }\n                  ],\n                  &quot;id&quot;: &quot;m_en_gbus0384960.013&quot;,\n                  &quot;shortDefinitions&quot;: [\n                    &quot;relating to Fox or their language&quot;\n                  ]\n                }\n              ]\n            }\n          ],\n          &quot;language&quot;: &quot;en-gb&quot;,\n          &quot;lexicalCategory&quot;: {\n            &quot;id&quot;: &quot;adjective&quot;,\n            &quot;text&quot;: &quot;Adjective&quot;\n          },\n          &quot;text&quot;: &quot;Fox&quot;\n        }\n      ],\n      &quot;type&quot;: &quot;headword&quot;,\n      &quot;word&quot;: &quot;Fox&quot;\n    }\n  ],\n  &quot;word&quot;: &quot;fox&quot;\n}\n</code></pre>\n<p>If there are any edits I should make to my question please let me know, this is my first question here. Thanks for any help.</p>\n<p>EDIT:\nThe output needs to be formatted neatly, so basically it must be line separated and should be displayed in an easy to read manner, but as well as this, some elements, such as synonyms, need to have their words hyperlinked so they must be identified separately. Hope this helps</p>\n"},{"tags":["java","apache","tomcat","eclipse-neon"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1481526884,"post_id":41095667,"comment_id":69396092,"body_markdown":"`The servlets named [MyServlet] and [temp.MyServlet] are both mapped to the url-pattern [/MyServlet] which is not permitted` -- Does that mean anything to you?","body":"<code>The servlets named [MyServlet] and [temp.MyServlet] are both mapped to the url-pattern [&#47;MyServlet] which is not permitted</code> -- Does that mean anything to you?"},{"owner":{"account_id":2310386,"reputation":2253,"user_id":2028640,"accept_rate":71,"display_name":"Pat"},"score":0,"creation_date":1481526912,"post_id":41095667,"comment_id":69396108,"body_markdown":"As the error suggests you have 2 servlets with same URL mapping. Post code for MyServlet and temp.Myservlet","body":"As the error suggests you have 2 servlets with same URL mapping. Post code for MyServlet and temp.Myservlet"}],"answers":[{"tags":[],"owner":{"account_id":9679814,"reputation":151,"user_id":7181938,"accept_rate":50,"display_name":"demo demo"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1481527156,"creation_date":1481527156,"answer_id":41095866,"question_id":41095667,"body_markdown":"It has worked after when I have removed @WebServlet annotation from my Myservlet.java.But I can&#39;t understand why it didn&#39;t work with @WebServlet","title":"java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start","body":"<p>It has worked after when I have removed @WebServlet annotation from my Myservlet.java.But I can't understand why it didn't work with @WebServlet</p>\n"},{"tags":[],"owner":{"account_id":9679814,"reputation":151,"user_id":7181938,"accept_rate":50,"display_name":"demo demo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481532037,"creation_date":1481532037,"answer_id":41096964,"question_id":41095667,"body_markdown":"I have followed https://stackoverflow.com/questions/16270619/java-lang-illegalargumentexception-the-servlets-named-x-and-y-are-both-mapp this and it works!!!!!!!! \r\n\r\n\r\n&gt; It seems that you have mixed @WebServlet annotation based and web.xml\r\n&gt; based configuration.\r\n&gt; \r\n&gt; I doubt that you created a Servlet using the &quot;Create Servlet&quot; wizard\r\n&gt; which creates web.xml entry with url-pattern and then , added a\r\n&gt; @WebServlet annotation which duplicates anything you may put in the\r\n&gt; web.xml.\r\n&gt; \r\n&gt; You should use the one or the other, not both. Remove the mapping from\r\n&gt; web.xml and go ahead with using only the @WebServlet annotation.","title":"java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start","body":"<p>I have followed <a href=\"https://stackoverflow.com/questions/16270619/java-lang-illegalargumentexception-the-servlets-named-x-and-y-are-both-mapp\">java.lang.IllegalArgumentException: The servlets named [X] and [Y] are both mapped to the url-pattern [/url] which is not permitted</a> this and it works!!!!!!!! </p>\n\n<blockquote>\n  <p>It seems that you have mixed @WebServlet annotation based and web.xml\n  based configuration.</p>\n  \n  <p>I doubt that you created a Servlet using the \"Create Servlet\" wizard\n  which creates web.xml entry with url-pattern and then , added a\n  @WebServlet annotation which duplicates anything you may put in the\n  web.xml.</p>\n  \n  <p>You should use the one or the other, not both. Remove the mapping from\n  web.xml and go ahead with using only the @WebServlet annotation.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6413483,"reputation":1053,"user_id":4972367,"display_name":"Hardik Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506184529,"creation_date":1506184529,"answer_id":46381885,"question_id":41095667,"body_markdown":"In my scenario, I am using `@WebServlet` Annotation and ***same url pattern mapping for two different servlet***, after changing the url pattern in one of the servlet, Tomcat successfully started for me :-)","title":"java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start","body":"<p>In my scenario, I am using <code>@WebServlet</code> Annotation and <strong><em>same url pattern mapping for two different servlet</em></strong>, after changing the url pattern in one of the servlet, Tomcat successfully started for me :-)</p>\n"},{"tags":[],"owner":{"account_id":24808863,"reputation":109,"user_id":18690553,"display_name":"Ankit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651335806,"creation_date":1651335806,"answer_id":72070188,"question_id":41095667,"body_markdown":"Step 1) Delete the server.\r\n\r\nStep 2) Click on window and then select preferences.\r\n\r\nStep 3) Select server &amp; then select Runtime Environments.\r\n\r\nStep 4) Select &amp; remove the runtime environment. Example : Apache Tomcat v9.0\r\n\r\nStep 5) Again select &amp; add runtime environment. Example : Apache Tomcat v9.0\r\n\r\nStep 6) Select Tomcat Installation directory : which is parent directory of bin folder.\r\n\r\nStep 7) Click finish and then click apply &amp; close button to add runtime environment successfully.\r\n\r\nStep 8) Click on window &amp; then show view and select server.\r\n\r\nStep 9) Click the link to create a new server, select the server and click finish.\r\n\r\nStep 10) Right click and start the server.\r\n\r\nStep 11) If any problem then change the ports, right click &amp; open.\r\n\r\nStep 12) Change the Tomcat admin port to 8080 or any four digit number, &amp; similarly change port for HTTP/1.1 to 8000 or any four digit number.\r\n\r\nStep 13) Save the port changes.\r\n\r\nStep 14) Run the server, the problem is solved.","title":"java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start","body":"<p>Step 1) Delete the server.</p>\n<p>Step 2) Click on window and then select preferences.</p>\n<p>Step 3) Select server &amp; then select Runtime Environments.</p>\n<p>Step 4) Select &amp; remove the runtime environment. Example : Apache Tomcat v9.0</p>\n<p>Step 5) Again select &amp; add runtime environment. Example : Apache Tomcat v9.0</p>\n<p>Step 6) Select Tomcat Installation directory : which is parent directory of bin folder.</p>\n<p>Step 7) Click finish and then click apply &amp; close button to add runtime environment successfully.</p>\n<p>Step 8) Click on window &amp; then show view and select server.</p>\n<p>Step 9) Click the link to create a new server, select the server and click finish.</p>\n<p>Step 10) Right click and start the server.</p>\n<p>Step 11) If any problem then change the ports, right click &amp; open.</p>\n<p>Step 12) Change the Tomcat admin port to 8080 or any four digit number, &amp; similarly change port for HTTP/1.1 to 8000 or any four digit number.</p>\n<p>Step 13) Save the port changes.</p>\n<p>Step 14) Run the server, the problem is solved.</p>\n"}],"owner":{"account_id":9679814,"reputation":151,"user_id":7181938,"accept_rate":50,"display_name":"demo demo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22736,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1651335806,"creation_date":1481526246,"question_id":41095667,"body_markdown":"When I am trying to run my project it shows this type of error.\r\n\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Temp]]\r\n      at java.util.concurrent.FutureTask.report(Unknown Source)\r\n      at java.util.concurrent.FutureTask.get(Unknown Source)\r\n      at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939)\r\n      at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872)\r\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n      at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419)\r\n      at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409)\r\n      at java.util.concurrent.FutureTask.run(Unknown Source)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)  \r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) \r\n      at java.lang.Thread.run(Unknown Source) \r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Temp]]\r\n      at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441)\r\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n      ... 6 more \r\n    Caused by: java.lang.IllegalArgumentException: The servlets named [MyServlet] and [temp.MyServlet] are both mapped to the url-pattern [/MyServlet] which is not permitted\r\n      at org.apache.tomcat.util.descriptor.web.WebXml.addServletMappingDecoded(WebXml.java:327)\r\n      at org.apache.tomcat.util.descriptor.web.WebXml.addServletMapping(WebXml.java:320)\r\n      at org.apache.catalina.startup.ContextConfig.processAnnotationWebServlet(ContextConfig.java:2389)\r\n      at org.apache.catalina.startup.ContextConfig.processAnnotationsStream(ContextConfig.java:2066)\r\n      at org.apache.catalina.startup.ContextConfig.processAnnotationsWebResource(ContextConfig.java:1952)\r\n      at org.apache.catalina.startup.ContextConfig.processAnnotationsWebResource(ContextConfig.java:1946)\r\n      at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1153)\r\n      at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:775)\r\n      at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)\r\n      at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n      at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5077)\r\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n      ... 6 more\r\n\r\n    Dec 12, 2016 12:53:47 PM org.apache.catalina.core.ContainerBase startInternal SEVERE: A child container failed during start java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start  at java.util.concurrent.FutureTask.report(Unknown Source) \r\n      at java.util.concurrent.FutureTask.get(Unknown Source)\r\n      at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939)\r\n      at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n      at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\r\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n      at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793)\r\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n      at org.apache.catalina.startup.Catalina.start(Catalina.java:655) \r\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n      at java.lang.reflect.Method.invoke(Unknown Source)\r\n      at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:355)\r\n      at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:495) Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n      at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:948)\r\n      at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872)\r\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n      at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419)\r\n      at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409)\r\n      at java.util.concurrent.FutureTask.run(Unknown Source)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)  \r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) \r\n      at java.lang.Thread.run(Unknown Source)\r\n\r\n    Dec 12, 2016 12:53:47 PM org.apache.catalina.startup.Catalina start SEVERE: The required Server component failed to start so Tomcat is unable to start. org.apache.catalina.LifecycleException: A child container failed during start  \r\n      at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:948)\r\n      at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n      at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\r\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n      at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793)\r\n      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n      at org.apache.catalina.startup.Catalina.start(Catalina.java:655) \r\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n      at java.lang.reflect.Method.invoke(Unknown Source)\r\n      at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:355)\r\n      at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:495)\r\n\r\n\r\n 1. IDE: Ecilpse-neon\r\n 2. server:Tomcat v9.0\r\n 3. Java: 1.8.0 ( in Tomcat also)\r\n 4. Added jar:\r\n\r\n              \r\n\r\n - catalina-4.1.31\r\n\r\n               \r\n\r\n - catalina-ant-6.0.37\r\n\r\n              \r\n\r\n - catalina-ha-6.0.13\r\n\r\n             \r\n\r\n - catalina-tribes\r\n\r\n             \r\n\r\n - javax.servlet-3.0\r\n\r\n               \r\n\r\n - servlet-api-2.5-6.1h.6\r\n\r\nMyServlet.java\r\n\r\n    //@WebServlet(&quot;/MyServlet&quot;)\r\n    public class MyServlet extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n        /**\r\n         * Default constructor. \r\n         */\r\n        public MyServlet() {\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tPrintWriter out = response.getWriter();\r\n    \t\tout.print(&quot;Hello..............&quot;);\r\n    \t\tresponse.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tdoGet(request, response);\r\n    \t}\r\nweb.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n      &lt;display-name&gt;Temp&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n      \r\n      &lt;servlet&gt;\r\n      &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\r\n      &lt;servlet-class&gt;temp.MyServlet&lt;/servlet-class&gt;\r\n      \r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n      &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\r\n      &lt;url-pattern&gt;/MyServlet&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n}\r\n\r\n\r\nHow Can I solve those error?\r\n\r\n","title":"java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start","body":"<p>When I am trying to run my project it shows this type of error.</p>\n\n<pre><code>java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Temp]]\n  at java.util.concurrent.FutureTask.report(Unknown Source)\n  at java.util.concurrent.FutureTask.get(Unknown Source)\n  at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939)\n  at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872)\n  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n  at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419)\n  at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409)\n  at java.util.concurrent.FutureTask.run(Unknown Source)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)  \n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) \n  at java.lang.Thread.run(Unknown Source) \nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Temp]]\n  at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441)\n  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n  ... 6 more \nCaused by: java.lang.IllegalArgumentException: The servlets named [MyServlet] and [temp.MyServlet] are both mapped to the url-pattern [/MyServlet] which is not permitted\n  at org.apache.tomcat.util.descriptor.web.WebXml.addServletMappingDecoded(WebXml.java:327)\n  at org.apache.tomcat.util.descriptor.web.WebXml.addServletMapping(WebXml.java:320)\n  at org.apache.catalina.startup.ContextConfig.processAnnotationWebServlet(ContextConfig.java:2389)\n  at org.apache.catalina.startup.ContextConfig.processAnnotationsStream(ContextConfig.java:2066)\n  at org.apache.catalina.startup.ContextConfig.processAnnotationsWebResource(ContextConfig.java:1952)\n  at org.apache.catalina.startup.ContextConfig.processAnnotationsWebResource(ContextConfig.java:1946)\n  at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1153)\n  at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:775)\n  at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)\n  at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n  at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5077)\n  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n  ... 6 more\n\nDec 12, 2016 12:53:47 PM org.apache.catalina.core.ContainerBase startInternal SEVERE: A child container failed during start java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start  at java.util.concurrent.FutureTask.report(Unknown Source) \n  at java.util.concurrent.FutureTask.get(Unknown Source)\n  at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:939)\n  at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n  at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\n  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n  at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793)\n  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n  at org.apache.catalina.startup.Catalina.start(Catalina.java:655) \n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.lang.reflect.Method.invoke(Unknown Source)\n  at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:355)\n  at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:495) Caused by: org.apache.catalina.LifecycleException: A child container failed during start\n  at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:948)\n  at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:872)\n  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n  at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1419)\n  at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409)\n  at java.util.concurrent.FutureTask.run(Unknown Source)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)  \n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) \n  at java.lang.Thread.run(Unknown Source)\n\nDec 12, 2016 12:53:47 PM org.apache.catalina.startup.Catalina start SEVERE: The required Server component failed to start so Tomcat is unable to start. org.apache.catalina.LifecycleException: A child container failed during start  \n  at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:948)\n  at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n  at org.apache.catalina.core.StandardService.startInternal(StandardService.java:422)\n  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n  at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:793)\n  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n  at org.apache.catalina.startup.Catalina.start(Catalina.java:655) \n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.lang.reflect.Method.invoke(Unknown Source)\n  at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:355)\n  at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:495)\n</code></pre>\n\n<ol>\n<li>IDE: Ecilpse-neon</li>\n<li>server:Tomcat v9.0</li>\n<li>Java: 1.8.0 ( in Tomcat also)</li>\n<li><p>Added jar:</p>\n\n<ul>\n<li><p>catalina-4.1.31</p></li>\n<li><p>catalina-ant-6.0.37</p></li>\n<li><p>catalina-ha-6.0.13</p></li>\n<li><p>catalina-tribes</p></li>\n<li><p>javax.servlet-3.0</p></li>\n<li><p>servlet-api-2.5-6.1h.6</p></li>\n</ul></li>\n</ol>\n\n<p>MyServlet.java</p>\n\n<pre><code>//@WebServlet(\"/MyServlet\")\npublic class MyServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    /**\n     * Default constructor. \n     */\n    public MyServlet() {\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        PrintWriter out = response.getWriter();\n        out.print(\"Hello..............\");\n        response.getWriter().append(\"Served at: \").append(request.getContextPath());\n    }\n\n    /**\n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        doGet(request, response);\n    }\n</code></pre>\n\n<p>web.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" id=\"WebApp_ID\" version=\"3.0\"&gt;\n  &lt;display-name&gt;Temp&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n\n  &lt;servlet&gt;\n  &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n  &lt;servlet-class&gt;temp.MyServlet&lt;/servlet-class&gt;\n\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;/MyServlet&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>}</p>\n\n<p>How Can I solve those error?</p>\n"},{"tags":["java","proxy","http2"],"comments":[{"owner":{"account_id":3245347,"reputation":3398,"user_id":3887073,"accept_rate":75,"display_name":"Ben"},"score":0,"creation_date":1651329487,"post_id":72068831,"comment_id":127341519,"body_markdown":"Your client is using a proxy. You are sending the request to the proxy and the proxy forwards it (with any modifications) to the server. Maybe the proxy is the problem here?","body":"Your client is using a proxy. You are sending the request to the proxy and the proxy forwards it (with any modifications) to the server. Maybe the proxy is the problem here?"},{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":0,"creation_date":1651329829,"post_id":72068831,"comment_id":127341607,"body_markdown":"The output was retrieved as raw bytes straight from the sockets before the proxy even had a chance to see it. To test your theory i created an simple TCP server which simply printed the bytes received and closed the connection and i got the exact same output","body":"The output was retrieved as raw bytes straight from the sockets before the proxy even had a chance to see it. To test your theory i created an simple TCP server which simply printed the bytes received and closed the connection and i got the exact same output"},{"owner":{"account_id":3245347,"reputation":3398,"user_id":3887073,"accept_rate":75,"display_name":"Ben"},"score":0,"creation_date":1651332484,"post_id":72068831,"comment_id":127342185,"body_markdown":"the linked documentation indicates that version 2 is already the default and there is a note: `Constraints may also affect the selection of protocol version. For example, if HTTP/2 is requested through a proxy, and if the implementation does not support this mode, then HTTP/1.1 may be used`  It looks like your code is ok.","body":"the linked documentation indicates that version 2 is already the default and there is a note: <code>Constraints may also affect the selection of protocol version. For example, if HTTP&#47;2 is requested through a proxy, and if the implementation does not support this mode, then HTTP&#47;1.1 may be used</code>  It looks like your code is ok."},{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":0,"creation_date":1651334673,"post_id":72068831,"comment_id":127342567,"body_markdown":"So HttpClient does not support http 2 protocol over proxy? Is there anything setting to change that or should it be reported as an feature request?","body":"So HttpClient does not support http 2 protocol over proxy? Is there anything setting to change that or should it be reported as an feature request?"}],"answers":[{"tags":[],"owner":{"account_id":1255537,"reputation":17217,"user_id":1215076,"display_name":"sbordet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651335649,"creation_date":1651335649,"answer_id":72070164,"question_id":72068831,"body_markdown":"Evidently, OpenJDK&#39;s `HttpClient` is only able to send HTTP/1.1 requests to a proxy.\r\n\r\nEven if you specified `HttpClient.Version.HTTP_2`, because there is a proxy, OpenJDK&#39;s `HttpClient` ignores the version you specified, formats the request as HTTP/1.1 and sends it to the proxy.\r\n\r\nOpenJDK&#39;s `HttpClient` proxy capabilities are quite limited (for example, you cannot easily use a secure protocol to communicate to the proxy), so you may want to look into different HTTP clients.\r\n\r\n[Disclaimer, I&#39;m part of the Jetty team.]\r\n\r\nJetty&#39;s `HttpClient` supports a more flexible proxy configuration, so you can  specify what protocol the proxy speaks (and whether it is secure).\r\n\r\nNote that you need the proxy cooperation to obtain what you want, because `Connection` is a [hop-by-hop header](https://datatracker.ietf.org/doc/html/rfc7230#section-6.1), so it is only valid on a single hop, i.e. from the client to the proxy.\r\n\r\nThe proxy can legitimately take the client&#39;s HTTP/1.1 upgrade request to HTTP/2, but then use HTTP/1.1 to talk to the server, get the HTTP/1.1 response back from the server and produce a `101 Upgrade` response followed by the an HTTP/2 response obtained converting to HTTP/2 the server&#39;s HTTP/1.1 response:\r\n\r\n```\r\nclient                    proxy               server\r\n   | ----  h1+upgrade  ---&gt; |                    |\r\n   |                        | --  h1 request --&gt; |\r\n   |                        | &lt;-- h1 response -- |\r\n   | &lt;-- h1 101 upgrade  -- |\r\n   | &lt;--- h2c response  --- |\r\n```\r\n\r\nA proxy that supports `h2c` could instead do what you want:\r\n\r\n```\r\nclient                     proxy                    server\r\n   | ----  h1+upgradeA  ---&gt; |                        |\r\n   |                         | ---  h1+upgradeB  ---&gt; |\r\n   |                         | &lt;--  h1 101 upgrade -- |\r\n   |                         | &lt;--- h2c response ---- |\r\n   | &lt;--  h1 101 upgrade  -- |\r\n   | &lt;--- h2c response  ---- |\r\n```\r\n\r\nNote however that `upgradeA` could be different from `upgradeB` exactly because `Connection` and `Upgrade` are hop-by-hop headers, and the proxy may have a different HTTP/2 configuration with respect to the client (and therefore also send a different `HTTP2-Settings` header).\r\n\r\nIf the communication between the client and the proxy is clear-text, you must have prior knowledge of whether the proxy supports `h2c`, otherwise the client will default to HTTP/1.1 (like OpenJDK&#39;s `HttpClient` does).\r\nIn contrast, Jetty&#39;s `HttpClient` can be configured with the protocol you want to use to talk to the proxy.\r\n\r\nAlternatively, you have to use a secure communication via TLS so that the client and the proxy can negotiate the protocol they want to speak (e.g. `h2`).  \r\n\r\nThe same holds for the proxy: if the communication with the server is clear-text (your case), the proxy must have prior knowledge that the server supports `h2c`, so you need to configure the proxy with that information, otherwise the proxy will likely default to HTTP/1.1.\r\n\r\nObviously the proxy must support both HTTP/1.1 and HTTP/2.\r\n\r\nIf you are implementing the proxy, copying the `Connection` (and other hop-by-hop headers) towards the server is technically wrong, but it may work in restricted, simpler, cases.\r\nSee [this section of RFC 7230](https://datatracker.ietf.org/doc/html/rfc7230#section-6.1) that specifies how hop-by-hop headers should be removed by proxies.\r\n\r\nFTR, [this test](https://github.com/eclipse/jetty.project/blob/jetty-11.0.9/tests/test-http-client-transport/src/test/java/org/eclipse/jetty/http/client/ProxyWithDynamicTransportTest.java#L218) shows that Jetty (client and server) can support any combination of protocols (HTTP/1.1 and HTTP/2, clear-text and secure) between the client, the proxy and the server.","title":"HttpClient : http 2 request sent via proxy has no upgrade headers","body":"<p>Evidently, OpenJDK's <code>HttpClient</code> is only able to send HTTP/1.1 requests to a proxy.</p>\n<p>Even if you specified <code>HttpClient.Version.HTTP_2</code>, because there is a proxy, OpenJDK's <code>HttpClient</code> ignores the version you specified, formats the request as HTTP/1.1 and sends it to the proxy.</p>\n<p>OpenJDK's <code>HttpClient</code> proxy capabilities are quite limited (for example, you cannot easily use a secure protocol to communicate to the proxy), so you may want to look into different HTTP clients.</p>\n<p>[Disclaimer, I'm part of the Jetty team.]</p>\n<p>Jetty's <code>HttpClient</code> supports a more flexible proxy configuration, so you can  specify what protocol the proxy speaks (and whether it is secure).</p>\n<p>Note that you need the proxy cooperation to obtain what you want, because <code>Connection</code> is a <a href=\"https://datatracker.ietf.org/doc/html/rfc7230#section-6.1\" rel=\"nofollow noreferrer\">hop-by-hop header</a>, so it is only valid on a single hop, i.e. from the client to the proxy.</p>\n<p>The proxy can legitimately take the client's HTTP/1.1 upgrade request to HTTP/2, but then use HTTP/1.1 to talk to the server, get the HTTP/1.1 response back from the server and produce a <code>101 Upgrade</code> response followed by the an HTTP/2 response obtained converting to HTTP/2 the server's HTTP/1.1 response:</p>\n<pre><code>client                    proxy               server\n   | ----  h1+upgrade  ---&gt; |                    |\n   |                        | --  h1 request --&gt; |\n   |                        | &lt;-- h1 response -- |\n   | &lt;-- h1 101 upgrade  -- |\n   | &lt;--- h2c response  --- |\n</code></pre>\n<p>A proxy that supports <code>h2c</code> could instead do what you want:</p>\n<pre><code>client                     proxy                    server\n   | ----  h1+upgradeA  ---&gt; |                        |\n   |                         | ---  h1+upgradeB  ---&gt; |\n   |                         | &lt;--  h1 101 upgrade -- |\n   |                         | &lt;--- h2c response ---- |\n   | &lt;--  h1 101 upgrade  -- |\n   | &lt;--- h2c response  ---- |\n</code></pre>\n<p>Note however that <code>upgradeA</code> could be different from <code>upgradeB</code> exactly because <code>Connection</code> and <code>Upgrade</code> are hop-by-hop headers, and the proxy may have a different HTTP/2 configuration with respect to the client (and therefore also send a different <code>HTTP2-Settings</code> header).</p>\n<p>If the communication between the client and the proxy is clear-text, you must have prior knowledge of whether the proxy supports <code>h2c</code>, otherwise the client will default to HTTP/1.1 (like OpenJDK's <code>HttpClient</code> does).\nIn contrast, Jetty's <code>HttpClient</code> can be configured with the protocol you want to use to talk to the proxy.</p>\n<p>Alternatively, you have to use a secure communication via TLS so that the client and the proxy can negotiate the protocol they want to speak (e.g. <code>h2</code>).</p>\n<p>The same holds for the proxy: if the communication with the server is clear-text (your case), the proxy must have prior knowledge that the server supports <code>h2c</code>, so you need to configure the proxy with that information, otherwise the proxy will likely default to HTTP/1.1.</p>\n<p>Obviously the proxy must support both HTTP/1.1 and HTTP/2.</p>\n<p>If you are implementing the proxy, copying the <code>Connection</code> (and other hop-by-hop headers) towards the server is technically wrong, but it may work in restricted, simpler, cases.\nSee <a href=\"https://datatracker.ietf.org/doc/html/rfc7230#section-6.1\" rel=\"nofollow noreferrer\">this section of RFC 7230</a> that specifies how hop-by-hop headers should be removed by proxies.</p>\n<p>FTR, <a href=\"https://github.com/eclipse/jetty.project/blob/jetty-11.0.9/tests/test-http-client-transport/src/test/java/org/eclipse/jetty/http/client/ProxyWithDynamicTransportTest.java#L218\" rel=\"nofollow noreferrer\">this test</a> shows that Jetty (client and server) can support any combination of protocols (HTTP/1.1 and HTTP/2, clear-text and secure) between the client, the proxy and the server.</p>\n"}],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72070164,"answer_count":1,"score":1,"last_activity_date":1651335649,"creation_date":1651324508,"question_id":72068831,"body_markdown":"So, I am managing a company http server and have been asked to upgrade the server to support proxy requests using http 2 protocol\r\n\r\nThis is the test client. I am using [HttpClient](https://docs.oracle.com/en/java/javase/17/docs/api/java.net.http/java/net/http/HttpClient.html?msclkid=cd54d5c7c88411ecb4c9d5cfd8ea4129) in jdk 17. Here is the test case.\r\n\r\n```\r\n    public static void main(String[] args)throws Exception\r\n     {\r\n      HttpClient client=HttpClient.newBuilder()\r\n                                  .proxy(ProxySelector.of(new InetSocketAddress(&quot;192.168.1.2&quot;,1000))) //proxy to 192.168.1.2:1000 \r\n                                  .version(HttpClient.Version.HTTP_2)    //use http 2                      \r\n                                  .build();\r\n      \r\n      //request to 192.168.1.2:2000\r\n      HttpRequest request=HttpRequest.newBuilder(URI.create(&quot;http://192.168.1.2:2000/Test.txt&quot;))\r\n                                      .build();\r\n      \r\n      HttpResponse response=client.send(request,BodyHandlers.ofString());\r\n      System.out.println(&quot;Status code: &quot; + response.statusCode());                            \r\n      System.out.println(&quot;Headers: &quot; + response.headers().map());\r\n      System.out.println(&quot;Body: &quot; + response.body());\r\n     } \r\n```\r\n\r\nMy server is running on http 2 protocol and I wasn&#39;t getting any response. Upon debugging the packet received on my server looked like this:\r\n\r\n```\r\n    GET http://192.168.1.2:2000/Test.txt HTTP/1.1\r\n    Content-Length: 0\r\n    Host: 192.168.1.2:2000\r\n    User-Agent: Java-http-client/17.0.2\r\n```\r\n\r\nThis is neither in http 2 format nor are there any upgrade headers which my server was designed to parse, which typically looks like this without using proxy:\r\n\r\n```\r\n    GET /Test.txt HTTP/1.1\r\n    Connection: Upgrade, HTTP2-Settings\r\n    Content-Length: 0\r\n    Host: 192.168.1.2:2000\r\n    HTTP2-Settings: AAEAAEAAAAIAAAABAAMAAABkAAQBAAAAAAUAAEAA\r\n    Upgrade: h2c\r\n    User-Agent: Java-http-client/17.0.2\r\n```\r\n\r\nMy server was designed to parse this request as it is the [upgrade request](https://www.rfc-editor.org/rfc/rfc7540?msclkid=198be25fc87b11eca21146cdba8d08f5#section-3.2) which contains the http 2 settings for the client.\r\n\r\nSo, my questions are when I get a request like this:\r\n\r\n```\r\n     GET http://192.168.1.2:2000/Test.txt HTTP/1.1\r\n     Content-Length: 0\r\n     Host: 192.168.1.2:2000\r\n     User-Agent: Java-http-client/17.0.2\r\n```\r\n\r\n1) Do I respond back to the client in HTTP 1.1 or HTTP 2 Format? The doubt arises because in my client test case I have clearly specified version(HTTP_2) but the request has no upgrade headers, so should I maybe respond back in HTTP 1.1 format?\r\n\r\n2) Is there any way to make the HttpClient include the Upgrade headers so I can respond back in HTTP 2 format?\r\n\r\n**EDIT.**\r\n\r\nTo debug the response i created an simple TCP server running on port 1000 and proxied through it. I simply print the bytes received at this proxy and get the exact same output\r\n\r\n    //Test Proxy server running on port 1000. No parsing data simply print and close for debugging purposes\r\n    public static void main(String[] args)throws Exception\r\n     {\r\n      try(ServerSocket server=new ServerSocket(1000))\r\n      {\r\n       try(Socket client=server.accept())\r\n       {\r\n        try(InputStream input=client.getInputStream())\r\n        {\r\n         byte[] data=new byte[8196];\r\n         int length=input.read(data);\r\n         System.out.println(new String(data,0,length));\r\n        } \r\n       } \r\n      } \r\n     }\r\n\r\n","title":"HttpClient : http 2 request sent via proxy has no upgrade headers","body":"<p>So, I am managing a company http server and have been asked to upgrade the server to support proxy requests using http 2 protocol</p>\n<p>This is the test client. I am using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.net.http/java/net/http/HttpClient.html?msclkid=cd54d5c7c88411ecb4c9d5cfd8ea4129\" rel=\"nofollow noreferrer\">HttpClient</a> in jdk 17. Here is the test case.</p>\n<pre><code>    public static void main(String[] args)throws Exception\n     {\n      HttpClient client=HttpClient.newBuilder()\n                                  .proxy(ProxySelector.of(new InetSocketAddress(&quot;192.168.1.2&quot;,1000))) //proxy to 192.168.1.2:1000 \n                                  .version(HttpClient.Version.HTTP_2)    //use http 2                      \n                                  .build();\n      \n      //request to 192.168.1.2:2000\n      HttpRequest request=HttpRequest.newBuilder(URI.create(&quot;http://192.168.1.2:2000/Test.txt&quot;))\n                                      .build();\n      \n      HttpResponse response=client.send(request,BodyHandlers.ofString());\n      System.out.println(&quot;Status code: &quot; + response.statusCode());                            \n      System.out.println(&quot;Headers: &quot; + response.headers().map());\n      System.out.println(&quot;Body: &quot; + response.body());\n     } \n</code></pre>\n<p>My server is running on http 2 protocol and I wasn't getting any response. Upon debugging the packet received on my server looked like this:</p>\n<pre><code>    GET http://192.168.1.2:2000/Test.txt HTTP/1.1\n    Content-Length: 0\n    Host: 192.168.1.2:2000\n    User-Agent: Java-http-client/17.0.2\n</code></pre>\n<p>This is neither in http 2 format nor are there any upgrade headers which my server was designed to parse, which typically looks like this without using proxy:</p>\n<pre><code>    GET /Test.txt HTTP/1.1\n    Connection: Upgrade, HTTP2-Settings\n    Content-Length: 0\n    Host: 192.168.1.2:2000\n    HTTP2-Settings: AAEAAEAAAAIAAAABAAMAAABkAAQBAAAAAAUAAEAA\n    Upgrade: h2c\n    User-Agent: Java-http-client/17.0.2\n</code></pre>\n<p>My server was designed to parse this request as it is the <a href=\"https://www.rfc-editor.org/rfc/rfc7540?msclkid=198be25fc87b11eca21146cdba8d08f5#section-3.2\" rel=\"nofollow noreferrer\">upgrade request</a> which contains the http 2 settings for the client.</p>\n<p>So, my questions are when I get a request like this:</p>\n<pre><code>     GET http://192.168.1.2:2000/Test.txt HTTP/1.1\n     Content-Length: 0\n     Host: 192.168.1.2:2000\n     User-Agent: Java-http-client/17.0.2\n</code></pre>\n<ol>\n<li><p>Do I respond back to the client in HTTP 1.1 or HTTP 2 Format? The doubt arises because in my client test case I have clearly specified version(HTTP_2) but the request has no upgrade headers, so should I maybe respond back in HTTP 1.1 format?</p>\n</li>\n<li><p>Is there any way to make the HttpClient include the Upgrade headers so I can respond back in HTTP 2 format?</p>\n</li>\n</ol>\n<p><strong>EDIT.</strong></p>\n<p>To debug the response i created an simple TCP server running on port 1000 and proxied through it. I simply print the bytes received at this proxy and get the exact same output</p>\n<pre><code>//Test Proxy server running on port 1000. No parsing data simply print and close for debugging purposes\npublic static void main(String[] args)throws Exception\n {\n  try(ServerSocket server=new ServerSocket(1000))\n  {\n   try(Socket client=server.accept())\n   {\n    try(InputStream input=client.getInputStream())\n    {\n     byte[] data=new byte[8196];\n     int length=input.read(data);\n     System.out.println(new String(data,0,length));\n    } \n   } \n  } \n }\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1651335990,"post_id":72070140,"comment_id":127342927,"body_markdown":"Moral of the story - don&#39;t use null layouts. Learn to use layout managers","body":"Moral of the story - don&#39;t use null layouts. Learn to use layout managers"},{"owner":{"account_id":24354886,"reputation":15,"user_id":18290244,"display_name":"bblex"},"score":0,"creation_date":1651338625,"post_id":72070140,"comment_id":127343479,"body_markdown":"@g00se how do you think, what layout would be best?","body":"@g00se how do you think, what layout would be best?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1651339913,"post_id":72070140,"comment_id":127343727,"body_markdown":"There is no such thing as one best layout. Best to learn the major ones first, BorderLayout, GridLayout, FlowLayout, BoxLayout, and then the more difficult ones, GridBagLayout, SpringLayout, and perhaps GroupLayout, and then nest JPanels, each using its own layout, to achieve simple, yet flexible and stable GUI&#39;s.","body":"There is no such thing as one best layout. Best to learn the major ones first, BorderLayout, GridLayout, FlowLayout, BoxLayout, and then the more difficult ones, GridBagLayout, SpringLayout, and perhaps GroupLayout, and then nest JPanels, each using its own layout, to achieve simple, yet flexible and stable GUI&#39;s."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1651340013,"post_id":72070140,"comment_id":127343747,"body_markdown":"Usually, when you override method `paintComponent`, the first line in the method is a call to the superclass method, i.e. `super.paintComponent(graphics)`","body":"Usually, when you override method <code>paintComponent</code>, the first line in the method is a call to the superclass method, i.e. <code>super.paintComponent(graphics)</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651341334,"post_id":72070140,"comment_id":127343987,"body_markdown":"You could probably get away with just a `BorderLayout` for that. Your grid could be placed on one `JPanel` and controls could be placed on another `JPanel`. You might set the preferred size of one to get that somewhat unequal width distribution. If you wanted to be adventurous about it, you could use a `GridBagLayout`","body":"You could probably get away with just a <code>BorderLayout</code> for that. Your grid could be placed on one <code>JPanel</code> and controls could be placed on another <code>JPanel</code>. You might set the preferred size of one to get that somewhat unequal width distribution. If you wanted to be adventurous about it, you could use a <code>GridBagLayout</code>"}],"owner":{"account_id":24354886,"reputation":15,"user_id":18290244,"display_name":"bblex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651335428,"creation_date":1651335428,"question_id":72070140,"body_markdown":"I ran into an element rendering issue.\r\nHowever, not everything is so clear.\r\nSome monitors render correctly.\r\n\r\nFor example, I have a laptop with a Full HD display and a 2K monitor.\r\nOn a laptop, the rendering is always correct, but there are problems on the 2K monitor (see the videos below).\r\n\r\nAlso, if I hide the application on a 2K monitor and then expand it, the block is displayed correctly.\r\n\r\n```\r\n public class Block extends JPanel implements DragGestureListener {\r\n\r\n    private int[][] currentBlockMatrix;\r\n    private Color currentColor;\r\n\r\n    Block() {\r\n        initUI();\r\n    }\r\n\r\n    private void initUI() {\r\n        this.setBounds(0, 0, 180, 180);\r\n        this.setLayout(null);\r\n        var ds = new DragSource();\r\n        ds.createDefaultDragGestureRecognizer(this, DnDConstants.ACTION_COPY, this);\r\n    }\r\n\r\n\r\n    \r\n    @Override\r\n    protected void paintComponent(Graphics graphics) {\r\n        currentBlockMatrix = RandomGenerator.getRandomBlockMatrix();\r\n        currentColor = RandomGenerator.getRandomColor();\r\n\r\n        boolean firstFilled = false;\r\n\r\n        graphics.setColor(currentColor);\r\n\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                if (currentBlockMatrix[i][j] == 1) {\r\n                    graphics.fillRect(j * 46, i * 46, 46, 46);\r\n                    if (!firstFilled) {\r\n                        graphics.setColor(Color.black);\r\n                        graphics.fillOval(j * 46 + 18, i * 46 + 18, 10, 10);\r\n                        graphics.setColor(currentColor);\r\n                        firstFilled = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void dragGestureRecognized(DragGestureEvent dge) {\r\n        var cursor = Cursor.getDefaultCursor();\r\n\r\n        if (dge.getDragAction() == DnDConstants.ACTION_COPY) {\r\n            cursor = DragSource.DefaultCopyDrop;\r\n        }\r\n\r\n        dge.startDrag(cursor, new TransferablePanel(currentColor, currentBlockMatrix));\r\n    }\r\n}\r\n```\r\n\r\nInstance of Block class repaints everytime the figure drops on the grid\r\n\r\nDemonstration of work on the full hd monitor:\r\nhttps://youtu.be/posZ1XZAHUQ\r\n\r\nDemonstration of work on the 2K monitor:\r\nhttps://youtu.be/3tGjGYjGVY8\r\n\r\n","title":"Problems with repainting JPanel Java Swing","body":"<p>I ran into an element rendering issue.\nHowever, not everything is so clear.\nSome monitors render correctly.</p>\n<p>For example, I have a laptop with a Full HD display and a 2K monitor.\nOn a laptop, the rendering is always correct, but there are problems on the 2K monitor (see the videos below).</p>\n<p>Also, if I hide the application on a 2K monitor and then expand it, the block is displayed correctly.</p>\n<pre><code> public class Block extends JPanel implements DragGestureListener {\n\n    private int[][] currentBlockMatrix;\n    private Color currentColor;\n\n    Block() {\n        initUI();\n    }\n\n    private void initUI() {\n        this.setBounds(0, 0, 180, 180);\n        this.setLayout(null);\n        var ds = new DragSource();\n        ds.createDefaultDragGestureRecognizer(this, DnDConstants.ACTION_COPY, this);\n    }\n\n\n    \n    @Override\n    protected void paintComponent(Graphics graphics) {\n        currentBlockMatrix = RandomGenerator.getRandomBlockMatrix();\n        currentColor = RandomGenerator.getRandomColor();\n\n        boolean firstFilled = false;\n\n        graphics.setColor(currentColor);\n\n        for (int i = 0; i &lt; 3; i++) {\n            for (int j = 0; j &lt; 3; j++) {\n                if (currentBlockMatrix[i][j] == 1) {\n                    graphics.fillRect(j * 46, i * 46, 46, 46);\n                    if (!firstFilled) {\n                        graphics.setColor(Color.black);\n                        graphics.fillOval(j * 46 + 18, i * 46 + 18, 10, 10);\n                        graphics.setColor(currentColor);\n                        firstFilled = true;\n                    }\n                }\n            }\n        }\n    }\n\n    @Override\n    public void dragGestureRecognized(DragGestureEvent dge) {\n        var cursor = Cursor.getDefaultCursor();\n\n        if (dge.getDragAction() == DnDConstants.ACTION_COPY) {\n            cursor = DragSource.DefaultCopyDrop;\n        }\n\n        dge.startDrag(cursor, new TransferablePanel(currentColor, currentBlockMatrix));\n    }\n}\n</code></pre>\n<p>Instance of Block class repaints everytime the figure drops on the grid</p>\n<p>Demonstration of work on the full hd monitor:\n<a href=\"https://youtu.be/posZ1XZAHUQ\" rel=\"nofollow noreferrer\">https://youtu.be/posZ1XZAHUQ</a></p>\n<p>Demonstration of work on the 2K monitor:\n<a href=\"https://youtu.be/3tGjGYjGVY8\" rel=\"nofollow noreferrer\">https://youtu.be/3tGjGYjGVY8</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1651183952,"post_id":72050762,"comment_id":127310337,"body_markdown":"This is a [generic method (`docs.oracle.com`)](https://docs.oracle.com/javase/tutorial/extra/generics/methods.html).","body":"This is a <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/methods.html\" rel=\"nofollow noreferrer\">generic method (<code>docs.oracle.com</code>)</a>."},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":1,"creation_date":1651184016,"post_id":72050762,"comment_id":127310352,"body_markdown":"Does this answer your question? [What are Generics in Java?](https://stackoverflow.com/questions/7815528/what-are-generics-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7815528/what-are-generics-in-java\">What are Generics in Java?</a>"},{"owner":{"account_id":187979,"reputation":12796,"user_id":426422,"accept_rate":65,"display_name":"Mike Cheel"},"score":0,"creation_date":1651184128,"post_id":72050762,"comment_id":127310386,"body_markdown":"@Mushroomator I&#39;m asking about the additional &lt;T&gt;. I come from a C# background and we don&#39;t need that.","body":"@Mushroomator I&#39;m asking about the additional &lt;T&gt;. I come from a C# background and we don&#39;t need that."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1651184318,"post_id":72050762,"comment_id":127310425,"body_markdown":"@MikeCheel please check the first duplicate linked. It discusses the exact case. Also, writing in ALL CAPS is generally regarded as rude/aggressive.","body":"@MikeCheel please check the first duplicate linked. It discusses the exact case. Also, writing in ALL CAPS is generally regarded as rude/aggressive."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1651184338,"post_id":72050762,"comment_id":127310426,"body_markdown":"It&#39;s a different type variable; the programmer poorly chose the name T for two different things.","body":"It&#39;s a different type variable; the programmer poorly chose the name T for two different things."},{"owner":{"account_id":187979,"reputation":12796,"user_id":426422,"accept_rate":65,"display_name":"Mike Cheel"},"score":0,"creation_date":1651184433,"post_id":72050762,"comment_id":127310445,"body_markdown":"@Turing85 It seems folks rushed to close the question without reading it. As I said I know what generics are but don&#39;t understand the necessity for the additional notation in the return. Sorry for the ALL CAPS.","body":"@Turing85 It seems folks rushed to close the question without reading it. As I said I know what generics are but don&#39;t understand the necessity for the additional notation in the return. Sorry for the ALL CAPS."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1651184516,"post_id":72050762,"comment_id":127310461,"body_markdown":"@MikeCheel &quot;*folks*&quot; refers to me in this particular instance since I unilaterally closed the question. I read your question. Again: the first link should explain its use-case. As passer-by pointed out, it is an additional (independent) generic parameter.","body":"@MikeCheel &quot;<i>folks</i>&quot; refers to me in this particular instance since I unilaterally closed the question. I read your question. Again: the first link should explain its use-case. As passer-by pointed out, it is an additional (independent) generic parameter."},{"owner":{"account_id":187979,"reputation":12796,"user_id":426422,"accept_rate":65,"display_name":"Mike Cheel"},"score":0,"creation_date":1651184694,"post_id":72050762,"comment_id":127310495,"body_markdown":"@Turing85 what does java refer to that as? I&#39;m not seeing a clear answer in that first link you referred to. And as mentioned we don&#39;t use it in C#. What is its purpose? When do I need it?","body":"@Turing85 what does java refer to that as? I&#39;m not seeing a clear answer in that first link you referred to. And as mentioned we don&#39;t use it in C#. What is its purpose? When do I need it?"},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1651184984,"post_id":72050762,"comment_id":127310554,"body_markdown":"@Turing85 -  I don&#39;t think the question is a duplicate. The OP is clearly questioning the appearance of the symbol T in two different contexts, and the answer needs to explain that.  Your &#39;duplicate&#39; links do not.  FWIW,  I have a short program to demonstrate, but can&#39;t post it in a comment without it getting mangled.","body":"@Turing85 -  I don&#39;t think the question is a duplicate. The OP is clearly questioning the appearance of the symbol T in two different contexts, and the answer needs to explain that.  Your &#39;duplicate&#39; links do not.  FWIW,  I have a short program to demonstrate, but can&#39;t post it in a comment without it getting mangled."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1651184992,"post_id":72050762,"comment_id":127310558,"body_markdown":"@MikeCheel It is just the same as a generic parameter on a class, but scoped for the method. You could imagine something like: `public &lt;T&gt; T transformIntToT(Function&lt;Integer, T&gt; transformer) { return transformer.apply(someInt); }` (assume that the surrounding class has a field `int someInt`). So the return-type depends on the method parameter, which depends on the generic parameter.","body":"@MikeCheel It is just the same as a generic parameter on a class, but scoped for the method. You could imagine something like: <code>public &lt;T&gt; T transformIntToT(Function&lt;Integer, T&gt; transformer) { return transformer.apply(someInt); }</code> (assume that the surrounding class has a field <code>int someInt</code>). So the return-type depends on the method parameter, which depends on the generic parameter."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1651185119,"post_id":72050762,"comment_id":127310583,"body_markdown":"Of course. You know that, I know that, but the OP did not. Which is why he asked the question.  Pointing to a couple of answers that are only related by the word &quot;generic&quot; does not help anyone.","body":"Of course. You know that, I know that, but the OP did not. Which is why he asked the question.  Pointing to a couple of answers that are only related by the word &quot;generic&quot; does not help anyone."},{"owner":{"account_id":187979,"reputation":12796,"user_id":426422,"accept_rate":65,"display_name":"Mike Cheel"},"score":0,"creation_date":1651185208,"post_id":72050762,"comment_id":127310605,"body_markdown":"@Turing85 so basically if I don&#39;t want to introduce T to the whole class but instead to just the method, then the additional &lt;T&gt; is necessary? Is this what I am gleaning?","body":"@Turing85 so basically if I don&#39;t want to introduce T to the whole class but instead to just the method, then the additional &lt;T&gt; is necessary? Is this what I am gleaning?"},{"owner":{"account_id":187979,"reputation":12796,"user_id":426422,"accept_rate":65,"display_name":"Mike Cheel"},"score":0,"creation_date":1651185283,"post_id":72050762,"comment_id":127310623,"body_markdown":"@passer-by thank you for understanding what I am asking.","body":"@passer-by thank you for understanding what I am asking."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1651185311,"post_id":72050762,"comment_id":127310630,"body_markdown":"@MikeCheel Yes. It&#39;s just a matter of scoping. If we need a generic parameter for just one method, and the generic parameter can be inferred from the method itself (e.g. through the parameters), there&#39;s no need to make the whole class generic.","body":"@MikeCheel Yes. It&#39;s just a matter of scoping. If we need a generic parameter for just one method, and the generic parameter can be inferred from the method itself (e.g. through the parameters), there&#39;s no need to make the whole class generic."},{"owner":{"account_id":187979,"reputation":12796,"user_id":426422,"accept_rate":65,"display_name":"Mike Cheel"},"score":0,"creation_date":1651185377,"post_id":72050762,"comment_id":127310639,"body_markdown":"@Turing85 are you concurring with my assessment or am I still missing something?","body":"@Turing85 are you concurring with my assessment or am I still missing something?"},{"owner":{"account_id":187979,"reputation":12796,"user_id":426422,"accept_rate":65,"display_name":"Mike Cheel"},"score":0,"creation_date":1651185472,"post_id":72050762,"comment_id":127310660,"body_markdown":"@Turing85 when I do not introduce &lt;T&gt; at the class level and try to define the same method like in my first example of my post, java doesn&#39;t like that. If I add the additional &lt;T&gt; like &lt;T&gt; T DoSomething(T value) then it is fine with it.","body":"@Turing85 when I do not introduce &lt;T&gt; at the class level and try to define the same method like in my first example of my post, java doesn&#39;t like that. If I add the additional &lt;T&gt; like &lt;T&gt; T DoSomething(T value) then it is fine with it."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1651185807,"post_id":72050762,"comment_id":127310715,"body_markdown":"@MikeCheel The compiler complains in the 1st case since `T` is not a type and no generic parameter is defined. As with variables and fields, generic parameters have to be defined before they can be used. But this is a different question.","body":"@MikeCheel The compiler complains in the 1st case since <code>T</code> is not a type and no generic parameter is defined. As with variables and fields, generic parameters have to be defined before they can be used. But this is a different question."},{"owner":{"account_id":187979,"reputation":12796,"user_id":426422,"accept_rate":65,"display_name":"Mike Cheel"},"score":0,"creation_date":1651186180,"post_id":72050762,"comment_id":127310763,"body_markdown":"@Turing85 In both my examples in my post, java doesn&#39;t care; they both compile. If I remove the &lt;T&gt; from class Test&lt;T&gt;, then it does complain unless I add it down at the method level. So just to confirm I understand correctly, if I want to introduce this type parameter at the method level ONLY, I need that additonal &lt;T&gt; to introduce the type to the method. If I am introducing it to the whole class by doing class Test&lt;T&gt;, then it isn&#39;t necessary at the method level. This is what I am seeing but want to confirm that I am not missing anything.","body":"@Turing85 In both my examples in my post, java doesn&#39;t care; they both compile. If I remove the &lt;T&gt; from class Test&lt;T&gt;, then it does complain unless I add it down at the method level. So just to confirm I understand correctly, if I want to introduce this type parameter at the method level ONLY, I need that additonal &lt;T&gt; to introduce the type to the method. If I am introducing it to the whole class by doing class Test&lt;T&gt;, then it isn&#39;t necessary at the method level. This is what I am seeing but want to confirm that I am not missing anything."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1651186305,"post_id":72050762,"comment_id":127310785,"body_markdown":"Again: if we want to use it, we have to declare it first. In the 1st example, if we remove `&lt;T&gt;` from the class, there is no `T` defined. In the 2nd example we &quot;hide&quot; the `&lt;T&gt;` on class-level through the `&lt;T&gt;` on method level (just like a local variable hides a field variable of an object).","body":"Again: if we want to use it, we have to declare it first. In the 1st example, if we remove <code>&lt;T&gt;</code> from the class, there is no <code>T</code> defined. In the 2nd example we &quot;hide&quot; the <code>&lt;T&gt;</code> on class-level through the <code>&lt;T&gt;</code> on method level (just like a local variable hides a field variable of an object)."}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651250332,"creation_date":1651186347,"answer_id":72051039,"question_id":72050762,"body_markdown":"Maybe this will clear it up.  The notation `&lt;T&gt;` declares a type variable.\r\n\r\nSo we have one variable T at the class level, and a redeclaration of that same symbol for a particular method.\r\n\r\n    class Test&lt;T&gt; {\r\n        &lt;T&gt; T doSomething(T value) {\r\n            // &lt;T&gt; declares a new type variable for this one method\r\n            System.out.println(&quot;Type of value: &quot; + value.getClass().getSimpleName());\r\n            return value;\r\n        }\r\n        T doSomethingElse(T value) {\r\n            // T is not redeclared here, thus is the type from the class declaration\r\n            System.out.println(&quot;Type of value: &quot; + value.getClass().getSimpleName());\r\n            return value;\r\n        }\r\n        public static void main(String... a) {\r\n            Test&lt;String&gt; t = new Test&lt;&gt;();\r\n            t.doSomething(42);\r\n            t.doSomething(&quot;foo&quot;); // also works\r\n            t.doSomething(t); // contrived, but still works\r\n            t.doSomethingElse(&quot;hi&quot;);\r\n            t.doSomethingElse(42); // errors because the type `T` is bound to `String` by the declaration `Test&lt;String&gt; t`\r\n        }\r\n    }\r\n\r\nIn main, I create a `Test&lt;String&gt;` so the class-level T is String.  This applies to my method `doSomethingElse`.  \r\n\r\nBut for `doSomething`, T is redeclared. If I call the method with an Integer arg, then T for that case is Integer.\r\n\r\nReally, it would have been better to call the second type variable anything else at all, on the declaration of `doSomething`.  U, for example.\r\n\r\n(In most cases, I actually favour giving useful names to type variables, not just single letters).\r\n ","title":"What is the purpose of additional diamond parameters in a method signature (that look like an additional return type(s))?","body":"<p>Maybe this will clear it up.  The notation <code>&lt;T&gt;</code> declares a type variable.</p>\n<p>So we have one variable T at the class level, and a redeclaration of that same symbol for a particular method.</p>\n<pre><code>class Test&lt;T&gt; {\n    &lt;T&gt; T doSomething(T value) {\n        // &lt;T&gt; declares a new type variable for this one method\n        System.out.println(&quot;Type of value: &quot; + value.getClass().getSimpleName());\n        return value;\n    }\n    T doSomethingElse(T value) {\n        // T is not redeclared here, thus is the type from the class declaration\n        System.out.println(&quot;Type of value: &quot; + value.getClass().getSimpleName());\n        return value;\n    }\n    public static void main(String... a) {\n        Test&lt;String&gt; t = new Test&lt;&gt;();\n        t.doSomething(42);\n        t.doSomething(&quot;foo&quot;); // also works\n        t.doSomething(t); // contrived, but still works\n        t.doSomethingElse(&quot;hi&quot;);\n        t.doSomethingElse(42); // errors because the type `T` is bound to `String` by the declaration `Test&lt;String&gt; t`\n    }\n}\n</code></pre>\n<p>In main, I create a <code>Test&lt;String&gt;</code> so the class-level T is String.  This applies to my method <code>doSomethingElse</code>.</p>\n<p>But for <code>doSomething</code>, T is redeclared. If I call the method with an Integer arg, then T for that case is Integer.</p>\n<p>Really, it would have been better to call the second type variable anything else at all, on the declaration of <code>doSomething</code>.  U, for example.</p>\n<p>(In most cases, I actually favour giving useful names to type variables, not just single letters).</p>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651190651,"creation_date":1651188111,"answer_id":72051216,"question_id":72050762,"body_markdown":"The concept is known as a [generic method (`docs.oracle.com`)][genericMethod].\r\n\r\nIn the code presented, we have an especially tricky case of generics since we have two generic parameters with the same name: \r\n- the `&lt;T&gt;` on the class-level: `public class Test&lt;T&gt;`, and\r\n- the `&lt;T&gt;` on the method-level: `public &lt;T&gt; T DoSomething(T value)`\r\n\r\nThe latter hides the former within the scope of the method `DoSomething(...)`, just like a local variable would hide an instance field with the same name. In general, I would advice against this type of &quot;hiding&quot; since it makes the code harder to read and understand. Thus, for the rest of the discussion we will work with this (slightly modified) version of the code: \r\n\r\n    public class Test&lt;T&gt; {\r\n        public T doSomethingWithT(T t) {\r\n            return t;\r\n        }\r\n\r\n        public &lt;U&gt; U doSomethingWithU(U u) {\r\n            return u;\r\n        }\r\n    }\r\n\r\nThe scope of the class-level generic parameter `T` is for the whole class, while the scope of the method-level generic parameter `U` is only for the one method it is delared on. This will lead to the following observation:\r\n\r\n\r\n    // T is bound to type String for the instance testString:\r\n    final Test&lt;String&gt; testString = new Test&lt;&gt;();\r\n\r\n    final String tString = testString.doSomethingWithT(&quot;Hello&quot;);\r\n    System.out.println(tString); // prints &quot;Hello&quot;\r\n    // will not compile since 1 is not a String:\r\n    // int tInt = testString.doSomethingWithT(1);\r\n\r\n    // For this one invocation of doSomethingWithU(...), U is bound to \r\n    // type String:\r\n    final String uString = testString.doSomethingWithU(&quot;World!&quot;);\r\n    System.out.println(uString); // prints &quot;World!&quot;\r\n\r\n    // for this one invocation of doSomethingWithU(...), U is bound to\r\n    // type Integer:\r\n    final int uInt = testString.doSomethingWithU(1);\r\n    System.out.println(uInt); // prints &quot;1&quot;\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;][Ideone]\r\n\r\nNotice that, although `doSomethingWithU(...)` is a generic method, we did not have to specify the generic parameter, the compiler inferred the type for us. While seldom used, we can also explicitly specify the generic parameter for thie method:\r\n\r\n    final Test&lt;String&gt; testString = new Test&lt;&gt;();\r\n    final Number number = testString.&lt;Number&gt;doSomethingWithU(1);\r\n    System.out.println(number);\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;][Idetwo]\r\n\r\n(In this example, the explicit generic parameter is not necessary, the code works without it aswell, but there are rare cases where this may be useful or even necessary.)\r\n\r\n---\r\n\r\nThe following is not strictly necessary to understand generic methods, but more of a curiosity one might find in code and is meant to prime the reader that it is bad practice, should not be used and removed when seen.\r\n\r\nIt should also be mentioned that the JLS allows us to add generic method parameters on method invocations that do not have any generic parameter. Those parameter do not have any effect:\r\n\r\n    Object o = new Object();\r\n\r\n    // Method &quot;hashCode()&quot; on &quot;Object&quot; has not generic parameters, one \r\n    // can &quot;add&quot; one to the method invocation, it has no effect on the \r\n    // semantics, however\r\n    int hash = o.&lt;String&gt;hashCode();\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;][Idethree]\r\n\r\n---\r\n\r\nA remark on the code: In Java, methods should be written in `camelCase` instead of `CamelCase` (`DoSomething(...)` -&gt; `doSomething(...)`)\r\n\r\n[genericMethod]: https://docs.oracle.com/javase/tutorial/extra/generics/methods.html\r\n\r\n[Ideone]: https://ideone.com/JBnAlf\r\n\r\n[Idetwo]: https://ideone.com/UUqNNx\r\n\r\n[Idethree]: https://ideone.com/GExakk","title":"What is the purpose of additional diamond parameters in a method signature (that look like an additional return type(s))?","body":"<p>The concept is known as a <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/methods.html\" rel=\"nofollow noreferrer\">generic method (<code>docs.oracle.com</code>)</a>.</p>\n<p>In the code presented, we have an especially tricky case of generics since we have two generic parameters with the same name:</p>\n<ul>\n<li>the <code>&lt;T&gt;</code> on the class-level: <code>public class Test&lt;T&gt;</code>, and</li>\n<li>the <code>&lt;T&gt;</code> on the method-level: <code>public &lt;T&gt; T DoSomething(T value)</code></li>\n</ul>\n<p>The latter hides the former within the scope of the method <code>DoSomething(...)</code>, just like a local variable would hide an instance field with the same name. In general, I would advice against this type of &quot;hiding&quot; since it makes the code harder to read and understand. Thus, for the rest of the discussion we will work with this (slightly modified) version of the code:</p>\n<pre><code>public class Test&lt;T&gt; {\n    public T doSomethingWithT(T t) {\n        return t;\n    }\n\n    public &lt;U&gt; U doSomethingWithU(U u) {\n        return u;\n    }\n}\n</code></pre>\n<p>The scope of the class-level generic parameter <code>T</code> is for the whole class, while the scope of the method-level generic parameter <code>U</code> is only for the one method it is delared on. This will lead to the following observation:</p>\n<pre><code>// T is bound to type String for the instance testString:\nfinal Test&lt;String&gt; testString = new Test&lt;&gt;();\n\nfinal String tString = testString.doSomethingWithT(&quot;Hello&quot;);\nSystem.out.println(tString); // prints &quot;Hello&quot;\n// will not compile since 1 is not a String:\n// int tInt = testString.doSomethingWithT(1);\n\n// For this one invocation of doSomethingWithU(...), U is bound to \n// type String:\nfinal String uString = testString.doSomethingWithU(&quot;World!&quot;);\nSystem.out.println(uString); // prints &quot;World!&quot;\n\n// for this one invocation of doSomethingWithU(...), U is bound to\n// type Integer:\nfinal int uInt = testString.doSomethingWithU(1);\nSystem.out.println(uInt); // prints &quot;1&quot;\n</code></pre>\n<p><a href=\"https://ideone.com/JBnAlf\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n<p>Notice that, although <code>doSomethingWithU(...)</code> is a generic method, we did not have to specify the generic parameter, the compiler inferred the type for us. While seldom used, we can also explicitly specify the generic parameter for thie method:</p>\n<pre><code>final Test&lt;String&gt; testString = new Test&lt;&gt;();\nfinal Number number = testString.&lt;Number&gt;doSomethingWithU(1);\nSystem.out.println(number);\n</code></pre>\n<p><a href=\"https://ideone.com/UUqNNx\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n<p>(In this example, the explicit generic parameter is not necessary, the code works without it aswell, but there are rare cases where this may be useful or even necessary.)</p>\n<hr />\n<p>The following is not strictly necessary to understand generic methods, but more of a curiosity one might find in code and is meant to prime the reader that it is bad practice, should not be used and removed when seen.</p>\n<p>It should also be mentioned that the JLS allows us to add generic method parameters on method invocations that do not have any generic parameter. Those parameter do not have any effect:</p>\n<pre><code>Object o = new Object();\n\n// Method &quot;hashCode()&quot; on &quot;Object&quot; has not generic parameters, one \n// can &quot;add&quot; one to the method invocation, it has no effect on the \n// semantics, however\nint hash = o.&lt;String&gt;hashCode();\n</code></pre>\n<p><a href=\"https://ideone.com/GExakk\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n<hr />\n<p>A remark on the code: In Java, methods should be written in <code>camelCase</code> instead of <code>CamelCase</code> (<code>DoSomething(...)</code> -&gt; <code>doSomething(...)</code>)</p>\n"}],"owner":{"account_id":187979,"reputation":12796,"user_id":426422,"accept_rate":65,"display_name":"Mike Cheel"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651335181,"accepted_answer_id":72051039,"answer_count":2,"score":0,"last_activity_date":1651335295,"creation_date":1651183886,"question_id":72050762,"body_markdown":"I have the following class which builds:\r\n\r\n    public class Test&lt;T&gt; {\r\n    \tpublic T DoSomething(T value) {\r\n    \t\treturn value;\r\n    \t}\r\n    }\r\n\r\nI can also define it like this class like this (notice the extra &lt;T&gt; in the DoSomething signature (which also builds):\r\n\r\n    public class Test&lt;T&gt; {\r\n    \tpublic &lt;T&gt; T DoSomething(T value) {\r\n    \t\treturn value;\r\n    \t}\r\n    }\r\n\r\nWhat is its purpose and when do I need to include it? I am asking about the additional `&lt;T&gt;` in the return type, not what generics are.","title":"What is the purpose of additional diamond parameters in a method signature (that look like an additional return type(s))?","body":"<p>I have the following class which builds:</p>\n<pre><code>public class Test&lt;T&gt; {\n    public T DoSomething(T value) {\n        return value;\n    }\n}\n</code></pre>\n<p>I can also define it like this class like this (notice the extra  in the DoSomething signature (which also builds):</p>\n<pre><code>public class Test&lt;T&gt; {\n    public &lt;T&gt; T DoSomething(T value) {\n        return value;\n    }\n}\n</code></pre>\n<p>What is its purpose and when do I need to include it? I am asking about the additional <code>&lt;T&gt;</code> in the return type, not what generics are.</p>\n"},{"tags":["java","swing","jbutton","actionlistener","jcomponent"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1651331981,"post_id":72069590,"comment_id":127342092,"body_markdown":"Save the x and y location (give them more descriptive names) of the image in an application model.  Your `paintComponent` method just draws the image.  Your `actionPerformed` method shifts the x location and calls the `repaint` method.","body":"Save the x and y location (give them more descriptive names) of the image in an application model.  Your <code>paintComponent</code> method just draws the image.  Your <code>actionPerformed</code> method shifts the x location and calls the <code>repaint</code> method."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651333803,"creation_date":1651333803,"answer_id":72069943,"question_id":72069590,"body_markdown":"Currently, your paintComponent method always uses the same values for `x` and `y`, so it should come as no surprise that the image doesn’t move.\r\n\r\n`x` and `y` are *state* that needs to be remembered.  This is done by defining instance fields:\r\n\r\n    private int x;\r\n    private int y;\r\n\r\nYou can’t initialize them at construction time, because a component has a width and height of zero when it’s created (usually).  Fortunately, there is a method which tells you when a component has been given a width and height;  that method is [addNotify](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/Component.html#addNotify()), which you can and should override:\r\n\r\n    @Override\r\n    public void addNotify() {\r\n        super.addNotify();\r\n\r\n        x = (this.getWidth() - img.getWidth(this)) / 2;\r\n        y = (this.getHeight() - img.getHeight(this)) / 2; \r\n    }\r\n\r\nNotice that you should pass `this` (your component instance) to any method which expects an ImageObserver argument, rather than null.\r\n\r\nNow paintComponent doesn’t need to do any calculation.  It just paints the image at whatever `x` and `y` happen to be:\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        g.drawImage(img, x, y, this);\r\n    }\r\n\r\nAnd now that your coordinates are instance fields, you can change them directly:\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent event) {\r\n        x += 50;\r\n        repaint();\r\n    }\r\n","title":"How can I move the position of my Jcomponent after I click a button?","body":"<p>Currently, your paintComponent method always uses the same values for <code>x</code> and <code>y</code>, so it should come as no surprise that the image doesn’t move.</p>\n<p><code>x</code> and <code>y</code> are <em>state</em> that needs to be remembered.  This is done by defining instance fields:</p>\n<pre><code>private int x;\nprivate int y;\n</code></pre>\n<p>You can’t initialize them at construction time, because a component has a width and height of zero when it’s created (usually).  Fortunately, there is a method which tells you when a component has been given a width and height;  that method is <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/Component.html#addNotify()\" rel=\"nofollow noreferrer\">addNotify</a>, which you can and should override:</p>\n<pre><code>@Override\npublic void addNotify() {\n    super.addNotify();\n\n    x = (this.getWidth() - img.getWidth(this)) / 2;\n    y = (this.getHeight() - img.getHeight(this)) / 2; \n}\n</code></pre>\n<p>Notice that you should pass <code>this</code> (your component instance) to any method which expects an ImageObserver argument, rather than null.</p>\n<p>Now paintComponent doesn’t need to do any calculation.  It just paints the image at whatever <code>x</code> and <code>y</code> happen to be:</p>\n<pre><code>@Override\nprotected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    g.drawImage(img, x, y, this);\n}\n</code></pre>\n<p>And now that your coordinates are instance fields, you can change them directly:</p>\n<pre><code>@Override\npublic void actionPerformed(ActionEvent event) {\n    x += 50;\n    repaint();\n}\n</code></pre>\n"}],"owner":{"account_id":20384883,"reputation":131,"user_id":16497497,"display_name":"FishyK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72069943,"answer_count":1,"score":1,"last_activity_date":1651335287,"creation_date":1651330823,"question_id":72069590,"body_markdown":"So I want to change the position of an image which I implemented as a JComponent after I click the corresponding button, however, it does not do anything when getting clicked. \r\n\r\nI think the problem may lay inside my paintComponent method, since I want the image to be drawn in the center of my panel in the beginning. \r\n\r\nThe panel itself has a GridBagLayout, although I think that anchoring it in the center would not help either, since I want to move the image whenever the button is clicked and only want it to show up in the center of the panel when I open the frame...\r\n\r\nFor this button in particular I want my JComponent/image to move 50 pixels to the right.\r\n\r\nAnyway here&#39;s what I did:\r\n```\r\n@Override \r\nprotected void paintComponent(Graphics g) {\r\n\tsuper.paintComponent(g);\r\n\tint x = (this.getWidth() - img.getWidth(null))/2;\r\n\tint y = (this.getHeight() - img.getHeight(null))/2;\r\n\t\r\n\tg.drawImage(img, x, y, null);\r\n}\r\n\r\n@Override\r\npublic void actionPerformed(ActionEvent e) {\r\n\timg.repaint(img.getX()+50, img.getY(), img.getHeight(), img.getWidth());\r\n}\r\n","title":"How can I move the position of my Jcomponent after I click a button?","body":"<p>So I want to change the position of an image which I implemented as a JComponent after I click the corresponding button, however, it does not do anything when getting clicked.</p>\n<p>I think the problem may lay inside my paintComponent method, since I want the image to be drawn in the center of my panel in the beginning.</p>\n<p>The panel itself has a GridBagLayout, although I think that anchoring it in the center would not help either, since I want to move the image whenever the button is clicked and only want it to show up in the center of the panel when I open the frame...</p>\n<p>For this button in particular I want my JComponent/image to move 50 pixels to the right.</p>\n<p>Anyway here's what I did:</p>\n<pre><code>@Override \nprotected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    int x = (this.getWidth() - img.getWidth(null))/2;\n    int y = (this.getHeight() - img.getHeight(null))/2;\n    \n    g.drawImage(img, x, y, null);\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    img.repaint(img.getX()+50, img.getY(), img.getHeight(), img.getWidth());\n}\n</code></pre>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430902996,"creation_date":1430902996,"answer_id":30072158,"question_id":30072110,"body_markdown":"Here type parameters are necessary just to restrict the input lists to only those which elements implement `Comparable` interface. Thanks to generic parameters if you pass `List` of non-comparable elements, it will be a compile time error.","title":"Understanding generic parameters with void return types","body":"<p>Here type parameters are necessary just to restrict the input lists to only those which elements implement <code>Comparable</code> interface. Thanks to generic parameters if you pass <code>List</code> of non-comparable elements, it will be a compile time error.</p>\n"},{"tags":[],"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1430903005,"creation_date":1430903005,"answer_id":30072162,"question_id":30072110,"body_markdown":"If it was\r\n\r\n    public static void sort(List&lt;T&gt; list);\r\n\r\nJava would have no idea the `T` type was supposed to be inferred from the argument. It&#39;d look for a concrete class or interface named `T`, fail to find one, and spit compiler errors at you.","title":"Understanding generic parameters with void return types","body":"<p>If it was</p>\n\n<pre><code>public static void sort(List&lt;T&gt; list);\n</code></pre>\n\n<p>Java would have no idea the <code>T</code> type was supposed to be inferred from the argument. It'd look for a concrete class or interface named <code>T</code>, fail to find one, and spit compiler errors at you.</p>\n"},{"tags":[],"owner":{"account_id":4094217,"reputation":3104,"user_id":3361467,"display_name":"Ray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430903111,"creation_date":1430903111,"answer_id":30072208,"question_id":30072110,"body_markdown":"The type parameter is not about the method&#39;s *behaviour*, it&#39;s about the method&#39;s *signature*. The method accepts only Lists of Comparables. If you put in a List of non-Comparables, the `sort` will simply fail - makes sense, since if the elements can&#39;t be compared, how would you want to sort them?","title":"Understanding generic parameters with void return types","body":"<p>The type parameter is not about the method's <em>behaviour</em>, it's about the method's <em>signature</em>. The method accepts only Lists of Comparables. If you put in a List of non-Comparables, the <code>sort</code> will simply fail - makes sense, since if the elements can't be compared, how would you want to sort them?</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1430921150,"creation_date":1430903251,"answer_id":30072268,"question_id":30072110,"body_markdown":"The syntax:\r\n\r\n    public static void sort(List&lt;T&gt; list);\r\n\r\nis not legal, because `T` has not been declared. The closest code with correct syntax is:\r\n\r\n    public static void sort(List&lt;?&gt; list);\r\n\r\nThis means the method will accept a List of any kind, but to *sort* the list, there must be some way to compare its elements - hence the original signature:\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list);\r\n\r\nwhich means each element can be compared with every other element via the `compareTo()` method.\r\n\r\nThe syntax:\r\n\r\n    void sort(List&lt;? extends Comparable&gt; list)\r\n\r\nIs not nearly as useful - it just requires that the list contain objects that are Comparable, **but not necessarily to each other**. For example, such as list could contain a String and an Integer, both of which are Comparable, but not to each other - you could not meaningfully sort such a list. This is because the unknown type can be different for every element. However, by typing the method, the type can still be any type, but it&#39;s the *same* type for *all* elements of the list.\r\n\r\n","title":"Understanding generic parameters with void return types","body":"<p>The syntax:</p>\n\n<pre><code>public static void sort(List&lt;T&gt; list);\n</code></pre>\n\n<p>is not legal, because <code>T</code> has not been declared. The closest code with correct syntax is:</p>\n\n<pre><code>public static void sort(List&lt;?&gt; list);\n</code></pre>\n\n<p>This means the method will accept a List of any kind, but to <em>sort</em> the list, there must be some way to compare its elements - hence the original signature:</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list);\n</code></pre>\n\n<p>which means each element can be compared with every other element via the <code>compareTo()</code> method.</p>\n\n<p>The syntax:</p>\n\n<pre><code>void sort(List&lt;? extends Comparable&gt; list)\n</code></pre>\n\n<p>Is not nearly as useful - it just requires that the list contain objects that are Comparable, <strong>but not necessarily to each other</strong>. For example, such as list could contain a String and an Integer, both of which are Comparable, but not to each other - you could not meaningfully sort such a list. This is because the unknown type can be different for every element. However, by typing the method, the type can still be any type, but it's the <em>same</em> type for <em>all</em> elements of the list.</p>\n"},{"tags":[],"owner":{"account_id":989599,"reputation":96,"user_id":4862152,"display_name":"gniewkos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430974662,"creation_date":1430947403,"answer_id":30087797,"question_id":30072110,"body_markdown":"Sierra &amp; Bates SCJP:\r\n&gt; The strangest thing about generic methods is that you must declare the type variable BEFORE the return type of the method.\r\n\r\nas others have said, the only way for \r\n\r\n    public static void sort(List&lt;T&gt; list);\r\n\r\nto work is if there is actually a class named T, in which case the argument is like any other type declaration for variable.\r\n\r\nIt could also help to think about following example from Sierra &amp; Bates. It shows that **formal type parameters are in order to avoid naming conflicts**:\r\n\r\n    class X { public &lt;X&gt; X(X x) {} } \r\n\r\n&gt; Yes, this works... there is no naming conflict between class names, type parameter placeholders, and variable identifiers.\r\n\r\nThen we have other case:\r\n\r\n    void sort(List&lt;? extends Comparable&gt; list)\r\n\r\nThis case is known as [capture of a wildcard][1]. Compiler takes type specification from the wildcard and creates anonymous type. The effect is the same like with explicit type specification except that the type can not be used in method implementation. You could imagine this as following pseudo-code:\r\n\r\n    &lt;T_?001&gt; void sort_?001(List&lt;T_?001&gt; list)\r\n \r\nThis case shows the other goal of **formal parameters - they allow the use of named type in method implementation**.\r\n\r\n    &lt;T extends Comparable&gt; void sort(List&lt;T&gt; list) {\r\n      Iterator&lt;T&gt; it = list.iterator();\r\n    }\r\n\r\n  [1]: http://www.angelikalanger.com/GenericsFAQ/FAQSections/TechnicalDetails.html#FAQ402","title":"Understanding generic parameters with void return types","body":"<p>Sierra &amp; Bates SCJP:</p>\n\n<blockquote>\n  <p>The strangest thing about generic methods is that you must declare the type variable BEFORE the return type of the method.</p>\n</blockquote>\n\n<p>as others have said, the only way for </p>\n\n<pre><code>public static void sort(List&lt;T&gt; list);\n</code></pre>\n\n<p>to work is if there is actually a class named T, in which case the argument is like any other type declaration for variable.</p>\n\n<p>It could also help to think about following example from Sierra &amp; Bates. It shows that <strong>formal type parameters are in order to avoid naming conflicts</strong>:</p>\n\n<pre><code>class X { public &lt;X&gt; X(X x) {} } \n</code></pre>\n\n<blockquote>\n  <p>Yes, this works... there is no naming conflict between class names, type parameter placeholders, and variable identifiers.</p>\n</blockquote>\n\n<p>Then we have other case:</p>\n\n<pre><code>void sort(List&lt;? extends Comparable&gt; list)\n</code></pre>\n\n<p>This case is known as <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/TechnicalDetails.html#FAQ402\" rel=\"nofollow\">capture of a wildcard</a>. Compiler takes type specification from the wildcard and creates anonymous type. The effect is the same like with explicit type specification except that the type can not be used in method implementation. You could imagine this as following pseudo-code:</p>\n\n<pre><code>&lt;T_?001&gt; void sort_?001(List&lt;T_?001&gt; list)\n</code></pre>\n\n<p>This case shows the other goal of <strong>formal parameters - they allow the use of named type in method implementation</strong>.</p>\n\n<pre><code>&lt;T extends Comparable&gt; void sort(List&lt;T&gt; list) {\n  Iterator&lt;T&gt; it = list.iterator();\n}\n</code></pre>\n"}],"owner":{"account_id":1421077,"reputation":18087,"user_id":1345655,"accept_rate":78,"display_name":"Kshitiz Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2943,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":30072268,"answer_count":5,"score":2,"last_activity_date":1651335287,"creation_date":1430902879,"question_id":30072110,"body_markdown":"I&#39;m reviewing the source code for JDK classes.\r\n\r\nThe following method signature has me confused:\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list);\r\n\r\nSince the method doesn&#39;t return anything what are all the formal type parameters for?\r\n\r\nHow would the behavior of the method change if it&#39;s signature were only this:\r\n\r\n    public static void sort(List&lt;T&gt; list);\r\n\r\n  [1]: http://chat.stackoverflow.com/transcript/message/23121269#23121269","title":"Understanding generic parameters with void return types","body":"<p>I'm reviewing the source code for JDK classes.</p>\n<p>The following method signature has me confused:</p>\n<pre><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list);\n</code></pre>\n<p>Since the method doesn't return anything what are all the formal type parameters for?</p>\n<p>How would the behavior of the method change if it's signature were only this:</p>\n<pre><code>public static void sort(List&lt;T&gt; list);\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":1,"creation_date":1651257327,"post_id":72062336,"comment_id":127329705,"body_markdown":"Does this answer your question? [How to split a String by space](https://stackoverflow.com/questions/7899525/how-to-split-a-string-by-space)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7899525/how-to-split-a-string-by-space\">How to split a String by space</a>"}],"answers":[{"tags":[],"owner":{"account_id":7926592,"reputation":116,"user_id":5985867,"display_name":"Dmytro Marchuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651258305,"creation_date":1651258305,"answer_id":72062526,"question_id":72062336,"body_markdown":"Could you please share here the example of source string and the result?\r\nSharing this will help to understand the root cause.\r\n\r\nBy the way this code just works fine\r\n\r\n    String source = &quot;a    b    c    d&quot;;\r\n    String[] result = source.split(&quot;    &quot;);\r\n    for (String s : result) {\r\n        System.out.println(s);\r\n    }\r\n\r\nThe code above prints out:\r\n\r\n    a\r\n    b\r\n    c\r\n    d","title":"I want to split a string with multiple whitespaces using split() method?","body":"<p>Could you please share here the example of source string and the result?\nSharing this will help to understand the root cause.</p>\n<p>By the way this code just works fine</p>\n<pre><code>String source = &quot;a    b    c    d&quot;;\nString[] result = source.split(&quot;    &quot;);\nfor (String s : result) {\n    System.out.println(s);\n}\n</code></pre>\n<p>The code above prints out:</p>\n<pre><code>a\nb\nc\nd\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21432093,"reputation":177,"user_id":15788271,"display_name":"David Tejuosho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651258329,"creation_date":1651258329,"answer_id":72062533,"question_id":72062336,"body_markdown":"First, that method will only work if you have a specific number of spaces that you want to split by.  You must also make sure that the argument on the split method is equal to the number of spaces you want to split by.  \r\nIf, however, you want to split by any number of spaces, a smart way to do that would be trimming the string first (that removes all trailing whitespace), and then splitting by a single space:  \r\n```java\r\ncharactersArray = characters.trim().split(&quot; &quot;);\r\n```\r\nAlso, I don&#39;t understand the point of creating the characters string. Strings are immutable so there&#39;s nothing wrong with doing `String characters = morseCode`. Even then, I don&#39;t see the point of the new string. Why not just name your parameter characters and be done with it?","title":"I want to split a string with multiple whitespaces using split() method?","body":"<p>First, that method will only work if you have a specific number of spaces that you want to split by.  You must also make sure that the argument on the split method is equal to the number of spaces you want to split by.<br />\nIf, however, you want to split by any number of spaces, a smart way to do that would be trimming the string first (that removes all trailing whitespace), and then splitting by a single space:</p>\n<pre class=\"lang-java prettyprint-override\"><code>charactersArray = characters.trim().split(&quot; &quot;);\n</code></pre>\n<p>Also, I don't understand the point of creating the characters string. Strings are immutable so there's nothing wrong with doing <code>String characters = morseCode</code>. Even then, I don't see the point of the new string. Why not just name your parameter characters and be done with it?</p>\n"}],"owner":{"account_id":17286261,"reputation":1,"user_id":12518806,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651335014,"creation_date":1651257160,"question_id":72062336,"body_markdown":"This program is to return the readable string for the given morse code.\r\n```\r\nclass MorseCode{\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        String morseCode = scanner.nextLine();\r\n        System.out.println(getMorse(morseCode));\r\n    }\r\n    private static String getMorse(String morseCode){\r\n        StringBuilder res = new StringBuilder();\r\n        String characters = new String(morseCode);\r\n        String[] charactersArray = characters.split(&quot;   &quot;); /*this method isn&#39;t \r\n                                                              working for \r\n                                                              splitting what \r\n                                                              should I do*/\r\n        for(String charac : charactersArray)\r\n            res.append(get(charac)); /*this will return a string for the \r\n                                       corresponding string and it will \r\n                                       appended*/\r\n        return res.toString();\r\n    }\r\n```\r\nCan you people suggest a way to split up the string with multiple whitespaces. And can you give me some example for some other split operations.","title":"I want to split a string with multiple whitespaces using split() method?","body":"<p>This program is to return the readable string for the given morse code.</p>\n<pre><code>class MorseCode{\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        String morseCode = scanner.nextLine();\n        System.out.println(getMorse(morseCode));\n    }\n    private static String getMorse(String morseCode){\n        StringBuilder res = new StringBuilder();\n        String characters = new String(morseCode);\n        String[] charactersArray = characters.split(&quot;   &quot;); /*this method isn't \n                                                              working for \n                                                              splitting what \n                                                              should I do*/\n        for(String charac : charactersArray)\n            res.append(get(charac)); /*this will return a string for the \n                                       corresponding string and it will \n                                       appended*/\n        return res.toString();\n    }\n</code></pre>\n<p>Can you people suggest a way to split up the string with multiple whitespaces. And can you give me some example for some other split operations.</p>\n"},{"tags":["java","spring","spring-cloud","api-gateway","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":20240365,"reputation":51,"user_id":14844414,"display_name":"Luis Felipe Martins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650367104,"creation_date":1650367104,"answer_id":71924080,"question_id":71923443,"body_markdown":"It&#39;s pretty simple, you can create a custom html file into **resources/public/error/404.html** and add your custom error page in there.\r\n\r\nHere&#39;s the documentation reference.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.0.0.M6/reference/html/boot-features-developing-web-applications.html#boot-features-webflux-error-handling-custom-error-pages\r\n\r\n```html\r\n&lt;html&gt;\r\n    &lt;head&gt;&lt;title&gt;Error 404&lt;/title&gt;&lt;/head&gt;\r\n    &lt;body&gt;Unfortunately we couldn&#39;t find this route&lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"Spring Cloud Gateway - custom 404 error message when route is not found","body":"<p>It's pretty simple, you can create a custom html file into <strong>resources/public/error/404.html</strong> and add your custom error page in there.</p>\n<p>Here's the documentation reference.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.M6/reference/html/boot-features-developing-web-applications.html#boot-features-webflux-error-handling-custom-error-pages\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.0.0.M6/reference/html/boot-features-developing-web-applications.html#boot-features-webflux-error-handling-custom-error-pages</a></p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n    &lt;head&gt;&lt;title&gt;Error 404&lt;/title&gt;&lt;/head&gt;\n    &lt;body&gt;Unfortunately we couldn't find this route&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25001750,"reputation":113,"user_id":18862100,"display_name":"Hristo Naydenov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651334730,"creation_date":1651334730,"answer_id":72070064,"question_id":71923443,"body_markdown":"I have found a temporary workaround to deal with this issue, but it is very specific and will not work in all cases. Essentially what I have done is I&#39;ve made a `@Component` class that extends the `DefaultErrorAttributes`, and have given implementation to its `getErrorAttributes` method. This way, I gain access to the response in case any error is encountered in the API Gateway. Here&#39;s how the method looks:\r\n\r\n\r\n\r\n    @Override\r\n    public Map&lt;String, Object&gt; getErrorAttributes(ServerRequest request, ErrorAttributeOptions options) {\r\n        Throwable error = super.getError(request);\r\n        Map&lt;String, Object&gt; map = super.getErrorAttributes(request, options);\r\n\r\n        int statusCode = (int) map.get(&quot;status&quot;);\r\n        HttpStatus status = getHttpStatusFromStatusCode(statusCode);\r\n\r\n        map.put(&quot;message&quot;, populateMapWithErrorMessage(error, map, status));\r\n        return map;\r\n    }\r\n\r\n\r\nNow, in my case all of the services hidden behind the gateway, without exception, have a particular and uniform response body in case an exception occurs, such as hitting a non-existent endpoint, or supplying incorrect query parameters, etc.\r\n\r\nHowever, when an incorrect route is hit, the error comes from the gateway itself, and the body, by default, contains an attribute called `requestId`. This attribute doesn&#39;t exist in the response bodies of any of my underlying services, so I figured I could use that to my advantage.\r\n\r\nIn my `populateMapWithErrorMessage` method I check if the error is caused by no route definition found or not, and if it is, I populate the message with the necessary string:\r\n\r\n    private boolean isErrorCausedByNoRouteDefinitionFound(Throwable error, Map&lt;String, Object&gt; map) {\r\n        return map.containsKey(&quot;requestId&quot;) &amp;&amp; error.getMessage().contains(&quot;404&quot;);\r\n    }\r\n\r\nSo now whenever I hit a non-existent route, I get back a body that looks like this:\r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-04-30T15:59:38.016+00:00&quot;,\r\n    &quot;path&quot;: &quot;/invalid-route&quot;,\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;message&quot;: &quot;No route definition with path &#39;/invalid-route&#39; found.&quot;,\r\n    &quot;requestId&quot;: &quot;ad1f42b1-1&quot;\r\n}\r\n```\r\n\r\nWhich is exactly what I needed. Before that custom workaround, the `message` attribute was `null`.\r\n\r\nEven though this should work for now, I still want to understand how I can manipulate the response directly by detecting if the error is caused by no route definition found. There has to be an easier way, and if anyone knows it I&#39;ll be grateful if they could share that.\r\n\r\nHere&#39;s the entire class for reference:\r\n```\r\nimport org.springframework.boot.web.error.ErrorAttributeOptions;\r\nimport org.springframework.boot.web.reactive.error.DefaultErrorAttributes;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.reactive.function.server.ServerRequest;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Map;\r\nimport java.util.NoSuchElementException;\r\n\r\n@Component\r\npublic class GatewayErrorAttributes extends DefaultErrorAttributes {\r\n    public static final String ROUTE_DEFINITION_NOT_FOUND_ERR = &quot;No route definition with path &#39;%s&#39; found.&quot;;\r\n    public static final String INVALID_STATUS_CODE_ERR = &quot;No HttpStatus corresponds to status code %d&quot;;\r\n\r\n    @Override\r\n    public Map&lt;String, Object&gt; getErrorAttributes(ServerRequest request, ErrorAttributeOptions options) {\r\n        Throwable error = super.getError(request);\r\n        Map&lt;String, Object&gt; map = super.getErrorAttributes(request, options);\r\n\r\n        int statusCode = (int) map.get(&quot;status&quot;);\r\n        HttpStatus status = getHttpStatusFromStatusCode(statusCode);\r\n\r\n        map.put(&quot;message&quot;, populateMapWithErrorMessage(error, map, status));\r\n        return map;\r\n    }\r\n\r\n    private HttpStatus getHttpStatusFromStatusCode(int statusCode) {\r\n        return Arrays.stream(HttpStatus.values())\r\n                .filter(v -&gt; v.value() == statusCode)\r\n                .findFirst()\r\n                .orElseThrow(() -&gt; new NoSuchElementException(String.format(INVALID_STATUS_CODE_ERR, statusCode)));\r\n    }\r\n\r\n    private String populateMapWithErrorMessage(Throwable error, Map&lt;String, Object&gt; map, HttpStatus status) {\r\n        return isErrorCausedByNoRouteDefinitionFound(error, map) ?\r\n                String.format(ROUTE_DEFINITION_NOT_FOUND_ERR, map.get(&quot;path&quot;)) :\r\n                trimStatusAndQuotesFromErrorMessage(error.getMessage(), status);\r\n    }\r\n\r\n    private boolean isErrorCausedByNoRouteDefinitionFound(Throwable error, Map&lt;String, Object&gt; map) {\r\n        return map.containsKey(&quot;requestId&quot;) &amp;&amp; error.getMessage().contains(&quot;404&quot;);\r\n    }\r\n\r\n    private String trimStatusAndQuotesFromErrorMessage(String errorMessage, HttpStatus status) {\r\n        return errorMessage\r\n                .replace(status.toString(), &quot;&quot;)\r\n                .replace(&quot;\\&quot;&quot;, &quot;&quot;)\r\n                .trim();\r\n    }\r\n}\r\n```","title":"Spring Cloud Gateway - custom 404 error message when route is not found","body":"<p>I have found a temporary workaround to deal with this issue, but it is very specific and will not work in all cases. Essentially what I have done is I've made a <code>@Component</code> class that extends the <code>DefaultErrorAttributes</code>, and have given implementation to its <code>getErrorAttributes</code> method. This way, I gain access to the response in case any error is encountered in the API Gateway. Here's how the method looks:</p>\n<pre><code>@Override\npublic Map&lt;String, Object&gt; getErrorAttributes(ServerRequest request, ErrorAttributeOptions options) {\n    Throwable error = super.getError(request);\n    Map&lt;String, Object&gt; map = super.getErrorAttributes(request, options);\n\n    int statusCode = (int) map.get(&quot;status&quot;);\n    HttpStatus status = getHttpStatusFromStatusCode(statusCode);\n\n    map.put(&quot;message&quot;, populateMapWithErrorMessage(error, map, status));\n    return map;\n}\n</code></pre>\n<p>Now, in my case all of the services hidden behind the gateway, without exception, have a particular and uniform response body in case an exception occurs, such as hitting a non-existent endpoint, or supplying incorrect query parameters, etc.</p>\n<p>However, when an incorrect route is hit, the error comes from the gateway itself, and the body, by default, contains an attribute called <code>requestId</code>. This attribute doesn't exist in the response bodies of any of my underlying services, so I figured I could use that to my advantage.</p>\n<p>In my <code>populateMapWithErrorMessage</code> method I check if the error is caused by no route definition found or not, and if it is, I populate the message with the necessary string:</p>\n<pre><code>private boolean isErrorCausedByNoRouteDefinitionFound(Throwable error, Map&lt;String, Object&gt; map) {\n    return map.containsKey(&quot;requestId&quot;) &amp;&amp; error.getMessage().contains(&quot;404&quot;);\n}\n</code></pre>\n<p>So now whenever I hit a non-existent route, I get back a body that looks like this:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-04-30T15:59:38.016+00:00&quot;,\n    &quot;path&quot;: &quot;/invalid-route&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;message&quot;: &quot;No route definition with path '/invalid-route' found.&quot;,\n    &quot;requestId&quot;: &quot;ad1f42b1-1&quot;\n}\n</code></pre>\n<p>Which is exactly what I needed. Before that custom workaround, the <code>message</code> attribute was <code>null</code>.</p>\n<p>Even though this should work for now, I still want to understand how I can manipulate the response directly by detecting if the error is caused by no route definition found. There has to be an easier way, and if anyone knows it I'll be grateful if they could share that.</p>\n<p>Here's the entire class for reference:</p>\n<pre><code>import org.springframework.boot.web.error.ErrorAttributeOptions;\nimport org.springframework.boot.web.reactive.error.DefaultErrorAttributes;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.reactive.function.server.ServerRequest;\n\nimport java.util.Arrays;\nimport java.util.Map;\nimport java.util.NoSuchElementException;\n\n@Component\npublic class GatewayErrorAttributes extends DefaultErrorAttributes {\n    public static final String ROUTE_DEFINITION_NOT_FOUND_ERR = &quot;No route definition with path '%s' found.&quot;;\n    public static final String INVALID_STATUS_CODE_ERR = &quot;No HttpStatus corresponds to status code %d&quot;;\n\n    @Override\n    public Map&lt;String, Object&gt; getErrorAttributes(ServerRequest request, ErrorAttributeOptions options) {\n        Throwable error = super.getError(request);\n        Map&lt;String, Object&gt; map = super.getErrorAttributes(request, options);\n\n        int statusCode = (int) map.get(&quot;status&quot;);\n        HttpStatus status = getHttpStatusFromStatusCode(statusCode);\n\n        map.put(&quot;message&quot;, populateMapWithErrorMessage(error, map, status));\n        return map;\n    }\n\n    private HttpStatus getHttpStatusFromStatusCode(int statusCode) {\n        return Arrays.stream(HttpStatus.values())\n                .filter(v -&gt; v.value() == statusCode)\n                .findFirst()\n                .orElseThrow(() -&gt; new NoSuchElementException(String.format(INVALID_STATUS_CODE_ERR, statusCode)));\n    }\n\n    private String populateMapWithErrorMessage(Throwable error, Map&lt;String, Object&gt; map, HttpStatus status) {\n        return isErrorCausedByNoRouteDefinitionFound(error, map) ?\n                String.format(ROUTE_DEFINITION_NOT_FOUND_ERR, map.get(&quot;path&quot;)) :\n                trimStatusAndQuotesFromErrorMessage(error.getMessage(), status);\n    }\n\n    private boolean isErrorCausedByNoRouteDefinitionFound(Throwable error, Map&lt;String, Object&gt; map) {\n        return map.containsKey(&quot;requestId&quot;) &amp;&amp; error.getMessage().contains(&quot;404&quot;);\n    }\n\n    private String trimStatusAndQuotesFromErrorMessage(String errorMessage, HttpStatus status) {\n        return errorMessage\n                .replace(status.toString(), &quot;&quot;)\n                .replace(&quot;\\&quot;&quot;, &quot;&quot;)\n                .trim();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25001750,"reputation":113,"user_id":18862100,"display_name":"Hristo Naydenov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6884,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651334730,"creation_date":1650364147,"question_id":71923443,"body_markdown":"I have a basic Spring Cloud Gateway app that is configured with YAML:\r\n\r\n    server:\r\n      port: 8080\r\n    \r\n    logging:\r\n      level:\r\n        reactor:\r\n          netty: INFO\r\n        org:\r\n          springframework:\r\n            cloud:\r\n              gateway: TRACE\r\n    \r\n    spring:\r\n      cloud:\r\n        gateway:\r\n          httpclient:\r\n            wiretap: true\r\n          httpserver:\r\n            wiretap: true\r\n          routes:\r\n            - id: test-route-1\r\n              uri: https://www.google.com\r\n              predicates:\r\n                - Path=/\r\n            - id: test-route-2\r\n              uri: http://1.1.1.1:1111\r\n              predicates:\r\n                - Path=/common/**\r\n\r\n\r\nHere&#39;s the entry point:\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nThe issue I have is that when I try to hit a non-existent route definition with a basic GET request through Postman, for example\r\n\r\n    localhost:8080/asd\r\n\r\nI get back a basic 404 error in Postman:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-04-28T09:27:36.647+00:00&quot;,\r\n        &quot;path&quot;: &quot;/asd&quot;,\r\n        &quot;status&quot;: 404,\r\n        &quot;error&quot;: &quot;Not Found&quot;,\r\n        &quot;message&quot;: &quot;&quot;,\r\n        &quot;requestId&quot;: &quot;86bc902a-8&quot;\r\n    }\r\n\r\nI want to modify this response and add a meaningful message, such as **&quot;Route definition not found.&quot;**, but it seems like this response is sent even before any of the filters in my gateway configuration are executed. Here&#39;s how the console looks when I execute a valid request:\r\n\r\n    2022-04-19 13:21:48.577  INFO 64240 --- [           main] com.test.apigateway.Application        : Started Application in 11.143 seconds (JVM running for 11.902)\r\n    2022-04-19 13:21:50.125 TRACE 64240 --- [ctor-http-nio-3] o.s.c.g.f.WeightCalculatorWebFilter      : Weights attr: {}\r\n    2022-04-19 13:21:50.145 TRACE 64240 --- [ctor-http-nio-3] o.s.c.g.h.p.PathRoutePredicateFactory    : Pattern &quot;/&quot; matches against value &quot;/&quot;\r\n    2022-04-19 13:21:50.146 DEBUG 64240 --- [ctor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: test-route-1\r\n    2022-04-19 13:21:50.146 DEBUG 64240 --- [ctor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:8080/] to Route{id=&#39;test-route-1&#39;, uri=https://www.google.com:443, order=0, predicate=Paths: [/], match trailing slash: true, gatewayFilters=[], metadata={}}\r\n    2022-04-19 13:21:50.146 DEBUG 64240 --- [ctor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [9b8150f7-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5bf45d2c\r\n    2022-04-19 13:21:50.148 DEBUG 64240 --- [ctor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1e40fbb3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@7ec08115}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6d5f4900}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e6060f1}, order = 0], [GatewayFilterAdapter{delegate=com.fadata.apigateway.filters.AuthenticationFilter@5885a768}, order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1b560eb0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@2c6c302f}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7e49ded}, order = 2147483646], GatewayFilterAdapter{delegate=com.fadata.apigateway.Application$LoggingGlobalFiltersConfigurations$$Lambda$525/0x00000008004f6840@51ba952e}, [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2416c658}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@9e02f84}, order = 2147483647]]\r\n    2022-04-19 13:21:50.156  INFO 64240 --- [ctor-http-nio-3] c.f.a.filters.AuthenticationFilter       : 1 - Global Pre Filter executed [AuthenticationFilter]\r\n    2022-04-19 13:21:50.157 TRACE 64240 --- [ctor-http-nio-3] o.s.c.g.filter.RouteToRequestUrlFilter   : RouteToRequestUrlFilter start\r\n    2022-04-19 13:21:51.145 TRACE 64240 --- [ctor-http-nio-3] o.s.c.gateway.filter.NettyRoutingFilter  : outbound route: 154ff117, inbound: [9b8150f7-1] \r\n    2022-04-19 13:21:51.243  INFO 64240 --- [ctor-http-nio-3] ation$LoggingGlobalFiltersConfigurations : Global Post Filter executed\r\n    2022-04-19 13:21:51.243 TRACE 64240 --- [ctor-http-nio-3] o.s.c.g.filter.NettyWriteResponseFilter  : NettyWriteResponseFilter start inbound: 154ff117, outbound: [9b8150f7-1]\r\n\r\nIt clearly executes both my global pre and post filters before the response hits the client. However, if I send a request to a non-existent route, here&#39;s what I see:\r\n\r\n    2022-04-19 13:23:16.926 TRACE 64240 --- [ctor-http-nio-3] o.s.c.g.f.WeightCalculatorWebFilter      : Weights attr: {}\r\n    2022-04-19 13:23:16.926 TRACE 64240 --- [ctor-http-nio-3] o.s.c.g.h.p.PathRoutePredicateFactory    : Pattern &quot;[/]&quot; does not match against value &quot;/asd&quot;\r\n    2022-04-19 13:23:16.927 TRACE 64240 --- [ctor-http-nio-3] o.s.c.g.h.p.PathRoutePredicateFactory    : Pattern &quot;[/common/**]&quot; does not match against value &quot;/asd&quot;\r\n    2022-04-19 13:23:16.927 TRACE 64240 --- [ctor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : No RouteDefinition found for [Exchange: GET http://localhost:8080/asd]\r\n\r\nIt seems like it doesn&#39;t even execute any filters, so I can&#39;t intercept the response and check or modify it in any way.\r\n\r\nI&#39;ve searched within the source code and found where the **No RouteDefinition found** error is being logged, but I can&#39;t intercept the response anywhere it seems.\r\n\r\nJust to clarify - I don&#39;t need to render an HTML page at all, I just want to modify the JSON object before it is sent back to the client with the 404 response, and add a message to that JSON.\r\n\r\nAny ideas how I can do that? Thanks!","title":"Spring Cloud Gateway - custom 404 error message when route is not found","body":"<p>I have a basic Spring Cloud Gateway app that is configured with YAML:</p>\n<pre><code>server:\n  port: 8080\n\nlogging:\n  level:\n    reactor:\n      netty: INFO\n    org:\n      springframework:\n        cloud:\n          gateway: TRACE\n\nspring:\n  cloud:\n    gateway:\n      httpclient:\n        wiretap: true\n      httpserver:\n        wiretap: true\n      routes:\n        - id: test-route-1\n          uri: https://www.google.com\n          predicates:\n            - Path=/\n        - id: test-route-2\n          uri: http://1.1.1.1:1111\n          predicates:\n            - Path=/common/**\n</code></pre>\n<p>Here's the entry point:</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>The issue I have is that when I try to hit a non-existent route definition with a basic GET request through Postman, for example</p>\n<pre><code>localhost:8080/asd\n</code></pre>\n<p>I get back a basic 404 error in Postman:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-04-28T09:27:36.647+00:00&quot;,\n    &quot;path&quot;: &quot;/asd&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;message&quot;: &quot;&quot;,\n    &quot;requestId&quot;: &quot;86bc902a-8&quot;\n}\n</code></pre>\n<p>I want to modify this response and add a meaningful message, such as <strong>&quot;Route definition not found.&quot;</strong>, but it seems like this response is sent even before any of the filters in my gateway configuration are executed. Here's how the console looks when I execute a valid request:</p>\n<pre><code>2022-04-19 13:21:48.577  INFO 64240 --- [           main] com.test.apigateway.Application        : Started Application in 11.143 seconds (JVM running for 11.902)\n2022-04-19 13:21:50.125 TRACE 64240 --- [ctor-http-nio-3] o.s.c.g.f.WeightCalculatorWebFilter      : Weights attr: {}\n2022-04-19 13:21:50.145 TRACE 64240 --- [ctor-http-nio-3] o.s.c.g.h.p.PathRoutePredicateFactory    : Pattern &quot;/&quot; matches against value &quot;/&quot;\n2022-04-19 13:21:50.146 DEBUG 64240 --- [ctor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: test-route-1\n2022-04-19 13:21:50.146 DEBUG 64240 --- [ctor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:8080/] to Route{id='test-route-1', uri=https://www.google.com:443, order=0, predicate=Paths: [/], match trailing slash: true, gatewayFilters=[], metadata={}}\n2022-04-19 13:21:50.146 DEBUG 64240 --- [ctor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [9b8150f7-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5bf45d2c\n2022-04-19 13:21:50.148 DEBUG 64240 --- [ctor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@1e40fbb3}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@7ec08115}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@6d5f4900}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@1e6060f1}, order = 0], [GatewayFilterAdapter{delegate=com.fadata.apigateway.filters.AuthenticationFilter@5885a768}, order = 1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@1b560eb0}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.config.GatewayNoLoadBalancerClientAutoConfiguration$NoLoadBalancerClientFilter@2c6c302f}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7e49ded}, order = 2147483646], GatewayFilterAdapter{delegate=com.fadata.apigateway.Application$LoggingGlobalFiltersConfigurations$$Lambda$525/0x00000008004f6840@51ba952e}, [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@2416c658}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@9e02f84}, order = 2147483647]]\n2022-04-19 13:21:50.156  INFO 64240 --- [ctor-http-nio-3] c.f.a.filters.AuthenticationFilter       : 1 - Global Pre Filter executed [AuthenticationFilter]\n2022-04-19 13:21:50.157 TRACE 64240 --- [ctor-http-nio-3] o.s.c.g.filter.RouteToRequestUrlFilter   : RouteToRequestUrlFilter start\n2022-04-19 13:21:51.145 TRACE 64240 --- [ctor-http-nio-3] o.s.c.gateway.filter.NettyRoutingFilter  : outbound route: 154ff117, inbound: [9b8150f7-1] \n2022-04-19 13:21:51.243  INFO 64240 --- [ctor-http-nio-3] ation$LoggingGlobalFiltersConfigurations : Global Post Filter executed\n2022-04-19 13:21:51.243 TRACE 64240 --- [ctor-http-nio-3] o.s.c.g.filter.NettyWriteResponseFilter  : NettyWriteResponseFilter start inbound: 154ff117, outbound: [9b8150f7-1]\n</code></pre>\n<p>It clearly executes both my global pre and post filters before the response hits the client. However, if I send a request to a non-existent route, here's what I see:</p>\n<pre><code>2022-04-19 13:23:16.926 TRACE 64240 --- [ctor-http-nio-3] o.s.c.g.f.WeightCalculatorWebFilter      : Weights attr: {}\n2022-04-19 13:23:16.926 TRACE 64240 --- [ctor-http-nio-3] o.s.c.g.h.p.PathRoutePredicateFactory    : Pattern &quot;[/]&quot; does not match against value &quot;/asd&quot;\n2022-04-19 13:23:16.927 TRACE 64240 --- [ctor-http-nio-3] o.s.c.g.h.p.PathRoutePredicateFactory    : Pattern &quot;[/common/**]&quot; does not match against value &quot;/asd&quot;\n2022-04-19 13:23:16.927 TRACE 64240 --- [ctor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : No RouteDefinition found for [Exchange: GET http://localhost:8080/asd]\n</code></pre>\n<p>It seems like it doesn't even execute any filters, so I can't intercept the response and check or modify it in any way.</p>\n<p>I've searched within the source code and found where the <strong>No RouteDefinition found</strong> error is being logged, but I can't intercept the response anywhere it seems.</p>\n<p>Just to clarify - I don't need to render an HTML page at all, I just want to modify the JSON object before it is sent back to the client with the 404 response, and add a message to that JSON.</p>\n<p>Any ideas how I can do that? Thanks!</p>\n"},{"tags":["java","spring-boot","azure","gradle","azure-storage"],"answers":[{"tags":[],"owner":{"account_id":21681461,"reputation":8709,"user_id":15997509,"display_name":"kavyaS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651131880,"creation_date":1651131880,"answer_id":72039837,"question_id":71994212,"body_markdown":"Please check below points.\r\n\r\n - `NoSuchField`, usually means that when linking the target class, the field\r\n   is not there. But when compiling, the class should have that field,\r\n   otherwise the code cann&#39;t compile.\r\n\r\n&gt; i.e; it indicates that an application tries to access or modify an\r\n&gt; object’s field, but that field no longer exists.\r\n\r\n - This error can  occur during runtime, if the definition of a class\r\n   has incompatibly changed.\r\n\r\n1) The exception as shown is occurring at [***ChannelPipelineConfigurer***][1] in empty configure method which returns NOOP_configurer which is present in `reactor netty  core`  under the ***package [reactor.netty][2]***\r\n\r\n2) This seems to be caused by version mismatch in  reactor-netty jar\r\n\r\n***ChannelPipelineConfigurer.java***\r\n\r\n    package reactor.netty;\r\n    \r\n    import io.netty.channel.Channel;\r\n    import reactor.util.annotation.Nullable;\r\n    \r\n    import java.net.SocketAddress;\r\n    \r\n    import static reactor.netty.ReactorNetty.CompositeChannelPipelineConfigurer.compositeChannelPipelineConfigurer;\r\n    \r\n    @FunctionalInterface\r\n    public interface ChannelPipelineConfigurer {\r\n    \tstatic ChannelPipelineConfigurer emptyConfigurer() {\r\n    \t\treturn ReactorNetty.NOOP_CONFIGURER;\r\n    }\r\n\r\nSo please check if reactor netty core release version incompatibility is the reason or one or more version conflicts occuring &amp; try to upgrade to latest version of the release jar and also check if any incompatible dependencies are present.\r\n\r\nTo handle/deal with NoSuchFieldError error, try to clean all existing .class files and compile everything from the scratch.so  that verify that each referenced class is compiled to its latest version.\r\n\r\nHowever, if the error is still thrown during runtime, then one may have to compile using one version of a library, but use another version at runtime. You must verify that your classpath contains the proper version of the specified library.\r\n\r\n - [Reactive Spring Boot - java.lang.NoSuchFieldError:\r\n    DEFAULT_SHUTDOWN_QUIET_PERIOD - Stack Overflow][3]\r\n - [spring-security-{noop}][4]\r\n\r\n\r\n  [1]: https://github.com/reactor/reactor-netty/blob/9429eaa4c568f1d1fd1cb535335627516cca0aa6/reactor-netty-core/src/main/java/reactor/netty/ChannelPipelineConfigurer.java#L32\r\n  [2]: https://github.com/reactor/reactor-netty/tree/9429eaa4c568f1d1fd1cb535335627516cca0aa6/reactor-netty-core/src/main/java/reactor/netty\r\n  [3]: https://stackoverflow.com/questions/62904221/reactive-spring-boot-java-lang-nosuchfielderror-default-shutdown-quiet-period\r\n  [4]: https://stackoverflow.com/questions/60342529/spring-security-no-qualifying-bean-of-type-javax-sql-datasource-available-e#:~:text=username(%22user%22).password(%22-,%7Bnoop%7D,-password%22).roles","title":"Spring Boot Azure Storage Client yields java.lang.NoSuchFieldError: NOOP_CONFIGURER","body":"<p>Please check below points.</p>\n<ul>\n<li><code>NoSuchField</code>, usually means that when linking the target class, the field\nis not there. But when compiling, the class should have that field,\notherwise the code cann't compile.</li>\n</ul>\n<blockquote>\n<p>i.e; it indicates that an application tries to access or modify an\nobject’s field, but that field no longer exists.</p>\n</blockquote>\n<ul>\n<li>This error can  occur during runtime, if the definition of a class\nhas incompatibly changed.</li>\n</ul>\n<ol>\n<li><p>The exception as shown is occurring at <a href=\"https://github.com/reactor/reactor-netty/blob/9429eaa4c568f1d1fd1cb535335627516cca0aa6/reactor-netty-core/src/main/java/reactor/netty/ChannelPipelineConfigurer.java#L32\" rel=\"nofollow noreferrer\"><em><strong>ChannelPipelineConfigurer</strong></em></a> in empty configure method which returns NOOP_configurer which is present in <code>reactor netty  core</code>  under the <em><strong>package <a href=\"https://github.com/reactor/reactor-netty/tree/9429eaa4c568f1d1fd1cb535335627516cca0aa6/reactor-netty-core/src/main/java/reactor/netty\" rel=\"nofollow noreferrer\">reactor.netty</a></strong></em></p>\n</li>\n<li><p>This seems to be caused by version mismatch in  reactor-netty jar</p>\n</li>\n</ol>\n<p><em><strong>ChannelPipelineConfigurer.java</strong></em></p>\n<pre><code>package reactor.netty;\n\nimport io.netty.channel.Channel;\nimport reactor.util.annotation.Nullable;\n\nimport java.net.SocketAddress;\n\nimport static reactor.netty.ReactorNetty.CompositeChannelPipelineConfigurer.compositeChannelPipelineConfigurer;\n\n@FunctionalInterface\npublic interface ChannelPipelineConfigurer {\n    static ChannelPipelineConfigurer emptyConfigurer() {\n        return ReactorNetty.NOOP_CONFIGURER;\n}\n</code></pre>\n<p>So please check if reactor netty core release version incompatibility is the reason or one or more version conflicts occuring &amp; try to upgrade to latest version of the release jar and also check if any incompatible dependencies are present.</p>\n<p>To handle/deal with NoSuchFieldError error, try to clean all existing .class files and compile everything from the scratch.so  that verify that each referenced class is compiled to its latest version.</p>\n<p>However, if the error is still thrown during runtime, then one may have to compile using one version of a library, but use another version at runtime. You must verify that your classpath contains the proper version of the specified library.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/62904221/reactive-spring-boot-java-lang-nosuchfielderror-default-shutdown-quiet-period\">Reactive Spring Boot - java.lang.NoSuchFieldError:\nDEFAULT_SHUTDOWN_QUIET_PERIOD - Stack Overflow</a></li>\n<li><a href=\"https://stackoverflow.com/questions/60342529/spring-security-no-qualifying-bean-of-type-javax-sql-datasource-available-e#:%7E:text=username(%22user%22).password(%22-,%7Bnoop%7D,-password%22).roles\">spring-security-{noop}</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19146380,"reputation":233,"user_id":13985271,"display_name":"Trec Apps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651334494,"creation_date":1651334494,"answer_id":72070028,"question_id":71994212,"body_markdown":"Added \r\n```\r\n    implementation &quot;io.projectreactor.netty:reactor-netty-core:+&quot;\r\n    implementation &quot;io.projectreactor.netty:reactor-netty-http:+&quot;\r\n```\r\nto my `build.gradle` file.","title":"Spring Boot Azure Storage Client yields java.lang.NoSuchFieldError: NOOP_CONFIGURER","body":"<p>Added</p>\n<pre><code>    implementation &quot;io.projectreactor.netty:reactor-netty-core:+&quot;\n    implementation &quot;io.projectreactor.netty:reactor-netty-http:+&quot;\n</code></pre>\n<p>to my <code>build.gradle</code> file.</p>\n"}],"owner":{"account_id":19146380,"reputation":233,"user_id":13985271,"display_name":"Trec Apps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":683,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72039837,"answer_count":2,"score":0,"last_activity_date":1651334494,"creation_date":1650856996,"question_id":71994212,"body_markdown":"I&#39;m trying to create a Spring Boot Application that is able to reach out to Azure Storage.\r\n\r\nHere are some of the Dependencies I&#39;ve attempted to declare in `build.gradle` thus far...\r\n\r\n```\r\nimplementation &#39;com.azure:azure-storage-blob:+&#39;    // Current Dependency\r\n\r\nimplementation &#39;com.azure.spring:azure-spring-boot-starter-storage:+&#39;    // Previous Dependency\r\n``` \r\n\r\nBoth give me access to the `BlobServiceClient` class which I&#39;m using to access my Azure Blob Container.\r\n\r\nIn my `application.properties` file, I have the following properties:\r\n\r\n```\r\n#Storage settings\r\n\r\n# Current Attempt\r\nazure.connection=${STORAGE_ACCOUNT_CONNECTION}\r\n\r\n\r\n# Previous Attempt\r\nazure.storage.account-name=${STORAGE_ACCOUNT_NAME}\r\nazure.storage.account-key=${STORAGE_ACCOUNT_KEY}\r\nazure.storage.blob-endpoint=${STORAGE_ACCOUNT_ENDPOINT}\r\n```\r\n\r\nI then use these properties in a Spring Service Class called `StorageService` to manage the `BlobServiceClient` . Here are my two attempts to set it up:\r\n\r\n1 (Current). \r\n\r\n```\r\n    @Autowired\r\n    StorageService(@Value(&quot;${azure.connection}&quot;) String connection)\r\n    {\r\n\r\n        client = new BlobServiceClientBuilder().connectionString(connection).buildClient();\r\n        objectMapper = new ObjectMapper();\r\n    }\r\n```\r\n\r\n2. (Previous).\r\n```\r\n    @Autowired\r\n    StorageService(@Value(&quot;${azure.storage.account-name}&quot;) String name,\r\n                   @Value(&quot;${azure.storage.account-key}&quot;) String key,\r\n                   @Value(&quot;${azure.storage.blob-endpoint}&quot;) String endpoint)\r\n    {\r\n        AzureNamedKeyCredential credential = new AzureNamedKeyCredential(name, key);\r\n        client = new BlobServiceClientBuilder().credential(credential).endpoint(endpoint).buildClient();\r\n        objectMapper = new ObjectMapper();\r\n    }\r\n```\r\n\r\nI even tried using both Java 11 and Java 17. However, each time I manage to run it in Intelli-J, I get this error.\r\n\r\n```\r\nCaused by: java.lang.NoSuchFieldError: NOOP_CONFIGURER\r\n\r\n\tat reactor.netty.ChannelPipelineConfigurer.emptyConfigurer(ChannelPipelineConfigurer.java:40)\r\n\tat reactor.netty.transport.TransportConfig.&lt;init&gt;(TransportConfig.java:207)\r\n\tat reactor.netty.transport.ClientTransportConfig.&lt;init&gt;(ClientTransportConfig.java:164)\r\n\tat reactor.netty.http.client.HttpClientConfig.&lt;init&gt;(HttpClientConfig.java:327)\r\n\tat reactor.netty.http.client.HttpClientConnect.&lt;init&gt;(HttpClientConnect.java:85)\r\n\tat reactor.netty.http.client.HttpClient.create(HttpClient.java:393)\r\n\tat com.azure.core.http.netty.NettyAsyncHttpClientBuilder.build(NettyAsyncHttpClientBuilder.java:141)\r\n\tat com.azure.core.http.netty.NettyAsyncHttpClientProvider.createInstance(NettyAsyncHttpClientProvider.java:19)\r\n\tat com.azure.core.implementation.http.HttpClientProviders.createInstance(HttpClientProviders.java:67)\r\n\tat com.azure.core.http.HttpClient.createDefault(HttpClient.java:50)\r\n\tat com.azure.core.http.HttpClient.createDefault(HttpClient.java:40)\r\n\tat com.azure.core.http.HttpPipelineBuilder.build(HttpPipelineBuilder.java:73)\r\n\tat com.azure.storage.blob.implementation.util.BuilderHelper.buildPipeline(BuilderHelper.java:138)\r\n\tat com.azure.storage.blob.BlobServiceClientBuilder.buildAsyncClient(BlobServiceClientBuilder.java:135)\r\n\tat com.azure.storage.blob.BlobServiceClientBuilder.buildClient(BlobServiceClientBuilder.java:114)\r\n\tat com.trecapps.users.services.StorageService.&lt;init&gt;(StorageService.java:40)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)\r\n\t... 49 common frames omitted\r\n```\r\n\r\nAnd when I googled `&quot;NOOP_CONFIGURER&quot;` (with the quotes), I get 2 results, so this error does not seem to be well documented. Any suggestions on how to get my app to launch?","title":"Spring Boot Azure Storage Client yields java.lang.NoSuchFieldError: NOOP_CONFIGURER","body":"<p>I'm trying to create a Spring Boot Application that is able to reach out to Azure Storage.</p>\n<p>Here are some of the Dependencies I've attempted to declare in <code>build.gradle</code> thus far...</p>\n<pre><code>implementation 'com.azure:azure-storage-blob:+'    // Current Dependency\n\nimplementation 'com.azure.spring:azure-spring-boot-starter-storage:+'    // Previous Dependency\n</code></pre>\n<p>Both give me access to the <code>BlobServiceClient</code> class which I'm using to access my Azure Blob Container.</p>\n<p>In my <code>application.properties</code> file, I have the following properties:</p>\n<pre><code>#Storage settings\n\n# Current Attempt\nazure.connection=${STORAGE_ACCOUNT_CONNECTION}\n\n\n# Previous Attempt\nazure.storage.account-name=${STORAGE_ACCOUNT_NAME}\nazure.storage.account-key=${STORAGE_ACCOUNT_KEY}\nazure.storage.blob-endpoint=${STORAGE_ACCOUNT_ENDPOINT}\n</code></pre>\n<p>I then use these properties in a Spring Service Class called <code>StorageService</code> to manage the <code>BlobServiceClient</code> . Here are my two attempts to set it up:</p>\n<p>1 (Current).</p>\n<pre><code>    @Autowired\n    StorageService(@Value(&quot;${azure.connection}&quot;) String connection)\n    {\n\n        client = new BlobServiceClientBuilder().connectionString(connection).buildClient();\n        objectMapper = new ObjectMapper();\n    }\n</code></pre>\n<ol start=\"2\">\n<li>(Previous).</li>\n</ol>\n<pre><code>    @Autowired\n    StorageService(@Value(&quot;${azure.storage.account-name}&quot;) String name,\n                   @Value(&quot;${azure.storage.account-key}&quot;) String key,\n                   @Value(&quot;${azure.storage.blob-endpoint}&quot;) String endpoint)\n    {\n        AzureNamedKeyCredential credential = new AzureNamedKeyCredential(name, key);\n        client = new BlobServiceClientBuilder().credential(credential).endpoint(endpoint).buildClient();\n        objectMapper = new ObjectMapper();\n    }\n</code></pre>\n<p>I even tried using both Java 11 and Java 17. However, each time I manage to run it in Intelli-J, I get this error.</p>\n<pre><code>Caused by: java.lang.NoSuchFieldError: NOOP_CONFIGURER\n\n    at reactor.netty.ChannelPipelineConfigurer.emptyConfigurer(ChannelPipelineConfigurer.java:40)\n    at reactor.netty.transport.TransportConfig.&lt;init&gt;(TransportConfig.java:207)\n    at reactor.netty.transport.ClientTransportConfig.&lt;init&gt;(ClientTransportConfig.java:164)\n    at reactor.netty.http.client.HttpClientConfig.&lt;init&gt;(HttpClientConfig.java:327)\n    at reactor.netty.http.client.HttpClientConnect.&lt;init&gt;(HttpClientConnect.java:85)\n    at reactor.netty.http.client.HttpClient.create(HttpClient.java:393)\n    at com.azure.core.http.netty.NettyAsyncHttpClientBuilder.build(NettyAsyncHttpClientBuilder.java:141)\n    at com.azure.core.http.netty.NettyAsyncHttpClientProvider.createInstance(NettyAsyncHttpClientProvider.java:19)\n    at com.azure.core.implementation.http.HttpClientProviders.createInstance(HttpClientProviders.java:67)\n    at com.azure.core.http.HttpClient.createDefault(HttpClient.java:50)\n    at com.azure.core.http.HttpClient.createDefault(HttpClient.java:40)\n    at com.azure.core.http.HttpPipelineBuilder.build(HttpPipelineBuilder.java:73)\n    at com.azure.storage.blob.implementation.util.BuilderHelper.buildPipeline(BuilderHelper.java:138)\n    at com.azure.storage.blob.BlobServiceClientBuilder.buildAsyncClient(BlobServiceClientBuilder.java:135)\n    at com.azure.storage.blob.BlobServiceClientBuilder.buildClient(BlobServiceClientBuilder.java:114)\n    at com.trecapps.users.services.StorageService.&lt;init&gt;(StorageService.java:40)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)\n    ... 49 common frames omitted\n</code></pre>\n<p>And when I googled <code>&quot;NOOP_CONFIGURER&quot;</code> (with the quotes), I get 2 results, so this error does not seem to be well documented. Any suggestions on how to get my app to launch?</p>\n"},{"tags":["java","spring-boot","csv"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1651333355,"post_id":72069815,"comment_id":127342335,"body_markdown":"Check Jackson CSV library.  https://github.com/FasterXML/jackson-dataformats-text/tree/master/csv","body":"Check Jackson CSV library.  <a href=\"https://github.com/FasterXML/jackson-dataformats-text/tree/master/csv\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-dataformats-text/tree/master/cs&zwnj;&#8203;v</a>"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651334038,"creation_date":1651334038,"answer_id":72069975,"question_id":72069815,"body_markdown":"You could use https://github.com/simoc/csvjdbc with this query:\r\n\r\n    SELECT First_name, COUNT(*) FROM sample GROUP BY First_name\r\n\r\nOutput to stdout:\r\n\r\n    First_name;COUNT(*)\r\n    abc;2\r\n    pqr;1\r\n    cde;1\r\n\r\nThis is of course not a full answer, but is a good tool to start of the process of coding this","title":"How to Read CSV file and count records from specific column","body":"<p>You could use <a href=\"https://github.com/simoc/csvjdbc\" rel=\"nofollow noreferrer\">https://github.com/simoc/csvjdbc</a> with this query:</p>\n<pre><code>SELECT First_name, COUNT(*) FROM sample GROUP BY First_name\n</code></pre>\n<p>Output to stdout:</p>\n<pre><code>First_name;COUNT(*)\nabc;2\npqr;1\ncde;1\n</code></pre>\n<p>This is of course not a full answer, but is a good tool to start of the process of coding this</p>\n"}],"owner":{"account_id":25156684,"reputation":11,"user_id":19001428,"display_name":"Kalpesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1651334038,"creation_date":1651332744,"question_id":72069815,"body_markdown":"   I have one csv file which contains 4 fields(columns). Out of 4 columns I want to read second and want to read specific column First_name of csv file and count records using column  using Java.Please help.\r\n    \r\n    ID First_name Last_name Gender\r\n    1   abc       robert     F\r\n    2   abc       foord      M\r\n    3   pqr       robert     F\r\n    4   cde       foord      F\r\n    \r\n    I want output as below:\r\n    {\r\n      &quot;First_name&quot;:[\r\n         {\r\n            &quot;abc&quot;:&quot;2&quot;\r\n         },\r\n         {\r\n            &quot;pqr&quot;:&quot;1&quot;\r\n         },\r\n         {\r\n            &quot;cde&quot;:&quot;1&quot;\r\n         }\r\n      ]\r\n    }","title":"How to Read CSV file and count records from specific column","body":"<p>I have one csv file which contains 4 fields(columns). Out of 4 columns I want to read second and want to read specific column First_name of csv file and count records using column  using Java.Please help.</p>\n<pre><code>ID First_name Last_name Gender\n1   abc       robert     F\n2   abc       foord      M\n3   pqr       robert     F\n4   cde       foord      F\n\nI want output as below:\n{\n  &quot;First_name&quot;:[\n     {\n        &quot;abc&quot;:&quot;2&quot;\n     },\n     {\n        &quot;pqr&quot;:&quot;1&quot;\n     },\n     {\n        &quot;cde&quot;:&quot;1&quot;\n     }\n  ]\n}\n</code></pre>\n"},{"tags":["java","swing","graphics"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1651331149,"post_id":72069583,"comment_id":127341913,"body_markdown":"Don&#39;t worry about the frame height &amp; width, it is the width &amp; height of `MyComponent` that matters. The `getSize()` method of that can be called within the `paintComponent` method - right where &amp; when the info is needed. **P.S:** when custom painting, first call the `super` method of the paint method.","body":"Don&#39;t worry about the frame height &amp; width, it is the width &amp; height of <code>MyComponent</code> that matters. The <code>getSize()</code> method of that can be called within the <code>paintComponent</code> method - right where &amp; when the info is needed. <b>P.S:</b> when custom painting, first call the <code>super</code> method of the paint method."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1651331388,"post_id":72069583,"comment_id":127341965,"body_markdown":"I second what @AndrewThompson mentioned above and also will state that you were correct to comment-out the `while (true)` block as this has no place in an event-driven Swing GUI.","body":"I second what @AndrewThompson mentioned above and also will state that you were correct to comment-out the <code>while (true)</code> block as this has no place in an event-driven Swing GUI."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1651331453,"post_id":72069583,"comment_id":127341979,"body_markdown":"And also, I urge you not to get a Graphics object via `frame.getGraphics();` call on the JFrame or on any component as this will return a short-lived, unstable and potentially null reference.","body":"And also, I urge you not to get a Graphics object via <code>frame.getGraphics();</code> call on the JFrame or on any component as this will return a short-lived, unstable and potentially null reference."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1651331751,"post_id":72069583,"comment_id":127342053,"body_markdown":"Other issues with regard to the `berechnen()` method: 1) No idea why you&#39;re using a static method. 2) The height and width variables within that method are local, will disappear once the method ends and are thus of no use to you or your program. 3) The method tries to use a variable that simply doesn&#39;t exist within that scope. Where do you declare a frame variable anywhere except within the main method, and per Java scoping rules, that variable is only visible within that same main method and nowhere else.","body":"Other issues with regard to the <code>berechnen()</code> method: 1) No idea why you&#39;re using a static method. 2) The height and width variables within that method are local, will disappear once the method ends and are thus of no use to you or your program. 3) The method tries to use a variable that simply doesn&#39;t exist within that scope. Where do you declare a frame variable anywhere except within the main method, and per Java scoping rules, that variable is only visible within that same main method and nowhere else."},{"owner":{"account_id":25156671,"reputation":25,"user_id":19001416,"display_name":"Bunsekanse"},"score":0,"creation_date":1651332185,"post_id":72069583,"comment_id":127342129,"body_markdown":"But how do I use the parameter I get from getSize() method to draw a line throughout the component?","body":"But how do I use the parameter I get from getSize() method to draw a line throughout the component?"},{"owner":{"account_id":25156671,"reputation":25,"user_id":19001416,"display_name":"Bunsekanse"},"score":0,"creation_date":1651332257,"post_id":72069583,"comment_id":127342145,"body_markdown":"I am very new to Java and JFrame, Graphics &#39;n stuff so I please you to be very detailed and well explained :) Thank you","body":"I am very new to Java and JFrame, Graphics &#39;n stuff so I please you to be very detailed and well explained :) Thank you"},{"owner":{"account_id":25156671,"reputation":25,"user_id":19001416,"display_name":"Bunsekanse"},"score":0,"creation_date":1651332778,"post_id":72069583,"comment_id":127342236,"body_markdown":"Additionally if I call the getSize() method I get a Dimension value, not an integer which I cant use in the drawLine() method.","body":"Additionally if I call the getSize() method I get a Dimension value, not an integer which I cant use in the drawLine() method."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1651333824,"post_id":72069583,"comment_id":127342417,"body_markdown":"*&quot;Additionally if I call the getSize() method I get a Dimension value, not an integer which I cant use in the drawLine() method.&quot;* -- learn to use the API, and read the [Dimension API entry](https://docs.oracle.com/en/java/javase/14/docs/api/java.desktop/java/awt/Dimension.html). Note that this object has a width and height field that *can* be used where needed.","body":"<i>&quot;Additionally if I call the getSize() method I get a Dimension value, not an integer which I cant use in the drawLine() method.&quot;</i> -- learn to use the API, and read the <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.desktop/java/awt/Dimension.html\" rel=\"nofollow noreferrer\">Dimension API entry</a>. Note that this object has a width and height field that <i>can</i> be used where needed."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1651334878,"post_id":72069583,"comment_id":127342618,"body_markdown":"@HovercraftFullOfEels *&quot;Learn to use the API&quot;* +10,000 to that! &#127867;","body":"@HovercraftFullOfEels <i>&quot;Learn to use the API&quot;</i> +10,000 to that! 🍻"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651333718,"creation_date":1651333302,"answer_id":72069887,"question_id":72069583,"body_markdown":"As Andrew already stated, \r\n\r\n* you don&#39;t want to get the dimensions or size of the JFrame but rather the component that is being displayed within the JFrame&#39;s contentPane, here your MyComponent instance.\r\n* The best place to get that information is inside of the paintComponent method itself, just prior to drawing the line.\r\n* And always call the super&#39;s painting method first\r\n\r\nI also recommend:\r\n* Draw within a JPanel&#39;s paintComponent method, not a JComponent, if you want an opaque image\r\n* Avoid static methods and fields unless absolutely needed\r\n\r\nNote that in the code below, the red line draws through the JPanel&#39;s diagonal, and continues to draw the diagonal, even when the JFrame is manually resized:\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.Stroke;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class DrawLine extends JPanel {\r\n\tprivate static final Stroke LINE_STROKE = new BasicStroke(15f);\r\n\tprivate static final Dimension PREF_SIZE = new Dimension(800, 650);\r\n\r\n\tpublic DrawLine() {\r\n\t\tsetPreferredSize(PREF_SIZE);\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\t\r\n\t\t// code to make the line smooth (antialias the line to remove jaggies)\r\n\t\t// and to make the line thick, using a wider &quot;stroke&quot;\r\n\t\tGraphics2D g2 = (Graphics2D) g;\r\n\t\tg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\tg2.setStroke(LINE_STROKE);\r\n\r\n\t\t// if we want a red line\r\n\t\tg2.setColor(Color.RED);\r\n\r\n\t\t// this is the key code here:\r\n\t\tint width = getWidth();\r\n\t\tint height = getHeight();\r\n\t\t\r\n\t\t// draw along the main diagonal:\r\n\t\tg2.drawLine(0, 0, width, height);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\tDrawLine mainPanel = new DrawLine();\r\n\r\n\t\t\tJFrame frame = new JFrame(&quot;GUI&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.add(mainPanel);\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\tframe.setVisible(true);\r\n\t\t});\r\n\t}\r\n\r\n}\r\n```","title":"Graphics - Use a parameter (getSize()) to draw a line throughout the whole window","body":"<p>As Andrew already stated,</p>\n<ul>\n<li>you don't want to get the dimensions or size of the JFrame but rather the component that is being displayed within the JFrame's contentPane, here your MyComponent instance.</li>\n<li>The best place to get that information is inside of the paintComponent method itself, just prior to drawing the line.</li>\n<li>And always call the super's painting method first</li>\n</ul>\n<p>I also recommend:</p>\n<ul>\n<li>Draw within a JPanel's paintComponent method, not a JComponent, if you want an opaque image</li>\n<li>Avoid static methods and fields unless absolutely needed</li>\n</ul>\n<p>Note that in the code below, the red line draws through the JPanel's diagonal, and continues to draw the diagonal, even when the JFrame is manually resized:</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.Stroke;\n\nimport javax.swing.*;\n\npublic class DrawLine extends JPanel {\n    private static final Stroke LINE_STROKE = new BasicStroke(15f);\n    private static final Dimension PREF_SIZE = new Dimension(800, 650);\n\n    public DrawLine() {\n        setPreferredSize(PREF_SIZE);\n    }\n    \n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        \n        // code to make the line smooth (antialias the line to remove jaggies)\n        // and to make the line thick, using a wider &quot;stroke&quot;\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2.setStroke(LINE_STROKE);\n\n        // if we want a red line\n        g2.setColor(Color.RED);\n\n        // this is the key code here:\n        int width = getWidth();\n        int height = getHeight();\n        \n        // draw along the main diagonal:\n        g2.drawLine(0, 0, width, height);\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            DrawLine mainPanel = new DrawLine();\n\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25156671,"reputation":25,"user_id":19001416,"display_name":"Bunsekanse"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72069887,"answer_count":1,"score":1,"last_activity_date":1651333718,"creation_date":1651330776,"question_id":72069583,"body_markdown":"I need help here. I want to give a parameter to the `drawLine()` method which I get from `getSize()`. I want to draw a line throughout the whole window by using the `getSize()` method. \r\n\r\n\r\n    package PROG2;\r\n    \r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n\r\n    class MyComponent extends JComponent {\r\n\r\n    \t@Override\r\n    \tpublic void paintComponent(Graphics g) {\r\n    \t\tg.drawLine(100, 100, 200, 200);\r\n\t\t}\r\n\t}\r\n    \t\r\n    public class &#220;bung1 extends JFrame{\r\n\r\n    \tpublic static void berechnen() {\r\n    \t\tint height = frame.getHeight(); //Here it says it doesn&#39;t know &quot;frame&quot; variable but I don&#39;t know how to declare it here.\r\n    \t\tint width = frame.getWidth();\r\n    \t}\r\n\r\n    \tpublic static void main(String[] args){\r\n    \t\t\tJFrame frame = new JFrame(&quot;First window&quot;);\r\n    \t\t\tberechnen();\r\n    \t\t\tframe.add(new MyComponent());\r\n    \t\t\tframe.setSize(400, 400);\r\n    \t\t\tframe.setVisible(true);\r\n    \t\t\tframe.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n    \t\t\tGraphics g = frame.getGraphics();\r\n\r\n    \t\t\t// int width = frame.getWidth();\r\n       \t        // int height = frame.getHeight();\r\n    \t\t\tSystem.out.println(&quot;Gr&#246;&#223;e:&quot; + frame.getSize());\r\n    \t\t\t//System.out.println(width);\r\n   \t\t}\r\n    }","title":"Graphics - Use a parameter (getSize()) to draw a line throughout the whole window","body":"<p>I need help here. I want to give a parameter to the <code>drawLine()</code> method which I get from <code>getSize()</code>. I want to draw a line throughout the whole window by using the <code>getSize()</code> method.</p>\n<pre><code>package PROG2;\n\nimport java.awt.*;\nimport javax.swing.*;\n\nclass MyComponent extends JComponent {\n\n    @Override\n    public void paintComponent(Graphics g) {\n        g.drawLine(100, 100, 200, 200);\n    }\n}\n    \npublic class Übung1 extends JFrame{\n\n    public static void berechnen() {\n        int height = frame.getHeight(); //Here it says it doesn't know &quot;frame&quot; variable but I don't know how to declare it here.\n        int width = frame.getWidth();\n    }\n\n    public static void main(String[] args){\n            JFrame frame = new JFrame(&quot;First window&quot;);\n            berechnen();\n            frame.add(new MyComponent());\n            frame.setSize(400, 400);\n            frame.setVisible(true);\n            frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n            Graphics g = frame.getGraphics();\n\n            // int width = frame.getWidth();\n            // int height = frame.getHeight();\n            System.out.println(&quot;Größe:&quot; + frame.getSize());\n            //System.out.println(width);\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-commons","windows-share","java-nio"],"owner":{"account_id":47032,"reputation":1768,"user_id":139163,"accept_rate":64,"display_name":"videoguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651333630,"creation_date":1651333630,"question_id":72069922,"body_markdown":"I have a Java method that looks at a folder on Windows share and delete any sub folder whose modification timestamp is 2 days or more ago. Basically delete stale directories as this is a staging folder where other threads in the process queue up jobs and delete job folder once done. Sometimes the process could get terminated and leave behind jobs in progress. This method gets called in next session to clear the stale sub dirs.\r\n\r\nBelow is code snippet that does this. I am running into FileNotFoundException while Files.walk() is returning all the sub dirs. That is possible as other threads in the process could be deleting folders that Files.walk() is trying to look at. I don&#39;t want to synchronize between those threads and this method.\r\n\r\nI am wondering if there is a better way to do this to mitigate these exceptions.\r\n\r\n```\r\npublic int purgeStaleContent()\r\n{\r\n    int result = 0;\r\n    try {\r\n        Path jobRoot = &quot;\\\\\\\\apollo\\\\dropbox\\\\jobs&quot;;\r\n        List&lt;Path&gt; signDirs = Files.walk(jobRoot).filter(Files::isDirectory).collect(Collectors.toList());\r\n        for(Path signDir: signDirs)\r\n        {\r\n            Logger.getGlobal().info(&quot;Checking job dir: &quot;+signDir);\r\n            FileTime lastModified = Files.getLastModifiedTime(signDir);\r\n            if (Duration.between(lastModified.toInstant(), Instant.now()).toDays() &gt; 2)\r\n            {\r\n                FileUtils.deleteDirectory(signDir.toFile());\r\n                Logger.getGlobal().info(&quot;Deleted stale job dir: &quot;+signDir);\r\n                result++;\r\n            }\r\n        }\r\n    }\r\n    catch (IOException ex) {\r\n        Logger.getGlobal().log(Level.SEVERE, &quot;Got exception while purging stale content in job dir&quot; , ex);\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```\r\nI am new to Java NIO package and its services. If this can be accomplished using Apache commons or native Java File IO support, that is fine as well. This app has to run on Java 8 JRE.\r\n\r\n\r\n\r\n\r\n","title":"Enumerating a folder on Windows share throwing FileNotFoundException while sub folder getting deleted in parallel","body":"<p>I have a Java method that looks at a folder on Windows share and delete any sub folder whose modification timestamp is 2 days or more ago. Basically delete stale directories as this is a staging folder where other threads in the process queue up jobs and delete job folder once done. Sometimes the process could get terminated and leave behind jobs in progress. This method gets called in next session to clear the stale sub dirs.</p>\n<p>Below is code snippet that does this. I am running into FileNotFoundException while Files.walk() is returning all the sub dirs. That is possible as other threads in the process could be deleting folders that Files.walk() is trying to look at. I don't want to synchronize between those threads and this method.</p>\n<p>I am wondering if there is a better way to do this to mitigate these exceptions.</p>\n<pre><code>public int purgeStaleContent()\n{\n    int result = 0;\n    try {\n        Path jobRoot = &quot;\\\\\\\\apollo\\\\dropbox\\\\jobs&quot;;\n        List&lt;Path&gt; signDirs = Files.walk(jobRoot).filter(Files::isDirectory).collect(Collectors.toList());\n        for(Path signDir: signDirs)\n        {\n            Logger.getGlobal().info(&quot;Checking job dir: &quot;+signDir);\n            FileTime lastModified = Files.getLastModifiedTime(signDir);\n            if (Duration.between(lastModified.toInstant(), Instant.now()).toDays() &gt; 2)\n            {\n                FileUtils.deleteDirectory(signDir.toFile());\n                Logger.getGlobal().info(&quot;Deleted stale job dir: &quot;+signDir);\n                result++;\n            }\n        }\n    }\n    catch (IOException ex) {\n        Logger.getGlobal().log(Level.SEVERE, &quot;Got exception while purging stale content in job dir&quot; , ex);\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>I am new to Java NIO package and its services. If this can be accomplished using Apache commons or native Java File IO support, that is fine as well. This app has to run on Java 8 JRE.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":5863496,"reputation":8458,"user_id":4618331,"display_name":"Sam"},"score":2,"creation_date":1498597228,"post_id":44789492,"comment_id":76560368,"body_markdown":"There was an interesting discussion about this same issue recently: https://stackoverflow.com/questions/35100389/writing-a-kotlin-util-function-which-provides-self-reference-in-initializer","body":"There was an interesting discussion about this same issue recently: <a href=\"https://stackoverflow.com/questions/35100389/writing-a-kotlin-util-function-which-provides-self-reference-in-initializer\" title=\"writing a kotlin util function which provides self reference in initializer\">stackoverflow.com/questions/35100389/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1530710279,"creation_date":1498597209,"answer_id":44789778,"question_id":44789492,"body_markdown":"Lambda-expressions do not have `this`, but object expressions (anonymous classes) do.\r\n\r\n    object : Runnable {\r\n        override fun run() {\r\n            handler.postDelayed(this, 1000)\r\n        }\r\n    }","title":"Convert indefinitely running Runnable from java to kotlin","body":"<p>Lambda-expressions do not have <code>this</code>, but object expressions (anonymous classes) do.</p>\n\n<pre><code>object : Runnable {\n    override fun run() {\n        handler.postDelayed(this, 1000)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2681664,"reputation":757,"user_id":2316935,"display_name":"Hobo Joe"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1498597586,"creation_date":1498597586,"answer_id":44789882,"question_id":44789492,"body_markdown":"A slightly different approach which may be more readable\r\n\r\n    val timer = Timer()\r\n    val monitor = object : TimerTask() {\r\n        override fun run() {\r\n            // whatever you need to do every second\r\n        }\r\n    }\r\n    \r\n    timer.schedule(monitor, 1000, 1000)\r\n\r\nFrom: https://stackoverflow.com/questions/25296718/repeat-an-action-every-2-seconds-in-java","title":"Convert indefinitely running Runnable from java to kotlin","body":"<p>A slightly different approach which may be more readable</p>\n\n<pre><code>val timer = Timer()\nval monitor = object : TimerTask() {\n    override fun run() {\n        // whatever you need to do every second\n    }\n}\n\ntimer.schedule(monitor, 1000, 1000)\n</code></pre>\n\n<p>From: <a href=\"https://stackoverflow.com/questions/25296718/repeat-an-action-every-2-seconds-in-java\">Repeat an action every 2 seconds in java</a></p>\n"},{"tags":[],"owner":{"account_id":6245410,"reputation":544,"user_id":4857522,"display_name":"taranjeetsapra"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1590988727,"creation_date":1590988727,"answer_id":62126124,"question_id":44789492,"body_markdown":"Lambda-expressions do not have ***this***, but object expressions (anonymous classes) do. Then the corrected code would be:\r\n\r\n    private val mHandler = Handler()\r\n    val monitor: Runnable = object : Runnable{\r\n     override fun run() {\r\n                       //any action\r\n                    }\r\n                    //runnable\r\n    \r\n                }\r\n    \r\n     mHandler.postDelayed(monitor, 1000)","title":"Convert indefinitely running Runnable from java to kotlin","body":"<p>Lambda-expressions do not have <strong><em>this</em></strong>, but object expressions (anonymous classes) do. Then the corrected code would be:</p>\n\n<pre><code>private val mHandler = Handler()\nval monitor: Runnable = object : Runnable{\n override fun run() {\n                   //any action\n                }\n                //runnable\n\n            }\n\n mHandler.postDelayed(monitor, 1000)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13793846,"reputation":59,"user_id":13294261,"display_name":"KaZaiya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608697584,"creation_date":1608697584,"answer_id":65419024,"question_id":44789492,"body_markdown":"runnable display Toast Message &quot;Hello World every 4 seconds\r\n \r\n//Inside a class main activity\r\n\r\n        val handler: Handler = Handler()\r\n        val run = object : Runnable {\r\n           override fun run() {\r\n               val message: String = &quot;Hello World&quot; // your message\r\n               handler.postDelayed(this, 4000)// 4 seconds\r\n               Toast.makeText(this@MainActivity,message,Toast.LENGTH_SHORT).show() // toast method\r\n           }\r\n\r\n       }\r\n        handler.post(run)\r\n    }","title":"Convert indefinitely running Runnable from java to kotlin","body":"<p>runnable display Toast Message &quot;Hello World every 4 seconds</p>\n<p>//Inside a class main activity</p>\n<pre><code>    val handler: Handler = Handler()\n    val run = object : Runnable {\n       override fun run() {\n           val message: String = &quot;Hello World&quot; // your message\n           handler.postDelayed(this, 4000)// 4 seconds\n           Toast.makeText(this@MainActivity,message,Toast.LENGTH_SHORT).show() // toast method\n       }\n\n   }\n    handler.post(run)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15277593,"reputation":1,"user_id":11022905,"display_name":"saeed ghafari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651333556,"creation_date":1651333252,"answer_id":72069880,"question_id":44789492,"body_markdown":"    var handler=Handler() \r\n    handler.postDelayed(Runnable { kotlin.run { \r\n\r\n    // enter code here\r\n\r\n    } },2000)","title":"Convert indefinitely running Runnable from java to kotlin","body":"<pre><code>var handler=Handler() \nhandler.postDelayed(Runnable { kotlin.run { \n\n// enter code here\n\n} },2000)\n</code></pre>\n"}],"owner":{"account_id":518846,"reputation":16789,"user_id":1068546,"accept_rate":94,"display_name":"Binoy Babu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38011,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":44789778,"answer_count":5,"score":28,"last_activity_date":1651333556,"creation_date":1498596215,"question_id":44789492,"body_markdown":"I have some code like this in java that monitors a certain file:\r\n\r\n    private Handler mHandler = new Handler();\r\n    private final Runnable monitor = new Runnable() {\r\n\r\n        public void run() {\r\n            // Do my stuff\r\n            mHandler.postDelayed(monitor, 1000); // 1 second\r\n        }\r\n    };\r\n\r\nThis is my kotlin code:\r\n\r\n    private val mHandler = Handler()\r\n    val monitor: Runnable = Runnable {\r\n        // do my stuff\r\n        mHandler.postDelayed(whatToDoHere, 1000) // 1 second\r\n    }\r\n\r\nI dont understand what `Runnable` I should pass into `mHandler.postDelayed`. What is the right solution? Another interesting thing is that the kotlin to java convertor freezes when I feed this code.","title":"Convert indefinitely running Runnable from java to kotlin","body":"<p>I have some code like this in java that monitors a certain file:</p>\n\n<pre><code>private Handler mHandler = new Handler();\nprivate final Runnable monitor = new Runnable() {\n\n    public void run() {\n        // Do my stuff\n        mHandler.postDelayed(monitor, 1000); // 1 second\n    }\n};\n</code></pre>\n\n<p>This is my kotlin code:</p>\n\n<pre><code>private val mHandler = Handler()\nval monitor: Runnable = Runnable {\n    // do my stuff\n    mHandler.postDelayed(whatToDoHere, 1000) // 1 second\n}\n</code></pre>\n\n<p>I dont understand what <code>Runnable</code> I should pass into <code>mHandler.postDelayed</code>. What is the right solution? Another interesting thing is that the kotlin to java convertor freezes when I feed this code.</p>\n"},{"tags":["java","android","xml","kotlin","dialog"],"owner":{"account_id":10124607,"reputation":11,"user_id":7480417,"display_name":"Coding Exerciser&#39;15"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651333223,"creation_date":1651333223,"question_id":72069878,"body_markdown":"I need a coachmark that can follow size as an activity. But the coachmark dialog that I made is always blocked by the bar at the top of the screen. How do I get my dialog to cover the screen up to 100%?\r\nHere&#39;s what i mean :\r\n[my coachmark cant fit this screen 100%][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1v77P.jpg\r\n\r\nHere&#39;s my kotlin&#39;s code :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-kotlin --&gt;\r\n\r\n    private fun dialogCoachMark(\r\n            activity: OnBoardingOneActivity\r\n        ) {\r\n            val dialog = activity.let { Dialog(it) }\r\n\r\n            dialog?.requestWindowFeature(Window.FEATURE_NO_TITLE)\r\n            dialog?.setCancelable(false)\r\n\r\n            val bindingCoachmark: Coachmark by lazy {\r\n                Coachmark.inflate(activity.layoutInflater)\r\n            }\r\n            dialog?.setContentView(bindingCoachmark.root)\r\n\r\n            with(bindingCoachmark) {\r\n                lyItemDialogWelcome.btnCloseCoachmark.setOnClickListener {\r\n                    dialog?.dismiss()\r\n                }\r\n            }\r\n\r\n            dialog?.show()\r\n\r\n            val window: Window? = dialog?.window\r\n\r\n\r\n            window?.setLayout(\r\n                RelativeLayout.LayoutParams.MATCH_PARENT,\r\n                RelativeLayout.LayoutParams.MATCH_PARENT\r\n            )\r\n            window?.setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN)\r\n\r\n            dialog?.window?.setBackgroundDrawable(\r\n                ColorDrawable(Color.TRANSPARENT)\r\n            )\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHere&#39;s my xml :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;RelativeLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:ignore=&quot;MissingDefaultResource&quot;&gt;\r\n\r\n        &lt;id.co.mobile.android.uat.component.ToolbarSubFeatures\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:visibility=&quot;visible&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentTop=&quot;true&quot; /&gt;\r\n\r\n        \r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to make a coachmark that can fill the screen 100%?","body":"<p>I need a coachmark that can follow size as an activity. But the coachmark dialog that I made is always blocked by the bar at the top of the screen. How do I get my dialog to cover the screen up to 100%?\nHere's what i mean :\n<a href=\"https://i.stack.imgur.com/1v77P.jpg\" rel=\"nofollow noreferrer\">my coachmark cant fit this screen 100%</a></p>\n<p>Here's my kotlin's code :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private fun dialogCoachMark(\n        activity: OnBoardingOneActivity\n    ) {\n        val dialog = activity.let { Dialog(it) }\n\n        dialog?.requestWindowFeature(Window.FEATURE_NO_TITLE)\n        dialog?.setCancelable(false)\n\n        val bindingCoachmark: Coachmark by lazy {\n            Coachmark.inflate(activity.layoutInflater)\n        }\n        dialog?.setContentView(bindingCoachmark.root)\n\n        with(bindingCoachmark) {\n            lyItemDialogWelcome.btnCloseCoachmark.setOnClickListener {\n                dialog?.dismiss()\n            }\n        }\n\n        dialog?.show()\n\n        val window: Window? = dialog?.window\n\n\n        window?.setLayout(\n            RelativeLayout.LayoutParams.MATCH_PARENT,\n            RelativeLayout.LayoutParams.MATCH_PARENT\n        )\n        window?.setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN)\n\n        dialog?.window?.setBackgroundDrawable(\n            ColorDrawable(Color.TRANSPARENT)\n        )\n    }\n</code></pre>\n<p>Here's my xml :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;RelativeLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:ignore=&quot;MissingDefaultResource&quot;&gt;\n\n    &lt;id.co.mobile.android.uat.component.ToolbarSubFeatures\n        android:id=&quot;@+id/toolbar&quot;\n        android:visibility=&quot;visible&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentTop=&quot;true&quot; /&gt;\n\n    \n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":2449464,"reputation":2268,"user_id":2136086,"display_name":"asg"},"score":0,"creation_date":1505791983,"post_id":46283409,"comment_id":79545355,"body_markdown":"I feel that this is a case of cyclic dependency. Project B is an external library to project A. And project B needs to read some properties from project A. So when you will deploy / bootstrap your application, which properties you will read first? IMO, you will need to pass on the properties to project B somehow. Or create a separate file which can be readable from project project A and project . This can solve your problem.","body":"I feel that this is a case of cyclic dependency. Project B is an external library to project A. And project B needs to read some properties from project A. So when you will deploy / bootstrap your application, which properties you will read first? IMO, you will need to pass on the properties to project B somehow. Or create a separate file which can be readable from project project A and project . This can solve your problem."}],"answers":[{"tags":[],"owner":{"account_id":2649350,"reputation":1119,"user_id":2291425,"accept_rate":40,"display_name":"Evgeny Tanhilevich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505754298,"creation_date":1505753742,"answer_id":46284558,"question_id":46283409,"body_markdown":"You need to make sure that the property file that you want to use is actually included in `projectB.jar`. You might need to consult Maven documentation for that. If the file is in fact in the jar, then you could use -\r\n\r\n    Properties.load(getClass.getResourseAsStream(&quot;path/to/the/property/file.properties&quot;));\r\n\r\nto get hold of the props.","title":"Read property file of one java project in another java project","body":"<p>You need to make sure that the property file that you want to use is actually included in <code>projectB.jar</code>. You might need to consult Maven documentation for that. If the file is in fact in the jar, then you could use -</p>\n\n<pre><code>Properties.load(getClass.getResourseAsStream(\"path/to/the/property/file.properties\"));\n</code></pre>\n\n<p>to get hold of the props.</p>\n"},{"tags":[],"owner":{"account_id":345718,"reputation":97,"user_id":678803,"display_name":"okante"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506174926,"creation_date":1506174926,"answer_id":46380328,"question_id":46283409,"body_markdown":"It is good practice to move property file outside of package you compiled to make it independent from the environment you deploy.\r\nYou should also consider to add an environment variable (A_CONFIG_LOCATION) to point your property file to make it little bit more modular. To achieve this add this code segment to your servlet-context.xml:\r\n\r\n\t&lt;context:property-placeholder\r\n\t\tlocation=&quot;file:${A_CONFIG_LOCATION}/configuration.properties&quot; /&gt;\r\n\r\n\t&lt;beans:bean id=&quot;propertiesLoader&quot;\r\n\t\tclass=&quot;org.springframework.context.support.ReloadableResourceBundleMessageSource&quot;&gt;\r\n\r\n\t\t&lt;beans:property name=&quot;cacheSeconds&quot; value=&quot;1&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;basenames&quot;&gt;\r\n\t\t\t&lt;beans:list&gt;\r\n\t\t\t\t&lt;beans:value&gt;file:${A_CONFIG_LOCATION}/configuration\r\n\t\t\t\t&lt;/beans:value&gt;\r\n\t\t\t&lt;/beans:list&gt;\r\n\t\t&lt;/beans:property&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\nBy using this approach you will also be aware of any changes made to your property file at run-time in Spring app (App A). You can add same behaviour to App B by adding file change listener to your property file reader.  ","title":"Read property file of one java project in another java project","body":"<p>It is good practice to move property file outside of package you compiled to make it independent from the environment you deploy.\nYou should also consider to add an environment variable (A_CONFIG_LOCATION) to point your property file to make it little bit more modular. To achieve this add this code segment to your servlet-context.xml:</p>\n\n<pre><code>&lt;context:property-placeholder\n    location=\"file:${A_CONFIG_LOCATION}/configuration.properties\" /&gt;\n\n&lt;beans:bean id=\"propertiesLoader\"\n    class=\"org.springframework.context.support.ReloadableResourceBundleMessageSource\"&gt;\n\n    &lt;beans:property name=\"cacheSeconds\" value=\"1\" /&gt;\n    &lt;beans:property name=\"basenames\"&gt;\n        &lt;beans:list&gt;\n            &lt;beans:value&gt;file:${A_CONFIG_LOCATION}/configuration\n            &lt;/beans:value&gt;\n        &lt;/beans:list&gt;\n    &lt;/beans:property&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>By using this approach you will also be aware of any changes made to your property file at run-time in Spring app (App A). You can add same behaviour to App B by adding file change listener to your property file reader.  </p>\n"},{"tags":[],"owner":{"account_id":19526819,"reputation":93,"user_id":14287505,"display_name":"manish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651332924,"creation_date":1651332924,"answer_id":72069845,"question_id":46283409,"body_markdown":"answered the same query here, the implementation is pretty clean and simple as well. https://stackoverflow.com/questions/71983307/how-to-read-property-values-defined-in-a-project-from-another-project-added-as-d\r\n\r\nNOTE: avoid the reading the properties using absolute file path. Not good approach\r\n\r\nregister external bean as a component of your current project and then simply just use @Value","title":"Read property file of one java project in another java project","body":"<p>answered the same query here, the implementation is pretty clean and simple as well. <a href=\"https://stackoverflow.com/questions/71983307/how-to-read-property-values-defined-in-a-project-from-another-project-added-as-d\">How to read property values defined in a project from another project added as dependency</a></p>\n<p>NOTE: avoid the reading the properties using absolute file path. Not good approach</p>\n<p>register external bean as a component of your current project and then simply just use @Value</p>\n"}],"owner":{"account_id":3893985,"reputation":149,"user_id":3223509,"accept_rate":45,"display_name":"user3223509"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1651332924,"creation_date":1505749616,"question_id":46283409,"body_markdown":"Here is my problem statement:\r\n\r\nI have a project A which is built in spring and is a maven project. there is project B(not using any framework) which I am developing as a library whose responsibility is just to make some REST calls. I am calling functions in project B&#39;s classes from project A(Including B as a jar in A)\r\n\r\nNow, while making some calls I realized I want to read the values in the local/UAT/PROD.properties file of project A in project B. The location of these files are A/src/main/resources/config.\r\n\r\nHow do I achieve this without passing the values as parameters from A to B?","title":"Read property file of one java project in another java project","body":"<p>Here is my problem statement:</p>\n\n<p>I have a project A which is built in spring and is a maven project. there is project B(not using any framework) which I am developing as a library whose responsibility is just to make some REST calls. I am calling functions in project B's classes from project A(Including B as a jar in A)</p>\n\n<p>Now, while making some calls I realized I want to read the values in the local/UAT/PROD.properties file of project A in project B. The location of these files are A/src/main/resources/config.</p>\n\n<p>How do I achieve this without passing the values as parameters from A to B?</p>\n"},{"tags":["java","spring","spring-boot","maven","properties-file"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1589898610,"post_id":61893523,"comment_id":109472083,"body_markdown":"Where is service.readTimeout configured?","body":"Where is service.readTimeout configured?"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1589908910,"post_id":61893523,"comment_id":109478203,"body_markdown":"@SimonMartinelli In a different project. All projects are marked as modules in the `pom.xml`. They are all sub modules under a main project. Does that answer your question ?","body":"@SimonMartinelli In a different project. All projects are marked as modules in the <code>pom.xml</code>. They are all sub modules under a main project. Does that answer your question ?"}],"answers":[{"tags":[],"owner":{"account_id":7614789,"reputation":175,"user_id":5774614,"display_name":"Amine ABBAOUI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590174334,"creation_date":1589901274,"answer_id":61894518,"question_id":61893523,"body_markdown":"To get an external ressource you can use `FileSystemResource`, for example I have two projects `demo` and `demo2` : \r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo I want to have access to `demo` **application.properties** from `demo2`,so you can use this code : \r\n\r\n    Resource resource = new FileSystemResource(&quot;absolute path&quot;);\r\n    // for example : C:\\\\Users\\\\Developper\\\\eclipse workspace\\\\demo\\\\src\\\\main\\\\resources\\\\application.properties\r\n    \t\t\r\n    Properties props = PropertiesLoaderUtils.loadProperties(resource);\r\n    System.out.println(props); \r\n\r\n**If you are forced to use annotations**, you can try : `@PropertySource(&quot;file:/path/to/propertiesfile&quot;)` : https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html\r\n  [1]: https://i.stack.imgur.com/GPQ0Z.png","title":"Is it possible to access a property value from another maven project?","body":"<p>To get an external ressource you can use <code>FileSystemResource</code>, for example I have two projects <code>demo</code> and <code>demo2</code> : </p>\n\n<p><a href=\"https://i.stack.imgur.com/GPQ0Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GPQ0Z.png\" alt=\"enter image description here\"></a></p>\n\n<p>So I want to have access to <code>demo</code> <strong>application.properties</strong> from <code>demo2</code>,so you can use this code : </p>\n\n<pre><code>Resource resource = new FileSystemResource(\"absolute path\");\n// for example : C:\\\\Users\\\\Developper\\\\eclipse workspace\\\\demo\\\\src\\\\main\\\\resources\\\\application.properties\n\nProperties props = PropertiesLoaderUtils.loadProperties(resource);\nSystem.out.println(props); \n</code></pre>\n\n<p><strong>If you are forced to use annotations</strong>, you can try : <code>@PropertySource(\"file:/path/to/propertiesfile\")</code> : <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html</a></p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651332484,"creation_date":1589898415,"question_id":61893523,"body_markdown":"I have a SpringBoot service:\r\n\r\n    package test;\r\n    \r\n    @Service\r\n    public class TestService {\r\n    \r\n      @Value(&quot;${service.readTimeout}&quot;)\r\n      private Duration readTimeout;\r\n    }\r\n\r\n`service.readTimeout` is not declared in my current project&#39;s property files. **It is linked in a separate project, which are all marked as Maven modules.**\r\n\r\nHow is the value from the other property file being accessed by this project ?\r\n\r\nThe project is **not listed as a dependency** or mentioned in the `pom.xml` for the project that is using the value.\r\n\r\n**Does Maven connect all declared modules ? Are all files accessible from all projects ?**\r\n\r\nWhat is going on here ?","title":"Is it possible to access a property value from another maven project?","body":"<p>I have a SpringBoot service:</p>\n\n<pre><code>package test;\n\n@Service\npublic class TestService {\n\n  @Value(\"${service.readTimeout}\")\n  private Duration readTimeout;\n}\n</code></pre>\n\n<p><code>service.readTimeout</code> is not declared in my current project's property files. <strong>It is linked in a separate project, which are all marked as Maven modules.</strong></p>\n\n<p>How is the value from the other property file being accessed by this project ?</p>\n\n<p>The project is <strong>not listed as a dependency</strong> or mentioned in the <code>pom.xml</code> for the project that is using the value.</p>\n\n<p><strong>Does Maven connect all declared modules ? Are all files accessible from all projects ?</strong></p>\n\n<p>What is going on here ?</p>\n"},{"tags":["java","mysql","prepared-statement"],"comments":[{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1651331955,"post_id":72069690,"comment_id":127342086,"body_markdown":"Check what `accountMain.getCustomerId()` is returning. The error message says that there&#39;s something wrong in the piece of query where you&#39;re passing the ID","body":"Check what <code>accountMain.getCustomerId()</code> is returning. The error message says that there&#39;s something wrong in the piece of query where you&#39;re passing the ID"},{"owner":{"account_id":22840956,"reputation":3,"user_id":16987981,"display_name":"Himanshu Tech"},"score":0,"creation_date":1651332286,"post_id":72069690,"comment_id":127342148,"body_markdown":"In Debug mode, if i do ps evaluation in Intellij, it shows :\n\n\ncom.mysql.cj.jdbc.ClientPreparedStatement: UPDATE account_main SET customer_id = 4 WHERE account_id = 2 ;","body":"In Debug mode, if i do ps evaluation in Intellij, it shows :   com.mysql.cj.jdbc.ClientPreparedStatement: UPDATE account_main SET customer_id = 4 WHERE account_id = 2 ;"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1651334446,"post_id":72069690,"comment_id":127342522,"body_markdown":"May sound illogical, but try removing space and semicolon after `account_id=?`","body":"May sound illogical, but try removing space and semicolon after <code>account_id=?</code>"},{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":2,"creation_date":1651334919,"post_id":72069690,"comment_id":127342636,"body_markdown":"The problem is using `executeUpdate(&lt;string&gt;)` where you should use `executeUpdate()` (no argument). The first signature tries to execute the query string directly, including its `?` parameter placeholders. You need to execute the prepared version, with the values you bound as parameters.","body":"The problem is using <code>executeUpdate(&lt;string&gt;)</code> where you should use <code>executeUpdate()</code> (no argument). The first signature tries to execute the query string directly, including its <code>?</code> parameter placeholders. You need to execute the prepared version, with the values you bound as parameters."},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1651335776,"post_id":72069690,"comment_id":127342857,"body_markdown":"Didn&#39;t even notice that, @BillKarwin is right","body":"Didn&#39;t even notice that, @BillKarwin is right"},{"owner":{"account_id":22840956,"reputation":3,"user_id":16987981,"display_name":"Himanshu Tech"},"score":0,"creation_date":1651336509,"post_id":72069690,"comment_id":127343043,"body_markdown":"@BillKarwin - thanks a lot. You are right. Thanks for looking into it.","body":"@BillKarwin - thanks a lot. You are right. Thanks for looking into it."}],"owner":{"account_id":22840956,"reputation":3,"user_id":16987981,"display_name":"Himanshu Tech"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651334790,"answer_count":0,"score":0,"last_activity_date":1651332374,"creation_date":1651331611,"question_id":72069690,"body_markdown":"**Background:**\r\nNeed to write PreparedStatement to update table in mysql.\r\nUsing PreparedStatement, I am able to do Select and Insert by passing parameters in different methods of same class. But somehow update is giving exception. SQL is extremely simple. In Debug mode, I can see that query is correct and if copy pasted on workbench, it works just fine.\r\n\r\nselect VERSION();\r\n8.0.28\r\n\r\n**Table:**\r\n```\r\nCREATE TABLE account_main (\r\n    account_id INT,\r\n    customer_id INT,\r\n    branch_id INT,\r\n    is_active BOOLEAN,\r\n    PRIMARY KEY (account_id)\r\n);\r\n```\r\n\r\n**class:**\r\n```\r\npublic class AccountMain {\r\n    private int accountId;\r\n    private int customerId;\r\n    private int branchId;\r\n    private boolean isActive;\r\n    private Date createDate;\r\n    private Date lastModified;\r\n//omitting setter,getter etc.\r\n```\r\n**java method:**\r\n```\r\npublic AccountMain updateAccount(AccountMain accountMain) {\r\n        System.out.println(&quot;updating account - &quot;+accountMain);\r\n        String q=&quot;UPDATE account_main SET customer_id = ? WHERE account_id = ? ;&quot;;\r\n        try (PreparedStatement ps = conn.prepareStatement(q)) {\r\n            ps.setInt(1, accountMain.getCustomerId());\r\n            ps.setInt(2, accountMain.getAccountId());\r\n            int rc = ps.executeUpdate(q);\r\n            System.out.println(&quot;rc: 1 if row updated. 0 if nothing updated. rc:&quot; + rc);\r\n            AccountMain accountMainUpdated = getAccountMain(accountMain.getAccountId());\r\n            return accountMainUpdated;\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\n**Exception:**\r\n```\r\njava.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;? WHERE account_id = ?&#39; at line 1\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1335)\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2085)\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1246)\r\n\tat com.sv.javadbbasic.stmt.AccountDAOImpl.updateAccount(AccountDAOImpl.java:94)\r\n\tat com.sv.javadbbasic.AppMain.demoAccountDAO(AppMain.java:38)\r\n\tat com.sv.javadbbasic.AppMain.main(AppMain.java:15)\r\n```\r\n\r\nps statement value in Intellij if I debug:\r\n\r\n```\r\ncom.mysql.cj.jdbc.ClientPreparedStatement: UPDATE account_main SET customer_id = 4 WHERE account_id = 2 ;\r\n```\r\n\r\nOther preparedstatements that are working fine in same class:\r\n```\r\n\r\nINSERT INTO account_main (account_id, customer_id, branch_id, is_active) VALUES ( ?, ?, ?, ?);\r\nselect * from account_main where account_id = ?;\r\n```\r\n\r\n\r\n","title":"mysql PreparedStatement update not working. Exception is not clear","body":"<p><strong>Background:</strong>\nNeed to write PreparedStatement to update table in mysql.\nUsing PreparedStatement, I am able to do Select and Insert by passing parameters in different methods of same class. But somehow update is giving exception. SQL is extremely simple. In Debug mode, I can see that query is correct and if copy pasted on workbench, it works just fine.</p>\n<p>select VERSION();\n8.0.28</p>\n<p><strong>Table:</strong></p>\n<pre><code>CREATE TABLE account_main (\n    account_id INT,\n    customer_id INT,\n    branch_id INT,\n    is_active BOOLEAN,\n    PRIMARY KEY (account_id)\n);\n</code></pre>\n<p><strong>class:</strong></p>\n<pre><code>public class AccountMain {\n    private int accountId;\n    private int customerId;\n    private int branchId;\n    private boolean isActive;\n    private Date createDate;\n    private Date lastModified;\n//omitting setter,getter etc.\n</code></pre>\n<p><strong>java method:</strong></p>\n<pre><code>public AccountMain updateAccount(AccountMain accountMain) {\n        System.out.println(&quot;updating account - &quot;+accountMain);\n        String q=&quot;UPDATE account_main SET customer_id = ? WHERE account_id = ? ;&quot;;\n        try (PreparedStatement ps = conn.prepareStatement(q)) {\n            ps.setInt(1, accountMain.getCustomerId());\n            ps.setInt(2, accountMain.getAccountId());\n            int rc = ps.executeUpdate(q);\n            System.out.println(&quot;rc: 1 if row updated. 0 if nothing updated. rc:&quot; + rc);\n            AccountMain accountMainUpdated = getAccountMain(accountMain.getAccountId());\n            return accountMainUpdated;\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n<p><strong>Exception:</strong></p>\n<pre><code>java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '? WHERE account_id = ?' at line 1\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1335)\n    at com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2085)\n    at com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1246)\n    at com.sv.javadbbasic.stmt.AccountDAOImpl.updateAccount(AccountDAOImpl.java:94)\n    at com.sv.javadbbasic.AppMain.demoAccountDAO(AppMain.java:38)\n    at com.sv.javadbbasic.AppMain.main(AppMain.java:15)\n</code></pre>\n<p>ps statement value in Intellij if I debug:</p>\n<pre><code>com.mysql.cj.jdbc.ClientPreparedStatement: UPDATE account_main SET customer_id = 4 WHERE account_id = 2 ;\n</code></pre>\n<p>Other preparedstatements that are working fine in same class:</p>\n<pre><code>\nINSERT INTO account_main (account_id, customer_id, branch_id, is_active) VALUES ( ?, ?, ?, ?);\nselect * from account_main where account_id = ?;\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":9696025,"reputation":322,"user_id":7192440,"display_name":"Big Guy"},"score":0,"creation_date":1651266475,"post_id":72063501,"comment_id":127332079,"body_markdown":"@jewelsea You are incorrect with the variables needing to be final, as this will not work. Each listener class is created within the double loop. Once the loops have completed the variables are gone and no longer accessible. The answer is to pass in the two variables into the listener which are stored as  class fields, then use those when the listener triggers. I have an answer with this, however you managed to close the question before I could post it :-(","body":"@jewelsea You are incorrect with the variables needing to be final, as this will not work. Each listener class is created within the double loop. Once the loops have completed the variables are gone and no longer accessible. The answer is to pass in the two variables into the listener which are stored as  class fields, then use those when the listener triggers. I have an answer with this, however you managed to close the question before I could post it :-("},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1651266694,"post_id":72063501,"comment_id":127332129,"body_markdown":"I&#39;m not wrong ;-). I&#39;ll reopen the question so that a specific answer can be posted.","body":"I&#39;m not wrong ;-). I&#39;ll reopen the question so that a specific answer can be posted."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651271663,"creation_date":1651267021,"answer_id":72063763,"question_id":72063501,"body_markdown":"This is really a duplicate of:\r\n\r\n * https://stackoverflow.com/questions/33799800/java-local-variable-mi-defined-in-an-enclosing-scope-must-be-final-or-effective\r\n\r\nbut reopened on request so that specific solutions to your question can be posted.\r\n\r\nAn explanation of what is going on is at: \r\n\r\n * [Baeldung: Why Do Local Variables Used in Lambdas Have to Be Final or Effectively Final?][1]\r\n\r\nThe fix is simple, just define and use local final constants:\r\n\r\n    List&lt;List&lt;Label&gt;&gt; labels = new ArrayList&lt;&gt;(new ArrayList&lt;&gt;());\r\n\r\n    // (omitted) additional initialization of the label instances as needed . . .\r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        final int row = i;\r\n        for (int j = 0; j &lt; 10; j++) {\r\n            final int col = j;\r\n            labels.get(row).get(col).setOnMouseClicked(event -&gt;\r\n                labels.get(row).get(col).setTextFill(GREEN)\r\n            );\r\n        }\r\n    }\r\n\r\nThis isn&#39;t the only way to solve the issue, there are other solutions if you search for them.  But it is, as far as I can tell, the most direct answer to the question.\r\n\r\n**Working Example**\r\n\r\nThis example adds some styling and initialization of the labels as well as some interactive functionality to demonstrate what is going on.  Because of this, the example is slightly more complicated than the minimum required to solve the problem (which is illustrated in the above code snippet already).\r\n\r\n[![image][2]][2]\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.TilePane;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import static javafx.scene.paint.Color.GREEN;\r\n    \r\n    public class MultiLabelApplication extends Application {\r\n        private static final int N_ROWS = 5;\r\n        private static final int N_COLS = 5;\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            Label lastClicked = new Label(&quot;No Selection&quot;);\r\n            lastClicked.setPadding(new Insets(10));\r\n    \r\n            TilePane grid = new TilePane(5, 5);\r\n            grid.setPrefRows(N_ROWS);\r\n            grid.setPrefColumns(N_COLS);\r\n            grid.setMinSize(TilePane.USE_PREF_SIZE, TilePane.USE_PREF_SIZE);\r\n            grid.setMaxSize(TilePane.USE_PREF_SIZE, TilePane.USE_PREF_SIZE);\r\n    \r\n            List&lt;List&lt;Label&gt;&gt; labels = new ArrayList&lt;&gt;(new ArrayList&lt;&gt;());\r\n            for (int i = 0; i &lt; N_ROWS; i++) {\r\n                final int row = i;\r\n    \r\n                labels.add(new ArrayList&lt;&gt;());\r\n    \r\n                for (int j = 0; j &lt; N_COLS; j++) {\r\n                    final int col = j;\r\n    \r\n                    final Label label = new Label(row + &quot;,&quot; + col);\r\n                    label.setPadding(new Insets(10));\r\n                    label.setOnMouseClicked(event -&gt; {\r\n                        label.setTextFill(GREEN);\r\n                        lastClicked.setText(\r\n                            &quot;Last clicked row: &quot; + row + &quot;, col: &quot; + col\r\n                        );\r\n                    });\r\n    \r\n                    labels.get(row).add(label);\r\n                    grid.getChildren().add(label);\r\n                }\r\n            }\r\n    \r\n            VBox layout = new VBox(10, lastClicked, grid);\r\n            layout.setPadding(new Insets(10));\r\n    \r\n            Scene scene = new Scene(layout);\r\n            scene.getStylesheets().add(CSS);\r\n    \r\n            stage.setScene(scene);\r\n            stage.setResizable(false);\r\n    \r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        public static final String CSS = &quot;data:text/css,&quot; + // language=CSS\r\n                &quot;&quot;&quot;\r\n                .root {\r\n                    -fx-font-size: 16px;\r\n                    -fx-background-color: cornsilk;\r\n                }\r\n                \r\n                .label {\r\n                    -fx-background-color: palegreen; \r\n                    -fx-text-fill: darkgreen;\r\n                }\r\n                \r\n                TilePane .label {\r\n                    -fx-background-color: lightblue; \r\n                    -fx-text-fill: navy;\r\n                }\r\n                &quot;&quot;&quot;;\r\n    }\r\n\r\n  [1]: https://www.baeldung.com/java-lambda-effectively-final-local-variables\r\n  [2]: https://i.stack.imgur.com/RqzZC.png\r\n","title":"Setting mouse event to multiple labels in a loop","body":"<p>This is really a duplicate of:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/33799800/java-local-variable-mi-defined-in-an-enclosing-scope-must-be-final-or-effective\">Java: Local variable mi defined in an enclosing scope must be final or effectively final</a></li>\n</ul>\n<p>but reopened on request so that specific solutions to your question can be posted.</p>\n<p>An explanation of what is going on is at:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-lambda-effectively-final-local-variables\" rel=\"nofollow noreferrer\">Baeldung: Why Do Local Variables Used in Lambdas Have to Be Final or Effectively Final?</a></li>\n</ul>\n<p>The fix is simple, just define and use local final constants:</p>\n<pre><code>List&lt;List&lt;Label&gt;&gt; labels = new ArrayList&lt;&gt;(new ArrayList&lt;&gt;());\n\n// (omitted) additional initialization of the label instances as needed . . .\n\nfor (int i = 0; i &lt; 10; i++) {\n    final int row = i;\n    for (int j = 0; j &lt; 10; j++) {\n        final int col = j;\n        labels.get(row).get(col).setOnMouseClicked(event -&gt;\n            labels.get(row).get(col).setTextFill(GREEN)\n        );\n    }\n}\n</code></pre>\n<p>This isn't the only way to solve the issue, there are other solutions if you search for them.  But it is, as far as I can tell, the most direct answer to the question.</p>\n<p><strong>Working Example</strong></p>\n<p>This example adds some styling and initialization of the labels as well as some interactive functionality to demonstrate what is going on.  Because of this, the example is slightly more complicated than the minimum required to solve the problem (which is illustrated in the above code snippet already).</p>\n<p><a href=\"https://i.stack.imgur.com/RqzZC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RqzZC.png\" alt=\"image\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.TilePane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static javafx.scene.paint.Color.GREEN;\n\npublic class MultiLabelApplication extends Application {\n    private static final int N_ROWS = 5;\n    private static final int N_COLS = 5;\n\n    @Override\n    public void start(Stage stage) {\n        Label lastClicked = new Label(&quot;No Selection&quot;);\n        lastClicked.setPadding(new Insets(10));\n\n        TilePane grid = new TilePane(5, 5);\n        grid.setPrefRows(N_ROWS);\n        grid.setPrefColumns(N_COLS);\n        grid.setMinSize(TilePane.USE_PREF_SIZE, TilePane.USE_PREF_SIZE);\n        grid.setMaxSize(TilePane.USE_PREF_SIZE, TilePane.USE_PREF_SIZE);\n\n        List&lt;List&lt;Label&gt;&gt; labels = new ArrayList&lt;&gt;(new ArrayList&lt;&gt;());\n        for (int i = 0; i &lt; N_ROWS; i++) {\n            final int row = i;\n\n            labels.add(new ArrayList&lt;&gt;());\n\n            for (int j = 0; j &lt; N_COLS; j++) {\n                final int col = j;\n\n                final Label label = new Label(row + &quot;,&quot; + col);\n                label.setPadding(new Insets(10));\n                label.setOnMouseClicked(event -&gt; {\n                    label.setTextFill(GREEN);\n                    lastClicked.setText(\n                        &quot;Last clicked row: &quot; + row + &quot;, col: &quot; + col\n                    );\n                });\n\n                labels.get(row).add(label);\n                grid.getChildren().add(label);\n            }\n        }\n\n        VBox layout = new VBox(10, lastClicked, grid);\n        layout.setPadding(new Insets(10));\n\n        Scene scene = new Scene(layout);\n        scene.getStylesheets().add(CSS);\n\n        stage.setScene(scene);\n        stage.setResizable(false);\n\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    public static final String CSS = &quot;data:text/css,&quot; + // language=CSS\n            &quot;&quot;&quot;\n            .root {\n                -fx-font-size: 16px;\n                -fx-background-color: cornsilk;\n            }\n            \n            .label {\n                -fx-background-color: palegreen; \n                -fx-text-fill: darkgreen;\n            }\n            \n            TilePane .label {\n                -fx-background-color: lightblue; \n                -fx-text-fill: navy;\n            }\n            &quot;&quot;&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651332299,"creation_date":1651270813,"answer_id":72064192,"question_id":72063501,"body_markdown":"Using @jewelsea&#39;s answer, I want to show you another way to do this without using `final`. I don&#39;t know if there are any drawbacks or pitfalls.\r\n\r\nYou can use the `MouseEvent` to determine which node was pressed by calling `event.getSource()`. See the altered code below.\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.TilePane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport static javafx.scene.paint.Color.GREEN;\r\n\r\npublic class App extends Application {\r\n    private static final int N_ROWS = 5;\r\n    private static final int N_COLS = 5;\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        Label lastClicked = new Label(&quot;No Selection&quot;);\r\n        lastClicked.setStyle(&quot;-fx-background-color: palegreen; -fx-text-fill: darkgreen; -fx-font-size: 16px;&quot;);\r\n        lastClicked.setPadding(new Insets(10));\r\n\r\n        TilePane grid = new TilePane(5, 5);\r\n        grid.setPrefRows(N_ROWS);\r\n        grid.setPrefColumns(N_COLS);\r\n        grid.setMinSize(TilePane.USE_PREF_SIZE, TilePane.USE_PREF_SIZE);\r\n        grid.setMaxSize(TilePane.USE_PREF_SIZE, TilePane.USE_PREF_SIZE);\r\n        grid.setStyle(&quot;-fx-background-color: cornsilk;&quot;);\r\n\r\n        List&lt;List&lt;Label&gt;&gt; labels = new ArrayList&lt;&gt;(new ArrayList&lt;&gt;());\r\n        for (int row = 0; row &lt; N_ROWS; row++) {\r\n            labels.add(new ArrayList&lt;&gt;());\r\n\r\n            for (int col = 0; col &lt; N_COLS; col++) {\r\n                Label label = new Label(row + &quot;,&quot; + col);\r\n                label.setPadding(new Insets(10));\r\n                label.setStyle(&quot;-fx-background-color: lightblue; -fx-text-fill: navy; -fx-font-size: 16px;&quot;);\r\n                label.setOnMouseClicked(event -&gt; {\r\n                    Label tempLabel = ((Label)event.getSource());\r\n                    tempLabel.setTextFill(GREEN);\r\n                    lastClicked.setText(&quot;Last clicked row: &quot; + tempLabel.getText());\r\n                });\r\n\r\n                labels.get(row).add(label);\r\n                grid.getChildren().add(label);\r\n            }\r\n        }\r\n\r\n        VBox layout = new VBox(10, lastClicked, grid);\r\n        layout.setPadding(new Insets(10));\r\n\r\n        stage.setScene(new Scene(layout));\r\n        stage.setResizable(false);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LqmDG.gif","title":"Setting mouse event to multiple labels in a loop","body":"<p>Using @jewelsea's answer, I want to show you another way to do this without using <code>final</code>. I don't know if there are any drawbacks or pitfalls.</p>\n<p>You can use the <code>MouseEvent</code> to determine which node was pressed by calling <code>event.getSource()</code>. See the altered code below.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.TilePane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static javafx.scene.paint.Color.GREEN;\n\npublic class App extends Application {\n    private static final int N_ROWS = 5;\n    private static final int N_COLS = 5;\n\n    @Override\n    public void start(Stage stage) {\n        Label lastClicked = new Label(&quot;No Selection&quot;);\n        lastClicked.setStyle(&quot;-fx-background-color: palegreen; -fx-text-fill: darkgreen; -fx-font-size: 16px;&quot;);\n        lastClicked.setPadding(new Insets(10));\n\n        TilePane grid = new TilePane(5, 5);\n        grid.setPrefRows(N_ROWS);\n        grid.setPrefColumns(N_COLS);\n        grid.setMinSize(TilePane.USE_PREF_SIZE, TilePane.USE_PREF_SIZE);\n        grid.setMaxSize(TilePane.USE_PREF_SIZE, TilePane.USE_PREF_SIZE);\n        grid.setStyle(&quot;-fx-background-color: cornsilk;&quot;);\n\n        List&lt;List&lt;Label&gt;&gt; labels = new ArrayList&lt;&gt;(new ArrayList&lt;&gt;());\n        for (int row = 0; row &lt; N_ROWS; row++) {\n            labels.add(new ArrayList&lt;&gt;());\n\n            for (int col = 0; col &lt; N_COLS; col++) {\n                Label label = new Label(row + &quot;,&quot; + col);\n                label.setPadding(new Insets(10));\n                label.setStyle(&quot;-fx-background-color: lightblue; -fx-text-fill: navy; -fx-font-size: 16px;&quot;);\n                label.setOnMouseClicked(event -&gt; {\n                    Label tempLabel = ((Label)event.getSource());\n                    tempLabel.setTextFill(GREEN);\n                    lastClicked.setText(&quot;Last clicked row: &quot; + tempLabel.getText());\n                });\n\n                labels.get(row).add(label);\n                grid.getChildren().add(label);\n            }\n        }\n\n        VBox layout = new VBox(10, lastClicked, grid);\n        layout.setPadding(new Insets(10));\n\n        stage.setScene(new Scene(layout));\n        stage.setResizable(false);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LqmDG.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LqmDG.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23582079,"reputation":1,"user_id":17620969,"display_name":"Alex Freeman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651332299,"creation_date":1651265055,"question_id":72063501,"body_markdown":"I have a grid of 100 javafx labels in a program using a gui I made in scenebuilder. I&#39;m trying to set it up so whenever you click on a label, the label turns the color green.\r\n\r\nI have the labels in a two dimensional array list. I&#39;m using a nested for loop to traverse the list, and then then using the setOnMouseClicked function to set the mouse event, instead of creating a function for all 100 labels.\r\n\r\nHowever, I cannot access the for loop control variables in the EventHandler method.\r\n```\r\nfor (int i = 0; i &lt; 10; i++)\r\n        {\r\n        \tfor (int j = 0; j &lt; 10; j++)\r\n        \t{\r\n        \t\tlabels.get(i).get(j).setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;(){\r\n        \t\t\t\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void handle(MouseEvent event) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlabels.get(i).get(j).setTextFill(Color.GREEN);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n        \t\t\t\r\n        \t\t});\r\n        \t}\r\n        }\r\n```\r\n`Local variable i defined in an enclosing scope must be final or effectively final`\r\n\r\nThe error only pops up for &#39;i&#39; in ecllipse but I assume its affecting both.\r\n\r\n\r\nWhat is a different way around this problem? I don&#39;t have to use a loop to set the mouse events up, that was just my attempt at solving the problem of setting up 100 labels to be clicked on.","title":"Setting mouse event to multiple labels in a loop","body":"<p>I have a grid of 100 javafx labels in a program using a gui I made in scenebuilder. I'm trying to set it up so whenever you click on a label, the label turns the color green.</p>\n<p>I have the labels in a two dimensional array list. I'm using a nested for loop to traverse the list, and then then using the setOnMouseClicked function to set the mouse event, instead of creating a function for all 100 labels.</p>\n<p>However, I cannot access the for loop control variables in the EventHandler method.</p>\n<pre><code>for (int i = 0; i &lt; 10; i++)\n        {\n            for (int j = 0; j &lt; 10; j++)\n            {\n                labels.get(i).get(j).setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;(){\n                    \n                    @Override\n                    public void handle(MouseEvent event) {\n                        \n                        labels.get(i).get(j).setTextFill(Color.GREEN);\n                        \n                    }\n                    \n                });\n            }\n        }\n</code></pre>\n<p><code>Local variable i defined in an enclosing scope must be final or effectively final</code></p>\n<p>The error only pops up for 'i' in ecllipse but I assume its affecting both.</p>\n<p>What is a different way around this problem? I don't have to use a loop to set the mouse events up, that was just my attempt at solving the problem of setting up 100 labels to be clicked on.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651330566,"creation_date":1651330566,"answer_id":72069551,"question_id":72069452,"body_markdown":"In my solution, I will use the Thread class to do this. At least this will give you more control in the activity lifecycle methods.\r\n\r\nI have also included a SessionManager to help you incase you need it now or later.\r\n\r\n### Activity with animation\r\n\r\n    @SuppressLint(&quot;CustomSplashScreen&quot;)\r\n    public class SplashScreen extends AppCompatActivity {\r\n\r\n        private static final int SPLASH_SCREEN = 2000;\r\n\r\n\r\n        //Variables\r\n        Animation topAnim;\r\n        ImageView ImageViewButla;\r\n        private Thread counterThread;\r\n\r\n        Context mContext;\r\n        private SessionManager sessionManager;\r\n\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            getWindow() .setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            setContentView(R.layout.activity_splash_screen);\r\n\r\n\r\n            mContext = getApplicationContext(); // Get application context\r\n\r\n\r\n            topAnim = AnimationUtils.loadAnimation(this, R.anim.top_animation);\r\n            ImageViewButla = findViewById(R.id.imageViewButla);\r\n            ImageViewButla.setAnimation(topAnim);\r\n\r\n            sessionManager = new SessionManager(mContext); // Initialize Session manager object\r\n\r\n\r\n            // Counter thread\r\n            counterThread = new Thread() {\r\n                @Override\r\n                public void run() {\r\n\r\n                    try {\r\n\r\n                        int wait = 0; // Thread wait time\r\n\r\n                        // Loop\r\n                        while (wait &lt; SPLASH_SCREEN) {\r\n\r\n                            sleep(100); // Sleep\r\n                            wait += 100;\r\n                        }\r\n\r\n                        Intent intent;\r\n                        if (sessionManager.isSignedIn()) {\r\n\r\n                            // Launch MainActivity\r\n                            intent = new Intent(SplashActivity.this, MainActivity.class);\r\n\r\n                        } else {\r\n\r\n                            // Launch Signin or SignUp activity\r\n                            intent = new Intent(SplashActivity.this,\r\n                                SignInSignUpActivity.class);\r\n                        }\r\n\r\n                        startActivity(intent); // Start activity\r\n                        finish(); // Exit Activity\r\n\r\n                    } catch (Exception ignored) {\r\n                    } finally {\r\n\r\n                        finish(); // Exit Activity\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n        @Override\r\n        public void onBackPressed() {\r\n            super.onBackPressed(); // Exit\r\n            counterThread.start(); // Start thread\r\n        }\r\n\r\n        @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n\r\n            counterThread.start(); // Start thread\r\n        }\r\n\r\n        @Override\r\n        protected void onStop() {\r\n            super.onStop();\r\n\r\n            counterThread.interrupt(); // Interrupt thread on activity exit\r\n        }\r\n\r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n\r\n            counterThread.interrupt(); // Interrupt thread on activity exit\r\n    }\r\n\r\n\r\n### SessionManager class\r\nBelow is the code for the session manager\r\n\r\n    public class SessionManager {\r\n\r\n        private static final String KEY_IS_SIGNED_IN = &quot;isSignedIn&quot;;\r\n        private static String PREFERENCE_NAME; // Shared Preference File Name\r\n\r\n        // Shared Preference\r\n        private final SharedPreferences sharedPreferences;\r\n        private final SharedPreferences.Editor editor;\r\n\r\n        // Shared Preference mode\r\n        int PRIVATE_MODE = 0;\r\n\r\n        @SuppressLint(&quot;CommitPrefEdits&quot;)\r\n        public SessionManager(Context context) {\r\n\r\n           this.sharedPreferences = context.getSharedPreferences(PREFERENCE_NAME, PRIVATE_MODE);\r\n            this.editor = sharedPreferences.edit();\r\n            PREFERENCE_NAME = context.getResources().getString(R.string.app_name) +\r\n                &quot;_SessionManagerPreference&quot;;\r\n        }\r\n\r\n        public boolean isSignedIn() {\r\n            return sharedPreferences.getBoolean(KEY_IS_SIGNED_IN, false);\r\n        }\r\n\r\n        public void setSignedIn(boolean isLoggedIn) {\r\n            editor.putBoolean(KEY_IS_SIGNED_IN, isLoggedIn);\r\n            editor.commit(); // Commit Changes\r\n        }\r\n    }\r\n\r\n\r\n","title":"Splash Animation shows only once in Android","body":"<p>In my solution, I will use the Thread class to do this. At least this will give you more control in the activity lifecycle methods.</p>\n<p>I have also included a SessionManager to help you incase you need it now or later.</p>\n<h3>Activity with animation</h3>\n<pre><code>@SuppressLint(&quot;CustomSplashScreen&quot;)\npublic class SplashScreen extends AppCompatActivity {\n\n    private static final int SPLASH_SCREEN = 2000;\n\n\n    //Variables\n    Animation topAnim;\n    ImageView ImageViewButla;\n    private Thread counterThread;\n\n    Context mContext;\n    private SessionManager sessionManager;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow() .setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        setContentView(R.layout.activity_splash_screen);\n\n\n        mContext = getApplicationContext(); // Get application context\n\n\n        topAnim = AnimationUtils.loadAnimation(this, R.anim.top_animation);\n        ImageViewButla = findViewById(R.id.imageViewButla);\n        ImageViewButla.setAnimation(topAnim);\n\n        sessionManager = new SessionManager(mContext); // Initialize Session manager object\n\n\n        // Counter thread\n        counterThread = new Thread() {\n            @Override\n            public void run() {\n\n                try {\n\n                    int wait = 0; // Thread wait time\n\n                    // Loop\n                    while (wait &lt; SPLASH_SCREEN) {\n\n                        sleep(100); // Sleep\n                        wait += 100;\n                    }\n\n                    Intent intent;\n                    if (sessionManager.isSignedIn()) {\n\n                        // Launch MainActivity\n                        intent = new Intent(SplashActivity.this, MainActivity.class);\n\n                    } else {\n\n                        // Launch Signin or SignUp activity\n                        intent = new Intent(SplashActivity.this,\n                            SignInSignUpActivity.class);\n                    }\n\n                    startActivity(intent); // Start activity\n                    finish(); // Exit Activity\n\n                } catch (Exception ignored) {\n                } finally {\n\n                    finish(); // Exit Activity\n                }\n            }\n        };\n    }\n}\n\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed(); // Exit\n        counterThread.start(); // Start thread\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n\n        counterThread.start(); // Start thread\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n\n        counterThread.interrupt(); // Interrupt thread on activity exit\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n\n        counterThread.interrupt(); // Interrupt thread on activity exit\n}\n</code></pre>\n<h3>SessionManager class</h3>\n<p>Below is the code for the session manager</p>\n<pre><code>public class SessionManager {\n\n    private static final String KEY_IS_SIGNED_IN = &quot;isSignedIn&quot;;\n    private static String PREFERENCE_NAME; // Shared Preference File Name\n\n    // Shared Preference\n    private final SharedPreferences sharedPreferences;\n    private final SharedPreferences.Editor editor;\n\n    // Shared Preference mode\n    int PRIVATE_MODE = 0;\n\n    @SuppressLint(&quot;CommitPrefEdits&quot;)\n    public SessionManager(Context context) {\n\n       this.sharedPreferences = context.getSharedPreferences(PREFERENCE_NAME, PRIVATE_MODE);\n        this.editor = sharedPreferences.edit();\n        PREFERENCE_NAME = context.getResources().getString(R.string.app_name) +\n            &quot;_SessionManagerPreference&quot;;\n    }\n\n    public boolean isSignedIn() {\n        return sharedPreferences.getBoolean(KEY_IS_SIGNED_IN, false);\n    }\n\n    public void setSignedIn(boolean isLoggedIn) {\n        editor.putBoolean(KEY_IS_SIGNED_IN, isLoggedIn);\n        editor.commit(); // Commit Changes\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25156551,"reputation":19,"user_id":19001309,"display_name":"Maksymilian Zakrzewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1651331738,"creation_date":1651329711,"question_id":72069452,"body_markdown":"The splash screen&#39;s supposed to work every time I use my app But once I clear the application from task manager and restart it. \r\n\r\nThe animation doesn&#39;t appear and it goes straight to the login screen with no animation occurring.\r\n\r\n```\r\npackage com.example.promilek;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.view.WindowManager;\r\nimport android.view.animation.Animation;\r\nimport android.view.animation.AnimationUtils;\r\nimport android.widget.ImageView;\r\n\r\n@SuppressLint(&quot;CustomSplashScreen&quot;)\r\npublic class SplashScreen extends AppCompatActivity {\r\n\r\n    private static final int SPLASH_SCREEN = 2000;\r\n\r\n    //Variables\r\n    Animation topAnim;\r\n    ImageView ImageViewButla;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow() .setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_splash_screen);\r\n\r\n        topAnim= AnimationUtils.loadAnimation(this, R.anim.top_animation);\r\n\r\n        ImageViewButla = findViewById(R.id.imageViewButla);\r\n\r\n        ImageViewButla.setAnimation(topAnim);\r\n\r\n        new Handler() .postDelayed(() -&gt; {\r\n            Intent intent = new Intent(SplashScreen.this, Login.class);\r\n            startActivity(intent);\r\n            \r\n            finish();\r\n        },SPLASH_SCREEN);\r\n    }\r\n}\r\n```","title":"Splash Animation shows only once in Android","body":"<p>The splash screen's supposed to work every time I use my app But once I clear the application from task manager and restart it.</p>\n<p>The animation doesn't appear and it goes straight to the login screen with no animation occurring.</p>\n<pre><code>package com.example.promilek;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.view.WindowManager;\nimport android.view.animation.Animation;\nimport android.view.animation.AnimationUtils;\nimport android.widget.ImageView;\n\n@SuppressLint(&quot;CustomSplashScreen&quot;)\npublic class SplashScreen extends AppCompatActivity {\n\n    private static final int SPLASH_SCREEN = 2000;\n\n    //Variables\n    Animation topAnim;\n    ImageView ImageViewButla;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow() .setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        setContentView(R.layout.activity_splash_screen);\n\n        topAnim= AnimationUtils.loadAnimation(this, R.anim.top_animation);\n\n        ImageViewButla = findViewById(R.id.imageViewButla);\n\n        ImageViewButla.setAnimation(topAnim);\n\n        new Handler() .postDelayed(() -&gt; {\n            Intent intent = new Intent(SplashScreen.this, Login.class);\n            startActivity(intent);\n            \n            finish();\n        },SPLASH_SCREEN);\n    }\n}\n</code></pre>\n"},{"tags":["java","rest","jpa","jax-rs","rapidclipse"],"answers":[{"tags":[],"owner":{"account_id":3233740,"reputation":143,"user_id":2728391,"display_name":"Schwabenheinz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651331485,"creation_date":1651331108,"answer_id":72069622,"question_id":71815171,"body_markdown":"I played a long time to find a way. It seems, that the inbuilt version  of MyEntityDAO.findAll did not work, if you call it by rest.\r\nI had to create an own session.\r\nTherefore I created in my MyEntityDAO a small peace of code:\r\n\r\n    public List &lt; MyEntity &gt; getAll() {\r\n\t\ttry (Session session =  this in my updateHibernateUtil.getSessionFactory().openSession()) {\r\n\t\t\treturn session.createQuery(&quot;from MyEntity&quot;, MyEntity.class).list();\r\n\t\t}\r\n\t}\r\n\r\nAnd I had to create a HibernateUtil.class like described in:\r\n[https://www.javaguides.net/2021/08/hibernate-example-with-mysql-database.html][1]\r\n\r\nThen I referenced it in my copy logic and everything worked fine!\r\n\r\n\r\n  [1]: https://www.javaguides.net/2021/08/hibernate-example-with-mysql-database.html","title":"Fixing of Java.lang.IllegalStateException: No active conversation found. at com.rapidclipse.framework.server.jpa.Jpa.getEntityManager(Jpa.java:200)","body":"<p>I played a long time to find a way. It seems, that the inbuilt version  of MyEntityDAO.findAll did not work, if you call it by rest.\nI had to create an own session.\nTherefore I created in my MyEntityDAO a small peace of code:</p>\n<pre><code>public List &lt; MyEntity &gt; getAll() {\n    try (Session session =  this in my updateHibernateUtil.getSessionFactory().openSession()) {\n        return session.createQuery(&quot;from MyEntity&quot;, MyEntity.class).list();\n    }\n}\n</code></pre>\n<p>And I had to create a HibernateUtil.class like described in:\n<a href=\"https://www.javaguides.net/2021/08/hibernate-example-with-mysql-database.html\" rel=\"nofollow noreferrer\">https://www.javaguides.net/2021/08/hibernate-example-with-mysql-database.html</a></p>\n<p>Then I referenced it in my copy logic and everything worked fine!</p>\n"}],"owner":{"account_id":3233740,"reputation":143,"user_id":2728391,"display_name":"Schwabenheinz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651331485,"creation_date":1649581598,"question_id":71815171,"body_markdown":"I have a running RapidClipse X Project, in which I work with a MySQL Database.\r\nI created a class to copy data from one table into a second table.\r\nFor this I use a stream\r\n\r\n   \t\t\tHibKontoDAO().findAll().stream().forEach( tc -&gt; {\r\n\t\t\t... copy data\r\n    }\r\n\r\nThe call and the process of this code works very well from anywhere in my application, except by calling it by a rest service.\r\n\r\nAlways when I call it via REST then I get following Error:\r\n\r\n    java.lang.IllegalStateException: No active conversation found.\r\n    at com.rapidclipse.framework.server.jpa.Jpa.getEntityManager(Jpa.java:200)\r\n    at com.rapidclipse.framework.server.jpa.Jpa.getEntityManager(Jpa.java:180)\r\n\r\nWhat I did:\r\nI used for testing purpoase the simple Hello World example out of: https://www.javaguides.net/2020/01/resteasy-hello-world-example-tutorial.html\r\n\r\nI placed the code in my application and it worked also very well!\r\nThen I changed it. \r\nIn the HelloWorldResource class I call my code (which gives back a text)\r\n\r\n    String myUmsMes = this.StartTransfer();\r\n    final HlpHelloWorldRest helloWorld = new HlpHelloWorldRest(myUmsMes);\r\n\r\nWhen I run this, I get in the Stream the error.\r\n\r\n    HibKontoDAO().findAll().stream().forEach( tc -&gt; {\r\n    \t\t\t... copy data\r\n        }\r\n\r\nThe full stacktrace is:\r\n\r\n\r\n        Apr. 10, 2022 10:55:09 AM com.rieder.finmgmt.helper.HlpHelloWorldRestResource StartTransfer\r\n        INFO: com.rieder.finmgmt.helper.HlpHelloWorldRestResource Exception happend \r\n    \r\n    java.lang.IllegalStateException: No active conversation found.\r\n    \tat com.rapidclipse.framework.server.jpa.Jpa.getEntityManager(Jpa.java:200)\r\n    \tat com.rapidclipse.framework.server.jpa.Jpa.getEntityManager(Jpa.java:180)\r\n    \tat com.rapidclipse.framework.server.jpa.dal.JpaDataAccessObject$Default.em(JpaDataAccessObject.java:173)\r\n    \tat com.rapidclipse.framework.server.jpa.dal.JpaDataAccessObject$Default.findAll(JpaDataAccessObject.java:243)\r\n    \tat com.rieder.finmgmt.helper.HlpHelloWorldRestResource.StartTransfer(HlpHelloWorldRestResource.java:89)\r\n    \tat com.rieder.finmgmt.helper.HlpHelloWorldRestResource.helloWorld(HlpHelloWorldRestResource.java:49)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)\r\n    \tat org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)\r\n    \tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)\r\n    \tat org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)\r\n    \tat org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)\r\n    \tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)\r\n    \tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)\r\n    \tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)\r\n    \tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)\r\n    \tat org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)\r\n    \tat org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)\r\n    \tat org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)\r\n    \tat org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)\r\n    \tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)\r\n    \tat org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)\r\n    \tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)\r\n    \tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:196)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1673)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:832)\r\n\r\nBoth codes runs fine if they runs alone.\r\nAnd I found nothing in web for the .... No active conversation found.....\r\n\r\nAny idea what I did wrong, what could be the reason, or how to fix this?\r\nThank you in advance!\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Fixing of Java.lang.IllegalStateException: No active conversation found. at com.rapidclipse.framework.server.jpa.Jpa.getEntityManager(Jpa.java:200)","body":"<p>I have a running RapidClipse X Project, in which I work with a MySQL Database.\nI created a class to copy data from one table into a second table.\nFor this I use a stream</p>\n<pre><code>        HibKontoDAO().findAll().stream().forEach( tc -&gt; {\n        ... copy data\n}\n</code></pre>\n<p>The call and the process of this code works very well from anywhere in my application, except by calling it by a rest service.</p>\n<p>Always when I call it via REST then I get following Error:</p>\n<pre><code>java.lang.IllegalStateException: No active conversation found.\nat com.rapidclipse.framework.server.jpa.Jpa.getEntityManager(Jpa.java:200)\nat com.rapidclipse.framework.server.jpa.Jpa.getEntityManager(Jpa.java:180)\n</code></pre>\n<p>What I did:\nI used for testing purpoase the simple Hello World example out of: <a href=\"https://www.javaguides.net/2020/01/resteasy-hello-world-example-tutorial.html\" rel=\"nofollow noreferrer\">https://www.javaguides.net/2020/01/resteasy-hello-world-example-tutorial.html</a></p>\n<p>I placed the code in my application and it worked also very well!\nThen I changed it.\nIn the HelloWorldResource class I call my code (which gives back a text)</p>\n<pre><code>String myUmsMes = this.StartTransfer();\nfinal HlpHelloWorldRest helloWorld = new HlpHelloWorldRest(myUmsMes);\n</code></pre>\n<p>When I run this, I get in the Stream the error.</p>\n<pre><code>HibKontoDAO().findAll().stream().forEach( tc -&gt; {\n            ... copy data\n    }\n</code></pre>\n<p>The full stacktrace is:</p>\n<pre><code>    Apr. 10, 2022 10:55:09 AM com.rieder.finmgmt.helper.HlpHelloWorldRestResource StartTransfer\n    INFO: com.rieder.finmgmt.helper.HlpHelloWorldRestResource Exception happend \n\njava.lang.IllegalStateException: No active conversation found.\n    at com.rapidclipse.framework.server.jpa.Jpa.getEntityManager(Jpa.java:200)\n    at com.rapidclipse.framework.server.jpa.Jpa.getEntityManager(Jpa.java:180)\n    at com.rapidclipse.framework.server.jpa.dal.JpaDataAccessObject$Default.em(JpaDataAccessObject.java:173)\n    at com.rapidclipse.framework.server.jpa.dal.JpaDataAccessObject$Default.findAll(JpaDataAccessObject.java:243)\n    at com.rieder.finmgmt.helper.HlpHelloWorldRestResource.StartTransfer(HlpHelloWorldRestResource.java:89)\n    at com.rieder.finmgmt.helper.HlpHelloWorldRestResource.helloWorld(HlpHelloWorldRestResource.java:49)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)\n    at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)\n    at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)\n    at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)\n    at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)\n    at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)\n    at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:196)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1673)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:832)\n</code></pre>\n<p>Both codes runs fine if they runs alone.\nAnd I found nothing in web for the .... No active conversation found.....</p>\n<p>Any idea what I did wrong, what could be the reason, or how to fix this?\nThank you in advance!</p>\n"},{"tags":["java","javafx","graphics","tooltip"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1651333043,"post_id":72069658,"comment_id":127342273,"body_markdown":"It seems to work for me.  What version of JavaFX are you using?  On what operating system are you running?","body":"It seems to work for me.  What version of JavaFX are you using?  On what operating system are you running?"},{"owner":{"account_id":23236348,"reputation":57,"user_id":18618821,"display_name":"Arron Starmer"},"score":0,"creation_date":1651335852,"post_id":72069658,"comment_id":127342876,"body_markdown":"The newest version of JavaFX on Windows 11","body":"The newest version of JavaFX on Windows 11"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1651358554,"post_id":72069658,"comment_id":127346986,"body_markdown":"[mcve] please.. anyway, this is a hack that was needed in the past - why don&#39;t you go for the clean solution suggested in my comment to your previous (same requirement) question?","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.. anyway, this is a hack that was needed in the past - why don&#39;t you go for the clean solution suggested in my comment to your previous (same requirement) question?"}],"owner":{"account_id":23236348,"reputation":57,"user_id":18618821,"display_name":"Arron Starmer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1651331390,"creation_date":1651331390,"question_id":72069658,"body_markdown":"I want to add a tooltip to a TableColumn but for some reason, it is not showing up even though it seems as if my implementation is correct. What is wrong with my implementation. I got the tooltip to show up once after my mouse was on the spot for 3 minutes but how can I get the tooltip to show immediately instead of waiting a long time for a long while? \r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/mACDH.png\r\n```\r\n\t//Name Column\r\n\t\tTableColumn&lt;AuctionItem, String&gt; itemNameCol = new TableColumn&lt;&gt;();\r\n\t\tLabel nameLabel = new Label(&quot;Items&quot;);\r\n\t\tnameLabel.setTooltip(new Tooltip(&quot;This gives the name of the product&quot;));\r\n\t\titemNameCol.setGraphic(nameLabel);\r\n\t\t\r\n\r\n\r\n","title":"JavaFX: my tooltip is not showing up and I&#39;m not sure why","body":"<p>I want to add a tooltip to a TableColumn but for some reason, it is not showing up even though it seems as if my implementation is correct. What is wrong with my implementation. I got the tooltip to show up once after my mouse was on the spot for 3 minutes but how can I get the tooltip to show immediately instead of waiting a long time for a long while?\n<a href=\"https://i.stack.imgur.com/mACDH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mACDH.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>    //Name Column\n        TableColumn&lt;AuctionItem, String&gt; itemNameCol = new TableColumn&lt;&gt;();\n        Label nameLabel = new Label(&quot;Items&quot;);\n        nameLabel.setTooltip(new Tooltip(&quot;This gives the name of the product&quot;));\n        itemNameCol.setGraphic(nameLabel);\n        \n\n\n</code></pre>\n"},{"tags":["java","spring","elasticsearch"],"comments":[{"owner":{"account_id":12587763,"reputation":1458,"user_id":9155889,"display_name":"nonNumericalFloat"},"score":0,"creation_date":1651331330,"post_id":72069466,"comment_id":127341949,"body_markdown":"Ok, neverminds folks... I had to upgrade my `spring-boot-starter-parent` from 2.3 to 2.6 like other dependencies... If anybody has tipps on how to debug dependency issues better I&#39;d appreciate.","body":"Ok, neverminds folks... I had to upgrade my <code>spring-boot-starter-parent</code> from 2.3 to 2.6 like other dependencies... If anybody has tipps on how to debug dependency issues better I&#39;d appreciate."}],"owner":{"account_id":12587763,"reputation":1458,"user_id":9155889,"display_name":"nonNumericalFloat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651330487,"creation_date":1651329837,"question_id":72069466,"body_markdown":"I have a project using `spring-data-elasticsearch` 4.3.1. Index names are dynamically supplied by a IndexNameProvider which extracts the names from the ENV, working totally fine.\r\n\r\nDocument annotated classes are using the spEL annotation like;\r\n\r\n```Java\r\n@Document(indexName = &quot;#{@elasticsearchIndexProvider.getBibliographyIndexName()}&quot;)\r\n```\r\n\r\nThis works fine for spring-data 4.0.0 RELEASE but fails for every following version with the error;\r\n`java.lang.NoClassDefFoundError: org/springframework/data/spel/ExpressionDependencies`\r\n\r\n[The docs][1], which are on version 4.3.4 state this is still possible. What am I missing here? \r\n\r\nEdit:\r\n\r\nAlso adding the dependency directly does not help;\r\n```XML\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.19&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.mapping.meta-model.annotations","title":"spring-data-elasticsearch 4.1 onwards missing SpEL template expression?","body":"<p>I have a project using <code>spring-data-elasticsearch</code> 4.3.1. Index names are dynamically supplied by a IndexNameProvider which extracts the names from the ENV, working totally fine.</p>\n<p>Document annotated classes are using the spEL annotation like;</p>\n<pre><code>@Document(indexName = &quot;#{@elasticsearchIndexProvider.getBibliographyIndexName()}&quot;)\n</code></pre>\n<p>This works fine for spring-data 4.0.0 RELEASE but fails for every following version with the error;\n<code>java.lang.NoClassDefFoundError: org/springframework/data/spel/ExpressionDependencies</code></p>\n<p><a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.mapping.meta-model.annotations\" rel=\"nofollow noreferrer\">The docs</a>, which are on version 4.3.4 state this is still possible. What am I missing here?</p>\n<p>Edit:</p>\n<p>Also adding the dependency directly does not help;</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n    &lt;version&gt;5.3.19&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","bouncycastle","pkcs#7"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1651246359,"post_id":72025322,"comment_id":127326088,"body_markdown":"An [MCVE](https://stackoverflow.com/help/mcve) would be by far your best chance to get a helpful reply. While the semi hex-dump you provided might help a mega expert to answer your question, I am afraid you might not be so lucky. So if you can make the problem reproducible - maybe using test certificates you can share with the public - please do so. I am finding it rather difficult to debug a tiny code snippet with some log output I cannot even use as a certificate without reverse-engineering it back into its binary form.","body":"An <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> would be by far your best chance to get a helpful reply. While the semi hex-dump you provided might help a mega expert to answer your question, I am afraid you might not be so lucky. So if you can make the problem reproducible - maybe using test certificates you can share with the public - please do so. I am finding it rather difficult to debug a tiny code snippet with some log output I cannot even use as a certificate without reverse-engineering it back into its binary form."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1651253765,"post_id":72025322,"comment_id":127328622,"body_markdown":"I&#39;ll try to arrange one. The code is no problem, getting the remote end to sign using a test certificate is harder.","body":"I&#39;ll try to arrange one. The code is no problem, getting the remote end to sign using a test certificate is harder."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1651263459,"post_id":72025322,"comment_id":127331360,"body_markdown":"For SignerInfo with signedattrs, `.verify` throws if hash of the data doesn&#39;t match the attrib and returns false if the signature doesn&#39;t verify for hash _of the signedattrs_, while without signedattrs (your right-hand case) it returns false if the signature doesn&#39;t verify for hash _of the data_. In that case lack of throw does not prove the data/hash is correct, and I suspect it&#39;s not -- but we need an example to check. Note we need the _exact_ data, even things like linebreaks matter, so don&#39;t just cut&amp;paste, use hex or base64 or else something like pastebin. ...","body":"For SignerInfo with signedattrs, <code>.verify</code> throws if hash of the data doesn&#39;t match the attrib and returns false if the signature doesn&#39;t verify for hash <i>of the signedattrs</i>, while without signedattrs (your right-hand case) it returns false if the signature doesn&#39;t verify for hash <i>of the data</i>. In that case lack of throw does not prove the data/hash is correct, and I suspect it&#39;s not -- but we need an example to check. Note we need the <i>exact</i> data, even things like linebreaks matter, so don&#39;t just cut&amp;paste, use hex or base64 or else something like pastebin. ..."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1651263495,"post_id":72025322,"comment_id":127331369,"body_markdown":"... @ewramner: actually you don&#39;t need the cert, the publickey (with alg = SPKI) which you can recover here is enough to test, but per above you do need the _exact_ data which we don&#39;t have.","body":"... @ewramner: actually you don&#39;t need the cert, the publickey (with alg = SPKI) which you can recover here is enough to test, but per above you do need the <i>exact</i> data which we don&#39;t have."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1651416719,"post_id":72025322,"comment_id":127355251,"body_markdown":"@dave_thompson_085 if you make an answer of that I&#39;ll accept it. It was a data error (non-canonical headers), but I didn&#39;t know how the exception logic worked and assumed the data was correct as there was no exception. Your comment put me on the right track.","body":"@dave_thompson_085 if you make an answer of that I&#39;ll accept it. It was a data error (non-canonical headers), but I didn&#39;t know how the exception logic worked and assumed the data was correct as there was no exception. Your comment put me on the right track."}],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1651330369,"creation_date":1651046768,"question_id":72025322,"body_markdown":"I&#39;m working with a platform that sends and receives very large AS/2 S/MIME messages and have problems verifying the signature for multipart/signed. The signatures that are generated by my code are valid and accepted by other systems. I can successfully verify my own signatures as well. Unfortunately my code chokes on some known good signatures from other systems, even for small messages. The verification code looks like this (simplified):\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    CMSSignedDataParser sp = new CMSSignedDataParser(\r\n      new JcaDigestCalculatorProviderBuilder()\r\n        .setProvider(&quot;BC&quot;)\r\n        .build(),\r\n      new CMSTypedStream(contentStream),\r\n      signature\r\n    );\r\n\r\n    sp.getSignedContent().drain();\r\n\r\n    // get signer cert from signer infos or pass it in as parameter\r\n    signer.verify(\r\n      new JcaSimpleSignerInfoVerifierBuilder()\r\n        .setProvider(&quot;BC&quot;)\r\n        .build(signerCert)\r\n    );\r\n\r\nThe verify method returns false for the &quot;known good&quot; signature. It does not throw, which it does if the digest is wrong. I have tried passing in the certificate as an argument and getting it from the signer infos. The code works for my own signatures. Changing to non-streaming classes with `CMSProcessableByteArray` makes no difference. Using `signerCert.getPublicKey()` also makes no difference.\r\n\r\nLooking at the signature data, the &quot;known good&quot; to the right lacks an attribute table, otherwise the two are very similar.\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n        0:d=0  hl=2 l=inf  cons: SEQUENCE                               0:d=0  hl=2 l=inf  cons: SEQUENCE\r\n        2:d=1  hl=2 l=   9 prim: OBJECT            :pkcs7-signedD       2:d=1  hl=2 l=   9 prim: OBJECT            :pkcs7-signedD\r\n       13:d=1  hl=2 l=inf  cons: cont [ 0 ]                            13:d=1  hl=2 l=inf  cons: cont [ 0 ]\r\n       15:d=2  hl=2 l=inf  cons: SEQUENCE                              15:d=2  hl=2 l=inf  cons: SEQUENCE\r\n       17:d=3  hl=2 l=   1 prim: INTEGER           :01                 17:d=3  hl=2 l=   1 prim: INTEGER           :01\r\n       20:d=3  hl=2 l=  11 cons: SET                                   20:d=3  hl=2 l=  11 cons: SET\r\n       22:d=4  hl=2 l=   9 cons: SEQUENCE                              22:d=4  hl=2 l=   9 cons: SEQUENCE\r\n       24:d=5  hl=2 l=   5 prim: OBJECT            :sha1               24:d=5  hl=2 l=   5 prim: OBJECT            :sha1\r\n       31:d=5  hl=2 l=   0 prim: NULL                                  31:d=5  hl=2 l=   0 prim: NULL\r\n       33:d=3  hl=2 l=inf  cons: SEQUENCE                              33:d=3  hl=2 l=inf  cons: SEQUENCE\r\n       35:d=4  hl=2 l=   9 prim: OBJECT            :pkcs7-data         35:d=4  hl=2 l=   9 prim: OBJECT            :pkcs7-data\r\n       46:d=4  hl=2 l=   0 prim: EOC                                   46:d=4  hl=2 l=   0 prim: EOC\r\n       48:d=3  hl=2 l=inf  cons: cont [ 0 ]                       |    48:d=3  hl=4 l= 811 cons: cont [ 0 ]\r\n       50:d=4  hl=4 l= 807 cons: SEQUENCE                         |    52:d=4  hl=4 l= 807 cons: SEQUENCE\r\n       54:d=5  hl=4 l= 527 cons: SEQUENCE                         |    56:d=5  hl=4 l= 527 cons: SEQUENCE\r\n       58:d=6  hl=2 l=   3 cons: cont [ 0 ]                       |    60:d=6  hl=2 l=   3 cons: cont [ 0 ]\r\n       60:d=7  hl=2 l=   1 prim: INTEGER           :02            |    62:d=7  hl=2 l=   1 prim: INTEGER           :02\r\n       63:d=6  hl=2 l=  16 prim: INTEGER           :153D15DC586C0 |    65:d=6  hl=2 l=  16 prim: INTEGER           :153D15DC586C0\r\n       81:d=6  hl=2 l=  13 cons: SEQUENCE                         |    83:d=6  hl=2 l=  13 cons: SEQUENCE\r\n       83:d=7  hl=2 l=   9 prim: OBJECT            :sha1WithRSAEn |    85:d=7  hl=2 l=   9 prim: OBJECT            :sha1WithRSAEn\r\n       94:d=7  hl=2 l=   0 prim: NULL                             |    96:d=7  hl=2 l=   0 prim: NULL\r\n       96:d=6  hl=2 l=  25 cons: SEQUENCE                         |    98:d=6  hl=2 l=  25 cons: SEQUENCE\r\n       98:d=7  hl=2 l=  23 cons: SET                              |   100:d=7  hl=2 l=  23 cons: SET\r\n      100:d=8  hl=2 l=  21 cons: SEQUENCE                         |   102:d=8  hl=2 l=  21 cons: SEQUENCE\r\n      102:d=9  hl=2 l=   3 prim: OBJECT            :commonName    |   104:d=9  hl=2 l=   3 prim: OBJECT            :commonName\r\n      107:d=9  hl=2 l=  14 prim: UTF8STRING        :as2.example.s |   109:d=9  hl=2 l=  14 prim: UTF8STRING        :as2.example.s\r\n      123:d=6  hl=2 l=  30 cons: SEQUENCE                         |   125:d=6  hl=2 l=  30 cons: SEQUENCE\r\n      125:d=7  hl=2 l=  13 prim: UTCTIME           :190208065447Z |   127:d=7  hl=2 l=  13 prim: UTCTIME           :190208065447Z\r\n      140:d=7  hl=2 l=  13 prim: UTCTIME           :240208070447Z |   142:d=7  hl=2 l=  13 prim: UTCTIME           :240208070447Z\r\n      155:d=6  hl=2 l=  25 cons: SEQUENCE                         |   157:d=6  hl=2 l=  25 cons: SEQUENCE\r\n      157:d=7  hl=2 l=  23 cons: SET                              |   159:d=7  hl=2 l=  23 cons: SET\r\n      159:d=8  hl=2 l=  21 cons: SEQUENCE                         |   161:d=8  hl=2 l=  21 cons: SEQUENCE\r\n      161:d=9  hl=2 l=   3 prim: OBJECT            :commonName    |   163:d=9  hl=2 l=   3 prim: OBJECT            :commonName\r\n      166:d=9  hl=2 l=  14 prim: UTF8STRING        :as2.example.s |   168:d=9  hl=2 l=  14 prim: UTF8STRING        :as2.example.s\r\n      182:d=6  hl=4 l= 290 cons: SEQUENCE                         |   184:d=6  hl=4 l= 290 cons: SEQUENCE\r\n      186:d=7  hl=2 l=  13 cons: SEQUENCE                         |   188:d=7  hl=2 l=  13 cons: SEQUENCE\r\n      188:d=8  hl=2 l=   9 prim: OBJECT            :rsaEncryption |   190:d=8  hl=2 l=   9 prim: OBJECT            :rsaEncryption\r\n      199:d=8  hl=2 l=   0 prim: NULL                             |   201:d=8  hl=2 l=   0 prim: NULL\r\n      201:d=7  hl=4 l= 271 prim: BIT STRING                       |   203:d=7  hl=4 l= 271 prim: BIT STRING\r\n          0000 - 00 30 82 01 0a 02 82 01-01 00 cd f2 29 98 3b 8d          0000 - 00 30 82 01 0a 02 82 01-01 00 cd f2 29 98 3b 8d\r\n          0010 - c5 14 d3 51 38 c8 bb ae-3b 19 9e 7a f9 8e 97 61          0010 - c5 14 d3 51 38 c8 bb ae-3b 19 9e 7a f9 8e 97 61\r\n          0020 - 5e 99 3d cb cc 4f 4a a9-79 53 d5 ef 12 29 60 1e          0020 - 5e 99 3d cb cc 4f 4a a9-79 53 d5 ef 12 29 60 1e\r\n          0030 - 8f 49 0a f3 dc 4c a0 39-71 ec 05 9c 27 44 ab b7          0030 - 8f 49 0a f3 dc 4c a0 39-71 ec 05 9c 27 44 ab b7\r\n          0040 - 6d ee 5d ab 95 d7 d9 4c-9d 48 86 85 54 10 40 d1          0040 - 6d ee 5d ab 95 d7 d9 4c-9d 48 86 85 54 10 40 d1\r\n          0050 - 7c b4 8a 6f 2c 5e 46 ab-89 9b d5 d7 27 dc 97 3e          0050 - 7c b4 8a 6f 2c 5e 46 ab-89 9b d5 d7 27 dc 97 3e\r\n          0060 - ab d8 ff 71 36 59 96 89-5a 96 63 80 7f d5 77 89          0060 - ab d8 ff 71 36 59 96 89-5a 96 63 80 7f d5 77 89\r\n          0070 - 24 07 f2 cc 88 a2 ae 2f-d8 97 91 6a ef a9 92 72          0070 - 24 07 f2 cc 88 a2 ae 2f-d8 97 91 6a ef a9 92 72\r\n          0080 - 95 e3 c3 de 56 48 10 bb-be 2d bf 68 fe 51 69 72          0080 - 95 e3 c3 de 56 48 10 bb-be 2d bf 68 fe 51 69 72\r\n          0090 - 64 cd 69 90 44 ff da 5e-fc c2 69 f6 71 36 73 09          0090 - 64 cd 69 90 44 ff da 5e-fc c2 69 f6 71 36 73 09\r\n          00a0 - 31 58 1b 21 e3 19 2e 6b-ec a4 3f b9 ba 4e aa ae          00a0 - 31 58 1b 21 e3 19 2e 6b-ec a4 3f b9 ba 4e aa ae\r\n          00b0 - 8b 46 22 9f fa 8b 6d 45-4e 0e e9 40 2e 27 08 5d          00b0 - 8b 46 22 9f fa 8b 6d 45-4e 0e e9 40 2e 27 08 5d\r\n          00c0 - 7d 59 cf 81 ef c8 cf 9d-fb 35 9a f2 4f 62 01 80          00c0 - 7d 59 cf 81 ef c8 cf 9d-fb 35 9a f2 4f 62 01 80\r\n          00d0 - 2d 9b 0e e3 09 f5 f2 75-63 3d 72 c8 2b 02 07 da          00d0 - 2d 9b 0e e3 09 f5 f2 75-63 3d 72 c8 2b 02 07 da\r\n          00e0 - 0b ec e1 fd de 8f e4 0d-b9 e5 c3 62 3b 60 2d 8a          00e0 - 0b ec e1 fd de 8f e4 0d-b9 e5 c3 62 3b 60 2d 8a\r\n          00f0 - 25 13 7e 87 6c df 63 9e-38 d7 84 e3 04 dd 07 31          00f0 - 25 13 7e 87 6c df 63 9e-38 d7 84 e3 04 dd 07 31\r\n          0100 - 41 04 99 1a 67 45 29 c1-34 ed 02 03 01 00 01             0100 - 41 04 99 1a 67 45 29 c1-34 ed 02 03 01 00 01\r\n      476:d=6  hl=2 l= 107 cons: cont [ 3 ]                       |   478:d=6  hl=2 l= 107 cons: cont [ 3 ]\r\n      478:d=7  hl=2 l= 105 cons: SEQUENCE                         |   480:d=7  hl=2 l= 105 cons: SEQUENCE\r\n      480:d=8  hl=2 l=  14 cons: SEQUENCE                         |   482:d=8  hl=2 l=  14 cons: SEQUENCE\r\n      482:d=9  hl=2 l=   3 prim: OBJECT            :X509v3 Key Us |   484:d=9  hl=2 l=   3 prim: OBJECT            :X509v3 Key Us\r\n      487:d=9  hl=2 l=   1 prim: BOOLEAN           :255           |   489:d=9  hl=2 l=   1 prim: BOOLEAN           :255\r\n      490:d=9  hl=2 l=   4 prim: OCTET STRING                     |   492:d=9  hl=2 l=   4 prim: OCTET STRING\r\n          0000 - 03 02 04 b0                                              0000 - 03 02 04 b0\r\n      496:d=8  hl=2 l=  29 cons: SEQUENCE                         |   498:d=8  hl=2 l=  29 cons: SEQUENCE\r\n      498:d=9  hl=2 l=   3 prim: OBJECT            :X509v3 Extend |   500:d=9  hl=2 l=   3 prim: OBJECT            :X509v3 Extend\r\n      503:d=9  hl=2 l=  22 prim: OCTET STRING                     |   505:d=9  hl=2 l=  22 prim: OCTET STRING\r\n          0000 - 30 14 06 08 2b 06 01 05-05 07 03 02 06 08 2b 06          0000 - 30 14 06 08 2b 06 01 05-05 07 03 02 06 08 2b 06\r\n          0010 - 01 05 05 07 03 01                                        0010 - 01 05 05 07 03 01\r\n      527:d=8  hl=2 l=  25 cons: SEQUENCE                         |   529:d=8  hl=2 l=  25 cons: SEQUENCE\r\n      529:d=9  hl=2 l=   3 prim: OBJECT            :X509v3 Subjec |   531:d=9  hl=2 l=   3 prim: OBJECT            :X509v3 Subjec\r\n      534:d=9  hl=2 l=  18 prim: OCTET STRING                     |   536:d=9  hl=2 l=  18 prim: OCTET STRING\r\n          0000 - 30 10 82 0e 61 73 32 2e-76 61 6c 69 64 6f 6f 2e          0000 - 30 10 82 0e 61 73 32 2e-76 61 6c 69 64 6f 6f 2e\r\n          0010 - 73 65                                                    0010 - 73 65\r\n      554:d=8  hl=2 l=  29 cons: SEQUENCE                         |   556:d=8  hl=2 l=  29 cons: SEQUENCE\r\n      556:d=9  hl=2 l=   3 prim: OBJECT            :X509v3 Subjec |   558:d=9  hl=2 l=   3 prim: OBJECT            :X509v3 Subjec\r\n      561:d=9  hl=2 l=  22 prim: OCTET STRING                     |   563:d=9  hl=2 l=  22 prim: OCTET STRING\r\n          0000 - 04 14 32 53 96 ec 74 b8-f0 17 9d e5 e7 7c 2f 2b          0000 - 04 14 32 53 96 ec 74 b8-f0 17 9d e5 e7 7c 2f 2b\r\n          0010 - 9b 0e db ae 08 78                                        0010 - 9b 0e db ae 08 78\r\n      585:d=5  hl=2 l=  13 cons: SEQUENCE                         |   587:d=5  hl=2 l=  13 cons: SEQUENCE\r\n      587:d=6  hl=2 l=   9 prim: OBJECT            :sha1WithRSAEn |   589:d=6  hl=2 l=   9 prim: OBJECT            :sha1WithRSAEn\r\n      598:d=6  hl=2 l=   0 prim: NULL                             |   600:d=6  hl=2 l=   0 prim: NULL\r\n      600:d=5  hl=4 l= 257 prim: BIT STRING                       |   602:d=5  hl=4 l= 257 prim: BIT STRING\r\n          0000 - 00 32 90 8e 5e 2a a1 63-27 66 06 a9 2b c3 cf 1e          0000 - 00 32 90 8e 5e 2a a1 63-27 66 06 a9 2b c3 cf 1e\r\n          0010 - 40 70 72 db b0 57 b0 b3-7e 0e 82 f3 40 8d e9 b5          0010 - 40 70 72 db b0 57 b0 b3-7e 0e 82 f3 40 8d e9 b5\r\n          0020 - 41 fa 16 b2 d0 cf 95 bb-2b 50 d6 3c 2c bc 6f 81          0020 - 41 fa 16 b2 d0 cf 95 bb-2b 50 d6 3c 2c bc 6f 81\r\n          0030 - e5 b3 2e 78 7c f9 44 e0-eb 88 79 0f 96 fa 84 e3          0030 - e5 b3 2e 78 7c f9 44 e0-eb 88 79 0f 96 fa 84 e3\r\n          0040 - 99 fc f8 25 2f 46 1b 3a-45 b0 43 e7 e0 2c 81 f3          0040 - 99 fc f8 25 2f 46 1b 3a-45 b0 43 e7 e0 2c 81 f3\r\n          0050 - f0 1a c4 b6 2e 0b a5 78-63 d2 79 15 04 25 64 58          0050 - f0 1a c4 b6 2e 0b a5 78-63 d2 79 15 04 25 64 58\r\n          0060 - 06 29 05 20 38 68 1b 6e-3b ee 9b f3 51 67 52 73          0060 - 06 29 05 20 38 68 1b 6e-3b ee 9b f3 51 67 52 73\r\n          0070 - 5f 10 22 0d 94 33 7a c3-61 a2 5a a3 85 cd c1 cb          0070 - 5f 10 22 0d 94 33 7a c3-61 a2 5a a3 85 cd c1 cb\r\n          0080 - 77 19 30 43 86 46 2e 11-ac be 67 16 db fb 77 87          0080 - 77 19 30 43 86 46 2e 11-ac be 67 16 db fb 77 87\r\n          0090 - b7 6a fc e2 16 55 42 ea-a7 4b 49 f2 45 50 5b aa          0090 - b7 6a fc e2 16 55 42 ea-a7 4b 49 f2 45 50 5b aa\r\n          00a0 - d7 78 9d 3d c8 51 91 05-fb ee a3 7b 27 c7 71 25          00a0 - d7 78 9d 3d c8 51 91 05-fb ee a3 7b 27 c7 71 25\r\n          00b0 - e9 34 e0 41 aa 35 cc a1-a3 ea 16 e7 25 f7 c3 34          00b0 - e9 34 e0 41 aa 35 cc a1-a3 ea 16 e7 25 f7 c3 34\r\n          00c0 - 13 b6 25 e6 01 85 a8 41-74 ee ae 40 43 b7 1e ae          00c0 - 13 b6 25 e6 01 85 a8 41-74 ee ae 40 43 b7 1e ae\r\n          00d0 - bf df 96 04 b4 27 f6 11-c5 8f a4 02 88 fa 66 d6          00d0 - bf df 96 04 b4 27 f6 11-c5 8f a4 02 88 fa 66 d6\r\n          00e0 - 6d c5 bb 97 be f0 5f 3d-e3 db 7c 72 b3 76 63 7b          00e0 - 6d c5 bb 97 be f0 5f 3d-e3 db 7c 72 b3 76 63 7b\r\n          00f0 - 12 34 ab c5 75 78 8c ab-00 9f 2a 10 60 5a 56 3f          00f0 - 12 34 ab c5 75 78 8c ab-00 9f 2a 10 60 5a 56 3f\r\n          0100 - 47                                                       0100 - 47\r\n      861:d=4  hl=2 l=   0 prim: EOC                              |   863:d=3  hl=4 l= 340 cons: SET\r\n      863:d=3  hl=4 l= 597 cons: SET                              |   867:d=4  hl=4 l= 336 cons: SEQUENCE\r\n      867:d=4  hl=4 l= 593 cons: SEQUENCE                         &lt;\r\n      871:d=5  hl=2 l=   1 prim: INTEGER           :01                871:d=5  hl=2 l=   1 prim: INTEGER           :01\r\n      874:d=5  hl=2 l=  45 cons: SEQUENCE                             874:d=5  hl=2 l=  45 cons: SEQUENCE\r\n      876:d=6  hl=2 l=  25 cons: SEQUENCE                             876:d=6  hl=2 l=  25 cons: SEQUENCE\r\n      878:d=7  hl=2 l=  23 cons: SET                                  878:d=7  hl=2 l=  23 cons: SET\r\n      880:d=8  hl=2 l=  21 cons: SEQUENCE                             880:d=8  hl=2 l=  21 cons: SEQUENCE\r\n      882:d=9  hl=2 l=   3 prim: OBJECT            :commonName        882:d=9  hl=2 l=   3 prim: OBJECT            :commonName\r\n      887:d=9  hl=2 l=  14 prim: UTF8STRING        :as2.example.s     887:d=9  hl=2 l=  14 prim: UTF8STRING        :as2.example.s\r\n      903:d=6  hl=2 l=  16 prim: INTEGER           :153D15DC586C0     903:d=6  hl=2 l=  16 prim: INTEGER           :153D15DC586C0\r\n      921:d=5  hl=2 l=   9 cons: SEQUENCE                             921:d=5  hl=2 l=   9 cons: SEQUENCE\r\n      923:d=6  hl=2 l=   5 prim: OBJECT            :sha1              923:d=6  hl=2 l=   5 prim: OBJECT            :sha1\r\n      930:d=6  hl=2 l=   0 prim: NULL                                 930:d=6  hl=2 l=   0 prim: NULL\r\n      932:d=5  hl=3 l= 254 cons: cont [ 0 ]                       |   932:d=5  hl=2 l=  13 cons: SEQUENCE\r\n      935:d=6  hl=2 l=  24 cons: SEQUENCE                         |   934:d=6  hl=2 l=   9 prim: OBJECT            :rsaEncryption\r\n      937:d=7  hl=2 l=   9 prim: OBJECT            :contentType   |   945:d=6  hl=2 l=   0 prim: NULL\r\n      948:d=7  hl=2 l=  11 cons: SET                              |   947:d=5  hl=4 l= 256 prim: OCTET STRING\r\n      950:d=8  hl=2 l=   9 prim: OBJECT            :pkcs7-data    |       0000 - 6f 58 e3 71 97 28 86 cd-02 2e 7b e9 df c7 0c 8d\r\n      961:d=6  hl=2 l=  28 cons: SEQUENCE                         |       0010 - 85 68 7f e7 ea 88 9f bd-76 d4 6f 7c e8 93 41 cf\r\n      963:d=7  hl=2 l=   9 prim: OBJECT            :signingTime   |       0020 - ce 5b b7 c4 63 9a 75 48-88 1e e2 29 25 92 fc 92\r\n      974:d=7  hl=2 l=  15 cons: SET                              |       0030 - 9a 86 8c 7f 08 5c 30 fd-ea fd 43 83 b9 4b a4 9d\r\n      976:d=8  hl=2 l=  13 prim: UTCTIME           :220425160449Z |       0040 - 37 b4 d0 58 c5 6b e9 07-d3 21 62 30 63 16 a4 f4\r\n      991:d=6  hl=2 l=  35 cons: SEQUENCE                         |       0050 - b1 ad 3c 1d 4f 1c a8 b8-7a 6d 65 4d 50 7e 65 58\r\n      993:d=7  hl=2 l=   9 prim: OBJECT            :messageDigest |       0060 - 48 a0 5a aa 5b f4 db 3b-a8 ca a2 7a 50 41 75 d9\r\n     1004:d=7  hl=2 l=  22 cons: SET                              |       0070 - 01 20 78 bc 0e 1b 58 82-b7 ec b9 22 3e fe 8d 44\r\n     1006:d=8  hl=2 l=  20 prim: OCTET STRING                     |       0080 - 3c d3 26 76 69 54 17 e0-68 01 f7 82 73 cd 66 ab\r\n          0000 - ba 30 61 18 8d e9 00 6b-46 9f 0e 00 b5 d8 36 f7  |       0090 - 3e 90 30 48 e8 84 5a 79-a1 aa 0d 74 46 ab 72 04\r\n          0010 - 33 1d 9d 77                                      |       00a0 - 18 0f c7 c0 bc db c0 12-a3 34 82 31 f5 92 28 87\r\n     1028:d=6  hl=2 l=  41 cons: SEQUENCE                         |       00b0 - b4 44 0e 4e 26 9a 19 a8-96 01 98 59 69 3c 80 e3\r\n     1030:d=7  hl=2 l=   9 prim: OBJECT            :1.2.840.11354 |       00c0 - 8c a5 5c b8 33 dc 14 16-d7 28 72 97 6e 93 fe 9c\r\n     1041:d=7  hl=2 l=  28 cons: SET                              |       00d0 - 04 cf 0e 50 b8 1f 1c b7-7b cf da 79 12 ac 09 2a\r\n     1043:d=8  hl=2 l=  26 cons: SEQUENCE                         |       00e0 - c4 7d 04 e8 93 12 8c c4-dc 85 af ce fc 00 75 97\r\n     1045:d=9  hl=2 l=   9 cons: SEQUENCE                         |       00f0 - fc 01 47 5a 59 99 a9 5d-c2 dc ce ae 9e 53 42 15\r\n     1047:d=10 hl=2 l=   5 prim: OBJECT            :sha1          |  1207:d=3  hl=2 l=   0 prim: EOC\r\n     1054:d=10 hl=2 l=   0 prim: NULL                             |  1209:d=2  hl=2 l=   0 prim: EOC\r\n     1056:d=9  hl=2 l=  13 cons: cont [ 1 ]                       |  1211:d=1  hl=2 l=   0 prim: EOC\r\n     1058:d=10 hl=2 l=   9 prim: OBJECT            :rsaEncryption &lt;\r\n     1069:d=10 hl=2 l=   0 prim: NULL                             &lt;\r\n     1071:d=6  hl=2 l=  52 cons: SEQUENCE                         &lt;\r\n     1073:d=7  hl=2 l=   9 prim: OBJECT            :S/MIME Capabi &lt;\r\n     1084:d=7  hl=2 l=  39 cons: SET                              &lt;\r\n     1086:d=8  hl=2 l=  37 cons: SEQUENCE                         &lt;\r\n     1088:d=9  hl=2 l=  10 cons: SEQUENCE                         &lt;\r\n     1090:d=10 hl=2 l=   8 prim: OBJECT            :des-ede3-cbc  &lt;\r\n     1100:d=9  hl=2 l=  14 cons: SEQUENCE                         &lt;\r\n     1102:d=10 hl=2 l=   8 prim: OBJECT            :rc2-cbc       &lt;\r\n     1112:d=10 hl=2 l=   2 prim: INTEGER           :80            &lt;\r\n     1116:d=9  hl=2 l=   7 cons: SEQUENCE                         &lt;\r\n     1118:d=10 hl=2 l=   5 prim: OBJECT            :des-cbc       &lt;\r\n     1125:d=6  hl=2 l=  62 cons: SEQUENCE                         &lt;\r\n     1127:d=7  hl=2 l=  11 prim: OBJECT            :id-smime-aa-e &lt;\r\n     1140:d=7  hl=2 l=  47 cons: SET                              &lt;\r\n     1142:d=8  hl=2 l=  45 cons: cont [ 0 ]                       &lt;\r\n     1144:d=9  hl=2 l=  25 cons: SEQUENCE                         &lt;\r\n     1146:d=10 hl=2 l=  23 cons: SET                              &lt;\r\n     1148:d=11 hl=2 l=  21 cons: SEQUENCE                         &lt;\r\n     1150:d=12 hl=2 l=   3 prim: OBJECT            :commonName    &lt;\r\n     1155:d=12 hl=2 l=  14 prim: UTF8STRING        :as2.example.s &lt;\r\n     1171:d=9  hl=2 l=  16 prim: INTEGER           :153D15DC586C0 &lt;\r\n     1189:d=5  hl=2 l=  13 cons: SEQUENCE                         &lt;\r\n     1191:d=6  hl=2 l=   9 prim: OBJECT            :rsaEncryption &lt;\r\n     1202:d=6  hl=2 l=   0 prim: NULL                             &lt;\r\n     1204:d=5  hl=4 l= 256 prim: OCTET STRING                     &lt;\r\n          0000 - bd 8b 48 4d 61 ce 09 9c-d9 89 b8 52 15 55 9f 87  &lt;\r\n          0010 - 8f 9b 45 23 00 77 a0 5b-c0 50 72 fe 78 4e f6 25  &lt;\r\n          0020 - ed 6d 02 82 77 6b 9c 84-f0 04 82 c5 30 3a 50 21  &lt;\r\n          0030 - 0a 51 40 01 fa 65 74 fd-0c 99 4b c7 e8 31 b1 09  &lt;\r\n          0040 - 6d bd e5 c2 72 19 8c 14-07 3b 9c 00 ca cd ee ef  &lt;\r\n          0050 - 87 db c6 fa 0f e9 41 9d-28 fa ac 95 46 b7 6d e3  &lt;\r\n          0060 - 83 9e 16 bf b2 14 90 54-b4 d8 09 67 e1 11 c6 e2  &lt;\r\n          0070 - b9 3c d6 54 06 08 16 87-2b 0f 21 a3 66 14 a1 fc  &lt;\r\n          0080 - 1b a7 93 19 84 ad 89 8f-a7 7f 53 5c 2f 44 ae 94  &lt;\r\n          0090 - 00 ce 01 e6 16 3c 19 89-0b b7 30 a3 b4 c4 94 ae  &lt;\r\n          00a0 - 71 4e 7d 3d 7b ad 3d e0-d2 f0 36 d7 b9 4f 47 08  &lt;\r\n          00b0 - 13 6f ad 2e 54 db 33 be-c0 63 db 5d 1b d6 a5 71  &lt;\r\n          00c0 - 01 7a 63 32 9e f5 3e 36-53 8e 12 14 b2 53 ef fb  &lt;\r\n          00d0 - 3f cb 07 85 9e 98 09 f0-75 43 22 23 21 74 c8 5d  &lt;\r\n          00e0 - 72 bd 43 ae 76 82 43 bc-48 bd 07 08 c6 5f 3d 75  &lt;\r\n          00f0 - cc 7b 4d 81 31 67 1c d2-b7 f0 84 da 62 86 14 a1  &lt;\r\n     1464:d=3  hl=2 l=   0 prim: EOC                              &lt;\r\n     1466:d=2  hl=2 l=   0 prim: EOC                              &lt;\r\n     1468:d=1  hl=2 l=   0 prim: EOC                              &lt;\r\n\r\nWhat could be wrong and how can I configure the BouncyCastle code to make this validation pass? The content digests are correct and other systems accept the signature, so there must be something I have missed. Unfortunately I have checked several samples without finding any clues. I can&#39;t rewrite everything to use the BouncyCastle S/MIME classes, especially as I don&#39;t even know if it would help.","title":"Bouncy Castle signature verification fails for known good signature","body":"<p>I'm working with a platform that sends and receives very large AS/2 S/MIME messages and have problems verifying the signature for multipart/signed. The signatures that are generated by my code are valid and accepted by other systems. I can successfully verify my own signatures as well. Unfortunately my code chokes on some known good signatures from other systems, even for small messages. The verification code looks like this (simplified):</p>\n<pre class=\"lang-java prettyprint-override\"><code>CMSSignedDataParser sp = new CMSSignedDataParser(\n  new JcaDigestCalculatorProviderBuilder()\n    .setProvider(&quot;BC&quot;)\n    .build(),\n  new CMSTypedStream(contentStream),\n  signature\n);\n\nsp.getSignedContent().drain();\n\n// get signer cert from signer infos or pass it in as parameter\nsigner.verify(\n  new JcaSimpleSignerInfoVerifierBuilder()\n    .setProvider(&quot;BC&quot;)\n    .build(signerCert)\n);\n</code></pre>\n<p>The verify method returns false for the &quot;known good&quot; signature. It does not throw, which it does if the digest is wrong. I have tried passing in the certificate as an argument and getting it from the signer infos. The code works for my own signatures. Changing to non-streaming classes with <code>CMSProcessableByteArray</code> makes no difference. Using <code>signerCert.getPublicKey()</code> also makes no difference.</p>\n<p>Looking at the signature data, the &quot;known good&quot; to the right lacks an attribute table, otherwise the two are very similar.</p>\n<pre class=\"lang-none prettyprint-override\"><code>    0:d=0  hl=2 l=inf  cons: SEQUENCE                               0:d=0  hl=2 l=inf  cons: SEQUENCE\n    2:d=1  hl=2 l=   9 prim: OBJECT            :pkcs7-signedD       2:d=1  hl=2 l=   9 prim: OBJECT            :pkcs7-signedD\n   13:d=1  hl=2 l=inf  cons: cont [ 0 ]                            13:d=1  hl=2 l=inf  cons: cont [ 0 ]\n   15:d=2  hl=2 l=inf  cons: SEQUENCE                              15:d=2  hl=2 l=inf  cons: SEQUENCE\n   17:d=3  hl=2 l=   1 prim: INTEGER           :01                 17:d=3  hl=2 l=   1 prim: INTEGER           :01\n   20:d=3  hl=2 l=  11 cons: SET                                   20:d=3  hl=2 l=  11 cons: SET\n   22:d=4  hl=2 l=   9 cons: SEQUENCE                              22:d=4  hl=2 l=   9 cons: SEQUENCE\n   24:d=5  hl=2 l=   5 prim: OBJECT            :sha1               24:d=5  hl=2 l=   5 prim: OBJECT            :sha1\n   31:d=5  hl=2 l=   0 prim: NULL                                  31:d=5  hl=2 l=   0 prim: NULL\n   33:d=3  hl=2 l=inf  cons: SEQUENCE                              33:d=3  hl=2 l=inf  cons: SEQUENCE\n   35:d=4  hl=2 l=   9 prim: OBJECT            :pkcs7-data         35:d=4  hl=2 l=   9 prim: OBJECT            :pkcs7-data\n   46:d=4  hl=2 l=   0 prim: EOC                                   46:d=4  hl=2 l=   0 prim: EOC\n   48:d=3  hl=2 l=inf  cons: cont [ 0 ]                       |    48:d=3  hl=4 l= 811 cons: cont [ 0 ]\n   50:d=4  hl=4 l= 807 cons: SEQUENCE                         |    52:d=4  hl=4 l= 807 cons: SEQUENCE\n   54:d=5  hl=4 l= 527 cons: SEQUENCE                         |    56:d=5  hl=4 l= 527 cons: SEQUENCE\n   58:d=6  hl=2 l=   3 cons: cont [ 0 ]                       |    60:d=6  hl=2 l=   3 cons: cont [ 0 ]\n   60:d=7  hl=2 l=   1 prim: INTEGER           :02            |    62:d=7  hl=2 l=   1 prim: INTEGER           :02\n   63:d=6  hl=2 l=  16 prim: INTEGER           :153D15DC586C0 |    65:d=6  hl=2 l=  16 prim: INTEGER           :153D15DC586C0\n   81:d=6  hl=2 l=  13 cons: SEQUENCE                         |    83:d=6  hl=2 l=  13 cons: SEQUENCE\n   83:d=7  hl=2 l=   9 prim: OBJECT            :sha1WithRSAEn |    85:d=7  hl=2 l=   9 prim: OBJECT            :sha1WithRSAEn\n   94:d=7  hl=2 l=   0 prim: NULL                             |    96:d=7  hl=2 l=   0 prim: NULL\n   96:d=6  hl=2 l=  25 cons: SEQUENCE                         |    98:d=6  hl=2 l=  25 cons: SEQUENCE\n   98:d=7  hl=2 l=  23 cons: SET                              |   100:d=7  hl=2 l=  23 cons: SET\n  100:d=8  hl=2 l=  21 cons: SEQUENCE                         |   102:d=8  hl=2 l=  21 cons: SEQUENCE\n  102:d=9  hl=2 l=   3 prim: OBJECT            :commonName    |   104:d=9  hl=2 l=   3 prim: OBJECT            :commonName\n  107:d=9  hl=2 l=  14 prim: UTF8STRING        :as2.example.s |   109:d=9  hl=2 l=  14 prim: UTF8STRING        :as2.example.s\n  123:d=6  hl=2 l=  30 cons: SEQUENCE                         |   125:d=6  hl=2 l=  30 cons: SEQUENCE\n  125:d=7  hl=2 l=  13 prim: UTCTIME           :190208065447Z |   127:d=7  hl=2 l=  13 prim: UTCTIME           :190208065447Z\n  140:d=7  hl=2 l=  13 prim: UTCTIME           :240208070447Z |   142:d=7  hl=2 l=  13 prim: UTCTIME           :240208070447Z\n  155:d=6  hl=2 l=  25 cons: SEQUENCE                         |   157:d=6  hl=2 l=  25 cons: SEQUENCE\n  157:d=7  hl=2 l=  23 cons: SET                              |   159:d=7  hl=2 l=  23 cons: SET\n  159:d=8  hl=2 l=  21 cons: SEQUENCE                         |   161:d=8  hl=2 l=  21 cons: SEQUENCE\n  161:d=9  hl=2 l=   3 prim: OBJECT            :commonName    |   163:d=9  hl=2 l=   3 prim: OBJECT            :commonName\n  166:d=9  hl=2 l=  14 prim: UTF8STRING        :as2.example.s |   168:d=9  hl=2 l=  14 prim: UTF8STRING        :as2.example.s\n  182:d=6  hl=4 l= 290 cons: SEQUENCE                         |   184:d=6  hl=4 l= 290 cons: SEQUENCE\n  186:d=7  hl=2 l=  13 cons: SEQUENCE                         |   188:d=7  hl=2 l=  13 cons: SEQUENCE\n  188:d=8  hl=2 l=   9 prim: OBJECT            :rsaEncryption |   190:d=8  hl=2 l=   9 prim: OBJECT            :rsaEncryption\n  199:d=8  hl=2 l=   0 prim: NULL                             |   201:d=8  hl=2 l=   0 prim: NULL\n  201:d=7  hl=4 l= 271 prim: BIT STRING                       |   203:d=7  hl=4 l= 271 prim: BIT STRING\n      0000 - 00 30 82 01 0a 02 82 01-01 00 cd f2 29 98 3b 8d          0000 - 00 30 82 01 0a 02 82 01-01 00 cd f2 29 98 3b 8d\n      0010 - c5 14 d3 51 38 c8 bb ae-3b 19 9e 7a f9 8e 97 61          0010 - c5 14 d3 51 38 c8 bb ae-3b 19 9e 7a f9 8e 97 61\n      0020 - 5e 99 3d cb cc 4f 4a a9-79 53 d5 ef 12 29 60 1e          0020 - 5e 99 3d cb cc 4f 4a a9-79 53 d5 ef 12 29 60 1e\n      0030 - 8f 49 0a f3 dc 4c a0 39-71 ec 05 9c 27 44 ab b7          0030 - 8f 49 0a f3 dc 4c a0 39-71 ec 05 9c 27 44 ab b7\n      0040 - 6d ee 5d ab 95 d7 d9 4c-9d 48 86 85 54 10 40 d1          0040 - 6d ee 5d ab 95 d7 d9 4c-9d 48 86 85 54 10 40 d1\n      0050 - 7c b4 8a 6f 2c 5e 46 ab-89 9b d5 d7 27 dc 97 3e          0050 - 7c b4 8a 6f 2c 5e 46 ab-89 9b d5 d7 27 dc 97 3e\n      0060 - ab d8 ff 71 36 59 96 89-5a 96 63 80 7f d5 77 89          0060 - ab d8 ff 71 36 59 96 89-5a 96 63 80 7f d5 77 89\n      0070 - 24 07 f2 cc 88 a2 ae 2f-d8 97 91 6a ef a9 92 72          0070 - 24 07 f2 cc 88 a2 ae 2f-d8 97 91 6a ef a9 92 72\n      0080 - 95 e3 c3 de 56 48 10 bb-be 2d bf 68 fe 51 69 72          0080 - 95 e3 c3 de 56 48 10 bb-be 2d bf 68 fe 51 69 72\n      0090 - 64 cd 69 90 44 ff da 5e-fc c2 69 f6 71 36 73 09          0090 - 64 cd 69 90 44 ff da 5e-fc c2 69 f6 71 36 73 09\n      00a0 - 31 58 1b 21 e3 19 2e 6b-ec a4 3f b9 ba 4e aa ae          00a0 - 31 58 1b 21 e3 19 2e 6b-ec a4 3f b9 ba 4e aa ae\n      00b0 - 8b 46 22 9f fa 8b 6d 45-4e 0e e9 40 2e 27 08 5d          00b0 - 8b 46 22 9f fa 8b 6d 45-4e 0e e9 40 2e 27 08 5d\n      00c0 - 7d 59 cf 81 ef c8 cf 9d-fb 35 9a f2 4f 62 01 80          00c0 - 7d 59 cf 81 ef c8 cf 9d-fb 35 9a f2 4f 62 01 80\n      00d0 - 2d 9b 0e e3 09 f5 f2 75-63 3d 72 c8 2b 02 07 da          00d0 - 2d 9b 0e e3 09 f5 f2 75-63 3d 72 c8 2b 02 07 da\n      00e0 - 0b ec e1 fd de 8f e4 0d-b9 e5 c3 62 3b 60 2d 8a          00e0 - 0b ec e1 fd de 8f e4 0d-b9 e5 c3 62 3b 60 2d 8a\n      00f0 - 25 13 7e 87 6c df 63 9e-38 d7 84 e3 04 dd 07 31          00f0 - 25 13 7e 87 6c df 63 9e-38 d7 84 e3 04 dd 07 31\n      0100 - 41 04 99 1a 67 45 29 c1-34 ed 02 03 01 00 01             0100 - 41 04 99 1a 67 45 29 c1-34 ed 02 03 01 00 01\n  476:d=6  hl=2 l= 107 cons: cont [ 3 ]                       |   478:d=6  hl=2 l= 107 cons: cont [ 3 ]\n  478:d=7  hl=2 l= 105 cons: SEQUENCE                         |   480:d=7  hl=2 l= 105 cons: SEQUENCE\n  480:d=8  hl=2 l=  14 cons: SEQUENCE                         |   482:d=8  hl=2 l=  14 cons: SEQUENCE\n  482:d=9  hl=2 l=   3 prim: OBJECT            :X509v3 Key Us |   484:d=9  hl=2 l=   3 prim: OBJECT            :X509v3 Key Us\n  487:d=9  hl=2 l=   1 prim: BOOLEAN           :255           |   489:d=9  hl=2 l=   1 prim: BOOLEAN           :255\n  490:d=9  hl=2 l=   4 prim: OCTET STRING                     |   492:d=9  hl=2 l=   4 prim: OCTET STRING\n      0000 - 03 02 04 b0                                              0000 - 03 02 04 b0\n  496:d=8  hl=2 l=  29 cons: SEQUENCE                         |   498:d=8  hl=2 l=  29 cons: SEQUENCE\n  498:d=9  hl=2 l=   3 prim: OBJECT            :X509v3 Extend |   500:d=9  hl=2 l=   3 prim: OBJECT            :X509v3 Extend\n  503:d=9  hl=2 l=  22 prim: OCTET STRING                     |   505:d=9  hl=2 l=  22 prim: OCTET STRING\n      0000 - 30 14 06 08 2b 06 01 05-05 07 03 02 06 08 2b 06          0000 - 30 14 06 08 2b 06 01 05-05 07 03 02 06 08 2b 06\n      0010 - 01 05 05 07 03 01                                        0010 - 01 05 05 07 03 01\n  527:d=8  hl=2 l=  25 cons: SEQUENCE                         |   529:d=8  hl=2 l=  25 cons: SEQUENCE\n  529:d=9  hl=2 l=   3 prim: OBJECT            :X509v3 Subjec |   531:d=9  hl=2 l=   3 prim: OBJECT            :X509v3 Subjec\n  534:d=9  hl=2 l=  18 prim: OCTET STRING                     |   536:d=9  hl=2 l=  18 prim: OCTET STRING\n      0000 - 30 10 82 0e 61 73 32 2e-76 61 6c 69 64 6f 6f 2e          0000 - 30 10 82 0e 61 73 32 2e-76 61 6c 69 64 6f 6f 2e\n      0010 - 73 65                                                    0010 - 73 65\n  554:d=8  hl=2 l=  29 cons: SEQUENCE                         |   556:d=8  hl=2 l=  29 cons: SEQUENCE\n  556:d=9  hl=2 l=   3 prim: OBJECT            :X509v3 Subjec |   558:d=9  hl=2 l=   3 prim: OBJECT            :X509v3 Subjec\n  561:d=9  hl=2 l=  22 prim: OCTET STRING                     |   563:d=9  hl=2 l=  22 prim: OCTET STRING\n      0000 - 04 14 32 53 96 ec 74 b8-f0 17 9d e5 e7 7c 2f 2b          0000 - 04 14 32 53 96 ec 74 b8-f0 17 9d e5 e7 7c 2f 2b\n      0010 - 9b 0e db ae 08 78                                        0010 - 9b 0e db ae 08 78\n  585:d=5  hl=2 l=  13 cons: SEQUENCE                         |   587:d=5  hl=2 l=  13 cons: SEQUENCE\n  587:d=6  hl=2 l=   9 prim: OBJECT            :sha1WithRSAEn |   589:d=6  hl=2 l=   9 prim: OBJECT            :sha1WithRSAEn\n  598:d=6  hl=2 l=   0 prim: NULL                             |   600:d=6  hl=2 l=   0 prim: NULL\n  600:d=5  hl=4 l= 257 prim: BIT STRING                       |   602:d=5  hl=4 l= 257 prim: BIT STRING\n      0000 - 00 32 90 8e 5e 2a a1 63-27 66 06 a9 2b c3 cf 1e          0000 - 00 32 90 8e 5e 2a a1 63-27 66 06 a9 2b c3 cf 1e\n      0010 - 40 70 72 db b0 57 b0 b3-7e 0e 82 f3 40 8d e9 b5          0010 - 40 70 72 db b0 57 b0 b3-7e 0e 82 f3 40 8d e9 b5\n      0020 - 41 fa 16 b2 d0 cf 95 bb-2b 50 d6 3c 2c bc 6f 81          0020 - 41 fa 16 b2 d0 cf 95 bb-2b 50 d6 3c 2c bc 6f 81\n      0030 - e5 b3 2e 78 7c f9 44 e0-eb 88 79 0f 96 fa 84 e3          0030 - e5 b3 2e 78 7c f9 44 e0-eb 88 79 0f 96 fa 84 e3\n      0040 - 99 fc f8 25 2f 46 1b 3a-45 b0 43 e7 e0 2c 81 f3          0040 - 99 fc f8 25 2f 46 1b 3a-45 b0 43 e7 e0 2c 81 f3\n      0050 - f0 1a c4 b6 2e 0b a5 78-63 d2 79 15 04 25 64 58          0050 - f0 1a c4 b6 2e 0b a5 78-63 d2 79 15 04 25 64 58\n      0060 - 06 29 05 20 38 68 1b 6e-3b ee 9b f3 51 67 52 73          0060 - 06 29 05 20 38 68 1b 6e-3b ee 9b f3 51 67 52 73\n      0070 - 5f 10 22 0d 94 33 7a c3-61 a2 5a a3 85 cd c1 cb          0070 - 5f 10 22 0d 94 33 7a c3-61 a2 5a a3 85 cd c1 cb\n      0080 - 77 19 30 43 86 46 2e 11-ac be 67 16 db fb 77 87          0080 - 77 19 30 43 86 46 2e 11-ac be 67 16 db fb 77 87\n      0090 - b7 6a fc e2 16 55 42 ea-a7 4b 49 f2 45 50 5b aa          0090 - b7 6a fc e2 16 55 42 ea-a7 4b 49 f2 45 50 5b aa\n      00a0 - d7 78 9d 3d c8 51 91 05-fb ee a3 7b 27 c7 71 25          00a0 - d7 78 9d 3d c8 51 91 05-fb ee a3 7b 27 c7 71 25\n      00b0 - e9 34 e0 41 aa 35 cc a1-a3 ea 16 e7 25 f7 c3 34          00b0 - e9 34 e0 41 aa 35 cc a1-a3 ea 16 e7 25 f7 c3 34\n      00c0 - 13 b6 25 e6 01 85 a8 41-74 ee ae 40 43 b7 1e ae          00c0 - 13 b6 25 e6 01 85 a8 41-74 ee ae 40 43 b7 1e ae\n      00d0 - bf df 96 04 b4 27 f6 11-c5 8f a4 02 88 fa 66 d6          00d0 - bf df 96 04 b4 27 f6 11-c5 8f a4 02 88 fa 66 d6\n      00e0 - 6d c5 bb 97 be f0 5f 3d-e3 db 7c 72 b3 76 63 7b          00e0 - 6d c5 bb 97 be f0 5f 3d-e3 db 7c 72 b3 76 63 7b\n      00f0 - 12 34 ab c5 75 78 8c ab-00 9f 2a 10 60 5a 56 3f          00f0 - 12 34 ab c5 75 78 8c ab-00 9f 2a 10 60 5a 56 3f\n      0100 - 47                                                       0100 - 47\n  861:d=4  hl=2 l=   0 prim: EOC                              |   863:d=3  hl=4 l= 340 cons: SET\n  863:d=3  hl=4 l= 597 cons: SET                              |   867:d=4  hl=4 l= 336 cons: SEQUENCE\n  867:d=4  hl=4 l= 593 cons: SEQUENCE                         &lt;\n  871:d=5  hl=2 l=   1 prim: INTEGER           :01                871:d=5  hl=2 l=   1 prim: INTEGER           :01\n  874:d=5  hl=2 l=  45 cons: SEQUENCE                             874:d=5  hl=2 l=  45 cons: SEQUENCE\n  876:d=6  hl=2 l=  25 cons: SEQUENCE                             876:d=6  hl=2 l=  25 cons: SEQUENCE\n  878:d=7  hl=2 l=  23 cons: SET                                  878:d=7  hl=2 l=  23 cons: SET\n  880:d=8  hl=2 l=  21 cons: SEQUENCE                             880:d=8  hl=2 l=  21 cons: SEQUENCE\n  882:d=9  hl=2 l=   3 prim: OBJECT            :commonName        882:d=9  hl=2 l=   3 prim: OBJECT            :commonName\n  887:d=9  hl=2 l=  14 prim: UTF8STRING        :as2.example.s     887:d=9  hl=2 l=  14 prim: UTF8STRING        :as2.example.s\n  903:d=6  hl=2 l=  16 prim: INTEGER           :153D15DC586C0     903:d=6  hl=2 l=  16 prim: INTEGER           :153D15DC586C0\n  921:d=5  hl=2 l=   9 cons: SEQUENCE                             921:d=5  hl=2 l=   9 cons: SEQUENCE\n  923:d=6  hl=2 l=   5 prim: OBJECT            :sha1              923:d=6  hl=2 l=   5 prim: OBJECT            :sha1\n  930:d=6  hl=2 l=   0 prim: NULL                                 930:d=6  hl=2 l=   0 prim: NULL\n  932:d=5  hl=3 l= 254 cons: cont [ 0 ]                       |   932:d=5  hl=2 l=  13 cons: SEQUENCE\n  935:d=6  hl=2 l=  24 cons: SEQUENCE                         |   934:d=6  hl=2 l=   9 prim: OBJECT            :rsaEncryption\n  937:d=7  hl=2 l=   9 prim: OBJECT            :contentType   |   945:d=6  hl=2 l=   0 prim: NULL\n  948:d=7  hl=2 l=  11 cons: SET                              |   947:d=5  hl=4 l= 256 prim: OCTET STRING\n  950:d=8  hl=2 l=   9 prim: OBJECT            :pkcs7-data    |       0000 - 6f 58 e3 71 97 28 86 cd-02 2e 7b e9 df c7 0c 8d\n  961:d=6  hl=2 l=  28 cons: SEQUENCE                         |       0010 - 85 68 7f e7 ea 88 9f bd-76 d4 6f 7c e8 93 41 cf\n  963:d=7  hl=2 l=   9 prim: OBJECT            :signingTime   |       0020 - ce 5b b7 c4 63 9a 75 48-88 1e e2 29 25 92 fc 92\n  974:d=7  hl=2 l=  15 cons: SET                              |       0030 - 9a 86 8c 7f 08 5c 30 fd-ea fd 43 83 b9 4b a4 9d\n  976:d=8  hl=2 l=  13 prim: UTCTIME           :220425160449Z |       0040 - 37 b4 d0 58 c5 6b e9 07-d3 21 62 30 63 16 a4 f4\n  991:d=6  hl=2 l=  35 cons: SEQUENCE                         |       0050 - b1 ad 3c 1d 4f 1c a8 b8-7a 6d 65 4d 50 7e 65 58\n  993:d=7  hl=2 l=   9 prim: OBJECT            :messageDigest |       0060 - 48 a0 5a aa 5b f4 db 3b-a8 ca a2 7a 50 41 75 d9\n 1004:d=7  hl=2 l=  22 cons: SET                              |       0070 - 01 20 78 bc 0e 1b 58 82-b7 ec b9 22 3e fe 8d 44\n 1006:d=8  hl=2 l=  20 prim: OCTET STRING                     |       0080 - 3c d3 26 76 69 54 17 e0-68 01 f7 82 73 cd 66 ab\n      0000 - ba 30 61 18 8d e9 00 6b-46 9f 0e 00 b5 d8 36 f7  |       0090 - 3e 90 30 48 e8 84 5a 79-a1 aa 0d 74 46 ab 72 04\n      0010 - 33 1d 9d 77                                      |       00a0 - 18 0f c7 c0 bc db c0 12-a3 34 82 31 f5 92 28 87\n 1028:d=6  hl=2 l=  41 cons: SEQUENCE                         |       00b0 - b4 44 0e 4e 26 9a 19 a8-96 01 98 59 69 3c 80 e3\n 1030:d=7  hl=2 l=   9 prim: OBJECT            :1.2.840.11354 |       00c0 - 8c a5 5c b8 33 dc 14 16-d7 28 72 97 6e 93 fe 9c\n 1041:d=7  hl=2 l=  28 cons: SET                              |       00d0 - 04 cf 0e 50 b8 1f 1c b7-7b cf da 79 12 ac 09 2a\n 1043:d=8  hl=2 l=  26 cons: SEQUENCE                         |       00e0 - c4 7d 04 e8 93 12 8c c4-dc 85 af ce fc 00 75 97\n 1045:d=9  hl=2 l=   9 cons: SEQUENCE                         |       00f0 - fc 01 47 5a 59 99 a9 5d-c2 dc ce ae 9e 53 42 15\n 1047:d=10 hl=2 l=   5 prim: OBJECT            :sha1          |  1207:d=3  hl=2 l=   0 prim: EOC\n 1054:d=10 hl=2 l=   0 prim: NULL                             |  1209:d=2  hl=2 l=   0 prim: EOC\n 1056:d=9  hl=2 l=  13 cons: cont [ 1 ]                       |  1211:d=1  hl=2 l=   0 prim: EOC\n 1058:d=10 hl=2 l=   9 prim: OBJECT            :rsaEncryption &lt;\n 1069:d=10 hl=2 l=   0 prim: NULL                             &lt;\n 1071:d=6  hl=2 l=  52 cons: SEQUENCE                         &lt;\n 1073:d=7  hl=2 l=   9 prim: OBJECT            :S/MIME Capabi &lt;\n 1084:d=7  hl=2 l=  39 cons: SET                              &lt;\n 1086:d=8  hl=2 l=  37 cons: SEQUENCE                         &lt;\n 1088:d=9  hl=2 l=  10 cons: SEQUENCE                         &lt;\n 1090:d=10 hl=2 l=   8 prim: OBJECT            :des-ede3-cbc  &lt;\n 1100:d=9  hl=2 l=  14 cons: SEQUENCE                         &lt;\n 1102:d=10 hl=2 l=   8 prim: OBJECT            :rc2-cbc       &lt;\n 1112:d=10 hl=2 l=   2 prim: INTEGER           :80            &lt;\n 1116:d=9  hl=2 l=   7 cons: SEQUENCE                         &lt;\n 1118:d=10 hl=2 l=   5 prim: OBJECT            :des-cbc       &lt;\n 1125:d=6  hl=2 l=  62 cons: SEQUENCE                         &lt;\n 1127:d=7  hl=2 l=  11 prim: OBJECT            :id-smime-aa-e &lt;\n 1140:d=7  hl=2 l=  47 cons: SET                              &lt;\n 1142:d=8  hl=2 l=  45 cons: cont [ 0 ]                       &lt;\n 1144:d=9  hl=2 l=  25 cons: SEQUENCE                         &lt;\n 1146:d=10 hl=2 l=  23 cons: SET                              &lt;\n 1148:d=11 hl=2 l=  21 cons: SEQUENCE                         &lt;\n 1150:d=12 hl=2 l=   3 prim: OBJECT            :commonName    &lt;\n 1155:d=12 hl=2 l=  14 prim: UTF8STRING        :as2.example.s &lt;\n 1171:d=9  hl=2 l=  16 prim: INTEGER           :153D15DC586C0 &lt;\n 1189:d=5  hl=2 l=  13 cons: SEQUENCE                         &lt;\n 1191:d=6  hl=2 l=   9 prim: OBJECT            :rsaEncryption &lt;\n 1202:d=6  hl=2 l=   0 prim: NULL                             &lt;\n 1204:d=5  hl=4 l= 256 prim: OCTET STRING                     &lt;\n      0000 - bd 8b 48 4d 61 ce 09 9c-d9 89 b8 52 15 55 9f 87  &lt;\n      0010 - 8f 9b 45 23 00 77 a0 5b-c0 50 72 fe 78 4e f6 25  &lt;\n      0020 - ed 6d 02 82 77 6b 9c 84-f0 04 82 c5 30 3a 50 21  &lt;\n      0030 - 0a 51 40 01 fa 65 74 fd-0c 99 4b c7 e8 31 b1 09  &lt;\n      0040 - 6d bd e5 c2 72 19 8c 14-07 3b 9c 00 ca cd ee ef  &lt;\n      0050 - 87 db c6 fa 0f e9 41 9d-28 fa ac 95 46 b7 6d e3  &lt;\n      0060 - 83 9e 16 bf b2 14 90 54-b4 d8 09 67 e1 11 c6 e2  &lt;\n      0070 - b9 3c d6 54 06 08 16 87-2b 0f 21 a3 66 14 a1 fc  &lt;\n      0080 - 1b a7 93 19 84 ad 89 8f-a7 7f 53 5c 2f 44 ae 94  &lt;\n      0090 - 00 ce 01 e6 16 3c 19 89-0b b7 30 a3 b4 c4 94 ae  &lt;\n      00a0 - 71 4e 7d 3d 7b ad 3d e0-d2 f0 36 d7 b9 4f 47 08  &lt;\n      00b0 - 13 6f ad 2e 54 db 33 be-c0 63 db 5d 1b d6 a5 71  &lt;\n      00c0 - 01 7a 63 32 9e f5 3e 36-53 8e 12 14 b2 53 ef fb  &lt;\n      00d0 - 3f cb 07 85 9e 98 09 f0-75 43 22 23 21 74 c8 5d  &lt;\n      00e0 - 72 bd 43 ae 76 82 43 bc-48 bd 07 08 c6 5f 3d 75  &lt;\n      00f0 - cc 7b 4d 81 31 67 1c d2-b7 f0 84 da 62 86 14 a1  &lt;\n 1464:d=3  hl=2 l=   0 prim: EOC                              &lt;\n 1466:d=2  hl=2 l=   0 prim: EOC                              &lt;\n 1468:d=1  hl=2 l=   0 prim: EOC                              &lt;\n</code></pre>\n<p>What could be wrong and how can I configure the BouncyCastle code to make this validation pass? The content digests are correct and other systems accept the signature, so there must be something I have missed. Unfortunately I have checked several samples without finding any clues. I can't rewrite everything to use the BouncyCastle S/MIME classes, especially as I don't even know if it would help.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":485226,"reputation":1434,"user_id":901410,"display_name":"zen_of_kermit"},"score":0,"creation_date":1651262133,"post_id":72046758,"comment_id":127331027,"body_markdown":"I can&#39;t tell if you&#39;re trolling or not. Your function `isValidAndChanged` is always returning true... You need to *actually* check the existing values and as Alex similarly pointed out, make sure they are not empty strings (i.e. valid) and different from what is already stored remotely.","body":"I can&#39;t tell if you&#39;re trolling or not. Your function <code>isValidAndChanged</code> is always returning true... You need to <i>actually</i> check the existing values and as Alex similarly pointed out, make sure they are not empty strings (i.e. valid) and different from what is already stored remotely."}],"answers":[{"tags":[],"owner":{"account_id":485226,"reputation":1434,"user_id":901410,"display_name":"zen_of_kermit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651179440,"creation_date":1651175328,"answer_id":72049435,"question_id":72046758,"body_markdown":"You are passing all three fields (age, height, weight) without checking if they are valid or contain changes to the existing data. You should make those checks before calling update, similar to how you did in the create function.\r\n\r\nFor example, create a function to check if new data is valid and different than old data:\r\n```\r\nboolean isValidAndChanged(DocumentReference docRef, String key, String value) {\r\n    // TODO get snapshot of data and compare to new value\r\n}\r\n```\r\n\r\nAnd then use that to update (passing a `Map` to `update` instead of var-args):\r\n\r\n```\r\n    String age = et_age.getText().toString().trim();\r\n    String height = et_height.getText().toString().trim();\r\n    String weight = et_weight.getText().toString().trim();\r\n\r\n    userID = mAuth.getCurrentUser().getUid();\r\n    DocumentReference documentReference = mStore.collection(&quot;userDetail&quot;).document(userID);\r\n    Map&lt;String, String&gt; dataToUpdateMap = new HashMap&lt;&gt;();\r\n    if (isValidAndChanged(documentReference, &quot;Age&quot;, age)) {\r\n        dataToUpdateMap.put(&quot;Age&quot;, age);\r\n    }\r\n    if (isValidAndChanged(documentReference, &quot;Height&quot;, height)) {\r\n        dataToUpdateMap.put(&quot;Height&quot;, height);\r\n    }\r\n    if (isValidAndChanged(documentReference, &quot;Weight&quot;, weight)) {\r\n        dataToUpdateMap.put(&quot;Weight&quot;, weight);\r\n    }\r\n    documentReference.update(dataToUpdateMap)\r\n    // ...\r\n```\r\n\r\nAlso, best practice is to use constants instead of passing magic strings around all over your code (e.g. &quot;Age&quot; becomes `AGE`.)","title":"update one or more fields inside of a document, without updating all the fields","body":"<p>You are passing all three fields (age, height, weight) without checking if they are valid or contain changes to the existing data. You should make those checks before calling update, similar to how you did in the create function.</p>\n<p>For example, create a function to check if new data is valid and different than old data:</p>\n<pre><code>boolean isValidAndChanged(DocumentReference docRef, String key, String value) {\n    // TODO get snapshot of data and compare to new value\n}\n</code></pre>\n<p>And then use that to update (passing a <code>Map</code> to <code>update</code> instead of var-args):</p>\n<pre><code>    String age = et_age.getText().toString().trim();\n    String height = et_height.getText().toString().trim();\n    String weight = et_weight.getText().toString().trim();\n\n    userID = mAuth.getCurrentUser().getUid();\n    DocumentReference documentReference = mStore.collection(&quot;userDetail&quot;).document(userID);\n    Map&lt;String, String&gt; dataToUpdateMap = new HashMap&lt;&gt;();\n    if (isValidAndChanged(documentReference, &quot;Age&quot;, age)) {\n        dataToUpdateMap.put(&quot;Age&quot;, age);\n    }\n    if (isValidAndChanged(documentReference, &quot;Height&quot;, height)) {\n        dataToUpdateMap.put(&quot;Height&quot;, height);\n    }\n    if (isValidAndChanged(documentReference, &quot;Weight&quot;, weight)) {\n        dataToUpdateMap.put(&quot;Weight&quot;, weight);\n    }\n    documentReference.update(dataToUpdateMap)\n    // ...\n</code></pre>\n<p>Also, best practice is to use constants instead of passing magic strings around all over your code (e.g. &quot;Age&quot; becomes <code>AGE</code>.)</p>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651213440,"creation_date":1651213440,"answer_id":72053616,"question_id":72046758,"body_markdown":"You&#39;re getting all the data overwritten because you&#39;re passing empty strings to the update() method. Firestore can indeed [hold null values][1], but the values of `Age` and `Height` after the update are not null, but empty strings.\r\n\r\nIf you want to update a single field and leave the other ones untouched, then you should simply pass to the update() method only values for the fields you need to update. In code, it should look like this:\r\n\r\n    documentReference.update(&quot;Weight&quot;, weight).addOnSuccessListener(/* ... /*);\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/manage-data/data-types","title":"update one or more fields inside of a document, without updating all the fields","body":"<p>You're getting all the data overwritten because you're passing empty strings to the update() method. Firestore can indeed <a href=\"https://firebase.google.com/docs/firestore/manage-data/data-types\" rel=\"nofollow noreferrer\">hold null values</a>, but the values of <code>Age</code> and <code>Height</code> after the update are not null, but empty strings.</p>\n<p>If you want to update a single field and leave the other ones untouched, then you should simply pass to the update() method only values for the fields you need to update. In code, it should look like this:</p>\n<pre><code>documentReference.update(&quot;Weight&quot;, weight).addOnSuccessListener(/* ... /*);\n</code></pre>\n"}],"owner":{"account_id":24753854,"reputation":19,"user_id":18638989,"display_name":"Killeing MaChin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1651330234,"creation_date":1651161098,"question_id":72046758,"body_markdown":"I have a feature in my program where I have to enter the user&#39;s details such as the user&#39;s age, height, and weight. This data will be stored in Firestore.\r\n\r\nthis is how the user will input their details\r\n\r\n```\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.material.button.MaterialButton;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class account_information extends AppCompatActivity {\r\n    public static final String TAG = &quot;TAG&quot;;\r\n    EditText et_age, et_height, et_weight;\r\n    Button btn_create;\r\n    FirebaseFirestore db;\r\n    FirebaseAuth mAuth;\r\n    String userID;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_account_information);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        db = FirebaseFirestore.getInstance();\r\n        et_age = findViewById(R.id.et_age);\r\n        et_height = findViewById(R.id.et_height);\r\n        et_weight = findViewById(R.id.et_weight);\r\n        btn_create = findViewById(R.id.btn_create);\r\n\r\n\r\n\r\n\r\n        btn_create.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n\r\n                String age = et_age.getText().toString().trim();\r\n                String height = et_height.getText().toString().trim();\r\n                String weight = et_weight.getText().toString().trim();\r\n\r\n\r\n                if(age.isEmpty()){\r\n                    et_age.setError(&quot;Age is mandatory&quot;);\r\n                    et_age.requestFocus();\r\n                    return;\r\n                }\r\n\r\n                if(height.isEmpty()){\r\n                    et_height.setError(&quot;Height is mandatory&quot;);\r\n                    et_height.requestFocus();\r\n                    return;\r\n                }\r\n\r\n                if(weight.isEmpty()){\r\n                    et_weight.setError(&quot;Weight is mandatory&quot;);\r\n                    et_weight.requestFocus();\r\n                    return;\r\n                }\r\n\r\n\r\n                userID = mAuth.getCurrentUser().getUid();\r\n                DocumentReference documentReference = db.collection(&quot;userDetail&quot;).document(userID);\r\n                Map&lt;String,Object&gt; user = new HashMap&lt;&gt;();\r\n                user.put(&quot;Age&quot;,age);\r\n                user.put(&quot;Height&quot;,height);\r\n                user.put(&quot;Weight&quot;,weight);\r\n                user.put(&quot;UserId&quot;, userID);\r\n\r\n                        documentReference.set(user)\r\n                        .addOnSuccessListener((OnSuccessListener) (aVoid) -&gt; {\r\n                                Log.d(TAG, &quot;onSuccess: user Detail is created for &quot;+ userID);\r\n                            startActivity(new Intent(account_information.this, MainActivity.class));\r\n                        }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull @NotNull Exception e) {\r\n                        Log.d(TAG, &quot;onFailure&quot;+ e.toString());\r\n\r\n                    }\r\n\r\n                });\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n\r\nAnd this is how it will store in firebase\r\n\r\nhttps://i.stack.imgur.com/lBbN1.jpg\r\n\r\n\r\nHowever, when the user decides to update their profile (for example his weight) the rest of the input will pass an empty string at the firebase\r\n\r\nlike this:\r\n\r\nhttps://i.stack.imgur.com/W8iIz.jpg\r\n\r\n\r\nAnd this is how the user can update their details\r\n\r\n```\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\n\r\n\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\npublic class UpdateProfile extends AppCompatActivity {\r\n    public static final String TAG = &quot;TAG&quot;;\r\n    EditText et_age, et_height, et_weight;\r\n    Button btn_update;\r\n\r\n    FirebaseAuth mAuth;\r\n    FirebaseFirestore mStore;\r\n    String userID;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_update_profile);\r\n\r\n        et_age = findViewById(R.id.et_age);\r\n        et_height = findViewById(R.id.et_height);\r\n        et_weight = findViewById(R.id.et_weight);\r\n\r\n        btn_update = findViewById(R.id.btn_update);\r\n\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        mStore = FirebaseFirestore.getInstance();\r\n        userID = mAuth.getCurrentUser().getUid();\r\n\r\n        btn_update.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n\r\n                String age = et_age.getText().toString().trim();\r\n                String height = et_height.getText().toString().trim();\r\n                String weight = et_weight.getText().toString().trim();\r\n\r\n\r\n                userID = mAuth.getCurrentUser().getUid();\r\n                DocumentReference documentReference = mStore.collection(&quot;userDetail&quot;).document(userID);\r\n                documentReference\r\n                .update(&quot;Age&quot;,age, &quot;Height&quot;,height, &quot;Weight&quot;,weight)\r\n                 .addOnSuccessListener((OnSuccessListener) (aVoid) -&gt; {\r\n                            Log.d(TAG, &quot;onSuccess: user Detail is created for &quot;+ userID);\r\n                     startActivity(new Intent(UpdateProfile.this, MainActivity.class));\r\n                 }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull @NotNull Exception e) {\r\n                        Log.d(TAG, &quot;onFailure&quot;+ e.toString());\r\n\r\n                    }\r\n\r\n                });\r\n\r\n\r\n        }\r\n\r\n\r\n    });\r\n\r\n\r\n    }}\r\n\r\n```\r\n\r\n\r\nUpdate: I&#39;ve tried the method of @zen_of_kermit but I got the same problem, maybe there&#39;s something in the code that I&#39;ve missed \r\n\r\n\r\n```\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\n\r\n\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class UpdateProfile extends AppCompatActivity {\r\n    public static final String TAG = &quot;TAG&quot;;\r\n    EditText et_age, et_height, et_weight;\r\n    Button btn_update;\r\n\r\n    FirebaseAuth mAuth;\r\n    FirebaseFirestore mStore;\r\n    String userID;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_update_profile);\r\n\r\n        et_age = findViewById(R.id.et_age);\r\n        et_height = findViewById(R.id.et_height);\r\n        et_weight = findViewById(R.id.et_weight);\r\n\r\n        btn_update = findViewById(R.id.btn_update);\r\n\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        mStore = FirebaseFirestore.getInstance();\r\n        userID = mAuth.getCurrentUser().getUid();\r\n\r\n\r\n\r\n        btn_update.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n\r\n\r\n                String age = et_age.getText().toString().trim();\r\n                String height = et_height.getText().toString().trim();\r\n                String weight = et_weight.getText().toString().trim();\r\n\r\n                userID = mAuth.getCurrentUser().getUid();\r\n                DocumentReference documentReference = mStore.collection(&quot;userDetail&quot;).document(userID);\r\n                Map&lt;String, Object&gt; dataToUpdateMap = new HashMap&lt;&gt;();\r\n                if (isValidAndChanged(documentReference, &quot;Age&quot;, age)) {\r\n                    dataToUpdateMap.put(&quot;Age&quot;, age);\r\n                }\r\n                if (isValidAndChanged(documentReference, &quot;Height&quot;, height)) {\r\n                    dataToUpdateMap.put(&quot;Height&quot;, height);\r\n                }\r\n                if (isValidAndChanged(documentReference, &quot;Weight&quot;, weight)) {\r\n                    dataToUpdateMap.put(&quot;Weight&quot;, weight);\r\n                }\r\n                documentReference.update(dataToUpdateMap).addOnSuccessListener((OnSuccessListener) (aVoid) -&gt; {\r\n                    Log.d(TAG, &quot;onSuccess: user Detail is created for &quot;+ userID);\r\n                    startActivity(new Intent(UpdateProfile.this, readProfileData.class));\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull @NotNull Exception e) {\r\n                        Log.d(TAG, &quot;onFailure&quot;+ e.toString());\r\n\r\n                    }\r\n\r\n                });\r\n\r\n\r\n            }\r\n\r\n\r\n        });\r\n\r\n\r\n\r\n    }\r\n            boolean isValidAndChanged(DocumentReference docRef, String key, Object value) {\r\n            return true;\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n```","title":"update one or more fields inside of a document, without updating all the fields","body":"<p>I have a feature in my program where I have to enter the user's details such as the user's age, height, and weight. This data will be stored in Firestore.</p>\n<p>this is how the user will input their details</p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.material.button.MaterialButton;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.firestore.DocumentReference;\nimport com.google.firebase.firestore.FirebaseFirestore;\n\nimport org.jetbrains.annotations.NotNull;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class account_information extends AppCompatActivity {\n    public static final String TAG = &quot;TAG&quot;;\n    EditText et_age, et_height, et_weight;\n    Button btn_create;\n    FirebaseFirestore db;\n    FirebaseAuth mAuth;\n    String userID;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_account_information);\n        mAuth = FirebaseAuth.getInstance();\n        db = FirebaseFirestore.getInstance();\n        et_age = findViewById(R.id.et_age);\n        et_height = findViewById(R.id.et_height);\n        et_weight = findViewById(R.id.et_weight);\n        btn_create = findViewById(R.id.btn_create);\n\n\n\n\n        btn_create.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n\n                String age = et_age.getText().toString().trim();\n                String height = et_height.getText().toString().trim();\n                String weight = et_weight.getText().toString().trim();\n\n\n                if(age.isEmpty()){\n                    et_age.setError(&quot;Age is mandatory&quot;);\n                    et_age.requestFocus();\n                    return;\n                }\n\n                if(height.isEmpty()){\n                    et_height.setError(&quot;Height is mandatory&quot;);\n                    et_height.requestFocus();\n                    return;\n                }\n\n                if(weight.isEmpty()){\n                    et_weight.setError(&quot;Weight is mandatory&quot;);\n                    et_weight.requestFocus();\n                    return;\n                }\n\n\n                userID = mAuth.getCurrentUser().getUid();\n                DocumentReference documentReference = db.collection(&quot;userDetail&quot;).document(userID);\n                Map&lt;String,Object&gt; user = new HashMap&lt;&gt;();\n                user.put(&quot;Age&quot;,age);\n                user.put(&quot;Height&quot;,height);\n                user.put(&quot;Weight&quot;,weight);\n                user.put(&quot;UserId&quot;, userID);\n\n                        documentReference.set(user)\n                        .addOnSuccessListener((OnSuccessListener) (aVoid) -&gt; {\n                                Log.d(TAG, &quot;onSuccess: user Detail is created for &quot;+ userID);\n                            startActivity(new Intent(account_information.this, MainActivity.class));\n                        }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull @NotNull Exception e) {\n                        Log.d(TAG, &quot;onFailure&quot;+ e.toString());\n\n                    }\n\n                });\n\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>And this is how it will store in firebase</p>\n<p><a href=\"https://i.stack.imgur.com/lBbN1.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/lBbN1.jpg</a></p>\n<p>However, when the user decides to update their profile (for example his weight) the rest of the input will pass an empty string at the firebase</p>\n<p>like this:</p>\n<p><a href=\"https://i.stack.imgur.com/W8iIz.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/W8iIz.jpg</a></p>\n<p>And this is how the user can update their details</p>\n<pre><code>\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\n\n\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.firestore.DocumentReference;\nimport com.google.firebase.firestore.FirebaseFirestore;\n\n\nimport org.jetbrains.annotations.NotNull;\n\npublic class UpdateProfile extends AppCompatActivity {\n    public static final String TAG = &quot;TAG&quot;;\n    EditText et_age, et_height, et_weight;\n    Button btn_update;\n\n    FirebaseAuth mAuth;\n    FirebaseFirestore mStore;\n    String userID;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_update_profile);\n\n        et_age = findViewById(R.id.et_age);\n        et_height = findViewById(R.id.et_height);\n        et_weight = findViewById(R.id.et_weight);\n\n        btn_update = findViewById(R.id.btn_update);\n\n\n        mAuth = FirebaseAuth.getInstance();\n        mStore = FirebaseFirestore.getInstance();\n        userID = mAuth.getCurrentUser().getUid();\n\n        btn_update.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n\n                String age = et_age.getText().toString().trim();\n                String height = et_height.getText().toString().trim();\n                String weight = et_weight.getText().toString().trim();\n\n\n                userID = mAuth.getCurrentUser().getUid();\n                DocumentReference documentReference = mStore.collection(&quot;userDetail&quot;).document(userID);\n                documentReference\n                .update(&quot;Age&quot;,age, &quot;Height&quot;,height, &quot;Weight&quot;,weight)\n                 .addOnSuccessListener((OnSuccessListener) (aVoid) -&gt; {\n                            Log.d(TAG, &quot;onSuccess: user Detail is created for &quot;+ userID);\n                     startActivity(new Intent(UpdateProfile.this, MainActivity.class));\n                 }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull @NotNull Exception e) {\n                        Log.d(TAG, &quot;onFailure&quot;+ e.toString());\n\n                    }\n\n                });\n\n\n        }\n\n\n    });\n\n\n    }}\n\n</code></pre>\n<p>Update: I've tried the method of @zen_of_kermit but I got the same problem, maybe there's something in the code that I've missed</p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\n\n\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.firestore.DocumentReference;\nimport com.google.firebase.firestore.FirebaseFirestore;\n\n\nimport org.jetbrains.annotations.NotNull;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class UpdateProfile extends AppCompatActivity {\n    public static final String TAG = &quot;TAG&quot;;\n    EditText et_age, et_height, et_weight;\n    Button btn_update;\n\n    FirebaseAuth mAuth;\n    FirebaseFirestore mStore;\n    String userID;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_update_profile);\n\n        et_age = findViewById(R.id.et_age);\n        et_height = findViewById(R.id.et_height);\n        et_weight = findViewById(R.id.et_weight);\n\n        btn_update = findViewById(R.id.btn_update);\n\n\n        mAuth = FirebaseAuth.getInstance();\n        mStore = FirebaseFirestore.getInstance();\n        userID = mAuth.getCurrentUser().getUid();\n\n\n\n        btn_update.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n\n\n                String age = et_age.getText().toString().trim();\n                String height = et_height.getText().toString().trim();\n                String weight = et_weight.getText().toString().trim();\n\n                userID = mAuth.getCurrentUser().getUid();\n                DocumentReference documentReference = mStore.collection(&quot;userDetail&quot;).document(userID);\n                Map&lt;String, Object&gt; dataToUpdateMap = new HashMap&lt;&gt;();\n                if (isValidAndChanged(documentReference, &quot;Age&quot;, age)) {\n                    dataToUpdateMap.put(&quot;Age&quot;, age);\n                }\n                if (isValidAndChanged(documentReference, &quot;Height&quot;, height)) {\n                    dataToUpdateMap.put(&quot;Height&quot;, height);\n                }\n                if (isValidAndChanged(documentReference, &quot;Weight&quot;, weight)) {\n                    dataToUpdateMap.put(&quot;Weight&quot;, weight);\n                }\n                documentReference.update(dataToUpdateMap).addOnSuccessListener((OnSuccessListener) (aVoid) -&gt; {\n                    Log.d(TAG, &quot;onSuccess: user Detail is created for &quot;+ userID);\n                    startActivity(new Intent(UpdateProfile.this, readProfileData.class));\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull @NotNull Exception e) {\n                        Log.d(TAG, &quot;onFailure&quot;+ e.toString());\n\n                    }\n\n                });\n\n\n            }\n\n\n        });\n\n\n\n    }\n            boolean isValidAndChanged(DocumentReference docRef, String key, Object value) {\n            return true;\n            }\n\n\n\n\n\n        }\n</code></pre>\n"},{"tags":["java","android","time","duration","datetime-conversion"],"comments":[{"owner":{"account_id":2850526,"reputation":135,"user_id":2447845,"display_name":"Okaa-Pi"},"score":0,"creation_date":1499872769,"post_id":45061338,"comment_id":77096746,"body_markdown":"Would you mind using a lib for that? PrettyTime would be what you need.","body":"Would you mind using a lib for that? PrettyTime would be what you need."}],"answers":[{"tags":[],"owner":{"account_id":10757850,"reputation":75,"user_id":7915253,"display_name":"wonderPub"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499873146,"creation_date":1499873146,"answer_id":45061875,"question_id":45061338,"body_markdown":"It is my old code, you can convert it to days also.                             \r\n     \r\n\r\n      private String calculateDifference(long timeInMillis) {\r\n        String hr = &quot;&quot;;\r\n        String mn = &quot;&quot;;\r\n        long seconds = (int) ((timeInMillis) % 60);\r\n        long minutes = (int) ((timeInMillis / (60)) % 60);\r\n        long hours = (int) ((timeInMillis / (60 * 60)) % 24);\r\n\r\n        if (hours &lt; 10) {\r\n            hr = &quot;0&quot; + hours;\r\n        }\r\n        if (minutes &lt; 10) {\r\n            mn = &quot;0&quot; + minutes;\r\n        }\r\n        textView.setText(Html.fromHtml(&quot;&lt;i&gt;&lt;small;text-align: justify;&gt;&lt;font color=\\&quot;#000\\&quot;&gt;&quot; + &quot;Total shift time: &quot; + &quot;&lt;/font&gt;&lt;/small; text-align: justify;&gt;&lt;/i&gt;&quot; + &quot;&lt;font color=\\&quot;#47a842\\&quot;&gt;&quot; + hr + &quot;h &quot; + mn + &quot;m &quot; + seconds + &quot;s&quot; + &quot;&lt;/font&gt;&quot;));\r\n        return hours + &quot;:&quot; + minutes + &quot;:&quot; + seconds;\r\n    }\r\n     }","title":"Get Human readable time from nanoseconds","body":"<p>It is my old code, you can convert it to days also.                             </p>\n\n<pre><code>  private String calculateDifference(long timeInMillis) {\n    String hr = \"\";\n    String mn = \"\";\n    long seconds = (int) ((timeInMillis) % 60);\n    long minutes = (int) ((timeInMillis / (60)) % 60);\n    long hours = (int) ((timeInMillis / (60 * 60)) % 24);\n\n    if (hours &lt; 10) {\n        hr = \"0\" + hours;\n    }\n    if (minutes &lt; 10) {\n        mn = \"0\" + minutes;\n    }\n    textView.setText(Html.fromHtml(\"&lt;i&gt;&lt;small;text-align: justify;&gt;&lt;font color=\\\"#000\\\"&gt;\" + \"Total shift time: \" + \"&lt;/font&gt;&lt;/small; text-align: justify;&gt;&lt;/i&gt;\" + \"&lt;font color=\\\"#47a842\\\"&gt;\" + hr + \"h \" + mn + \"m \" + seconds + \"s\" + \"&lt;/font&gt;\"));\n    return hours + \":\" + minutes + \":\" + seconds;\n}\n }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user7605325"},"down_vote_count":2,"up_vote_count":4,"is_accepted":true,"score":2,"last_activity_date":1499877304,"creation_date":1499877304,"answer_id":45063245,"question_id":45061338,"body_markdown":"If `remainingTime` is in **nanoseconds**, just do the math and append the values to a `StringBuilder`:\r\n\r\n    long remainingTime = 5023023402000L;\r\n    StringBuilder sb = new StringBuilder();\r\n    long seconds = remainingTime / 1000000000;\r\n    long days = seconds / (3600 * 24);\r\n    append(sb, days, &quot;d&quot;);\r\n    seconds -= (days * 3600 * 24);\r\n    long hours = seconds / 3600;\r\n    append(sb, hours, &quot;h&quot;);\r\n    seconds -= (hours * 3600);\r\n    long minutes = seconds / 60;\r\n    append(sb, minutes, &quot;m&quot;);\r\n    seconds -= (minutes * 60);\r\n    append(sb, seconds, &quot;s&quot;);\r\n    long nanos = remainingTime % 1000000000;\r\n    append(sb, nanos, &quot;ns&quot;);\r\n\r\n    System.out.println(sb.toString());\r\n\r\n    // auxiliary method\r\n    public void append(StringBuilder sb, long value, String text) {\r\n        if (value &gt; 0) {\r\n            if (sb.length() &gt; 0) {\r\n                sb.append(&quot; &quot;);\r\n            }\r\n            sb.append(value).append(text);\r\n        }\r\n    }\r\n\r\nThe output for the above is:\r\n\r\n&gt; 1h 23m 43s 23402000ns\r\n\r\n(1 hour, 23 minutes, 43 seconds and 23402000 nanoseconds).","title":"Get Human readable time from nanoseconds","body":"<p>If <code>remainingTime</code> is in <strong>nanoseconds</strong>, just do the math and append the values to a <code>StringBuilder</code>:</p>\n\n<pre><code>long remainingTime = 5023023402000L;\nStringBuilder sb = new StringBuilder();\nlong seconds = remainingTime / 1000000000;\nlong days = seconds / (3600 * 24);\nappend(sb, days, \"d\");\nseconds -= (days * 3600 * 24);\nlong hours = seconds / 3600;\nappend(sb, hours, \"h\");\nseconds -= (hours * 3600);\nlong minutes = seconds / 60;\nappend(sb, minutes, \"m\");\nseconds -= (minutes * 60);\nappend(sb, seconds, \"s\");\nlong nanos = remainingTime % 1000000000;\nappend(sb, nanos, \"ns\");\n\nSystem.out.println(sb.toString());\n\n// auxiliary method\npublic void append(StringBuilder sb, long value, String text) {\n    if (value &gt; 0) {\n        if (sb.length() &gt; 0) {\n            sb.append(\" \");\n        }\n        sb.append(value).append(text);\n    }\n}\n</code></pre>\n\n<p>The output for the above is:</p>\n\n<blockquote>\n  <p>1h 23m 43s 23402000ns</p>\n</blockquote>\n\n<p>(1 hour, 23 minutes, 43 seconds and 23402000 nanoseconds).</p>\n"},{"tags":[],"owner":{"account_id":2661374,"reputation":1155,"user_id":2300981,"display_name":"Gotiasits"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1596043799,"creation_date":1499935311,"answer_id":45075606,"question_id":45061338,"body_markdown":"I would say both of these answers are correct, but anyways here is a little shorter version of a function that accepts nano time and returns human-readable String.\r\n\r\n    private String getReadableTime(Long nanos){\r\n\r\n        long tempSec\t= nanos/(1000*1000*1000);\r\n        long sec\t\t= tempSec % 60;\r\n        long min\t\t= (tempSec /60) % 60;\r\n        long hour\t\t= (tempSec /(60*60)) % 24;\r\n        long day\t\t= (tempSec / (24*60*60)) % 24;\r\n\t\t\r\n        return String.format(&quot;%dd %dh %dm %ds&quot;, day,hour,min,sec);\r\n\r\n    }\r\n\r\nFor maximum accuracy, instead of integer division, you can use float division and round up.","title":"Get Human readable time from nanoseconds","body":"<p>I would say both of these answers are correct, but anyways here is a little shorter version of a function that accepts nano time and returns human-readable String.</p>\n<pre><code>private String getReadableTime(Long nanos){\n\n    long tempSec    = nanos/(1000*1000*1000);\n    long sec        = tempSec % 60;\n    long min        = (tempSec /60) % 60;\n    long hour       = (tempSec /(60*60)) % 24;\n    long day        = (tempSec / (24*60*60)) % 24;\n    \n    return String.format(&quot;%dd %dh %dm %ds&quot;, day,hour,min,sec);\n\n}\n</code></pre>\n<p>For maximum accuracy, instead of integer division, you can use float division and round up.</p>\n"},{"tags":[],"owner":{"account_id":1004477,"reputation":156,"user_id":1018589,"display_name":"Mathias Ricken"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594266058,"creation_date":1594266058,"answer_id":62807044,"question_id":45061338,"body_markdown":"Here&#39;s my suggestion. It&#39;s based on the fact that the units in `TimeUnit.values()` are sorted from smallest (nanoseconds) to longest (days).\r\n\r\n```\r\n    private static String getHumanReadableTime(long nanos) {\r\n        TimeUnit unitToPrint = null;\r\n        String result = &quot;&quot;;\r\n        long rest = nanos;\r\n        for(TimeUnit t: TimeUnit.values()) {\r\n            if (unitToPrint == null) {\r\n                unitToPrint = t;\r\n                continue;\r\n            }\r\n            // convert 1 of &quot;t&quot; to &quot;unitToPrint&quot;, to get the conversion factor\r\n            long factor = unitToPrint.convert(1, t);\r\n            long value = rest % factor;\r\n            rest /= factor;\r\n\r\n            result = value + &quot; &quot; + unitToPrint + &quot; &quot; + result;\r\n\r\n            unitToPrint = t;\r\n            if (rest == 0) {\r\n                break;\r\n            }\r\n        }\r\n        if (rest != 0) {\r\n            result = rest + &quot; &quot; + unitToPrint + &quot; &quot; + result;\r\n        }\r\n\r\n        return result.trim();\r\n    }\r\n```\r\n\r\nOutput for `getHumanReadableTime(139543185092L)` will be\r\n\r\n```\r\n2 MINUTES 19 SECONDS 543 MILLISECONDS 185 MICROSECONDS 92 NANOSECONDS\r\n```","title":"Get Human readable time from nanoseconds","body":"<p>Here's my suggestion. It's based on the fact that the units in <code>TimeUnit.values()</code> are sorted from smallest (nanoseconds) to longest (days).</p>\n<pre><code>    private static String getHumanReadableTime(long nanos) {\n        TimeUnit unitToPrint = null;\n        String result = &quot;&quot;;\n        long rest = nanos;\n        for(TimeUnit t: TimeUnit.values()) {\n            if (unitToPrint == null) {\n                unitToPrint = t;\n                continue;\n            }\n            // convert 1 of &quot;t&quot; to &quot;unitToPrint&quot;, to get the conversion factor\n            long factor = unitToPrint.convert(1, t);\n            long value = rest % factor;\n            rest /= factor;\n\n            result = value + &quot; &quot; + unitToPrint + &quot; &quot; + result;\n\n            unitToPrint = t;\n            if (rest == 0) {\n                break;\n            }\n        }\n        if (rest != 0) {\n            result = rest + &quot; &quot; + unitToPrint + &quot; &quot; + result;\n        }\n\n        return result.trim();\n    }\n</code></pre>\n<p>Output for <code>getHumanReadableTime(139543185092L)</code> will be</p>\n<pre><code>2 MINUTES 19 SECONDS 543 MILLISECONDS 185 MICROSECONDS 92 NANOSECONDS\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1651329489,"creation_date":1609284189,"answer_id":65500054,"question_id":45061338,"body_markdown":"## *java.time*\r\n\r\nYou can use [`java.time.Duration`][1] which is modelled on [ISO-8601 standards][2] and was introduced with *Java-8* as part of [JSR-310 implementation][3]. With *Java-9* some more convenience methods were introduced.\r\n\r\n**Demo:**\r\n\r\n    import java.time.Duration;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlong elapsedTime = 12345678987654321L;\r\n    \r\n    \t\tDuration duration = Duration.ofNanos(elapsedTime);\r\n    \t\t// Default format\r\n    \t\tSystem.out.println(duration);\r\n    \r\n    \t\t// Custom format\r\n    \t\t// ####################################Java-8####################################\r\n    \t\tString formattedElapsedTime = String.format(\r\n    \t\t\t\t&quot;%02d Day %02d Hour %02d Minute %02d Second %d Millisecond %d Nanosecond&quot;, duration.toDays(),\r\n    \t\t\t\tduration.toHours() % 24, duration.toMinutes() % 60, duration.toSeconds() % 60,\r\n    \t\t\t\tduration.toMillis() % 1000, duration.toNanos() % 1000000L);\r\n    \t\tSystem.out.println(formattedElapsedTime);\r\n    \t\t// ##############################################################################\r\n    \r\n    \t\t// ####################################Java-9####################################\r\n    \t\tformattedElapsedTime = String.format(&quot;%02d Day %02d Hour %02d Minute %02d Second %d Millisecond %d Nanosecond&quot;,\r\n    \t\t\t\tduration.toDaysPart(), duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart(),\r\n    \t\t\t\tduration.toMillisPart(), duration.toNanosPart() % 1000000L);\r\n    \t\tSystem.out.println(formattedElapsedTime);\r\n    \t\t// ##############################################################################\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    PT3429H21M18.987654321S\r\n    142 Day 21 Hour 21 Minute 18 Second 987 Millisecond 654321 Nanosecond\r\n    142 Day 21 Hour 21 Minute 18 Second 987 Millisecond 654321 Nanosecond\r\n\r\nLearn more about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n - For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7.\r\n - If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html\r\n\r\n","title":"Get Human readable time from nanoseconds","body":"<h2><em>java.time</em></h2>\n<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>java.time.Duration</code></a> which is modelled on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO-8601 standards</a> and was introduced with <em>Java-8</em> as part of <a href=\"https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html\" rel=\"nofollow noreferrer\">JSR-310 implementation</a>. With <em>Java-9</em> some more convenience methods were introduced.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Duration;\n\npublic class Main {\n    public static void main(String[] args) {\n        long elapsedTime = 12345678987654321L;\n\n        Duration duration = Duration.ofNanos(elapsedTime);\n        // Default format\n        System.out.println(duration);\n\n        // Custom format\n        // ####################################Java-8####################################\n        String formattedElapsedTime = String.format(\n                &quot;%02d Day %02d Hour %02d Minute %02d Second %d Millisecond %d Nanosecond&quot;, duration.toDays(),\n                duration.toHours() % 24, duration.toMinutes() % 60, duration.toSeconds() % 60,\n                duration.toMillis() % 1000, duration.toNanos() % 1000000L);\n        System.out.println(formattedElapsedTime);\n        // ##############################################################################\n\n        // ####################################Java-9####################################\n        formattedElapsedTime = String.format(&quot;%02d Day %02d Hour %02d Minute %02d Second %d Millisecond %d Nanosecond&quot;,\n                duration.toDaysPart(), duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart(),\n                duration.toMillisPart(), duration.toNanosPart() % 1000000L);\n        System.out.println(formattedElapsedTime);\n        // ##############################################################################\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>PT3429H21M18.987654321S\n142 Day 21 Hour 21 Minute 18 Second 987 Millisecond 654321 Nanosecond\n142 Day 21 Hour 21 Minute 18 Second 987 Millisecond 654321 Nanosecond\n</code></pre>\n<p>Learn more about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<ul>\n<li>For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7.</li>\n<li>If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.</li>\n</ul>\n"}],"owner":{"account_id":5121452,"reputation":11211,"user_id":5045201,"accept_rate":100,"display_name":"Sapnesh Naik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6429,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":45063245,"answer_count":5,"score":10,"last_activity_date":1651329489,"creation_date":1499871713,"question_id":45061338,"body_markdown":"I am trying to implement an ETA feature Using `System.nanoTime()`\r\n\r\n    startTime = System.nanoTime()\r\n    Long elapsedTime = System.nanoTime() - startTime;\r\n    Long allTimeForDownloading = (elapsedTime * allBytes / downloadedBytes);\r\n\r\n    Long remainingTime = allTimeForDownloading - elapsedTime;\r\n\r\nBut I cannot figure how to get a human readable form of the nanoseconds; for example: `1d 1h`, `36s` and `3m 50s`.\r\n\r\nHow can I do this?\r\n","title":"Get Human readable time from nanoseconds","body":"<p>I am trying to implement an ETA feature Using <code>System.nanoTime()</code></p>\n\n<pre><code>startTime = System.nanoTime()\nLong elapsedTime = System.nanoTime() - startTime;\nLong allTimeForDownloading = (elapsedTime * allBytes / downloadedBytes);\n\nLong remainingTime = allTimeForDownloading - elapsedTime;\n</code></pre>\n\n<p>But I cannot figure how to get a human readable form of the nanoseconds; for example: <code>1d 1h</code>, <code>36s</code> and <code>3m 50s</code>.</p>\n\n<p>How can I do this?</p>\n"},{"tags":["java","multithreading","threadpool"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1651328388,"post_id":72069155,"comment_id":127341199,"body_markdown":"This is not a deadlock, since no locks are involved.   (In fact, it is the absence of locking that is probably causing the problem.)","body":"This is not a deadlock, since no locks are involved.   (In fact, it is the absence of locking that is probably causing the problem.)"}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651329372,"creation_date":1651328205,"answer_id":72069272,"question_id":72069155,"body_markdown":"Your loop accesses `this.active.size()` without any synchronization. Java&#39;s [_memory visibility rules_](https://wiki.sei.cmu.edu/confluence/display/java/Concurrency%2C+Visibility%2C+and+Memory) do not guarantee when (if _ever_) one thread that looks at shared variables will see changes made by other threads if the thread that&#39;s looking does not use some form of synchronization with the other threads.\r\n\r\n----------------\r\n\r\nIf you want to [_poll_](https://en.wikipedia.org/wiki/Polling_(computer_science)) the state of the `active` list, then consider doing something like this:\r\n\r\n``` lang-java\r\nwhile (true) {\r\n    synchronized(lock) {\r\n        if (this.active.size() &lt;= 0) break;\r\n    }\r\n    try {\r\n        Thread.sleep(1000);\r\n    }\r\n    catch (InterruptedException ex) {\r\n        ex.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nThe `sleep()` call gives other threads a chance to run. Without the sleep, the thread that&#39;s running this loop will use 100% of a CPU, which may be detrimental to the performance of your application.\r\n\r\n---------------\r\n\r\nBut there are better options than polling. You could do this to wait until the `active` list becomes empty.\r\n\r\n``` lang-java\r\nsynchronized(lock) {\r\n    while (this.active.size() &gt; 0) {\r\n        lock.wait();\r\n    }\r\n}\r\n```\r\n\r\nThe [`wait()`](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#wait()) call temporarily releases the `lock`, then it waits for another thread to [`notify()`](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#notify()) the lock, and finally, it re-locks the lock before it returns:\r\n\r\n``` lang-java\r\npublic void done(ThreadToolWorker worker) {\r\n    synchronized (lock) {\r\n        log.info(&quot;start done&quot;);\r\n        this.active.remove(worker);\r\n        if (active.size() &gt; 0) {\r\n            addWorkers();\r\n        }\r\n        else {\r\n            lock.notifyAll();\r\n        }\r\n        log.info(&quot;done done&quot;);\r\n    }\r\n}\r\n```","title":"Why does Java muti-threaded code deadlock","body":"<p>Your loop accesses <code>this.active.size()</code> without any synchronization. Java's <a href=\"https://wiki.sei.cmu.edu/confluence/display/java/Concurrency%2C+Visibility%2C+and+Memory\" rel=\"nofollow noreferrer\"><em>memory visibility rules</em></a> do not guarantee when (if <em>ever</em>) one thread that looks at shared variables will see changes made by other threads if the thread that's looking does not use some form of synchronization with the other threads.</p>\n<hr />\n<p>If you want to <a href=\"https://en.wikipedia.org/wiki/Polling_(computer_science)\" rel=\"nofollow noreferrer\"><em>poll</em></a> the state of the <code>active</code> list, then consider doing something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (true) {\n    synchronized(lock) {\n        if (this.active.size() &lt;= 0) break;\n    }\n    try {\n        Thread.sleep(1000);\n    }\n    catch (InterruptedException ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n<p>The <code>sleep()</code> call gives other threads a chance to run. Without the sleep, the thread that's running this loop will use 100% of a CPU, which may be detrimental to the performance of your application.</p>\n<hr />\n<p>But there are better options than polling. You could do this to wait until the <code>active</code> list becomes empty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>synchronized(lock) {\n    while (this.active.size() &gt; 0) {\n        lock.wait();\n    }\n}\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#wait()\" rel=\"nofollow noreferrer\"><code>wait()</code></a> call temporarily releases the <code>lock</code>, then it waits for another thread to <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#notify()\" rel=\"nofollow noreferrer\"><code>notify()</code></a> the lock, and finally, it re-locks the lock before it returns:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void done(ThreadToolWorker worker) {\n    synchronized (lock) {\n        log.info(&quot;start done&quot;);\n        this.active.remove(worker);\n        if (active.size() &gt; 0) {\n            addWorkers();\n        }\n        else {\n            lock.notifyAll();\n        }\n        log.info(&quot;done done&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3158846,"reputation":3608,"user_id":2670571,"accept_rate":52,"display_name":"John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72069272,"answer_count":1,"score":0,"last_activity_date":1651329372,"creation_date":1651327419,"question_id":72069155,"body_markdown":"The complete code for this question is available here:\r\nhttps://github.com/NACHC-CAD/thread-tool \r\n\r\nThe code shown below seems to run to completion but never escapes the while loop shown here.  \r\n\r\n\t\twhile (this.active.size() &gt; 0) {\r\n\t\t\t// System.out.println(&quot;here&quot;);\r\n\t\t}\r\n\r\nIf I uncomment the `// System.out.println(&quot;here&quot;);` it does run to completion.  It also runs to completion if I add a sleep-for-one-second.  \r\n\r\nThe larger problem is that if I try to use this code in a real application the code runs for awhile and then seems to deadlock (i.e. the code just stops running).  \r\n\r\nWhat do I need to do to fix this?\r\n\r\n\r\n    package org.nachc.tools.threadtool;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.ThreadPoolExecutor;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.nachc.tools.threadtool.runnableiter.ThreadToolUser;\r\n    import org.nachc.tools.threadtool.worker.ThreadToolWorker;\r\n    import org.nachc.tools.threadtool.worker.ThreadToolWorkerRunnable;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    @Slf4j\r\n    public class ThreadRunner {\r\n    \r\n    \tprivate int numberOfThreadsPerWorker;\r\n    \r\n    \tprivate int numberOfRunnablesPerWorker;\r\n    \r\n    \tprivate int numberOfWorkers;\r\n    \r\n    \tprivate ThreadToolUser runnableIter;\r\n    \r\n    \tprivate List&lt;ThreadToolWorker&gt; active = new ArrayList&lt;ThreadToolWorker&gt;();\r\n    \r\n    \tprivate Object lock = new Object();\r\n    \r\n    \tprivate ThreadPoolExecutor executor;\r\n    \r\n    \tpublic ThreadRunner(int numberOfThreadsPerWorker, int numberOfRunnablesPerWorker, int numberOfWorkers, ThreadToolUser runnableIter) {\r\n    \t\tthis.numberOfThreadsPerWorker = numberOfThreadsPerWorker;\r\n    \t\tthis.numberOfRunnablesPerWorker = numberOfRunnablesPerWorker;\r\n    \t\tthis.numberOfWorkers = numberOfWorkers;\r\n    \t\tthis.runnableIter = runnableIter;\r\n    \t\tthis.executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(numberOfWorkers);\r\n    \t}\r\n    \r\n    \tpublic void exec() {\r\n    \t\tsynchronized (lock) {\r\n    \t\t\taddWorkers();\r\n    \t\t}\r\n    \t\twhile (this.active.size() &gt; 0) {\r\n    \t\t\t// System.out.println(&quot;here&quot;);\r\n    \t\t}\r\n    \t\tlog.info(&quot;SHUTTING DOWN----------------&quot;);\r\n    \t\texecutor.shutdown();\r\n    \t\ttry {\r\n    \t\t\texecutor.awaitTermination(1000, TimeUnit.HOURS);\r\n    \t\t} catch (Exception exp) {\r\n    \t\t\tthrow (new RuntimeException(exp));\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void addWorkers() {\r\n    \t\tlog.info(&quot;start addWorkers&quot;);\r\n    \t\twhile (runnableIter.hasNext() &amp;&amp; active.size() &lt; numberOfWorkers) {\r\n    \t\t\tThreadToolWorker worker = getNextWorker();\r\n    \t\t\tif (worker == null) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t} else {\r\n    \t\t\t\tthis.active.add(worker);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tlog.info(&quot;done addWorkers&quot;);\r\n    \t}\r\n    \r\n    \tprivate ThreadToolWorker getNextWorker() {\r\n    \t\tsynchronized (lock) {\r\n    \t\t\tlog.info(&quot;start next worker&quot;);\r\n    \t\t\tif (runnableIter.hasNext() == false) {\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t\tList&lt;Runnable&gt; runnableList = new ArrayList&lt;Runnable&gt;();\r\n    \t\t\twhile (runnableList.size() &lt; numberOfRunnablesPerWorker &amp;&amp; runnableIter.hasNext()) {\r\n    \t\t\t\trunnableList.add(runnableIter.getNext());\r\n    \t\t\t}\r\n    \t\t\tThreadToolWorker worker = new ThreadToolWorker(runnableList, numberOfThreadsPerWorker, this);\r\n    \t\t\tThreadToolWorkerRunnable runnable = new ThreadToolWorkerRunnable(worker);\r\n    \t\t\tthis.executor.execute(runnable);\r\n    \t\t\tlog.info(&quot;done next worker&quot;);\r\n    \t\t\treturn worker;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void done(ThreadToolWorker worker) {\r\n    \t\tsynchronized (lock) {\r\n    \t\t\tlog.info(&quot;start done&quot;);\r\n    \t\t\tthis.active.remove(worker);\r\n    \t\t\tif (active.size() &gt; 0) {\r\n    \t\t\t\taddWorkers();\r\n    \t\t\t}\r\n    \t\t\tlog.info(&quot;done done&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void logActive() {\r\n    \t\tsynchronized (lock) {\r\n    \t\t\tlog.info(&quot;------------&quot;);\r\n    \t\t\tlog.info(&quot;active:  &quot; + active.size());\r\n    \t\t\tlog.info(&quot;waiting: &quot; + runnableIter.waiting());\r\n    \t\t\tlog.info(&quot;------------&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why does Java muti-threaded code deadlock","body":"<p>The complete code for this question is available here:\n<a href=\"https://github.com/NACHC-CAD/thread-tool\" rel=\"nofollow noreferrer\">https://github.com/NACHC-CAD/thread-tool</a></p>\n<p>The code shown below seems to run to completion but never escapes the while loop shown here.</p>\n<pre><code>    while (this.active.size() &gt; 0) {\n        // System.out.println(&quot;here&quot;);\n    }\n</code></pre>\n<p>If I uncomment the <code>// System.out.println(&quot;here&quot;);</code> it does run to completion.  It also runs to completion if I add a sleep-for-one-second.</p>\n<p>The larger problem is that if I try to use this code in a real application the code runs for awhile and then seems to deadlock (i.e. the code just stops running).</p>\n<p>What do I need to do to fix this?</p>\n<pre><code>package org.nachc.tools.threadtool;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\n\nimport org.nachc.tools.threadtool.runnableiter.ThreadToolUser;\nimport org.nachc.tools.threadtool.worker.ThreadToolWorker;\nimport org.nachc.tools.threadtool.worker.ThreadToolWorkerRunnable;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class ThreadRunner {\n\n    private int numberOfThreadsPerWorker;\n\n    private int numberOfRunnablesPerWorker;\n\n    private int numberOfWorkers;\n\n    private ThreadToolUser runnableIter;\n\n    private List&lt;ThreadToolWorker&gt; active = new ArrayList&lt;ThreadToolWorker&gt;();\n\n    private Object lock = new Object();\n\n    private ThreadPoolExecutor executor;\n\n    public ThreadRunner(int numberOfThreadsPerWorker, int numberOfRunnablesPerWorker, int numberOfWorkers, ThreadToolUser runnableIter) {\n        this.numberOfThreadsPerWorker = numberOfThreadsPerWorker;\n        this.numberOfRunnablesPerWorker = numberOfRunnablesPerWorker;\n        this.numberOfWorkers = numberOfWorkers;\n        this.runnableIter = runnableIter;\n        this.executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(numberOfWorkers);\n    }\n\n    public void exec() {\n        synchronized (lock) {\n            addWorkers();\n        }\n        while (this.active.size() &gt; 0) {\n            // System.out.println(&quot;here&quot;);\n        }\n        log.info(&quot;SHUTTING DOWN----------------&quot;);\n        executor.shutdown();\n        try {\n            executor.awaitTermination(1000, TimeUnit.HOURS);\n        } catch (Exception exp) {\n            throw (new RuntimeException(exp));\n        }\n    }\n\n    private void addWorkers() {\n        log.info(&quot;start addWorkers&quot;);\n        while (runnableIter.hasNext() &amp;&amp; active.size() &lt; numberOfWorkers) {\n            ThreadToolWorker worker = getNextWorker();\n            if (worker == null) {\n                break;\n            } else {\n                this.active.add(worker);\n            }\n        }\n        log.info(&quot;done addWorkers&quot;);\n    }\n\n    private ThreadToolWorker getNextWorker() {\n        synchronized (lock) {\n            log.info(&quot;start next worker&quot;);\n            if (runnableIter.hasNext() == false) {\n                return null;\n            }\n            List&lt;Runnable&gt; runnableList = new ArrayList&lt;Runnable&gt;();\n            while (runnableList.size() &lt; numberOfRunnablesPerWorker &amp;&amp; runnableIter.hasNext()) {\n                runnableList.add(runnableIter.getNext());\n            }\n            ThreadToolWorker worker = new ThreadToolWorker(runnableList, numberOfThreadsPerWorker, this);\n            ThreadToolWorkerRunnable runnable = new ThreadToolWorkerRunnable(worker);\n            this.executor.execute(runnable);\n            log.info(&quot;done next worker&quot;);\n            return worker;\n        }\n    }\n\n    public void done(ThreadToolWorker worker) {\n        synchronized (lock) {\n            log.info(&quot;start done&quot;);\n            this.active.remove(worker);\n            if (active.size() &gt; 0) {\n                addWorkers();\n            }\n            log.info(&quot;done done&quot;);\n        }\n    }\n\n    public void logActive() {\n        synchronized (lock) {\n            log.info(&quot;------------&quot;);\n            log.info(&quot;active:  &quot; + active.size());\n            log.info(&quot;waiting: &quot; + runnableIter.waiting());\n            log.info(&quot;------------&quot;);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":23169510,"reputation":41,"user_id":17895334,"display_name":"php_java_python"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651328732,"creation_date":1651328732,"question_id":72069348,"body_markdown":"```\r\npackage com.springboot.blog.entity;\r\n\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;posts&quot;)\r\npublic class Post {\r\n\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Id\r\n    private Long id;\r\n\r\n    @Column(name = &quot;title&quot;, nullable = false)\r\n    private String title;\r\n\r\n    @Column(name = &quot;description&quot;, nullable = false)\r\n    private String description;\r\n\r\n    @Column(name = &quot;content&quot;, nullable = false)\r\n    private String content;\r\n\r\n    @OneToMany(mappedBy = &quot;post&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;Comment&gt; comments = new HashSet&lt;&gt;();\r\n}\r\n```\r\nHere is the Post class\r\n\r\n```\r\npackage com.springboot.blog.payload;\r\n\r\nimport lombok.Data;\r\n\r\nimport java.util.Set;\r\n\r\n@Data\r\npublic class PostDTO {\r\n    private Long id;\r\n    private String title;\r\n    private String description;\r\n    private String content;\r\n    private Set&lt;CommentDTO&gt; comments;\r\n}\r\n\r\n```\r\nHere is PostDTO class.\r\n\r\n```\r\n@Override\r\n    public PostDTO getPost(Long id) {\r\n        Post temp_post = postRepository.findById(id).\r\n                orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Post&quot;, &quot;Id&quot;, id));\r\n        return mapToDTO(temp_post);\r\n    }\r\n```\r\n\r\n```\r\n\r\n    private PostDTO mapToDTO(Post post) {\r\n        return modelMapper.map(post, PostDTO.class);\r\n    }\r\n\r\n```\r\n\r\nI used mapToDTO method to convert post to postDTO.\r\n\r\n\r\nBut When I test it, the error message appeared.\r\n\r\n{&quot;timestamp&quot;:&quot;2022-04-30T14:03:03.369+00:00&quot;,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;trace&quot;:&quot;org.modelmapper.MappingException: ModelMapper mapping errors:\\n\\n1) Error mapping com.springboot.blog.entity.Post to com.springboot.blog.payload.PostDTO\\n\\n1 error\\n\\tat org.modelmapper.internal.Errors.throwMappingExceptionIfErrorsExist(Errors.java:380)\\n\\tat org.modelmapper.internal.\r\n\r\n\r\n========================================================================================\r\n\r\n\r\n** But when I replace the @Data annotation in class Post with @Getter, @Setter. It works perfectly! **","title":"Spring ModelMapping error appeared when I try to convert Post to PostDTO,if I replace @Data annotation with @Getter, @Setter, it works perfectly","body":"<pre><code>package com.springboot.blog.entity;\n\nimport lombok.*;\n\nimport javax.persistence.*;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;posts&quot;)\npublic class Post {\n\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    private Long id;\n\n    @Column(name = &quot;title&quot;, nullable = false)\n    private String title;\n\n    @Column(name = &quot;description&quot;, nullable = false)\n    private String description;\n\n    @Column(name = &quot;content&quot;, nullable = false)\n    private String content;\n\n    @OneToMany(mappedBy = &quot;post&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;Comment&gt; comments = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>Here is the Post class</p>\n<pre><code>package com.springboot.blog.payload;\n\nimport lombok.Data;\n\nimport java.util.Set;\n\n@Data\npublic class PostDTO {\n    private Long id;\n    private String title;\n    private String description;\n    private String content;\n    private Set&lt;CommentDTO&gt; comments;\n}\n\n</code></pre>\n<p>Here is PostDTO class.</p>\n<pre><code>@Override\n    public PostDTO getPost(Long id) {\n        Post temp_post = postRepository.findById(id).\n                orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Post&quot;, &quot;Id&quot;, id));\n        return mapToDTO(temp_post);\n    }\n</code></pre>\n<pre><code>\n    private PostDTO mapToDTO(Post post) {\n        return modelMapper.map(post, PostDTO.class);\n    }\n\n</code></pre>\n<p>I used mapToDTO method to convert post to postDTO.</p>\n<p>But When I test it, the error message appeared.</p>\n<p>{&quot;timestamp&quot;:&quot;2022-04-30T14:03:03.369+00:00&quot;,&quot;status&quot;:500,&quot;error&quot;:&quot;Internal Server Error&quot;,&quot;trace&quot;:&quot;org.modelmapper.MappingException: ModelMapper mapping errors:\\n\\n1) Error mapping com.springboot.blog.entity.Post to com.springboot.blog.payload.PostDTO\\n\\n1 error\\n\\tat org.modelmapper.internal.Errors.throwMappingExceptionIfErrorsExist(Errors.java:380)\\n\\tat org.modelmapper.internal.</p>\n<p>========================================================================================</p>\n<p>** But when I replace the @Data annotation in class Post with @Getter, @Setter. It works perfectly! **</p>\n"},{"tags":["java","email","outlook"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1651325218,"post_id":72068613,"comment_id":127340557,"body_markdown":"The short answer is that you need to `Folder.search(SearchTerm)`.  For more information, read the javadocs,","body":"The short answer is that you need to <code>Folder.search(SearchTerm)</code>.  For more information, read the javadocs,"}],"answers":[{"tags":[],"owner":{"account_id":194657,"reputation":48152,"user_id":1603351,"display_name":"Eugene Astafiev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651326471,"creation_date":1651326471,"answer_id":72069049,"question_id":72068613,"body_markdown":"To get the latest recieved email from the folder you can Sort items by using the  [Items.Sort][1] method, here is a VBA sample (the Outlook object model is common for all kind of applications):\r\n\r\n```\r\nSub SortByDueDate() \r\n Dim myNameSpace As Outlook.NameSpace \r\n Dim myFolder As Outlook.Folder \r\n Dim myItem As Outlook.TaskItem \r\n Dim myItems As Outlook.Items \r\n \r\n Set myNameSpace = Application.GetNamespace(&quot;MAPI&quot;) \r\n Set myFolder = myNameSpace.GetDefaultFolder(olFolderInbox) \r\n Set myItems = myFolder.Items \r\n myItems.Sort &quot;[ReceivedTime]&quot;, False \r\n For Each myItem In myItems \r\n  MsgBox myItem.Subject &amp; &quot;-- &quot; &amp; myItem.DueDate \r\n Next myItem \r\nEnd Sub\r\n```\r\n\r\nSo, the first item will be the latest received. As soon as you got the latest item you can iterate over all items in the same conversation. The [MailItem.GetConversation][2] method obtains a `Conversation` object that represents the conversation to which this item belongs. So, you may get all items from the conversation. Read more about that in the [Obtain and Enumerate Selected Conversations][3] article. For example:\r\n\r\n```\r\nvoid DemoConversation() \r\n{ \r\n object selectedItem = \r\n Application.ActiveExplorer().Selection[1]; \r\n // This example uses only \r\n // MailItem. Other item types such as \r\n // MeetingItem and PostItem can participate \r\n // in the conversation. \r\n if (selectedItem is Outlook.MailItem) \r\n { \r\n // Cast selectedItem to MailItem. \r\n Outlook.MailItem mailItem = \r\n selectedItem as Outlook.MailItem; \r\n // Determine the store of the mail item. \r\n Outlook.Folder folder = mailItem.Parent \r\n as Outlook.Folder; \r\n Outlook.Store store = folder.Store; \r\n if (store.IsConversationEnabled == true) \r\n { \r\n // Obtain a Conversation object. \r\n Outlook.Conversation conv = \r\n mailItem.GetConversation(); \r\n // Check for null Conversation. \r\n if (conv != null) \r\n { \r\n // Obtain Table that contains rows \r\n // for each item in the conversation. \r\n Outlook.Table table = conv.GetTable(); \r\n Debug.WriteLine(&quot;Conversation Items Count: &quot; + \r\n table.GetRowCount().ToString()); \r\n Debug.WriteLine(&quot;Conversation Items from Table:&quot;); \r\n while (!table.EndOfTable) \r\n { \r\n Outlook.Row nextRow = table.GetNextRow(); \r\n Debug.WriteLine(nextRow[&quot;Subject&quot;] \r\n + &quot; Modified: &quot; \r\n + nextRow[&quot;LastModificationTime&quot;]); \r\n } \r\n Debug.WriteLine(&quot;Conversation Items from Root:&quot;); \r\n // Obtain root items and enumerate the conversation. \r\n Outlook.SimpleItems simpleItems \r\n = conv.GetRootItems(); \r\n foreach (object item in simpleItems) \r\n { \r\n // In this example, only enumerate MailItem type. \r\n // Other types such as PostItem or MeetingItem \r\n // can appear in the conversation. \r\n if (item is Outlook.MailItem) \r\n { \r\n Outlook.MailItem mail = item \r\n as Outlook.MailItem; \r\n Outlook.Folder inFolder = \r\n mail.Parent as Outlook.Folder; \r\n string msg = mail.Subject \r\n + &quot; in folder &quot; + inFolder.Name; \r\n Debug.WriteLine(msg); \r\n } \r\n // Call EnumerateConversation \r\n // to access child nodes of root items. \r\n EnumerateConversation(item, conv); \r\n } \r\n } \r\n } \r\n } \r\n} \r\n \r\n \r\nvoid EnumerateConversation(object item, \r\n Outlook.Conversation conversation) \r\n{ \r\n Outlook.SimpleItems items = \r\n conversation.GetChildren(item); \r\n if (items.Count &gt; 0) \r\n { \r\n foreach (object myItem in items) \r\n { \r\n // In this example, only enumerate MailItem type. \r\n // Other types such as PostItem or MeetingItem \r\n // can appear in the conversation. \r\n if (myItem is Outlook.MailItem) \r\n { \r\n Outlook.MailItem mailItem = \r\n myItem as Outlook.MailItem; \r\n Outlook.Folder inFolder = \r\n mailItem.Parent as Outlook.Folder; \r\n string msg = mailItem.Subject \r\n + &quot; in folder &quot; + inFolder.Name; \r\n Debug.WriteLine(msg); \r\n } \r\n // Continue recursion. \r\n EnumerateConversation(myItem, conversation); \r\n } \r\n } \r\n} \r\n```\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/office/vba/api/outlook.items.sort\r\n  [2]: https://learn.microsoft.com/en-us/office/vba/api/outlook.mailitem.getconversation\r\n  [3]: https://learn.microsoft.com/en-us/office/vba/outlook/concepts/categories-and-conversations/obtain-and-enumerate-selected-conversations","title":"java mail - how to retrieve the last replied mail of a sender","body":"<p>To get the latest recieved email from the folder you can Sort items by using the  <a href=\"https://learn.microsoft.com/en-us/office/vba/api/outlook.items.sort\" rel=\"nofollow noreferrer\">Items.Sort</a> method, here is a VBA sample (the Outlook object model is common for all kind of applications):</p>\n<pre><code>Sub SortByDueDate() \n Dim myNameSpace As Outlook.NameSpace \n Dim myFolder As Outlook.Folder \n Dim myItem As Outlook.TaskItem \n Dim myItems As Outlook.Items \n \n Set myNameSpace = Application.GetNamespace(&quot;MAPI&quot;) \n Set myFolder = myNameSpace.GetDefaultFolder(olFolderInbox) \n Set myItems = myFolder.Items \n myItems.Sort &quot;[ReceivedTime]&quot;, False \n For Each myItem In myItems \n  MsgBox myItem.Subject &amp; &quot;-- &quot; &amp; myItem.DueDate \n Next myItem \nEnd Sub\n</code></pre>\n<p>So, the first item will be the latest received. As soon as you got the latest item you can iterate over all items in the same conversation. The <a href=\"https://learn.microsoft.com/en-us/office/vba/api/outlook.mailitem.getconversation\" rel=\"nofollow noreferrer\">MailItem.GetConversation</a> method obtains a <code>Conversation</code> object that represents the conversation to which this item belongs. So, you may get all items from the conversation. Read more about that in the <a href=\"https://learn.microsoft.com/en-us/office/vba/outlook/concepts/categories-and-conversations/obtain-and-enumerate-selected-conversations\" rel=\"nofollow noreferrer\">Obtain and Enumerate Selected Conversations</a> article. For example:</p>\n<pre><code>void DemoConversation() \n{ \n object selectedItem = \n Application.ActiveExplorer().Selection[1]; \n // This example uses only \n // MailItem. Other item types such as \n // MeetingItem and PostItem can participate \n // in the conversation. \n if (selectedItem is Outlook.MailItem) \n { \n // Cast selectedItem to MailItem. \n Outlook.MailItem mailItem = \n selectedItem as Outlook.MailItem; \n // Determine the store of the mail item. \n Outlook.Folder folder = mailItem.Parent \n as Outlook.Folder; \n Outlook.Store store = folder.Store; \n if (store.IsConversationEnabled == true) \n { \n // Obtain a Conversation object. \n Outlook.Conversation conv = \n mailItem.GetConversation(); \n // Check for null Conversation. \n if (conv != null) \n { \n // Obtain Table that contains rows \n // for each item in the conversation. \n Outlook.Table table = conv.GetTable(); \n Debug.WriteLine(&quot;Conversation Items Count: &quot; + \n table.GetRowCount().ToString()); \n Debug.WriteLine(&quot;Conversation Items from Table:&quot;); \n while (!table.EndOfTable) \n { \n Outlook.Row nextRow = table.GetNextRow(); \n Debug.WriteLine(nextRow[&quot;Subject&quot;] \n + &quot; Modified: &quot; \n + nextRow[&quot;LastModificationTime&quot;]); \n } \n Debug.WriteLine(&quot;Conversation Items from Root:&quot;); \n // Obtain root items and enumerate the conversation. \n Outlook.SimpleItems simpleItems \n = conv.GetRootItems(); \n foreach (object item in simpleItems) \n { \n // In this example, only enumerate MailItem type. \n // Other types such as PostItem or MeetingItem \n // can appear in the conversation. \n if (item is Outlook.MailItem) \n { \n Outlook.MailItem mail = item \n as Outlook.MailItem; \n Outlook.Folder inFolder = \n mail.Parent as Outlook.Folder; \n string msg = mail.Subject \n + &quot; in folder &quot; + inFolder.Name; \n Debug.WriteLine(msg); \n } \n // Call EnumerateConversation \n // to access child nodes of root items. \n EnumerateConversation(item, conv); \n } \n } \n } \n } \n} \n \n \nvoid EnumerateConversation(object item, \n Outlook.Conversation conversation) \n{ \n Outlook.SimpleItems items = \n conversation.GetChildren(item); \n if (items.Count &gt; 0) \n { \n foreach (object myItem in items) \n { \n // In this example, only enumerate MailItem type. \n // Other types such as PostItem or MeetingItem \n // can appear in the conversation. \n if (myItem is Outlook.MailItem) \n { \n Outlook.MailItem mailItem = \n myItem as Outlook.MailItem; \n Outlook.Folder inFolder = \n mailItem.Parent as Outlook.Folder; \n string msg = mailItem.Subject \n + &quot; in folder &quot; + inFolder.Name; \n Debug.WriteLine(msg); \n } \n // Continue recursion. \n EnumerateConversation(myItem, conversation); \n } \n } \n} \n</code></pre>\n"}],"owner":{"account_id":25104183,"reputation":13,"user_id":18954526,"display_name":"Anis S."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651327736,"creation_date":1651322359,"question_id":72068613,"body_markdown":"I&#39;m trying to retrieve the latest mail received in my mail box **from one sender**. I have an issue when a sender reply on one of his emails, for example: \r\n\r\n[screenshot of my exemple][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xQwug.png\r\n\r\nI want to get the last message received on 04/28 instead of getting the two messages. \r\n\r\nIn my code, I simply did this to get my messages: \r\n\r\n    defaultFolder = store.getDefaultFolder().getFolder(&quot;inbox&quot;); \r\n    Message [] msg = defaultFolder.getMessages();\r\n\r\nAny ideas of how we can get only the latest email of **the same sender** ?\r\n\r\nThank you!","title":"java mail - how to retrieve the last replied mail of a sender","body":"<p>I'm trying to retrieve the latest mail received in my mail box <strong>from one sender</strong>. I have an issue when a sender reply on one of his emails, for example:</p>\n<p><a href=\"https://i.stack.imgur.com/xQwug.png\" rel=\"nofollow noreferrer\">screenshot of my exemple</a></p>\n<p>I want to get the last message received on 04/28 instead of getting the two messages.</p>\n<p>In my code, I simply did this to get my messages:</p>\n<pre><code>defaultFolder = store.getDefaultFolder().getFolder(&quot;inbox&quot;); \nMessage [] msg = defaultFolder.getMessages();\n</code></pre>\n<p>Any ideas of how we can get only the latest email of <strong>the same sender</strong> ?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","sockets","tcp","observable"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1651328231,"post_id":72068999,"comment_id":127341168,"body_markdown":"Do you have an error? Have you configure you spring server to listen to port `2222`?","body":"Do you have an error? Have you configure you spring server to listen to port <code>2222</code>?"},{"owner":{"account_id":6641795,"reputation":39,"user_id":5127281,"display_name":"pabeni"},"score":0,"creation_date":1651335717,"post_id":72068999,"comment_id":127342848,"body_markdown":"Yes, as I said, I connect and send data from the server to the client, but I cannot","body":"Yes, as I said, I connect and send data from the server to the client, but I cannot"}],"owner":{"account_id":6641795,"reputation":39,"user_id":5127281,"display_name":"pabeni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":419,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1651326280,"creation_date":1651325987,"question_id":72068999,"body_markdown":"I&#39;m new to sockets in java.\r\nI would like to know why I am not able to receive the data from the client to the server.\r\n\r\nafter making the connection, I can send data to the client, but with &quot;client.observable.subscribe&quot; I can not see the return data\r\n\r\nServer code:\r\n\r\n    @GetMapping(&quot;/desktop/{client}&quot;)\r\n    public DeferredResult&lt;String&gt; getScreenshot(@PathVariable(&quot;client&quot;) String clientName) {\r\n        DeferredResult&lt;String&gt; result = new DeferredResult&lt;&gt;();\r\n        Client client = ClientListenerService.getClient(clientName);\r\n        if (client == null) {\r\n            result.setResult(new JSONObject().put(&quot;error&quot;, &quot;Requested client was not found&quot;).toString());\r\n            return result;\r\n        }\r\n        Long requestID = client.getRequestID();\r\n        JSONObject request = new JSONObject();\r\n        request.put(&quot;id&quot;, requestID);\r\n        request.put(&quot;type&quot;, RequestType.GET_SCREENSHOT.getValue());\r\n        try {\r\n            PrintWriter out = new PrintWriter(client.socket.getOutputStream(), true);\r\n            out.println(request.toString());\r\n        } catch (IOException ex) {\r\n            result.setResult(new JSONObject().put(&quot;error&quot;, &quot;Failed to write to the socket, exception: &quot; + ex).toString());\r\n            return result;\r\n        }\r\n        Runnable task = () -&gt; {\r\n            client.observable.subscribe((response) -&gt; {\r\n                JSONObject responseJson = new JSONObject(response);\r\n                if (responseJson.has(&quot;id&quot;) &amp;&amp; responseJson.getLong(&quot;id&quot;) == requestID) {\r\n                    result.setResult(response);\r\n                    Thread.currentThread().interrupt();\r\n                } \r\n            }, (error) -&gt; {});\r\n        };\r\n        Thread thread = new Thread(task);\r\n        thread.start();\r\n        return result;\r\n    }\r\n\r\nClient code:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Socket socketClient = null;\r\n        BufferedReader in = null;\r\n        PrintWriter out = null;\r\n    \r\n        try {\r\n          socketClient = new Socket(&quot;localhost&quot;, 2222);\r\n          in = new BufferedReader(new InputStreamReader(socketClient.getInputStream()));\r\n          out = new PrintWriter(new BufferedWriter(new OutputStreamWriter(socketClient.getOutputStream())),true);\r\n        } catch (IOException e) {\r\n        \tSystem.err.println(&quot;Cannot set I/O channels for connection&quot;);\r\n            System.exit(-1);\r\n        }\r\n    \r\n        try {\r\n        \tString line;\r\n    \t\tline = in.readLine();\r\n    \t\tSystem.out.println(&quot;Response server: &quot; + line);\r\n    \t\t\r\n    \t    out.println(line); // Send to server\r\n        } catch (IOException e) {\r\n        \tSystem.out.println(&quot;IOException: &quot; + e.getMessage());\r\n        }\r\n     \r\n        out.close();\r\n        in.close();\r\n        socketClient.close();\r\n    }\r\n\r\nI hope your help community, thank you\r\n\r\n\r\n\r\n\r\n","title":"I am not receiving response data from the client to the Java Spring Boot server","body":"<p>I'm new to sockets in java.\nI would like to know why I am not able to receive the data from the client to the server.</p>\n<p>after making the connection, I can send data to the client, but with &quot;client.observable.subscribe&quot; I can not see the return data</p>\n<p>Server code:</p>\n<pre><code>@GetMapping(&quot;/desktop/{client}&quot;)\npublic DeferredResult&lt;String&gt; getScreenshot(@PathVariable(&quot;client&quot;) String clientName) {\n    DeferredResult&lt;String&gt; result = new DeferredResult&lt;&gt;();\n    Client client = ClientListenerService.getClient(clientName);\n    if (client == null) {\n        result.setResult(new JSONObject().put(&quot;error&quot;, &quot;Requested client was not found&quot;).toString());\n        return result;\n    }\n    Long requestID = client.getRequestID();\n    JSONObject request = new JSONObject();\n    request.put(&quot;id&quot;, requestID);\n    request.put(&quot;type&quot;, RequestType.GET_SCREENSHOT.getValue());\n    try {\n        PrintWriter out = new PrintWriter(client.socket.getOutputStream(), true);\n        out.println(request.toString());\n    } catch (IOException ex) {\n        result.setResult(new JSONObject().put(&quot;error&quot;, &quot;Failed to write to the socket, exception: &quot; + ex).toString());\n        return result;\n    }\n    Runnable task = () -&gt; {\n        client.observable.subscribe((response) -&gt; {\n            JSONObject responseJson = new JSONObject(response);\n            if (responseJson.has(&quot;id&quot;) &amp;&amp; responseJson.getLong(&quot;id&quot;) == requestID) {\n                result.setResult(response);\n                Thread.currentThread().interrupt();\n            } \n        }, (error) -&gt; {});\n    };\n    Thread thread = new Thread(task);\n    thread.start();\n    return result;\n}\n</code></pre>\n<p>Client code:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    Socket socketClient = null;\n    BufferedReader in = null;\n    PrintWriter out = null;\n\n    try {\n      socketClient = new Socket(&quot;localhost&quot;, 2222);\n      in = new BufferedReader(new InputStreamReader(socketClient.getInputStream()));\n      out = new PrintWriter(new BufferedWriter(new OutputStreamWriter(socketClient.getOutputStream())),true);\n    } catch (IOException e) {\n        System.err.println(&quot;Cannot set I/O channels for connection&quot;);\n        System.exit(-1);\n    }\n\n    try {\n        String line;\n        line = in.readLine();\n        System.out.println(&quot;Response server: &quot; + line);\n        \n        out.println(line); // Send to server\n    } catch (IOException e) {\n        System.out.println(&quot;IOException: &quot; + e.getMessage());\n    }\n \n    out.close();\n    in.close();\n    socketClient.close();\n}\n</code></pre>\n<p>I hope your help community, thank you</p>\n"},{"tags":["java","android","android-studio","listview","variables"],"answers":[{"tags":[],"owner":{"account_id":7707982,"reputation":434,"user_id":9418794,"display_name":"Sovathna Hong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651325243,"creation_date":1651078878,"answer_id":72032705,"question_id":72030420,"body_markdown":"It it bad practice to do calculation and logic in the adapter.\r\n\r\nOne way to do it is you can create a click listener interface:\r\n\r\n    public interface CustomItemClickListener {\r\n         void onClick(int position);\r\n    }\r\n\r\nYour ShopActivity can implement this interface:\r\n\r\n    public ShopActivity extends Activity implements CustomItemClickListener {\r\n        \r\n        ...\r\n        private CustomBaseAdapter adapter;\r\n      \r\n        @Override void onCreate(Bundle savedInstanceState){\r\n            adapter = CustomBaseAdapter(this, itemList, imageList, this)\r\n        }\r\n\r\n        @Override void onClick(int position){\r\n            //Your switch code block here.\r\n        }\r\n    }\r\n\r\nAnd your adapter class:\r\n\r\n    public class CustomBaseAdapter extends BaseAdapter {\r\n    \r\n        Context context;\r\n        String[] listText;\r\n        int[] listImage;\r\n        LayoutInflater inflater;\r\n        CustomItemClickListener listener;\r\n\r\n        public CustomBaseAdapter(Context ctx, String[] itemList, int[] imageList, CustomItemClickListener listener){\r\n    \r\n            this.context = ctx;\r\n            this.listText = itemList;\r\n            this.listImage = imageList;\r\n    \r\n            inflater = LayoutInflater.from(ctx);\r\n            this.listener = listener;\r\n    \r\n        }\r\n        ...\r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n            ...\r\n            buttonInd.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    listener.onClick(position);\r\n                }\r\n            });\r\n        }\r\n        ...\r\n    }","title":"How to use variables from other Activity for buttons in Custom list view Android studio","body":"<p>It it bad practice to do calculation and logic in the adapter.</p>\n<p>One way to do it is you can create a click listener interface:</p>\n<pre><code>public interface CustomItemClickListener {\n     void onClick(int position);\n}\n</code></pre>\n<p>Your ShopActivity can implement this interface:</p>\n<pre><code>public ShopActivity extends Activity implements CustomItemClickListener {\n    \n    ...\n    private CustomBaseAdapter adapter;\n  \n    @Override void onCreate(Bundle savedInstanceState){\n        adapter = CustomBaseAdapter(this, itemList, imageList, this)\n    }\n\n    @Override void onClick(int position){\n        //Your switch code block here.\n    }\n}\n</code></pre>\n<p>And your adapter class:</p>\n<pre><code>public class CustomBaseAdapter extends BaseAdapter {\n\n    Context context;\n    String[] listText;\n    int[] listImage;\n    LayoutInflater inflater;\n    CustomItemClickListener listener;\n\n    public CustomBaseAdapter(Context ctx, String[] itemList, int[] imageList, CustomItemClickListener listener){\n\n        this.context = ctx;\n        this.listText = itemList;\n        this.listImage = imageList;\n\n        inflater = LayoutInflater.from(ctx);\n        this.listener = listener;\n\n    }\n    ...\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        ...\n        buttonInd.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                listener.onClick(position);\n            }\n        });\n    }\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":24913498,"reputation":15,"user_id":18782750,"display_name":"SnuffyWasTaken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72032705,"answer_count":1,"score":0,"last_activity_date":1651325243,"creation_date":1651069111,"question_id":72030420,"body_markdown":"I am currently building a bare bones game app for university. In the Shop activity of the app I have created a custom list view in order to display items in the shop. Each have a different price etc. so the buttons should all complete different tasks. Following guides I have done this through a switch statement inside my getView() method. However the variables used within these statements are required from the shop activity and I was just wondering if anyone could let me know how to use these variables within my custom adapter. Any help would be great, im rather new to this. \r\n\r\n    public class CustomBaseAdapter extends BaseAdapter {\r\n    \r\n        Context context;\r\n        String[] listText;\r\n        int[] listImage;\r\n    \r\n        LayoutInflater inflater;\r\n    \r\n    \r\n    \r\n        public CustomBaseAdapter(Context ctx, String [] itemList, int [] imageList, Button []\r\n                ButtonList){\r\n    \r\n            this.context = ctx;\r\n            this.listText = itemList;\r\n            this.listImage = imageList;\r\n    \r\n            inflater = LayoutInflater.from(ctx);\r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int getCount() {\r\n            return listText.length;\r\n        }\r\n    \r\n        @Override\r\n        public Object getItem(int position) {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public long getItemId(int position) {\r\n            return 0;\r\n        }\r\n    \r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n    \r\n            convertView = inflater.inflate(R.layout.activity_custom_list_view, null);\r\n            TextView txtView = (TextView) convertView.findViewById(R.id.textView);\r\n            ImageView itemImg = (ImageView) convertView.findViewById(R.id.imageIcon);\r\n            Button buttonInd = (Button) convertView.findViewById(R.id.buyButton);\r\n            txtView.setText(listText[position]);\r\n            itemImg.setImageResource(listImage[position]);\r\n    \r\n            buttonInd.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    switch (position){\r\n                        case 0:\r\n                            if (firstB==false){\r\n                                if(gold&gt;=1000){\r\n                                    firstB = true;\r\n                                    gold = gold - 1000;\r\n                                    dmgMultiplier = dmgMultiplier *2;\r\n                                    setDataShop(dmgMultiplier, gold, LoggedInUser);\r\n                                    setDataShopBought(firstbBin, secondbBin,\r\n                                            thirdbBin,forthbBin,\r\n                                            fithbBin,sixthbBin,\r\n                                            seventhbBin,LoggedInUser);\r\n                                }\r\n                            }\r\n                            break;\r\n                        case 1:\r\n                            if (secondB==false){\r\n                                if(gold&gt;=3000){\r\n                                    secondB = true;\r\n                                    gold = gold - 3000;\r\n                                    dmgMultiplier = dmgMultiplier *5;\r\n                                    Shop.setDataShop(dmgMultiplier, gold, LogIn.getUser());\r\n                                    Shop.setDataShopBought(firstbBin, secondbBin,\r\n                                            thirdbBin,forthbBin,\r\n                                            fithbBin,sixthbBin,\r\n                                            seventhbBin,LoggedInUser);\r\n                                }\r\n                            }\r\n                            break;\r\n                        case 2:\r\n                            if (thirdB==false){\r\n                                if(gold&gt;=8000){\r\n                                    thirdB = true;\r\n                                    gold = gold - 8000;\r\n                                    dmgMultiplier = dmgMultiplier *10;\r\n                                    Shop.setDataShop(dmgMultiplier, gold, LogIn.getUser());\r\n                                    Shop.setDataShopBought(firstbBin, secondbBin,\r\n                                            thirdbBin,forthbBin,\r\n                                            fithbBin,sixthbBin,\r\n                                            seventhbBin,LoggedInUser);\r\n                                }\r\n                            }\r\n                            break;\r\n                        case 3:\r\n                            if (fourthB==false){\r\n                                if(gold&gt;=12000){\r\n                                    fourthB = true;\r\n                                    gold = gold - 12000;\r\n                                    dmgMultiplier = dmgMultiplier *15;\r\n                                    Shop.setDataShop(dmgMultiplier, gold, LogIn.getUser());\r\n                                    Shop.setDataShopBought(firstbBin, secondbBin,\r\n                                            thirdbBin,forthbBin,\r\n                                            fithbBin,sixthbBin,\r\n                                            seventhbBin,LoggedInUser);\r\n                                }\r\n                            }\r\n                            break;\r\n                        case 4:\r\n                            if (fithB==false){\r\n                                if(gold&gt;=20000){\r\n                                    fithB = true;\r\n                                    gold = gold - 20000;\r\n                                    dmgMultiplier = dmgMultiplier *30;\r\n                                    Shop.setDataShop(dmgMultiplier, gold, LogIn.getUser());\r\n                                    Shop.setDataShopBought(firstbBin, secondbBin,\r\n                                            thirdbBin,forthbBin,\r\n                                            fithbBin,sixthbBin,\r\n                                            seventhbBin,LoggedInUser);\r\n                                }\r\n                            }\r\n                            break;\r\n                        case 5:\r\n                            if (sixB==false){\r\n                                if(gold&gt;=40000){\r\n                                    sixB = true;\r\n                                    gold = gold - 40000;\r\n                                    dmgMultiplier = dmgMultiplier *60;\r\n                                    Shop.setDataShop(dmgMultiplier, gold, LogIn.getUser());\r\n                                    Shop.setDataShopBought(firstbBin, secondbBin,\r\n                                            thirdbBin,forthbBin,\r\n                                            fithbBin,sixthbBin,\r\n                                            seventhbBin,LoggedInUser);\r\n                                }\r\n                            }\r\n                            break;\r\n                        case 6:\r\n                            if (sevenB==false){\r\n                                if(gold&gt;=100000){\r\n                                    sevenB = true;\r\n                                    gold = gold - 100000;\r\n                                    dmgMultiplier = dmgMultiplier *150;\r\n                                    Shop.setDataShop(dmgMultiplier, gold, LogIn.getUser());\r\n                                    Shop.setDataShopBought(firstbBin, secondbBin,\r\n                                            thirdbBin,forthbBin,\r\n                                            fithbBin,sixthbBin,\r\n                                            seventhbBin,LoggedInUser);\r\n                                }\r\n                            }\r\n                    }\r\n                }\r\n            });\r\n    \r\n    \r\n            return convertView;\r\n        }\r\n    }\r\n\r\n","title":"How to use variables from other Activity for buttons in Custom list view Android studio","body":"<p>I am currently building a bare bones game app for university. In the Shop activity of the app I have created a custom list view in order to display items in the shop. Each have a different price etc. so the buttons should all complete different tasks. Following guides I have done this through a switch statement inside my getView() method. However the variables used within these statements are required from the shop activity and I was just wondering if anyone could let me know how to use these variables within my custom adapter. Any help would be great, im rather new to this.</p>\n<pre><code>public class CustomBaseAdapter extends BaseAdapter {\n\n    Context context;\n    String[] listText;\n    int[] listImage;\n\n    LayoutInflater inflater;\n\n\n\n    public CustomBaseAdapter(Context ctx, String [] itemList, int [] imageList, Button []\n            ButtonList){\n\n        this.context = ctx;\n        this.listText = itemList;\n        this.listImage = imageList;\n\n        inflater = LayoutInflater.from(ctx);\n\n    }\n\n\n    @Override\n    public int getCount() {\n        return listText.length;\n    }\n\n    @Override\n    public Object getItem(int position) {\n        return null;\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return 0;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n\n        convertView = inflater.inflate(R.layout.activity_custom_list_view, null);\n        TextView txtView = (TextView) convertView.findViewById(R.id.textView);\n        ImageView itemImg = (ImageView) convertView.findViewById(R.id.imageIcon);\n        Button buttonInd = (Button) convertView.findViewById(R.id.buyButton);\n        txtView.setText(listText[position]);\n        itemImg.setImageResource(listImage[position]);\n\n        buttonInd.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                switch (position){\n                    case 0:\n                        if (firstB==false){\n                            if(gold&gt;=1000){\n                                firstB = true;\n                                gold = gold - 1000;\n                                dmgMultiplier = dmgMultiplier *2;\n                                setDataShop(dmgMultiplier, gold, LoggedInUser);\n                                setDataShopBought(firstbBin, secondbBin,\n                                        thirdbBin,forthbBin,\n                                        fithbBin,sixthbBin,\n                                        seventhbBin,LoggedInUser);\n                            }\n                        }\n                        break;\n                    case 1:\n                        if (secondB==false){\n                            if(gold&gt;=3000){\n                                secondB = true;\n                                gold = gold - 3000;\n                                dmgMultiplier = dmgMultiplier *5;\n                                Shop.setDataShop(dmgMultiplier, gold, LogIn.getUser());\n                                Shop.setDataShopBought(firstbBin, secondbBin,\n                                        thirdbBin,forthbBin,\n                                        fithbBin,sixthbBin,\n                                        seventhbBin,LoggedInUser);\n                            }\n                        }\n                        break;\n                    case 2:\n                        if (thirdB==false){\n                            if(gold&gt;=8000){\n                                thirdB = true;\n                                gold = gold - 8000;\n                                dmgMultiplier = dmgMultiplier *10;\n                                Shop.setDataShop(dmgMultiplier, gold, LogIn.getUser());\n                                Shop.setDataShopBought(firstbBin, secondbBin,\n                                        thirdbBin,forthbBin,\n                                        fithbBin,sixthbBin,\n                                        seventhbBin,LoggedInUser);\n                            }\n                        }\n                        break;\n                    case 3:\n                        if (fourthB==false){\n                            if(gold&gt;=12000){\n                                fourthB = true;\n                                gold = gold - 12000;\n                                dmgMultiplier = dmgMultiplier *15;\n                                Shop.setDataShop(dmgMultiplier, gold, LogIn.getUser());\n                                Shop.setDataShopBought(firstbBin, secondbBin,\n                                        thirdbBin,forthbBin,\n                                        fithbBin,sixthbBin,\n                                        seventhbBin,LoggedInUser);\n                            }\n                        }\n                        break;\n                    case 4:\n                        if (fithB==false){\n                            if(gold&gt;=20000){\n                                fithB = true;\n                                gold = gold - 20000;\n                                dmgMultiplier = dmgMultiplier *30;\n                                Shop.setDataShop(dmgMultiplier, gold, LogIn.getUser());\n                                Shop.setDataShopBought(firstbBin, secondbBin,\n                                        thirdbBin,forthbBin,\n                                        fithbBin,sixthbBin,\n                                        seventhbBin,LoggedInUser);\n                            }\n                        }\n                        break;\n                    case 5:\n                        if (sixB==false){\n                            if(gold&gt;=40000){\n                                sixB = true;\n                                gold = gold - 40000;\n                                dmgMultiplier = dmgMultiplier *60;\n                                Shop.setDataShop(dmgMultiplier, gold, LogIn.getUser());\n                                Shop.setDataShopBought(firstbBin, secondbBin,\n                                        thirdbBin,forthbBin,\n                                        fithbBin,sixthbBin,\n                                        seventhbBin,LoggedInUser);\n                            }\n                        }\n                        break;\n                    case 6:\n                        if (sevenB==false){\n                            if(gold&gt;=100000){\n                                sevenB = true;\n                                gold = gold - 100000;\n                                dmgMultiplier = dmgMultiplier *150;\n                                Shop.setDataShop(dmgMultiplier, gold, LogIn.getUser());\n                                Shop.setDataShopBought(firstbBin, secondbBin,\n                                        thirdbBin,forthbBin,\n                                        fithbBin,sixthbBin,\n                                        seventhbBin,LoggedInUser);\n                            }\n                        }\n                }\n            }\n        });\n\n\n        return convertView;\n    }\n}\n</code></pre>\n"},{"tags":["java","printf"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1651320891,"post_id":72068387,"comment_id":127339734,"body_markdown":"It is unclear what effect you desire. Do you mean `%-20.2f` or something like that?","body":"It is unclear what effect you desire. Do you mean <code>%-20.2f</code> or something like that?"},{"owner":{"account_id":11436381,"reputation":35,"user_id":8383668,"display_name":"Shaun"},"score":0,"creation_date":1651321142,"post_id":72068387,"comment_id":127339794,"body_markdown":"Hi Mark, I&#39;m looking for 3 columns (String, int, int) and for the two int columns to be of equal length and display the int&#39;s as 2 decimal places.","body":"Hi Mark, I&#39;m looking for 3 columns (String, int, int) and for the two int columns to be of equal length and display the int&#39;s as 2 decimal places."}],"answers":[{"tags":[],"owner":{"display_name":"user4571959"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1651324094,"creation_date":1651324094,"answer_id":72068774,"question_id":72068387,"body_markdown":"\r\n\r\n    public class StackOverflowCode {\r\n    \r\n    \r\n    \r\n    /**\r\n    * @param args\r\n    */\r\n    public static void main(String[] args) {\r\n    String shapeName = &quot;Circle&quot;;\r\n    double shapeArea = 2.2222222222;\r\n    double shapePerimeter = 5.555555;\r\n    \r\n    System.out.printf(&quot;%-20s%-35s%-35s\\n&quot;, &quot;name : &quot;+shapeName,&quot;shape area : &quot;+shapeArea, &quot;shape perimeter : &quot;+shapePerimeter);\r\n    \r\n    System.out.printf(&quot;Name : &quot;+shapeName+&quot; shape area : %.2f shape perimeter : %.2f \\n&quot;,shapeArea,shapePerimeter);\r\n    \r\n    \r\n    //spacing and two decimal places in the same printf\r\n    System.out.printf( &quot;Name : &quot;+shapeName+&quot;%6s&quot;+&quot; shape area : %.2f %6s shape perimeter : %.2f \\n&quot;,&quot;&quot;,shapeArea,&quot;&quot;,shapePerimeter);\r\n    }\r\n    }","title":"How to do spacing and two decimal places in the same printf","body":"<pre><code>public class StackOverflowCode {\n\n\n\n/**\n* @param args\n*/\npublic static void main(String[] args) {\nString shapeName = &quot;Circle&quot;;\ndouble shapeArea = 2.2222222222;\ndouble shapePerimeter = 5.555555;\n\nSystem.out.printf(&quot;%-20s%-35s%-35s\\n&quot;, &quot;name : &quot;+shapeName,&quot;shape area : &quot;+shapeArea, &quot;shape perimeter : &quot;+shapePerimeter);\n\nSystem.out.printf(&quot;Name : &quot;+shapeName+&quot; shape area : %.2f shape perimeter : %.2f \\n&quot;,shapeArea,shapePerimeter);\n\n\n//spacing and two decimal places in the same printf\nSystem.out.printf( &quot;Name : &quot;+shapeName+&quot;%6s&quot;+&quot; shape area : %.2f %6s shape perimeter : %.2f \\n&quot;,&quot;&quot;,shapeArea,&quot;&quot;,shapePerimeter);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":11436381,"reputation":35,"user_id":8383668,"display_name":"Shaun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72068774,"answer_count":1,"score":0,"last_activity_date":1651324094,"creation_date":1651320467,"question_id":72068387,"body_markdown":"How can I use printf to format spacing AND two decimal places in the same printf?\r\n\r\nI can format the spacing using;\r\n\r\n```java\r\nSystem.out.printf(&quot;%-20s%-35s%-35s\\n&quot;, &quot;name : &quot;+shape.getShapeName(),&quot;shape area : &quot;+shape.calculateArea(), &quot;shape perimeter : &quot;+shape.calculatePerimiter());\r\n```\r\n\r\nI can format the two decimal places using;\r\n\r\n```java\r\nSystem.out.printf(&quot;Name : &quot;+shape.getShapeName()+&quot; shape area : %.2f shape perimeter : %.2f \\n&quot;,shape.calculateArea(),shape.calculatePerimiter());\r\n```\r\n\r\nHowever, I can&#39;t work out doing both at the same time, in the same printf.\r\n\r\nHere is the minimal reproducible code;\r\n\r\n```java\r\npublic class StackOverflowCode {\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tString shapeName = &quot;Circle&quot;;\r\n\t\tdouble shapeArea = 2.2222222222;\r\n\t\tdouble shapePerimeter = 5.555555;\r\n\t\t\r\n\t\tSystem.out.printf(&quot;%-20s%-35s%-35s\\n&quot;, &quot;name : &quot;+shapeName,&quot;shape area : &quot;+shapeArea, &quot;shape perimeter : &quot;+shapePerimeter);\r\n\t\t\r\n\t\tSystem.out.printf(&quot;Name : &quot;+shapeName+&quot; shape area : %.2f shape perimeter : %.2f \\n&quot;,shapeArea,shapePerimeter);\r\n\t}\r\n\r\n}\r\n```","title":"How to do spacing and two decimal places in the same printf","body":"<p>How can I use printf to format spacing AND two decimal places in the same printf?</p>\n<p>I can format the spacing using;</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;%-20s%-35s%-35s\\n&quot;, &quot;name : &quot;+shape.getShapeName(),&quot;shape area : &quot;+shape.calculateArea(), &quot;shape perimeter : &quot;+shape.calculatePerimiter());\n</code></pre>\n<p>I can format the two decimal places using;</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;Name : &quot;+shape.getShapeName()+&quot; shape area : %.2f shape perimeter : %.2f \\n&quot;,shape.calculateArea(),shape.calculatePerimiter());\n</code></pre>\n<p>However, I can't work out doing both at the same time, in the same printf.</p>\n<p>Here is the minimal reproducible code;</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StackOverflowCode {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        String shapeName = &quot;Circle&quot;;\n        double shapeArea = 2.2222222222;\n        double shapePerimeter = 5.555555;\n        \n        System.out.printf(&quot;%-20s%-35s%-35s\\n&quot;, &quot;name : &quot;+shapeName,&quot;shape area : &quot;+shapeArea, &quot;shape perimeter : &quot;+shapePerimeter);\n        \n        System.out.printf(&quot;Name : &quot;+shapeName+&quot; shape area : %.2f shape perimeter : %.2f \\n&quot;,shapeArea,shapePerimeter);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","java-8","functional-programming","integer"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1651179900,"post_id":72049717,"comment_id":127309375,"body_markdown":"use `Math.log10()`","body":"use <code>Math.log10()</code>"},{"owner":{"account_id":24615818,"reputation":173,"user_id":18516849,"display_name":"ypdev19"},"score":0,"creation_date":1651190947,"post_id":72049717,"comment_id":127311525,"body_markdown":"Check this, might be helpful https://gist.github.com/artlovan/e8c1151939ad1f7ef42e710a921811ad","body":"Check this, might be helpful <a href=\"https://gist.github.com/artlovan/e8c1151939ad1f7ef42e710a921811ad\" rel=\"nofollow noreferrer\">gist.github.com/artlovan/e8c1151939ad1f7ef42e710a921811ad</a>"}],"owner":{"account_id":24343666,"reputation":1,"user_id":18280673,"display_name":"testtest"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651323360,"creation_date":1651176905,"question_id":72049717,"body_markdown":"I am fairly new to functional programming. Following is my code to check the sum of powered digits(Arsmstrong number check). Number is an input for example: 370 which is an amstrong number, the return statement has to return the sum as 370. I need to achieve this by functional programming only. How can I change the value 3 to be dynamic and equal to the number of digits. \r\n\r\n```\r\nreturn String.valueOf(number).chars().mapToObj(e -&gt; Character.getNumericValue(e)).collect(Collectors.toList())\r\n        .stream()\r\n        .reduce(0, (sum,value) -&gt; {\r\n            sum += (int)Math.pow(value, 3);\r\n            return sum;\r\n        });\r\n\r\n```","title":"Amstrong number using lambda Expressions in Java 8","body":"<p>I am fairly new to functional programming. Following is my code to check the sum of powered digits(Arsmstrong number check). Number is an input for example: 370 which is an amstrong number, the return statement has to return the sum as 370. I need to achieve this by functional programming only. How can I change the value 3 to be dynamic and equal to the number of digits.</p>\n<pre><code>return String.valueOf(number).chars().mapToObj(e -&gt; Character.getNumericValue(e)).collect(Collectors.toList())\n        .stream()\n        .reduce(0, (sum,value) -&gt; {\n            sum += (int)Math.pow(value, 3);\n            return sum;\n        });\n\n</code></pre>\n"},{"tags":["java","spring","jackson","abstract-class","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651323210,"creation_date":1651323210,"answer_id":72068694,"question_id":72068643,"body_markdown":"If `getField1()` is a method of `Employee` and not of any `Person`, then no you can&#39;t do `getPerson().getField1()`. \r\n\r\nAnd that&#39;s logic. If you&#39;re invoking `getField1()` on a `Person`, then it means that you know that this `Person` is an `Employee` and not a `Driver`. \r\n\r\nSo, you should simply separate the code handling a `Employee` from the one handling a `Driver`: \r\n\r\n    Person person = company.getPerson();\r\n    if (person instanceof Employee) {\r\n        Employee employee = (Employee) person;\r\n        employee.getField1();\r\n        //...\r\n    } else if (person instanceof Driver) {\r\n        Driver driver = (Driver) person;\r\n        driver.getField3();\r\n        //...\r\n    }","title":"How to get object of one of the abstract class implementations passed in a json object","body":"<p>If <code>getField1()</code> is a method of <code>Employee</code> and not of any <code>Person</code>, then no you can't do <code>getPerson().getField1()</code>.</p>\n<p>And that's logic. If you're invoking <code>getField1()</code> on a <code>Person</code>, then it means that you know that this <code>Person</code> is an <code>Employee</code> and not a <code>Driver</code>.</p>\n<p>So, you should simply separate the code handling a <code>Employee</code> from the one handling a <code>Driver</code>:</p>\n<pre><code>Person person = company.getPerson();\nif (person instanceof Employee) {\n    Employee employee = (Employee) person;\n    employee.getField1();\n    //...\n} else if (person instanceof Driver) {\n    Driver driver = (Driver) person;\n    driver.getField3();\n    //...\n}\n</code></pre>\n"}],"owner":{"account_id":4838196,"reputation":101,"user_id":9715520,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72068694,"answer_count":1,"score":0,"last_activity_date":1651323210,"creation_date":1651322761,"question_id":72068643,"body_markdown":"I have a spring project wherein I have an abstract class Person as following\r\n\r\n\r\n    @JsonTypeInfo(use=JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\r\n    @JsonSubTypes({@Type(value=Employee.class, name=&quot;employee&quot;), @Type(value = Driver.class, name = &quot;driver&quot;)}) \r\n    public abstract class Person {\r\n    \r\n    }\r\n\r\nI have 2 implementations of this Person class, Employee and Driver as following\r\n\r\n\r\n    @JsonTypeName(&quot;employee&quot;)\r\n    public class Employee extends Person {\r\n    \r\n     private int field1;\r\n     private int field2;\r\n     \r\n     //some getters and setters\r\n     \r\n    }\r\n\r\n    @JsonTypeName(&quot;driver&quot;)\r\n    public class Driver extends Person {\r\n    \r\n     private int field3;\r\n     private int field4;\r\n     private int field5;\r\n     \r\n     //some getters and setters\r\n     \r\n    }\r\n\r\nThe Person object is contained in Company class as follows\r\n\r\n    public class Company {\r\n    \r\n     private String name;\r\n     private int id;\r\n     private Person person;// this is the object\r\n     private int people;\r\n    \r\n    \r\n    }\r\n\r\nNow, I receive the request in a json format and one of the fields is this person object as follows:\r\n\r\n    {\r\n     &quot;name&quot;: &quot;some name&quot;,\r\n     &quot;id&quot;: 123,\r\n     &quot;person&quot;:{\r\n    \t&quot;type&quot;: &quot;employee&quot;\r\n    \t&quot;field1&quot;:&quot;some field1 value&quot;,\r\n    \t&quot;field2&quot;:&quot;some field2 value&quot;\r\n     },\r\n     &quot;people&quot;: 100\r\n     \r\n    }\r\n\r\nThe thing is, the person can be either of driver or employee type. The field &quot;type&quot;(not present as a variable) is passed in json and the corresponding object is instantiated. However I am unable to get the hold of the instantiated object as the instantiation happens on runtime and I am not able to tell in the code which class was instantiated. And hence can&#39;t call the getters of the appropriate object(employee or driver).\r\n\r\nIs there a way I can get the hold of the instantiated object so that I can do whatever I want with the fields of the object(field1 and field2 in case of employee and field3, field4 and field5 in case of driver), say `company.getPerson().getField1();`\r\n\r\nThanks in advance\r\n","title":"How to get object of one of the abstract class implementations passed in a json object","body":"<p>I have a spring project wherein I have an abstract class Person as following</p>\n<pre><code>@JsonTypeInfo(use=JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\n@JsonSubTypes({@Type(value=Employee.class, name=&quot;employee&quot;), @Type(value = Driver.class, name = &quot;driver&quot;)}) \npublic abstract class Person {\n\n}\n</code></pre>\n<p>I have 2 implementations of this Person class, Employee and Driver as following</p>\n<pre><code>@JsonTypeName(&quot;employee&quot;)\npublic class Employee extends Person {\n\n private int field1;\n private int field2;\n \n //some getters and setters\n \n}\n\n@JsonTypeName(&quot;driver&quot;)\npublic class Driver extends Person {\n\n private int field3;\n private int field4;\n private int field5;\n \n //some getters and setters\n \n}\n</code></pre>\n<p>The Person object is contained in Company class as follows</p>\n<pre><code>public class Company {\n\n private String name;\n private int id;\n private Person person;// this is the object\n private int people;\n\n\n}\n</code></pre>\n<p>Now, I receive the request in a json format and one of the fields is this person object as follows:</p>\n<pre><code>{\n &quot;name&quot;: &quot;some name&quot;,\n &quot;id&quot;: 123,\n &quot;person&quot;:{\n    &quot;type&quot;: &quot;employee&quot;\n    &quot;field1&quot;:&quot;some field1 value&quot;,\n    &quot;field2&quot;:&quot;some field2 value&quot;\n },\n &quot;people&quot;: 100\n \n}\n</code></pre>\n<p>The thing is, the person can be either of driver or employee type. The field &quot;type&quot;(not present as a variable) is passed in json and the corresponding object is instantiated. However I am unable to get the hold of the instantiated object as the instantiation happens on runtime and I am not able to tell in the code which class was instantiated. And hence can't call the getters of the appropriate object(employee or driver).</p>\n<p>Is there a way I can get the hold of the instantiated object so that I can do whatever I want with the fields of the object(field1 and field2 in case of employee and field3, field4 and field5 in case of driver), say <code>company.getPerson().getField1();</code></p>\n<p>Thanks in advance</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1651414562,"post_id":72068251,"comment_id":127354742,"body_markdown":"*&quot;Subclassing the PDFTextStripper class and simply overruling the writeString() does not work because it will interfere with the original method&quot;* - please explain. I&#39;d consider overriding `PDFTextStripper.writeString(String, List&lt;TextPosition&gt;)` a good option.","body":"<i>&quot;Subclassing the PDFTextStripper class and simply overruling the writeString() does not work because it will interfere with the original method&quot;</i> - please explain. I&#39;d consider overriding <code>PDFTextStripper.writeString(String, List&lt;TextPosition&gt;)</code> a good option."},{"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"score":0,"creation_date":1651509427,"post_id":72068251,"comment_id":127376127,"body_markdown":"Then I have to rewrite the complete method, because pre processing and then calling the super writeString did not work.. Can you elaborate or give an example?","body":"Then I have to rewrite the complete method, because pre processing and then calling the super writeString did not work.. Can you elaborate or give an example?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1652022448,"post_id":72068251,"comment_id":127500089,"body_markdown":"Do you have test documents to check  super script processing?","body":"Do you have test documents to check  super script processing?"},{"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"score":0,"creation_date":1652034547,"post_id":72068251,"comment_id":127502711,"body_markdown":"Easiest is to create one with Word (or similar) and print/convert it to PDF. Then you can experiment with it very specifically.","body":"Easiest is to create one with Word (or similar) and print/convert it to PDF. Then you can experiment with it very specifically."}],"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651322855,"creation_date":1651319258,"question_id":72068251,"body_markdown":"Using PDFBox I want to convert a very large PDF file into regular text. I would like to mark any supertext with braces. Being relatively new to PDFBox, how can I surround superscript text with braces?\r\n\r\nExample: \r\n\r\nPDF:    This is text with the X being superscript.  \r\nOutput: This is text with the (X) being superscript. \r\n\r\nHope you can help. I have seen [this post][1], but that one does not give an easy approach. \r\n\r\nMy code so far is: \r\n\r\n    try (PDDocument document = PDDocument.load( new File(&quot;files/my-input.pdf&quot;));\r\n      FileWriter fileWriter = new FileWriter( &quot;files/my-output.txt&quot;)) {\r\n      PDFTextStripper tStripper = new PDFTextStripper();\r\n      int numberOfPages = document.getNumberOfPages();\r\n      for( int i = 1; i &lt;= numberOfPages; i++) {\r\n          tStripper.setStartPage(i);\r\n          tStripper.setEndPage(i);\r\n          tStripper.writeText( document, fileWriter);\r\n          fileWriter.flush();\r\n      }\r\n    }\r\n\r\nSubclassing the PDFTextStripper class and simply overruling the writeString() does not work because it will interfere with the original method. The string.getHeight() shows the heigth of the character - so could be used.  \r\n\r\n  [1]: https://stackoverflow.com/q/27700500/3143823","title":"While converting a PDF to regular text using PDFBox, how can I surround superscript text with braces?","body":"<p>Using PDFBox I want to convert a very large PDF file into regular text. I would like to mark any supertext with braces. Being relatively new to PDFBox, how can I surround superscript text with braces?</p>\n<p>Example:</p>\n<p>PDF:    This is text with the X being superscript.<br />\nOutput: This is text with the (X) being superscript.</p>\n<p>Hope you can help. I have seen <a href=\"https://stackoverflow.com/q/27700500/3143823\">this post</a>, but that one does not give an easy approach.</p>\n<p>My code so far is:</p>\n<pre><code>try (PDDocument document = PDDocument.load( new File(&quot;files/my-input.pdf&quot;));\n  FileWriter fileWriter = new FileWriter( &quot;files/my-output.txt&quot;)) {\n  PDFTextStripper tStripper = new PDFTextStripper();\n  int numberOfPages = document.getNumberOfPages();\n  for( int i = 1; i &lt;= numberOfPages; i++) {\n      tStripper.setStartPage(i);\n      tStripper.setEndPage(i);\n      tStripper.writeText( document, fileWriter);\n      fileWriter.flush();\n  }\n}\n</code></pre>\n<p>Subclassing the PDFTextStripper class and simply overruling the writeString() does not work because it will interfere with the original method. The string.getHeight() shows the heigth of the character - so could be used.</p>\n"},{"tags":["java","object","arraylist","memory-management"],"comments":[{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":1,"creation_date":1651321577,"post_id":72068487,"comment_id":127339864,"body_markdown":"no need to even declare ur custom list . U can just write this : \n\n`return dataManipulativeMethod1();`","body":"no need to even declare ur custom list . U can just write this :   <code>return dataManipulativeMethod1();</code>"},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":1,"creation_date":1651321890,"post_id":72068487,"comment_id":127339933,"body_markdown":"Unless you&#39;re seeing `StackOverflowErrot` there is no reason to even think about this. And if you are seeing a stack overflow, there&#39;s something else wrong with your code.","body":"Unless you&#39;re seeing <code>StackOverflowErrot</code> there is no reason to even think about this. And if you are seeing a stack overflow, there&#39;s something else wrong with your code."},{"owner":{"account_id":19693479,"reputation":11,"user_id":14417844,"display_name":"PseudoDev"},"score":0,"creation_date":1651322435,"post_id":72068487,"comment_id":127340033,"body_markdown":"@Parsifal -&gt; I am not getting any sort of `Error`. Its just I am trying to learn and write high quality code with less memory consumption.","body":"@Parsifal -&gt; I am not getting any sort of <code>Error</code>. Its just I am trying to learn and write high quality code with less memory consumption."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1651325085,"post_id":72068487,"comment_id":127340529,"body_markdown":"It is however pointless (in 1st example) to initialize the variable with an empty array list that you never use.  Your code is incomplete, so maybe you intend to return the empty list if none of the conditions are true.  If so, allocate the arraylist then.","body":"It is however pointless (in 1st example) to initialize the variable with an empty array list that you never use.  Your code is incomplete, so maybe you intend to return the empty list if none of the conditions are true.  If so, allocate the arraylist then."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1651325180,"post_id":72068487,"comment_id":127340549,"body_markdown":"You don&#39;t need the variable at all.  `return dataManipulativeMethod2(obj)` etc.  But that&#39;s just a matter of writing succinct (thus clearer) code, rather than a concern for memory use.","body":"You don&#39;t need the variable at all.  <code>return dataManipulativeMethod2(obj)</code> etc.  But that&#39;s just a matter of writing succinct (thus clearer) code, rather than a concern for memory use."}],"answers":[{"tags":[],"owner":{"account_id":1917072,"reputation":2291,"user_id":1729458,"display_name":"Strikegently"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651322404,"creation_date":1651322404,"answer_id":72068616,"question_id":72068487,"body_markdown":"There is no real difference. \r\n\r\nIn both examples, the Java Virtual Machine will allocate the memory of `response` on the stack. When the method returns and the method frame is popped from the stack, all of the local variables become eligible for garbage collection and will (likely) be freed soon. ","title":"Local Variable Memory Consumption","body":"<p>There is no real difference.</p>\n<p>In both examples, the Java Virtual Machine will allocate the memory of <code>response</code> on the stack. When the method returns and the method frame is popped from the stack, all of the local variables become eligible for garbage collection and will (likely) be freed soon.</p>\n"}],"owner":{"account_id":19693479,"reputation":11,"user_id":14417844,"display_name":"PseudoDev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651322404,"creation_date":1651321289,"question_id":72068487,"body_markdown":"Which approach is better to declare local variable in terms of memory consumption?\r\n\r\n    public List&lt;ResponseObject&gt; mockMethod(RequestObject obj) {\r\n      List&lt;ResponseObject&gt; response = new ArrayList&lt;&gt;();\r\n      if(condition1) {\r\n        response = dataManipulativeMethod1(obj);\r\n        return response;\r\n      } else if(condition2) {\r\n         response = dataManipulativeMethod2(obj);\r\n         return response;\r\n      } else if(condition3) {\r\n         response = dataManipulativeMethod3(obj);\r\n         return response;\r\n      }\r\n    }\r\n\r\n**OR**\r\n\r\n    public List&lt;ResponseObject&gt; mockMethod(RequestObject obj) {\r\n      if(condition1) {\r\n        List&lt;ResponseObject&gt; response = dataManipulativeMethod1();\r\n        return response;\r\n      } else if(condition2) {\r\n         List&lt;ResponseObject&gt; response = dataManipulativeMethod2();\r\n         return response;\r\n      } else if(condition3) {\r\n         List&lt;ResponseObject&gt; response = dataManipulativeMethod3();\r\n         return response;\r\n      }\r\n    }\r\n\r\nSince only one _IF block_ is going to run per call to _mockMethod_. I am confused how java manages ***memory of response list*** in above two scenarios?\r\n\r\n***Also which approach is better in case tons of request hit to mockMethod at an instant?***","title":"Local Variable Memory Consumption","body":"<p>Which approach is better to declare local variable in terms of memory consumption?</p>\n<pre><code>public List&lt;ResponseObject&gt; mockMethod(RequestObject obj) {\n  List&lt;ResponseObject&gt; response = new ArrayList&lt;&gt;();\n  if(condition1) {\n    response = dataManipulativeMethod1(obj);\n    return response;\n  } else if(condition2) {\n     response = dataManipulativeMethod2(obj);\n     return response;\n  } else if(condition3) {\n     response = dataManipulativeMethod3(obj);\n     return response;\n  }\n}\n</code></pre>\n<p><strong>OR</strong></p>\n<pre><code>public List&lt;ResponseObject&gt; mockMethod(RequestObject obj) {\n  if(condition1) {\n    List&lt;ResponseObject&gt; response = dataManipulativeMethod1();\n    return response;\n  } else if(condition2) {\n     List&lt;ResponseObject&gt; response = dataManipulativeMethod2();\n     return response;\n  } else if(condition3) {\n     List&lt;ResponseObject&gt; response = dataManipulativeMethod3();\n     return response;\n  }\n}\n</code></pre>\n<p>Since only one <em>IF block</em> is going to run per call to <em>mockMethod</em>. I am confused how java manages <em><strong>memory of response list</strong></em> in above two scenarios?</p>\n<p><em><strong>Also which approach is better in case tons of request hit to mockMethod at an instant?</strong></em></p>\n"},{"tags":["java","string","sorting","compareto"],"answers":[{"tags":[],"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651322002,"creation_date":1651321674,"answer_id":72068524,"question_id":72068446,"body_markdown":"I&#39;d consider working with grades as integers rather than strings. You can create a class `Student` to represent a student:\r\n\r\n    public class Student {\r\n    \r\n      private String name;\r\n      private String course;\r\n      private int grade;\r\n    \r\n      public Student(String name, String course, int grade) {\r\n        this.name = name;\r\n        this.course = course;\r\n        this.grade = grade;\r\n      }\r\n\r\n      public String getName() {\r\n        return name;\r\n      }\r\n    \r\n      public void setName(String name) {\r\n        this.name = name;\r\n      }\r\n      ...\r\n    }\r\n\r\nAnd create a `List&lt;Student&gt; students` to load the students&#39; objects to.\r\n\r\nThen, after splitting the students to the 3 courses, you can use [Streams][1] (since Java 8) to sort each students&#39; list:\r\n\r\n    List&lt;Student&gt; studentsOfSomeCourse = getStudentsOfSomeCourse();\r\n    List&lt;Student&gt; studentsOfSomeCourseSorted = studentsOfSomeCourse.stream()\r\n        .sorted(Comparator.comparing(Student::getGrade).reversed())\r\n        .collect(Collectors.toList());\r\n\r\n  [1]: https://www.baeldung.com/java-8-streams\r\n","title":"How do you design a comparTo method to match up and isolote certain strings?","body":"<p>I'd consider working with grades as integers rather than strings. You can create a class <code>Student</code> to represent a student:</p>\n<pre><code>public class Student {\n\n  private String name;\n  private String course;\n  private int grade;\n\n  public Student(String name, String course, int grade) {\n    this.name = name;\n    this.course = course;\n    this.grade = grade;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n  ...\n}\n</code></pre>\n<p>And create a <code>List&lt;Student&gt; students</code> to load the students' objects to.</p>\n<p>Then, after splitting the students to the 3 courses, you can use <a href=\"https://www.baeldung.com/java-8-streams\" rel=\"nofollow noreferrer\">Streams</a> (since Java 8) to sort each students' list:</p>\n<pre><code>List&lt;Student&gt; studentsOfSomeCourse = getStudentsOfSomeCourse();\nList&lt;Student&gt; studentsOfSomeCourseSorted = studentsOfSomeCourse.stream()\n    .sorted(Comparator.comparing(Student::getGrade).reversed())\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":21878112,"reputation":1,"user_id":16166870,"display_name":"Joseph Kirkish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651322002,"creation_date":1651320901,"question_id":72068446,"body_markdown":"https://github.com/jkirkish/Assignment-4.git\r\n\r\nI am working on a coding project.  I have to parse the student-master-list.csv File and separate the data into 3 separate CSV files. Each CSV file should contain a list of students specific to that particular course (i.e. we&#39;re grouping the students by course). \r\n\r\nFor each of the 3 CSV files, you&#39;ll need to sort the students by grade in descending order.\r\n\r\nThe CSV output file names should be called: course1.csv, course2.csv, and course3.csv.\r\nI am planning to use Bufferred Writer to create each of the three files.\r\n\r\nI am having trouble creating my CompareTo method using Strings.   Any idea on how to make compareTo method sort students by grade thru descending order and to contain a list of students specific to that particular course?\r\n\r\n","title":"How do you design a comparTo method to match up and isolote certain strings?","body":"<p><a href=\"https://github.com/jkirkish/Assignment-4.git\" rel=\"nofollow noreferrer\">https://github.com/jkirkish/Assignment-4.git</a></p>\n<p>I am working on a coding project.  I have to parse the student-master-list.csv File and separate the data into 3 separate CSV files. Each CSV file should contain a list of students specific to that particular course (i.e. we're grouping the students by course).</p>\n<p>For each of the 3 CSV files, you'll need to sort the students by grade in descending order.</p>\n<p>The CSV output file names should be called: course1.csv, course2.csv, and course3.csv.\nI am planning to use Bufferred Writer to create each of the three files.</p>\n<p>I am having trouble creating my CompareTo method using Strings.   Any idea on how to make compareTo method sort students by grade thru descending order and to contain a list of students specific to that particular course?</p>\n"},{"tags":["java","try-catch"],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651320676,"creation_date":1651311379,"answer_id":72067297,"question_id":72066638,"body_markdown":"I would basically keep your same structure, but instead of using one `Scanner` I would use two of them: one to read each file&#39;s line and a second one (yours) to fetch the data from each line.\r\n\r\n```\r\npublic void readDrinks(File file) throws DrinkReaderException {\r\n        try {\r\n            Scanner scanLines = new Scanner(file);\r\n            String line, name, category;\r\n            int price;\r\n            boolean premium;\r\n\r\n            while (scanLines.hasNextLine()) {\r\n                //EDIT: added a trim to get rid of eventual spaces at the end and properly read a boolean\r\n                line = scanLines.nextLine().trim();\r\n\r\n                Scanner scanParams = new Scanner(line);\r\n                scanParams.useDelimiter(&quot;::&quot;);\r\n\r\n                name = &quot;&quot;;\r\n                category = &quot;&quot;;\r\n                price = -1;\r\n\r\n                if (scanParams.hasNext())\r\n                    name = scanParams.next();\r\n                if (scanParams.hasNext())\r\n                    category = scanParams.next();\r\n                if (scanParams.hasNextInt())\r\n                    price = scanParams.nextInt();\r\n                if (scanParams.hasNextBoolean())\r\n                    premium = scanParams.nextBoolean();\r\n                else\r\n                    premium = false;\r\n                System.out.println(name + &quot; - &quot; + category + &quot; - &quot; + price + &quot; - &quot; + premium);\r\n                if (name.isEmpty() || category.isEmpty()) {\r\n                    System.out.printf(&quot;--Skip the item: %s%n&quot;, line);\r\n                    continue;\r\n                }\r\n                if (price == -1) {\r\n                    System.out.printf(&quot;--Incorrect price skip: %s%n&quot;, line);\r\n                    continue;\r\n                }\r\n                readerList.add(new Drink(name, category, price, premium));\r\n            }\r\n            scanLines.close();\r\n        } catch (FileNotFoundException e) {\r\n            readFileUI();\r\n        }\r\n    }\r\n```\r\n\r\n&lt;h4&gt;Output&lt;/h4&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KSdyT.png","title":"How to get the scan.nextLine() without skipping it","body":"<p>I would basically keep your same structure, but instead of using one <code>Scanner</code> I would use two of them: one to read each file's line and a second one (yours) to fetch the data from each line.</p>\n<pre><code>public void readDrinks(File file) throws DrinkReaderException {\n        try {\n            Scanner scanLines = new Scanner(file);\n            String line, name, category;\n            int price;\n            boolean premium;\n\n            while (scanLines.hasNextLine()) {\n                //EDIT: added a trim to get rid of eventual spaces at the end and properly read a boolean\n                line = scanLines.nextLine().trim();\n\n                Scanner scanParams = new Scanner(line);\n                scanParams.useDelimiter(&quot;::&quot;);\n\n                name = &quot;&quot;;\n                category = &quot;&quot;;\n                price = -1;\n\n                if (scanParams.hasNext())\n                    name = scanParams.next();\n                if (scanParams.hasNext())\n                    category = scanParams.next();\n                if (scanParams.hasNextInt())\n                    price = scanParams.nextInt();\n                if (scanParams.hasNextBoolean())\n                    premium = scanParams.nextBoolean();\n                else\n                    premium = false;\n                System.out.println(name + &quot; - &quot; + category + &quot; - &quot; + price + &quot; - &quot; + premium);\n                if (name.isEmpty() || category.isEmpty()) {\n                    System.out.printf(&quot;--Skip the item: %s%n&quot;, line);\n                    continue;\n                }\n                if (price == -1) {\n                    System.out.printf(&quot;--Incorrect price skip: %s%n&quot;, line);\n                    continue;\n                }\n                readerList.add(new Drink(name, category, price, premium));\n            }\n            scanLines.close();\n        } catch (FileNotFoundException e) {\n            readFileUI();\n        }\n    }\n</code></pre>\n<h4>Output</h4>\n<p><a href=\"https://i.stack.imgur.com/KSdyT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KSdyT.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25064027,"reputation":43,"user_id":18918560,"display_name":"Nooboolean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72067297,"answer_count":1,"score":0,"last_activity_date":1651320676,"creation_date":1651304924,"question_id":72066638,"body_markdown":"```\r\npublic void readDrinks(File file) throws DrinkReaderException{\r\n\t\t\ttry {\r\n\t\t\t\tScanner scan = new Scanner(file);\r\n\t\t\t\tscan.useDelimiter(&quot;::&quot;);\r\n\t\t\t\tString name,category;\r\n\t\t\t\tint price;\r\n\t\t\t\tboolean premium;\r\n\t\t\t\twhile(scan.hasNextLine()) {\r\n\t\t\t\t\tname = &quot;&quot;;category = &quot;&quot;; price = -1;\r\n\t\t\t\t\tif(scan.hasNext())\r\n\t\t\t\t\t\tname = scan.next();\r\n\t\t\t\t\tif(scan.hasNext())\r\n\t\t\t\t\t\tcategory = scan.next();\r\n\t\t\t\t\tif(scan.hasNextInt())\r\n\t\t\t\t\t\tprice = scan.nextInt();\r\n\t\t\t\t\tif(scan.hasNextBoolean())\r\n\t\t\t\t\t\tpremium = scan.nextBoolean();\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tpremium = false;\r\n\t\t\t\t\tSystem.out.println(name + category + price + premium);\r\n\t\t\t\t\tif(name.isEmpty() || category.isEmpty()) {\r\n\t\t\t\t\t\tSystem.out.printf(&quot;--Skip the item: %s\\n&quot;);\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(price == -1 ) {\r\n\t\t\t\t\t\tSystem.out.printf(&quot;--Incorrect price skip: %s\\n&quot;);\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treaderList.add(new Drink(name,category,price,premium));\r\n\t\t\t\t}\r\n\t\t\t\tscan.close();\r\n\t\t\t}\r\n\t\t\tcatch(FileNotFoundException e) {\r\n\t\t\t\treadFileUI();\r\n\t\t\t}\r\n\t}\r\n```\r\nI&#39;m not sure on how to make it so that if the object lack name or category it will print itself like  &quot;--Skip the item: Iced Coffe::30&quot;\r\nbecause if I were to make a = scan.nextLine() and then put a as %s in name.isEmpty || category.isEmpty  it will skip the current line to the next line which will make scan.next() scan.nextInt() scan.nextBoolean()   reading the next Line\r\n\r\nthis is the file of &quot;list of item&quot; I need to do\r\n```\r\nName::Category::0::true\r\nEspresso::Hot Coffee::35::false\r\nChocolate Milk Shake::Cool Drink::60::true \r\nHot Plain Milk::Hot Milk::false \r\nHoney Lemon Iced Tea::Ice Tea::40::false\r\nDouble Chocolate Milk Shake::Iced Milk::50::true\r\nHot Chinese Tea::Hot Tea::30:: false\r\nIced Caramel Milk::Iced Milk::40\r\nIced Mocha::Iced Coffee::40::false\r\nIced Coffee::30\r\nHot Americano::Hot Coffee::40::false\r\n```\r\n\r\nand this is the result I was hoping to make\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DjKWd.png","title":"How to get the scan.nextLine() without skipping it","body":"<pre><code>public void readDrinks(File file) throws DrinkReaderException{\n            try {\n                Scanner scan = new Scanner(file);\n                scan.useDelimiter(&quot;::&quot;);\n                String name,category;\n                int price;\n                boolean premium;\n                while(scan.hasNextLine()) {\n                    name = &quot;&quot;;category = &quot;&quot;; price = -1;\n                    if(scan.hasNext())\n                        name = scan.next();\n                    if(scan.hasNext())\n                        category = scan.next();\n                    if(scan.hasNextInt())\n                        price = scan.nextInt();\n                    if(scan.hasNextBoolean())\n                        premium = scan.nextBoolean();\n                    else\n                        premium = false;\n                    System.out.println(name + category + price + premium);\n                    if(name.isEmpty() || category.isEmpty()) {\n                        System.out.printf(&quot;--Skip the item: %s\\n&quot;);\n                        continue;\n                    }\n                    if(price == -1 ) {\n                        System.out.printf(&quot;--Incorrect price skip: %s\\n&quot;);\n                        continue;\n                    }\n                    readerList.add(new Drink(name,category,price,premium));\n                }\n                scan.close();\n            }\n            catch(FileNotFoundException e) {\n                readFileUI();\n            }\n    }\n</code></pre>\n<p>I'm not sure on how to make it so that if the object lack name or category it will print itself like  &quot;--Skip the item: Iced Coffe::30&quot;\nbecause if I were to make a = scan.nextLine() and then put a as %s in name.isEmpty || category.isEmpty  it will skip the current line to the next line which will make scan.next() scan.nextInt() scan.nextBoolean()   reading the next Line</p>\n<p>this is the file of &quot;list of item&quot; I need to do</p>\n<pre><code>Name::Category::0::true\nEspresso::Hot Coffee::35::false\nChocolate Milk Shake::Cool Drink::60::true \nHot Plain Milk::Hot Milk::false \nHoney Lemon Iced Tea::Ice Tea::40::false\nDouble Chocolate Milk Shake::Iced Milk::50::true\nHot Chinese Tea::Hot Tea::30:: false\nIced Caramel Milk::Iced Milk::40\nIced Mocha::Iced Coffee::40::false\nIced Coffee::30\nHot Americano::Hot Coffee::40::false\n</code></pre>\n<p>and this is the result I was hoping to make\n<a href=\"https://i.stack.imgur.com/DjKWd.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":22566541,"reputation":407,"user_id":16753477,"display_name":"Cleiton Freitas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651319976,"creation_date":1651319976,"answer_id":72068330,"question_id":72035442,"body_markdown":"I solved it like this:\r\n\r\n    @PostMapping(&quot;{id}/duplicate&quot;)\r\n        public ResponseEntity&lt;Grandparent&gt; duplicate(@NonNull @PathVariable long id) {\r\n    \r\n            var originGrandparent = grandparentService.findById(id);\r\n            var originParentList = parentService.findBy(originGrandparent.get().getId());\r\n            var originChildrenList = new ArrayList&lt;Children&gt;();\r\n    \r\n            originParentList.forEach(originParent -&gt; {\r\n                List&lt;Children&gt; originChildren = childrenService.findBy(originParent.getId());\r\n                originChildrenList.addAll(originChildren);\r\n            });\r\n    \r\n            var newGrandparent = new GrandparentPost();\r\n            newGrandparent.setName(originGrandparent.get().getName() + &quot; copy&quot;);\r\n            var savedGrandparent = grandparentService.save(newGrandparent);\r\n    \r\n            var newParent = new ParentPost();\r\n            var savedParentList = new ArrayList&lt;Parent&gt;();\r\n    \r\n            originParentList.forEach(originParent -&gt; {\r\n                newParent.setGrandparent(new Grandparent(savedGrandparent.getId(), null));\r\n                newParent.setName(originParent.getName());\r\n                var savedParent = parentService.save(newParent);\r\n                savedParentList.add(savedParent);\r\n                originChildrenList.forEach(origenChild -&gt; {\r\n                    if (Objects.equals(origenChild.getParent().getId(), originParent.getId())) {\r\n                        var newChild = new ChildrenPost();\r\n                        newChild.setParent(savedParent);\r\n                        newChild.setName(origenChild.getName());\r\n                        childrenService.save(newChild);\r\n                    }\r\n                });\r\n            });\r\n    \r\n            return ResponseEntity.ok(savedGrandparent);\r\n        }\r\n\r\nIf anyone knows a way to improve this code, feel free to share.","title":"How i can duplicate a record with your dependents in spring boot","body":"<p>I solved it like this:</p>\n<pre><code>@PostMapping(&quot;{id}/duplicate&quot;)\n    public ResponseEntity&lt;Grandparent&gt; duplicate(@NonNull @PathVariable long id) {\n\n        var originGrandparent = grandparentService.findById(id);\n        var originParentList = parentService.findBy(originGrandparent.get().getId());\n        var originChildrenList = new ArrayList&lt;Children&gt;();\n\n        originParentList.forEach(originParent -&gt; {\n            List&lt;Children&gt; originChildren = childrenService.findBy(originParent.getId());\n            originChildrenList.addAll(originChildren);\n        });\n\n        var newGrandparent = new GrandparentPost();\n        newGrandparent.setName(originGrandparent.get().getName() + &quot; copy&quot;);\n        var savedGrandparent = grandparentService.save(newGrandparent);\n\n        var newParent = new ParentPost();\n        var savedParentList = new ArrayList&lt;Parent&gt;();\n\n        originParentList.forEach(originParent -&gt; {\n            newParent.setGrandparent(new Grandparent(savedGrandparent.getId(), null));\n            newParent.setName(originParent.getName());\n            var savedParent = parentService.save(newParent);\n            savedParentList.add(savedParent);\n            originChildrenList.forEach(origenChild -&gt; {\n                if (Objects.equals(origenChild.getParent().getId(), originParent.getId())) {\n                    var newChild = new ChildrenPost();\n                    newChild.setParent(savedParent);\n                    newChild.setName(origenChild.getName());\n                    childrenService.save(newChild);\n                }\n            });\n        });\n\n        return ResponseEntity.ok(savedGrandparent);\n    }\n</code></pre>\n<p>If anyone knows a way to improve this code, feel free to share.</p>\n"}],"owner":{"account_id":22566541,"reputation":407,"user_id":16753477,"display_name":"Cleiton Freitas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72068330,"answer_count":1,"score":0,"last_activity_date":1651319976,"creation_date":1651094586,"question_id":72035442,"body_markdown":"In my use case I need to create an endpoint that duplicates a record and its dependents by copying the data from the current record to a new record creating new primary keys.\r\n\r\n\r\n***Current response:*** *Original record*\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;Grandparent One&quot;,\r\n            &quot;parents&quot;: [\r\n                {\r\n                    &quot;id&quot;: 1,\r\n                    &quot;name&quot;: &quot;Parent One&quot;,\r\n                    &quot;children&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 1,\r\n                            &quot;name&quot;: &quot;Child One&quot;\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: 2,\r\n                            &quot;name&quot;: &quot;Child Two&quot;\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n\r\n***Expected response:***  *Original record and Duplicate record*\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;Grandparent One&quot;,\r\n            &quot;parents&quot;: [\r\n                {\r\n                    &quot;id&quot;: 1,\r\n                    &quot;name&quot;: &quot;Parent One&quot;,\r\n                    &quot;children&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 1,\r\n                            &quot;name&quot;: &quot;Child One&quot;\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: 2,\r\n                            &quot;name&quot;: &quot;Child Two&quot;\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;name&quot;: &quot;Grandparent One Copy&quot;,\r\n            &quot;parents&quot;: [\r\n                {\r\n                    &quot;id&quot;: 2,\r\n                    &quot;name&quot;: &quot;Parent One&quot;,\r\n                    &quot;children&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 3,\r\n                            &quot;name&quot;: &quot;Child One&quot;\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: 4,\r\n                            &quot;name&quot;: &quot;Child Two&quot;\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n\r\nCan anyone give me a hint on how to do the  implementation this endpoint in the `GrandparentController`?\r\n\r\n    @PostMapping(&quot;{id}/duplicate&quot;)\r\n        public ResponseEntity&lt;Grandparent&gt; duplicate(@NonNull @PathVariable long id) {\r\n            //How to implement this endpoint?\r\n    \r\n            return null;\r\n        }\r\n\r\nMy classes:\r\n\r\n**MODELS**\r\n\r\n***Grandparent***\r\n\r\n    package com.example.demo.model;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;grandparents&quot;)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    public class Grandparent {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n    \r\n    }\r\n\r\n***Parent***\r\n\r\n    package com.example.demo.model;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;parents&quot;)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    public class Parent {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;grandparent_id&quot;, nullable = false\r\n                , foreignKey = @ForeignKey(name = &quot;fk_parents_grandparent1&quot;))\r\n        private Grandparent grandparent;\r\n        private String name;\r\n    \r\n    }\r\n\r\n***Children***\r\n\r\n    package com.example.demo.model;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;children&quot;)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    public class Children {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;parent_id&quot;, nullable = false\r\n                , foreignKey = @ForeignKey(name = &quot;fk_children_parent1&quot;))\r\n        private Parent parent;\r\n        private String name;\r\n    \r\n    }\r\n\r\n**DTOs**\r\n\r\n***GrandparentPost***\r\n\r\n    package com.example.demo.dto;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class GrandparentPost {\r\n    \r\n        private String name;\r\n    \r\n    }\r\n\r\n***ParentPost***\r\n\r\n    package com.example.demo.dto;\r\n    \r\n    import com.example.demo.model.Grandparent;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class ParentPost {\r\n    \r\n        private Grandparent grandparent;\r\n        private String name;\r\n    \r\n    }\r\n\r\n***ChildrenPost***\r\n\r\n    package com.example.demo.dto;\r\n    \r\n    import com.example.demo.model.Parent;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class ChildrenPost {\r\n    \r\n        private Parent parent;\r\n        private String name;\r\n    \r\n    }\r\n\r\n***GrandparentResponseDto***\r\n\r\n    package com.example.demo.dto;\r\n    \r\n    import com.example.demo.model.Grandparent;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    public class GrandparentResponseDto {\r\n    \r\n        private Long id;\r\n        private String name;\r\n        private List&lt;ParentResponseDto&gt; parents;\r\n    \r\n        public GrandparentResponseDto(Grandparent grandparent) {\r\n            this.id = grandparent.getId();\r\n            this.name = grandparent.getName();\r\n        }\r\n    }\r\n\r\n***ParentResponseDto***\r\n\r\n    package com.example.demo.dto;\r\n    \r\n    import com.example.demo.model.Parent;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    public class ParentResponseDto {\r\n    \r\n        private Long id;\r\n        private String name;\r\n        private List&lt;ChildrenResponseDto&gt; children;\r\n    \r\n        public ParentResponseDto(Parent parent) {\r\n            this.id = parent.getId();\r\n            this.name = parent.getName();\r\n        }\r\n    }\r\n\r\n***ChildrenResponseDto***\r\n\r\n    package com.example.demo.dto;\r\n    \r\n    import com.example.demo.model.Children;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    public class ChildrenResponseDto {\r\n    \r\n        private Long id;\r\n        private String name;\r\n    \r\n        public ChildrenResponseDto(Children children) {\r\n            this.id = children.getId();\r\n            this.name = children.getName();\r\n        }\r\n    }\r\n\r\n**MAPPERS**\r\n\r\n***GrandparentMapper***\r\n\r\n    package com.example.demo.mapper;\r\n    \r\n    import com.example.demo.dto.GrandparentPost;\r\n    import com.example.demo.model.Grandparent;\r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.factory.Mappers;\r\n    \r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public abstract class GrandparentMapper {\r\n    \r\n        public static final GrandparentMapper INSTANCE = Mappers.getMapper(GrandparentMapper.class);\r\n    \r\n        public abstract Grandparent toGrandparent(GrandparentPost grandparentPost);\r\n    \r\n    }\r\n\r\n***ParentMapper***\r\n\r\n    package com.example.demo.mapper;\r\n    \r\n    import com.example.demo.dto.ParentPost;\r\n    import com.example.demo.model.Parent;\r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.factory.Mappers;\r\n    \r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public abstract class ParentMapper {\r\n    \r\n        public static final ParentMapper INSTANCE = Mappers.getMapper(ParentMapper.class);\r\n    \r\n        public abstract Parent toParent(ParentPost parentPost);\r\n    \r\n    }\r\n\r\n***ChildrenMapper***\r\n\r\n    package com.example.demo.mapper;\r\n    \r\n    import com.example.demo.dto.ChildrenPost;\r\n    import com.example.demo.model.Children;\r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.factory.Mappers;\r\n    \r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public abstract class ChildrenMapper {\r\n    \r\n        public static final ChildrenMapper INSTANCE = Mappers.getMapper(ChildrenMapper.class);\r\n    \r\n        public abstract Children toChildren(ChildrenPost childrenPost);\r\n    \r\n    }\r\n\r\n**REPOSITORIES**\r\n\r\n***GrandparentRep***\r\n\r\n    package com.example.demo.repository;\r\n    \r\n    import com.example.demo.model.Grandparent;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface GrandparentRep extends JpaRepository&lt;Grandparent, Long&gt; {\r\n    }\r\n\r\n***ParentRep***\r\n\r\n    package com.example.demo.repository;\r\n    \r\n    import com.example.demo.model.Parent;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    import java.util.List;\r\n    \r\n    public interface ParentRep extends JpaRepository&lt;Parent, Long&gt; {\r\n    \r\n        List&lt;Parent&gt; findByGrandparent_Id(long grandparent);\r\n    \r\n    }\r\n\r\n***ChildrenRep***\r\n\r\n    package com.example.demo.repository;\r\n    \r\n    import com.example.demo.model.Children;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    import java.util.List;\r\n    \r\n    public interface ChildrenRep extends JpaRepository&lt;Children, Long&gt; {\r\n    \r\n        List&lt;Children&gt; findByParent_Id(long parent);\r\n    }\r\n\r\n**SERVICES**\r\n\r\n***GrandparentService***\r\n\r\n    package com.example.demo.service;\r\n    \r\n    import com.example.demo.dto.GrandparentPost;\r\n    import com.example.demo.mapper.GrandparentMapper;\r\n    import com.example.demo.model.Grandparent;\r\n    import com.example.demo.repository.GrandparentRep;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class GrandparentService {\r\n    \r\n        private final GrandparentRep grandparentRep;\r\n    \r\n        public List&lt;Grandparent&gt; findAll() {\r\n            return grandparentRep.findAll();\r\n        }\r\n    \r\n        public Optional&lt;Grandparent&gt; findById(long id) {\r\n            return grandparentRep.findById(id);\r\n        }\r\n    \r\n        @Transactional\r\n        public Grandparent save(GrandparentPost grandparentPost) {\r\n            return grandparentRep.save(GrandparentMapper.INSTANCE.toGrandparent(grandparentPost));\r\n        }\r\n    \r\n    }\r\n\r\n***ParentService***\r\n\r\n    package com.example.demo.service;\r\n    \r\n    import com.example.demo.dto.ParentPost;\r\n    import com.example.demo.mapper.ParentMapper;\r\n    import com.example.demo.model.Parent;\r\n    import com.example.demo.repository.ParentRep;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class ParentService {\r\n    \r\n        private final ParentRep parentRep;\r\n    \r\n        public List&lt;Parent&gt; findBy(long grandparent) {\r\n            return parentRep.findByGrandparent_Id(grandparent);\r\n        }\r\n    \r\n        @Transactional\r\n        public Parent save(ParentPost parentPost) {\r\n            return parentRep.save(ParentMapper.INSTANCE.toParent(parentPost));\r\n        }\r\n    \r\n    }\r\n\r\n***ChildrenService***\r\n\r\n    package com.example.demo.service;\r\n    \r\n    import com.example.demo.dto.ChildrenPost;\r\n    import com.example.demo.mapper.ChildrenMapper;\r\n    import com.example.demo.model.Children;\r\n    import com.example.demo.model.Parent;\r\n    import com.example.demo.repository.ChildrenRep;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class ChildrenService {\r\n    \r\n        private final ChildrenRep childrenRep;\r\n    \r\n        public List&lt;Children&gt; findBy(long parent) {\r\n            return childrenRep.findByParent_Id(parent);\r\n        }\r\n    \r\n        @Transactional\r\n        public Children save(ChildrenPost childrenPost) {\r\n            return childrenRep.save(ChildrenMapper.INSTANCE.toChildren(childrenPost));\r\n        }\r\n    \r\n    }\r\n\r\n**CONTROLLERS**\r\n\r\n***GrandparentController***\r\n\r\n    package com.example.demo.controller;\r\n    \r\n    import com.example.demo.dto.ChildrenResponseDto;\r\n    import com.example.demo.dto.GrandparentPost;\r\n    import com.example.demo.dto.GrandparentResponseDto;\r\n    import com.example.demo.dto.ParentResponseDto;\r\n    import com.example.demo.model.Grandparent;\r\n    import com.example.demo.service.ChildrenService;\r\n    import com.example.demo.service.GrandparentService;\r\n    import com.example.demo.service.ParentService;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.lang.NonNull;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import javax.validation.Valid;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;api/v1/grandparents&quot;)\r\n    @RequiredArgsConstructor\r\n    public class GrandparentController {\r\n    \r\n        private final GrandparentService grandparentService;\r\n        private final ParentService parentService;\r\n        private final ChildrenService childrenService;\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;List&lt;Grandparent&gt;&gt; findAll() {\r\n            return ResponseEntity.ok(grandparentService.findAll());\r\n        }\r\n    \r\n        @GetMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;Optional&lt;Grandparent&gt;&gt; findById(@NonNull @PathVariable long id) {\r\n            return ResponseEntity.ok(grandparentService.findById(id));\r\n        }\r\n    \r\n        @GetMapping(&quot;/{id}/stats&quot;)\r\n        public ResponseEntity&lt;List&lt;GrandparentResponseDto&gt;&gt; findByStats (@NonNull @PathVariable long id) {\r\n            var grandparentStatsDto = grandparentService.findById(id)\r\n                    .stream()\r\n                    .map(GrandparentResponseDto::new)\r\n                    .collect(Collectors.toList());\r\n    \r\n            //List parents\r\n            grandparentStatsDto.forEach(grandparentStatsList -&gt; {\r\n                List&lt;ParentResponseDto&gt; parentResponseDto = parentService\r\n                        .findBy(grandparentStatsList.getId())\r\n                        .stream().map(ParentResponseDto::new)\r\n                        .collect(Collectors.toList());\r\n    \r\n                //List children\r\n                parentResponseDto.forEach(parentStatsList -&gt; {\r\n                    List&lt;ChildrenResponseDto&gt; childrenResponseDto = childrenService\r\n                            .findBy(parentStatsList.getId())\r\n                            .stream().map(ChildrenResponseDto::new)\r\n                            .collect(Collectors.toList());\r\n                    parentStatsList.setChildren(childrenResponseDto);\r\n                });\r\n                grandparentStatsList.setParents(parentResponseDto);\r\n            });\r\n            return ResponseEntity.ok(grandparentStatsDto);\r\n        }\r\n    \r\n        @PostMapping\r\n        public ResponseEntity&lt;Grandparent&gt; save(@NonNull @Valid @RequestBody GrandparentPost grandparentPost) {\r\n            return new ResponseEntity&lt;&gt;(grandparentService.save(grandparentPost), HttpStatus.CREATED);\r\n        }\r\n    \r\n        @PostMapping(&quot;{id}/duplicate&quot;)\r\n        public ResponseEntity&lt;Grandparent&gt; duplicate(@NonNull @PathVariable long id) {\r\n            //How to implement this endpoint?\r\n    \r\n            return null;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n***ParentController***\r\n\r\n    package com.example.demo.controller;\r\n    \r\n    import com.example.demo.dto.ParentPost;\r\n    import com.example.demo.model.Grandparent;\r\n    import com.example.demo.model.Parent;\r\n    import com.example.demo.service.ParentService;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.lang.NonNull;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import javax.validation.Valid;\r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;api/v1/grandparents/{grandparent}/parents&quot;)\r\n    @RequiredArgsConstructor\r\n    public class ParentController {\r\n    \r\n        private final ParentService parentService;\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;List&lt;Parent&gt;&gt; findBy(@PathVariable long grandparent) {\r\n            return ResponseEntity.ok(parentService.findBy(grandparent));\r\n        }\r\n    \r\n        @PostMapping\r\n        public ResponseEntity&lt;Parent&gt; save(@NonNull @Valid @RequestBody ParentPost parentPost\r\n                , @NonNull @PathVariable long grandparent) {\r\n            parentPost.setGrandparent(new Grandparent(grandparent, null));\r\n            return new ResponseEntity&lt;&gt;(parentService.save(parentPost), HttpStatus.CREATED);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n***ChildrenController***\r\n\r\n    package com.example.demo.controller;\r\n    \r\n    import com.example.demo.dto.ChildrenPost;\r\n    import com.example.demo.model.Children;\r\n    import com.example.demo.model.Parent;\r\n    import com.example.demo.service.ChildrenService;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.lang.NonNull;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import javax.validation.Valid;\r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;api/v1/grandparents/{grandparent}/parents/{parent}/children&quot;)\r\n    @RequiredArgsConstructor\r\n    public class ChildrenController {\r\n    \r\n        private final ChildrenService childrenService;\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;List&lt;Children&gt;&gt; findBy(@PathVariable long grandparent) {\r\n            return ResponseEntity.ok(childrenService.findBy(grandparent));\r\n        }\r\n    \r\n        @PostMapping\r\n        public ResponseEntity&lt;Children&gt; save(@NonNull @Valid @RequestBody ChildrenPost childrenPost\r\n                , @NonNull @PathVariable long parent) {\r\n            childrenPost.setParent(new Parent(parent, null, null));\r\n            return new ResponseEntity&lt;&gt;(childrenService.save(childrenPost), HttpStatus.CREATED);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n","title":"How i can duplicate a record with your dependents in spring boot","body":"<p>In my use case I need to create an endpoint that duplicates a record and its dependents by copying the data from the current record to a new record creating new primary keys.</p>\n<p><em><strong>Current response:</strong></em> <em>Original record</em></p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Grandparent One&quot;,\n        &quot;parents&quot;: [\n            {\n                &quot;id&quot;: 1,\n                &quot;name&quot;: &quot;Parent One&quot;,\n                &quot;children&quot;: [\n                    {\n                        &quot;id&quot;: 1,\n                        &quot;name&quot;: &quot;Child One&quot;\n                    },\n                    {\n                        &quot;id&quot;: 2,\n                        &quot;name&quot;: &quot;Child Two&quot;\n                    }\n                ]\n            }\n        ]\n    }\n]\n</code></pre>\n<p><em><strong>Expected response:</strong></em>  <em>Original record and Duplicate record</em></p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Grandparent One&quot;,\n        &quot;parents&quot;: [\n            {\n                &quot;id&quot;: 1,\n                &quot;name&quot;: &quot;Parent One&quot;,\n                &quot;children&quot;: [\n                    {\n                        &quot;id&quot;: 1,\n                        &quot;name&quot;: &quot;Child One&quot;\n                    },\n                    {\n                        &quot;id&quot;: 2,\n                        &quot;name&quot;: &quot;Child Two&quot;\n                    }\n                ]\n            }\n        ]\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;name&quot;: &quot;Grandparent One Copy&quot;,\n        &quot;parents&quot;: [\n            {\n                &quot;id&quot;: 2,\n                &quot;name&quot;: &quot;Parent One&quot;,\n                &quot;children&quot;: [\n                    {\n                        &quot;id&quot;: 3,\n                        &quot;name&quot;: &quot;Child One&quot;\n                    },\n                    {\n                        &quot;id&quot;: 4,\n                        &quot;name&quot;: &quot;Child Two&quot;\n                    }\n                ]\n            }\n        ]\n    }\n]\n</code></pre>\n<p>Can anyone give me a hint on how to do the  implementation this endpoint in the <code>GrandparentController</code>?</p>\n<pre><code>@PostMapping(&quot;{id}/duplicate&quot;)\n    public ResponseEntity&lt;Grandparent&gt; duplicate(@NonNull @PathVariable long id) {\n        //How to implement this endpoint?\n\n        return null;\n    }\n</code></pre>\n<p>My classes:</p>\n<p><strong>MODELS</strong></p>\n<p><em><strong>Grandparent</strong></em></p>\n<pre><code>package com.example.demo.model;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\n\n@Entity\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;grandparents&quot;)\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\npublic class Grandparent {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n\n}\n</code></pre>\n<p><em><strong>Parent</strong></em></p>\n<pre><code>package com.example.demo.model;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\n\n@Entity\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;parents&quot;)\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\npublic class Parent {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;grandparent_id&quot;, nullable = false\n            , foreignKey = @ForeignKey(name = &quot;fk_parents_grandparent1&quot;))\n    private Grandparent grandparent;\n    private String name;\n\n}\n</code></pre>\n<p><em><strong>Children</strong></em></p>\n<pre><code>package com.example.demo.model;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\n\n@Entity\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;children&quot;)\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\npublic class Children {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;parent_id&quot;, nullable = false\n            , foreignKey = @ForeignKey(name = &quot;fk_children_parent1&quot;))\n    private Parent parent;\n    private String name;\n\n}\n</code></pre>\n<p><strong>DTOs</strong></p>\n<p><em><strong>GrandparentPost</strong></em></p>\n<pre><code>package com.example.demo.dto;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class GrandparentPost {\n\n    private String name;\n\n}\n</code></pre>\n<p><em><strong>ParentPost</strong></em></p>\n<pre><code>package com.example.demo.dto;\n\nimport com.example.demo.model.Grandparent;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ParentPost {\n\n    private Grandparent grandparent;\n    private String name;\n\n}\n</code></pre>\n<p><em><strong>ChildrenPost</strong></em></p>\n<pre><code>package com.example.demo.dto;\n\nimport com.example.demo.model.Parent;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ChildrenPost {\n\n    private Parent parent;\n    private String name;\n\n}\n</code></pre>\n<p><em><strong>GrandparentResponseDto</strong></em></p>\n<pre><code>package com.example.demo.dto;\n\nimport com.example.demo.model.Grandparent;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.util.List;\n\n@Data\n@NoArgsConstructor\npublic class GrandparentResponseDto {\n\n    private Long id;\n    private String name;\n    private List&lt;ParentResponseDto&gt; parents;\n\n    public GrandparentResponseDto(Grandparent grandparent) {\n        this.id = grandparent.getId();\n        this.name = grandparent.getName();\n    }\n}\n</code></pre>\n<p><em><strong>ParentResponseDto</strong></em></p>\n<pre><code>package com.example.demo.dto;\n\nimport com.example.demo.model.Parent;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.util.List;\n\n@Data\n@NoArgsConstructor\npublic class ParentResponseDto {\n\n    private Long id;\n    private String name;\n    private List&lt;ChildrenResponseDto&gt; children;\n\n    public ParentResponseDto(Parent parent) {\n        this.id = parent.getId();\n        this.name = parent.getName();\n    }\n}\n</code></pre>\n<p><em><strong>ChildrenResponseDto</strong></em></p>\n<pre><code>package com.example.demo.dto;\n\nimport com.example.demo.model.Children;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@NoArgsConstructor\npublic class ChildrenResponseDto {\n\n    private Long id;\n    private String name;\n\n    public ChildrenResponseDto(Children children) {\n        this.id = children.getId();\n        this.name = children.getName();\n    }\n}\n</code></pre>\n<p><strong>MAPPERS</strong></p>\n<p><em><strong>GrandparentMapper</strong></em></p>\n<pre><code>package com.example.demo.mapper;\n\nimport com.example.demo.dto.GrandparentPost;\nimport com.example.demo.model.Grandparent;\nimport org.mapstruct.Mapper;\nimport org.mapstruct.factory.Mappers;\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class GrandparentMapper {\n\n    public static final GrandparentMapper INSTANCE = Mappers.getMapper(GrandparentMapper.class);\n\n    public abstract Grandparent toGrandparent(GrandparentPost grandparentPost);\n\n}\n</code></pre>\n<p><em><strong>ParentMapper</strong></em></p>\n<pre><code>package com.example.demo.mapper;\n\nimport com.example.demo.dto.ParentPost;\nimport com.example.demo.model.Parent;\nimport org.mapstruct.Mapper;\nimport org.mapstruct.factory.Mappers;\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class ParentMapper {\n\n    public static final ParentMapper INSTANCE = Mappers.getMapper(ParentMapper.class);\n\n    public abstract Parent toParent(ParentPost parentPost);\n\n}\n</code></pre>\n<p><em><strong>ChildrenMapper</strong></em></p>\n<pre><code>package com.example.demo.mapper;\n\nimport com.example.demo.dto.ChildrenPost;\nimport com.example.demo.model.Children;\nimport org.mapstruct.Mapper;\nimport org.mapstruct.factory.Mappers;\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class ChildrenMapper {\n\n    public static final ChildrenMapper INSTANCE = Mappers.getMapper(ChildrenMapper.class);\n\n    public abstract Children toChildren(ChildrenPost childrenPost);\n\n}\n</code></pre>\n<p><strong>REPOSITORIES</strong></p>\n<p><em><strong>GrandparentRep</strong></em></p>\n<pre><code>package com.example.demo.repository;\n\nimport com.example.demo.model.Grandparent;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface GrandparentRep extends JpaRepository&lt;Grandparent, Long&gt; {\n}\n</code></pre>\n<p><em><strong>ParentRep</strong></em></p>\n<pre><code>package com.example.demo.repository;\n\nimport com.example.demo.model.Parent;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport java.util.List;\n\npublic interface ParentRep extends JpaRepository&lt;Parent, Long&gt; {\n\n    List&lt;Parent&gt; findByGrandparent_Id(long grandparent);\n\n}\n</code></pre>\n<p><em><strong>ChildrenRep</strong></em></p>\n<pre><code>package com.example.demo.repository;\n\nimport com.example.demo.model.Children;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport java.util.List;\n\npublic interface ChildrenRep extends JpaRepository&lt;Children, Long&gt; {\n\n    List&lt;Children&gt; findByParent_Id(long parent);\n}\n</code></pre>\n<p><strong>SERVICES</strong></p>\n<p><em><strong>GrandparentService</strong></em></p>\n<pre><code>package com.example.demo.service;\n\nimport com.example.demo.dto.GrandparentPost;\nimport com.example.demo.mapper.GrandparentMapper;\nimport com.example.demo.model.Grandparent;\nimport com.example.demo.repository.GrandparentRep;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\n@RequiredArgsConstructor\npublic class GrandparentService {\n\n    private final GrandparentRep grandparentRep;\n\n    public List&lt;Grandparent&gt; findAll() {\n        return grandparentRep.findAll();\n    }\n\n    public Optional&lt;Grandparent&gt; findById(long id) {\n        return grandparentRep.findById(id);\n    }\n\n    @Transactional\n    public Grandparent save(GrandparentPost grandparentPost) {\n        return grandparentRep.save(GrandparentMapper.INSTANCE.toGrandparent(grandparentPost));\n    }\n\n}\n</code></pre>\n<p><em><strong>ParentService</strong></em></p>\n<pre><code>package com.example.demo.service;\n\nimport com.example.demo.dto.ParentPost;\nimport com.example.demo.mapper.ParentMapper;\nimport com.example.demo.model.Parent;\nimport com.example.demo.repository.ParentRep;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.List;\n\n@Service\n@RequiredArgsConstructor\npublic class ParentService {\n\n    private final ParentRep parentRep;\n\n    public List&lt;Parent&gt; findBy(long grandparent) {\n        return parentRep.findByGrandparent_Id(grandparent);\n    }\n\n    @Transactional\n    public Parent save(ParentPost parentPost) {\n        return parentRep.save(ParentMapper.INSTANCE.toParent(parentPost));\n    }\n\n}\n</code></pre>\n<p><em><strong>ChildrenService</strong></em></p>\n<pre><code>package com.example.demo.service;\n\nimport com.example.demo.dto.ChildrenPost;\nimport com.example.demo.mapper.ChildrenMapper;\nimport com.example.demo.model.Children;\nimport com.example.demo.model.Parent;\nimport com.example.demo.repository.ChildrenRep;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.List;\n\n@Service\n@RequiredArgsConstructor\npublic class ChildrenService {\n\n    private final ChildrenRep childrenRep;\n\n    public List&lt;Children&gt; findBy(long parent) {\n        return childrenRep.findByParent_Id(parent);\n    }\n\n    @Transactional\n    public Children save(ChildrenPost childrenPost) {\n        return childrenRep.save(ChildrenMapper.INSTANCE.toChildren(childrenPost));\n    }\n\n}\n</code></pre>\n<p><strong>CONTROLLERS</strong></p>\n<p><em><strong>GrandparentController</strong></em></p>\n<pre><code>package com.example.demo.controller;\n\nimport com.example.demo.dto.ChildrenResponseDto;\nimport com.example.demo.dto.GrandparentPost;\nimport com.example.demo.dto.GrandparentResponseDto;\nimport com.example.demo.dto.ParentResponseDto;\nimport com.example.demo.model.Grandparent;\nimport com.example.demo.service.ChildrenService;\nimport com.example.demo.service.GrandparentService;\nimport com.example.demo.service.ParentService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.lang.NonNull;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.stream.Collectors;\n\n@RestController\n@RequestMapping(&quot;api/v1/grandparents&quot;)\n@RequiredArgsConstructor\npublic class GrandparentController {\n\n    private final GrandparentService grandparentService;\n    private final ParentService parentService;\n    private final ChildrenService childrenService;\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Grandparent&gt;&gt; findAll() {\n        return ResponseEntity.ok(grandparentService.findAll());\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;Grandparent&gt;&gt; findById(@NonNull @PathVariable long id) {\n        return ResponseEntity.ok(grandparentService.findById(id));\n    }\n\n    @GetMapping(&quot;/{id}/stats&quot;)\n    public ResponseEntity&lt;List&lt;GrandparentResponseDto&gt;&gt; findByStats (@NonNull @PathVariable long id) {\n        var grandparentStatsDto = grandparentService.findById(id)\n                .stream()\n                .map(GrandparentResponseDto::new)\n                .collect(Collectors.toList());\n\n        //List parents\n        grandparentStatsDto.forEach(grandparentStatsList -&gt; {\n            List&lt;ParentResponseDto&gt; parentResponseDto = parentService\n                    .findBy(grandparentStatsList.getId())\n                    .stream().map(ParentResponseDto::new)\n                    .collect(Collectors.toList());\n\n            //List children\n            parentResponseDto.forEach(parentStatsList -&gt; {\n                List&lt;ChildrenResponseDto&gt; childrenResponseDto = childrenService\n                        .findBy(parentStatsList.getId())\n                        .stream().map(ChildrenResponseDto::new)\n                        .collect(Collectors.toList());\n                parentStatsList.setChildren(childrenResponseDto);\n            });\n            grandparentStatsList.setParents(parentResponseDto);\n        });\n        return ResponseEntity.ok(grandparentStatsDto);\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Grandparent&gt; save(@NonNull @Valid @RequestBody GrandparentPost grandparentPost) {\n        return new ResponseEntity&lt;&gt;(grandparentService.save(grandparentPost), HttpStatus.CREATED);\n    }\n\n    @PostMapping(&quot;{id}/duplicate&quot;)\n    public ResponseEntity&lt;Grandparent&gt; duplicate(@NonNull @PathVariable long id) {\n        //How to implement this endpoint?\n\n        return null;\n    }\n\n\n}\n</code></pre>\n<p><em><strong>ParentController</strong></em></p>\n<pre><code>package com.example.demo.controller;\n\nimport com.example.demo.dto.ParentPost;\nimport com.example.demo.model.Grandparent;\nimport com.example.demo.model.Parent;\nimport com.example.demo.service.ParentService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.lang.NonNull;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;api/v1/grandparents/{grandparent}/parents&quot;)\n@RequiredArgsConstructor\npublic class ParentController {\n\n    private final ParentService parentService;\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Parent&gt;&gt; findBy(@PathVariable long grandparent) {\n        return ResponseEntity.ok(parentService.findBy(grandparent));\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Parent&gt; save(@NonNull @Valid @RequestBody ParentPost parentPost\n            , @NonNull @PathVariable long grandparent) {\n        parentPost.setGrandparent(new Grandparent(grandparent, null));\n        return new ResponseEntity&lt;&gt;(parentService.save(parentPost), HttpStatus.CREATED);\n    }\n\n\n}\n</code></pre>\n<p><em><strong>ChildrenController</strong></em></p>\n<pre><code>package com.example.demo.controller;\n\nimport com.example.demo.dto.ChildrenPost;\nimport com.example.demo.model.Children;\nimport com.example.demo.model.Parent;\nimport com.example.demo.service.ChildrenService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.lang.NonNull;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;api/v1/grandparents/{grandparent}/parents/{parent}/children&quot;)\n@RequiredArgsConstructor\npublic class ChildrenController {\n\n    private final ChildrenService childrenService;\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Children&gt;&gt; findBy(@PathVariable long grandparent) {\n        return ResponseEntity.ok(childrenService.findBy(grandparent));\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Children&gt; save(@NonNull @Valid @RequestBody ChildrenPost childrenPost\n            , @NonNull @PathVariable long parent) {\n        childrenPost.setParent(new Parent(parent, null, null));\n        return new ResponseEntity&lt;&gt;(childrenService.save(childrenPost), HttpStatus.CREATED);\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":0,"creation_date":1651291234,"post_id":72064851,"comment_id":127335168,"body_markdown":"is your application id actually ```applicationId &quot;com.***&quot;``` of have you simply hidden it here?","body":"is your application id actually <code>applicationId &quot;com.***&quot;</code> of have you simply hidden it here?"},{"owner":{"account_id":19093119,"reputation":11,"user_id":13943016,"display_name":"Dhakshna Moorthy"},"score":0,"creation_date":1651292849,"post_id":72064851,"comment_id":127335336,"body_markdown":"simply hidden bro","body":"simply hidden bro"},{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":0,"creation_date":1651292941,"post_id":72064851,"comment_id":127335348,"body_markdown":"can you perform a restart as show here: https://stackoverflow.com/questions/44199791/restart-android-studio","body":"can you perform a restart as show here: <a href=\"https://stackoverflow.com/questions/44199791/restart-android-studio\" title=\"restart android studio\">stackoverflow.com/questions/44199791/restart-android-studio</a>"}],"answers":[{"tags":[],"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651293280,"creation_date":1651293280,"answer_id":72065750,"question_id":72064851,"body_markdown":"Note that if your using Java 11\r\n```\r\ncompileOptions {\r\n    sourceCompatibility JavaVersion.VERSION_1_8\r\n    targetCompatibility JavaVersion.VERSION_1_8\r\n}\r\n```\r\n\r\nshould be\r\n```\r\ncompileOptions {\r\n    sourceCompatibility JavaVersion.VERSION_11\r\n    targetCompatibility JavaVersion.VERSION_11\r\n}\r\n```\r\nIt&#39;s best to use Android Studio provided JRE. Only Android Studio __versions &gt;= 2020.3.1__ provide Java 11 support.","title":"Can&#39;t even run an empty project in Android Studio","body":"<p>Note that if your using Java 11</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p>should be</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_11\n    targetCompatibility JavaVersion.VERSION_11\n}\n</code></pre>\n<p>It's best to use Android Studio provided JRE. Only Android Studio <strong>versions &gt;= 2020.3.1</strong> provide Java 11 support.</p>\n"}],"owner":{"account_id":19093119,"reputation":11,"user_id":13943016,"display_name":"Dhakshna Moorthy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651319126,"creation_date":1651278955,"question_id":72064851,"body_markdown":"when I simply create an android project and run it, it throws the error as the follows\r\n\r\n```\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.***&quot;\r\n        minSdk 19\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        multiDexEnabled true\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n```\r\n\r\n&gt; class jdk.internal.loader.ClassLoaders$PlatformClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$PlatformClassLoader and java.net.URLClassLoader are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\nGradle&#39;s dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\r\n\r\nRe-download dependencies and sync project (requires network)\r\nThe state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.\r\n\r\nStop Gradle build processes (requires restart)\r\nYour project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.\r\n\r\nIn the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.\r\n\r\n\r\nI use java version 11 and jdk version 16\r\nthanks in advance...","title":"Can&#39;t even run an empty project in Android Studio","body":"<p>when I simply create an android project and run it, it throws the error as the follows</p>\n<pre><code>android {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.***&quot;\n        minSdk 19\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        multiDexEnabled true\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n</code></pre>\n<blockquote>\n<p>class jdk.internal.loader.ClassLoaders$PlatformClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$PlatformClassLoader and java.net.URLClassLoader are in module java.base of loader 'bootstrap')</p>\n</blockquote>\n<p>Gradle's dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)</p>\n<p>Re-download dependencies and sync project (requires network)\nThe state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.</p>\n<p>Stop Gradle build processes (requires restart)\nYour project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.</p>\n<p>In the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.</p>\n<p>I use java version 11 and jdk version 16\nthanks in advance...</p>\n"},{"tags":["java","list","spring-boot","rest","iterator"],"answers":[{"tags":[],"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651318036,"creation_date":1651318036,"answer_id":72068098,"question_id":72068064,"body_markdown":"`productEntity2` lives in the [scope][1] of the `for` loop, you created it there. Hence, you cannot call `productEntity2` outside of the loop (its scope). It looks to me that for each product in `iterator`, you&#39;d like to add an entity to `list`, so the right thing to do is putting `list.add(productEntity2);` inside the for loop (at the end, right after creating `productEntity2`).\r\n\r\n\r\n  [1]: https://www.codecademy.com/article/variable-scope-in-java","title":"how to call class parameter inside the for loop?","body":"<p><code>productEntity2</code> lives in the <a href=\"https://www.codecademy.com/article/variable-scope-in-java\" rel=\"nofollow noreferrer\">scope</a> of the <code>for</code> loop, you created it there. Hence, you cannot call <code>productEntity2</code> outside of the loop (its scope). It looks to me that for each product in <code>iterator</code>, you'd like to add an entity to <code>list</code>, so the right thing to do is putting <code>list.add(productEntity2);</code> inside the for loop (at the end, right after creating <code>productEntity2</code>).</p>\n"}],"owner":{"display_name":"user17944361"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72068098,"answer_count":1,"score":0,"last_activity_date":1651318036,"creation_date":1651317732,"question_id":72068064,"body_markdown":"Problem:Cannot call the class parameter inside the for loop statement \r\n\r\nImplementation:I need to call this class inorder my rest api list will function and will show all the data.\r\n\r\nProblem:Cannot call the class parameter inside the for loop statement \r\n\r\nImplementation:I need to call this class inorder my rest api list will function and will show all the data.\r\n\r\n\r\n```\r\n//this is working and able to get all the data, which the output is in &quot;cmd&quot;;\r\n\r\npublic void ool8(){\r\n\r\n\t Product pBuilder = Product.newBuilder().build();\r\n\tProductList productList =\tproductServiceBlockingStub.findAllRepeated(pBuilder);\r\n\t List&lt;Product&gt; products2 = productList.getProductList();\r\n\t\r\n \r\n\t\tfor (Iterator iterator = products2.iterator(); iterator.hasNext();) {\r\n\t\t\tProduct product = (Product) iterator.next();\r\n\t\t\t\r\n\t\t\t ProductEntity productEntity2 = new ProductEntity(\r\n\t\t\t\t\t product.getPurchaseItem(),\r\n\t\t\t\t\t product.getProductname(),\r\n\t\t\t\t\t product.getProductbrand(),\r\n\t\t\t\t\t product.getProductprice(),\r\n\t\t\t\t\t product.getProductdescription(),\r\n\t\t\t\t\t product.getProductquantity(),\r\n\t\t\t\t\t product.getProductexpirationdate()\r\n\t\t\t\t\t );\r\n\r\n\t\t\t List&lt;ProductEntity&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\t\t\r\n\t\t\t list.add(productEntity2);\r\n\t\t\t \r\n\t\t\t System.out.println(list);\r\n\t\t\t\r\n\t\t}\r\n\r\n```\r\n```\r\n//this is Not working cannot call the &quot;productEntity2&quot; outside the for loop;\r\n//I need return in  a method List&lt;ProductEntity&gt; for rest api implementation.\r\n\r\npublic List&lt;ProductEntity&gt; ool8(){\r\n\t\r\n\tList&lt;ProductEntity&gt; list = new ArrayList&lt;&gt;();\r\n\t\r\n\t Product pBuilder = Product.newBuilder().build();\r\n\tProductList productList =\tproductServiceBlockingStub.findAllRepeated(pBuilder);\r\n\t List&lt;Product&gt; products2 = productList.getProductList();\r\n\t\r\n \r\n\t\tfor (Iterator iterator = products2.iterator(); iterator.hasNext();) {\r\n\t\t\tProduct product = (Product) iterator.next();\r\n\t\t\t\r\n\t\t\t ProductEntity productEntity2 = new ProductEntity(\r\n\t\t\t\t\t product.getPurchaseItem(),\r\n\t\t\t\t\t product.getProductname(),\r\n\t\t\t\t\t product.getProductbrand(),\r\n\t\t\t\t\t product.getProductprice(),\r\n\t\t\t\t\t product.getProductdescription(),\r\n\t\t\t\t\t product.getProductquantity(),\r\n\t\t\t\t\t product.getProductexpirationdate()\r\n\t\t\t\t\t );\r\n\r\n\t\t}\r\n\t\r\n\t\r\n\t\t//this is the issue calling &quot;productEntity2&quot; outside of for loop\r\n\t\t list.add(productEntity2);\r\n\t\t \r\n\t\t System.out.println(list);\r\n\t\t \r\n\t\t return list;\r\n\r\n\t\t\r\n}\r\n```","title":"how to call class parameter inside the for loop?","body":"<p>Problem:Cannot call the class parameter inside the for loop statement</p>\n<p>Implementation:I need to call this class inorder my rest api list will function and will show all the data.</p>\n<p>Problem:Cannot call the class parameter inside the for loop statement</p>\n<p>Implementation:I need to call this class inorder my rest api list will function and will show all the data.</p>\n<pre><code>//this is working and able to get all the data, which the output is in &quot;cmd&quot;;\n\npublic void ool8(){\n\n     Product pBuilder = Product.newBuilder().build();\n    ProductList productList =   productServiceBlockingStub.findAllRepeated(pBuilder);\n     List&lt;Product&gt; products2 = productList.getProductList();\n    \n \n        for (Iterator iterator = products2.iterator(); iterator.hasNext();) {\n            Product product = (Product) iterator.next();\n            \n             ProductEntity productEntity2 = new ProductEntity(\n                     product.getPurchaseItem(),\n                     product.getProductname(),\n                     product.getProductbrand(),\n                     product.getProductprice(),\n                     product.getProductdescription(),\n                     product.getProductquantity(),\n                     product.getProductexpirationdate()\n                     );\n\n             List&lt;ProductEntity&gt; list = new ArrayList&lt;&gt;();\n                \n             list.add(productEntity2);\n             \n             System.out.println(list);\n            \n        }\n\n</code></pre>\n<pre><code>//this is Not working cannot call the &quot;productEntity2&quot; outside the for loop;\n//I need return in  a method List&lt;ProductEntity&gt; for rest api implementation.\n\npublic List&lt;ProductEntity&gt; ool8(){\n    \n    List&lt;ProductEntity&gt; list = new ArrayList&lt;&gt;();\n    \n     Product pBuilder = Product.newBuilder().build();\n    ProductList productList =   productServiceBlockingStub.findAllRepeated(pBuilder);\n     List&lt;Product&gt; products2 = productList.getProductList();\n    \n \n        for (Iterator iterator = products2.iterator(); iterator.hasNext();) {\n            Product product = (Product) iterator.next();\n            \n             ProductEntity productEntity2 = new ProductEntity(\n                     product.getPurchaseItem(),\n                     product.getProductname(),\n                     product.getProductbrand(),\n                     product.getProductprice(),\n                     product.getProductdescription(),\n                     product.getProductquantity(),\n                     product.getProductexpirationdate()\n                     );\n\n        }\n    \n    \n        //this is the issue calling &quot;productEntity2&quot; outside of for loop\n         list.add(productEntity2);\n         \n         System.out.println(list);\n         \n         return list;\n\n        \n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1033857,"reputation":17546,"user_id":1041641,"accept_rate":67,"display_name":"TmTron"},"score":1,"creation_date":1651314211,"post_id":72067602,"comment_id":127338523,"body_markdown":"please create a [minimal-reproducible-example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal-reproducible-example</a>"},{"owner":{"account_id":24362166,"reputation":29,"user_id":18296355,"display_name":"NotReallyOliverTwist"},"score":0,"creation_date":1651315074,"post_id":72067602,"comment_id":127338695,"body_markdown":"@TmTron , I think that is as minimal as I can get it without writing a completely different method.","body":"@TmTron , I think that is as minimal as I can get it without writing a completely different method."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1651316331,"post_id":72067602,"comment_id":127338912,"body_markdown":"@NotReallyOliverTwist that&#39;s one of the advantages of a minimal reproducible example, you narrow the problem down to a specific method, instead of a (non-compiling) code dump, possibly better understanding (if not flat out solving) the problem yourself in the process. Also you may want to point out what you expected your code to show and what it shows instead.","body":"@NotReallyOliverTwist that&#39;s one of the advantages of a minimal reproducible example, you narrow the problem down to a specific method, instead of a (non-compiling) code dump, possibly better understanding (if not flat out solving) the problem yourself in the process. Also you may want to point out what you expected your code to show and what it shows instead."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651316636,"creation_date":1651316636,"answer_id":72067939,"question_id":72067602,"body_markdown":"Your problem is in method `collectWords`. You are using the wrong index to print the word. Here is your code for method `collectWords`:\r\n```java\r\nprivate String[] collectWords(FileResource fr) {\r\n    int nWords = countWordsInFile(fr);\r\n    String[] fileWords = new String[nWords + 1];\r\n    int i = 0;\r\n    for (String s : fr.words()) {\r\n        fileWords[i] = s;\r\n        i++;\r\n        System.out.println(&quot;fileWords: &quot; + i + &quot; word: &quot; + fileWords[i]);\r\n    }\r\n    return fileWords;\r\n}\r\n```\r\nIn the first iteration of the `for` loop, the value of `i` is 0 (zero). You store a word in array `fileWords` at index 0. Then you increment the index so the value of `i` is now 1 (one). The element in `fileWords` at index 1 is [still] null. The fix with the least changes is to change the line:\r\n```java\r\nSystem.out.println(&quot;fileWords: &quot; + i + &quot; word: &quot; + fileWords[i]);\r\n```\r\nto:\r\n```java\r\nSystem.out.println(&quot;fileWords: &quot; + i + &quot; word: &quot; + fileWords[i - 1]);\r\n```\r\nAlso, you cannot simply print the contents of an array. Again, the simplest way to print the contents of an array (in my opinion) is via method [toString][1] in class `java.util.Arrays`. Hence the last line of method `testCollectWords` should be:\r\n```java\r\nSystem.out.println(&quot;Word collection: &quot; + Arrays.toString(wordCollection));\r\n```\r\nHere is your code with my corrections.\r\n```java\r\npublic class WordLengths {\r\n    private Integer countWordsInFile(FileResource fr) {\r\n        int nWords = 0;\r\n        for (String s : fr.words()) {\r\n            nWords++;\r\n        }\r\n        System.out.println(&quot;Number of words in file: &quot; + nWords);\r\n        return nWords;\r\n    }\r\n\r\n    private String[] collectWords(FileResource fr) {\r\n        int nWords = countWordsInFile(fr);\r\n        String[] fileWords = new String[nWords + 1];\r\n        int i = 0;\r\n        for (String s : fr.words()) {\r\n            fileWords[i] = s;\r\n            i++;\r\n            System.out.println(&quot;fileWords: &quot; + i + &quot; word: &quot; + fileWords[i - 1]);\r\n        }\r\n        return fileWords;\r\n    }\r\n\r\n    private void testCollectWords() {\r\n        FileResource fr = new FileResource();\r\n        String[] wordCollection = collectWords(fr);\r\n        System.out.println(&quot;Word collection: &quot; + java.util.Arrays.toString(wordCollection));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        WordLengths wordLengths = new WordLengths();\r\n        wordLengths.testCollectWords();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#toString(java.lang.Object%5B%5D)","title":"Assigning values to initialised array error","body":"<p>Your problem is in method <code>collectWords</code>. You are using the wrong index to print the word. Here is your code for method <code>collectWords</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String[] collectWords(FileResource fr) {\n    int nWords = countWordsInFile(fr);\n    String[] fileWords = new String[nWords + 1];\n    int i = 0;\n    for (String s : fr.words()) {\n        fileWords[i] = s;\n        i++;\n        System.out.println(&quot;fileWords: &quot; + i + &quot; word: &quot; + fileWords[i]);\n    }\n    return fileWords;\n}\n</code></pre>\n<p>In the first iteration of the <code>for</code> loop, the value of <code>i</code> is 0 (zero). You store a word in array <code>fileWords</code> at index 0. Then you increment the index so the value of <code>i</code> is now 1 (one). The element in <code>fileWords</code> at index 1 is [still] null. The fix with the least changes is to change the line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;fileWords: &quot; + i + &quot; word: &quot; + fileWords[i]);\n</code></pre>\n<p>to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;fileWords: &quot; + i + &quot; word: &quot; + fileWords[i - 1]);\n</code></pre>\n<p>Also, you cannot simply print the contents of an array. Again, the simplest way to print the contents of an array (in my opinion) is via method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#toString(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">toString</a> in class <code>java.util.Arrays</code>. Hence the last line of method <code>testCollectWords</code> should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Word collection: &quot; + Arrays.toString(wordCollection));\n</code></pre>\n<p>Here is your code with my corrections.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WordLengths {\n    private Integer countWordsInFile(FileResource fr) {\n        int nWords = 0;\n        for (String s : fr.words()) {\n            nWords++;\n        }\n        System.out.println(&quot;Number of words in file: &quot; + nWords);\n        return nWords;\n    }\n\n    private String[] collectWords(FileResource fr) {\n        int nWords = countWordsInFile(fr);\n        String[] fileWords = new String[nWords + 1];\n        int i = 0;\n        for (String s : fr.words()) {\n            fileWords[i] = s;\n            i++;\n            System.out.println(&quot;fileWords: &quot; + i + &quot; word: &quot; + fileWords[i - 1]);\n        }\n        return fileWords;\n    }\n\n    private void testCollectWords() {\n        FileResource fr = new FileResource();\n        String[] wordCollection = collectWords(fr);\n        System.out.println(&quot;Word collection: &quot; + java.util.Arrays.toString(wordCollection));\n    }\n\n    public static void main(String[] args) {\n        WordLengths wordLengths = new WordLengths();\n        wordLengths.testCollectWords();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24362166,"reputation":29,"user_id":18296355,"display_name":"NotReallyOliverTwist"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72067939,"answer_count":1,"score":0,"last_activity_date":1651316636,"creation_date":1651313869,"question_id":72067602,"body_markdown":"So I cannot seem to figure out why I am unable to assign the new values to the String[] fileWords in my collectWords method. If i do it outside of the for loop.\r\n\r\nSay fileWords[1] = &quot;Hello&quot;, this works. However the same type of assignment in my for loop does not. This ultimately ensures i run into a null pointer exception (Code may have the odd little syntax error as I am still testing some of the methods).\r\n\r\nTo clarify this is a homework assignment and we have to use standard arrays as that is the instruction (Memory allocation related practice).\r\n\r\nBasically what the code does it grab words from a txt file and must then count the number of words of n length and add it to the array. The length of the words is supposed to be correlated to the index number. Personally feels like there will be a lot array null values but hey this is what we have been instructed to do.\r\n\r\nCode:\r\n\r\n    import edu.duke.*;\r\n    import org.apache.commons.csv.*;\r\n    import java.util.*;\r\n    import java.io.*;\r\n\r\n    public class WordLengths{\r\n        public static void main(String args[]){\r\n                WordLengths wordLengths = new WordLengths();\r\n                wordLengths.testCountWordLengths();\r\n        }\r\n        \r\n        private Integer countWordsInFile(FileResource fr){\r\n                int nWords = 0;\r\n                for(String s : fr.words())\r\n                {\r\n                        nWords++;\r\n                }\r\n                System.out.println(&quot;Number of words in file: &quot;+ nWords);\r\n                return nWords;\r\n        }\r\n        private String[] collectWords(FileResource fr)\r\n        {\r\n                int nWords = countWordsInFile(fr);\r\n                String[] fileWords = new String[nWords+1];\r\n                int i = 0;\r\n                for(String s : fr.words())\r\n                {\r\n                        fileWords[i] = s;\r\n                        i++;\r\n                        System.out.println(&quot;fileWords: &quot;+i+ &quot; word: &quot; + fileWords[i]);\r\n                }\r\n                return fileWords;\r\n        }\r\n        private void testCollectWords(){\r\n                FileResource fr = new FileResource();\r\n                String[] wordCollection = collectWords(fr);\r\n                System.out.println(&quot;Word collection: &quot;+wordCollection);\r\n        }\r\n    }\r\n\r\nExample of .txt file input:\r\n\r\n    THE TRAGEDY OF JULIUS CAESAR\r\n\r\n    by William Shakespeare\r\n\r\n\r\n\r\n    Dramatis Personae\r\n\r\n    JULIUS CAESAR, Roman statesman and general\r\n    OCTAVIUS, Triumvir after Caesar&#39;s death, later Augustus Caesar,\r\n    first emperor of Rome\r\n    MARK ANTONY, general and friend of Caesar, a Triumvir after his death\r\n    LEPIDUS, third member of the Triumvirate\r\n    MARCUS BRUTUS, leader of the conspiracy against Caesar\r\n    CASSIUS, instigator of the conspiracy\r\n    CASCA,          conspirator against Caesar\r\n    TREBONIUS,           &quot;          &quot;     &quot;\r\n    CAIUS LIGARIUS,      &quot;          &quot;     &quot;\r\n    DECIUS BRUTUS,       &quot;          &quot;     &quot;\r\n    METELLUS CIMBER,     &quot;          &quot;     &quot;\r\n    CINNA,               &quot;          &quot;     &quot;\r\n    CALPURNIA, wife of Caesar\r\n    PORTIA, wife of Brutus\r\n    CICERO,     senator\r\n    POPILIUS,      &quot;\r\n    POPILIUS LENA, &quot;\r\n    FLAVIUS, tribune\r\n    MARULLUS, tribune\r\n    CATO,     supportor of Brutus\r\n    LUCILIUS,     &quot;     &quot;    &quot;\r\n    TITINIUS,     &quot;     &quot;    &quot;\r\n    MESSALA,      &quot;     &quot;    &quot;\r\n    VOLUMNIUS,    &quot;     &quot;    &quot;\r\n    ARTEMIDORUS, a teacher of rhetoric\r\n    CINNA, a poet\r\n    VARRO,     servant to Brutus\r\n    CLITUS,       &quot;    &quot;     &quot;\r\n\r\nTo clarify my current algo does not accomodate for words that are next to , &quot; and so forth (baring words such as isn&#39;t, etc). \r\n\r\nAny suggestions would be great. Additionally any alternative recommendations for values I can assign to the index numbers that end up having no words of n length. The code will explain why there would be 0 as values (Must still add that part but cannot get it to assign any values right now for clarity).\r\n\r\nThanks.","title":"Assigning values to initialised array error","body":"<p>So I cannot seem to figure out why I am unable to assign the new values to the String[] fileWords in my collectWords method. If i do it outside of the for loop.</p>\n<p>Say fileWords[1] = &quot;Hello&quot;, this works. However the same type of assignment in my for loop does not. This ultimately ensures i run into a null pointer exception (Code may have the odd little syntax error as I am still testing some of the methods).</p>\n<p>To clarify this is a homework assignment and we have to use standard arrays as that is the instruction (Memory allocation related practice).</p>\n<p>Basically what the code does it grab words from a txt file and must then count the number of words of n length and add it to the array. The length of the words is supposed to be correlated to the index number. Personally feels like there will be a lot array null values but hey this is what we have been instructed to do.</p>\n<p>Code:</p>\n<pre><code>import edu.duke.*;\nimport org.apache.commons.csv.*;\nimport java.util.*;\nimport java.io.*;\n\npublic class WordLengths{\n    public static void main(String args[]){\n            WordLengths wordLengths = new WordLengths();\n            wordLengths.testCountWordLengths();\n    }\n    \n    private Integer countWordsInFile(FileResource fr){\n            int nWords = 0;\n            for(String s : fr.words())\n            {\n                    nWords++;\n            }\n            System.out.println(&quot;Number of words in file: &quot;+ nWords);\n            return nWords;\n    }\n    private String[] collectWords(FileResource fr)\n    {\n            int nWords = countWordsInFile(fr);\n            String[] fileWords = new String[nWords+1];\n            int i = 0;\n            for(String s : fr.words())\n            {\n                    fileWords[i] = s;\n                    i++;\n                    System.out.println(&quot;fileWords: &quot;+i+ &quot; word: &quot; + fileWords[i]);\n            }\n            return fileWords;\n    }\n    private void testCollectWords(){\n            FileResource fr = new FileResource();\n            String[] wordCollection = collectWords(fr);\n            System.out.println(&quot;Word collection: &quot;+wordCollection);\n    }\n}\n</code></pre>\n<p>Example of .txt file input:</p>\n<pre><code>THE TRAGEDY OF JULIUS CAESAR\n\nby William Shakespeare\n\n\n\nDramatis Personae\n\nJULIUS CAESAR, Roman statesman and general\nOCTAVIUS, Triumvir after Caesar's death, later Augustus Caesar,\nfirst emperor of Rome\nMARK ANTONY, general and friend of Caesar, a Triumvir after his death\nLEPIDUS, third member of the Triumvirate\nMARCUS BRUTUS, leader of the conspiracy against Caesar\nCASSIUS, instigator of the conspiracy\nCASCA,          conspirator against Caesar\nTREBONIUS,           &quot;          &quot;     &quot;\nCAIUS LIGARIUS,      &quot;          &quot;     &quot;\nDECIUS BRUTUS,       &quot;          &quot;     &quot;\nMETELLUS CIMBER,     &quot;          &quot;     &quot;\nCINNA,               &quot;          &quot;     &quot;\nCALPURNIA, wife of Caesar\nPORTIA, wife of Brutus\nCICERO,     senator\nPOPILIUS,      &quot;\nPOPILIUS LENA, &quot;\nFLAVIUS, tribune\nMARULLUS, tribune\nCATO,     supportor of Brutus\nLUCILIUS,     &quot;     &quot;    &quot;\nTITINIUS,     &quot;     &quot;    &quot;\nMESSALA,      &quot;     &quot;    &quot;\nVOLUMNIUS,    &quot;     &quot;    &quot;\nARTEMIDORUS, a teacher of rhetoric\nCINNA, a poet\nVARRO,     servant to Brutus\nCLITUS,       &quot;    &quot;     &quot;\n</code></pre>\n<p>To clarify my current algo does not accomodate for words that are next to , &quot; and so forth (baring words such as isn't, etc).</p>\n<p>Any suggestions would be great. Additionally any alternative recommendations for values I can assign to the index numbers that end up having no words of n length. The code will explain why there would be 0 as values (Must still add that part but cannot get it to assign any values right now for clarity).</p>\n<p>Thanks.</p>\n"},{"tags":["java","android-studio","unit-testing","kotlin"],"answers":[{"tags":[],"owner":{"account_id":25146678,"reputation":83,"user_id":18992358,"display_name":"George"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1651315742,"creation_date":1651315742,"answer_id":72067828,"question_id":71533041,"body_markdown":"I encountered the same issue with the NBSP sign! Spent some time to figure out what to do with the tests\r\n\r\nTL;DR: \r\n1. Pass locale in your string formatters\r\n2. For tests of locales that use NBSP instead of a space (French, Ukrainian etc.) paste the unicode version of NBSP (\\u00A0) in your test string\r\n\r\nSo\r\n\r\n    assertEquals(&quot;27,00 Br&quot;, priceToCheck)\r\n\r\nshould become\r\n\r\n    assertEquals(&quot;27,00\\u00A0Br&quot;, priceToCheck)\r\n\r\nAlso note that different locales not only have different grouping sign (comma, dot, space, NBSP etc.) but also a different cents separator (comma, dot)\r\n\r\nIt&#39;s caused by Locale&#39;s string formatting settings and involves DecimalFormat, String.format, NumberFormat.getCurrencyInstance()\r\nIf you want your string to be formatted in a stable way no matter what default locale is set, you can use either DecimalFormat(pattern of choice) or pass the Locale you want (say Locale(&quot;en&quot;,&quot;IE&quot;) for Ireland)","title":"Kotlin Android Studio: org.junit.ComparisonFailure with NBSP","body":"<p>I encountered the same issue with the NBSP sign! Spent some time to figure out what to do with the tests</p>\n<p>TL;DR:</p>\n<ol>\n<li>Pass locale in your string formatters</li>\n<li>For tests of locales that use NBSP instead of a space (French, Ukrainian etc.) paste the unicode version of NBSP (\\u00A0) in your test string</li>\n</ol>\n<p>So</p>\n<pre><code>assertEquals(&quot;27,00 Br&quot;, priceToCheck)\n</code></pre>\n<p>should become</p>\n<pre><code>assertEquals(&quot;27,00\\u00A0Br&quot;, priceToCheck)\n</code></pre>\n<p>Also note that different locales not only have different grouping sign (comma, dot, space, NBSP etc.) but also a different cents separator (comma, dot)</p>\n<p>It's caused by Locale's string formatting settings and involves DecimalFormat, String.format, NumberFormat.getCurrencyInstance()\nIf you want your string to be formatted in a stable way no matter what default locale is set, you can use either DecimalFormat(pattern of choice) or pass the Locale you want (say Locale(&quot;en&quot;,&quot;IE&quot;) for Ireland)</p>\n"}],"owner":{"account_id":20526985,"reputation":45,"user_id":15065190,"display_name":"YaMaisiukDranko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72067828,"answer_count":1,"score":4,"last_activity_date":1651315742,"creation_date":1647636560,"question_id":71533041,"body_markdown":"I have this code\r\n\r\n    @Test\r\n    fun price_twelve_cupcakes() {\r\n        val viewModel = OrderViewModel()\r\n        viewModel.setQuantity(12)\r\n        viewModel.price.observeForever {}\r\n        assertEquals(&quot;$27,00&quot;, viewModel.price.value)\r\n    }\r\n\r\nAnd I get this\r\n[Error][1]\r\n\r\nAnd This [Comparison Failure][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EfyQ0.png\r\n  [2]: https://i.stack.imgur.com/PXcgj.png","title":"Kotlin Android Studio: org.junit.ComparisonFailure with NBSP","body":"<p>I have this code</p>\n<pre><code>@Test\nfun price_twelve_cupcakes() {\n    val viewModel = OrderViewModel()\n    viewModel.setQuantity(12)\n    viewModel.price.observeForever {}\n    assertEquals(&quot;$27,00&quot;, viewModel.price.value)\n}\n</code></pre>\n<p>And I get this\n<a href=\"https://i.stack.imgur.com/EfyQ0.png\" rel=\"nofollow noreferrer\">Error</a></p>\n<p>And This <a href=\"https://i.stack.imgur.com/PXcgj.png\" rel=\"nofollow noreferrer\">Comparison Failure</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8606,"page":1386,"page_size":100}
