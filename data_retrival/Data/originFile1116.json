{"items":[{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":25802749,"reputation":1420,"user_id":19544859,"display_name":"mikyll98"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1660262935,"creation_date":1660252607,"answer_id":73326967,"question_id":73326895,"body_markdown":"AnimationTimer is **not multithreaded** and the `handle()` method runs on the **JavaFX application thread**, so I guess if you put an infinite loop or a blocking call inside `handle()`, it freezes the application. Answering your question, unless you have some behaviour that executes on other threads, it&#39;ll work fine.\r\n\r\nHere&#39;s a related thread: https://stackoverflow.com/questions/33068953/is-animationtimer-running-in-its-own-thread","title":"JavaFX AnimationTimer and Events","body":"<p>AnimationTimer is <strong>not multithreaded</strong> and the <code>handle()</code> method runs on the <strong>JavaFX application thread</strong>, so I guess if you put an infinite loop or a blocking call inside <code>handle()</code>, it freezes the application. Answering your question, unless you have some behaviour that executes on other threads, it'll work fine.</p>\n<p>Here's a related thread: <a href=\"https://stackoverflow.com/questions/33068953/is-animationtimer-running-in-its-own-thread\">Is AnimationTimer running in its own thread?</a></p>\n"},{"tags":[],"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660253134,"creation_date":1660253134,"answer_id":73327044,"question_id":73326895,"body_markdown":"You can add the events to a queue and process that queue first in your animation timer. This should avoid anytime of concurrency or race condition issues you may be concerned about without hurting anything if they do not actually exist. \r\n\r\n    animator = new AnimationTimer(){\r\n      @Override\r\n      public void handle(long now) {\r\n        //Process\r\n        Game.processEvents();\r\n        // Update\r\n        Game.simulationStep();\r\n        // Render\r\n        Game.render();\r\n        }\r\n      }\r\n    };\r\n    animator.start();","title":"JavaFX AnimationTimer and Events","body":"<p>You can add the events to a queue and process that queue first in your animation timer. This should avoid anytime of concurrency or race condition issues you may be concerned about without hurting anything if they do not actually exist.</p>\n<pre><code>animator = new AnimationTimer(){\n  @Override\n  public void handle(long now) {\n    //Process\n    Game.processEvents();\n    // Update\n    Game.simulationStep();\n    // Render\n    Game.render();\n    }\n  }\n};\nanimator.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1660266749,"creation_date":1660254226,"answer_id":73327169,"question_id":73326895,"body_markdown":"The answer depends not on the code you provide but on your other code. \r\n\r\nIf the code is responding to events originating in the JavaFX framework (like a button press), then you don&#39;t need to worry, because those events are also on the JavaFX thread, the same as the animation timer. \r\n\r\nYou only need to worry if the event originates on a different thread outside of JavaFX.  For example, an incoming chat message from a network chat client, or an AI loop that you are running on your own thread. \r\n\r\nAlso, you shouldn&#39;t use property listeners and bindings that might change values on another thread.  For example, don&#39;t modify from another thread an observable list that is used to back a list view.  The internal implementation of the observer and binding features assumes that the properties and listeners are all used on a single thread.  Again, that is only something to worry about if your code is actually multi-threaded.\r\n\r\nIf you do really have multi-threaded code with events originating from other threads, use [JavaFX concurrency][1], e.g. [`Task`][2] and/or [`Platform.runLater`][3].  Possibly in conjunction with a queue as in [Seph&#39;s answer](https://stackoverflow.com/a/73327044/1155209) as demonstrated (somewhat), by this [multi-threaded JavaFX logging framework using a queue](https://stackoverflow.com/questions/24116858/most-efficient-way-to-log-messages-to-javafx-textarea-via-threads-with-simple-cu).  However, usually a separate queue is not required, because `Platform.runLater` will add runnables to a built-in queue that JavaFX maintains for stuff to be run on the JavaFX thread later.\r\n\r\nFor your specific concern:\r\n\r\n&gt; I have a List of GameObjects which can be manipulated by the event (removing GameObjects by button click) but also by the logic in simulationStep. It could be problematic, if the event removes GameObjects from that List, while simulationStep() is doing something with the Objects in the List.\r\n\r\nNo.  It will not be problematic.  Everything is running on a single thread, the GameObjects *cannot* be removed by button click while `simulationStep()` is running, because the click handler and the simulationStep cannot be running at the same time.\r\n\r\nA good summary of different options for executing periodic events and when and when not to involve multiple threads, plus how to handle them if they are used, is in Slaw&#39;s answer to:\r\n\r\n * https://stackoverflow.com/questions/9966136/javafx-periodic-background-task\r\n\r\nI advise reading the [JavaFX architecture overview sections on the Glass Windowing Toolkit, Threads, and Pulse][4] (twice). The document explains how the JavaFX system works with respect to threading, event processing, and pulse handling (the AnimationTimer handle method is triggered by a pulse).\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm\r\n  [2]: https://openjfx.io/javadoc/18/javafx.graphics/javafx/concurrent/Task.html\r\n  [3]: https://openjfx.io/javadoc/18/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)\r\n  [4]: https://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-architecture.htm#A1107438","title":"JavaFX AnimationTimer and Events","body":"<p>The answer depends not on the code you provide but on your other code.</p>\n<p>If the code is responding to events originating in the JavaFX framework (like a button press), then you don't need to worry, because those events are also on the JavaFX thread, the same as the animation timer.</p>\n<p>You only need to worry if the event originates on a different thread outside of JavaFX.  For example, an incoming chat message from a network chat client, or an AI loop that you are running on your own thread.</p>\n<p>Also, you shouldn't use property listeners and bindings that might change values on another thread.  For example, don't modify from another thread an observable list that is used to back a list view.  The internal implementation of the observer and binding features assumes that the properties and listeners are all used on a single thread.  Again, that is only something to worry about if your code is actually multi-threaded.</p>\n<p>If you do really have multi-threaded code with events originating from other threads, use <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm\" rel=\"noreferrer\">JavaFX concurrency</a>, e.g. <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/concurrent/Task.html\" rel=\"noreferrer\"><code>Task</code></a> and/or <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)\" rel=\"noreferrer\"><code>Platform.runLater</code></a>.  Possibly in conjunction with a queue as in <a href=\"https://stackoverflow.com/a/73327044/1155209\">Seph's answer</a> as demonstrated (somewhat), by this <a href=\"https://stackoverflow.com/questions/24116858/most-efficient-way-to-log-messages-to-javafx-textarea-via-threads-with-simple-cu\">multi-threaded JavaFX logging framework using a queue</a>.  However, usually a separate queue is not required, because <code>Platform.runLater</code> will add runnables to a built-in queue that JavaFX maintains for stuff to be run on the JavaFX thread later.</p>\n<p>For your specific concern:</p>\n<blockquote>\n<p>I have a List of GameObjects which can be manipulated by the event (removing GameObjects by button click) but also by the logic in simulationStep. It could be problematic, if the event removes GameObjects from that List, while simulationStep() is doing something with the Objects in the List.</p>\n</blockquote>\n<p>No.  It will not be problematic.  Everything is running on a single thread, the GameObjects <em>cannot</em> be removed by button click while <code>simulationStep()</code> is running, because the click handler and the simulationStep cannot be running at the same time.</p>\n<p>A good summary of different options for executing periodic events and when and when not to involve multiple threads, plus how to handle them if they are used, is in Slaw's answer to:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/9966136/javafx-periodic-background-task\">JavaFX periodic background task</a></li>\n</ul>\n<p>I advise reading the <a href=\"https://docs.oracle.com/javase/8/javafx/get-started-tutorial/jfx-architecture.htm#A1107438\" rel=\"noreferrer\">JavaFX architecture overview sections on the Glass Windowing Toolkit, Threads, and Pulse</a> (twice). The document explains how the JavaFX system works with respect to threading, event processing, and pulse handling (the AnimationTimer handle method is triggered by a pulse).</p>\n"}],"owner":{"account_id":25480234,"reputation":73,"user_id":19276721,"display_name":"ILikeTrains"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73327169,"answer_count":3,"score":1,"last_activity_date":1660266749,"creation_date":1660251991,"question_id":73326895,"body_markdown":"I have an AnimationTimer, that I use as an infinite loop like this:\r\n```\r\nanimator = new AnimationTimer(){\r\n  @Override\r\n  public void handle(long now) {\r\n    // Update\r\n    Game.simulationStep();\r\n    // Render\r\n    Game.render();\r\n    }\r\n  }\r\n};\r\nanimator.start();\r\n```\r\n\r\nThe handle function is called 60 times a second, updates a small Game and renders some views in a scenegraph.\r\n\r\nWhat I&#180;m asking myself is, if when I have Events like a button click, will the code of the event be executed after a loop iteration is done?\r\nOr is it multithreaded?\r\n\r\nThe thing is, I have a List of GameObjects which can be manipulated by the event (removing GameObjects by button click) but also by the logic in simulationStep. \r\nIt could be problematic, if the event removes GameObjects from that List, while simulationStep() is doing something with the Objects in the List.","title":"JavaFX AnimationTimer and Events","body":"<p>I have an AnimationTimer, that I use as an infinite loop like this:</p>\n<pre><code>animator = new AnimationTimer(){\n  @Override\n  public void handle(long now) {\n    // Update\n    Game.simulationStep();\n    // Render\n    Game.render();\n    }\n  }\n};\nanimator.start();\n</code></pre>\n<p>The handle function is called 60 times a second, updates a small Game and renders some views in a scenegraph.</p>\n<p>What I´m asking myself is, if when I have Events like a button click, will the code of the event be executed after a loop iteration is done?\nOr is it multithreaded?</p>\n<p>The thing is, I have a List of GameObjects which can be manipulated by the event (removing GameObjects by button click) but also by the logic in simulationStep.\nIt could be problematic, if the event removes GameObjects from that List, while simulationStep() is doing something with the Objects in the List.</p>\n"},{"tags":["java","javafx","scenebuilder"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660256431,"creation_date":1660256431,"answer_id":73327432,"question_id":73327312,"body_markdown":"You need to attach the style sheet to the fxml element for it to be applied to the FXML viewed in the SceneBuilder design view.\r\n\r\nThere is a stylesheet field in the SceneBuilder property sheet view (it is actually in the image from your question).  Select the root element and click the + symbol to select the CSS style sheet to apply.  The style sheet will be applied to the root and all child elements. \r\n\r\nOr you can use `Preview | Scene Style Sheets | Add Style Sheet...` to apply style sheets when you use the preview view. \r\n\r\nYou don&#39;t need to (and probably should not) set the style attribute in Scene Builder if you have a CSS file. The styles will be applied from the CSS files according to their selectors. Instead sets ids and style classes in scene builder and attach the stylesheet.  \r\n\r\nYour id is `base`, so if the id of the node is set to `base`, the selector will find it. I prefer working with style classes rather than ids but ids will work too. \r\n\r\nYou are referencing the image directly by name without relative path usage. So, as long as the image is in the same location as the fxml file and the style sheet is correctly applied as outlined above, the image defined in CSS should display in SceneBuilder.\r\n\r\nI think that SceneBuilder automatically monitors the file system for changes, so if you change the FXML or CSS file externally, it will automatically reload them (notifying you of some, but not all, errors that may occur on reload).\r\n\r\nIf things still aren&#39;t working, see the [Eden guide on where to put resources][1] in JavaFX apps and try following their recommended approach (you might already be doing that, so locating the image might not be your issue). \r\n\r\n  [1]: https://edencoding.com/where-to-put-resource-files-in-javafx/","title":"JavaFX: Can not set -fx-background-image from SceneBuilder","body":"<p>You need to attach the style sheet to the fxml element for it to be applied to the FXML viewed in the SceneBuilder design view.</p>\n<p>There is a stylesheet field in the SceneBuilder property sheet view (it is actually in the image from your question).  Select the root element and click the + symbol to select the CSS style sheet to apply.  The style sheet will be applied to the root and all child elements.</p>\n<p>Or you can use <code>Preview | Scene Style Sheets | Add Style Sheet...</code> to apply style sheets when you use the preview view.</p>\n<p>You don't need to (and probably should not) set the style attribute in Scene Builder if you have a CSS file. The styles will be applied from the CSS files according to their selectors. Instead sets ids and style classes in scene builder and attach the stylesheet.</p>\n<p>Your id is <code>base</code>, so if the id of the node is set to <code>base</code>, the selector will find it. I prefer working with style classes rather than ids but ids will work too.</p>\n<p>You are referencing the image directly by name without relative path usage. So, as long as the image is in the same location as the fxml file and the style sheet is correctly applied as outlined above, the image defined in CSS should display in SceneBuilder.</p>\n<p>I think that SceneBuilder automatically monitors the file system for changes, so if you change the FXML or CSS file externally, it will automatically reload them (notifying you of some, but not all, errors that may occur on reload).</p>\n<p>If things still aren't working, see the <a href=\"https://edencoding.com/where-to-put-resource-files-in-javafx/\" rel=\"nofollow noreferrer\">Eden guide on where to put resources</a> in JavaFX apps and try following their recommended approach (you might already be doing that, so locating the image might not be your issue).</p>\n"}],"owner":{"display_name":"user19745791"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73327432,"answer_count":1,"score":1,"last_activity_date":1660266679,"creation_date":1660255393,"question_id":73327312,"body_markdown":"Could someone explain why I can&#39;t load image from field -fx-background-image inside SceneBuilder? \r\n\r\nImages for reference:\r\n- SceneBuilder [![SceneBuilder][1]][1]\r\n- [application][2]\r\n\r\nI&#39;ve found out that I can do that from a .css file, for example:\r\n\r\n    #base {\r\n      -fx-background-image: url(&quot;background.jpg&quot;);\r\n      -fx-background-size: 100% 100%;\r\n      -fx-background-position: center center;\r\n    }\r\n\r\nBut that doesn&#39;t update from inside SceneBuilder, while I would like it too.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ysG2U.png\r\n  [2]: https://i.stack.imgur.com/ugtgo.png","title":"JavaFX: Can not set -fx-background-image from SceneBuilder","body":"<p>Could someone explain why I can't load image from field -fx-background-image inside SceneBuilder?</p>\n<p>Images for reference:</p>\n<ul>\n<li>SceneBuilder <a href=\"https://i.stack.imgur.com/ysG2U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ysG2U.png\" alt=\"SceneBuilder\" /></a></li>\n<li><a href=\"https://i.stack.imgur.com/ugtgo.png\" rel=\"nofollow noreferrer\">application</a></li>\n</ul>\n<p>I've found out that I can do that from a .css file, for example:</p>\n<pre><code>#base {\n  -fx-background-image: url(&quot;background.jpg&quot;);\n  -fx-background-size: 100% 100%;\n  -fx-background-position: center center;\n}\n</code></pre>\n<p>But that doesn't update from inside SceneBuilder, while I would like it too.</p>\n"},{"tags":["java","scala","apache-spark","apache-spark-dataset"],"comments":[{"owner":{"account_id":12822272,"reputation":1463,"user_id":19625832,"display_name":"vilalabinot"},"score":0,"creation_date":1660265662,"post_id":73328095,"comment_id":129497922,"body_markdown":"This works just fine (both with timestamps and dates), are you sure the error is not occurring somewhere else? Can you post the rest of the code possibly?","body":"This works just fine (both with timestamps and dates), are you sure the error is not occurring somewhere else? Can you post the rest of the code possibly?"},{"owner":{"account_id":25746692,"reputation":11,"user_id":19499802,"display_name":"Juan Daniel Cortez Rojas"},"score":0,"creation_date":1660576684,"post_id":73328095,"comment_id":129559203,"body_markdown":"I&#39;m sure, I put shows for datasets in all the flow of the program and the sequence function throws the exception. I put that range of dates manually in database to force the exception to ocurre. Befor that instruccion its just the recolection of the data.","body":"I&#39;m sure, I put shows for datasets in all the flow of the program and the sequence function throws the exception. I put that range of dates manually in database to force the exception to ocurre. Befor that instruccion its just the recolection of the data."},{"owner":{"account_id":7765943,"reputation":3388,"user_id":5877122,"accept_rate":68,"display_name":"Benjamin"},"score":0,"creation_date":1664994917,"post_id":73328095,"comment_id":130598013,"body_markdown":"Any update on this @JuanDanielCortezRojas? I may have the same issue","body":"Any update on this @JuanDanielCortezRojas? I may have the same issue"}],"owner":{"account_id":25746692,"reputation":11,"user_id":19499802,"display_name":"Juan Daniel Cortez Rojas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660263773,"creation_date":1660263773,"question_id":73328095,"body_markdown":"good afternoon. I find myself working with scala functions for datasets, in particular with a sequence between two dates with an interval of one day, the dates are in the format &quot;yyyy-MM-dd 00:00:000&quot;, this with an interval of one day.\r\n\r\n\t\t\r\n\r\n    Dataset&lt;Row&gt; currentLetters = currentLettersDataset\r\n    \t\t\t\t.withColumn(&quot;range_dates&quot;,\r\n    \t\t\t\t\t\tfunctions.sequence(functions.col(&quot;start_date&quot;), functions.col(&quot;end_date&quot;)));\r\n\r\nThe problem is that for certain dates I am getting a java.lang.ArrayIndexOutOfBoundsException when applying said sequence\r\n\r\nThe dataset I&#39;m currently working is this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd the exception is \r\n\r\n     java.lang.ArrayIndexOutOfBoundsException: 135\r\n    \tat org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\n    \tat org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n    \tat org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:755)\r\n    \tat org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:345)\r\n    \tat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:898)\r\n    \tat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:898)\r\n    \tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n    \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)\r\n    \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:337)\r\n    \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n    \tat org.apache.spark.scheduler.Task.run(Task.scala:131)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:497)\r\n    \tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1439)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:500)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\nI can see the relation of the index with the days between the dates, but i don&#39;t know how to solve it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VD4oa.png","title":"java.lang.ArrayIndexOutOfBoundsException in scala spark function in dataset","body":"<p>good afternoon. I find myself working with scala functions for datasets, in particular with a sequence between two dates with an interval of one day, the dates are in the format &quot;yyyy-MM-dd 00:00:000&quot;, this with an interval of one day.</p>\n<pre><code>Dataset&lt;Row&gt; currentLetters = currentLettersDataset\n                .withColumn(&quot;range_dates&quot;,\n                        functions.sequence(functions.col(&quot;start_date&quot;), functions.col(&quot;end_date&quot;)));\n</code></pre>\n<p>The problem is that for certain dates I am getting a java.lang.ArrayIndexOutOfBoundsException when applying said sequence</p>\n<p>The dataset I'm currently working is this</p>\n<p><a href=\"https://i.stack.imgur.com/VD4oa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VD4oa.png\" alt=\"enter image description here\" /></a></p>\n<p>And the exception is</p>\n<pre><code> java.lang.ArrayIndexOutOfBoundsException: 135\n    at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\n    at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n    at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:755)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:345)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:898)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:898)\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:337)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:131)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:497)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1439)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:500)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>I can see the relation of the index with the days between the dates, but i don't know how to solve it.</p>\n"},{"tags":["java","list","spring-boot","gradle","compiler-errors"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1598120276,"post_id":63534298,"comment_id":112356791,"body_markdown":"It fails because you set the sourceCompatibility to 1.8...","body":"It fails because you set the sourceCompatibility to 1.8..."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1598086418,"creation_date":1598086418,"answer_id":63534321,"question_id":63534298,"body_markdown":"`List.of` isn&#39;t a Java 9 feature, it&#39;s a method that was added in JDK 9. If you&#39;re using JDK 8, it just doesn&#39;t contain this method, and thus can&#39;t compile against it. \r\n\r\nIn short - use a newer JDK (and set the compatibility levels to 9 while you&#39;re at it, so you don&#39;t create a mix of valid Java 8 program that can only work with a newer JDK).","title":"List.of gives error: cannot find symbol error","body":"<p><code>List.of</code> isn't a Java 9 feature, it's a method that was added in JDK 9. If you're using JDK 8, it just doesn't contain this method, and thus can't compile against it.</p>\n<p>In short - use a newer JDK (and set the compatibility levels to 9 while you're at it, so you don't create a mix of valid Java 8 program that can only work with a newer JDK).</p>\n"},{"tags":[],"owner":{"account_id":18853981,"reputation":787,"user_id":13752421,"display_name":"Daly"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660263670,"creation_date":1660263670,"answer_id":73328087,"question_id":63534298,"body_markdown":"A quick fix is to replace `List.of` with `Arrays.asList` which is in JDK 8.\r\n\r\nNote these methods are not quite identical, `List.of` returns an immutable list whereas `Arrays.asList` returns a mutable list. There are a few other differences listed here:\r\n\r\n https://stackoverflow.com/questions/46579074/what-is-the-difference-between-list-of-and-arrays-aslist","title":"List.of gives error: cannot find symbol error","body":"<p>A quick fix is to replace <code>List.of</code> with <code>Arrays.asList</code> which is in JDK 8.</p>\n<p>Note these methods are not quite identical, <code>List.of</code> returns an immutable list whereas <code>Arrays.asList</code> returns a mutable list. There are a few other differences listed here:</p>\n<p><a href=\"https://stackoverflow.com/questions/46579074/what-is-the-difference-between-list-of-and-arrays-aslist\">What is the difference between List.of and Arrays.asList?</a></p>\n"}],"owner":{"account_id":6097915,"reputation":1388,"user_id":4758148,"accept_rate":31,"display_name":"hafiz ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10218,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":63534321,"answer_count":2,"score":10,"last_activity_date":1660263670,"creation_date":1598086260,"question_id":63534298,"body_markdown":"I am using springboot with gradle and I am trying to execute below code in the controller.\r\n\r\n    \r\n    List&lt;String&gt; planets\r\n        = List.of(&quot;Mercury&quot;, &quot;Venus&quot;, &quot;Earth&quot;, &quot;Mars&quot;,\r\n        &quot;Jupiter&quot;, &quot;Saturn&quot;, &quot;Uranus&quot;, &quot;Neptune&quot;);\r\n\r\nOn compiling I get the following error\r\n\r\n&gt; error: cannot find symbol\r\n&gt;         = List.of(&quot;Mercury&quot;, &quot;Venus&quot;, &quot;Earth&quot;, &quot;Mars&quot;,\r\n&gt;               ^   symbol:   method of(String,String,String,String,String,String,String,String)  \r\n&gt; location: interface List\r\n\r\nmy gradle file has \r\n\r\n&gt; sourceCompatibility = &#39;1.8&#39;\r\n\r\n\r\nI do understand that its a java 9 feature but unsure why would it fail on compile ","title":"List.of gives error: cannot find symbol error","body":"<p>I am using springboot with gradle and I am trying to execute below code in the controller.</p>\n<pre><code>List&lt;String&gt; planets\n    = List.of(&quot;Mercury&quot;, &quot;Venus&quot;, &quot;Earth&quot;, &quot;Mars&quot;,\n    &quot;Jupiter&quot;, &quot;Saturn&quot;, &quot;Uranus&quot;, &quot;Neptune&quot;);\n</code></pre>\n<p>On compiling I get the following error</p>\n<blockquote>\n<p>error: cannot find symbol\n= List.of(&quot;Mercury&quot;, &quot;Venus&quot;, &quot;Earth&quot;, &quot;Mars&quot;,\n^   symbol:   method of(String,String,String,String,String,String,String,String)<br />\nlocation: interface List</p>\n</blockquote>\n<p>my gradle file has</p>\n<blockquote>\n<p>sourceCompatibility = '1.8'</p>\n</blockquote>\n<p>I do understand that its a java 9 feature but unsure why would it fail on compile</p>\n"},{"tags":["java","singleton","scheduler"],"answers":[{"tags":[],"owner":{"account_id":26025698,"reputation":1,"user_id":19732646,"display_name":"JavaTryouts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660262833,"creation_date":1660156206,"answer_id":73311103,"question_id":73301932,"body_markdown":"Thats wasnt a singleton blocking problem, all i needed to do was the increasing of taskScheduling pool size, by default size = 1. Resolved by adding parameter **spring.task.scheduling.pool.size=2** to application.properties","title":"How avoid blocking singleton service by 2 schedulers beans","body":"<p>Thats wasnt a singleton blocking problem, all i needed to do was the increasing of taskScheduling pool size, by default size = 1. Resolved by adding parameter <strong>spring.task.scheduling.pool.size=2</strong> to application.properties</p>\n"}],"owner":{"account_id":26025698,"reputation":1,"user_id":19732646,"display_name":"JavaTryouts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660262833,"creation_date":1660114739,"question_id":73301932,"body_markdown":"having 2 schedulers, both of them using 1 service.\r\nI want to use them at the same time, but shedulers block each other. How can i avoid this blocking? \r\n\r\nSchedulerA works with queue in main thread, SchedulerB works with queue in ThreadPool, and i need to wait for ending of this work, before run taskB again\r\n\r\n**Scheduler A:**\r\n\r\n    @Service \r\n    public class SchedulerA {\r\n    \r\n        private SomeService service;\r\n    \r\n        @Scheduled(fixedDelay = 2 * 60 * 1000)\r\n        public void taskA() {\r\n            service.methodA();\r\n        }\r\n    }\r\n\r\n**Scheduler B:**\r\n\r\n    @Service\r\n    public class SchedulerB {\r\n    \r\n        private SomeService service;\r\n    \r\n        @Scheduled(fixedDelay = 2 * 60 * 1000, initialDelay = 1 * 1000)\r\n        public void taskA() {\r\n            List&lt;Future&lt;?&gt;&gt; futures = service.methodB();\r\n            //waiting of ending of all tasks\r\n            for (Future&lt;?&gt; future : futures) {\r\n                try {\r\n                    future.get();\r\n                } catch (Exception e) {\r\n                    log.error(&quot;Error while awaiting tasks termination&quot;, e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**SomeService for both Schedulers:**\r\n\r\n    @Service\r\n    public class SomeService {\r\n    \r\n        SomeRepository repository;\r\n        ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n    \r\n        public void methodA() {\r\n            List&lt;Task&gt; tasks = repository.findAllByStatus(&quot;readyForTaskA&quot;);\r\n            tasks.forEach(task -&gt; runTaskA(task));\r\n        }\r\n    \r\n        public List&lt;Future&lt;?&gt;&gt; methodB() {\r\n            List&lt;Task&gt; tasks = repository.findAllByStatus(&quot;readyForTaskB&quot;);\r\n            return tasks.stream()\r\n                    .map(task -&gt; executorService.submit(() -&gt;  runTaskB(task)))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        private void runTaskA(Task task){\r\n            //do something\r\n        }\r\n    \r\n        private void runTaskB(Task task) {\r\n            //do something\r\n        }\r\n    }\r\n\r\n\r\n","title":"How avoid blocking singleton service by 2 schedulers beans","body":"<p>having 2 schedulers, both of them using 1 service.\nI want to use them at the same time, but shedulers block each other. How can i avoid this blocking?</p>\n<p>SchedulerA works with queue in main thread, SchedulerB works with queue in ThreadPool, and i need to wait for ending of this work, before run taskB again</p>\n<p><strong>Scheduler A:</strong></p>\n<pre><code>@Service \npublic class SchedulerA {\n\n    private SomeService service;\n\n    @Scheduled(fixedDelay = 2 * 60 * 1000)\n    public void taskA() {\n        service.methodA();\n    }\n}\n</code></pre>\n<p><strong>Scheduler B:</strong></p>\n<pre><code>@Service\npublic class SchedulerB {\n\n    private SomeService service;\n\n    @Scheduled(fixedDelay = 2 * 60 * 1000, initialDelay = 1 * 1000)\n    public void taskA() {\n        List&lt;Future&lt;?&gt;&gt; futures = service.methodB();\n        //waiting of ending of all tasks\n        for (Future&lt;?&gt; future : futures) {\n            try {\n                future.get();\n            } catch (Exception e) {\n                log.error(&quot;Error while awaiting tasks termination&quot;, e);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>SomeService for both Schedulers:</strong></p>\n<pre><code>@Service\npublic class SomeService {\n\n    SomeRepository repository;\n    ExecutorService executorService = Executors.newFixedThreadPool(10);\n\n    public void methodA() {\n        List&lt;Task&gt; tasks = repository.findAllByStatus(&quot;readyForTaskA&quot;);\n        tasks.forEach(task -&gt; runTaskA(task));\n    }\n\n    public List&lt;Future&lt;?&gt;&gt; methodB() {\n        List&lt;Task&gt; tasks = repository.findAllByStatus(&quot;readyForTaskB&quot;);\n        return tasks.stream()\n                .map(task -&gt; executorService.submit(() -&gt;  runTaskB(task)))\n                .collect(Collectors.toList());\n    }\n\n    private void runTaskA(Task task){\n        //do something\n    }\n\n    private void runTaskB(Task task) {\n        //do something\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","sorting"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1660289721,"post_id":73325605,"comment_id":129502095,"body_markdown":"Write some tests and compare the output of both implementations. If both pass your tests and create the same output, take which one you like more. If one fails a test or outputs differ, start debugging.","body":"Write some tests and compare the output of both implementations. If both pass your tests and create the same output, take which one you like more. If one fails a test or outputs differ, start debugging."}],"answers":[{"tags":[],"owner":{"account_id":100225,"reputation":43187,"user_id":270287,"accept_rate":89,"display_name":"IVlad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660262819,"creation_date":1660262337,"answer_id":73327985,"question_id":73325605,"body_markdown":"I think most of it comes down to personal preference.\r\n\r\n&gt;why here we have count[input[i].charAt(d) + 1] ++; rather than count[input[i].charAt(d)] ++; ?\r\n\r\nTheir `count[x+1]` means, after the second inner loop, `how many times character x and any character prior to it appear`. For example, we might have the initial counts:\r\n\r\n    count[0] = 0\r\n    count[1] = 2\r\n    count[2] = 3\r\n \r\nThen after the second for loop we will have:\r\n\r\n    count[0] = 0\r\n    count[1] = 2\r\n    count[2] = 5\r\n\r\nThis means that character 0 takes the positions between `count[0]` and `count[1]`, character 1 takes the positions between `count[1]` and `count[2]` and in general, character x takes the positions between `count[x]` and `count[x+1]` This allows them to do this:\r\n\r\n    for(int i=0; i&lt;n; i++) {\r\n        aux[count[input[i].charAt(d)]++] = input[i];\r\n    }\r\n\r\nWhich is a nice one liner that ties everything together neatly IMO, because `count[x]` changes to mean `at what position should we next place character x in our sorted array`.\r\n\r\nYour implementation works just as well and can also be turned into a one liner:\r\n\r\n     for (int i = len - 1; i &gt;= 0; i--) {\r\n         arrSorted[--count[arr[i].charAt(d)]] = arr[i];\r\n     }\r\n\r\nIf you think it&#39;s simpler then you can use it, I don&#39;t see any downsides (assuming you&#39;ve tested it well enough). It&#39;s a pretty complex algorithm and once you understand one way of doing it, you tend to stick with it. This is just the implementation that stuck I guess. Simplicity is highly subjective here, personally I think your version is just as complex. ","title":"Why don&#39;t we redistribute inversely in this implementation of Radix sort of strings","body":"<p>I think most of it comes down to personal preference.</p>\n<blockquote>\n<p>why here we have count[input[i].charAt(d) + 1] ++; rather than count[input[i].charAt(d)] ++; ?</p>\n</blockquote>\n<p>Their <code>count[x+1]</code> means, after the second inner loop, <code>how many times character x and any character prior to it appear</code>. For example, we might have the initial counts:</p>\n<pre><code>count[0] = 0\ncount[1] = 2\ncount[2] = 3\n</code></pre>\n<p>Then after the second for loop we will have:</p>\n<pre><code>count[0] = 0\ncount[1] = 2\ncount[2] = 5\n</code></pre>\n<p>This means that character 0 takes the positions between <code>count[0]</code> and <code>count[1]</code>, character 1 takes the positions between <code>count[1]</code> and <code>count[2]</code> and in general, character x takes the positions between <code>count[x]</code> and <code>count[x+1]</code> This allows them to do this:</p>\n<pre><code>for(int i=0; i&lt;n; i++) {\n    aux[count[input[i].charAt(d)]++] = input[i];\n}\n</code></pre>\n<p>Which is a nice one liner that ties everything together neatly IMO, because <code>count[x]</code> changes to mean <code>at what position should we next place character x in our sorted array</code>.</p>\n<p>Your implementation works just as well and can also be turned into a one liner:</p>\n<pre><code> for (int i = len - 1; i &gt;= 0; i--) {\n     arrSorted[--count[arr[i].charAt(d)]] = arr[i];\n }\n</code></pre>\n<p>If you think it's simpler then you can use it, I don't see any downsides (assuming you've tested it well enough). It's a pretty complex algorithm and once you understand one way of doing it, you tend to stick with it. This is just the implementation that stuck I guess. Simplicity is highly subjective here, personally I think your version is just as complex.</p>\n"}],"owner":{"account_id":6506530,"reputation":1934,"user_id":5035236,"accept_rate":58,"display_name":"hawarden_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1660262819,"creation_date":1660244002,"question_id":73325605,"body_markdown":"I found this implementation of radix sort LSD for strings :\r\n\r\n\tpublic static void sort(String[] input, int w) {\r\n\t\tString[] aux = new String[input.length];\r\n\t\t//ascii chars\r\n\t\tint R = 256;\r\n\t\tint n = input.length;\r\n\t\t\r\n\t\tfor(int d = w-1; d &gt;= 0; d--) {\r\n\t\t\t\r\n\t\t\tint[] count = new int[R+1];\r\n\t\t\t//update the frequency at i+1 index\r\n\t\t\tfor(int i=0; i&lt;n; i++) {\r\n\t\t\t\tcount[input[i].charAt(d) + 1] ++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//transform the frequency into indices\r\n\t\t\tfor(int r=0; r&lt; R; r++) {\r\n\t\t\t\tcount[r+1] += count[r];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//redistribute\r\n\t\t\tfor(int i=0; i&lt;n; i++) {\r\n\t\t\t\taux[count[input[i].charAt(d)]++] = input[i];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor(int i=0; i&lt;n; i++) {\r\n\t\t\t\tinput[i] = aux[i];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nBut I don&#39;t understand two things :\r\n\r\n1. why here we have `count[input[i].charAt(d) + 1] ++;` rather than `count[input[i].charAt(d)] ++;` ?\r\n\r\n2. why we don&#39;t redistribute the characters inversely ? I think it&#39;s way simpler (my implementation) :\r\n\r\n        public static void sort(String[] arr, int lenStr) {\r\n        int R = 256;\r\n        int len = arr.length;\r\n        String[] arrSorted = new String[len];\r\n    \r\n        for (int d = lenStr - 1; d &gt;= 0; d--) {\r\n            // frequency count of each character\r\n            int[] count = new int[R + 1];\r\n            for (int i = 0; i &lt; len; i++) {\r\n                count[arr[i].charAt(d)]++;\r\n            }\r\n            for (int i = 1; i &lt; count.length; i++) {\r\n                count[i] += count[i - 1];\r\n            }\r\n            for (int i = len - 1; i &gt;= 0; i--) {\r\n                count[arr[i].charAt(d)]--;\r\n                arrSorted[count[arr[i].charAt(d)]] = arr[i];\r\n            }\r\n            for (int i = 0; i &lt; len; i++) {\r\n                arr[i] = arrSorted[i];\r\n            }\r\n        }\r\n    }","title":"Why don&#39;t we redistribute inversely in this implementation of Radix sort of strings","body":"<p>I found this implementation of radix sort LSD for strings :</p>\n<pre><code>public static void sort(String[] input, int w) {\n    String[] aux = new String[input.length];\n    //ascii chars\n    int R = 256;\n    int n = input.length;\n    \n    for(int d = w-1; d &gt;= 0; d--) {\n        \n        int[] count = new int[R+1];\n        //update the frequency at i+1 index\n        for(int i=0; i&lt;n; i++) {\n            count[input[i].charAt(d) + 1] ++;\n        }\n        \n        //transform the frequency into indices\n        for(int r=0; r&lt; R; r++) {\n            count[r+1] += count[r];\n        }\n        \n        //redistribute\n        for(int i=0; i&lt;n; i++) {\n            aux[count[input[i].charAt(d)]++] = input[i];\n        }\n        \n        for(int i=0; i&lt;n; i++) {\n            input[i] = aux[i];\n        }\n    }\n}\n</code></pre>\n<p>But I don't understand two things :</p>\n<ol>\n<li><p>why here we have <code>count[input[i].charAt(d) + 1] ++;</code> rather than <code>count[input[i].charAt(d)] ++;</code> ?</p>\n</li>\n<li><p>why we don't redistribute the characters inversely ? I think it's way simpler (my implementation) :</p>\n<pre><code> public static void sort(String[] arr, int lenStr) {\n int R = 256;\n int len = arr.length;\n String[] arrSorted = new String[len];\n\n for (int d = lenStr - 1; d &gt;= 0; d--) {\n     // frequency count of each character\n     int[] count = new int[R + 1];\n     for (int i = 0; i &lt; len; i++) {\n         count[arr[i].charAt(d)]++;\n     }\n     for (int i = 1; i &lt; count.length; i++) {\n         count[i] += count[i - 1];\n     }\n     for (int i = len - 1; i &gt;= 0; i--) {\n         count[arr[i].charAt(d)]--;\n         arrSorted[count[arr[i].charAt(d)]] = arr[i];\n     }\n     for (int i = 0; i &lt; len; i++) {\n         arr[i] = arrSorted[i];\n     }\n }\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n"},{"tags":["java","enums","volatile","lazy-initialization"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1660187624,"post_id":73314846,"comment_id":129475369,"body_markdown":"Can you use concurrent hashset instead entirely?","body":"Can you use concurrent hashset instead entirely?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1660187667,"post_id":73314846,"comment_id":129475378,"body_markdown":"Your code is not strictly thread-safe.  Two threads could in principle both assign to values_.  Perhaps that does not matter in this case, but the tool can&#39;t know that.","body":"Your code is not strictly thread-safe.  Two threads could in principle both assign to values_.  Perhaps that does not matter in this case, but the tool can&#39;t know that."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1660188052,"post_id":73314846,"comment_id":129475452,"body_markdown":"By the way… Do you know that: All the constants of an enum class can be obtained by calling the implicit `public static T[] values()` method of that class. (from the [Javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html)) You seem to be recreating that built-in functionality.","body":"By the way… Do you know that: All the constants of an enum class can be obtained by calling the implicit <code>public static T[] values()</code> method of that class. (from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html\" rel=\"nofollow noreferrer\">Javadoc</a>) You seem to be recreating that built-in functionality."},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1660188073,"post_id":73314846,"comment_id":129475455,"body_markdown":"@accessviolation So that I can put `@SuppressWarnings({&quot;java:S3077&quot;})` safely?","body":"@accessviolation So that I can put <code>@SuppressWarnings({&quot;java:S3077&quot;})</code> safely?"},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1660188172,"post_id":73314846,"comment_id":129475461,"body_markdown":"@BasilBourque Yes I know that `values()` makes arrays everytime on requests.","body":"@BasilBourque Yes I know that <code>values()</code> makes arrays everytime on requests."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1660188479,"post_id":73314846,"comment_id":129475515,"body_markdown":"@JinKwon - depends on your organization&#39;s standards as to what you should do.  As B. Bourque observes, why are you doing this anyway?","body":"@JinKwon - depends on your organization&#39;s standards as to what you should do.  As B. Bourque observes, why are you doing this anyway?"},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1660189196,"post_id":73314846,"comment_id":129475606,"body_markdown":"@accessviolation As commented, I want to avoid `values()` which creates an array everytime. Thanks.","body":"@accessviolation As commented, I want to avoid <code>values()</code> which creates an array everytime. Thanks."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":5,"creation_date":1660189256,"post_id":73314846,"comment_id":129475615,"body_markdown":"@JinKwon JVMs are pretty good at eliminating this array alloc, for what its worth.","body":"@JinKwon JVMs are pretty good at eliminating this array alloc, for what its worth."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":3,"creation_date":1660232437,"post_id":73314846,"comment_id":129489436,"body_markdown":"You&#39;re down the rabbit hole of premature optimization.  I suspect the laziness adds no value here.  If you need to cache (that&#39;s not obvious either), statically initialize (`static final Set&lt;MyEnum&gt; values = ...`) the field to the unmodifiable collection.","body":"You&#39;re down the rabbit hole of premature optimization.  I suspect the laziness adds no value here.  If you need to cache (that&#39;s not obvious either), statically initialize (<code>static final Set&lt;MyEnum&gt; values = ...</code>) the field to the unmodifiable collection."},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1660270140,"post_id":73314846,"comment_id":129498507,"body_markdown":"@BrianGoetz Thanks. &gt; &quot;Why, sometimes I&#39;ve believed as many as six impossible things before breakfast.&quot;","body":"@BrianGoetz Thanks. &gt; &quot;Why, sometimes I&#39;ve believed as many as six impossible things before breakfast.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1660261246,"creation_date":1660189461,"answer_id":73315039,"question_id":73314846,"body_markdown":"# `Set.of ( MyEnum.values() )`\r\n\r\nSeems much simpler to just statically feed an array from `Enum#values()` into the [`Set.of`][1] method to create an unmodifiable set.  \r\n\r\nSee this [code run live at Ideone.com][2].\r\n\r\n    enum Animal {\r\n        DOG, CAT, BIRD ;\r\n\r\n        public static final Set &lt; Animal &gt; values = Set.of ( Animal.values() ) ;  // A cached set of all enum objects.\r\n    }\r\n\r\nBeing `static` means this code runs when the class loads. So thread-safe. No need for `volatile`.\r\n\r\nBeing `final` means the reference variable cannot be changed to point to another set. The original set assigned will be the only set during the run of your app. \r\n\r\nBeing an [unmodifiable set][3], you can offer access directly to that static field rather than through a method. \r\n\r\nThe `Set.of` method is free to return an object of a concrete class of its choosing. Current or future implementations of Java may choose to use a class such as `EnumSet` for efficiency. The implementation of Java 12 utilized at Ideone.com uses the class `java.util.ImmutableCollections.SetN`, not that we really care.\r\n\r\nUsage: \r\n\r\n    Set &lt; Animal &gt; values = Animal.values ; \r\n\r\n&gt; [DOG, BIRD, CAT]\r\n\r\nYou said:\r\n\r\n&gt; lazy initialization\r\n\r\nNo need to be lazy, to delay initialization, for such a trivial amount of work as making a `Set` from the `Enum.values()` array. \r\n\r\n----------\r\n\r\n\r\nBut I do not recommend this. \r\n\r\nYour intention to cache this set seems to fall into the trap of [premature optimization][4]. See [this Comment](https://stackoverflow.com/questions/73314846/can-i-use-volatile-on-a-collection/73315039#comment129489436_73314846) by [Brian Goetz][5].\r\n\r\nProgrammers are notoriously poor at intuiting bottlenecks. And modern JVMs are some of the most highly optimized software ever built. \r\n\r\nI suggest just letting the client programmer call the usual `Enum#values()`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#of(E...)\r\n  [2]: https://ideone.com/70m1iS\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#unmodifiable\r\n  [4]: https://stackify.com/premature-optimization-evil/\r\n  [5]: https://www.linkedin.com/in/briangoetz","title":"Can I use volatile on a collection?","body":"<h1><code>Set.of ( MyEnum.values() )</code></h1>\n<p>Seems much simpler to just statically feed an array from <code>Enum#values()</code> into the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#of(E...)\" rel=\"nofollow noreferrer\"><code>Set.of</code></a> method to create an unmodifiable set.</p>\n<p>See this <a href=\"https://ideone.com/70m1iS\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<pre><code>enum Animal {\n    DOG, CAT, BIRD ;\n\n    public static final Set &lt; Animal &gt; values = Set.of ( Animal.values() ) ;  // A cached set of all enum objects.\n}\n</code></pre>\n<p>Being <code>static</code> means this code runs when the class loads. So thread-safe. No need for <code>volatile</code>.</p>\n<p>Being <code>final</code> means the reference variable cannot be changed to point to another set. The original set assigned will be the only set during the run of your app.</p>\n<p>Being an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable set</a>, you can offer access directly to that static field rather than through a method.</p>\n<p>The <code>Set.of</code> method is free to return an object of a concrete class of its choosing. Current or future implementations of Java may choose to use a class such as <code>EnumSet</code> for efficiency. The implementation of Java 12 utilized at Ideone.com uses the class <code>java.util.ImmutableCollections.SetN</code>, not that we really care.</p>\n<p>Usage:</p>\n<pre><code>Set &lt; Animal &gt; values = Animal.values ; \n</code></pre>\n<blockquote>\n<p>[DOG, BIRD, CAT]</p>\n</blockquote>\n<p>You said:</p>\n<blockquote>\n<p>lazy initialization</p>\n</blockquote>\n<p>No need to be lazy, to delay initialization, for such a trivial amount of work as making a <code>Set</code> from the <code>Enum.values()</code> array.</p>\n<hr />\n<p>But I do not recommend this.</p>\n<p>Your intention to cache this set seems to fall into the trap of <a href=\"https://stackify.com/premature-optimization-evil/\" rel=\"nofollow noreferrer\">premature optimization</a>. See <a href=\"https://stackoverflow.com/questions/73314846/can-i-use-volatile-on-a-collection/73315039#comment129489436_73314846\">this Comment</a> by <a href=\"https://www.linkedin.com/in/briangoetz\" rel=\"nofollow noreferrer\">Brian Goetz</a>.</p>\n<p>Programmers are notoriously poor at intuiting bottlenecks. And modern JVMs are some of the most highly optimized software ever built.</p>\n<p>I suggest just letting the client programmer call the usual <code>Enum#values()</code>.</p>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73315039,"answer_count":1,"score":0,"last_activity_date":1660261246,"creation_date":1660187465,"question_id":73314846,"body_markdown":"I have an enum and I think I can cache the result of `values()`.\r\n\r\n```java\r\nenum MyEnum {\r\n\r\n    SOME;\r\n\r\n    private static volatile Set&lt;MyEnum&gt; values_;\r\n\r\n    public static Set&lt;MyEnum&gt; values_() {\r\n        Set&lt;MyEnum&gt; result = values_;\r\n        if (result == null) {\r\n            values_ = result = Collections.unmodifiableSet(EnumSet.allOf(MyEnum.class));\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nI tried the lazy initialization which permits duplicate initializations.\r\n\r\nAnd the sonalint complains on `volatile Set&lt;MyEnum&gt;` part.\r\n\r\n&gt; SonaLint: Use thread-safe type; adding &quot;volatile&quot; is not enough to make this field thread-safe.\r\n\r\nhttps://rules.sonarsource.com/java/RSPEC-3077\r\n\r\nIs there any problem with my code?","title":"Can I use volatile on a collection?","body":"<p>I have an enum and I think I can cache the result of <code>values()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum MyEnum {\n\n    SOME;\n\n    private static volatile Set&lt;MyEnum&gt; values_;\n\n    public static Set&lt;MyEnum&gt; values_() {\n        Set&lt;MyEnum&gt; result = values_;\n        if (result == null) {\n            values_ = result = Collections.unmodifiableSet(EnumSet.allOf(MyEnum.class));\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>I tried the lazy initialization which permits duplicate initializations.</p>\n<p>And the sonalint complains on <code>volatile Set&lt;MyEnum&gt;</code> part.</p>\n<blockquote>\n<p>SonaLint: Use thread-safe type; adding &quot;volatile&quot; is not enough to make this field thread-safe.</p>\n</blockquote>\n<p><a href=\"https://rules.sonarsource.com/java/RSPEC-3077\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/RSPEC-3077</a></p>\n<p>Is there any problem with my code?</p>\n"},{"tags":["java","intellij-idea","code-coverage"],"answers":[{"tags":[],"owner":{"account_id":3327625,"reputation":11779,"user_id":2797275,"accept_rate":100,"display_name":"Maciej Dobrowolski"},"down_vote_count":1,"up_vote_count":245,"is_accepted":false,"score":244,"last_activity_date":1536833811,"creation_date":1438212354,"answer_id":31712814,"question_id":31712361,"body_markdown":"just close the coverage window with &quot;x&quot; button:\r\n\r\n[![closing window][1]][1]\r\n\r\n*update*: for the recent IntelliJ IDEA 2018.2.x, you can hide coverage by clicking left-hand side coverage bar (the colored one, close to line numbers) and then `Hide coverage` link:\r\n\r\n[![closing window in IDEA 2018.2.x][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/SwyKT.gif\r\n  [2]: https://i.stack.imgur.com/sW22A.gif","title":"Clear code coverage information in IntelliJ","body":"<p>just close the coverage window with \"x\" button:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SwyKT.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SwyKT.gif\" alt=\"closing window\"></a></p>\n\n<p><em>update</em>: for the recent IntelliJ IDEA 2018.2.x, you can hide coverage by clicking left-hand side coverage bar (the colored one, close to line numbers) and then <code>Hide coverage</code> link:</p>\n\n<p><a href=\"https://i.stack.imgur.com/sW22A.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sW22A.gif\" alt=\"closing window in IDEA 2018.2.x\"></a></p>\n"},{"tags":[],"owner":{"account_id":5001588,"reputation":171,"user_id":4020445,"display_name":"Kunal"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1498202097,"creation_date":1462892175,"answer_id":37142154,"question_id":31712361,"body_markdown":"Go to View &gt; Tool Windows &gt; Coverage \r\n\r\nClick on the small icon button Delete Coverage Database \r\n\r\n![Clean coverage database][1]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ilMDF.png","title":"Clear code coverage information in IntelliJ","body":"<p>Go to View > Tool Windows > Coverage </p>\n\n<p>Click on the small icon button Delete Coverage Database </p>\n\n<p><img src=\"https://i.stack.imgur.com/ilMDF.png\" alt=\"Clean coverage database\"></p>\n"},{"tags":[],"owner":{"account_id":7971710,"reputation":11005,"user_id":6016149,"display_name":"Md Ayub Ali Sarker"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1487878545,"creation_date":1487878545,"answer_id":42424636,"question_id":31712361,"body_markdown":"To view/close code coverage results\r\n =&gt; Run the desired class with coverage, select suite to show, and open class in the editor.\r\n =&gt; On the main menu, choose Analyze | Show/remove Code Coverage Data.\r\n\r\n\r\n\r\n  \r\n","title":"Clear code coverage information in IntelliJ","body":"<p>To view/close code coverage results\n => Run the desired class with coverage, select suite to show, and open class in the editor.\n => On the main menu, choose Analyze | Show/remove Code Coverage Data.</p>\n"},{"tags":[],"owner":{"account_id":3994351,"reputation":1529,"user_id":3292315,"display_name":"Abhilash Reddy"},"down_vote_count":0,"up_vote_count":123,"is_accepted":false,"score":123,"last_activity_date":1527693697,"creation_date":1503080165,"answer_id":45762746,"question_id":31712361,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nYou can just Right Click on your Project,\r\n\r\n**Goto `Analyze -&gt; Hide Coverage data`**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KlFN1.png","title":"Clear code coverage information in IntelliJ","body":"<p><a href=\"https://i.stack.imgur.com/KlFN1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KlFN1.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can just Right Click on your Project,</p>\n\n<p><strong>Goto <code>Analyze -&gt; Hide Coverage data</code></strong></p>\n"},{"tags":[],"owner":{"account_id":5574791,"reputation":933,"user_id":4418555,"display_name":"HouFeng"},"down_vote_count":0,"up_vote_count":93,"is_accepted":false,"score":93,"last_activity_date":1551080038,"creation_date":1551080038,"answer_id":54861434,"question_id":31712361,"body_markdown":"1. double **shift**;  \r\n2. input **hide**;  \r\n3. choose **Hide Coverage data**;  \r\n4. Over.","title":"Clear code coverage information in IntelliJ","body":"<ol>\n<li>double <strong>shift</strong>;  </li>\n<li>input <strong>hide</strong>;  </li>\n<li>choose <strong>Hide Coverage data</strong>;  </li>\n<li>Over.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18759980,"reputation":241,"user_id":13679137,"display_name":"Partha Sarma"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1591266189,"creation_date":1591266189,"answer_id":62192338,"question_id":31712361,"body_markdown":"After the newer update, it seems the &quot;Hide Coverage&quot; option is removed from the &quot;Analyze&quot; section. You can find the &quot;Hide Coverage&quot; option in the &quot;Run&quot; menu","title":"Clear code coverage information in IntelliJ","body":"<p>After the newer update, it seems the \"Hide Coverage\" option is removed from the \"Analyze\" section. You can find the \"Hide Coverage\" option in the \"Run\" menu</p>\n"},{"tags":[],"owner":{"account_id":4464079,"reputation":1794,"user_id":3632172,"accept_rate":86,"display_name":"parse"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1660260553,"creation_date":1660260553,"answer_id":73327833,"question_id":31712361,"body_markdown":"**2022 Update:** now it&#39;s moved to `Run -&gt; Show Coverage Data`\r\n\r\nYou can select which you want to show or hide.\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/CaaNA.png&quot; width=&quot;400&quot; /&gt;\r\n\r\n------\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/FSA6p.png&quot; width=&quot;400&quot; /&gt;\r\n\r\n","title":"Clear code coverage information in IntelliJ","body":"<p><strong>2022 Update:</strong> now it's moved to <code>Run -&gt; Show Coverage Data</code></p>\n<p>You can select which you want to show or hide.</p>\n<img src=\"https://i.stack.imgur.com/CaaNA.png\" width=\"400\" />\n<hr />\n<img src=\"https://i.stack.imgur.com/FSA6p.png\" width=\"400\" />\n"}],"owner":{"account_id":44529,"reputation":102230,"user_id":130758,"accept_rate":76,"display_name":"devoured elysium"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49346,"favorite_count":0,"down_vote_count":0,"up_vote_count":143,"answer_count":7,"score":143,"last_activity_date":1660260553,"creation_date":1438209560,"question_id":31712361,"body_markdown":"I have configured IntelliJ to paint the background of any line that has been executed at runtime to green when running in Coverage mode.\r\n\r\nAt times, I would like to just make all the files in the project revert back to their old and typical background colors, i.e, to remove all the coverage information. \r\n\r\nIs that possible? How?\r\n","title":"Clear code coverage information in IntelliJ","body":"<p>I have configured IntelliJ to paint the background of any line that has been executed at runtime to green when running in Coverage mode.</p>\n<p>At times, I would like to just make all the files in the project revert back to their old and typical background colors, i.e, to remove all the coverage information.</p>\n<p>Is that possible? How?</p>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":1202607,"reputation":1770,"user_id":1172945,"accept_rate":74,"display_name":"Tugrul"},"score":0,"creation_date":1645998764,"post_id":71096396,"comment_id":126010307,"body_markdown":"You can disable concurrent runs.","body":"You can disable concurrent runs."},{"owner":{"account_id":13252319,"reputation":333,"user_id":11813880,"display_name":"Abraham Arnold"},"score":0,"creation_date":1646251600,"post_id":71096396,"comment_id":126079826,"body_markdown":"@Tugrul But what if another user tries at the same time?","body":"@Tugrul But what if another user tries at the same time?"},{"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"score":0,"creation_date":1660275718,"post_id":71096396,"comment_id":129499232,"body_markdown":"Have a look at ShedLock https://www.baeldung.com/shedlock-spring it&#39;s got pre-built ways of preventing multiple executions. I&#39;ve not used it with Spring Batch, but have used it with Spring Boot, works perfectly.","body":"Have a look at ShedLock <a href=\"https://www.baeldung.com/shedlock-spring\" rel=\"nofollow noreferrer\">baeldung.com/shedlock-spring</a> it&#39;s got pre-built ways of preventing multiple executions. I&#39;ve not used it with Spring Batch, but have used it with Spring Boot, works perfectly."},{"owner":{"account_id":13252319,"reputation":333,"user_id":11813880,"display_name":"Abraham Arnold"},"score":0,"creation_date":1660299494,"post_id":71096396,"comment_id":129505415,"body_markdown":"I haven&#39;t tried this. But will try. Thank you for the suggestion.","body":"I haven&#39;t tried this. But will try. Thank you for the suggestion."}],"answers":[{"tags":[],"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1660260462,"creation_date":1660260462,"answer_id":73327821,"question_id":71096396,"body_markdown":"You can create a JobExecutionListener that stops the current job execution if another one is already running and configure your job with that listener...\r\n\r\n    public class SingleExecutionJobListener implements JobExecutionListener {\r\n    \r\n        private static String MATCH_ALL_PATTERN = &quot;.*&quot;;\r\n    \r\n        @Autowired\r\n        private JobExplorer jobExplorer;\r\n    \r\n        @Autowired\r\n        private JobRegistry jobRegistry;\r\n    \r\n        private String jobNamePattern = MATCH_ALL_PATTERN;\r\n    \r\n        @Override\r\n        public void beforeJob(JobExecution jobExecution) {\r\n            Collection&lt;String&gt; jobNames = jobRegistry.getJobNames();\r\n            for (String jobName : jobNames) {\r\n                if (jobName.matches(StringUtils.defaultIfBlank(jobNamePattern, MATCH_ALL_PATTERN))) {\r\n                    Set&lt;JobExecution&gt; jobExecutions = jobExplorer.findRunningJobExecutions(jobName);\r\n                    if (CollectionUtils.isNotEmpty(jobExecutions)) {\r\n                        for (JobExecution execution : jobExecutions) {\r\n                            if (execution.getJobInstance().getId().compareTo(jobExecution.getJobInstance().getId()) != 0) {\r\n                                jobExecution.stop();\r\n                                throw new IllegalStateException(jobName + &quot; instance &quot; + execution.getJobInstance().getId()\r\n                                    + &quot; is currently running. Please restart this job when &quot; + jobName + &quot; has finished.&quot;);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void afterJob(JobExecution jobExecution) {}\r\n    \r\n        public String getJobNamePattern() {\r\n            return jobNamePattern;\r\n        }\r\n    \r\n        public void setJobNamePattern(String jobNamePattern) {\r\n            this.jobNamePattern = jobNamePattern;\r\n        }\r\n    \r\n    }","title":"how to avoid starting duplicate spring batch jobs?","body":"<p>You can create a JobExecutionListener that stops the current job execution if another one is already running and configure your job with that listener...</p>\n<pre><code>public class SingleExecutionJobListener implements JobExecutionListener {\n\n    private static String MATCH_ALL_PATTERN = &quot;.*&quot;;\n\n    @Autowired\n    private JobExplorer jobExplorer;\n\n    @Autowired\n    private JobRegistry jobRegistry;\n\n    private String jobNamePattern = MATCH_ALL_PATTERN;\n\n    @Override\n    public void beforeJob(JobExecution jobExecution) {\n        Collection&lt;String&gt; jobNames = jobRegistry.getJobNames();\n        for (String jobName : jobNames) {\n            if (jobName.matches(StringUtils.defaultIfBlank(jobNamePattern, MATCH_ALL_PATTERN))) {\n                Set&lt;JobExecution&gt; jobExecutions = jobExplorer.findRunningJobExecutions(jobName);\n                if (CollectionUtils.isNotEmpty(jobExecutions)) {\n                    for (JobExecution execution : jobExecutions) {\n                        if (execution.getJobInstance().getId().compareTo(jobExecution.getJobInstance().getId()) != 0) {\n                            jobExecution.stop();\n                            throw new IllegalStateException(jobName + &quot; instance &quot; + execution.getJobInstance().getId()\n                                + &quot; is currently running. Please restart this job when &quot; + jobName + &quot; has finished.&quot;);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    @Override\n    public void afterJob(JobExecution jobExecution) {}\n\n    public String getJobNamePattern() {\n        return jobNamePattern;\n    }\n\n    public void setJobNamePattern(String jobNamePattern) {\n        this.jobNamePattern = jobNamePattern;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13252319,"reputation":333,"user_id":11813880,"display_name":"Abraham Arnold"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73327821,"answer_count":1,"score":1,"last_activity_date":1660260462,"creation_date":1644704885,"question_id":71096396,"body_markdown":"I have a spring batch process which does data reading from the database and writing to file. Basically, the scenario is, that the user can send a request and the job will start and execute the process. But the issue is if the user sends the request 5 times there will be 5 different spring jobs started and running. But those are duplicates. So is there a way that we can avoid or block creating duplicate spring jobs?","title":"how to avoid starting duplicate spring batch jobs?","body":"<p>I have a spring batch process which does data reading from the database and writing to file. Basically, the scenario is, that the user can send a request and the job will start and execute the process. But the issue is if the user sends the request 5 times there will be 5 different spring jobs started and running. But those are duplicates. So is there a way that we can avoid or block creating duplicate spring jobs?</p>\n"},{"tags":["java","byte","inputstream"],"owner":{"account_id":380750,"reputation":35396,"user_id":734984,"accept_rate":88,"display_name":"Renato Dinhani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159567,"favorite_count":0,"down_vote_count":7,"up_vote_count":81,"closed_date":1660259780,"answer_count":0,"score":74,"last_activity_date":1660259821,"creation_date":1332881242,"question_id":9897458,"body_markdown":"Is there a way to convert an array of bytes (`byte[]`) to InputStream in Java? I looked at some methods in [Apache Commons IO][1], but I found nothing.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/\r\n\r\n\r\n\r\n","title":"How can I convert byte[] to InputStream?","body":"<p>Is there a way to convert an array of bytes (<code>byte[]</code>) to InputStream in Java? I looked at some methods in <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">Apache Commons IO</a>, but I found nothing.</p>\n"},{"tags":["java","colors","robot"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1660262350,"post_id":73327703,"comment_id":129497442,"body_markdown":"1) Why would you continually create the &quot;iron&quot; color inside the loop. It can be created once outside the loop. 2) Try your logic on the &quot;capture&quot; BufferedImage instead of the image you read. A jpg losses image information when it is saved. Maybe some of the Color is lost?","body":"1) Why would you continually create the &quot;iron&quot; color inside the loop. It can be created once outside the loop. 2) Try your logic on the &quot;capture&quot; BufferedImage instead of the image you read. A jpg losses image information when it is saved. Maybe some of the Color is lost?"},{"owner":{"account_id":25857192,"reputation":17,"user_id":19590240,"display_name":"Daniel Lucas"},"score":0,"creation_date":1660264817,"post_id":73327703,"comment_id":129497803,"body_markdown":"Thank you for the knowledge, I dont know if it will solve the problem but definitely will improve the code","body":"Thank you for the knowledge, I dont know if it will solve the problem but definitely will improve the code"},{"owner":{"account_id":25857192,"reputation":17,"user_id":19590240,"display_name":"Daniel Lucas"},"score":0,"creation_date":1660273208,"post_id":73327703,"comment_id":129498924,"body_markdown":"after I started using PNG the problem is gone","body":"after I started using PNG the problem is gone"}],"owner":{"account_id":25857192,"reputation":17,"user_id":19590240,"display_name":"Daniel Lucas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660259215,"creation_date":1660259215,"question_id":73327703,"body_markdown":"It is a program designed to scam pixel by pixel and click on a pixel that I determined the RGB value however it isnt working for some colors it seems, you guys have any idea on what is happening?\r\n ```\r\n    public static void pixelColor(int r, int g, int b) throws IOException, AWTException, \r\n    InterruptedException{\r\n    Rectangle screenRect = new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());\r\n    BufferedImage capture = new Robot().createScreenCapture(screenRect);\r\n    ImageIO.write(capture, &quot;jpg&quot;, new File(&quot;F:/RCBloodRunes/RCBloodRunes/data/fon.jpg&quot;));\r\n    BufferedImage image = ImageIO.read(new File(&quot;F:/RCBloodRunes/RCBloodRunes/data/fon.jpg&quot;));\r\n    int x = 0;\r\n    \r\n    boolean flag = false;\r\n    for (int i=0; i&lt;image.getWidth()-1; i++){\r\n        if (flag){\r\n            break;\r\n        }\r\n        x += 1;\r\n        int y = 0;\r\n        for (int j=0; j&lt;image.getHeight()-1; j++){\r\n            y += 1;\r\n            int c = image.getRGB(x,y);\r\n            int  red = (c &amp; 0x00ff0000) &gt;&gt; 16;\r\n            int  green = (c &amp; 0x0000ff00) &gt;&gt; 8;\r\n            int  blue = c &amp; 0x000000ff;\r\n            Color color = new Color(red,green,blue);\r\n            Color iron = new Color(r,g,b);\r\n            \r\n            \r\n            if (color.equals(iron)){\r\n                Robot move = new Robot();\r\n                move.mouseMove(x,y);\r\n                Thread.sleep(500);\r\n                move.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n                move.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n\r\n                System.out.println(iron);\r\n                flag = true;\r\n                break;\r\n            }\r\n\r\n        }\r\n    }\r\n    \r\n    }\r\npublic static void main(String[]args) throws IOException, AWTException, InterruptedException{\r\n    pixelColor(0,185,185);\r\n}\r\n```\r\nthis 0,185,185 color for example the program isnt catching it but when i test 0,255,255 it works","title":"For some weird reason my program recognizes easier some colors and others dont, sometimes it even skips the color","body":"<p>It is a program designed to scam pixel by pixel and click on a pixel that I determined the RGB value however it isnt working for some colors it seems, you guys have any idea on what is happening?</p>\n<pre><code>   public static void pixelColor(int r, int g, int b) throws IOException, AWTException, \n   InterruptedException{\n   Rectangle screenRect = new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());\n   BufferedImage capture = new Robot().createScreenCapture(screenRect);\n   ImageIO.write(capture, &quot;jpg&quot;, new File(&quot;F:/RCBloodRunes/RCBloodRunes/data/fon.jpg&quot;));\n   BufferedImage image = ImageIO.read(new File(&quot;F:/RCBloodRunes/RCBloodRunes/data/fon.jpg&quot;));\n   int x = 0;\n   \n   boolean flag = false;\n   for (int i=0; i&lt;image.getWidth()-1; i++){\n       if (flag){\n           break;\n       }\n       x += 1;\n       int y = 0;\n       for (int j=0; j&lt;image.getHeight()-1; j++){\n           y += 1;\n           int c = image.getRGB(x,y);\n           int  red = (c &amp; 0x00ff0000) &gt;&gt; 16;\n           int  green = (c &amp; 0x0000ff00) &gt;&gt; 8;\n           int  blue = c &amp; 0x000000ff;\n           Color color = new Color(red,green,blue);\n           Color iron = new Color(r,g,b);\n           \n           \n           if (color.equals(iron)){\n               Robot move = new Robot();\n               move.mouseMove(x,y);\n               Thread.sleep(500);\n               move.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n               move.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n\n               System.out.println(iron);\n               flag = true;\n               break;\n           }\n\n       }\n   }\n   \n   }\npublic static void main(String[]args) throws IOException, AWTException, InterruptedException{\n   pixelColor(0,185,185);\n}\n</code></pre>\n<p>this 0,185,185 color for example the program isnt catching it but when i test 0,255,255 it works</p>\n"},{"tags":["java","docker","tomcat"],"comments":[{"owner":{"account_id":10276056,"reputation":293,"user_id":7582941,"display_name":"roflcopter1101"},"score":0,"creation_date":1660255742,"post_id":73327338,"comment_id":129496335,"body_markdown":"Please share with us how you launch the docker container and your Dockerfile","body":"Please share with us how you launch the docker container and your Dockerfile"},{"owner":{"account_id":24706020,"reputation":31,"user_id":18596831,"display_name":"Matvey Androsyuk"},"score":0,"creation_date":1660256293,"post_id":73327338,"comment_id":129496435,"body_markdown":"Shure, i added to the question","body":"Shure, i added to the question"}],"owner":{"account_id":24706020,"reputation":31,"user_id":18596831,"display_name":"Matvey Androsyuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660258946,"creation_date":1660255634,"question_id":73327338,"body_markdown":"there was a need to containerize my JavaEE application. I create a container for mysql, it works on logs. I create an application container, according to the logs everything works, it connects to the mysql container. But here is the problem, when I access any address in the browser, say, http://localhost:8080/login , then the following kind of problem appears, a 404 error occurs :\r\n```The origin server did not find a current representation for the target resource or is not willing to disclose that one exists. ```.\r\n\r\n\r\nWhen I go to http://localhost:8080/ , I get the page\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis confirms that the application is running in a container.\r\n\r\nWithout a container, when I run the application, everything works.\r\n\r\nHere is an example of a login page:\r\n\r\n```\r\n@WebServlet(urlPatterns = &quot;/login&quot;)\r\npublic class LoginServlet extends HttpServlet {\r\n    private AuthenticationService authenticationService;\r\n\r\n    @Override\r\n    public void init() {\r\n        this.authenticationService = (AuthenticationService) getServletContext().getAttribute(&quot;authenticationService&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        getServletContext().getRequestDispatcher(&quot;/WEB-INF/view/login-page.jsp&quot;).forward(request, response);\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        final String email = request.getParameter(&quot;email&quot;);\r\n        final String password = request.getParameter(&quot;password&quot;);\r\n\r\n        if (authenticationService.isAuthenticated(email, password)){\r\n            final HttpSession session = request.getSession();\r\n            session.setAttribute(&quot;email&quot;, email);\r\n            response.sendRedirect(&quot;/tasks-menu&quot;);\r\n        }else {\r\n            response.setContentType(&quot;text/HTML; charset=UTF-8&quot;);\r\n            response.getWriter().write(&quot;Неверный логин или пароль&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nMy Dockerfile:\r\n\r\n```\r\nFROM tomcat:9\r\n\r\nCOPY target/javaee_rest_jdbc_todo_list.war /usr/local/tomcat/webapps/\r\n\r\nCMD [&quot;catalina.sh&quot;, &quot;run&quot;]\r\n```\r\n\r\nAnd command to run the project:\r\n```\r\ndocker run -d -p 8080:8080 --name app --net javaee-net task_api\r\ndocker exec -it app /bin/bash  \r\nmv webapps webapps2\r\nmv webapps.dist/ webapps\r\nexit           \r\n```\r\n\r\nHere is the project structure\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAlso project on github: https://github.com/MatveyAndrosyukk/javaee_rest_jdbc_todo_list.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3AQFA.png\r\n  [2]: https://i.stack.imgur.com/ZCDaA.png","title":"docker tomkat in docker container not displaying pages","body":"<p>there was a need to containerize my JavaEE application. I create a container for mysql, it works on logs. I create an application container, according to the logs everything works, it connects to the mysql container. But here is the problem, when I access any address in the browser, say, http://localhost:8080/login , then the following kind of problem appears, a 404 error occurs :\n<code>The origin server did not find a current representation for the target resource or is not willing to disclose that one exists. </code>.</p>\n<p>When I go to http://localhost:8080/ , I get the page</p>\n<p><a href=\"https://i.stack.imgur.com/3AQFA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3AQFA.png\" alt=\"enter image description here\" /></a></p>\n<p>This confirms that the application is running in a container.</p>\n<p>Without a container, when I run the application, everything works.</p>\n<p>Here is an example of a login page:</p>\n<pre><code>@WebServlet(urlPatterns = &quot;/login&quot;)\npublic class LoginServlet extends HttpServlet {\n    private AuthenticationService authenticationService;\n\n    @Override\n    public void init() {\n        this.authenticationService = (AuthenticationService) getServletContext().getAttribute(&quot;authenticationService&quot;);\n    }\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        getServletContext().getRequestDispatcher(&quot;/WEB-INF/view/login-page.jsp&quot;).forward(request, response);\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        final String email = request.getParameter(&quot;email&quot;);\n        final String password = request.getParameter(&quot;password&quot;);\n\n        if (authenticationService.isAuthenticated(email, password)){\n            final HttpSession session = request.getSession();\n            session.setAttribute(&quot;email&quot;, email);\n            response.sendRedirect(&quot;/tasks-menu&quot;);\n        }else {\n            response.setContentType(&quot;text/HTML; charset=UTF-8&quot;);\n            response.getWriter().write(&quot;Неверный логин или пароль&quot;);\n        }\n\n    }\n}\n</code></pre>\n<p>My Dockerfile:</p>\n<pre><code>FROM tomcat:9\n\nCOPY target/javaee_rest_jdbc_todo_list.war /usr/local/tomcat/webapps/\n\nCMD [&quot;catalina.sh&quot;, &quot;run&quot;]\n</code></pre>\n<p>And command to run the project:</p>\n<pre><code>docker run -d -p 8080:8080 --name app --net javaee-net task_api\ndocker exec -it app /bin/bash  \nmv webapps webapps2\nmv webapps.dist/ webapps\nexit           \n</code></pre>\n<p>Here is the project structure</p>\n<p><a href=\"https://i.stack.imgur.com/ZCDaA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZCDaA.png\" alt=\"enter image description here\" /></a></p>\n<p>Also project on github: <a href=\"https://github.com/MatveyAndrosyukk/javaee_rest_jdbc_todo_list\" rel=\"nofollow noreferrer\">https://github.com/MatveyAndrosyukk/javaee_rest_jdbc_todo_list</a>.</p>\n"},{"tags":["java","akka","parquet","akka-stream"],"owner":{"account_id":26042147,"reputation":11,"user_id":19746748,"display_name":"Jim McCarty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660258468,"creation_date":1660258468,"question_id":73327632,"body_markdown":"I&#39;m attempting to read in a large csv file, do some processing and write out the data to a parquet file. \r\n\r\nI am able to read the CSV contents, but when sending the data to a parquet sink it does not write, the akka graph finished before anything can be written. \r\n\r\nI&#39;ve narrowed down that when adding data to the GenericRecord Object (to write to parquet) nothing gets logged out. I&#39;ve also tried writing to the parquet file using a flow (writer.write(record)) and ignoring the sink (with Sink.ignore()) and am still facing the same issue. I&#39;m not sure where I am going wrong, any guidance would be appreciated.\r\n\r\nBelow is a sample of my code:\r\n\r\n        String parquetOut = &quot;out.parquet&quot;;\r\n        String schemaFilePath = &quot;schema.json&quot;;\r\n        final String path = &quot;data.csv&quot;;\r\n        final java.nio.file.Path file = Paths.get(path);\r\n        ActorSystem&lt;Void&gt; actorSystem = ActorSystem.create(Behaviors.empty(), &quot;actorSystem&quot;);\r\n\r\n        // ********** Start: Avro Parquet *****************\r\n        Configuration conf = new Configuration();\r\n        conf.setBoolean(AvroReadSupport.AVRO_COMPATIBILITY, true);\r\n        Schema schema = getSchema(schemaFilePath);\r\n        ParquetWriter&lt;GenericRecord&gt; writer =\r\n                AvroParquetWriter.&lt;GenericRecord&gt;builder(new Path(parquetOut))\r\n                        .withConf(conf)\r\n                        .withWriteMode(ParquetFileWriter.Mode.OVERWRITE)\r\n                        .withCompressionCodec(CompressionCodecName.SNAPPY)\r\n                        .withDictionaryEncoding(true)\r\n                        .withSchema(schema)\r\n                        .build();\r\n        // ********** End: Avro Parquet *****************\r\n\r\n        Source&lt;ByteString, CompletionStage&lt;IOResult&gt;&gt; source = FileIO.fromPath(file);\r\n\r\n        Flow&lt;ByteString, GenericRecord, NotUsed&gt; parquetFlow = Flow.of(ByteString.class).map(value -&gt; {\r\n            List&lt;String&gt; values = Arrays.asList(value.utf8String().split(&quot;,&quot;));\r\n            GenericRecord record = new GenericData.Record(schema);\r\n            record.put(&quot;first-name&quot;, values.get(0));\r\n            record.put(&quot;last-name&quot;, values.get(1));\r\n            record.put(&quot;id&quot;, Integer.valueOf(values.get(2)));\r\n            record.put(&quot;age&quot;, Integer.valueOf(values.get(3)));\r\n            return record;\r\n        });\r\n\r\n        Sink&lt;GenericRecord, CompletionStage&lt;Done&gt;&gt; sink = AvroParquetSink.create(writer);\r\n        CompletionStage&lt;IOResult&gt; result = source.via(parquetFlow).to(sink).run(actorSystem);\r\n\r\n        result.whenComplete((input, exception) -&gt; {\r\n            if (exception != null) {\r\n                System.out.println(&quot;exception occurred&quot;);\r\n                System.err.println(exception);\r\n            } else {\r\n                try {\r\n                    writer.close();\r\n                } catch (IOException ioException) {\r\n                    ioException.printStackTrace();\r\n                }\r\n                System.out.println(&quot;no exception, got result: &quot; + input);\r\n                actorSystem.terminate();\r\n            }\r\n        });","title":"Using Akka to write to Parquet Sink","body":"<p>I'm attempting to read in a large csv file, do some processing and write out the data to a parquet file.</p>\n<p>I am able to read the CSV contents, but when sending the data to a parquet sink it does not write, the akka graph finished before anything can be written.</p>\n<p>I've narrowed down that when adding data to the GenericRecord Object (to write to parquet) nothing gets logged out. I've also tried writing to the parquet file using a flow (writer.write(record)) and ignoring the sink (with Sink.ignore()) and am still facing the same issue. I'm not sure where I am going wrong, any guidance would be appreciated.</p>\n<p>Below is a sample of my code:</p>\n<pre><code>    String parquetOut = &quot;out.parquet&quot;;\n    String schemaFilePath = &quot;schema.json&quot;;\n    final String path = &quot;data.csv&quot;;\n    final java.nio.file.Path file = Paths.get(path);\n    ActorSystem&lt;Void&gt; actorSystem = ActorSystem.create(Behaviors.empty(), &quot;actorSystem&quot;);\n\n    // ********** Start: Avro Parquet *****************\n    Configuration conf = new Configuration();\n    conf.setBoolean(AvroReadSupport.AVRO_COMPATIBILITY, true);\n    Schema schema = getSchema(schemaFilePath);\n    ParquetWriter&lt;GenericRecord&gt; writer =\n            AvroParquetWriter.&lt;GenericRecord&gt;builder(new Path(parquetOut))\n                    .withConf(conf)\n                    .withWriteMode(ParquetFileWriter.Mode.OVERWRITE)\n                    .withCompressionCodec(CompressionCodecName.SNAPPY)\n                    .withDictionaryEncoding(true)\n                    .withSchema(schema)\n                    .build();\n    // ********** End: Avro Parquet *****************\n\n    Source&lt;ByteString, CompletionStage&lt;IOResult&gt;&gt; source = FileIO.fromPath(file);\n\n    Flow&lt;ByteString, GenericRecord, NotUsed&gt; parquetFlow = Flow.of(ByteString.class).map(value -&gt; {\n        List&lt;String&gt; values = Arrays.asList(value.utf8String().split(&quot;,&quot;));\n        GenericRecord record = new GenericData.Record(schema);\n        record.put(&quot;first-name&quot;, values.get(0));\n        record.put(&quot;last-name&quot;, values.get(1));\n        record.put(&quot;id&quot;, Integer.valueOf(values.get(2)));\n        record.put(&quot;age&quot;, Integer.valueOf(values.get(3)));\n        return record;\n    });\n\n    Sink&lt;GenericRecord, CompletionStage&lt;Done&gt;&gt; sink = AvroParquetSink.create(writer);\n    CompletionStage&lt;IOResult&gt; result = source.via(parquetFlow).to(sink).run(actorSystem);\n\n    result.whenComplete((input, exception) -&gt; {\n        if (exception != null) {\n            System.out.println(&quot;exception occurred&quot;);\n            System.err.println(exception);\n        } else {\n            try {\n                writer.close();\n            } catch (IOException ioException) {\n                ioException.printStackTrace();\n            }\n            System.out.println(&quot;no exception, got result: &quot; + input);\n            actorSystem.terminate();\n        }\n    });\n</code></pre>\n"},{"tags":["java","clojure","io","leiningen"],"comments":[{"owner":{"account_id":475125,"reputation":209,"user_id":885262,"display_name":"mvarela"},"score":1,"creation_date":1580327827,"post_id":59974028,"comment_id":106065376,"body_markdown":"Do you have or could you provide a MWE that reproduces the issue?","body":"Do you have or could you provide a MWE that reproduces the issue?"},{"owner":{"account_id":227633,"reputation":1486,"user_id":489418,"display_name":"andy_fingerhut"},"score":3,"creation_date":1580336074,"post_id":59974028,"comment_id":106068483,"body_markdown":"This is probably so obvious a question that you have already thought of it, and it does not apply to you, but is the fast machine writing to a truly local file system, but the others are writing to a file system mounted over a network?","body":"This is probably so obvious a question that you have already thought of it, and it does not apply to you, but is the fast machine writing to a truly local file system, but the others are writing to a file system mounted over a network?"},{"owner":{"account_id":227633,"reputation":1486,"user_id":489418,"display_name":"andy_fingerhut"},"score":2,"creation_date":1580336173,"post_id":59974028,"comment_id":106068524,"body_markdown":"You mention number of rows, but do you know the size in bytes of the file being written in seconds on the original machine?  Is the size of the file written on the other machines where it is agonizingly slow the same?","body":"You mention number of rows, but do you know the size in bytes of the file being written in seconds on the original machine?  Is the size of the file written on the other machines where it is agonizingly slow the same?"},{"owner":{"account_id":915710,"reputation":30634,"user_id":948550,"accept_rate":93,"display_name":"Reut Sharabani"},"score":1,"creation_date":1580382827,"post_id":59974028,"comment_id":106083108,"body_markdown":"Adding to the two comments above me: *after* you&#39;ve verified file size is the same can you use another utility to just copy the data (like `cp`) and see if there are still significant differences? This can help verify if its clojure related or something more low-level.","body":"Adding to the two comments above me: <i>after</i> you&#39;ve verified file size is the same can you use another utility to just copy the data (like <code>cp</code>) and see if there are still significant differences? This can help verify if its clojure related or something more low-level."},{"owner":{"account_id":17647616,"reputation":31,"user_id":12808713,"display_name":"amberk12"},"score":0,"creation_date":1580393724,"post_id":59974028,"comment_id":106089320,"body_markdown":"Thanks for the responses!\n\n@mvarela - Sure we&#39;re working on code for an MWE now","body":"Thanks for the responses!  @mvarela - Sure we&#39;re working on code for an MWE now"},{"owner":{"account_id":17647616,"reputation":31,"user_id":12808713,"display_name":"amberk12"},"score":0,"creation_date":1580393780,"post_id":59974028,"comment_id":106089352,"body_markdown":"@andy_fingerhut - Yes, unfortunately it&#39;s not that simple; in both cases the file is being written to the local system of whatever machine the application is on. The size of the file is 442KB, and it&#39;s the same file regardless of the machine where the application is installed","body":"@andy_fingerhut - Yes, unfortunately it&#39;s not that simple; in both cases the file is being written to the local system of whatever machine the application is on. The size of the file is 442KB, and it&#39;s the same file regardless of the machine where the application is installed"},{"owner":{"account_id":17647616,"reputation":31,"user_id":12808713,"display_name":"amberk12"},"score":1,"creation_date":1580393795,"post_id":59974028,"comment_id":106089361,"body_markdown":"@Reut Sharabani - Yeah, I&#39;ve taken a copy of the file written on the working machine and copied it to the problem machine in question, and there are no slow-downs; it copies in less than a second","body":"@Reut Sharabani - Yeah, I&#39;ve taken a copy of the file written on the working machine and copied it to the problem machine in question, and there are no slow-downs; it copies in less than a second"},{"owner":{"account_id":915710,"reputation":30634,"user_id":948550,"accept_rate":93,"display_name":"Reut Sharabani"},"score":0,"creation_date":1580394735,"post_id":59974028,"comment_id":106089932,"body_markdown":"@amberk12 Are you sure its the actual writing of the file that is slow? Can you share the csv specific code? Clojure&#39;s csv library is very limited and IIRC its easy to shot yourself in the leg with it. Can you load the entire csv to memory (using `doall`) and then dump it to a file and time the two operations (`doall` vs `spit`). Maybe the csv part is the slow part.","body":"@amberk12 Are you sure its the actual writing of the file that is slow? Can you share the csv specific code? Clojure&#39;s csv library is very limited and IIRC its easy to shot yourself in the leg with it. Can you load the entire csv to memory (using <code>doall</code>) and then dump it to a file and time the two operations (<code>doall</code> vs <code>spit</code>). Maybe the csv part is the slow part."},{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1580462306,"post_id":59974028,"comment_id":106112947,"body_markdown":"This looks very strange. The file size and the dataset size are both really small so it should be very fast. It would help if you could share a complete code for this.","body":"This looks very strange. The file size and the dataset size are both really small so it should be very fast. It would help if you could share a complete code for this."}],"answers":[{"tags":[],"owner":{"account_id":17647616,"reputation":31,"user_id":12808713,"display_name":"amberk12"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580502339,"creation_date":1580502339,"answer_id":60010781,"question_id":59974028,"body_markdown":"Alright, so while we were working on the code example to share, we received some suggestions from another source that have resolved the issue.\r\n\r\n1. We changed the reader to use an input stream instead of reading in the whole file\r\n2. We wrapped the writer in a `doall` as was also suggested by @Reut Sharabani\r\n\r\nThe underlying issue seems to be how each machine was handling laziness\r\n\r\nThanks to everyone that responded!","title":"Clojure writing files slowly","body":"<p>Alright, so while we were working on the code example to share, we received some suggestions from another source that have resolved the issue.</p>\n\n<ol>\n<li>We changed the reader to use an input stream instead of reading in the whole file</li>\n<li>We wrapped the writer in a <code>doall</code> as was also suggested by @Reut Sharabani</li>\n</ol>\n\n<p>The underlying issue seems to be how each machine was handling laziness</p>\n\n<p>Thanks to everyone that responded!</p>\n"}],"owner":{"account_id":17647616,"reputation":31,"user_id":12808713,"display_name":"amberk12"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1660258438,"creation_date":1580325138,"question_id":59974028,"body_markdown":"We have a Clojure application that takes a dataset (~3000 rows) and writes it to a local file using spit. It works great on the machine where it was written, but on every other machine that pulls down the git code, the write step is agonizingly slow. The process takes seconds on the original machine, but takes upwards of ten minutes on every other machine.\r\n\r\nThe two primary machines in question (the developer’s machine and mine) are both Manjaro Arch Linux systems with comparable specs and configurations. We are both pulling from the same Git source, and both pulling the same data.\r\n\r\nWe have confirmed that the code stills runs on my machine, since it completes if I try to write only the first ten lines of the dataset (even that still takes almost a minute). \r\n\r\nCPU and RAM are barely touched during the process on both machines and the output filesize is less than a MB.\r\n\r\nWe get the same problem if we use the Java.io library with clojure.data.csv or dk.ative.docjure.spreadsheet instead of spit.\r\n\r\nThe abstracted datashape is:\r\n\r\n```\r\n[[&quot;Name&quot; &quot;Price&quot;]\r\n [&quot;Foo Widget&quot; 100]\r\n [&quot;Bar Widget&quot; 200]]\r\n```\r\n(but of course is greater than 3000 rows)\r\n\r\nAny help is appreciated!","title":"Clojure writing files slowly","body":"<p>We have a Clojure application that takes a dataset (~3000 rows) and writes it to a local file using spit. It works great on the machine where it was written, but on every other machine that pulls down the git code, the write step is agonizingly slow. The process takes seconds on the original machine, but takes upwards of ten minutes on every other machine.</p>\n\n<p>The two primary machines in question (the developer’s machine and mine) are both Manjaro Arch Linux systems with comparable specs and configurations. We are both pulling from the same Git source, and both pulling the same data.</p>\n\n<p>We have confirmed that the code stills runs on my machine, since it completes if I try to write only the first ten lines of the dataset (even that still takes almost a minute). </p>\n\n<p>CPU and RAM are barely touched during the process on both machines and the output filesize is less than a MB.</p>\n\n<p>We get the same problem if we use the Java.io library with clojure.data.csv or dk.ative.docjure.spreadsheet instead of spit.</p>\n\n<p>The abstracted datashape is:</p>\n\n<pre><code>[[\"Name\" \"Price\"]\n [\"Foo Widget\" 100]\n [\"Bar Widget\" 200]]\n</code></pre>\n\n<p>(but of course is greater than 3000 rows)</p>\n\n<p>Any help is appreciated!</p>\n"},{"tags":["java","spring-boot","redis","jedis","shedlock"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1660238288,"post_id":73324472,"comment_id":129491539,"body_markdown":"You do know that Redis has no tables, right? Have you read the ShedLock documentation on GitHub? Specifically, https://github.com/lukas-krecan/ShedLock#redis-using-jedis","body":"You do know that Redis has no tables, right? Have you read the ShedLock documentation on GitHub? Specifically, <a href=\"https://github.com/lukas-krecan/ShedLock#redis-using-jedis\" rel=\"nofollow noreferrer\">github.com/lukas-krecan/ShedLock#redis-using-jedis</a>"}],"answers":[{"tags":[],"owner":{"account_id":11639624,"reputation":1651,"user_id":8524584,"display_name":"bezbos."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660250528,"creation_date":1660250528,"answer_id":73326686,"question_id":73324472,"body_markdown":"Here are the official ShedLock instructions how to make it work with Redis: https://github.com/lukas-krecan/ShedLock#redis-using-jedis","title":"Implementing Shedlock in Spring Boot using Redis Cache (Jedis resource Pool)","body":"<p>Here are the official ShedLock instructions how to make it work with Redis: <a href=\"https://github.com/lukas-krecan/ShedLock#redis-using-jedis\" rel=\"nofollow noreferrer\">https://github.com/lukas-krecan/ShedLock#redis-using-jedis</a></p>\n"}],"owner":{"account_id":14854721,"reputation":11,"user_id":10727585,"display_name":"Sreeram R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2008,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1660258398,"creation_date":1660237422,"question_id":73324472,"body_markdown":"I am trying to implement shedlock in a Java Spring Boot application using redis. In every resource I search for it is mentioned that shedlock is compatible with Redis, however I couldn&#39;t find how to implement the same. Could someone please help me with the detailed steps?\r\n\r\nNote: I am only using the redis as database and no other database is linked with my app. Also in my application, **I am using jedis pool for accessing the redis instances.**\r\n\r\n   I have the below queries in implementing the same.\r\n\r\n 1. Since Shedlock wants to have the below table created, how can we create the same in redis cache? (How primary key and all can be defined here)?\r\n```\r\nCREATE TABLE shedlock(\r\n    name VARCHAR(64) NOT NULL,\r\n    lock_until TIMESTAMP NOT NULL,\r\n    locked_at TIMESTAMP NOT NULL,\r\n    locked_by VARCHAR(255) NOT NULL,\r\n    PRIMARY KEY (name)\r\n);\r\n```\r\n 2. How the Lock provider Bean should be configured? I could see examples for other DBs, but none using redis instance. How using Jedis pool, once can configure the LockProvider Bean?\r\n```\r\n@Configuration\r\npublic class ShedLockConfig {\r\n    @Bean\r\n    public LockProvider lockProvider(DataSource dataSource) {\r\n        return new JdbcTemplateLockProvider(dataSource);\r\n    }\r\n}\r\n```\r\nThanks","title":"Implementing Shedlock in Spring Boot using Redis Cache (Jedis resource Pool)","body":"<p>I am trying to implement shedlock in a Java Spring Boot application using redis. In every resource I search for it is mentioned that shedlock is compatible with Redis, however I couldn't find how to implement the same. Could someone please help me with the detailed steps?</p>\n<p>Note: I am only using the redis as database and no other database is linked with my app. Also in my application, <strong>I am using jedis pool for accessing the redis instances.</strong></p>\n<p>I have the below queries in implementing the same.</p>\n<ol>\n<li>Since Shedlock wants to have the below table created, how can we create the same in redis cache? (How primary key and all can be defined here)?</li>\n</ol>\n<pre><code>CREATE TABLE shedlock(\n    name VARCHAR(64) NOT NULL,\n    lock_until TIMESTAMP NOT NULL,\n    locked_at TIMESTAMP NOT NULL,\n    locked_by VARCHAR(255) NOT NULL,\n    PRIMARY KEY (name)\n);\n</code></pre>\n<ol start=\"2\">\n<li>How the Lock provider Bean should be configured? I could see examples for other DBs, but none using redis instance. How using Jedis pool, once can configure the LockProvider Bean?</li>\n</ol>\n<pre><code>@Configuration\npublic class ShedLockConfig {\n    @Bean\n    public LockProvider lockProvider(DataSource dataSource) {\n        return new JdbcTemplateLockProvider(dataSource);\n    }\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":2,"creation_date":1660245361,"post_id":73325483,"comment_id":129493604,"body_markdown":"What exactly do you mean by &quot;export the project&quot;? Do you use a build system like Maven or Gradle?","body":"What exactly do you mean by &quot;export the project&quot;? Do you use a build system like Maven or Gradle?"},{"owner":{"account_id":15026288,"reputation":23,"user_id":10846032,"display_name":"xRoby"},"score":0,"creation_date":1660245614,"post_id":73325483,"comment_id":129493668,"body_markdown":"yes, I use maven","body":"yes, I use maven"}],"answers":[{"tags":[],"owner":{"account_id":1929456,"reputation":601,"user_id":1739193,"display_name":"btafarelo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660247030,"creation_date":1660245455,"answer_id":73325856,"question_id":73325483,"body_markdown":"Considering the tags java and jar. All you need is to have **b.jar** and **c.jar** in the classpath of **a.jar**.\r\n\r\nJust export the 3 jar and run on this way:\r\n\r\n    java -classpath b.jar;c.jar;a.jar package.mainclass\r\n\r\nBut it&#39;s wrong to say that they depend of each other. When it happens it is like a depends b that depends a. It&#39;s an error and it can&#39;t happen.","title":"How should i export jar when they depend on each other?","body":"<p>Considering the tags java and jar. All you need is to have <strong>b.jar</strong> and <strong>c.jar</strong> in the classpath of <strong>a.jar</strong>.</p>\n<p>Just export the 3 jar and run on this way:</p>\n<pre><code>java -classpath b.jar;c.jar;a.jar package.mainclass\n</code></pre>\n<p>But it's wrong to say that they depend of each other. When it happens it is like a depends b that depends a. It's an error and it can't happen.</p>\n"},{"tags":[],"owner":{"account_id":20087791,"reputation":53,"user_id":14728991,"display_name":"rtz981"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660257668,"creation_date":1660257668,"answer_id":73327560,"question_id":73325483,"body_markdown":"**You can add both to project A**\r\n\r\nYou don&#39;t have to **add C to B** and **B to A**,\r\n You can **add C and B to A** \r\n\r\nYour jar file will look the same if you **add C to B and then B to A** or **add C and B to A**","title":"How should i export jar when they depend on each other?","body":"<p><strong>You can add both to project A</strong></p>\n<p>You don't have to <strong>add C to B</strong> and <strong>B to A</strong>,\nYou can <strong>add C and B to A</strong></p>\n<p>Your jar file will look the same if you <strong>add C to B and then B to A</strong> or <strong>add C and B to A</strong></p>\n"}],"owner":{"account_id":15026288,"reputation":23,"user_id":10846032,"display_name":"xRoby"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73327560,"answer_count":2,"score":0,"last_activity_date":1660257668,"creation_date":1660243352,"question_id":73325483,"body_markdown":"If I have 3 java projects: A, B and C \r\n\r\nWhere A use classes from B, and B use classes from C \r\n\r\nHow should I export the project A? \r\n\r\nShould I export C, add it to the project B and then export B and add it the jar to A? \r\n\r\nAnd if I have to update C, I have to repeat what I have done before?","title":"How should i export jar when they depend on each other?","body":"<p>If I have 3 java projects: A, B and C</p>\n<p>Where A use classes from B, and B use classes from C</p>\n<p>How should I export the project A?</p>\n<p>Should I export C, add it to the project B and then export B and add it the jar to A?</p>\n<p>And if I have to update C, I have to repeat what I have done before?</p>\n"},{"tags":["java","kotlin","intellij-idea"],"comments":[{"owner":{"account_id":7458238,"reputation":6066,"user_id":5670752,"display_name":"Taslim Oseni"},"score":0,"creation_date":1647367465,"post_id":68242548,"comment_id":126351854,"body_markdown":"If you&#39;re currently facing this issue, check out [this](https://stackoverflow.com/a/71486970/5670752) answer.","body":"If you&#39;re currently facing this issue, check out <a href=\"https://stackoverflow.com/a/71486970/5670752\">this</a> answer."}],"answers":[{"tags":[],"owner":{"account_id":5111197,"reputation":882,"user_id":4097712,"accept_rate":57,"display_name":"Tonny Tc"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1625386741,"creation_date":1625386741,"answer_id":68242880,"question_id":68242548,"body_markdown":"If you are using Java 16, it seems be a known issue about it. ref: [JDK 16 - e: java.lang.NoClassDefFoundError: Could not initialize class org.jetbrains.kotlin.com.intellij.pom.java.LanguageLevel](https://youtrack.jetbrains.com/issue/KT-45566)","title":"Kotlin: [Internal Error] java.lang.NoClassDefFoundError: Could not initialize class com.intellij.pom.java.LanguageLevel","body":"<p>If you are using Java 16, it seems be a known issue about it. ref: <a href=\"https://youtrack.jetbrains.com/issue/KT-45566\" rel=\"nofollow noreferrer\">JDK 16 - e: java.lang.NoClassDefFoundError: Could not initialize class org.jetbrains.kotlin.com.intellij.pom.java.LanguageLevel</a></p>\n"},{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1625865411,"creation_date":1625865411,"answer_id":68322773,"question_id":68242548,"body_markdown":"Either update to Kotlin 1.5.10+ which supports JDK 16 or downgrade JDK version to the one supported by the Kotlin version you are using (try JDK 11).","title":"Kotlin: [Internal Error] java.lang.NoClassDefFoundError: Could not initialize class com.intellij.pom.java.LanguageLevel","body":"<p>Either update to Kotlin 1.5.10+ which supports JDK 16 or downgrade JDK version to the one supported by the Kotlin version you are using (try JDK 11).</p>\n"},{"tags":[],"owner":{"account_id":4126683,"reputation":2919,"user_id":3385651,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635361766,"creation_date":1635361766,"answer_id":69744232,"question_id":68242548,"body_markdown":"I followed the instructions on this issue https://youtrack.jetbrains.com/issue/KT-46604.\r\n\r\nJust hit the update button on IntelliJ and after that the application worked even with JDK 16. ","title":"Kotlin: [Internal Error] java.lang.NoClassDefFoundError: Could not initialize class com.intellij.pom.java.LanguageLevel","body":"<p>I followed the instructions on this issue <a href=\"https://youtrack.jetbrains.com/issue/KT-46604\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-46604</a>.</p>\n<p>Just hit the update button on IntelliJ and after that the application worked even with JDK 16.</p>\n"},{"tags":[],"owner":{"account_id":2537433,"reputation":1746,"user_id":2204146,"display_name":"layonez"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660255819,"creation_date":1660255819,"answer_id":73327359,"question_id":68242548,"body_markdown":"What worked for me \r\n\r\n is to use a workaround with illegal access flag\r\n\r\n    org.gradle.jvmargs=--illegal-access=permit -Dkotlin.daemon.jvm.options=--illegal-access=permit\r\n\r\n clear Gradle cache \r\n\r\n    rm -r $HOME/.gradle/caches/\r\n\r\n and after all Gradle daemons killed \r\n\r\n    pkill -f &#39;.*GradleDaemon.*&#39;\r\n\r\nYou can try to sync the project and rebuild ","title":"Kotlin: [Internal Error] java.lang.NoClassDefFoundError: Could not initialize class com.intellij.pom.java.LanguageLevel","body":"<p>What worked for me</p>\n<p>is to use a workaround with illegal access flag</p>\n<pre><code>org.gradle.jvmargs=--illegal-access=permit -Dkotlin.daemon.jvm.options=--illegal-access=permit\n</code></pre>\n<p>clear Gradle cache</p>\n<pre><code>rm -r $HOME/.gradle/caches/\n</code></pre>\n<p>and after all Gradle daemons killed</p>\n<pre><code>pkill -f '.*GradleDaemon.*'\n</code></pre>\n<p>You can try to sync the project and rebuild</p>\n"}],"owner":{"account_id":21731117,"reputation":145,"user_id":16039840,"display_name":"Sean Park"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11757,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":68242880,"answer_count":4,"score":7,"last_activity_date":1660255819,"creation_date":1625383209,"question_id":68242548,"body_markdown":"I just wrote \r\n\r\n```kotlin\r\nfun main() {\r\n    println(&quot;Hello World&quot;)\r\n}\r\n```\r\n\r\non `Project\\src\\HelloWorld.kt`\r\nBut, I came across this error: `java.lang.NoClassDefFoundError`.\r\nI wonder why it doesn&#39;t work because I having seen the same print code run.\r\n\r\nHow do i serve this error?\r\nBelow is the content of error.\r\n\r\n    \r\n    Kotlin: [Internal Error] java.lang.NoClassDefFoundError: Could not initialize class com.intellij.pom.java.LanguageLevel\r\n    \tat com.intellij.core.CoreLanguageLevelProjectExtension.&lt;init&gt;(CoreLanguageLevelProjectExtension.java:26)\r\n    \tat com.intellij.core.JavaCoreProjectEnvironment.&lt;init&gt;(JavaCoreProjectEnvironment.java:42)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreProjectEnvironment.&lt;init&gt;(KotlinCoreProjectEnvironment.kt:26)\r\n\t    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$ProjectEnvironment.&lt;init&gt;(KotlinCoreEnvironment.kt:121)\r\n\t    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$Companion.createForProduction(KotlinCoreEnvironment.kt:425)\r\n\t    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.createCoreEnvironment(K2JVMCompiler.kt:226)\r\n\t    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:152)\r\n\t    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:52)\r\n\t    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:88)\r\n\t    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:44)\r\n\t    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:98)\r\n\t    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:1500)\r\n\t    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\t    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\t    at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n\t    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n\t    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n\t    at java.base/java.security.AccessController.doPrivileged(AccessController.java:691)\r\n\t    at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n\t    at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\r\n\t    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\r\n\t    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\r\n\t    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n\t    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\r\n\t    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\t    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\t    at java.base/java.lang.Thread.run(Thread.java:831)\r\n\r\n\r\n","title":"Kotlin: [Internal Error] java.lang.NoClassDefFoundError: Could not initialize class com.intellij.pom.java.LanguageLevel","body":"<p>I just wrote</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main() {\n    println(&quot;Hello World&quot;)\n}\n</code></pre>\n<p>on <code>Project\\src\\HelloWorld.kt</code>\nBut, I came across this error: <code>java.lang.NoClassDefFoundError</code>.\nI wonder why it doesn't work because I having seen the same print code run.</p>\n<p>How do i serve this error?\nBelow is the content of error.</p>\n<pre><code>Kotlin: [Internal Error] java.lang.NoClassDefFoundError: Could not initialize class com.intellij.pom.java.LanguageLevel\n    at com.intellij.core.CoreLanguageLevelProjectExtension.&lt;init&gt;(CoreLanguageLevelProjectExtension.java:26)\n    at com.intellij.core.JavaCoreProjectEnvironment.&lt;init&gt;(JavaCoreProjectEnvironment.java:42)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreProjectEnvironment.&lt;init&gt;(KotlinCoreProjectEnvironment.kt:26)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$ProjectEnvironment.&lt;init&gt;(KotlinCoreEnvironment.kt:121)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$Companion.createForProduction(KotlinCoreEnvironment.kt:425)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.createCoreEnvironment(K2JVMCompiler.kt:226)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:152)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:52)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:88)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:44)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:98)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:1500)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:691)\n    at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    at java.base/java.lang.Thread.run(Thread.java:831)\n</code></pre>\n"},{"tags":["java","websphere","application-server","websphere-6.1","ltpa"],"answers":[{"tags":[],"owner":{"account_id":3929197,"reputation":149,"user_id":3248496,"display_name":"ezhilxor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394453059,"creation_date":1394453059,"answer_id":22299595,"question_id":22228705,"body_markdown":"Matches with below apar PM34097\r\nhttp://www-01.ibm.com/support/docview.wss?uid=swg1PM34097\r\n\r\nYou can check by upgrading to the WAS version mentioned there i.e 61039","title":"Websphere : Start server with Authentication failed when using LTPA. The exception is &lt;null&gt;","body":"<p>Matches with below apar PM34097\n<a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg1PM34097\" rel=\"nofollow\">http://www-01.ibm.com/support/docview.wss?uid=swg1PM34097</a></p>\n\n<p>You can check by upgrading to the WAS version mentioned there i.e 61039</p>\n"}],"owner":{"account_id":2371690,"reputation":799,"user_id":2076174,"accept_rate":56,"display_name":"rakesh_parashar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14789,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660255605,"creation_date":1394119390,"question_id":22228705,"body_markdown":"From last 2 days I am struggling with below error in my local windows7 machine, I have IBM WebSphere Application Server - Express 6.1.0.27 installed in my local where I deployed my application successfully, while starting the server everything works fine except below error which keep repeated like a loop.... I googled many site with no luck.. I also re installed db2 (DB2 9.7 fp2), and WAS but problem still persist.\r\nAny help will really appreciated !!\r\n\r\n\r\n\r\n    [6/3/14 20:42:43:939 IST] 00000012 LTPAServerObj E   SECJ0369E: Authentication failed when using LTPA. The exception is &lt;null&gt;.\r\n    [6/3/14 20:42:43:984 IST] 00000012 LTPAServerObj E   SECJ0369E: Authentication failed when using LTPA. The exception is &lt;null&gt;.\r\n    [6/3/14 20:42:43:988 IST] 00000012 RoleBasedAuth A   SECJ0305I: The role-based authorization check failed for admin-authz operation Server:getName.  The user UNAUTHENTICATED (unique ID: UNAUTHENTICATED) was not granted any of the following required roles: adminsecuritymanager, operator, deployer, administrator, monitor, configurator.\r\n    [6/3/14 20:42:48:537 IST] 00000012 LTPAServerObj E   SECJ0369E: Authentication failed when using LTPA. The exception is &lt;null&gt;.\r\n    [6/3/14 20:42:48:592 IST] 00000012 LTPAServerObj E   SECJ0369E: Authentication failed when using LTPA. The exception is &lt;null&gt;.\r\n    [6/3/14 20:42:48:596 IST] 00000012 RoleBasedAuth A   SECJ0305I: The role-based authorization check failed for admin-authz operation Server:getName.  The user UNAUTHENTICATED (unique ID: UNAUTHENTICATED) was not granted any of the following required roles: adminsecuritymanager, operator, deployer, administrator, monitor, configurator.\r\n    [6/3/14 20:42:52:934 IST] 00000012 LTPAServerObj E   SECJ0369E: Authentication failed when using LTPA. The exception is &lt;null&gt;.\r\n    [6/3/14 20:42:52:963 IST] 00000012 LTPAServerObj E   SECJ0369E: Authentication failed when using LTPA. The exception is &lt;null&gt;.","title":"Websphere : Start server with Authentication failed when using LTPA. The exception is &lt;null&gt;","body":"<p>From last 2 days I am struggling with below error in my local windows7 machine, I have IBM WebSphere Application Server - Express 6.1.0.27 installed in my local where I deployed my application successfully, while starting the server everything works fine except below error which keep repeated like a loop.... I googled many site with no luck.. I also re installed db2 (DB2 9.7 fp2), and WAS but problem still persist.\nAny help will really appreciated !!</p>\n\n<pre><code>[6/3/14 20:42:43:939 IST] 00000012 LTPAServerObj E   SECJ0369E: Authentication failed when using LTPA. The exception is &lt;null&gt;.\n[6/3/14 20:42:43:984 IST] 00000012 LTPAServerObj E   SECJ0369E: Authentication failed when using LTPA. The exception is &lt;null&gt;.\n[6/3/14 20:42:43:988 IST] 00000012 RoleBasedAuth A   SECJ0305I: The role-based authorization check failed for admin-authz operation Server:getName.  The user UNAUTHENTICATED (unique ID: UNAUTHENTICATED) was not granted any of the following required roles: adminsecuritymanager, operator, deployer, administrator, monitor, configurator.\n[6/3/14 20:42:48:537 IST] 00000012 LTPAServerObj E   SECJ0369E: Authentication failed when using LTPA. The exception is &lt;null&gt;.\n[6/3/14 20:42:48:592 IST] 00000012 LTPAServerObj E   SECJ0369E: Authentication failed when using LTPA. The exception is &lt;null&gt;.\n[6/3/14 20:42:48:596 IST] 00000012 RoleBasedAuth A   SECJ0305I: The role-based authorization check failed for admin-authz operation Server:getName.  The user UNAUTHENTICATED (unique ID: UNAUTHENTICATED) was not granted any of the following required roles: adminsecuritymanager, operator, deployer, administrator, monitor, configurator.\n[6/3/14 20:42:52:934 IST] 00000012 LTPAServerObj E   SECJ0369E: Authentication failed when using LTPA. The exception is &lt;null&gt;.\n[6/3/14 20:42:52:963 IST] 00000012 LTPAServerObj E   SECJ0369E: Authentication failed when using LTPA. The exception is &lt;null&gt;.\n</code></pre>\n"},{"tags":["java","unit-testing","logging","junit","quarkus"],"answers":[{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660253763,"creation_date":1660253763,"answer_id":73327119,"question_id":73302662,"body_markdown":"I answered your question already here: https://github.com/Hakky54/log-captor/issues/37\r\n\r\nBut I will post the solution also here so others having the same issue can easily resolve it.\r\n\r\nQuarkus is using a different classloader under the covers and that is the reason why it is not able to capture the logs. There is a workaround, but that only works without the `@QuarkusTest` annotation. If you need that annotation I would recommend to go with console-captor.\r\nSee here for a working demo: \r\n- [Unit testing logs with ConsoleCaptor while using Quarkus with Jboss logging and Lombok](https://github.com/Hakky54/java-tutorials/tree/main/console-captor-examples/console-captor-with-quarkus-jboss-lombok)\r\n- [Unit testing logs with LogCaptor while using Quarkus with Jboss logging and Lombok](https://github.com/Hakky54/java-tutorials/tree/main/log-captor-examples/log-captor-with-quarkus-jboss-lombok)\r\n\r\n## The steps below is for setting up console captor!\r\n\r\nSo what you need to do is:\r\n1.  Add logback-classic as test dependency\r\n2. Add logback-test.xml as test resource\r\n3. Configure surefire plugin to exclude their slf4j logging implementation\r\n\r\nSo your pom.xml should be something like this:\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;${version.lombok}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jboss-logging&lt;/artifactId&gt;\r\n        &lt;version&gt;${version.jboss-logging}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n        &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n        &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;${version.logback-classic}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n        &lt;artifactId&gt;consolecaptor&lt;/artifactId&gt;\r\n        &lt;version&gt;${version.consolecaptor}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n        &lt;version&gt;${version.junit}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;${version.junit}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${version.assertj-core}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.maven-surefire-plugin}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;classpathDependencyExcludes&gt;\r\n                    &lt;classpathDependencyExclude&gt;org.jboss.slf4j:slf4j-jboss-logmanager&lt;/classpathDependencyExclude&gt;\r\n                &lt;/classpathDependencyExcludes&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;build&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nYour logback-test.xml file should have the following content: \r\n```xml\r\n&lt;configuration&gt;\r\n\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;TRACE&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n\r\nThis is an example greeting resource:\r\n```java\r\nimport lombok.extern.jbosslog.JBossLog;\r\n\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.MediaType;\r\n\r\n@JBossLog\r\n@Path(&quot;/hello&quot;)\r\npublic class GreetingResource {\r\n\r\n    @GET\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public String hello() {\r\n        log.info(&quot;Saying hello from the logger!&quot;);\r\n        return &quot;Hello from RESTEasy Reactive&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd the working test class:\r\n```java\r\nimport io.quarkus.test.junit.QuarkusTest;\r\nimport nl.altindag.console.ConsoleCaptor;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.List;\r\n\r\nimport static io.restassured.RestAssured.given;\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\nimport static org.hamcrest.Matchers.is;\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\r\n@QuarkusTest\r\npublic class GreetingsResourceShould {\r\n\r\n    @Test\r\n    void successfullyCapturesLogs() {\r\n        try(ConsoleCaptor consoleCaptor = new ConsoleCaptor()) {\r\n\r\n            new GreetingResource().hello();\r\n\r\n            List&lt;String&gt; standardOutput = consoleCaptor.getStandardOutput();\r\n            assertThat(standardOutput).isNotEmpty();\r\n            assertTrue(standardOutput.stream().anyMatch(message -&gt; message.contains(&quot;Saying hello from the logger!&quot;)));\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void successfullyCapturesLogsAlternativeWhileUsingRestAssured() {\r\n        try(ConsoleCaptor consoleCaptor = new ConsoleCaptor()) {\r\n\r\n            given()\r\n                    .when().get(&quot;/hello&quot;)\r\n                    .then()\r\n                    .statusCode(200)\r\n                    .body(is(&quot;Hello from RESTEasy Reactive&quot;));\r\n\r\n            List&lt;String&gt; standardOutput = consoleCaptor.getStandardOutput();\r\n            assertThat(standardOutput).isNotEmpty();\r\n            assertTrue(standardOutput.stream().anyMatch(message -&gt; message.contains(&quot;Saying hello from the logger!&quot;)));\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nCan you give it a try and share your results here?","title":"LogCaptor lib consoleCaptor.getStandardOutput() doesn&#39;t show anything","body":"<p>I answered your question already here: <a href=\"https://github.com/Hakky54/log-captor/issues/37\" rel=\"nofollow noreferrer\">https://github.com/Hakky54/log-captor/issues/37</a></p>\n<p>But I will post the solution also here so others having the same issue can easily resolve it.</p>\n<p>Quarkus is using a different classloader under the covers and that is the reason why it is not able to capture the logs. There is a workaround, but that only works without the <code>@QuarkusTest</code> annotation. If you need that annotation I would recommend to go with console-captor.\nSee here for a working demo:</p>\n<ul>\n<li><a href=\"https://github.com/Hakky54/java-tutorials/tree/main/console-captor-examples/console-captor-with-quarkus-jboss-lombok\" rel=\"nofollow noreferrer\">Unit testing logs with ConsoleCaptor while using Quarkus with Jboss logging and Lombok</a></li>\n<li><a href=\"https://github.com/Hakky54/java-tutorials/tree/main/log-captor-examples/log-captor-with-quarkus-jboss-lombok\" rel=\"nofollow noreferrer\">Unit testing logs with LogCaptor while using Quarkus with Jboss logging and Lombok</a></li>\n</ul>\n<h2>The steps below is for setting up console captor!</h2>\n<p>So what you need to do is:</p>\n<ol>\n<li>Add logback-classic as test dependency</li>\n<li>Add logback-test.xml as test resource</li>\n<li>Configure surefire plugin to exclude their slf4j logging implementation</li>\n</ol>\n<p>So your pom.xml should be something like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${version.lombok}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-logging&lt;/artifactId&gt;\n        &lt;version&gt;${version.jboss-logging}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-resteasy-reactive&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;${version.logback-classic}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n        &lt;artifactId&gt;consolecaptor&lt;/artifactId&gt;\n        &lt;version&gt;${version.consolecaptor}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;${version.junit}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;${version.junit}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;version&gt;${version.assertj-core}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n            &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${version.maven-surefire-plugin}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;classpathDependencyExcludes&gt;\n                    &lt;classpathDependencyExclude&gt;org.jboss.slf4j:slf4j-jboss-logmanager&lt;/classpathDependencyExclude&gt;\n                &lt;/classpathDependencyExcludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;build&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Your logback-test.xml file should have the following content:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;TRACE&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>This is an example greeting resource:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.extern.jbosslog.JBossLog;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\n\n@JBossLog\n@Path(&quot;/hello&quot;)\npublic class GreetingResource {\n\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    public String hello() {\n        log.info(&quot;Saying hello from the logger!&quot;);\n        return &quot;Hello from RESTEasy Reactive&quot;;\n    }\n\n}\n</code></pre>\n<p>And the working test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.quarkus.test.junit.QuarkusTest;\nimport nl.altindag.console.ConsoleCaptor;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.List;\n\nimport static io.restassured.RestAssured.given;\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.hamcrest.Matchers.is;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\n@QuarkusTest\npublic class GreetingsResourceShould {\n\n    @Test\n    void successfullyCapturesLogs() {\n        try(ConsoleCaptor consoleCaptor = new ConsoleCaptor()) {\n\n            new GreetingResource().hello();\n\n            List&lt;String&gt; standardOutput = consoleCaptor.getStandardOutput();\n            assertThat(standardOutput).isNotEmpty();\n            assertTrue(standardOutput.stream().anyMatch(message -&gt; message.contains(&quot;Saying hello from the logger!&quot;)));\n        }\n    }\n\n    @Test\n    void successfullyCapturesLogsAlternativeWhileUsingRestAssured() {\n        try(ConsoleCaptor consoleCaptor = new ConsoleCaptor()) {\n\n            given()\n                    .when().get(&quot;/hello&quot;)\n                    .then()\n                    .statusCode(200)\n                    .body(is(&quot;Hello from RESTEasy Reactive&quot;));\n\n            List&lt;String&gt; standardOutput = consoleCaptor.getStandardOutput();\n            assertThat(standardOutput).isNotEmpty();\n            assertTrue(standardOutput.stream().anyMatch(message -&gt; message.contains(&quot;Saying hello from the logger!&quot;)));\n        }\n    }\n\n}\n</code></pre>\n<p>Can you give it a try and share your results here?</p>\n"}],"owner":{"account_id":5721327,"reputation":470,"user_id":4519671,"accept_rate":50,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660253763,"creation_date":1660118064,"question_id":73302662,"body_markdown":"Using [LogCaptor][1] to unit test my logs, my issue is that with the same way as it is explained in the [README][1] I tried to use `consoleCaptor.getStandardOutput()` since I&#39;m using `@QuarkusTest` but it gets nothing from the output, Even though the console is showing multiple json logs in the output.\r\n\r\n```java\r\n@QuarkusTest\r\npublic class TestLog {\r\n\r\n  ObjectMapper mapper = new ObjectMapper();\r\n\r\n  @Test\r\n  public void testLogIsInJsonFormat() {\r\n    try (ConsoleCaptor consoleCaptor = new ConsoleCaptor()) {\r\n\r\n      QueryClass query = new QueryClass();\r\n      query.querySomeItem(null, null);\r\n      List&lt;String&gt; standardOutPut = consoleCaptor.getStandardOutput(); // this list returns empty\r\n\r\n      assertTrue(isValid(standardOutPut.get(1)));\r\n    }\r\n  }\r\n}\r\n```\r\n```\r\n{&quot;timestamp&quot;:&quot;2022-08-10T09:32:41.109+03:00&quot;,&quot;sequence&quot;:76,&quot;loggerClassName&quot;:&quot;org.jboss.logging.Logger&quot;,&quot;loggerName&quot;:&quot;io.quarkus.amazon.lambda.runtime.AbstractLambdaPollLoop&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;message&quot;:&quot;Listening on: http://localhost:8081/_lambda_/2018-06-01/runtime/invocation/next&quot;,&quot;threadName&quot;:&quot;Lambda Thread (TEST)&quot;,&quot;threadId&quot;:127,&quot;mdc&quot;:{},&quot;ndc&quot;:&quot;&quot;,&quot;hostName&quot;:&quot;my-laptop-name&quot;,&quot;processName&quot;:&quot;JUnitStarter&quot;,&quot;processId&quot;:48118}\r\n\r\njava.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 0 // This means nothing was captured from the logs\r\n```\r\n\r\nMy logger is `@JBossLog`, I suspect that maybe they are not compatible.\r\n\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logcaptor&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7.10&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n      &lt;artifactId&gt;consolecaptor&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://github.com/Hakky54/log-captor","title":"LogCaptor lib consoleCaptor.getStandardOutput() doesn&#39;t show anything","body":"<p>Using <a href=\"https://github.com/Hakky54/log-captor\" rel=\"nofollow noreferrer\">LogCaptor</a> to unit test my logs, my issue is that with the same way as it is explained in the <a href=\"https://github.com/Hakky54/log-captor\" rel=\"nofollow noreferrer\">README</a> I tried to use <code>consoleCaptor.getStandardOutput()</code> since I'm using <code>@QuarkusTest</code> but it gets nothing from the output, Even though the console is showing multiple json logs in the output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@QuarkusTest\npublic class TestLog {\n\n  ObjectMapper mapper = new ObjectMapper();\n\n  @Test\n  public void testLogIsInJsonFormat() {\n    try (ConsoleCaptor consoleCaptor = new ConsoleCaptor()) {\n\n      QueryClass query = new QueryClass();\n      query.querySomeItem(null, null);\n      List&lt;String&gt; standardOutPut = consoleCaptor.getStandardOutput(); // this list returns empty\n\n      assertTrue(isValid(standardOutPut.get(1)));\n    }\n  }\n}\n</code></pre>\n<pre><code>{&quot;timestamp&quot;:&quot;2022-08-10T09:32:41.109+03:00&quot;,&quot;sequence&quot;:76,&quot;loggerClassName&quot;:&quot;org.jboss.logging.Logger&quot;,&quot;loggerName&quot;:&quot;io.quarkus.amazon.lambda.runtime.AbstractLambdaPollLoop&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;message&quot;:&quot;Listening on: http://localhost:8081/_lambda_/2018-06-01/runtime/invocation/next&quot;,&quot;threadName&quot;:&quot;Lambda Thread (TEST)&quot;,&quot;threadId&quot;:127,&quot;mdc&quot;:{},&quot;ndc&quot;:&quot;&quot;,&quot;hostName&quot;:&quot;my-laptop-name&quot;,&quot;processName&quot;:&quot;JUnitStarter&quot;,&quot;processId&quot;:48118}\n\njava.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 0 // This means nothing was captured from the logs\n</code></pre>\n<p>My logger is <code>@JBossLog</code>, I suspect that maybe they are not compatible.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n      &lt;artifactId&gt;logcaptor&lt;/artifactId&gt;\n      &lt;version&gt;2.7.10&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n      &lt;artifactId&gt;consolecaptor&lt;/artifactId&gt;\n      &lt;version&gt;1.0.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","unit-testing","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":13758670,"reputation":698,"user_id":9928908,"display_name":"Manav Chhibber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660252267,"creation_date":1660252267,"answer_id":73326924,"question_id":73326110,"body_markdown":"&gt; In tests objectMapper is null. How can I initialize objectMapper in unit that deserialize classes created correctly with dependencies? \r\n\r\nIt&#39;s simply because it&#39;s not able to inject a proper initialized bean at run time. \r\nUsing `@SpringBootTest` annotation should suffice in your case. \r\n\r\n```\r\n@RunWith(SpringRunner.class) // not sure why you require this\r\n@SpringBootTest\r\npublic void MyObjectDeserTest {\r\n\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n}\r\n```\r\n\r\nNote that this would load the entire Application context and is a *flaky way of testing*.\r\n\r\nPlease consider using only source class of test i.e. `MyObjectDeserializer` object when writing unit tests. Let the underlying dependencies be handled by Mocks.","title":"Custom deserializer with not empty arg constructor in unit tests","body":"<blockquote>\n<p>In tests objectMapper is null. How can I initialize objectMapper in unit that deserialize classes created correctly with dependencies?</p>\n</blockquote>\n<p>It's simply because it's not able to inject a proper initialized bean at run time.\nUsing <code>@SpringBootTest</code> annotation should suffice in your case.</p>\n<pre><code>@RunWith(SpringRunner.class) // not sure why you require this\n@SpringBootTest\npublic void MyObjectDeserTest {\n\n\n    @Autowired\n    private ObjectMapper objectMapper;\n}\n</code></pre>\n<p>Note that this would load the entire Application context and is a <em>flaky way of testing</em>.</p>\n<p>Please consider using only source class of test i.e. <code>MyObjectDeserializer</code> object when writing unit tests. Let the underlying dependencies be handled by Mocks.</p>\n"}],"owner":{"account_id":19522690,"reputation":113,"user_id":14284182,"display_name":"Haster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73326924,"answer_count":1,"score":0,"last_activity_date":1660252267,"creation_date":1660246786,"question_id":73326110,"body_markdown":"I have spring boot mvc application and I use custom deserializer for my object.\r\nMy custom deserializer class has constructor that get 1 parameter:\r\n```\r\n@JsonDeserialize(using = MyObjectDeserializer.class)\r\nclass MyObject {\r\n. . .\r\n}\r\n\r\n@Component\r\nclass MyObjectDeserializer extends JsonDeserializer&lt;MyObject&gt; {\r\n\r\n  private AnotherObject anotherObject;\r\n\r\n  @Autowired\r\n  public MyObjectDeserializer(AnotherObject anotherObject) {\r\n    this.anotherObject = anotherObject;\r\n  }\r\n ...\r\n}\r\n```\r\n\r\nWhen I run application all works well, so as I understand there is some &quot;magic&quot;:\r\nsome component creates objectMapper bean and beans for AnotherObject and MyObjectDeserializer beans.\r\nBut in unit test this &quot;magic&quot; is absent: \r\n```\r\n@RunWith(SpringRunner.class)\r\npublic void MyObjectDeserTest {\r\n\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n}\r\n\r\n```\r\n\r\nIn tests objectMapper is null.\r\nHow can I initialize objectMapper in unit that deserialize classes created correctly with dependencies?\r\n\r\nOr may be there is another more correctly way to inject some object to the deserializer?","title":"Custom deserializer with not empty arg constructor in unit tests","body":"<p>I have spring boot mvc application and I use custom deserializer for my object.\nMy custom deserializer class has constructor that get 1 parameter:</p>\n<pre><code>@JsonDeserialize(using = MyObjectDeserializer.class)\nclass MyObject {\n. . .\n}\n\n@Component\nclass MyObjectDeserializer extends JsonDeserializer&lt;MyObject&gt; {\n\n  private AnotherObject anotherObject;\n\n  @Autowired\n  public MyObjectDeserializer(AnotherObject anotherObject) {\n    this.anotherObject = anotherObject;\n  }\n ...\n}\n</code></pre>\n<p>When I run application all works well, so as I understand there is some &quot;magic&quot;:\nsome component creates objectMapper bean and beans for AnotherObject and MyObjectDeserializer beans.\nBut in unit test this &quot;magic&quot; is absent:</p>\n<pre><code>@RunWith(SpringRunner.class)\npublic void MyObjectDeserTest {\n\n\n    @Autowired\n    private ObjectMapper objectMapper;\n}\n\n</code></pre>\n<p>In tests objectMapper is null.\nHow can I initialize objectMapper in unit that deserialize classes created correctly with dependencies?</p>\n<p>Or may be there is another more correctly way to inject some object to the deserializer?</p>\n"},{"tags":["java","kotlin","supercsv"],"answers":[{"tags":[],"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660251998,"creation_date":1660251546,"answer_id":73326826,"question_id":73325844,"body_markdown":"The problem seems to be on this line:\r\n\r\n```\r\nval rowValue=readHeader.map { header-&gt; row.getOrDefault(header,&quot;\\\\s&quot;) }\r\n```\r\n\r\nWithout testing this, I would say that there&#39;s a `null` in row at index `LastName`, hence default value in `getOrDefault` is not applied because map contains the key.\r\n\r\nPlease try something like this:\r\n\r\n```\r\nval rowValue=readHeader.map { header-&gt; row.getOrDefault(header,&quot;\\\\s&quot;) ?: &quot;&quot; }\r\n```\r\n\r\n\r\n\r\n","title":"How to add whitespace in place of null values when reading from a file using SuperCSV?","body":"<p>The problem seems to be on this line:</p>\n<pre><code>val rowValue=readHeader.map { header-&gt; row.getOrDefault(header,&quot;\\\\s&quot;) }\n</code></pre>\n<p>Without testing this, I would say that there's a <code>null</code> in row at index <code>LastName</code>, hence default value in <code>getOrDefault</code> is not applied because map contains the key.</p>\n<p>Please try something like this:</p>\n<pre><code>val rowValue=readHeader.map { header-&gt; row.getOrDefault(header,&quot;\\\\s&quot;) ?: &quot;&quot; }\n</code></pre>\n"}],"owner":{"account_id":15652376,"reputation":1164,"user_id":11293523,"display_name":"wick3d"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73326826,"answer_count":1,"score":0,"last_activity_date":1660251998,"creation_date":1660245354,"question_id":73325844,"body_markdown":"I am trying to add `column` to the end of a file without changing the contents using SuperCSV and kotlin.\r\n\r\nI cannot use CSVWriter due to limitation of resources.\r\n\r\nSo, my idea is to read from the original file row by row and add that to a string and have the result be used as a byte array.\r\n\r\n```kotlin\r\n\r\n    fun addColumnToCSV(csvData: ByteArray, columnName: String, columnValue: String): ByteArray {\r\n        val prefs = CsvPreference.Builder(CsvPreference.STANDARD_PREFERENCE)\r\n            .useQuoteMode(NormalQuoteMode()).build()\r\n\r\n        val mapReader = CsvMapReader(BufferedReader(InputStreamReader(csvData.inputStream())), prefs)\r\n        val readHeader = mapReader.getHeader(true)\r\n\r\n        var row = mapReader.read(*readHeader)\r\n        var csv: String = readHeader.joinToString(&quot;,&quot;, postfix = &quot;,$columnName\\n&quot;)\r\n        while (row != null) {\r\n            val rowValue=readHeader.map { header-&gt; row.getOrDefault(header,&quot;\\\\s&quot;) }\r\n            csv += rowValue.joinToString(&quot;,&quot;, postfix = &quot;,$columnValue\\n&quot;)\r\n            row = mapReader.read(*readHeader)\r\n        }\r\n        csv = csv.trim()\r\n        mapReader.close()\r\n        return csv.toByteArray()\r\n    }\r\n```\r\n\r\nSo, I have an example here and written a test for it.\r\n\r\n```kotlin\r\n    @Test\r\n    fun `should add extra column in csv data when there are missing values`() {\r\n        val columnName = &quot;ExtraColumn&quot;\r\n        val columnValue = &quot;Value&quot;\r\n        val expectedCSV = &quot;Name,LastName,$columnName\\n&quot; +\r\n                &quot;John,Doe,$columnValue\\n&quot; +\r\n                &quot;Jane,,$columnValue&quot;\r\n\r\n        val csvData = &quot;Name,LastName\\n&quot; + &quot;John,Doe\\n&quot; + &quot;Jane,&quot;\r\n\r\n        val csv = addColumnToCSV(csvData.toByteArray(), columnName, columnValue)\r\n\r\n        Assertions.assertThat(String(csv)).isEqualTo(expectedCSV)\r\n    }\r\n```\r\nThis test fails because the actual of `csv` data is \r\n```\r\nName,LastName,ExtraColumn\r\nJohn,Doe,Value\r\nJane,null,Value\r\n```\r\nI want it to be this, so that I am not changing the existing values that are present in the csv file.\r\n```\r\nName,LastName,ExtraColumn\r\nJohn,Doe,Value\r\nJane,,Value\r\n```\r\nI have tried with `row.getOrDefault(header,&quot;&quot;)` its still the same result. How do I achieve this?","title":"How to add whitespace in place of null values when reading from a file using SuperCSV?","body":"<p>I am trying to add <code>column</code> to the end of a file without changing the contents using SuperCSV and kotlin.</p>\n<p>I cannot use CSVWriter due to limitation of resources.</p>\n<p>So, my idea is to read from the original file row by row and add that to a string and have the result be used as a byte array.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\n    fun addColumnToCSV(csvData: ByteArray, columnName: String, columnValue: String): ByteArray {\n        val prefs = CsvPreference.Builder(CsvPreference.STANDARD_PREFERENCE)\n            .useQuoteMode(NormalQuoteMode()).build()\n\n        val mapReader = CsvMapReader(BufferedReader(InputStreamReader(csvData.inputStream())), prefs)\n        val readHeader = mapReader.getHeader(true)\n\n        var row = mapReader.read(*readHeader)\n        var csv: String = readHeader.joinToString(&quot;,&quot;, postfix = &quot;,$columnName\\n&quot;)\n        while (row != null) {\n            val rowValue=readHeader.map { header-&gt; row.getOrDefault(header,&quot;\\\\s&quot;) }\n            csv += rowValue.joinToString(&quot;,&quot;, postfix = &quot;,$columnValue\\n&quot;)\n            row = mapReader.read(*readHeader)\n        }\n        csv = csv.trim()\n        mapReader.close()\n        return csv.toByteArray()\n    }\n</code></pre>\n<p>So, I have an example here and written a test for it.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    @Test\n    fun `should add extra column in csv data when there are missing values`() {\n        val columnName = &quot;ExtraColumn&quot;\n        val columnValue = &quot;Value&quot;\n        val expectedCSV = &quot;Name,LastName,$columnName\\n&quot; +\n                &quot;John,Doe,$columnValue\\n&quot; +\n                &quot;Jane,,$columnValue&quot;\n\n        val csvData = &quot;Name,LastName\\n&quot; + &quot;John,Doe\\n&quot; + &quot;Jane,&quot;\n\n        val csv = addColumnToCSV(csvData.toByteArray(), columnName, columnValue)\n\n        Assertions.assertThat(String(csv)).isEqualTo(expectedCSV)\n    }\n</code></pre>\n<p>This test fails because the actual of <code>csv</code> data is</p>\n<pre><code>Name,LastName,ExtraColumn\nJohn,Doe,Value\nJane,null,Value\n</code></pre>\n<p>I want it to be this, so that I am not changing the existing values that are present in the csv file.</p>\n<pre><code>Name,LastName,ExtraColumn\nJohn,Doe,Value\nJane,,Value\n</code></pre>\n<p>I have tried with <code>row.getOrDefault(header,&quot;&quot;)</code> its still the same result. How do I achieve this?</p>\n"},{"tags":["java","android","libgdx"],"answers":[{"tags":[],"owner":{"account_id":24335622,"reputation":26,"user_id":18273734,"display_name":"Alf Equilfe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660142125,"creation_date":1660142125,"answer_id":73308200,"question_id":73305605,"body_markdown":"First, are you trying to make the button size&#39;s same on all device&#39;s screen resolution? or you want to make camera zooming have same value?\r\n\r\nOk, How the variable &lt;b&gt;WIDTH&lt;/b&gt; and &lt;b&gt;HEIGHT&lt;/b&gt; was declared?&lt;br/&gt;if you have declared both with one spesific size. Its will be not same if you&#39;re trying in another resolutions.\r\n\r\n&lt;b&gt;EXAMPLE:&lt;/b&gt;\r\n\r\n    //Constant Spesific Value of WIDTH and HEIGHT Size.\r\n    public static final int WIDTH = 1280, HEIGHT = 720;\r\n\r\n    ///////////////////////////////////////////////////\r\n\r\n    //Non-Constant Value of WIDTH and HEIGHT Size.\r\n    public static int WIDTH, HEIGHT;\r\n    ...\r\n\r\n    //Define Both In Main.class\r\n    public MainGameScreen(){\r\n      WIDTH = Gdx.graphics.getWidth();\r\n      HEIGHT = Gdx.graphics.getHeight();\r\n    }\r\n\r\nHowever, &lt;b&gt;LibGDX&#39;s&lt;/b&gt; screen resolution can be calculated. Some object size in your game must be spesific, when calculating the size between both &lt;b&gt;WIDTH&lt;/b&gt; and &lt;b&gt;HEIGHT&lt;/b&gt; you need to know, how the size will be same in all device with one spesific calculation.\r\n\r\n&lt;b&gt;EXAMPLE:&lt;/b&gt;\r\n\r\n    /* Button (256x72) in Screen Resolution (1280x720)\r\n       Button (160x48) in Screen Resolution (800x480) */\r\n\r\n    startGame = new Button(0,0, WIDTH/5, HEIGHT/10);\r\n\r\n    //Button (400x100) in All Screen (Constant Value)\r\n\r\n    startGame = new Button(0,0, 400, 100);\r\n\r\nSo, i suggest you to make a calculation to sizing some objects in your game. Because its will be different if you trying to make value in constant.\r\n\r\nOk, the next is, &lt;b&gt;OrthographicCamera&lt;/b&gt;&lt;br/&gt; Which you want to make same value of zoom right? the cam.zoom is a floating value. Its not a constant value, but it was a  variable value that can be changed in all time.\r\n\r\nYou can trying this code, if you want to zoom camera directly on game\r\n\r\n    if(Gdx.input.isTouched()){\r\n      //Zoom Out\r\n      cam.zoom += Gdx.graphics.getDeltaTime();\r\n      //Zoom In\r\n      cam.zoom -= Gdx.graphics.getDeltaTime();\r\n    }\r\n\r\nOr if you talking about static-zoom, in a spesific value (not directly changed)\r\n\r\n    cam.zoom = 1f; //for 1 value of Zoom Out\r\n\r\nI hope you understand what i means and im sorry if my answers can&#39;t be helpful for you, cause im still learning too, all about LibGDX.","title":"libGDX camera zoom is different on different devices:","body":"<p>First, are you trying to make the button size's same on all device's screen resolution? or you want to make camera zooming have same value?</p>\n<p>Ok, How the variable <b>WIDTH</b> and <b>HEIGHT</b> was declared?<br/>if you have declared both with one spesific size. Its will be not same if you're trying in another resolutions.</p>\n<p><b>EXAMPLE:</b></p>\n<pre><code>//Constant Spesific Value of WIDTH and HEIGHT Size.\npublic static final int WIDTH = 1280, HEIGHT = 720;\n\n///////////////////////////////////////////////////\n\n//Non-Constant Value of WIDTH and HEIGHT Size.\npublic static int WIDTH, HEIGHT;\n...\n\n//Define Both In Main.class\npublic MainGameScreen(){\n  WIDTH = Gdx.graphics.getWidth();\n  HEIGHT = Gdx.graphics.getHeight();\n}\n</code></pre>\n<p>However, <b>LibGDX's</b> screen resolution can be calculated. Some object size in your game must be spesific, when calculating the size between both <b>WIDTH</b> and <b>HEIGHT</b> you need to know, how the size will be same in all device with one spesific calculation.</p>\n<p><b>EXAMPLE:</b></p>\n<pre><code>/* Button (256x72) in Screen Resolution (1280x720)\n   Button (160x48) in Screen Resolution (800x480) */\n\nstartGame = new Button(0,0, WIDTH/5, HEIGHT/10);\n\n//Button (400x100) in All Screen (Constant Value)\n\nstartGame = new Button(0,0, 400, 100);\n</code></pre>\n<p>So, i suggest you to make a calculation to sizing some objects in your game. Because its will be different if you trying to make value in constant.</p>\n<p>Ok, the next is, <b>OrthographicCamera</b><br/> Which you want to make same value of zoom right? the cam.zoom is a floating value. Its not a constant value, but it was a  variable value that can be changed in all time.</p>\n<p>You can trying this code, if you want to zoom camera directly on game</p>\n<pre><code>if(Gdx.input.isTouched()){\n  //Zoom Out\n  cam.zoom += Gdx.graphics.getDeltaTime();\n  //Zoom In\n  cam.zoom -= Gdx.graphics.getDeltaTime();\n}\n</code></pre>\n<p>Or if you talking about static-zoom, in a spesific value (not directly changed)</p>\n<pre><code>cam.zoom = 1f; //for 1 value of Zoom Out\n</code></pre>\n<p>I hope you understand what i means and im sorry if my answers can't be helpful for you, cause im still learning too, all about LibGDX.</p>\n"},{"tags":[],"owner":{"account_id":25800514,"reputation":78,"user_id":19543022,"display_name":"eisa.exe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660251841,"creation_date":1660251841,"answer_id":73326872,"question_id":73305605,"body_markdown":"@Alf Equilfe was the one who helped me get to it with his answer and here is the actual solution:\r\n\r\nSet WIDTH, HEIGHT to a constant value independent of device size (make it so that any device can handle the size, in my case i chose 1024, 512) and make the aspect ratio the scale so it looks same on all devices.\r\n","title":"libGDX camera zoom is different on different devices:","body":"<p>@Alf Equilfe was the one who helped me get to it with his answer and here is the actual solution:</p>\n<p>Set WIDTH, HEIGHT to a constant value independent of device size (make it so that any device can handle the size, in my case i chose 1024, 512) and make the aspect ratio the scale so it looks same on all devices.</p>\n"}],"owner":{"account_id":25800514,"reputation":78,"user_id":19543022,"display_name":"eisa.exe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73308200,"answer_count":2,"score":0,"last_activity_date":1660251841,"creation_date":1660131360,"question_id":73305605,"body_markdown":"I&#39;m making a game on both desktop and android and the same code results in two different screens (cam.zoom is the same in both):\r\n[![Left is my desktop and right is an android device][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PWKAL.png\r\n\r\nThe desired result is the left screen and the code used to render is like so: (the image is 8000x4000 and is a place holder for my map)\r\n```\r\npublic class MainMenuScreen implements Screen {\r\n    private final Application application;\r\n    private SpriteBatch batch;\r\n    private ShapeRenderer sr;\r\n    private OrthographicCamera cam;\r\n    private Viewport viewport;\r\n\r\n    private Button startGame;\r\n    private Texture background = new Texture(Gdx.files.internal(&quot;background.jpg&quot;));\r\n\r\n    public MainMenuScreen(final Application application) {\r\n        this.application = application;\r\n        cam = new OrthographicCamera(WIDTH, HEIGHT);\r\n        viewport = new FitViewport(WIDTH, HEIGHT, cam);\r\n\r\n        batch = this.application.batch;\r\n        sr = this.application.sr;\r\n\r\n        startGame = new Button(-50, -25, 100, 50);\r\n        startGame.setColour(new Color(0.01f, 0.35f, 0.47f, 1));\r\n        startGame.setText(&quot;Start game&quot;, this.application.font);\r\n        startGame.setHasBorder(true);\r\n        startGame.setBorderThickness(3);\r\n        startGame.setBorderColour(new Color(0.02f, 0.62f, 0.79f, 1));\r\n        startGame.setTextColour(new Color(0.02f, 0.62f, 0.79f, 1));\r\n\r\n    }\r\n\r\n    public void update() {\r\n        Vector2 mousePos = Extras.getMousePos(viewport);\r\n        if (startGame.isClickedOn(mousePos)) {\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void render(float delta) {\r\n        ScreenUtils.clear(0, 0, 0, 1);\r\n        batch.setProjectionMatrix(cam.combined);\r\n        sr.setProjectionMatrix(cam.combined);\r\n\r\n        update();\r\n        batch.begin();\r\n        batch.draw(background, -background.getWidth() / 2, -background.getHeight() / 2);\r\n        batch.end();\r\n        startGame.render(this.sr, this.batch);\r\n    }\r\n\r\n```\r\nHow do I make sure all different devices have the same zoom in the camera?\r\nA possible solution I don&#39;t know how to implement yet could be setting cam.zoom to a value dependent on the screen size somehow but there has to be a better way for this using libGDX itself.","title":"libGDX camera zoom is different on different devices:","body":"<p>I'm making a game on both desktop and android and the same code results in two different screens (cam.zoom is the same in both):\n<a href=\"https://i.stack.imgur.com/PWKAL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PWKAL.png\" alt=\"Left is my desktop and right is an android device\" /></a></p>\n<p>The desired result is the left screen and the code used to render is like so: (the image is 8000x4000 and is a place holder for my map)</p>\n<pre><code>public class MainMenuScreen implements Screen {\n    private final Application application;\n    private SpriteBatch batch;\n    private ShapeRenderer sr;\n    private OrthographicCamera cam;\n    private Viewport viewport;\n\n    private Button startGame;\n    private Texture background = new Texture(Gdx.files.internal(&quot;background.jpg&quot;));\n\n    public MainMenuScreen(final Application application) {\n        this.application = application;\n        cam = new OrthographicCamera(WIDTH, HEIGHT);\n        viewport = new FitViewport(WIDTH, HEIGHT, cam);\n\n        batch = this.application.batch;\n        sr = this.application.sr;\n\n        startGame = new Button(-50, -25, 100, 50);\n        startGame.setColour(new Color(0.01f, 0.35f, 0.47f, 1));\n        startGame.setText(&quot;Start game&quot;, this.application.font);\n        startGame.setHasBorder(true);\n        startGame.setBorderThickness(3);\n        startGame.setBorderColour(new Color(0.02f, 0.62f, 0.79f, 1));\n        startGame.setTextColour(new Color(0.02f, 0.62f, 0.79f, 1));\n\n    }\n\n    public void update() {\n        Vector2 mousePos = Extras.getMousePos(viewport);\n        if (startGame.isClickedOn(mousePos)) {\n        }\n\n    }\n\n    @Override\n    public void render(float delta) {\n        ScreenUtils.clear(0, 0, 0, 1);\n        batch.setProjectionMatrix(cam.combined);\n        sr.setProjectionMatrix(cam.combined);\n\n        update();\n        batch.begin();\n        batch.draw(background, -background.getWidth() / 2, -background.getHeight() / 2);\n        batch.end();\n        startGame.render(this.sr, this.batch);\n    }\n\n</code></pre>\n<p>How do I make sure all different devices have the same zoom in the camera?\nA possible solution I don't know how to implement yet could be setting cam.zoom to a value dependent on the screen size somehow but there has to be a better way for this using libGDX itself.</p>\n"},{"tags":["java","java-9","jshell"],"comments":[{"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"score":4,"creation_date":1492080224,"post_id":43377787,"comment_id":73840917,"body_markdown":"I&#39;ve been using a .jsh file extension to indicate a file to be run with jshell, since .java implies it can be compiled by javac.","body":"I&#39;ve been using a .jsh file extension to indicate a file to be run with jshell, since .java implies it can be compiled by javac."}],"answers":[{"tags":[],"owner":{"account_id":534720,"reputation":7416,"user_id":904556,"accept_rate":94,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1546933459,"creation_date":1492036318,"answer_id":43380672,"question_id":43377787,"body_markdown":"Inside the script, use the jshell command `/exit`.\r\nThis will exit jshell at the end of your script.\r\n\r\n Check this reference https://docs.oracle.com/javase/9/jshell/introduction-jshell.htm#JSHEL-GUID-465BA4F5-E77D-456F-BCB7-D826AC1E18AE\r\n","title":"How to shutdown jshell at the end of the script?","body":"<p>Inside the script, use the jshell command <code>/exit</code>.\nThis will exit jshell at the end of your script.</p>\n\n<p>Check this reference <a href=\"https://docs.oracle.com/javase/9/jshell/introduction-jshell.htm#JSHEL-GUID-465BA4F5-E77D-456F-BCB7-D826AC1E18AE\" rel=\"noreferrer\">https://docs.oracle.com/javase/9/jshell/introduction-jshell.htm#JSHEL-GUID-465BA4F5-E77D-456F-BCB7-D826AC1E18AE</a></p>\n"},{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1555514960,"creation_date":1555514960,"answer_id":55731188,"question_id":43377787,"body_markdown":"Another possibility is to have an exit file:\r\n\r\n**`exit.jsh`**\r\n\r\n    /exit\r\n\r\nAnd then run:\r\n\r\n    ./jshell --startup myscript.jsh --startup exit.jsh","title":"How to shutdown jshell at the end of the script?","body":"<p>Another possibility is to have an exit file:</p>\n\n<p><strong><code>exit.jsh</code></strong></p>\n\n<pre><code>/exit\n</code></pre>\n\n<p>And then run:</p>\n\n<pre><code>./jshell --startup myscript.jsh --startup exit.jsh\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7779238,"reputation":2290,"user_id":7775187,"display_name":"Mike Twc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660251610,"creation_date":1660251610,"answer_id":73326836,"question_id":43377787,"body_markdown":"Another option:\r\n\r\n```bash\r\ncat /tmp/shell.java | jshell -\r\n```\r\n\r\nShould work the same in bash and windows powershell","title":"How to shutdown jshell at the end of the script?","body":"<p>Another option:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>cat /tmp/shell.java | jshell -\n</code></pre>\n<p>Should work the same in bash and windows powershell</p>\n"}],"owner":{"account_id":321078,"reputation":15468,"user_id":639687,"accept_rate":69,"display_name":"czerny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9680,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":43380672,"answer_count":3,"score":36,"last_activity_date":1660251610,"creation_date":1492024200,"question_id":43377787,"body_markdown":"How to instruct `jshell` to terminate at the end of the script similarly to interpreters of other languages like for example `python3` or `node`?\r\n\r\nFollowing command\r\n\r\n    ./jshell -q /tmp/shell.java\r\n\r\nwith script `/tmp/shell.java`\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.println(&quot;Hello world&quot;);\r\n\r\nprints\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Hello world\r\n    jshell&gt; \r\n\r\nand waits for further commands. I&#39;d like it to stop immediately at the end of the file.\r\n\r\nI&#39;m looking for something more elegant than `System.exit(0);` at the end of the script.\r\n","title":"How to shutdown jshell at the end of the script?","body":"<p>How to instruct <code>jshell</code> to terminate at the end of the script similarly to interpreters of other languages like for example <code>python3</code> or <code>node</code>?</p>\n\n<p>Following command</p>\n\n<pre><code>./jshell -q /tmp/shell.java\n</code></pre>\n\n<p>with script <code>/tmp/shell.java</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\"Hello world\");\n</code></pre>\n\n<p>prints</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Hello world\njshell&gt; \n</code></pre>\n\n<p>and waits for further commands. I'd like it to stop immediately at the end of the file.</p>\n\n<p>I'm looking for something more elegant than <code>System.exit(0);</code> at the end of the script.</p>\n"},{"tags":["java","mysql","spring-boot","docker","dockerfile"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1660212915,"post_id":73299367,"comment_id":129481874,"body_markdown":"You probably need to add a dependency (`depends_on`) from the `backend` definition to the `mysql-server` definition, so it waits for it to start.","body":"You probably need to add a dependency (<code>depends_on</code>) from the <code>backend</code> definition to the <code>mysql-server</code> definition, so it waits for it to start."},{"owner":{"account_id":20708783,"reputation":3,"user_id":15205943,"display_name":"noor.soreti"},"score":0,"creation_date":1660250936,"post_id":73299367,"comment_id":129495174,"body_markdown":"@MarkRotteveel, I&#39;ve tried that as well but the backend container was still not able to connect to my db container.","body":"@MarkRotteveel, I&#39;ve tried that as well but the backend container was still not able to connect to my db container."}],"owner":{"account_id":20708783,"reputation":3,"user_id":15205943,"display_name":"noor.soreti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1660091417,"answer_count":0,"score":0,"last_activity_date":1660251159,"creation_date":1660090636,"question_id":73299367,"body_markdown":"I am trying to containerize a Spring Boot application. The application uses JPA, so in order to run the app, it needs to be connected to a db. \r\n\r\nI ran the application locally and successfully connected to a MySQL I had running in a container. However, when I tried running the application container, it was unable to connect to the mysql container. \r\n\r\nWhat I&#39;ve tried:\r\n\r\n - In `application.properties`\r\n     - Changed `spring.datasource.url` hostname from `localhost` to `mysql-server` (mysql container name)\r\n - Added `SPRING_DATASOURCE_URL` env to `docker-compose.yml`\r\n - Manually build both sql and application containers and connected them to a network\r\n - Included `depends_on` dependency to backend container definition\r\n\r\nAnd a lot more that I can&#39;t remember at the moment but will include when they come to me.\r\n\r\nAnyways, I can&#39;t figure out what I&#39;m missing so any help on this issue would be greatly appreciated. \r\n\r\n\r\nDockerfile\r\n\r\n    FROM ubuntu:20.04\r\n    RUN apt-get update \\\r\n    &amp;&amp; apt-get install -y openjdk-11-jdk\r\n    ADD target/employeemanager-0.0.1-SNAPSHOT.jar myproject.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;myproject.jar&quot;]\r\n\r\n\r\n\r\n\r\n `application.properties`\r\n````\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.url=jdbc:mysql://mysql-server:3306/db_example?serverTimezone=UTC\r\nspring.datasource.username=root\r\nspring.datasource.password=mysql\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n````\r\n\r\n`docker-compose.yml`\r\n\r\n```\r\nversion: &#39;3&#39;\r\nservices:\r\n  mysql-server:\r\n    image: mysql/mysql-server\r\n    container_name: mysql-server\r\n    hostname: mysql-server\r\n    environment:\r\n    MYSQL_ROOT_USER: root\r\n    MYSQL_USER: root\r\n        MYSQL_DATABASE: db_example\r\n    volumes:\r\n      - mydata:/var/lib/mysql\r\n    ports:\r\n      - 3306:3306\r\n  \r\n  backend:\r\n    image: soretinoor/test-maven\r\n    container_name: maven-app\r\n    environment:\r\n      SPRING_DATASOURCE_URL: jdbc:mysql://mysql-server:3306/db_example?serverTimezone=UTC\r\n\r\n    ports:\r\n      - 8080:8080\r\n  \r\nvolumes:\r\n  mydata:\r\n\r\n```\r\n\r\n\r\nError:\r\n```none\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:91) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:144) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:956) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:826) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\t... 32 common frames omitted\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n\tat java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\r\n\tat java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\r\n\tat com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:65) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\t... 35 common frames omitted\r\n\r\n2022-08-10 03:43:19.773  WARN 1 --- [         task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01\r\n2022-08-10 03:43:19.774 ERROR 1 --- [         task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n2022-08-10 03:43:19.779  WARN 1 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;employeeRepo&#39; defined in tech.getarrays.employeemanager.repo.EmployeeRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean &#39;jpaMappingContext&#39; while setting bean property &#39;mappingContext&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n2022-08-10 03:43:19.780  INFO 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-08-10 03:43:19.780  WARN 1 --- [           main] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name &#39;entityManagerFactory&#39;: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n2022-08-10 03:43:19.780  INFO 1 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n2022-08-10 03:43:19.784  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-08-10 03:43:19.808  INFO 1 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-08-10 03:43:19.813 ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;employeeRepo&#39; defined in tech.getarrays.employeemanager.repo.EmployeeRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean &#39;jpaMappingContext&#39; while setting bean property &#39;mappingContext&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1699) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1444) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51) ~[spring-data-commons-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\r\n\tat org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36) ~[spring-data-commons-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404) ~[spring-context-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361) ~[spring-context-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898) ~[spring-context-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554) ~[spring-context-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\r\n\tat tech.getarrays.employeemanager.EmployeemanagerApplication.main(EmployeemanagerApplication.java:16) ~[classes!/:0.0.1-SNAPSHOT]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[myproject.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:109) ~[myproject.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[myproject.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[myproject.jar:0.0.1-SNAPSHOT]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\t... 36 common frames omitted\r\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:403) ~[spring-orm-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\nCaused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:333) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:316) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:469) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) ~[spring-orm-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\r\n\t... 4 common frames omitted\r\nCaused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:836) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:197) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-3.4.5.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358) ~[HikariCP-3.4.5.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-3.4.5.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477) ~[HikariCP-3.4.5.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560) ~[HikariCP-3.4.5.jar!/:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-3.4.5.jar!/:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-3.4.5.jar!/:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\r\n\t... 19 common frames omitted\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:91) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:144) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:956) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:826) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\t... 32 common frames omitted\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n\tat java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\r\n\tat java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\r\n\tat com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:65) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\r\n\t... 35 common frames omitted\r\n\r\n```","title":"Spring boot container can&#39;t connect to mysql container","body":"<p>I am trying to containerize a Spring Boot application. The application uses JPA, so in order to run the app, it needs to be connected to a db.</p>\n<p>I ran the application locally and successfully connected to a MySQL I had running in a container. However, when I tried running the application container, it was unable to connect to the mysql container.</p>\n<p>What I've tried:</p>\n<ul>\n<li>In <code>application.properties</code>\n<ul>\n<li>Changed <code>spring.datasource.url</code> hostname from <code>localhost</code> to <code>mysql-server</code> (mysql container name)</li>\n</ul>\n</li>\n<li>Added <code>SPRING_DATASOURCE_URL</code> env to <code>docker-compose.yml</code></li>\n<li>Manually build both sql and application containers and connected them to a network</li>\n<li>Included <code>depends_on</code> dependency to backend container definition</li>\n</ul>\n<p>And a lot more that I can't remember at the moment but will include when they come to me.</p>\n<p>Anyways, I can't figure out what I'm missing so any help on this issue would be greatly appreciated.</p>\n<p>Dockerfile</p>\n<pre><code>FROM ubuntu:20.04\nRUN apt-get update \\\n&amp;&amp; apt-get install -y openjdk-11-jdk\nADD target/employeemanager-0.0.1-SNAPSHOT.jar myproject.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;myproject.jar&quot;]\n</code></pre>\n<p><code>application.properties</code></p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://mysql-server:3306/db_example?serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=mysql\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p><code>docker-compose.yml</code></p>\n<pre><code>version: '3'\nservices:\n  mysql-server:\n    image: mysql/mysql-server\n    container_name: mysql-server\n    hostname: mysql-server\n    environment:\n    MYSQL_ROOT_USER: root\n    MYSQL_USER: root\n        MYSQL_DATABASE: db_example\n    volumes:\n      - mydata:/var/lib/mysql\n    ports:\n      - 3306:3306\n  \n  backend:\n    image: soretinoor/test-maven\n    container_name: maven-app\n    environment:\n      SPRING_DATASOURCE_URL: jdbc:mysql://mysql-server:3306/db_example?serverTimezone=UTC\n\n    ports:\n      - 8080:8080\n  \nvolumes:\n  mydata:\n\n</code></pre>\n<p>Error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:91) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:144) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:956) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:826) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    ... 32 common frames omitted\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\n    at java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\n    at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:65) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    ... 35 common frames omitted\n\n2022-08-10 03:43:19.773  WARN 1 --- [         task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08S01\n2022-08-10 03:43:19.774 ERROR 1 --- [         task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n2022-08-10 03:43:19.779  WARN 1 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'employeeRepo' defined in tech.getarrays.employeemanager.repo.EmployeeRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaMappingContext' while setting bean property 'mappingContext'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n2022-08-10 03:43:19.780  INFO 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-08-10 03:43:19.780  WARN 1 --- [           main] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n2022-08-10 03:43:19.780  INFO 1 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n2022-08-10 03:43:19.784  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-08-10 03:43:19.808  INFO 1 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-08-10 03:43:19.813 ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'employeeRepo' defined in tech.getarrays.employeemanager.repo.EmployeeRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaMappingContext' while setting bean property 'mappingContext'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1699) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1444) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:621) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:609) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:51) ~[spring-data-commons-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\n    at org.springframework.data.repository.config.DeferredRepositoryInitializationListener.onApplicationEvent(DeferredRepositoryInitializationListener.java:36) ~[spring-data-commons-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404) ~[spring-context-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361) ~[spring-context-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898) ~[spring-context-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554) ~[spring-context-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.1.RELEASE.jar!/:2.3.1.RELEASE]\n    at tech.getarrays.employeemanager.EmployeemanagerApplication.main(EmployeemanagerApplication.java:16) ~[classes!/:0.0.1-SNAPSHOT]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[myproject.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:109) ~[myproject.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[myproject.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[myproject.jar:0.0.1-SNAPSHOT]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330) ~[spring-beans-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    ... 36 common frames omitted\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:403) ~[spring-orm-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\nCaused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:67) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.getTables(InformationExtractorJdbcDatabaseMetaDataImpl.java:333) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:120) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:65) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:316) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:469) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) ~[spring-orm-5.2.7.RELEASE.jar!/:5.2.7.RELEASE]\n    ... 4 common frames omitted\nCaused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:836) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:197) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-3.4.5.jar!/:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358) ~[HikariCP-3.4.5.jar!/:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-3.4.5.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477) ~[HikariCP-3.4.5.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560) ~[HikariCP-3.4.5.jar!/:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-3.4.5.jar!/:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-3.4.5.jar!/:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43) ~[hibernate-core-5.4.17.Final.jar!/:5.4.17.Final]\n    ... 19 common frames omitted\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:91) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:144) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:956) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:826) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    ... 32 common frames omitted\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\n    at java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\n    at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:65) ~[mysql-connector-java-8.0.20.jar!/:8.0.20]\n    ... 35 common frames omitted\n\n</code></pre>\n"},{"tags":["java","java-stream","collectors","groupingby"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660136170,"creation_date":1660105569,"answer_id":73300611,"question_id":73299786,"body_markdown":"\r\nAfter creating the nested map via `groupingBy` you would normally end up with a list of `MyObject`.  But you want to sum those values so you need to use `CollectingAndThen` with a `finisher`.  In this case the finisher streams each list and applies a reduction to build the final object. In my solution I simply created a new `MySumObject` each time, adding the previouly computed MySumObject, to the next `MyObject` value from the list. This method is quite common and has advantages in that it also works with immutable containers such as `records` and does not require additional modification to your classes outside of the standard getters used to retrieve the fields. To avoid clutter, I created a helper method to do the reduction. But the actual summation code could have been put in the collector.\r\n``` \r\nMap&lt;String, Map&lt;String, MySumObject&gt;&gt; map = list.stream()\r\n\t\t.collect(Collectors.groupingBy(\r\n\t\t\t\tMyObject::getLoanType,\r\n\t\t\t\tCollectors.groupingBy(\r\n\t\t\t\t\t\tMyObject::getLoanCurrency,\r\n\t\t\t\t\t\tCollectors.collectingAndThen(\r\n\t\t\t\t\t\t\t\tCollectors.toList(),\r\n\t\t\t\t\t\t\t\tlst-&gt;summing(lst)))));\r\n\r\n```\r\nHelper method to reduce the list to a single object.  Since the reduction works on two different types, the three argument version of reduce is used.  First the target `MySumObject` is initialized with zero sums. Then the reduction creates the new `MySumObject` and adds each appropriate `MyObject` to it. The third argument would be used for parallel processing to sum the different `MySumObjects` from different threads.  In this case, I just assigned the already computed value assuming a single stream.  \r\n```\r\npublic static MySumObject summing(List&lt;MyObject&gt; list) {\r\n\treturn list.stream()\r\n\t.reduce(new MySumObject(\r\n\t\t\tBigDecimal.ZERO,\r\n\t\t\tBigDecimal.ZERO),\r\n\t\t\t(MySumObject mySum, MyObject myOb) -&gt; new MySumObject(\r\n\t\t\t\t\tmyOb.getAmountPaid()\r\n\t\t\t\t\t\t\t.add(mySum.getPaidSum()),\r\n\t\t\t\t\tmyOb.getAmountRemaining()\r\n\t\t\t\t\t\t\t.add(mySum.getRemainingSum())),(a,b)-&gt;a);\r\n}\r\n```\r\nAs an alternative, you could also do it like this which I believe would be more efficient since you are summing as each `MyObject` is referenced.  It takes advantage of the Java 8+ map enhancements.  [ComputeIfAbsent](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)) creates the value if the key is missing.  It will return that value or the existing one.  Since that value is also a map, [compute](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#compute(K,java.util.function.BiFunction)) can be applied.  That will also create the value if the key is missing or process the existing value.   \r\n```\r\nMap&lt;String, Map&lt;String, MySumObject&gt;&gt; map = new HashMap&lt;&gt;();\r\nfor (MyObject mo : list) {\r\n\tmap.computeIfAbsent(mo.getLoanType(),\r\n\t\t\tv -&gt; new HashMap&lt;String, MySumObject&gt;())\r\n\t\t\t.compute(mo.getLoanCurrency(),\r\n\t\t\t\t\t(k, v) -&gt; v == null ?\r\n\t\t\t\t\t\t\tnew MySumObject(\r\n\t\t\t\t\t\t\t\t\tmo.getAmountPaid(),\r\n\t\t\t\t\t\t\t\t\tmo.getAmountRemaining()) :\r\n\t\t\t\t\t\t\tnew MySumObject(\r\n\t\t\t\t\t\t\t\t\tv.getPaidSum().add(mo\r\n\t\t\t\t\t\t\t\t\t\t\t.getAmountPaid()),\r\n\t\t\t\t\t\t\t\t\tv.getRemainingSum().add(mo\r\n\t\t\t\t\t\t\t\t\t\t\t.getAmountRemaining())));\r\n}\r\n```\r\nFor the following data, the output is shown and would be identical for both methods.\r\n```\r\npublic static void main(String[] args) {\r\n\tList&lt;MyObject&gt; list = List.of(\r\n\t\t\tnew MyObject(&quot;Type1&quot;, &quot;Currency1&quot;,\r\n\t\t\t\t\tBigDecimal.valueOf(10),\r\n\t\t\t\t\tBigDecimal.valueOf(100)),\r\n\t\t\tnew MyObject(&quot;Type2&quot;, &quot;Currency2&quot;,\r\n\t\t\t\t\tBigDecimal.valueOf(20),\r\n\t\t\t\t\tBigDecimal.valueOf(200)),\r\n\t\t\tnew MyObject(&quot;Type1&quot;, &quot;Currency1&quot;,\r\n\t\t\t\t\tBigDecimal.valueOf(30),\r\n\t\t\t\t\tBigDecimal.valueOf(300)),\r\n\t\t\tnew MyObject(&quot;Type2&quot;, &quot;Currency2&quot;,\r\n\t\t\t\t\tBigDecimal.valueOf(40),\r\n\t\t\t\t\tBigDecimal.valueOf(400)));\r\n\r\nmap.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nType2={Currency2=MySumObject[getPaidSum=60, getRemainingSum=600]}\r\nType1={Currency1=MySumObject[getPaidSum=40, getRemainingSum=400]}\r\n","title":"Creating Map of Maps using a custom Object as a reduction type in Java 8","body":"<p>After creating the nested map via <code>groupingBy</code> you would normally end up with a list of <code>MyObject</code>.  But you want to sum those values so you need to use <code>CollectingAndThen</code> with a <code>finisher</code>.  In this case the finisher streams each list and applies a reduction to build the final object. In my solution I simply created a new <code>MySumObject</code> each time, adding the previouly computed MySumObject, to the next <code>MyObject</code> value from the list. This method is quite common and has advantages in that it also works with immutable containers such as <code>records</code> and does not require additional modification to your classes outside of the standard getters used to retrieve the fields. To avoid clutter, I created a helper method to do the reduction. But the actual summation code could have been put in the collector.</p>\n<pre><code>Map&lt;String, Map&lt;String, MySumObject&gt;&gt; map = list.stream()\n        .collect(Collectors.groupingBy(\n                MyObject::getLoanType,\n                Collectors.groupingBy(\n                        MyObject::getLoanCurrency,\n                        Collectors.collectingAndThen(\n                                Collectors.toList(),\n                                lst-&gt;summing(lst)))));\n\n</code></pre>\n<p>Helper method to reduce the list to a single object.  Since the reduction works on two different types, the three argument version of reduce is used.  First the target <code>MySumObject</code> is initialized with zero sums. Then the reduction creates the new <code>MySumObject</code> and adds each appropriate <code>MyObject</code> to it. The third argument would be used for parallel processing to sum the different <code>MySumObjects</code> from different threads.  In this case, I just assigned the already computed value assuming a single stream.</p>\n<pre><code>public static MySumObject summing(List&lt;MyObject&gt; list) {\n    return list.stream()\n    .reduce(new MySumObject(\n            BigDecimal.ZERO,\n            BigDecimal.ZERO),\n            (MySumObject mySum, MyObject myOb) -&gt; new MySumObject(\n                    myOb.getAmountPaid()\n                            .add(mySum.getPaidSum()),\n                    myOb.getAmountRemaining()\n                            .add(mySum.getRemainingSum())),(a,b)-&gt;a);\n}\n</code></pre>\n<p>As an alternative, you could also do it like this which I believe would be more efficient since you are summing as each <code>MyObject</code> is referenced.  It takes advantage of the Java 8+ map enhancements.  <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\">ComputeIfAbsent</a> creates the value if the key is missing.  It will return that value or the existing one.  Since that value is also a map, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#compute(K,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">compute</a> can be applied.  That will also create the value if the key is missing or process the existing value.</p>\n<pre><code>Map&lt;String, Map&lt;String, MySumObject&gt;&gt; map = new HashMap&lt;&gt;();\nfor (MyObject mo : list) {\n    map.computeIfAbsent(mo.getLoanType(),\n            v -&gt; new HashMap&lt;String, MySumObject&gt;())\n            .compute(mo.getLoanCurrency(),\n                    (k, v) -&gt; v == null ?\n                            new MySumObject(\n                                    mo.getAmountPaid(),\n                                    mo.getAmountRemaining()) :\n                            new MySumObject(\n                                    v.getPaidSum().add(mo\n                                            .getAmountPaid()),\n                                    v.getRemainingSum().add(mo\n                                            .getAmountRemaining())));\n}\n</code></pre>\n<p>For the following data, the output is shown and would be identical for both methods.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;MyObject&gt; list = List.of(\n            new MyObject(&quot;Type1&quot;, &quot;Currency1&quot;,\n                    BigDecimal.valueOf(10),\n                    BigDecimal.valueOf(100)),\n            new MyObject(&quot;Type2&quot;, &quot;Currency2&quot;,\n                    BigDecimal.valueOf(20),\n                    BigDecimal.valueOf(200)),\n            new MyObject(&quot;Type1&quot;, &quot;Currency1&quot;,\n                    BigDecimal.valueOf(30),\n                    BigDecimal.valueOf(300)),\n            new MyObject(&quot;Type2&quot;, &quot;Currency2&quot;,\n                    BigDecimal.valueOf(40),\n                    BigDecimal.valueOf(400)));\n\nmap.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>Type2={Currency2=MySumObject[getPaidSum=60, getRemainingSum=600]}\nType1={Currency1=MySumObject[getPaidSum=40, getRemainingSum=400]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660244390,"creation_date":1660107013,"answer_id":73300766,"question_id":73299786,"body_markdown":"Using `MySumObject` as an accumulation type would make sense only if all the payment operation represented by `MyObject` in the source list belong to **different loans**.\r\n\r\nOtherwise, there&#39;s a flow in your logic - *remaining amount* of a particular loan decreases after each payment. It&#39;s pointless to calculate the sum of *remaining amounts* of the **same** loan. Instead, we can grab the data regarding *remaining amount* from the *loan object* with the latest timestamp or having the lowest *remaining amount*, but that requires different strategy of grouping and different structure of *loan object* (`MyObject`), i.e. should have at least `loanId`.\r\n\r\nThat said, correctness of your logic - is your responsibility.\r\n\r\nLet&#39;s get back to the initial idea of accumulating loans having the same currency and loan type into `MySumObject` (I assume that you know what you&#39;re doing, and it **does** make sense).\r\n\r\nIt can be achieved by creating a *custom collector* based on the `MySumObject`:\r\n\r\n```\r\nMap&lt;String, Map&lt;String, MySumObject&gt;&gt; result = list1.stream()\r\n    .collect(Collectors.groupingBy(\r\n        MyObject::getLoanType,\r\n        Collectors.groupingBy(\r\n            MyObject::getLoanCurrency,\r\n                Collector.of(\r\n                    MySumObject::new,\r\n                    MySumObject::addLoan,\r\n                    MySumObject::merge\r\n                ))\r\n        ));\r\n```\r\n\r\n`MySumObject` with methods `addLoan()` and `merge()`.\r\n\r\n    public static class MySumObject {\r\n        private BigDecimal paidSum = BigDecimal.ZERO;\r\n        private BigDecimal remainingSum = BigDecimal.ZERO;\r\n        \r\n        public void addLoan(LoanObject loan) {\r\n            paidSum = paidSum.add(loan.getAmountPaid());\r\n            remainingSum = remainingSum.add(loan.getAmountRemaining());\r\n        }\r\n        \r\n        public MySumObject merge(MySumObject other) {\r\n            paidSum = paidSum.add(other.getPaidSum());\r\n            remainingSum = remainingSum.add(other.getRemainingSum());\r\n            return this;\r\n        }\r\n        \r\n        // getters, constructor, etc. are omitted\r\n    }\r\n\r\n**Sidenote:** it doesn&#39;t seem to be justifiable to use a string to represent a currency (*unless it&#39;s not an assignment requirement*) because since Java 1.4 we have a class [`Currency`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Currency.html).","title":"Creating Map of Maps using a custom Object as a reduction type in Java 8","body":"<p>Using <code>MySumObject</code> as an accumulation type would make sense only if all the payment operation represented by <code>MyObject</code> in the source list belong to <strong>different loans</strong>.</p>\n<p>Otherwise, there's a flow in your logic - <em>remaining amount</em> of a particular loan decreases after each payment. It's pointless to calculate the sum of <em>remaining amounts</em> of the <strong>same</strong> loan. Instead, we can grab the data regarding <em>remaining amount</em> from the <em>loan object</em> with the latest timestamp or having the lowest <em>remaining amount</em>, but that requires different strategy of grouping and different structure of <em>loan object</em> (<code>MyObject</code>), i.e. should have at least <code>loanId</code>.</p>\n<p>That said, correctness of your logic - is your responsibility.</p>\n<p>Let's get back to the initial idea of accumulating loans having the same currency and loan type into <code>MySumObject</code> (I assume that you know what you're doing, and it <strong>does</strong> make sense).</p>\n<p>It can be achieved by creating a <em>custom collector</em> based on the <code>MySumObject</code>:</p>\n<pre><code>Map&lt;String, Map&lt;String, MySumObject&gt;&gt; result = list1.stream()\n    .collect(Collectors.groupingBy(\n        MyObject::getLoanType,\n        Collectors.groupingBy(\n            MyObject::getLoanCurrency,\n                Collector.of(\n                    MySumObject::new,\n                    MySumObject::addLoan,\n                    MySumObject::merge\n                ))\n        ));\n</code></pre>\n<p><code>MySumObject</code> with methods <code>addLoan()</code> and <code>merge()</code>.</p>\n<pre><code>public static class MySumObject {\n    private BigDecimal paidSum = BigDecimal.ZERO;\n    private BigDecimal remainingSum = BigDecimal.ZERO;\n    \n    public void addLoan(LoanObject loan) {\n        paidSum = paidSum.add(loan.getAmountPaid());\n        remainingSum = remainingSum.add(loan.getAmountRemaining());\n    }\n    \n    public MySumObject merge(MySumObject other) {\n        paidSum = paidSum.add(other.getPaidSum());\n        remainingSum = remainingSum.add(other.getRemainingSum());\n        return this;\n    }\n    \n    // getters, constructor, etc. are omitted\n}\n</code></pre>\n<p><strong>Sidenote:</strong> it doesn't seem to be justifiable to use a string to represent a currency (<em>unless it's not an assignment requirement</em>) because since Java 1.4 we have a class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Currency.html\" rel=\"nofollow noreferrer\"><code>Currency</code></a>.</p>\n"}],"owner":{"account_id":387940,"reputation":37,"user_id":746575,"display_name":"jasmeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":557,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73300766,"answer_count":2,"score":1,"last_activity_date":1660251027,"creation_date":1660096032,"question_id":73299786,"body_markdown":"I have a `List&lt;MyObject&gt;`\r\n```\r\nclass MyObject {\r\n    String loanType;\r\n    String loanCurrency;\r\n    BigDecimal amountPaid;\r\n    BigDecimal amountRemaining;\r\n}\r\n```\r\n\r\nAnd I need to convert this *list* into a *map* `Map&lt;String, Map&lt;String, MySumObject&gt;`.\r\n\r\nI&#39;ve created a custom `MySumObject` class because I need to get a *Sum* for both `amountPaid` and `amountRemaining` from the list of `MyObject` based on the `loanType` and `loanCurrency`.\r\n```\r\nclass MySumObject {\r\n    BigDecimal paidSum;\r\n    BigDecimal remainingSum;\r\n}\r\n```\r\nUsing the code below, I can obtain a `Map&lt;String,Map&lt;String, BigDecimal&gt;&gt;`\r\n\r\n```\r\nMap&lt;String, Map&lt;String, BigDecimal&gt;&gt; result = list1.stream().collect(\r\n    Collectors.groupingBy(LoanObject::getLoanType,\r\n        Collectors.groupingBy(LoanObject::getLoanCurrency,\r\n            Collectors.reducing(\r\n                BigDecimal.ZERO,\r\n                LoanObject::getAmountPaid,\r\n                BigDecimal::add)\r\n        )\r\n    ));\r\n```\r\n\r\nBut I&#39;m stuck on changing it to use `MySumObject` instead of `BigDecimal`.","title":"Creating Map of Maps using a custom Object as a reduction type in Java 8","body":"<p>I have a <code>List&lt;MyObject&gt;</code></p>\n<pre><code>class MyObject {\n    String loanType;\n    String loanCurrency;\n    BigDecimal amountPaid;\n    BigDecimal amountRemaining;\n}\n</code></pre>\n<p>And I need to convert this <em>list</em> into a <em>map</em> <code>Map&lt;String, Map&lt;String, MySumObject&gt;</code>.</p>\n<p>I've created a custom <code>MySumObject</code> class because I need to get a <em>Sum</em> for both <code>amountPaid</code> and <code>amountRemaining</code> from the list of <code>MyObject</code> based on the <code>loanType</code> and <code>loanCurrency</code>.</p>\n<pre><code>class MySumObject {\n    BigDecimal paidSum;\n    BigDecimal remainingSum;\n}\n</code></pre>\n<p>Using the code below, I can obtain a <code>Map&lt;String,Map&lt;String, BigDecimal&gt;&gt;</code></p>\n<pre><code>Map&lt;String, Map&lt;String, BigDecimal&gt;&gt; result = list1.stream().collect(\n    Collectors.groupingBy(LoanObject::getLoanType,\n        Collectors.groupingBy(LoanObject::getLoanCurrency,\n            Collectors.reducing(\n                BigDecimal.ZERO,\n                LoanObject::getAmountPaid,\n                BigDecimal::add)\n        )\n    ));\n</code></pre>\n<p>But I'm stuck on changing it to use <code>MySumObject</code> instead of <code>BigDecimal</code>.</p>\n"},{"tags":["java","arrays","loops","if-statement","arraylist"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1660240154,"post_id":73324602,"comment_id":129492136,"body_markdown":"Just to clarify - the maximum check of 5 should be performed _before_ it is added and so the error check is really `size() == 5` ?  You wouldn&#39;t want to add it (to become size 6) only to then realize it is over the max.","body":"Just to clarify - the maximum check of 5 should be performed <i>before</i> it is added and so the error check is really <code>size() == 5</code> ?  You wouldn&#39;t want to add it (to become size 6) only to then realize it is over the max."}],"answers":[{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660250138,"creation_date":1660240625,"answer_id":73324994,"question_id":73324602,"body_markdown":"With a bit of refactoring this is just one approach (may be affected by question in comments):\r\n\r\n    \r\n\tprivate void btnActionPerformed(java.awt.event.ActionEvent evt) {\r\n\t\t\r\n\t\t//...existing code\r\n\t\t\r\n\t\tif (time == 0 &amp;&amp; isUniqueTo(eight_to_nine,name,a)) {\r\n\t\t\tif (hasRoom(eight_to_nine,5)) {\r\n\t\t\t\tCollections.addAll(eight_to_nine, name, a);\r\n\t\t\t\tSystem.out.println(&quot;eight to nine: &quot; + eight_to_nine);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\telse if (time == 1 &amp;&amp; isUniqueTo(nine_to_ten,name,a)) {\r\n\t\t\tif (hasRoom(nine_to_ten,5)) {\r\n\t\t\t\tCollections.addAll(nine_to_ten, name, a);\r\n\t\t\t\tSystem.out.println(&quot;nine to ten: &quot; + nine_to_ten);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;Clash Detected!&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate boolean isUniqueTo(ArrayList al, String name, String a) {\r\n\t\treturn !al.contains(name) || !contains(a)\r\n\t}\r\n\r\n\tprivate boolean hasRoom(ArrayList al, int max) {\r\n\t\tboolean result = (al.size() &lt; max);\r\n\t\tif (al.size() == max) {\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;Maximum Capacity Reached!&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\t\r\n\t\t}\r\n\t\treturn result;\r\n\t\t\t\r\n\t}\r\n\r\n","title":"Nested If-Else Statements","body":"<p>With a bit of refactoring this is just one approach (may be affected by question in comments):</p>\n<pre><code>private void btnActionPerformed(java.awt.event.ActionEvent evt) {\n    \n    //...existing code\n    \n    if (time == 0 &amp;&amp; isUniqueTo(eight_to_nine,name,a)) {\n        if (hasRoom(eight_to_nine,5)) {\n            Collections.addAll(eight_to_nine, name, a);\n            System.out.println(&quot;eight to nine: &quot; + eight_to_nine);\n        }\n    }\n\n    else if (time == 1 &amp;&amp; isUniqueTo(nine_to_ten,name,a)) {\n        if (hasRoom(nine_to_ten,5)) {\n            Collections.addAll(nine_to_ten, name, a);\n            System.out.println(&quot;nine to ten: &quot; + nine_to_ten);\n        }\n    }\n\n    else {\n        JOptionPane.showMessageDialog(null, &quot;Clash Detected!&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n    }\n}\n\nprivate boolean isUniqueTo(ArrayList al, String name, String a) {\n    return !al.contains(name) || !contains(a)\n}\n\nprivate boolean hasRoom(ArrayList al, int max) {\n    boolean result = (al.size() &lt; max);\n    if (al.size() == max) {\n        JOptionPane.showMessageDialog(null, &quot;Maximum Capacity Reached!&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);   \n    }\n    return result;\n        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25919966,"reputation":123,"user_id":19642781,"display_name":"Ankit_Gunner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660242123,"creation_date":1660242123,"answer_id":73325270,"question_id":73324602,"body_markdown":"i guess you can use a do while loop. like\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wMgcH.png","title":"Nested If-Else Statements","body":"<p>i guess you can use a do while loop. like</p>\n<p><a href=\"https://i.stack.imgur.com/wMgcH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wMgcH.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26040184,"reputation":1,"user_id":19745127,"display_name":"Luqman Up"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660250138,"creation_date":1660238169,"question_id":73324602,"body_markdown":"The code below is self explanatory. Everything works fine. (***cb1*** and ***cb2*** are combo boxes).\r\n\r\n    \r\n\r\n    HashMap&lt;String,String&gt; map = new HashMap&lt;&gt;();\r\n    ArrayList eight_to_nine = new ArrayList&lt;&gt;();\r\n    ArrayList nine_to_ten = new ArrayList&lt;&gt;();\r\n\r\n    private void btnActionPerformed(java.awt.event.ActionEvent evt) {\r\n    \r\n    int time = cb1.getSelectedIndex();\r\n    String name = (String)cb2.getSelectedItem();\r\n    String a = map.get(name);\r\n    \r\n            \r\n            if (time==0 &amp;&amp; (!eight_to_nine.contains(name) || !eight_to_nine.contains(a))) {\r\n                Collections.addAll(eight_to_nine, name, a);\r\n                System.out.println(&quot;eight to nine: &quot; + eight_to_nine);\r\n    \r\n            } else if (time==1 &amp;&amp; (!nine_to_ten.contains(name) || !nine_to_ten.contains(a))){\r\n                Collections.addAll(nine_to_ten, name, a);\r\n                System.out.println(&quot;nine to ten: &quot; + nine_to_ten);\r\n    \r\n            } else {\r\n                JOptionPane.showMessageDialog(null, &quot;Clash Detected!&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            }\r\n    }\r\n\r\nHowever, I want to add one more condition, which is each arraylist must not contain more than 5 elements. Something like:\r\n\r\n    if(eight_to_nine.size()&gt;5 || nine_to_ten.size()&gt;5) {\r\n               JOptionPane.showMessageDialog(null, &quot;Maximum Capacity Reached!&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n           }\r\n\r\n\r\nBut I am unsure where should I put this line. I want the error to pop up without the arraylist being printed. And I am also unsure if I should use nested if-else or put everything in a While loop. Any suggestions?\r\n\r\n","title":"Nested If-Else Statements","body":"<p>The code below is self explanatory. Everything works fine. (<em><strong>cb1</strong></em> and <em><strong>cb2</strong></em> are combo boxes).</p>\n<pre><code>HashMap&lt;String,String&gt; map = new HashMap&lt;&gt;();\nArrayList eight_to_nine = new ArrayList&lt;&gt;();\nArrayList nine_to_ten = new ArrayList&lt;&gt;();\n\nprivate void btnActionPerformed(java.awt.event.ActionEvent evt) {\n\nint time = cb1.getSelectedIndex();\nString name = (String)cb2.getSelectedItem();\nString a = map.get(name);\n\n        \n        if (time==0 &amp;&amp; (!eight_to_nine.contains(name) || !eight_to_nine.contains(a))) {\n            Collections.addAll(eight_to_nine, name, a);\n            System.out.println(&quot;eight to nine: &quot; + eight_to_nine);\n\n        } else if (time==1 &amp;&amp; (!nine_to_ten.contains(name) || !nine_to_ten.contains(a))){\n            Collections.addAll(nine_to_ten, name, a);\n            System.out.println(&quot;nine to ten: &quot; + nine_to_ten);\n\n        } else {\n            JOptionPane.showMessageDialog(null, &quot;Clash Detected!&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n        }\n}\n</code></pre>\n<p>However, I want to add one more condition, which is each arraylist must not contain more than 5 elements. Something like:</p>\n<pre><code>if(eight_to_nine.size()&gt;5 || nine_to_ten.size()&gt;5) {\n           JOptionPane.showMessageDialog(null, &quot;Maximum Capacity Reached!&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n       }\n</code></pre>\n<p>But I am unsure where should I put this line. I want the error to pop up without the arraylist being printed. And I am also unsure if I should use nested if-else or put everything in a While loop. Any suggestions?</p>\n"},{"tags":["java","apache-kafka","log4j"],"comments":[{"owner":{"account_id":11721412,"reputation":1016,"user_id":8580266,"display_name":"alexzimmer96"},"score":1,"creation_date":1576077844,"post_id":59288888,"comment_id":104782955,"body_markdown":"Is there any special framework you use? I recently had the same problem but the solution was specific for Quarkus.","body":"Is there any special framework you use? I recently had the same problem but the solution was specific for Quarkus."},{"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"score":2,"creation_date":1576077914,"post_id":59288888,"comment_id":104783004,"body_markdown":"To help we need to know which build system you are using (maven, gradle, other) and exactly which kafka library you are using. Just because you are not using log4j does not mean the kafka library is not.","body":"To help we need to know which build system you are using (maven, gradle, other) and exactly which kafka library you are using. Just because you are not using log4j does not mean the kafka library is not."},{"owner":{"account_id":13145578,"reputation":71,"user_id":9495724,"display_name":"Dmitry Goryaynov"},"score":0,"creation_date":1576078823,"post_id":59288888,"comment_id":104783580,"body_markdown":"I don&#39;t use any special framework. Just Java + Kafka client 2.2.0. I don&#39;t use any build system. I just use Maven to get Kafka client. I build a jar file in Idea without using Maven or Gradle.","body":"I don&#39;t use any special framework. Just Java + Kafka client 2.2.0. I don&#39;t use any build system. I just use Maven to get Kafka client. I build a jar file in Idea without using Maven or Gradle."},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1576082511,"post_id":59288888,"comment_id":104785613,"body_markdown":"If you look at Kafka-client&#39;s [dependencies](https://mvnrepository.com/artifact/org.apache.kafka/kafka-clients/2.2.0), you&#39;ll see `slf4j-api`, that is a logging framework. So if you don&#39;t use logging explicitly, it doesn&#39;t mean that it&#39;s not used at all.","body":"If you look at Kafka-client&#39;s <a href=\"https://mvnrepository.com/artifact/org.apache.kafka/kafka-clients/2.2.0\" rel=\"nofollow noreferrer\">dependencies</a>, you&#39;ll see <code>slf4j-api</code>, that is a logging framework. So if you don&#39;t use logging explicitly, it doesn&#39;t mean that it&#39;s not used at all."},{"owner":{"account_id":13145578,"reputation":71,"user_id":9495724,"display_name":"Dmitry Goryaynov"},"score":0,"creation_date":1576083383,"post_id":59288888,"comment_id":104786065,"body_markdown":"Yes, Kafka client use slf4j. I haven&#39;t been knowing it&#39;s a logging framework. Would you be so kind to suggest me how to suppress its INFO messages?","body":"Yes, Kafka client use slf4j. I haven&#39;t been knowing it&#39;s a logging framework. Would you be so kind to suggest me how to suppress its INFO messages?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576099228,"creation_date":1576099228,"answer_id":59294269,"question_id":59288888,"body_markdown":"&gt;  But I don&#39;t use log4j.\r\n\r\nMaybe *you* don&#39;t, but some library that you pull, probably does (for example, Spring). \r\n\r\nYou should consult the documentation for the framework that you use (if any), otherwise, you can add your own `log4j.properties` file into your classpath like so. \r\n\r\n```\r\nlog4j.rootLogger=WARN, stdout\r\n\r\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.stdout.layout.ConversionPattern=[%d] %p %m (%c)%n\r\nlog4j.appender.stdout.Target=System.out\r\n```","title":"How do I suppress INFO messages when using Kafka in Java?","body":"<blockquote>\n  <p>But I don't use log4j.</p>\n</blockquote>\n\n<p>Maybe <em>you</em> don't, but some library that you pull, probably does (for example, Spring). </p>\n\n<p>You should consult the documentation for the framework that you use (if any), otherwise, you can add your own <code>log4j.properties</code> file into your classpath like so. </p>\n\n<pre><code>log4j.rootLogger=WARN, stdout\n\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=[%d] %p %m (%c)%n\nlog4j.appender.stdout.Target=System.out\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19783865,"reputation":1,"user_id":14488299,"display_name":"yyyllll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660250072,"creation_date":1660250072,"answer_id":73326635,"question_id":59288888,"body_markdown":"You can do this programmatically by adding this line in your code `System.setProperty(org.slf4j.impl.SimpleLogger.DEFAULT_LOG_LEVEL_KEY, &quot;off&quot;);` \r\n\r\nThis is because Kafka is using sl4j for logging, so disabling sl4j logging will suppress info messages. If you wish to log for other levels/purposes, you can replace &quot;off&quot; with one of these: &quot;trace&quot;, &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, &quot;error&quot; based on https://www.slf4j.org/api/org/slf4j/impl/SimpleLogger.html","title":"How do I suppress INFO messages when using Kafka in Java?","body":"<p>You can do this programmatically by adding this line in your code <code>System.setProperty(org.slf4j.impl.SimpleLogger.DEFAULT_LOG_LEVEL_KEY, &quot;off&quot;);</code></p>\n<p>This is because Kafka is using sl4j for logging, so disabling sl4j logging will suppress info messages. If you wish to log for other levels/purposes, you can replace &quot;off&quot; with one of these: &quot;trace&quot;, &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, &quot;error&quot; based on <a href=\"https://www.slf4j.org/api/org/slf4j/impl/SimpleLogger.html\" rel=\"nofollow noreferrer\">https://www.slf4j.org/api/org/slf4j/impl/SimpleLogger.html</a></p>\n"}],"owner":{"account_id":13145578,"reputation":71,"user_id":9495724,"display_name":"Dmitry Goryaynov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":846,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660250072,"creation_date":1576077396,"question_id":59288888,"body_markdown":"I use Apache Kafka client in Java and now I&#39;m getting a lot of messages with [INFO] mark. All the suggestions I&#39;ve found on the Internet are of changing log4j output level. But I don&#39;t use log4j.\r\n\r\nA small part of output:\r\n\r\n    [main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.0\r\n    \r\n    [main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 05fcfde8f69b0349\r\n    \r\n    [main] INFO org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-1, groupId=group3] Subscribed to topic(s): test.topics.tasks\r\n\r\nUPDATE:\r\nI use org.apache.kafka:kafka-clients:2.2.0\r\n","title":"How do I suppress INFO messages when using Kafka in Java?","body":"<p>I use Apache Kafka client in Java and now I'm getting a lot of messages with [INFO] mark. All the suggestions I've found on the Internet are of changing log4j output level. But I don't use log4j.</p>\n\n<p>A small part of output:</p>\n\n<pre><code>[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.0\n\n[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 05fcfde8f69b0349\n\n[main] INFO org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-1, groupId=group3] Subscribed to topic(s): test.topics.tasks\n</code></pre>\n\n<p>UPDATE:\nI use org.apache.kafka:kafka-clients:2.2.0</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1660247367,"post_id":73326036,"comment_id":129494186,"body_markdown":"That looks like a Yen currency symbol (`&#165;`). Possibly helpful: [Getting yen symbol when I try to type backslash](https://stackoverflow.com/q/65587383/12567365). If that does not help, then take a look at [all of these](https://www.google.com/search?q=type+backslash+get+yen+symbol+site:stackoverflow.com).","body":"That looks like a Yen currency symbol (<code>&#165;</code>). Possibly helpful: <a href=\"https://stackoverflow.com/q/65587383/12567365\">Getting yen symbol when I try to type backslash</a>. If that does not help, then take a look at <a href=\"https://www.google.com/search?q=type+backslash+get+yen+symbol+site:stackoverflow.com\" rel=\"nofollow noreferrer\">all of these</a>."},{"owner":{"account_id":26041158,"reputation":11,"user_id":19745962,"display_name":"S0lid"},"score":1,"creation_date":1660247625,"post_id":73326036,"comment_id":129494254,"body_markdown":"Thx dude solution from first link worked :)","body":"Thx dude solution from first link worked :)"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1660247847,"post_id":73326036,"comment_id":129494304,"body_markdown":"Marking this question as a duplicate of the following: [Getting yen symbol when I try to type backslash in pycharm](https://stackoverflow.com/questions/65587383/getting-yen-symbol-when-i-try-to-type-backslash-in-pycharm)","body":"Marking this question as a duplicate of the following: <a href=\"https://stackoverflow.com/questions/65587383/getting-yen-symbol-when-i-try-to-type-backslash-in-pycharm\">Getting yen symbol when I try to type backslash in pycharm</a>"}],"owner":{"account_id":26041158,"reputation":11,"user_id":19745962,"display_name":"S0lid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1660248159,"answer_count":0,"score":0,"last_activity_date":1660249940,"creation_date":1660246413,"question_id":73326036,"body_markdown":"Whenever i try to do backward slash in program instead of slash it&#39;s making some other symbol and i can&#39;t fix it. So anyone can help me?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VeaQn.png","title":"I can&#39;t make backward slash &quot;\\&quot; in netbeans IDE 8.2","body":"<p>Whenever i try to do backward slash in program instead of slash it's making some other symbol and i can't fix it. So anyone can help me?</p>\n<p><a href=\"https://i.stack.imgur.com/VeaQn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VeaQn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jsf","jdbc","netbeans","jframe"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1660248659,"post_id":73326169,"comment_id":129494542,"body_markdown":"What version of NetBeans are you using? What have you tried? Have you researched answers in questions such as [Importing project into Netbeans](https://stackoverflow.com/q/17824960/12567365), or [some of these related questions](https://www.google.com/search?q=import+project+into+netbeans+site%3Astackoverflow.com)?","body":"What version of NetBeans are you using? What have you tried? Have you researched answers in questions such as <a href=\"https://stackoverflow.com/q/17824960/12567365\">Importing project into Netbeans</a>, or <a href=\"https://www.google.com/search?q=import+project+into+netbeans+site%3Astackoverflow.com\" rel=\"nofollow noreferrer\">some of these related questions</a>?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1660253137,"post_id":73326169,"comment_id":129495731,"body_markdown":"As one answer has already noted, it looks like the downloaded project is an Eclipse project. Therefore, please update your question to specify the page containing the link you used for the download. This helps others attempt to replicate/resolve your problem, and provide a more useful answer. Also, update the question to specify your versions of NetBeans and Java.","body":"As one answer has already noted, it looks like the downloaded project is an Eclipse project. Therefore, please update your question to specify the page containing the link you used for the download. This helps others attempt to replicate/resolve your problem, and provide a more useful answer. Also, update the question to specify your versions of NetBeans and Java."}],"answers":[{"tags":[],"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660249277,"creation_date":1660249277,"answer_id":73326495,"question_id":73326169,"body_markdown":"Based on the folders/files `.settings`, `.classpath` and `.project` this looks like to be an eclipse project - not like a NetBeans project.\r\n\r\nIf you still want to use NetBeans `File &gt; Import Project &gt; Eclipse Project ...` should be the way to open it in NetBeans.","title":"How to open downloaded Java project in NetBeans","body":"<p>Based on the folders/files <code>.settings</code>, <code>.classpath</code> and <code>.project</code> this looks like to be an eclipse project - not like a NetBeans project.</p>\n<p>If you still want to use NetBeans <code>File &gt; Import Project &gt; Eclipse Project ...</code> should be the way to open it in NetBeans.</p>\n"}],"owner":{"account_id":26041261,"reputation":1,"user_id":19746043,"display_name":"Tanzeel Abbas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660249277,"creation_date":1660247153,"question_id":73326169,"body_markdown":"I have download a Java web project from the Internet and now I want to do some changes in it. It is not getting opened in NetBeans. Can anyone help me? \r\n\r\nThis is the folder structure of the project:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oHKvy.png\r\n","title":"How to open downloaded Java project in NetBeans","body":"<p>I have download a Java web project from the Internet and now I want to do some changes in it. It is not getting opened in NetBeans. Can anyone help me?</p>\n<p>This is the folder structure of the project:</p>\n<p><a href=\"https://i.stack.imgur.com/oHKvy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oHKvy.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":7428434,"reputation":1471,"user_id":5650224,"display_name":"m4gic"},"score":1,"creation_date":1660205695,"post_id":73219278,"comment_id":129479358,"body_markdown":"Hi, I usually do the second one in similar cases.","body":"Hi, I usually do the second one in similar cases."},{"owner":{"account_id":24932,"reputation":2474,"user_id":63730,"accept_rate":83,"display_name":"geschema"},"score":0,"creation_date":1660222378,"post_id":73219278,"comment_id":129485165,"body_markdown":"Hi @m4gic, would you like to post an example of how to do that?","body":"Hi @m4gic, would you like to post an example of how to do that?"},{"owner":{"account_id":7428434,"reputation":1471,"user_id":5650224,"display_name":"m4gic"},"score":1,"creation_date":1660231762,"post_id":73219278,"comment_id":129489164,"body_markdown":"Unfortunately I can not provide you a complete example. The idea is simple: create an authentication object object that points to the proper user with proper roles and replace the old one during the operation. As I googled for an example, it seems I found the built in (and probably better, or at least standardized) way for  this: the [RunAsManager](https://dzone.com/articles/spring-security-run-example).","body":"Unfortunately I can not provide you a complete example. The idea is simple: create an authentication object object that points to the proper user with proper roles and replace the old one during the operation. As I googled for an example, it seems I found the built in (and probably better, or at least standardized) way for  this: the <a href=\"https://dzone.com/articles/spring-security-run-example\" rel=\"nofollow noreferrer\">RunAsManager</a>."}],"answers":[{"tags":[],"owner":{"account_id":971972,"reputation":508,"user_id":994367,"display_name":"Shahzad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660249148,"creation_date":1660249148,"answer_id":73326475,"question_id":73219278,"body_markdown":"You can use [AccessDecisionManager][1] which is a [Pre-invocation][2] Interceptor. You can decide permission on an object by implementing AccessDecisionVoter&#39;s vote method. AccessDecisionManager makes the final authorization decision.\r\n\r\nHere are two comprehensive articles on AccessDecisionManager and AccessDecisionVoter:\r\n\r\n - https://www.javadevjournal.com/spring-security/custom-access-decision-voter/\r\n - https://www.baeldung.com/spring-security-custom-voter\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.2.0.RELEASE/reference/html/authorization.html#authz-access-decision-manager\r\n  [2]: https://docs.spring.io/spring-security/site/docs/5.2.0.RELEASE/reference/html/authorization.html#authz-pre-invocation","title":"Remove Spring ACL entries without ADMINISTRATION permission","body":"<p>You can use <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.0.RELEASE/reference/html/authorization.html#authz-access-decision-manager\" rel=\"nofollow noreferrer\">AccessDecisionManager</a> which is a <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.0.RELEASE/reference/html/authorization.html#authz-pre-invocation\" rel=\"nofollow noreferrer\">Pre-invocation</a> Interceptor. You can decide permission on an object by implementing AccessDecisionVoter's vote method. AccessDecisionManager makes the final authorization decision.</p>\n<p>Here are two comprehensive articles on AccessDecisionManager and AccessDecisionVoter:</p>\n<ul>\n<li><a href=\"https://www.javadevjournal.com/spring-security/custom-access-decision-voter/\" rel=\"nofollow noreferrer\">https://www.javadevjournal.com/spring-security/custom-access-decision-voter/</a></li>\n<li><a href=\"https://www.baeldung.com/spring-security-custom-voter\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-custom-voter</a></li>\n</ul>\n"}],"owner":{"account_id":24932,"reputation":2474,"user_id":63730,"accept_rate":83,"display_name":"geschema"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1660249148,"creation_date":1659518551,"question_id":73219278,"body_markdown":"In the context of a Spring Boot application, I&#39;m using Spring Security ACLs to enforce permissions on objects of a given class. The user who creates the object gets `ADMINISTRATION` permissions, and he can choose to give additional `READ` and `WRITE` permissions on that object to user users of the application. The target users can then see the objects that have been shared with them in their dashboard.\r\n\r\nCurrently, only the user with `ADMINISTRATION` permission is able to revoke the `READ` and `WRITE` permissions for other users on a given object, which is not very user friendly. I&#39;d like to allow the target users to revoke those permissions as well, in case they&#39;re not interested in seeing a particular object anymore.\r\n\r\nUnfortunately, this does not seems to work out of the box. Trying to call `acl.deleteAce()` from the context of a target user gives me an `org.springframework.security.acls.model.NotFoundException: Unable to locate a matching ACE for passed permissions and SIDs`.\r\n\r\nHow can I solve this issue? Things I&#39;m currently considering:\r\n\r\n* Insert an ACE with `BasePermission.ADMINISTRATION` in the context of the target user before deleting the target user ACEs -&gt; seems to trigger the same exception.\r\n* Temporarily impersonating the user with `ADMINISTRATION` permission while removing the ACEs from the ACL.\r\n* Directly deleting the ACEs from the database, i.e. bypassing `acl.deleteAce()`.\r\n\r\nPossibly related but it&#39;s not clear how to actually implement the proposed solution: [Spring Security update acl when not owner](https://stackoverflow.com/questions/12304044/spring-security-update-acl-when-not-owner?rq=1)\r\n\r\n\r\n","title":"Remove Spring ACL entries without ADMINISTRATION permission","body":"<p>In the context of a Spring Boot application, I'm using Spring Security ACLs to enforce permissions on objects of a given class. The user who creates the object gets <code>ADMINISTRATION</code> permissions, and he can choose to give additional <code>READ</code> and <code>WRITE</code> permissions on that object to user users of the application. The target users can then see the objects that have been shared with them in their dashboard.</p>\n<p>Currently, only the user with <code>ADMINISTRATION</code> permission is able to revoke the <code>READ</code> and <code>WRITE</code> permissions for other users on a given object, which is not very user friendly. I'd like to allow the target users to revoke those permissions as well, in case they're not interested in seeing a particular object anymore.</p>\n<p>Unfortunately, this does not seems to work out of the box. Trying to call <code>acl.deleteAce()</code> from the context of a target user gives me an <code>org.springframework.security.acls.model.NotFoundException: Unable to locate a matching ACE for passed permissions and SIDs</code>.</p>\n<p>How can I solve this issue? Things I'm currently considering:</p>\n<ul>\n<li>Insert an ACE with <code>BasePermission.ADMINISTRATION</code> in the context of the target user before deleting the target user ACEs -&gt; seems to trigger the same exception.</li>\n<li>Temporarily impersonating the user with <code>ADMINISTRATION</code> permission while removing the ACEs from the ACL.</li>\n<li>Directly deleting the ACEs from the database, i.e. bypassing <code>acl.deleteAce()</code>.</li>\n</ul>\n<p>Possibly related but it's not clear how to actually implement the proposed solution: <a href=\"https://stackoverflow.com/questions/12304044/spring-security-update-acl-when-not-owner?rq=1\">Spring Security update acl when not owner</a></p>\n"},{"tags":["java","spring","spring-boot","caching","redis"],"owner":{"account_id":3837601,"reputation":731,"user_id":3181570,"display_name":"G SriHAri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2021,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":0,"score":9,"last_activity_date":1660248910,"creation_date":1542360850,"question_id":53335003,"body_markdown":"    JedisConnectionFactory jedisConnectionFactory() {\r\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration(&quot;localhost&quot;, 6379);\r\n        return new JedisConnectionFactory(redisStandaloneConfiguration);\r\n    }\r\n\r\n-------------\r\ncase 1:  Using RedisCacheWriter\r\n\r\n    public RedisCacheManager getRedisCacheManager(RedisConnectionFactory connectionFactory) {\r\n        RedisCacheWriter cacheWriter = RedisCacheWriter.lockingRedisCacheWriter(connectionFactory);\r\n        ClassLoader loader = this.getClass().getClassLoader();\r\n        JdkSerializationRedisSerializer jdkSerializer = new JdkSerializationRedisSerializer(loader);\r\n        SerializationPair&lt;Object&gt; pair = SerializationPair.fromSerializer(jdkSerializer);\r\n        \r\n        RedisCacheConfiguration cacheConfig = RedisCacheConfiguration.defaultCacheConfig().serializeValuesWith(pair);\r\n        cacheConfig = cacheConfig.entryTtl(Duration.ofSeconds(3600));\r\n\r\n\r\n        Map&lt;String, RedisCacheConfiguration&gt; initialCacheConfigurations = new HashMap&lt;&gt;();\r\n        initialCacheConfigurations.put(&quot;order&quot;,cacheConfig.entryTtl(Duration.ofSeconds(1600)));\r\n        \r\n        \r\n        RedisCacheManager cacheManager = new RedisCacheManager(cacheWriter, cacheConfig,initialCacheConfigurations);\r\n        \r\n        return cacheManager;\r\n    }\r\n\r\n    @Bean\r\n    public CacheManager cacheManager() {\r\n        RedisCacheManager cacheManager=getRedisCacheManager(jedisConnectionFactory());\r\n        log.info(&quot;CacheManager created &quot;);\r\n        return cacheManager;\r\n    }\r\n\r\n-----------\r\n case 2:  RedisTemplate\r\n     \r\n    @Bean\r\n    RedisTemplate&lt;Object, Object&gt; redisTemplate() {\r\n        RedisTemplate&lt;Object, Object&gt; redisTemplate = new RedisTemplate&lt;Object, Object&gt;();\r\n        redisTemplate.setConnectionFactory(jedisConnectionFactory());\r\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n        return redisTemplate;\r\n    }\r\n\r\n    @Bean\r\n    CacheManager cacheManager() {\r\n        \r\n        //JedisConnectionFactory cacheManager=jedisConnectionFactory();\r\n        RedisCacheManager cacheManager = new RedisCacheManager(redisTemplate());\r\n        cacheManager.setDefaultExpiration(60);\r\n        cacheManager.setUsePrefix(true);            \r\n        return cacheManager;\r\n    }\r\n\r\nWhat is the difference between `RedisCacheManager` and `RedisTemplate`? There is a significant memory consumption difference between both the classes. Is it something regarding their internal implementation of storing in cache?  \r\nSpringboot 2.x is having `RedisCacheWriter` but in Springboot 1.4.3 we have to use `RedisTemplate`.\r\n","title":"What is the difference between RedisCacheWriter and RedisTemplate","body":"<pre><code>JedisConnectionFactory jedisConnectionFactory() {\n    RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration(\"localhost\", 6379);\n    return new JedisConnectionFactory(redisStandaloneConfiguration);\n}\n</code></pre>\n\n<hr>\n\n<p>case 1:  Using RedisCacheWriter</p>\n\n<pre><code>public RedisCacheManager getRedisCacheManager(RedisConnectionFactory connectionFactory) {\n    RedisCacheWriter cacheWriter = RedisCacheWriter.lockingRedisCacheWriter(connectionFactory);\n    ClassLoader loader = this.getClass().getClassLoader();\n    JdkSerializationRedisSerializer jdkSerializer = new JdkSerializationRedisSerializer(loader);\n    SerializationPair&lt;Object&gt; pair = SerializationPair.fromSerializer(jdkSerializer);\n\n    RedisCacheConfiguration cacheConfig = RedisCacheConfiguration.defaultCacheConfig().serializeValuesWith(pair);\n    cacheConfig = cacheConfig.entryTtl(Duration.ofSeconds(3600));\n\n\n    Map&lt;String, RedisCacheConfiguration&gt; initialCacheConfigurations = new HashMap&lt;&gt;();\n    initialCacheConfigurations.put(\"order\",cacheConfig.entryTtl(Duration.ofSeconds(1600)));\n\n\n    RedisCacheManager cacheManager = new RedisCacheManager(cacheWriter, cacheConfig,initialCacheConfigurations);\n\n    return cacheManager;\n}\n\n@Bean\npublic CacheManager cacheManager() {\n    RedisCacheManager cacheManager=getRedisCacheManager(jedisConnectionFactory());\n    log.info(\"CacheManager created \");\n    return cacheManager;\n}\n</code></pre>\n\n<hr>\n\n<p>case 2:  RedisTemplate</p>\n\n<pre><code>@Bean\nRedisTemplate&lt;Object, Object&gt; redisTemplate() {\n    RedisTemplate&lt;Object, Object&gt; redisTemplate = new RedisTemplate&lt;Object, Object&gt;();\n    redisTemplate.setConnectionFactory(jedisConnectionFactory());\n    redisTemplate.setKeySerializer(new StringRedisSerializer());\n    return redisTemplate;\n}\n\n@Bean\nCacheManager cacheManager() {\n\n    //JedisConnectionFactory cacheManager=jedisConnectionFactory();\n    RedisCacheManager cacheManager = new RedisCacheManager(redisTemplate());\n    cacheManager.setDefaultExpiration(60);\n    cacheManager.setUsePrefix(true);            \n    return cacheManager;\n}\n</code></pre>\n\n<p>What is the difference between <code>RedisCacheManager</code> and <code>RedisTemplate</code>? There is a significant memory consumption difference between both the classes. Is it something regarding their internal implementation of storing in cache?<br>\nSpringboot 2.x is having <code>RedisCacheWriter</code> but in Springboot 1.4.3 we have to use <code>RedisTemplate</code>.</p>\n"},{"tags":["java","javafx","java-9"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1569921128,"post_id":58179338,"comment_id":102743103,"body_markdown":"Am I correct in assuming you only want to _augment_ `modena.css` rather than _replace_ it entirely? Also, regarding method three, is that true even if you set the owner of the window?","body":"Am I correct in assuming you only want to <i>augment</i> <code>modena.css</code> rather than <i>replace</i> it entirely? Also, regarding method three, is that true even if you set the owner of the window?"},{"owner":{"account_id":10037707,"reputation":649,"user_id":7421700,"display_name":"Evan"},"score":0,"creation_date":1569924814,"post_id":58179338,"comment_id":102745003,"body_markdown":"@Slaw yes, I want to complement `modena.css`, just some tweaks. And yes I set modal window owner, and JavaFX doesn&#39;t inherit CSS in that case. I suppose it&#39;s because `owner != parent`.","body":"@Slaw yes, I want to complement <code>modena.css</code>, just some tweaks. And yes I set modal window owner, and JavaFX doesn&#39;t inherit CSS in that case. I suppose it&#39;s because <code>owner != parent</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1569926372,"post_id":58179338,"comment_id":102745860,"body_markdown":"Hmm, I could have sworn a window would inherit the CSS of its owner—maybe that only works if the stylesheet is added to the `Scene` of the owner window? Regardless, one option is to use `--add-exports` to grant your code access to `StyleManager`.","body":"Hmm, I could have sworn a window would inherit the CSS of its owner—maybe that only works if the stylesheet is added to the <code>Scene</code> of the owner window? Regardless, one option is to use <code>--add-exports</code> to grant your code access to <code>StyleManager</code>."},{"owner":{"account_id":4454233,"reputation":337,"user_id":3625077,"display_name":"b3tuning"},"score":0,"creation_date":1589876609,"post_id":58179338,"comment_id":109459301,"body_markdown":"How are you loading the stage and scene in your application? I have no trouble setting a scene I instantiate to the primary stageand adding a style sheet to it which is app wide, including modals. I am using a multi module javafx project, with a custom css loaded from resources","body":"How are you loading the stage and scene in your application? I have no trouble setting a scene I instantiate to the primary stageand adding a style sheet to it which is app wide, including modals. I am using a multi module javafx project, with a custom css loaded from resources"}],"answers":[{"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660248584,"creation_date":1660248584,"answer_id":73326384,"question_id":58179338,"body_markdown":"Apply the stylesheet to the scene by calling `Scene`&#39;s `getStylesheets()` method. This is how my application changes the entire application look and feel at runtime:\r\n\r\n``` java\r\n private void applyStylesheets(\r\n    final Scene scene, final String internal, final File external ) {\r\n    final var stylesheets = scene.getStylesheets();\r\n    stylesheets.clear();\r\n    stylesheets.add( STYLESHEET_APPLICATION_BASE );\r\n    stylesheets.add( STYLESHEET_MARKDOWN );\r\n    stylesheets.add( getStylesheet( toFilename( internal ) ) );\r\n\r\n    try {\r\n      if( external != null &amp;&amp; external.canRead() &amp;&amp; !external.isDirectory() ) {\r\n        stylesheets.add( external.toURI().toURL().toString() );\r\n        mFileWatchService.register( external );\r\n      }\r\n    } catch( final Exception ex ) {\r\n      clue( ex );\r\n    }\r\n  }\r\n```\r\n\r\nThe code is doing the following:\r\n\r\n1. Obtain a reference to the current stylesheets from the `Scene`.\r\n1. Clear out the list of existing stylesheets.\r\n1. Add the base stylesheet, stylesheet for the rich text editor, then the user-selected stylesheet.\r\n1. Add an externally sourced stylesheet, with additional overrides.\r\n1. Optionally (for you), add a watch on the externally sourced stylesheet so that if the file is changed, the UI is updated immediately.\r\n\r\nSee the [complete code snippet](https://github.com/DaveJarvis/keenwrite/blob/0f479020921dc4fa9db8084b6d0f15a08a919224/src/main/java/com/keenwrite/MainScene.java#L148) for context and further details.","title":"How to set global CSS in JavaFX 9+ application?","body":"<p>Apply the stylesheet to the scene by calling <code>Scene</code>'s <code>getStylesheets()</code> method. This is how my application changes the entire application look and feel at runtime:</p>\n<pre class=\"lang-java prettyprint-override\"><code> private void applyStylesheets(\n    final Scene scene, final String internal, final File external ) {\n    final var stylesheets = scene.getStylesheets();\n    stylesheets.clear();\n    stylesheets.add( STYLESHEET_APPLICATION_BASE );\n    stylesheets.add( STYLESHEET_MARKDOWN );\n    stylesheets.add( getStylesheet( toFilename( internal ) ) );\n\n    try {\n      if( external != null &amp;&amp; external.canRead() &amp;&amp; !external.isDirectory() ) {\n        stylesheets.add( external.toURI().toURL().toString() );\n        mFileWatchService.register( external );\n      }\n    } catch( final Exception ex ) {\n      clue( ex );\n    }\n  }\n</code></pre>\n<p>The code is doing the following:</p>\n<ol>\n<li>Obtain a reference to the current stylesheets from the <code>Scene</code>.</li>\n<li>Clear out the list of existing stylesheets.</li>\n<li>Add the base stylesheet, stylesheet for the rich text editor, then the user-selected stylesheet.</li>\n<li>Add an externally sourced stylesheet, with additional overrides.</li>\n<li>Optionally (for you), add a watch on the externally sourced stylesheet so that if the file is changed, the UI is updated immediately.</li>\n</ol>\n<p>See the <a href=\"https://github.com/DaveJarvis/keenwrite/blob/0f479020921dc4fa9db8084b6d0f15a08a919224/src/main/java/com/keenwrite/MainScene.java#L148\" rel=\"nofollow noreferrer\">complete code snippet</a> for context and further details.</p>\n"}],"owner":{"account_id":10037707,"reputation":649,"user_id":7421700,"display_name":"Evan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1168,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1660248584,"creation_date":1569912186,"question_id":58179338,"body_markdown":"There&#39;re couple of questions alerady on SO, however since JPMS support none of the answers are valid.\r\n\r\n**method 1:** (https://stackoverflow.com/questions/46559981/javafx-set-default-css-stylesheet-for-the-whole-application)\r\n\r\n    Application.setUserAgentStylesheet(Application.STYLESHEET_MODENA);\r\n    StyleManager.getInstance().addUserAgentStylesheet(getClass().getResource(&quot;/style.css&quot;).toString());\r\n\r\nDoesn&#39;t work because `StyleManager` became the part of private API and JavaFX doesn&#39;t export it.\r\n\r\n**method 2:** (https://stackoverflow.com/a/51003008/7421700)\r\n\r\n    @import &quot;com/sun/javafx/scene/control/skin/modena/modena.css&quot;;\r\n    /* rest of CSS code */\r\n\r\nDoesn&#39;t work because `modena.css` became the part of private API and JavaFX doesn&#39;t export it.\r\n\r\n**method 3:** set CSS to the top parent node (https://stackoverflow.com/a/28880421/7421700)\r\n\r\nDoesn&#39;t work because CSS will not be applied to modal windows.","title":"How to set global CSS in JavaFX 9+ application?","body":"<p>There're couple of questions alerady on SO, however since JPMS support none of the answers are valid.</p>\n\n<p><strong>method 1:</strong> (<a href=\"https://stackoverflow.com/questions/46559981/javafx-set-default-css-stylesheet-for-the-whole-application\">JavaFX - Set default CSS stylesheet for the whole Application</a>)</p>\n\n<pre><code>Application.setUserAgentStylesheet(Application.STYLESHEET_MODENA);\nStyleManager.getInstance().addUserAgentStylesheet(getClass().getResource(\"/style.css\").toString());\n</code></pre>\n\n<p>Doesn't work because <code>StyleManager</code> became the part of private API and JavaFX doesn't export it.</p>\n\n<p><strong>method 2:</strong> (<a href=\"https://stackoverflow.com/a/51003008/7421700\">https://stackoverflow.com/a/51003008/7421700</a>)</p>\n\n<pre><code>@import \"com/sun/javafx/scene/control/skin/modena/modena.css\";\n/* rest of CSS code */\n</code></pre>\n\n<p>Doesn't work because <code>modena.css</code> became the part of private API and JavaFX doesn't export it.</p>\n\n<p><strong>method 3:</strong> set CSS to the top parent node (<a href=\"https://stackoverflow.com/a/28880421/7421700\">https://stackoverflow.com/a/28880421/7421700</a>)</p>\n\n<p>Doesn't work because CSS will not be applied to modal windows.</p>\n"},{"tags":["java","spring-mvc","reflection"],"comments":[{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":0,"creation_date":1438860253,"post_id":31854349,"comment_id":51628384,"body_markdown":"Maybe its easier woth mocks","body":"Maybe its easier woth mocks"},{"owner":{"account_id":1653169,"reputation":9535,"user_id":1523342,"accept_rate":91,"display_name":"mthmulders"},"score":1,"creation_date":1438860353,"post_id":31854349,"comment_id":51628440,"body_markdown":"If it normally comes from a property file, why not have a specialized property file (activated by a Maven profile) with the values used for Selenium tests?","body":"If it normally comes from a property file, why not have a specialized property file (activated by a Maven profile) with the values used for Selenium tests?"},{"owner":{"account_id":153744,"reputation":3590,"user_id":369218,"accept_rate":57,"display_name":"AJJ"},"score":0,"creation_date":1438860481,"post_id":31854349,"comment_id":51628532,"body_markdown":"@mthmulders I cannot modify the property as a whole in maven which will be for all the selenium test. I want this property only for a single selenium test.","body":"@mthmulders I cannot modify the property as a whole in maven which will be for all the selenium test. I want this property only for a single selenium test."}],"answers":[{"tags":[],"owner":{"account_id":21646629,"reputation":1,"user_id":15967860,"display_name":"topsion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660248580,"creation_date":1660033454,"answer_id":73288659,"question_id":31854349,"body_markdown":"You should put this code in your controller test method.\r\n\r\n```java\r\n@WebMvcTest(controllers = MainController.class, useDefaultFilters = false)\r\n@Import({MainController.class})\r\npublic void MainControllerTest{\r\n    @Autowired\r\n    private MainController mainController\r\n\r\n    @Test\r\n    should_set_controller_private_field(){\r\n        ReflectionTestUtils.setField(mainController, &quot;myValue&quot;, 3)\r\n        assertEquals(ReflectionTestUtils.getField(\r\n            mainController, &quot;myValue&quot;), 3)\r\n    }\r\n}\r\n```\r\n\r\n","title":"Reflection - Set Private field in controller spring","body":"<p>You should put this code in your controller test method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(controllers = MainController.class, useDefaultFilters = false)\n@Import({MainController.class})\npublic void MainControllerTest{\n    @Autowired\n    private MainController mainController\n\n    @Test\n    should_set_controller_private_field(){\n        ReflectionTestUtils.setField(mainController, &quot;myValue&quot;, 3)\n        assertEquals(ReflectionTestUtils.getField(\n            mainController, &quot;myValue&quot;), 3)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":153744,"reputation":3590,"user_id":369218,"accept_rate":57,"display_name":"AJJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1701,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1660248580,"creation_date":1438859871,"question_id":31854349,"body_markdown":"I use Spring MVC.\r\n\r\nI have a private field in my controller. The value for this field comes from the properties file as,\r\n\r\n    @Controller\r\n    public Class MainController() {\r\n    \r\n       @Value(&quot;${my-value}&quot;)\r\n       private int myValue;\r\n    \r\n    }\r\n\r\nI have to override the value in for the selenium tests. How can I override the value for this field, means I want to set a customized value (so that the value is not taken from property file)?\r\n\r\nCan it be like this,\r\n\r\n    ReflectionTestUtils.setField(MainController.class, &quot;myValue&quot;, 3, Integer.class);","title":"Reflection - Set Private field in controller spring","body":"<p>I use Spring MVC.</p>\n\n<p>I have a private field in my controller. The value for this field comes from the properties file as,</p>\n\n<pre><code>@Controller\npublic Class MainController() {\n\n   @Value(\"${my-value}\")\n   private int myValue;\n\n}\n</code></pre>\n\n<p>I have to override the value in for the selenium tests. How can I override the value for this field, means I want to set a customized value (so that the value is not taken from property file)?</p>\n\n<p>Can it be like this,</p>\n\n<pre><code>ReflectionTestUtils.setField(MainController.class, \"myValue\", 3, Integer.class);\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":1,"creation_date":1485194076,"post_id":41812298,"comment_id":70813196,"body_markdown":"Possible duplicate of [The method sendKeys(CharSequence\\[\\]) in the type WebElement is not applicable for the arguments (String)](http://stackoverflow.com/questions/23485363/the-method-sendkeyscharsequence-in-the-type-webelement-is-not-applicable-for)\n\nBasic solutions was &quot;It has a simple solution. Change your compiler compliance level from 1.4 to 1.7.&quot;","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/23485363/the-method-sendkeyscharsequence-in-the-type-webelement-is-not-applicable-for\">The method sendKeys(CharSequence&#91;&#93;) in the type WebElement is not applicable for the arguments (String)</a>  Basic solutions was &quot;It has a simple solution. Change your compiler compliance level from 1.4 to 1.7.&quot;"},{"owner":{"account_id":1562603,"reputation":3497,"user_id":1452141,"accept_rate":62,"display_name":"edinvnode"},"score":0,"creation_date":1485194404,"post_id":41812298,"comment_id":70813373,"body_markdown":"Same error. I will edit answer.","body":"Same error. I will edit answer."},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":0,"creation_date":1485194783,"post_id":41812298,"comment_id":70813584,"body_markdown":"Is it the same line that is giving this `AssertionVioloatedException` error? (`SearchBox.sendKeys(&quot;Software&quot;)`) or is this error happening somewhere else.","body":"Is it the same line that is giving this <code>AssertionVioloatedException</code> error? (<code>SearchBox.sendKeys(&quot;Software&quot;)</code>) or is this error happening somewhere else."},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":0,"creation_date":1485195088,"post_id":41812298,"comment_id":70813760,"body_markdown":"Somewhere you&#39;re using the BCEL library for some reason. You might have some tool running that and it&#39;s failing. As a workaround you can always try changing to debug mode or something just to see if that can get you around the issue, but the real solution would be figuring out why you&#39;re running that library, and how exactly you want to use it. As for your question, I think these two errors are two unrelated issues.","body":"Somewhere you&#39;re using the BCEL library for some reason. You might have some tool running that and it&#39;s failing. As a workaround you can always try changing to debug mode or something just to see if that can get you around the issue, but the real solution would be figuring out why you&#39;re running that library, and how exactly you want to use it. As for your question, I think these two errors are two unrelated issues."},{"owner":{"account_id":1562603,"reputation":3497,"user_id":1452141,"accept_rate":62,"display_name":"edinvnode"},"score":0,"creation_date":1485196187,"post_id":41812298,"comment_id":70814391,"body_markdown":"Well i thought those 2 errors were related. Here is screen shot of the second error http://prntscr.com/dzdaci","body":"Well i thought those 2 errors were related. Here is screen shot of the second error <a href=\"http://prntscr.com/dzdaci\" rel=\"nofollow noreferrer\">prntscr.com/dzdaci</a>"},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":0,"creation_date":1485197005,"post_id":41812298,"comment_id":70814827,"body_markdown":"Yeah it looks like your compiler issue for the sendKeys is fixed. This other one is a weird one, and it&#39;s hard to guess where you might have the BCEL verifier hooked into your environment/project. Does it only happen when you try to run the code? Or do you get the error even when building the code? If you have any devs around, this might be a good time to have them take a look at what&#39;s going on, and they might be aware of how BCEL is used in your organization as well.","body":"Yeah it looks like your compiler issue for the sendKeys is fixed. This other one is a weird one, and it&#39;s hard to guess where you might have the BCEL verifier hooked into your environment/project. Does it only happen when you try to run the code? Or do you get the error even when building the code? If you have any devs around, this might be a good time to have them take a look at what&#39;s going on, and they might be aware of how BCEL is used in your organization as well."}],"answers":[{"tags":[],"owner":{"account_id":9860975,"reputation":1650,"user_id":7303998,"accept_rate":100,"display_name":"MatWdo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485196688,"creation_date":1485196324,"answer_id":41813226,"question_id":41812298,"body_markdown":"The problem is, that the signature is a var-array, that is `CharSequence[]` instead of just `CharSequence`. \r\n\r\nTry this:\r\n\r\n    SearchBox.sendKeys(new String[] { &quot;Software&quot; });\r\n\r\nAnd what is important, please change value name, because all filed must start from lowercase, is a good practice","title":"Selenium automation with Java","body":"<p>The problem is, that the signature is a var-array, that is <code>CharSequence[]</code> instead of just <code>CharSequence</code>. </p>\n\n<p>Try this:</p>\n\n<pre><code>SearchBox.sendKeys(new String[] { \"Software\" });\n</code></pre>\n\n<p>And what is important, please change value name, because all filed must start from lowercase, is a good practice</p>\n"},{"tags":[],"owner":{"account_id":9944622,"reputation":341,"user_id":7359852,"display_name":"Lucky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485247410,"creation_date":1485234824,"answer_id":41820470,"question_id":41812298,"body_markdown":"It&#39;s problem with compiler compliance level. Change level by following procedure.\r\nRight click on your Java Project-&gt;Properties-&gt;Java compiler-&gt;Change compiler compliance level to 1.7.","title":"Selenium automation with Java","body":"<p>It's problem with compiler compliance level. Change level by following procedure.\nRight click on your Java Project->Properties->Java compiler->Change compiler compliance level to 1.7.</p>\n"},{"tags":[],"owner":{"account_id":14331304,"reputation":59,"user_id":10351978,"display_name":"hasini ishara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624122084,"creation_date":1624122084,"answer_id":68049035,"question_id":41812298,"body_markdown":"I have got a same error. `SearchBox.sendKeys(new String[] { &quot;Software&quot; });` This is work for me.","title":"Selenium automation with Java","body":"<p>I have got a same error. <code>SearchBox.sendKeys(new String[] { &quot;Software&quot; });</code> This is work for me.</p>\n"},{"tags":[],"owner":{"account_id":15174837,"reputation":1,"user_id":10949875,"display_name":"Rutvij Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660248517,"creation_date":1659967517,"answer_id":73279178,"question_id":41812298,"body_markdown":"```java\r\nwebelement searchBox =  driver.findElement(By.id(&quot;SearchInput&quot;)).sendkeys(&quot;Software&quot;);\r\n```","title":"Selenium automation with Java","body":"<pre class=\"lang-java prettyprint-override\"><code>webelement searchBox =  driver.findElement(By.id(&quot;SearchInput&quot;)).sendkeys(&quot;Software&quot;);\n</code></pre>\n"}],"owner":{"account_id":1562603,"reputation":3497,"user_id":1452141,"accept_rate":62,"display_name":"edinvnode"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1680,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":4,"score":0,"last_activity_date":1660248517,"creation_date":1485193003,"question_id":41812298,"body_markdown":"I am doing a basic selenium test with Java using Eclipse. I am following this tutorial.\r\n\r\nhttps://www.youtube.com/watch?v=2SzdhH8xAX4\r\n\r\nBut I get the error when trying to run the code.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0L2z5.png\r\n\r\nAnd here is this too.\r\n\r\n    Exception in thread &quot;main&quot; org.apache.bcel.verifier.exc.AssertionViolatedException: \r\n    FOUND:\r\n    \tINTERNAL ERROR: Oops!\r\n    Exiting!!\r\n    \r\n    \tat org.apache.bcel.verifier.exc.AssertionViolatedException.main(AssertionViolatedException.java:102)\r\n\r\n\r\nAnyone care to help me solve this problem and execute this simple test?","title":"Selenium automation with Java","body":"<p>I am doing a basic selenium test with Java using Eclipse. I am following this tutorial.</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=2SzdhH8xAX4\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=2SzdhH8xAX4</a></p>\n\n<p>But I get the error when trying to run the code.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0L2z5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0L2z5.png\" alt=\"enter image description here\"></a></p>\n\n<p>And here is this too.</p>\n\n<pre><code>Exception in thread \"main\" org.apache.bcel.verifier.exc.AssertionViolatedException: \nFOUND:\n    INTERNAL ERROR: Oops!\nExiting!!\n\n    at org.apache.bcel.verifier.exc.AssertionViolatedException.main(AssertionViolatedException.java:102)\n</code></pre>\n\n<p>Anyone care to help me solve this problem and execute this simple test?</p>\n"},{"tags":["java","java-8","sum","java-stream","nested-lists"],"answers":[{"tags":[],"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1557693357,"creation_date":1557693357,"answer_id":56103265,"question_id":56103192,"body_markdown":"You can use this:\r\n\r\n    List&lt;Competitor&gt; minListCompetitor = anotherListOfListCompetitor.stream()\r\n            .min(Comparator.comparingInt(l -&gt; l.stream().mapToInt(Competitor::getPower).sum()))\r\n            .orElse(Collections.emptyList());\r\n\r\n    List&lt;Competitor&gt; maxListCompetitor = anotherListOfListCompetitor.stream()\r\n            .max(Comparator.comparingInt(l -&gt; l.stream().mapToInt(Competitor::getPower).sum()))\r\n            .orElse(Collections.emptyList());\r\n\r\nThis returns the `.min()` / `.max()` of the sum from the lists. It uses a simplified version of the code you provided to calculate the sum.\r\n\r\nIf you want to throw an exception if no maximum is found you can use `.orElseThrow()`.","title":"get List from with maximum and minimum sum from (nested List) List of List using Java 8","body":"<p>You can use this:</p>\n\n<pre><code>List&lt;Competitor&gt; minListCompetitor = anotherListOfListCompetitor.stream()\n        .min(Comparator.comparingInt(l -&gt; l.stream().mapToInt(Competitor::getPower).sum()))\n        .orElse(Collections.emptyList());\n\nList&lt;Competitor&gt; maxListCompetitor = anotherListOfListCompetitor.stream()\n        .max(Comparator.comparingInt(l -&gt; l.stream().mapToInt(Competitor::getPower).sum()))\n        .orElse(Collections.emptyList());\n</code></pre>\n\n<p>This returns the <code>.min()</code> / <code>.max()</code> of the sum from the lists. It uses a simplified version of the code you provided to calculate the sum.</p>\n\n<p>If you want to throw an exception if no maximum is found you can use <code>.orElseThrow()</code>.</p>\n"}],"owner":{"display_name":"user1410223"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1047,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56103265,"answer_count":1,"score":2,"last_activity_date":1660248447,"creation_date":1557692781,"question_id":56103192,"body_markdown":"I was checking these question but it&#39;s not answer my question\r\n\r\nhttps://stackoverflow.com/q/31083405/1410223  \r\nhttps://stackoverflow.com/q/25988707/1410223\r\n\r\nMy problem I have nested List, and I want to obtain one List.\r\n\r\nI have this class:\r\n\r\n\r\n    public class Competitor {\r\n      private final int type;\r\n      private final String name;\r\n      private final int power;\r\n\r\n      public Competitor(int type, String name, int power) {\r\n        this.type = type;\r\n        this.name = name;\r\n        this.power = power;\r\n      }\r\n\r\n      public int getType() {\r\n        return type;\r\n      }\r\n\r\n      public String getName() {\r\n        return name;\r\n      }\r\n\r\n      public int getPower() {\r\n        return power;\r\n      }\r\n\r\n      @Override\r\n      public String toString() {\r\n        return &quot;Competitor{&quot; + &quot;type=&quot; + type + &quot;, name=&quot; + name + &quot;, power=&quot; + power + &quot;} &quot;;\r\n      }\r\n\r\n    }\r\n\r\n\r\nNow I have a `List&lt;List&lt;Competitor&gt;&gt;` like:\r\n\r\n\r\n    List&lt;List&lt;Competitor&gt;&gt; anotherListOfListCompetitor = new ArrayList&lt;&gt;();\r\n    anotherListOfListCompetitor.add(new ArrayList&lt;&gt;(\r\n        Arrays.asList(new Competitor(1, &quot;Cat 00&quot;, 93), new Competitor(2, &quot;Dog 18&quot;, 40), new Competitor(3, &quot;Pig 90&quot;, 90)))); //93 + 40 + 90 = 223\r\n\r\n    anotherListOfListCompetitor.add(new ArrayList&lt;&gt;(\r\n        Arrays.asList(new Competitor(1, &quot;Cat 23&quot;, 20), new Competitor(2, &quot;Dog 30&quot;, 68), new Competitor(3, &quot;Pig 78&quot;, 32)))); //20 + 68 + 32 = 120\r\n    \r\n    anotherListOfListCompetitor.add(new ArrayList&lt;&gt;(\r\n        Arrays.asList(new Competitor(1, &quot;Cat 10&quot;, 11), new Competitor(4, &quot;Cow 99&quot;, 90)))); //11 + 90 = 101\r\n\r\nNow, I want to obtain the `List&lt;Competitor&gt;` with minimum sum of `power` Property and other `List&lt;Competitor&gt;` with maximum sum.\r\n\r\nI know of reduce...\r\n\r\n    List&lt;Competitor&gt; someListCompetitor = //populate the list\r\n\r\n    int sumPower = someListCompetitor.stream()\r\n        .map(competitor -&gt; competitor.getPower())\r\n        .reduce(0, (a, b) -&gt; a + b);\r\n\r\n**But is it possible for `List&lt;List&lt;Competitor&gt;&gt;` obtains the `minListCompetitor` with minimal `sumPower` and `anotherListCompetitor` with maximal `sumPower`?**\r\n \r\n\r\n    List&lt;Competitor&gt; minListCompetitor = anotherListOfListCompetitor\r\n        .stream()... // which sum power is 101\r\n\r\n\r\n    List&lt;Competitor&gt; maxListCompetitor = anotherListOfListCompetitor\r\n        .stream()... // which sum power is 223\r\n\r\n**How obtain these lists?**","title":"get List from with maximum and minimum sum from (nested List) List of List using Java 8","body":"<p>I was checking these question but it's not answer my question</p>\n<p><a href=\"https://stackoverflow.com/q/31083405/1410223\">How to get minimum and maximum value from List of Objects using Java 8</a><br />\n<a href=\"https://stackoverflow.com/q/25988707/1410223\">Find maximum, minimum, sum and average of a list in Java 8</a></p>\n<p>My problem I have nested List, and I want to obtain one List.</p>\n<p>I have this class:</p>\n<pre><code>public class Competitor {\n  private final int type;\n  private final String name;\n  private final int power;\n\n  public Competitor(int type, String name, int power) {\n    this.type = type;\n    this.name = name;\n    this.power = power;\n  }\n\n  public int getType() {\n    return type;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public int getPower() {\n    return power;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;Competitor{&quot; + &quot;type=&quot; + type + &quot;, name=&quot; + name + &quot;, power=&quot; + power + &quot;} &quot;;\n  }\n\n}\n</code></pre>\n<p>Now I have a <code>List&lt;List&lt;Competitor&gt;&gt;</code> like:</p>\n<pre><code>List&lt;List&lt;Competitor&gt;&gt; anotherListOfListCompetitor = new ArrayList&lt;&gt;();\nanotherListOfListCompetitor.add(new ArrayList&lt;&gt;(\n    Arrays.asList(new Competitor(1, &quot;Cat 00&quot;, 93), new Competitor(2, &quot;Dog 18&quot;, 40), new Competitor(3, &quot;Pig 90&quot;, 90)))); //93 + 40 + 90 = 223\n\nanotherListOfListCompetitor.add(new ArrayList&lt;&gt;(\n    Arrays.asList(new Competitor(1, &quot;Cat 23&quot;, 20), new Competitor(2, &quot;Dog 30&quot;, 68), new Competitor(3, &quot;Pig 78&quot;, 32)))); //20 + 68 + 32 = 120\n\nanotherListOfListCompetitor.add(new ArrayList&lt;&gt;(\n    Arrays.asList(new Competitor(1, &quot;Cat 10&quot;, 11), new Competitor(4, &quot;Cow 99&quot;, 90)))); //11 + 90 = 101\n</code></pre>\n<p>Now, I want to obtain the <code>List&lt;Competitor&gt;</code> with minimum sum of <code>power</code> Property and other <code>List&lt;Competitor&gt;</code> with maximum sum.</p>\n<p>I know of reduce...</p>\n<pre><code>List&lt;Competitor&gt; someListCompetitor = //populate the list\n\nint sumPower = someListCompetitor.stream()\n    .map(competitor -&gt; competitor.getPower())\n    .reduce(0, (a, b) -&gt; a + b);\n</code></pre>\n<p><strong>But is it possible for <code>List&lt;List&lt;Competitor&gt;&gt;</code> obtains the <code>minListCompetitor</code> with minimal <code>sumPower</code> and <code>anotherListCompetitor</code> with maximal <code>sumPower</code>?</strong></p>\n<pre><code>List&lt;Competitor&gt; minListCompetitor = anotherListOfListCompetitor\n    .stream()... // which sum power is 101\n\n\nList&lt;Competitor&gt; maxListCompetitor = anotherListOfListCompetitor\n    .stream()... // which sum power is 223\n</code></pre>\n<p><strong>How obtain these lists?</strong></p>\n"},{"tags":["java","spring","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660248406,"creation_date":1660247141,"answer_id":73326164,"question_id":73317132,"body_markdown":"**Solution 1:**\r\n\r\nYou can create a mapper for each object, and then tells mapstruct to use it. Example:\r\n\r\n    @Mapper(uses = {FooBMapper.class, FooCMapper.class})\r\n    public interface FooAMapper {\r\n    \r\n    }\r\n\r\nOpen this [mapstruct guide step-by-step][1] and go to &quot;Mapping Nested Objects&quot; section.\r\n\r\nTake a look also at this one: [guide-to-mapstruct-in-java-advanced-mapping-library][2] section &quot;Mapping Child Entities&quot;\r\n\r\n\r\n\r\n**Solution 2:**\r\n\r\nMapStruct doesn&#39;t allow to use qualifiedByName with multiple parameters so you can&#39;t use it in your case. \r\n\r\nBut if your ENTITY has the same structure as DTO, you can pass a single object to the mapper method toDto\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, injectionStrategy = InjectionStrategy.CONSTRUCTOR)\r\n    public interface DtoMapper {\r\n\r\n        @Mapping(target = &quot;fooC&quot;, qualifiedByName = &quot;toFooCDto&quot;)\r\n        FooADto toDto(FooA fooA)\r\n        \r\n        @Named(&quot;toFooCDto&quot;)\r\n        default FooCDto toFooCDto(FooA fooA) {\r\n           \r\n            //You can take fooC from fooA, and fooD from fooC\r\n            \r\n            FooCDto fooCDto = new FooCDto();\r\n\r\n            //Add your custom mapping implementation\r\n\r\n            return fooCDto;\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://reflectoring.io/java-mapping-with-mapstruct/\r\n  [2]: https://stackabuse.com/guide-to-mapstruct-in-java-advanced-mapping-library/\r\n","title":"MapStruct generator does not identify different mapping with 2 arguments","body":"<p><strong>Solution 1:</strong></p>\n<p>You can create a mapper for each object, and then tells mapstruct to use it. Example:</p>\n<pre><code>@Mapper(uses = {FooBMapper.class, FooCMapper.class})\npublic interface FooAMapper {\n\n}\n</code></pre>\n<p>Open this <a href=\"https://reflectoring.io/java-mapping-with-mapstruct/\" rel=\"nofollow noreferrer\">mapstruct guide step-by-step</a> and go to &quot;Mapping Nested Objects&quot; section.</p>\n<p>Take a look also at this one: <a href=\"https://stackabuse.com/guide-to-mapstruct-in-java-advanced-mapping-library/\" rel=\"nofollow noreferrer\">guide-to-mapstruct-in-java-advanced-mapping-library</a> section &quot;Mapping Child Entities&quot;</p>\n<p><strong>Solution 2:</strong></p>\n<p>MapStruct doesn't allow to use qualifiedByName with multiple parameters so you can't use it in your case.</p>\n<p>But if your ENTITY has the same structure as DTO, you can pass a single object to the mapper method toDto</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, injectionStrategy = InjectionStrategy.CONSTRUCTOR)\npublic interface DtoMapper {\n\n    @Mapping(target = &quot;fooC&quot;, qualifiedByName = &quot;toFooCDto&quot;)\n    FooADto toDto(FooA fooA)\n    \n    @Named(&quot;toFooCDto&quot;)\n    default FooCDto toFooCDto(FooA fooA) {\n       \n        //You can take fooC from fooA, and fooD from fooC\n        \n        FooCDto fooCDto = new FooCDto();\n\n        //Add your custom mapping implementation\n\n        return fooCDto;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":865,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73326164,"answer_count":1,"score":1,"last_activity_date":1660248406,"creation_date":1660204321,"question_id":73317132,"body_markdown":"I got multiple different types FooA, FooB, FooC, FooD,...\r\n\r\nNow I need to map them all to a &quot;Dto&quot; and in some cases the integration with immutables.org works flawless on that, but MapStruct has the problem that it cannot identify the correct mapping method:\r\n\r\n    class FooADto {\r\n        // foo A properties\r\n        FooBDto fooB;\r\n        FooCDto fooC;\r\n    }\r\n\r\n    class FooCDto {\r\n        // foo C properties\r\n        List&lt;FooDDto&gt; fooDs;\r\n    }\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, injectionStrategy = InjectionStrategy.CONSTRUCTOR)\r\n    public interface DtoMapper {\r\n        FooADto toDto(FooA fooA, FooB fooB, FooC fooC, List&lt;FooD&gt; fooD)\r\n\r\n        FooCDto toDto(FooC fooC, List&lt;FooD&gt; fooD)\r\n    }\r\n\r\nThe generator now generates methods to map each type on it&#39;s own, **but does not reuse** the second method in order to map `FooCDto` together with the `FooD`s\r\n\r\n\r\nIs there another way that using `expression = java(...)` to accomplish that mapstruct realizes to use that method? ","title":"MapStruct generator does not identify different mapping with 2 arguments","body":"<p>I got multiple different types FooA, FooB, FooC, FooD,...</p>\n<p>Now I need to map them all to a &quot;Dto&quot; and in some cases the integration with immutables.org works flawless on that, but MapStruct has the problem that it cannot identify the correct mapping method:</p>\n<pre><code>class FooADto {\n    // foo A properties\n    FooBDto fooB;\n    FooCDto fooC;\n}\n\nclass FooCDto {\n    // foo C properties\n    List&lt;FooDDto&gt; fooDs;\n}\n\n@Mapper(componentModel = &quot;spring&quot;, injectionStrategy = InjectionStrategy.CONSTRUCTOR)\npublic interface DtoMapper {\n    FooADto toDto(FooA fooA, FooB fooB, FooC fooC, List&lt;FooD&gt; fooD)\n\n    FooCDto toDto(FooC fooC, List&lt;FooD&gt; fooD)\n}\n</code></pre>\n<p>The generator now generates methods to map each type on it's own, <strong>but does not reuse</strong> the second method in order to map <code>FooCDto</code> together with the <code>FooD</code>s</p>\n<p>Is there another way that using <code>expression = java(...)</code> to accomplish that mapstruct realizes to use that method?</p>\n"},{"tags":["java","csv","opencsv"],"comments":[{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":1,"creation_date":1660247328,"post_id":73326117,"comment_id":129494163,"body_markdown":"Hint: &quot;CSV&quot; stands for &quot;**comma**-separated values&quot;. See http://opencsv.sourceforge.net/apidocs/com/opencsv/bean/CsvToBeanBuilder.html#withSeparator-char-","body":"Hint: &quot;CSV&quot; stands for &quot;<b>comma</b>-separated values&quot;. See <a href=\"http://opencsv.sourceforge.net/apidocs/com/opencsv/bean/CsvToBeanBuilder.html#withSeparator-char-\" rel=\"nofollow noreferrer\">opencsv.sourceforge.net/apidocs/com/opencsv/bean/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660247730,"creation_date":1660247730,"answer_id":73326260,"question_id":73326117,"body_markdown":"Go for:\n\n    List&lt;ABC&gt; beans = new CsvToBeanBuilder(new FileReader(&quot;etestcsv&quot;))\n                   .withType(ABC.class)\n                   .withSeparator(&#39;;&#39;)\n                   .build()\n                   .parse();\n\nand you should see better results. ","title":"Why does CsvBindByPosition just return one column value line by line?","body":"<p>Go for:</p>\n<pre><code>List&lt;ABC&gt; beans = new CsvToBeanBuilder(new FileReader(&quot;etestcsv&quot;))\n               .withType(ABC.class)\n               .withSeparator(';')\n               .build()\n               .parse();\n</code></pre>\n<p>and you should see better results.</p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73326260,"answer_count":1,"score":0,"last_activity_date":1660247834,"creation_date":1660246813,"question_id":73326117,"body_markdown":"i try to read a csv file with `opencsv`\r\n\r\n```\r\nProzess;R&#252;stvorgang;Prozessdauer Minuten;Station;K&#252;vettentyp;K&#252;vettentemperatur Grad Celsius;Werker;Gasmischung;GasKonzentration PPM\r\nTest;X;;Y;K10;;X1;;\r\nACVB;;60;ERT;K10;400;;;\r\nSSD;;10;ERER;K10;400;X;;\r\n```\r\n\r\nMy class:\r\n```\r\npublic class ABC\r\n{\r\n   @CsvBindByPosition(position = 0)\r\n   private String prozess;\r\n   @CsvBindByPosition(position = 1)\r\n   private String ruestVorgang;\r\n   @CsvBindByPosition(position = 2)\r\n   private String prozessDauerMinuten;\r\n   @CsvBindByPosition(position = 3)\r\n   private String station;\r\n   @CsvBindByPosition(position = 4)\r\n   private String kuevettenTyp;\r\n   @CsvBindByPosition(position = 5)\r\n   private String kuevettenTemperatur;\r\n   @CsvBindByPosition(position = 6)\r\n   private String werker;\r\n   @CsvBindByPosition(position = 7)\r\n   private String gasMischung;\r\n   @CsvBindByPosition(position = 8)\r\n   private String gasKonzentration;\r\n```\r\n\r\nThe beanBuilder\r\n```\r\nList&lt;ABC&gt; beans = new CsvToBeanBuilder(new FileReader(&quot;etestcsv&quot;))\r\n               .withType(ABC.class)\r\n               .build()\r\n               .parse();\r\n```\r\n\r\nJust the prozess is filled with the values of all columns, the rest is null. I tried also with `CsvBindByName` but everything is null. \r\n`implementation &#39;com.opencsv:opencsv:5.3&#39;`","title":"Why does CsvBindByPosition just return one column value line by line?","body":"<p>i try to read a csv file with <code>opencsv</code></p>\n<pre><code>Prozess;Rüstvorgang;Prozessdauer Minuten;Station;Küvettentyp;Küvettentemperatur Grad Celsius;Werker;Gasmischung;GasKonzentration PPM\nTest;X;;Y;K10;;X1;;\nACVB;;60;ERT;K10;400;;;\nSSD;;10;ERER;K10;400;X;;\n</code></pre>\n<p>My class:</p>\n<pre><code>public class ABC\n{\n   @CsvBindByPosition(position = 0)\n   private String prozess;\n   @CsvBindByPosition(position = 1)\n   private String ruestVorgang;\n   @CsvBindByPosition(position = 2)\n   private String prozessDauerMinuten;\n   @CsvBindByPosition(position = 3)\n   private String station;\n   @CsvBindByPosition(position = 4)\n   private String kuevettenTyp;\n   @CsvBindByPosition(position = 5)\n   private String kuevettenTemperatur;\n   @CsvBindByPosition(position = 6)\n   private String werker;\n   @CsvBindByPosition(position = 7)\n   private String gasMischung;\n   @CsvBindByPosition(position = 8)\n   private String gasKonzentration;\n</code></pre>\n<p>The beanBuilder</p>\n<pre><code>List&lt;ABC&gt; beans = new CsvToBeanBuilder(new FileReader(&quot;etestcsv&quot;))\n               .withType(ABC.class)\n               .build()\n               .parse();\n</code></pre>\n<p>Just the prozess is filled with the values of all columns, the rest is null. I tried also with <code>CsvBindByName</code> but everything is null.\n<code>implementation 'com.opencsv:opencsv:5.3'</code></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1660249301,"post_id":73326242,"comment_id":129494728,"body_markdown":"See if the following can help. https://github.com/sedj601/FileExplorer/blob/master/src/fileexplorer/FXMLDocumentController.java","body":"See if the following can help. <a href=\"https://github.com/sedj601/FileExplorer/blob/master/src/fileexplorer/FXMLDocumentController.java\" rel=\"nofollow noreferrer\">github.com/sedj601/FileExplorer/blob/master/src/fileexplorer&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1660250646,"post_id":73326242,"comment_id":129495081,"body_markdown":"You shouldn&#39;t be setting the cell factory at all inside a user-initiated event such as a drag drop.  If you want to change the data in the list, modify the items list which backs the list, not the cell factories.  You only want to display a text file name it seems, so unless the list of type &lt;File&gt; then you don&#39;t need a cell factory to render the file name. Put the relevant file names in the list at the appropriate location.","body":"You shouldn&#39;t be setting the cell factory at all inside a user-initiated event such as a drag drop.  If you want to change the data in the list, modify the items list which backs the list, not the cell factories.  You only want to display a text file name it seems, so unless the list of type &lt;File&gt; then you don&#39;t need a cell factory to render the file name. Put the relevant file names in the list at the appropriate location."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1660250758,"post_id":73326242,"comment_id":129495120,"body_markdown":"What would be the behavior if the user did drag multiple files into the ListView, shouldn&#39;t you add them all?  And where do you want the new files added in the list? Inserted at the location they are dragged to?  Or appended to the end of the list?  Or is order in the list immaterial for your purposes?","body":"What would be the behavior if the user did drag multiple files into the ListView, shouldn&#39;t you add them all?  And where do you want the new files added in the list? Inserted at the location they are dragged to?  Or appended to the end of the list?  Or is order in the list immaterial for your purposes?"}],"owner":{"account_id":26041253,"reputation":1,"user_id":19746036,"display_name":"DriftingSN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660247584,"creation_date":1660247584,"question_id":73326242,"body_markdown":"I want to change the style of the file to get in the list to only display the file name, but I tried many ways, when I change &lt;File&gt; to &lt;String&gt;, the file name will fill the entire listview after dragging in the file but When I want to use &lt;File&gt; it says: &quot;Error return type in lambda expression: ListCell&lt;File&gt; cannot be cast to ListCell&lt;String&gt;&quot;, what do I need to do so that when dragging in only one file is displayed and only show file name\r\n\r\n    inputListView.setOnDragDropped(event -&gt; {\r\n            Dragboard db = event.getDragboard();\r\n            boolean success = false;\r\n            if (db.hasFiles()) {\r\n                success = true;\r\n                String filePath;\r\n\r\n\r\n                int total_files = db.getFiles().size();\r\n                for (int i = 0; i &lt; total_files; i++) {\r\n\r\n                        File file = db.getFiles().get(i);\r\n                        filePath = file.getAbsolutePath();\r\n\r\n\r\n                        inputListView.getItems().add(filePath);\r\n                    int input_files = db.getFiles().size();\r\n                    for (int x = 0; x &lt; input_files; x++) {\r\n                        File file2 = db.getFiles().get(x);\r\n                        String filename;\r\n                        filename = file2.getName();\r\n                        inputListView.setCellFactory(inputListView -&gt; new ListCell&lt;String&gt;() {\r\n                            @Override\r\n                            protected void updateItem(String filename, boolean empty) {\r\n                                super.updateItem(filename, empty);\r\n\r\n                                setText(file2.getName());\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                }\r\n\r\n\r\n\r\n            }\r\n            event.setDropCompleted(success);\r\n            event.consume();\r\n        });","title":"what do I need to do so that when dragging in only one file is displayed and only show file name","body":"<p>I want to change the style of the file to get in the list to only display the file name, but I tried many ways, when I change  to , the file name will fill the entire listview after dragging in the file but When I want to use  it says: &quot;Error return type in lambda expression: ListCell cannot be cast to ListCell&quot;, what do I need to do so that when dragging in only one file is displayed and only show file name</p>\n<pre><code>inputListView.setOnDragDropped(event -&gt; {\n        Dragboard db = event.getDragboard();\n        boolean success = false;\n        if (db.hasFiles()) {\n            success = true;\n            String filePath;\n\n\n            int total_files = db.getFiles().size();\n            for (int i = 0; i &lt; total_files; i++) {\n\n                    File file = db.getFiles().get(i);\n                    filePath = file.getAbsolutePath();\n\n\n                    inputListView.getItems().add(filePath);\n                int input_files = db.getFiles().size();\n                for (int x = 0; x &lt; input_files; x++) {\n                    File file2 = db.getFiles().get(x);\n                    String filename;\n                    filename = file2.getName();\n                    inputListView.setCellFactory(inputListView -&gt; new ListCell&lt;String&gt;() {\n                        @Override\n                        protected void updateItem(String filename, boolean empty) {\n                            super.updateItem(filename, empty);\n\n                            setText(file2.getName());\n                        }\n                    });\n                }\n\n            }\n\n\n\n        }\n        event.setDropCompleted(success);\n        event.consume();\n    });\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1472515837,"post_id":39216806,"comment_id":65772375,"body_markdown":"Show us the `ArenaPlayer` class. Does it have a `Match` field?","body":"Show us the <code>ArenaPlayer</code> class. Does it have a <code>Match</code> field?"},{"owner":{"account_id":3787683,"reputation":311,"user_id":3145080,"accept_rate":67,"display_name":"Zach443"},"score":0,"creation_date":1472516371,"post_id":39216806,"comment_id":65772510,"body_markdown":"Updated with the code.","body":"Updated with the code."},{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1660247342,"post_id":39216806,"comment_id":129494173,"body_markdown":"As mentioned by @Bohemian below, your class structure is recursive.  When representing that as JSON, the converter (GSON) does not know when to stop.","body":"As mentioned by @Bohemian below, your class structure is recursive.  When representing that as JSON, the converter (GSON) does not know when to stop."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660246956,"creation_date":1472516507,"answer_id":39217080,"question_id":39216806,"body_markdown":"I think the problem is that `Match` has an `ArenaPlayer` field, and `ArenaPlayer` has a `Match` field, which if the two instances reference each other causes Gson to go into an infinite loop due to its implementation.\r\n\r\nYou&#39;ll have to detangle your classes, your instances, or use a different library, or exclude certain fields from serialization - see [Gson doc][1].\r\n\r\n---\r\n\r\nBTW, 1000 is the default call stack depth - if you see this many lines in the stack, you&#39;ve probably hit an infinite recursion.\r\n\r\n\r\n  [1]: https://sites.google.com/site/gson/gson-user-guide#TOC-Excluding-Fields-From-Serialization-and-Deserialization","title":"Massive StackOverflowError from GSON toJson","body":"<p>I think the problem is that <code>Match</code> has an <code>ArenaPlayer</code> field, and <code>ArenaPlayer</code> has a <code>Match</code> field, which if the two instances reference each other causes Gson to go into an infinite loop due to its implementation.</p>\n<p>You'll have to detangle your classes, your instances, or use a different library, or exclude certain fields from serialization - see <a href=\"https://sites.google.com/site/gson/gson-user-guide#TOC-Excluding-Fields-From-Serialization-and-Deserialization\" rel=\"nofollow noreferrer\">Gson doc</a>.</p>\n<hr />\n<p>BTW, 1000 is the default call stack depth - if you see this many lines in the stack, you've probably hit an infinite recursion.</p>\n"}],"owner":{"account_id":3787683,"reputation":311,"user_id":3145080,"accept_rate":67,"display_name":"Zach443"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660246956,"creation_date":1472514263,"question_id":39216806,"body_markdown":"So I am trying to use GSON to convert a class into a JSON file with the toJson() function and every time the code gets called there is a massive 1000+ line StackOverflowError. This is the error: http://pastebin.com/dBhYUFva\r\n\r\nAnd here is the class I am doing `gson.toJson()` on: \r\n\r\n\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.GsonBuilder;\r\n    import mc.kwit.arena.players.ArenaPlayer;\r\n    import mc.kwit.arena.util.PlayerUtil;\r\n    import org.bukkit.Bukkit;\r\n    import org.bukkit.ChatColor;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * Created by Zach on 8/3/16.\r\n     */\r\n    public class Match {\r\n    \r\n        List&lt;ArenaPlayer&gt; arenaPlayers = new ArrayList&lt;ArenaPlayer&gt;();\r\n        String[] uuidArray = null;\r\n        Player winner;\r\n        String matchId = &quot;123456&quot;;\r\n        int killLimit = 5;\r\n        int timeLimit = -1;\r\n    \r\n    \r\n        public Match() {\r\n    \r\n        }\r\n    \r\n        public Match(List&lt;ArenaPlayer&gt; arenaPlayerList, String id, int seconds, int kills) {\r\n            this.arenaPlayers = arenaPlayerList;\r\n            this.matchId = id;\r\n            this.timeLimit = seconds;\r\n            this.killLimit = kills;\r\n        }\r\n    \r\n        public Match(String[] players, String id, int seconds, int kills) {\r\n            this.uuidArray = players;\r\n            this.matchId = id;\r\n            this.timeLimit = seconds;\r\n            this.killLimit = kills;\r\n        }\r\n    \r\n        public void start() {\r\n    \r\n            //Create our ArenaPlayer objects\r\n            this.arenaPlayers = PlayerUtil.uuidToArenaPlayerList(uuidArray);\r\n    \r\n            Bukkit.getLogger().info(&quot;Match \\&quot; &quot; + this.matchId + &quot;\\&quot; has been started!&quot;);\r\n            //Whitelist all participants\r\n            for(ArenaPlayer p : arenaPlayers) {\r\n                KwitArena.pc.addArenaPlayer(p.getPlayer());\r\n                p.getPlayer().setWhitelisted(true);\r\n                Bukkit.getLogger().info(p.getName() + &quot; has been whitelisted!&quot;);\r\n                p.setMatch(this);\r\n            }\r\n        }\r\n    \r\n        public void finish() throws Exception {\r\n    \r\n            //Remove all players from whitelist and game\r\n            for(ArenaPlayer p : arenaPlayers) {\r\n                p.getPlayer().setWhitelisted(false);\r\n    \r\n                if(p.isWinner()){\r\n                    p.kick(ChatColor.GREEN + &quot;You have won the game!&quot;);\r\n                    this.winner = p.getPlayer();\r\n                } else {\r\n                    p.kick(ChatColor.RED + winner.getName() + &quot;has won the game :(&quot;);\r\n                }\r\n            }\r\n    \r\n            Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n            String stats = gson.toJson(this);\r\n            KwitArena.postStats(stats);\r\n    \r\n            //Remove this arena instance from the plugin\r\n            KwitArena.match = null;\r\n        }\r\n    \r\n        public String getId(){\r\n            return(this.matchId);\r\n        }\r\n    \r\n        public void setWinner(ArenaPlayer p) {\r\n            this.winner = p.getPlayer();\r\n        }\r\n    }\r\n\r\nArenaPlayer.class : \r\n\r\n    import mc.kwit.arena.Match;\r\n    import org.bukkit.OfflinePlayer;\r\n    import org.bukkit.entity.Player;\r\n    \r\n    /**\r\n     * Created by Zach on 7/31/16.\r\n     */\r\n    public class ArenaPlayer {\r\n    \r\n        ArenaPlayer ap;\r\n        Player  player;\r\n        OfflinePlayer offlinePlayer;\r\n        int kills = 0;\r\n        int deaths = 0;\r\n        boolean isInGame = false;\r\n        Match match = null;\r\n        boolean isWinner = false;\r\n    \r\n        public ArenaPlayer(Player player){\r\n            this.player = player;\r\n        }\r\n    \r\n        public ArenaPlayer(Player player, boolean playing, int numKills, int numDeaths) {\r\n            this.player = player;\r\n            kills = numKills;\r\n            deaths = numDeaths;\r\n            isInGame = playing;\r\n        }\r\n    \r\n    \r\n        //Getters\r\n        public String getMatchId() { return(this.match.getId());}\r\n    \r\n        public int getKills() { return(this.kills);}\r\n    \r\n        public int getDeaths() { return(this.deaths);}\r\n    \r\n        public Match getMatch() { return(this.match);}\r\n    \r\n        public Player getPlayer() { return(this.player);}\r\n    \r\n        public String getName() { return(player.getName());}\r\n    \r\n        public OfflinePlayer getOfflinePlayer() { return(this.offlinePlayer);}\r\n    \r\n        //Setters\r\n        public void setMatch(Match match) { this.match = match;}\r\n    \r\n        public void setIsWinner(boolean b) { this.isWinner = b;}\r\n    \r\n        public void setOfflinePlayer(OfflinePlayer off) { this.offlinePlayer = off; }\r\n    \r\n    \r\n        //Extras\r\n        public void addDeath() { this.deaths++;}\r\n    \r\n        public void addKill() { this.kills++;}\r\n    \r\n        public boolean isPlaying() { return(this.isInGame);}\r\n    \r\n        public boolean isWinner() { return(this.isWinner);}\r\n    \r\n        public void kick(String message) { player.kickPlayer(message);}\r\n    \r\n    \r\n    }\r\n\r\nI&#39;m not really sure where to even begin in the stack trace, anyone have some pointers?","title":"Massive StackOverflowError from GSON toJson","body":"<p>So I am trying to use GSON to convert a class into a JSON file with the toJson() function and every time the code gets called there is a massive 1000+ line StackOverflowError. This is the error: <a href=\"http://pastebin.com/dBhYUFva\" rel=\"nofollow\">http://pastebin.com/dBhYUFva</a></p>\n\n<p>And here is the class I am doing <code>gson.toJson()</code> on: </p>\n\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport mc.kwit.arena.players.ArenaPlayer;\nimport mc.kwit.arena.util.PlayerUtil;\nimport org.bukkit.Bukkit;\nimport org.bukkit.ChatColor;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * Created by Zach on 8/3/16.\n */\npublic class Match {\n\n    List&lt;ArenaPlayer&gt; arenaPlayers = new ArrayList&lt;ArenaPlayer&gt;();\n    String[] uuidArray = null;\n    Player winner;\n    String matchId = \"123456\";\n    int killLimit = 5;\n    int timeLimit = -1;\n\n\n    public Match() {\n\n    }\n\n    public Match(List&lt;ArenaPlayer&gt; arenaPlayerList, String id, int seconds, int kills) {\n        this.arenaPlayers = arenaPlayerList;\n        this.matchId = id;\n        this.timeLimit = seconds;\n        this.killLimit = kills;\n    }\n\n    public Match(String[] players, String id, int seconds, int kills) {\n        this.uuidArray = players;\n        this.matchId = id;\n        this.timeLimit = seconds;\n        this.killLimit = kills;\n    }\n\n    public void start() {\n\n        //Create our ArenaPlayer objects\n        this.arenaPlayers = PlayerUtil.uuidToArenaPlayerList(uuidArray);\n\n        Bukkit.getLogger().info(\"Match \\\" \" + this.matchId + \"\\\" has been started!\");\n        //Whitelist all participants\n        for(ArenaPlayer p : arenaPlayers) {\n            KwitArena.pc.addArenaPlayer(p.getPlayer());\n            p.getPlayer().setWhitelisted(true);\n            Bukkit.getLogger().info(p.getName() + \" has been whitelisted!\");\n            p.setMatch(this);\n        }\n    }\n\n    public void finish() throws Exception {\n\n        //Remove all players from whitelist and game\n        for(ArenaPlayer p : arenaPlayers) {\n            p.getPlayer().setWhitelisted(false);\n\n            if(p.isWinner()){\n                p.kick(ChatColor.GREEN + \"You have won the game!\");\n                this.winner = p.getPlayer();\n            } else {\n                p.kick(ChatColor.RED + winner.getName() + \"has won the game :(\");\n            }\n        }\n\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\n        String stats = gson.toJson(this);\n        KwitArena.postStats(stats);\n\n        //Remove this arena instance from the plugin\n        KwitArena.match = null;\n    }\n\n    public String getId(){\n        return(this.matchId);\n    }\n\n    public void setWinner(ArenaPlayer p) {\n        this.winner = p.getPlayer();\n    }\n}\n</code></pre>\n\n<p>ArenaPlayer.class : </p>\n\n<pre><code>import mc.kwit.arena.Match;\nimport org.bukkit.OfflinePlayer;\nimport org.bukkit.entity.Player;\n\n/**\n * Created by Zach on 7/31/16.\n */\npublic class ArenaPlayer {\n\n    ArenaPlayer ap;\n    Player  player;\n    OfflinePlayer offlinePlayer;\n    int kills = 0;\n    int deaths = 0;\n    boolean isInGame = false;\n    Match match = null;\n    boolean isWinner = false;\n\n    public ArenaPlayer(Player player){\n        this.player = player;\n    }\n\n    public ArenaPlayer(Player player, boolean playing, int numKills, int numDeaths) {\n        this.player = player;\n        kills = numKills;\n        deaths = numDeaths;\n        isInGame = playing;\n    }\n\n\n    //Getters\n    public String getMatchId() { return(this.match.getId());}\n\n    public int getKills() { return(this.kills);}\n\n    public int getDeaths() { return(this.deaths);}\n\n    public Match getMatch() { return(this.match);}\n\n    public Player getPlayer() { return(this.player);}\n\n    public String getName() { return(player.getName());}\n\n    public OfflinePlayer getOfflinePlayer() { return(this.offlinePlayer);}\n\n    //Setters\n    public void setMatch(Match match) { this.match = match;}\n\n    public void setIsWinner(boolean b) { this.isWinner = b;}\n\n    public void setOfflinePlayer(OfflinePlayer off) { this.offlinePlayer = off; }\n\n\n    //Extras\n    public void addDeath() { this.deaths++;}\n\n    public void addKill() { this.kills++;}\n\n    public boolean isPlaying() { return(this.isInGame);}\n\n    public boolean isWinner() { return(this.isWinner);}\n\n    public void kick(String message) { player.kickPlayer(message);}\n\n\n}\n</code></pre>\n\n<p>I'm not really sure where to even begin in the stack trace, anyone have some pointers?</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1465470917,"post_id":37724237,"comment_id":62920020,"body_markdown":"Why are you first formatting the date with hyphens, and then you remove the hyphens? Just use date format `yyyyMMdd` then you don&#39;t have to remove the hyphens.","body":"Why are you first formatting the date with hyphens, and then you remove the hyphens? Just use date format <code>yyyyMMdd</code> then you don&#39;t have to remove the hyphens."},{"owner":{"account_id":1642326,"reputation":562,"user_id":1514543,"accept_rate":53,"display_name":"Rakesh"},"score":0,"creation_date":1465471307,"post_id":37724237,"comment_id":62920269,"body_markdown":"Hi @Jesper, thanks for the quick tip, I&#39;ll implement it right away, but my question is something else.","body":"Hi @Jesper, thanks for the quick tip, I&#39;ll implement it right away, but my question is something else."},{"owner":{"account_id":459860,"reputation":7861,"user_id":2587430,"accept_rate":76,"display_name":"amicngh"},"score":0,"creation_date":1465471721,"post_id":37724237,"comment_id":62920545,"body_markdown":"If understood your question correctly basically above you are using java jdbc driver to read Excel file. Instead of reading from Excel you can put everything in .properties file and read it using property leader.What is problem here?","body":"If understood your question correctly basically above you are using java jdbc driver to read Excel file. Instead of reading from Excel you can put everything in .properties file and read it using property leader.What is problem here?"},{"owner":{"account_id":1642326,"reputation":562,"user_id":1514543,"accept_rate":53,"display_name":"Rakesh"},"score":0,"creation_date":1465471881,"post_id":37724237,"comment_id":62920643,"body_markdown":"Hi @amicngh, I&#39;ll have to do it everyday, when ever a new file comes. I don&#39;t want my client to touch any of the files, directly he should do his work without changing any thing.","body":"Hi @amicngh, I&#39;ll have to do it everyday, when ever a new file comes. I don&#39;t want my client to touch any of the files, directly he should do his work without changing any thing."},{"owner":{"account_id":459860,"reputation":7861,"user_id":2587430,"accept_rate":76,"display_name":"amicngh"},"score":0,"creation_date":1465472021,"post_id":37724237,"comment_id":62920736,"body_markdown":"so you want to create a property file everyday?","body":"so you want to create a property file everyday?"},{"owner":{"account_id":1642326,"reputation":562,"user_id":1514543,"accept_rate":53,"display_name":"Rakesh"},"score":0,"creation_date":1465472251,"post_id":37724237,"comment_id":62920887,"body_markdown":"I don&#39;t want to, In my question there is this `excelPath `, that does the task without any human intervention, I want my properties file to be the same, daily the workbook name should be automatically created.","body":"I don&#39;t want to, In my question there is this <code>excelPath </code>, that does the task without any human intervention, I want my properties file to be the same, daily the workbook name should be automatically created."},{"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1465473235,"post_id":37724237,"comment_id":62921627,"body_markdown":"Please [edit] your question to explain what advantages you think you would gain by using a properties file over your current (code) approach. If you want a new filename every day &quot;without any human intervention&quot; then some code is going to have to be involved *somewhere*.","body":"Please <a href=\"https://stackoverflow.com/posts/37724237/edit\">edit</a> your question to explain what advantages you think you would gain by using a properties file over your current (code) approach. If you want a new filename every day &quot;without any human intervention&quot; then some code is going to have to be involved <i>somewhere</i>."},{"owner":{"account_id":1642326,"reputation":562,"user_id":1514543,"accept_rate":53,"display_name":"Rakesh"},"score":0,"creation_date":1465473655,"post_id":37724237,"comment_id":62921932,"body_markdown":"Hi @GordThompson, If you see my first code block, there it is how I get my file name, Here I&#39;m no where creating a file name manually, it is done by the code itself, by concatenating `workbook` with `Today&#39;s date` (and this is the file name). I want this in a property file as I&#39;ve got more than 15 Java classes that use this `dburl`, If in case there is some change, I don&#39;t want to go manually and update each and every file, but Instead, I&#39;ll just update my properties file and the references get updated.","body":"Hi @GordThompson, If you see my first code block, there it is how I get my file name, Here I&#39;m no where creating a file name manually, it is done by the code itself, by concatenating <code>workbook</code> with <code>Today&#39;s date</code> (and this is the file name). I want this in a property file as I&#39;ve got more than 15 Java classes that use this <code>dburl</code>, If in case there is some change, I don&#39;t want to go manually and update each and every file, but Instead, I&#39;ll just update my properties file and the references get updated."},{"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1465474206,"post_id":37724237,"comment_id":62922353,"body_markdown":"*&quot;Instead, I&#39;ll just update my properties file and the references get updated&quot;* - So *you* will become the &quot;automatic&quot; process that updates the properties file each day to keep the filename current? That doesn&#39;t sound terribly advantageous to me, especially when you could have your 15 classes simply share the same code to derive the filename.","body":"<i>&quot;Instead, I&#39;ll just update my properties file and the references get updated&quot;</i> - So <i>you</i> will become the &quot;automatic&quot; process that updates the properties file each day to keep the filename current? That doesn&#39;t sound terribly advantageous to me, especially when you could have your 15 classes simply share the same code to derive the filename."},{"owner":{"account_id":1642326,"reputation":562,"user_id":1514543,"accept_rate":53,"display_name":"Rakesh"},"score":0,"creation_date":1465475598,"post_id":37724237,"comment_id":62923419,"body_markdown":"@GordThompson, I don&#39;t think I got that point, do you suggest me to create a class and do as I used to earlier? don&#39;t use properties file? Just a bit confused. :-(","body":"@GordThompson, I don&#39;t think I got that point, do you suggest me to create a class and do as I used to earlier? don&#39;t use properties file? Just a bit confused. :-("},{"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1465476685,"post_id":37724237,"comment_id":62924284,"body_markdown":"Yes. That approach makes more sense.","body":"Yes. That approach makes more sense."},{"owner":{"account_id":1642326,"reputation":562,"user_id":1514543,"accept_rate":53,"display_name":"Rakesh"},"score":0,"creation_date":1465477556,"post_id":37724237,"comment_id":62924957,"body_markdown":"@GordThompson, Ohk, Thank you Sir. I&#39;ll implement this right away...","body":"@GordThompson, Ohk, Thank you Sir. I&#39;ll implement this right away..."}],"owner":{"account_id":1642326,"reputation":562,"user_id":1514543,"accept_rate":53,"display_name":"Rakesh"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660246825,"creation_date":1465470421,"question_id":37724237,"body_markdown":"I&#39;m writing a code where there is this properties file that needs to update every day based on date.\r\n\r\nBasically there is an Excel sheet that has to be used as a source document for my Web App. But everyday there is a new file that gets generated, And the file name would be `workbooktoday&#39;sDate`, like for example if the date is 06/09/2016, the file name would be `workbook20160609`, right now I&#39;m making this in a class file, and I want to move everything to a `properties file`, currently my code is as below(In a Java class).\r\n\r\n    DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\tDate date = new Date();\r\n\tprivate String todayDate = dateFormat.format(date);\r\n\tString replaceHyph = todayDate.replace(&quot;-&quot;, &quot;&quot;);\r\n\tString x = &quot;workbook&quot;;\r\n\tString y = &quot;.xls&quot;;\r\n\tprivate String excelPath = x + replaceHyph + y;\r\n\r\nand in my next program I use the below statement.\r\n\r\n    conn = DriverManager.getConnection(\r\n    \t\t\t\t&quot;jdbc:odbc:Driver={Microsoft Excel Driver (*.xls)};DBQ=&quot; + excelPath + &quot;; READONLY=FALSE;&quot;);\r\n\r\nAnd this would set the source filename to `workbookToday&#39;sDate`, how can I get the same in properties file?\r\n\r\nHow can I achieve the same in my Properties file?\r\n\r\nI thought of declaring only half part say like `jdbc:odbc:Driver={Microsoft Excel Driver (*.xls)};DBQ=&quot; ` and concatenating as I did above and at the end again concatenating `&quot;; READONLY=FALSE;&quot;);`. Is this a good approach, or is there a better one?\r\n","title":"Create a dynamic properties file in Java","body":"<p>I'm writing a code where there is this properties file that needs to update every day based on date.</p>\n<p>Basically there is an Excel sheet that has to be used as a source document for my Web App. But everyday there is a new file that gets generated, And the file name would be <code>workbooktoday'sDate</code>, like for example if the date is 06/09/2016, the file name would be <code>workbook20160609</code>, right now I'm making this in a class file, and I want to move everything to a <code>properties file</code>, currently my code is as below(In a Java class).</p>\n<pre><code>DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\nDate date = new Date();\nprivate String todayDate = dateFormat.format(date);\nString replaceHyph = todayDate.replace(&quot;-&quot;, &quot;&quot;);\nString x = &quot;workbook&quot;;\nString y = &quot;.xls&quot;;\nprivate String excelPath = x + replaceHyph + y;\n</code></pre>\n<p>and in my next program I use the below statement.</p>\n<pre><code>conn = DriverManager.getConnection(\n                &quot;jdbc:odbc:Driver={Microsoft Excel Driver (*.xls)};DBQ=&quot; + excelPath + &quot;; READONLY=FALSE;&quot;);\n</code></pre>\n<p>And this would set the source filename to <code>workbookToday'sDate</code>, how can I get the same in properties file?</p>\n<p>How can I achieve the same in my Properties file?</p>\n<p>I thought of declaring only half part say like <code>jdbc:odbc:Driver={Microsoft Excel Driver (*.xls)};DBQ=&quot; </code> and concatenating as I did above and at the end again concatenating <code>&quot;; READONLY=FALSE;&quot;);</code>. Is this a good approach, or is there a better one?</p>\n"},{"tags":["java","selenium-webdriver","java-11","automation-testing"],"answers":[{"tags":[],"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660246713,"creation_date":1660246713,"answer_id":73326100,"question_id":73257090,"body_markdown":"If using that particular junit library is not mandatory, you may try this junit-jupiter\r\n\r\n[![enter image description here][1]][1]\r\n\r\nPage Class:\r\n```\r\npackage pages;\r\n\r\nimport org.openqa.selenium.By;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\n\r\npublic class HomePage {\r\n    private WebDriver webDriver;\r\n\r\n    public HomePage(WebDriver driver) {\r\n        this.webDriver = driver;\r\n    }\r\n\r\n    public String assertOpenHomePage() throws InterruptedException {\r\n        Thread.sleep(3000);\r\n        String welcomeHomePage = String.valueOf(webDriver.findElement(By.xpath\r\n                (&quot;//strong[contains(text(),&#39;Selenium Easy!&#39;)]&quot;)).getText());\r\n        return welcomeHomePage;\r\n    }\r\n}\r\n```\r\n\r\nTestClass:\r\n\r\n```\r\n\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport pages.HomePage;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class AppTest {\r\n    static WebDriver webDriver;\r\n\r\n    @BeforeAll  \r\n    public static void initiate(){\r\n        WebDriverManager.chromedriver().setup();\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;Start-Maximized&quot;);\r\n        webDriver = new ChromeDriver(options);\r\n    }\r\n\r\n    @Test\r\n    public void openHomePage() throws InterruptedException {\r\n        HomePage homepage = new HomePage(webDriver);\r\n        webDriver.get(&quot;https://www.seleniumeasy.com/&quot;);\r\n        assertEquals(&quot;Selenium Easy!&quot;, homepage.assertOpenHomePage());\r\n    }\r\n}\r\n```\r\n\r\nMy pom.xml dependencies:\r\n\r\n```\r\n &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nOr we can also use `TestNG` that has even more flexibility.\r\n\r\n  [1]: https://i.stack.imgur.com/fCqcQ.png","title":"junit.framework.AssertionFailedError: No tests found in org.example.AppTest","body":"<p>If using that particular junit library is not mandatory, you may try this junit-jupiter</p>\n<p><a href=\"https://i.stack.imgur.com/fCqcQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fCqcQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Page Class:</p>\n<pre><code>package pages;\n\nimport org.openqa.selenium.By;\n\nimport org.openqa.selenium.WebDriver;\n\npublic class HomePage {\n    private WebDriver webDriver;\n\n    public HomePage(WebDriver driver) {\n        this.webDriver = driver;\n    }\n\n    public String assertOpenHomePage() throws InterruptedException {\n        Thread.sleep(3000);\n        String welcomeHomePage = String.valueOf(webDriver.findElement(By.xpath\n                (&quot;//strong[contains(text(),'Selenium Easy!')]&quot;)).getText());\n        return welcomeHomePage;\n    }\n}\n</code></pre>\n<p>TestClass:</p>\n<pre><code>\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport pages.HomePage;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class AppTest {\n    static WebDriver webDriver;\n\n    @BeforeAll  \n    public static void initiate(){\n        WebDriverManager.chromedriver().setup();\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;Start-Maximized&quot;);\n        webDriver = new ChromeDriver(options);\n    }\n\n    @Test\n    public void openHomePage() throws InterruptedException {\n        HomePage homepage = new HomePage(webDriver);\n        webDriver.get(&quot;https://www.seleniumeasy.com/&quot;);\n        assertEquals(&quot;Selenium Easy!&quot;, homepage.assertOpenHomePage());\n    }\n}\n</code></pre>\n<p>My pom.xml dependencies:</p>\n<pre><code> &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Or we can also use <code>TestNG</code> that has even more flexibility.</p>\n"}],"owner":{"account_id":25991767,"reputation":1,"user_id":19703798,"display_name":"helm.proyek_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":855,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660246713,"creation_date":1659758851,"question_id":73257090,"body_markdown":"I started to learn about automation testing and I am trying to testing with Intellij using apache-maven 1.8 &amp; selenium-server. I have also installed JDK11. and I try to exercise by testing web, so I created two classes which are homepage &amp; apptest.\r\n\r\nHere is my code (homepage.java)\r\n\r\n    package org.example.page;\r\n    import org.openqa.selenium.By;\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    \r\n    import static junit.framework.Assert.assertEquals;\r\n    \r\n    public class homepage {\r\n    private WebDriver webDriver;\r\n\r\n    public homepage(WebDriver driver) {\r\n        this.webDriver = driver;\r\n    }\r\n\r\n    public void assertOpenHomePage() throws InterruptedException {\r\n        Thread.sleep(3000);\r\n        String welcomeHomePage = String.valueOf(webDriver.findElement(By.xpath\r\n                (&quot;//strong[contains(text(),&#39;Selenium Easy!&#39;)]&quot;)).getText());\r\n\r\n        assertEquals(&quot;Selenium Easy!&quot;, welcomeHomePage);\r\n\r\n\r\n    }\r\n\r\nand this is the code for the apptest (apptest.java)\r\n\r\n    package org.example;\r\n    import junit.framework.TestCase;\r\n    import org.example.page.homepage;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    \r\n    /**\r\n     * Unit test for simple App.\r\n     */\r\n    public class AppTest \r\n        extends TestCase\r\n    {\r\n        WebDriver webDriver;\r\n    \r\n        @Before\r\n        public void initiate(){\r\n            ChromeOptions options = new ChromeOptions();\r\n            options.addArguments(&quot;Start-Maximized&quot;);\r\n            webDriver = new ChromeDriver(options);\r\n        }\r\n    \r\n        @Test\r\n        public void openHomePage() throws InterruptedException {\r\n            homepage homepage = new homepage(webDriver);\r\n            webDriver.get(&quot;https://www.seleniumeasy.com/&quot;);\r\n            homepage.assertOpenHomePage();\r\n    \r\n            }\r\n    \r\n    }\r\n    \r\nbut when i run the apptest.java, there such an error report:\r\n\r\n    junit.framework.AssertionFailedError: No tests found in org.example.AppTest\r\n\tat junit.framework.Assert.fail(Assert.java:57)\r\n\tat junit.framework.TestCase.fail(TestCase.java:223)\r\n\tat junit.framework.TestSuite$1.runTest(TestSuite.java:96)\r\n\r\nPlease help me to resolve this problem, thank you so much!\r\n\r\n\r\n","title":"junit.framework.AssertionFailedError: No tests found in org.example.AppTest","body":"<p>I started to learn about automation testing and I am trying to testing with Intellij using apache-maven 1.8 &amp; selenium-server. I have also installed JDK11. and I try to exercise by testing web, so I created two classes which are homepage &amp; apptest.</p>\n<p>Here is my code (homepage.java)</p>\n<pre><code>package org.example.page;\nimport org.openqa.selenium.By;\n\nimport org.openqa.selenium.WebDriver;\n\nimport static junit.framework.Assert.assertEquals;\n\npublic class homepage {\nprivate WebDriver webDriver;\n\npublic homepage(WebDriver driver) {\n    this.webDriver = driver;\n}\n\npublic void assertOpenHomePage() throws InterruptedException {\n    Thread.sleep(3000);\n    String welcomeHomePage = String.valueOf(webDriver.findElement(By.xpath\n            (&quot;//strong[contains(text(),'Selenium Easy!')]&quot;)).getText());\n\n    assertEquals(&quot;Selenium Easy!&quot;, welcomeHomePage);\n\n\n}\n</code></pre>\n<p>and this is the code for the apptest (apptest.java)</p>\n<pre><code>package org.example;\nimport junit.framework.TestCase;\nimport org.example.page.homepage;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\n/**\n * Unit test for simple App.\n */\npublic class AppTest \n    extends TestCase\n{\n    WebDriver webDriver;\n\n    @Before\n    public void initiate(){\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;Start-Maximized&quot;);\n        webDriver = new ChromeDriver(options);\n    }\n\n    @Test\n    public void openHomePage() throws InterruptedException {\n        homepage homepage = new homepage(webDriver);\n        webDriver.get(&quot;https://www.seleniumeasy.com/&quot;);\n        homepage.assertOpenHomePage();\n\n        }\n\n}\n</code></pre>\n<p>but when i run the apptest.java, there such an error report:</p>\n<pre><code>junit.framework.AssertionFailedError: No tests found in org.example.AppTest\nat junit.framework.Assert.fail(Assert.java:57)\nat junit.framework.TestCase.fail(TestCase.java:223)\nat junit.framework.TestSuite$1.runTest(TestSuite.java:96)\n</code></pre>\n<p>Please help me to resolve this problem, thank you so much!</p>\n"},{"tags":["java","time-complexity"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":2,"creation_date":1656915468,"post_id":72852411,"comment_id":128678126,"body_markdown":"It&#39;s constant, so `O(1)`.","body":"It&#39;s constant, so <code>O(1)</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1656917426,"post_id":72852411,"comment_id":128678601,"body_markdown":"(there is no `n` in given code)","body":"(there is no <code>n</code> in given code)"}],"answers":[{"tags":[],"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1660246509,"creation_date":1656915497,"answer_id":72852446,"question_id":72852411,"body_markdown":"This is O(1) because the runtime is constant. The bounds of each loop never change, so the method&#39;s runtime will never change.\r\n\r\nNow, had you written the following:\r\n\r\n```\r\npublic void firstMethod(int n) {\r\n    for (int i = 0; i &lt; n; i++) {\r\n        for (int j = 0; j &lt; n; j++) {\r\n            secondMethod(n);\r\n        }\r\n    }\r\n}\r\n\r\npublic void secondMethod(int n) {\r\n    for (int i = 0; i &lt; n; i++) {\r\n        System.out.println(&quot;This is a test to observe complexity&quot;);\r\n    }\r\n}\r\n```\r\n\r\n_Then_ `firstMethod` would be O(n^3) for runtime complexity.","title":"Complexity of three for loops","body":"<p>This is O(1) because the runtime is constant. The bounds of each loop never change, so the method's runtime will never change.</p>\n<p>Now, had you written the following:</p>\n<pre><code>public void firstMethod(int n) {\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt; n; j++) {\n            secondMethod(n);\n        }\n    }\n}\n\npublic void secondMethod(int n) {\n    for (int i = 0; i &lt; n; i++) {\n        System.out.println(&quot;This is a test to observe complexity&quot;);\n    }\n}\n</code></pre>\n<p><em>Then</em> <code>firstMethod</code> would be O(n^3) for runtime complexity.</p>\n"},{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656922419,"creation_date":1656922419,"answer_id":72853602,"question_id":72852411,"body_markdown":"E.g., a runtime complexity like `O(n&#179;)` means that, when varying `n`, the runtime increases like `n&#179;`.\r\n\r\nSo, as there is no `n` in your code, you can vary `n` as much as you want, without any effect on the runtime. In fact, there is nothing variable in your code that has any effect on its runtime, meaning it is constant, and we express that as `O(1)`.\r\n\r\nEven a notation like `O(n&#178;)` is often used in a quite sloppy way. It should always be accompanied by a clear definition what `n` means. But quite often, we are forced to assume that `n` might mean the length of an array, or the number of bits in an input number or whatever.\r\n\r\nTo sum it up:\r\n\r\n- If the runtime of your code does not depend on some variable input, you get `O(1)`.\r\n- In the `O(xyz)` notation, you need to use variable names that are clearly defined.","title":"Complexity of three for loops","body":"<p>E.g., a runtime complexity like <code>O(n³)</code> means that, when varying <code>n</code>, the runtime increases like <code>n³</code>.</p>\n<p>So, as there is no <code>n</code> in your code, you can vary <code>n</code> as much as you want, without any effect on the runtime. In fact, there is nothing variable in your code that has any effect on its runtime, meaning it is constant, and we express that as <code>O(1)</code>.</p>\n<p>Even a notation like <code>O(n²)</code> is often used in a quite sloppy way. It should always be accompanied by a clear definition what <code>n</code> means. But quite often, we are forced to assume that <code>n</code> might mean the length of an array, or the number of bits in an input number or whatever.</p>\n<p>To sum it up:</p>\n<ul>\n<li>If the runtime of your code does not depend on some variable input, you get <code>O(1)</code>.</li>\n<li>In the <code>O(xyz)</code> notation, you need to use variable names that are clearly defined.</li>\n</ul>\n"}],"owner":{"account_id":21845332,"reputation":59,"user_id":16138258,"display_name":"Matin Parsapour"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1656927425,"accepted_answer_id":72852446,"answer_count":2,"score":1,"last_activity_date":1660246509,"creation_date":1656915241,"question_id":72852411,"body_markdown":"I was wondering if time complexity of the following code is O(n^3) or O(n^2)\r\n```\r\npublic void firstMethod() {\r\n    for (int i = 0; i &lt; 6; i++) {\r\n        for (int j = 0; j &lt; 6; j++) {\r\n            secondMethod();\r\n        }\r\n    }\r\n}\r\n\r\npublic void secondMethod(){\r\n    for (int i = 0; i &lt; 6; i++) {\r\n        System.out.println(&quot;This is a test to observe complexity&quot;);\r\n    }\r\n}\r\n```","title":"Complexity of three for loops","body":"<p>I was wondering if time complexity of the following code is O(n^3) or O(n^2)</p>\n<pre><code>public void firstMethod() {\n    for (int i = 0; i &lt; 6; i++) {\n        for (int j = 0; j &lt; 6; j++) {\n            secondMethod();\n        }\n    }\n}\n\npublic void secondMethod(){\n    for (int i = 0; i &lt; 6; i++) {\n        System.out.println(&quot;This is a test to observe complexity&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","logging","log4j","logback","slf4j"],"answers":[{"tags":[],"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660246471,"creation_date":1660246471,"answer_id":73326051,"question_id":73317220,"body_markdown":"There is no `@Configuration` annotation that is handled by Logback. However, you can implement [`Configurator`][1] interface as a [service][2]. As of 1.3.0-beta1, it will be called before the `DefaultJoranConfigurator`.  \r\n\r\n\r\n  [1]: https://github.com/qos-ch/logback/blob/master/logback-classic/src/main/java/ch/qos/logback/classic/spi/Configurator.java\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html","title":"Is there any way to avoid logback.xml configuration instead of can i annotate a java class with @Configuaration?","body":"<p>There is no <code>@Configuration</code> annotation that is handled by Logback. However, you can implement <a href=\"https://github.com/qos-ch/logback/blob/master/logback-classic/src/main/java/ch/qos/logback/classic/spi/Configurator.java\" rel=\"nofollow noreferrer\"><code>Configurator</code></a> interface as a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">service</a>. As of 1.3.0-beta1, it will be called before the <code>DefaultJoranConfigurator</code>.</p>\n"}],"owner":{"account_id":17463693,"reputation":19,"user_id":12660863,"display_name":"jibin james"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660246471,"creation_date":1660204765,"question_id":73317220,"body_markdown":"can I use java class and @Configuration annotation for creating logger file ? rather than using logback.xml configuration ?","title":"Is there any way to avoid logback.xml configuration instead of can i annotate a java class with @Configuaration?","body":"<p>can I use java class and @Configuration annotation for creating logger file ? rather than using logback.xml configuration ?</p>\n"},{"tags":["java","image","colors","rgb"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1660231766,"post_id":73323285,"comment_id":129489167,"body_markdown":"You have an inner loop and an outer loop. Which are you expecting the `break` to break out of?","body":"You have an inner loop and an outer loop. Which are you expecting the <code>break</code> to break out of?"},{"owner":{"account_id":22905554,"reputation":673,"user_id":17043683,"display_name":"MMZK1526"},"score":0,"creation_date":1660231766,"post_id":73323285,"comment_id":129489168,"body_markdown":"Basically, you have two `for` loops, the `break` only breaks out of the inner one.","body":"Basically, you have two <code>for</code> loops, the <code>break</code> only breaks out of the inner one."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1660231830,"post_id":73323285,"comment_id":129489197,"body_markdown":"You can use a boolean flag to control the outer loop, or use a labeled break.","body":"You can use a boolean flag to control the outer loop, or use a labeled break."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1660232844,"post_id":73323285,"comment_id":129489614,"body_markdown":"No need to do your color masking manipulation to create a `Color` instance, just do `Color color = Color.valueOf(c);`","body":"No need to do your color masking manipulation to create a <code>Color</code> instance, just do <code>Color color = Color.valueOf(c);</code>"}],"answers":[{"tags":[],"owner":{"account_id":7782926,"reputation":84,"user_id":5888787,"display_name":"Asad Rehman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660232094,"creation_date":1660232094,"answer_id":73323388,"question_id":73323285,"body_markdown":"what you can do is create a flag variable outside your 1st for loop and set it as false. In your 1st loop check if the flag is true and if the condition is true break the loop, in the else part you can run you&#39;re second for loop, and when the condition is true in your 2nd loop. set the flag high and break the inner loop.\r\n\r\n    flag = false;\r\n    for (int i=0; i&lt;image.getWidth()-1; i++){\r\n       if(flag)\r\n          break;\r\n       x += 1;\r\n       int y = 0;\r\n       \r\n       for (int j=0; j&lt;image.getHeight()-1; j++){\r\n            y += 1;\r\n            int c = image.getRGB(x,y);\r\n            int  red = (c &amp; 0x00ff0000) &gt;&gt; 16;\r\n            int  green = (c &amp; 0x0000ff00) &gt;&gt; 8;\r\n            int  blue = c &amp; 0x000000ff;\r\n            // and the Java Color is ...\r\n            Color color = new Color(red,green,blue);\r\n            Color iron = new Color(0,255,0);\r\n        \r\n            if (color.equals(iron)){\r\n                Robot move = new Robot();\r\n                move.mouseMove(x,y);\r\n                Thread.sleep(500);\r\n                move.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n                move.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n                System.out.println(iron);\r\n                flag = true;\r\n                break;\r\n            }\r\n        }\r\n    }","title":"How can I break this loop properly in Java","body":"<p>what you can do is create a flag variable outside your 1st for loop and set it as false. In your 1st loop check if the flag is true and if the condition is true break the loop, in the else part you can run you're second for loop, and when the condition is true in your 2nd loop. set the flag high and break the inner loop.</p>\n<pre><code>flag = false;\nfor (int i=0; i&lt;image.getWidth()-1; i++){\n   if(flag)\n      break;\n   x += 1;\n   int y = 0;\n   \n   for (int j=0; j&lt;image.getHeight()-1; j++){\n        y += 1;\n        int c = image.getRGB(x,y);\n        int  red = (c &amp; 0x00ff0000) &gt;&gt; 16;\n        int  green = (c &amp; 0x0000ff00) &gt;&gt; 8;\n        int  blue = c &amp; 0x000000ff;\n        // and the Java Color is ...\n        Color color = new Color(red,green,blue);\n        Color iron = new Color(0,255,0);\n    \n        if (color.equals(iron)){\n            Robot move = new Robot();\n            move.mouseMove(x,y);\n            Thread.sleep(500);\n            move.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n            move.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n            System.out.println(iron);\n            flag = true;\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23568015,"reputation":136,"user_id":17608510,"display_name":"John"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660232593,"creation_date":1660232593,"answer_id":73323489,"question_id":73323285,"body_markdown":"As some people said, you can use a flag.\r\n\r\nI often just extract the code into a new method and return the result. So in your case, you have to put the 2 for loops into another method, giving the proper parameters and return at the &quot;break&quot; statement. \r\n\r\nYou can return a boolean, which is true, when the program entered the if-statement and false, if it didn&#39;t enter the if-statement. But of course it can basically return anything you want.","title":"How can I break this loop properly in Java","body":"<p>As some people said, you can use a flag.</p>\n<p>I often just extract the code into a new method and return the result. So in your case, you have to put the 2 for loops into another method, giving the proper parameters and return at the &quot;break&quot; statement.</p>\n<p>You can return a boolean, which is true, when the program entered the if-statement and false, if it didn't enter the if-statement. But of course it can basically return anything you want.</p>\n"},{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660246454,"creation_date":1660233662,"answer_id":73323743,"question_id":73323285,"body_markdown":"Other solutions are good but it is worth mentioning that java has a [`labeled break`](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html).  \r\n\r\nSo\r\n\r\n    ImageLoop:\r\n\t\tfor (int i=0; i&lt;image.getWidth()-1; i++){\r\n\t\t\tx += 1;\r\n\t\t\tint y = 0;\r\n\t   \r\n\t\t    for (int j=0; j&lt;image.getHeight()-1; j++){\r\n\t\t\t\ty += 1;\r\n\t\t\t\tint c = image.getRGB(x,y);\r\n\t\t\t\tint  red = (c &amp; 0x00ff0000) &gt;&gt; 16;\r\n\t\t\t\tint  green = (c &amp; 0x0000ff00) &gt;&gt; 8;\r\n\t\t\t\tint  blue = c &amp; 0x000000ff;\r\n\t\t\t\t// and the Java Color is ...\r\n\t\t\t\tColor color = new Color(red,green,blue);\r\n\t\t\t\tColor iron = new Color(0,255,0);\r\n\t\t\t\r\n\t\t\t\tif (color.equals(iron)){\r\n\t\t\t\t\tRobot move = new Robot();\r\n\t\t\t\t\tmove.mouseMove(x,y);\r\n\t\t\t\t\tThread.sleep(500);\r\n\t\t\t\t\tmove.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n\t\t\t\t\tmove.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n\t\t\t\t\tSystem.out.println(iron);\r\n\t\t\t\t\tbreak ImageLoop;  // &lt;--\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n","title":"How can I break this loop properly in Java","body":"<p>Other solutions are good but it is worth mentioning that java has a <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"nofollow noreferrer\"><code>labeled break</code></a>.</p>\n<p>So</p>\n<pre><code>ImageLoop:\n    for (int i=0; i&lt;image.getWidth()-1; i++){\n        x += 1;\n        int y = 0;\n   \n        for (int j=0; j&lt;image.getHeight()-1; j++){\n            y += 1;\n            int c = image.getRGB(x,y);\n            int  red = (c &amp; 0x00ff0000) &gt;&gt; 16;\n            int  green = (c &amp; 0x0000ff00) &gt;&gt; 8;\n            int  blue = c &amp; 0x000000ff;\n            // and the Java Color is ...\n            Color color = new Color(red,green,blue);\n            Color iron = new Color(0,255,0);\n        \n            if (color.equals(iron)){\n                Robot move = new Robot();\n                move.mouseMove(x,y);\n                Thread.sleep(500);\n                move.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n                move.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n                System.out.println(iron);\n                break ImageLoop;  // &lt;--\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":25857192,"reputation":17,"user_id":19590240,"display_name":"Daniel Lucas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73323388,"answer_count":3,"score":0,"last_activity_date":1660246454,"creation_date":1660231619,"question_id":73323285,"body_markdown":"I am writing code that takes a picture of the screen and then checks pixel by pixel looking for a certain RGB value. Then I want to make it so that it clicks once on that RGB value and then breaks, but for some reason the loop keeps running through all the pixels, ignoring the break command that I put in and clicking on all the pixels of that color instead of clicking once. Any solutions?\r\n\r\n    for (int i=0; i&lt;image.getWidth()-1; i++){\r\n        x += 1;\r\n        int y = 0;\r\n        for (int j=0; j&lt;image.getHeight()-1; j++){\r\n            y += 1;\r\n            int c = image.getRGB(x,y);\r\n            int  red = (c &amp; 0x00ff0000) &gt;&gt; 16;\r\n            int  green = (c &amp; 0x0000ff00) &gt;&gt; 8;\r\n            int  blue = c &amp; 0x000000ff;\r\n            // and the Java Color is ...\r\n            Color color = new Color(red,green,blue);\r\n            Color iron = new Color(0,255,0);\r\n            \r\n            if (color.equals(iron)){\r\n                Robot move = new Robot();\r\n                move.mouseMove(x,y);\r\n                Thread.sleep(500);\r\n                move.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n                move.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n                System.out.println(iron);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n","title":"How can I break this loop properly in Java","body":"<p>I am writing code that takes a picture of the screen and then checks pixel by pixel looking for a certain RGB value. Then I want to make it so that it clicks once on that RGB value and then breaks, but for some reason the loop keeps running through all the pixels, ignoring the break command that I put in and clicking on all the pixels of that color instead of clicking once. Any solutions?</p>\n<pre><code>for (int i=0; i&lt;image.getWidth()-1; i++){\n    x += 1;\n    int y = 0;\n    for (int j=0; j&lt;image.getHeight()-1; j++){\n        y += 1;\n        int c = image.getRGB(x,y);\n        int  red = (c &amp; 0x00ff0000) &gt;&gt; 16;\n        int  green = (c &amp; 0x0000ff00) &gt;&gt; 8;\n        int  blue = c &amp; 0x000000ff;\n        // and the Java Color is ...\n        Color color = new Color(red,green,blue);\n        Color iron = new Color(0,255,0);\n        \n        if (color.equals(iron)){\n            Robot move = new Robot();\n            move.mouseMove(x,y);\n            Thread.sleep(500);\n            move.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n            move.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n            System.out.println(iron);\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1660247407,"post_id":73325825,"comment_id":129494195,"body_markdown":"`String` is logically a `char[]`, not `byte[]`. Don&#39;t confuse the two. You can extract the bytes from a string, using a particular character encoding, but you need to make sure that all chars can be represented within that character encoding, otherwise you will lose information.","body":"<code>String</code> is logically a <code>char[]</code>, not <code>byte[]</code>. Don&#39;t confuse the two. You can extract the bytes from a string, using a particular character encoding, but you need to make sure that all chars can be represented within that character encoding, otherwise you will lose information."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1660247439,"post_id":73325825,"comment_id":129494208,"body_markdown":"Why do you need to concatenate the bytes? Why not just concatenate the strings?","body":"Why do you need to concatenate the bytes? Why not just concatenate the strings?"}],"answers":[{"tags":[],"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660246018,"creation_date":1660246018,"answer_id":73325975,"question_id":73325825,"body_markdown":"If you want to only use arrays, you can figure out the total size and copy the parts into that array.\r\n\r\n        byte[] firstArray = &quot;first part &quot;.getBytes();\r\n        byte[] secondArray = &quot;second part &quot;.getBytes();\r\n        byte[] thirdArray = &quot;third part &quot;.getBytes();\r\n\r\n        byte[] finalArray = new byte[firstArray.length + secondArray.length + thirdArray.length];\r\n        System.arraycopy(firstArray, 0, finalArray, 0, firstArray.length);\r\n        System.arraycopy(secondArray, 0, finalArray, firstArray.length, secondArray.length);\r\n        System.arraycopy(thirdArray, 0, finalArray, firstArray.length + secondArray.length, thirdArray.length);\r\n        return new String(finalArray);","title":"How to concatenate multiple byte arrays into single string in Java?","body":"<p>If you want to only use arrays, you can figure out the total size and copy the parts into that array.</p>\n<pre><code>    byte[] firstArray = &quot;first part &quot;.getBytes();\n    byte[] secondArray = &quot;second part &quot;.getBytes();\n    byte[] thirdArray = &quot;third part &quot;.getBytes();\n\n    byte[] finalArray = new byte[firstArray.length + secondArray.length + thirdArray.length];\n    System.arraycopy(firstArray, 0, finalArray, 0, firstArray.length);\n    System.arraycopy(secondArray, 0, finalArray, firstArray.length, secondArray.length);\n    System.arraycopy(thirdArray, 0, finalArray, firstArray.length + secondArray.length, thirdArray.length);\n    return new String(finalArray);\n</code></pre>\n"}],"owner":{"account_id":25992547,"reputation":21,"user_id":19704453,"display_name":"Rootive"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":588,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1660246018,"creation_date":1660245227,"question_id":73325825,"body_markdown":"For example, here are some byte arrays:\r\n\r\n    byte[] firstArray = &quot;first part &quot;.getBytes();\r\n    byte[] secondArray = &quot;second part &quot;.getBytes();\r\n    byte[] thirdArray = &quot;third part &quot;.getBytes();\r\nNow, I want to concatenate them into single string, just like this:\r\n\r\n    (String) &quot;first part second part third part &quot;;\r\nOne possible solution here is to concatenate arrays into a new array and convert the new array to a string.But, I think it causes a unnecessary copy.\r\nI wonder if there is a better way.","title":"How to concatenate multiple byte arrays into single string in Java?","body":"<p>For example, here are some byte arrays:</p>\n<pre><code>byte[] firstArray = &quot;first part &quot;.getBytes();\nbyte[] secondArray = &quot;second part &quot;.getBytes();\nbyte[] thirdArray = &quot;third part &quot;.getBytes();\n</code></pre>\n<p>Now, I want to concatenate them into single string, just like this:</p>\n<pre><code>(String) &quot;first part second part third part &quot;;\n</code></pre>\n<p>One possible solution here is to concatenate arrays into a new array and convert the new array to a string.But, I think it causes a unnecessary copy.\nI wonder if there is a better way.</p>\n"},{"tags":["java","networking","selenium-webdriver","httprequest","selenide"],"answers":[{"tags":[],"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660245697,"creation_date":1504615300,"answer_id":46055260,"question_id":46046822,"body_markdown":"Yes, you can do that using JavascriptExecutor.\r\n\r\nCode is as below:\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;start-maximized&quot;);\r\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n    capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n    WebDriver driver = new ChromeDriver(capabilities);\r\n    driver.get(&quot;http://www.google.com&quot;);\r\n    String scriptToExecute = &quot;var performance = window.performance || window.mozPerformance || window.msPerformance || window.webkitPerformance || {}; var network = performance.getEntries() || {}; return network;&quot;;\r\n    String netData = ((JavascriptExecutor)driver).executeScript(scriptToExecute).toString();\r\n    System.out.println(netData);\r\n\r\nThe first code return network return network;&quot; because of this JS tag. You can remove JS code of entity which you don&#39;t require.\r\n","title":"How to get total number of requests per second using selenium/selenide webdriver","body":"<p>Yes, you can do that using JavascriptExecutor.</p>\n<p>Code is as below:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;start-maximized&quot;);\nDesiredCapabilities capabilities = DesiredCapabilities.chrome();\ncapabilities.setCapability(ChromeOptions.CAPABILITY, options);\nWebDriver driver = new ChromeDriver(capabilities);\ndriver.get(&quot;http://www.google.com&quot;);\nString scriptToExecute = &quot;var performance = window.performance || window.mozPerformance || window.msPerformance || window.webkitPerformance || {}; var network = performance.getEntries() || {}; return network;&quot;;\nString netData = ((JavascriptExecutor)driver).executeScript(scriptToExecute).toString();\nSystem.out.println(netData);\n</code></pre>\n<p>The first code return network return network;&quot; because of this JS tag. You can remove JS code of entity which you don't require.</p>\n"}],"owner":{"account_id":7891314,"reputation":223,"user_id":5961361,"accept_rate":0,"display_name":"Javed Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":764,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660245697,"creation_date":1504584024,"question_id":46046822,"body_markdown":"I want to get the total number of request on network for specific url. how can I do it using selenium or selenide. \r\nThere is a search bar on my webpage and if I start typing in the search box it will show the auto complete result and on every character typed there is a request made. I want to check that how many time request is made. \r\n\r\nCan someone please help in this regard or any hint if it is possible using selenium webdriver?","title":"How to get total number of requests per second using selenium/selenide webdriver","body":"<p>I want to get the total number of request on network for specific url. how can I do it using selenium or selenide. \nThere is a search bar on my webpage and if I start typing in the search box it will show the auto complete result and on every character typed there is a request made. I want to check that how many time request is made. </p>\n\n<p>Can someone please help in this regard or any hint if it is possible using selenium webdriver?</p>\n"},{"tags":["java","multithreading","spring-boot","tomcat"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660081507,"creation_date":1660080639,"answer_id":73298305,"question_id":73298214,"body_markdown":"That is expected behaviour when you are using ab (apache benchmark) - ab supports HTTP/1.0 only, that in turn means that server must close HTTP-connections, however in TCP the side which initiates shutdown gets socket in `TIME_WAIT` state - you may check that by issuing `netstat -na` command on server and count how many sockets are in `TIME_WAIT` state.\r\n\r\nYou may set `tcp_tw_reuse` (`/proc/sys/net/ipv4/tcp_tw_reuse`) to `1`, that might help, but that does not make sense - you are using old http-client.","title":"Spring app with a lot of threads in TIMED_WAITING","body":"<p>That is expected behaviour when you are using ab (apache benchmark) - ab supports HTTP/1.0 only, that in turn means that server must close HTTP-connections, however in TCP the side which initiates shutdown gets socket in <code>TIME_WAIT</code> state - you may check that by issuing <code>netstat -na</code> command on server and count how many sockets are in <code>TIME_WAIT</code> state.</p>\n<p>You may set <code>tcp_tw_reuse</code> (<code>/proc/sys/net/ipv4/tcp_tw_reuse</code>) to <code>1</code>, that might help, but that does not make sense - you are using old http-client.</p>\n"}],"owner":{"account_id":14882712,"reputation":795,"user_id":10746857,"display_name":"rios0rios0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1114,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1660245638,"creation_date":1660079970,"question_id":73298214,"body_markdown":"## The Issue\r\nI have a lot of threads in the state &quot;TIMED_WAITING&quot; and I don&#39;t know why and how to debug it.\r\n\r\n## Debugging\r\n\r\nI&#39;m using `spring-actuator` + Grafana + Prometheus to monitor a lot of JVM + Threads params\r\n\r\n1. My application starts with this &quot;snapshot&quot; of threads:\r\n```\r\nblocked: 0\r\nnew: 0\r\nrunnable: 17\r\nterminated: 0\r\ntime-waiting: 21\r\nwaiting: 12\r\n```\r\n\r\n2. After an Apache Benchmark test like this: `ab -s 300 -n 100000 -c 50 &quot;http://my-address/v1/my-collection&quot;`\r\n\r\n3. I have this result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n4. And my &quot;snapshot&quot; of my threads AFTER the test is like this:\r\n```\r\nblocked: 0\r\nnew: 0\r\nrunnable: 21\r\nterminated: 0\r\ntime-waiting: 73\r\nwaiting: 12\r\n```\r\n\r\n5. Now, if I try to run the Apache Benchmark again, with the SAME config, I&#39;ll have:\r\n```\r\nThis is ApacheBench, Version 2.3 &lt;$Revision: 1901567 $&gt;\r\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\r\nLicensed to The Apache Software Foundation, http://www.apache.org/\r\n\r\nBenchmarking my-address (be patient)\r\n\r\nCompleted 10000 requests\r\nCompleted 20000 requests\r\nCompleted 30000 requests\r\nCompleted 40000 requests\r\napr_socket_recv: Operation timed out (110)\r\nTotal of 45339 requests completed\r\n```\r\n\r\n## The assumption\r\n\r\nSo, I think it shows that I&#39;m not able to handle the concurrency generated by the stress test, because I don&#39;t have enough threads available in my thread pool. Which is the default configuration (200 and etc, look at the references. There&#39;s a link pointing to the default configuration that I&#39;m using).\r\n\r\n## Thread Dumping\r\n\r\n### Using jstack\r\nI did a thread dump with: `jstack PID &gt; /home/app/dump.txt`. And here is my result (https://fastthread.io/my-thread-report.jsp?p=c2hhcmVkLzIwMjIvMDgvOS9kdW1wLnR4dC0tMjAtNTctMTA=&amp;):\r\n\r\n[![enter image description here][2]][2]\r\n\r\n### Using arthas\r\nAlso, using `arthas-boot` I have this:\r\n```\r\n199    ThreadPoolTaskScheduler-1              main               5            TIMED_WAITIN 0.0          0.000        0:0.009      false        false\r\n201    ThreadPoolTaskScheduler-1              main               5            TIMED_WAITIN 0.0          0.000        0:0.008      false        false\r\n203    ThreadPoolTaskScheduler-1              main               5            TIMED_WAITIN 0.0          0.000        0:0.005      false        false\r\n207    ThreadPoolTaskScheduler-1              main               5            TIMED_WAITIN 0.0          0.000        0:0.005      false        false\r\n211    ThreadPoolTaskScheduler-1              main               5            TIMED_WAITIN 0.0          0.000        0:0.005      false        false\r\n213    ThreadPoolTaskScheduler-1              main               5            TIMED_WAITIN 0.0          0.000        0:0.005      false        false\r\n216    ThreadPoolTaskScheduler-1              main               5            TIMED_WAITIN 0.0          0.000        0:0.004      false        false\r\n220    http-nio-8080-exec-1                   main               5            TIMED_WAITIN 0.0          0.000        0:7.732      false        true\r\n221    http-nio-8080-exec-2                   main               5            TIMED_WAITIN 0.0          0.000        0:7.662      false        true\r\n222    http-nio-8080-exec-3                   main               5            TIMED_WAITIN 0.0          0.000        0:7.650      false        true\r\n223    http-nio-8080-exec-4                   main               5            TIMED_WAITIN 0.0          0.000        0:7.611      false        true\r\n224    http-nio-8080-exec-5                   main               5            TIMED_WAITIN 0.0          0.000        0:7.652      false        true\r\n225    http-nio-8080-exec-6                   main               5            TIMED_WAITIN 0.0          0.000        0:7.669      false        true\r\n226    http-nio-8080-exec-7                   main               5            TIMED_WAITIN 0.0          0.000        0:7.574      false        true\r\n227    http-nio-8080-exec-8                   main               5            TIMED_WAITIN 0.0          0.000        0:7.615      false        true\r\n228    http-nio-8080-exec-9                   main               5            TIMED_WAITIN 0.0          0.000        0:7.649      false        true\r\n229    http-nio-8080-exec-10                  main               5            TIMED_WAITIN 0.0          0.000        0:7.798      false        true\r\n230    http-nio-8080-Poller                   main               5            RUNNABLE     0.0          0.000        0:6.093      false        true\r\n231    http-nio-8080-Acceptor                 main               5            RUNNABLE     0.0          0.000        0:4.080      false        true\r\n232    DestroyJavaVM                          main               5            RUNNABLE     0.0          0.000        0:0.725      false        false\r\n497    http-nio-8080-exec-11                  main               5            TIMED_WAITIN 0.0          0.000        0:7.283      false        true\r\n498    http-nio-8080-exec-12                  main               5            TIMED_WAITIN 0.0          0.000        0:7.240      false        true\r\n499    http-nio-8080-exec-13                  main               5            TIMED_WAITIN 0.0          0.000        0:7.256      false        true\r\n500    http-nio-8080-exec-14                  main               5            TIMED_WAITIN 0.0          0.000        0:7.195      false        true\r\n501    http-nio-8080-exec-15                  main               5            TIMED_WAITIN 0.0          0.000        0:7.292      false        true\r\n502    http-nio-8080-exec-16                  main               5            TIMED_WAITIN 0.0          0.000        0:7.167      false        true\r\n503    http-nio-8080-exec-17                  main               5            TIMED_WAITIN 0.0          0.000        0:7.204      false        true\r\n504    http-nio-8080-exec-18                  main               5            TIMED_WAITIN 0.0          0.000        0:7.176      false        true\r\n505    http-nio-8080-exec-19                  main               5            TIMED_WAITIN 0.0          0.000        0:7.222      false        true\r\n506    http-nio-8080-exec-20                  main               5            TIMED_WAITIN 0.0          0.000        0:7.140      false        true\r\n512    http-nio-8080-exec-21                  main               5            TIMED_WAITIN 0.0          0.000        0:4.739      false        true\r\n513    http-nio-8080-exec-22                  main               5            TIMED_WAITIN 0.0          0.000        0:4.779      false        true\r\n20     Common-Cleaner                         InnocuousThreadGro 8            TIMED_WAITIN 0.0          0.000        0:0.008      false        true\r\n851    Keep-Alive-Timer                       InnocuousThreadGro 8            TIMED_WAITIN 0.0          0.000        0:0.000      false        true\r\n```\r\nGetting the **THREAD ID 499**, we have:\r\n```\r\n[arthas@31437]$ thread 499\r\n&quot;http-nio-8080-exec-13&quot; Id=499 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@2bf2651c\r\n    at java.base@17.0.4/jdk.internal.misc.Unsafe.park(Native Method)\r\n    -  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@2bf2651c\r\n    at java.base@17.0.4/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n    at java.base@17.0.4/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\r\n    at java.base@17.0.4/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)\r\n    at app//org.apache.tomcat.util.threads.TaskQueue.poll(TaskQueue.java:128)\r\n    at app//org.apache.tomcat.util.threads.TaskQueue.poll(TaskQueue.java:33)\r\n    at app//org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1113)\r\n    at app//org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\r\n    at app//org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    at app//org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    at java.base@17.0.4/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\n## My environment\r\n\r\nUsing `spring-boot-starter-web:2.7.2`, with this JVM:\r\n```\r\n❯ java --version\r\nopenjdk 17.0.4 2022-07-19 LTS\r\nOpenJDK Runtime Environment Corretto-17.0.4.8.1 (build 17.0.4+8-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-17.0.4.8.1 (build 17.0.4+8-LTS, mixed mode, sharing)\r\n```\r\n\r\nWith this startup setup:\r\n```\r\nInitial Memory (xms): 248 MB.\r\nMax Memory (xmx): 3,968 MB.\r\njava.lang:type=GarbageCollector,name=ZGC Cycles\r\njava.lang:type=GarbageCollector,name=ZGC Pauses\r\n```\r\n\r\nCould you help me to debug my issue? What am I doing wrong?\r\n\r\n## References\r\n1. https://stackoverflow.com/questions/15565533/interpreting-a-tomcat-thread-dump-and-diagnosing-a-deadlock\r\n2. https://stackoverflow.com/questions/5703955/trying-to-identify-source-of-abandoned-connections-in-tomcat\r\n3. https://stackoverflow.com/questions/24155615/multiple-timed-waiting-threads-seen-on-tomcat-7-thread-dump\r\n4. https://stackoverflow.com/questions/39002090/spring-boot-limit-on-number-of-connections-created/56125838#56125838\r\n5. http://www.masterspringboot.com/configuration/web-server/configuring-tomcat-connection-pool-on-spring-boot/\r\n\r\n  [1]: https://i.stack.imgur.com/5iXHO.png\r\n  [2]: https://i.stack.imgur.com/NEZpR.png","title":"Spring app with a lot of threads in TIMED_WAITING","body":"<h2>The Issue</h2>\n<p>I have a lot of threads in the state &quot;TIMED_WAITING&quot; and I don't know why and how to debug it.</p>\n<h2>Debugging</h2>\n<p>I'm using <code>spring-actuator</code> + Grafana + Prometheus to monitor a lot of JVM + Threads params</p>\n<ol>\n<li>My application starts with this &quot;snapshot&quot; of threads:</li>\n</ol>\n<pre><code>blocked: 0\nnew: 0\nrunnable: 17\nterminated: 0\ntime-waiting: 21\nwaiting: 12\n</code></pre>\n<ol start=\"2\">\n<li><p>After an Apache Benchmark test like this: <code>ab -s 300 -n 100000 -c 50 &quot;http://my-address/v1/my-collection&quot;</code></p>\n</li>\n<li><p>I have this result:</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/5iXHO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5iXHO.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>And my &quot;snapshot&quot; of my threads AFTER the test is like this:</li>\n</ol>\n<pre><code>blocked: 0\nnew: 0\nrunnable: 21\nterminated: 0\ntime-waiting: 73\nwaiting: 12\n</code></pre>\n<ol start=\"5\">\n<li>Now, if I try to run the Apache Benchmark again, with the SAME config, I'll have:</li>\n</ol>\n<pre><code>This is ApacheBench, Version 2.3 &lt;$Revision: 1901567 $&gt;\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking my-address (be patient)\n\nCompleted 10000 requests\nCompleted 20000 requests\nCompleted 30000 requests\nCompleted 40000 requests\napr_socket_recv: Operation timed out (110)\nTotal of 45339 requests completed\n</code></pre>\n<h2>The assumption</h2>\n<p>So, I think it shows that I'm not able to handle the concurrency generated by the stress test, because I don't have enough threads available in my thread pool. Which is the default configuration (200 and etc, look at the references. There's a link pointing to the default configuration that I'm using).</p>\n<h2>Thread Dumping</h2>\n<h3>Using jstack</h3>\n<p>I did a thread dump with: <code>jstack PID &gt; /home/app/dump.txt</code>. And here is my result (<a href=\"https://fastthread.io/my-thread-report.jsp?p=c2hhcmVkLzIwMjIvMDgvOS9kdW1wLnR4dC0tMjAtNTctMTA=&amp;\" rel=\"nofollow noreferrer\">https://fastthread.io/my-thread-report.jsp?p=c2hhcmVkLzIwMjIvMDgvOS9kdW1wLnR4dC0tMjAtNTctMTA=&amp;</a>):</p>\n<p><a href=\"https://i.stack.imgur.com/NEZpR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NEZpR.png\" alt=\"enter image description here\" /></a></p>\n<h3>Using arthas</h3>\n<p>Also, using <code>arthas-boot</code> I have this:</p>\n<pre><code>199    ThreadPoolTaskScheduler-1              main               5            TIMED_WAITIN 0.0          0.000        0:0.009      false        false\n201    ThreadPoolTaskScheduler-1              main               5            TIMED_WAITIN 0.0          0.000        0:0.008      false        false\n203    ThreadPoolTaskScheduler-1              main               5            TIMED_WAITIN 0.0          0.000        0:0.005      false        false\n207    ThreadPoolTaskScheduler-1              main               5            TIMED_WAITIN 0.0          0.000        0:0.005      false        false\n211    ThreadPoolTaskScheduler-1              main               5            TIMED_WAITIN 0.0          0.000        0:0.005      false        false\n213    ThreadPoolTaskScheduler-1              main               5            TIMED_WAITIN 0.0          0.000        0:0.005      false        false\n216    ThreadPoolTaskScheduler-1              main               5            TIMED_WAITIN 0.0          0.000        0:0.004      false        false\n220    http-nio-8080-exec-1                   main               5            TIMED_WAITIN 0.0          0.000        0:7.732      false        true\n221    http-nio-8080-exec-2                   main               5            TIMED_WAITIN 0.0          0.000        0:7.662      false        true\n222    http-nio-8080-exec-3                   main               5            TIMED_WAITIN 0.0          0.000        0:7.650      false        true\n223    http-nio-8080-exec-4                   main               5            TIMED_WAITIN 0.0          0.000        0:7.611      false        true\n224    http-nio-8080-exec-5                   main               5            TIMED_WAITIN 0.0          0.000        0:7.652      false        true\n225    http-nio-8080-exec-6                   main               5            TIMED_WAITIN 0.0          0.000        0:7.669      false        true\n226    http-nio-8080-exec-7                   main               5            TIMED_WAITIN 0.0          0.000        0:7.574      false        true\n227    http-nio-8080-exec-8                   main               5            TIMED_WAITIN 0.0          0.000        0:7.615      false        true\n228    http-nio-8080-exec-9                   main               5            TIMED_WAITIN 0.0          0.000        0:7.649      false        true\n229    http-nio-8080-exec-10                  main               5            TIMED_WAITIN 0.0          0.000        0:7.798      false        true\n230    http-nio-8080-Poller                   main               5            RUNNABLE     0.0          0.000        0:6.093      false        true\n231    http-nio-8080-Acceptor                 main               5            RUNNABLE     0.0          0.000        0:4.080      false        true\n232    DestroyJavaVM                          main               5            RUNNABLE     0.0          0.000        0:0.725      false        false\n497    http-nio-8080-exec-11                  main               5            TIMED_WAITIN 0.0          0.000        0:7.283      false        true\n498    http-nio-8080-exec-12                  main               5            TIMED_WAITIN 0.0          0.000        0:7.240      false        true\n499    http-nio-8080-exec-13                  main               5            TIMED_WAITIN 0.0          0.000        0:7.256      false        true\n500    http-nio-8080-exec-14                  main               5            TIMED_WAITIN 0.0          0.000        0:7.195      false        true\n501    http-nio-8080-exec-15                  main               5            TIMED_WAITIN 0.0          0.000        0:7.292      false        true\n502    http-nio-8080-exec-16                  main               5            TIMED_WAITIN 0.0          0.000        0:7.167      false        true\n503    http-nio-8080-exec-17                  main               5            TIMED_WAITIN 0.0          0.000        0:7.204      false        true\n504    http-nio-8080-exec-18                  main               5            TIMED_WAITIN 0.0          0.000        0:7.176      false        true\n505    http-nio-8080-exec-19                  main               5            TIMED_WAITIN 0.0          0.000        0:7.222      false        true\n506    http-nio-8080-exec-20                  main               5            TIMED_WAITIN 0.0          0.000        0:7.140      false        true\n512    http-nio-8080-exec-21                  main               5            TIMED_WAITIN 0.0          0.000        0:4.739      false        true\n513    http-nio-8080-exec-22                  main               5            TIMED_WAITIN 0.0          0.000        0:4.779      false        true\n20     Common-Cleaner                         InnocuousThreadGro 8            TIMED_WAITIN 0.0          0.000        0:0.008      false        true\n851    Keep-Alive-Timer                       InnocuousThreadGro 8            TIMED_WAITIN 0.0          0.000        0:0.000      false        true\n</code></pre>\n<p>Getting the <strong>THREAD ID 499</strong>, we have:</p>\n<pre><code>[arthas@31437]$ thread 499\n&quot;http-nio-8080-exec-13&quot; Id=499 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@2bf2651c\n    at java.base@17.0.4/jdk.internal.misc.Unsafe.park(Native Method)\n    -  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@2bf2651c\n    at java.base@17.0.4/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n    at java.base@17.0.4/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\n    at java.base@17.0.4/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)\n    at app//org.apache.tomcat.util.threads.TaskQueue.poll(TaskQueue.java:128)\n    at app//org.apache.tomcat.util.threads.TaskQueue.poll(TaskQueue.java:33)\n    at app//org.apache.tomcat.util.threads.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1113)\n    at app//org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1176)\n    at app//org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at app//org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base@17.0.4/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<h2>My environment</h2>\n<p>Using <code>spring-boot-starter-web:2.7.2</code>, with this JVM:</p>\n<pre><code>❯ java --version\nopenjdk 17.0.4 2022-07-19 LTS\nOpenJDK Runtime Environment Corretto-17.0.4.8.1 (build 17.0.4+8-LTS)\nOpenJDK 64-Bit Server VM Corretto-17.0.4.8.1 (build 17.0.4+8-LTS, mixed mode, sharing)\n</code></pre>\n<p>With this startup setup:</p>\n<pre><code>Initial Memory (xms): 248 MB.\nMax Memory (xmx): 3,968 MB.\njava.lang:type=GarbageCollector,name=ZGC Cycles\njava.lang:type=GarbageCollector,name=ZGC Pauses\n</code></pre>\n<p>Could you help me to debug my issue? What am I doing wrong?</p>\n<h2>References</h2>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/15565533/interpreting-a-tomcat-thread-dump-and-diagnosing-a-deadlock\">Interpreting a tomcat thread dump and diagnosing a deadlock</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5703955/trying-to-identify-source-of-abandoned-connections-in-tomcat\">Trying to identify source of abandoned connections in tomcat</a></li>\n<li><a href=\"https://stackoverflow.com/questions/24155615/multiple-timed-waiting-threads-seen-on-tomcat-7-thread-dump\">Multiple TIMED_WAITING threads seen on tomcat 7 thread dump</a></li>\n<li><a href=\"https://stackoverflow.com/questions/39002090/spring-boot-limit-on-number-of-connections-created/56125838#56125838\">Spring Boot - Limit on number of connections created</a></li>\n<li><a href=\"http://www.masterspringboot.com/configuration/web-server/configuring-tomcat-connection-pool-on-spring-boot/\" rel=\"nofollow noreferrer\">http://www.masterspringboot.com/configuration/web-server/configuring-tomcat-connection-pool-on-spring-boot/</a></li>\n</ol>\n"},{"tags":["java","list","arraylist","java-stream","option-type"],"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1660235805,"post_id":73324142,"comment_id":129490719,"body_markdown":"Try `map` and `collect`.","body":"Try <code>map</code> and <code>collect</code>."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1660235853,"post_id":73324142,"comment_id":129490744,"body_markdown":"Create a `public User[] userRepository.getUsersByUserId(list of user ids)` (note the plural: one method that returns an array of all matched users, without null elements) and then create the ArrayList with that as argument? (with proper generics of course. No `&lt;&gt;`, you know what goes in this list)","body":"Create a <code>public User[] userRepository.getUsersByUserId(list of user ids)</code> (note the plural: one method that returns an array of all matched users, without null elements) and then create the ArrayList with that as argument? (with proper generics of course. No <code>&lt;&gt;</code>, you know what goes in this list)"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1660236355,"post_id":73324142,"comment_id":129490932,"body_markdown":"Yes, just delete the linebreak. Perfect solution achieved !","body":"Yes, just delete the linebreak. Perfect solution achieved !"}],"answers":[{"tags":[],"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660236051,"creation_date":1660236051,"answer_id":73324210,"question_id":73324142,"body_markdown":"Use `Stream.map` instead of `forEach`, then convert to `List` with `collect`:\r\n\r\n    List&lt;Optional&lt;User&gt;&gt; pmUsers = pmUserIds.stream()\r\n            .map(userId -&gt; userRepository.getUserByUserId(userId))\r\n            .collect(Collectors.toList());\r\n\r\nThat&#39;s still not one line (except you want a really long line), but it&#39;s somewhat clearer what the code does that with separate initialization and `forEach`. You may also use a method reference instead of that lambda, i.e. `.map(userRepository::getUserByUserId)`\r\n","title":"Combine the Two Lines of code initializing and populating a List into a Single Statement in Java 8?","body":"<p>Use <code>Stream.map</code> instead of <code>forEach</code>, then convert to <code>List</code> with <code>collect</code>:</p>\n<pre><code>List&lt;Optional&lt;User&gt;&gt; pmUsers = pmUserIds.stream()\n        .map(userId -&gt; userRepository.getUserByUserId(userId))\n        .collect(Collectors.toList());\n</code></pre>\n<p>That's still not one line (except you want a really long line), but it's somewhat clearer what the code does that with separate initialization and <code>forEach</code>. You may also use a method reference instead of that lambda, i.e. <code>.map(userRepository::getUserByUserId)</code></p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660245137,"creation_date":1660237183,"answer_id":73324420,"question_id":73324142,"body_markdown":"Your second attempt is not viable because method `forEach()` is `void`. To do the job in a single statement, you need a [**Stream**](https://docs.oracle.com/javase/tutorial/collections/streams/index.html).\r\n\r\nBut there is more to it.\r\n\r\nStoring `Optional` objects into a `Collection` is an **antipattern**. It almost the same as storing `null` references because *optional* not necessarily contains a value.\r\n\r\nBoth `null` and *empty optional* are meant to represent the absence of data and nothing else. If one of them has a separate meaning in your application (apart from *&quot;no value&quot;*), it&#39;s a smell.\r\n\r\nIf you need to fire a particular action when a call `getUserByUserId()` returns an *empty optional*, then do it right after receiving the *optional* instead of placing it to the list (and by the way, Stream is not the right tool when you need to perform some side-effects along the way, it would be better to stick with plain loops).\r\n\r\nHere&#39;s a small quote from the [*answer*](https://stackoverflow.com/a/23464794/17949945) by *@Stuart Marks*, Java and OpenJDK developer:\r\n\r\n&gt; I&#39;m sure somebody could come up with some contrived cases where they really want to **store** an `Optional` in a **field** or a **collection**, but in general, it is best to **avoid doing this**.\r\n\r\nI suggest you to check the presence of value in the `Optional` right on the spot (in the stream) and then &quot;unpack&quot; *non-empty optional objects*.\r\n\r\nThat&#39;s how it might look like:\r\n\r\n```\r\nList&lt;User&gt; pmUsers  = pmUserIds.stream()\r\n    .map(userRepository::getUserByUserId) // Stream&lt;Optional&lt;User&gt;&gt;\r\n    .filter(Optional::isPresent)\r\n    .map(Optional::get)                   // Stream&lt;User&gt;\r\n    .toList(); // for Java 16+ or .collect(Collectors.toList()) for earlier versions\r\n```","title":"Combine the Two Lines of code initializing and populating a List into a Single Statement in Java 8?","body":"<p>Your second attempt is not viable because method <code>forEach()</code> is <code>void</code>. To do the job in a single statement, you need a <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\"><strong>Stream</strong></a>.</p>\n<p>But there is more to it.</p>\n<p>Storing <code>Optional</code> objects into a <code>Collection</code> is an <strong>antipattern</strong>. It almost the same as storing <code>null</code> references because <em>optional</em> not necessarily contains a value.</p>\n<p>Both <code>null</code> and <em>empty optional</em> are meant to represent the absence of data and nothing else. If one of them has a separate meaning in your application (apart from <em>&quot;no value&quot;</em>), it's a smell.</p>\n<p>If you need to fire a particular action when a call <code>getUserByUserId()</code> returns an <em>empty optional</em>, then do it right after receiving the <em>optional</em> instead of placing it to the list (and by the way, Stream is not the right tool when you need to perform some side-effects along the way, it would be better to stick with plain loops).</p>\n<p>Here's a small quote from the <a href=\"https://stackoverflow.com/a/23464794/17949945\"><em>answer</em></a> by <em>@Stuart Marks</em>, Java and OpenJDK developer:</p>\n<blockquote>\n<p>I'm sure somebody could come up with some contrived cases where they really want to <strong>store</strong> an <code>Optional</code> in a <strong>field</strong> or a <strong>collection</strong>, but in general, it is best to <strong>avoid doing this</strong>.</p>\n</blockquote>\n<p>I suggest you to check the presence of value in the <code>Optional</code> right on the spot (in the stream) and then &quot;unpack&quot; <em>non-empty optional objects</em>.</p>\n<p>That's how it might look like:</p>\n<pre><code>List&lt;User&gt; pmUsers  = pmUserIds.stream()\n    .map(userRepository::getUserByUserId) // Stream&lt;Optional&lt;User&gt;&gt;\n    .filter(Optional::isPresent)\n    .map(Optional::get)                   // Stream&lt;User&gt;\n    .toList(); // for Java 16+ or .collect(Collectors.toList()) for earlier versions\n</code></pre>\n"}],"owner":{"account_id":25955643,"reputation":47,"user_id":19673046,"display_name":"Deepak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1660245137,"creation_date":1660235662,"question_id":73324142,"body_markdown":"I have a list of user id `pmUserIds`. For each *id* in the list I&#39;m making a call `getUserByUserId()` and placing the result in a list of type `List&lt;Optional&lt;User&gt;&gt;`.\r\n\r\nI want to combine these 2 lines into a single statement:\r\n\r\n    List&lt;Optional&lt;User&gt;&gt; pmUsers = new ArrayList&lt;&gt;();\r\n\r\n    pmUserIds.forEach(userId -&gt; pmUsers.add(userRepository.getUserByUserId(userId)));\r\n\r\nSomething like that wouldn&#39;t work:\r\n\r\n    List&lt;Optional&lt;User&gt;&gt; pmUsers  = pmUserIds.forEach(userId -&gt; pmUsers.add(userRepository.getUserByUserId(userId)));\r\n\r\nIt will say that `pmUsers` not have been initiated. Is there any way we could do this in single line?","title":"Combine the Two Lines of code initializing and populating a List into a Single Statement in Java 8?","body":"<p>I have a list of user id <code>pmUserIds</code>. For each <em>id</em> in the list I'm making a call <code>getUserByUserId()</code> and placing the result in a list of type <code>List&lt;Optional&lt;User&gt;&gt;</code>.</p>\n<p>I want to combine these 2 lines into a single statement:</p>\n<pre><code>List&lt;Optional&lt;User&gt;&gt; pmUsers = new ArrayList&lt;&gt;();\n\npmUserIds.forEach(userId -&gt; pmUsers.add(userRepository.getUserByUserId(userId)));\n</code></pre>\n<p>Something like that wouldn't work:</p>\n<pre><code>List&lt;Optional&lt;User&gt;&gt; pmUsers  = pmUserIds.forEach(userId -&gt; pmUsers.add(userRepository.getUserByUserId(userId)));\n</code></pre>\n<p>It will say that <code>pmUsers</code> not have been initiated. Is there any way we could do this in single line?</p>\n"},{"tags":["java","spring-boot","completable-future"],"comments":[{"owner":{"account_id":2565865,"reputation":5531,"user_id":2225960,"display_name":"Juan"},"score":0,"creation_date":1659308606,"post_id":73186592,"comment_id":129257723,"body_markdown":"A CompletableFuture (or any Future) makes sense when you delegate the execution to a different Thread (run something async). Are you doing something like that?","body":"A CompletableFuture (or any Future) makes sense when you delegate the execution to a different Thread (run something async). Are you doing something like that?"},{"owner":{"account_id":1266814,"reputation":1305,"user_id":1223948,"accept_rate":56,"display_name":"Kiwanax"},"score":0,"creation_date":1659355101,"post_id":73186592,"comment_id":129267603,"body_markdown":"Yes, @Juan. I want to delegate the execution of a database query to another thread and see how it goes. The real goal is to create CompletableFutures from complex and timing executions that we have in the system.","body":"Yes, @Juan. I want to delegate the execution of a database query to another thread and see how it goes. The real goal is to create CompletableFutures from complex and timing executions that we have in the system."}],"answers":[{"tags":[],"owner":{"account_id":12684886,"reputation":451,"user_id":9217084,"display_name":"Kacper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659303001,"creation_date":1659303001,"answer_id":73187040,"question_id":73186592,"body_markdown":"The question is do you care about the result of `CompletableFuture`.\r\n`CompletableFuture` is like a special task and it is processed on other thread. If you don&#39;t invoke `.join()` you won&#39;t receive the results of `CompletableFuture`. This method also will propagate the exception if any occured. However it waits for `CompletableFuture` to finish and blocks the request. \r\nHowever, there is no way to get exceptions from the inside of the `CompletableFuture` without waiting, you have to treat it like other task.","title":"Handling CompletableFuture exceptions in controller","body":"<p>The question is do you care about the result of <code>CompletableFuture</code>.\n<code>CompletableFuture</code> is like a special task and it is processed on other thread. If you don't invoke <code>.join()</code> you won't receive the results of <code>CompletableFuture</code>. This method also will propagate the exception if any occured. However it waits for <code>CompletableFuture</code> to finish and blocks the request.\nHowever, there is no way to get exceptions from the inside of the <code>CompletableFuture</code> without waiting, you have to treat it like other task.</p>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660244968,"creation_date":1660244968,"answer_id":73325769,"question_id":73186592,"body_markdown":"You can pass the completed future in case of a success, and failed future along with your custom exception.\r\n\r\n```java\r\npublic CompletableFuture&lt;ConversationOutput&gt; getConversationByIdOrHashAsync(String conversationIdOrHash) {\r\n        try {\r\n            return CompletableFuture.completedFuture(this.getConversationByIdOrHash(conversationIdOrHash));\r\n        } catch (ConversationNotFoundException e) {\r\n            return CompletableFuture.failedFuture(e);\r\n        }\r\n    }\r\n```\r\n\r\nand then at your controller level you can handle the exception.\r\n\r\n```java\r\nfinal CompletableFuture&lt;ConversationOutput&gt; future = getConversationByIdOrHashAsync(&quot;idOrHash&quot;);\r\n        future.whenComplete((r, e) -&gt; {\r\n            if (e != null) {\r\n                if (e instanceof ConversationNotFoundException) {\r\n                    //handling\r\n                }\r\n            }\r\n        });\r\n```\r\n","title":"Handling CompletableFuture exceptions in controller","body":"<p>You can pass the completed future in case of a success, and failed future along with your custom exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public CompletableFuture&lt;ConversationOutput&gt; getConversationByIdOrHashAsync(String conversationIdOrHash) {\n        try {\n            return CompletableFuture.completedFuture(this.getConversationByIdOrHash(conversationIdOrHash));\n        } catch (ConversationNotFoundException e) {\n            return CompletableFuture.failedFuture(e);\n        }\n    }\n</code></pre>\n<p>and then at your controller level you can handle the exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final CompletableFuture&lt;ConversationOutput&gt; future = getConversationByIdOrHashAsync(&quot;idOrHash&quot;);\n        future.whenComplete((r, e) -&gt; {\n            if (e != null) {\n                if (e instanceof ConversationNotFoundException) {\n                    //handling\n                }\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":1266814,"reputation":1305,"user_id":1223948,"accept_rate":56,"display_name":"Kiwanax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73187040,"answer_count":2,"score":0,"last_activity_date":1660244968,"creation_date":1659298291,"question_id":73186592,"body_markdown":"I&#39;m trying to get into `CompletableFuture` class for a project I&#39;m running, and I got to some question here:\r\n\r\nThere is the following method: it tries to find a conversation by its ID or hash; and, if not found, it throws an exception. So far, so good.\r\n\r\n```Java\r\npublic ConversationOutput getConversationByIdOrHash(String conversationIdOrHash)\r\n            throws ConversationNotFoundException {\r\n        Conversation conversation = this.conversationRepository.getByIdOrHash(conversationIdOrHash);\r\n\r\n        if (conversation == null) {\r\n            throw new ConversationNotFoundException(conversationIdOrHash);\r\n        }\r\n\r\n        return this.modelMapper.map(conversation, ConversationOutput.class);\r\n    }\r\n```\r\nNote that I am throwing `ConversationNotFoundException` from my method signature. My SpringBoot controller is reacting to this exception and it&#39;s all working fine since the beginning.\r\n\r\n\r\nWhat I&#39;m trying to do is to make this to a `CompletableFuture` return and actually throwing an exception, something similar to:\r\n\r\n```Java\r\n    public CompletableFuture&lt;ConversationOutput&gt; getConversationByIdOrHashAsync(String conversationIdOrHash)\r\n            throws ConversationNotFoundException {\r\n        return CompletableFuture.supplyAsync(() -&gt; this.getConversationByIdOrHash(conversationIdOrHash));\r\n}\r\n```\r\n\r\nI&#39;ve seen posts where people use `exceptionally` to handle exceptions, but what I really want to do is to throw it to my controller and let it handle it. Any suggestions of how can I make it?\r\n\r\nThank you all!","title":"Handling CompletableFuture exceptions in controller","body":"<p>I'm trying to get into <code>CompletableFuture</code> class for a project I'm running, and I got to some question here:</p>\n<p>There is the following method: it tries to find a conversation by its ID or hash; and, if not found, it throws an exception. So far, so good.</p>\n<pre><code>public ConversationOutput getConversationByIdOrHash(String conversationIdOrHash)\n            throws ConversationNotFoundException {\n        Conversation conversation = this.conversationRepository.getByIdOrHash(conversationIdOrHash);\n\n        if (conversation == null) {\n            throw new ConversationNotFoundException(conversationIdOrHash);\n        }\n\n        return this.modelMapper.map(conversation, ConversationOutput.class);\n    }\n</code></pre>\n<p>Note that I am throwing <code>ConversationNotFoundException</code> from my method signature. My SpringBoot controller is reacting to this exception and it's all working fine since the beginning.</p>\n<p>What I'm trying to do is to make this to a <code>CompletableFuture</code> return and actually throwing an exception, something similar to:</p>\n<pre><code>    public CompletableFuture&lt;ConversationOutput&gt; getConversationByIdOrHashAsync(String conversationIdOrHash)\n            throws ConversationNotFoundException {\n        return CompletableFuture.supplyAsync(() -&gt; this.getConversationByIdOrHash(conversationIdOrHash));\n}\n</code></pre>\n<p>I've seen posts where people use <code>exceptionally</code> to handle exceptions, but what I really want to do is to throw it to my controller and let it handle it. Any suggestions of how can I make it?</p>\n<p>Thank you all!</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":2603441,"reputation":1484,"user_id":2255185,"accept_rate":47,"display_name":"Will Sherwood"},"score":0,"creation_date":1660242519,"post_id":73325309,"comment_id":129492795,"body_markdown":"there are many many issues with your code segment, I&#39;ll be honest. First, do not create a scanner inside the loop, but rather have it outside. Second, you are checking for parity of the entered number, not whether it is positive. And finally, your program is printing &quot;number is not even&quot; whenever 2 is input by the user, which is a logical mistake.","body":"there are many many issues with your code segment, I&#39;ll be honest. First, do not create a scanner inside the loop, but rather have it outside. Second, you are checking for parity of the entered number, not whether it is positive. And finally, your program is printing &quot;number is not even&quot; whenever 2 is input by the user, which is a logical mistake."}],"answers":[{"tags":[],"owner":{"account_id":26040420,"reputation":374,"user_id":19745330,"display_name":"Addison Schmidt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660242712,"creation_date":1660242712,"answer_id":73325380,"question_id":73325309,"body_markdown":"Fixing a few things in the logic of the loop should work:\r\n\r\n    int inputtedInteger = 0;\r\n    Scanner in = new Scanner(System.in);\r\n        \r\n    while (inputtedInteger &lt; 1) {\r\n        System.out.println(&quot;Enter a number: &quot;); //Asks user to input a number\r\n        inputtedInteger = in.nextInt();\r\n        \r\n        if (inputtedInteger % 2 != 0) {\r\n            System.out.println(&quot;The number &quot;+ inputtedInteger +&quot; that you inputted is not an even number, try again: &quot;);\r\n        }\r\n        else if (inputtedInteger % 2 == 0){ \r\n            System.out.println(&quot;The number &quot;+inputtedInteger+&quot; that you entered is an even number!&quot;);\r\n        }\r\n        \r\n    }","title":"Java program reading indefinite amount of numbers from a user till a positive is entered","body":"<p>Fixing a few things in the logic of the loop should work:</p>\n<pre><code>int inputtedInteger = 0;\nScanner in = new Scanner(System.in);\n    \nwhile (inputtedInteger &lt; 1) {\n    System.out.println(&quot;Enter a number: &quot;); //Asks user to input a number\n    inputtedInteger = in.nextInt();\n    \n    if (inputtedInteger % 2 != 0) {\n        System.out.println(&quot;The number &quot;+ inputtedInteger +&quot; that you inputted is not an even number, try again: &quot;);\n    }\n    else if (inputtedInteger % 2 == 0){ \n        System.out.println(&quot;The number &quot;+inputtedInteger+&quot; that you entered is an even number!&quot;);\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2603441,"reputation":1484,"user_id":2255185,"accept_rate":47,"display_name":"Will Sherwood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660242720,"creation_date":1660242720,"answer_id":73325381,"question_id":73325309,"body_markdown":"I would setup an outline for the code like this:\r\n```\r\nsetup Scanner, create collection\r\nwhile true:\r\n   userInput = scanner.nextInt()\r\n   if userInput &gt; 0: break\r\n   collection.add(userInput)\r\nprint(&#39;user entered&#39;, collection.length(), &#39;numbers.&#39;)\r\n```\r\nHope that helps. I&#39;ll leave you to fill this using actual Java syntax. \r\nI wrote a comment on the OP on why your structure is failing to solve the issue at hand.","title":"Java program reading indefinite amount of numbers from a user till a positive is entered","body":"<p>I would setup an outline for the code like this:</p>\n<pre><code>setup Scanner, create collection\nwhile true:\n   userInput = scanner.nextInt()\n   if userInput &gt; 0: break\n   collection.add(userInput)\nprint('user entered', collection.length(), 'numbers.')\n</code></pre>\n<p>Hope that helps. I'll leave you to fill this using actual Java syntax.\nI wrote a comment on the OP on why your structure is failing to solve the issue at hand.</p>\n"}],"owner":{"account_id":26040577,"reputation":21,"user_id":19745460,"display_name":"Ali Kasim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73325380,"answer_count":2,"score":0,"last_activity_date":1660244811,"creation_date":1660242331,"question_id":73325309,"body_markdown":"I need to write a java program reading in an indefinite amount of numbers and saves them to a collection of numbers, until an (even number) is entered in by the user. I have tried with a while loop, that when a positive number is found in it it stops. But it is not really working. Here is codes I have tried:\r\n\r\npublic static void main(String[] args) {\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tint programInteger = 1;\r\n\t\tint inputtedInteger;\r\n\t\t\r\n\t\twhile (programInteger &lt; 2) {\r\n\t\tSystem.out.println(&quot;Enter a number: &quot;); //Asks user to input a number\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tinputtedInteger = Scanner(in.nextLine);\r\n\t\t\r\n\t\tif (inputtedInteger != 0) {\r\n\t\t\tSystem.out.println(&quot;The number &quot;+ inputtedInteger +&quot; that you inputted is not an even number, try again: &quot;);\r\n\t\t\tinputtedInteger=in.nextInt();\r\n\t\t}\r\n\t\telse if (inputtedInteger % 2 == 0){ \r\n\t\t\tprogramInteger =+1;\r\n\t\t\tSystem.out.println(&quot;The number &quot;+inputtedInteger+&quot; that you entered is an even number!&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\t\r\n\t}\r\n\t/*\tif(inputtedInteger % 2 == 0) {\r\n\t\t\tSystem.out.println(&quot;The number &quot;+ inmatatTal +&quot; you entered is an even number!&quot;);\r\n\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;Enter a number?! &quot;);\r\n\t\t\t\tinputtedInteger = in.nextInt();\r\n\t\t\t\r\n\t\t\t}","title":"Java program reading indefinite amount of numbers from a user till a positive is entered","body":"<p>I need to write a java program reading in an indefinite amount of numbers and saves them to a collection of numbers, until an (even number) is entered in by the user. I have tried with a while loop, that when a positive number is found in it it stops. But it is not really working. Here is codes I have tried:</p>\n<p>public static void main(String[] args) {</p>\n<pre><code>    int programInteger = 1;\n    int inputtedInteger;\n    \n    while (programInteger &lt; 2) {\n    System.out.println(&quot;Enter a number: &quot;); //Asks user to input a number\n    Scanner in = new Scanner(System.in);\n    inputtedInteger = Scanner(in.nextLine);\n    \n    if (inputtedInteger != 0) {\n        System.out.println(&quot;The number &quot;+ inputtedInteger +&quot; that you inputted is not an even number, try again: &quot;);\n        inputtedInteger=in.nextInt();\n    }\n    else if (inputtedInteger % 2 == 0){ \n        programInteger =+1;\n        System.out.println(&quot;The number &quot;+inputtedInteger+&quot; that you entered is an even number!&quot;);\n    }\n    \n}\n    \n}\n/*  if(inputtedInteger % 2 == 0) {\n        System.out.println(&quot;The number &quot;+ inmatatTal +&quot; you entered is an even number!&quot;);\n    }\n        else {\n            System.out.println(&quot;Enter a number?! &quot;);\n            inputtedInteger = in.nextInt();\n        \n        }\n</code></pre>\n"},{"tags":["java","jna","nosuchmethoderror","oshi"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1660118282,"post_id":73302599,"comment_id":129454426,"body_markdown":"The NoSuchMethodError has nothing to do with SLF4J. It means that you likely have the wrong (too old) version  of JNA (Java Native Access) on your classpath. The lines prefixed with `SLF4J` are just *warnings* that you don&#39;t have a proper logging library configured for SLF4J.","body":"The NoSuchMethodError has nothing to do with SLF4J. It means that you likely have the wrong (too old) version  of JNA (Java Native Access) on your classpath. The lines prefixed with <code>SLF4J</code> are just <i>warnings</i> that you don&#39;t have a proper logging library configured for SLF4J."},{"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"score":0,"creation_date":1660119977,"post_id":73302599,"comment_id":129454970,"body_markdown":"I changed JNA version, however still something wrong. Please check my UPDATE. Thx!","body":"I changed JNA version, however still something wrong. Please check my UPDATE. Thx!"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1660120647,"post_id":73302599,"comment_id":129455215,"body_markdown":"That indicates the problem is solved. If you&#39;re referring to those SLF4J lines, as I said, the loglines prefixed with SLF4J are caused by the fact you don&#39;t have a proper logging library configured for SLF4J (you only have slf4j-simple on test scope, so there is no logging library for main scope)","body":"That indicates the problem is solved. If you&#39;re referring to those SLF4J lines, as I said, the loglines prefixed with SLF4J are caused by the fact you don&#39;t have a proper logging library configured for SLF4J (you only have slf4j-simple on test scope, so there is no logging library for main scope)"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1660120656,"post_id":73302599,"comment_id":129455220,"body_markdown":"In any case, that is a different problem, and I will rollback your edit, as you shouldn&#39;t move the goalposts of the question. The problem about the SLF4J lines is addressed by multiple questions on Stack Overflow, like [this one](https://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder)","body":"In any case, that is a different problem, and I will rollback your edit, as you shouldn&#39;t move the goalposts of the question. The problem about the SLF4J lines is addressed by multiple questions on Stack Overflow, like <a href=\"https://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder\">this one</a>"},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1660244432,"post_id":73302599,"comment_id":129493335,"body_markdown":"Does this answer your question? [NoSuchMethodError in jna-platform](https://stackoverflow.com/questions/55982008/nosuchmethoderror-in-jna-platform)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55982008/nosuchmethoderror-in-jna-platform\">NoSuchMethodError in jna-platform</a>"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1660118920,"creation_date":1660118920,"answer_id":73302842,"question_id":73302599,"body_markdown":"OSHI 6.2.2 requires JNA (Java Native Access) 5.12.1, but it looks like you have an older version of JNA on the classpath. The `Memory.close()` method was introduced in JNA 5.12.0.\r\n\r\nCheck with `mvn dependency:tree` which dependencies are pulled in for `net.java.dev.jna:jna` and `net.java.dev.jna:jna-platform`, and either add an explicit dependency in your own POM (in `dependencyManagement`), or exclude it from the library that pulls in an older version, so the version defined by OSHI is pulled in.","title":"Java OSHI (Operating System and Hardware Information) library NoSuchMethodError","body":"<p>OSHI 6.2.2 requires JNA (Java Native Access) 5.12.1, but it looks like you have an older version of JNA on the classpath. The <code>Memory.close()</code> method was introduced in JNA 5.12.0.</p>\n<p>Check with <code>mvn dependency:tree</code> which dependencies are pulled in for <code>net.java.dev.jna:jna</code> and <code>net.java.dev.jna:jna-platform</code>, and either add an explicit dependency in your own POM (in <code>dependencyManagement</code>), or exclude it from the library that pulls in an older version, so the version defined by OSHI is pulled in.</p>\n"}],"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":860,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73302842,"answer_count":1,"score":3,"last_activity_date":1660244492,"creation_date":1660117737,"question_id":73302599,"body_markdown":"I receive the following error when using the OSHI API (https://github.com/oshi/oshi).\r\n\r\nI have the following dependencies in my Maven project (I added SLF4J to fix the error based on other Stack Overflow posts, but didn&#39;t help):\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/com.github.oshi/oshi-core --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.oshi&lt;/groupId&gt;\r\n    &lt;artifactId&gt;oshi-core&lt;/artifactId&gt;\r\n    &lt;version&gt;6.2.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n&lt;!-- OSHI requires it!--&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.7.36&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-simple --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n    &lt;version&gt;1.7.36&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis is how I use OSHI:\r\n\r\n```\r\npackage controller;\r\n\r\nimport oshi.SystemInfo;\r\nimport oshi.hardware.CentralProcessor;\r\nimport oshi.hardware.HardwareAbstractionLayer;\r\n\r\npublic class SystemLoad extends Thread {\r\n\r\n    public SystemLoad() {\r\n    }\r\n\r\n    @Override\r\n    public void run(){\r\n        while(true) {\r\n            SystemInfo si = new SystemInfo();\r\n            HardwareAbstractionLayer hal = si.getHardware();\r\n            CentralProcessor cpu = hal.getProcessor();\r\n            System.out.println( String.valueOf(cpu.getSystemCpuLoad(100)) );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is the error code I receive:\r\n\r\n```none\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nException in thread &quot;Thread-0&quot; java.lang.NoSuchMethodError: &#39;void com.sun.jna.Memory.close()&#39;\r\n\tat com.github.oshi@6.2.2/oshi.util.Util.freeMemory(Util.java:112)\r\n\tat com.github.oshi@6.2.2/oshi.jna.ByRef$CloseableLONGLONGByReference.close(ByRef.java:101)\r\n\tat com.github.oshi@6.2.2/oshi.util.platform.windows.PerfDataUtil.updateQueryTimestamp(PerfDataUtil.java:174)\r\n\tat com.github.oshi@6.2.2/oshi.util.platform.windows.PerfCounterQueryHandler.updateQuery(PerfCounterQueryHandler.java:134)\r\n\tat com.github.oshi@6.2.2/oshi.util.platform.windows.PerfCounterWildcardQuery.queryInstancesAndValuesFromPDH(PerfCounterWildcardQuery.java:164)\r\n\tat com.github.oshi@6.2.2/oshi.util.platform.windows.PerfCounterWildcardQuery.queryInstancesAndValues(PerfCounterWildcardQuery.java:87)\r\n\tat com.github.oshi@6.2.2/oshi.driver.windows.perfmon.ProcessorInformation.queryProcessorCounters(ProcessorInformation.java:167)\r\n\tat com.github.oshi@6.2.2/oshi.hardware.platform.windows.WindowsCentralProcessor.queryProcessorCpuLoadTicks(WindowsCentralProcessor.java:349)\r\n\tat com.github.oshi@6.2.2/oshi.util.Memoizer$1.get(Memoizer.java:87)\r\n\tat com.github.oshi@6.2.2/oshi.hardware.common.AbstractCentralProcessor.getProcessorCpuLoadTicks(AbstractCentralProcessor.java:204)\r\n\tat com.github.oshi@6.2.2/oshi.hardware.platform.windows.WindowsCentralProcessor.querySystemCpuLoadTicks(WindowsCentralProcessor.java:221)\r\n\tat com.github.oshi@6.2.2/oshi.util.Memoizer$1.get(Memoizer.java:87)\r\n\tat com.github.oshi@6.2.2/oshi.hardware.common.AbstractCentralProcessor.getSystemCpuLoadTicks(AbstractCentralProcessor.java:192)\r\n\tat com.github.oshi@6.2.2/oshi.hardware.CentralProcessor.getSystemCpuLoad(CentralProcessor.java:189)\r\n\tat hu.jhasher/controller.SystemLoad.run(SystemLoad.java:24)\r\n\tSuppressed: java.lang.NoSuchMethodError: &#39;void com.sun.jna.Memory.close()&#39;\r\n\t\tat com.github.oshi@6.2.2/oshi.util.Util.freeMemory(Util.java:112)\r\n\t\tat com.github.oshi@6.2.2/oshi.jna.ByRef$CloseableHANDLEByReference.close(ByRef.java:115)\r\n\t\tat com.github.oshi@6.2.2/oshi.util.platform.windows.PerfCounterQueryHandler.removeAllCounters(PerfCounterQueryHandler.java:112)\r\n\t\tat com.github.oshi@6.2.2/oshi.util.platform.windows.PerfCounterQueryHandler.close(PerfCounterQueryHandler.java:166)\r\n\t\tat com.github.oshi@6.2.2/oshi.util.platform.windows.PerfCounterWildcardQuery.queryInstancesAndValuesFromPDH(PerfCounterWildcardQuery.java:146)\r\n\t\t... 10 more\r\n```","title":"Java OSHI (Operating System and Hardware Information) library NoSuchMethodError","body":"<p>I receive the following error when using the OSHI API (<a href=\"https://github.com/oshi/oshi\" rel=\"nofollow noreferrer\">https://github.com/oshi/oshi</a>).</p>\n<p>I have the following dependencies in my Maven project (I added SLF4J to fix the error based on other Stack Overflow posts, but didn't help):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/com.github.oshi/oshi-core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.oshi&lt;/groupId&gt;\n    &lt;artifactId&gt;oshi-core&lt;/artifactId&gt;\n    &lt;version&gt;6.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n&lt;!-- OSHI requires it!--&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.7.36&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-simple --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n    &lt;version&gt;1.7.36&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is how I use OSHI:</p>\n<pre><code>package controller;\n\nimport oshi.SystemInfo;\nimport oshi.hardware.CentralProcessor;\nimport oshi.hardware.HardwareAbstractionLayer;\n\npublic class SystemLoad extends Thread {\n\n    public SystemLoad() {\n    }\n\n    @Override\n    public void run(){\n        while(true) {\n            SystemInfo si = new SystemInfo();\n            HardwareAbstractionLayer hal = si.getHardware();\n            CentralProcessor cpu = hal.getProcessor();\n            System.out.println( String.valueOf(cpu.getSystemCpuLoad(100)) );\n        }\n    }\n}\n</code></pre>\n<p>This is the error code I receive:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;Thread-0&quot; java.lang.NoSuchMethodError: 'void com.sun.jna.Memory.close()'\n    at com.github.oshi@6.2.2/oshi.util.Util.freeMemory(Util.java:112)\n    at com.github.oshi@6.2.2/oshi.jna.ByRef$CloseableLONGLONGByReference.close(ByRef.java:101)\n    at com.github.oshi@6.2.2/oshi.util.platform.windows.PerfDataUtil.updateQueryTimestamp(PerfDataUtil.java:174)\n    at com.github.oshi@6.2.2/oshi.util.platform.windows.PerfCounterQueryHandler.updateQuery(PerfCounterQueryHandler.java:134)\n    at com.github.oshi@6.2.2/oshi.util.platform.windows.PerfCounterWildcardQuery.queryInstancesAndValuesFromPDH(PerfCounterWildcardQuery.java:164)\n    at com.github.oshi@6.2.2/oshi.util.platform.windows.PerfCounterWildcardQuery.queryInstancesAndValues(PerfCounterWildcardQuery.java:87)\n    at com.github.oshi@6.2.2/oshi.driver.windows.perfmon.ProcessorInformation.queryProcessorCounters(ProcessorInformation.java:167)\n    at com.github.oshi@6.2.2/oshi.hardware.platform.windows.WindowsCentralProcessor.queryProcessorCpuLoadTicks(WindowsCentralProcessor.java:349)\n    at com.github.oshi@6.2.2/oshi.util.Memoizer$1.get(Memoizer.java:87)\n    at com.github.oshi@6.2.2/oshi.hardware.common.AbstractCentralProcessor.getProcessorCpuLoadTicks(AbstractCentralProcessor.java:204)\n    at com.github.oshi@6.2.2/oshi.hardware.platform.windows.WindowsCentralProcessor.querySystemCpuLoadTicks(WindowsCentralProcessor.java:221)\n    at com.github.oshi@6.2.2/oshi.util.Memoizer$1.get(Memoizer.java:87)\n    at com.github.oshi@6.2.2/oshi.hardware.common.AbstractCentralProcessor.getSystemCpuLoadTicks(AbstractCentralProcessor.java:192)\n    at com.github.oshi@6.2.2/oshi.hardware.CentralProcessor.getSystemCpuLoad(CentralProcessor.java:189)\n    at hu.jhasher/controller.SystemLoad.run(SystemLoad.java:24)\n    Suppressed: java.lang.NoSuchMethodError: 'void com.sun.jna.Memory.close()'\n        at com.github.oshi@6.2.2/oshi.util.Util.freeMemory(Util.java:112)\n        at com.github.oshi@6.2.2/oshi.jna.ByRef$CloseableHANDLEByReference.close(ByRef.java:115)\n        at com.github.oshi@6.2.2/oshi.util.platform.windows.PerfCounterQueryHandler.removeAllCounters(PerfCounterQueryHandler.java:112)\n        at com.github.oshi@6.2.2/oshi.util.platform.windows.PerfCounterQueryHandler.close(PerfCounterQueryHandler.java:166)\n        at com.github.oshi@6.2.2/oshi.util.platform.windows.PerfCounterWildcardQuery.queryInstancesAndValuesFromPDH(PerfCounterWildcardQuery.java:146)\n        ... 10 more\n</code></pre>\n"},{"tags":["java","sql","database","oracle"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1660218486,"post_id":73320087,"comment_id":129483773,"body_markdown":"Does this answer your question? [SQL Server SELECT LAST N Rows](https://stackoverflow.com/questions/4193705/sql-server-select-last-n-rows)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4193705/sql-server-select-last-n-rows\">SQL Server SELECT LAST N Rows</a>"},{"owner":{"account_id":12498833,"reputation":135387,"user_id":9097906,"display_name":"Littlefoot"},"score":0,"creation_date":1660219928,"post_id":73320087,"comment_id":129484320,"body_markdown":"@sorifiend, MS SQL Server (which is discussed in link you attached) is **not** Oracle (which is database the OP is using) so ... I wouldn&#39;t say that it answers the question. &quot;SQL&quot; tag is related to the language, not database vendor.","body":"@sorifiend, MS SQL Server (which is discussed in link you attached) is <b>not</b> Oracle (which is database the OP is using) so ... I wouldn&#39;t say that it answers the question. &quot;SQL&quot; tag is related to the language, not database vendor."},{"owner":{"account_id":25853654,"reputation":5,"user_id":19587291,"display_name":"singhKirat"},"score":0,"creation_date":1660224733,"post_id":73320087,"comment_id":129486126,"body_markdown":"No this question is not helping. Thanks tho","body":"No this question is not helping. Thanks tho"}],"answers":[{"tags":[],"owner":{"account_id":11817142,"reputation":477,"user_id":8647107,"display_name":"Rusu Dinu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660218499,"creation_date":1660218499,"answer_id":73320157,"question_id":73320087,"body_markdown":" \r\nYou can use the following SQL statement to select the last two rows:\r\n   \r\n\r\n    select * from Entries order by date desc limit 2;","title":"Access the last entrys in the database with a java program","body":"<p>You can use the following SQL statement to select the last two rows:</p>\n<pre><code>select * from Entries order by date desc limit 2;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7997875,"reputation":4129,"user_id":6033601,"display_name":"ekochergin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1660244119,"creation_date":1660218585,"answer_id":73320170,"question_id":73320087,"body_markdown":"    select Entry\r\n      from your_table\r\n     order by date desc -- show most recent entries above in the results\r\n     fetch first 2 rows only; -- show first 2 records only\r\n\r\nYou might be running on an old DB (version less than 12) so &quot;fetch&quot; might not be introduced.\r\n\r\nTry this then\r\n\r\n    select * \r\n      from (select Entry\r\n              from your_table\r\n             order by date desc)\r\n     where rownum &lt;= 2;\r\n    \r\nAnswering to your question how to get a penultimate value\r\n\r\n    select * \r\n      from (select Entry, row_number() over(order by date_col desc) rn\r\n              from your_table)\r\n     where rn = 2;\r\n\r\nthe &quot;rn = 2&quot; condition will get you not the last date but a date before the last. Setting it to 1 will get you the row with most recent date","title":"Access the last entrys in the database with a java program","body":"<pre><code>select Entry\n  from your_table\n order by date desc -- show most recent entries above in the results\n fetch first 2 rows only; -- show first 2 records only\n</code></pre>\n<p>You might be running on an old DB (version less than 12) so &quot;fetch&quot; might not be introduced.</p>\n<p>Try this then</p>\n<pre><code>select * \n  from (select Entry\n          from your_table\n         order by date desc)\n where rownum &lt;= 2;\n</code></pre>\n<p>Answering to your question how to get a penultimate value</p>\n<pre><code>select * \n  from (select Entry, row_number() over(order by date_col desc) rn\n          from your_table)\n where rn = 2;\n</code></pre>\n<p>the &quot;rn = 2&quot; condition will get you not the last date but a date before the last. Setting it to 1 will get you the row with most recent date</p>\n"}],"owner":{"account_id":25853654,"reputation":5,"user_id":19587291,"display_name":"singhKirat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73320170,"answer_count":2,"score":0,"last_activity_date":1660244119,"creation_date":1660218171,"question_id":73320087,"body_markdown":"I am currently writing a Java program.\r\n\r\nBrief description of the component:\r\n\r\nI have an &quot;Entries&quot; table.\r\nThis table has the following columns:\r\nDate (which is entered automatically when the user makes a double entry)\r\nInput (This is the double number from the user)\r\n\r\nWith 5 entries, for example, the program should now access the last 2 entries made by the user and reflect them in the program.\r\n\r\nFor example, the table looks like this:\r\n\r\n&gt; Date --------- Entry\r\n&gt; \r\n&gt; 21.01.2022 --   500\r\n\r\n&gt; 01.03.2022   -- 551\r\n\r\n&gt; 04.05.2022    -- 629\r\n\r\n&gt; 30.06.2022   -- 701\r\n\r\n&gt; 15.07.2022  --  781\r\n\r\n\r\nThen the program should give me the 701 and the 781.\r\n\r\nWhat is the most sensible way to do this?\r\nIt makes no sense to use the following &quot;SQL statement&quot;: Select where date 06/30/2022 because it is no longer useful when the user makes a new entry.\r\n\r\nPlease help!!","title":"Access the last entrys in the database with a java program","body":"<p>I am currently writing a Java program.</p>\n<p>Brief description of the component:</p>\n<p>I have an &quot;Entries&quot; table.\nThis table has the following columns:\nDate (which is entered automatically when the user makes a double entry)\nInput (This is the double number from the user)</p>\n<p>With 5 entries, for example, the program should now access the last 2 entries made by the user and reflect them in the program.</p>\n<p>For example, the table looks like this:</p>\n<blockquote>\n<p>Date --------- Entry</p>\n<p>21.01.2022 --   500</p>\n</blockquote>\n<blockquote>\n<p>01.03.2022   -- 551</p>\n</blockquote>\n<blockquote>\n<p>04.05.2022    -- 629</p>\n</blockquote>\n<blockquote>\n<p>30.06.2022   -- 701</p>\n</blockquote>\n<blockquote>\n<p>15.07.2022  --  781</p>\n</blockquote>\n<p>Then the program should give me the 701 and the 781.</p>\n<p>What is the most sensible way to do this?\nIt makes no sense to use the following &quot;SQL statement&quot;: Select where date 06/30/2022 because it is no longer useful when the user makes a new entry.</p>\n<p>Please help!!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":14,"creation_date":1451890895,"post_id":34586109,"comment_id":56917313,"body_markdown":"As an aside, note how using whitespace carefully makes code a lot easier to read - just adding spaces between the operators in your current code would significantly add to the readability IMO.","body":"As an aside, note how using whitespace carefully makes code a lot easier to read - just adding spaces between the operators in your current code would significantly add to the readability IMO."},{"owner":{"account_id":43036,"reputation":16153,"user_id":125617,"accept_rate":74,"display_name":"Renaud"},"score":8,"creation_date":1451897022,"post_id":34586109,"comment_id":56919737,"body_markdown":"Please define &quot;elegancy&quot;.","body":"Please define &quot;elegancy&quot;."},{"owner":{"account_id":1300809,"reputation":56617,"user_id":1250772,"accept_rate":45,"display_name":"Kaz"},"score":0,"creation_date":1451940124,"post_id":34586109,"comment_id":56944538,"body_markdown":"You need a separate set of arguments for the SMTP authentication credentials and for the envelope sender e-mail address. The `From` e-mail address is not always the SMTP authentication name.","body":"You need a separate set of arguments for the SMTP authentication credentials and for the envelope sender e-mail address. The <code>From</code> e-mail address is not always the SMTP authentication name."},{"owner":{"account_id":1300809,"reputation":56617,"user_id":1250772,"accept_rate":45,"display_name":"Kaz"},"score":0,"creation_date":1451940247,"post_id":34586109,"comment_id":56944589,"body_markdown":"For example, I have several senders in my mail domain (different &quot;From&quot; addresses). When my SMTP server talks to my upstream ISP&#39;s SMTP server to forward the mail, it uses the same account for all of them, regardless of From.","body":"For example, I have several senders in my mail domain (different &quot;From&quot; addresses). When my SMTP server talks to my upstream ISP&#39;s SMTP server to forward the mail, it uses the same account for all of them, regardless of From."},{"owner":{"account_id":2764239,"reputation":503,"user_id":2380459,"display_name":"diynevala"},"score":3,"creation_date":1451979498,"post_id":34586109,"comment_id":56958160,"body_markdown":"It really can&#39;t get much more optimized, it is one line of readable code and nothing can be gained by over-optimizing it.","body":"It really can&#39;t get much more optimized, it is one line of readable code and nothing can be gained by over-optimizing it."},{"owner":{"account_id":211081,"reputation":6152,"user_id":463052,"accept_rate":47,"display_name":"David Bullock"},"score":0,"creation_date":1452077915,"post_id":34586109,"comment_id":57007978,"body_markdown":"I think I&#39;ll have to print up two shirts:  &quot;when _I_ test for &#39;not the same&#39; over two Boolean values, I reach for the [...] operator!:   I&#39;ll make a bucket of money!","body":"I think I&#39;ll have to print up two shirts:  &quot;when <i>I</i> test for &#39;not the same&#39; over two Boolean values, I reach for the [...] operator!:   I&#39;ll make a bucket of money!"},{"owner":{"account_id":5461540,"reputation":1674,"user_id":4343502,"accept_rate":100,"display_name":"touch my body"},"score":3,"creation_date":1452206368,"post_id":34586109,"comment_id":57078782,"body_markdown":"Side note: if this is a shell script, won&#39;t the passwords be saved in the shell history?","body":"Side note: if this is a shell script, won&#39;t the passwords be saved in the shell history?"},{"owner":{"account_id":3059913,"reputation":3813,"user_id":2592808,"accept_rate":69,"display_name":"halfbit"},"score":0,"creation_date":1452391228,"post_id":34586109,"comment_id":57148492,"body_markdown":"and I thought, I have problems","body":"and I thought, I have problems"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":4,"up_vote_count":298,"is_accepted":false,"score":294,"last_activity_date":1451890793,"creation_date":1451890793,"answer_id":34586132,"question_id":34586109,"body_markdown":"Well, it sounds like you&#39;re trying to check whether the &quot;nullity&quot; condition of the two is the same or not. You could use:\r\n\r\n    if ((from == null) != (password == null))\r\n    {\r\n        ...\r\n    }\r\n\r\nOr make it more explicit with helper variables:\r\n\r\n    boolean gotFrom = from != null;\r\n    boolean gotPassword = password != null;\r\n    if (gotFrom != gotPassword)\r\n    {\r\n        ...\r\n    }","title":"Check two arguments in Java, either both not null or both null elegantly","body":"<p>Well, it sounds like you're trying to check whether the \"nullity\" condition of the two is the same or not. You could use:</p>\n\n<pre><code>if ((from == null) != (password == null))\n{\n    ...\n}\n</code></pre>\n\n<p>Or make it more explicit with helper variables:</p>\n\n<pre><code>boolean gotFrom = from != null;\nboolean gotPassword = password != null;\nif (gotFrom != gotPassword)\n{\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7464007,"reputation":3021,"user_id":5674298,"accept_rate":61,"display_name":"coolguy"},"down_vote_count":14,"up_vote_count":357,"is_accepted":true,"score":343,"last_activity_date":1460288700,"creation_date":1451891293,"answer_id":34586232,"question_id":34586109,"body_markdown":"There is a way using the `^` ([XOR][1]) operator:\r\n\r\n    if (from == null ^ password == null) {\r\n        // Use RuntimeException if you need to\r\n        throw new IllegalArgumentException(&quot;message&quot;);\r\n    }\r\n\r\nThe `if` condition will be true if only one variable is null.\r\n\r\nBut I think usually it&#39;s better to use two `if` conditions with different exception messages. You can&#39;t define what went wrong using a single condition.\r\n\r\n    if ((from == null) &amp;&amp; (password != null)) {\r\n        throw new IllegalArgumentException(&quot;If from is null, password must be null&quot;);\r\n    }\r\n    if ((from != null) &amp;&amp; (password == null)) {\r\n        throw new IllegalArgumentException(&quot;If from is not null, password must not be null&quot;);\r\n    }\r\n\r\nIt is more readable and is much easier to understand, and it only takes a little extra typing.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Exclusive_or\r\n","title":"Check two arguments in Java, either both not null or both null elegantly","body":"<p>There is a way using the <code>^</code> (<a href=\"https://en.wikipedia.org/wiki/Exclusive_or\" rel=\"noreferrer\">XOR</a>) operator:</p>\n\n<pre><code>if (from == null ^ password == null) {\n    // Use RuntimeException if you need to\n    throw new IllegalArgumentException(\"message\");\n}\n</code></pre>\n\n<p>The <code>if</code> condition will be true if only one variable is null.</p>\n\n<p>But I think usually it's better to use two <code>if</code> conditions with different exception messages. You can't define what went wrong using a single condition.</p>\n\n<pre><code>if ((from == null) &amp;&amp; (password != null)) {\n    throw new IllegalArgumentException(\"If from is null, password must be null\");\n}\nif ((from != null) &amp;&amp; (password == null)) {\n    throw new IllegalArgumentException(\"If from is not null, password must not be null\");\n}\n</code></pre>\n\n<p>It is more readable and is much easier to understand, and it only takes a little extra typing.</p>\n"},{"tags":[],"owner":{"account_id":2027645,"reputation":485,"user_id":1812218,"accept_rate":50,"display_name":"JordiVilaplana"},"down_vote_count":4,"up_vote_count":9,"is_accepted":false,"score":5,"last_activity_date":1451897193,"creation_date":1451897193,"answer_id":34587405,"question_id":34586109,"body_markdown":"As I see your intentions, there is no need to always check both exclusive nullities but to check if `password` is null if and only if `from` is not null. You can ignore the given `password` argument and use your own default if `from` is null.\r\n\r\nWritten in pseudo must be like this:\r\n\r\n    if (from == null) { // form is null, ignore given password here\r\n        // use your own defaults\r\n    } else if (password == null) { // form is given but password is not\r\n        // throw exception\r\n    } else { // both arguments are given\r\n        // use given arguments\r\n    }","title":"Check two arguments in Java, either both not null or both null elegantly","body":"<p>As I see your intentions, there is no need to always check both exclusive nullities but to check if <code>password</code> is null if and only if <code>from</code> is not null. You can ignore the given <code>password</code> argument and use your own default if <code>from</code> is null.</p>\n\n<p>Written in pseudo must be like this:</p>\n\n<pre><code>if (from == null) { // form is null, ignore given password here\n    // use your own defaults\n} else if (password == null) { // form is given but password is not\n    // throw exception\n} else { // both arguments are given\n    // use given arguments\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2668714,"reputation":1931,"user_id":2306536,"accept_rate":66,"display_name":"ASA"},"down_vote_count":9,"up_vote_count":25,"is_accepted":false,"score":16,"last_activity_date":1451900075,"creation_date":1451900075,"answer_id":34588142,"question_id":34586109,"body_markdown":"Put that functionality in a 2 argument method with the signature:\r\n\r\n    void assertBothNullOrBothNotNull(Object a, Object b) throws RuntimeException\r\n\r\nThis saves space in the actual method you are interested in and makes it more readable. There is nothing wrong with slightly verbose method names and there is nothing wrong with very short methods.","title":"Check two arguments in Java, either both not null or both null elegantly","body":"<p>Put that functionality in a 2 argument method with the signature:</p>\n\n<pre><code>void assertBothNullOrBothNotNull(Object a, Object b) throws RuntimeException\n</code></pre>\n\n<p>This saves space in the actual method you are interested in and makes it more readable. There is nothing wrong with slightly verbose method names and there is nothing wrong with very short methods.</p>\n"},{"tags":[],"owner":{"account_id":5946428,"reputation":2602,"user_id":4989472,"display_name":"Stig Hemmer"},"down_vote_count":0,"up_vote_count":222,"is_accepted":false,"score":222,"last_activity_date":1452012310,"creation_date":1451907410,"answer_id":34590267,"question_id":34586109,"body_markdown":"Personally, I prefer readable to elegant.\r\n\r\n    if (from != null &amp;&amp; password == null) {\r\n        throw new RuntimeException(&quot;-from given without -password&quot;);\r\n    }\r\n    if (from == null &amp;&amp; password != null) {\r\n        throw new RuntimeException(&quot;-password given without -from&quot;);\r\n    }","title":"Check two arguments in Java, either both not null or both null elegantly","body":"<p>Personally, I prefer readable to elegant.</p>\n\n<pre><code>if (from != null &amp;&amp; password == null) {\n    throw new RuntimeException(\"-from given without -password\");\n}\nif (from == null &amp;&amp; password != null) {\n    throw new RuntimeException(\"-password given without -from\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1452023120,"creation_date":1451922164,"answer_id":34594734,"question_id":34586109,"body_markdown":"I think a correct way to handle this is to consider three situations: both &#39;from&#39; and &#39;password&#39; are provided, neither are provided, a mix of the two are provided.\r\n\r\n    if(from != null &amp;&amp; password != null){\r\n        //use the provided values\r\n    } else if(from == null &amp;&amp; password == null){\r\n        //both values are null use the default values\r\n    } else{\r\n       //throw an exception because the input is not correct.\r\n    }\r\n\r\nIt sounds like the original question wants to break the flow if it is incorrect input, but then they will have to repeat some of the logic later. Perhaps a good throw statement might be:\r\n\r\n    throw new IllegalArgumentException(&quot;form of &quot; + form + \r\n        &quot; cannot be used with a &quot;\r\n        + (password==null?&quot;null&quot;:&quot;not null&quot;) +  \r\n        &quot; password. Either provide a value for both, or no value for both&quot;\r\n    );\r\n","title":"Check two arguments in Java, either both not null or both null elegantly","body":"<p>I think a correct way to handle this is to consider three situations: both 'from' and 'password' are provided, neither are provided, a mix of the two are provided.</p>\n\n<pre><code>if(from != null &amp;&amp; password != null){\n    //use the provided values\n} else if(from == null &amp;&amp; password == null){\n    //both values are null use the default values\n} else{\n   //throw an exception because the input is not correct.\n}\n</code></pre>\n\n<p>It sounds like the original question wants to break the flow if it is incorrect input, but then they will have to repeat some of the logic later. Perhaps a good throw statement might be:</p>\n\n<pre><code>throw new IllegalArgumentException(\"form of \" + form + \n    \" cannot be used with a \"\n    + (password==null?\"null\":\"not null\") +  \n    \" password. Either provide a value for both, or no value for both\"\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":85022,"reputation":13917,"user_id":237321,"accept_rate":75,"display_name":"x4u"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1452034979,"creation_date":1452034979,"answer_id":34622842,"question_id":34586109,"body_markdown":"I would like to suggest another alternative which is how I would actually write this piece of code:\r\n\r\n    if( from != null )\r\n    {\r\n        if( password == null )\r\n            error( &quot;password required for &quot; + from );\r\n    }\r\n    else\r\n    {\r\n        if( password != null )\r\n            warn( &quot;the given password will not be used&quot; );\r\n    }\r\n\r\nTo me this seems to be the most natural way to express this condition which makes it easy to understand for somebody who might have to read it in the future. It also allows you to give more helpful diagnostic messages and treat the unnecessary password as less serious and it makes it easy to modify which is rather likely for such a condition. I.e. you may find out that giving a password as a command line argument is not the best idea and may want allow reading the password from standard input optionally if the argument is missing. Or you may want to silently ignore the superfluous password argument. Changes like these would not require you to rewrite the whole thing.\r\n\r\nBesides that it executes only the minimum number of comparisons, so it&#39;s not more expensive than the more *&quot;elegant&quot;* alternatives. Although performance is very unlikely a problem here because starting a new process is already much more expensive than a extra null check.","title":"Check two arguments in Java, either both not null or both null elegantly","body":"<p>I would like to suggest another alternative which is how I would actually write this piece of code:</p>\n\n<pre><code>if( from != null )\n{\n    if( password == null )\n        error( \"password required for \" + from );\n}\nelse\n{\n    if( password != null )\n        warn( \"the given password will not be used\" );\n}\n</code></pre>\n\n<p>To me this seems to be the most natural way to express this condition which makes it easy to understand for somebody who might have to read it in the future. It also allows you to give more helpful diagnostic messages and treat the unnecessary password as less serious and it makes it easy to modify which is rather likely for such a condition. I.e. you may find out that giving a password as a command line argument is not the best idea and may want allow reading the password from standard input optionally if the argument is missing. Or you may want to silently ignore the superfluous password argument. Changes like these would not require you to rewrite the whole thing.</p>\n\n<p>Besides that it executes only the minimum number of comparisons, so it's not more expensive than the more <em>\"elegant\"</em> alternatives. Although performance is very unlikely a problem here because starting a new process is already much more expensive than a extra null check.</p>\n"},{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1452074750,"creation_date":1452037012,"answer_id":34623207,"question_id":34586109,"body_markdown":"A Java 8 solution would be to use [`Objects.isNull(Object)`][1], assuming a static import:\r\n\r\n    if (isNull(from) != isNull(password)) {\r\n        throw ...;\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#isNull-java.lang.Object-\r\n\r\nFor Java &lt; 8 (or if you don&#39;t like using `Objects.isNull()`), you can easily write your own `isNull()` method.","title":"Check two arguments in Java, either both not null or both null elegantly","body":"<p>A Java 8 solution would be to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#isNull-java.lang.Object-\"><code>Objects.isNull(Object)</code></a>, assuming a static import:</p>\n\n<pre><code>if (isNull(from) != isNull(password)) {\n    throw ...;\n}\n</code></pre>\n\n<p>For Java &lt; 8 (or if you don't like using <code>Objects.isNull()</code>), you can easily write your own <code>isNull()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":2439364,"reputation":5868,"user_id":2128327,"display_name":"Khaled.K"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1452335363,"creation_date":1452075145,"answer_id":34630499,"question_id":34586109,"body_markdown":"Here is a general solution for any number of null checks\r\n\r\n\tpublic static int nulls(Object... objs)\r\n\t{\r\n\t\tint n = 0;\r\n\t\tfor(Object obj : objs) if(obj == null) n++;\r\n\t\treturn n;\r\n\t}\r\n\t\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tString a = null;\r\n\t\tString b = &quot;&quot;;\r\n\t\tString c = &quot;Test&quot;;\r\n\t\t\r\n\t\tSystem.out.println (&quot; &quot;+nulls(a,b,c));\r\n\t}\r\n\r\nUses\r\n\r\n    // equivalent to (a==null &amp; !(b==null|c==null) | .. | c==null &amp; !(a==null|b==null))\r\n    if (nulls(a,b,c) == 1) { .. }\r\n\r\n    // equivalent to (a==null | b==null | c==null)\r\n    if (nulls(a,b,c) &gt;= 1) { .. }\r\n\r\n    // equivalent to (a!=null | b!=null | c!=null)\r\n    if (nulls(a,b,c) &lt; 3) { .. }\r\n\r\n    // equivalent to (a==null &amp; b==null &amp; c==null)\r\n    if (nulls(a,b,c) == 3) { .. }\r\n\r\n    // equivalent to (a!=null &amp; b!=null &amp; c!=null)\r\n    if (nulls(a,b,c) == 0) { .. }\r\n","title":"Check two arguments in Java, either both not null or both null elegantly","body":"<p>Here is a general solution for any number of null checks</p>\n\n<pre><code>public static int nulls(Object... objs)\n{\n    int n = 0;\n    for(Object obj : objs) if(obj == null) n++;\n    return n;\n}\n\npublic static void main (String[] args) throws java.lang.Exception\n{\n    String a = null;\n    String b = \"\";\n    String c = \"Test\";\n\n    System.out.println (\" \"+nulls(a,b,c));\n}\n</code></pre>\n\n<p>Uses</p>\n\n<pre><code>// equivalent to (a==null &amp; !(b==null|c==null) | .. | c==null &amp; !(a==null|b==null))\nif (nulls(a,b,c) == 1) { .. }\n\n// equivalent to (a==null | b==null | c==null)\nif (nulls(a,b,c) &gt;= 1) { .. }\n\n// equivalent to (a!=null | b!=null | c!=null)\nif (nulls(a,b,c) &lt; 3) { .. }\n\n// equivalent to (a==null &amp; b==null &amp; c==null)\nif (nulls(a,b,c) == 3) { .. }\n\n// equivalent to (a!=null &amp; b!=null &amp; c!=null)\nif (nulls(a,b,c) == 0) { .. }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":242239,"reputation":5426,"user_id":528617,"accept_rate":92,"display_name":"Arnab Datta"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1452085430,"creation_date":1452085430,"answer_id":34633880,"question_id":34586109,"body_markdown":"Here&#39;s a relatively straight-forward way that does not involve any Xor og lengthy ifs. It does however require you to be slightly more verbose, but on the upside, you can use the custom Exceptions I suggested to get a more meaningful error message.\r\n\r\n    private void validatePasswordExists(Parameters params) {\r\n       if (!params.hasKey(&quot;password&quot;)){\r\n          throw new PasswordMissingException(&quot;Password missing&quot;);\r\n       }\r\n    }\r\n\r\n    private void validateFromExists(Parameters params) {\r\n       if (!params.hasKey(&quot;from&quot;)){\r\n          throw new FromEmailMissingException(&quot;From-email missing&quot;);\r\n       }\r\n    }\r\n\r\n    private void validateParams(Parameters params) {\r\n\r\n      if (params.hasKey(&quot;from&quot;) || params.hasKey(&quot;password&quot;)){\r\n         validateFromExists(params);\r\n         validatePasswordExists(params);\r\n      }\r\n    }","title":"Check two arguments in Java, either both not null or both null elegantly","body":"<p>Here's a relatively straight-forward way that does not involve any Xor og lengthy ifs. It does however require you to be slightly more verbose, but on the upside, you can use the custom Exceptions I suggested to get a more meaningful error message.</p>\n\n<pre><code>private void validatePasswordExists(Parameters params) {\n   if (!params.hasKey(\"password\")){\n      throw new PasswordMissingException(\"Password missing\");\n   }\n}\n\nprivate void validateFromExists(Parameters params) {\n   if (!params.hasKey(\"from\")){\n      throw new FromEmailMissingException(\"From-email missing\");\n   }\n}\n\nprivate void validateParams(Parameters params) {\n\n  if (params.hasKey(\"from\") || params.hasKey(\"password\")){\n     validateFromExists(params);\n     validatePasswordExists(params);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3512449,"reputation":3956,"user_id":2936460,"accept_rate":83,"display_name":"SQB"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1452851317,"creation_date":1452244548,"answer_id":34673278,"question_id":34586109,"body_markdown":"Since you want to do something special (use defaults) when both sender and password are absent, handle that first.  \r\nAfter that, you should have both a sender and a password to send an e-mail; throw an exception if either is missing.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // use defaults if neither is provided\r\n    if ((from == null) &amp;&amp; (password == null)) {\r\n        from = DEFAULT_SENDER;\r\n        password = DEFAULT_PASSWORD;\r\n    }\r\n    \r\n    // we should have a sender and a password now\r\n    if (from == null) {\r\n        throw new MissingSenderException();\r\n    }\r\n    if (password == null) {\r\n        throw new MissingPasswordException();\r\n    }\r\n\r\nAn added benefit is that, should either of your defaults be null, that will be detected as well.\r\n\r\n----\r\nHaving said that, _in general_ I think that use of XOR should be permissible when that is the operator you need. It _is_ a part of the language, not just some trick that works because of an arcane compiler-bug.  \r\nI once had a cow-orker who found the ternary operator too confusing to use...","title":"Check two arguments in Java, either both not null or both null elegantly","body":"<p>Since you want to do something special (use defaults) when both sender and password are absent, handle that first.<br>\nAfter that, you should have both a sender and a password to send an e-mail; throw an exception if either is missing.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// use defaults if neither is provided\nif ((from == null) &amp;&amp; (password == null)) {\n    from = DEFAULT_SENDER;\n    password = DEFAULT_PASSWORD;\n}\n\n// we should have a sender and a password now\nif (from == null) {\n    throw new MissingSenderException();\n}\nif (password == null) {\n    throw new MissingPasswordException();\n}\n</code></pre>\n\n<p>An added benefit is that, should either of your defaults be null, that will be detected as well.</p>\n\n<hr>\n\n<p>Having said that, <em>in general</em> I think that use of XOR should be permissible when that is the operator you need. It <em>is</em> a part of the language, not just some trick that works because of an arcane compiler-bug.<br>\nI once had a cow-orker who found the ternary operator too confusing to use...</p>\n"},{"tags":[],"owner":{"account_id":2252877,"reputation":1907,"user_id":1984745,"accept_rate":67,"display_name":"gbronner"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1452272618,"creation_date":1452272618,"answer_id":34682336,"question_id":34586109,"body_markdown":"Nobody seems to have mentioned the [ternary operator][1]:\r\n\r\n    if (a==null? b!=null:b==null)\r\n\r\nWorks nicely for checking this particular condition, but doesn&#39;t generalize well past two variables.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/%3F:#Java","title":"Check two arguments in Java, either both not null or both null elegantly","body":"<p>Nobody seems to have mentioned the <a href=\"https://en.wikipedia.org/wiki/%3F:#Java\" rel=\"noreferrer\">ternary operator</a>:</p>\n\n<pre><code>if (a==null? b!=null:b==null)\n</code></pre>\n\n<p>Works nicely for checking this particular condition, but doesn't generalize well past two variables.</p>\n"},{"tags":[],"owner":{"account_id":4410958,"reputation":2420,"user_id":3854476,"accept_rate":56,"display_name":"Reinstate Monica"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1536991058,"creation_date":1453517887,"answer_id":34959111,"question_id":34586109,"body_markdown":"I&#39;m surprised nobody mentioned the simple solution of making `from` and `password` fields of a class and passing a reference to an instance of that class:\r\n\r\n    class Account {\r\n        final String name, password;\r\n        Account(String name, String password) {\r\n            this.name = Objects.requireNonNull(name, &quot;name&quot;);\r\n            this.password = Objects.requireNonNull(password, &quot;password&quot;);\r\n        }\r\n    }\r\n\r\n    // the code that requires an account\r\n    Account from;\r\n    // do stuff\r\n\r\nHere `from` could be null or non-null and if it&#39;s non-null, both its fields have non-null values.\r\n\r\nOne advantage of this approach is that the error of making one field but not the other field null gets triggered where the account is initially obtained, not when the code using the account runs. By the time the code using the account is executed, it&#39;s impossible for the data to be invalid.\r\n\r\nAnother advantage to this approach is more readable as it provides more semantic information. Also, it&#39;s likely that you require the name and password together in other places so the cost of defining an additional class amortizes over multiple usages.","title":"Check two arguments in Java, either both not null or both null elegantly","body":"<p>I'm surprised nobody mentioned the simple solution of making <code>from</code> and <code>password</code> fields of a class and passing a reference to an instance of that class:</p>\n\n<pre><code>class Account {\n    final String name, password;\n    Account(String name, String password) {\n        this.name = Objects.requireNonNull(name, \"name\");\n        this.password = Objects.requireNonNull(password, \"password\");\n    }\n}\n\n// the code that requires an account\nAccount from;\n// do stuff\n</code></pre>\n\n<p>Here <code>from</code> could be null or non-null and if it's non-null, both its fields have non-null values.</p>\n\n<p>One advantage of this approach is that the error of making one field but not the other field null gets triggered where the account is initially obtained, not when the code using the account runs. By the time the code using the account is executed, it's impossible for the data to be invalid.</p>\n\n<p>Another advantage to this approach is more readable as it provides more semantic information. Also, it's likely that you require the name and password together in other places so the cost of defining an additional class amortizes over multiple usages.</p>\n"},{"tags":[],"owner":{"account_id":12205927,"reputation":563,"user_id":9691976,"display_name":"Mohammad Kholghi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660243475,"creation_date":1660243475,"answer_id":73325499,"question_id":34586109,"body_markdown":"```\r\nif ((from == null) == (password == null)){ //if both are true or both are false\r\n\r\n}\r\n```\r\n\r\n (Source: Intellij IDEA)","title":"Check two arguments in Java, either both not null or both null elegantly","body":"<pre><code>if ((from == null) == (password == null)){ //if both are true or both are false\n\n}\n</code></pre>\n<p>(Source: Intellij IDEA)</p>\n"}],"owner":{"account_id":5588556,"reputation":8451,"user_id":4428471,"accept_rate":46,"display_name":"zhuguowei"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47172,"favorite_count":0,"down_vote_count":6,"up_vote_count":179,"accepted_answer_id":34586232,"answer_count":14,"score":173,"last_activity_date":1660243475,"creation_date":1451890644,"question_id":34586109,"body_markdown":"I used spring boot to develop a shell project used to send email, e.g.\r\n\r\n    sendmail -from foo@bar.com -password  foobar -subject &quot;hello world&quot;  -to aaa@bbb.com\r\n\r\nIf the `from` and `password` arguments are missing, I use a default sender and password, e.g. `noreply@bar.com` and `123456`.\r\n\r\nSo if the user passes the `from` argument they must also pass the `password` argument and vice versa. That is to say, either both are non-null, or both are null.\r\n\r\nHow do I check this elegantly?\r\n\r\nNow my way is\r\n\r\n    if ((from != null &amp;&amp; password == null) || (from == null &amp;&amp; password != null)) {\r\n        throw new RuntimeException(&quot;from and password either both exist or both not exist&quot;);\r\n    }\r\n","title":"Check two arguments in Java, either both not null or both null elegantly","body":"<p>I used spring boot to develop a shell project used to send email, e.g.</p>\n\n<pre><code>sendmail -from foo@bar.com -password  foobar -subject \"hello world\"  -to aaa@bbb.com\n</code></pre>\n\n<p>If the <code>from</code> and <code>password</code> arguments are missing, I use a default sender and password, e.g. <code>noreply@bar.com</code> and <code>123456</code>.</p>\n\n<p>So if the user passes the <code>from</code> argument they must also pass the <code>password</code> argument and vice versa. That is to say, either both are non-null, or both are null.</p>\n\n<p>How do I check this elegantly?</p>\n\n<p>Now my way is</p>\n\n<pre><code>if ((from != null &amp;&amp; password == null) || (from == null &amp;&amp; password != null)) {\n    throw new RuntimeException(\"from and password either both exist or both not exist\");\n}\n</code></pre>\n"},{"tags":["java","android","authentication"],"comments":[{"owner":{"account_id":399349,"reputation":4195,"user_id":764624,"display_name":"Ivan Wooll"},"score":1,"creation_date":1660233813,"post_id":73323689,"comment_id":129489994,"body_markdown":"When you log out the values of username and password what do you see?","body":"When you log out the values of username and password what do you see?"},{"owner":{"account_id":399349,"reputation":4195,"user_id":764624,"display_name":"Ivan Wooll"},"score":1,"creation_date":1660233919,"post_id":73323689,"comment_id":129490038,"body_markdown":"Incidentally, the convention for function names in Java is to start with a lowercase letter using `camelCase()`","body":"Incidentally, the convention for function names in Java is to start with a lowercase letter using <code>camelCase()</code>"},{"owner":{"account_id":18941388,"reputation":17,"user_id":13821336,"display_name":"Ahmed Nasser"},"score":0,"creation_date":1660235347,"post_id":73323689,"comment_id":129490536,"body_markdown":"username: Santos  password:: 1234  its gives me the right data that I entered in every line","body":"username: Santos  password:: 1234  its gives me the right data that I entered in every line"}],"answers":[{"tags":[],"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660242934,"creation_date":1660242934,"answer_id":73325415,"question_id":73323689,"body_markdown":"Your login method compares strings by their object references. You have to compare them by their [values][1].\r\n\r\nWhen you call getText(), you will have a string object created with another object reference.\r\n\r\n```java\r\nString name = &quot;Santos&quot;; // is object #7890\r\n// Let&#39;s say username from getText() is object #4758\r\n\r\n// will be always false\r\nif (username == &quot;Santos&quot;) {}\r\n\r\n```\r\n\r\nCheck out the code below.\r\n```java\r\npublic class StringCompare {\r\n\r\n   public void login(String username, String password) {\r\n      if (username.equals(&quot;Santos&quot;) &amp;&amp; password.equals(&quot;1234&quot;)) {\r\n         System.out.println(&quot;Login successful&quot;);\r\n      } else {\r\n         System.out.println(&quot;Login failed&quot;);\r\n      }\r\n\r\n      if (username == &quot;Santos&quot; &amp;&amp; password == &quot;1234&quot;) {\r\n         System.out.println(&quot;Login successful with reference check&quot;);\r\n      } else {\r\n         System.out.println(&quot;Login failed at reference check&quot;);\r\n      }\r\n\r\n      System.out.println();\r\n   }\r\n\r\n   public void testLogin(){\r\n      String password = &quot;1234&quot;;\r\n      String username = &quot;Santos&quot;;\r\n\r\n\t  // creating another string object\r\n      String anotherString = new String(&quot;Santos&quot;); \r\n\r\n\t  // also creating another string object\r\n      String something = new StringBuilder(&quot;Santos&quot;).toString();\r\n\r\n      login(username, password);\r\n      login(anotherString, password);\r\n      login(something, password);\r\n   }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals","title":"Android button refuses to change activity","body":"<p>Your login method compares strings by their object references. You have to compare them by their <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals\" rel=\"nofollow noreferrer\">values</a>.</p>\n<p>When you call getText(), you will have a string object created with another object reference.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Santos&quot;; // is object #7890\n// Let's say username from getText() is object #4758\n\n// will be always false\nif (username == &quot;Santos&quot;) {}\n\n</code></pre>\n<p>Check out the code below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringCompare {\n\n   public void login(String username, String password) {\n      if (username.equals(&quot;Santos&quot;) &amp;&amp; password.equals(&quot;1234&quot;)) {\n         System.out.println(&quot;Login successful&quot;);\n      } else {\n         System.out.println(&quot;Login failed&quot;);\n      }\n\n      if (username == &quot;Santos&quot; &amp;&amp; password == &quot;1234&quot;) {\n         System.out.println(&quot;Login successful with reference check&quot;);\n      } else {\n         System.out.println(&quot;Login failed at reference check&quot;);\n      }\n\n      System.out.println();\n   }\n\n   public void testLogin(){\n      String password = &quot;1234&quot;;\n      String username = &quot;Santos&quot;;\n\n      // creating another string object\n      String anotherString = new String(&quot;Santos&quot;); \n\n      // also creating another string object\n      String something = new StringBuilder(&quot;Santos&quot;).toString();\n\n      login(username, password);\n      login(anotherString, password);\n      login(something, password);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":18941388,"reputation":17,"user_id":13821336,"display_name":"Ahmed Nasser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73325415,"answer_count":1,"score":0,"last_activity_date":1660242934,"creation_date":1660233469,"question_id":73323689,"body_markdown":"Iam creating a simple login screen to change the activity as a practice \r\neven all of my code is right but when I click the button nothing happens neither the IF is true nor false\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private EditText name;\r\n    private EditText password;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        name = findViewById(R.id.username);\r\n        password = findViewById(R.id.password);\r\n        Button login = findViewById(R.id.login);\r\n        \r\n        login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Login(name.getText().toString(),password.getText().toString());\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void Login(String username,String password) {\r\n\r\n        if((username == (&quot;Santos&quot;)) &amp;&amp; (password == &quot;1234&quot;)) {\r\n            Intent intent = new Intent(MainActivity.this, MainActivity2.class);\r\n            startActivity(intent);\r\n        }\r\n    }}\r\n\r\n**note:**\r\nthe button itself works without the IF function","title":"Android button refuses to change activity","body":"<p>Iam creating a simple login screen to change the activity as a practice\neven all of my code is right but when I click the button nothing happens neither the IF is true nor false</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate EditText name;\nprivate EditText password;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    name = findViewById(R.id.username);\n    password = findViewById(R.id.password);\n    Button login = findViewById(R.id.login);\n    \n    login.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Login(name.getText().toString(),password.getText().toString());\n        }\n    });\n\n}\n\nprivate void Login(String username,String password) {\n\n    if((username == (&quot;Santos&quot;)) &amp;&amp; (password == &quot;1234&quot;)) {\n        Intent intent = new Intent(MainActivity.this, MainActivity2.class);\n        startActivity(intent);\n    }\n}}\n</code></pre>\n<p><strong>note:</strong>\nthe button itself works without the IF function</p>\n"},{"tags":["java","spring","spring-boot","microservices","spring-bean"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1660242360,"post_id":73325125,"comment_id":129492760,"body_markdown":"I can think of several potential ways to solve this need; choosing the most appropriate one depends on a lot of context of the situation (architecture, available infrastructure, available time, tolerance for failure, just to name a few). It&#39;s not a great question for providing concrete answers without some more context.","body":"I can think of several potential ways to solve this need; choosing the most appropriate one depends on a lot of context of the situation (architecture, available infrastructure, available time, tolerance for failure, just to name a few). It&#39;s not a great question for providing concrete answers without some more context."},{"owner":{"account_id":1152375,"reputation":103,"user_id":1133806,"display_name":"Manish Kumar"},"score":0,"creation_date":1660283525,"post_id":73325125,"comment_id":129500390,"body_markdown":"how can we reload bean in all the running instances?","body":"how can we reload bean in all the running instances?"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1660309453,"post_id":73325125,"comment_id":129508847,"body_markdown":"Please read [ask].","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":1152375,"reputation":103,"user_id":1133806,"display_name":"Manish Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660242197,"creation_date":1660241283,"question_id":73325125,"body_markdown":"I have created an endpoint for reloading bean and it&#39;s working as expected calling from API Gateway. Now the problem is, that there are 2 instances running of my service. Bean is reloading in only one instance. How can I reload bean in all the running instances?","title":"Reload bean in all the running instances of service","body":"<p>I have created an endpoint for reloading bean and it's working as expected calling from API Gateway. Now the problem is, that there are 2 instances running of my service. Bean is reloading in only one instance. How can I reload bean in all the running instances?</p>\n"},{"tags":["java","selenium-webdriver","pdfbox","bufferedinputstream","pdfparser"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1530700404,"post_id":51171334,"comment_id":89325655,"body_markdown":"Is there a specific reason why you explicitly use the `PdfParser` class instead of letting PDFBox care for the document loading details itself?","body":"Is there a specific reason why you explicitly use the <code>PdfParser</code> class instead of letting PDFBox care for the document loading details itself?"},{"owner":{"account_id":10876762,"reputation":1,"user_id":7996972,"display_name":"Suchandra"},"score":0,"creation_date":1530701573,"post_id":51171334,"comment_id":89326430,"body_markdown":"Not really! I just found this snippet and tried to see if this works for me.","body":"Not really! I just found this snippet and tried to see if this works for me."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1530705757,"post_id":51171334,"comment_id":89329152,"body_markdown":"[Related question](https://stackoverflow.com/q/39233547/1729265), but the accepted answer there (downgrading to 1.8.x) in general is not the appropriate one, better to use the API correctly as proposed in the other answer.","body":"<a href=\"https://stackoverflow.com/q/39233547/1729265\">Related question</a>, but the accepted answer there (downgrading to 1.8.x) in general is not the appropriate one, better to use the API correctly as proposed in the other answer."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530702214,"creation_date":1530702214,"answer_id":51172147,"question_id":51171334,"body_markdown":"First of, unless you want to interfere in the PDF loading process, there is no need to explicitly use the `PdfParser` class. You can instead use a static `PDDocument.load` method:\r\n\r\n    URL urlOfPdf = new URL(this.getWebDriver().getCurrentUrl());\r\n    \r\n    BufferedInputStream fileToParse = new BufferedInputStream(urlOfPdf.openStream());\r\n\r\n    PDDocument document = PDDocument.load(fileToParse);\r\n    \r\n    String output = new PDFTextStripper().getText(document);\r\n\r\n---\r\n\r\nOtherwise, if you _do_ want to interfere in the loading process, you have to *create* a `RandomAccessRead` instance for your `BufferedInputStream`, you cannot simply _cast_ it because the classes are not related.\r\n\r\nYou can do that like this\r\n\r\n    URL urlOfPdf = new URL(this.getWebDriver().getCurrentUrl());\r\n    \r\n    BufferedInputStream fileToParse = new BufferedInputStream(urlOfPdf.openStream());\r\n\r\n    MemoryUsageSetting memUsageSetting = MemoryUsageSetting.setupMainMemoryOnly();\r\n    ScratchFile scratchFile = new ScratchFile(memUsageSetting);\r\n    PDFParser parser;\r\n    try\r\n    {\r\n        RandomAccessRead source = scratchFile.createBuffer(fileToParse);\r\n        parser = new PDFParser(source);\r\n        parser.parse();\r\n    }\r\n    catch (IOException ioe)\r\n    {\r\n        IOUtils.closeQuietly(scratchFile);\r\n        throw ioe;\r\n    }\r\n    \r\n    String output = new PDFTextStripper().getText(parser.getPDDocument());\r\n\r\n(This essentially is copied and pasted from the source of `PDDocument.load`.)\r\n","title":"How to read from PDF using Selenium webdriver and Java","body":"<p>First of, unless you want to interfere in the PDF loading process, there is no need to explicitly use the <code>PdfParser</code> class. You can instead use a static <code>PDDocument.load</code> method:</p>\n\n<pre><code>URL urlOfPdf = new URL(this.getWebDriver().getCurrentUrl());\n\nBufferedInputStream fileToParse = new BufferedInputStream(urlOfPdf.openStream());\n\nPDDocument document = PDDocument.load(fileToParse);\n\nString output = new PDFTextStripper().getText(document);\n</code></pre>\n\n<hr>\n\n<p>Otherwise, if you <em>do</em> want to interfere in the loading process, you have to <em>create</em> a <code>RandomAccessRead</code> instance for your <code>BufferedInputStream</code>, you cannot simply <em>cast</em> it because the classes are not related.</p>\n\n<p>You can do that like this</p>\n\n<pre><code>URL urlOfPdf = new URL(this.getWebDriver().getCurrentUrl());\n\nBufferedInputStream fileToParse = new BufferedInputStream(urlOfPdf.openStream());\n\nMemoryUsageSetting memUsageSetting = MemoryUsageSetting.setupMainMemoryOnly();\nScratchFile scratchFile = new ScratchFile(memUsageSetting);\nPDFParser parser;\ntry\n{\n    RandomAccessRead source = scratchFile.createBuffer(fileToParse);\n    parser = new PDFParser(source);\n    parser.parse();\n}\ncatch (IOException ioe)\n{\n    IOUtils.closeQuietly(scratchFile);\n    throw ioe;\n}\n\nString output = new PDFTextStripper().getText(parser.getPDDocument());\n</code></pre>\n\n<p>(This essentially is copied and pasted from the source of <code>PDDocument.load</code>.)</p>\n"}],"owner":{"account_id":10876762,"reputation":1,"user_id":7996972,"display_name":"Suchandra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2786,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660241326,"creation_date":1530699577,"question_id":51171334,"body_markdown":"I am trying to read the contents of a PDF file using Java-Selenium. Below is my code. getWebDriver is a custom method in the framework. It returns the webdriver.\r\n\r\n    URL urlOfPdf = new URL(this.getWebDriver().getCurrentUrl());\r\n\r\n    BufferedInputStream fileToParse = new BufferedInputStream(urlOfPdf.openStream());\r\n \r\n    PDFParser parser = new PDFParser((RandomAccessRead) fileToParse);\r\n    parser.parse();\r\n     \r\n    String output = new PDFTextStripper().getText(parser.getPDDocument());\r\n\r\nThe second line of the code gives compile time error if I don&#39;t parse it to `RandomAccessRead` type. \r\n\r\n[![compilation error][1]][1]\r\n\r\nAnd when I parse it, I get this run time error:\r\n\r\n&gt; java.lang.ClassCastException: java.io.BufferedInputStream cannot be cast to org.apache.pdfbox.io.RandomAccessRead\r\n\r\n[![runtime error][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6pFYY.png\r\n  [2]: https://i.stack.imgur.com/ztaUF.png\r\n\r\nI need help with getting rid of these errors.\r\n","title":"How to read from PDF using Selenium webdriver and Java","body":"<p>I am trying to read the contents of a PDF file using Java-Selenium. Below is my code. getWebDriver is a custom method in the framework. It returns the webdriver.</p>\n\n<pre><code>URL urlOfPdf = new URL(this.getWebDriver().getCurrentUrl());\n\nBufferedInputStream fileToParse = new BufferedInputStream(urlOfPdf.openStream());\n\nPDFParser parser = new PDFParser((RandomAccessRead) fileToParse);\nparser.parse();\n\nString output = new PDFTextStripper().getText(parser.getPDDocument());\n</code></pre>\n\n<p>The second line of the code gives compile time error if I don't parse it to <code>RandomAccessRead</code> type. </p>\n\n<p><a href=\"https://i.stack.imgur.com/6pFYY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6pFYY.png\" alt=\"compilation error\"></a></p>\n\n<p>And when I parse it, I get this run time error:</p>\n\n<blockquote>\n  <p>java.lang.ClassCastException: java.io.BufferedInputStream cannot be cast to org.apache.pdfbox.io.RandomAccessRead</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/ztaUF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ztaUF.png\" alt=\"runtime error\"></a></p>\n\n<p>I need help with getting rid of these errors.</p>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1660238399,"post_id":73324613,"comment_id":129491570,"body_markdown":"The term you&#39;re looking for is &quot;immutable list of mutable items&quot;.","body":"The term you&#39;re looking for is &quot;immutable list of mutable items&quot;."}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1660241317,"creation_date":1660238573,"answer_id":73324669,"question_id":73324613,"body_markdown":"If the types of objects stored in a `List` (or any `Collection`) are mutable, then the first part of your question is inherent to how Java collections and object references work. Just because an object is contained in a collection doesn&#39;t put any restrictions on what I can do with (or _to) that object.\r\n\r\nHaving said that, if the objects in the list are not mutable (eg, [`String`][1], [`LocalDate`][2], or some other value object), there’s nothing you can do to modify them.\r\n\r\n# Unmodifiable list\r\n\r\nAs for the second part, you want an _unmodifiable_ collection, and for that you can simply create one using `java.util.Collections.unmodifiableList(List&lt;? extends T&gt;)`. Or in Java 9+, use `List.of` or `List.copyOf` to make an [unmodifiable list][3].\r\n\r\n# Fixed size list\r\n\r\nIf what you want is a `List` that can not be added to or removed from, but _can_ have individual elements _replaced_, then consider third-party libraries:\r\n\r\n -  [`org.apache.commons.collections4.list.FixedSizeList&lt;E&gt;`](https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/list/FixedSizeList.html) from the [*Apache Commons Collections*][4].\r\n - [`org.eclipse.collections.api.list.FixedSizeList`][5] in [*Eclipse Collections*][6].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\r\n  [4]: https://commons.apache.org/proper/commons-collections/\r\n  [5]: https://www.eclipse.org/collections/javadoc/11.1.0/org/eclipse/collections/api/list/FixedSizeList.html\r\n  [6]: https://www.eclipse.org/collections/","title":"How can I create a Java List/Map/Collection in which I can modify the values but not add nor remove elements from it?","body":"<p>If the types of objects stored in a <code>List</code> (or any <code>Collection</code>) are mutable, then the first part of your question is inherent to how Java collections and object references work. Just because an object is contained in a collection doesn't put any restrictions on what I can do with (or _to) that object.</p>\n<p>Having said that, if the objects in the list are not mutable (eg, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a>, or some other value object), there’s nothing you can do to modify them.</p>\n<h1>Unmodifiable list</h1>\n<p>As for the second part, you want an <em>unmodifiable</em> collection, and for that you can simply create one using <code>java.util.Collections.unmodifiableList(List&lt;? extends T&gt;)</code>. Or in Java 9+, use <code>List.of</code> or <code>List.copyOf</code> to make an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable list</a>.</p>\n<h1>Fixed size list</h1>\n<p>If what you want is a <code>List</code> that can not be added to or removed from, but <em>can</em> have individual elements <em>replaced</em>, then consider third-party libraries:</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/list/FixedSizeList.html\" rel=\"nofollow noreferrer\"><code>org.apache.commons.collections4.list.FixedSizeList&lt;E&gt;</code></a> from the <a href=\"https://commons.apache.org/proper/commons-collections/\" rel=\"nofollow noreferrer\"><em>Apache Commons Collections</em></a>.</li>\n<li><a href=\"https://www.eclipse.org/collections/javadoc/11.1.0/org/eclipse/collections/api/list/FixedSizeList.html\" rel=\"nofollow noreferrer\"><code>org.eclipse.collections.api.list.FixedSizeList</code></a> in <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\"><em>Eclipse Collections</em></a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19422642,"reputation":1,"user_id":14204838,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660240448,"creation_date":1660240448,"answer_id":73324969,"question_id":73324613,"body_markdown":"implement some Collection interface, create variable of Collection implementation, and override add, remove and get methods.\r\nFor example:\r\n\r\n    class myCollection implements List{\r\n    private List&lt;Integer&gt; list =new ArrayList&lt;&gt;(); \r\n\r\n    public  myCollection (Collection col){\r\n    list.addAll(col);\r\n    }\r\n    @Override\r\n    Integer get(int i){\r\n    return list.get(i);\r\n    }\r\n    @Override\r\n    void remove(int i){\r\n    //empty so you cant remove anything\r\n    }\r\n    }     \r\n\r\nhope you got an idea","title":"How can I create a Java List/Map/Collection in which I can modify the values but not add nor remove elements from it?","body":"<p>implement some Collection interface, create variable of Collection implementation, and override add, remove and get methods.\nFor example:</p>\n<pre><code>class myCollection implements List{\nprivate List&lt;Integer&gt; list =new ArrayList&lt;&gt;(); \n\npublic  myCollection (Collection col){\nlist.addAll(col);\n}\n@Override\nInteger get(int i){\nreturn list.get(i);\n}\n@Override\nvoid remove(int i){\n//empty so you cant remove anything\n}\n}     \n</code></pre>\n<p>hope you got an idea</p>\n"}],"owner":{"account_id":26040227,"reputation":13,"user_id":19745169,"display_name":"Meme Man"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73324669,"answer_count":2,"score":1,"last_activity_date":1660241317,"creation_date":1660238254,"question_id":73324613,"body_markdown":"I want to create some sort of list where I can modify the values of the objects inside but not be able to add to it nor remove from it once it is initialized. Is this possible? If so, how can I do it?","title":"How can I create a Java List/Map/Collection in which I can modify the values but not add nor remove elements from it?","body":"<p>I want to create some sort of list where I can modify the values of the objects inside but not be able to add to it nor remove from it once it is initialized. Is this possible? If so, how can I do it?</p>\n"},{"tags":["java","gradle","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1660267456,"post_id":73324078,"comment_id":129498200,"body_markdown":"I don&#39;t know what is wrong with your setup.  But it is just a simple HelloWorld application. If it were me, rather than trying to debug it, I would just delete the existing project and create a new project using the [new JavaFX project wizard](https://www.jetbrains.com/help/idea/javafx.html), following the instructions at the link I provided and choosing Maven as the build system rather than Gradle as I find Maven easier to work with and capable enough for basic hello world apps.","body":"I don&#39;t know what is wrong with your setup.  But it is just a simple HelloWorld application. If it were me, rather than trying to debug it, I would just delete the existing project and create a new project using the <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">new JavaFX project wizard</a>, following the instructions at the link I provided and choosing Maven as the build system rather than Gradle as I find Maven easier to work with and capable enough for basic hello world apps."},{"owner":{"account_id":24170624,"reputation":21,"user_id":18132747,"display_name":"proh14"},"score":0,"creation_date":1660277864,"post_id":73324078,"comment_id":129499507,"body_markdown":"@jewelsea I want to move the program so I compiled it using Gradle I know it is a simple hello world program but I have another program. this is just a simple app so I can show you what&#39;s wrong","body":"@jewelsea I want to move the program so I compiled it using Gradle I know it is a simple hello world program but I have another program. this is just a simple app so I can show you what&#39;s wrong"}],"owner":{"account_id":24170624,"reputation":21,"user_id":18132747,"display_name":"proh14"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1660241184,"creation_date":1660235306,"question_id":73324078,"body_markdown":"yesterday I created a JavaFX project and I don&#39;t know why but when I want to run the app with commands java says:\r\n```\r\nGradle task : build\r\n\r\nCommand : java -jar &quot;name_of_the_file.jar&quot;\r\n\r\n\r\nError: Could not find or load main class com.example.HelloApplication\r\nCaused by: java.lang.NoClassDefFoundError:javafx/application/Application \r\n```\r\nbut I can run it using gradlew run \r\n    \r\n\r\n&gt; module-info.java file\r\n\r\n    module com.example{\r\n        requires javafx.controls;\r\n        requires javafx.fxml;\r\n    \r\n    \r\n        opens com.example ;\r\n        exports com.example;\r\n    }\r\n\r\n&gt; Manifest.MF file\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: com.example.HelloApplication\r\n\r\n&gt; build.gradle file\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;application&#39;\r\n        id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n        id &#39;org.beryx.jlink&#39; version &#39;2.25.0&#39;\r\n    }\r\n    \r\n    group &#39;com.example&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    \r\n    jar{\r\n        manifest{\r\n            attributes (&#39;Main-Class&#39; : &#39;com.example.HelloApplication&#39; )\r\n    \r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    ext {\r\n        junitVersion = &#39;5.8.2&#39;\r\n    }\r\n    \r\n    sourceCompatibility = &#39;17&#39;\r\n    targetCompatibility = &#39;17&#39;\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.encoding = &#39;UTF-8&#39;\r\n    }\r\n    \r\n    application {\r\n        mainModule = &#39;com.example&#39;\r\n        mainClass = &#39;com.example.jfx.HelloApplication&#39;\r\n    }\r\n    \r\n    javafx {\r\n        version = &#39;17.0.2&#39;\r\n        modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n        testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    jlink {\r\n        imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\r\n        options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n        launcher {\r\n            name = &#39;app&#39;\r\n        }\r\n    }\r\n    \r\n    jlinkZip {\r\n        group = &#39;distribution&#39;\r\n    }\r\n\r\n&gt; and project structure\r\n\r\n  [project structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YE90W.jpg\r\n\r\nI am using inteliij idea community and my operating system is windows \r\nI really don&#39;t know what is wrong it seems all correct to me. Strange\r\n","title":"Why I can not compile JavaFX program using grade?","body":"<p>yesterday I created a JavaFX project and I don't know why but when I want to run the app with commands java says:</p>\n<pre><code>Gradle task : build\n\nCommand : java -jar &quot;name_of_the_file.jar&quot;\n\n\nError: Could not find or load main class com.example.HelloApplication\nCaused by: java.lang.NoClassDefFoundError:javafx/application/Application \n</code></pre>\n<p>but I can run it using gradlew run</p>\n<blockquote>\n<p>module-info.java file</p>\n</blockquote>\n<pre><code>module com.example{\n    requires javafx.controls;\n    requires javafx.fxml;\n\n\n    opens com.example ;\n    exports com.example;\n}\n</code></pre>\n<blockquote>\n<p>Manifest.MF file</p>\n</blockquote>\n<pre><code>Manifest-Version: 1.0\nMain-Class: com.example.HelloApplication\n</code></pre>\n<blockquote>\n<p>build.gradle file</p>\n</blockquote>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.13'\n    id 'org.beryx.jlink' version '2.25.0'\n}\n\ngroup 'com.example'\nversion '1.0-SNAPSHOT'\n\n\njar{\n    manifest{\n        attributes ('Main-Class' : 'com.example.HelloApplication' )\n\n    }\n}\n\n\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    junitVersion = '5.8.2'\n}\n\nsourceCompatibility = '17'\ntargetCompatibility = '17'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\napplication {\n    mainModule = 'com.example'\n    mainClass = 'com.example.jfx.HelloApplication'\n}\n\njavafx {\n    version = '17.0.2'\n    modules = ['javafx.controls', 'javafx.fxml']\n}\n\ndependencies {\n\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njlink {\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'app'\n    }\n}\n\njlinkZip {\n    group = 'distribution'\n}\n</code></pre>\n<blockquote>\n<p>and project structure</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/YE90W.jpg\" rel=\"nofollow noreferrer\">project structure</a></p>\n<p>I am using inteliij idea community and my operating system is windows\nI really don't know what is wrong it seems all correct to me. Strange</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1660570195,"post_id":73323644,"comment_id":129556852,"body_markdown":"If you want to return all of that data through HTTP or something, then there is not much you can do. This kind of task will simply be kind of slow. You should rather think if you really need all this data. Maybe you just need to know how many parts have the same part number? Then you could use a query like `select p.partNumber, count(*) from Part p group by p.partNumber`","body":"If you want to return all of that data through HTTP or something, then there is not much you can do. This kind of task will simply be kind of slow. You should rather think if you really need all this data. Maybe you just need to know how many parts have the same part number? Then you could use a query like <code>select p.partNumber, count(*) from Part p group by p.partNumber</code>"},{"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"score":0,"creation_date":1660658107,"post_id":73323644,"comment_id":129580360,"body_markdown":"tried that approach but this is taking more time in the next phase, where we are matching each partnumber and updating or adding it. when looping to get the parts```for (int i=0; i&lt;inParts.size(); i++) {\t\t\t\t\n\t\t\t\tPartStaging inPart = inParts.get(i);\n\t\t\t\tPart locatedPart = null;\t\t\t\t\n\t\t\t\t//log.info(&quot;before filter query&quot;);\t\t\t\t\n\t\t\t\tList&lt;Part&gt; exParts = partRepo.findByPartNumber(exPartsByPartNumber.stream()\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter(x -&gt;inPart.getPartNumber().equals(x.getPartNumber()))\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map(PartsByPartNumber::getPartNumber)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.findAny()\t.orElse(null));```","body":"tried that approach but this is taking more time in the next phase, where we are matching each partnumber and updating or adding it. when looping to get the parts<code>for (int i=0; i&lt;inParts.size(); i++) {\t\t\t\t \t\t\t\tPartStaging inPart = inParts.get(i); \t\t\t\tPart locatedPart = null;\t\t\t\t \t\t\t\t&#47;&#47;log.info(&quot;before filter query&quot;);\t\t\t\t \t\t\t\tList&lt;Part&gt; exParts = partRepo.findByPartNumber(exPartsByPartNumber.stream()\t\t\t\t\t\t&zwnj;&#8203;\t\t\t\t\t\t\t\t\t\t\t\t\t.filter&zwnj;&#8203;(x -&gt;inPart.getPartNumber().equals(x.getPartNumber()))\t\t\t\t\t\t\t\t\t&zwnj;&#8203;\t\t\t\t\t\t\t\t\t.map(PartsB&zwnj;&#8203;yPartNumber::getPart&zwnj;&#8203;Number)\t\t\t\t\t\t\t\t\t\t\t\t\t&zwnj;&#8203;\t\t\t\t\t\t.findAny()\t.or&zwnj;&#8203;Else(null));</code>"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1660660979,"post_id":73323644,"comment_id":129581615,"body_markdown":"I&#39;ll highlight this again. If you have millions of rows, this will be slow, regardless how you implement it. *Think if you really need all this data*. Maybe ask a new question where you share your actual business requirement, rather than asking why selecting a million rows takes a long time.","body":"I&#39;ll highlight this again. If you have millions of rows, this will be slow, regardless how you implement it. <i>Think if you really need all this data</i>. Maybe ask a new question where you share your actual business requirement, rather than asking why selecting a million rows takes a long time."}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660240590,"creation_date":1660240590,"answer_id":73324990,"question_id":73323644,"body_markdown":"One reason your method might be slow is because it&#39;s operating on an in-memory copy of every record/instance of the entity. `findAll()` just returns a `List&lt;&gt;`, which means it&#39;s basically doing a `SELECT * FROM table` with no `WHERE` or `GROUP BY`. You call `stream()` on that `List` but by that time all the records are pulled over into memory and the in-memory stream is then `collect()`ed with the grouping `Collector`. In other words, using a stream here isn&#39;t really helping your performance.\r\n\r\nInstead, you could construct things so that the database does the grouping; it might be faster, because that&#39;s something DBs are good at. [Here is a tutorial][1] with various techniques for doing aggregation (grouping) in a Spring JPA repository.\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-queries-custom-result-with-aggregation-functions","title":"How to optimize the JPA query","body":"<p>One reason your method might be slow is because it's operating on an in-memory copy of every record/instance of the entity. <code>findAll()</code> just returns a <code>List&lt;&gt;</code>, which means it's basically doing a <code>SELECT * FROM table</code> with no <code>WHERE</code> or <code>GROUP BY</code>. You call <code>stream()</code> on that <code>List</code> but by that time all the records are pulled over into memory and the in-memory stream is then <code>collect()</code>ed with the grouping <code>Collector</code>. In other words, using a stream here isn't really helping your performance.</p>\n<p>Instead, you could construct things so that the database does the grouping; it might be faster, because that's something DBs are good at. <a href=\"https://www.baeldung.com/jpa-queries-custom-result-with-aggregation-functions\" rel=\"nofollow noreferrer\">Here is a tutorial</a> with various techniques for doing aggregation (grouping) in a Spring JPA repository.</p>\n"}],"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660240590,"creation_date":1660233280,"question_id":73323644,"body_markdown":"I have a bottleneck in my code, but not able to optimize the query. The part table has a million records and this method is taking more than a minute to execute.\r\nAny suggestion on how to rewrite this query so that the execution happens in seconds?\r\n\r\n    log.info(&quot;Starting Part Map...&quot;);\r\n    \t\t\tMap&lt;String, List&lt;Part&gt;&gt; exPartsByPartNumber = partRepo.findAll().stream()\r\n    \t\t\t\t\t.collect(Collectors.groupingBy(Part::getPartNumber));\r\n    \t\t\tlog.info(&quot;mapped existing parts by pn&quot;);\r\n\r\n\r\n---\r\n\r\nPartBase.java\r\n\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n    @Builder(toBuilder = true)\r\n    //@Entity\r\n    @Audited(withModifiedFlag = true)\r\n    @MappedSuperclass\r\n    public class PartBase extends AuditEntity {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;PART_ID&quot;)\r\n    \tprivate Integer partId;\r\n    \r\n    \t@Column(name = &quot;part_number&quot;)\r\n    \tprivate String partNumber;\r\n    \r\n    \t@Column(name = &quot;part_description&quot;)\r\n    \tprivate String partDescription;\r\n    \r\n    \t@JsonIgnore\r\n    \t@Audited(targetAuditMode = RelationTargetAuditMode.NOT_AUDITED)\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;ESN_ID&quot;, nullable = false)\r\n    \tprivate Esn esn;\r\n    \r\n    \t@Column(name = &quot;quantity&quot;)\r\n    \tprivate String quantity;\r\n    ......}\r\n\r\n    \r\n","title":"How to optimize the JPA query","body":"<p>I have a bottleneck in my code, but not able to optimize the query. The part table has a million records and this method is taking more than a minute to execute.\nAny suggestion on how to rewrite this query so that the execution happens in seconds?</p>\n<pre><code>log.info(&quot;Starting Part Map...&quot;);\n            Map&lt;String, List&lt;Part&gt;&gt; exPartsByPartNumber = partRepo.findAll().stream()\n                    .collect(Collectors.groupingBy(Part::getPartNumber));\n            log.info(&quot;mapped existing parts by pn&quot;);\n</code></pre>\n<hr />\n<p>PartBase.java</p>\n<pre><code>@SuppressWarnings(&quot;serial&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@Builder(toBuilder = true)\n//@Entity\n@Audited(withModifiedFlag = true)\n@MappedSuperclass\npublic class PartBase extends AuditEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;PART_ID&quot;)\n    private Integer partId;\n\n    @Column(name = &quot;part_number&quot;)\n    private String partNumber;\n\n    @Column(name = &quot;part_description&quot;)\n    private String partDescription;\n\n    @JsonIgnore\n    @Audited(targetAuditMode = RelationTargetAuditMode.NOT_AUDITED)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;ESN_ID&quot;, nullable = false)\n    private Esn esn;\n\n    @Column(name = &quot;quantity&quot;)\n    private String quantity;\n......}\n</code></pre>\n"},{"tags":["java","android","opencv","haar-classifier"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1651070049,"post_id":72023653,"comment_id":127275416,"body_markdown":"Resource compilation seems to be a little flaky with recent versions of Android Studio. Have you tried cleaning and rebuilding your project? Maybe also restarting Android Studio? Or even Invalidate caches/Restart?","body":"Resource compilation seems to be a little flaky with recent versions of Android Studio. Have you tried cleaning and rebuilding your project? Maybe also restarting Android Studio? Or even Invalidate caches/Restart?"},{"owner":{"account_id":21539176,"reputation":1,"user_id":17542426,"display_name":"Donut"},"score":1,"creation_date":1651074330,"post_id":72023653,"comment_id":127277134,"body_markdown":"Yes, I restarted my computer and also Android Studio and it seems that it helps me, this problem has been solved. Thanks)","body":"Yes, I restarted my computer and also Android Studio and it seems that it helps me, this problem has been solved. Thanks)"}],"owner":{"account_id":21539176,"reputation":1,"user_id":17542426,"display_name":"Donut"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660240279,"creation_date":1651037214,"question_id":72023653,"body_markdown":"I&#39;d tried to connect with `haarcascade_frontalface_alt` which locates in raw folder by this code \r\n```\r\nInputStream inputStream = context.getResources().openRawResource(R.raw.haarcascade_frontalface_alt);\r\n```\r\nBut, unfortunately, it is not working, it offers me create a new resources file in another folder, but when I do it, it is still not working\r\nCan you help me, please.\r\nThank anybody, who will try to help\r\n[1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BeUYb.png","title":"XML file in the Raw folder doesn&#39;t connect by &quot;openRawResourse&quot;","body":"<p>I'd tried to connect with <code>haarcascade_frontalface_alt</code> which locates in raw folder by this code</p>\n<pre><code>InputStream inputStream = context.getResources().openRawResource(R.raw.haarcascade_frontalface_alt);\n</code></pre>\n<p>But, unfortunately, it is not working, it offers me create a new resources file in another folder, but when I do it, it is still not working\nCan you help me, please.\nThank anybody, who will try to help\n<a href=\"https://i.stack.imgur.com/BeUYb.png\" rel=\"nofollow noreferrer\">1</a></p>\n"},{"tags":["java","spring","azure","azure-functions","spring-cloud-function"],"comments":[{"owner":{"account_id":18059693,"reputation":593,"user_id":13127098,"display_name":"Nakul Goyal"},"score":0,"creation_date":1599843906,"post_id":63850766,"comment_id":112910876,"body_markdown":"What is exactlythe 26th line of HelloHandler.java as mentioned in error log HelloHandler.execute(HelloHandler.java:26) ??","body":"What is exactlythe 26th line of HelloHandler.java as mentioned in error log HelloHandler.execute(HelloHandler.java:26) ??"},{"owner":{"account_id":12864599,"reputation":17,"user_id":9305298,"display_name":"mkb_mc"},"score":0,"creation_date":1599850856,"post_id":63850766,"comment_id":112913425,"body_markdown":"This line is the 26th line : myService.hello(context);","body":"This line is the 26th line : myService.hello(context);"},{"owner":{"account_id":5664429,"reputation":104,"user_id":4480986,"display_name":"Ethan Nguyen"},"score":0,"creation_date":1611019704,"post_id":63850766,"comment_id":116310776,"body_markdown":"@mkb_mc: are you able to retry?","body":"@mkb_mc: are you able to retry?"}],"answers":[{"tags":[],"owner":{"account_id":18279287,"reputation":6958,"user_id":13308381,"display_name":"unknown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600074664,"creation_date":1600074664,"answer_id":63881340,"question_id":63850766,"body_markdown":"Not sure why it does not work, it looks correct. I tried both `@Value` and `System.getenv()` in the demo, they worked well.\r\n\r\nIf you don&#39;t find the key(*VARIABLE*) in your environment variable, you will get this exception\r\n *java.lang.IllegalArgumentException: Could not resolve placeholder &#39;XXX&#39; in string value &quot;${XXX}&quot;*. \r\n\r\nSo it seems to get the NullPointerException in your Method `hello()`, try to debug the method step by step, maybe it will happen at `user.getId()`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cIBSV.png","title":"@Value &amp; @Autowired not working in Azure Functions","body":"<p>Not sure why it does not work, it looks correct. I tried both <code>@Value</code> and <code>System.getenv()</code> in the demo, they worked well.</p>\n<p>If you don't find the key(<em>VARIABLE</em>) in your environment variable, you will get this exception\n<em>java.lang.IllegalArgumentException: Could not resolve placeholder 'XXX' in string value &quot;${XXX}&quot;</em>.</p>\n<p>So it seems to get the NullPointerException in your Method <code>hello()</code>, try to debug the method step by step, maybe it will happen at <code>user.getId()</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/cIBSV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cIBSV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5664429,"reputation":104,"user_id":4480986,"display_name":"Ethan Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610604004,"creation_date":1610604004,"answer_id":65714117,"question_id":63850766,"body_markdown":"You have to declare a bean with the same name with your Azure function. I have my Azure functions with HttpTrigger &amp; TimerTrigger works in the same Spring Cloud Azure function app. Try this\r\n\r\nHelloHandler.java\r\n\r\n    public class HelloHandler extends AzureSpringBootRequestHandler&lt;String, String&gt; {\r\n\r\n        @FunctionName(&quot;hello&quot;)\r\n        public void execute(@TimerTrigger(name = &quot;timerInfo&quot;, schedule = &quot;0 * * * * *&quot;) String timerInfo,\r\n                            final ExecutionContext context){\r\n            context.getLogger().info(&quot;Executing the function...&quot;+variable);    \r\n            context.getLogger().info(System.getenv(&quot;VARIABLE&quot;));               \r\n            super.handleRequest(timerInfo, context);  // this is correct way to invoke your Spring Cloud function.\r\n            context.getLogger().info(&quot;Here I am...&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\nHelloFunction.java\r\n\r\n    @Configuration\r\n    public class HelloFunction {\r\n\r\n        @Autowired\r\n        private MyRepository myRepository;\r\n        \r\n        @Autowired\r\n        private ExecutionContext context;\r\n        \r\n        @Bean\r\n        public Function&lt;String, String&gt; hello() {\r\n            return timerInfo -&gt; {\r\n                List&lt;User&gt; userList = myRepository.findAll();\r\n                for (User user : userList) {\r\n                    context.getLogger().info(&quot;USER: &quot;+user.getId());\r\n                }\r\n                context.getLogger().info(&quot;Process Finished.&quot;);\r\n                return &quot;&quot;;\r\n            };\r\n            \r\n        }\r\n\r\n    }","title":"@Value &amp; @Autowired not working in Azure Functions","body":"<p>You have to declare a bean with the same name with your Azure function. I have my Azure functions with HttpTrigger &amp; TimerTrigger works in the same Spring Cloud Azure function app. Try this</p>\n<p>HelloHandler.java</p>\n<pre><code>public class HelloHandler extends AzureSpringBootRequestHandler&lt;String, String&gt; {\n\n    @FunctionName(&quot;hello&quot;)\n    public void execute(@TimerTrigger(name = &quot;timerInfo&quot;, schedule = &quot;0 * * * * *&quot;) String timerInfo,\n                        final ExecutionContext context){\n        context.getLogger().info(&quot;Executing the function...&quot;+variable);    \n        context.getLogger().info(System.getenv(&quot;VARIABLE&quot;));               \n        super.handleRequest(timerInfo, context);  // this is correct way to invoke your Spring Cloud function.\n        context.getLogger().info(&quot;Here I am...&quot;);\n    }\n}\n</code></pre>\n<p>HelloFunction.java</p>\n<pre><code>@Configuration\npublic class HelloFunction {\n\n    @Autowired\n    private MyRepository myRepository;\n    \n    @Autowired\n    private ExecutionContext context;\n    \n    @Bean\n    public Function&lt;String, String&gt; hello() {\n        return timerInfo -&gt; {\n            List&lt;User&gt; userList = myRepository.findAll();\n            for (User user : userList) {\n                context.getLogger().info(&quot;USER: &quot;+user.getId());\n            }\n            context.getLogger().info(&quot;Process Finished.&quot;);\n            return &quot;&quot;;\n        };\n        \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":12864599,"reputation":17,"user_id":9305298,"display_name":"mkb_mc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1978,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1660240244,"creation_date":1599841043,"question_id":63850766,"body_markdown":"I am writing an @TimerTrigger function in Azure Functions. To do so, I used Spring Cloud Function for Azure. The problem is I am getting a null pointer exception every time when I access the Service or JPARepository. Also the @Value(&quot;${VARIABLE}&quot;) gives null but the System.getenv(&quot;VARIABLE&quot;) does provide the value.\r\n\r\nThe code Main.Java is:\r\n```\r\n@SpringBootApplication\r\n@EnableJpaRepositories(&quot;com.xyz.*&quot;)\r\n@ComponentScan(basePackages = &quot;com.xyz.*&quot;)\r\n@EntityScan(&quot;com.xyz.*&quot;)\r\npublic class Scheduler {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        SpringApplication.run(Scheduler.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public void hello() {}\r\n}\r\n```\r\n\r\nThe Function HelloHandler.java File is:\r\n```\r\n@Component\r\npublic class HelloHandler extends AzureSpringBootRequestHandler&lt;Void, Void&gt; {\r\n\r\n    @Autowired\r\n    MyService myService;\r\n\r\n    @Value(&quot;${VARIABLE}&quot;)\r\n    private String variable;\r\n\r\n    @FunctionName(&quot;hello&quot;)\r\n    public void execute(@TimerTrigger(name = &quot;timerInfo&quot;, schedule = &quot;0 * * * * *&quot;) String timerInfo,\r\n                        final ExecutionContext context){\r\n        context.getLogger().info(&quot;Executing the function...&quot;+variable);    // this gives null.\r\n        context.getLogger().info(System.getenv(&quot;VARIABLE&quot;));               // this does provide value.\r\n        myService.hello(context);                                          // null pointer exception here.\r\n        context.getLogger().info(&quot;Here I am...&quot;);\r\n    }\r\n}\r\n```\r\nService MyService.Java is:\r\n```\r\n@Service\r\npublic class MyServiceImpl implements MyService {\r\n\r\n    @Autowired\r\n    private MyRepository myRepository;\r\n\r\n    public void hello(ExecutionContext context) {\r\n        List&lt;User&gt; userList = myRepository.findAll();\r\n        for (User user : userList) {\r\n            context.getLogger().info(&quot;USER: &quot;+user.getId());\r\n        }\r\n\r\n        context.getLogger().info(&quot;Process Finished.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI am using below dependencies:\r\n```\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-function-adapter-azure --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-function-adapter-azure&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-function-web --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-function-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nIt gives exception as:\r\n```\r\nExecuted &#39;Functions.hello&#39; (Failed, Id=90714488-b07a-41ac-ae37-d120a1a8e732, Duration=372ms)\r\nSystem.Private.CoreLib: Exception while executing function: Functions.hello. System.Private.CoreLib: Result: Failure\r\nException: NullPointerException: \r\nStack: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.microsoft.azure.functions.worker.broker.JavaMethodInvokeInfo.invoke(JavaMethodInvokeInfo.java:22)\r\n\tat com.microsoft.azure.functions.worker.broker.JavaMethodExecutorImpl.execute(JavaMethodExecutorImpl.java:54)\r\n\tat com.microsoft.azure.functions.worker.broker.JavaFunctionBroker.invokeMethod(JavaFunctionBroker.java:57)\r\n\tat com.microsoft.azure.functions.worker.handler.InvocationRequestHandler.execute(InvocationRequestHandler.java:33)\r\n\tat com.microsoft.azure.functions.worker.handler.InvocationRequestHandler.execute(InvocationRequestHandler.java:10)\r\n\tat com.microsoft.azure.functions.worker.handler.MessageHandler.handle(MessageHandler.java:45)\r\n\tat com.microsoft.azure.functions.worker.JavaWorkerClient$StreamingMessagePeer.lambda$onNext$0(JavaWorkerClient.java:92)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.NullPointerException\r\n\tat com.xyz.scheduler.HelloHandler.execute(HelloHandler.java:26)\r\n\t... 16 more\r\n.\r\n\r\n```\r\n\r\nI don&#39;t understand why it&#39;s not working with all the Spring features as expected.","title":"@Value &amp; @Autowired not working in Azure Functions","body":"<p>I am writing an @TimerTrigger function in Azure Functions. To do so, I used Spring Cloud Function for Azure. The problem is I am getting a null pointer exception every time when I access the Service or JPARepository. Also the @Value(&quot;${VARIABLE}&quot;) gives null but the System.getenv(&quot;VARIABLE&quot;) does provide the value.</p>\n<p>The code Main.Java is:</p>\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories(&quot;com.xyz.*&quot;)\n@ComponentScan(basePackages = &quot;com.xyz.*&quot;)\n@EntityScan(&quot;com.xyz.*&quot;)\npublic class Scheduler {\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(Scheduler.class, args);\n    }\n\n    @Bean\n    public void hello() {}\n}\n</code></pre>\n<p>The Function HelloHandler.java File is:</p>\n<pre><code>@Component\npublic class HelloHandler extends AzureSpringBootRequestHandler&lt;Void, Void&gt; {\n\n    @Autowired\n    MyService myService;\n\n    @Value(&quot;${VARIABLE}&quot;)\n    private String variable;\n\n    @FunctionName(&quot;hello&quot;)\n    public void execute(@TimerTrigger(name = &quot;timerInfo&quot;, schedule = &quot;0 * * * * *&quot;) String timerInfo,\n                        final ExecutionContext context){\n        context.getLogger().info(&quot;Executing the function...&quot;+variable);    // this gives null.\n        context.getLogger().info(System.getenv(&quot;VARIABLE&quot;));               // this does provide value.\n        myService.hello(context);                                          // null pointer exception here.\n        context.getLogger().info(&quot;Here I am...&quot;);\n    }\n}\n</code></pre>\n<p>Service MyService.Java is:</p>\n<pre><code>@Service\npublic class MyServiceImpl implements MyService {\n\n    @Autowired\n    private MyRepository myRepository;\n\n    public void hello(ExecutionContext context) {\n        List&lt;User&gt; userList = myRepository.findAll();\n        for (User user : userList) {\n            context.getLogger().info(&quot;USER: &quot;+user.getId());\n        }\n\n        context.getLogger().info(&quot;Process Finished.&quot;);\n    }\n}\n</code></pre>\n<p>I am using below dependencies:</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-function-adapter-azure --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-adapter-azure&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-function-web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-function-web&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>It gives exception as:</p>\n<pre><code>Executed 'Functions.hello' (Failed, Id=90714488-b07a-41ac-ae37-d120a1a8e732, Duration=372ms)\nSystem.Private.CoreLib: Exception while executing function: Functions.hello. System.Private.CoreLib: Result: Failure\nException: NullPointerException: \nStack: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.microsoft.azure.functions.worker.broker.JavaMethodInvokeInfo.invoke(JavaMethodInvokeInfo.java:22)\n    at com.microsoft.azure.functions.worker.broker.JavaMethodExecutorImpl.execute(JavaMethodExecutorImpl.java:54)\n    at com.microsoft.azure.functions.worker.broker.JavaFunctionBroker.invokeMethod(JavaFunctionBroker.java:57)\n    at com.microsoft.azure.functions.worker.handler.InvocationRequestHandler.execute(InvocationRequestHandler.java:33)\n    at com.microsoft.azure.functions.worker.handler.InvocationRequestHandler.execute(InvocationRequestHandler.java:10)\n    at com.microsoft.azure.functions.worker.handler.MessageHandler.handle(MessageHandler.java:45)\n    at com.microsoft.azure.functions.worker.JavaWorkerClient$StreamingMessagePeer.lambda$onNext$0(JavaWorkerClient.java:92)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.NullPointerException\n    at com.xyz.scheduler.HelloHandler.execute(HelloHandler.java:26)\n    ... 16 more\n.\n\n</code></pre>\n<p>I don't understand why it's not working with all the Spring features as expected.</p>\n"},{"tags":["java","node.js","scala","encryption","cryptography"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1660227883,"post_id":73321600,"comment_id":129487565,"body_markdown":"The first snippet does not seem to be Java, but Scala.","body":"The first snippet does not seem to be Java, but Scala."},{"owner":{"account_id":3844237,"reputation":1040,"user_id":3186358,"accept_rate":67,"display_name":"ekclone"},"score":0,"creation_date":1660228218,"post_id":73321600,"comment_id":129487692,"body_markdown":"@Topaco yes my bad, I just realized that I wrote Java instead","body":"@Topaco yes my bad, I just realized that I wrote Java instead"}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660232014,"creation_date":1660232014,"answer_id":73323371,"question_id":73321600,"body_markdown":"The encoding of `id1`, `id2`, `id3` and `buffer`/`key` differs in both codes. In the Scala code, the `getBytes` method is applied, which uses the default platform encoding. In the NodeJS code the same encoding must be applied instead of Base64.&lt;br&gt;\r\nE.g. assuming that the default platform encoding in the Java environment is UTF-8:\r\n\r\n```js\r\nconst id1 = Buffer.from(&#39;1001&#39;, &#39;utf8&#39;);\r\nconst id2 = Buffer.from(&#39;2002&#39;, &#39;utf8&#39;);\r\nconst id3 = Buffer.from(&#39;3003&#39;, &#39;utf8&#39;);\r\nconst buffer = Buffer.from(&quot;very-secret-key&quot;, &#39;utf8&#39;);\r\n```\r\n\r\nFurthermore, the NodeJS code is missing the `update()` calls that pass the `id1`, `id2` and `id3` data. Also, for the encoding of the HMAC Base64url must be used instead of Base64 to be compatible with the Scala code:\r\n\r\n```js\r\nconst token = crypto.createHmac(&#39;sha256&#39;, buffer)\r\n  .update(id1)\r\n  .update(id2)\r\n  .update(id3)\r\n  .digest(&#39;base64url&#39;);\r\n```\r\n\r\nSince the Base64url alphabet does not contain `.`, the `replace(&#39;.&#39;, &#39;&#39;)` call is actually not necessary (neither in the Scala nor in the NodeJS code).\r\n\r\nWith these changes, both codes return the same HMAC for the same input data, e.g. for the posted inut data `B5WtlMrLxvMMcDqxOls0-qxqGW2bbaOanXLE7RaXAbA` (assuming UTF-8 as default platform encoding in the Java environment).","title":"Converting Scala hmacSHA256 encryption to Nodejs crypto","body":"<p>The encoding of <code>id1</code>, <code>id2</code>, <code>id3</code> and <code>buffer</code>/<code>key</code> differs in both codes. In the Scala code, the <code>getBytes</code> method is applied, which uses the default platform encoding. In the NodeJS code the same encoding must be applied instead of Base64.<br>\nE.g. assuming that the default platform encoding in the Java environment is UTF-8:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const id1 = Buffer.from('1001', 'utf8');\nconst id2 = Buffer.from('2002', 'utf8');\nconst id3 = Buffer.from('3003', 'utf8');\nconst buffer = Buffer.from(&quot;very-secret-key&quot;, 'utf8');\n</code></pre>\n<p>Furthermore, the NodeJS code is missing the <code>update()</code> calls that pass the <code>id1</code>, <code>id2</code> and <code>id3</code> data. Also, for the encoding of the HMAC Base64url must be used instead of Base64 to be compatible with the Scala code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const token = crypto.createHmac('sha256', buffer)\n  .update(id1)\n  .update(id2)\n  .update(id3)\n  .digest('base64url');\n</code></pre>\n<p>Since the Base64url alphabet does not contain <code>.</code>, the <code>replace('.', '')</code> call is actually not necessary (neither in the Scala nor in the NodeJS code).</p>\n<p>With these changes, both codes return the same HMAC for the same input data, e.g. for the posted inut data <code>B5WtlMrLxvMMcDqxOls0-qxqGW2bbaOanXLE7RaXAbA</code> (assuming UTF-8 as default platform encoding in the Java environment).</p>\n"}],"owner":{"account_id":3844237,"reputation":1040,"user_id":3186358,"accept_rate":67,"display_name":"ekclone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73323371,"answer_count":1,"score":2,"last_activity_date":1660239201,"creation_date":1660224794,"question_id":73321600,"body_markdown":"I&#39;ve this encryption method in Scala, which I want to convert to NodeJS for a microservice:\r\n\r\n```scala\r\nval key = &quot;very-secret-key&quot;\r\nval id1 = &quot;1001&quot;\r\nval id2 = &quot;2002&quot;\r\nval id3 = &quot;3003&quot;\r\n\r\nval mac = Mac.getInstance(&quot;hmacSHA256&quot;)\r\nmac.init(new SecretKeySpec(key.getBytes, &quot;hmacSHA256&quot;))\r\nval digest = mac.doFinal(id1.getBytes ++ id2.getBytes ++ id3.getBytes)\r\n\r\nnew String(UrlBase64.encode(digest)).replace(&quot;.&quot;, &quot;&quot;)\r\n```\r\n\r\ntried to do this with `createHmac` from `crypto` and converting to Bytes with `Buffer` but the output token is not the same as in the one I generate in Java\r\n\r\n```js\r\nimport { createHmac } from &#39;crypto&#39;;\r\n\r\nconst id1 = Buffer.from(&#39;1001&#39;, &#39;base64&#39;);\r\nconst id2 = Buffer.from(&#39;2002&#39;, &#39;base64&#39;);\r\nconst id3 = Buffer.from(&#39;3003&#39;, &#39;base64&#39;);\r\n\r\nconst buffer = Buffer.from(&quot;very-secret-key&quot;, &#39;base64&#39;);\r\nconst token = createHmac(&#39;sha256&#39;, buffer).digest(&#39;base64&#39;).replace(&#39;.&#39;, &#39;&#39;);\r\n```\r\n\r\nI&#39;m stuck trying to figure how to add the buffer bytes to the token `mac.doFinal(id1.getBytes ++ id2.getBytes ++ id3.getBytes)`","title":"Converting Scala hmacSHA256 encryption to Nodejs crypto","body":"<p>I've this encryption method in Scala, which I want to convert to NodeJS for a microservice:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val key = &quot;very-secret-key&quot;\nval id1 = &quot;1001&quot;\nval id2 = &quot;2002&quot;\nval id3 = &quot;3003&quot;\n\nval mac = Mac.getInstance(&quot;hmacSHA256&quot;)\nmac.init(new SecretKeySpec(key.getBytes, &quot;hmacSHA256&quot;))\nval digest = mac.doFinal(id1.getBytes ++ id2.getBytes ++ id3.getBytes)\n\nnew String(UrlBase64.encode(digest)).replace(&quot;.&quot;, &quot;&quot;)\n</code></pre>\n<p>tried to do this with <code>createHmac</code> from <code>crypto</code> and converting to Bytes with <code>Buffer</code> but the output token is not the same as in the one I generate in Java</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { createHmac } from 'crypto';\n\nconst id1 = Buffer.from('1001', 'base64');\nconst id2 = Buffer.from('2002', 'base64');\nconst id3 = Buffer.from('3003', 'base64');\n\nconst buffer = Buffer.from(&quot;very-secret-key&quot;, 'base64');\nconst token = createHmac('sha256', buffer).digest('base64').replace('.', '');\n</code></pre>\n<p>I'm stuck trying to figure how to add the buffer bytes to the token <code>mac.doFinal(id1.getBytes ++ id2.getBytes ++ id3.getBytes)</code></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660238475,"creation_date":1660238133,"answer_id":73324593,"question_id":73324537,"body_markdown":"Because your version java not 7. You need download java 7 and set the path to it for JAVA_HOME or [setting JDK in Eclipse][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13635563/setting-jdk-in-eclipse","title":"Java jre 1.7 error: java.lang.NoSuchMethodError: java.nio.IntBuffer.clear()Ljava/nio/IntBuffer;","body":"<p>Because your version java not 7. You need download java 7 and set the path to it for JAVA_HOME or <a href=\"https://stackoverflow.com/questions/13635563/setting-jdk-in-eclipse\">setting JDK in Eclipse</a></p>\n"}],"owner":{"account_id":25545105,"reputation":1,"user_id":19330554,"display_name":"Jos&#233; Martins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660238475,"creation_date":1660237790,"question_id":73324537,"body_markdown":"I am trying to run a java applet exported by eclipse, but when I try to run, I get this weird output error:\r\n\r\n    Exception in thread &quot;Minecraft main thread&quot; java.lang.NoSuchMethodError: java.nio.IntBuffer.clear()Ljava/nio/IntBuffer;\r\n\tat net.minecraft.src.RenderEngine.setupTextureExt(RenderEngine.java:262)\r\n\tat net.minecraft.src.RenderEngine.getTexture(RenderEngine.java:192)\r\n\tat net.minecraft.src.RenderEngine.bindTexture(RenderEngine.java:126)\r\n\tat net.minecraft.client.Minecraft.loadScreen(Minecraft.java:491)\r\n\tat net.minecraft.client.Minecraft.startGame(Minecraft.java:403)\r\n\tat net.minecraft.src.MinecraftAppletImpl.startGame(MinecraftAppletImpl.java:41)\r\n\tat net.minecraft.client.Minecraft.run(Minecraft.java:726)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\nWhen I run on eclipse the applet start, but the compiled applet can&#39;t be run.\r\n\r\nThank you","title":"Java jre 1.7 error: java.lang.NoSuchMethodError: java.nio.IntBuffer.clear()Ljava/nio/IntBuffer;","body":"<p>I am trying to run a java applet exported by eclipse, but when I try to run, I get this weird output error:</p>\n<pre><code>Exception in thread &quot;Minecraft main thread&quot; java.lang.NoSuchMethodError: java.nio.IntBuffer.clear()Ljava/nio/IntBuffer;\nat net.minecraft.src.RenderEngine.setupTextureExt(RenderEngine.java:262)\nat net.minecraft.src.RenderEngine.getTexture(RenderEngine.java:192)\nat net.minecraft.src.RenderEngine.bindTexture(RenderEngine.java:126)\nat net.minecraft.client.Minecraft.loadScreen(Minecraft.java:491)\nat net.minecraft.client.Minecraft.startGame(Minecraft.java:403)\nat net.minecraft.src.MinecraftAppletImpl.startGame(MinecraftAppletImpl.java:41)\nat net.minecraft.client.Minecraft.run(Minecraft.java:726)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>When I run on eclipse the applet start, but the compiled applet can't be run.</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":3302877,"reputation":248,"user_id":2778563,"display_name":"trinadh"},"score":0,"creation_date":1660234481,"post_id":73323832,"comment_id":129490214,"body_markdown":"Did you try any migration frameworks Flyway/Liquibase? Instead of using this spring.jpa.hibernate.ddl-auto=create \nYou can create scripts and put in the Migration directory, Flyway/Liquibase should be able to create in any environment along with your functions, custom types","body":"Did you try any migration frameworks Flyway/Liquibase? Instead of using this spring.jpa.hibernate.ddl-auto=create  You can create scripts and put in the Migration directory, Flyway/Liquibase should be able to create in any environment along with your functions, custom types"}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660237706,"creation_date":1660237706,"answer_id":73324524,"question_id":73323832,"body_markdown":"You can add an `import.sql` file in your classpath.\r\nHibernate will create the schema and then run it on the selected db.\r\n\r\n[You can find more details in the documentation][1].\r\n\r\nNote though that the main purpose for schema generation in Hibernate is prototyping or testing.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#schema-generation","title":"JPA/Hibernate automatically create/validate database functions","body":"<p>You can add an <code>import.sql</code> file in your classpath.\nHibernate will create the schema and then run it on the selected db.</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#schema-generation\" rel=\"nofollow noreferrer\">You can find more details in the documentation</a>.</p>\n<p>Note though that the main purpose for schema generation in Hibernate is prototyping or testing.</p>\n"}],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660237706,"creation_date":1660234059,"question_id":73323832,"body_markdown":"Is there any way to automatically create database functions using jpa/hibernate when i use `spring.jpa.hibernate.ddl-auto=create` ?\r\n\r\nI&#39;ve a number of custom functions (defined in a separated script file in the project) I use on my custom `@Query` in my repositories, but those functions needed to be create manually\r\n\r\nYou might think &quot;what is the problem just run the script after created the database&quot; but this must be done for every environment of the system: dev, test, prod... also it makes impossible to automatically test using in memory database (since when i hit run junit creates the database, hibernate creates the tables in the database, but nobody creates the functions so the repository wont work properly)\r\n\r\nSo how can I automatically create custom database functions using jpa/hibernate","title":"JPA/Hibernate automatically create/validate database functions","body":"<p>Is there any way to automatically create database functions using jpa/hibernate when i use <code>spring.jpa.hibernate.ddl-auto=create</code> ?</p>\n<p>I've a number of custom functions (defined in a separated script file in the project) I use on my custom <code>@Query</code> in my repositories, but those functions needed to be create manually</p>\n<p>You might think &quot;what is the problem just run the script after created the database&quot; but this must be done for every environment of the system: dev, test, prod... also it makes impossible to automatically test using in memory database (since when i hit run junit creates the database, hibernate creates the tables in the database, but nobody creates the functions so the repository wont work properly)</p>\n<p>So how can I automatically create custom database functions using jpa/hibernate</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":3046231,"reputation":1917,"user_id":2581809,"display_name":"Ekeko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660237236,"creation_date":1660237236,"answer_id":73324432,"question_id":73314038,"body_markdown":"I guess you know that you can do anything you want, like waiting and checking for timestamps, if you use a lower level API (like consumer/producer).\r\n\r\nWith a higher level API, `join` is indeed what I know to force such synchronization between streams and, using a `transform` that accesses the store removes this possibility, as you described.\r\n\r\nWhat you could do is not do everything in a single `transform`. Instead, `transform` your stream by just enriching the message with explicit fields for the headers you need. Then apply a `join` with the `KTable` you mentioned (where you can access all headers because they are now part of the message).","title":"Wait for store to load when using KStream.transform","body":"<p>I guess you know that you can do anything you want, like waiting and checking for timestamps, if you use a lower level API (like consumer/producer).</p>\n<p>With a higher level API, <code>join</code> is indeed what I know to force such synchronization between streams and, using a <code>transform</code> that accesses the store removes this possibility, as you described.</p>\n<p>What you could do is not do everything in a single <code>transform</code>. Instead, <code>transform</code> your stream by just enriching the message with explicit fields for the headers you need. Then apply a <code>join</code> with the <code>KTable</code> you mentioned (where you can access all headers because they are now part of the message).</p>\n"}],"owner":{"account_id":26033460,"reputation":13,"user_id":19739267,"display_name":"Piparo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73324432,"answer_count":1,"score":1,"last_activity_date":1660237236,"creation_date":1660177503,"question_id":73314038,"body_markdown":"The problem I want to solve starts as a basic one: I want to enrich some stream message with data available in some other stream. When I start the application I want to make sure the secondary stream is loaded so I don&#39;t start reading from some empty storage. A `KTable`&#160;solves this problem when I `join` my stream with it as there is a correlation/sync between timestamps of both sources.\r\n\r\nThe problem is that I need access to the message headers which I don&#39;t get in a `join` operation. So it seems to me I cannot use a `join` but need to use a&#160;different operation, like a `transform`. There I can get the headers and inspect a store. This store is fed&#160;by the secondary topic (that I was previously using to feed the `KTable`).\r\n\r\nThe problem now: how do I wait for the store to load before processing new messages? Or, in other words, since there is no explicit relationship between the two topics (like there was when using a `KTable`), if I start the application for the first time, when I receive a first message in the primary stream and try to find correlated data in the store (fed by the secondary stream) I will find nothing. How do I avoid this problem?","title":"Wait for store to load when using KStream.transform","body":"<p>The problem I want to solve starts as a basic one: I want to enrich some stream message with data available in some other stream. When I start the application I want to make sure the secondary stream is loaded so I don't start reading from some empty storage. A <code>KTable</code> solves this problem when I <code>join</code> my stream with it as there is a correlation/sync between timestamps of both sources.</p>\n<p>The problem is that I need access to the message headers which I don't get in a <code>join</code> operation. So it seems to me I cannot use a <code>join</code> but need to use a different operation, like a <code>transform</code>. There I can get the headers and inspect a store. This store is fed by the secondary topic (that I was previously using to feed the <code>KTable</code>).</p>\n<p>The problem now: how do I wait for the store to load before processing new messages? Or, in other words, since there is no explicit relationship between the two topics (like there was when using a <code>KTable</code>), if I start the application for the first time, when I receive a first message in the primary stream and try to find correlated data in the store (fed by the secondary stream) I will find nothing. How do I avoid this problem?</p>\n"},{"tags":["java","uml","class-diagram","argouml"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1660238209,"post_id":73324185,"comment_id":129491519,"body_markdown":"It probably has more to do with Argo than Java.  You might want to reach out to them to see if it&#39;s a bug in their tools.","body":"It probably has more to do with Argo than Java.  You might want to reach out to them to see if it&#39;s a bug in their tools."},{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":0,"creation_date":1660246958,"post_id":73324185,"comment_id":129494028,"body_markdown":"I&#39;d say: Argo is dead. It was more a zombie than alive when I fiddled with it 20 years ago. A bug report I sent was worked on 5 years (or was it 7?) later. You might want to look for alternative UML modeling tools.","body":"I&#39;d say: Argo is dead. It was more a zombie than alive when I fiddled with it 20 years ago. A bug report I sent was worked on 5 years (or was it 7?) later. You might want to look for alternative UML modeling tools."},{"owner":{"account_id":18733392,"reputation":1153,"user_id":13658281,"display_name":"lbarqueira"},"score":0,"creation_date":1660249806,"post_id":73324185,"comment_id":129494864,"body_markdown":"@qwerty_so I did not find a free UML modeling tool, which auto generates Class Diagrams from Java code. However, Argo still accomplishes its job!!!","body":"@qwerty_so I did not find a free UML modeling tool, which auto generates Class Diagrams from Java code. However, Argo still accomplishes its job!!!"},{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":1,"creation_date":1660251341,"post_id":73324185,"comment_id":129495286,"body_markdown":"But obviously not in all cases ;-)","body":"But obviously not in all cases ;-)"}],"owner":{"account_id":18733392,"reputation":1153,"user_id":13658281,"display_name":"lbarqueira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1660237143,"creation_date":1660235862,"question_id":73324185,"body_markdown":"I am using ArgoUML to generate automatically Class diagrams from Java code. \r\n\r\nFor that purpose, on ArgoUML, I`m doing: File -&gt; Import Sources -&gt; (I select the java files)\r\n\r\nThe problem is that if I have an association, the link between classes that I would expect in the Class Diagram doesn`t appear.\r\n\r\nA Java code example that should show (in AgroUML) an association between the Flyable interface and the HotPursuit Class, but it does not show after auto class diagram generation: \r\n\r\n```\r\npublic class HotPursuit {\r\n  Flyable[] chasers;\r\n  int _size;\r\n\r\n  public HotPursuit(int size) {\r\n     chasers =  new Flyable[size];\r\n     this._size = size;\r\n  }\r\n\r\n  public void chase() {\r\n    for(int i = 0; i &lt; _size; i++) {\r\n      chasers[i].fly();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n```\r\npublic interface Flyable {\r\n  public abstract void fly();\r\n}\r\n```\r\n\r\n\r\nAny way to solve this issue?\r\nThanks","title":"Class Diagram generation from java code using ArgoUML not showing associations","body":"<p>I am using ArgoUML to generate automatically Class diagrams from Java code.</p>\n<p>For that purpose, on ArgoUML, I`m doing: File -&gt; Import Sources -&gt; (I select the java files)</p>\n<p>The problem is that if I have an association, the link between classes that I would expect in the Class Diagram doesn`t appear.</p>\n<p>A Java code example that should show (in AgroUML) an association between the Flyable interface and the HotPursuit Class, but it does not show after auto class diagram generation:</p>\n<pre><code>public class HotPursuit {\n  Flyable[] chasers;\n  int _size;\n\n  public HotPursuit(int size) {\n     chasers =  new Flyable[size];\n     this._size = size;\n  }\n\n  public void chase() {\n    for(int i = 0; i &lt; _size; i++) {\n      chasers[i].fly();\n    }\n  }\n}\n</code></pre>\n<pre><code>public interface Flyable {\n  public abstract void fly();\n}\n</code></pre>\n<p>Any way to solve this issue?\nThanks</p>\n"},{"tags":["java","intellij-idea","autocomplete"],"comments":[{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1403019679,"post_id":24266917,"comment_id":37491659,"body_markdown":"It&#39;s quicker to type the word List than Li and select an option from a list... :)","body":"It&#39;s quicker to type the word List than Li and select an option from a list... :)"},{"owner":{"account_id":143651,"reputation":19969,"user_id":352131,"accept_rate":77,"display_name":"Durandal"},"score":0,"creation_date":1403027049,"post_id":24266917,"comment_id":37495881,"body_markdown":"Javadoc and imports are completely unrelated. The only way to unambigously refer to a class is by fully qualified name.","body":"Javadoc and imports are completely unrelated. The only way to unambigously refer to a class is by fully qualified name."},{"owner":{"account_id":534709,"reputation":5607,"user_id":1031534,"accept_rate":88,"display_name":"beruic"},"score":0,"creation_date":1403085464,"post_id":24266917,"comment_id":37519275,"body_markdown":"@Durandal It may be a bit ambigous at times, but it&#39;s more readable, and IntelliJ knows which one is the right one, when I press `[Crtl]+[B]` or `[Crtl]+[Q]` :)","body":"@Durandal It may be a bit ambigous at times, but it&#39;s more readable, and IntelliJ knows which one is the right one, when I press <code>[Crtl]+[B]</code> or <code>[Crtl]+[Q]</code> :)"}],"answers":[{"tags":[],"owner":{"account_id":1432485,"reputation":10153,"user_id":1354590,"accept_rate":100,"display_name":"kuporific"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1403042430,"creation_date":1403041986,"answer_id":24273917,"question_id":24266917,"body_markdown":"In `Preferences &gt; Code Style &gt; Java &gt; Imports`, uncheck &quot;Use fully qualified class names&quot;\r\n\r\n![Uncheck &#39;Use fully qualified class names&#39;][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/2CGl0.png","title":"How to make IntelliJ autocompletion NOT insert the full path in Javadoc","body":"<p>In <code>Preferences &gt; Code Style &gt; Java &gt; Imports</code>, uncheck \"Use fully qualified class names\"</p>\n\n<p><img src=\"https://i.stack.imgur.com/2CGl0.png\" alt=\"Uncheck &#39;Use fully qualified class names&#39;\"></p>\n"},{"tags":[],"owner":{"account_id":534709,"reputation":5607,"user_id":1031534,"accept_rate":88,"display_name":"beruic"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1403085176,"creation_date":1403085176,"answer_id":24282445,"question_id":24266917,"body_markdown":"In `Preferences &gt; Code Style &gt; Java &gt; Imports`, uncheck &quot;Use fully qualified class names in javadoc&quot;.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/9W0YT.png","title":"How to make IntelliJ autocompletion NOT insert the full path in Javadoc","body":"<p>In <code>Preferences &gt; Code Style &gt; Java &gt; Imports</code>, uncheck \"Use fully qualified class names in javadoc\".</p>\n\n<p><img src=\"https://i.stack.imgur.com/9W0YT.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":1386556,"reputation":7199,"user_id":1318479,"accept_rate":88,"display_name":"cb4"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1660237097,"creation_date":1660237097,"answer_id":73324401,"question_id":24266917,"body_markdown":"## 2022 UPDATE ##\r\nIntellij added a third, smarter option in `File | Settings | Editor | Code Style | Java | Imports`. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vwqAh.jpg","title":"How to make IntelliJ autocompletion NOT insert the full path in Javadoc","body":"<h2>2022 UPDATE</h2>\n<p>Intellij added a third, smarter option in <code>File | Settings | Editor | Code Style | Java | Imports</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/vwqAh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vwqAh.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":534709,"reputation":5607,"user_id":1031534,"accept_rate":88,"display_name":"beruic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6490,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":24282445,"answer_count":3,"score":27,"last_activity_date":1660237097,"creation_date":1403016644,"question_id":24266917,"body_markdown":"My problem is that every time I insert a `@link` or similar in my Javadoc and complete a class, it inserts the full package path in front of it, even thought the class is already imported. For example if I have\r\n\r\n    import java.util.List;\r\nand I write `{@link Li` in some Javadoc, and then completes that by choosing `List&lt;E&gt;` in the popup that appears, it still completes it to `{@link java.util.List}`. I&#39;d actually prefer it to be `{@link List}` in any case, and then have the class imported automatically in any case. Event though I don&#39;t need it in the code.\r\n\r\nNow why is that? Well, I read the Javadoc in my Java files, I rarely read my imports.\r\n\r\nI use IntelliJ IDEA 13.1.3.","title":"How to make IntelliJ autocompletion NOT insert the full path in Javadoc","body":"<p>My problem is that every time I insert a <code>@link</code> or similar in my Javadoc and complete a class, it inserts the full package path in front of it, even thought the class is already imported. For example if I have</p>\n\n<pre><code>import java.util.List;\n</code></pre>\n\n<p>and I write <code>{@link Li</code> in some Javadoc, and then completes that by choosing <code>List&lt;E&gt;</code> in the popup that appears, it still completes it to <code>{@link java.util.List}</code>. I'd actually prefer it to be <code>{@link List}</code> in any case, and then have the class imported automatically in any case. Event though I don't need it in the code.</p>\n\n<p>Now why is that? Well, I read the Javadoc in my Java files, I rarely read my imports.</p>\n\n<p>I use IntelliJ IDEA 13.1.3.</p>\n"},{"tags":["java","android","string","list","arraylist"],"comments":[{"owner":{"account_id":8082223,"reputation":234,"user_id":6090993,"display_name":"Julius Zaldokas"},"score":0,"creation_date":1530094578,"post_id":51060141,"comment_id":89110314,"body_markdown":"How do you output the list?","body":"How do you output the list?"},{"owner":{"account_id":7649524,"reputation":333,"user_id":5798856,"display_name":"Efthimis_28"},"score":0,"creation_date":1530094767,"post_id":51060141,"comment_id":89110423,"body_markdown":"How is the language list formatted?","body":"How is the language list formatted?"},{"owner":{"account_id":13640858,"reputation":3,"user_id":9840893,"display_name":"Ram Trans"},"score":0,"creation_date":1530095035,"post_id":51060141,"comment_id":89110586,"body_markdown":"after putting `langList` to JSONObject","body":"after putting <code>langList</code> to JSONObject"}],"answers":[{"tags":[],"owner":{"account_id":13785918,"reputation":309,"user_id":9949857,"display_name":"Ravi Patel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1530095474,"creation_date":1530094746,"answer_id":51060273,"question_id":51060141,"body_markdown":"Add double quotes for items using this:   \r\n\r\n\r\n        List&lt;String&gt; langList = new ArrayList&lt;&gt;();\r\n        for (Language obj : language) {\r\n            langList.add(&#39;&quot;&#39;+obj.getCode()+&#39;&quot;&#39;);\r\n        }","title":"List item with double quotes","body":"<p>Add double quotes for items using this:   </p>\n\n<pre><code>    List&lt;String&gt; langList = new ArrayList&lt;&gt;();\n    for (Language obj : language) {\n        langList.add('\"'+obj.getCode()+'\"');\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10895208,"reputation":5019,"user_id":8009433,"display_name":"Navneet Krishna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530094752,"creation_date":1530094752,"answer_id":51060280,"question_id":51060141,"body_markdown":"try this\r\n\r\n    List&lt;String&gt; langList = new ArrayList&lt;&gt;();\r\n    for (Language obj : language) {\r\n        langList.add(&#39;&quot;&#39;+obj.getCode()+&#39;&quot;&#39;);\r\n    }","title":"List item with double quotes","body":"<p>try this</p>\n\n<pre><code>List&lt;String&gt; langList = new ArrayList&lt;&gt;();\nfor (Language obj : language) {\n    langList.add('\"'+obj.getCode()+'\"');\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11260438,"reputation":5143,"user_id":8258942,"accept_rate":0,"display_name":"Nitin Bisht"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530094929,"creation_date":1530094929,"answer_id":51060343,"question_id":51060141,"body_markdown":"You can simply use:\r\n\r\n    langList.add(&#39;&quot;&#39; + obj.getCode() + &#39;&quot;&#39;);","title":"List item with double quotes","body":"<p>You can simply use:</p>\n\n<pre><code>langList.add('\"' + obj.getCode() + '\"');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":218061,"reputation":6484,"user_id":474193,"display_name":"sunil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1530096836,"creation_date":1530096836,"answer_id":51060985,"question_id":51060141,"body_markdown":"I have added an extra &quot; to both sides before adding them to the list. PFB the code snippet.\r\n\r\n    String array[] = new String[] {&quot;en&quot;,&quot;ta&quot;, &quot;hi&quot;};\r\n\tList&lt;String&gt; langList = new ArrayList&lt;&gt;();\r\n\tfor (String item : array) {\r\n\t\tlangList.add(&quot;\\&quot;&quot;+item+&quot;\\&quot;&quot;);\r\n\t}\r\n\t\r\n\tSystem.out.println(&quot;langList: &quot;+ langList);\r\n\t\r\n\ttry {\r\n\t\tJSONArray jsonObject = new JSONArray(langList.toString());\r\n\t\tSystem.out.println(&quot;jsonObject: &quot;+jsonObject);\r\n\t} catch (JSONException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nI could see below logs in console.\r\n\r\n\tlangList: [&quot;en&quot;, &quot;ta&quot;, &quot;hi&quot;]\r\n\tjsonObject: [&quot;en&quot;,&quot;ta&quot;,&quot;hi&quot;]\r\n\r\nHope this helps.\r\n\r\nNote: Used `org.json.JSONArray` and `org.json.JSONException` classes in above code.","title":"List item with double quotes","body":"<p>I have added an extra \" to both sides before adding them to the list. PFB the code snippet.</p>\n\n<pre><code>String array[] = new String[] {\"en\",\"ta\", \"hi\"};\nList&lt;String&gt; langList = new ArrayList&lt;&gt;();\nfor (String item : array) {\n    langList.add(\"\\\"\"+item+\"\\\"\");\n}\n\nSystem.out.println(\"langList: \"+ langList);\n\ntry {\n    JSONArray jsonObject = new JSONArray(langList.toString());\n    System.out.println(\"jsonObject: \"+jsonObject);\n} catch (JSONException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>I could see below logs in console.</p>\n\n<pre><code>langList: [\"en\", \"ta\", \"hi\"]\njsonObject: [\"en\",\"ta\",\"hi\"]\n</code></pre>\n\n<p>Hope this helps.</p>\n\n<p>Note: Used <code>org.json.JSONArray</code> and <code>org.json.JSONException</code> classes in above code.</p>\n"}],"owner":{"account_id":13640858,"reputation":3,"user_id":9840893,"display_name":"Ram Trans"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3096,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51060985,"answer_count":4,"score":0,"last_activity_date":1660236888,"creation_date":1530094410,"question_id":51060141,"body_markdown":"I want list item should be with double quotes.\r\ni tried like this :\r\n\r\n    List&lt;String&gt; langList = new ArrayList&lt;&gt;();\r\n        for (Language obj : language) {\r\n            langList.add(obj.getCode());\r\n        }\r\n    JSONObject where = new JSONObject();\r\n    try {\r\n        JSONObject languages = new JSONObject();\r\n        languages.put(&quot;$in&quot;, langList);\r\n        where.put(&quot;languages&quot;, languages);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\nresult of `langList` is : `&quot;[en, ta, hi]&quot;`\r\nand I added double quotes for items using `langList.add(&quot;\\&quot;&quot; + obj.getCode() + &quot;\\&quot;&quot;);`\r\n\r\nnow, It returns the result is : `&quot;[\\&quot;en\\&quot;, \\&quot;ta\\&quot;, \\&quot;hi\\&quot;]&quot;`\r\n\r\nI don&#39;t want outside double quotes also.\r\n\r\nam expecting result is : `[&quot;en&quot;, &quot;ta&quot;, &quot;hi&quot;]`","title":"List item with double quotes","body":"<p>I want list item should be with double quotes.\ni tried like this :</p>\n\n<pre><code>List&lt;String&gt; langList = new ArrayList&lt;&gt;();\n    for (Language obj : language) {\n        langList.add(obj.getCode());\n    }\nJSONObject where = new JSONObject();\ntry {\n    JSONObject languages = new JSONObject();\n    languages.put(\"$in\", langList);\n    where.put(\"languages\", languages);\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>result of <code>langList</code> is : <code>\"[en, ta, hi]\"</code>\nand I added double quotes for items using <code>langList.add(\"\\\"\" + obj.getCode() + \"\\\"\");</code></p>\n\n<p>now, It returns the result is : <code>\"[\\\"en\\\", \\\"ta\\\", \\\"hi\\\"]\"</code></p>\n\n<p>I don't want outside double quotes also.</p>\n\n<p>am expecting result is : <code>[\"en\", \"ta\", \"hi\"]</code></p>\n"},{"tags":["java","arrays","methods"],"answers":[{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638859482,"creation_date":1638859482,"answer_id":70255889,"question_id":70255759,"body_markdown":"Here&#39;s a changed version. You have to use a nested `for` loop - the first iterates over the input `String[]` and the nested one over the `char[]` in each string. \r\n\r\nI have also used some variables in place of repeated array references for easy reading.\r\n\r\n```java\r\npublic class StrArray{\r\n\tpublic static void main( String[] args ){\r\n\t\tString[] input = new String[]{ &quot;Hel123&amp;$$o&quot;, &quot;#$%World&quot;, &quot;###&quot; };\r\n\t\tString[] strArr = removeCharacters( input );\r\n\t\tArrays.stream( strArr ).forEach( s -&gt; System.out.println( &quot;&#39;&quot; + s + &quot;&#39;&quot; ) );\r\n\t}\r\n\r\n\tpublic static String[] removeCharacters( String[] arr ){\r\n\t\tString[] str = new String[ arr.length ];\r\n\r\n\t\tfor( int i = 0; i &lt; arr.length; i++ ){\r\n\t\t\tString input = arr[ i ];\r\n\t\t\t\r\n\t\t\t/* If the input string in empty, skip.*/\r\n\t\t\tint k = 0;\r\n\t\t\tif( input == null || input.length() == 0 )\r\n\t\t\t\tstr[ i ] = &quot;&quot;;\r\n\t\t\telse{\r\n\t\t\t\t/* Construct a char[] containing all the relevant chars. */\r\n\t\t\t\tchar[] chars = new char[ input.length() ];\r\n\t\t\t\tfor( int j = 0; j &lt; input.length(); j++ ){\r\n\t\t\t\t\tchar c = input.charAt( j );\r\n\t\t\t\t\tif( Character.isLetter( c ) ) chars[ k++ ] = c;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* Now, convert the char[] into a string. */\r\n\t\t\t\tstr[ i ] = String.valueOf( chars, 0, k );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn str;\r\n\t}\r\n}\r\n```\r\n\r\nI have quoted each string while printing. Hence, running this gives the following output.\r\n```\r\n&#39;Helo&#39;\r\n&#39;World&#39;\r\n&#39;&#39;\r\n```","title":"Removing specific characters from the elements in an array","body":"<p>Here's a changed version. You have to use a nested <code>for</code> loop - the first iterates over the input <code>String[]</code> and the nested one over the <code>char[]</code> in each string.</p>\n<p>I have also used some variables in place of repeated array references for easy reading.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StrArray{\n    public static void main( String[] args ){\n        String[] input = new String[]{ &quot;Hel123&amp;$$o&quot;, &quot;#$%World&quot;, &quot;###&quot; };\n        String[] strArr = removeCharacters( input );\n        Arrays.stream( strArr ).forEach( s -&gt; System.out.println( &quot;'&quot; + s + &quot;'&quot; ) );\n    }\n\n    public static String[] removeCharacters( String[] arr ){\n        String[] str = new String[ arr.length ];\n\n        for( int i = 0; i &lt; arr.length; i++ ){\n            String input = arr[ i ];\n            \n            /* If the input string in empty, skip.*/\n            int k = 0;\n            if( input == null || input.length() == 0 )\n                str[ i ] = &quot;&quot;;\n            else{\n                /* Construct a char[] containing all the relevant chars. */\n                char[] chars = new char[ input.length() ];\n                for( int j = 0; j &lt; input.length(); j++ ){\n                    char c = input.charAt( j );\n                    if( Character.isLetter( c ) ) chars[ k++ ] = c;\n                }\n\n                /* Now, convert the char[] into a string. */\n                str[ i ] = String.valueOf( chars, 0, k );\n            }\n        }\n\n        return str;\n    }\n}\n</code></pre>\n<p>I have quoted each string while printing. Hence, running this gives the following output.</p>\n<pre><code>'Helo'\n'World'\n''\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23570669,"reputation":84,"user_id":17610846,"display_name":"Juan C."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660236142,"creation_date":1638862470,"answer_id":70256395,"question_id":70255759,"body_markdown":"The problem is that you are iterating over the array of strings but not over the array of characters of each string. You can use a loop to iterate over the array of Strings and a nested loop to iterate over the characters of each String.\r\n \r\nHere I&#39;m using StringBuilder to concatenate the Strings since it is more efficient than using `+`. This is because the String object is immutable, so each call for concatenation will create a new String object. On the other hand, StringBuilder is a mutable array of characters.\r\n\r\n\r\n\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n\r\n            String[] stringArray = \r\n            new String[]{ &quot;Hell123&amp;$$o&quot;, &quot;#$%World&quot;, &quot;###&quot; };\r\n            System.out.println(\r\n            Arrays.toString(removeCharacters(stringArray)));\r\n        }\r\n    \r\n        public static String[] removeCharacters(String[] arr) {\r\n            String[] str = new String[arr.length];\r\n    \r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                StringBuilder strBuilder = new StringBuilder();\r\n                for (int j = 0; j &lt; arr[i].length(); j++) {\r\n                    if (Character.isLetter(arr[i].charAt(j)))\r\n                        strBuilder.append(arr[i].charAt(j));\r\n                }\r\n                str[i] = strBuilder.toString();\r\n            }\r\n            return str;\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Removing specific characters from the elements in an array","body":"<p>The problem is that you are iterating over the array of strings but not over the array of characters of each string. You can use a loop to iterate over the array of Strings and a nested loop to iterate over the characters of each String.</p>\n<p>Here I'm using StringBuilder to concatenate the Strings since it is more efficient than using <code>+</code>. This is because the String object is immutable, so each call for concatenation will create a new String object. On the other hand, StringBuilder is a mutable array of characters.</p>\n<pre><code>import java.util.Arrays;\n\npublic class MyClass {\n    public static void main(String args[]) {\n\n        String[] stringArray = \n        new String[]{ &quot;Hell123&amp;$$o&quot;, &quot;#$%World&quot;, &quot;###&quot; };\n        System.out.println(\n        Arrays.toString(removeCharacters(stringArray)));\n    }\n\n    public static String[] removeCharacters(String[] arr) {\n        String[] str = new String[arr.length];\n\n        for (int i = 0; i &lt; arr.length; i++) {\n            StringBuilder strBuilder = new StringBuilder();\n            for (int j = 0; j &lt; arr[i].length(); j++) {\n                if (Character.isLetter(arr[i].charAt(j)))\n                    strBuilder.append(arr[i].charAt(j));\n            }\n            str[i] = strBuilder.toString();\n        }\n        return str;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23009009,"reputation":43,"user_id":17131783,"display_name":"brmk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660236142,"creation_date":1638858509,"question_id":70255759,"body_markdown":"    public static String[] removeCharacters(String[] arr){\r\n\r\n\r\n        String[] str = new String[arr.length];\r\n\r\n        for (int i = 0; i &lt;arr.length; i++) {\r\n            if(Character.isLetter(arr[i].charAt(i)))\r\n                str[i] += arr[i].charAt(i);\r\n            else\r\n                str[i] = &quot;&quot;;\r\n        }\r\n        return str;\r\n    }\r\n\r\nI&#39;m trying to write a method that returns to String array and takes an String array argument.\r\nI need remove special characters from the element and return the element without specials.\r\n\r\n* For example;\r\n[&quot;Hel123&amp;$$o&quot;, &quot;#$%World&quot;, &quot;###&quot;]\r\nwill return to\r\n* [&quot;Hello&quot;, &quot;World&quot;, &quot;&quot;,] as a output.\r\n* I also converted back to String, remove those special characters and split back again to an Array but when i convert to String it all comes together and there is no split point and I don&#39;t want to do it with Regex so i&#39;m trying to do without it. With my solution I&#39;m getting null so i couldn&#39;t fix.","title":"Removing specific characters from the elements in an array","body":"<pre><code>public static String[] removeCharacters(String[] arr){\n\n\n    String[] str = new String[arr.length];\n\n    for (int i = 0; i &lt;arr.length; i++) {\n        if(Character.isLetter(arr[i].charAt(i)))\n            str[i] += arr[i].charAt(i);\n        else\n            str[i] = &quot;&quot;;\n    }\n    return str;\n}\n</code></pre>\n<p>I'm trying to write a method that returns to String array and takes an String array argument.\nI need remove special characters from the element and return the element without specials.</p>\n<ul>\n<li>For example;\n[&quot;Hel123&amp;$$o&quot;, &quot;#$%World&quot;, &quot;###&quot;]\nwill return to</li>\n<li>[&quot;Hello&quot;, &quot;World&quot;, &quot;&quot;,] as a output.</li>\n<li>I also converted back to String, remove those special characters and split back again to an Array but when i convert to String it all comes together and there is no split point and I don't want to do it with Regex so i'm trying to do without it. With my solution I'm getting null so i couldn't fix.</li>\n</ul>\n"},{"tags":["java","debugging","visual-studio-code"],"comments":[{"owner":{"account_id":62272,"reputation":15103,"user_id":185123,"accept_rate":74,"display_name":"spottedmahn"},"score":0,"creation_date":1660235918,"post_id":60046797,"comment_id":129490777,"body_markdown":"GitHub Issue: [Break on exception in Java for “just my code”](https://github.com/microsoft/vscode-java-debug/issues/756)","body":"GitHub Issue: <a href=\"https://github.com/microsoft/vscode-java-debug/issues/756\" rel=\"nofollow noreferrer\">Break on exception in Java for “just my code”</a>"}],"answers":[{"tags":[],"owner":{"account_id":62272,"reputation":15103,"user_id":185123,"accept_rate":74,"display_name":"spottedmahn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660236011,"creation_date":1660236011,"answer_id":73324206,"question_id":60046797,"body_markdown":"&gt;In the new 0.27.0, when you want to break on exception for &quot;Just My Code&quot;, you can add the following settings for that.\r\n[source][1]\r\n\r\n    &quot;java.debug.settings.exceptionBreakpoint.skipClasses&quot;: [\r\n        &quot;$JDK&quot;, // Skip the JDK classes from the default system bootstrap classpath, such as rt.jar, jrt-fs.jar.\r\n        &quot;$Libraries&quot;, // Skip the classes from application libraries, such as Maven, Gradle dependencies.\r\n        // &quot;java.myPackage.myClass&quot;\r\n    ],\r\n\r\n\r\n  [1]: https://github.com/microsoft/vscode-java-debug/issues/756#issuecomment-659264364","title":"Break on exception in Java for &quot;just my code&quot;","body":"<blockquote>\n<p>In the new 0.27.0, when you want to break on exception for &quot;Just My Code&quot;, you can add the following settings for that.\n<a href=\"https://github.com/microsoft/vscode-java-debug/issues/756#issuecomment-659264364\" rel=\"nofollow noreferrer\">source</a></p>\n</blockquote>\n<pre><code>&quot;java.debug.settings.exceptionBreakpoint.skipClasses&quot;: [\n    &quot;$JDK&quot;, // Skip the JDK classes from the default system bootstrap classpath, such as rt.jar, jrt-fs.jar.\n    &quot;$Libraries&quot;, // Skip the classes from application libraries, such as Maven, Gradle dependencies.\n    // &quot;java.myPackage.myClass&quot;\n],\n</code></pre>\n"}],"owner":{"account_id":62272,"reputation":15103,"user_id":185123,"accept_rate":74,"display_name":"spottedmahn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":73324206,"answer_count":1,"score":6,"last_activity_date":1660236011,"creation_date":1580762223,"question_id":60046797,"body_markdown":"In a Java project, how can I configure **VS Code** to only break on an exception in **&quot;just my code&quot;**?  I&#39;ve messed around w/ the `Uncaught Exceptions` &amp; `Caught Exceptions` but they are not scoped to my code.\r\n\r\nIt seems like a generic feature was implemented, [Debug Protocol: Support more flexible handling of exceptions][1], but I&#39;m not sure how to apply it to a Java project.\r\n\r\n&gt;We&#39;ve added support for exception configuration to the debug protocol ([microsoft/vscode-debugadapter-node#64][1]).  [Source][2]\r\n\r\n---\r\n\r\nI see there&#39;s [an option for Node.js][3]:\r\n\r\n&gt;VS Code Node.js debugging has a feature to avoid source code that you don&#39;t want to step through (AKA &#39;Just My Code&#39;). This feature can be enabled with the `skipFiles` attribute in your launch configuration. `skipFiles` is an array of glob patterns for script paths to skip.\r\n\r\n---\r\n\r\nSomething like [Visual Studio -&gt; Enable or disable Just My Code][4].\r\n\r\n\r\n  [1]: https://github.com/microsoft/vscode-debugadapter-node/issues/64\r\n  [2]: https://github.com/microsoft/vscode/issues/11552#issuecomment-264884939\r\n  [3]: https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_skipping-uninteresting-code-node-chrome\r\n  [4]: https://learn.microsoft.com/en-us/visualstudio/debugger/just-my-code?view=vs-2019#BKMK_Enable_or_disable_Just_My_Code","title":"Break on exception in Java for &quot;just my code&quot;","body":"<p>In a Java project, how can I configure <strong>VS Code</strong> to only break on an exception in <strong>\"just my code\"</strong>?  I've messed around w/ the <code>Uncaught Exceptions</code> &amp; <code>Caught Exceptions</code> but they are not scoped to my code.</p>\n\n<p>It seems like a generic feature was implemented, <a href=\"https://github.com/microsoft/vscode-debugadapter-node/issues/64\" rel=\"noreferrer\">Debug Protocol: Support more flexible handling of exceptions</a>, but I'm not sure how to apply it to a Java project.</p>\n\n<blockquote>\n  <p>We've added support for exception configuration to the debug protocol (<a href=\"https://github.com/microsoft/vscode-debugadapter-node/issues/64\" rel=\"noreferrer\">microsoft/vscode-debugadapter-node#64</a>).  <a href=\"https://github.com/microsoft/vscode/issues/11552#issuecomment-264884939\" rel=\"noreferrer\">Source</a></p>\n</blockquote>\n\n<hr>\n\n<p>I see there's <a href=\"https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_skipping-uninteresting-code-node-chrome\" rel=\"noreferrer\">an option for Node.js</a>:</p>\n\n<blockquote>\n  <p>VS Code Node.js debugging has a feature to avoid source code that you don't want to step through (AKA 'Just My Code'). This feature can be enabled with the <code>skipFiles</code> attribute in your launch configuration. <code>skipFiles</code> is an array of glob patterns for script paths to skip.</p>\n</blockquote>\n\n<hr>\n\n<p>Something like <a href=\"https://learn.microsoft.com/en-us/visualstudio/debugger/just-my-code?view=vs-2019#BKMK_Enable_or_disable_Just_My_Code\" rel=\"noreferrer\">Visual Studio -> Enable or disable Just My Code</a>.</p>\n"},{"tags":["java","arrays","swing","arraylist"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1660146666,"post_id":73309203,"comment_id":129465546,"body_markdown":"Make a field for that arraylist and use that. You need something that lasts longer than a method invocation. That is what fields are for.","body":"Make a field for that arraylist and use that. You need something that lasts longer than a method invocation. That is what fields are for."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1660169961,"post_id":73309203,"comment_id":129472705,"body_markdown":"unrelated: __never-ever__ do any manual sizing or locating, instead use a suitable layoutManager","body":"unrelated: <b>never-ever</b> do any manual sizing or locating, instead use a suitable layoutManager"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660150248,"creation_date":1660149115,"answer_id":73309787,"question_id":73309203,"body_markdown":"As currently written, your locally declared `ArrayList` is being discarded (headed for garbage collection) each time the flow of control exits your action listener. \r\n\r\n&#128073; Move the list declaration outside that method, to be a member field. (As [commented][1].)\r\n\r\nAnd generally best to declare the more general type, a `List` rather than `ArrayList`. (See [this Question][2].)\r\n\r\nAnd use [Java Generics][3] rather than raw types. Add `&lt; String &gt;`.\r\n\r\n    public class Stuffs {\r\n        // Member fields\r\n        List &lt; String &gt; test = new ArrayList&lt;&gt;();\r\n\r\n        // Constructor\r\n        Stuffs(){ … }\r\n    }\r\n\r\nAs a member field of the `Stuffs` class, the list stays around for as long as the instance object of `Stuffs` lives.\r\n\r\n\r\n----------\r\n\r\n\r\nBe aware of [thread-safety][4]. As currently written, the `ArrayList` should only be accessed from the user-interface thread. If any other threads will access the list, you’ll need to take steps to protect that resource in a thread-safe manner.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73309203/how-to-add-to-arraylist-continuously/73309787#comment129465546_73309203\r\n  [2]: https://stackoverflow.com/q/2279030/642706\r\n  [3]: https://en.wikipedia.org/wiki/Generics_in_Java\r\n  [4]: https://en.wikipedia.org/wiki/Thread_safety","title":"How to add to ArrayList continuously","body":"<p>As currently written, your locally declared <code>ArrayList</code> is being discarded (headed for garbage collection) each time the flow of control exits your action listener.</p>\n<p>👉 Move the list declaration outside that method, to be a member field. (As <a href=\"https://stackoverflow.com/questions/73309203/how-to-add-to-arraylist-continuously/73309787#comment129465546_73309203\">commented</a>.)</p>\n<p>And generally best to declare the more general type, a <code>List</code> rather than <code>ArrayList</code>. (See <a href=\"https://stackoverflow.com/q/2279030/642706\">this Question</a>.)</p>\n<p>And use <a href=\"https://en.wikipedia.org/wiki/Generics_in_Java\" rel=\"nofollow noreferrer\">Java Generics</a> rather than raw types. Add <code>&lt; String &gt;</code>.</p>\n<pre><code>public class Stuffs {\n    // Member fields\n    List &lt; String &gt; test = new ArrayList&lt;&gt;();\n\n    // Constructor\n    Stuffs(){ … }\n}\n</code></pre>\n<p>As a member field of the <code>Stuffs</code> class, the list stays around for as long as the instance object of <code>Stuffs</code> lives.</p>\n<hr />\n<p>Be aware of <a href=\"https://en.wikipedia.org/wiki/Thread_safety\" rel=\"nofollow noreferrer\">thread-safety</a>. As currently written, the <code>ArrayList</code> should only be accessed from the user-interface thread. If any other threads will access the list, you’ll need to take steps to protect that resource in a thread-safe manner.</p>\n"}],"owner":{"account_id":24760965,"reputation":19,"user_id":19689062,"display_name":"Luqman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660235843,"creation_date":1660146498,"question_id":73309203,"body_markdown":"What I am trying to achieve here is when the user selects the data in the ComboBox, it will match it to my HashMap, and add it to an ArrayList.\r\n\r\n    public class Stuffs {\r\n\r\n    Stuffs(){\r\n        \r\n        //Creating HashMap\r\n        HashMap&lt;String,String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;LOTR 1&quot;, &quot;The Fellowship of the Ring&quot;);\r\n        map.put(&quot;LOTR 2&quot;, &quot;The Two Towers&quot;);\r\n        map.put(&quot;LOTR 3&quot;, &quot;The Return of the King&quot;);\r\n        \r\n        //Creating frame\r\n        JFrame f = new JFrame();\r\n        f.setSize(500, 500);\r\n        f.setVisible(true);\r\n        \r\n        //Creating combobox\r\n        String choices[] = {&quot;LOTR 1&quot;,&quot;LOTR 2&quot;,&quot;LOTR 3&quot;};\r\n        JComboBox cb = new JComboBox(choices);\r\n        cb.setBounds(50, 50,90,20);\r\n        f.setLayout(null);    \r\n        f.setSize(300,300);\r\n        f.add(cb);\r\n  \r\n        //Creating button\r\n        JButton btn = new JButton(&quot;OK&quot;);\r\n        btn.setBounds(100,100,70,20); \r\n        f.add(btn);\r\n        \r\n        \r\n        //Get selected item from HashMap and add into arraylist\r\n        btn.addActionListener(new ActionListener(){\r\n            public void actionPerformed(ActionEvent e){\r\n            \r\n            ArrayList test = new ArrayList&lt;&gt;();\r\n            String x = (String) cb.getSelectedItem();\r\n            String y = map.get(x);\r\n            Collections.addAll(test, x, y);\r\n            System.out.println(test);\r\n            }\r\n        });\r\n        \r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n        new Stuffs();     \r\n    }      \r\n        }\r\n\r\nThe code works. The output is :\r\n\r\n    [LOTR 1, The Fellowship of the Ring] \r\n(User selected LOTR 1 from the ComboBox)\r\n\r\nBut when I click on the button again, the ArrayList resets. What I want is so that the ArrayList keeps on adding data without replacing the initial ones, even if its repetitive. For example:\r\n\r\n    [LOTR 1, The Fellowship of the Ring, LOTR 2, The Two Towers]\r\n\r\nBasically the user can select from the ComboBox countless of times, and the ArrayList keeps adding up and adding up.","title":"How to add to ArrayList continuously","body":"<p>What I am trying to achieve here is when the user selects the data in the ComboBox, it will match it to my HashMap, and add it to an ArrayList.</p>\n<pre><code>public class Stuffs {\n\nStuffs(){\n    \n    //Creating HashMap\n    HashMap&lt;String,String&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;LOTR 1&quot;, &quot;The Fellowship of the Ring&quot;);\n    map.put(&quot;LOTR 2&quot;, &quot;The Two Towers&quot;);\n    map.put(&quot;LOTR 3&quot;, &quot;The Return of the King&quot;);\n    \n    //Creating frame\n    JFrame f = new JFrame();\n    f.setSize(500, 500);\n    f.setVisible(true);\n    \n    //Creating combobox\n    String choices[] = {&quot;LOTR 1&quot;,&quot;LOTR 2&quot;,&quot;LOTR 3&quot;};\n    JComboBox cb = new JComboBox(choices);\n    cb.setBounds(50, 50,90,20);\n    f.setLayout(null);    \n    f.setSize(300,300);\n    f.add(cb);\n\n    //Creating button\n    JButton btn = new JButton(&quot;OK&quot;);\n    btn.setBounds(100,100,70,20); \n    f.add(btn);\n    \n    \n    //Get selected item from HashMap and add into arraylist\n    btn.addActionListener(new ActionListener(){\n        public void actionPerformed(ActionEvent e){\n        \n        ArrayList test = new ArrayList&lt;&gt;();\n        String x = (String) cb.getSelectedItem();\n        String y = map.get(x);\n        Collections.addAll(test, x, y);\n        System.out.println(test);\n        }\n    });\n    \n}\n\npublic static void main(String[] args) {\n    \n    new Stuffs();     \n}      \n    }\n</code></pre>\n<p>The code works. The output is :</p>\n<pre><code>[LOTR 1, The Fellowship of the Ring] \n</code></pre>\n<p>(User selected LOTR 1 from the ComboBox)</p>\n<p>But when I click on the button again, the ArrayList resets. What I want is so that the ArrayList keeps on adding data without replacing the initial ones, even if its repetitive. For example:</p>\n<pre><code>[LOTR 1, The Fellowship of the Ring, LOTR 2, The Two Towers]\n</code></pre>\n<p>Basically the user can select from the ComboBox countless of times, and the ArrayList keeps adding up and adding up.</p>\n"},{"tags":["java","spring-boot","intellij-idea","war"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1660237481,"post_id":73324179,"comment_id":129491324,"body_markdown":"Does it work in the command line if you run it via `gradle bootRun`? Your app may be not configured correctly if it doesn&#39;t work in this mode. If the war file works, you can use Tomcat run configuration and deploy this war file as an external source artifact.","body":"Does it work in the command line if you run it via <code>gradle bootRun</code>? Your app may be not configured correctly if it doesn&#39;t work in this mode. If the war file works, you can use Tomcat run configuration and deploy this war file as an external source artifact."},{"owner":{"account_id":25909017,"reputation":554,"user_id":19633625,"display_name":"Louis"},"score":0,"creation_date":1660238500,"post_id":73324179,"comment_id":129491609,"body_markdown":"`gradle bootRun` doesn&#39;t work. To correct configuration, what can I do? or what do you think I should share? As I know, spring boot uses embedded tomcat server so that I don&#39;t need to install tomcat on local.","body":"<code>gradle bootRun</code> doesn&#39;t work. To correct configuration, what can I do? or what do you think I should share? As I know, spring boot uses embedded tomcat server so that I don&#39;t need to install tomcat on local."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1660238611,"post_id":73324179,"comment_id":129491642,"body_markdown":"I would check https://www.baeldung.com/spring-boot-jsp. It should work with `bootRun` and from the standalone Tomcat server if configured correctly.","body":"I would check <a href=\"https://www.baeldung.com/spring-boot-jsp\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-jsp</a>. It should work with <code>bootRun</code> and from the standalone Tomcat server if configured correctly."},{"owner":{"account_id":25909017,"reputation":554,"user_id":19633625,"display_name":"Louis"},"score":0,"creation_date":1660240456,"post_id":73324179,"comment_id":129492219,"body_markdown":"I wanted to get real time updated view on browser as soon as I changed the source code. Through the above url, I knew JAR packaging is not an option if we are using JSP with Spring Boot. So war file is essential needed and should be deployed to tomcat container. And run by tomcat. This is the unique way to run my app. right?","body":"I wanted to get real time updated view on browser as soon as I changed the source code. Through the above url, I knew JAR packaging is not an option if we are using JSP with Spring Boot. So war file is essential needed and should be deployed to tomcat container. And run by tomcat. This is the unique way to run my app. right?"},{"owner":{"account_id":25909017,"reputation":554,"user_id":19633625,"display_name":"Louis"},"score":0,"creation_date":1660240650,"post_id":73324179,"comment_id":129492271,"body_markdown":"If I run the `gradle bootRun` on the classpath of the project, the terminal shows the error. \nA problem occurred evaluating root project &#39;moyamo-admin&#39;.\n&gt; Could not find method bootJar() for arguments [build_cyvu7040qathk0htgxk04d9hn$_run_closure2@321cd7a] on root project &#39;moyamo-admin&#39; of type org.gradle.api.Project.","body":"If I run the <code>gradle bootRun</code> on the classpath of the project, the terminal shows the error.  A problem occurred evaluating root project &#39;moyamo-admin&#39;. &gt; Could not find method bootJar() for arguments [build_cyvu7040qathk0htgxk04d9hn$_run_closure2@321cd7a] on root project &#39;moyamo-admin&#39; of type org.gradle.api.Project."}],"owner":{"account_id":25909017,"reputation":554,"user_id":19633625,"display_name":"Louis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660235842,"creation_date":1660235842,"question_id":73324179,"body_markdown":"I have built project using gradle. Built file is war file. The app can be run successfully by &quot;java -jar xxxx.war&quot; this command. I&#39;d like to run this app locally on Intellij. The frontend is jsp. Because when run the app on Intellij, it doesn&#39;t include jsp, it doesn&#39;t work on services, I think.\r\nAm I right? How can I run the app locally on the Intellij? I share the build.gradle file.\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;maven-publish&#39;\r\n    id &#39;war&#39;\r\n}\r\n\r\njar { enabled = false }\r\nbootJar { enabled = true }\r\nbootRun {enabled = true}\r\n\r\nconfigurations {\r\n    developmentOnly\r\n    runtimeClasspath {\r\n        extendsFrom developmentOnly\r\n    }\r\n    compile.exclude module: &quot;spring-boot-starter-tomcat&quot;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yMWCc.png\r\n  [2]: https://i.stack.imgur.com/3qeTH.png","title":"How can I run the spring boot application using services tabs on Intellij?","body":"<p>I have built project using gradle. Built file is war file. The app can be run successfully by &quot;java -jar xxxx.war&quot; this command. I'd like to run this app locally on Intellij. The frontend is jsp. Because when run the app on Intellij, it doesn't include jsp, it doesn't work on services, I think.\nAm I right? How can I run the app locally on the Intellij? I share the build.gradle file.\n<a href=\"https://i.stack.imgur.com/yMWCc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yMWCc.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/3qeTH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3qeTH.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>plugins {\n    id 'java'\n    id 'maven-publish'\n    id 'war'\n}\n\njar { enabled = false }\nbootJar { enabled = true }\nbootRun {enabled = true}\n\nconfigurations {\n    developmentOnly\n    runtimeClasspath {\n        extendsFrom developmentOnly\n    }\n    compile.exclude module: &quot;spring-boot-starter-tomcat&quot;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","architecture","azure-blob-storage","pgp"],"comments":[{"owner":{"account_id":9273165,"reputation":3381,"user_id":6886501,"display_name":"Markus Meyer"},"score":0,"creation_date":1660192732,"post_id":73315327,"comment_id":129476041,"body_markdown":"You can store it as key in Azure Key Vault: https://learn.microsoft.com/en-us/azure/key-vault/keys/about-keys.","body":"You can store it as key in Azure Key Vault: <a href=\"https://learn.microsoft.com/en-us/azure/key-vault/keys/about-keys\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/key-vault/keys/about-keys</a>."},{"owner":{"account_id":8290022,"reputation":61,"user_id":6232003,"display_name":"Bhanu Mittal"},"score":0,"creation_date":1660193664,"post_id":73315327,"comment_id":129476168,"body_markdown":"@MarkusMeyer Azure key vault does not support .asc files.","body":"@MarkusMeyer Azure key vault does not support .asc files."},{"owner":{"account_id":9273165,"reputation":3381,"user_id":6886501,"display_name":"Markus Meyer"},"score":0,"creation_date":1660193872,"post_id":73315327,"comment_id":129476210,"body_markdown":"You can at the content as text into the key","body":"You can at the content as text into the key"}],"owner":{"account_id":8290022,"reputation":61,"user_id":6232003,"display_name":"Bhanu Mittal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660235824,"creation_date":1660192572,"question_id":73315327,"body_markdown":"I have a spring-boot application that listens to a consumer azure topic and downloads a PGP encrypted file whenever there is a message in the topic. After downloading the encrypted file, I need to decrypt the file using a private key file. Should I keep the private key file in azure blob storage and download it at the start of the application? Looking for suggestions.","title":"Where to keep PGP private key file and when to download in springboot application. I am considering to keep file in Azure blob storage","body":"<p>I have a spring-boot application that listens to a consumer azure topic and downloads a PGP encrypted file whenever there is a message in the topic. After downloading the encrypted file, I need to decrypt the file using a private key file. Should I keep the private key file in azure blob storage and download it at the start of the application? Looking for suggestions.</p>\n"},{"tags":["java","testing","junit","mockito"],"comments":[{"owner":{"account_id":8523194,"reputation":1574,"user_id":6389337,"display_name":"sapan prajapati"},"score":0,"creation_date":1660118522,"post_id":73302606,"comment_id":129454501,"body_markdown":"you need to supply mocked parameters to render() method","body":"you need to supply mocked parameters to render() method"}],"answers":[{"tags":[],"owner":{"account_id":8523194,"reputation":1574,"user_id":6389337,"display_name":"sapan prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660118815,"creation_date":1660118369,"answer_id":73302725,"question_id":73302606,"body_markdown":"As I see, render method is not returning anything so you can do like this  \r\n\r\n    try (MockedStatic&lt;TemplateRendererUtil&gt; mockedStatic = Mockito.mockStatic(TemplateRendererUtil.class)){\r\n                        \r\n     doNothing().when(TemplateRendererUtil.render(Mockito.any(), Mockito.any(), Mockito.anyString(), Mockito.anyMap()));\r\n    \r\n    }","title":"&quot;incompatible parameter types in method reference&quot; when trying to method reference Class method","body":"<p>As I see, render method is not returning anything so you can do like this</p>\n<pre><code>try (MockedStatic&lt;TemplateRendererUtil&gt; mockedStatic = Mockito.mockStatic(TemplateRendererUtil.class)){\n                    \n doNothing().when(TemplateRendererUtil.render(Mockito.any(), Mockito.any(), Mockito.anyString(), Mockito.anyMap()));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660118840,"creation_date":1660118840,"answer_id":73302831,"question_id":73302606,"body_markdown":"There are actually two problems with your code.\r\n\r\nFirst is the fact that you did not provide the code for the method `TemplateRendererUtil.render()` (without arguments) and you&#39;re using such a method&#39;s reference as a parameter passed to `when()`. You&#39;re not referencing the method with 4 arguments that you&#39;ve shown in your test code.\r\n\r\nThe second problem is the fact that you&#39;re trying to return `null` from a method that does not return anything (`void` type).\r\n\r\nThe correct code would be:\r\n```java\r\ntry (MockedStatic&lt;TemplateRendererUtil&gt; mockedStatic = Mockito.mockStatic(TemplateRendererUtil.class)) {\r\n    mockedStatic.when(() -&gt; TemplateRendererUtil.render(any(), any(), anyString(), anyMap()))\r\n                .thenAnswer(inv -&gt; null);\r\n    // rest of the test\r\n}\r\n```\r\nInstead of `any...` matchers you could use more appropriate ones if needed.\r\n\r\n---\r\n\r\nI&#39;ve reproduced the problem and tested the solution - you can find it [here on GitHub][1]. The test passes. The mocked method was simplified to use `int` and `long`, but the mechanism stays the same.\r\n\r\n\r\n  [1]: https://github.com/Jonarzz/stack-overflow/blob/73302606/src/test/java/io/github/jonarzz/MockStaticTest.java","title":"&quot;incompatible parameter types in method reference&quot; when trying to method reference Class method","body":"<p>There are actually two problems with your code.</p>\n<p>First is the fact that you did not provide the code for the method <code>TemplateRendererUtil.render()</code> (without arguments) and you're using such a method's reference as a parameter passed to <code>when()</code>. You're not referencing the method with 4 arguments that you've shown in your test code.</p>\n<p>The second problem is the fact that you're trying to return <code>null</code> from a method that does not return anything (<code>void</code> type).</p>\n<p>The correct code would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (MockedStatic&lt;TemplateRendererUtil&gt; mockedStatic = Mockito.mockStatic(TemplateRendererUtil.class)) {\n    mockedStatic.when(() -&gt; TemplateRendererUtil.render(any(), any(), anyString(), anyMap()))\n                .thenAnswer(inv -&gt; null);\n    // rest of the test\n}\n</code></pre>\n<p>Instead of <code>any...</code> matchers you could use more appropriate ones if needed.</p>\n<hr />\n<p>I've reproduced the problem and tested the solution - you can find it <a href=\"https://github.com/Jonarzz/stack-overflow/blob/73302606/src/test/java/io/github/jonarzz/MockStaticTest.java\" rel=\"nofollow noreferrer\">here on GitHub</a>. The test passes. The mocked method was simplified to use <code>int</code> and <code>long</code>, but the mechanism stays the same.</p>\n"}],"owner":{"account_id":25986825,"reputation":21,"user_id":19699689,"display_name":"nixon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1660235805,"creation_date":1660117771,"question_id":73302606,"body_markdown":"I am trying to mock a static method `render` of the `TemplateRendererUtil` class to return `null` when testing. Not sure if this is the right approach, the method I&#39;m trying to test calls this class, but I just want it to essentially skip this.  \r\n\r\nGetting a compilation error here:   \r\n```java\r\ntry (MockedStatic&lt;TemplateRendererUtil&gt; mockedStatic = Mockito.mockStatic(TemplateRendererUtil.class)){\r\n    // java: incompatible types: incompatible parameter types in method reference\r\n    mockedStatic.when(TemplateRendererUtil::render).thenReturn(null);\r\n}\r\n```\r\n\r\nClass being referenced:\r\n```java\r\n    public class TemplateRendererUtil {\r\n        private static final ResponseTemplateRenderer RENDERER = ResponseTemplateRenderer.getInstance();\r\n    \r\n        private TemplateRendererUtil() {\r\n        }\r\n    \r\n        public static void render(HttpServletRequest req, HttpServletResponse resp, String templateFile, Map&lt;String, Object&gt; params) throws TemplateRendererUtilException {\r\n            try {\r\n                RENDERER.render(req, resp, templateFile, params);\r\n            } catch (ResponseTemplateRendererException var5) {\r\n                throw new TemplateRendererUtilException(var5);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nStack trace of at `Mockito.mockStatic`:\r\n```\r\n    java.lang.InternalError: class redefinition failed: invalid class\r\n\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:167)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:280)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.mockClassStatic(InlineBytecodeGenerator.java:225)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClassStatic(TypeCachingBytecodeGenerator.java:63)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.createStaticMock(InlineDelegateByteBuddyMockMaker.java:560)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createStaticMock(InlineByteBuddyMockMaker.java:83)\r\n\tat org.mockito.internal.util.MockUtil.createStaticMock(MockUtil.java:147)\r\n\tat org.mockito.internal.MockitoCore.mockStatic(MockitoCore.java:142)\r\n\tat org.mockito.Mockito.mockStatic(Mockito.java:2181)\r\n\tat org.mockito.Mockito.mockStatic(Mockito.java:2118)\r\n\t...\r\n```","title":"&quot;incompatible parameter types in method reference&quot; when trying to method reference Class method","body":"<p>I am trying to mock a static method <code>render</code> of the <code>TemplateRendererUtil</code> class to return <code>null</code> when testing. Not sure if this is the right approach, the method I'm trying to test calls this class, but I just want it to essentially skip this.</p>\n<p>Getting a compilation error here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (MockedStatic&lt;TemplateRendererUtil&gt; mockedStatic = Mockito.mockStatic(TemplateRendererUtil.class)){\n    // java: incompatible types: incompatible parameter types in method reference\n    mockedStatic.when(TemplateRendererUtil::render).thenReturn(null);\n}\n</code></pre>\n<p>Class being referenced:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class TemplateRendererUtil {\n        private static final ResponseTemplateRenderer RENDERER = ResponseTemplateRenderer.getInstance();\n    \n        private TemplateRendererUtil() {\n        }\n    \n        public static void render(HttpServletRequest req, HttpServletResponse resp, String templateFile, Map&lt;String, Object&gt; params) throws TemplateRendererUtilException {\n            try {\n                RENDERER.render(req, resp, templateFile, params);\n            } catch (ResponseTemplateRendererException var5) {\n                throw new TemplateRendererUtilException(var5);\n            }\n        }\n    }\n</code></pre>\n<p>Stack trace of at <code>Mockito.mockStatic</code>:</p>\n<pre><code>    java.lang.InternalError: class redefinition failed: invalid class\n\n    at java.instrument/sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\n    at java.instrument/sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:167)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:280)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.mockClassStatic(InlineBytecodeGenerator.java:225)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClassStatic(TypeCachingBytecodeGenerator.java:63)\n    at org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.createStaticMock(InlineDelegateByteBuddyMockMaker.java:560)\n    at org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createStaticMock(InlineByteBuddyMockMaker.java:83)\n    at org.mockito.internal.util.MockUtil.createStaticMock(MockUtil.java:147)\n    at org.mockito.internal.MockitoCore.mockStatic(MockitoCore.java:142)\n    at org.mockito.Mockito.mockStatic(Mockito.java:2181)\n    at org.mockito.Mockito.mockStatic(Mockito.java:2118)\n    ...\n</code></pre>\n"},{"tags":["java","javafx","gridview","controlsfx"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653413361,"creation_date":1653404339,"answer_id":72365177,"question_id":72362744,"body_markdown":"You might not need to use the strategy you describe. You&#39;re displaying the images in cells of size 340x512, which is 174,080 pixels. Image storage is 4 bytes per pixel, so this is 696,320 bytes per image; 1500 of them will consume about 1GB. You just need to make sure you load the image at the size you are displaying it (instead of its native size):\r\n\r\n    // imageViewList.add(new Image(url));\r\n    imageViewList.add(new Image(url, 340, 512, true, true, true));\r\n\r\nIf you need an image at full size later (e.g. if you want the user to select an image from your grid view and display it in a bigger pane), you&#39;d just need to reload it from the url.\r\n\r\nIf you do need to implement the strategy you describe, `GridView` supports that out of the box. Just keep a list of the URLs, instead of the `Image`s, and use a custom `GridCell` to load the image as needed. This will consume significantly less memory, at the cost of a lot more I/O (loading the images) and CPU (parsing the image format).\r\n\r\n\r\nMake the items for the `GridView` the image urls, stored as Strings.\r\n\r\nThen you can do something like:\r\n\r\n    GridView&lt;String&gt; gridView = new GridView&lt;&gt;();\r\n    gridView.getItems().addAll(getAllImageURLs());\r\n    \r\n    gridView.setCellFactory(gv -&gt; new GridCell&lt;&gt;() {\r\n        private final ImageView imageView = new ImageView();\r\n\r\n        {\r\n            imageView.fitWidthProperty().bind(widthProperty());\r\n            imageView.fitHeightProperty().bind(heightProperty());\r\n            imageView.setPreserveRatio(true);\r\n        }\r\n\r\n        @Override\r\n        protected void updateItem(String url, boolean empty) {\r\n            super.updateItem(url, empty);\r\n            if (empty || url == null) {\r\n                setGraphic(null);\r\n            } else {\r\n                double w = getGridView().getCellWidth();\r\n                double h = getGridView().getCellHeight();\r\n                imageView.setImage(new Image(url, w, h, true, true, true));\r\n                setGraphic(imageView);\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    protected List&lt;String&gt; getAllImageURLs(){\r\n    \r\n        return App.getCardService().getCardArray().stream()\r\n                // isn&#39;t the first sort redundant here?\r\n                .sorted(Comparator.comparingInt(Card::getCost))\r\n                .sorted(Comparator.comparing(Card::isChampion).reversed())\r\n                .map(card -&gt; String.format(App.pictureFolderPath +&quot;%s.png&quot;, card.getCardCode()))\r\n                .collect(Collectors.toList());\r\n    }","title":"GridView only create Images when they would be visible","body":"<p>You might not need to use the strategy you describe. You're displaying the images in cells of size 340x512, which is 174,080 pixels. Image storage is 4 bytes per pixel, so this is 696,320 bytes per image; 1500 of them will consume about 1GB. You just need to make sure you load the image at the size you are displaying it (instead of its native size):</p>\n<pre><code>// imageViewList.add(new Image(url));\nimageViewList.add(new Image(url, 340, 512, true, true, true));\n</code></pre>\n<p>If you need an image at full size later (e.g. if you want the user to select an image from your grid view and display it in a bigger pane), you'd just need to reload it from the url.</p>\n<p>If you do need to implement the strategy you describe, <code>GridView</code> supports that out of the box. Just keep a list of the URLs, instead of the <code>Image</code>s, and use a custom <code>GridCell</code> to load the image as needed. This will consume significantly less memory, at the cost of a lot more I/O (loading the images) and CPU (parsing the image format).</p>\n<p>Make the items for the <code>GridView</code> the image urls, stored as Strings.</p>\n<p>Then you can do something like:</p>\n<pre><code>GridView&lt;String&gt; gridView = new GridView&lt;&gt;();\ngridView.getItems().addAll(getAllImageURLs());\n\ngridView.setCellFactory(gv -&gt; new GridCell&lt;&gt;() {\n    private final ImageView imageView = new ImageView();\n\n    {\n        imageView.fitWidthProperty().bind(widthProperty());\n        imageView.fitHeightProperty().bind(heightProperty());\n        imageView.setPreserveRatio(true);\n    }\n\n    @Override\n    protected void updateItem(String url, boolean empty) {\n        super.updateItem(url, empty);\n        if (empty || url == null) {\n            setGraphic(null);\n        } else {\n            double w = getGridView().getCellWidth();\n            double h = getGridView().getCellHeight();\n            imageView.setImage(new Image(url, w, h, true, true, true));\n            setGraphic(imageView);\n        }\n    }\n});\n\n\nprotected List&lt;String&gt; getAllImageURLs(){\n\n    return App.getCardService().getCardArray().stream()\n            // isn't the first sort redundant here?\n            .sorted(Comparator.comparingInt(Card::getCost))\n            .sorted(Comparator.comparing(Card::isChampion).reversed())\n            .map(card -&gt; String.format(App.pictureFolderPath +&quot;%s.png&quot;, card.getCardCode()))\n            .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":20645894,"reputation":95,"user_id":15157418,"display_name":"tctfox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72365177,"answer_count":1,"score":4,"last_activity_date":1660235785,"creation_date":1653394625,"question_id":72362744,"body_markdown":"Hei there\r\n \r\nSo I have the following problem. I have around 1500 images of playing cards. I want to display them in a &quot;Gallery&quot; where you could scroll through them. I was able to create a GridView with the ImageCell object and I was also able to add images to it. Now my problem is that if I add all Image&#39;s at once logically Java crashes because of a heap error. I have the image url&#39;s (local files) in a list. How could I implement that it only load lets say 15 images. If I then scroll it loads the next 15 and unloads the old ones. So it would only load the images of the actual visible images and not all 1500. How would I do this? I am completely out of ideas. \r\nThe Platform.runLater() is needed because some sort of issue with ControlsFX\r\n\r\n\r\nHere my code:\r\n \r\n\r\n        public void initialize() {\r\n \r\n        GridView&lt;Image&gt; gridView = new GridView&lt;&gt;();\r\n        gridView.setCellFactory(gridView1 -&gt; new ImageGridCell(true));\r\n        Image image = new Image(&quot;C:\\\\Users\\\\nijog\\\\Downloads\\\\cardpictures\\\\01DE001.png&quot;);\r\n \r\n        gridView.setCellWidth(340);\r\n        gridView.setCellHeight(512);\r\n \r\n        //Platform.runLater(()-&gt; {\r\n        //    for (int i = 0; i &lt; 5000; i++){\r\n        //        gridView.getItems().add(image);\r\n        //    }\r\n        //});\r\n \r\n        Platform.runLater(() -&gt; gridView.getItems().addAll(createImageListFromCardFiles()));\r\n \r\n        borderPane.setCenter(gridView);\r\n \r\n    }\r\n \r\n    protected List&lt;Image&gt; createImageListFromCardFiles(){\r\n \r\n        List&lt;Image&gt; imageViewList = new ArrayList&lt;&gt;();\r\n        App.getCardService().getCardArray().stream()\r\n                //.filter(Card::isCollectible)\r\n                .sorted(Comparator.comparingInt(Card::getCost))\r\n                .sorted(Comparator.comparing(Card::isChampion).reversed())\r\n                .skip(0)\r\n                //.limit(100)\r\n                .forEach(card -&gt; {\r\n                    try {\r\n                        String url = String.format(App.pictureFolderPath +&quot;%s.png&quot;, card.getCardCode());\r\n                        imageViewList.add(new Image(url));\r\n                    } catch (Exception e) {\r\n                        System.out.println(&quot;Picture file not found [CardCode = &quot; + card.getCardCode() + &quot;]&quot;);\r\n                        App.logger.writeLog(Logger.Operation.EXCEPTION, &quot;Picture file not found [CardCode = &quot; + card.getCardCode() + &quot;]&quot;);\r\n                    }\r\n                });\r\n        return imageViewList;\r\n    }","title":"GridView only create Images when they would be visible","body":"<p>Hei there</p>\n<p>So I have the following problem. I have around 1500 images of playing cards. I want to display them in a &quot;Gallery&quot; where you could scroll through them. I was able to create a GridView with the ImageCell object and I was also able to add images to it. Now my problem is that if I add all Image's at once logically Java crashes because of a heap error. I have the image url's (local files) in a list. How could I implement that it only load lets say 15 images. If I then scroll it loads the next 15 and unloads the old ones. So it would only load the images of the actual visible images and not all 1500. How would I do this? I am completely out of ideas.\nThe Platform.runLater() is needed because some sort of issue with ControlsFX</p>\n<p>Here my code:</p>\n<pre><code>    public void initialize() {\n\n    GridView&lt;Image&gt; gridView = new GridView&lt;&gt;();\n    gridView.setCellFactory(gridView1 -&gt; new ImageGridCell(true));\n    Image image = new Image(&quot;C:\\\\Users\\\\nijog\\\\Downloads\\\\cardpictures\\\\01DE001.png&quot;);\n\n    gridView.setCellWidth(340);\n    gridView.setCellHeight(512);\n\n    //Platform.runLater(()-&gt; {\n    //    for (int i = 0; i &lt; 5000; i++){\n    //        gridView.getItems().add(image);\n    //    }\n    //});\n\n    Platform.runLater(() -&gt; gridView.getItems().addAll(createImageListFromCardFiles()));\n\n    borderPane.setCenter(gridView);\n\n}\n\nprotected List&lt;Image&gt; createImageListFromCardFiles(){\n\n    List&lt;Image&gt; imageViewList = new ArrayList&lt;&gt;();\n    App.getCardService().getCardArray().stream()\n            //.filter(Card::isCollectible)\n            .sorted(Comparator.comparingInt(Card::getCost))\n            .sorted(Comparator.comparing(Card::isChampion).reversed())\n            .skip(0)\n            //.limit(100)\n            .forEach(card -&gt; {\n                try {\n                    String url = String.format(App.pictureFolderPath +&quot;%s.png&quot;, card.getCardCode());\n                    imageViewList.add(new Image(url));\n                } catch (Exception e) {\n                    System.out.println(&quot;Picture file not found [CardCode = &quot; + card.getCardCode() + &quot;]&quot;);\n                    App.logger.writeLog(Logger.Operation.EXCEPTION, &quot;Picture file not found [CardCode = &quot; + card.getCardCode() + &quot;]&quot;);\n                }\n            });\n    return imageViewList;\n}\n</code></pre>\n"},{"tags":["java","android","dpi","screen-density","density-independent-pixel"],"answers":[{"tags":[],"owner":{"account_id":19393048,"reputation":128,"user_id":14181277,"display_name":"Vidar567"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660234806,"creation_date":1660234806,"answer_id":73323985,"question_id":73323809,"body_markdown":"You could count these values using methods like:\r\n\r\nmy solution is to get any layout form your `.xml` by id and just count it using the same methods\r\n```\r\nlayout.width\r\nlayout.height\r\n```\r\n\r\nor\r\n\r\n```\r\n        // on below line we are creating and\r\n        // initializing variable for display metrics.\r\n        val displayMetrics = DisplayMetrics()\r\n \r\n        // on below line we are getting metrics\r\n        // for display using window manager.\r\n        windowManager.defaultDisplay.getMetrics(displayMetrics)\r\n \r\n        // on below line we are getting height\r\n        // and width using display metrics.\r\n        val height = displayMetrics.heightPixels\r\n        val width = displayMetrics.widthPixels\r\n```\r\n\r\nAlso if you want to handle showing images on UI just use `Glide Library`","title":"How can I know the pixels range for all screen densities in Android ? (base density of an image)","body":"<p>You could count these values using methods like:</p>\n<p>my solution is to get any layout form your <code>.xml</code> by id and just count it using the same methods</p>\n<pre><code>layout.width\nlayout.height\n</code></pre>\n<p>or</p>\n<pre><code>        // on below line we are creating and\n        // initializing variable for display metrics.\n        val displayMetrics = DisplayMetrics()\n \n        // on below line we are getting metrics\n        // for display using window manager.\n        windowManager.defaultDisplay.getMetrics(displayMetrics)\n \n        // on below line we are getting height\n        // and width using display metrics.\n        val height = displayMetrics.heightPixels\n        val width = displayMetrics.widthPixels\n</code></pre>\n<p>Also if you want to handle showing images on UI just use <code>Glide Library</code></p>\n"}],"owner":{"account_id":25929375,"reputation":69,"user_id":19650731,"display_name":"Eldestornillador"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660234806,"creation_date":1660233971,"question_id":73323809,"body_markdown":"So imagine that I have an image that is 700x700 px in res folder and I want my app to support different pixel densities. So according to the documentation:\r\n\r\nldpi -- 0.75x\\\r\nmdpi -- 1x\\\r\nhdpi -- 1.5x\\\r\nxhdpi -- 2.0x\\\r\nxxhdpi -- 3.0x\\\r\nxxxhdpi -- 4.0x\r\n\r\nSo now, my question is, if my image is 700x700 px , I can think that those 700x700px are the resolution of 1x (mdpi), so the resolutions for the different densities would be the following:\r\n\r\nldpi -- 525x525px\\\r\nmdpi -- 700x700px\\\r\nhdpi -- 1050x1050px\\\r\nxhdpi -- 1400x1400px\\\r\nxxhdpi -- 2100x2100px\\\r\nxxxhdpi -- 2800x2800px\r\n\r\nBut also I can think that my 700x700 image that I have is for the biggest density, so it is the 4.0x (xxxhdpi) , so the resolutions for the different densities would be the following:\r\n\r\nldpi -- 131.25x131.25px\\\r\nmdpi -- 175x175px\\\r\nhdpi -- 262.5x262.5px\\\r\nxhdpi -- 350x350px\\\r\nxxhdpi -- 525x525px\\\r\nxxxhdpi -- 700x700px\r\n\r\n\r\nBut also , I can think that those 700x700px are for ldpi,hdpi,xhdpi,xxhdpi, so there are there are six different possible combinations... I would like to know which of all should be the density base of my 700x700 px image. I think that maybe knowing a pixel range table of all the densities that shows the minimum and maximum pixels for each density would be really helpful.","title":"How can I know the pixels range for all screen densities in Android ? (base density of an image)","body":"<p>So imagine that I have an image that is 700x700 px in res folder and I want my app to support different pixel densities. So according to the documentation:</p>\n<p>ldpi -- 0.75x<br />\nmdpi -- 1x<br />\nhdpi -- 1.5x<br />\nxhdpi -- 2.0x<br />\nxxhdpi -- 3.0x<br />\nxxxhdpi -- 4.0x</p>\n<p>So now, my question is, if my image is 700x700 px , I can think that those 700x700px are the resolution of 1x (mdpi), so the resolutions for the different densities would be the following:</p>\n<p>ldpi -- 525x525px<br />\nmdpi -- 700x700px<br />\nhdpi -- 1050x1050px<br />\nxhdpi -- 1400x1400px<br />\nxxhdpi -- 2100x2100px<br />\nxxxhdpi -- 2800x2800px</p>\n<p>But also I can think that my 700x700 image that I have is for the biggest density, so it is the 4.0x (xxxhdpi) , so the resolutions for the different densities would be the following:</p>\n<p>ldpi -- 131.25x131.25px<br />\nmdpi -- 175x175px<br />\nhdpi -- 262.5x262.5px<br />\nxhdpi -- 350x350px<br />\nxxhdpi -- 525x525px<br />\nxxxhdpi -- 700x700px</p>\n<p>But also , I can think that those 700x700px are for ldpi,hdpi,xhdpi,xxhdpi, so there are there are six different possible combinations... I would like to know which of all should be the density base of my 700x700 px image. I think that maybe knowing a pixel range table of all the densities that shows the minimum and maximum pixels for each density would be really helpful.</p>\n"},{"tags":["java","mysql","docker"],"owner":{"account_id":24706020,"reputation":31,"user_id":18596831,"display_name":"Matvey Androsyuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660234629,"creation_date":1660234629,"question_id":73323952,"body_markdown":"Salute, guys, I was creating my application on JavaEE using as database MySQL. It works correctly, but now i need to run mysql server from docker container. Here I got problems. I am demonstrating my code https://github.com/MatveyAndrosyukk/javaee_rest_jdbc_todo_list:\r\n\r\n1.My DataSourse URL:\r\n```\r\n    final static String URL = &quot;jdbc:mysql://localhost:3306/javaee_task_db?useSSL=false&quot;;\r\n```\r\n2.My URL from pom.xml in FlyWay configuration:\r\n```\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;com.googlecode.flyway&lt;/groupId&gt;\r\n          &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;1.5&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;user&gt;user228&lt;/user&gt;\r\n            &lt;password&gt;user228&lt;/password&gt;\r\n            &lt;driver&gt;com.mysql.jdbc.Driver&lt;/driver&gt;\r\n            &lt;url&gt;jdbc:mysql://mysql_db:3306/javaee_task_db?autoReconnect=true&amp;amp;useUnicode=true&amp;amp;characterEncoding=UTF-8&amp;amp;connectionCollation=utf8_general_ci&amp;amp;characterSetResults=UTF-8&lt;/url&gt;\r\n          &lt;/configuration&gt;\r\n         &lt;/plugin&gt;\r\n```\r\n\r\n3.I started MySQL container using Docker: ``` docker run --name mysql_db -p 3308:3306 --hostname=mysql_db -e MYSQL_ROOT_PASSWORD=secret -e MYSQL_DATABASE=javaee_task_db -e MYSQL_USER=user228 -e  MYSQL_PASSWORD=user228 -v $HOME/mysql-data:/var/lib/mysql -d mysql:8.0```\r\n\r\n4.Then I changed DataSourse connection URL and did the same in pom.xml:\r\n```\r\n    final static String URL = &quot;jdbc:mysql://mysql_db:3306/javaee_task_db?useSSL=false&quot;;\r\n```\r\n\r\n5.Thy to start my application and get errors:\r\n\r\n```\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\r\n\tat com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\r\n\tat api.configuration.datasource.DataSourceMySQL.&lt;clinit&gt;(DataSourceMySQL.java:38)\r\n\tat api.servlets.context.ContextListener.contextInitialized(ContextListener.java:34)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1783)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\r\n\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\r\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:460)\r\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:408)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\r\n\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\r\n\tat java.management/com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:472)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1412)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)\r\n\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n\tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:120)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)\r\n\t... 58 common frames omitted\r\nCaused by: java.net.UnknownHostException: Этот хост неизвестен (mysql_db)\r\n\tat java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\r\n\tat java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:933)\r\n\tat java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1519)\r\n\tat java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852)\r\n\tat java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1509)\r\n\tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1367)\r\n\tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1301)\r\n\tat com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:130)\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)\r\n\t... 61 common frames omitted\r\n19:15:15.876 [RMI TCP Connection(3)-127.0.0.1] ERROR com.zaxxer.hikari.pool.HikariPool - restServiceDbPool - Exception during pool initialization.\r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\r\n\tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\r\n\tat com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\r\n\tat api.configuration.datasource.DataSourceMySQL.&lt;clinit&gt;(DataSourceMySQL.java:38)\r\n\tat api.servlets.context.ContextListener.contextInitialized(ContextListener.java:34)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1783)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\r\n\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\r\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:460)\r\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:408)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\r\n\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\r\n\tat java.management/com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:472)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1412)\r\n\tat java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)\r\n\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n\tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\r\n\tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)\r\n\tat com.mysql.cj.NativeSession.connect(NativeSession.java:120)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)\r\n\tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)\r\n\t... 58 common frames omitted\r\nCaused by: java.net.UnknownHostException: Этот хост неизвестен (mysql_db)\r\n\tat java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\r\n\tat java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:933)\r\n\tat java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1519)\r\n\tat java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852)\r\n\tat java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1509)\r\n\tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1367)\r\n\tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1301)\r\n\tat com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:130)\r\n\tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)\r\n\t... 61 common frames omitted\r\n```\r\n\r\nWhat I made wrong?\r\n","title":"JavaEE can&#39;t create connection with docker&#39;s MySQL container","body":"<p>Salute, guys, I was creating my application on JavaEE using as database MySQL. It works correctly, but now i need to run mysql server from docker container. Here I got problems. I am demonstrating my code <a href=\"https://github.com/MatveyAndrosyukk/javaee_rest_jdbc_todo_list\" rel=\"nofollow noreferrer\">https://github.com/MatveyAndrosyukk/javaee_rest_jdbc_todo_list</a>:</p>\n<p>1.My DataSourse URL:</p>\n<pre><code>    final static String URL = &quot;jdbc:mysql://localhost:3306/javaee_task_db?useSSL=false&quot;;\n</code></pre>\n<p>2.My URL from pom.xml in FlyWay configuration:</p>\n<pre><code>        &lt;plugin&gt;\n          &lt;groupId&gt;com.googlecode.flyway&lt;/groupId&gt;\n          &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;1.5&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;user&gt;user228&lt;/user&gt;\n            &lt;password&gt;user228&lt;/password&gt;\n            &lt;driver&gt;com.mysql.jdbc.Driver&lt;/driver&gt;\n            &lt;url&gt;jdbc:mysql://mysql_db:3306/javaee_task_db?autoReconnect=true&amp;amp;useUnicode=true&amp;amp;characterEncoding=UTF-8&amp;amp;connectionCollation=utf8_general_ci&amp;amp;characterSetResults=UTF-8&lt;/url&gt;\n          &lt;/configuration&gt;\n         &lt;/plugin&gt;\n</code></pre>\n<p>3.I started MySQL container using Docker: <code> docker run --name mysql_db -p 3308:3306 --hostname=mysql_db -e MYSQL_ROOT_PASSWORD=secret -e MYSQL_DATABASE=javaee_task_db -e MYSQL_USER=user228 -e  MYSQL_PASSWORD=user228 -v $HOME/mysql-data:/var/lib/mysql -d mysql:8.0</code></p>\n<p>4.Then I changed DataSourse connection URL and did the same in pom.xml:</p>\n<pre><code>    final static String URL = &quot;jdbc:mysql://mysql_db:3306/javaee_task_db?useSSL=false&quot;;\n</code></pre>\n<p>5.Thy to start my application and get errors:</p>\n<pre><code>The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448)\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\n    at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\n    at api.configuration.datasource.DataSourceMySQL.&lt;clinit&gt;(DataSourceMySQL.java:38)\n    at api.servlets.context.ContextListener.contextInitialized(ContextListener.java:34)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1783)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n    at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\n    at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:460)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:408)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n    at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\n    at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\n    at java.management/com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:472)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1412)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n    at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:120)\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)\n    ... 58 common frames omitted\nCaused by: java.net.UnknownHostException: Этот хост неизвестен (mysql_db)\n    at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\n    at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:933)\n    at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1519)\n    at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852)\n    at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1509)\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1367)\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1301)\n    at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:130)\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)\n    ... 61 common frames omitted\n19:15:15.876 [RMI TCP Connection(3)-127.0.0.1] ERROR com.zaxxer.hikari.pool.HikariPool - restServiceDbPool - Exception during pool initialization.\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448)\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\n    at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\n    at api.configuration.datasource.DataSourceMySQL.&lt;clinit&gt;(DataSourceMySQL.java:38)\n    at api.servlets.context.ContextListener.contextInitialized(ContextListener.java:34)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1783)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n    at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\n    at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:460)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:408)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n    at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\n    at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)\n    at java.management/com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:472)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1472)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1310)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1412)\n    at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n    at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:120)\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)\n    ... 58 common frames omitted\nCaused by: java.net.UnknownHostException: Этот хост неизвестен (mysql_db)\n    at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\n    at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:933)\n    at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1519)\n    at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:852)\n    at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1509)\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1367)\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1301)\n    at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:130)\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)\n    ... 61 common frames omitted\n</code></pre>\n<p>What I made wrong?</p>\n"},{"tags":["java","gpu","hardware","aparapi"],"owner":{"account_id":17981208,"reputation":29,"user_id":13067500,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660234469,"creation_date":1660082500,"question_id":73298556,"body_markdown":"I am creating a program that needs to run many calculations simultaneously so i looked for a gpu solution to make it run faster. I implemented the code found here: https://github.com/Syncleus/aparapi-examples/tree/master/src/main/java/com/aparapi/examples/add into this function that would add 2 arrays of values on the GPU:\r\n```\r\n    public static double[] addWithGPU(double[] a, double[] b) {\r\n        final double[] sum = new double[a.length];\r\n\r\n        Kernel kernel = new Kernel(){\r\n            @Override\r\n            public void run() {\r\n                int gid = getGlobalId();\r\n                sum[gid] = a[gid] + b[gid];\r\n            }\r\n        };\r\n\r\n        kernel.execute(Range.create(a.length));\r\n\r\n        kernel.dispose();\r\n        return sum;\r\n    }\r\n```\r\nI used this code in my main class:\r\n```\r\n    public Main() {\r\n        GPU.addWithGPU(new double[] {1, 2, 3}, new double[] {3, 2, 1});\r\n        thread = new Thread(() -&gt; {\r\n            // Code here\r\n        });\r\n        thread.start();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Main();\r\n    }\r\n```\r\nI also tried this:\r\n```\r\n    final double[] a1 = {1, 2, 3};\r\n    final double[] a2 = {3, 2, 1};\r\n\r\n    public Main() {\r\n        GPU.addWithGPU(a1, a2);\r\n        thread = new Thread(() -&gt; {\r\n            // Code here\r\n        });\r\n        thread.start();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Main();\r\n    }\r\n```\r\nI also tried to make the &quot;addWithGPU&quot; function non static however i still got the error of:\r\n&gt;com.aparapi.internal.model.ClassModel$AttributePool &lt;init&gt;\r\nWARNING: Found unexpected Attribute (name = NestHost)\r\n\r\nSomtimes the code just continues running after the error however sometimes the program just hangs, and it is inconsistent, I belive it may be based on if any other programs are using my GPU at the time however I am not sure.\r\n\r\nMy PC specs are:\r\nGPU: Nvidia RTX 3060, CPU: Intel Core i9 12900KF, Motherboard: ASUS PRIME Z690-P d4 wifi and the software I am using is IntelliJ IDEA CE\r\n\r\nI also would prefer and answer using the aparapi api since I am not great at low level programming, but i will be open so swiching api&#39;s if the aparapi api is simply out of date or has a complicated solution where it would just be simpler to swap api&#39;s.","title":"Getting &quot;WARNING: Found unexpected Attribute (name = NestHost)&quot; when running calculations on the gpu using the aparapi api in java","body":"<p>I am creating a program that needs to run many calculations simultaneously so i looked for a gpu solution to make it run faster. I implemented the code found here: <a href=\"https://github.com/Syncleus/aparapi-examples/tree/master/src/main/java/com/aparapi/examples/add\" rel=\"nofollow noreferrer\">https://github.com/Syncleus/aparapi-examples/tree/master/src/main/java/com/aparapi/examples/add</a> into this function that would add 2 arrays of values on the GPU:</p>\n<pre><code>    public static double[] addWithGPU(double[] a, double[] b) {\n        final double[] sum = new double[a.length];\n\n        Kernel kernel = new Kernel(){\n            @Override\n            public void run() {\n                int gid = getGlobalId();\n                sum[gid] = a[gid] + b[gid];\n            }\n        };\n\n        kernel.execute(Range.create(a.length));\n\n        kernel.dispose();\n        return sum;\n    }\n</code></pre>\n<p>I used this code in my main class:</p>\n<pre><code>    public Main() {\n        GPU.addWithGPU(new double[] {1, 2, 3}, new double[] {3, 2, 1});\n        thread = new Thread(() -&gt; {\n            // Code here\n        });\n        thread.start();\n    }\n\n    public static void main(String[] args) {\n        new Main();\n    }\n</code></pre>\n<p>I also tried this:</p>\n<pre><code>    final double[] a1 = {1, 2, 3};\n    final double[] a2 = {3, 2, 1};\n\n    public Main() {\n        GPU.addWithGPU(a1, a2);\n        thread = new Thread(() -&gt; {\n            // Code here\n        });\n        thread.start();\n    }\n\n    public static void main(String[] args) {\n        new Main();\n    }\n</code></pre>\n<p>I also tried to make the &quot;addWithGPU&quot; function non static however i still got the error of:</p>\n<blockquote>\n<p>com.aparapi.internal.model.ClassModel$AttributePool \nWARNING: Found unexpected Attribute (name = NestHost)</p>\n</blockquote>\n<p>Somtimes the code just continues running after the error however sometimes the program just hangs, and it is inconsistent, I belive it may be based on if any other programs are using my GPU at the time however I am not sure.</p>\n<p>My PC specs are:\nGPU: Nvidia RTX 3060, CPU: Intel Core i9 12900KF, Motherboard: ASUS PRIME Z690-P d4 wifi and the software I am using is IntelliJ IDEA CE</p>\n<p>I also would prefer and answer using the aparapi api since I am not great at low level programming, but i will be open so swiching api's if the aparapi api is simply out of date or has a complicated solution where it would just be simpler to swap api's.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":25757421,"reputation":381,"user_id":19508866,"display_name":"Rohit Bhati"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1660145924,"creation_date":1660145924,"answer_id":73309086,"question_id":73309018,"body_markdown":"   You can not use `findViewById()` outside of `onCreate()` like this and if you really wanna do that, do it by creating a new method for setting up IDs and then add that method in `onCreate()`.\r\n\r\nthis code will do the work now:\r\n\r\n        package com.example.myapplication;\r\n        import androidx.appcompat.app.AppCompatActivity;\r\n        import android.content.Intent;\r\n        import android.view.View;\r\n        import android.widget.Button;\r\n        import android.os.Bundle;\r\n        \r\n        public class MainActivity extends AppCompatActivity {\r\n        \r\n        public Button signUp;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            signUp = findViewById(R.id.signUpBtn);\r\n            signUp.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    openActivity();\r\n                }\r\n            });\r\n        }\r\n        \r\n        public void openActivity(){\r\n            Intent intent = new Intent(this, LoginActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    }","title":"Android chat app keeps on crashing when I run it","body":"<p>You can not use <code>findViewById()</code> outside of <code>onCreate()</code> like this and if you really wanna do that, do it by creating a new method for setting up IDs and then add that method in <code>onCreate()</code>.</p>\n<p>this code will do the work now:</p>\n<pre><code>    package com.example.myapplication;\n    import androidx.appcompat.app.AppCompatActivity;\n    import android.content.Intent;\n    import android.view.View;\n    import android.widget.Button;\n    import android.os.Bundle;\n    \n    public class MainActivity extends AppCompatActivity {\n    \n    public Button signUp;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        signUp = findViewById(R.id.signUpBtn);\n        signUp.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openActivity();\n            }\n        });\n    }\n    \n    public void openActivity(){\n        Intent intent = new Intent(this, LoginActivity.class);\n        startActivity(intent);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20146313,"reputation":1,"user_id":14774743,"display_name":"Jareer Abdullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660234161,"creation_date":1660145618,"question_id":73309018,"body_markdown":"I have just begun writing some code for my Chat app after days of planning but the problem is that keeps on crashing right after the Gradle Build has finished and the app is installed on my device. I have created a button that is expected to open a new activity but instead of doing so it crashes. Everything works before I have written any code, the app opens and logcat doesn&#39;t show any errors. Here is the error:\r\n\r\n    2022-08-10 19:26:48.372 15348-15348/? E/e.myapplicatio: Unknown bits set in runtime_flags: 0x40000000\r\n    2022-08-10 19:26:48.391 15348-15348/? E/RefClass: java.lang.reflect.InvocationTargetException\r\n    2022-08-10 19:26:48.474 15348-15348/com.example.myapplication E/Perf:  perftest packageName : com.example.myapplication App is allowed to use Hide APIs  \r\n    2022-08-10 19:26:48.515 15348-15374/com.example.myapplication E/libEGL: Invalid file path for libcolorx-loader.so\r\n    2022-08-10 19:26:48.528 15348-15348/com.example.myapplication E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.myapplication, PID: 15348\r\n        java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.myapplication/com.example.myapplication.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3628)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3887)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:140)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:100)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2317)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:263)\r\n            at android.app.ActivityThread.main(ActivityThread.java:8292)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)\r\n         Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference\r\n            at android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:183)\r\n            at android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:174)\r\n            at android.content.Context.obtainStyledAttributes(Context.java:744)\r\n            at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:848)\r\n            at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:815)\r\n            at androidx.appcompat.app.AppCompatDelegateImpl.findViewById(AppCompatDelegateImpl.java:640)\r\n            at androidx.appcompat.app.AppCompatActivity.findViewById(AppCompatActivity.java:259)\r\n            at com.example.myapplication.MainActivity.&lt;init&gt;(MainActivity.java:12)\r\n            at java.lang.Class.newInstance(Native Method)\r\n            at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\n            at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n            at android.app.Instrumentation.newActivity(Instrumentation.java:1254)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3616)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3887)&#160;\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:140)&#160;\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:100)&#160;\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2317)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n            at android.os.Looper.loop(Looper.java:263)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:8292)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)&#160;\r\n\r\nI tried following some other suggestions but they didn&#39;t work. Here&#39;s the snippet of my code:\r\n\r\n~~~\r\npackage com.example.myapplication;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.content.Intent;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    public Button signUp = findViewById(R.id.signUpBtn);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        signUp.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                openActivity();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void openActivity(){\r\n        Intent intent = new Intent(this, LoginActivity.class);\r\n        startActivity(intent);\r\n    }\r\n}\r\n~~~","title":"Android chat app keeps on crashing when I run it","body":"<p>I have just begun writing some code for my Chat app after days of planning but the problem is that keeps on crashing right after the Gradle Build has finished and the app is installed on my device. I have created a button that is expected to open a new activity but instead of doing so it crashes. Everything works before I have written any code, the app opens and logcat doesn't show any errors. Here is the error:</p>\n<pre><code>2022-08-10 19:26:48.372 15348-15348/? E/e.myapplicatio: Unknown bits set in runtime_flags: 0x40000000\n2022-08-10 19:26:48.391 15348-15348/? E/RefClass: java.lang.reflect.InvocationTargetException\n2022-08-10 19:26:48.474 15348-15348/com.example.myapplication E/Perf:  perftest packageName : com.example.myapplication App is allowed to use Hide APIs  \n2022-08-10 19:26:48.515 15348-15374/com.example.myapplication E/libEGL: Invalid file path for libcolorx-loader.so\n2022-08-10 19:26:48.528 15348-15348/com.example.myapplication E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.myapplication, PID: 15348\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.myapplication/com.example.myapplication.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3628)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3887)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:140)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:100)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2317)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:263)\n        at android.app.ActivityThread.main(ActivityThread.java:8292)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference\n        at android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:183)\n        at android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:174)\n        at android.content.Context.obtainStyledAttributes(Context.java:744)\n        at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:848)\n        at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:815)\n        at androidx.appcompat.app.AppCompatDelegateImpl.findViewById(AppCompatDelegateImpl.java:640)\n        at androidx.appcompat.app.AppCompatActivity.findViewById(AppCompatActivity.java:259)\n        at com.example.myapplication.MainActivity.&lt;init&gt;(MainActivity.java:12)\n        at java.lang.Class.newInstance(Native Method)\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1254)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3616)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3887) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:140) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:100) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2317) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:263) \n        at android.app.ActivityThread.main(ActivityThread.java:8292) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006) \n</code></pre>\n<p>I tried following some other suggestions but they didn't work. Here's the snippet of my code:</p>\n<pre><code>package com.example.myapplication;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.Intent;\nimport android.view.View;\nimport android.widget.Button;\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    public Button signUp = findViewById(R.id.signUpBtn);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        signUp.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                openActivity();\n            }\n        });\n    }\n\n    public void openActivity(){\n        Intent intent = new Intent(this, LoginActivity.class);\n        startActivity(intent);\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","sql","mariadb","resultset"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1660215108,"post_id":73319135,"comment_id":129482590,"body_markdown":"Process each row retrieved from the table and save it in a `List`.","body":"Process each row retrieved from the table and save it in a <code>List</code>."}],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660234144,"creation_date":1660234144,"answer_id":73323849,"question_id":73319135,"body_markdown":"The MySQL Connector/J fetches rows in batches, according to the &quot;fetchSize&quot;. You can set this as a property of the statement.\r\n\r\nRead the documentation about `ResultSet` here: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-implementation-notes.html\r\n\r\n","title":"How to &quot;convert&quot; ResultSet in a local variables without having it &quot;plugged&quot; to db?","body":"<p>The MySQL Connector/J fetches rows in batches, according to the &quot;fetchSize&quot;. You can set this as a property of the statement.</p>\n<p>Read the documentation about <code>ResultSet</code> here: <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-implementation-notes.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-implementation-notes.html</a></p>\n"}],"owner":{"account_id":7555436,"reputation":1397,"user_id":5953720,"accept_rate":63,"display_name":"Allexj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1660234373,"answer_count":1,"score":0,"last_activity_date":1660234144,"creation_date":1660213598,"question_id":73319135,"body_markdown":"when I get a ResultSet output, it is always &quot;plugged&quot; to db, so every time I use &quot;resultset.next()&quot; it actually do requests to db. I always thought that when I perform something like this: \r\n\r\n    public static ResultSet getInfoFromDB(){\r\n            ResultSet resultSet;\r\n            try{\r\n                Connection connection = connectDB();\r\n                Statement statement = connection.createStatement();\r\n                resultSet = statement.executeQuery(&quot;SELECT * from tablex&quot;);\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            return resultSet;\r\n        }\r\n\r\nI thought that since I am selecting * from table, that it was return ALL the table into the variable resultSet.... but it acutally isn&#39;t.\r\n\r\nHow to retrieve all the table and save into a &quot;local&quot; (non &quot;plugged&quot; to db) variable that I can return and manipulate it in local?","title":"How to &quot;convert&quot; ResultSet in a local variables without having it &quot;plugged&quot; to db?","body":"<p>when I get a ResultSet output, it is always &quot;plugged&quot; to db, so every time I use &quot;resultset.next()&quot; it actually do requests to db. I always thought that when I perform something like this:</p>\n<pre><code>public static ResultSet getInfoFromDB(){\n        ResultSet resultSet;\n        try{\n            Connection connection = connectDB();\n            Statement statement = connection.createStatement();\n            resultSet = statement.executeQuery(&quot;SELECT * from tablex&quot;);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n        return resultSet;\n    }\n</code></pre>\n<p>I thought that since I am selecting * from table, that it was return ALL the table into the variable resultSet.... but it acutally isn't.</p>\n<p>How to retrieve all the table and save into a &quot;local&quot; (non &quot;plugged&quot; to db) variable that I can return and manipulate it in local?</p>\n"},{"tags":["java","spring","grails"],"answers":[{"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1660233882,"creation_date":1266357512,"answer_id":2276669,"question_id":2276624,"body_markdown":"\r\n[The Grails documentation][1] describes a way to get a service when in a servlet. This might be useful, if you can obtain the same objects in your context:\r\n\r\n    ApplicationContext ctx = (ApplicationContext)ApplicationHolder.getApplication().getMainContext();\r\n    CountryServiceInt service = (CountryServiceInt) ctx.getBean(&quot;countryService&quot;);\r\n    String str = service.sayHello(request.getParameter.(&quot;name&quot;));    \r\n\r\n  [1]: http://web.archive.org/web/20100724145043/http://www.grails.org/Services\r\n","title":"How do I get an instance of a Grails service programmatically?","body":"<p><a href=\"http://web.archive.org/web/20100724145043/http://www.grails.org/Services\" rel=\"nofollow noreferrer\">The Grails documentation</a> describes a way to get a service when in a servlet. This might be useful, if you can obtain the same objects in your context:</p>\n<pre><code>ApplicationContext ctx = (ApplicationContext)ApplicationHolder.getApplication().getMainContext();\nCountryServiceInt service = (CountryServiceInt) ctx.getBean(&quot;countryService&quot;);\nString str = service.sayHello(request.getParameter.(&quot;name&quot;));    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":334901,"reputation":323,"user_id":661650,"display_name":"Marcin"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1371714181,"creation_date":1371714181,"answer_id":17207955,"question_id":2276624,"body_markdown":"Since ApplicationHolder has been deprecated, this is another way to get the ApplicationContext:\r\n\r\n    ApplicationContext ctx = Holders.grailsApplication.mainContext ","title":"How do I get an instance of a Grails service programmatically?","body":"<p>Since ApplicationHolder has been deprecated, this is another way to get the ApplicationContext:</p>\n\n<pre><code>ApplicationContext ctx = Holders.grailsApplication.mainContext \n</code></pre>\n"}],"owner":{"account_id":49409,"reputation":1970,"user_id":147095,"accept_rate":76,"display_name":"Thody"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11321,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":2276669,"answer_count":2,"score":11,"last_activity_date":1660233882,"creation_date":1266357023,"question_id":2276624,"body_markdown":"I have an external data source, which will return a string indicating the name of a Grails service to use.\r\n\r\nWhat&#39;s the syntax to get an instance of this service programatically given the name of the service as a String?\r\n\r\nie. given &#39;GoogleWeather&#39;, give me an instance of GoogleWeatherService.\r\n\r\nThanks!","title":"How do I get an instance of a Grails service programmatically?","body":"<p>I have an external data source, which will return a string indicating the name of a Grails service to use.</p>\n\n<p>What's the syntax to get an instance of this service programatically given the name of the service as a String?</p>\n\n<p>ie. given 'GoogleWeather', give me an instance of GoogleWeatherService.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","android","android-studio","kotlin","intellij-idea"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1586377039,"post_id":61109221,"comment_id":108109943,"body_markdown":"How are you defining &quot;all projects&quot;?","body":"How are you defining &quot;all projects&quot;?"},{"owner":{"account_id":2601421,"reputation":9836,"user_id":2253682,"accept_rate":44,"display_name":"AdamHurwitz"},"score":0,"creation_date":1586377109,"post_id":61109221,"comment_id":108109972,"body_markdown":"The desired goal and what I mean by &#39;all projects&#39; is for this to be a default setting moving forward when opening an existing project or creating a new project.","body":"The desired goal and what I mean by &#39;all projects&#39; is for this to be a default setting moving forward when opening an existing project or creating a new project."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1586377287,"post_id":61109221,"comment_id":108110061,"body_markdown":"Then it would seem that checking that checkbox is what you want. You are looking at IDE-level settings, not project-specific ones.","body":"Then it would seem that checking that checkbox is what you want. You are looking at IDE-level settings, not project-specific ones."},{"owner":{"account_id":2601421,"reputation":9836,"user_id":2253682,"accept_rate":44,"display_name":"AdamHurwitz"},"score":1,"creation_date":1586377529,"post_id":61109221,"comment_id":108110182,"body_markdown":"`Add unambiguous imports on the fly` is IDE-level settings. However, `Optimize imports on the fly` does not appear to be as the parenthesis state `for current project`. I&#39;ve tested this by creating a new project and opening the settings. As expected, `Add unambiguous imports on the fly` is selected while `Optimize imports on the fly` is not selected.","body":"<code>Add unambiguous imports on the fly</code> is IDE-level settings. However, <code>Optimize imports on the fly</code> does not appear to be as the parenthesis state <code>for current project</code>. I&#39;ve tested this by creating a new project and opening the settings. As expected, <code>Add unambiguous imports on the fly</code> is selected while <code>Optimize imports on the fly</code> is not selected."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1586377646,"post_id":61109221,"comment_id":108110227,"body_markdown":"OK, that&#39;s a really strange settings UI design.","body":"OK, that&#39;s a really strange settings UI design."},{"owner":{"account_id":2601421,"reputation":9836,"user_id":2253682,"accept_rate":44,"display_name":"AdamHurwitz"},"score":0,"creation_date":1586378264,"post_id":61109221,"comment_id":108110523,"body_markdown":"It is indeed, it would be nice to not have to enable each time a new project is opened.","body":"It is indeed, it would be nice to not have to enable each time a new project is opened."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660233643,"creation_date":1660233643,"answer_id":73323736,"question_id":61109221,"body_markdown":"Unfortunately, it&#39;s not possible until [IDEA-237002](https://youtrack.jetbrains.com/issue/IDEA-237002) is fixed.","title":"Optimize imports on the fly for all projects in Android Studio/IntelliJ","body":"<p>Unfortunately, it's not possible until <a href=\"https://youtrack.jetbrains.com/issue/IDEA-237002\" rel=\"nofollow noreferrer\">IDEA-237002</a> is fixed.</p>\n"}],"owner":{"account_id":2601421,"reputation":9836,"user_id":2253682,"accept_rate":44,"display_name":"AdamHurwitz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1137,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1660233643,"creation_date":1586376697,"question_id":61109221,"body_markdown":"**Is there a way to optimize imports on the fly for all projects, not just &#39;for current project&#39; in Android Studio/IntelliJ?**\r\n\r\n# Expected\r\n\r\nOptimize imports to be enabled when opening an existing project and/or when creating new projects.\r\n\r\n# Observed\r\n\r\n`Add unambiguous imports on the fly` is IDE-level settings. However, `Optimize imports on the fly` does not appear to be as the parenthesis state `for current project`. I&#39;ve tested this by creating a new project and opening the settings. As expected, `Add unambiguous imports on the fly` is selected while `Optimize imports on the fly` is not selected.\r\n\r\nThe current IntelliJ documentation, [Auto imports][1], does not provide a solution.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n# Attempted solution\r\n\r\nEnable `Optimize imports on the fly (for current project)` under _Preferences for New Projects..._\r\n\r\nThis produced the same observed result above.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThis has also been added to the [IntelliJ community forum][5].  \r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/creating-and-optimizing-imports.html\r\n  [2]: https://i.stack.imgur.com/b29ko.png\r\n  [3]: https://i.stack.imgur.com/rKDW0.jpg\r\n  [4]: https://i.stack.imgur.com/TDCpe.png\r\n  [5]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/360007960300-Optimize-imports-on-the-fly-for-all-projects-instead-of-for-current-project-","title":"Optimize imports on the fly for all projects in Android Studio/IntelliJ","body":"<p><strong>Is there a way to optimize imports on the fly for all projects, not just 'for current project' in Android Studio/IntelliJ?</strong></p>\n\n<h1>Expected</h1>\n\n<p>Optimize imports to be enabled when opening an existing project and/or when creating new projects.</p>\n\n<h1>Observed</h1>\n\n<p><code>Add unambiguous imports on the fly</code> is IDE-level settings. However, <code>Optimize imports on the fly</code> does not appear to be as the parenthesis state <code>for current project</code>. I've tested this by creating a new project and opening the settings. As expected, <code>Add unambiguous imports on the fly</code> is selected while <code>Optimize imports on the fly</code> is not selected.</p>\n\n<p>The current IntelliJ documentation, <a href=\"https://www.jetbrains.com/help/idea/creating-and-optimizing-imports.html\" rel=\"noreferrer\">Auto imports</a>, does not provide a solution.</p>\n\n<p><a href=\"https://i.stack.imgur.com/b29ko.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/b29ko.png\" alt=\"enter image description here\"></a></p>\n\n<h1>Attempted solution</h1>\n\n<p>Enable <code>Optimize imports on the fly (for current project)</code> under <em>Preferences for New Projects...</em></p>\n\n<p>This produced the same observed result above.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rKDW0.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rKDW0.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/TDCpe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TDCpe.png\" alt=\"enter image description here\"></a></p>\n\n<p>This has also been added to the <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360007960300-Optimize-imports-on-the-fly-for-all-projects-instead-of-for-current-project-\" rel=\"noreferrer\">IntelliJ community forum</a>.  </p>\n"},{"tags":["java","scala","user-interface","javafx","scalafx"],"comments":[{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1660233237,"post_id":73323218,"comment_id":129489774,"body_markdown":"You should just use Pane and add scene graph geometries to it or draw into a Canvas.","body":"You should just use Pane and add scene graph geometries to it or draw into a Canvas."}],"answers":[{"tags":[],"owner":{"account_id":15056715,"reputation":1,"user_id":18898152,"display_name":"user18898152"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660233368,"creation_date":1660233368,"answer_id":73323662,"question_id":73323218,"body_markdown":"Just found a solution. I&#39;ve found this can be solved by fixing the exact column and row widths and heights to the same value as the line lengths, like so:\r\n\r\n```\r\nval rowConst = new RowConstraints()\r\n// remove: rowConst.setPercentHeight(100.0 / sizey)\r\nrowConst.setMinHeight(length)\r\nrowConst.setMaxHeight(length)\r\nr.getRowConstraints().add(rowConst) \r\n```\r\nWith `length` passed into the initialisation function, of course.","title":"How to draw a grid out of grid squares seamlessly in JavaFX","body":"<p>Just found a solution. I've found this can be solved by fixing the exact column and row widths and heights to the same value as the line lengths, like so:</p>\n<pre><code>val rowConst = new RowConstraints()\n// remove: rowConst.setPercentHeight(100.0 / sizey)\nrowConst.setMinHeight(length)\nrowConst.setMaxHeight(length)\nr.getRowConstraints().add(rowConst) \n</code></pre>\n<p>With <code>length</code> passed into the initialisation function, of course.</p>\n"}],"owner":{"account_id":15056715,"reputation":1,"user_id":18898152,"display_name":"user18898152"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660233368,"creation_date":1660231345,"question_id":73323218,"body_markdown":"I&#39;m been writing maze algorithms, and want to draw the mazes generated using JavaFX.\r\n\r\nTo begin with, I&#39;m attempting to draw a simple grid - but made up of smaller shapes so that I&#39;ll later be able to change the shape of the grid into that of a maze.\r\n\r\nI&#39;m using little upper left corner shapes (like ┏) and a `GridPane`, but this is leading to small discontinuities between the cells. (screenshot and code below). How can I wedge these shapes together seamlessly? Am I barking up the wrong tree with the `Gridpane` idea?\r\n\r\n[attempted grid drawing so far][1]\r\n\r\n\r\n\r\nMy code, below, is actually written in Scala; I&#39;m using ScalaFX, but finding help for ScalaFX online is a nightmare so I&#39;ve been going solely off JavaFX docs - they are pretty much the same thing as far as I&#39;ve gathered.\r\n\r\n```\r\nval lineLength: Int = 30\r\n\r\ndef makeClosedCell(length: Int = lineLength): Shape = {\r\n    val wallN = Line(0,0,length,0)\r\n    val wallW = Line(0,0,0,length)\r\n    val closedCell: Shape = Shape.union(wallN, wallW)\r\n    return closedCell\r\n}\r\n\r\ndef makeOpenW(length: Int = lineLength): Shape = Line(0,0,length,0)\r\n\r\ndef makeOpenN(length: Int = lineLength): Shape = Line(0,0,0,length)\r\n\r\ndef initialiseGrid(r: GridPane, sizex: Int, sizey: Int): Unit = {\r\n    for (i &lt;- 0 until sizex) {\r\n        val colConst = new ColumnConstraints()\r\n        colConst.setPercentWidth(100.0 / sizex)\r\n        r.getColumnConstraints().add(colConst)\r\n    }\r\n    for (i &lt;- 0 until sizey) {\r\n        val rowConst = new RowConstraints()\r\n        rowConst.setPercentHeight(100.0 / sizey)\r\n        r.getRowConstraints().add(rowConst)     \r\n    }\r\n    for(j &lt;- sizey-1 to 0 by -1){\r\n        for(i &lt;- 0 until sizex){\r\n            r.add(makeClosedCell(),i,j)\r\n        }\r\n        r.add(makeOpenN(),sizex,j)\r\n    }\r\n    for(i &lt;- 0 until sizex){\r\n        r.add(makeOpenW(),i,sizey)\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5ExEi.png","title":"How to draw a grid out of grid squares seamlessly in JavaFX","body":"<p>I'm been writing maze algorithms, and want to draw the mazes generated using JavaFX.</p>\n<p>To begin with, I'm attempting to draw a simple grid - but made up of smaller shapes so that I'll later be able to change the shape of the grid into that of a maze.</p>\n<p>I'm using little upper left corner shapes (like ┏) and a <code>GridPane</code>, but this is leading to small discontinuities between the cells. (screenshot and code below). How can I wedge these shapes together seamlessly? Am I barking up the wrong tree with the <code>Gridpane</code> idea?</p>\n<p><a href=\"https://i.stack.imgur.com/5ExEi.png\" rel=\"nofollow noreferrer\">attempted grid drawing so far</a></p>\n<p>My code, below, is actually written in Scala; I'm using ScalaFX, but finding help for ScalaFX online is a nightmare so I've been going solely off JavaFX docs - they are pretty much the same thing as far as I've gathered.</p>\n<pre><code>val lineLength: Int = 30\n\ndef makeClosedCell(length: Int = lineLength): Shape = {\n    val wallN = Line(0,0,length,0)\n    val wallW = Line(0,0,0,length)\n    val closedCell: Shape = Shape.union(wallN, wallW)\n    return closedCell\n}\n\ndef makeOpenW(length: Int = lineLength): Shape = Line(0,0,length,0)\n\ndef makeOpenN(length: Int = lineLength): Shape = Line(0,0,0,length)\n\ndef initialiseGrid(r: GridPane, sizex: Int, sizey: Int): Unit = {\n    for (i &lt;- 0 until sizex) {\n        val colConst = new ColumnConstraints()\n        colConst.setPercentWidth(100.0 / sizex)\n        r.getColumnConstraints().add(colConst)\n    }\n    for (i &lt;- 0 until sizey) {\n        val rowConst = new RowConstraints()\n        rowConst.setPercentHeight(100.0 / sizey)\n        r.getRowConstraints().add(rowConst)     \n    }\n    for(j &lt;- sizey-1 to 0 by -1){\n        for(i &lt;- 0 until sizex){\n            r.add(makeClosedCell(),i,j)\n        }\n        r.add(makeOpenN(),sizex,j)\n    }\n    for(i &lt;- 0 until sizex){\n        r.add(makeOpenW(),i,sizey)\n    }\n}\n</code></pre>\n"},{"tags":["java","indexing","gremlin","tinkerpop","janusgraph"],"answers":[{"tags":[],"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660232795,"creation_date":1660228531,"answer_id":73322500,"question_id":73316305,"body_markdown":"JanusGraph will give you a warning or an error (depending if full graph scans are enabled) if a query is not being fully backed by the index that you have created. Further, adding a `.profile()` to your query will show you the current index usage. If you are seeing the warning/error then you need to take further index action.\r\n\r\nHere is an example using the `inmemory` backend, with the air-routes data set loaded.\r\n\r\n```\r\ngremlin&gt; graph=JanusGraphFactory.open(&#39;inmemory&#39;)\r\n==&gt;standardjanusgraph[inmemory:[127.0.0.1]]\r\n\r\ngremlin&gt; g=graph.traversal()\r\n==&gt;graphtraversalsource[standardjanusgraph[inmemory:[127.0.0.1]], standard]\r\n\r\ngremlin&gt; g.io(&#39;air-routes-latest.xml&#39;).read()\r\n```\r\n\r\nIf we try to run a query now, we get the index warning\r\n```\r\ngremlin&gt; g.V().has(&#39;code&#39;,within(&#39;AUS&#39;,&#39;SFO&#39;,&#39;DFW&#39;)).group().by(&#39;code&#39;)\r\n10:10:40 WARN  org.janusgraph.graphdb.transaction.StandardJanusGraphTx  - Query requires iterating over all vertices [((code = AUS OR code = SFO OR code = DFW))]. For better performance, use indexes\r\n\r\n==&gt;[DFW:[v[12512]],SFO:[v[20568]],AUS:[v[4096]]]\r\n```\r\nSo now let&#39;s create an index\r\n```\r\ngremlin&gt; graph.tx().rollback()\r\n==&gt;null\r\n\r\ngremlin&gt; mgmt = graph.openManagement()\r\n\r\n==&gt;org.janusgraph.graphdb.database.management.ManagementSystem@8e25d3f\r\n\r\ngremlin&gt; idx = mgmt.buildIndex(&#39;airportIndex&#39;,Vertex.class)\r\n\r\n==&gt;org.janusgraph.graphdb.database.management.ManagementSystem$IndexBuilder@388c519\r\n\r\ngremlin&gt; iata = mgmt.getPropertyKey(&#39;code&#39;)\r\n==&gt;code\r\n\r\ngremlin&gt; idx.addKey(iata).buildCompositeIndex()\r\n==&gt;airportIndex\r\n\r\ngremlin&gt; mgmt.commit()\r\n==null\r\n\r\ngremlin&gt; mgmt.awaitGraphIndexStatus(graph, &#39;airportIndex&#39;).\r\n......1&gt;      status(SchemaStatus.REGISTERED).call()\r\n\r\n==&gt;GraphIndexStatusReport[success=true, indexName=&#39;airportIndex&#39;, targetStatus=[REGISTERED], notConverged={}, converged={code=REGISTERED}, elapsed=PT6.016S]\r\n```\r\n\r\nNow we need to re-index\r\n\r\n```\r\ngremlin&gt; mgmt = graph.openManagement()\r\n==&gt;org.janusgraph.graphdb.database.management.ManagementSystem@6637a365\r\n\r\ngremlin&gt; mgmt.updateIndex(mgmt.getGraphIndex(&quot;airportIndex&quot;), SchemaAction.REINDEX).get()\r\n==&gt;org.janusgraph.diskstorage.keycolumnvalue.scan.StandardScanMetrics@6ee88e21\r\n\r\ngremlin&gt; mgmt.commit()\r\n==&gt;null\r\n```\r\n\r\nThe `profile()` will now show us if the index was used\r\n\r\n```\r\ngremlin&gt; g.V().has(&#39;code&#39;,&#39;SFO&#39;).profile()\r\n==&gt;Traversal Metrics\r\nStep                                                               Count  Traversers       Time (ms)    % Dur\r\n=============================================================================================================\r\nJanusGraphStep([],[code.eq(SFO)])                                      1           1           0.714   100.00\r\n  constructGraphCentricQuery                                                                   0.173\r\n  GraphCentricQuery                                                                            0.307\r\n    \\_condition=(code = SFO)\r\n    \\_orders=[]\r\n    \\_isFitted=true\r\n    \\_isOrdered=true\r\n    \\_query=multiKSQ[1]\r\n    \\_index=airportIndex\r\n                                            &gt;TOTAL                     -           -           0.714        -\r\n```\r\n\r\nLastly we can try to again group using the `code` property, and we get no warnings this time as the query is backed by the index.\r\n\r\n```\r\ngremlin&gt; g.V().has(&#39;code&#39;,within(&#39;AUS&#39;,&#39;SFO&#39;,&#39;DFW&#39;)).group().by(&#39;code&#39;)\r\n==&gt;[DFW:[v[4240]],SFO:[v[20584]],AUS:[v[8312]]]\r\n```\r\nThe same index will also work if we add a traversal to the `by` modulator. In fact the index is not even needed to resolve `values(&#39;code&#39;)` as it was already used to find the starting point, and after the `out` a set of additional vertices is already found.\r\n```\r\ngremlin&gt; g.V().has(&#39;code&#39;,&#39;SAF&#39;).group().by(out().values(&#39;code&#39;).fold())\r\n==&gt;[[DFW,LAX,PHX,DEN]:[v[24600]]]\r\n```\r\n\r\nSo in summary for this type of `group` operation, you should just be able to use the &quot;built-in&quot; JanusGraph composite index and not need to resort to an external (mixed) index, unless you are unable to do exact match type lookups.","title":"What index we should create for group by() queries in janus?","body":"<p>JanusGraph will give you a warning or an error (depending if full graph scans are enabled) if a query is not being fully backed by the index that you have created. Further, adding a <code>.profile()</code> to your query will show you the current index usage. If you are seeing the warning/error then you need to take further index action.</p>\n<p>Here is an example using the <code>inmemory</code> backend, with the air-routes data set loaded.</p>\n<pre><code>gremlin&gt; graph=JanusGraphFactory.open('inmemory')\n==&gt;standardjanusgraph[inmemory:[127.0.0.1]]\n\ngremlin&gt; g=graph.traversal()\n==&gt;graphtraversalsource[standardjanusgraph[inmemory:[127.0.0.1]], standard]\n\ngremlin&gt; g.io('air-routes-latest.xml').read()\n</code></pre>\n<p>If we try to run a query now, we get the index warning</p>\n<pre><code>gremlin&gt; g.V().has('code',within('AUS','SFO','DFW')).group().by('code')\n10:10:40 WARN  org.janusgraph.graphdb.transaction.StandardJanusGraphTx  - Query requires iterating over all vertices [((code = AUS OR code = SFO OR code = DFW))]. For better performance, use indexes\n\n==&gt;[DFW:[v[12512]],SFO:[v[20568]],AUS:[v[4096]]]\n</code></pre>\n<p>So now let's create an index</p>\n<pre><code>gremlin&gt; graph.tx().rollback()\n==&gt;null\n\ngremlin&gt; mgmt = graph.openManagement()\n\n==&gt;org.janusgraph.graphdb.database.management.ManagementSystem@8e25d3f\n\ngremlin&gt; idx = mgmt.buildIndex('airportIndex',Vertex.class)\n\n==&gt;org.janusgraph.graphdb.database.management.ManagementSystem$IndexBuilder@388c519\n\ngremlin&gt; iata = mgmt.getPropertyKey('code')\n==&gt;code\n\ngremlin&gt; idx.addKey(iata).buildCompositeIndex()\n==&gt;airportIndex\n\ngremlin&gt; mgmt.commit()\n==null\n\ngremlin&gt; mgmt.awaitGraphIndexStatus(graph, 'airportIndex').\n......1&gt;      status(SchemaStatus.REGISTERED).call()\n\n==&gt;GraphIndexStatusReport[success=true, indexName='airportIndex', targetStatus=[REGISTERED], notConverged={}, converged={code=REGISTERED}, elapsed=PT6.016S]\n</code></pre>\n<p>Now we need to re-index</p>\n<pre><code>gremlin&gt; mgmt = graph.openManagement()\n==&gt;org.janusgraph.graphdb.database.management.ManagementSystem@6637a365\n\ngremlin&gt; mgmt.updateIndex(mgmt.getGraphIndex(&quot;airportIndex&quot;), SchemaAction.REINDEX).get()\n==&gt;org.janusgraph.diskstorage.keycolumnvalue.scan.StandardScanMetrics@6ee88e21\n\ngremlin&gt; mgmt.commit()\n==&gt;null\n</code></pre>\n<p>The <code>profile()</code> will now show us if the index was used</p>\n<pre><code>gremlin&gt; g.V().has('code','SFO').profile()\n==&gt;Traversal Metrics\nStep                                                               Count  Traversers       Time (ms)    % Dur\n=============================================================================================================\nJanusGraphStep([],[code.eq(SFO)])                                      1           1           0.714   100.00\n  constructGraphCentricQuery                                                                   0.173\n  GraphCentricQuery                                                                            0.307\n    \\_condition=(code = SFO)\n    \\_orders=[]\n    \\_isFitted=true\n    \\_isOrdered=true\n    \\_query=multiKSQ[1]\n    \\_index=airportIndex\n                                            &gt;TOTAL                     -           -           0.714        -\n</code></pre>\n<p>Lastly we can try to again group using the <code>code</code> property, and we get no warnings this time as the query is backed by the index.</p>\n<pre><code>gremlin&gt; g.V().has('code',within('AUS','SFO','DFW')).group().by('code')\n==&gt;[DFW:[v[4240]],SFO:[v[20584]],AUS:[v[8312]]]\n</code></pre>\n<p>The same index will also work if we add a traversal to the <code>by</code> modulator. In fact the index is not even needed to resolve <code>values('code')</code> as it was already used to find the starting point, and after the <code>out</code> a set of additional vertices is already found.</p>\n<pre><code>gremlin&gt; g.V().has('code','SAF').group().by(out().values('code').fold())\n==&gt;[[DFW,LAX,PHX,DEN]:[v[24600]]]\n</code></pre>\n<p>So in summary for this type of <code>group</code> operation, you should just be able to use the &quot;built-in&quot; JanusGraph composite index and not need to resort to an external (mixed) index, unless you are unable to do exact match type lookups.</p>\n"}],"owner":{"account_id":24902387,"reputation":1,"user_id":18772897,"display_name":"Mounika Mandadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660232795,"creation_date":1660200059,"question_id":73316305,"body_markdown":"I have a sample use case in janus where student and skills are my nodes.\r\nFor a given student, I need to find similar student based on most skill overlap.\r\nI have written the following gremlin query,\r\n\r\n```java\r\n  g.V().\r\n  has(&#39;Student&#39;, &#39;id&#39;, &#39;1234&#39;).as(&#39;can&#39;).\r\n  out(&#39;HAS_SKILL&#39;).\r\n  inE(&#39;HAS_SKILL&#39;).\r\n  aggregate(&#39;users&#39;).\r\n  group().by(outV().values(&#39;name&#39;).as(&#39;sks&#39;)).\r\n  unfold().\r\n  project(&#39;total_count&#39;, &#39;similarUser&#39;, &#39;count&#39;, &#39;skills&#39;).\r\n    by(select(&#39;users&#39;).unfold().outV().dedup().count()).\r\n    by(select(keys)).\r\n    by(select(values).count(local)).\r\n    by(select(values).unfold().inV().values(&#39;skillName&#39;).fold()).\r\n  order().by(&#39;count&#39;, desc).\r\n  limit(10)\r\n```\r\n\r\n\r\n I have a composite index  on id.My question is, do we need index on &#39;name&#39; field too , because I am using group by? If yes, what type of index I should create on &#39;name&#39; (composite/mixed)?I tried with composite but my query is taking very much time","title":"What index we should create for group by() queries in janus?","body":"<p>I have a sample use case in janus where student and skills are my nodes.\nFor a given student, I need to find similar student based on most skill overlap.\nI have written the following gremlin query,</p>\n<pre class=\"lang-java prettyprint-override\"><code>  g.V().\n  has('Student', 'id', '1234').as('can').\n  out('HAS_SKILL').\n  inE('HAS_SKILL').\n  aggregate('users').\n  group().by(outV().values('name').as('sks')).\n  unfold().\n  project('total_count', 'similarUser', 'count', 'skills').\n    by(select('users').unfold().outV().dedup().count()).\n    by(select(keys)).\n    by(select(values).count(local)).\n    by(select(values).unfold().inV().values('skillName').fold()).\n  order().by('count', desc).\n  limit(10)\n</code></pre>\n<p>I have a composite index  on id.My question is, do we need index on 'name' field too , because I am using group by? If yes, what type of index I should create on 'name' (composite/mixed)?I tried with composite but my query is taking very much time</p>\n"},{"tags":["java","spring-boot","outputstream"],"answers":[{"tags":[],"owner":{"account_id":61178,"reputation":1255,"user_id":182474,"accept_rate":50,"display_name":"Gabor Garami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660232672,"creation_date":1660232672,"answer_id":73323508,"question_id":73321844,"body_markdown":"Most modern operation systems limits how many open files could an application have. If you keep a file open when it is not neccesary, you will have one more open file, one less free slots available for you. For some applications, the default 1024 slot is too much, but for some other applications, it&#39;s very few.\r\n\r\nAnyway, from operation perspective this is a bad pattern. Open the file when you need, close it when you finished with it. Write a helper method to make serialization and storing in file easier.","title":"Is there a disadvantage if I produce an OutputStream in configuration in a spring-boot application and keep it till the application instance runs?","body":"<p>Most modern operation systems limits how many open files could an application have. If you keep a file open when it is not neccesary, you will have one more open file, one less free slots available for you. For some applications, the default 1024 slot is too much, but for some other applications, it's very few.</p>\n<p>Anyway, from operation perspective this is a bad pattern. Open the file when you need, close it when you finished with it. Write a helper method to make serialization and storing in file easier.</p>\n"}],"owner":{"account_id":8290022,"reputation":61,"user_id":6232003,"display_name":"Bhanu Mittal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660232672,"creation_date":1660225745,"question_id":73321844,"body_markdown":"I wrote a method which creates a private key file and saves it on the disk. I have a spring-boot application which I will configure to produce this private key file and keep it as OutputStream in the application and use it when required. Are there any disadvantages or issues with this approach?","title":"Is there a disadvantage if I produce an OutputStream in configuration in a spring-boot application and keep it till the application instance runs?","body":"<p>I wrote a method which creates a private key file and saves it on the disk. I have a spring-boot application which I will configure to produce this private key file and keep it as OutputStream in the application and use it when required. Are there any disadvantages or issues with this approach?</p>\n"},{"tags":["java","spring","ldap"],"answers":[{"tags":[],"owner":{"account_id":8540933,"reputation":190,"user_id":6401089,"display_name":"Galbi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660232550,"creation_date":1573029795,"answer_id":58726111,"question_id":58693689,"body_markdown":"Solved.\r\n\r\nInstead of declaring the `multiValuedAttr` with `String[]` it must be defined as `List&lt;String&gt;`\r\n\r\n    @Entry(objectClasses = { &quot;class1&quot;, &quot;class2&quot; }, base=&quot;ou=my_base_dn&quot;)\r\n    public final class MyLdapEntity {\r\n    \r\n        @Id\r\n        private Name dn;\r\n    \r\n        @Attribute(name=&quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Attribute(name=&quot;sureName&quot;)\r\n        private String sureName;\r\n    \r\n        @Attribute(name=&quot;multiValuedAttr&quot;)\r\n        private String[] multiValuedAttr;\r\n    }\r\n\r\nMaybe cause `List&lt;String&gt;` has methods to add elements without increment the array size explicitly.","title":"How to bind multi-valued attributes in LDAP using Spring repository","body":"<p>Solved.</p>\n<p>Instead of declaring the <code>multiValuedAttr</code> with <code>String[]</code> it must be defined as <code>List&lt;String&gt;</code></p>\n<pre><code>@Entry(objectClasses = { &quot;class1&quot;, &quot;class2&quot; }, base=&quot;ou=my_base_dn&quot;)\npublic final class MyLdapEntity {\n\n    @Id\n    private Name dn;\n\n    @Attribute(name=&quot;name&quot;)\n    private String name;\n\n    @Attribute(name=&quot;sureName&quot;)\n    private String sureName;\n\n    @Attribute(name=&quot;multiValuedAttr&quot;)\n    private String[] multiValuedAttr;\n}\n</code></pre>\n<p>Maybe cause <code>List&lt;String&gt;</code> has methods to add elements without increment the array size explicitly.</p>\n"}],"owner":{"account_id":8540933,"reputation":190,"user_id":6401089,"display_name":"Galbi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1097,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58726111,"answer_count":1,"score":1,"last_activity_date":1660232550,"creation_date":1572871305,"question_id":58693689,"body_markdown":"I want to retrieve a multi-valued attribute from LDAP using a Spring repository.\r\n\r\nMy actual code is something like this:\r\n\r\n    @Entry(objectClasses = { &quot;class1&quot;, &quot;class2&quot; }, base=&quot;ou=my_base_dn&quot;)\r\n    public final class MyLdapEntity {\r\n    \t\r\n    \t@Id\r\n    \tprivate Name dn;\r\n    \t\r\n    \t@Attribute(name=&quot;name&quot;)\r\n    \tprivate String name;\r\n    \t\r\n    \t@Attribute(name=&quot;sureName&quot;)\r\n    \tprivate String sureName;\r\n    \t\r\n    \t@Attribute(name=&quot;multiValuedAttr&quot;)\r\n    \tprivate String[] multiValuedAttr;\r\n    }\r\n\r\nAnd my repository class:\r\n\r\n    @Repository\r\n    public interface MyLdapRepository extends CrudRepository&lt;MyLdapEntity, Long&gt; {\r\n    }\r\n\r\nAnd when I try to get the multivalued attr I can do it only with the first entry.\r\n\r\n&#191;Is there any way to do this mapping with an annotation?","title":"How to bind multi-valued attributes in LDAP using Spring repository","body":"<p>I want to retrieve a multi-valued attribute from LDAP using a Spring repository.</p>\n\n<p>My actual code is something like this:</p>\n\n<pre><code>@Entry(objectClasses = { \"class1\", \"class2\" }, base=\"ou=my_base_dn\")\npublic final class MyLdapEntity {\n\n    @Id\n    private Name dn;\n\n    @Attribute(name=\"name\")\n    private String name;\n\n    @Attribute(name=\"sureName\")\n    private String sureName;\n\n    @Attribute(name=\"multiValuedAttr\")\n    private String[] multiValuedAttr;\n}\n</code></pre>\n\n<p>And my repository class:</p>\n\n<pre><code>@Repository\npublic interface MyLdapRepository extends CrudRepository&lt;MyLdapEntity, Long&gt; {\n}\n</code></pre>\n\n<p>And when I try to get the multivalued attr I can do it only with the first entry.</p>\n\n<p>¿Is there any way to do this mapping with an annotation?</p>\n"},{"tags":["java","unit-testing","junit","mockito","junit4"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1660230444,"post_id":73322701,"comment_id":129488609,"body_markdown":"So you want to inject actual instances of service1 and service2 fields into the mainService in your test class?","body":"So you want to inject actual instances of service1 and service2 fields into the mainService in your test class?"},{"owner":{"account_id":6661932,"reputation":3905,"user_id":5140756,"accept_rate":16,"display_name":"Augusto"},"score":0,"creation_date":1660230870,"post_id":73322701,"comment_id":129488760,"body_markdown":"@Jonasz exactly!","body":"@Jonasz exactly!"}],"answers":[{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660231186,"creation_date":1660231186,"answer_id":73323172,"question_id":73322701,"body_markdown":"The best approach would be just using the constructor or accessor injection instead of field injection (read more [here][1] or [here][2]), but if you really need to stick to the field injection, simply replace the `@Mock` annotations with `@Spy` annotations like so:\r\n```java\r\n@Spy\r\nprivate Service1 service1;\r\n@Spy\r\nprivate Service2 service2;\r\n```\r\nor (if the `ServiceX` classes do not have a default constructor):\r\n```java\r\n@Spy\r\nprivate Service1 service1 = new Service1(...);\r\n@Spy\r\nprivate Service2 service2 = new Service2(...);\r\n```\r\nThose fields will be used by Mockito when you call `initMocks` and will be injected into the fields annotated with `@InjectMocks`. No behavior mocking required, the actual `ServiceX` classes code will be called.\r\n\r\n---\r\n\r\nI&#39;ve prepared a fully reproducible code example in [a GitHub repository here][3] - the test passes.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19381846/why-use-constructor-over-setter-injection-in-cdi\r\n  [2]: https://stackoverflow.com/a/39892204/3305737\r\n  [3]: https://github.com/Jonarzz/stack-overflow/blob/73322701/spring-boot-module/src/test/java/io/github/jonarzz/SomeTest.java","title":"How to execute the code of a used Component instead @Mock the results in JUnit Tests?","body":"<p>The best approach would be just using the constructor or accessor injection instead of field injection (read more <a href=\"https://stackoverflow.com/questions/19381846/why-use-constructor-over-setter-injection-in-cdi\">here</a> or <a href=\"https://stackoverflow.com/a/39892204/3305737\">here</a>), but if you really need to stick to the field injection, simply replace the <code>@Mock</code> annotations with <code>@Spy</code> annotations like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Spy\nprivate Service1 service1;\n@Spy\nprivate Service2 service2;\n</code></pre>\n<p>or (if the <code>ServiceX</code> classes do not have a default constructor):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Spy\nprivate Service1 service1 = new Service1(...);\n@Spy\nprivate Service2 service2 = new Service2(...);\n</code></pre>\n<p>Those fields will be used by Mockito when you call <code>initMocks</code> and will be injected into the fields annotated with <code>@InjectMocks</code>. No behavior mocking required, the actual <code>ServiceX</code> classes code will be called.</p>\n<hr />\n<p>I've prepared a fully reproducible code example in <a href=\"https://github.com/Jonarzz/stack-overflow/blob/73322701/spring-boot-module/src/test/java/io/github/jonarzz/SomeTest.java\" rel=\"nofollow noreferrer\">a GitHub repository here</a> - the test passes.</p>\n"},{"tags":[],"owner":{"account_id":26033321,"reputation":1,"user_id":19739158,"display_name":"JBarr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660231536,"creation_date":1660231389,"answer_id":73323224,"question_id":73322701,"body_markdown":"If you want to use real instances of `service1` and `service2` you can use [@Spy][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39197040/19739158","title":"How to execute the code of a used Component instead @Mock the results in JUnit Tests?","body":"<p>If you want to use real instances of <code>service1</code> and <code>service2</code> you can use <a href=\"https://stackoverflow.com/a/39197040/19739158\">@Spy</a></p>\n"}],"owner":{"account_id":6661932,"reputation":3905,"user_id":5140756,"accept_rate":16,"display_name":"Augusto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73323172,"answer_count":2,"score":0,"last_activity_date":1660231536,"creation_date":1660229330,"question_id":73322701,"body_markdown":"I have a `@Component` class that contains some `@Inject` components to perform some code logic. In my Test, I would like to execute that logic instead Mock the results. I don&#39;t want to import `spring-boot-starter-test` because will overload the dependencies and generate conflicts.\r\n\r\nThe `Service1` and `Service2` doesn&#39;t use any third services, it&#39;s has just executed simple logic.\r\n\r\n    @Component\r\n    public class MainService {\r\n    \r\n        @Inject\r\n        private Service1 service1;\r\n    \r\n        @Inject \r\n        private Service2 service2;\r\n    \r\n    }\r\n     \r\n    ---------------- Test Class ----------------\r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class SomeTest {\r\n    \r\n        @Mock\r\n        private Service1 service1;\r\n    \r\n        @Mock\r\n        private Service2 service2;\r\n    \r\n        @InjectMocks\r\n        private MainService mainService;\r\n    \r\n        @Before\r\n        public void startUp() {\r\n            MockitoAnnotations.initMocks(this);\r\n        }\r\n    \r\n        @Test\r\n        public void test1() {\r\n           Mockito.when(service1.function).thenReturn(...); \r\n           Mockito.when(service2.function).thenReturn(...);\r\n           // How to provide real execution instead Mock the results?\r\n    \r\n           mainService.start();\r\n           // asserts...\r\n        }\r\n    }","title":"How to execute the code of a used Component instead @Mock the results in JUnit Tests?","body":"<p>I have a <code>@Component</code> class that contains some <code>@Inject</code> components to perform some code logic. In my Test, I would like to execute that logic instead Mock the results. I don't want to import <code>spring-boot-starter-test</code> because will overload the dependencies and generate conflicts.</p>\n<p>The <code>Service1</code> and <code>Service2</code> doesn't use any third services, it's has just executed simple logic.</p>\n<pre><code>@Component\npublic class MainService {\n\n    @Inject\n    private Service1 service1;\n\n    @Inject \n    private Service2 service2;\n\n}\n \n---------------- Test Class ----------------\n\n@RunWith(MockitoJUnitRunner.class)\npublic class SomeTest {\n\n    @Mock\n    private Service1 service1;\n\n    @Mock\n    private Service2 service2;\n\n    @InjectMocks\n    private MainService mainService;\n\n    @Before\n    public void startUp() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void test1() {\n       Mockito.when(service1.function).thenReturn(...); \n       Mockito.when(service2.function).thenReturn(...);\n       // How to provide real execution instead Mock the results?\n\n       mainService.start();\n       // asserts...\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-sharing"],"comments":[{"owner":{"account_id":19885834,"reputation":173,"user_id":14568825,"display_name":"Aisha Kumari"},"score":0,"creation_date":1660205790,"post_id":73317371,"comment_id":129479396,"body_markdown":"@ninhnau19 can you please help me out of  this problem","body":"@ninhnau19 can you please help me out of  this problem"},{"owner":{"account_id":8061597,"reputation":823,"user_id":6076979,"display_name":"MojoJojo"},"score":0,"creation_date":1660206105,"post_id":73317371,"comment_id":129479499,"body_markdown":"Please refer to this link: https://developer.android.com/training/secure-file-sharing","body":"Please refer to this link: <a href=\"https://developer.android.com/training/secure-file-sharing\" rel=\"nofollow noreferrer\">developer.android.com/training/secure-file-sharing</a>"}],"answers":[{"tags":[],"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660213876,"creation_date":1660213876,"answer_id":73319183,"question_id":73317371,"body_markdown":"make sure you have \r\n\r\n```\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:grantUriPermissions=&quot;true&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            ....\r\n        &lt;/provider&gt;\r\n```\r\nin **AndroidManifest.xml**.\r\n\r\nI don&#39;t sure about *getUriForFile* method in your code, it should look like this:\r\n```\r\nFileProvider.getUriForFile(\r\n                    context,\r\n                    BuildConfig.APPLICATION_ID + &quot;.provider&quot;,\r\n                    file\r\n                )\r\n```\r\n\r\nAnd can u provide an example URI of your video???","title":"How to share video using file provider in android studio?","body":"<p>make sure you have</p>\n<pre><code>        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}.provider&quot;\n            android:grantUriPermissions=&quot;true&quot;\n            android:exported=&quot;false&quot;&gt;\n            ....\n        &lt;/provider&gt;\n</code></pre>\n<p>in <strong>AndroidManifest.xml</strong>.</p>\n<p>I don't sure about <em>getUriForFile</em> method in your code, it should look like this:</p>\n<pre><code>FileProvider.getUriForFile(\n                    context,\n                    BuildConfig.APPLICATION_ID + &quot;.provider&quot;,\n                    file\n                )\n</code></pre>\n<p>And can u provide an example URI of your video???</p>\n"}],"owner":{"account_id":19885834,"reputation":173,"user_id":14568825,"display_name":"Aisha Kumari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660231533,"creation_date":1660205578,"question_id":73317371,"body_markdown":"I am trying to share video from uri using file provider, but I can&#39;t understand how can I pass the uri to share video.\r\n\r\ncan anyone help me out of this problem \r\n\r\n          &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;com.xyz.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_provider_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\npath.xml\r\n\r\n    &lt;cache-path name=&quot;shared_videos&quot; path=&quot;videos/&quot;/&gt;\r\n\r\n\r\n\r\n\r\nhere i am passing the uri \r\n\r\n    final String path = fileslist.get(position).getPath();\r\n                    String destPath = Environment.getExternalStorageDirectory().getAbsolutePath()+Constant.SAVE_FOLDER_NAME;\r\n                    Intent intent = new Intent(context,Video.class);\r\n                    intent.putExtra(&quot;Dest_path_video&quot;, destPath);\r\n                    intent.putExtra(&quot;File_video&quot;, path);\r\n                    intent.putExtra(&quot;FileName_video&quot;, modalClass.getFileName());\r\n                    intent.putExtra(&quot;Uri_video&quot;, modalClass.getUri().toString());\r\n                    context.startActivity(intent);\r\n\r\nhere is uri \r\n\r\n    String video_uri = fileslist.get(position).getUri().toString();\r\n\r\n\r\n\r\nhere how  I am trying to share video \r\n\r\n           Uri uri = null;\r\n        try {\r\n            File videoPath = new File(context.getCacheDir(), &quot;videos&quot;);\r\n            imagePath.mkdirs();\r\n            File file = new File(videoPath , &quot;shared_videos.mp4&quot;);\r\n            uri = getUriForFile(context, &quot;com.xyz.fileprovider&quot;, file);\r\n            Intent intent = new Intent(Intent.ACTION_SEND);\r\n            intent.putExtra(Intent.EXTRA_STREAM, uri);\r\n            intent.setType(&quot;video/*&quot;);\r\n            context.startActivity(Intent.createChooser(intent, &quot;Share Via&quot;));\r\n        } catch (Exception e) {\r\n            Log.d(&quot;test&quot;,&quot;&quot;+e.getMessage());\r\n        }\r\n\r\n","title":"How to share video using file provider in android studio?","body":"<p>I am trying to share video from uri using file provider, but I can't understand how can I pass the uri to share video.</p>\n<p>can anyone help me out of this problem</p>\n<pre><code>      &lt;provider\n        android:name=&quot;androidx.core.content.FileProvider&quot;\n        android:authorities=&quot;com.xyz.fileprovider&quot;\n        android:exported=&quot;false&quot;\n        android:grantUriPermissions=&quot;true&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n            android:resource=&quot;@xml/file_provider_paths&quot; /&gt;\n    &lt;/provider&gt;\n</code></pre>\n<p>path.xml</p>\n<pre><code>&lt;cache-path name=&quot;shared_videos&quot; path=&quot;videos/&quot;/&gt;\n</code></pre>\n<p>here i am passing the uri</p>\n<pre><code>final String path = fileslist.get(position).getPath();\n                String destPath = Environment.getExternalStorageDirectory().getAbsolutePath()+Constant.SAVE_FOLDER_NAME;\n                Intent intent = new Intent(context,Video.class);\n                intent.putExtra(&quot;Dest_path_video&quot;, destPath);\n                intent.putExtra(&quot;File_video&quot;, path);\n                intent.putExtra(&quot;FileName_video&quot;, modalClass.getFileName());\n                intent.putExtra(&quot;Uri_video&quot;, modalClass.getUri().toString());\n                context.startActivity(intent);\n</code></pre>\n<p>here is uri</p>\n<pre><code>String video_uri = fileslist.get(position).getUri().toString();\n</code></pre>\n<p>here how  I am trying to share video</p>\n<pre><code>       Uri uri = null;\n    try {\n        File videoPath = new File(context.getCacheDir(), &quot;videos&quot;);\n        imagePath.mkdirs();\n        File file = new File(videoPath , &quot;shared_videos.mp4&quot;);\n        uri = getUriForFile(context, &quot;com.xyz.fileprovider&quot;, file);\n        Intent intent = new Intent(Intent.ACTION_SEND);\n        intent.putExtra(Intent.EXTRA_STREAM, uri);\n        intent.setType(&quot;video/*&quot;);\n        context.startActivity(Intent.createChooser(intent, &quot;Share Via&quot;));\n    } catch (Exception e) {\n        Log.d(&quot;test&quot;,&quot;&quot;+e.getMessage());\n    }\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-storage"],"answers":[{"tags":[],"owner":{"account_id":10560058,"reputation":2957,"user_id":7780102,"display_name":"Digvijay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660231260,"creation_date":1594705815,"answer_id":62888822,"question_id":62888469,"body_markdown":"First you can convert your image in bitmap stream and then you can upload it on firebase storage and get downloadable link also easily. You can do something like this below:\r\n\r\n    StorageReference filepath = mImageStorage.child(&quot;profile_images&quot;).child(current_user_id + &quot;.jpg&quot;);\r\n\r\n    Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(),imageUri);\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    bitmap.compress(Bitmap.CompressFormat.JPEG,40,baos);\r\n    byte[] byt = baos.toByteArray();\r\n \r\n    UploadTask uploadTask = filepath.putBytes(byt);\r\n    \r\n     uploadTask.addOnFailureListener(new OnFailureListener() {\r\n\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n\r\n                                TastyToast.makeText(getApplicationContext(),&quot;Error:&quot;+e.getMessage(),TastyToast.LENGTH_LONG,\r\n                                         TastyToast.ERROR).show();\r\n\r\n                            }\r\n                        }).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n\r\n                            @Override\r\n                            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n\r\n                                if(taskSnapshot.getMetadata() != null){\r\n\r\n                                    Task&lt;Uri&gt; result = taskSnapshot.getStorage().getDownloadUrl();\r\n\r\n                                    result.addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n\r\n                                        @Override\r\n                                        public void onSuccess(Uri uri) {\r\n\r\n                                             downloadUrl = Uri.parse(uri.toString());\r\n\r\n                                           // In downloadUri variable you will get your \r\n                                               image downloadable link\r\n                                        }\r\n                                    });\r\n                                }\r\n\r\n                            }\r\n                        }); \r\n\r\n","title":"Unable to fetch file from firebase storage","body":"<p>First you can convert your image in bitmap stream and then you can upload it on firebase storage and get downloadable link also easily. You can do something like this below:</p>\n<pre><code>StorageReference filepath = mImageStorage.child(&quot;profile_images&quot;).child(current_user_id + &quot;.jpg&quot;);\n\nBitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(),imageUri);\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nbitmap.compress(Bitmap.CompressFormat.JPEG,40,baos);\nbyte[] byt = baos.toByteArray();\n\nUploadTask uploadTask = filepath.putBytes(byt);\n\n uploadTask.addOnFailureListener(new OnFailureListener() {\n\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n\n                            TastyToast.makeText(getApplicationContext(),&quot;Error:&quot;+e.getMessage(),TastyToast.LENGTH_LONG,\n                                     TastyToast.ERROR).show();\n\n                        }\n                    }).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n\n                        @Override\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n\n                            if(taskSnapshot.getMetadata() != null){\n\n                                Task&lt;Uri&gt; result = taskSnapshot.getStorage().getDownloadUrl();\n\n                                result.addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n\n                                    @Override\n                                    public void onSuccess(Uri uri) {\n\n                                         downloadUrl = Uri.parse(uri.toString());\n\n                                       // In downloadUri variable you will get your \n                                           image downloadable link\n                                    }\n                                });\n                            }\n\n                        }\n                    }); \n</code></pre>\n"}],"owner":{"account_id":19053200,"reputation":1,"user_id":13910937,"display_name":"Baked Knight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660231322,"creation_date":1594703568,"question_id":62888469,"body_markdown":"I am unable to fetch the uploaded image file from the firebase storage because the database stores the url in a public unguessable url form and I cannot seem to figure it out, what is wrong with my code?\r\n\r\n        @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if(requestCode == GALLERY_PICK &amp;&amp; resultCode == RESULT_OK){\r\n\r\n            Uri imageUri = data.getData();\r\n\r\n            CropImage.activity(imageUri)\r\n                    .setAspectRatio(1,1)\r\n                    .start(this);\r\n\r\n            //Toast.makeText(SettingsActivity.this, imageUri, Toast.LENGTH_LONG).show();\r\n\r\n        }\r\n\r\n        if(requestCode == CropImage.CROP_IMAGE_ACTIVITY_REQUEST_CODE){\r\n\r\n            CropImage.ActivityResult result = CropImage.getActivityResult(data);\r\n\r\n            if(resultCode == RESULT_OK){\r\n\r\n                mProgressDialog = new ProgressDialog(SettingsActivity.this);\r\n                mProgressDialog.setTitle(&quot;Uploading&quot;);\r\n                mProgressDialog.setMessage(&quot;Please Wait While The Image Is Being Uploaded&quot;);\r\n                mProgressDialog.setCanceledOnTouchOutside(false);\r\n                mProgressDialog.show();\r\n\r\n                Uri resultUri = result.getUri();\r\n                String current_user_id = mCurrentUser.getUid();\r\n                StorageReference filepath = mImageStorage.child(&quot;profile_images&quot;).child(current_user_id + &quot;.jpg&quot;);\r\n                filepath.putFile(resultUri).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\r\n\r\n                        if(task.isSuccessful()){\r\n\r\n                            final String download_url = task.getResult().getMetadata().getReference().getDownloadUrl().toString();\r\n                            mUserDatabase.child(&quot;image&quot;).setValue(download_url).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n\r\n                                    if(task.isSuccessful()){\r\n\r\n                                        mProgressDialog.dismiss();\r\n                                        Toast.makeText(SettingsActivity.this, &quot;Uploaded Successfully&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                                    }\r\n\r\n                                }\r\n                            });\r\n\r\n                        } else {\r\n\r\n                            Toast.makeText(SettingsActivity.this, &quot;Error&quot;, Toast.LENGTH_LONG).show();\r\n                            mProgressDialog.dismiss();\r\n\r\n                        }\r\n\r\n                    }\r\n                });\r\n\r\n            } else if(resultCode == CropImage.CROP_IMAGE_ACTIVITY_RESULT_ERROR_CODE){\r\n\r\n                Exception error = result.getError();\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n","title":"Unable to fetch file from firebase storage","body":"<p>I am unable to fetch the uploaded image file from the firebase storage because the database stores the url in a public unguessable url form and I cannot seem to figure it out, what is wrong with my code?</p>\n<pre><code>    @Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if(requestCode == GALLERY_PICK &amp;&amp; resultCode == RESULT_OK){\n\n        Uri imageUri = data.getData();\n\n        CropImage.activity(imageUri)\n                .setAspectRatio(1,1)\n                .start(this);\n\n        //Toast.makeText(SettingsActivity.this, imageUri, Toast.LENGTH_LONG).show();\n\n    }\n\n    if(requestCode == CropImage.CROP_IMAGE_ACTIVITY_REQUEST_CODE){\n\n        CropImage.ActivityResult result = CropImage.getActivityResult(data);\n\n        if(resultCode == RESULT_OK){\n\n            mProgressDialog = new ProgressDialog(SettingsActivity.this);\n            mProgressDialog.setTitle(&quot;Uploading&quot;);\n            mProgressDialog.setMessage(&quot;Please Wait While The Image Is Being Uploaded&quot;);\n            mProgressDialog.setCanceledOnTouchOutside(false);\n            mProgressDialog.show();\n\n            Uri resultUri = result.getUri();\n            String current_user_id = mCurrentUser.getUid();\n            StorageReference filepath = mImageStorage.child(&quot;profile_images&quot;).child(current_user_id + &quot;.jpg&quot;);\n            filepath.putFile(resultUri).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\n\n                    if(task.isSuccessful()){\n\n                        final String download_url = task.getResult().getMetadata().getReference().getDownloadUrl().toString();\n                        mUserDatabase.child(&quot;image&quot;).setValue(download_url).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n\n                                if(task.isSuccessful()){\n\n                                    mProgressDialog.dismiss();\n                                    Toast.makeText(SettingsActivity.this, &quot;Uploaded Successfully&quot;, Toast.LENGTH_LONG).show();\n\n                                }\n\n                            }\n                        });\n\n                    } else {\n\n                        Toast.makeText(SettingsActivity.this, &quot;Error&quot;, Toast.LENGTH_LONG).show();\n                        mProgressDialog.dismiss();\n\n                    }\n\n                }\n            });\n\n        } else if(resultCode == CropImage.CROP_IMAGE_ACTIVITY_RESULT_ERROR_CODE){\n\n            Exception error = result.getError();\n\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","java-8","java-time","zoneddatetime","java.time.instant"],"comments":[{"owner":{"account_id":2580719,"reputation":5582,"user_id":2237467,"accept_rate":60,"display_name":"Snackoverflow"},"score":2,"creation_date":1551089444,"post_id":32626733,"comment_id":96498104,"body_markdown":"What language/dialect are you using to make the bulk import `import java.time.{Instant, LocalDateTime, ZoneId, ZoneOffset}` work? It&#39;s an `unexpected token` for me in Java 11.","body":"What language/dialect are you using to make the bulk import <code>import java.time.{Instant, LocalDateTime, ZoneId, ZoneOffset}</code> work? It&#39;s an <code>unexpected token</code> for me in Java 11."},{"owner":{"account_id":174076,"reputation":703,"user_id":984221,"display_name":"donatas M"},"score":3,"creation_date":1556111089,"post_id":32626733,"comment_id":98326081,"body_markdown":"Can be Scala, but that&#39;s not really important here","body":"Can be Scala, but that&#39;s not really important here"},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":1,"creation_date":1560016629,"post_id":32626733,"comment_id":99604819,"body_markdown":"I have discussed the theory behind `java.time` at length here: https://stackoverflow.com/a/56508200/145989","body":"I have discussed the theory behind <code>java.time</code> at length here: <a href=\"https://stackoverflow.com/a/56508200/145989\">stackoverflow.com/a/56508200/145989</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1442482171,"creation_date":1442482171,"answer_id":32626913,"question_id":32626733,"body_markdown":"As the [documentation][1] says, &quot;This is primarily intended for low-level conversions rather than general application usage.&quot;\r\n\r\nGoing via `Instant` makes perfect sense to me - your epoch second is effectively a different representation of an `Instant`, so convert to an `Instant` and then convert that into a particular time zone.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#ofEpochSecond-long-int-java.time.ZoneOffset-","title":"Is there any way to convert ZoneId to ZoneOffset in Java 8?","body":"<p>As the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#ofEpochSecond-long-int-java.time.ZoneOffset-\" rel=\"noreferrer\">documentation</a> says, \"This is primarily intended for low-level conversions rather than general application usage.\"</p>\n\n<p>Going via <code>Instant</code> makes perfect sense to me - your epoch second is effectively a different representation of an <code>Instant</code>, so convert to an <code>Instant</code> and then convert that into a particular time zone.</p>\n"},{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":2,"up_vote_count":49,"is_accepted":false,"score":47,"last_activity_date":1442483978,"creation_date":1442482864,"answer_id":32627141,"question_id":32626733,"body_markdown":"There is no one-to-one mapping. A ZoneId defines a geographic extent in which a set of different ZoneOffsets is used over time. If the timezone uses daylight saving time, its ZoneOffset will be different between summer and winter.\r\n\r\nFurthermore, the daylight saving time rules may have changed over time, so the ZoneOffset could be different for e.g. 13/10/2015 compared to 13/10/1980.\r\n\r\nSo you can only find the ZoneOffset for a ZoneId on a particular Instant.\r\n\r\nSee also https://en.wikipedia.org/wiki/Tz_database","title":"Is there any way to convert ZoneId to ZoneOffset in Java 8?","body":"<p>There is no one-to-one mapping. A ZoneId defines a geographic extent in which a set of different ZoneOffsets is used over time. If the timezone uses daylight saving time, its ZoneOffset will be different between summer and winter.</p>\n\n<p>Furthermore, the daylight saving time rules may have changed over time, so the ZoneOffset could be different for e.g. 13/10/2015 compared to 13/10/1980.</p>\n\n<p>So you can only find the ZoneOffset for a ZoneId on a particular Instant.</p>\n\n<p>See also <a href=\"https://en.wikipedia.org/wiki/Tz_database\">https://en.wikipedia.org/wiki/Tz_database</a></p>\n"},{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":159,"is_accepted":true,"score":159,"last_activity_date":1590499703,"creation_date":1464453793,"answer_id":37501492,"question_id":32626733,"body_markdown":"Here is how you can get `ZoneOffset` from `ZoneId`:\r\n\r\n    Instant instant = Instant.now(); //can be LocalDateTime\r\n    ZoneId systemZone = ZoneId.systemDefault(); // my timezone\r\n    ZoneOffset currentOffsetForMyZone = systemZone.getRules().getOffset(instant);\r\n\r\nNB: `ZoneId` can have different offset depending on point in time and the history of the particular place. So choosing different Instants would result in different offsets.\r\n\r\nNB2: `ZoneId.of()` can return a `ZoneOffset` instead of `ZoneId` if `UTC+3`/`GMT+2`/etc is passed as opposed to a time zone like `Africa/Cairo`. So if UTC/GMT offsets are passed then historical/geographical/daylight-saving information of the `Instant` won&#39;t be taken into account - you&#39;ll simply work with the specified offset.","title":"Is there any way to convert ZoneId to ZoneOffset in Java 8?","body":"<p>Here is how you can get <code>ZoneOffset</code> from <code>ZoneId</code>:</p>\n\n<pre><code>Instant instant = Instant.now(); //can be LocalDateTime\nZoneId systemZone = ZoneId.systemDefault(); // my timezone\nZoneOffset currentOffsetForMyZone = systemZone.getRules().getOffset(instant);\n</code></pre>\n\n<p>NB: <code>ZoneId</code> can have different offset depending on point in time and the history of the particular place. So choosing different Instants would result in different offsets.</p>\n\n<p>NB2: <code>ZoneId.of()</code> can return a <code>ZoneOffset</code> instead of <code>ZoneId</code> if <code>UTC+3</code>/<code>GMT+2</code>/etc is passed as opposed to a time zone like <code>Africa/Cairo</code>. So if UTC/GMT offsets are passed then historical/geographical/daylight-saving information of the <code>Instant</code> won't be taken into account - you'll simply work with the specified offset.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":4,"up_vote_count":59,"is_accepted":false,"score":55,"last_activity_date":1621870888,"creation_date":1484169395,"answer_id":41600839,"question_id":32626733,"body_markdown":"# tl;dr\r\n\r\n    ZonedDateTime.now( \r\n        ZoneId.of( &quot;America/Montreal&quot; ) \r\n    )\r\n\r\n…of current default time zone…\r\n\r\n    ZonedDateTime.now( \r\n        ZoneId.systemDefault() \r\n    )\r\n\r\n# Details\r\n\r\nThe [Answer by Stanislav Bshkyrtsev][1] correctly and directly answers your Question.\r\n\r\nBut, there are larger issues involved, as suggested in the [Answer by Jon Skeet][2].\r\n\r\n## `LocalDateTime`\r\n\r\n&gt;I don&#39;t find the way to convert epoch second to LocalDateTime\r\n\r\n`LocalDateTime` purposely has no concept of time zone or offset-from-UTC. Not likely what you want. The `Local…` means *any* locality, not any one particular locality. This class does *not* represent a moment, only *potential* moments along a range of about 26-27 hours (the range of time zones around the globe). \r\n\r\n## `Instant`\r\n\r\nNo need to start with epoch seconds if you are trying to get current time. Get the current `Instant`. The [`Instant`](http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) class represents a moment on the timeline in [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) with a resolution of [nanoseconds](https://en.wikipedia.org/wiki/Nanosecond) (up to nine (9) digits of a decimal fraction). \r\n\r\n    Instant instant = Instant.now();\r\n\r\nInside of that `Instant` is a count of [nanoseconds][3]-from-epoch. But we do not really care. \r\n\r\nSee also, [*What&#39;s the difference between Instant and LocalDateTime?*](https://stackoverflow.com/q/32437550/642706)\r\n\r\n## `ZonedDateTime`\r\n\r\nIf you want to see that moment through the lens of a particular region’s wall-clock time, apply a `ZoneId` to get a `ZonedDateTime`. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Europe/Paris&quot; );\r\n    ZonedDateTime zdt = instant.atZone( z );\r\n\r\nAs a shortcut, you can do directly to the `ZonedDateTime`.\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.now( z );  \r\n\r\nA `ZonedDateTime` has an `Instant` within it. Call `zdt.toInstant()` to get the same moment in time as a basic value in [UTC][4]. Same number of nanoseconds-since-epoch either way, as a `ZonedDateTime` or as a `Instant`.\r\n\r\n## Seconds-since-epoch given\r\n\r\nIf you are given a count of seconds-since-epoch, and the epoch is the first moment of 1970 in [UTC][4] (`1970-01-01T00:00:00Z`), then feed that number to `Instant`.\r\n\r\n    long secondsSinceEpoch = 1_484_063_246L ;\r\n    Instant instant = Instant.ofEpochSecond( secondsSinceEpoch ) ;\r\n\r\n\r\n----------\r\n\r\n\r\n[![Table of date-time types in Java, both modern and legacy.][5]][5]\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37501492/642706\r\n  [2]: https://stackoverflow.com/a/32626913/642706\r\n  [3]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [4]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [5]: https://i.stack.imgur.com/65LLv.png","title":"Is there any way to convert ZoneId to ZoneOffset in Java 8?","body":"<h1>tl;dr</h1>\n<pre><code>ZonedDateTime.now( \n    ZoneId.of( &quot;America/Montreal&quot; ) \n)\n</code></pre>\n<p>…of current default time zone…</p>\n<pre><code>ZonedDateTime.now( \n    ZoneId.systemDefault() \n)\n</code></pre>\n<h1>Details</h1>\n<p>The <a href=\"https://stackoverflow.com/a/37501492/642706\">Answer by Stanislav Bshkyrtsev</a> correctly and directly answers your Question.</p>\n<p>But, there are larger issues involved, as suggested in the <a href=\"https://stackoverflow.com/a/32626913/642706\">Answer by Jon Skeet</a>.</p>\n<h2><code>LocalDateTime</code></h2>\n<blockquote>\n<p>I don't find the way to convert epoch second to LocalDateTime</p>\n</blockquote>\n<p><code>LocalDateTime</code> purposely has no concept of time zone or offset-from-UTC. Not likely what you want. The <code>Local…</code> means <em>any</em> locality, not any one particular locality. This class does <em>not</em> represent a moment, only <em>potential</em> moments along a range of about 26-27 hours (the range of time zones around the globe).</p>\n<h2><code>Instant</code></h2>\n<p>No need to start with epoch seconds if you are trying to get current time. Get the current <code>Instant</code>. The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class represents a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> (up to nine (9) digits of a decimal fraction).</p>\n<pre><code>Instant instant = Instant.now();\n</code></pre>\n<p>Inside of that <code>Instant</code> is a count of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a>-from-epoch. But we do not really care.</p>\n<p>See also, <a href=\"https://stackoverflow.com/q/32437550/642706\"><em>What's the difference between Instant and LocalDateTime?</em></a></p>\n<h2><code>ZonedDateTime</code></h2>\n<p>If you want to see that moment through the lens of a particular region’s wall-clock time, apply a <code>ZoneId</code> to get a <code>ZonedDateTime</code>.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Europe/Paris&quot; );\nZonedDateTime zdt = instant.atZone( z );\n</code></pre>\n<p>As a shortcut, you can do directly to the <code>ZonedDateTime</code>.</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.now( z );  \n</code></pre>\n<p>A <code>ZonedDateTime</code> has an <code>Instant</code> within it. Call <code>zdt.toInstant()</code> to get the same moment in time as a basic value in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>. Same number of nanoseconds-since-epoch either way, as a <code>ZonedDateTime</code> or as a <code>Instant</code>.</p>\n<h2>Seconds-since-epoch given</h2>\n<p>If you are given a count of seconds-since-epoch, and the epoch is the first moment of 1970 in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> (<code>1970-01-01T00:00:00Z</code>), then feed that number to <code>Instant</code>.</p>\n<pre><code>long secondsSinceEpoch = 1_484_063_246L ;\nInstant instant = Instant.ofEpochSecond( secondsSinceEpoch ) ;\n</code></pre>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/65LLv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/65LLv.png\" alt=\"Table of date-time types in Java, both modern and legacy.\" /></a></p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a></li>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":32473,"reputation":2320,"user_id":90173,"accept_rate":72,"display_name":"gknauth"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1489691554,"creation_date":1489691554,"answer_id":42842926,"question_id":32626733,"body_markdown":"I hope the first two lines of my solution below are helpful.  My problem was I had a `LocalDateTime` and the name of a time zone, and I needed an `instant` so I could build a `java.util.Date`, because that&#39;s what MongoDB wanted.  My code is Scala, but it&#39;s so close to Java here I think there should be no problem understanding it:\r\n\r\n    val zid = ZoneId.of(tzName)                                // &quot;America/Los_Angeles&quot;\r\n    val zo: ZoneOffset = zid.getRules.getOffset(localDateTime) // ⇒ -07:00\r\n                                             // 2017-03-16T18:03\r\n\r\n    val odt = OffsetDateTime.of(localDateTime, zo) // ⇒ 2017-03-16T18:03:00-07:00\r\n    val instant = odt.toInstant                    // ⇒ 2017-03-17T01:03:00Z\r\n    val issued = Date.from(instant)\r\n","title":"Is there any way to convert ZoneId to ZoneOffset in Java 8?","body":"<p>I hope the first two lines of my solution below are helpful.  My problem was I had a <code>LocalDateTime</code> and the name of a time zone, and I needed an <code>instant</code> so I could build a <code>java.util.Date</code>, because that's what MongoDB wanted.  My code is Scala, but it's so close to Java here I think there should be no problem understanding it:</p>\n\n<pre><code>val zid = ZoneId.of(tzName)                                // \"America/Los_Angeles\"\nval zo: ZoneOffset = zid.getRules.getOffset(localDateTime) // ⇒ -07:00\n                                         // 2017-03-16T18:03\n\nval odt = OffsetDateTime.of(localDateTime, zo) // ⇒ 2017-03-16T18:03:00-07:00\nval instant = odt.toInstant                    // ⇒ 2017-03-17T01:03:00Z\nval issued = Date.from(instant)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2693715,"reputation":999,"user_id":2326336,"display_name":"Jelmer"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1542382747,"creation_date":1515147168,"answer_id":48111373,"question_id":32626733,"body_markdown":"The following returns the amount of time in milliseconds to add to UTC to get standard time in this time zone:\r\n\r\n    TimeZone.getTimeZone(ZoneId.of(&quot;Europe/Amsterdam&quot;)).getRawOffset()\r\n\r\n","title":"Is there any way to convert ZoneId to ZoneOffset in Java 8?","body":"<p>The following returns the amount of time in milliseconds to add to UTC to get standard time in this time zone:</p>\n\n<pre><code>TimeZone.getTimeZone(ZoneId.of(\"Europe/Amsterdam\")).getRawOffset()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597615913,"creation_date":1597615913,"answer_id":63442389,"question_id":32626733,"body_markdown":"&gt; I have an epoch second and a zoneId. Is there any way to convert ZoneId to ZoneOffset in java 8?\r\n\r\n 1. Get `ZonedDateTime` from epoch second and Zone Id\r\n 2. Get `ZoneOffset` from `ZonedDateTime`\r\n\r\n**Demo:**\r\n\r\n    import java.time.Instant;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Get ZonedDateTime from epoch second and Zone Id\r\n    \t\tZonedDateTime zdt = Instant.ofEpochSecond(1597615462L).atZone(ZoneId.of(&quot;Europe/London&quot;));\r\n    \r\n    \t\t// Get ZoneOffset from ZonedDateTime\r\n    \t\tZoneOffset offset = zdt.getOffset();\r\n    \r\n    \t\tSystem.out.println(offset);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    +01:00\r\n\r\n","title":"Is there any way to convert ZoneId to ZoneOffset in Java 8?","body":"<blockquote>\n<p>I have an epoch second and a zoneId. Is there any way to convert ZoneId to ZoneOffset in java 8?</p>\n</blockquote>\n<ol>\n<li>Get <code>ZonedDateTime</code> from epoch second and Zone Id</li>\n<li>Get <code>ZoneOffset</code> from <code>ZonedDateTime</code></li>\n</ol>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Instant;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.ZonedDateTime;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Get ZonedDateTime from epoch second and Zone Id\n        ZonedDateTime zdt = Instant.ofEpochSecond(1597615462L).atZone(ZoneId.of(&quot;Europe/London&quot;));\n\n        // Get ZoneOffset from ZonedDateTime\n        ZoneOffset offset = zdt.getOffset();\n\n        System.out.println(offset);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>+01:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2109967,"reputation":6673,"user_id":1875434,"accept_rate":67,"display_name":"abbas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634039355,"creation_date":1634039355,"answer_id":69540003,"question_id":32626733,"body_markdown":"Since you are looking for the default zone offset\r\n\r\n    ZonedDateTime.now().getOffset()","title":"Is there any way to convert ZoneId to ZoneOffset in Java 8?","body":"<p>Since you are looking for the default zone offset</p>\n<pre><code>ZonedDateTime.now().getOffset()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":931121,"reputation":21651,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639224896,"creation_date":1639224896,"answer_id":70315053,"question_id":32626733,"body_markdown":"This does it without creating an Instant or such objects to pull it out. \r\n\r\n    public static ZoneOffset offset() {\r\n        return offset(ZoneId.systemDefault());                 // Default system zone id\r\n    }\r\n    public static ZoneOffset offset(ZoneId id) {\r\n        return ZoneOffset.ofTotalSeconds((int) \r\n            TimeUnit.MILLISECONDS.toSeconds(\r\n                TimeZone.getTimeZone(id).getRawOffset()        // Returns offset in milliseconds \r\n            )\r\n        );\r\n    }","title":"Is there any way to convert ZoneId to ZoneOffset in Java 8?","body":"<p>This does it without creating an Instant or such objects to pull it out.</p>\n<pre><code>public static ZoneOffset offset() {\n    return offset(ZoneId.systemDefault());                 // Default system zone id\n}\npublic static ZoneOffset offset(ZoneId id) {\n    return ZoneOffset.ofTotalSeconds((int) \n        TimeUnit.MILLISECONDS.toSeconds(\n            TimeZone.getTimeZone(id).getRawOffset()        // Returns offset in milliseconds \n        )\n    );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5820503,"reputation":51,"user_id":4588753,"display_name":"regbo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660231210,"creation_date":1660231210,"answer_id":73323177,"question_id":32626733,"body_markdown":"Here is what we use. First convert zone id to timezone, then get the offset in millis, then convert to seconds, then create a ZoneOffset.\r\n\r\n    public static final ZoneOffset toOffset(ZoneId zoneId) {\r\n\t\treturn Optional.ofNullable(zoneId)\r\n\t\t\t\t.map(TimeZone::getTimeZone)\r\n\t\t\t\t.map(TimeZone::getRawOffset)\r\n\t\t\t\t.map(Duration::ofMillis)\r\n\t\t\t\t.map(Duration::getSeconds)\r\n\t\t\t\t.map(Number::intValue)\r\n\t\t\t\t.map(ZoneOffset::ofTotalSeconds)\r\n\t\t\t\t.orElse(null);\r\n\t}","title":"Is there any way to convert ZoneId to ZoneOffset in Java 8?","body":"<p>Here is what we use. First convert zone id to timezone, then get the offset in millis, then convert to seconds, then create a ZoneOffset.</p>\n<pre><code>public static final ZoneOffset toOffset(ZoneId zoneId) {\n    return Optional.ofNullable(zoneId)\n            .map(TimeZone::getTimeZone)\n            .map(TimeZone::getRawOffset)\n            .map(Duration::ofMillis)\n            .map(Duration::getSeconds)\n            .map(Number::intValue)\n            .map(ZoneOffset::ofTotalSeconds)\n            .orElse(null);\n}\n</code></pre>\n"}],"owner":{"account_id":2278928,"reputation":2021,"user_id":2655102,"accept_rate":22,"display_name":"Renkai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110116,"favorite_count":0,"down_vote_count":0,"up_vote_count":132,"accepted_answer_id":37501492,"answer_count":10,"score":132,"last_activity_date":1660231210,"creation_date":1442481699,"question_id":32626733,"body_markdown":"I have an epoch second and a *zoneId* (see `method1` below). \r\n\r\nIt can be convert to `LocalDateTime` with system default zoneId, but I don&#39;t find the way to convert epoch second to `LocalDateTime` (see  `method2` below), because there is no `ZoneOffset.systemDefault`. I think it&#39;s obscure.\r\n\r\n    import java.time.{Instant, LocalDateTime, ZoneId, ZoneOffset}\r\n    \r\n    val epochSecond = System.currentTimeMillis() / 1000\r\n    \r\n    // method1\r\n    LocalDateTime.ofInstant(Instant.ofEpochSecond(epochSecond), ZoneId.systemDefault())\r\n    \r\n    // method2\r\n    LocalDateTime.ofEpochSecond(epochSecond, 0, ZoneOffset.MAX)\r\n---\r\n## NOTE\r\nThe source code presented above is [Scala][1].\r\n\r\n\r\n  [1]: https://www.scala-lang.org/","title":"Is there any way to convert ZoneId to ZoneOffset in Java 8?","body":"<p>I have an epoch second and a <em>zoneId</em> (see <code>method1</code> below).</p>\n<p>It can be convert to <code>LocalDateTime</code> with system default zoneId, but I don't find the way to convert epoch second to <code>LocalDateTime</code> (see  <code>method2</code> below), because there is no <code>ZoneOffset.systemDefault</code>. I think it's obscure.</p>\n<pre><code>import java.time.{Instant, LocalDateTime, ZoneId, ZoneOffset}\n\nval epochSecond = System.currentTimeMillis() / 1000\n\n// method1\nLocalDateTime.ofInstant(Instant.ofEpochSecond(epochSecond), ZoneId.systemDefault())\n\n// method2\nLocalDateTime.ofEpochSecond(epochSecond, 0, ZoneOffset.MAX)\n</code></pre>\n<hr />\n<h2>NOTE</h2>\n<p>The source code presented above is <a href=\"https://www.scala-lang.org/\" rel=\"noreferrer\">Scala</a>.</p>\n"},{"tags":["java","search","lucene","query-parser"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660231071,"creation_date":1660230764,"answer_id":73323067,"question_id":73319361,"body_markdown":"**Short Answer**\r\n\r\nYou cannot run proximity queries for data stored in a `StringField`. You have to use a `TextField`.\r\n\r\nYou did not show us the definition for `KeyValuePairs`, so I have made some assumptions below about that.\r\n\r\n(Small point: I would also suggest that you do not need to use `LinkedList` - you probably only need `ArrayList`.)\r\n\r\n---\r\n\r\n**Longer Answer for More Background**\r\n\r\nYour problem is related to the field types you are using.\r\n\r\nYou have a document containing 2 fields:\r\n\r\n - `content` - which uses a `StringField`\r\n - `title` - which uses a `TextField`.\r\n\r\nAn example of data in the `content` field is `to be or not to be that is the question`.\r\n\r\nYou are attempting to run a proximity query against the `content` field.\r\n\r\nRemember from [this question](https://stackoverflow.com/q/73290954/12567365) that `StringField` data &quot;_is indexed but not tokenized: the entire String value is indexed as a single token._&quot;\r\n\r\nA single token, means the token&#39;s position is always effectively the _only_ position - and therefore position data is not captured in the index (it is basically meaningless).\r\n\r\nThat is why your query throws that error. That query requires the data to be split up into separate tokens - and each token&#39;s position needs to be captured in the index. \r\n\r\n**Therefore you need to use a `TextField` for that type of data.**\r\n\r\nWhen you use a `TextField` for `to be or not to be that is the question`, then the `StandardAnalyzer` causes the following data to be captured in the index:\r\n\r\n```\r\nfield content\r\n  term be\r\n    doc 0\r\n      freq 2\r\n      pos 1\r\n      pos 5\r\n  term is\r\n    doc 0\r\n      freq 1\r\n      pos 7\r\n  term not\r\n    doc 0\r\n      freq 1\r\n      pos 3\r\n  term or\r\n    doc 0\r\n      freq 1\r\n      pos 2\r\n  term question\r\n    doc 0\r\n      freq 1\r\n      pos 9\r\n  term that\r\n    doc 0\r\n      freq 1\r\n      pos 6\r\n  term the\r\n    doc 0\r\n      freq 1\r\n      pos 8\r\n  term to\r\n    doc 0\r\n      freq 2\r\n      pos 0\r\n      pos 4\r\n```\r\n\r\nYou can see that the index now contains the required position data. The proximity query requires this position data to evaluate whether the words in your query are sufficiently close enough to each other, to match your query.\r\n\r\nAnd just for completeness, here is what you get in the index if you use `StringField` instead of `TextField`:\r\n\r\n```\r\ndoc 0\r\n  field 0\r\n    name content\r\n    type string\r\n    value to be or not to be that is the question\r\n```\r\n\r\nAs you can see - only one token - and no position data.","title":"Problem with Proximity search Lucene. Field &quot;content&quot; was indexed without position data","body":"<p><strong>Short Answer</strong></p>\n<p>You cannot run proximity queries for data stored in a <code>StringField</code>. You have to use a <code>TextField</code>.</p>\n<p>You did not show us the definition for <code>KeyValuePairs</code>, so I have made some assumptions below about that.</p>\n<p>(Small point: I would also suggest that you do not need to use <code>LinkedList</code> - you probably only need <code>ArrayList</code>.)</p>\n<hr />\n<p><strong>Longer Answer for More Background</strong></p>\n<p>Your problem is related to the field types you are using.</p>\n<p>You have a document containing 2 fields:</p>\n<ul>\n<li><code>content</code> - which uses a <code>StringField</code></li>\n<li><code>title</code> - which uses a <code>TextField</code>.</li>\n</ul>\n<p>An example of data in the <code>content</code> field is <code>to be or not to be that is the question</code>.</p>\n<p>You are attempting to run a proximity query against the <code>content</code> field.</p>\n<p>Remember from <a href=\"https://stackoverflow.com/q/73290954/12567365\">this question</a> that <code>StringField</code> data &quot;<em>is indexed but not tokenized: the entire String value is indexed as a single token.</em>&quot;</p>\n<p>A single token, means the token's position is always effectively the <em>only</em> position - and therefore position data is not captured in the index (it is basically meaningless).</p>\n<p>That is why your query throws that error. That query requires the data to be split up into separate tokens - and each token's position needs to be captured in the index.</p>\n<p><strong>Therefore you need to use a <code>TextField</code> for that type of data.</strong></p>\n<p>When you use a <code>TextField</code> for <code>to be or not to be that is the question</code>, then the <code>StandardAnalyzer</code> causes the following data to be captured in the index:</p>\n<pre><code>field content\n  term be\n    doc 0\n      freq 2\n      pos 1\n      pos 5\n  term is\n    doc 0\n      freq 1\n      pos 7\n  term not\n    doc 0\n      freq 1\n      pos 3\n  term or\n    doc 0\n      freq 1\n      pos 2\n  term question\n    doc 0\n      freq 1\n      pos 9\n  term that\n    doc 0\n      freq 1\n      pos 6\n  term the\n    doc 0\n      freq 1\n      pos 8\n  term to\n    doc 0\n      freq 2\n      pos 0\n      pos 4\n</code></pre>\n<p>You can see that the index now contains the required position data. The proximity query requires this position data to evaluate whether the words in your query are sufficiently close enough to each other, to match your query.</p>\n<p>And just for completeness, here is what you get in the index if you use <code>StringField</code> instead of <code>TextField</code>:</p>\n<pre><code>doc 0\n  field 0\n    name content\n    type string\n    value to be or not to be that is the question\n</code></pre>\n<p>As you can see - only one token - and no position data.</p>\n"}],"owner":{"account_id":25489160,"reputation":49,"user_id":19284258,"display_name":"ReallyNicePerson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73323067,"answer_count":1,"score":0,"last_activity_date":1660231071,"creation_date":1660214824,"question_id":73319361,"body_markdown":"so as in the title when I&#39;m trying to search for a query i get an error \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalStateException: field\r\n&gt; &quot;content&quot; was indexed without position data; cannot run PhraseQuery\r\n&gt; (phrase=content:&quot;to be not&quot;~1) at\r\n&gt; org.apache.lucene.search.PhraseQuery$1.getPhraseMatcher(PhraseQuery.java:497)\r\n&gt; at org.apache.lucene.search.PhraseWeight.scorer(PhraseWeight.java:64)\r\n&gt; at org.apache.lucene.search.Weight.bulkScorer(Weight.java:166) at\r\n&gt; org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:731)\r\n&gt; at\r\n&gt; org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:655)\r\n&gt; at\r\n&gt; org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:649)\r\n&gt; at\r\n&gt; org.apache.lucene.search.IndexSearcher.searchAfter(IndexSearcher.java:487)\r\n&gt; at\r\n&gt; org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:501)\r\n&gt; at ProximitySearch.main(ProximitySearch.java:81)\r\n\r\nHere is my code:\r\n    \r\n```java\r\n    public static void main(String[] args) throws IOException, ParseException {\r\n\r\n        Analyzer analyzer = new StandardAnalyzer();\r\n\r\n        List&lt;KeyValuePairs&gt; listOfDocs = new LinkedList&lt;&gt;();\r\n\r\n        KeyValuePairs file1 = new KeyValuePairs(&quot;file1&quot;, &quot;to be or not to be that is the question&quot;);\r\n        KeyValuePairs file2 = new KeyValuePairs(&quot;file2&quot;, &quot;make a long story short&quot;);\r\n        KeyValuePairs file3 = new KeyValuePairs(&quot;file3&quot;, &quot;see eye to eye&quot;);\r\n\r\n        listOfDocs.add(file1);\r\n        listOfDocs.add(file2);\r\n        listOfDocs.add(file3);\r\n\r\n        Path indexPath = Files.createTempDirectory(&quot;tempIndex&quot;);\r\n        Directory directory = FSDirectory.open(indexPath);\r\n        IndexWriterConfig config = new IndexWriterConfig(analyzer);\r\n        IndexWriter iwriter = new IndexWriter(directory, config);\r\n        for (KeyValuePairs listOfDoc : listOfDocs) {\r\n            Document doc = new Document();\r\n            String text = listOfDoc.getKey();\r\n            System.out.println(text);\r\n            String title = listOfDoc.getValue();\r\n            doc.add(new StringField(&quot;content&quot;, text, Field.Store.YES));\r\n            doc.add(new Field(&quot;title&quot;, title, TextField.TYPE_STORED));\r\n            iwriter.addDocument(doc);\r\n        }\r\n        iwriter.close();\r\n\r\n        // Now search the index:\r\n        DirectoryReader ireader = DirectoryReader.open(directory);\r\n        IndexSearcher isearcher = new IndexSearcher(ireader);\r\n\r\n        // Parse a simple query that searches for &quot;something that u want to search&quot;:\r\n        QueryParser parser = new QueryParser(&quot;content&quot;, analyzer);\r\n        Query query = parser.parse(&quot;\\&quot;to be not\\&quot;~1&quot;);\r\n\r\n        ScoreDoc[] hits = isearcher.search(query, 10).scoreDocs;\r\n        System.out.println(Arrays.toString(Arrays.stream(hits).toArray()));\r\n        System.out.println(&quot;Search terms found in :: &quot; + hits.length + &quot; files&quot;);\r\n\r\n        ireader.close();\r\n        directory.close();\r\n        IOUtils.rm(indexPath);\r\n    }\r\n```\r\nI dont know what am i doing wrong.","title":"Problem with Proximity search Lucene. Field &quot;content&quot; was indexed without position data","body":"<p>so as in the title when I'm trying to search for a query i get an error</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalStateException: field\n&quot;content&quot; was indexed without position data; cannot run PhraseQuery\n(phrase=content:&quot;to be not&quot;~1) at\norg.apache.lucene.search.PhraseQuery$1.getPhraseMatcher(PhraseQuery.java:497)\nat org.apache.lucene.search.PhraseWeight.scorer(PhraseWeight.java:64)\nat org.apache.lucene.search.Weight.bulkScorer(Weight.java:166) at\norg.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:731)\nat\norg.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:655)\nat\norg.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:649)\nat\norg.apache.lucene.search.IndexSearcher.searchAfter(IndexSearcher.java:487)\nat\norg.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:501)\nat ProximitySearch.main(ProximitySearch.java:81)</p>\n</blockquote>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) throws IOException, ParseException {\n\n        Analyzer analyzer = new StandardAnalyzer();\n\n        List&lt;KeyValuePairs&gt; listOfDocs = new LinkedList&lt;&gt;();\n\n        KeyValuePairs file1 = new KeyValuePairs(&quot;file1&quot;, &quot;to be or not to be that is the question&quot;);\n        KeyValuePairs file2 = new KeyValuePairs(&quot;file2&quot;, &quot;make a long story short&quot;);\n        KeyValuePairs file3 = new KeyValuePairs(&quot;file3&quot;, &quot;see eye to eye&quot;);\n\n        listOfDocs.add(file1);\n        listOfDocs.add(file2);\n        listOfDocs.add(file3);\n\n        Path indexPath = Files.createTempDirectory(&quot;tempIndex&quot;);\n        Directory directory = FSDirectory.open(indexPath);\n        IndexWriterConfig config = new IndexWriterConfig(analyzer);\n        IndexWriter iwriter = new IndexWriter(directory, config);\n        for (KeyValuePairs listOfDoc : listOfDocs) {\n            Document doc = new Document();\n            String text = listOfDoc.getKey();\n            System.out.println(text);\n            String title = listOfDoc.getValue();\n            doc.add(new StringField(&quot;content&quot;, text, Field.Store.YES));\n            doc.add(new Field(&quot;title&quot;, title, TextField.TYPE_STORED));\n            iwriter.addDocument(doc);\n        }\n        iwriter.close();\n\n        // Now search the index:\n        DirectoryReader ireader = DirectoryReader.open(directory);\n        IndexSearcher isearcher = new IndexSearcher(ireader);\n\n        // Parse a simple query that searches for &quot;something that u want to search&quot;:\n        QueryParser parser = new QueryParser(&quot;content&quot;, analyzer);\n        Query query = parser.parse(&quot;\\&quot;to be not\\&quot;~1&quot;);\n\n        ScoreDoc[] hits = isearcher.search(query, 10).scoreDocs;\n        System.out.println(Arrays.toString(Arrays.stream(hits).toArray()));\n        System.out.println(&quot;Search terms found in :: &quot; + hits.length + &quot; files&quot;);\n\n        ireader.close();\n        directory.close();\n        IOUtils.rm(indexPath);\n    }\n</code></pre>\n<p>I dont know what am i doing wrong.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1659119808,"post_id":73167913,"comment_id":129225681,"body_markdown":"To clarify, is your Streams app using a TimestampExtractor? Or is the producer explicitly setting the record timestamp based on a field in the event? That&#39;s the only reason why the timestamps would be mixed up (but you shouldn&#39;t use this to decipher record order, anyway)","body":"To clarify, is your Streams app using a TimestampExtractor? Or is the producer explicitly setting the record timestamp based on a field in the event? That&#39;s the only reason why the timestamps would be mixed up (but you shouldn&#39;t use this to decipher record order, anyway)"},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1659342884,"post_id":73167913,"comment_id":129263524,"body_markdown":"@OneCricketeer Thanks for the comment. I&#39;m not using a custom timestamp extractor, meaning `FailOnInvalidTimestamp` is used which in turn uses the record timestamp. I&#39;ve updated the question with some more details which might prove helpful...","body":"@OneCricketeer Thanks for the comment. I&#39;m not using a custom timestamp extractor, meaning <code>FailOnInvalidTimestamp</code> is used which in turn uses the record timestamp. I&#39;ve updated the question with some more details which might prove helpful..."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1659376587,"post_id":73167913,"comment_id":129275277,"body_markdown":"I see you have `Produced.with(Serdes.UUID()`. It&#39;s possible your UUID&#39;s only hash into a handful of partitions, and are not evenly distributed. In other words, two or more UUID&#39;s may have a partition collision after hashed","body":"I see you have <code>Produced.with(Serdes.UUID()</code>. It&#39;s possible your UUID&#39;s only hash into a handful of partitions, and are not evenly distributed. In other words, two or more UUID&#39;s may have a partition collision after hashed"},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1659439589,"post_id":73167913,"comment_id":129290330,"body_markdown":"@OneCricketeer Thanks for the hint. It seems that it is indeed related. I&#39;ve updated the question with more details, if you&#39;re able to take a look.","body":"@OneCricketeer Thanks for the hint. It seems that it is indeed related. I&#39;ve updated the question with more details, if you&#39;re able to take a look."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1659446962,"post_id":73167913,"comment_id":129293198,"body_markdown":"&quot;hashing the was used for the producer back then&quot; - I&#39;m not sure about this, but I believe Kafka/Spring always used murmur2 hashes during partitioning... Regarding your kafka connect comment - yes, S3 sink for example, can easily write into older partitions. Topic partitions don&#39;t matter for that, though if you&#39;re using the Connector time based partitioner","body":"&quot;hashing the was used for the producer back then&quot; - I&#39;m not sure about this, but I believe Kafka/Spring always used murmur2 hashes during partitioning... Regarding your kafka connect comment - yes, S3 sink for example, can easily write into older partitions. Topic partitions don&#39;t matter for that, though if you&#39;re using the Connector time based partitioner"},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1659451120,"post_id":73167913,"comment_id":129294980,"body_markdown":"*Kafka/Spring always used murmur2* Unfortunately it seems like this is not the case for Spring Cloud Stream, see my question on this [here](https://stackoverflow.com/questions/73207602/why-does-spring-cloud-stream-with-kafka-binder-hash-keys-differently-than-a-stan?noredirect=1#comment129293663_73207602). So, it unfortunately seems that records produced through Spring Cloud Stream &#39;normally&#39; produced records are not able to be co-partitioned, by default. :(","body":"<i>Kafka/Spring always used murmur2</i> Unfortunately it seems like this is not the case for Spring Cloud Stream, see my question on this <a href=\"https://stackoverflow.com/questions/73207602/why-does-spring-cloud-stream-with-kafka-binder-hash-keys-differently-than-a-stan?noredirect=1#comment129293663_73207602\">here</a>. So, it unfortunately seems that records produced through Spring Cloud Stream &#39;normally&#39; produced records are not able to be co-partitioned, by default. :("},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1659451127,"post_id":73167913,"comment_id":129294982,"body_markdown":"I&#39;m not quite sure I understood your S3 sink comment. Since my new records are all over the place, I&#39;m seeing connect logs saying something like `writing 04/21/22`, `writing 04/25/22`, `writing 05/01/22`, `writing 04/28/22`, etc. (in e.g., that order, whenever record belonging to a specific storage partition are encountered). Would this not lead to more memory consumption over time, as old messages are encountered? I am indeed using a `DailyPartitioner` for writing the data into S3.","body":"I&#39;m not quite sure I understood your S3 sink comment. Since my new records are all over the place, I&#39;m seeing connect logs saying something like <code>writing 04&#47;21&#47;22</code>, <code>writing 04&#47;25&#47;22</code>, <code>writing 05&#47;01&#47;22</code>, <code>writing 04&#47;28&#47;22</code>, etc. (in e.g., that order, whenever record belonging to a specific storage partition are encountered). Would this not lead to more memory consumption over time, as old messages are encountered? I am indeed using a <code>DailyPartitioner</code> for writing the data into S3."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1659452135,"post_id":73167913,"comment_id":129295432,"body_markdown":"AFAIK, the Spring-Cloud-Stream Kafka Binder does use Kafka&#39;s Partitioner. It is other binders that may be configured with other partitioners (I could be wrong, as I am not a Spring dev like Gary there)... Yes, there is memory usage per partition-buffer, but no more than `flush.size` or if you are using the scheduled rotation interval, then that is the longest it&#39;ll hold onto data. But again, the timestamp is irrelevant to the topic partition","body":"AFAIK, the Spring-Cloud-Stream Kafka Binder does use Kafka&#39;s Partitioner. It is other binders that may be configured with other partitioners (I could be wrong, as I am not a Spring dev like Gary there)... Yes, there is memory usage per partition-buffer, but no more than <code>flush.size</code> or if you are using the scheduled rotation interval, then that is the longest it&#39;ll hold onto data. But again, the timestamp is irrelevant to the topic partition"},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1659453318,"post_id":73167913,"comment_id":129295979,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/246973/discussion-between-filpa-and-onecricketeer).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/246973/discussion-between-filpa-and-onecricketeer\">continue this discussion in chat</a>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1659566278,"post_id":73167913,"comment_id":129327799,"body_markdown":"The Kafka topic partition doesn&#39;t determine the S3 sink timestamp partition. Your producers are simply sending late data and/or overriding the record timestamp. You cannot fix this from the consumer side, as S3 sink doesn&#39;t know there will ever be &quot;late data&quot; and it never &quot;closes&quot; a timed partition... If you really want to know what data is being sent to S3, if late, and needs re-processed, you can use a lambda job to trigger only S3 prefixes less than &quot;today&quot;","body":"The Kafka topic partition doesn&#39;t determine the S3 sink timestamp partition. Your producers are simply sending late data and/or overriding the record timestamp. You cannot fix this from the consumer side, as S3 sink doesn&#39;t know there will ever be &quot;late data&quot; and it never &quot;closes&quot; a timed partition... If you really want to know what data is being sent to S3, if late, and needs re-processed, you can use a lambda job to trigger only S3 prefixes less than &quot;today&quot;"},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1660231012,"post_id":73167913,"comment_id":129488813,"body_markdown":"Got it, makes sense - thanks for your efforts. If you&#39;d like to write a succinct summary as an answer, I&#39;ll gladly accept it. Otherwise I&#39;ll write an answer in a couple days so that other that may have a similar issue might get some help in the future.","body":"Got it, makes sense - thanks for your efforts. If you&#39;d like to write a succinct summary as an answer, I&#39;ll gladly accept it. Otherwise I&#39;ll write an answer in a couple days so that other that may have a similar issue might get some help in the future."}],"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660231056,"creation_date":1659108543,"question_id":73167913,"body_markdown":"We have the following situation:\r\n\r\n1. Existing topic with **9** partitions in Kafka contains multiple record types. These are partitioned according to a custom header (key = `null`) which is basically a string UUID. \r\n\r\n2. Data is consumed via Kstreams, filtered by the type that interests us and repartitioned into a new topic containing only specific record types. The new topic contains **12** partitions and has key=`&lt;original id in header&gt;`. The increased partition count is to allow more consumers to process this data.\r\n\r\nThis is where things seem to get a little weird.\r\n\r\nIn the original topic, we have millions of the relevant records. In each of the 9 partitions, we see relatively monotonically increasing record times, which is to be expected as the partitions should be assigned relatively randomly due to the high cardinality of the partition key.\r\n\r\nIn the **new** topic, we&#39;re seeing something like the following:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSeemingly the record timestamps are jumping all over the place. Some discrepancies are to be expected seeing how the partitioning in the original (as well as the new) topic isn&#39;t *exactly* round-robin. We&#39;re seeing a few partitions in our original topic which have offsets that are ~1-2M higher/lower than others, but seeing how we have many millions of records of ingest daily, I can&#39;t explain the one record with a time stamp of `5/28/2022` between `6/17/2022` and `6/14/2022`.\r\n\r\nWhat could explain this behaviour?\r\n\r\n---\r\n\r\nEdit: \r\n\r\nLooking at the consumer group offsets, I&#39;ve found something interesting:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI was reingesting the data with multiple consumers and noted that they have severly different lags per partition. I don&#39;t quite understand why this discrepancy would be so large. Going to investigate further...\r\n\r\n---\r\n\r\nEdit: \r\n\r\nTo add some more detail, the workflow of the Streams app is as follows:\r\n\r\n```java\r\nSpecificAvroSerde&lt;MyEvent&gt; specificAvroSerde = new SpecificAvroSerde&lt;&gt;();\r\nspecificAvroSerde.configure(Collections.singletonMap(AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, SCHEMA_REGISTRY_URL), /*isKey*/ false);\r\n\r\nstreamsBuilder\r\n        .stream(&quot;events&quot;, Consumed.with(Serdes.Void(), Serdes.ByteArray()))\r\n        .transform(new FilterByTypeHeaderTransformerSupplier(topicProperties))\r\n        .transform(new MyEventAvroTransformerSupplier())\r\n        .to(topicProperties.getOutputTopic(), Produced.with(Serdes.UUID(), specificAvroSerde));\r\n```\r\n\r\nwhere the `FilterByTypeHeaderTransformerSupplier` instantiates a transformer that does, in essence:\r\n\r\n```java\r\npublic KeyValue&lt;Void, byte[]&gt; transform(Void key, byte[] value) {\r\n    // checks record headers\r\n    if (matchesFilter()) {\r\n        return KeyValue.pair(key, value);\r\n    }\r\n    // skip since it is not an event type that interests us\r\n    return null;\r\n}\r\n```\r\n\r\nwhile the other transformer does the following (which doesn&#39;t have great performance but does the job for now): \r\n\r\n```java\r\npublic KeyValue&lt;UUID, MyAvroEvent&gt; transform(Void key, byte[] value) {\r\n    MyEvent event = objectMapper.readValue(value, MyEvent.class);\r\n    MyAvroEvent avroRecord = serializeAsAvro(event);\r\n    return KeyValue.pair(event.getEventId(), avroRecord);\r\n}\r\n```\r\n\r\nhence I use the default timestamp extractor (`FailOnInvalidTimestamp`). \r\n\r\nMost notably, as can be seen, I&#39;m adding a `key` to this record: however, this key is the same one that was previously used to partition the data (in the existing 9 partitions, however). \r\n\r\nI&#39;ll try removing this key first to see if the behaviour changes, but I&#39;m kind of doubtful that that&#39;s the reason, especially since it&#39;s the same partition key value that was used previously.\r\n\r\nI still haven&#39;t found the reason for the wildly differing consumer offsets, unfortunately. I very much hope that I don&#39;t have to have a single consumer reprocess this once to catch up, since that would take a very long time...\r\n\r\n---\r\n\r\nEdit 2:\r\n\r\nI believe I&#39;ve found the cause of this discrepancy. The original records were produced using Spring Cloud Stream - these records included headers such as e.g &quot;scst_partition=4&quot;. **However**, the hashing the was used for the producer back then used Java based hashing (e.g. `&quot;keyAsString&quot;.hashCode() % numPartitions`), while the Kafka Clients use:\r\n\r\n```java\r\nUtils.toPositive(Utils.murmur2(keyAsBytes))\r\n```\r\n\r\nAs a result, we&#39;re seeing behaviour where records in e.g. source partition 0 could land in any one of the new partitions. Hence, small discrepancies in the source distribution could lead to rather large fluctuations in record ordering in the new partitions.\r\n\r\nI&#39;m not quite sure how to deal with this in a sensible manner. Currently I&#39;ve tried using a simple round-robin partitioning in the target topic to see if the distribution is a bit more even in that case.\r\n\r\nThe reason why this is a problem is that this data will be put on an object storage via e.g. Kafka Connect. If I want this data stored in e.g. a daily format, then old data coming in all the time would cause buffers that should&#39;ve been closed a long time ago to be kept open, increasing memory consumption. It doesn&#39;t make sense to use any kind of windowing for late data in this case, seeing how it&#39;s not a real-time aggregation but simply consumption of historical data.\r\n\r\n*Ideally* for the new partitioning I&#39;d want something like: given the number of partitions in the target topic is a multiple of the number of partitions in the source topic, have records in partition 0 go to either partition 0 or 9, from 1 to either 1 or 10, etc. (perhaps even randomly)\r\n\r\nThis would require some more work in the form of a custom partitioner, but I can&#39;t foresee if this would cause other problems down the line. \r\n\r\nI&#39;ve also tried setting the partition Id header (`&quot;kafka_partitionId&quot;` - as far as I know, documentation here isn&#39;t quite easy to find) but it is seemingly not used.\r\n\r\nI&#39;ll investigate a bit further...\r\n\r\n---\r\n\r\nFinal edit:\r\n\r\nFor what it&#39;s worth, the problem boiled down to the following two issues:\r\n\r\n1. My original data, written by Spring Cloud Stream, was partitioned differently that how a vanilla Kafka Producer (which Kafka Streams internally uses) would. This led to data jumping all over the place from a &quot;record-time&quot; point of view.\r\n2. Due to the above, I had to choose a number of partitions that was a multiple of the previous number of partitions as well as use a custom partitioner which does it the &quot;spring cloud stream&quot;.\r\n\r\nThe requirement that the new number be a multiple of the previous one is a result of modular arithmetic. If I wished to have deterministic partitioning for my existing data, having a multiple would allow data to go into one of two possible new partitions as opposed to only one as in the previous case.\r\n\r\nE.g. with 9 -&gt; 18 partitions: \r\n1. id 1 -&gt; previously hashed to partition 0, now hashes to either 0 or 9 (mod 18)\r\n2. id 2 -&gt; previously hashed to partition 1, now hashes to either 1 or 10 (mod 18)\r\n\r\nHence my requirement for higher paralellism is met and the data inside a single partition is ordered as desired, since a target partition is only supplied from at most one source partition.\r\n\r\nI&#39;m sure there might have been a simpler way to go about this all, but this works for now.\r\n\r\nFor further context/info, see also [this](https://stackoverflow.com/questions/73207602/why-does-spring-cloud-stream-with-kafka-binder-hash-keys-differently-than-a-stan) Q&amp;A.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9gmXW.png\r\n  [2]: https://i.stack.imgur.com/f4puD.png","title":"Odd behaviour on repartitioning existing data in Kafka","body":"<p>We have the following situation:</p>\n<ol>\n<li><p>Existing topic with <strong>9</strong> partitions in Kafka contains multiple record types. These are partitioned according to a custom header (key = <code>null</code>) which is basically a string UUID.</p>\n</li>\n<li><p>Data is consumed via Kstreams, filtered by the type that interests us and repartitioned into a new topic containing only specific record types. The new topic contains <strong>12</strong> partitions and has key=<code>&lt;original id in header&gt;</code>. The increased partition count is to allow more consumers to process this data.</p>\n</li>\n</ol>\n<p>This is where things seem to get a little weird.</p>\n<p>In the original topic, we have millions of the relevant records. In each of the 9 partitions, we see relatively monotonically increasing record times, which is to be expected as the partitions should be assigned relatively randomly due to the high cardinality of the partition key.</p>\n<p>In the <strong>new</strong> topic, we're seeing something like the following:</p>\n<p><a href=\"https://i.stack.imgur.com/9gmXW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9gmXW.png\" alt=\"enter image description here\" /></a></p>\n<p>Seemingly the record timestamps are jumping all over the place. Some discrepancies are to be expected seeing how the partitioning in the original (as well as the new) topic isn't <em>exactly</em> round-robin. We're seeing a few partitions in our original topic which have offsets that are ~1-2M higher/lower than others, but seeing how we have many millions of records of ingest daily, I can't explain the one record with a time stamp of <code>5/28/2022</code> between <code>6/17/2022</code> and <code>6/14/2022</code>.</p>\n<p>What could explain this behaviour?</p>\n<hr />\n<p>Edit:</p>\n<p>Looking at the consumer group offsets, I've found something interesting:</p>\n<p><a href=\"https://i.stack.imgur.com/f4puD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f4puD.png\" alt=\"enter image description here\" /></a></p>\n<p>I was reingesting the data with multiple consumers and noted that they have severly different lags per partition. I don't quite understand why this discrepancy would be so large. Going to investigate further...</p>\n<hr />\n<p>Edit:</p>\n<p>To add some more detail, the workflow of the Streams app is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SpecificAvroSerde&lt;MyEvent&gt; specificAvroSerde = new SpecificAvroSerde&lt;&gt;();\nspecificAvroSerde.configure(Collections.singletonMap(AbstractKafkaSchemaSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, SCHEMA_REGISTRY_URL), /*isKey*/ false);\n\nstreamsBuilder\n        .stream(&quot;events&quot;, Consumed.with(Serdes.Void(), Serdes.ByteArray()))\n        .transform(new FilterByTypeHeaderTransformerSupplier(topicProperties))\n        .transform(new MyEventAvroTransformerSupplier())\n        .to(topicProperties.getOutputTopic(), Produced.with(Serdes.UUID(), specificAvroSerde));\n</code></pre>\n<p>where the <code>FilterByTypeHeaderTransformerSupplier</code> instantiates a transformer that does, in essence:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public KeyValue&lt;Void, byte[]&gt; transform(Void key, byte[] value) {\n    // checks record headers\n    if (matchesFilter()) {\n        return KeyValue.pair(key, value);\n    }\n    // skip since it is not an event type that interests us\n    return null;\n}\n</code></pre>\n<p>while the other transformer does the following (which doesn't have great performance but does the job for now):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public KeyValue&lt;UUID, MyAvroEvent&gt; transform(Void key, byte[] value) {\n    MyEvent event = objectMapper.readValue(value, MyEvent.class);\n    MyAvroEvent avroRecord = serializeAsAvro(event);\n    return KeyValue.pair(event.getEventId(), avroRecord);\n}\n</code></pre>\n<p>hence I use the default timestamp extractor (<code>FailOnInvalidTimestamp</code>).</p>\n<p>Most notably, as can be seen, I'm adding a <code>key</code> to this record: however, this key is the same one that was previously used to partition the data (in the existing 9 partitions, however).</p>\n<p>I'll try removing this key first to see if the behaviour changes, but I'm kind of doubtful that that's the reason, especially since it's the same partition key value that was used previously.</p>\n<p>I still haven't found the reason for the wildly differing consumer offsets, unfortunately. I very much hope that I don't have to have a single consumer reprocess this once to catch up, since that would take a very long time...</p>\n<hr />\n<p>Edit 2:</p>\n<p>I believe I've found the cause of this discrepancy. The original records were produced using Spring Cloud Stream - these records included headers such as e.g &quot;scst_partition=4&quot;. <strong>However</strong>, the hashing the was used for the producer back then used Java based hashing (e.g. <code>&quot;keyAsString&quot;.hashCode() % numPartitions</code>), while the Kafka Clients use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Utils.toPositive(Utils.murmur2(keyAsBytes))\n</code></pre>\n<p>As a result, we're seeing behaviour where records in e.g. source partition 0 could land in any one of the new partitions. Hence, small discrepancies in the source distribution could lead to rather large fluctuations in record ordering in the new partitions.</p>\n<p>I'm not quite sure how to deal with this in a sensible manner. Currently I've tried using a simple round-robin partitioning in the target topic to see if the distribution is a bit more even in that case.</p>\n<p>The reason why this is a problem is that this data will be put on an object storage via e.g. Kafka Connect. If I want this data stored in e.g. a daily format, then old data coming in all the time would cause buffers that should've been closed a long time ago to be kept open, increasing memory consumption. It doesn't make sense to use any kind of windowing for late data in this case, seeing how it's not a real-time aggregation but simply consumption of historical data.</p>\n<p><em>Ideally</em> for the new partitioning I'd want something like: given the number of partitions in the target topic is a multiple of the number of partitions in the source topic, have records in partition 0 go to either partition 0 or 9, from 1 to either 1 or 10, etc. (perhaps even randomly)</p>\n<p>This would require some more work in the form of a custom partitioner, but I can't foresee if this would cause other problems down the line.</p>\n<p>I've also tried setting the partition Id header (<code>&quot;kafka_partitionId&quot;</code> - as far as I know, documentation here isn't quite easy to find) but it is seemingly not used.</p>\n<p>I'll investigate a bit further...</p>\n<hr />\n<p>Final edit:</p>\n<p>For what it's worth, the problem boiled down to the following two issues:</p>\n<ol>\n<li>My original data, written by Spring Cloud Stream, was partitioned differently that how a vanilla Kafka Producer (which Kafka Streams internally uses) would. This led to data jumping all over the place from a &quot;record-time&quot; point of view.</li>\n<li>Due to the above, I had to choose a number of partitions that was a multiple of the previous number of partitions as well as use a custom partitioner which does it the &quot;spring cloud stream&quot;.</li>\n</ol>\n<p>The requirement that the new number be a multiple of the previous one is a result of modular arithmetic. If I wished to have deterministic partitioning for my existing data, having a multiple would allow data to go into one of two possible new partitions as opposed to only one as in the previous case.</p>\n<p>E.g. with 9 -&gt; 18 partitions:</p>\n<ol>\n<li>id 1 -&gt; previously hashed to partition 0, now hashes to either 0 or 9 (mod 18)</li>\n<li>id 2 -&gt; previously hashed to partition 1, now hashes to either 1 or 10 (mod 18)</li>\n</ol>\n<p>Hence my requirement for higher paralellism is met and the data inside a single partition is ordered as desired, since a target partition is only supplied from at most one source partition.</p>\n<p>I'm sure there might have been a simpler way to go about this all, but this works for now.</p>\n<p>For further context/info, see also <a href=\"https://stackoverflow.com/questions/73207602/why-does-spring-cloud-stream-with-kafka-binder-hash-keys-differently-than-a-stan\">this</a> Q&amp;A.</p>\n"},{"tags":["java","spring","docker","docker-compose"],"comments":[{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1660233041,"post_id":73323118,"comment_id":129489695,"body_markdown":"Why are you using &#39;ping&#39; to determine if you can connect? If you are intending to use Postman then you are presumably talking to a HTTP-based server on the container and so you should use ``curl`` or ``wget`` or similar to test that you can connect. The hostname ``authentication-srv`` will not resolve on your host - that is the name within the docker network - so you should be trying to connect to the port on ``localhost`` or perhaps your actual host name.","body":"Why are you using &#39;ping&#39; to determine if you can connect? If you are intending to use Postman then you are presumably talking to a HTTP-based server on the container and so you should use <code>curl</code> or <code>wget</code> or similar to test that you can connect. The hostname <code>authentication-srv</code> will not resolve on your host - that is the name within the docker network - so you should be trying to connect to the port on <code>localhost</code> or perhaps your actual host name."},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1660235307,"post_id":73323118,"comment_id":129490516,"body_markdown":"Host networking does not work in Docker Desktop (on any platform) and is almost never necessary; you should delete the `network_mode: host` option.  ping(1) is a very-low-level diagnostic tool that sends ICMP ECHO packets, and it doesn&#39;t know about things like TCP ports; it&#39;s usually not the right tool, prefer something like Curl for HTTP debugging.","body":"Host networking does not work in Docker Desktop (on any platform) and is almost never necessary; you should delete the <code>network_mode: host</code> option.  ping(1) is a very-low-level diagnostic tool that sends ICMP ECHO packets, and it doesn&#39;t know about things like TCP ports; it&#39;s usually not the right tool, prefer something like Curl for HTTP debugging."},{"owner":{"account_id":13951422,"reputation":7,"user_id":10074856,"display_name":"RegalArtic"},"score":0,"creation_date":1660291727,"post_id":73323118,"comment_id":129502783,"body_markdown":"If I remove the `network_mode:host` docker will use its own bridge type network by default and I don&#39;t know how to connect to the containers.","body":"If I remove the <code>network_mode:host</code> docker will use its own bridge type network by default and I don&#39;t know how to connect to the containers."}],"owner":{"account_id":13951422,"reputation":7,"user_id":10074856,"display_name":"RegalArtic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660230997,"creation_date":1660230966,"question_id":73323118,"body_markdown":"i have macOS 11.5, docker desktop 4.10, microservices with spring boot.\r\nI use docker-compose to allow me to start my microservices.\r\nA portion of docker-compose:\r\n\r\n```\r\nauthentication-server:\r\n     build: ./authentication-server\r\n     network_mode: &quot;host&quot;\r\n     image: authentication-server: 0.0.9\r\n     hostname: authentication-srv\r\n     ports:\r\n      - &quot;4445:4445&quot;\r\n```\r\n\r\nbasically I need to communicate with the container, interrogating it from my pc using Postman, then a REST request.\r\n\r\n\r\nDespite the nerwork_mode: &quot;host&quot; when I try to ping localhost: 4445 it tells me \r\n\r\n&quot;ping: cannot resolve localhost: 4445: Unknown host&quot;.\r\n\r\n\r\nAs well as trying the various container names:\r\n\r\n&quot;ping: cannot resolve authentication-srv: 4445: Unknown host&quot;\r\n\r\n&quot;ping: cannot resolve authentication-server: 4445: Unknown host&quot;\r\n\r\nSo my need is to communicate with a container created with docker-compose on my local pc. How can I solve? thank you","title":"communicate with a container created with docker-compose","body":"<p>i have macOS 11.5, docker desktop 4.10, microservices with spring boot.\nI use docker-compose to allow me to start my microservices.\nA portion of docker-compose:</p>\n<pre><code>authentication-server:\n     build: ./authentication-server\n     network_mode: &quot;host&quot;\n     image: authentication-server: 0.0.9\n     hostname: authentication-srv\n     ports:\n      - &quot;4445:4445&quot;\n</code></pre>\n<p>basically I need to communicate with the container, interrogating it from my pc using Postman, then a REST request.</p>\n<p>Despite the nerwork_mode: &quot;host&quot; when I try to ping localhost: 4445 it tells me</p>\n<p>&quot;ping: cannot resolve localhost: 4445: Unknown host&quot;.</p>\n<p>As well as trying the various container names:</p>\n<p>&quot;ping: cannot resolve authentication-srv: 4445: Unknown host&quot;</p>\n<p>&quot;ping: cannot resolve authentication-server: 4445: Unknown host&quot;</p>\n<p>So my need is to communicate with a container created with docker-compose on my local pc. How can I solve? thank you</p>\n"},{"tags":["java","exception","initializer"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1660223336,"post_id":73321158,"comment_id":129485518,"body_markdown":"The compiler does not evaluate `if (true)`, therefore it cannot know if the first one actually throws an exception. The second one either never ends or always throws an exception. The compiler can understand the while is entered but never properly exited. The try-catch is irrelevant in both cases, just throw a new and empty exception in both cases.","body":"The compiler does not evaluate <code>if (true)</code>, therefore it cannot know if the first one actually throws an exception. The second one either never ends or always throws an exception. The compiler can understand the while is entered but never properly exited. The try-catch is irrelevant in both cases, just throw a new and empty exception in both cases."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1660223337,"post_id":73321158,"comment_id":129485519,"body_markdown":"And what is the exact error message?","body":"And what is the exact error message?"},{"owner":{"account_id":18467057,"reputation":52,"user_id":13452926,"display_name":"Mammad Yahyayev"},"score":0,"creation_date":1660223561,"post_id":73321158,"comment_id":129485610,"body_markdown":"I didn&#39;t write code like this, i am preparing for Java OCP exam, therefore i test it all cases","body":"I didn&#39;t write code like this, i am preparing for Java OCP exam, therefore i test it all cases"},{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1660223906,"post_id":73321158,"comment_id":129485753,"body_markdown":"Does this answer your question? [Why is it not allowed to throw an exception in a Java instance initialization block?](https://stackoverflow.com/questions/13532794/why-is-it-not-allowed-to-throw-an-exception-in-a-java-instance-initialization-bl)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13532794/why-is-it-not-allowed-to-throw-an-exception-in-a-java-instance-initialization-bl\">Why is it not allowed to throw an exception in a Java instance initialization block?</a>"},{"owner":{"account_id":18467057,"reputation":52,"user_id":13452926,"display_name":"Mammad Yahyayev"},"score":0,"creation_date":1660224144,"post_id":73321158,"comment_id":129485855,"body_markdown":"I saw this answers, but i don&#39;t understand differences between `while(true)` and `if(true)` in this case","body":"I saw this answers, but i don&#39;t understand differences between <code>while(true)</code> and <code>if(true)</code> in this case"},{"owner":{"account_id":18467057,"reputation":52,"user_id":13452926,"display_name":"Mammad Yahyayev"},"score":0,"creation_date":1660224632,"post_id":73321158,"comment_id":129486080,"body_markdown":"@luk2302 i understand your answer, and i have a request, where you learn this, i mean can you share any resource","body":"@luk2302 i understand your answer, and i have a request, where you learn this, i mean can you share any resource"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660230847,"creation_date":1660224840,"answer_id":73321614,"question_id":73321158,"body_markdown":"Stripping down your examples - because the try/catch/rethrow doesn&#39;t matter here:\r\n\r\n```\r\n{\r\n    if (true) {\r\n        throw new RuntimeException();\r\n    }\r\n}\r\n```\r\n\r\nvs\r\n\r\n```\r\n{\r\n    while (true) {\r\n        throw new RuntimeException();\r\n    }\r\n}\r\n```\r\n\r\nWhat matters here is whether Java considers that the statements can complete normally, because [JLS 8.6](https://docs.oracle.com/javase/specs/jls/se14/html/jls-8.html#jls-8.6) says:\r\n\r\n&gt; **It is a compile-time error if an instance initializer cannot complete normally (&#167;14.22).**\r\n\r\nConsult the [rules on unreachable statements](https://docs.oracle.com/javase/specs/jls/se14/html/jls-14.html#jls-14.22):\r\n\r\n&gt; * An `if-then` statement can complete normally iff it is reachable.\r\n&gt; * ...\r\n&gt; * A `while` statement can complete normally iff at least one of the following is true:\r\n&gt;   * The while statement is reachable and the condition expression is not a constant expression (&#167;15.29) with value true.\r\n&gt;   * There is a reachable break statement that exits the while statement.\r\n\r\n(You can also read this same section to find out why I say the try/catch/rethrow didn&#39;t matter).\r\n\r\nNotice that `if` doesn&#39;t have the same conditions on normal completion as `while`.","title":"Instance Initializer Exception Handling","body":"<p>Stripping down your examples - because the try/catch/rethrow doesn't matter here:</p>\n<pre><code>{\n    if (true) {\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>vs</p>\n<pre><code>{\n    while (true) {\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>What matters here is whether Java considers that the statements can complete normally, because <a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-8.html#jls-8.6\" rel=\"nofollow noreferrer\">JLS 8.6</a> says:</p>\n<blockquote>\n<p><strong>It is a compile-time error if an instance initializer cannot complete normally (§14.22).</strong></p>\n</blockquote>\n<p>Consult the <a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-14.html#jls-14.22\" rel=\"nofollow noreferrer\">rules on unreachable statements</a>:</p>\n<blockquote>\n<ul>\n<li>An <code>if-then</code> statement can complete normally iff it is reachable.</li>\n<li>...</li>\n<li>A <code>while</code> statement can complete normally iff at least one of the following is true:\n<ul>\n<li>The while statement is reachable and the condition expression is not a constant expression (§15.29) with value true.</li>\n<li>There is a reachable break statement that exits the while statement.</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>(You can also read this same section to find out why I say the try/catch/rethrow didn't matter).</p>\n<p>Notice that <code>if</code> doesn't have the same conditions on normal completion as <code>while</code>.</p>\n"}],"owner":{"account_id":18467057,"reputation":52,"user_id":13452926,"display_name":"Mammad Yahyayev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73321614,"answer_count":1,"score":-2,"last_activity_date":1660230847,"creation_date":1660223084,"question_id":73321158,"body_markdown":"I didn&#39;t understand the difference between these codes. One of them is compiled, the other one isn&#39;t.\r\n\r\n    {\r\n        if (true) {\r\n            try {\r\n                throw new IOException();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nThis is a instance initializer, i throw a checked exception and then handle it, and this code compile.\r\n\r\nBut this one isn&#39;t compile.\r\n\r\n    {\r\n        while (true) {\r\n            try {\r\n                throw new IOException();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nException says: `Initializer must be able to complete normally`\r\n\r\nHere is the image of both\r\n[Instance Initializer][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z07sh.png","title":"Instance Initializer Exception Handling","body":"<p>I didn't understand the difference between these codes. One of them is compiled, the other one isn't.</p>\n<pre><code>{\n    if (true) {\n        try {\n            throw new IOException();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>This is a instance initializer, i throw a checked exception and then handle it, and this code compile.</p>\n<p>But this one isn't compile.</p>\n<pre><code>{\n    while (true) {\n        try {\n            throw new IOException();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Exception says: <code>Initializer must be able to complete normally</code></p>\n<p>Here is the image of both\n<a href=\"https://i.stack.imgur.com/z07sh.png\" rel=\"nofollow noreferrer\">Instance Initializer</a></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":1,"creation_date":1660214735,"post_id":73319233,"comment_id":129482468,"body_markdown":"Does this answer your question? [How to make a Java class that implements one interface with two generic types?](https://stackoverflow.com/questions/1297972/how-to-make-a-java-class-that-implements-one-interface-with-two-generic-types)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1297972/how-to-make-a-java-class-that-implements-one-interface-with-two-generic-types\">How to make a Java class that implements one interface with two generic types?</a>"},{"owner":{"account_id":12491593,"reputation":111,"user_id":9092943,"display_name":"Lois2B"},"score":0,"creation_date":1660215765,"post_id":73319233,"comment_id":129482797,"body_markdown":"@Joe Not really, that question seems to be more about a biconsumer where the input arguments are of the same type. However, I&#39;m trying to implement a function where both the argument and the result could be of any type, separately.","body":"@Joe Not really, that question seems to be more about a biconsumer where the input arguments are of the same type. However, I&#39;m trying to implement a function where both the argument and the result could be of any type, separately."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1660220485,"post_id":73319233,"comment_id":129484513,"body_markdown":"I don&#39;t really see how what you&#39;re trying to do is different from a [`Function&lt;T,S&gt;`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/function/Function.html), with your `assign` method being the equivalent of the `Function#apply(T)` method.","body":"I don&#39;t really see how what you&#39;re trying to do is different from a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/function/Function.html\" rel=\"nofollow noreferrer\"><code>Function&lt;T,S&gt;</code></a>, with your <code>assign</code> method being the equivalent of the <code>Function#apply(T)</code> method."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1660225380,"post_id":73319233,"comment_id":129486438,"body_markdown":"In other words, you should have `interface Assigner&lt;T, S&gt; { S assign(T type); }` and then your subtypes could be `interface CityAssigner&lt;T&gt; extends Assigner&lt;T, City&gt; {}`, for example.","body":"In other words, you should have <code>interface Assigner&lt;T, S&gt; { S assign(T type); }</code> and then your subtypes could be <code>interface CityAssigner&lt;T&gt; extends Assigner&lt;T, City&gt; {}</code>, for example."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1660230688,"post_id":73319233,"comment_id":129488705,"body_markdown":"Seconding what @Slaw recommended, since your current approach will face a class explosion. If you truly want a GOF design pattern, I would say that you&#39;re looking for the [Decorator pattern](https://en.wikipedia.org/wiki/Decorator_pattern)","body":"Seconding what @Slaw recommended, since your current approach will face a class explosion. If you truly want a GOF design pattern, I would say that you&#39;re looking for the <a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow noreferrer\">Decorator pattern</a>"},{"owner":{"account_id":12491593,"reputation":111,"user_id":9092943,"display_name":"Lois2B"},"score":0,"creation_date":1660288765,"post_id":73319233,"comment_id":129501806,"body_markdown":"@Slaw Indeed, I realized that it&#39;s Java&#39;s function what I was looking for, that&#39;s why I mentioned it in my previous comment. As you and Cheng&#39;s answer both suggested, I agree that the simplest way is probably just passing the types in the sub interfaces. I got confused because I&#39;m not sure when to put a type parameter to class level instead of the method scope.","body":"@Slaw Indeed, I realized that it&#39;s Java&#39;s function what I was looking for, that&#39;s why I mentioned it in my previous comment. As you and Cheng&#39;s answer both suggested, I agree that the simplest way is probably just passing the types in the sub interfaces. I got confused because I&#39;m not sure when to put a type parameter to class level instead of the method scope."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660230348,"creation_date":1660230348,"answer_id":73322961,"question_id":73319233,"body_markdown":"Your sub interface inherits the method ```assign``` from ```Assigner```.  All you need to do in the sub interface is pass the types to the super interface.  \r\n\r\n```\r\ninterface Assigner&lt;S, T&gt; { S assign(T type);}\r\ninterface PlayerAssigner&lt;S&gt; extends Assigner&lt;S,Player&gt; {}\r\ninterface ManagerAssigner&lt;S&gt; extends Assigner&lt;S,Manager&gt; {}\r\ninterface CityBasedAssigner&lt;T&gt; extends Assigner&lt;City,T&gt; {}\r\n```","title":"What design pattern could work with such a generic type in Java?","body":"<p>Your sub interface inherits the method <code>assign</code> from <code>Assigner</code>.  All you need to do in the sub interface is pass the types to the super interface.</p>\n<pre><code>interface Assigner&lt;S, T&gt; { S assign(T type);}\ninterface PlayerAssigner&lt;S&gt; extends Assigner&lt;S,Player&gt; {}\ninterface ManagerAssigner&lt;S&gt; extends Assigner&lt;S,Manager&gt; {}\ninterface CityBasedAssigner&lt;T&gt; extends Assigner&lt;City,T&gt; {}\n</code></pre>\n"}],"owner":{"account_id":12491593,"reputation":111,"user_id":9092943,"display_name":"Lois2B"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1660230348,"creation_date":1660214114,"question_id":73319233,"body_markdown":"Consider having a generic type:\r\n\r\n```java\r\npublic interface &lt;T&gt; Assigner {\r\n    &lt;S&gt; S assign(T type);\r\n}\r\n```\r\n\r\nNow, let&#39;s say I want to have different types of assigners that could assign an object of any type `T` to a group of any type `S`. Example:\r\n\r\n```java\r\ninterface PlayerAssigner extends Assigner&lt;Player&gt; {\r\n    &lt;S&gt; S assign(Player player);\r\n}\r\n\r\ninterface ManagerAssigner extends Assigner&lt;Manager&gt; {\r\n    &lt;S&gt; S assign(Manager manager);\r\n}\r\n\r\n...\r\n```\r\n\r\nI would also like to introduce a group-type-based assigner, but this is where I got stuck.\r\nI tried:\r\n\r\n```java\r\ninterface CityBasedAssigner&lt;T&gt; extends Assigner&lt;T&gt; {\r\n    City assign(T type);\r\n}\r\n```\r\n\r\n, but this won&#39;t work, it says that both methods have the same erasure. I don&#39;t know whether it should be an abstract class or something different, or whether the whole concept could be simplified. \r\nWhat I want is to be able to instantiate different types of assigners from the combination of two type parameters, e.g. CityBasedPlayerAssigner, CountryBasedPlayerAssigner, CountryBasedManagerAssigner, etc., and this would have been the next step: combining the two extended interfaces and create many implementations based on these two.\r\n\r\nWhat am I missing here?","title":"What design pattern could work with such a generic type in Java?","body":"<p>Consider having a generic type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface &lt;T&gt; Assigner {\n    &lt;S&gt; S assign(T type);\n}\n</code></pre>\n<p>Now, let's say I want to have different types of assigners that could assign an object of any type <code>T</code> to a group of any type <code>S</code>. Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface PlayerAssigner extends Assigner&lt;Player&gt; {\n    &lt;S&gt; S assign(Player player);\n}\n\ninterface ManagerAssigner extends Assigner&lt;Manager&gt; {\n    &lt;S&gt; S assign(Manager manager);\n}\n\n...\n</code></pre>\n<p>I would also like to introduce a group-type-based assigner, but this is where I got stuck.\nI tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface CityBasedAssigner&lt;T&gt; extends Assigner&lt;T&gt; {\n    City assign(T type);\n}\n</code></pre>\n<p>, but this won't work, it says that both methods have the same erasure. I don't know whether it should be an abstract class or something different, or whether the whole concept could be simplified.\nWhat I want is to be able to instantiate different types of assigners from the combination of two type parameters, e.g. CityBasedPlayerAssigner, CountryBasedPlayerAssigner, CountryBasedManagerAssigner, etc., and this would have been the next step: combining the two extended interfaces and create many implementations based on these two.</p>\n<p>What am I missing here?</p>\n"},{"tags":["java","swing","memory-leaks","jdialog"],"comments":[{"owner":{"display_name":"user4628051"},"score":0,"creation_date":1440493231,"post_id":32199646,"comment_id":52283902,"body_markdown":"Could you please present your code","body":"Could you please present your code"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1440497950,"post_id":32199646,"comment_id":52287011,"body_markdown":"*&quot;I have a Java Application where JDialog is opened from a button in a JFrame.&quot;* I am skeptical that this is a memory leak, and even if so, that it causes much problem.  After all, how many (tens of) thousands of dialogs does it take to crash the JVM?  If it **truly is** a problem (OOME), try using a `CardLayout` in a single dialog, or showing the exact same dialog and components with different values in the fields.","body":"<i>&quot;I have a Java Application where JDialog is opened from a button in a JFrame.&quot;</i> I am skeptical that this is a memory leak, and even if so, that it causes much problem.  After all, how many (tens of) thousands of dialogs does it take to crash the JVM?  If it <b>truly is</b> a problem (OOME), try using a <code>CardLayout</code> in a single dialog, or showing the exact same dialog and components with different values in the fields."},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1440507143,"post_id":32199646,"comment_id":52293000,"body_markdown":"The `ownedWindowList` contains **Weak** References, so this should not prevent the dialog from being reclaimed and garbage collected. But note that this will not done immediately (when you close the dialog), and it might not be done at all during one application run **if** the memory that is occupied by the dialog simply is not required otherwise. Particularly regarding the question: You never know when (or whether) `finalize()` on an object will be called. Websearch: &quot;Effective Java, Item 7: Avoid finalizers&quot;  The rule of thumb is: There&#39;s no leak unless you get an `OutOfMemoryError`","body":"The <code>ownedWindowList</code> contains <b>Weak</b> References, so this should not prevent the dialog from being reclaimed and garbage collected. But note that this will not done immediately (when you close the dialog), and it might not be done at all during one application run <b>if</b> the memory that is occupied by the dialog simply is not required otherwise. Particularly regarding the question: You never know when (or whether) <code>finalize()</code> on an object will be called. Websearch: &quot;Effective Java, Item 7: Avoid finalizers&quot;  The rule of thumb is: There&#39;s no leak unless you get an <code>OutOfMemoryError</code>"}],"answers":[{"tags":[],"owner":{"account_id":25994090,"reputation":60,"user_id":19705775,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660230263,"creation_date":1660229496,"answer_id":73322751,"question_id":32199646,"body_markdown":"This is what I&#39;m trying right now, and I faced the same problem. \r\nI need an application, that reads some local files, and after more \r\nsearching, I found that Java can do more than I was expected...  \r\nI had written the skeleton of a Java dialog class for an interface. \r\n\r\nThe problem was, closing the dialog, was still working in background. \r\nAnd trying to run again the application, it said it&#39;s still running. \r\nHere is the code for my class: \r\n\r\n    import java.awt.event.*; \r\n    \r\n    public class JFrameDialog extends javax.swing.JDialog \r\n    implements java.awt.event.ActionListener { \r\n      private static javax.swing.JDialog dialog; \r\n    \r\n      @Override\r\n      public void actionPerformed(ActionEvent e){ \r\n      }\r\n    \r\n      public static void setup_controls(){\r\n        javax.swing.JButton myButton = new javax.swing.JButton(&quot;Close&quot;);\r\n        myButton.setVisible(true); \r\n        myButton.setBounds(50, 100, 100, 30); \r\n        myButton.addActionListener(new java.awt.event.ActionListener(){\r\n          public void actionPerformed(ActionEvent e){ \r\n            System.exit(0); \r\n          } \r\n        }); \r\n    \r\n        dialog.add(myButton); \r\n      }\r\n    \r\n      public static void main(String[] args){\r\n        dialog = new javax.swing.JDialog(); \r\n        dialog.setLayout(null); \r\n        dialog.setDefaultCloseOperation(javax.swing.JDialog.DISPOSE_ON_CLOSE); \r\n        dialog.setTitle(&quot; Area Report&quot;); \r\n        dialog.setSize(600,400); \r\n        dialog.setLocation(0, 0);\r\n        \r\n        setup_controls();     \r\n        dialog.setVisible(true); \r\n    \r\n        dialog.addWindowListener(new java.awt.event.WindowAdapter(){\r\n          @Override\r\n          public void windowClosing(WindowEvent e) { \r\n            System.exit(0);\r\n          }\r\n        }); \r\n      } \r\n    }\r\n\r\n\r\n\r\nAs you can see, the close option is also: JDialog.DISPOSE_ON_CLOSE\r\nBut this is not actually removing the program from the working heap. \r\n\r\nOnce you had detected the windowClosing event, either from the Close button, or from the frame menu close button (that with an X inside), you may call System.exit(0); \r\n\r\nThis will terminate the application main loop and the dialog will close. Next time when running again the application, the dialog shows normally. \r\n\r\nHopefully this also works for other people. \r\nWith kind regards, Adrian Brinas. \r\n\r\n\r\n","title":"JDialog not finalized","body":"<p>This is what I'm trying right now, and I faced the same problem.\nI need an application, that reads some local files, and after more\nsearching, I found that Java can do more than I was expected...<br />\nI had written the skeleton of a Java dialog class for an interface.</p>\n<p>The problem was, closing the dialog, was still working in background.\nAnd trying to run again the application, it said it's still running.\nHere is the code for my class:</p>\n<pre><code>import java.awt.event.*; \n\npublic class JFrameDialog extends javax.swing.JDialog \nimplements java.awt.event.ActionListener { \n  private static javax.swing.JDialog dialog; \n\n  @Override\n  public void actionPerformed(ActionEvent e){ \n  }\n\n  public static void setup_controls(){\n    javax.swing.JButton myButton = new javax.swing.JButton(&quot;Close&quot;);\n    myButton.setVisible(true); \n    myButton.setBounds(50, 100, 100, 30); \n    myButton.addActionListener(new java.awt.event.ActionListener(){\n      public void actionPerformed(ActionEvent e){ \n        System.exit(0); \n      } \n    }); \n\n    dialog.add(myButton); \n  }\n\n  public static void main(String[] args){\n    dialog = new javax.swing.JDialog(); \n    dialog.setLayout(null); \n    dialog.setDefaultCloseOperation(javax.swing.JDialog.DISPOSE_ON_CLOSE); \n    dialog.setTitle(&quot; Area Report&quot;); \n    dialog.setSize(600,400); \n    dialog.setLocation(0, 0);\n    \n    setup_controls();     \n    dialog.setVisible(true); \n\n    dialog.addWindowListener(new java.awt.event.WindowAdapter(){\n      @Override\n      public void windowClosing(WindowEvent e) { \n        System.exit(0);\n      }\n    }); \n  } \n}\n</code></pre>\n<p>As you can see, the close option is also: JDialog.DISPOSE_ON_CLOSE\nBut this is not actually removing the program from the working heap.</p>\n<p>Once you had detected the windowClosing event, either from the Close button, or from the frame menu close button (that with an X inside), you may call System.exit(0);</p>\n<p>This will terminate the application main loop and the dialog will close. Next time when running again the application, the dialog shows normally.</p>\n<p>Hopefully this also works for other people.\nWith kind regards, Adrian Brinas.</p>\n"}],"owner":{"account_id":3518095,"reputation":21,"user_id":2941046,"display_name":"Cham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660230263,"creation_date":1440492913,"question_id":32199646,"body_markdown":"I have a Java Application where JDialog is opened from a button in a JFrame.\r\nI have set default close operation of JDialog to JDialog.DISPOSE_ON_CLOSE.\r\n\r\nThe problem that I the JDialog is not finalized after being closed using the cross button in the dialog window.\r\nAfter analysing a memory snapshot I came across that this is because parent window&#39;s(the JFrame) ownedWindowList still has a reference to the dialog object.\r\n\r\nDoes anyone know why this could happen and how I can solve it?","title":"JDialog not finalized","body":"<p>I have a Java Application where JDialog is opened from a button in a JFrame.\nI have set default close operation of JDialog to JDialog.DISPOSE_ON_CLOSE.</p>\n\n<p>The problem that I the JDialog is not finalized after being closed using the cross button in the dialog window.\nAfter analysing a memory snapshot I came across that this is because parent window's(the JFrame) ownedWindowList still has a reference to the dialog object.</p>\n\n<p>Does anyone know why this could happen and how I can solve it?</p>\n"},{"tags":["java","regex","placeholder"],"comments":[{"owner":{"account_id":5301,"reputation":91455,"user_id":8454,"accept_rate":100,"display_name":"Andy Lester"},"score":1,"creation_date":1660225077,"post_id":73321645,"comment_id":129486294,"body_markdown":"Is this in bash? Can you show us some sample code to give us some context?","body":"Is this in bash? Can you show us some sample code to give us some context?"},{"owner":{"account_id":1157594,"reputation":3566,"user_id":1137788,"accept_rate":84,"display_name":"SatheeshJM"},"score":0,"creation_date":1660225405,"post_id":73321645,"comment_id":129486457,"body_markdown":"It&#39;s in java. have updated question with some code\n@AndyLester","body":"It&#39;s in java. have updated question with some code @AndyLester"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1660225487,"post_id":73321645,"comment_id":129486502,"body_markdown":"Java regex does not allow recursing a part of a pattern, you will have to write some code for this to work.","body":"Java regex does not allow recursing a part of a pattern, you will have to write some code for this to work."},{"owner":{"account_id":1157594,"reputation":3566,"user_id":1137788,"accept_rate":84,"display_name":"SatheeshJM"},"score":0,"creation_date":1660225596,"post_id":73321645,"comment_id":129486563,"body_markdown":"@WiktorStribiżew my regex does not need to detect all nested placeholders.. \nso that is not a problem for me. \nThe regex just needs to detect if the entire string is a placeholder (it may or may not contain nested placeholders)","body":"@WiktorStribiżew my regex does not need to detect all nested placeholders..  so that is not a problem for me.  The regex just needs to detect if the entire string is a placeholder (it may or may not contain nested placeholders)"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":2,"creation_date":1660225631,"post_id":73321645,"comment_id":129486585,"body_markdown":"&quot;*it may or may not contain nested placeholders*&quot; is the culprit.","body":"&quot;<i>it may or may not contain nested placeholders</i>&quot; is the culprit."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1660228519,"post_id":73321645,"comment_id":129487834,"body_markdown":"If you *really* want to build regex based solution then start here: http://www.drregex.com/2017/11/match-nested-brackets-with-regex-new.html. But better hire good security team if your code will need to be maintained by people who know where you live.","body":"If you <i>really</i> want to build regex based solution then start here: <a href=\"http://www.drregex.com/2017/11/match-nested-brackets-with-regex-new.html\" rel=\"nofollow noreferrer\">drregex.com/2017/11/match-nested-brackets-with-regex-new.htm&zwnj;&#8203;l</a>. But better hire good security team if your code will need to be maintained by people who know where you live."}],"answers":[{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660227589,"creation_date":1660226090,"answer_id":73321930,"question_id":73321645,"body_markdown":"From your example, I think you need to avoid greedy quantifier:\r\n\r\n    \\$\\{(.+?)\\}\r\n\r\nNotice the `?` after `+` which are reluctant quantifier: https://docs.oracle.com/javase/tutorial/essential/regex/quant.html\r\n\r\nThat should match `${var1}-txt-${var2}`\r\n\r\nNow, if you use `^` and `$` as well, this will fail.\r\n\r\nNote that you could also use [StringSubstitutor from commons-text](https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html) to perform a similar job (it will handle the parsing and you may use a `Lookup` that capture the variable).\r\n\r\n**Edit for comment**: given that Java regex don&#39;t support recursion, you would have to hard code part of recursion here if you wanted to match all your 4 cases:\r\n\r\n    \\$\\{([^{}-]+)(?:|-\\$\\{([^{}-]+)\\})\\}\r\n\r\nThe first part match a variable, ignoring `{}` and `-`. The other part match either an empty default value, either an interpolation.\r\n\r\nIf you need to catch `${a-${b-${c}}}` you would have to add another layer which you should avoid: doing complex regex for the sake of doing complex regex will simply be a maintenance ache (with only one level of recursion the regexp above is hard to read)\r\n\r\nIf you need to handle recursion, I think you get no other alternative do it yourself with code as as below:\r\n\r\n    void parse(String pattern) {\r\n      if (pattern.startsWith(&quot;${&quot;) &amp;&amp; pattern.endsWith(&quot;}&quot;)) {\r\n        // remove ${ and }\r\n        var content = pattern.substring(2, pattern.length() - 2 - 1);\r\n        var n = content.indexOf(&#39;-&#39;);\r\n        String leftVar = content;\r\n        if (n != -1) {\r\n          leftVar = content.substring(0, n); \r\n          // perform recursion\r\n          parse(content.substring(n+1)); \r\n        } \r\n        // return whatever you need\r\n      }\r\n\r\nOr use something that already exists.\r\n\r\n\r\n","title":"Regex detect if entire string is a placeholder","body":"<p>From your example, I think you need to avoid greedy quantifier:</p>\n<pre><code>\\$\\{(.+?)\\}\n</code></pre>\n<p>Notice the <code>?</code> after <code>+</code> which are reluctant quantifier: <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/quant.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/regex/quant.html</a></p>\n<p>That should match <code>${var1}-txt-${var2}</code></p>\n<p>Now, if you use <code>^</code> and <code>$</code> as well, this will fail.</p>\n<p>Note that you could also use <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\">StringSubstitutor from commons-text</a> to perform a similar job (it will handle the parsing and you may use a <code>Lookup</code> that capture the variable).</p>\n<p><strong>Edit for comment</strong>: given that Java regex don't support recursion, you would have to hard code part of recursion here if you wanted to match all your 4 cases:</p>\n<pre><code>\\$\\{([^{}-]+)(?:|-\\$\\{([^{}-]+)\\})\\}\n</code></pre>\n<p>The first part match a variable, ignoring <code>{}</code> and <code>-</code>. The other part match either an empty default value, either an interpolation.</p>\n<p>If you need to catch <code>${a-${b-${c}}}</code> you would have to add another layer which you should avoid: doing complex regex for the sake of doing complex regex will simply be a maintenance ache (with only one level of recursion the regexp above is hard to read)</p>\n<p>If you need to handle recursion, I think you get no other alternative do it yourself with code as as below:</p>\n<pre><code>void parse(String pattern) {\n  if (pattern.startsWith(&quot;${&quot;) &amp;&amp; pattern.endsWith(&quot;}&quot;)) {\n    // remove ${ and }\n    var content = pattern.substring(2, pattern.length() - 2 - 1);\n    var n = content.indexOf('-');\n    String leftVar = content;\n    if (n != -1) {\n      leftVar = content.substring(0, n); \n      // perform recursion\n      parse(content.substring(n+1)); \n    } \n    // return whatever you need\n  }\n</code></pre>\n<p>Or use something that already exists.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660228392,"creation_date":1660228392,"answer_id":73322473,"question_id":73321645,"body_markdown":"    static boolean isPlaceHolder(String s) {\r\n        return s.matches(&quot;\\\\$\\\\{[^}]*\\\\}&quot;);\r\n    }\r\n\r\nor optimized for several uses:\r\n\r\n    private static final Pattern PLACE_HOLDER_PATTERN =\r\n            Pattern.compile(&quot;\\\\$\\\\{[^}]*\\\\}&quot;);\r\n    static boolean isPlaceHolder(String s) {\r\n        return PLACE_HOLDER_PATTERN.matcher(s).matches();\r\n    }\r\n\r\n- A **matches** does a match from begin to end, so no need for: `^...$`. As opposed to **find**.\r\n- It still is tricky to detect as false: `&quot;${x}, ${y}&quot;`. It would be best when the placeholder is just for a **variable**, `\\\\w+`.\r\n","title":"Regex detect if entire string is a placeholder","body":"<pre><code>static boolean isPlaceHolder(String s) {\n    return s.matches(&quot;\\\\$\\\\{[^}]*\\\\}&quot;);\n}\n</code></pre>\n<p>or optimized for several uses:</p>\n<pre><code>private static final Pattern PLACE_HOLDER_PATTERN =\n        Pattern.compile(&quot;\\\\$\\\\{[^}]*\\\\}&quot;);\nstatic boolean isPlaceHolder(String s) {\n    return PLACE_HOLDER_PATTERN.matcher(s).matches();\n}\n</code></pre>\n<ul>\n<li>A <strong>matches</strong> does a match from begin to end, so no need for: <code>^...$</code>. As opposed to <strong>find</strong>.</li>\n<li>It still is tricky to detect as false: <code>&quot;${x}, ${y}&quot;</code>. It would be best when the placeholder is just for a <strong>variable</strong>, <code>\\\\w+</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660230239,"creation_date":1660229021,"answer_id":73322629,"question_id":73321645,"body_markdown":"It is not possible to match arbitrarily deep nested structures using regular expressions. The most you can do with a single regex is match a finite number of nested parts, though your pattern will probably be pretty ugly.\r\n\r\nAnother approach is to apply a simpler pattern many times, until you have an answer. For example:\r\n\r\n1. Replace everything that matches `\\$\\{[^}]*\\}` (or `\\$\\{.*?\\}`) with nothing (the empty string)\r\n2. Repeat until the pattern no longer matches\r\n\r\nIf the string is now empty, then the value was &quot;valid&quot;.\r\nIf the string is not empty, then the value is &quot;invalid&quot;.\r\n\r\n\r\n```java\r\nprivate static final Pattern PATTERN = Pattern.compile(&quot;\\\\$\\\\{.*?\\\\}&quot;);\r\n\r\npublic boolean isValid(String value) {\r\n  while (true) {\r\n    String newValue = PATTERN.matcher(value).replaceAll(&quot;&quot;);\r\n    if (newValue.equals(value))\r\n      break;\r\n    value = newValue;\r\n  }\r\n  return value.isEmpty();\r\n}","title":"Regex detect if entire string is a placeholder","body":"<p>It is not possible to match arbitrarily deep nested structures using regular expressions. The most you can do with a single regex is match a finite number of nested parts, though your pattern will probably be pretty ugly.</p>\n<p>Another approach is to apply a simpler pattern many times, until you have an answer. For example:</p>\n<ol>\n<li>Replace everything that matches <code>\\$\\{[^}]*\\}</code> (or <code>\\$\\{.*?\\}</code>) with nothing (the empty string)</li>\n<li>Repeat until the pattern no longer matches</li>\n</ol>\n<p>If the string is now empty, then the value was &quot;valid&quot;.\nIf the string is not empty, then the value is &quot;invalid&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Pattern PATTERN = Pattern.compile(&quot;\\\\$\\\\{.*?\\\\}&quot;);\n\npublic boolean isValid(String value) {\n  while (true) {\n    String newValue = PATTERN.matcher(value).replaceAll(&quot;&quot;);\n    if (newValue.equals(value))\n      break;\n    value = newValue;\n  }\n  return value.isEmpty();\n}\n</code></pre>\n"}],"owner":{"account_id":1157594,"reputation":3566,"user_id":1137788,"accept_rate":84,"display_name":"SatheeshJM"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1660230239,"creation_date":1660224960,"question_id":73321645,"body_markdown":"I am trying to write a regex which should detect \r\n&quot;Is the entire string a placeholder&quot;. \r\n\r\n\r\nAn example of a valid placeholder here is `${var}`\r\nAn example of an invalid palceholder here  is `${var}-sometext` as the placeholder is just a part of the text\r\n\r\n\r\nThe regex I have currently is `^\\$\\{(.+)\\}$` \r\n\r\nThis works for normal cases.\r\nfor example\r\n\r\n\r\n\r\n| | | | |\r\n|-|-|-|-|\r\n|1|          ${var}         |         Regex Matches        | Expected ✅ | \r\n|2|          ${var} txt     |         Regex Does Not Match | Expected ✅ | \r\n\r\n\r\neven works for nested placeholders\r\n\r\n\r\n| | | | |\r\n|-|-|-|-|\r\n|3|          ${var-${nestedVar}}     |         Regex Matches | Expected ✅ | \r\n\r\n\r\nWhere this fails is if the strings begins and ends with a placeholder\r\nfor eg\r\n\r\n| | | | |\r\n|-|-|-|-|\r\n|4| ${var1}-txt-${var2} | Regex Matches | NOT Expected ❌ |\r\n\r\nBasically even though the entire string is not a placeholder, the regex treats it as one as it begins with `${` and ends with `}` \r\n\r\n\r\nI can try solving it by replacing `.+` with something like `[^$]+` to exclude dollar, but that will break the nested use case in example 3. \r\n\r\n\r\nHow do I solve this? \r\n\r\n\r\n\r\nEDIT\r\n\r\nAdding some code for context\r\n\r\n```\r\npublic static final Pattern PATTERN = Pattern.compile(&quot;^\\\\$\\\\{(.+)\\\\}$&quot;);\r\nMatcher matcher = PATTERN.matcher(placeholder);\r\nboolean isMatch = matcher.find();\r\n```\r\n","title":"Regex detect if entire string is a placeholder","body":"<p>I am trying to write a regex which should detect\n&quot;Is the entire string a placeholder&quot;.</p>\n<p>An example of a valid placeholder here is <code>${var}</code>\nAn example of an invalid palceholder here  is <code>${var}-sometext</code> as the placeholder is just a part of the text</p>\n<p>The regex I have currently is <code>^\\$\\{(.+)\\}$</code></p>\n<p>This works for normal cases.\nfor example</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>${var}</td>\n<td>Regex Matches</td>\n<td>Expected ✅</td>\n</tr>\n<tr>\n<td>2</td>\n<td>${var} txt</td>\n<td>Regex Does Not Match</td>\n<td>Expected ✅</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>even works for nested placeholders</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>3</td>\n<td>${var-${nestedVar}}</td>\n<td>Regex Matches</td>\n<td>Expected ✅</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Where this fails is if the strings begins and ends with a placeholder\nfor eg</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>4</td>\n<td>${var1}-txt-${var2}</td>\n<td>Regex Matches</td>\n<td>NOT Expected ❌</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Basically even though the entire string is not a placeholder, the regex treats it as one as it begins with <code>${</code> and ends with <code>}</code></p>\n<p>I can try solving it by replacing <code>.+</code> with something like <code>[^$]+</code> to exclude dollar, but that will break the nested use case in example 3.</p>\n<p>How do I solve this?</p>\n<p>EDIT</p>\n<p>Adding some code for context</p>\n<pre><code>public static final Pattern PATTERN = Pattern.compile(&quot;^\\\\$\\\\{(.+)\\\\}$&quot;);\nMatcher matcher = PATTERN.matcher(placeholder);\nboolean isMatch = matcher.find();\n</code></pre>\n"},{"tags":["java","spring-boot","spring-integration","azureservicebus"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660230214,"creation_date":1660230214,"answer_id":73322923,"question_id":73322482,"body_markdown":"The `com.azure.spring.integration.core.handler.DefaultMessageHandler` supports a dynamic destination resolution from message headers:\r\n\r\n    private String toDestination(Message&lt;?&gt; message) {\r\n        if (message.getHeaders().containsKey(AzureHeaders.NAME)) {\r\n            return message.getHeaders().get(AzureHeaders.NAME, String.class);\r\n        }\r\n\r\n        return this.destination;\r\n    }\r\n\r\nSo, what you need is a `@Header(name = AzureHeaders.NAME) String destination` argument on your gateway&#39;s `send()` method. There is no reason in the dynamic nature for the `OUTPUT_CHANNEL`: only one gateway and one service activator for that `DefaultMessageHandler` is enough. You call `send()` with payload and target destination as params.","title":"Multiple queues using azure service bus and spring integration","body":"<p>The <code>com.azure.spring.integration.core.handler.DefaultMessageHandler</code> supports a dynamic destination resolution from message headers:</p>\n<pre><code>private String toDestination(Message&lt;?&gt; message) {\n    if (message.getHeaders().containsKey(AzureHeaders.NAME)) {\n        return message.getHeaders().get(AzureHeaders.NAME, String.class);\n    }\n\n    return this.destination;\n}\n</code></pre>\n<p>So, what you need is a <code>@Header(name = AzureHeaders.NAME) String destination</code> argument on your gateway's <code>send()</code> method. There is no reason in the dynamic nature for the <code>OUTPUT_CHANNEL</code>: only one gateway and one service activator for that <code>DefaultMessageHandler</code> is enough. You call <code>send()</code> with payload and target destination as params.</p>\n"}],"owner":{"account_id":14580754,"reputation":27,"user_id":15587381,"display_name":"Any Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73322923,"answer_count":1,"score":0,"last_activity_date":1660230214,"creation_date":1660228438,"question_id":73322482,"body_markdown":"I have this scenario. I have many queues in Azure ServiceBus, the implementation below works, however it is not flexible since would need to replicate for each queue. I would like to change from dynamically forming, maybe as a parameter in the method send() the queue name and the OUTPUT_CHANNEL for @ServiceActivator and @MessagingGateway, It is possible?\r\n\r\n\r\n```\r\nimport com.azure.spring.cloud.service.servicebus.properties.ServiceBusEntityType;\r\nimport com.azure.spring.integration.core.handler.DefaultMessageHandler;\r\nimport com.azure.spring.messaging.servicebus.core.ServiceBusTemplate;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.integration.annotation.MessagingGateway;\r\nimport org.springframework.integration.annotation.ServiceActivator;\r\nimport org.springframework.messaging.MessageHandler;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class TestIntegration {\r\n\r\n    private static final String OUTPUT_CHANNEL = &quot;output&quot;;\r\n    private static final String QUEUE_NAME = &quot;myQueue&quot;;\r\n\r\n    @Autowired\r\n    private QueueOutboundGateway messagingGateway;\r\n\r\n    public void send(String message) {\r\n        this.messagingGateway.send(message);\r\n    }\r\n\r\n    @Bean\r\n    @ServiceActivator(inputChannel = OUTPUT_CHANNEL)\r\n    public MessageHandler queueMessageSender(ServiceBusTemplate serviceBusTemplate) {\r\n        serviceBusTemplate.setDefaultEntityType(ServiceBusEntityType.QUEUE);\r\n        return new DefaultMessageHandler(QUEUE_NAME, serviceBusTemplate);\r\n    }\r\n\r\n    @MessagingGateway(defaultRequestChannel = OUTPUT_CHANNEL)\r\n    public interface QueueOutboundGateway {\r\n        void send(String text);\r\n    }\r\n}\r\n```","title":"Multiple queues using azure service bus and spring integration","body":"<p>I have this scenario. I have many queues in Azure ServiceBus, the implementation below works, however it is not flexible since would need to replicate for each queue. I would like to change from dynamically forming, maybe as a parameter in the method send() the queue name and the OUTPUT_CHANNEL for @ServiceActivator and @MessagingGateway, It is possible?</p>\n<pre><code>import com.azure.spring.cloud.service.servicebus.properties.ServiceBusEntityType;\nimport com.azure.spring.integration.core.handler.DefaultMessageHandler;\nimport com.azure.spring.messaging.servicebus.core.ServiceBusTemplate;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.integration.annotation.MessagingGateway;\nimport org.springframework.integration.annotation.ServiceActivator;\nimport org.springframework.messaging.MessageHandler;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class TestIntegration {\n\n    private static final String OUTPUT_CHANNEL = &quot;output&quot;;\n    private static final String QUEUE_NAME = &quot;myQueue&quot;;\n\n    @Autowired\n    private QueueOutboundGateway messagingGateway;\n\n    public void send(String message) {\n        this.messagingGateway.send(message);\n    }\n\n    @Bean\n    @ServiceActivator(inputChannel = OUTPUT_CHANNEL)\n    public MessageHandler queueMessageSender(ServiceBusTemplate serviceBusTemplate) {\n        serviceBusTemplate.setDefaultEntityType(ServiceBusEntityType.QUEUE);\n        return new DefaultMessageHandler(QUEUE_NAME, serviceBusTemplate);\n    }\n\n    @MessagingGateway(defaultRequestChannel = OUTPUT_CHANNEL)\n    public interface QueueOutboundGateway {\n        void send(String text);\n    }\n}\n</code></pre>\n"},{"tags":["java","anylogic"],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660229654,"creation_date":1660229654,"answer_id":73322789,"question_id":73322713,"body_markdown":"You would normally use the &quot;Statistics&quot; object from the palette. \r\n\r\nJust add values to it when you have them, i.e. `myStatsObject.add(myNewValue)` and you can get various stats about all data you added.\r\n\r\nSee the [help][1] for more info.\r\n\r\n\r\n  [1]: https://anylogic.help/anylogic/analysis/statistics.html","title":"Resource pool MTBF MTTR","body":"<p>You would normally use the &quot;Statistics&quot; object from the palette.</p>\n<p>Just add values to it when you have them, i.e. <code>myStatsObject.add(myNewValue)</code> and you can get various stats about all data you added.</p>\n<p>See the <a href=\"https://anylogic.help/anylogic/analysis/statistics.html\" rel=\"nofollow noreferrer\">help</a> for more info.</p>\n"}],"owner":{"account_id":25251954,"reputation":1,"user_id":19084320,"display_name":"Viviana Sicardi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660229654,"creation_date":1660229364,"question_id":73322713,"body_markdown":"I want to simulate the maintenance of a machine in  production line, for this I&#39;ve set the resource block with a weibull distribution for the time next to failure( that rapresent the time between failure) and time to repair. Right now i would know the mean time of the  time next to failure and time to repair, I understood that I must to set two different variable but i don&#39;t know how can express the average in anylogic","title":"Resource pool MTBF MTTR","body":"<p>I want to simulate the maintenance of a machine in  production line, for this I've set the resource block with a weibull distribution for the time next to failure( that rapresent the time between failure) and time to repair. Right now i would know the mean time of the  time next to failure and time to repair, I understood that I must to set two different variable but i don't know how can express the average in anylogic</p>\n"},{"tags":["java","android","api","android-volley"],"comments":[{"owner":{"account_id":4972497,"reputation":1593,"user_id":3999808,"accept_rate":0,"display_name":"Zun"},"score":0,"creation_date":1660230132,"post_id":73322426,"comment_id":129488495,"body_markdown":"Nowadays there&#39;s no reason to use Volley (also advised by Google). Use Retrofit with OkHttp, which allows interceptors with ease","body":"Nowadays there&#39;s no reason to use Volley (also advised by Google). Use Retrofit with OkHttp, which allows interceptors with ease"},{"owner":{"account_id":24819493,"reputation":11,"user_id":18699986,"display_name":"Mustafa Amer - ATS"},"score":0,"creation_date":1660560143,"post_id":73322426,"comment_id":129553478,"body_markdown":"@Zun it&#39;s old big code i don&#39;t have time &amp; order to convert it all to retrofit, I&#39;m stuck with it.","body":"@Zun it&#39;s old big code i don&#39;t have time &amp; order to convert it all to retrofit, I&#39;m stuck with it."}],"owner":{"account_id":24819493,"reputation":11,"user_id":18699986,"display_name":"Mustafa Amer - ATS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660229586,"creation_date":1660228174,"question_id":73322426,"body_markdown":"I have too many volley requests I want to add an interceptor to each request to track each request details.\r\n\r\nInterceptor used [Chucker Interceptor][1].\r\n\r\nHow do I achieve this?\r\n\r\n\r\n  [1]: https://github.com/jgilfelt/chuck","title":"How to add Interceptor to Volley API request (Android)?","body":"<p>I have too many volley requests I want to add an interceptor to each request to track each request details.</p>\n<p>Interceptor used <a href=\"https://github.com/jgilfelt/chuck\" rel=\"nofollow noreferrer\">Chucker Interceptor</a>.</p>\n<p>How do I achieve this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8876,"page":1116,"page_size":100}
