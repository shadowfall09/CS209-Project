{"items":[{"tags":["java","swing","key-bindings"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643144939,"post_id":70855386,"comment_id":125261440,"body_markdown":"You listening to the wrong event. `ActionEvent` is used when an user action is exerted on a Swing (or AWT) component. You need listen for a `KeyEvent`, specifically, the ALT key press.","body":"You listening to the wrong event. <code>ActionEvent</code> is used when an user action is exerted on a Swing (or AWT) component. You need listen for a <code>KeyEvent</code>, specifically, the ALT key press."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":2,"creation_date":1643144959,"post_id":70855386,"comment_id":125261445,"body_markdown":"Try the answer to [Listen to key events across all components](https://stackoverflow.com/a/5345036/16653700).","body":"Try the answer to <a href=\"https://stackoverflow.com/a/5345036/16653700\">Listen to key events across all components</a>."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643145145,"post_id":70855386,"comment_id":125261517,"body_markdown":"This is a good read on Key Events and how to listen for them: https://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html","body":"This is a good read on Key Events and how to listen for them: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/events/keylistener.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":1008301,"reputation":7815,"user_id":1021426,"accept_rate":81,"display_name":"Mar"},"score":0,"creation_date":1643145507,"post_id":70855386,"comment_id":125261635,"body_markdown":"@AliasCartellano I&#39;ve got a working KeyEventDispatcher that correctly detects if Alt is pressed/released. There seems to be a delay *sometimes* between when I press Alt and when the key event is dispatched.","body":"@AliasCartellano I&#39;ve got a working KeyEventDispatcher that correctly detects if Alt is pressed/released. There seems to be a delay <i>sometimes</i> between when I press Alt and when the key event is dispatched."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643145650,"post_id":70855386,"comment_id":125261698,"body_markdown":"@Martin for key binding, you may want to try `KeyStroke.getKeyStroke(KeyEvent.VK_ALT, InputEvent.ALT_DOWN_MASK)`","body":"@Martin for key binding, you may want to try <code>KeyStroke.getKeyStroke(KeyEvent.VK_ALT, InputEvent.ALT_DOWN_MASK)</code>"}],"answers":[{"tags":[],"owner":{"account_id":1008301,"reputation":7815,"user_id":1021426,"accept_rate":81,"display_name":"Mar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643148345,"creation_date":1643148345,"answer_id":70856277,"question_id":70855386,"body_markdown":"To handle key events regardless of which element currently has the focus, use a KeyEventDispatcher attached to the current KeyboardFocusManager, e.g.:\r\n\r\n    KeyboardFocusManager.getCurrentKeyboardFocusManager()\r\n        .addKeyEventDispatcher((KeyEvent event) -&gt; {\r\n            if (event.isAltDown()) {\r\n                saveButton.setText(&quot;Delete&quot;);\r\n            } else {\r\n                saveButton.setText(&quot;Save&quot;);\r\n            }\r\n            return false; // `false` allows further handling by other code\r\n        });\r\n\r\nThanks to @AliasCartellano\r\n\r\nNote: there does seem to be a small, unpredictable delay between when you press the &lt;kbd&gt;Alt&lt;/kbd&gt; key and when the event fires. Maybe because it&#39;s a modifier key? I&#39;m unclear on whether that delay can be eliminated.","title":"Java Swing: How can I change a button&#39;s text when the Alt key is held?","body":"<p>To handle key events regardless of which element currently has the focus, use a KeyEventDispatcher attached to the current KeyboardFocusManager, e.g.:</p>\n<pre><code>KeyboardFocusManager.getCurrentKeyboardFocusManager()\n    .addKeyEventDispatcher((KeyEvent event) -&gt; {\n        if (event.isAltDown()) {\n            saveButton.setText(&quot;Delete&quot;);\n        } else {\n            saveButton.setText(&quot;Save&quot;);\n        }\n        return false; // `false` allows further handling by other code\n    });\n</code></pre>\n<p>Thanks to @AliasCartellano</p>\n<p>Note: there does seem to be a small, unpredictable delay between when you press the <kbd>Alt</kbd> key and when the event fires. Maybe because it's a modifier key? I'm unclear on whether that delay can be eliminated.</p>\n"}],"owner":{"account_id":1008301,"reputation":7815,"user_id":1021426,"accept_rate":81,"display_name":"Mar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70856277,"answer_count":1,"score":0,"last_activity_date":1643151685,"creation_date":1643143242,"question_id":70855386,"body_markdown":"I have a Swing gui I&#39;m working on. I have a &quot;Save&quot; button, and I want it to delete an entry instead of saving if it&#39;s clicked when the &lt;kbd&gt;Alt&lt;/kbd&gt; key is held down. Checking whether alt is held when the button is clicked is no problem. That&#39;s not what this question is about.\r\n\r\nI want the text of the &quot;Save&quot; button to change to &quot;Delete&quot; when &lt;kbd&gt;Alt&lt;/kbd&gt; is pressed, and back to &quot;Save&quot; when &lt;kbd&gt;Alt&lt;/kbd&gt; is released.\r\n\r\nI&#39;ve tried adding a KeyListener to my JPanel but it doesn&#39;t seem to activate, possibly because the panel itself doesn&#39;t have the focus because focus is on one of its children.\r\n\r\nI&#39;ve tried a key binding via JComponent InputMap and ActionMap, but I can&#39;t figure out a KeyStroke which corresponds to just the &lt;kbd&gt;Alt&lt;/kbd&gt; key. My unsuccessful best guess at how that would look:\r\n\r\n    myPanel.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;alt&quot;), &quot;altKey&quot;);\r\n    myPanel.getActionMap().put(&quot;altKey&quot;, new AbstractAction() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent event) {\r\n            log.info(&quot;alt has been pressed.&quot;);\r\n            saveButton.setText(event.getModifiers() == KeyEvent.VK_ALT ? &quot;Delete&quot; : &quot;Save&quot;);\r\n        }\r\n    });\r\n\r\nHow can I get code to execute when the &lt;kbd&gt;Alt&lt;/kbd&gt; key itself is pressed/released, regardless of where the focus is in the window?","title":"Java Swing: How can I change a button&#39;s text when the Alt key is held?","body":"<p>I have a Swing gui I'm working on. I have a &quot;Save&quot; button, and I want it to delete an entry instead of saving if it's clicked when the <kbd>Alt</kbd> key is held down. Checking whether alt is held when the button is clicked is no problem. That's not what this question is about.</p>\n<p>I want the text of the &quot;Save&quot; button to change to &quot;Delete&quot; when <kbd>Alt</kbd> is pressed, and back to &quot;Save&quot; when <kbd>Alt</kbd> is released.</p>\n<p>I've tried adding a KeyListener to my JPanel but it doesn't seem to activate, possibly because the panel itself doesn't have the focus because focus is on one of its children.</p>\n<p>I've tried a key binding via JComponent InputMap and ActionMap, but I can't figure out a KeyStroke which corresponds to just the <kbd>Alt</kbd> key. My unsuccessful best guess at how that would look:</p>\n<pre><code>myPanel.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&quot;alt&quot;), &quot;altKey&quot;);\nmyPanel.getActionMap().put(&quot;altKey&quot;, new AbstractAction() {\n    @Override\n    public void actionPerformed(ActionEvent event) {\n        log.info(&quot;alt has been pressed.&quot;);\n        saveButton.setText(event.getModifiers() == KeyEvent.VK_ALT ? &quot;Delete&quot; : &quot;Save&quot;);\n    }\n});\n</code></pre>\n<p>How can I get code to execute when the <kbd>Alt</kbd> key itself is pressed/released, regardless of where the focus is in the window?</p>\n"},{"tags":["java","spring","spring-security","basic-authentication"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1643233999,"post_id":70856671,"comment_id":125288876,"body_markdown":"Does this answer your question? [How to log out user from web site using BASIC authentication?](https://stackoverflow.com/questions/233507/how-to-log-out-user-from-web-site-using-basic-authentication)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/233507/how-to-log-out-user-from-web-site-using-basic-authentication\">How to log out user from web site using BASIC authentication?</a>"}],"owner":{"account_id":20893773,"reputation":11,"user_id":15348565,"display_name":"Justyna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643150873,"creation_date":1643150873,"question_id":70856671,"body_markdown":"Now there is authentication only once when I open my browser. I want to authenticate each request without need to reopen the browser.\r\nThis is my configuration class. What can I add to configure function?\r\n\r\n```\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and().csrf().disable().httpBasic();\r\n    }\r\n\r\n    @Autowired\r\n    protected void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.inMemoryAuthentication()\r\n                .withUser(&quot;&quot;).password(&quot;{noop}&quot;).roles(&quot;ADMIN&quot;);\r\n    }\r\n}","title":"How to authenticate every request with BASIC in Spring Security?","body":"<p>Now there is authentication only once when I open my browser. I want to authenticate each request without need to reopen the browser.\nThis is my configuration class. What can I add to configure function?</p>\n<pre><code>@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and().csrf().disable().httpBasic();\n    }\n\n    @Autowired\n    protected void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n                .withUser(&quot;&quot;).password(&quot;{noop}&quot;).roles(&quot;ADMIN&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","linked-list","time-complexity"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1643150663,"post_id":70856343,"comment_id":125263233,"body_markdown":"Do you have to use a LinkedList? I don&#39;t see what you&#39;re gaining by using that over an ArrayList.","body":"Do you have to use a LinkedList? I don&#39;t see what you&#39;re gaining by using that over an ArrayList."},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1643151595,"post_id":70856343,"comment_id":125263474,"body_markdown":"@Ryan Probably a requirement of the problem. Also does a lot of inserting and deleting from the middle of the list, which is something linked lists are better at than arrays.","body":"@Ryan Probably a requirement of the problem. Also does a lot of inserting and deleting from the middle of the list, which is something linked lists are better at than arrays."}],"answers":[{"tags":[],"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643150684,"creation_date":1643150684,"answer_id":70856652,"question_id":70856343,"body_markdown":"`get()` on a `LinkedList` is an O(N) operation, so if you&#39;re looking for speed, it should be avoided. You can instead use a [`ListIterator`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ListIterator.html) to get a cursor into the list that can be moved around much more efficiently compared to using an index, and used to insert or remove elements too.\r\n\r\nYou can also just use `input.charAt()` once and save the result in a `char` variable instead of calling it many times in a loop on the same index. It&#39;s a fast function call, but why call it more than you really need to, especially if working under a clock?\r\n\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStreamWriter;\r\nimport java.util.LinkedList;\r\nimport java.util.ListIterator;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException{\r\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n             BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out))) {\r\n            int testcase = Integer.parseInt(br.readLine());\r\n\r\n            for(int i = 0; i &lt; testcase; i++) {\r\n                String input = br.readLine();\r\n                LinkedList&lt;Character&gt; list = new LinkedList&lt;&gt;();\r\n                ListIterator&lt;Character&gt; cursor = list.listIterator();\r\n\r\n                for(int j = 0; j &lt; input.length(); j++) {\r\n                    // I wish Strings were Iterable\r\n                    char c = input.charAt(j);\r\n                    if (c != &#39;&lt;&#39; &amp;&amp; c != &#39;&gt;&#39; &amp;&amp; c != &#39;-&#39;) {\r\n                        cursor.add(c);\r\n                    } else if (c == &#39;&lt;&#39; &amp;&amp; cursor.hasPrevious()) {\r\n                        cursor.previous();\r\n                    } else if (c == &#39;&gt;&#39; &amp;&amp; cursor.hasNext()) {\r\n                        cursor.next();\r\n                    } else if (c == &#39;-&#39; &amp;&amp; cursor.hasPrevious()) {\r\n                        cursor.previous();\r\n                        cursor.remove();\r\n                    }\r\n                }\r\n\r\n                for (char c : list) {\r\n                    bw.write(c);\r\n                }\r\n                bw.write(&#39;\\n&#39;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAlso note the *try-with-resources* for the reader and writer to automatically close them when done, a for-each loop to more efficiently iterate over the entire list when printing, and using if/else if in the logic of what to do with each character you read.","title":"Algorithm LinkedList Problems How to Reduce the Common Intermediate Complex","body":"<p><code>get()</code> on a <code>LinkedList</code> is an O(N) operation, so if you're looking for speed, it should be avoided. You can instead use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ListIterator.html\" rel=\"nofollow noreferrer\"><code>ListIterator</code></a> to get a cursor into the list that can be moved around much more efficiently compared to using an index, and used to insert or remove elements too.</p>\n<p>You can also just use <code>input.charAt()</code> once and save the result in a <code>char</code> variable instead of calling it many times in a loop on the same index. It's a fast function call, but why call it more than you really need to, especially if working under a clock?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.util.LinkedList;\nimport java.util.ListIterator;\n\npublic class Main {\n    public static void main(String[] args) throws IOException{\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n             BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out))) {\n            int testcase = Integer.parseInt(br.readLine());\n\n            for(int i = 0; i &lt; testcase; i++) {\n                String input = br.readLine();\n                LinkedList&lt;Character&gt; list = new LinkedList&lt;&gt;();\n                ListIterator&lt;Character&gt; cursor = list.listIterator();\n\n                for(int j = 0; j &lt; input.length(); j++) {\n                    // I wish Strings were Iterable\n                    char c = input.charAt(j);\n                    if (c != '&lt;' &amp;&amp; c != '&gt;' &amp;&amp; c != '-') {\n                        cursor.add(c);\n                    } else if (c == '&lt;' &amp;&amp; cursor.hasPrevious()) {\n                        cursor.previous();\n                    } else if (c == '&gt;' &amp;&amp; cursor.hasNext()) {\n                        cursor.next();\n                    } else if (c == '-' &amp;&amp; cursor.hasPrevious()) {\n                        cursor.previous();\n                        cursor.remove();\n                    }\n                }\n\n                for (char c : list) {\n                    bw.write(c);\n                }\n                bw.write('\\n');\n            }\n        }\n    }\n}\n</code></pre>\n<p>Also note the <em>try-with-resources</em> for the reader and writer to automatically close them when done, a for-each loop to more efficiently iterate over the entire list when printing, and using if/else if in the logic of what to do with each character you read.</p>\n"}],"owner":{"account_id":23616349,"reputation":3,"user_id":17650391,"display_name":"youn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70856652,"answer_count":1,"score":0,"last_activity_date":1643150684,"creation_date":1643148812,"question_id":70856343,"body_markdown":"```java\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStreamWriter;\r\nimport java.util.LinkedList;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException{\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));\r\n        int testcase = Integer.parseInt(br.readLine());\r\n\r\n        for(int i = 0; i &lt; testcase; i++) {\r\n            String input = br.readLine();\r\n            LinkedList&lt;Character&gt; list = new LinkedList&lt;&gt;();\r\n            int idx = 0;\r\n\r\n            for(int j = 0; j &lt; input.length(); j++) {\r\n                if(input.charAt(j) != &#39;&lt;&#39; &amp;&amp; input.charAt(j) != &#39;&gt;&#39; &amp;&amp; input.charAt(j) != &#39;-&#39;) {\r\n                    list.add(idx, input.charAt(j));\r\n                    idx++;\r\n                    continue;\r\n                }\r\n                if(input.charAt(j) == &#39;&lt;&#39; &amp;&amp; idx != 0) {\r\n                    idx--;\r\n                    continue;\r\n                }\r\n                if(input.charAt(j) == &#39;&gt;&#39; &amp;&amp; idx &lt;= list.size() - 1) {\r\n                    idx++;\r\n                    continue;\r\n                }\r\n                if(input.charAt(j) == &#39;-&#39; &amp;&amp; idx != 0) {\r\n                    list.remove(idx - 1);\r\n                    idx--;\r\n                }\r\n            }\r\n\r\n            for(int k = 0; k &lt; list.size(); k++) {\r\n                bw.write(list.get(k));\r\n            }\r\n            bw.write(&#39;\\n&#39;);\r\n        }\r\n        bw.flush();\r\n        bw.close();\r\n    }\r\n}\r\n```\r\n\r\n* input example\r\n\r\n      2\r\n      &lt;&lt;BP&lt;A&gt;&gt;Cd-\r\n      ThIsIsS3Cr3t\r\n\r\n* output example\r\n\r\n      BAPC\r\n      ThIsIsS3Cr3t\r\n\r\nThe time limit is 2 seconds.\r\n\r\nI used the BufferedReader instead of Scanner to speed up the performance and used BufferedWriter instead of System.out.println ().\r\nHowever, the correct answer was a timeout problem.\r\nIs there a way to reduce time complexity while using a linkedlist?","title":"Algorithm LinkedList Problems How to Reduce the Common Intermediate Complex","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.util.LinkedList;\n\npublic class Main {\n    public static void main(String[] args) throws IOException{\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));\n        int testcase = Integer.parseInt(br.readLine());\n\n        for(int i = 0; i &lt; testcase; i++) {\n            String input = br.readLine();\n            LinkedList&lt;Character&gt; list = new LinkedList&lt;&gt;();\n            int idx = 0;\n\n            for(int j = 0; j &lt; input.length(); j++) {\n                if(input.charAt(j) != '&lt;' &amp;&amp; input.charAt(j) != '&gt;' &amp;&amp; input.charAt(j) != '-') {\n                    list.add(idx, input.charAt(j));\n                    idx++;\n                    continue;\n                }\n                if(input.charAt(j) == '&lt;' &amp;&amp; idx != 0) {\n                    idx--;\n                    continue;\n                }\n                if(input.charAt(j) == '&gt;' &amp;&amp; idx &lt;= list.size() - 1) {\n                    idx++;\n                    continue;\n                }\n                if(input.charAt(j) == '-' &amp;&amp; idx != 0) {\n                    list.remove(idx - 1);\n                    idx--;\n                }\n            }\n\n            for(int k = 0; k &lt; list.size(); k++) {\n                bw.write(list.get(k));\n            }\n            bw.write('\\n');\n        }\n        bw.flush();\n        bw.close();\n    }\n}\n</code></pre>\n<ul>\n<li><p>input example</p>\n<pre><code>2\n&lt;&lt;BP&lt;A&gt;&gt;Cd-\nThIsIsS3Cr3t\n</code></pre>\n</li>\n<li><p>output example</p>\n<pre><code>BAPC\nThIsIsS3Cr3t\n</code></pre>\n</li>\n</ul>\n<p>The time limit is 2 seconds.</p>\n<p>I used the BufferedReader instead of Scanner to speed up the performance and used BufferedWriter instead of System.out.println ().\nHowever, the correct answer was a timeout problem.\nIs there a way to reduce time complexity while using a linkedlist?</p>\n"},{"tags":["java","debugging","intellij-idea","module"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1643175290,"post_id":70856585,"comment_id":125267295,"body_markdown":"What is returned by `getClass().getResource(filename)`? Try `getClassLoader().getResource()`. See also https://www.jetbrains.com/help/idea/resource-files.html","body":"What is returned by <code>getClass().getResource(filename)</code>? Try <code>getClassLoader().getResource()</code>. See also <a href=\"https://www.jetbrains.com/help/idea/resource-files.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/resource-files.html</a>"},{"owner":{"account_id":24054230,"reputation":1,"user_id":18032279,"display_name":"Misterx"},"score":0,"creation_date":1643179159,"post_id":70856585,"comment_id":125267966,"body_markdown":"getClass().getResource(filename) =&gt; Gives targetfolder...How can I specify resource folder? getClassLoader().getResource() gives error","body":"getClass().getResource(filename) =&gt; Gives targetfolder...How can I specify resource folder? getClassLoader().getResource() gives error"}],"owner":{"account_id":24054230,"reputation":1,"user_id":18032279,"display_name":"Misterx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643150202,"creation_date":1643150202,"question_id":70856585,"body_markdown":"I have a JavaFX project with 2 modules..\r\n\r\n[Project structure][1]\r\n\r\npublic class SkiResortModel {\r\n\r\n        private static final String FILE_NAME_RESORTS = &quot;/SKI_RESORTS.csv&quot;;\r\n\r\n\r\n//Code for reading file is:\r\n\r\n    private BufferedReader getReader() {\r\n        InputStream inputStreamResorts = getClass().getResourceAsStream(SkiResortModel.FILE_NAME_RESORTS);\r\n        assert inputStreamResorts != null;\r\n        InputStreamReader readerResorts = new InputStreamReader(inputStreamResorts, StandardCharsets.UTF_8);\r\n        return new BufferedReader(readerResorts);\r\n    }\r\n\r\n    private List&lt;SkiResortModel&gt; readFromFile() {\r\n        try (BufferedReader reader = getReader()) {\r\n            return reader.lines()\r\n                .skip(1)\r\n                .map(line -&gt; new SkiResortModel(line.split(DELIMITER, 0)))\r\n                .collect(Collectors.toList());\r\n        } catch (IOException e) {\r\n            throw new IllegalStateException(&quot;failed&quot;);\r\n        }\r\n    }\r\n\r\n\r\n//Code for writing file is:\r\n\r\n    private BufferedWriter getWriter(String filename) {\r\n        try {\r\n            String file = Objects.requireNonNull(getClass().getResource(filename)).getFile();\r\n            return new BufferedWriter(new FileWriter(file, StandardCharsets.UTF_8));\r\n        } catch (IOException e) {\r\n            throw new IllegalStateException(&quot;wrong file &quot; + filename);\r\n        }\r\n    }\r\n\r\n    public void save() {\r\n        try (BufferedWriter writer = getWriter(FILE_NAME_RESORTS)) {\r\n            writer.write(\r\n                &quot;ENTITY_ID;NAME;REGION;COMMUNES_IN_RESORT;MASL_MIN;MASL_MAX;SKI_RUNS_KM;DRAG_LIFTS;CHAIR_LIFTS;CABLE_CARS;OPEN_LIFTS;SNOW_DEPTH_CM;VISITORS_TODAY;CAR_FREE;FUNPARK_AVAILABLE;IMAGE_URL&quot;);\r\n            writer.newLine();\r\n            int id = 100;\r\n            for (SkiResortModel s : allSkiResorts) {\r\n                writer.write(s.infoAsLine(&quot;;&quot;, id));\r\n                writer.newLine();\r\n                id++;\r\n            }\r\n        } catch (IOException e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n    }\r\n\r\nWe have created a small application which displays the data in a table and allows for some modification. The data should then be written back into the original csv file. \r\n\r\nThe data is stored in the resources folder (screenshot). When the save function is called the data should then be written back into the original csv-file. However Intellij creates a new csv file under skiresorts-model/target. \r\nI tried to indicate the path by copying the path from the context menue (Right click on file =&gt; Copy path / reference. I tried all the options to copy the path but then the program is unable to find the file. Strange is also that after I used copy path/reference \r\nthe program is unable to run even with the original path. The only thing that helps then is to check out another branch and return to the branch. Is this a bug in Intellij?\r\n\r\nThe save function is called from another class after the modifications have been done. \r\n\r\nAny help is greatly appreciated. \r\n  [1]: https://i.stack.imgur.com/NwtB2.png","title":"Output file location of BufferedWriter() in java project with 2 modules","body":"<p>I have a JavaFX project with 2 modules..</p>\n<p>[Project structure][1]</p>\n<p>public class SkiResortModel {</p>\n<pre><code>    private static final String FILE_NAME_RESORTS = &quot;/SKI_RESORTS.csv&quot;;\n</code></pre>\n<p>//Code for reading file is:</p>\n<pre><code>private BufferedReader getReader() {\n    InputStream inputStreamResorts = getClass().getResourceAsStream(SkiResortModel.FILE_NAME_RESORTS);\n    assert inputStreamResorts != null;\n    InputStreamReader readerResorts = new InputStreamReader(inputStreamResorts, StandardCharsets.UTF_8);\n    return new BufferedReader(readerResorts);\n}\n\nprivate List&lt;SkiResortModel&gt; readFromFile() {\n    try (BufferedReader reader = getReader()) {\n        return reader.lines()\n            .skip(1)\n            .map(line -&gt; new SkiResortModel(line.split(DELIMITER, 0)))\n            .collect(Collectors.toList());\n    } catch (IOException e) {\n        throw new IllegalStateException(&quot;failed&quot;);\n    }\n}\n</code></pre>\n<p>//Code for writing file is:</p>\n<pre><code>private BufferedWriter getWriter(String filename) {\n    try {\n        String file = Objects.requireNonNull(getClass().getResource(filename)).getFile();\n        return new BufferedWriter(new FileWriter(file, StandardCharsets.UTF_8));\n    } catch (IOException e) {\n        throw new IllegalStateException(&quot;wrong file &quot; + filename);\n    }\n}\n\npublic void save() {\n    try (BufferedWriter writer = getWriter(FILE_NAME_RESORTS)) {\n        writer.write(\n            &quot;ENTITY_ID;NAME;REGION;COMMUNES_IN_RESORT;MASL_MIN;MASL_MAX;SKI_RUNS_KM;DRAG_LIFTS;CHAIR_LIFTS;CABLE_CARS;OPEN_LIFTS;SNOW_DEPTH_CM;VISITORS_TODAY;CAR_FREE;FUNPARK_AVAILABLE;IMAGE_URL&quot;);\n        writer.newLine();\n        int id = 100;\n        for (SkiResortModel s : allSkiResorts) {\n            writer.write(s.infoAsLine(&quot;;&quot;, id));\n            writer.newLine();\n            id++;\n        }\n    } catch (IOException e) {\n        throw new IllegalStateException(e);\n    }\n}\n</code></pre>\n<p>We have created a small application which displays the data in a table and allows for some modification. The data should then be written back into the original csv file.</p>\n<p>The data is stored in the resources folder (screenshot). When the save function is called the data should then be written back into the original csv-file. However Intellij creates a new csv file under skiresorts-model/target.\nI tried to indicate the path by copying the path from the context menue (Right click on file =&gt; Copy path / reference. I tried all the options to copy the path but then the program is unable to find the file. Strange is also that after I used copy path/reference\nthe program is unable to run even with the original path. The only thing that helps then is to check out another branch and return to the branch. Is this a bug in Intellij?</p>\n<p>The save function is called from another class after the modifications have been done.</p>\n<p>Any help is greatly appreciated.\n[1]: <a href=\"https://i.stack.imgur.com/NwtB2.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/NwtB2.png</a></p>\n"},{"tags":["java","string","postgresql","jdbc","multidimensional-array"],"comments":[{"owner":{"account_id":89208,"reputation":2904,"user_id":246260,"display_name":"dezso"},"score":0,"creation_date":1337890693,"post_id":10743841,"comment_id":13961619,"body_markdown":"Could you specify your case further by inserting a bit of code?","body":"Could you specify your case further by inserting a bit of code?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1337891094,"post_id":10743841,"comment_id":13961782,"body_markdown":"A `String` array (or `String[]`) does not match with `text[][]`, if it would work, it would be either `text[]` or you should use `String[][]` in Java. I am not saying that it will work, but at least match up your datatypes.","body":"A <code>String</code> array (or <code>String[]</code>) does not match with <code>text[][]</code>, if it would work, it would be either <code>text[]</code> or you should use <code>String[][]</code> in Java. I am not saying that it will work, but at least match up your datatypes."},{"owner":{"account_id":904738,"reputation":617065,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"score":0,"creation_date":1337894769,"post_id":10743841,"comment_id":13963018,"body_markdown":"You should include sample data and the exact error message. Would make it easier to help you.","body":"You should include sample data and the exact error message. Would make it easier to help you."},{"owner":{"account_id":1295597,"reputation":9908,"user_id":1246746,"accept_rate":51,"display_name":"giozh"},"score":0,"creation_date":1337935175,"post_id":10743841,"comment_id":13971685,"body_markdown":"the error just told me that the column is of type text[] but expression is of type character varying. I&#39;ve edit my message with the part of code that throws exception","body":"the error just told me that the column is of type text[] but expression is of type character varying. I&#39;ve edit my message with the part of code that throws exception"},{"owner":{"account_id":904738,"reputation":617065,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"score":0,"creation_date":1337944089,"post_id":10743841,"comment_id":13974785,"body_markdown":"The **verbatim** error message should be the key part of your question. The part where `text` and `character varying` are mentioned could help to solve this quickly.","body":"The <b>verbatim</b> error message should be the key part of your question. The part where <code>text</code> and <code>character varying</code> are mentioned could help to solve this quickly."}],"answers":[{"tags":[],"owner":{"account_id":904738,"reputation":617065,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643149815,"creation_date":1337894757,"answer_id":10745524,"question_id":10743841,"body_markdown":"To understand multi-dimensional PostgreSQL array types consider the following [quote from the manual][1]:\r\n\r\n&gt; The current implementation does not enforce the declared number of\r\n&gt; dimensions either. Arrays of a particular element type are all\r\n&gt; considered to be of the same type, regardless of size or number of\r\n&gt; dimensions. So, declaring the array size or number of dimensions in\r\n&gt; `CREATE TABLE` is simply documentation; it does not affect run-time\r\n&gt; behavior.\r\n\r\nInternally, the types `text[]`, `text[][]` are the same to PostgreSQL. **If** the column actually contains 2-dimensional text arrays, you&#39;ll have to match the dimensions in Java. But it could contain 1- or 3-dimensional arrays as well. PostgreSQL would allow it.\r\n\r\nAlso note that `text` and `character varying` (`varchar`) are **different data types** in PostgreSQL (while doing largely the same when `varchar` has no length modifier). Start by reading about [character types in the manual][2].\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/arrays.html#ARRAYS-DECLARATION\r\n  [2]: https://www.postgresql.org/docs/current/datatype-character.html","title":"Mapping PostgreSQL text[][] type and Java type","body":"<p>To understand multi-dimensional PostgreSQL array types consider the following <a href=\"https://www.postgresql.org/docs/current/arrays.html#ARRAYS-DECLARATION\" rel=\"nofollow noreferrer\">quote from the manual</a>:</p>\n<blockquote>\n<p>The current implementation does not enforce the declared number of\ndimensions either. Arrays of a particular element type are all\nconsidered to be of the same type, regardless of size or number of\ndimensions. So, declaring the array size or number of dimensions in\n<code>CREATE TABLE</code> is simply documentation; it does not affect run-time\nbehavior.</p>\n</blockquote>\n<p>Internally, the types <code>text[]</code>, <code>text[][]</code> are the same to PostgreSQL. <strong>If</strong> the column actually contains 2-dimensional text arrays, you'll have to match the dimensions in Java. But it could contain 1- or 3-dimensional arrays as well. PostgreSQL would allow it.</p>\n<p>Also note that <code>text</code> and <code>character varying</code> (<code>varchar</code>) are <strong>different data types</strong> in PostgreSQL (while doing largely the same when <code>varchar</code> has no length modifier). Start by reading about <a href=\"https://www.postgresql.org/docs/current/datatype-character.html\" rel=\"nofollow noreferrer\">character types in the manual</a>.</p>\n"}],"owner":{"account_id":1295597,"reputation":9908,"user_id":1246746,"accept_rate":51,"display_name":"giozh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10745524,"answer_count":1,"score":1,"last_activity_date":1643149815,"creation_date":1337886677,"question_id":10743841,"body_markdown":"I have a Postgres table containing a column of type `text[][]`. In JDBC code I&#39;ve used a String array, but an exception told me that these two do not match. If there&#39;s no mapping between these types, could you suggest a Postgres type for a string arrays?\r\n\r\nThis is the code:\r\n\r\n    String list = &quot;&#39;{&quot;;\r\n            for(int i=0; i&lt;array.length; i++) {\r\n                list+=prodotti[i]+&quot;,&quot;;\r\n            }\r\n            list+=&quot;}&#39;&quot;;\r\n            \r\n            preparedStm.setString(4, list);","title":"Mapping PostgreSQL text[][] type and Java type","body":"<p>I have a Postgres table containing a column of type <code>text[][]</code>. In JDBC code I've used a String array, but an exception told me that these two do not match. If there's no mapping between these types, could you suggest a Postgres type for a string arrays?</p>\n\n<p>This is the code:</p>\n\n<pre><code>String list = \"'{\";\n        for(int i=0; i&lt;array.length; i++) {\n            list+=prodotti[i]+\",\";\n        }\n        list+=\"}'\";\n\n        preparedStm.setString(4, list);\n</code></pre>\n"},{"tags":["java","solr"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643150240,"post_id":70856517,"comment_id":125263122,"body_markdown":"I am not sure you can do that and probably you don&#39;t really want to do that as painful as it might sound. This is the documentation for [Solr RELOAD](https://solr.apache.org/guide/6_6/coreadmin-api.html#CoreAdminAPI-RELOAD). In there it states that &quot;_while the new core is initializing, the existing one will continue to handle requests. When the new Solr core is ready, it takes over and the old core is unloaded._&quot;","body":"I am not sure you can do that and probably you don&#39;t really want to do that as painful as it might sound. This is the documentation for <a href=\"https://solr.apache.org/guide/6_6/coreadmin-api.html#CoreAdminAPI-RELOAD\" rel=\"nofollow noreferrer\">Solr RELOAD</a>. In there it states that &quot;<i>while the new core is initializing, the existing one will continue to handle requests. When the new Solr core is ready, it takes over and the old core is unloaded.</i>&quot;"},{"owner":{"account_id":9897096,"reputation":33,"user_id":7328230,"display_name":"Simon Kuo"},"score":0,"creation_date":1643151089,"post_id":70856517,"comment_id":125263347,"body_markdown":"Solr keeps reloading my caches within my custom plugin. It creates some instability. I am in searching for a way to not reload my custom plugin. In the documentation, it says &quot;RELOAD performs &quot;live&quot; reloads of SolrCore, reusing some existing objects.&quot; Is it possible to instruct solr to make my plugin be part of the reusable existing objects?","body":"Solr keeps reloading my caches within my custom plugin. It creates some instability. I am in searching for a way to not reload my custom plugin. In the documentation, it says &quot;RELOAD performs &quot;live&quot; reloads of SolrCore, reusing some existing objects.&quot; Is it possible to instruct solr to make my plugin be part of the reusable existing objects?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643151647,"post_id":70856517,"comment_id":125263483,"body_markdown":"I don&#39;t know, but sound kind of like that. I haven&#39;t dealt with Solr for some time; maybe 2.5 - 3 years. I remember being kind of hard to figure out at first. Took me a while to do what I wanted with it and then I had no problems. But, I used it in a very limited capacity.","body":"I don&#39;t know, but sound kind of like that. I haven&#39;t dealt with Solr for some time; maybe 2.5 - 3 years. I remember being kind of hard to figure out at first. Took me a while to do what I wanted with it and then I had no problems. But, I used it in a very limited capacity."}],"owner":{"account_id":9897096,"reputation":33,"user_id":7328230,"display_name":"Simon Kuo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643149780,"creation_date":1643149780,"question_id":70856517,"body_markdown":"Whenever Solr reloads index, it reloads my custom plugin which internally has some cached objects. How can I avoid reloads of my custom plugin?","title":"How to avoid reload solr plugin when solr index reloads during replication?","body":"<p>Whenever Solr reloads index, it reloads my custom plugin which internally has some cached objects. How can I avoid reloads of my custom plugin?</p>\n"},{"tags":["java","unit-testing","powermockito"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1643148699,"post_id":70856044,"comment_id":125262663,"body_markdown":"Do yourself a favor and use a `Supplier&lt;TimeZone&gt;` instead of a hard-coded static method. You won&#39;t need to mock _anything_.","body":"Do yourself a favor and use a <code>Supplier&lt;TimeZone&gt;</code> instead of a hard-coded static method. You won&#39;t need to mock <i>anything</i>."},{"owner":{"account_id":11784537,"reputation":357,"user_id":8622811,"accept_rate":44,"display_name":"Abhilasha"},"score":0,"creation_date":1643149080,"post_id":70856044,"comment_id":125262753,"body_markdown":"@chrylis-cautiouslyoptimistic-\nApologies, I didn&#39;t understand. I am very new to this. Could you please elaborate?","body":"@chrylis-cautiouslyoptimistic- Apologies, I didn&#39;t understand. I am very new to this. Could you please elaborate?"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1643151543,"post_id":70856044,"comment_id":125263463,"body_markdown":"Replace wherever you call `getDeviceTimeZone` with `private Supplier&lt;TimeZone&gt; tzSupplier = TimeZone::getDefault` and add a setter for it. In your test, just `unitProperty.setTzSupplier(() -&gt; myTestValue)`.","body":"Replace wherever you call <code>getDeviceTimeZone</code> with <code>private Supplier&lt;TimeZone&gt; tzSupplier = TimeZone::getDefault</code> and add a setter for it. In your test, just <code>unitProperty.setTzSupplier(() -&gt; myTestValue)</code>."},{"owner":{"account_id":11784537,"reputation":357,"user_id":8622811,"accept_rate":44,"display_name":"Abhilasha"},"score":0,"creation_date":1643153238,"post_id":70856044,"comment_id":125263806,"body_markdown":"Maybe I don&#39;t understand this fully\nI am trying to get the property TimeZone.getDefault().getID() \nI am not sure how a Supplier is useful here.\nHow will I use the Supplier to get `getID()`?\n\nAlso I don&#39;t understand what exactly is wrong with my implementation. I know that it&#39;s discouraged to mock static methods but I would still like to understand teh reason behind me getting the error on assertion","body":"Maybe I don&#39;t understand this fully I am trying to get the property TimeZone.getDefault().getID()  I am not sure how a Supplier is useful here. How will I use the Supplier to get <code>getID()</code>?  Also I don&#39;t understand what exactly is wrong with my implementation. I know that it&#39;s discouraged to mock static methods but I would still like to understand teh reason behind me getting the error on assertion"}],"owner":{"account_id":11784537,"reputation":357,"user_id":8622811,"accept_rate":44,"display_name":"Abhilasha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643149343,"creation_date":1643146989,"question_id":70856044,"body_markdown":"I have a function which calls a static function in java (TimeZone.getDefault())\r\nUnitProperty.java\r\n```\r\npublic String getDeviceTimeZone() {\r\n        return TimeZone.getDefault().getID();\r\n    }\r\n```\r\nI am trying to write unit test for this (UnitPropertyTest.java)\r\n```\r\nimport...\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest(TimeZone.class)\r\npublic class UnitPropertyTest {\r\n\r\n    @InjectMocks\r\n    private UnitProperty unitProperty;\r\n\r\n    @Before\r\n    public void setup(){\r\n        PowerMockito.mockStatic(TimeZone.class);\r\n        unitProperty = new UnitProperty();\r\n    }\r\n\r\n    @Test\r\n    public void test_getDeviceTimeZone_returns_set_time_zone() throws Exception {\r\n        String expectedTimeZone = &quot;mock-time-zone-value&quot;;\r\n        when(TimeZone.getDefault().getID()).thenReturn(expectedTimeZone);\r\n        System.out.println(&quot;Mocked Time Zone: &quot; + TimeZone.getDefault().getID());\r\n        assertEquals(expectedTimeZone, unitProperty.getDeviceTimeZone());\r\n    }\r\n}\r\n```\r\nBut the test fails because:\r\n```\r\nMocked Time Zone: mock-time-zone-value\r\nExpected :mock-time-zone-value\r\nActual   :Europe/London\r\n```\r\nI am not sure why `unitProperty.getDeviceTimeZone()` isn&#39;t using mocked TimeZone class but instead calling the actual TimeZone&#39;s method value?\r\n\r\nI have been searching for a while. \r\nCan anyone help me in understanding  this behavior?\r\nWhy isn&#39;t method in mocked class getting called?\r\n\r\nThanks in advance. ","title":"PowerMockito mocked static method is calling actual class method instead of mocked class","body":"<p>I have a function which calls a static function in java (TimeZone.getDefault())\nUnitProperty.java</p>\n<pre><code>public String getDeviceTimeZone() {\n        return TimeZone.getDefault().getID();\n    }\n</code></pre>\n<p>I am trying to write unit test for this (UnitPropertyTest.java)</p>\n<pre><code>import...\n@RunWith(PowerMockRunner.class)\n@PrepareForTest(TimeZone.class)\npublic class UnitPropertyTest {\n\n    @InjectMocks\n    private UnitProperty unitProperty;\n\n    @Before\n    public void setup(){\n        PowerMockito.mockStatic(TimeZone.class);\n        unitProperty = new UnitProperty();\n    }\n\n    @Test\n    public void test_getDeviceTimeZone_returns_set_time_zone() throws Exception {\n        String expectedTimeZone = &quot;mock-time-zone-value&quot;;\n        when(TimeZone.getDefault().getID()).thenReturn(expectedTimeZone);\n        System.out.println(&quot;Mocked Time Zone: &quot; + TimeZone.getDefault().getID());\n        assertEquals(expectedTimeZone, unitProperty.getDeviceTimeZone());\n    }\n}\n</code></pre>\n<p>But the test fails because:</p>\n<pre><code>Mocked Time Zone: mock-time-zone-value\nExpected :mock-time-zone-value\nActual   :Europe/London\n</code></pre>\n<p>I am not sure why <code>unitProperty.getDeviceTimeZone()</code> isn't using mocked TimeZone class but instead calling the actual TimeZone's method value?</p>\n<p>I have been searching for a while.\nCan anyone help me in understanding  this behavior?\nWhy isn't method in mocked class getting called?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","class","classpath"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643150917,"post_id":70856372,"comment_id":125263301,"body_markdown":"As you do in the Windows script, add the jars in lib to the class path individually","body":"As you do in the Windows script, add the jars in lib to the class path individually"},{"owner":{"account_id":23989334,"reputation":1,"user_id":18032439,"display_name":"Douglas Lima"},"score":0,"creation_date":1643158684,"post_id":70856372,"comment_id":125264789,"body_markdown":"How can i do this in Ubuntu 20.04 @tgdavies ?","body":"How can i do this in Ubuntu 20.04 @tgdavies ?"},{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1643959321,"post_id":70856372,"comment_id":125482312,"body_markdown":"It looks like you need to convert the windows script to a linux one, this will depend on the shell you are running on Ubuntu, I would advise looking for posts/tutorials about converting windows scripts to linux scripts.","body":"It looks like you need to convert the windows script to a linux one, this will depend on the shell you are running on Ubuntu, I would advise looking for posts/tutorials about converting windows scripts to linux scripts."}],"owner":{"account_id":23989334,"reputation":1,"user_id":18032439,"display_name":"Douglas Lima"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643148979,"creation_date":1643148979,"question_id":70856372,"body_markdown":"I have this bat file that it&#39;s used in windows to open a java program:\r\n\r\n    @echo off\r\n    SETLOCAL\r\n    set CP=\r\n    for %%A in (lib\\*) do set CP=!CP!;&quot;%%A&quot;\r\n    set CP=!CP:~1!\r\n    call java -Xms512m -Xmx1024m -cp %CP%;classes br.gov.bcb.scr2.validador.desktop.ValidadorIfSwing\r\n    ENDLOCAL\r\n\r\nI&#39;m trying to run it on linux executing the following line:\r\n\r\n    java -Xms512m -Xmx1024m -cp ./lib:./classes br.gov.bcb.scr2.validador.desktop.ValidadorIfSwing\r\n\r\n\r\nBut everytime i execute this code, i get the following:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\r\n    \tat br.gov.bcb.scr2.configuracao.ConfiguracaoSistema.&lt;clinit&gt;(ConfiguracaoSistema.java:27)\r\n    \tat br.gov.bcb.scr2.validador.desktop.ValidadorIfSwing.&lt;clinit&gt;(ValidadorIfSwing.java:46)\r\n    Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 2 more\r\n\r\nAnyone know how can i solve it ?","title":"How to define multiple classpaths to open a java class?","body":"<p>I have this bat file that it's used in windows to open a java program:</p>\n<pre><code>@echo off\nSETLOCAL\nset CP=\nfor %%A in (lib\\*) do set CP=!CP!;&quot;%%A&quot;\nset CP=!CP:~1!\ncall java -Xms512m -Xmx1024m -cp %CP%;classes br.gov.bcb.scr2.validador.desktop.ValidadorIfSwing\nENDLOCAL\n</code></pre>\n<p>I'm trying to run it on linux executing the following line:</p>\n<pre><code>java -Xms512m -Xmx1024m -cp ./lib:./classes br.gov.bcb.scr2.validador.desktop.ValidadorIfSwing\n</code></pre>\n<p>But everytime i execute this code, i get the following:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\n    at br.gov.bcb.scr2.configuracao.ConfiguracaoSistema.&lt;clinit&gt;(ConfiguracaoSistema.java:27)\n    at br.gov.bcb.scr2.validador.desktop.ValidadorIfSwing.&lt;clinit&gt;(ValidadorIfSwing.java:46)\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 2 more\n</code></pre>\n<p>Anyone know how can i solve it ?</p>\n"},{"tags":["java","android","xml","api","android-studio"],"answers":[{"tags":[],"owner":{"account_id":23616470,"reputation":2135,"user_id":17650498,"display_name":"plplmax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643148911,"creation_date":1643148911,"answer_id":70856363,"question_id":70854778,"body_markdown":"```\r\npublic interface Methods {\r\n    @GET\r\n    Call&lt;Model&gt; getAllData(@Query(&quot;name&quot;) String name);\r\n}\r\n```\r\n\r\ngetAllData(&quot;smith&quot;) =&gt; baseUrl?name=smith","title":"How can i pass a value to an interface in Java Android Studio from MainActivity to my Interface?","body":"<pre><code>public interface Methods {\n    @GET\n    Call&lt;Model&gt; getAllData(@Query(&quot;name&quot;) String name);\n}\n</code></pre>\n<p>getAllData(&quot;smith&quot;) =&gt; baseUrl?name=smith</p>\n"}],"owner":{"account_id":24053273,"reputation":3,"user_id":18031464,"display_name":"Dark Flake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70856363,"answer_count":1,"score":0,"last_activity_date":1643148911,"creation_date":1643139923,"question_id":70854778,"body_markdown":"This is my MainActivity.java\r\n\r\n        package com.stardash.stardash;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import retrofit2.Call;\r\n    import retrofit2.Callback;\r\n    import retrofit2.Response;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private static final String TAG = &quot;MainActivity&quot;;\r\n        private Button getData;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            getData = findViewById(R.id.getData);\r\n            getData.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    \r\n                    Methods methods = RetrofitClient.getRetrofitInstance().create(Methods.class);\r\n                    Call&lt;Model&gt; call = methods.getAllData();\r\n    \r\n                    call.enqueue(new Callback&lt;Model&gt;() {\r\n                        @Override\r\n                        public void onResponse(Call&lt;Model&gt; call, Response&lt;Model&gt; response) {\r\n                            Log.e(TAG, &quot;onResponse code:&quot;+response.code());\r\n    \r\n                            String data = response.body().getGender();\r\n    \r\n                            Log.e(TAG, data);\r\n    \r\n                            Button button = (Button) v;\r\n                            button.setText(data);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onFailure(Call&lt;Model&gt; call, Throwable t) {\r\n                            Log.e(TAG, &quot;onFailure: &quot;);\r\n    \r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n    \r\n    And this is my Interface\r\n    \r\n        package com.stardash.stardash;\r\n    \r\n    import retrofit2.Call;\r\n    import retrofit2.http.GET;\r\n    \r\n    public interface Methods {\r\n        @GET(&quot;?name=joe&quot;)\r\n        Call&lt;Model&gt; getAllData();\r\n    }\r\n\r\nI tried using an Intent Methode but it doesnt seem to work with an interface. It only works with 2 Activities. So What i want to do, is to let the @GET in my interface take a name that i pass in my Mainactivity code. But first i need to figure out how to pass a String or value in the first place to an Interface. ","title":"How can i pass a value to an interface in Java Android Studio from MainActivity to my Interface?","body":"<p>This is my MainActivity.java</p>\n<pre><code>    package com.stardash.stardash;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport retrofit2.Call;\nimport retrofit2.Callback;\nimport retrofit2.Response;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final String TAG = &quot;MainActivity&quot;;\n    private Button getData;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        getData = findViewById(R.id.getData);\n        getData.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                \n                Methods methods = RetrofitClient.getRetrofitInstance().create(Methods.class);\n                Call&lt;Model&gt; call = methods.getAllData();\n\n                call.enqueue(new Callback&lt;Model&gt;() {\n                    @Override\n                    public void onResponse(Call&lt;Model&gt; call, Response&lt;Model&gt; response) {\n                        Log.e(TAG, &quot;onResponse code:&quot;+response.code());\n\n                        String data = response.body().getGender();\n\n                        Log.e(TAG, data);\n\n                        Button button = (Button) v;\n                        button.setText(data);\n                    }\n\n                    @Override\n                    public void onFailure(Call&lt;Model&gt; call, Throwable t) {\n                        Log.e(TAG, &quot;onFailure: &quot;);\n\n                    }\n                });\n            }\n        });\n    }\n}\n\nAnd this is my Interface\n\n    package com.stardash.stardash;\n\nimport retrofit2.Call;\nimport retrofit2.http.GET;\n\npublic interface Methods {\n    @GET(&quot;?name=joe&quot;)\n    Call&lt;Model&gt; getAllData();\n}\n</code></pre>\n<p>I tried using an Intent Methode but it doesnt seem to work with an interface. It only works with 2 Activities. So What i want to do, is to let the @GET in my interface take a name that i pass in my Mainactivity code. But first i need to figure out how to pass a String or value in the first place to an Interface.</p>\n"},{"tags":["java","service","libgdx"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1455333742,"post_id":35375038,"comment_id":58457164,"body_markdown":"What is your actual question? You followed the directions and it&#39;s working, so what&#39;s the problem?","body":"What is your actual question? You followed the directions and it&#39;s working, so what&#39;s the problem?"},{"owner":{"account_id":3955283,"reputation":1170,"user_id":3264028,"accept_rate":61,"display_name":"centenond"},"score":0,"creation_date":1455397905,"post_id":35375038,"comment_id":58475181,"body_markdown":"I did not follow any directions, thats why im asking if is the right approach","body":"I did not follow any directions, thats why im asking if is the right approach"}],"answers":[{"tags":[],"owner":{"account_id":13183689,"reputation":99,"user_id":9522385,"display_name":"Youssef ARRASSEN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643148358,"creation_date":1642680417,"answer_id":70785949,"question_id":35375038,"body_markdown":"Same for me, I am trying to implement :\r\n\r\nthis is what you are looking for, [Bound Service][1]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/bound-services#Binder\r\n\r\nEdit:\r\n\r\n1. Add service to your Androidmanifest.xml file\r\n2. Bind Service to Activity or Start service\r\n\r\nbind service mean if activity stop also service stop, example a music player,\r\n\r\nstarting service, will not stop, like a service where it give notifications even if application is not running.\r\n\r\nThere is also a permission for on boot, you need to implement so that the service start when your phone boot up.\r\n\r\n\r\nhappy coding. \r\n\r\n","title":"Libgdx + android.app.Service, how to?","body":"<p>Same for me, I am trying to implement :</p>\n<p>this is what you are looking for, <a href=\"https://developer.android.com/guide/components/bound-services#Binder\" rel=\"nofollow noreferrer\">Bound Service</a></p>\n<p>Edit:</p>\n<ol>\n<li>Add service to your Androidmanifest.xml file</li>\n<li>Bind Service to Activity or Start service</li>\n</ol>\n<p>bind service mean if activity stop also service stop, example a music player,</p>\n<p>starting service, will not stop, like a service where it give notifications even if application is not running.</p>\n<p>There is also a permission for on boot, you need to implement so that the service start when your phone boot up.</p>\n<p>happy coding.</p>\n"}],"owner":{"account_id":3955283,"reputation":1170,"user_id":3264028,"accept_rate":61,"display_name":"centenond"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643148358,"creation_date":1455327286,"question_id":35375038,"body_markdown":"So i want to do certain things always run in background. I&#39;ve read that to do that i need to use android.app.Service, so i could not find anything that explain how to do this with libgdx so i did this.\r\n\r\non the AndroidLauncher I added this line\r\n\r\n    startService(new Intent(getBaseContext(),MyServices.class));\r\n\r\nMyServices.class extends Service and on onStartCommand() i added a new thread that has a infinite loop, like this:\r\n\r\n    @Override\r\n\tpublic int onStartCommand(Intent intent, int flags, int startId) {\t\t\r\n\t\tnew Thread(){\r\n\t\t\tprivate long startTime;\r\n\t\t\tpublic void run() {\r\n\t\t\t\twhile(true){\r\n\t\t\t\t\tif(System.currentTimeMillis() - startTime &gt;= 1000){\r\n\t\t\t\t\t\tstartTime = System.currentTimeMillis();\r\n\t\t\t\t\t\tSystem.out.println(&quot;running&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}.start();\r\n\t\treturn START_STICKY;\r\n\t}\r\n\r\nThe app keeps printing &quot;running&quot; every second even when the app is not running, but I feel like this is not the correct way to do this, can someone please enlighten me? Thanks\r\n\r\n","title":"Libgdx + android.app.Service, how to?","body":"<p>So i want to do certain things always run in background. I've read that to do that i need to use android.app.Service, so i could not find anything that explain how to do this with libgdx so i did this.</p>\n\n<p>on the AndroidLauncher I added this line</p>\n\n<pre><code>startService(new Intent(getBaseContext(),MyServices.class));\n</code></pre>\n\n<p>MyServices.class extends Service and on onStartCommand() i added a new thread that has a infinite loop, like this:</p>\n\n<pre><code>@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {      \n    new Thread(){\n        private long startTime;\n        public void run() {\n            while(true){\n                if(System.currentTimeMillis() - startTime &gt;= 1000){\n                    startTime = System.currentTimeMillis();\n                    System.out.println(\"running\");\n                }\n            }\n        };\n    }.start();\n    return START_STICKY;\n}\n</code></pre>\n\n<p>The app keeps printing \"running\" every second even when the app is not running, but I feel like this is not the correct way to do this, can someone please enlighten me? Thanks</p>\n"},{"tags":["java","date","spring-boot","yaml","swagger-2.0"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1532627968,"post_id":51544854,"comment_id":90057738,"body_markdown":"Why are you using ThreeTen if you&#39;re using Java 8? ThreeTen is a backport for use by Java 6 and 7. `java8-localdatetime` enables support for Java 8 Time API, not ThreeTen. To support ThreeTen, you need to write and register your own `TypeAdapter` objects.","body":"Why are you using ThreeTen if you&#39;re using Java 8? ThreeTen is a backport for use by Java 6 and 7. <code>java8-localdatetime</code> enables support for Java 8 Time API, not ThreeTen. To support ThreeTen, you need to write and register your own <code>TypeAdapter</code> objects."},{"owner":{"account_id":2382468,"reputation":2185,"user_id":2084209,"accept_rate":59,"display_name":"Angelina"},"score":1,"creation_date":1532629350,"post_id":51544854,"comment_id":90058365,"body_markdown":"@Andreas I wish I have control over what to use :)\nI can&#39;t seem to override ThreeTen with swager-codegen-plugin :(","body":"@Andreas I wish I have control over what to use :) I can&#39;t seem to override ThreeTen with swager-codegen-plugin :("},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1532636509,"post_id":51544854,"comment_id":90061619,"body_markdown":"Date/time classes don’t have format of their own, they are simply a container for the amount of time from a specified  anchor point. Instead, you need to use a DateTimeFormatter","body":"Date/time classes don’t have format of their own, they are simply a container for the amount of time from a specified  anchor point. Instead, you need to use a DateTimeFormatter"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1532678927,"post_id":51544854,"comment_id":90074020,"body_markdown":"Or in this case the `toString` method, @MadProgrammer, depending on taste. `DateTimeFormatter.ISO_LOCAL_DATE` should work just nicely too.","body":"Or in this case the <code>toString</code> method, @MadProgrammer, depending on taste. <code>DateTimeFormatter.ISO_LOCAL_DATE</code> should work just nicely too."}],"answers":[{"tags":[],"owner":{"account_id":437395,"reputation":1937,"user_id":825061,"display_name":"Sergio Marcelo C Figueiredo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1630012449,"creation_date":1630012449,"answer_id":68945358,"question_id":51544854,"body_markdown":"I think is best use the &#39;java.time.LocalDate&#39;. The `&lt;dateLibrary&gt;` tag in `&lt;configuration&gt;` area needs to be inside a `&lt;configOptions&gt;` tag. See this example:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n        &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;api-call&lt;/id&gt;\r\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;generate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;inputSpec&gt;src/main/resources/search.yaml&lt;/inputSpec&gt;\r\n                    &lt;language&gt;java&lt;/language&gt;\r\n                    &lt;configOptions&gt;\r\n                       &lt;dateLibrary&gt;java8-localdatetime&lt;/dateLibrary&gt;\r\n                    &lt;/configOptions&gt;\r\n    \t\t\t\t&lt;output&gt;${project.basedir}&lt;/output&gt;\r\n                    &lt;apiPackage&gt;com.api&lt;/apiPackage&gt;\r\n                    &lt;modelPackage&gt;com.model&lt;/modelPackage&gt;\r\n                    &lt;invokerPackage&gt;com.client&lt;/invokerPackage&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nYou may want use other parameters. See [this documentation][1]. \r\n\r\nAnd [here][2] are the Config Options for java language.\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-codegen/tree/master/modules/swagger-codegen-maven-plugin\r\n  [2]: https://openapi-generator.tech/docs/generators/java/","title":"Need org.threeten.bp.LocalDate to return date in format &quot;YYYY-MM-DD&quot;","body":"<p>I think is best use the 'java.time.LocalDate'. The <code>&lt;dateLibrary&gt;</code> tag in <code>&lt;configuration&gt;</code> area needs to be inside a <code>&lt;configOptions&gt;</code> tag. See this example:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;api-call&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;inputSpec&gt;src/main/resources/search.yaml&lt;/inputSpec&gt;\n                &lt;language&gt;java&lt;/language&gt;\n                &lt;configOptions&gt;\n                   &lt;dateLibrary&gt;java8-localdatetime&lt;/dateLibrary&gt;\n                &lt;/configOptions&gt;\n                &lt;output&gt;${project.basedir}&lt;/output&gt;\n                &lt;apiPackage&gt;com.api&lt;/apiPackage&gt;\n                &lt;modelPackage&gt;com.model&lt;/modelPackage&gt;\n                &lt;invokerPackage&gt;com.client&lt;/invokerPackage&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>You may want use other parameters. See <a href=\"https://github.com/swagger-api/swagger-codegen/tree/master/modules/swagger-codegen-maven-plugin\" rel=\"nofollow noreferrer\">this documentation</a>.</p>\n<p>And <a href=\"https://openapi-generator.tech/docs/generators/java/\" rel=\"nofollow noreferrer\">here</a> are the Config Options for java language.</p>\n"},{"tags":[],"owner":{"account_id":1184419,"reputation":497,"user_id":1158695,"accept_rate":12,"display_name":"Nandan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643148095,"creation_date":1643147619,"answer_id":70856152,"question_id":51544854,"body_markdown":"Following configuration works for java 11. &#39;java11-localdatetime&#39; generates &#39;java.util.Date&#39; instead of &#39;java.time.LocalDate&#39;. So I had to use &#39;importMappings&#39; and &#39;typemappings&#39; to replace &#39;Date&#39; with &#39;LocalDate&#39;.\t\t\t\r\n\r\n    &lt;plugin&gt;\r\n\t&lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.27&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;inputSpec&gt;${project.basedir}/api.yaml&lt;/inputSpec&gt;\r\n\t\t\t\t\t\t&lt;language&gt;spring&lt;/language&gt;\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t&lt;output&gt;${project.basedir}&lt;/output&gt;\r\n\t\t\t\t\t\t&lt;modelPackage&gt;com.xxxx.model&lt;/modelPackage&gt;\r\n\t\t\t\t\t\t&lt;apiPackage&gt;com.xxxx.generated.api&lt;/apiPackage&gt;\r\n\t\t\t\t\t\t&lt;generateModels&gt;true&lt;/generateModels&gt;\r\n\t\t\t\t\t\t&lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\r\n\t\t\t\t\t\t&lt;generateApis&gt;true&lt;/generateApis&gt;\r\n\t\t\t\t\t\t&lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n\t\t\t\t\t\t&lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n\t\t\t\t\t\t&lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\r\n\t\t\t\t\t\t&lt;configOptions&gt;\r\n                            &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\r\n\t\t\t\t\t\t\t&lt;dateLibrary&gt;java11-localdatetime&lt;/dateLibrary&gt;\r\n                        &lt;/configOptions&gt;\r\n\t\t\t\t\t\t&lt;importMappings&gt;\r\n\t\t\t\t\t\t\t&lt;importMapping&gt;Date=java.time.LocalDate&lt;/importMapping&gt;\r\n\t\t\t\t\t\t&lt;/importMappings&gt;\r\n\t\t\t\t\t\t&lt;typeMappings&gt;\r\n\t\t\t\t\t\t\t&lt;typeMapping&gt;Date=LocalDate&lt;/typeMapping&gt;\r\n\t\t\t\t\t\t&lt;/typeMappings&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;","title":"Need org.threeten.bp.LocalDate to return date in format &quot;YYYY-MM-DD&quot;","body":"<p>Following configuration works for java 11. 'java11-localdatetime' generates 'java.util.Date' instead of 'java.time.LocalDate'. So I had to use 'importMappings' and 'typemappings' to replace 'Date' with 'LocalDate'.</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n&lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;3.0.27&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;generate&lt;/goal&gt;\n        &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;inputSpec&gt;${project.basedir}/api.yaml&lt;/inputSpec&gt;\n                    &lt;language&gt;spring&lt;/language&gt;                         \n                    &lt;output&gt;${project.basedir}&lt;/output&gt;\n                    &lt;modelPackage&gt;com.xxxx.model&lt;/modelPackage&gt;\n                    &lt;apiPackage&gt;com.xxxx.generated.api&lt;/apiPackage&gt;\n                    &lt;generateModels&gt;true&lt;/generateModels&gt;\n                    &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\n                    &lt;generateApis&gt;true&lt;/generateApis&gt;\n                    &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n                    &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                    &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n                    &lt;configOptions&gt;\n                        &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\n                        &lt;dateLibrary&gt;java11-localdatetime&lt;/dateLibrary&gt;\n                    &lt;/configOptions&gt;\n                    &lt;importMappings&gt;\n                        &lt;importMapping&gt;Date=java.time.LocalDate&lt;/importMapping&gt;\n                    &lt;/importMappings&gt;\n                    &lt;typeMappings&gt;\n                        &lt;typeMapping&gt;Date=LocalDate&lt;/typeMapping&gt;\n                    &lt;/typeMappings&gt;\n            &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n\n"}],"owner":{"account_id":2382468,"reputation":2185,"user_id":2084209,"accept_rate":59,"display_name":"Angelina"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3357,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1643148095,"creation_date":1532627573,"question_id":51544854,"body_markdown":"I am using `yaml` file to generate classes that will be used to return `JSON` response.\r\n\r\nyaml\r\n\r\n    NextPaymentDueDate:\r\n        description: Date the next payment is due on the loan\r\n        type: string\r\n        example: &#39;2018-07-04&#39;\r\n        format: date\r\n\r\nI am using `swagger-codegen-maven-plugin` to generate these classes:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;api-call&lt;/id&gt;\r\n    \t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;inputSpec&gt;src/main/resources/search.yaml&lt;/inputSpec&gt;\r\n    \t\t\t\t&lt;language&gt;java&lt;/language&gt;\r\n    \t\t\t\t&lt;dateLibrary&gt;java8-localdatetime&lt;/dateLibrary&gt;\r\n    \t\t\t\t&lt;output&gt;${project.basedir}&lt;/output&gt;\r\n    \t\t\t\t&lt;apiPackage&gt;com.api&lt;/apiPackage&gt;\r\n    \t\t\t\t&lt;modelPackage&gt;com.model&lt;/modelPackage&gt;\r\n    \t\t\t\t&lt;invokerPackage&gt;com.client&lt;/invokerPackage&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\nIn my code:\r\n\r\n      @SerializedName(&quot;NextPaymentDueDate&quot;)\r\n      private LocalDate nextPaymentDueDate = null;\r\n    ...\r\n      myObj.setNextPaymentDueDate(LocalDate.parse(&quot;2018-07-01&quot;));\r\n\r\nResult:\r\n \r\n\r\n    &quot;nextPaymentDueDate&quot;: { &lt;-- note lowercase\r\n                &quot;year&quot;: 2018,\r\n                &quot;month&quot;: &quot;JULY&quot;,\r\n                &quot;era&quot;: &quot;CE&quot;,\r\n                &quot;dayOfMonth&quot;: 1,\r\n                &quot;dayOfWeek&quot;: &quot;SUNDAY&quot;,\r\n                &quot;dayOfYear&quot;: 182,\r\n                &quot;leapYear&quot;: false,\r\n                &quot;monthValue&quot;: 7,\r\n                &quot;chronology&quot;: {\r\n                    &quot;id&quot;: &quot;ISO&quot;,\r\n                    &quot;calendarType&quot;: &quot;iso8601&quot;\r\n                }\r\n            },\r\n\r\nI need it to return:\r\n\r\n    &quot;nextPaymentDueDate&quot;: {\r\n                &quot;2018-07-01&quot;\r\n            },\r\n\r\nI also added in `application.properties`:\r\n\r\n    spring.jackson.serialization.write-dates-as-timestamps=false\r\nBut this didn&#39;t do anything.\r\n\r\n","title":"Need org.threeten.bp.LocalDate to return date in format &quot;YYYY-MM-DD&quot;","body":"<p>I am using <code>yaml</code> file to generate classes that will be used to return <code>JSON</code> response.</p>\n\n<p>yaml</p>\n\n<pre><code>NextPaymentDueDate:\n    description: Date the next payment is due on the loan\n    type: string\n    example: '2018-07-04'\n    format: date\n</code></pre>\n\n<p>I am using <code>swagger-codegen-maven-plugin</code> to generate these classes:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;api-call&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;inputSpec&gt;src/main/resources/search.yaml&lt;/inputSpec&gt;\n                &lt;language&gt;java&lt;/language&gt;\n                &lt;dateLibrary&gt;java8-localdatetime&lt;/dateLibrary&gt;\n                &lt;output&gt;${project.basedir}&lt;/output&gt;\n                &lt;apiPackage&gt;com.api&lt;/apiPackage&gt;\n                &lt;modelPackage&gt;com.model&lt;/modelPackage&gt;\n                &lt;invokerPackage&gt;com.client&lt;/invokerPackage&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>In my code:</p>\n\n<pre><code>  @SerializedName(\"NextPaymentDueDate\")\n  private LocalDate nextPaymentDueDate = null;\n...\n  myObj.setNextPaymentDueDate(LocalDate.parse(\"2018-07-01\"));\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>\"nextPaymentDueDate\": { &lt;-- note lowercase\n            \"year\": 2018,\n            \"month\": \"JULY\",\n            \"era\": \"CE\",\n            \"dayOfMonth\": 1,\n            \"dayOfWeek\": \"SUNDAY\",\n            \"dayOfYear\": 182,\n            \"leapYear\": false,\n            \"monthValue\": 7,\n            \"chronology\": {\n                \"id\": \"ISO\",\n                \"calendarType\": \"iso8601\"\n            }\n        },\n</code></pre>\n\n<p>I need it to return:</p>\n\n<pre><code>\"nextPaymentDueDate\": {\n            \"2018-07-01\"\n        },\n</code></pre>\n\n<p>I also added in <code>application.properties</code>:</p>\n\n<pre><code>spring.jackson.serialization.write-dates-as-timestamps=false\n</code></pre>\n\n<p>But this didn't do anything.</p>\n"},{"tags":["java","arrays","bubble-sort"],"comments":[{"owner":{"account_id":21432093,"reputation":177,"user_id":15788271,"display_name":"David Tejuosho"},"score":0,"creation_date":1643142767,"post_id":70855193,"comment_id":125260754,"body_markdown":"At this point, why not create a Student class, add grades as a 1D array field and final grade as an int field then create your array of Students and do the sort that way.","body":"At this point, why not create a Student class, add grades as a 1D array field and final grade as an int field then create your array of Students and do the sort that way."},{"owner":{"account_id":20994253,"reputation":13,"user_id":15426473,"display_name":"Bugsters104"},"score":0,"creation_date":1643142940,"post_id":70855193,"comment_id":125260814,"body_markdown":"I know, your suggestion is much better... but can it be sorted this way?","body":"I know, your suggestion is much better... but can it be sorted this way?"},{"owner":{"account_id":21432093,"reputation":177,"user_id":15788271,"display_name":"David Tejuosho"},"score":0,"creation_date":1643143171,"post_id":70855193,"comment_id":125260903,"body_markdown":"yes it can. I&#39;m writing an answer now","body":"yes it can. I&#39;m writing an answer now"},{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1643143610,"post_id":70855193,"comment_id":125261022,"body_markdown":"The trick is to *not* sort the 2D array directly.  Sort an array of indexes, numbers from `0` to `n-1`, according to the sort criteria for the 2D array.  Then use the index array to generate the sorted elements.  The issue is that I&#39;ve only written a [C++ solution](https://stackoverflow.com/questions/46382252/sort-array-by-first-item-in-subarray-c/46382976#46382976), but the principle is the same.","body":"The trick is to <i>not</i> sort the 2D array directly.  Sort an array of indexes, numbers from <code>0</code> to <code>n-1</code>, according to the sort criteria for the 2D array.  Then use the index array to generate the sorted elements.  The issue is that I&#39;ve only written a <a href=\"https://stackoverflow.com/questions/46382252/sort-array-by-first-item-in-subarray-c/46382976#46382976\">C++ solution</a>, but the principle is the same."}],"answers":[{"tags":[],"owner":{"account_id":21432093,"reputation":177,"user_id":15788271,"display_name":"David Tejuosho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643143458,"creation_date":1643143458,"answer_id":70855425,"question_id":70855193,"body_markdown":"If you must do it in this manner then sorting the 2D array is no harder than sorting any other array. You have to remember that a 2D array is just an array of arrays. i.e just treat the inner array the way you would treat any other object in an array.  \r\n```java\r\n\tstatic void sort(String[] students, int[][] grades, double[] finalGrade) {\r\n\t\tdouble tempFinalGrade;\r\n\t\tString tempStudent; //I think using well descriptive vars is better\r\n\t\tint [] tempGrade;\r\n\t\t\r\n\t\t//Bubble Sort\r\n\t\tfor (int i=0; i&lt;students.length-1; i++) {\r\n\t\t\tfor (int j=0; j&lt;finalGrade.length-i-1; j++) {\r\n\t\t\t\tif (finalGrade[j] &lt; finalGrade[j+1]) {\r\n\t\t\t\t\ttempFinalGrade = finalGrade[j];\r\n\t\t\t\t\ttempStudent = students[j]; \r\n\t\t\t\t\ttempGrade = grades[j];//addition\r\n\r\n\t\t\t\t\tfinalGrade[j] = finalGrade[j+1];\r\n\t\t\t\t\tstudents[j] = students[j+1];\r\n\t\t\t\t\tgrades[j] = grades[j+1]; //addition\r\n\r\n\t\t\t\t\tfinalGrade[j+1] = tempFinalGrade;\r\n\t\t\t\t\tstudents[j+1] = tempStudent;\r\n\t\t\t\t\tgrades[j+1] = tempGrade; //addition\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\nI will say that I think this is not a good way at all to solve this problem. abstracting this in a class would be much better.","title":"How to sort 2D array in Java based on 1D array values","body":"<p>If you must do it in this manner then sorting the 2D array is no harder than sorting any other array. You have to remember that a 2D array is just an array of arrays. i.e just treat the inner array the way you would treat any other object in an array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static void sort(String[] students, int[][] grades, double[] finalGrade) {\n        double tempFinalGrade;\n        String tempStudent; //I think using well descriptive vars is better\n        int [] tempGrade;\n        \n        //Bubble Sort\n        for (int i=0; i&lt;students.length-1; i++) {\n            for (int j=0; j&lt;finalGrade.length-i-1; j++) {\n                if (finalGrade[j] &lt; finalGrade[j+1]) {\n                    tempFinalGrade = finalGrade[j];\n                    tempStudent = students[j]; \n                    tempGrade = grades[j];//addition\n\n                    finalGrade[j] = finalGrade[j+1];\n                    students[j] = students[j+1];\n                    grades[j] = grades[j+1]; //addition\n\n                    finalGrade[j+1] = tempFinalGrade;\n                    students[j+1] = tempStudent;\n                    grades[j+1] = tempGrade; //addition\n                }\n            }\n        }\n    }\n</code></pre>\n<p>I will say that I think this is not a good way at all to solve this problem. abstracting this in a class would be much better.</p>\n"},{"tags":[],"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643144995,"creation_date":1643144995,"answer_id":70855713,"question_id":70855193,"body_markdown":"As mentioned in the comments, the better, less cluttered way of sorting a 2D array would be to sort an array of indices numbered `0` to `n-1`, where `n` is the total number of items.\r\n\r\nThen at the end, use the indices to point to, or even regenerate the 2D array.\r\n\r\n    static void sort(String[] students, int[][] grades, double[] finalGrade) {\r\n            int tempIndex;\r\n            int[] indices = new int[finalGrade.length];\r\n            for (int i = 0; i &lt; finalGrade.length; ++i)\r\n               indices[i] = i;\r\n    \r\n            //Bubble Sort\r\n            for (int i=0; i&lt;students.length-1; i++) {\r\n                for (int j=0; j&lt;finalGrade.length-i-1; j++) { \r\n                    if (finalGrade[indices[j]] &lt; finalGrade[indices[j+1]]) { \r\n                        tempIndex = indices[j];\r\n                        indices[j] = indices[j+1];\r\n                        indices[j+1] = tempIndex;\r\n                    }\r\n               }\r\n            } \r\n\r\n        // Output results \r\n        for (int i = 0; i &lt; indices.length; ++i)\r\n          System.out.println(students[indices[i]] + &quot;  &quot; + finalGrade[indices[i]]);\r\n    } \r\n\r\nNote that you do not have to swap multiple arrays, as the index array points to the sorted item.","title":"How to sort 2D array in Java based on 1D array values","body":"<p>As mentioned in the comments, the better, less cluttered way of sorting a 2D array would be to sort an array of indices numbered <code>0</code> to <code>n-1</code>, where <code>n</code> is the total number of items.</p>\n<p>Then at the end, use the indices to point to, or even regenerate the 2D array.</p>\n<pre><code>static void sort(String[] students, int[][] grades, double[] finalGrade) {\n        int tempIndex;\n        int[] indices = new int[finalGrade.length];\n        for (int i = 0; i &lt; finalGrade.length; ++i)\n           indices[i] = i;\n\n        //Bubble Sort\n        for (int i=0; i&lt;students.length-1; i++) {\n            for (int j=0; j&lt;finalGrade.length-i-1; j++) { \n                if (finalGrade[indices[j]] &lt; finalGrade[indices[j+1]]) { \n                    tempIndex = indices[j];\n                    indices[j] = indices[j+1];\n                    indices[j+1] = tempIndex;\n                }\n           }\n        } \n\n    // Output results \n    for (int i = 0; i &lt; indices.length; ++i)\n      System.out.println(students[indices[i]] + &quot;  &quot; + finalGrade[indices[i]]);\n} \n</code></pre>\n<p>Note that you do not have to swap multiple arrays, as the index array points to the sorted item.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643148090,"creation_date":1643146377,"answer_id":70855947,"question_id":70855193,"body_markdown":"As was mentioned, sorting indices would be easier with fewer items to swap.  But better would be to:\r\n- use a class (as also suggested).\r\n- implement a quick sort or equivalent (or use the ones in the API).\r\n\r\nHere is some data.  There is no relationship between grades and final grades.\r\n```\r\nString[] students = {&quot;John&quot;, &quot;May&quot;, &quot;Helen&quot;, &quot;Jim&quot;, &quot;George&quot;};\r\nint[][] grades = {{88,97},{100,84},{80, 85},{92,91},{91,78}};\r\ndouble[] finalGrade = {88.5, 92.6, 85.2, 89.3, 91.3}; \r\n```\r\nNow sort and print\r\n```\t\r\nint indices[] = sort(students, grades, finalGrade);\r\nfor (int i = 0; i &lt; indices.length; i++) {\r\n    \tint k = indices[i];\r\n    \tSystem.out.printf(&quot;%6s -  %f  - %s%n&quot;,students[k], \r\n               finalGrade[k], Arrays.toString(grades[k])); \r\n}\r\n```\r\nprints\r\n```\r\n   May -  92.600000  - [100, 84]\r\nGeorge -  91.300000  - [91, 78]\r\n   Jim -  89.300000  - [92, 91]\r\n  John -  88.500000  - [88, 97]\r\n Helen -  85.200000  - [80, 85]\r\n\r\n\r\n```\r\n- this method returns the indices for use in printing the results. If a class were used then the index sort wouldn&#39;t be required since. Then the list or array of objects could be returned.\r\n\r\n- initialize the index list from `0 to length of arrays`.\r\n- this works the same way as any bubble or selection sort except that indices array is used to index into the finalGrade array and the indices are swapped based on the result of the comparison.\r\n```\r\nstatic int[] sort(String[] students, int[][] grades, double[] finalGrade) {\r\n  \r\n    //Bubble Sort\r\n    int[] indices = new int[grades.length];\r\n    Arrays.setAll(indices, i-&gt;i);\r\n\r\n    for (int i=0; i&lt;students.length-1; i++) {\r\n        for (int j=i+1; j&lt;finalGrade.length; j++) { \r\n            if (finalGrade[indices[i]] &lt; finalGrade[indices[j]]) {\r\n                int t = indices[j];\r\n                indices[j] = indices[i];\r\n                indices[i] = t;\r\n            }\r\n       }\r\n    }\r\n    return indices;\r\n}\r\n```\r\nThe above is actually a variation of a `selection sort`. Your loop parameters don&#39;t work and your implementation has other problems.  You can still apply the above to a [Bubble-sort](https://en.wikipedia.org/wiki/Bubble_sort)","title":"How to sort 2D array in Java based on 1D array values","body":"<p>As was mentioned, sorting indices would be easier with fewer items to swap.  But better would be to:</p>\n<ul>\n<li>use a class (as also suggested).</li>\n<li>implement a quick sort or equivalent (or use the ones in the API).</li>\n</ul>\n<p>Here is some data.  There is no relationship between grades and final grades.</p>\n<pre><code>String[] students = {&quot;John&quot;, &quot;May&quot;, &quot;Helen&quot;, &quot;Jim&quot;, &quot;George&quot;};\nint[][] grades = {{88,97},{100,84},{80, 85},{92,91},{91,78}};\ndouble[] finalGrade = {88.5, 92.6, 85.2, 89.3, 91.3}; \n</code></pre>\n<p>Now sort and print</p>\n<pre><code>int indices[] = sort(students, grades, finalGrade);\nfor (int i = 0; i &lt; indices.length; i++) {\n        int k = indices[i];\n        System.out.printf(&quot;%6s -  %f  - %s%n&quot;,students[k], \n               finalGrade[k], Arrays.toString(grades[k])); \n}\n</code></pre>\n<p>prints</p>\n<pre><code>   May -  92.600000  - [100, 84]\nGeorge -  91.300000  - [91, 78]\n   Jim -  89.300000  - [92, 91]\n  John -  88.500000  - [88, 97]\n Helen -  85.200000  - [80, 85]\n\n\n</code></pre>\n<ul>\n<li><p>this method returns the indices for use in printing the results. If a class were used then the index sort wouldn't be required since. Then the list or array of objects could be returned.</p>\n</li>\n<li><p>initialize the index list from <code>0 to length of arrays</code>.</p>\n</li>\n<li><p>this works the same way as any bubble or selection sort except that indices array is used to index into the finalGrade array and the indices are swapped based on the result of the comparison.</p>\n</li>\n</ul>\n<pre><code>static int[] sort(String[] students, int[][] grades, double[] finalGrade) {\n  \n    //Bubble Sort\n    int[] indices = new int[grades.length];\n    Arrays.setAll(indices, i-&gt;i);\n\n    for (int i=0; i&lt;students.length-1; i++) {\n        for (int j=i+1; j&lt;finalGrade.length; j++) { \n            if (finalGrade[indices[i]] &lt; finalGrade[indices[j]]) {\n                int t = indices[j];\n                indices[j] = indices[i];\n                indices[i] = t;\n            }\n       }\n    }\n    return indices;\n}\n</code></pre>\n<p>The above is actually a variation of a <code>selection sort</code>. Your loop parameters don't work and your implementation has other problems.  You can still apply the above to a <a href=\"https://en.wikipedia.org/wiki/Bubble_sort\" rel=\"nofollow noreferrer\">Bubble-sort</a></p>\n"}],"owner":{"account_id":20994253,"reputation":13,"user_id":15426473,"display_name":"Bugsters104"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70855425,"answer_count":3,"score":0,"last_activity_date":1643148090,"creation_date":1643142047,"question_id":70855193,"body_markdown":"How to sort 1D (String) array and 2D (int) array based on 1D (double) array with Bubble Sort in Java.\r\nI managed to sort String array based on double array but can&#39;t figure out how to also sort 2D (int) array.\r\nEvery row in 2D array (grades) represents each students multiple grades.\r\nI need to achieve goal by using this kind of structure (three arrays).\r\nEverything needs to be sorted depending on finalGrade array.\r\n\r\n``` \r\nstatic void sort(String[] students, int[][] grades, double[] finalGrade) {\r\n\t\tdouble tempFG;\r\n\t\tString tempStud;\r\n        int t;\r\n\r\n\t\t//Bubble Sort\r\n        for (int i=0; i&lt;students.length-1; i++) {\r\n            for (int j=0; j&lt;finalGrade.length-i-1; j++) { \r\n                if (finalGrade[j] &lt; finalGrade[j+1]) { \r\n                \ttempFG = finalGrade[j];\r\n                \ttempStud = students[j];\r\n                \tfinalGrade[j] = finalGrade[j+1];\r\n                \tstudents[j] = students[j+1];\r\n                \tfinalGrade[j+1] = tempFG;\r\n                \tstudents[j+1] = tempStud;\r\n                }\r\n           }\r\n        } \r\n} \r\n```","title":"How to sort 2D array in Java based on 1D array values","body":"<p>How to sort 1D (String) array and 2D (int) array based on 1D (double) array with Bubble Sort in Java.\nI managed to sort String array based on double array but can't figure out how to also sort 2D (int) array.\nEvery row in 2D array (grades) represents each students multiple grades.\nI need to achieve goal by using this kind of structure (three arrays).\nEverything needs to be sorted depending on finalGrade array.</p>\n<pre><code>static void sort(String[] students, int[][] grades, double[] finalGrade) {\n        double tempFG;\n        String tempStud;\n        int t;\n\n        //Bubble Sort\n        for (int i=0; i&lt;students.length-1; i++) {\n            for (int j=0; j&lt;finalGrade.length-i-1; j++) { \n                if (finalGrade[j] &lt; finalGrade[j+1]) { \n                    tempFG = finalGrade[j];\n                    tempStud = students[j];\n                    finalGrade[j] = finalGrade[j+1];\n                    students[j] = students[j+1];\n                    finalGrade[j+1] = tempFG;\n                    students[j+1] = tempStud;\n                }\n           }\n        } \n} \n</code></pre>\n"},{"tags":["java","json","javafx","gson"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1643111475,"post_id":70847884,"comment_id":125247963,"body_markdown":"Why are you trying to export a `CheckBox` to JSON in the first place? This seems like a strange thing to do, you typically only export data to JSON, not entire UI elements.","body":"Why are you trying to export a <code>CheckBox</code> to JSON in the first place? This seems like a strange thing to do, you typically only export data to JSON, not entire UI elements."},{"owner":{"account_id":23479042,"reputation":19,"user_id":17531441,"display_name":"Tomislav"},"score":0,"creation_date":1643112364,"post_id":70847884,"comment_id":125248238,"body_markdown":"I&#39;m not sure man. I am trying to populate a tableview with columns Name, Date and a checkbox at the end. The way I saw to add items to a tableview is thru an object. I use some setcellvaluefactory to extract the attribute values and assign them to each column. Thats why I need to keep it in my object, unless theres a way to add a checkbox to a column that isnt via an object created. I need to then save this object in a txt file as a json string for later retrieval.","body":"I&#39;m not sure man. I am trying to populate a tableview with columns Name, Date and a checkbox at the end. The way I saw to add items to a tableview is thru an object. I use some setcellvaluefactory to extract the attribute values and assign them to each column. Thats why I need to keep it in my object, unless theres a way to add a checkbox to a column that isnt via an object created. I need to then save this object in a txt file as a json string for later retrieval."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1643112634,"post_id":70847884,"comment_id":125248348,"body_markdown":"A checkbox is a UI representation of a boolean (it’s either checked or not checked). So your data model should contain a string, date, and boolean. You should never have UI elements in the data model.","body":"A checkbox is a UI representation of a boolean (it’s either checked or not checked). So your data model should contain a string, date, and boolean. You should never have UI elements in the data model."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1643114054,"post_id":70847884,"comment_id":125248813,"body_markdown":"Tip: format stack traces as code.  They are much easier to read that way.","body":"Tip: format stack traces as code.  They are much easier to read that way."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1643114218,"post_id":70847884,"comment_id":125248870,"body_markdown":"never-ever store nodes in your data ..","body":"never-ever store nodes in your data .."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1643115263,"post_id":70847884,"comment_id":125249213,"body_markdown":"All that said, once you fix all the design issues you have, you are still going to run into problems getting JavaFX and GSON to play nicely together. The underlying issue is that GSON assumes your data entities use a very na&#239;ve bean design ([see here](https://stackoverflow.com/questions/6203487)) in which your data classes are implemented with fields exactly matching the properties. On the other hand, JavaFX [uses a bean design](https://docs.oracle.com/javafx/2/binding/jfxpub-binding.htm) in which the fields are wrappers for the properties.","body":"All that said, once you fix all the design issues you have, you are still going to run into problems getting JavaFX and GSON to play nicely together. The underlying issue is that GSON assumes your data entities use a very na&#239;ve bean design (<a href=\"https://stackoverflow.com/questions/6203487\">see here</a>) in which your data classes are implemented with fields exactly matching the properties. On the other hand, JavaFX <a href=\"https://docs.oracle.com/javafx/2/binding/jfxpub-binding.htm\" rel=\"nofollow noreferrer\">uses a bean design</a> in which the fields are wrappers for the properties."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1643115490,"post_id":70847884,"comment_id":125249291,"body_markdown":"In a nutshell: you should use the `cellValueFactory` to specify what *data* (&quot;value&quot;) each column should display. (String, date, boolean in your case.) You should use a `cellFactory` where necessary to specify *how* the column should display the data (using a `CheckBoxTableCell` for the third column). To get your check box table cell to work with the data, you&#39;ll need to use a `BooleanProperty` to represent the boolean. Because GSON *only* works with fields, it will try to serialize the `BooleanProperty` instead of its underlying boolean value. (This is a stupid design decision from GSON imo.)","body":"In a nutshell: you should use the <code>cellValueFactory</code> to specify what <i>data</i> (&quot;value&quot;) each column should display. (String, date, boolean in your case.) You should use a <code>cellFactory</code> where necessary to specify <i>how</i> the column should display the data (using a <code>CheckBoxTableCell</code> for the third column). To get your check box table cell to work with the data, you&#39;ll need to use a <code>BooleanProperty</code> to represent the boolean. Because GSON <i>only</i> works with fields, it will try to serialize the <code>BooleanProperty</code> instead of its underlying boolean value. (This is a stupid design decision from GSON imo.)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1643115815,"post_id":70847884,"comment_id":125249393,"body_markdown":"So, fix your design issues, represent the table data model using JavaFX properties and set up the cell value factories and cell factories as appropriate. Then I would consider switching to a JSON library that supports Java properties instead of na&#239;vely copying fields; Jackson works well. If you want to continue to use GSON you will have to create data transfer objects that mimic the table data model but don&#39;t use JavaFX properties, and have a layer that translates between the two data representations.","body":"So, fix your design issues, represent the table data model using JavaFX properties and set up the cell value factories and cell factories as appropriate. Then I would consider switching to a JSON library that supports Java properties instead of na&#239;vely copying fields; Jackson works well. If you want to continue to use GSON you will have to create data transfer objects that mimic the table data model but don&#39;t use JavaFX properties, and have a layer that translates between the two data representations."},{"owner":{"account_id":23479042,"reputation":19,"user_id":17531441,"display_name":"Tomislav"},"score":0,"creation_date":1643116104,"post_id":70847884,"comment_id":125249506,"body_markdown":"Thank you James_D , kleopatra , and jewelsea for the help. I will implement this. I am a new app dev so I appreciate the time you guys take to help me :)","body":"Thank you James_D , kleopatra , and jewelsea for the help. I will implement this. I am a new app dev so I appreciate the time you guys take to help me :)"},{"owner":{"account_id":23479042,"reputation":19,"user_id":17531441,"display_name":"Tomislav"},"score":0,"creation_date":1643117613,"post_id":70847884,"comment_id":125250119,"body_markdown":"@James_D I didn&#39;t fully understand by what you meant here. This is what I have now\n\ntask.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;name&quot;));\ndate.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;dateString&quot;));\ndone.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;tickOff&quot;));\n\ndone is supposed to be the boolean property. It displays true/false in my table, how do i use cellFactory to make it represent it as a checkbox?","body":"@James_D I didn&#39;t fully understand by what you meant here. This is what I have now  task.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;name&quot;)); date.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;dateString&quot;)); done.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;tickOff&quot;));  done is supposed to be the boolean property. It displays true/false in my table, how do i use cellFactory to make it represent it as a checkbox?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1643117987,"post_id":70847884,"comment_id":125250268,"body_markdown":"https://openjfx.io/javadoc/16/javafx.controls/javafx/scene/control/cell/CheckBoxTableCell.html#forTableColumn(javafx.scene.control.TableColumn)","body":"<a href=\"https://openjfx.io/javadoc/16/javafx.controls/javafx/scene/control/cell/CheckBoxTableCell.html#forTableColumn(javafx.scene.control.TableColumn)\" rel=\"nofollow noreferrer\">openjfx.io/javadoc/16/javafx.controls/javafx/scene/control/c&zwnj;&#8203;ell/&hellip;</a>"},{"owner":{"account_id":23479042,"reputation":19,"user_id":17531441,"display_name":"Tomislav"},"score":0,"creation_date":1643120022,"post_id":70847884,"comment_id":125251200,"body_markdown":"@James_D sorry that didn&#39;t really clarify much to me but thanks for the explanations.","body":"@James_D sorry that didn&#39;t really clarify much to me but thanks for the explanations."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1643152911,"post_id":70847884,"comment_id":125263735,"body_markdown":"@Tomislav if you want to add extra info, you can edit the question instead of commenting.  It is often easier to read that way, improves the question and provides superior editing and formatting capabilities.","body":"@Tomislav if you want to add extra info, you can edit the question instead of commenting.  It is often easier to read that way, improves the question and provides superior editing and formatting capabilities."}],"answers":[{"tags":[],"owner":{"account_id":23479042,"reputation":19,"user_id":17531441,"display_name":"Tomislav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643147879,"creation_date":1643147879,"answer_id":70856197,"question_id":70847884,"body_markdown":"Figured it out\r\n\r\n    (tablecolumnname).setCellFactory(new Callback&lt;TableColumn&lt;(object), Boolean&gt;, TableCell&lt;(object), Boolean&gt;&gt;() {\r\n\r\n            public TableCell&lt;(object), Boolean&gt; call(TableColumn&lt;(object), Boolean&gt; p) {\r\n                return new CheckBoxTableCell&lt;(object), Boolean&gt;();\r\n            }\r\n\r\n        });","title":"Error in converting an object with JavaFX CheckBox attribute to a JSON string using GSON","body":"<p>Figured it out</p>\n<pre><code>(tablecolumnname).setCellFactory(new Callback&lt;TableColumn&lt;(object), Boolean&gt;, TableCell&lt;(object), Boolean&gt;&gt;() {\n\n        public TableCell&lt;(object), Boolean&gt; call(TableColumn&lt;(object), Boolean&gt; p) {\n            return new CheckBoxTableCell&lt;(object), Boolean&gt;();\n        }\n\n    });\n</code></pre>\n"}],"owner":{"account_id":23479042,"reputation":19,"user_id":17531441,"display_name":"Tomislav"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70856197,"answer_count":1,"score":0,"last_activity_date":1643147879,"creation_date":1643110248,"question_id":70847884,"body_markdown":"To explain things briefly, I have a ```Task``` object I want to convert to a JSON string using the GSON library. The object itself has String and int attributes, which I can convert to JSON just fine, however when I add a CheckBox attribute to the class, this error message appears\r\n\r\n&gt; **Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private javafx.beans.property.BooleanProperty javafx.scene.control.CheckBox.indeterminate accessible: module javafx.controls does not &quot;opens javafx.scene.control&quot; to module gson**\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:349)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:289)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:174)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:168)\r\n\tat gson@2.8.2/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:157)\r\n\tat gson@2.8.2/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:100)\r\n\tat gson@2.8.2/com.google.gson.Gson.getAdapter(Gson.java:423)\r\n\tat gson@2.8.2/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:115)\r\n\tat gson@2.8.2/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:164)\r\n\tat gson@2.8.2/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:100)\r\n\tat gson@2.8.2/com.google.gson.Gson.getAdapter(Gson.java:423)\r\n\tat gson@2.8.2/com.google.gson.Gson.toJson(Gson.java:661)\r\n\tat gson@2.8.2/com.google.gson.Gson.toJson(Gson.java:648)\r\n\tat gson@2.8.2/com.google.gson.Gson.toJson(Gson.java:603)\r\n\tat gson@2.8.2/com.google.gson.Gson.toJson(Gson.java:583)\r\n\tat IAssessment/application.AddTaskController.addTask(AddTaskController.java:45)\r\n\r\nI had something similar beforehand and I asked about it here (the error message was ending in does not export to gson) and the solution was to create a class module-info that looks like this\r\n\r\n   \r\n\r\n    exports snippet;\r\n\texports application;\r\n\trequires gson;\r\n\trequires java.sql;\r\n\trequires javafx.base;\r\n\trequires javafx.controls;\r\n\trequires javafx.fxml;\r\n\trequires javafx.graphics;\r\n\topens application to gson, javafx.fxml;\r\n\r\n\r\n\r\nThis solved my previous problem but this seems to be a similar problem for which I don&#39;t know what to do. So is there a way to solve it? I appreciate any and all help.\r\n\r\n","title":"Error in converting an object with JavaFX CheckBox attribute to a JSON string using GSON","body":"<p>To explain things briefly, I have a <code>Task</code> object I want to convert to a JSON string using the GSON library. The object itself has String and int attributes, which I can convert to JSON just fine, however when I add a CheckBox attribute to the class, this error message appears</p>\n<blockquote>\n<p><strong>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private javafx.beans.property.BooleanProperty javafx.scene.control.CheckBox.indeterminate accessible: module javafx.controls does not &quot;opens javafx.scene.control&quot; to module gson</strong>\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:349)\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:289)\nat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:174)\nat java.base/java.lang.reflect.Field.setAccessible(Field.java:168)\nat gson@2.8.2/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:157)\nat gson@2.8.2/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:100)\nat gson@2.8.2/com.google.gson.Gson.getAdapter(Gson.java:423)\nat gson@2.8.2/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:115)\nat gson@2.8.2/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:164)\nat gson@2.8.2/com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:100)\nat gson@2.8.2/com.google.gson.Gson.getAdapter(Gson.java:423)\nat gson@2.8.2/com.google.gson.Gson.toJson(Gson.java:661)\nat gson@2.8.2/com.google.gson.Gson.toJson(Gson.java:648)\nat gson@2.8.2/com.google.gson.Gson.toJson(Gson.java:603)\nat gson@2.8.2/com.google.gson.Gson.toJson(Gson.java:583)\nat IAssessment/application.AddTaskController.addTask(AddTaskController.java:45)</p>\n</blockquote>\n<p>I had something similar beforehand and I asked about it here (the error message was ending in does not export to gson) and the solution was to create a class module-info that looks like this</p>\n<pre><code>exports snippet;\nexports application;\nrequires gson;\nrequires java.sql;\nrequires javafx.base;\nrequires javafx.controls;\nrequires javafx.fxml;\nrequires javafx.graphics;\nopens application to gson, javafx.fxml;\n</code></pre>\n<p>This solved my previous problem but this seems to be a similar problem for which I don't know what to do. So is there a way to solve it? I appreciate any and all help.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1643025541,"post_id":70833379,"comment_id":125222078,"body_markdown":"See [display image with scenebuilder](https://stackoverflow.com/questions/42558641/display-an-image-with-scenebuilder) and [resource resolution](https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other).  If you want debugging help, provide a [mcve] and a stack trace formatted as code.","body":"See <a href=\"https://stackoverflow.com/questions/42558641/display-an-image-with-scenebuilder\">display image with scenebuilder</a> and <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\">resource resolution</a>.  If you want debugging help, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and a stack trace formatted as code."},{"owner":{"account_id":21696426,"reputation":9,"user_id":16010262,"display_name":"Енот Полоскун"},"score":0,"creation_date":1643098303,"post_id":70833379,"comment_id":125242972,"body_markdown":"Of course I can add via scenebuilder and it works, but i need add via the code.","body":"Of course I can add via scenebuilder and it works, but i need add via the code."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1643113338,"post_id":70833379,"comment_id":125248576,"body_markdown":"If you follow the provided resource lookup advice and have no other errors, setting the image in the view by code will work fine.","body":"If you follow the provided resource lookup advice and have no other errors, setting the image in the view by code will work fine."}],"answers":[{"tags":[],"owner":{"account_id":21696426,"reputation":9,"user_id":16010262,"display_name":"Енот Полоскун"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643147323,"creation_date":1643115653,"answer_id":70849065,"question_id":70833379,"body_markdown":"I had tried to set the picture in the controller constructor, which caused the null pointer exception because the ImageView was not initialized at that time.\r\n\r\nI moved the call to set the image to the controller initialize() method and it worked fine.","title":"Can&#39;t set image to ImageView from resources (JavaFX)","body":"<p>I had tried to set the picture in the controller constructor, which caused the null pointer exception because the ImageView was not initialized at that time.</p>\n<p>I moved the call to set the image to the controller initialize() method and it worked fine.</p>\n"}],"owner":{"account_id":21696426,"reputation":9,"user_id":16010262,"display_name":"Енот Полоскун"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":70849065,"answer_count":1,"score":-3,"last_activity_date":1643147323,"creation_date":1643024776,"question_id":70833379,"body_markdown":"trying set image to button, but receive NullPointerException.\r\n\r\nstructure:\r\n\r\n    resources\r\n      com.example.test\r\n        images\r\n          file_open_icon.png\r\n\r\nand code:\r\n\r\n    openImageview.setImage(new Image(Objects.requireNonNull(getClass().getResourceAsStream(&quot;images/file_open_icon.png&quot;))));\r\n\r\nButton:\r\n\r\n    &lt;ToolBar prefHeight=&quot;40.0&quot; prefWidth=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;25.0&quot;&gt;\r\n        &lt;Button fx:id=&quot;toolbarHandleOpen&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handle_open&quot;&gt;\r\n         &lt;graphic&gt;\r\n            &lt;ImageView fx:id=&quot;openImageview&quot; fitHeight=&quot;23.0&quot; fitWidth=&quot;23.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; /&gt;\r\n         &lt;/graphic&gt;\r\n        &lt;/Button&gt;\r\n    &lt;/ToolBar&gt;","title":"Can&#39;t set image to ImageView from resources (JavaFX)","body":"<p>trying set image to button, but receive NullPointerException.</p>\n<p>structure:</p>\n<pre><code>resources\n  com.example.test\n    images\n      file_open_icon.png\n</code></pre>\n<p>and code:</p>\n<pre><code>openImageview.setImage(new Image(Objects.requireNonNull(getClass().getResourceAsStream(&quot;images/file_open_icon.png&quot;))));\n</code></pre>\n<p>Button:</p>\n<pre><code>&lt;ToolBar prefHeight=&quot;40.0&quot; prefWidth=&quot;200.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;25.0&quot;&gt;\n    &lt;Button fx:id=&quot;toolbarHandleOpen&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handle_open&quot;&gt;\n     &lt;graphic&gt;\n        &lt;ImageView fx:id=&quot;openImageview&quot; fitHeight=&quot;23.0&quot; fitWidth=&quot;23.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; /&gt;\n     &lt;/graphic&gt;\n    &lt;/Button&gt;\n&lt;/ToolBar&gt;\n</code></pre>\n"},{"tags":["java","spring","tomcat8","tomcat-jdbc"],"comments":[{"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"score":1,"creation_date":1548775365,"post_id":54423875,"comment_id":95658741,"body_markdown":"From https://github.com/brettwooldridge/HikariCP/wiki/%22My-benchmark-doesn&#39;t-show-a-difference.%22 : &quot;Rollback-on-return\nWithout rollback-on-return capability, a pool will allow transactions to &quot;leak&quot; across threads, potentially causing inconsistent DB state and nearly impossible to locate bugs. DBCP2 enables it by default. Tomcat can optionally enable it.\n\n⚠️ Unfortunately, neither tracks transaction state, and therefore unconditionally rollback, which generates megabytes of performance killing unnecessary traffic to the database when enabled.&quot;","body":"From <a href=\"https://github.com/brettwooldridge/HikariCP/wiki/%22My-benchmark-doesn&#39;t-show-a-difference.%22\" rel=\"nofollow noreferrer\">github.com/brettwooldridge/HikariCP/wiki/&hellip;</a> : &quot;Rollback-on-return Without rollback-on-return capability, a pool will allow transactions to &quot;leak&quot; across threads, potentially causing inconsistent DB state and nearly impossible to locate bugs. DBCP2 enables it by default. Tomcat can optionally enable it.  ⚠️ Unfortunately, neither tracks transaction state, and therefore unconditionally rollback, which generates megabytes of performance killing unnecessary traffic to the database when enabled.&quot;"},{"owner":{"account_id":9658003,"reputation":302,"user_id":7166978,"accept_rate":83,"display_name":"Mohicane"},"score":0,"creation_date":1549012406,"post_id":54423875,"comment_id":95759626,"body_markdown":"@BorisPavlović Ok but why the connection is never return to the pool? No matter the property is true or false, if there is no return of the connection, is this not a problem?","body":"@BorisPavlović Ok but why the connection is never return to the pool? No matter the property is true or false, if there is no return of the connection, is this not a problem?"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":1,"creation_date":1549984193,"post_id":54423875,"comment_id":96097763,"body_markdown":"It&#39;s not really clear how you&#39;re managing transactions.  You get one, which starts a txn, but don&#39;t commit or rollback.  Spring&#39;s docs https://docs.spring.io/spring/docs/4.2.x/spring-framework-reference/html/transaction.html are useful, and the section on programmatic txn mgmt may help https://docs.spring.io/spring/docs/4.2.x/spring-framework-reference/html/transaction.html#transaction-programmatic","body":"It&#39;s not really clear how you&#39;re managing transactions.  You get one, which starts a txn, but don&#39;t commit or rollback.  Spring&#39;s docs <a href=\"https://docs.spring.io/spring/docs/4.2.x/spring-framework-reference/html/transaction.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/4.2.x/spring-framework-reference/&zwnj;&#8203;&hellip;</a> are useful, and the section on programmatic txn mgmt may help <a href=\"https://docs.spring.io/spring/docs/4.2.x/spring-framework-reference/html/transaction.html#transaction-programmatic\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/4.2.x/spring-framework-reference/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":9658003,"reputation":302,"user_id":7166978,"accept_rate":83,"display_name":"Mohicane"},"score":0,"creation_date":1549987839,"post_id":54423875,"comment_id":96100131,"body_markdown":"Yes it&#39;s the use case. We start transaction programmatically and &quot;forget&quot; to commit/rollback the transaction (I add a comment). Then Production department want to know if there is a way to detect this &quot;open&quot; transaction and rollback it.\nI&#39;ve already read these documentations thanks.","body":"Yes it&#39;s the use case. We start transaction programmatically and &quot;forget&quot; to commit/rollback the transaction (I add a comment). Then Production department want to know if there is a way to detect this &quot;open&quot; transaction and rollback it. I&#39;ve already read these documentations thanks."}],"owner":{"account_id":9658003,"reputation":302,"user_id":7166978,"accept_rate":83,"display_name":"Mohicane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1643146265,"creation_date":1548774079,"question_id":54423875,"body_markdown":"I&#39;m working on an web application based on spring (spring-boot 1.5.13.RELEASE) connect to a MySQL 8 database. We choose to work with tomcat jdbc pool (the default pool for spring-boot). Production department ask us to work on a solution to avoid incomplete transaction using `rollback-on-return` property (we&#39;ve set `auto-commit=false` too).\r\n\r\nWe can&#39;t just use annotation oriented transaction. We have to manage some of them programmatically. So we thought that the use of `rollback-on-return` will avoid &quot;pending&quot; transaction. Unfortunately, during test phase, we discover that if a request create a &quot;pending&quot; transaction, the end of the request is not going with the return of the connection. And thus, there is no rollback!\r\n\r\nI already test if the connection is closed on a normal case, and so it is.\r\n\r\nHere is my example code:\r\n\r\n    public CommandLineRunner commandLineRunner(CustomerManager customerManager, EngineManager engineManager, DataSource dataSource) {\r\n        return (String... args) -&gt; {\r\n            log.info(&quot;Start commandLineRunner&quot; + engineManager.getTransactionPartEngineInnodbStatus());\r\n\r\n            Thread t = new Thread(() -&gt; {\r\n                try {\r\n                    customerManager.processII_notcomplete();\r\n                } catch (Exception e) {\r\n                    System.err.println(e.getMessage());\r\n                }\r\n            });\r\n    \r\n            t.start();\r\n            t.join();\r\n\r\n            log.info(&quot;End commandLineRunner&quot; + engineManager.getTransactionPartEngineInnodbStatus());\r\n        };\r\n    }\r\n\r\n    public void processII_notcomplete() {\r\n        TransactionStatus status = transactionManager.getTransaction(new DefaultTransactionDefinition(TransactionDefinition.PROPAGATION_REQUIRED));\r\n\r\n        log.info(&quot;processII [START]&quot;);\r\n\r\n        Customer customer = customerRepository.findOne(1L);\r\n        customer.lastName = &quot;De &quot; + customer.lastName;\r\n        customerRepository.save(customer);\r\n        log.info(&quot;processII: customerRepository.save(customer)&quot; + engineManager.getTransactionPartEngineInnodbStatus() + &quot;\\n&quot;);\r\n\r\n        // Intentionally don&#39;t commit the transaction to create the use case\r\n\r\n        log.info(&quot;processII [END]&quot;);\r\n    }\r\n\r\nI&#39;ve found a JdbcInterceptor to log the borrow and the return of the connection:\r\n\r\n```\r\npublic class JDBCLogInterceptor extends JdbcInterceptor {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(JDBCLogInterceptor.class);\r\n\r\n    @Override\r\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n        if (log.isDebugEnabled()) {\r\n            String name = method.getName();\r\n            if (CLOSE_VAL.equals(name)) {\r\n                log.debug(String.format(&quot;Returning Connection to Pool [%s]&quot;, proxy));\r\n            }\r\n        }\r\n        return super.invoke(proxy, method, args);\r\n    }\r\n\r\n    @Override\r\n    public void reset(ConnectionPool connPool, PooledConnection conn) {\r\n        if (connPool != null &amp;&amp; conn != null) {\r\n            if (log.isDebugEnabled()) {\r\n                log.debug(String.format(&quot;Getting Connection [%s], Pool active=[%s], idle=[%s]&quot;, conn.toString(),\r\n                        connPool.getActive(), connPool.getIdle()));\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void disconnected(ConnectionPool connPool, PooledConnection conn, boolean finalizing) {\r\n        if (connPool != null &amp;&amp; conn != null) {\r\n            if (log.isDebugEnabled()) {\r\n                log.debug(String.format(&quot;Closing Connection [%s], Pool active=[%s], idle=[%s]&quot;, conn.toString(),\r\n                        connPool.getActive(), connPool.getIdle()));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd here is the pertinent log part:\r\n```\r\nERROR 2019/01/29 16:28:13.975 - no-request --- mova.jpatest.JPATestConfig               - Start commandLineRunner\r\n------------\r\nTRANSACTIONS\r\n------------\r\nTrx id counter 269691\r\nPurge done for trx&#39;s n:o &lt; 269691 undo n:o &lt; 0 state: running but idle\r\nHistory list length 7\r\nLIST OF TRANSACTIONS FOR EACH SESSION:\r\n---TRANSACTION 283703119152960, not started\r\n0 lock struct(s), heap size 1136, 0 row lock(s) - [no-one]\r\nDEBUG 2019/01/29 16:28:13.985 - no-request --- mova.jpatest.jdbc.JDBCLogInterceptor     - Getting Connection [PooledConnection[com.p6spy.engine.wrapper.ConnectionWrapper@63bf9fce]], Pool active=[1], idle=[9] - [no-one]\r\n INFO 2019/01/29 16:28:13.989 - no-request --- mova.jpatest.manager.CustomerManager     - processII [START] - [no-one]\r\n INFO 2019/01/29 16:28:13.995 - no-request --- p6spy                                    - statement --- select customer0_.id as id1_0_0_, customer0_.first_name as first_na2_0_0_, customer0_.last_name as last_nam3_0_0_ from customer customer0_ where customer0_.id=? - select customer0_.id as id1_0_0_, customer0_.first_name as first_na2_0_0_, customer0_.last_name as last_nam3_0_0_ from customer customer0_ where customer0_.id=1 - 01-29-19 16:28:13:995-2 [connection 8] - [no-one]\r\n INFO 2019/01/29 16:28:14.029 - no-request --- p6spy                                    - statement --- update customer set first_name=?, last_name=? where id=? - update customer set first_name=&#39;Jack&#39;, last_name=&#39;De De De De De De De Bauer&#39; where id=1 - 01-29-19 16:28:14:29-0 [connection 8] - [no-one]\r\n INFO 2019/01/29 16:28:14.039 - no-request --- p6spy                                    - statement --- show engine innodb status; - show engine innodb status; - 01-29-19 16:28:14:39-6 [connection 8] - [no-one]\r\n INFO 2019/01/29 16:28:14.039 - no-request --- mova.jpatest.manager.CustomerManager     - processII: customerRepository.save(customer)\r\n------------\r\nTRANSACTIONS\r\n------------\r\nTrx id counter 269692\r\nPurge done for trx&#39;s n:o &lt; 269691 undo n:o &lt; 0 state: running but idle\r\nHistory list length 7\r\nLIST OF TRANSACTIONS FOR EACH SESSION:\r\n---TRANSACTION 269691, ACTIVE 0 sec\r\n2 lock struct(s), heap size 1136, 1 row lock(s), undo log entries 1\r\nMySQL thread id 624, OS thread handle 20236, query id 47274 localhost 127.0.0.1 mohicane starting\r\nshow engine innodb status\r\nTrx read view will not see trx with id &gt;= 269691, sees &lt; 269691\r\n - [no-one]\r\n INFO 2019/01/29 16:28:14.039 - no-request --- mova.jpatest.manager.CustomerManager     - processII [END] - [no-one]\r\nDEBUG 2019/01/29 16:28:14.039 - no-request --- mova.jpatest.jdbc.JDBCLogInterceptor     - Getting Connection [PooledConnection[com.p6spy.engine.wrapper.ConnectionWrapper@3d646e1a]], Pool active=[2], idle=[8] - [no-one]\r\n INFO 2019/01/29 16:28:14.045 - no-request --- p6spy                                    - statement --- show engine innodb status; - show engine innodb status; - 01-29-19 16:28:14:45-2 [connection 9] - [no-one]\r\nDEBUG 2019/01/29 16:28:14.045 - no-request --- mova.jpatest.jdbc.JDBCLogInterceptor     - Returning Connection to Pool [ProxyConnection[PooledConnection[com.p6spy.engine.wrapper.ConnectionWrapper@3d646e1a]]] - [no-one]\r\nERROR 2019/01/29 16:28:14.045 - no-request --- mova.jpatest.JPATestConfig               - End commandLineRunner\r\n------------\r\nTRANSACTIONS\r\n------------\r\nTrx id counter 269692\r\nPurge done for trx&#39;s n:o &lt; 269691 undo n:o &lt; 0 state: running but idle\r\nHistory list length 7\r\nLIST OF TRANSACTIONS FOR EACH SESSION:\r\n---TRANSACTION 283703119153840, not started\r\n0 lock struct(s), heap size 1136, 0 row lock(s)\r\n---TRANSACTION 269691, ACTIVE 0 sec\r\n2 lock struct(s), heap size 1136, 1 row lock(s), undo log entries 1\r\nMySQL thread id 624, OS thread handle 20236, query id 47274 localhost 127.0.0.1 mohicane\r\nTrx read view will not see trx with id &gt;= 269691, sees &lt; 269691 - [no-one]\r\n```\r\n\r\n**My questions are:**\r\n\r\n - Is there a way to make sure that pending transaction always be complete like we&#39;ve expected with rollback-on-return?\r\n - Can we detect and return &quot;unreturned&quot; connection in this case?\r\n - It seems strange that such property exists and not managed in this case? Why would we use a rollback after a transaction we&#39;ve already commit or rollback? Is there something I don&#39;t understand (sure it is :p ) ?\r\n\r\n***NB:*** Plese don&#39;t mind the ERROR log level, I&#39;m a little color blind.\r\n\r\n**Edit:**\r\nI try through an interceptor to detect current active Transaction using `TransactionSynchronizationManager.isActualTransactionActive()`. This way, I find the unfinished ones, but when I try to get it with `TransactionAspectSupport.currentTransactionStatus()` it return me `null`??? Can&#39;t understand...\r\n\r\n**Simplification**\r\n\r\nIs there a way to detect and rollback a forgotten programmatic transaction (as shown in the code below)?","title":"How to detect and rollback a forgotten programatic transaction","body":"<p>I'm working on an web application based on spring (spring-boot 1.5.13.RELEASE) connect to a MySQL 8 database. We choose to work with tomcat jdbc pool (the default pool for spring-boot). Production department ask us to work on a solution to avoid incomplete transaction using <code>rollback-on-return</code> property (we've set <code>auto-commit=false</code> too).</p>\n<p>We can't just use annotation oriented transaction. We have to manage some of them programmatically. So we thought that the use of <code>rollback-on-return</code> will avoid &quot;pending&quot; transaction. Unfortunately, during test phase, we discover that if a request create a &quot;pending&quot; transaction, the end of the request is not going with the return of the connection. And thus, there is no rollback!</p>\n<p>I already test if the connection is closed on a normal case, and so it is.</p>\n<p>Here is my example code:</p>\n<pre><code>public CommandLineRunner commandLineRunner(CustomerManager customerManager, EngineManager engineManager, DataSource dataSource) {\n    return (String... args) -&gt; {\n        log.info(&quot;Start commandLineRunner&quot; + engineManager.getTransactionPartEngineInnodbStatus());\n\n        Thread t = new Thread(() -&gt; {\n            try {\n                customerManager.processII_notcomplete();\n            } catch (Exception e) {\n                System.err.println(e.getMessage());\n            }\n        });\n\n        t.start();\n        t.join();\n\n        log.info(&quot;End commandLineRunner&quot; + engineManager.getTransactionPartEngineInnodbStatus());\n    };\n}\n\npublic void processII_notcomplete() {\n    TransactionStatus status = transactionManager.getTransaction(new DefaultTransactionDefinition(TransactionDefinition.PROPAGATION_REQUIRED));\n\n    log.info(&quot;processII [START]&quot;);\n\n    Customer customer = customerRepository.findOne(1L);\n    customer.lastName = &quot;De &quot; + customer.lastName;\n    customerRepository.save(customer);\n    log.info(&quot;processII: customerRepository.save(customer)&quot; + engineManager.getTransactionPartEngineInnodbStatus() + &quot;\\n&quot;);\n\n    // Intentionally don't commit the transaction to create the use case\n\n    log.info(&quot;processII [END]&quot;);\n}\n</code></pre>\n<p>I've found a JdbcInterceptor to log the borrow and the return of the connection:</p>\n<pre><code>public class JDBCLogInterceptor extends JdbcInterceptor {\n\n    private static final Logger log = LoggerFactory.getLogger(JDBCLogInterceptor.class);\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        if (log.isDebugEnabled()) {\n            String name = method.getName();\n            if (CLOSE_VAL.equals(name)) {\n                log.debug(String.format(&quot;Returning Connection to Pool [%s]&quot;, proxy));\n            }\n        }\n        return super.invoke(proxy, method, args);\n    }\n\n    @Override\n    public void reset(ConnectionPool connPool, PooledConnection conn) {\n        if (connPool != null &amp;&amp; conn != null) {\n            if (log.isDebugEnabled()) {\n                log.debug(String.format(&quot;Getting Connection [%s], Pool active=[%s], idle=[%s]&quot;, conn.toString(),\n                        connPool.getActive(), connPool.getIdle()));\n            }\n        }\n    }\n\n    @Override\n    public void disconnected(ConnectionPool connPool, PooledConnection conn, boolean finalizing) {\n        if (connPool != null &amp;&amp; conn != null) {\n            if (log.isDebugEnabled()) {\n                log.debug(String.format(&quot;Closing Connection [%s], Pool active=[%s], idle=[%s]&quot;, conn.toString(),\n                        connPool.getActive(), connPool.getIdle()));\n            }\n        }\n    }\n}\n</code></pre>\n<p>And here is the pertinent log part:</p>\n<pre><code>ERROR 2019/01/29 16:28:13.975 - no-request --- mova.jpatest.JPATestConfig               - Start commandLineRunner\n------------\nTRANSACTIONS\n------------\nTrx id counter 269691\nPurge done for trx's n:o &lt; 269691 undo n:o &lt; 0 state: running but idle\nHistory list length 7\nLIST OF TRANSACTIONS FOR EACH SESSION:\n---TRANSACTION 283703119152960, not started\n0 lock struct(s), heap size 1136, 0 row lock(s) - [no-one]\nDEBUG 2019/01/29 16:28:13.985 - no-request --- mova.jpatest.jdbc.JDBCLogInterceptor     - Getting Connection [PooledConnection[com.p6spy.engine.wrapper.ConnectionWrapper@63bf9fce]], Pool active=[1], idle=[9] - [no-one]\n INFO 2019/01/29 16:28:13.989 - no-request --- mova.jpatest.manager.CustomerManager     - processII [START] - [no-one]\n INFO 2019/01/29 16:28:13.995 - no-request --- p6spy                                    - statement --- select customer0_.id as id1_0_0_, customer0_.first_name as first_na2_0_0_, customer0_.last_name as last_nam3_0_0_ from customer customer0_ where customer0_.id=? - select customer0_.id as id1_0_0_, customer0_.first_name as first_na2_0_0_, customer0_.last_name as last_nam3_0_0_ from customer customer0_ where customer0_.id=1 - 01-29-19 16:28:13:995-2 [connection 8] - [no-one]\n INFO 2019/01/29 16:28:14.029 - no-request --- p6spy                                    - statement --- update customer set first_name=?, last_name=? where id=? - update customer set first_name='Jack', last_name='De De De De De De De Bauer' where id=1 - 01-29-19 16:28:14:29-0 [connection 8] - [no-one]\n INFO 2019/01/29 16:28:14.039 - no-request --- p6spy                                    - statement --- show engine innodb status; - show engine innodb status; - 01-29-19 16:28:14:39-6 [connection 8] - [no-one]\n INFO 2019/01/29 16:28:14.039 - no-request --- mova.jpatest.manager.CustomerManager     - processII: customerRepository.save(customer)\n------------\nTRANSACTIONS\n------------\nTrx id counter 269692\nPurge done for trx's n:o &lt; 269691 undo n:o &lt; 0 state: running but idle\nHistory list length 7\nLIST OF TRANSACTIONS FOR EACH SESSION:\n---TRANSACTION 269691, ACTIVE 0 sec\n2 lock struct(s), heap size 1136, 1 row lock(s), undo log entries 1\nMySQL thread id 624, OS thread handle 20236, query id 47274 localhost 127.0.0.1 mohicane starting\nshow engine innodb status\nTrx read view will not see trx with id &gt;= 269691, sees &lt; 269691\n - [no-one]\n INFO 2019/01/29 16:28:14.039 - no-request --- mova.jpatest.manager.CustomerManager     - processII [END] - [no-one]\nDEBUG 2019/01/29 16:28:14.039 - no-request --- mova.jpatest.jdbc.JDBCLogInterceptor     - Getting Connection [PooledConnection[com.p6spy.engine.wrapper.ConnectionWrapper@3d646e1a]], Pool active=[2], idle=[8] - [no-one]\n INFO 2019/01/29 16:28:14.045 - no-request --- p6spy                                    - statement --- show engine innodb status; - show engine innodb status; - 01-29-19 16:28:14:45-2 [connection 9] - [no-one]\nDEBUG 2019/01/29 16:28:14.045 - no-request --- mova.jpatest.jdbc.JDBCLogInterceptor     - Returning Connection to Pool [ProxyConnection[PooledConnection[com.p6spy.engine.wrapper.ConnectionWrapper@3d646e1a]]] - [no-one]\nERROR 2019/01/29 16:28:14.045 - no-request --- mova.jpatest.JPATestConfig               - End commandLineRunner\n------------\nTRANSACTIONS\n------------\nTrx id counter 269692\nPurge done for trx's n:o &lt; 269691 undo n:o &lt; 0 state: running but idle\nHistory list length 7\nLIST OF TRANSACTIONS FOR EACH SESSION:\n---TRANSACTION 283703119153840, not started\n0 lock struct(s), heap size 1136, 0 row lock(s)\n---TRANSACTION 269691, ACTIVE 0 sec\n2 lock struct(s), heap size 1136, 1 row lock(s), undo log entries 1\nMySQL thread id 624, OS thread handle 20236, query id 47274 localhost 127.0.0.1 mohicane\nTrx read view will not see trx with id &gt;= 269691, sees &lt; 269691 - [no-one]\n</code></pre>\n<p><strong>My questions are:</strong></p>\n<ul>\n<li>Is there a way to make sure that pending transaction always be complete like we've expected with rollback-on-return?</li>\n<li>Can we detect and return &quot;unreturned&quot; connection in this case?</li>\n<li>It seems strange that such property exists and not managed in this case? Why would we use a rollback after a transaction we've already commit or rollback? Is there something I don't understand (sure it is :p ) ?</li>\n</ul>\n<p><em><strong>NB:</strong></em> Plese don't mind the ERROR log level, I'm a little color blind.</p>\n<p><strong>Edit:</strong>\nI try through an interceptor to detect current active Transaction using <code>TransactionSynchronizationManager.isActualTransactionActive()</code>. This way, I find the unfinished ones, but when I try to get it with <code>TransactionAspectSupport.currentTransactionStatus()</code> it return me <code>null</code>??? Can't understand...</p>\n<p><strong>Simplification</strong></p>\n<p>Is there a way to detect and rollback a forgotten programmatic transaction (as shown in the code below)?</p>\n"},{"tags":["java","string","junit","long-integer"],"comments":[{"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"score":2,"creation_date":1584132247,"post_id":60676977,"comment_id":107352983,"body_markdown":"Well what is the exception........","body":"Well what is the exception........"},{"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"score":2,"creation_date":1584132260,"post_id":60676977,"comment_id":107352989,"body_markdown":"Those usually give you a decent hint at what&#39;s going wrong","body":"Those usually give you a decent hint at what&#39;s going wrong"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1584132330,"post_id":60676977,"comment_id":107353015,"body_markdown":"Can you post your code as formatted text, not as a screenshot?","body":"Can you post your code as formatted text, not as a screenshot?"},{"owner":{"account_id":17025331,"reputation":177,"user_id":12316756,"display_name":"Namagiri Sridhar"},"score":0,"creation_date":1584151033,"post_id":60676977,"comment_id":107356787,"body_markdown":"@RobOhRob java.lang.ClassCastException: java.lang.Long cannot be cast to java.lang.String","body":"@RobOhRob java.lang.ClassCastException: java.lang.Long cannot be cast to java.lang.String"},{"owner":{"account_id":17025331,"reputation":177,"user_id":12316756,"display_name":"Namagiri Sridhar"},"score":0,"creation_date":1584151268,"post_id":60676977,"comment_id":107356827,"body_markdown":"@andrewjames Please see the code added","body":"@andrewjames Please see the code added"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1584209028,"post_id":60676977,"comment_id":107368659,"body_markdown":"I recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDate`, `ZoneId`, `ZonedDateTime` and `Instant`, all from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDate</code>, <code>ZoneId</code>, <code>ZonedDateTime</code> and <code>Instant</code>, all from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":14766084,"reputation":495,"user_id":10664080,"display_name":"Sergej Masljukow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584134268,"creation_date":1584132595,"answer_id":60677100,"question_id":60676977,"body_markdown":"Look at this: https://www.unixtimestamp.com/index.php\r\n\r\nYour value 1580709600000 seems to be a timestamp in milliseconds. And if you take this part 1580709600 (seconds) and convert it over the link above to readable date-time you will get \r\n02/03/2020 @ 6:00am (UTC).\r\n\r\nthis timestamp can be converted to Date:\r\n\r\n    Date date = Date.from(Instant.ofEpochMilli(1580709600000L));\r\n\r\n","title":"unable to convert to string to long(timestamp) or long to string","body":"<p>Look at this: <a href=\"https://www.unixtimestamp.com/index.php\" rel=\"nofollow noreferrer\">https://www.unixtimestamp.com/index.php</a></p>\n\n<p>Your value 1580709600000 seems to be a timestamp in milliseconds. And if you take this part 1580709600 (seconds) and convert it over the link above to readable date-time you will get \n02/03/2020 @ 6:00am (UTC).</p>\n\n<p>this timestamp can be converted to Date:</p>\n\n<pre><code>Date date = Date.from(Instant.ofEpochMilli(1580709600000L));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17970177,"reputation":21,"user_id":13059153,"display_name":"Francesc Riart Pola"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643146082,"creation_date":1584135839,"answer_id":60677590,"question_id":60676977,"body_markdown":"You can input the long value onto an object date as a long, then you can use SimpleDateFormat to apply the pattern you wish see code below:\r\n\r\n    Date date = new Date(Long.valueOf(entry.getValue().trim()));\r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    String formatedDate = format.format(date);\r\n","title":"unable to convert to string to long(timestamp) or long to string","body":"<p>You can input the long value onto an object date as a long, then you can use SimpleDateFormat to apply the pattern you wish see code below:</p>\n<pre><code>Date date = new Date(Long.valueOf(entry.getValue().trim()));\nSimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\nString formatedDate = format.format(date);\n</code></pre>\n"}],"owner":{"account_id":17025331,"reputation":177,"user_id":12316756,"display_name":"Namagiri Sridhar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1584209348,"answer_count":2,"score":0,"last_activity_date":1643146082,"creation_date":1584131841,"question_id":60676977,"body_markdown":"Bigger picture is I am writing a junit test that uses h2 database. I need to compare the values returned by the endpoint and do assertequals. The values in the response body is linked hash map. Keys are all strings. Values  could be date or integer or strings or null.   \r\n\r\nI have stored the expected values in a string array. I loop through the values in the linked hash map and check if it is null or integer or date and then handle appropriately. Date value 2020-02-03 got converted to Long 1580709600000. I believe date somehow converted to timestamp. I am not able to convert it back to date . or the expected value back to timestamp. I am getting exception in both cases. How to fix this? Thanks for your time.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jrqa1.jpg\r\n\r\n    \tString values = &quot;205,2020-02-03,Commodi&quot;;\r\n    \r\n    \t\tResponseEntity&lt;String&gt; response = testRestTemplate.getForEntity(ResourceUrl, String.class);\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tList&lt;Map&lt;String, String&gt;&gt; list = objectMapper.readValue(response.getBody(), List.class);\r\n    \r\n    \t\tIterator&lt;Map.Entry&lt;String, String&gt;&gt; it = list.get(0).entrySet().iterator();\r\n    \r\n    \t\tString expected_values[] = values.split(&quot;,&quot;, -1);\r\n    \t\tint i = 0;\r\n    \t\t\r\n    \t\twhile (it.hasNext()) {\r\n    \t\t\tMap.Entry&lt;String, String&gt; entry = it.next();\r\n    \r\n    \t\t\tif (expected_values[i].isEmpty())\r\n    \t\t\t\tassertEquals(String.valueOf(&quot;null&quot;), String.valueOf(entry.getValue()));\r\n    \t\t\telse if (isInteger(expected_values[i],10))\r\n    \t\t\t{\r\n    \t\t\t\tassertEquals(Integer.valueOf(expected_values[i]), entry.getValue());\r\n    \t\t\t}\r\n    \t\t\telse if(isValidDate(expected_values[i]))\r\n    \t\t\t{\r\n    \t\t\t\t//long timestamp = Long.valueOf(expected_values[i].trim());\r\n    \t\t\t\t//Long timestamp = Long.valueOf(entry.getValue().trim());\r\n    //                Timestamp ts=new Timestamp(entry.getValue());  \r\n    //                SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;); \r\n    \t\t\t\tDate date = new Date(Long.valueOf(entry.getValue().trim()));\r\n    \t\t\t\tSimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    \t\t\t\tString formatedDate = format.format(date);\r\n    //                assertEquals(formatter.format(ts), entry.getValue());\r\n    \t\t\t\t//Date date = Date.from(Instant.ofEpochMilli(Long.valueOf(entry.getValue().trim())));\r\n    \r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tassertEquals(expected_values[i], entry.getValue());\r\n    \t\t\t}\r\n    \t\t\ti++;\r\n    \t\t}\r\n\r\n","title":"unable to convert to string to long(timestamp) or long to string","body":"<p>Bigger picture is I am writing a junit test that uses h2 database. I need to compare the values returned by the endpoint and do assertequals. The values in the response body is linked hash map. Keys are all strings. Values  could be date or integer or strings or null.   </p>\n\n<p>I have stored the expected values in a string array. I loop through the values in the linked hash map and check if it is null or integer or date and then handle appropriately. Date value 2020-02-03 got converted to Long 1580709600000. I believe date somehow converted to timestamp. I am not able to convert it back to date . or the expected value back to timestamp. I am getting exception in both cases. How to fix this? Thanks for your time.<a href=\"https://i.stack.imgur.com/Jrqa1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jrqa1.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>    String values = \"205,2020-02-03,Commodi\";\n\n        ResponseEntity&lt;String&gt; response = testRestTemplate.getForEntity(ResourceUrl, String.class);\n        @SuppressWarnings(\"unchecked\")\n        List&lt;Map&lt;String, String&gt;&gt; list = objectMapper.readValue(response.getBody(), List.class);\n\n        Iterator&lt;Map.Entry&lt;String, String&gt;&gt; it = list.get(0).entrySet().iterator();\n\n        String expected_values[] = values.split(\",\", -1);\n        int i = 0;\n\n        while (it.hasNext()) {\n            Map.Entry&lt;String, String&gt; entry = it.next();\n\n            if (expected_values[i].isEmpty())\n                assertEquals(String.valueOf(\"null\"), String.valueOf(entry.getValue()));\n            else if (isInteger(expected_values[i],10))\n            {\n                assertEquals(Integer.valueOf(expected_values[i]), entry.getValue());\n            }\n            else if(isValidDate(expected_values[i]))\n            {\n                //long timestamp = Long.valueOf(expected_values[i].trim());\n                //Long timestamp = Long.valueOf(entry.getValue().trim());\n//                Timestamp ts=new Timestamp(entry.getValue());  \n//                SimpleDateFormat formatter = new SimpleDateFormat(\"yyyy-MM-dd\"); \n                Date date = new Date(Long.valueOf(entry.getValue().trim()));\n                SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd\");\n                String formatedDate = format.format(date);\n//                assertEquals(formatter.format(ts), entry.getValue());\n                //Date date = Date.from(Instant.ofEpochMilli(Long.valueOf(entry.getValue().trim())));\n\n            }\n            else\n            {\n                assertEquals(expected_values[i], entry.getValue());\n            }\n            i++;\n        }\n</code></pre>\n"},{"tags":["java","fibonacci"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1643134952,"post_id":70853630,"comment_id":125257946,"body_markdown":"What do you want to complete? All methods already return the the same result for identical inputs. (but none of your methods is called by your program)","body":"What do you want to complete? All methods already return the the same result for identical inputs. (but none of your methods is called by your program)"},{"owner":{"display_name":"user18030732"},"score":0,"creation_date":1643135040,"post_id":70853630,"comment_id":125257985,"body_markdown":"I just want to Extend the recursive methods fibHr and fibTr so that they count how often they are called. I don&#39;t know how could I do it","body":"I just want to Extend the recursive methods fibHr and fibTr so that they count how often they are called. I don&#39;t know how could I do it"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1643135163,"post_id":70853630,"comment_id":125258024,"body_markdown":"Ah, I missed that part. Depends on what your state is and when you want to reset your counters. You could create a `private static long` field to your class and increment it from your methods. Or wrap each method in a class with state (= the counter)","body":"Ah, I missed that part. Depends on what your state is and when you want to reset your counters. You could create a <code>private static long</code> field to your class and increment it from your methods. Or wrap each method in a class with state (= the counter)"},{"owner":{"display_name":"user18030732"},"score":0,"creation_date":1643135231,"post_id":70853630,"comment_id":125258055,"body_markdown":"Could u maybe help to me how does it work? wrap each method in a class with state (= the counter). I&#39;m pretty much in beginner in this topics","body":"Could u maybe help to me how does it work? wrap each method in a class with state (= the counter). I&#39;m pretty much in beginner in this topics"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1643143232,"post_id":70853630,"comment_id":125260917,"body_markdown":"Java may not do what you want regarding `tail recursion`.  See [Does java support and optimize away tail recursive calls](https://stackoverflow.com/questions/20826786/does-java-support-and-optimize-away-tail-recursive-calls)","body":"Java may not do what you want regarding <code>tail recursion</code>.  See <a href=\"https://stackoverflow.com/questions/20826786/does-java-support-and-optimize-away-tail-recursive-calls\">Does java support and optimize away tail recursive calls</a>"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643145999,"creation_date":1643135662,"answer_id":70853907,"question_id":70853630,"body_markdown":"You can convert each method to an instance method of a class which then holds the counter in a private field, with a getter to expose the value.\r\n\r\n```java\r\npublic class HeadRecursion {\r\n  private long counter = 0;\r\n  public int fib(int n) {\r\n    ++counter;\r\n    switch (n) {\r\n        case 0:\r\n            return 0;\r\n        case 1:\r\n            return 1;\r\n        default:\r\n            return fibHr(n - 1) + fibHr(n - 2);\r\n    }\r\n  }\r\n  public long getCounter() { return count; }\r\n}\r\n```\r\n\r\nThen you can instantiate your class, run your function and then get and output the counter:\r\n\r\n```java\r\npublic static void main() {\r\n  final var obj = new HeadRecursion();\r\n  final var number = obj.fib(10);\r\n  System.out.println(number);\r\n  System.out.println(obj.getCounter());\r\n}\r\n```\r\n\r\nNote that the `counter` must be a field declared in the class and _not_ a local variable defined inside the method due to at least two reasons:\r\n\r\n* A local variable is not visible nor accessible outside its scope, i.e. the enclosing function\r\n* Every time the function is called, the variable would be re-initialized. Each recursive call would start with the original value of the variable again.","title":"Fibonacci with 3 different recursion methods","body":"<p>You can convert each method to an instance method of a class which then holds the counter in a private field, with a getter to expose the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HeadRecursion {\n  private long counter = 0;\n  public int fib(int n) {\n    ++counter;\n    switch (n) {\n        case 0:\n            return 0;\n        case 1:\n            return 1;\n        default:\n            return fibHr(n - 1) + fibHr(n - 2);\n    }\n  }\n  public long getCounter() { return count; }\n}\n</code></pre>\n<p>Then you can instantiate your class, run your function and then get and output the counter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main() {\n  final var obj = new HeadRecursion();\n  final var number = obj.fib(10);\n  System.out.println(number);\n  System.out.println(obj.getCounter());\n}\n</code></pre>\n<p>Note that the <code>counter</code> must be a field declared in the class and <em>not</em> a local variable defined inside the method due to at least two reasons:</p>\n<ul>\n<li>A local variable is not visible nor accessible outside its scope, i.e. the enclosing function</li>\n<li>Every time the function is called, the variable would be re-initialized. Each recursive call would start with the original value of the variable again.</li>\n</ul>\n"}],"owner":{"display_name":"user18030732"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70853907,"answer_count":1,"score":0,"last_activity_date":1643145999,"creation_date":1643134234,"question_id":70853630,"body_markdown":"I&#39;m trying to understand recursion with Java better and I&#39;m doing a program which ist using iteration, head and tail recursion.It should count how many times does the different methods called. What should I add to the head and to the tail part to complete the program? Thank you in advance\r\n\r\n```\r\npublic class Recursion {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Test fibonacci: 0 = 0&quot;);\r\n        System.out.println(&quot;iterativ: &quot; + fibIt(0));\r\n        System.out.println(&quot;head: &quot; + fibHr(0));\r\n        System.out.println(&quot;tail: &quot; + fibTr(0));\r\n\r\n        System.out.println(&quot;\\nTest fibonacci: 5 = 5&quot;);\r\n        System.out.println(&quot;iterativ: &quot; + fibIt(5));\r\n        System.out.println(&quot;head: &quot; + fibHr(5));\r\n        System.out.println(&quot;tail: &quot; + fibTr(5));\r\n\r\n        System.out.println(&quot;\\nTest fibonacci: 10 = 55&quot;);\r\n        System.out.println(&quot;iterativ: &quot; + fibIt(10));\r\n        System.out.println(&quot;head: &quot; + fibHr(10));\r\n        System.out.println(&quot;tail: &quot; + fibTr(10));\r\n    }\r\n\r\n    private static int fibIt(int n) {\r\n        switch (n) {\r\n            case 0:\r\n                return 0;\r\n            case 1:\r\n                return 1;\r\n        }\r\n\r\n        int a = 0;\r\n        int b = 1;\r\n\r\n        for (int i = 2; i &lt;= n; i++) {\r\n            b = a + b;\r\n            a = b - a;\r\n        }\r\n\r\n        return b;\r\n    }\r\n\r\n    private static int fibHr(int n) {\r\n        int counter = 0;\r\n        switch (n) {\r\n            case 0:\r\n\t\t\t\tcounter +=1;\r\n                return 0; \r\n            case 1:\r\n\t\t\t    counter += 1;\r\n                return 1;\r\n            default:\r\n\t\t\t    counter = counter +1;\r\n                return fibHr(n - 1) + fibHr(n - 2) ;\t\r\n        }\r\n    }\r\n\r\n    private static int fibTr(int n) {\r\n        return fibTr(0, 1, n);\r\n    }\r\n\r\n    private static int fibTr(int a, int b, int n) {\r\n        switch (n) {\r\n            case 0:\r\n                return a;\r\n            case 1:\r\n                return b;\r\n            default:\r\n                return fibTr(b, a + b, n - 1);\r\n        }\r\n    }    \r\n}\r\n```\r\n\r\nHow can I get the counter value in the head recursion? I have tried everything to print it out but I have no clue how does it work. I would like to count the number of returns I have tried System.out.print but I simply got a huge number of 1-s. ","title":"Fibonacci with 3 different recursion methods","body":"<p>I'm trying to understand recursion with Java better and I'm doing a program which ist using iteration, head and tail recursion.It should count how many times does the different methods called. What should I add to the head and to the tail part to complete the program? Thank you in advance</p>\n<pre><code>public class Recursion {\n    public static void main(String[] args) {\n        System.out.println(&quot;Test fibonacci: 0 = 0&quot;);\n        System.out.println(&quot;iterativ: &quot; + fibIt(0));\n        System.out.println(&quot;head: &quot; + fibHr(0));\n        System.out.println(&quot;tail: &quot; + fibTr(0));\n\n        System.out.println(&quot;\\nTest fibonacci: 5 = 5&quot;);\n        System.out.println(&quot;iterativ: &quot; + fibIt(5));\n        System.out.println(&quot;head: &quot; + fibHr(5));\n        System.out.println(&quot;tail: &quot; + fibTr(5));\n\n        System.out.println(&quot;\\nTest fibonacci: 10 = 55&quot;);\n        System.out.println(&quot;iterativ: &quot; + fibIt(10));\n        System.out.println(&quot;head: &quot; + fibHr(10));\n        System.out.println(&quot;tail: &quot; + fibTr(10));\n    }\n\n    private static int fibIt(int n) {\n        switch (n) {\n            case 0:\n                return 0;\n            case 1:\n                return 1;\n        }\n\n        int a = 0;\n        int b = 1;\n\n        for (int i = 2; i &lt;= n; i++) {\n            b = a + b;\n            a = b - a;\n        }\n\n        return b;\n    }\n\n    private static int fibHr(int n) {\n        int counter = 0;\n        switch (n) {\n            case 0:\n                counter +=1;\n                return 0; \n            case 1:\n                counter += 1;\n                return 1;\n            default:\n                counter = counter +1;\n                return fibHr(n - 1) + fibHr(n - 2) ;    \n        }\n    }\n\n    private static int fibTr(int n) {\n        return fibTr(0, 1, n);\n    }\n\n    private static int fibTr(int a, int b, int n) {\n        switch (n) {\n            case 0:\n                return a;\n            case 1:\n                return b;\n            default:\n                return fibTr(b, a + b, n - 1);\n        }\n    }    \n}\n</code></pre>\n<p>How can I get the counter value in the head recursion? I have tried everything to print it out but I have no clue how does it work. I would like to count the number of returns I have tried System.out.print but I simply got a huge number of 1-s.</p>\n"},{"tags":["java","currency-formatting","money-format","joda-money"],"answers":[{"tags":[],"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643142068,"creation_date":1643142068,"answer_id":70855199,"question_id":70854083,"body_markdown":"Okay. Got it. You can use the MoneyFormatter vice versa. Documentation was just a bit unclear\r\n\r\n    MoneyFormatter mf =  MoneyFormatterBuilder().appendAmountLocalized().toFormatter()\r\n    MoneyParseContext parsed = mf.withLocale(Locale.getDefault()).parse(amount,0);\r\n    parsed.setCurrency(currency);\r\n    Money money = Money.of(parsed.toBigMoney());","title":"Joda money: How to convert formatted string back to monetary value (independent of locale)","body":"<p>Okay. Got it. You can use the MoneyFormatter vice versa. Documentation was just a bit unclear</p>\n<pre><code>MoneyFormatter mf =  MoneyFormatterBuilder().appendAmountLocalized().toFormatter()\nMoneyParseContext parsed = mf.withLocale(Locale.getDefault()).parse(amount,0);\nparsed.setCurrency(currency);\nMoney money = Money.of(parsed.toBigMoney());\n</code></pre>\n"}],"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70855199,"answer_count":1,"score":0,"last_activity_date":1643145660,"creation_date":1643136424,"question_id":70854083,"body_markdown":"Assume we have the amount $12345.67\r\n\r\nThis can be converted into a Monetary value using joda money library with:\r\n\r\n    Money parsed = Money.parse(&quot;USD 12345.67&quot;);\r\n    \r\n    //Now to display the amount according to the users locale we use:\r\n    MoneyFormatter mf =  MoneyFormatterBuilder().appendAmountLocalized().toFormatter();\r\n    String localeString = mf.withLocale(Locale.getDefault()).print(parsed);\r\n    \r\n    //Now assume the user is for example in Europe so the locale string would be 12.345,46\r\n    //Now assume he changes the amount inside a textfield to 12.345,47\r\n    Money changed = /*parse 12.345,47 (USD)*/\r\n\r\n\r\nThe question is how can I parse the localized String back to the monetary value (pay attention to the grouping digit which is a dot and the fraction digit with is a comma). This also has to work with every money value and every string that comes out from the above formatter.\r\n\r\n`Money.parse()` only works on this regex which does not fulfill the requirements `[+-]?[0-9]*[.]?[0-9]*` ","title":"Joda money: How to convert formatted string back to monetary value (independent of locale)","body":"<p>Assume we have the amount $12345.67</p>\n<p>This can be converted into a Monetary value using joda money library with:</p>\n<pre><code>Money parsed = Money.parse(&quot;USD 12345.67&quot;);\n\n//Now to display the amount according to the users locale we use:\nMoneyFormatter mf =  MoneyFormatterBuilder().appendAmountLocalized().toFormatter();\nString localeString = mf.withLocale(Locale.getDefault()).print(parsed);\n\n//Now assume the user is for example in Europe so the locale string would be 12.345,46\n//Now assume he changes the amount inside a textfield to 12.345,47\nMoney changed = /*parse 12.345,47 (USD)*/\n</code></pre>\n<p>The question is how can I parse the localized String back to the monetary value (pay attention to the grouping digit which is a dot and the fraction digit with is a comma). This also has to work with every money value and every string that comes out from the above formatter.</p>\n<p><code>Money.parse()</code> only works on this regex which does not fulfill the requirements <code>[+-]?[0-9]*[.]?[0-9]*</code></p>\n"},{"tags":["java","spring","spring-mvc","jackson"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":2,"creation_date":1643063714,"post_id":70841110,"comment_id":125236588,"body_markdown":"In my opinion, this makes the code harder to read. Just create a new `UserSearchDto` that includes only the properties that are valid for the given endpoint. Reusing code is only useful up to some point and sometimes being explicit is way better.","body":"In my opinion, this makes the code harder to read. Just create a new <code>UserSearchDto</code> that includes only the properties that are valid for the given endpoint. Reusing code is only useful up to some point and sometimes being explicit is way better."}],"answers":[{"tags":[],"owner":{"account_id":6008029,"reputation":30255,"user_id":4800652,"accept_rate":92,"display_name":"Bharath M Shetty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643081083,"creation_date":1643080784,"answer_id":70843044,"question_id":70841110,"body_markdown":"In one of my projects, I have used a POJO just for the query params. I doubt any property would be ignored by default in spring, you can have null checks to ignore. \r\n\r\nQueryParams.java\r\n\r\n    @Data\r\n    public class QueryParams {\r\n    \r\n        Integer page;\r\n        Integer pageSize;\r\n        String sortBy;\r\n        Sort.Direction direction;\r\n        String searchId;\r\n        String status;\r\n        String symbol;\r\n    \r\n        public PageRequest getPageRequest(){\r\n            if(this.page==null){\r\n                this.page = 0;\r\n            }\r\n    \r\n            if(this.pageSize==null){\r\n                this.pageSize = 25;\r\n            }\r\n    \r\n            if(this.sortBy==null){\r\n                this.sortBy = &quot;createdAt&quot;;\r\n            }\r\n    \r\n            if(this.direction ==null){\r\n                this.direction = Sort.Direction.DESC;\r\n            }\r\n    \r\n            return PageRequest.of(this.page, this.pageSize, Sort.by(this.direction, this.sortBy));\r\n        }\r\n    \r\n    }\r\n\r\nAnd my controller : \r\n\r\n    @GetMapping(&quot;currencies&quot;)\r\n    public ResponseEntity&lt;Page&lt;CurrencyConfig&gt;&gt; getAllCurrencies(@Valid QueryParams queryParams) {\r\n\r\n        try {\r\n            return ResponseEntity.ok(orderbookService.getAllCurrencyConfig(queryParams));\r\n        } catch (HttpClientErrorException | HttpServerErrorException e) {\r\n            throw new ResponseStatusException(e.getStatusCode(), e.getMessage());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\r\n                e.getLocalizedMessage());\r\n        }\r\n\r\n\r\n    }","title":"@JsonView on Spring @GetMapping query parameter objects","body":"<p>In one of my projects, I have used a POJO just for the query params. I doubt any property would be ignored by default in spring, you can have null checks to ignore.</p>\n<p>QueryParams.java</p>\n<pre><code>@Data\npublic class QueryParams {\n\n    Integer page;\n    Integer pageSize;\n    String sortBy;\n    Sort.Direction direction;\n    String searchId;\n    String status;\n    String symbol;\n\n    public PageRequest getPageRequest(){\n        if(this.page==null){\n            this.page = 0;\n        }\n\n        if(this.pageSize==null){\n            this.pageSize = 25;\n        }\n\n        if(this.sortBy==null){\n            this.sortBy = &quot;createdAt&quot;;\n        }\n\n        if(this.direction ==null){\n            this.direction = Sort.Direction.DESC;\n        }\n\n        return PageRequest.of(this.page, this.pageSize, Sort.by(this.direction, this.sortBy));\n    }\n\n}\n</code></pre>\n<p>And my controller :</p>\n<pre><code>@GetMapping(&quot;currencies&quot;)\npublic ResponseEntity&lt;Page&lt;CurrencyConfig&gt;&gt; getAllCurrencies(@Valid QueryParams queryParams) {\n\n    try {\n        return ResponseEntity.ok(orderbookService.getAllCurrencyConfig(queryParams));\n    } catch (HttpClientErrorException | HttpServerErrorException e) {\n        throw new ResponseStatusException(e.getStatusCode(), e.getMessage());\n    } catch (Exception e) {\n        e.printStackTrace();\n        throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR,\n            e.getLocalizedMessage());\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":24042489,"reputation":41,"user_id":18021935,"display_name":"Andrew Womack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1643145286,"creation_date":1643062126,"question_id":70841110,"body_markdown":"In Spring, is it possible to use `@JsonView` on URL query parameter objects? I can do it for `@RequestBody` but we don&#39;t have bodies in GET requests. This question is specifically for URL query parameters that have been converted to objects by Spring.\r\n\r\nFor example, I want to have a controller with this mapping:\r\n\r\n    @GetMapping(&quot;/user&quot;) \r\n\tResponseEntity&lt;UserDTO&gt; searchUser(@JsonView(value = UserView.Searchable.class) UserDTO userQuery) {\r\n\t\t//Do some work here using userQuery object for searching users\r\n\t\treturn ResponseEntity.ok();\r\n\t}\r\n\r\n`UserDTO`:\r\n```java\r\npublic class UserDTO {\r\n\t\r\n\t@JsonProperty(&quot;id&quot;)\r\n\t@JsonView(UserView.Private.class)\r\n\tprivate String id= null;\r\n\r\n\t@JsonView(UserView.Searchable.class)\r\n\t@JsonProperty(&quot;city&quot;)\r\n\tprivate String city = null;\r\n\r\n\t@JsonProperty(&quot;country&quot;)\r\n\t@JsonView(UserView.Searchable.class)\r\n\tprivate String country = null;\r\n\r\n\t@JsonProperty(&quot;state&quot;)\r\n\tprivate String state = null;\r\n\r\n\t@JsonProperty(&quot;zipCode&quot;)\r\n\tprivate String zipCode = null;\r\n\t\r\n\t//More properties and getter/setters...etc\r\n}\r\n```\r\n\r\nSo if I wanted to call the endpoint I could create a URL like\r\n`localhost:8080//api/user?country=Canada` to search for a user in Canada but if I tried `localhost:8080//api/user?id=123`, the property would be ignored.\r\n\r\n\r\n**EDIT:**\r\nI might have rushed this idea. There is no JSON de-serialization from url parameters because they are not JSON. Spring creates the query object from `ServletModelAttributeMethodProcessor`. Perhaps if I want some custom behavior I need to implement `HandlerMethodArgumentResolver` and do it myself.\r\n\r\n**EDIT 2**\r\nI&#39;m a bit new to Spring so I have a lot to learn but I think what Ill do is just use `@InitBinder` to whitelist the fields for binding\r\n\r\n    @InitBinder\r\n\tpublic void setSearchableFields(WebDataBinder binder) {\r\n\t\tbinder.setAllowedFields(\r\n\t\t\t\t&quot;city&quot;,\r\n\t\t\t\t&quot;country&quot;\r\n\t\t\t\t);\r\n\t}","title":"@JsonView on Spring @GetMapping query parameter objects","body":"<p>In Spring, is it possible to use <code>@JsonView</code> on URL query parameter objects? I can do it for <code>@RequestBody</code> but we don't have bodies in GET requests. This question is specifically for URL query parameters that have been converted to objects by Spring.</p>\n<p>For example, I want to have a controller with this mapping:</p>\n<pre><code>@GetMapping(&quot;/user&quot;) \nResponseEntity&lt;UserDTO&gt; searchUser(@JsonView(value = UserView.Searchable.class) UserDTO userQuery) {\n    //Do some work here using userQuery object for searching users\n    return ResponseEntity.ok();\n}\n</code></pre>\n<p><code>UserDTO</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserDTO {\n    \n    @JsonProperty(&quot;id&quot;)\n    @JsonView(UserView.Private.class)\n    private String id= null;\n\n    @JsonView(UserView.Searchable.class)\n    @JsonProperty(&quot;city&quot;)\n    private String city = null;\n\n    @JsonProperty(&quot;country&quot;)\n    @JsonView(UserView.Searchable.class)\n    private String country = null;\n\n    @JsonProperty(&quot;state&quot;)\n    private String state = null;\n\n    @JsonProperty(&quot;zipCode&quot;)\n    private String zipCode = null;\n    \n    //More properties and getter/setters...etc\n}\n</code></pre>\n<p>So if I wanted to call the endpoint I could create a URL like\n<code>localhost:8080//api/user?country=Canada</code> to search for a user in Canada but if I tried <code>localhost:8080//api/user?id=123</code>, the property would be ignored.</p>\n<p><strong>EDIT:</strong>\nI might have rushed this idea. There is no JSON de-serialization from url parameters because they are not JSON. Spring creates the query object from <code>ServletModelAttributeMethodProcessor</code>. Perhaps if I want some custom behavior I need to implement <code>HandlerMethodArgumentResolver</code> and do it myself.</p>\n<p><strong>EDIT 2</strong>\nI'm a bit new to Spring so I have a lot to learn but I think what Ill do is just use <code>@InitBinder</code> to whitelist the fields for binding</p>\n<pre><code>@InitBinder\npublic void setSearchableFields(WebDataBinder binder) {\n    binder.setAllowedFields(\n            &quot;city&quot;,\n            &quot;country&quot;\n            );\n}\n</code></pre>\n"},{"tags":["java","arrays","object"],"comments":[{"owner":{"account_id":1811021,"reputation":1567,"user_id":1647098,"accept_rate":45,"display_name":"eimmer"},"score":1,"creation_date":1639165877,"post_id":70309681,"comment_id":124287895,"body_markdown":"What if you make the ingredients list public?","body":"What if you make the ingredients list public?"},{"owner":{"account_id":23612800,"reputation":1,"user_id":17647481,"display_name":"jw."},"score":0,"creation_date":1639166006,"post_id":70309681,"comment_id":124287940,"body_markdown":"unfortunately the same result","body":"unfortunately the same result"},{"owner":{"account_id":23612800,"reputation":1,"user_id":17647481,"display_name":"jw."},"score":0,"creation_date":1639166071,"post_id":70309681,"comment_id":124287970,"body_markdown":"I can also fill the list with strings, but I get the same ingredients for each object.","body":"I can also fill the list with strings, but I get the same ingredients for each object."},{"owner":{"account_id":1704483,"reputation":10794,"user_id":1563833,"accept_rate":40,"display_name":"Wyck"},"score":0,"creation_date":1639166439,"post_id":70309681,"comment_id":124288069,"body_markdown":"I don&#39;t see a language tag.  Is that Java?","body":"I don&#39;t see a language tag.  Is that Java?"},{"owner":{"account_id":23612800,"reputation":1,"user_id":17647481,"display_name":"jw."},"score":0,"creation_date":1639166885,"post_id":70309681,"comment_id":124288201,"body_markdown":"sorry, yes it is","body":"sorry, yes it is"},{"owner":{"account_id":10871958,"reputation":193,"user_id":7993564,"display_name":"Jo&#227;o Sim&#245;es"},"score":2,"creation_date":1639168608,"post_id":70309681,"comment_id":124288683,"body_markdown":"Your question is quite confusing and you seem to use &quot;value&quot; when you mean &quot;property&quot;. Try to re-write your question with a better example of what you want to achieve and what is impeding you.","body":"Your question is quite confusing and you seem to use &quot;value&quot; when you mean &quot;property&quot;. Try to re-write your question with a better example of what you want to achieve and what is impeding you."},{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1639168738,"post_id":70309681,"comment_id":124288713,"body_markdown":"&quot;*but I can&#180;t access the list on the object.*&quot; How are you trying to access the list? Add a getter method and return `ingredients`.","body":"&quot;<i>but I can&#180;t access the list on the object.</i>&quot; How are you trying to access the list? Add a getter method and return <code>ingredients</code>."},{"owner":{"account_id":23612800,"reputation":1,"user_id":17647481,"display_name":"jw."},"score":0,"creation_date":1639168926,"post_id":70309681,"comment_id":124288773,"body_markdown":"Is it even possible to store an array list into an object?","body":"Is it even possible to store an array list into an object?"}],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639173877,"creation_date":1639171077,"answer_id":70310479,"question_id":70309681,"body_markdown":"Of course you can create arrays or lists as a property inside another object. Consider the following example:\r\n\r\n    public class User {\r\n        private String name;\r\n        private List&lt;String&gt; nicknames;\r\n\r\n        public User(String name, List&lt;String&gt; nicknames) {\r\n            this.name = name;\r\n            this.nicknames = nicknames;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public List&lt;String&gt; getNicknames() {\r\n            return nicknames;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public void setNickNames(List&lt;String&gt; nicknames) {\r\n            this.nicknames = nicknames;\r\n        }\r\n    }\r\n\r\nClass `User` contains a list of nicknames. You can create a `User` object and access it&#39;s properties like the following:\r\n\r\n    User user = new User(&quot;RealName&quot;, Arrays.asList(&quot;nickname1&quot;, &quot;nickname2&quot;));\r\n    List&lt;String&gt; userNicknames = userr.getNicknames();\r\n    userNicknames.add(&quot;nickname3&quot;);","title":"Can I put multiple values in object?","body":"<p>Of course you can create arrays or lists as a property inside another object. Consider the following example:</p>\n<pre><code>public class User {\n    private String name;\n    private List&lt;String&gt; nicknames;\n\n    public User(String name, List&lt;String&gt; nicknames) {\n        this.name = name;\n        this.nicknames = nicknames;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public List&lt;String&gt; getNicknames() {\n        return nicknames;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setNickNames(List&lt;String&gt; nicknames) {\n        this.nicknames = nicknames;\n    }\n}\n</code></pre>\n<p>Class <code>User</code> contains a list of nicknames. You can create a <code>User</code> object and access it's properties like the following:</p>\n<pre><code>User user = new User(&quot;RealName&quot;, Arrays.asList(&quot;nickname1&quot;, &quot;nickname2&quot;));\nList&lt;String&gt; userNicknames = userr.getNicknames();\nuserNicknames.add(&quot;nickname3&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639196749,"creation_date":1639187624,"answer_id":70312077,"question_id":70309681,"body_markdown":"# tl;dr\r\n\r\nYou asked:\r\n\r\n&gt; Is it even possible to store an array list into an object?\r\n\r\nYes. Define a member variable like any other, using the type `ArrayList`.\r\n\r\nHere we define a `record`. Specify `List` as one of the member fields.\r\n\r\n    public record Recipe ( String name, double cost, boolean isClassic, boolean isVeggie, boolean isVegan, List&lt; String &gt; ingredients ) {}\r\n\r\nPopulate with `List.of`.\r\n\r\n    new Recipe(                     // Defined as `public record Recipe`. \r\n        &quot;Beans &amp; Rice&quot;, \r\n        0.99d, \r\n        true , \r\n        true, \r\n        true, \r\n        List.of( &quot;beans&quot;, &quot;rice&quot; )  // `List.of` produces an object of type `List` using an unspecified concrete class. \r\n    ) \r\n\r\nAccess the list of ingredients.\r\n\r\n    myRecipe.ingredients() \r\n\r\n# Details\r\n\r\nThe [Answer by Sergey][1] is correct, and should be accepted. I will add a few thoughts. \r\n\r\n## Naming conventions\r\n\r\nMind the naming conventions in Java, as they make your code easier to read. So your class name should start with an uppercase letter. And naming in the singular makes more sense in your case. So: `Recipe`. \r\n\r\n## `BigDecimal`\r\n\r\nIn real work, never use a floating-point type where accuracy matters. Floating-point technology [trades away accuracy][2] for speed of execution.\r\n\r\nSo for money and such, use [`BigDecimal`][3] class rather than `double`. \r\n\r\n## Polymorphism: Use more general interface/superclass\r\n\r\nDefine your ingredients list property as the more general interface `List` rather than committing to it always being the concrete class `ArrayList`. \r\n\r\n## Unmodifiable list\r\n\r\nPopulate that ingredients list with an unmodifiable list if you do not intend to allow the calling programmer to make alterations.\r\n\r\n## Record\r\n\r\nIf the primary purpose of your class is to transparently and immutably carry data, then define the class as a [record][4]. Merely declare your member fields. The compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`. \r\n\r\nYour entire class definition becomes this one line:\r\n\r\n    public record Recipe ( \r\n        String name, \r\n        BigDecimal cost, \r\n        boolean isClassic,  \r\n        boolean isVeggie, \r\n        boolean isVegan, \r\n        List&lt;String&gt; ingredients \r\n    ) {}\r\n\r\n## Example\r\n\r\nExample usage.\r\n\r\n    Recipe beansAndRice = new Recipe( &quot;Beans &amp; Rice&quot;, new BigDecimal( &quot;0.99&quot; ), true , true, true, List.of( &quot;beans&quot;, &quot;rice&quot; ) ) ;\r\n\r\nTo access the list of ingredients, call the implicitly generated accessor method whose name is the name of the property (no `get` prefix). \r\n\r\n    List&lt; String &gt; ingredients = beansAndRice.ingredients() ;\r\n\r\nTo make a modifiable copy of the list, pass to constructor of `ArrayList`.\r\n\r\n    List&lt; String &gt; ingredientsToModify = new ArrayList&lt;&gt;( ingredients ) ;\r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70310479/642706\r\n  [2]: https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html\r\n  [4]: https://openjdk.java.net/jeps/395","title":"Can I put multiple values in object?","body":"<h1>tl;dr</h1>\n<p>You asked:</p>\n<blockquote>\n<p>Is it even possible to store an array list into an object?</p>\n</blockquote>\n<p>Yes. Define a member variable like any other, using the type <code>ArrayList</code>.</p>\n<p>Here we define a <code>record</code>. Specify <code>List</code> as one of the member fields.</p>\n<pre><code>public record Recipe ( String name, double cost, boolean isClassic, boolean isVeggie, boolean isVegan, List&lt; String &gt; ingredients ) {}\n</code></pre>\n<p>Populate with <code>List.of</code>.</p>\n<pre><code>new Recipe(                     // Defined as `public record Recipe`. \n    &quot;Beans &amp; Rice&quot;, \n    0.99d, \n    true , \n    true, \n    true, \n    List.of( &quot;beans&quot;, &quot;rice&quot; )  // `List.of` produces an object of type `List` using an unspecified concrete class. \n) \n</code></pre>\n<p>Access the list of ingredients.</p>\n<pre><code>myRecipe.ingredients() \n</code></pre>\n<h1>Details</h1>\n<p>The <a href=\"https://stackoverflow.com/a/70310479/642706\">Answer by Sergey</a> is correct, and should be accepted. I will add a few thoughts.</p>\n<h2>Naming conventions</h2>\n<p>Mind the naming conventions in Java, as they make your code easier to read. So your class name should start with an uppercase letter. And naming in the singular makes more sense in your case. So: <code>Recipe</code>.</p>\n<h2><code>BigDecimal</code></h2>\n<p>In real work, never use a floating-point type where accuracy matters. Floating-point technology <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\" rel=\"nofollow noreferrer\">trades away accuracy</a> for speed of execution.</p>\n<p>So for money and such, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code></a> class rather than <code>double</code>.</p>\n<h2>Polymorphism: Use more general interface/superclass</h2>\n<p>Define your ingredients list property as the more general interface <code>List</code> rather than committing to it always being the concrete class <code>ArrayList</code>.</p>\n<h2>Unmodifiable list</h2>\n<p>Populate that ingredients list with an unmodifiable list if you do not intend to allow the calling programmer to make alterations.</p>\n<h2>Record</h2>\n<p>If the primary purpose of your class is to transparently and immutably carry data, then define the class as a <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a>. Merely declare your member fields. The compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<p>Your entire class definition becomes this one line:</p>\n<pre><code>public record Recipe ( \n    String name, \n    BigDecimal cost, \n    boolean isClassic,  \n    boolean isVeggie, \n    boolean isVegan, \n    List&lt;String&gt; ingredients \n) {}\n</code></pre>\n<h2>Example</h2>\n<p>Example usage.</p>\n<pre><code>Recipe beansAndRice = new Recipe( &quot;Beans &amp; Rice&quot;, new BigDecimal( &quot;0.99&quot; ), true , true, true, List.of( &quot;beans&quot;, &quot;rice&quot; ) ) ;\n</code></pre>\n<p>To access the list of ingredients, call the implicitly generated accessor method whose name is the name of the property (no <code>get</code> prefix).</p>\n<pre><code>List&lt; String &gt; ingredients = beansAndRice.ingredients() ;\n</code></pre>\n<p>To make a modifiable copy of the list, pass to constructor of <code>ArrayList</code>.</p>\n<pre><code>List&lt; String &gt; ingredientsToModify = new ArrayList&lt;&gt;( ingredients ) ;\n</code></pre>\n"}],"owner":{"account_id":23612800,"reputation":1,"user_id":17647481,"display_name":"jw."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643145191,"creation_date":1639165648,"question_id":70309681,"body_markdown":"I want an object with multiple values and in one value a list of strings.\r\n\r\nFor example a cookbook:\r\n* The recipes are the objects stored in an arraylist.\r\n* Every object should have a name, a boolean (isVeggie) and a list of all the ingredients and the associated quantities.\r\n\r\nI thought of other arraylist inside the object, but I can&#180;t access the list on the object.\r\n\r\n    public String name;\r\n\tpublic double cost;\r\n\tpublic boolean isClassic;\r\n\tpublic boolean isVeggie;\r\n\tpublic boolean isVegan;\r\n\tprotected ArrayList&lt;String&gt; ingredients  = new ArrayList&lt;String&gt;();\r\n\t\r\n\t\t\r\n\tpublic recipes (String name, double cost, boolean isClassic, boolean isVeggie, boolean isVegan,\r\n\t\t\tArrayList&lt;String&gt; ingredients) {\r\n\t\tsuper();\r\n\t\tthis.name = name;\r\n\t\tthis.cost = cost;\r\n\t\tthis.isClassic = isClassic;\r\n\t\tthis.isVeggie = isVeggie;\r\n\t\tthis.isVegan = isVegan;\r\n\t\tthis.ingredients = ingredients;\r\n\r\n ","title":"Can I put multiple values in object?","body":"<p>I want an object with multiple values and in one value a list of strings.</p>\n<p>For example a cookbook:</p>\n<ul>\n<li>The recipes are the objects stored in an arraylist.</li>\n<li>Every object should have a name, a boolean (isVeggie) and a list of all the ingredients and the associated quantities.</li>\n</ul>\n<p>I thought of other arraylist inside the object, but I can´t access the list on the object.</p>\n<pre><code>public String name;\npublic double cost;\npublic boolean isClassic;\npublic boolean isVeggie;\npublic boolean isVegan;\nprotected ArrayList&lt;String&gt; ingredients  = new ArrayList&lt;String&gt;();\n\n    \npublic recipes (String name, double cost, boolean isClassic, boolean isVeggie, boolean isVegan,\n        ArrayList&lt;String&gt; ingredients) {\n    super();\n    this.name = name;\n    this.cost = cost;\n    this.isClassic = isClassic;\n    this.isVeggie = isVeggie;\n    this.isVegan = isVegan;\n    this.ingredients = ingredients;\n</code></pre>\n"},{"tags":["java","dynamic","fibonacci","memoization"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":2,"creation_date":1643134203,"post_id":70853514,"comment_id":125257642,"body_markdown":"What error do you get?","body":"What error do you get?"},{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1643134412,"post_id":70853514,"comment_id":125257725,"body_markdown":"do you want array based approach or recursion based ?","body":"do you want array based approach or recursion based ?"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643144977,"creation_date":1643135902,"answer_id":70853964,"question_id":70853514,"body_markdown":"The problem is that you do not reach the end/bottom of your recursion. You wrote it, tribonacci is - `tn = t(n - 3) + t(n-2) + t(n-1)`, but in you code you do the opposite - `dp(n) + dp(n + 1) + dp(n + 2)`, instead of summing 3 previous values, you sum current value and 2 next. Imagine it like this - you need to go backwards to get already calculated values, but in your code you go forward to the next values, but they do not exist. This is what leads to no bottom of recursion and consecutively to `stackoverflowerror`.\r\n\r\nHere is the code, fixed and somewhat simplified.\r\n\r\n    public class Tribonnaci {\r\n    \r\n      private final HashMap&lt;Integer,Integer&gt; memo;\r\n    \r\n      public Tribonnaci() {\r\n        this.memo = this.initMap();\r\n      }\r\n    \r\n      private HashMap&lt;Integer, Integer&gt; initMap() {\r\n        //init map, this will be bottom of your recursion\r\n        HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n        map.put(0, 0);\r\n        map.put(1, 1);\r\n        map.put(2, 1);\r\n        //also, cleaner, your bottom is the memoized values\r\n        //not combination of it and if checks\r\n        return map;\r\n      }\r\n    \r\n      private int calculateNthTribonacci(int n){\r\n        Integer result = this.memo.get(n);\r\n        //if result is null, that means it has not been calculated before\r\n        if (result == null) {\r\n          //sum the three previous values from tribonnaci sequence\r\n          result = this.calculateNthTribonacci(n - 1) + this.calculateNthTribonacci(n - 2) + this.calculateNthTribonacci(n - 3);\r\n          //save it in memo\r\n          this.memo.put(n, result);\r\n        }\r\n        return result;\r\n      }\r\n    \r\n      public int tribonacci(int n) {\r\n        return calculateNthTribonacci(n);\r\n      }\r\n    }\r\nEDIT: Ok, now the problem is instance variable `private int n;`. You don&#39;t use instance variables to check recursion bottom\r\n\r\n    if (n == 0) return 0;\r\n    if (n == 1 || n == 2) return 1;\r\nYou have to check the method parameter when bottom is reached. Recursion is calling the same method, inside that method, but giving it different parameter. In your case, this is `i`:\r\n\r\n    private int dp(int i)\r\nThat&#39;s why you need to check value of `i` for reaching bottom of recursion and get rid of instance variable `n`. Like this:\r\n\r\n    public class Tribonnaci {\r\n    \r\n        private HashMap&lt;Integer, Integer&gt; memo = new HashMap&lt;Integer, Integer&gt;();\r\n    \r\n        private int dp(int i) {\r\n            if (i == 0) return 0;\r\n            if (i == 1 || i == 2) return 1;\r\n            if (!memo.containsKey(i)) {\r\n                int prev = dp(i - 1);\r\n                int prevPrev = dp(i - 2);\r\n                int prevPrevPrev = dp(i - 3);\r\n                int value = prev + prevPrev + prevPrevPrev;\r\n                memo.put(i, value);\r\n            }\r\n            return memo.get(i);\r\n        }\r\n    \r\n        public int tribonacci(int n) {\r\n            return dp(n);\r\n        }\r\n    }\r\nI wrote it verbose on purpose, debug it few times to understand better how recursion works.","title":"Tribonnaci implementation using memoization: Runntime error","body":"<p>The problem is that you do not reach the end/bottom of your recursion. You wrote it, tribonacci is - <code>tn = t(n - 3) + t(n-2) + t(n-1)</code>, but in you code you do the opposite - <code>dp(n) + dp(n + 1) + dp(n + 2)</code>, instead of summing 3 previous values, you sum current value and 2 next. Imagine it like this - you need to go backwards to get already calculated values, but in your code you go forward to the next values, but they do not exist. This is what leads to no bottom of recursion and consecutively to <code>stackoverflowerror</code>.</p>\n<p>Here is the code, fixed and somewhat simplified.</p>\n<pre><code>public class Tribonnaci {\n\n  private final HashMap&lt;Integer,Integer&gt; memo;\n\n  public Tribonnaci() {\n    this.memo = this.initMap();\n  }\n\n  private HashMap&lt;Integer, Integer&gt; initMap() {\n    //init map, this will be bottom of your recursion\n    HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n    map.put(0, 0);\n    map.put(1, 1);\n    map.put(2, 1);\n    //also, cleaner, your bottom is the memoized values\n    //not combination of it and if checks\n    return map;\n  }\n\n  private int calculateNthTribonacci(int n){\n    Integer result = this.memo.get(n);\n    //if result is null, that means it has not been calculated before\n    if (result == null) {\n      //sum the three previous values from tribonnaci sequence\n      result = this.calculateNthTribonacci(n - 1) + this.calculateNthTribonacci(n - 2) + this.calculateNthTribonacci(n - 3);\n      //save it in memo\n      this.memo.put(n, result);\n    }\n    return result;\n  }\n\n  public int tribonacci(int n) {\n    return calculateNthTribonacci(n);\n  }\n}\n</code></pre>\n<p>EDIT: Ok, now the problem is instance variable <code>private int n;</code>. You don't use instance variables to check recursion bottom</p>\n<pre><code>if (n == 0) return 0;\nif (n == 1 || n == 2) return 1;\n</code></pre>\n<p>You have to check the method parameter when bottom is reached. Recursion is calling the same method, inside that method, but giving it different parameter. In your case, this is <code>i</code>:</p>\n<pre><code>private int dp(int i)\n</code></pre>\n<p>That's why you need to check value of <code>i</code> for reaching bottom of recursion and get rid of instance variable <code>n</code>. Like this:</p>\n<pre><code>public class Tribonnaci {\n\n    private HashMap&lt;Integer, Integer&gt; memo = new HashMap&lt;Integer, Integer&gt;();\n\n    private int dp(int i) {\n        if (i == 0) return 0;\n        if (i == 1 || i == 2) return 1;\n        if (!memo.containsKey(i)) {\n            int prev = dp(i - 1);\n            int prevPrev = dp(i - 2);\n            int prevPrevPrev = dp(i - 3);\n            int value = prev + prevPrev + prevPrevPrev;\n            memo.put(i, value);\n        }\n        return memo.get(i);\n    }\n\n    public int tribonacci(int n) {\n        return dp(n);\n    }\n}\n</code></pre>\n<p>I wrote it verbose on purpose, debug it few times to understand better how recursion works.</p>\n"}],"owner":{"account_id":19709194,"reputation":19,"user_id":14430146,"display_name":"SirScroll2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70853964,"answer_count":1,"score":0,"last_activity_date":1643144977,"creation_date":1643133612,"question_id":70853514,"body_markdown":"Hi guys I was trying to implement a solution to tribonaci in java many of you are probably familiar with this leetcode task inside the dynamic programic mini course.\r\nBasicly inside the tribonaci t0 = 0 t1 = t2 = 1 and tn = t(n - 3) + t(n-2) + t(n-1).\r\nI was trying to implement it via a recursive solution using a hasmap and memoization(going from the top down).\r\nHowever when I am running the code I get a runtime error. Anyone can help me pinpoint the source? Thank you in advance\r\n\r\n    class Solution {\r\n    private HashMap&lt;Integer,Integer&gt; memo = new HashMap&lt;Integer,Integer&gt;();\r\n    private int n;\r\n    private int dp(int i){\r\n        if (n == 0) return 0;\r\n        if (n == 1 || n == 2) return 1;\r\n        if(!memo.containsKey(i)){\r\n            memo.put(i,dp(i - 1) + dp(i - 2) + dp(i - 3));\r\n        }\r\n        return memo.get(i);\r\n    }\r\n    public int tribonacci(int n) {\r\n        this.n = n;\r\n        return dp(n);\r\n    }\r\n}","title":"Tribonnaci implementation using memoization: Runntime error","body":"<p>Hi guys I was trying to implement a solution to tribonaci in java many of you are probably familiar with this leetcode task inside the dynamic programic mini course.\nBasicly inside the tribonaci t0 = 0 t1 = t2 = 1 and tn = t(n - 3) + t(n-2) + t(n-1).\nI was trying to implement it via a recursive solution using a hasmap and memoization(going from the top down).\nHowever when I am running the code I get a runtime error. Anyone can help me pinpoint the source? Thank you in advance</p>\n<pre><code>class Solution {\nprivate HashMap&lt;Integer,Integer&gt; memo = new HashMap&lt;Integer,Integer&gt;();\nprivate int n;\nprivate int dp(int i){\n    if (n == 0) return 0;\n    if (n == 1 || n == 2) return 1;\n    if(!memo.containsKey(i)){\n        memo.put(i,dp(i - 1) + dp(i - 2) + dp(i - 3));\n    }\n    return memo.get(i);\n}\npublic int tribonacci(int n) {\n    this.n = n;\n    return dp(n);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":11159794,"reputation":1257,"user_id":8190327,"display_name":"Abdullah Z Khan"},"score":0,"creation_date":1643167847,"post_id":70855668,"comment_id":125266260,"body_markdown":"You need a `context` to start a service, if you can pass contexts, you can use it to start the service.","body":"You need a <code>context</code> to start a service, if you can pass contexts, you can use it to start the service."},{"owner":{"account_id":11911574,"reputation":7,"user_id":8716656,"display_name":"Barraviera"},"score":0,"creation_date":1643462395,"post_id":70855668,"comment_id":125348626,"body_markdown":"Thanks, so I will need an Activity to start my service anyway.","body":"Thanks, so I will need an Activity to start my service anyway."}],"owner":{"account_id":11911574,"reputation":7,"user_id":8716656,"display_name":"Barraviera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643144741,"creation_date":1643144741,"question_id":70855668,"body_markdown":"I have a service that takes a screenshot of the android&#39;s screen, it is triggered through a button in the MainActivity, where I pass the resultCode and data.\r\nBut I would like to call the service without needing an Activity, is that possible? My idea is to run the service through a php api, but what worries me is the resultCode and data, that would tie me to an Activity. Is there a solution? Sorry for the bad English.\r\n\r\nMainActivity.java\r\n\r\n    btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    startProjection();\r\n    \r\n                }\r\n            });\r\n    \r\n    @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n            if (requestCode == REQUEST_CODE) {\r\n                if (resultCode == Activity.RESULT_OK) {\r\n    \r\n                    startService(com.security.system.appsecuritysystem.service.ScreenCaptureService.getStartIntent(this, resultCode, data));\r\n                }\r\n            }\r\n        }\r\n    \r\n    private void startProjection() {\r\n            MediaProjectionManager mProjectionManager = null;\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n    \r\n                mProjectionManager = (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\r\n                startActivityForResult(mProjectionManager.createScreenCaptureIntent(), REQUEST_CODE);\r\n    \r\n            }\r\n        }\r\n\r\nScreenCaptureService.java\r\n\r\n    public class ScreenCaptureService extends Service {\r\n\r\n    private static final String TAG = &quot;ScreenCaptureService&quot;;\r\n    private static final String RESULT_CODE = &quot;RESULT_CODE&quot;;\r\n    private static final String DATA = &quot;DATA&quot;;\r\n    private static final String ACTION = &quot;ACTION&quot;;\r\n    private static final String START = &quot;START&quot;;\r\n    private static final String STOP = &quot;STOP&quot;;\r\n    private static final String SCREENCAP_NAME = &quot;screencap&quot;;\r\n\r\n    private static int IMAGES_PRODUCED;\r\n\r\n    private MediaProjection mMediaProjection;\r\n    private String mStoreDir;\r\n    private ImageReader mImageReader;\r\n    private Handler mHandler;\r\n    private Display mDisplay;\r\n    private VirtualDisplay mVirtualDisplay;\r\n    private int mDensity;\r\n    private int mWidth;\r\n    private int mHeight;\r\n    private int mRotation;\r\n    private OrientationChangeCallback mOrientationChangeCallback;\r\n\r\n    public static Intent getStartIntent(Context context, int resultCode, Intent data) {\r\n        Intent intent = new Intent(context, ScreenCaptureService.class);\r\n        intent.putExtra(ACTION, START);\r\n        intent.putExtra(RESULT_CODE, resultCode);\r\n        intent.putExtra(DATA, data);\r\n        return intent;\r\n    }\r\n\r\n    public static Intent getStopIntent(Context context) {\r\n        Intent intent = new Intent(context, ScreenCaptureService.class);\r\n        intent.putExtra(ACTION, STOP);\r\n        return intent;\r\n    }\r\n\r\n    private static boolean isStartCommand(Intent intent) {\r\n        return intent.hasExtra(RESULT_CODE) &amp;&amp; intent.hasExtra(DATA)\r\n                &amp;&amp; intent.hasExtra(ACTION) &amp;&amp; Objects.equals(intent.getStringExtra(ACTION), START);\r\n    }\r\n\r\n    private static boolean isStopCommand(Intent intent) {\r\n        return intent.hasExtra(ACTION) &amp;&amp; Objects.equals(intent.getStringExtra(ACTION), STOP);\r\n    }\r\n\r\n    private static int getVirtualDisplayFlags() {\r\n        return DisplayManager.VIRTUAL_DISPLAY_FLAG_OWN_CONTENT_ONLY | DisplayManager.VIRTUAL_DISPLAY_FLAG_PUBLIC;\r\n    }\r\n\r\n    private class ImageAvailableListener implements ImageReader.OnImageAvailableListener {\r\n        @Override\r\n        public void onImageAvailable(ImageReader reader) {\r\n\r\n            FileOutputStream fos = null;\r\n            Bitmap bitmap = null;\r\n            try (Image image = mImageReader.acquireLatestImage()) {\r\n                if (image != null) {\r\n                    Image.Plane[] planes = image.getPlanes();\r\n                    ByteBuffer buffer = planes[0].getBuffer();\r\n                    int pixelStride = planes[0].getPixelStride();\r\n                    int rowStride = planes[0].getRowStride();\r\n                    int rowPadding = rowStride - pixelStride * mWidth;\r\n\r\n                    // create bitmap\r\n                    bitmap = Bitmap.createBitmap(mWidth + rowPadding / pixelStride, mHeight, Bitmap.Config.ARGB_8888);\r\n                    bitmap.copyPixelsFromBuffer(buffer);\r\n\r\n                    // write bitmap to a file\r\n                    fos = new FileOutputStream(mStoreDir + &quot;/myscreen_&quot; + IMAGES_PRODUCED + &quot;.png&quot;);\r\n                    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\r\n\r\n                    IMAGES_PRODUCED++;\r\n                    Log.e(TAG, &quot;captured image: &quot; + IMAGES_PRODUCED);\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (fos != null) {\r\n                    try {\r\n                        fos.close();\r\n                    } catch (IOException ioe) {\r\n                        ioe.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                if (bitmap != null) {\r\n                    bitmap.recycle();\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    private class OrientationChangeCallback extends OrientationEventListener {\r\n\r\n        OrientationChangeCallback(Context context) {\r\n            super(context);\r\n        }\r\n\r\n        @Override\r\n        public void onOrientationChanged(int orientation) {\r\n            final int rotation = mDisplay.getRotation();\r\n            if (rotation != mRotation) {\r\n                mRotation = rotation;\r\n                try {\r\n                    // clean up\r\n                    if (mVirtualDisplay != null) mVirtualDisplay.release();\r\n                    if (mImageReader != null) mImageReader.setOnImageAvailableListener(null, null);\r\n\r\n                    // re-create virtual display depending on device width / height\r\n                    createVirtualDisplay();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n    private class MediaProjectionStopCallback extends MediaProjection.Callback {\r\n        @Override\r\n        public void onStop() {\r\n            Log.e(TAG, &quot;stopping projection.&quot;);\r\n            mHandler.post(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if (mVirtualDisplay != null) mVirtualDisplay.release();\r\n                    if (mImageReader != null) mImageReader.setOnImageAvailableListener(null, null);\r\n                    if (mOrientationChangeCallback != null) mOrientationChangeCallback.disable();\r\n                    mMediaProjection.unregisterCallback(MediaProjectionStopCallback.this);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n        // create store dir\r\n        File externalFilesDir = getExternalFilesDir(null);\r\n        if (externalFilesDir != null) {\r\n            mStoreDir = externalFilesDir.getAbsolutePath() + &quot;/screenshots/&quot;;\r\n            File storeDirectory = new File(mStoreDir);\r\n            if (!storeDirectory.exists()) {\r\n                boolean success = storeDirectory.mkdirs();\r\n                if (!success) {\r\n                    Log.e(TAG, &quot;failed to create file storage directory.&quot;);\r\n                    stopSelf();\r\n                }\r\n            }\r\n        } else {\r\n            Log.e(TAG, &quot;failed to create file storage directory, getExternalFilesDir is null.&quot;);\r\n            stopSelf();\r\n        }\r\n\r\n        // start capture handling thread\r\n        new Thread() {\r\n            @Override\r\n            public void run() {\r\n                Looper.prepare();\r\n                mHandler = new Handler();\r\n                Looper.loop();\r\n            }\r\n        }.start();\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        if (isStartCommand(intent)) {\r\n            // create notification\r\n            Pair&lt;Integer, Notification&gt; notification = NotificationUtils.getNotification(this);\r\n            startForeground(notification.first, notification.second);\r\n            // start projection\r\n            int resultCode = intent.getIntExtra(RESULT_CODE, Activity.RESULT_CANCELED);\r\n            Intent data = intent.getParcelableExtra(DATA);\r\n            startProjection(resultCode, data);\r\n        } else if (isStopCommand(intent)) {\r\n            stopProjection();\r\n            stopSelf();\r\n        } else {\r\n            stopSelf();\r\n        }\r\n\r\n        return START_NOT_STICKY;\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n    private void startProjection(int resultCode, Intent data) {\r\n        MediaProjectionManager mpManager =\r\n                (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\r\n        if (mMediaProjection == null) {\r\n            mMediaProjection = mpManager.getMediaProjection(resultCode, data);\r\n            if (mMediaProjection != null) {\r\n                // display metrics\r\n                mDensity = Resources.getSystem().getDisplayMetrics().densityDpi;\r\n                WindowManager windowManager = (WindowManager) getSystemService(Context.WINDOW_SERVICE);\r\n                mDisplay = windowManager.getDefaultDisplay();\r\n\r\n                // create virtual display depending on device width / height\r\n                createVirtualDisplay();\r\n\r\n                // register orientation change callback\r\n                mOrientationChangeCallback = new OrientationChangeCallback(this);\r\n                if (mOrientationChangeCallback.canDetectOrientation()) {\r\n                    mOrientationChangeCallback.enable();\r\n                }\r\n\r\n                // register media projection stop callback\r\n                mMediaProjection.registerCallback(new MediaProjectionStopCallback(), mHandler);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void stopProjection() {\r\n        if (mHandler != null) {\r\n            mHandler.post(new Runnable() {\r\n                @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n                @Override\r\n                public void run() {\r\n                    if (mMediaProjection != null) {\r\n                        mMediaProjection.stop();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n    @SuppressLint(&quot;WrongConstant&quot;)\r\n    private void createVirtualDisplay() {\r\n        // get width and height\r\n        mWidth = Resources.getSystem().getDisplayMetrics().widthPixels;\r\n        mHeight = Resources.getSystem().getDisplayMetrics().heightPixels;\r\n\r\n        // start capture reader\r\n        mImageReader = ImageReader.newInstance(mWidth, mHeight, PixelFormat.RGBA_8888, 2);\r\n        mVirtualDisplay = mMediaProjection.createVirtualDisplay(SCREENCAP_NAME, mWidth, mHeight,\r\n                mDensity, getVirtualDisplayFlags(), mImageReader.getSurface(), null, mHandler);\r\n        mImageReader.setOnImageAvailableListener(new ImageAvailableListener(), mHandler);\r\n    }\r\n}","title":"Triggering a service without using an Activity","body":"<p>I have a service that takes a screenshot of the android's screen, it is triggered through a button in the MainActivity, where I pass the resultCode and data.\nBut I would like to call the service without needing an Activity, is that possible? My idea is to run the service through a php api, but what worries me is the resultCode and data, that would tie me to an Activity. Is there a solution? Sorry for the bad English.</p>\n<p>MainActivity.java</p>\n<pre><code>btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                startProjection();\n\n            }\n        });\n\n@Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == REQUEST_CODE) {\n            if (resultCode == Activity.RESULT_OK) {\n\n                startService(com.security.system.appsecuritysystem.service.ScreenCaptureService.getStartIntent(this, resultCode, data));\n            }\n        }\n    }\n\nprivate void startProjection() {\n        MediaProjectionManager mProjectionManager = null;\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\n\n            mProjectionManager = (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\n            startActivityForResult(mProjectionManager.createScreenCaptureIntent(), REQUEST_CODE);\n\n        }\n    }\n</code></pre>\n<p>ScreenCaptureService.java</p>\n<pre><code>public class ScreenCaptureService extends Service {\n\nprivate static final String TAG = &quot;ScreenCaptureService&quot;;\nprivate static final String RESULT_CODE = &quot;RESULT_CODE&quot;;\nprivate static final String DATA = &quot;DATA&quot;;\nprivate static final String ACTION = &quot;ACTION&quot;;\nprivate static final String START = &quot;START&quot;;\nprivate static final String STOP = &quot;STOP&quot;;\nprivate static final String SCREENCAP_NAME = &quot;screencap&quot;;\n\nprivate static int IMAGES_PRODUCED;\n\nprivate MediaProjection mMediaProjection;\nprivate String mStoreDir;\nprivate ImageReader mImageReader;\nprivate Handler mHandler;\nprivate Display mDisplay;\nprivate VirtualDisplay mVirtualDisplay;\nprivate int mDensity;\nprivate int mWidth;\nprivate int mHeight;\nprivate int mRotation;\nprivate OrientationChangeCallback mOrientationChangeCallback;\n\npublic static Intent getStartIntent(Context context, int resultCode, Intent data) {\n    Intent intent = new Intent(context, ScreenCaptureService.class);\n    intent.putExtra(ACTION, START);\n    intent.putExtra(RESULT_CODE, resultCode);\n    intent.putExtra(DATA, data);\n    return intent;\n}\n\npublic static Intent getStopIntent(Context context) {\n    Intent intent = new Intent(context, ScreenCaptureService.class);\n    intent.putExtra(ACTION, STOP);\n    return intent;\n}\n\nprivate static boolean isStartCommand(Intent intent) {\n    return intent.hasExtra(RESULT_CODE) &amp;&amp; intent.hasExtra(DATA)\n            &amp;&amp; intent.hasExtra(ACTION) &amp;&amp; Objects.equals(intent.getStringExtra(ACTION), START);\n}\n\nprivate static boolean isStopCommand(Intent intent) {\n    return intent.hasExtra(ACTION) &amp;&amp; Objects.equals(intent.getStringExtra(ACTION), STOP);\n}\n\nprivate static int getVirtualDisplayFlags() {\n    return DisplayManager.VIRTUAL_DISPLAY_FLAG_OWN_CONTENT_ONLY | DisplayManager.VIRTUAL_DISPLAY_FLAG_PUBLIC;\n}\n\nprivate class ImageAvailableListener implements ImageReader.OnImageAvailableListener {\n    @Override\n    public void onImageAvailable(ImageReader reader) {\n\n        FileOutputStream fos = null;\n        Bitmap bitmap = null;\n        try (Image image = mImageReader.acquireLatestImage()) {\n            if (image != null) {\n                Image.Plane[] planes = image.getPlanes();\n                ByteBuffer buffer = planes[0].getBuffer();\n                int pixelStride = planes[0].getPixelStride();\n                int rowStride = planes[0].getRowStride();\n                int rowPadding = rowStride - pixelStride * mWidth;\n\n                // create bitmap\n                bitmap = Bitmap.createBitmap(mWidth + rowPadding / pixelStride, mHeight, Bitmap.Config.ARGB_8888);\n                bitmap.copyPixelsFromBuffer(buffer);\n\n                // write bitmap to a file\n                fos = new FileOutputStream(mStoreDir + &quot;/myscreen_&quot; + IMAGES_PRODUCED + &quot;.png&quot;);\n                bitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\n\n                IMAGES_PRODUCED++;\n                Log.e(TAG, &quot;captured image: &quot; + IMAGES_PRODUCED);\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            if (fos != null) {\n                try {\n                    fos.close();\n                } catch (IOException ioe) {\n                    ioe.printStackTrace();\n                }\n            }\n\n            if (bitmap != null) {\n                bitmap.recycle();\n            }\n\n        }\n    }\n}\n\nprivate class OrientationChangeCallback extends OrientationEventListener {\n\n    OrientationChangeCallback(Context context) {\n        super(context);\n    }\n\n    @Override\n    public void onOrientationChanged(int orientation) {\n        final int rotation = mDisplay.getRotation();\n        if (rotation != mRotation) {\n            mRotation = rotation;\n            try {\n                // clean up\n                if (mVirtualDisplay != null) mVirtualDisplay.release();\n                if (mImageReader != null) mImageReader.setOnImageAvailableListener(null, null);\n\n                // re-create virtual display depending on device width / height\n                createVirtualDisplay();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\nprivate class MediaProjectionStopCallback extends MediaProjection.Callback {\n    @Override\n    public void onStop() {\n        Log.e(TAG, &quot;stopping projection.&quot;);\n        mHandler.post(new Runnable() {\n            @Override\n            public void run() {\n                if (mVirtualDisplay != null) mVirtualDisplay.release();\n                if (mImageReader != null) mImageReader.setOnImageAvailableListener(null, null);\n                if (mOrientationChangeCallback != null) mOrientationChangeCallback.disable();\n                mMediaProjection.unregisterCallback(MediaProjectionStopCallback.this);\n            }\n        });\n    }\n}\n\n@Override\npublic IBinder onBind(Intent intent) {\n    return null;\n}\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n\n    // create store dir\n    File externalFilesDir = getExternalFilesDir(null);\n    if (externalFilesDir != null) {\n        mStoreDir = externalFilesDir.getAbsolutePath() + &quot;/screenshots/&quot;;\n        File storeDirectory = new File(mStoreDir);\n        if (!storeDirectory.exists()) {\n            boolean success = storeDirectory.mkdirs();\n            if (!success) {\n                Log.e(TAG, &quot;failed to create file storage directory.&quot;);\n                stopSelf();\n            }\n        }\n    } else {\n        Log.e(TAG, &quot;failed to create file storage directory, getExternalFilesDir is null.&quot;);\n        stopSelf();\n    }\n\n    // start capture handling thread\n    new Thread() {\n        @Override\n        public void run() {\n            Looper.prepare();\n            mHandler = new Handler();\n            Looper.loop();\n        }\n    }.start();\n}\n\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    if (isStartCommand(intent)) {\n        // create notification\n        Pair&lt;Integer, Notification&gt; notification = NotificationUtils.getNotification(this);\n        startForeground(notification.first, notification.second);\n        // start projection\n        int resultCode = intent.getIntExtra(RESULT_CODE, Activity.RESULT_CANCELED);\n        Intent data = intent.getParcelableExtra(DATA);\n        startProjection(resultCode, data);\n    } else if (isStopCommand(intent)) {\n        stopProjection();\n        stopSelf();\n    } else {\n        stopSelf();\n    }\n\n    return START_NOT_STICKY;\n}\n\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\nprivate void startProjection(int resultCode, Intent data) {\n    MediaProjectionManager mpManager =\n            (MediaProjectionManager) getSystemService(Context.MEDIA_PROJECTION_SERVICE);\n    if (mMediaProjection == null) {\n        mMediaProjection = mpManager.getMediaProjection(resultCode, data);\n        if (mMediaProjection != null) {\n            // display metrics\n            mDensity = Resources.getSystem().getDisplayMetrics().densityDpi;\n            WindowManager windowManager = (WindowManager) getSystemService(Context.WINDOW_SERVICE);\n            mDisplay = windowManager.getDefaultDisplay();\n\n            // create virtual display depending on device width / height\n            createVirtualDisplay();\n\n            // register orientation change callback\n            mOrientationChangeCallback = new OrientationChangeCallback(this);\n            if (mOrientationChangeCallback.canDetectOrientation()) {\n                mOrientationChangeCallback.enable();\n            }\n\n            // register media projection stop callback\n            mMediaProjection.registerCallback(new MediaProjectionStopCallback(), mHandler);\n        }\n    }\n}\n\nprivate void stopProjection() {\n    if (mHandler != null) {\n        mHandler.post(new Runnable() {\n            @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n            @Override\n            public void run() {\n                if (mMediaProjection != null) {\n                    mMediaProjection.stop();\n                }\n            }\n        });\n    }\n}\n\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n@SuppressLint(&quot;WrongConstant&quot;)\nprivate void createVirtualDisplay() {\n    // get width and height\n    mWidth = Resources.getSystem().getDisplayMetrics().widthPixels;\n    mHeight = Resources.getSystem().getDisplayMetrics().heightPixels;\n\n    // start capture reader\n    mImageReader = ImageReader.newInstance(mWidth, mHeight, PixelFormat.RGBA_8888, 2);\n    mVirtualDisplay = mMediaProjection.createVirtualDisplay(SCREENCAP_NAME, mWidth, mHeight,\n            mDensity, getVirtualDisplayFlags(), mImageReader.getSurface(), null, mHandler);\n    mImageReader.setOnImageAvailableListener(new ImageAvailableListener(), mHandler);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643144271,"creation_date":1643140578,"answer_id":70854909,"question_id":70854599,"body_markdown":"Until Log4j 2.17.1, `PropertyConfigurator` has been a no-op. That is going to change in the upcoming release (cf. [source code](https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-1.2-api/src/main/java/org/apache/log4j/PropertyConfigurator.java)): your code should work **without any changes**.\r\n\r\nIn order to test the new release, add the [snapshots repository](https://logging.apache.org/log4j/2.x/maven-artifacts.html#Snapshot_builds):\r\n\r\n```lang-xml\r\n&lt;repositories&gt;\r\n  &lt;repository&gt;\r\n    &lt;id&gt;apache.snapshots&lt;/id&gt;\r\n    &lt;name&gt;Apache Snapshot Repository&lt;/name&gt;\r\n    &lt;url&gt;https://repository.apache.org/snapshots&lt;/url&gt;\r\n    &lt;releases&gt;\r\n      &lt;enabled&gt;false&lt;/enabled&gt;\r\n    &lt;/releases&gt;\r\n  &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```\r\n\r\nand set the version of `log4j-1.2-api` to `2.17.2-SNAPSHOT`:\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.17.2-SNAPSHOT&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**Edit:** If you can&#39;t use snapshots or wait for the next release, the behavior of `PropertyConfigurator` can be emulated as follows:\r\n\r\n```lang-java\r\nimport org.apache.log4j.config.PropertiesConfiguration;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.core.LoggerContext;\r\nimport org.apache.logging.log4j.core.config.Configuration;\r\nimport org.apache.logging.log4j.core.config.ConfigurationSource;\r\nimport org.apache.logging.log4j.core.config.Configurator;\r\nimport org.apache.logging.log4j.core.config.NullConfiguration;\r\n\r\n// PropertiesConfiguration only accepts an InputStream in 2.17.1\r\nfinal ByteArrayOutputStream os = new ByteArrayOutputStream();\r\nl4jprops.save(os, null);\r\nfinal InputStream is = new ByteArrayInputStream(os.toByteArray());\r\n// Initialize to prevent automatic configuration.\r\nConfigurator.initialize(new NullConfiguration());\r\nfinal LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\r\nfinal Configuration config = new PropertiesConfiguration(ctx, new ConfigurationSource(is), 0);\r\nConfigurator.reconfigure(config);\r\n","title":"Using log4j1.2-2 bridge, is it possible to dynamically configure the log settings","body":"<p>Until Log4j 2.17.1, <code>PropertyConfigurator</code> has been a no-op. That is going to change in the upcoming release (cf. <a href=\"https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-1.2-api/src/main/java/org/apache/log4j/PropertyConfigurator.java\" rel=\"nofollow noreferrer\">source code</a>): your code should work <strong>without any changes</strong>.</p>\n<p>In order to test the new release, add the <a href=\"https://logging.apache.org/log4j/2.x/maven-artifacts.html#Snapshot_builds\" rel=\"nofollow noreferrer\">snapshots repository</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;apache.snapshots&lt;/id&gt;\n    &lt;name&gt;Apache Snapshot Repository&lt;/name&gt;\n    &lt;url&gt;https://repository.apache.org/snapshots&lt;/url&gt;\n    &lt;releases&gt;\n      &lt;enabled&gt;false&lt;/enabled&gt;\n    &lt;/releases&gt;\n  &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>and set the version of <code>log4j-1.2-api</code> to <code>2.17.2-SNAPSHOT</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;\n    &lt;version&gt;2.17.2-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Edit:</strong> If you can't use snapshots or wait for the next release, the behavior of <code>PropertyConfigurator</code> can be emulated as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.log4j.config.PropertiesConfiguration;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.core.LoggerContext;\nimport org.apache.logging.log4j.core.config.Configuration;\nimport org.apache.logging.log4j.core.config.ConfigurationSource;\nimport org.apache.logging.log4j.core.config.Configurator;\nimport org.apache.logging.log4j.core.config.NullConfiguration;\n\n// PropertiesConfiguration only accepts an InputStream in 2.17.1\nfinal ByteArrayOutputStream os = new ByteArrayOutputStream();\nl4jprops.save(os, null);\nfinal InputStream is = new ByteArrayInputStream(os.toByteArray());\n// Initialize to prevent automatic configuration.\nConfigurator.initialize(new NullConfiguration());\nfinal LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\nfinal Configuration config = new PropertiesConfiguration(ctx, new ConfigurationSource(is), 0);\nConfigurator.reconfigure(config);\n</code></pre>\n"}],"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":887,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70854909,"answer_count":1,"score":1,"last_activity_date":1643144271,"creation_date":1643139093,"question_id":70854599,"body_markdown":"We are using the log4j1 to log4j2 bridge,\r\n\r\nlog4j-1.2-api-2.17.1.jar\r\n\r\nAnd our code uses the PropertyConfigu\r\n\r\n    System.getProperty( &quot;appserver.Name&quot; );\r\n    System.setProperty( &quot;appserver.Name&quot;, &quot;/usr/local/logs/server3&quot; );\r\n    l4jprops.put( &quot;appserver.Name&quot;, &quot;/usr/local/logs/server3&quot; );\t\r\n    \r\n    \t        \r\n    PropertyConfigurator.configure( l4jprops );\r\n    logger = Logger.getLogger(PfsSystemPropertiesServlet.class.getName());\r\n\r\nHere is an example log4j setting.\r\n\r\n    log4j.appender.AuthAppender.File=${appserver.Name}/log4j_api_auth.log\r\n    log4j.appender.AuthAppender.DatePattern=&#39;.&#39;yyyy-MM-dd\r\n\r\nThis currently doesnt seem to write the logs as we want, how can we get this code to work with the bridge.  That class available.\r\n","title":"Using log4j1.2-2 bridge, is it possible to dynamically configure the log settings","body":"<p>We are using the log4j1 to log4j2 bridge,</p>\n<p>log4j-1.2-api-2.17.1.jar</p>\n<p>And our code uses the PropertyConfigu</p>\n<pre><code>System.getProperty( &quot;appserver.Name&quot; );\nSystem.setProperty( &quot;appserver.Name&quot;, &quot;/usr/local/logs/server3&quot; );\nl4jprops.put( &quot;appserver.Name&quot;, &quot;/usr/local/logs/server3&quot; );    \n\n            \nPropertyConfigurator.configure( l4jprops );\nlogger = Logger.getLogger(PfsSystemPropertiesServlet.class.getName());\n</code></pre>\n<p>Here is an example log4j setting.</p>\n<pre><code>log4j.appender.AuthAppender.File=${appserver.Name}/log4j_api_auth.log\nlog4j.appender.AuthAppender.DatePattern='.'yyyy-MM-dd\n</code></pre>\n<p>This currently doesnt seem to write the logs as we want, how can we get this code to work with the bridge.  That class available.</p>\n"},{"tags":["java","android","xml","kotlin","scrollbar"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1643220548,"post_id":70855445,"comment_id":125284115,"body_markdown":"Try looking at [Enabling scrollbar in edittext](https://stackoverflow.com/q/4319456/16653700).","body":"Try looking at <a href=\"https://stackoverflow.com/q/4319456/16653700\">Enabling scrollbar in edittext</a>."}],"answers":[{"tags":[],"owner":{"account_id":24041494,"reputation":1,"user_id":18021084,"display_name":"paul30"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643144270,"creation_date":1643144270,"answer_id":70855586,"question_id":70855445,"body_markdown":"You can add `fadeScrollbars=&quot;false&quot;` in your xml","title":"How to add a scrollbar to an edit text","body":"<p>You can add <code>fadeScrollbars=&quot;false&quot;</code> in your xml</p>\n"}],"owner":{"account_id":17592156,"reputation":696,"user_id":12763792,"display_name":"dazai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643144270,"creation_date":1643143548,"question_id":70855445,"body_markdown":"I was wondering how I can add a scrollbar to an edit text whenever the text is too long and can&#39;t be seen on the edit text box.\r\n\r\nSomething like this:\r\n[![enter image description here][1]][1]\r\n\r\nAny ideas? I&#39;ve tried setting it through the xml but so far it hasn&#39;t worked, it just moves if I drag my finger over it but no bar is visible.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AiL3p.png","title":"How to add a scrollbar to an edit text","body":"<p>I was wondering how I can add a scrollbar to an edit text whenever the text is too long and can't be seen on the edit text box.</p>\n<p>Something like this:\n<a href=\"https://i.stack.imgur.com/AiL3p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AiL3p.png\" alt=\"enter image description here\" /></a></p>\n<p>Any ideas? I've tried setting it through the xml but so far it hasn't worked, it just moves if I drag my finger over it but no bar is visible.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643124402,"creation_date":1643124402,"answer_id":70851299,"question_id":70850629,"body_markdown":"Did you take a look at RouteBox?\r\n\r\n&gt; THE NEED FOR A CAMEL ROUTEBOX ENDPOINT The routebox component is\r\n&gt; designed to ease integration in complex environments needing a large\r\n&gt; collection of routes and involving a wide set of endpoint technologies\r\n&gt; needing integration in different ways\r\n&gt; \r\n&gt; In such environments, it is often necessary to craft an integration\r\n&gt; solution by creating a sense of layering among camel routes\r\n&gt; effectively organizing them into\r\n&gt; \r\n&gt; Coarse grained or higher level routes - aggregated collection of inner\r\n&gt; or lower level routes exposed as Routebox endpoints that represent an\r\n&gt; integration focus area. For example\r\n\r\n\r\nhttps://camel.apache.org/components/2.x/routebox-component.html\r\n\r\nIts usage:\r\n\r\n    from (&quot;direct:sendToMapBasedRoutebox&quot;)\r\n        .setHeader(&quot;ROUTE_DISPATCH_KEY&quot;, constant(&quot;addToCatalog&quot;))\r\n        .to(&quot;routebox:multipleRoutes?innerRegistry=#registry&amp;routeBuilders=#routes&amp;dispatchMap=#map&quot;)\r\n        .to(&quot;log:Routes operation performed?showAll=true&quot;);\r\n\r\n\r\nThen in theory this should fan out the requests towards all (routes) encapsulated by a RouteBox.\r\n\r\n\r\n\r\n","title":"Sending message to a changing number of endpoints using Camel http4","body":"<p>Did you take a look at RouteBox?</p>\n<blockquote>\n<p>THE NEED FOR A CAMEL ROUTEBOX ENDPOINT The routebox component is\ndesigned to ease integration in complex environments needing a large\ncollection of routes and involving a wide set of endpoint technologies\nneeding integration in different ways</p>\n<p>In such environments, it is often necessary to craft an integration\nsolution by creating a sense of layering among camel routes\neffectively organizing them into</p>\n<p>Coarse grained or higher level routes - aggregated collection of inner\nor lower level routes exposed as Routebox endpoints that represent an\nintegration focus area. For example</p>\n</blockquote>\n<p><a href=\"https://camel.apache.org/components/2.x/routebox-component.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/2.x/routebox-component.html</a></p>\n<p>Its usage:</p>\n<pre><code>from (&quot;direct:sendToMapBasedRoutebox&quot;)\n    .setHeader(&quot;ROUTE_DISPATCH_KEY&quot;, constant(&quot;addToCatalog&quot;))\n    .to(&quot;routebox:multipleRoutes?innerRegistry=#registry&amp;routeBuilders=#routes&amp;dispatchMap=#map&quot;)\n    .to(&quot;log:Routes operation performed?showAll=true&quot;);\n</code></pre>\n<p>Then in theory this should fan out the requests towards all (routes) encapsulated by a RouteBox.</p>\n"},{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643144145,"creation_date":1643144145,"answer_id":70855551,"question_id":70850629,"body_markdown":"The (dynamic in your case) `recipientList` is what you need !\r\nSee https://camel.apache.org/components/3.14.x/eips/recipientList-eip.html","title":"Sending message to a changing number of endpoints using Camel http4","body":"<p>The (dynamic in your case) <code>recipientList</code> is what you need !\nSee <a href=\"https://camel.apache.org/components/3.14.x/eips/recipientList-eip.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.14.x/eips/recipientList-eip.html</a></p>\n"}],"owner":{"account_id":15462565,"reputation":132,"user_id":11154866,"display_name":"lbma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70855551,"answer_count":2,"score":0,"last_activity_date":1643144145,"creation_date":1643121715,"question_id":70850629,"body_markdown":"I have created the following piece of code and, instead of just one endpoint, I want to send the same JSON body to multiple endpoints using camel HTTP4. The number of endpoints is likely to change over time.\r\n\r\n```\r\n\t\t\t\t\t.choice()\r\n\t\t\t\t\t\t.when(simple(&quot;${body} != null&quot;))\r\n\t\t\t\t\t\t\t  .setHeader(Exchange.HTTP_METHOD, constant(&quot;POST&quot;))\r\n\t\t\t\t\t\t\t  .setHeader(Exchange.HTTP_URI, simple(url))\r\n\t\t\t\t\t\t\t  .setProperty(&quot;ObjectBody&quot;, body())\r\n\t\t\t\t\t\t\t  .to(&quot;http4://someEndpoint?throwExceptionOnFailure=true&amp;httpClient.socketTimeout=300000&quot;)\r\n\t\t\t\t\t\t.otherwise()\r\n\t\t\t\t\t\t\t.log(LoggingLevel.ERROR, &quot;Incoming request has empty body&quot;)\r\n\t\t\t\t\t\t.endChoice()\r\n\t\t\t\t\t.end()\r\n```\r\n\r\nI&#39;m trying to figure out the best way to configure and use multiple endpoints in this scenario. \r\n\r\nI have looked at the Multicast EIP, but it looks like I would have to know the number of endpoints beforehand. \r\n\r\nAny ideas are greatly appreciated!","title":"Sending message to a changing number of endpoints using Camel http4","body":"<p>I have created the following piece of code and, instead of just one endpoint, I want to send the same JSON body to multiple endpoints using camel HTTP4. The number of endpoints is likely to change over time.</p>\n<pre><code>                    .choice()\n                        .when(simple(&quot;${body} != null&quot;))\n                              .setHeader(Exchange.HTTP_METHOD, constant(&quot;POST&quot;))\n                              .setHeader(Exchange.HTTP_URI, simple(url))\n                              .setProperty(&quot;ObjectBody&quot;, body())\n                              .to(&quot;http4://someEndpoint?throwExceptionOnFailure=true&amp;httpClient.socketTimeout=300000&quot;)\n                        .otherwise()\n                            .log(LoggingLevel.ERROR, &quot;Incoming request has empty body&quot;)\n                        .endChoice()\n                    .end()\n</code></pre>\n<p>I'm trying to figure out the best way to configure and use multiple endpoints in this scenario.</p>\n<p>I have looked at the Multicast EIP, but it looks like I would have to know the number of endpoints beforehand.</p>\n<p>Any ideas are greatly appreciated!</p>\n"},{"tags":["java","jsp","session","servlets","glassfish"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1643136663,"post_id":70853972,"comment_id":125258641,"body_markdown":"You should not be doing all this scripting in your JSP.  But you could print out the session Id at each step to see that you are using the same session all the way through.","body":"You should not be doing all this scripting in your JSP.  But you could print out the session Id at each step to see that you are using the same session all the way through."},{"owner":{"account_id":17118970,"reputation":127,"user_id":12387711,"display_name":"Swagnar"},"score":0,"creation_date":1643143118,"post_id":70853972,"comment_id":125260883,"body_markdown":"@rickz Hi, well it&#39;s just a homework assigment and I really don&#39;t see myself using java after all shenanigans I went through with it. I&#39;ve printed session IDs on my servlet and after redirecting to jsp page and they are the same","body":"@rickz Hi, well it&#39;s just a homework assigment and I really don&#39;t see myself using java after all shenanigans I went through with it. I&#39;ve printed session IDs on my servlet and after redirecting to jsp page and they are the same"}],"answers":[{"tags":[],"owner":{"account_id":17118970,"reputation":127,"user_id":12387711,"display_name":"Swagnar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643143868,"creation_date":1643143868,"answer_id":70855501,"question_id":70853972,"body_markdown":"Sorry guys, I&#39;m just terrible at Java that&#39;s all. I didn&#39;t know that when you want to **output** values in JSP you need to use ```&lt;%= %&gt;``` tags instead of ```&lt;% %&gt;``` that is used for logic.","title":"Java Servlet/JSP - can&#39;t access session attribiutes","body":"<p>Sorry guys, I'm just terrible at Java that's all. I didn't know that when you want to <strong>output</strong> values in JSP you need to use <code>&lt;%= %&gt;</code> tags instead of <code>&lt;% %&gt;</code> that is used for logic.</p>\n"}],"owner":{"account_id":17118970,"reputation":127,"user_id":12387711,"display_name":"Swagnar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70855501,"answer_count":1,"score":0,"last_activity_date":1643143868,"creation_date":1643135941,"question_id":70853972,"body_markdown":"while working on my homework first tasks were about servlets strictly and then when passing values between servlets the ```session.setAttribiute``` and ```session.getAttribiute``` worked OK. But since using servlets and jsp I have problems with empty values. Here&#39;s the code in question. &lt;br&gt;\r\nServlet:\r\n\r\n```java\r\n@WebServlet(name = &quot;SubmitLoginServlet&quot;, value = &quot;/submitLogin&quot;)\r\npublic class SubmitLogin extends HttpServlet {\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\r\n        PrintWriter out = response.getWriter();\r\n        response.setContentType(&quot;text/html;charset=UTF-8&quot;);\r\n        String username = request.getParameter(&quot;username&quot;);\r\n        String password = request.getParameter(&quot;password&quot;);\r\n\r\n        try {\r\n            Connection con = DatabaseConnection.initDatabase();\r\n            Statement statement = con.createStatement();\r\n            String sql = &quot;SELECT * FROM users&quot;;\r\n            ResultSet resultSet = statement.executeQuery(sql);\r\n\r\n            while (resultSet.next()) {\r\n                String DBusername = resultSet.getString(&quot;name&quot;);\r\n                String DBpassword = resultSet.getString(&quot;password&quot;);\r\n                if(DBusername.equals(username) &amp;&amp; DBpassword.equals(password)) {\r\n                    request.getSession().setAttribute(&quot;username&quot;, &quot;test&quot;);\r\n//                  I USED &quot;TEST&quot; JUST FOR TESTING, STILL THE VALUE ON &#39;INDEX.JSP&#39; IS EMPTY\r\n                    request.getRequestDispatcher(&quot;/index.jsp&quot;).forward(request,response);\r\n//                    response.sendRedirect(&quot;index.jsp&quot;);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n// INDEX.JSP - pasted in this block because of bug with code formatting, sorry\r\n// on top of the file I have &lt;%@ page session = &quot;false&quot; %&gt;\r\n\r\n&lt;div class=&quot;column is-one-fifth is-offset-two-fifths&quot;&gt;\r\n            &lt;%\r\n                HttpSession session = request.getSession(true);\r\n                if(session.getAttribute(&quot;username&quot;) == &quot;&quot; || session.getAttribute(&quot;username&quot;) == null) {\r\n            %&gt;\r\n            &lt;form action=&quot;register.jsp&quot;&gt;\r\n                &lt;button type=&quot;submit&quot; class=&quot;button is-info is-fullwidth&quot;&gt;Signup&lt;/button&gt;\r\n            &lt;/form&gt;\r\n            &lt;form action=&quot;login.jsp&quot; method=&quot;get&quot;&gt;\r\n                &lt;button type=&quot;submit&quot; class=&quot;button is-success is-fullwidth&quot;&gt;Login&lt;/button&gt;\r\n            &lt;/form&gt;\r\n\r\n            &lt;% } else { %&gt;\r\n            &lt;h1 class=&quot;title&quot;&gt; Welcome &lt;% request.getSession().getAttribute(&quot;username&quot;); %&gt;&lt;/h1&gt;\r\n            &lt;button class=&quot;button is-danger&quot;&gt;Logout&lt;/button&gt;\r\n            &lt;% } %&gt;\r\n        &lt;/div&gt;\r\n```\r\nThen after login and redirecting to index.jsp i have &lt;strong&gt;Welcome&lt;/strong&gt; with empty space and logout button. Any help?","title":"Java Servlet/JSP - can&#39;t access session attribiutes","body":"<p>while working on my homework first tasks were about servlets strictly and then when passing values between servlets the <code>session.setAttribiute</code> and <code>session.getAttribiute</code> worked OK. But since using servlets and jsp I have problems with empty values. Here's the code in question. <br>\nServlet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebServlet(name = &quot;SubmitLoginServlet&quot;, value = &quot;/submitLogin&quot;)\npublic class SubmitLogin extends HttpServlet {\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n        PrintWriter out = response.getWriter();\n        response.setContentType(&quot;text/html;charset=UTF-8&quot;);\n        String username = request.getParameter(&quot;username&quot;);\n        String password = request.getParameter(&quot;password&quot;);\n\n        try {\n            Connection con = DatabaseConnection.initDatabase();\n            Statement statement = con.createStatement();\n            String sql = &quot;SELECT * FROM users&quot;;\n            ResultSet resultSet = statement.executeQuery(sql);\n\n            while (resultSet.next()) {\n                String DBusername = resultSet.getString(&quot;name&quot;);\n                String DBpassword = resultSet.getString(&quot;password&quot;);\n                if(DBusername.equals(username) &amp;&amp; DBpassword.equals(password)) {\n                    request.getSession().setAttribute(&quot;username&quot;, &quot;test&quot;);\n//                  I USED &quot;TEST&quot; JUST FOR TESTING, STILL THE VALUE ON 'INDEX.JSP' IS EMPTY\n                    request.getRequestDispatcher(&quot;/index.jsp&quot;).forward(request,response);\n//                    response.sendRedirect(&quot;index.jsp&quot;);\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n// INDEX.JSP - pasted in this block because of bug with code formatting, sorry\n// on top of the file I have &lt;%@ page session = &quot;false&quot; %&gt;\n\n&lt;div class=&quot;column is-one-fifth is-offset-two-fifths&quot;&gt;\n            &lt;%\n                HttpSession session = request.getSession(true);\n                if(session.getAttribute(&quot;username&quot;) == &quot;&quot; || session.getAttribute(&quot;username&quot;) == null) {\n            %&gt;\n            &lt;form action=&quot;register.jsp&quot;&gt;\n                &lt;button type=&quot;submit&quot; class=&quot;button is-info is-fullwidth&quot;&gt;Signup&lt;/button&gt;\n            &lt;/form&gt;\n            &lt;form action=&quot;login.jsp&quot; method=&quot;get&quot;&gt;\n                &lt;button type=&quot;submit&quot; class=&quot;button is-success is-fullwidth&quot;&gt;Login&lt;/button&gt;\n            &lt;/form&gt;\n\n            &lt;% } else { %&gt;\n            &lt;h1 class=&quot;title&quot;&gt; Welcome &lt;% request.getSession().getAttribute(&quot;username&quot;); %&gt;&lt;/h1&gt;\n            &lt;button class=&quot;button is-danger&quot;&gt;Logout&lt;/button&gt;\n            &lt;% } %&gt;\n        &lt;/div&gt;\n</code></pre>\n<p>Then after login and redirecting to index.jsp i have <strong>Welcome</strong> with empty space and logout button. Any help?</p>\n"},{"tags":["java","quartz-scheduler"],"comments":[{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1643146281,"post_id":70854692,"comment_id":125261910,"body_markdown":"Maybe synchronize your method vetoJobExecution.","body":"Maybe synchronize your method vetoJobExecution."},{"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"score":0,"creation_date":1643148289,"post_id":70854692,"comment_id":125262553,"body_markdown":"@Mr_Thorynque Not that kind of race condition unfortunately.  Current running jobs is always empty at the point of reaching the trigger listener.","body":"@Mr_Thorynque Not that kind of race condition unfortunately.  Current running jobs is always empty at the point of reaching the trigger listener."}],"owner":{"account_id":1925703,"reputation":2161,"user_id":1736218,"accept_rate":62,"display_name":"b15"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":666,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643143706,"creation_date":1643139527,"question_id":70854692,"body_markdown":"It appears the behavior of `@DisallowConcurrentExecution` on a job is to queue it when it&#39;s redundantly scheduled (for **now** meaning there&#39;s currently a job trying to be fired right now or already executing).  I want to instead skip execution, even when the new trigger doesn&#39;t use a schedule and is simply using `.startNow()` . Basically, I&#39;m trying to avoid queueing up the same job from multiple triggers to be run back to back.\r\n\r\nI looked into implementing a `TriggerListener` like the following and removing `@DisallowConcurrentExecution` but it doesn&#39;t seem reliable as I&#39;m still getting a race condition when scheduling the same job repeatedly all at once and they&#39;re all past their chance to veto (already decided not to) before execution even starts. \r\n\r\n    import org.quartz.JobExecutionContext;\r\n    import org.quartz.SchedulerException;\r\n    import org.quartz.Trigger;\r\n    import org.quartz.listeners.TriggerListenerSupport;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class VetoAlreadyRunningTriggerListener extends TriggerListenerSupport {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(VetoAlreadyRunningTriggerListener.class);\r\n    \r\n        @Override\r\n        public String getName() {\r\n            return VetoAlreadyRunningTriggerListener.class.getSimpleName();\r\n        }\r\n    \r\n        @Override\r\n        public boolean vetoJobExecution(Trigger trigger, JobExecutionContext context) {\r\n            try {\r\n                boolean veto = context.getScheduler().getCurrentlyExecutingJobs().stream()\r\n                        .anyMatch(otherContext -&gt; otherContext.getJobDetail().getKey()\r\n                                .equals(context.getJobDetail().getKey()));\r\n    \r\n                if (veto) {\r\n                    LOGGER.info(&quot;Vetoing as another job with the same key is already running.&quot;);\r\n                }\r\n    \r\n                return veto;\r\n            } catch (SchedulerException e) {\r\n                LOGGER.error(&quot;Scheduler exception while deciding whether to veto job.  Defaulting to VETO!&quot;);\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n\r\nIs there a good solution to this problem?  It seems like it should be a common use case and Quartz it supposedly pretty mature and feature rich but I can&#39;t seem to find a reasonable answer anywhere.\r\n\r\n","title":"Quartz: Veto job if job already scheduled or running","body":"<p>It appears the behavior of <code>@DisallowConcurrentExecution</code> on a job is to queue it when it's redundantly scheduled (for <strong>now</strong> meaning there's currently a job trying to be fired right now or already executing).  I want to instead skip execution, even when the new trigger doesn't use a schedule and is simply using <code>.startNow()</code> . Basically, I'm trying to avoid queueing up the same job from multiple triggers to be run back to back.</p>\n<p>I looked into implementing a <code>TriggerListener</code> like the following and removing <code>@DisallowConcurrentExecution</code> but it doesn't seem reliable as I'm still getting a race condition when scheduling the same job repeatedly all at once and they're all past their chance to veto (already decided not to) before execution even starts.</p>\n<pre><code>import org.quartz.JobExecutionContext;\nimport org.quartz.SchedulerException;\nimport org.quartz.Trigger;\nimport org.quartz.listeners.TriggerListenerSupport;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class VetoAlreadyRunningTriggerListener extends TriggerListenerSupport {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(VetoAlreadyRunningTriggerListener.class);\n\n    @Override\n    public String getName() {\n        return VetoAlreadyRunningTriggerListener.class.getSimpleName();\n    }\n\n    @Override\n    public boolean vetoJobExecution(Trigger trigger, JobExecutionContext context) {\n        try {\n            boolean veto = context.getScheduler().getCurrentlyExecutingJobs().stream()\n                    .anyMatch(otherContext -&gt; otherContext.getJobDetail().getKey()\n                            .equals(context.getJobDetail().getKey()));\n\n            if (veto) {\n                LOGGER.info(&quot;Vetoing as another job with the same key is already running.&quot;);\n            }\n\n            return veto;\n        } catch (SchedulerException e) {\n            LOGGER.error(&quot;Scheduler exception while deciding whether to veto job.  Defaulting to VETO!&quot;);\n            return true;\n        }\n    }\n}\n</code></pre>\n<p>Is there a good solution to this problem?  It seems like it should be a common use case and Quartz it supposedly pretty mature and feature rich but I can't seem to find a reasonable answer anywhere.</p>\n"},{"tags":["java","docker","selenium","dockerfile","geckodriver"],"comments":[{"owner":{"account_id":10230959,"reputation":3676,"user_id":7551712,"display_name":"Jortega"},"score":1,"creation_date":1629994149,"post_id":68941584,"comment_id":121840605,"body_markdown":"Have you seen this post? https://stackoverflow.com/questions/45323271/how-to-run-selenium-with-chrome-in-docker","body":"Have you seen this post? <a href=\"https://stackoverflow.com/questions/45323271/how-to-run-selenium-with-chrome-in-docker\" title=\"how to run selenium with chrome in docker\">stackoverflow.com/questions/45323271/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8776669,"reputation":482,"user_id":6561717,"accept_rate":60,"display_name":"Antoine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1629999419,"creation_date":1629999419,"answer_id":68943085,"question_id":68941584,"body_markdown":"Indeed Jortega I&#39;ve based my image on the selenium image : https://hub.docker.com/r/selenium/standalone-firefox\r\n\r\nHere is my Dockerfile\r\n\r\n    FROM selenium/standalone-firefox:91.0-20210823\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} app.jar\r\n\r\n    # Spring boot entrypoint\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\nIn my Java application here&#39;s the FireFox configuration : \r\n\r\n    // webBrowserDriverPath is a env variable set to &quot;/usr/bin/geckodriver&quot;\r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;, webBrowserDriverPath);\r\n    final FirefoxOptions options = new FirefoxOptions();\r\n    options.addArguments(\r\n                &quot;--no-sandbox&quot;,\r\n                &quot;--disable-extensions&quot;,\r\n                &quot;--disable-gpu&quot;,\r\n                &quot;--window-size=1920,1200&quot;,\r\n                &quot;--ignore-certificate-errors&quot;,\r\n                &quot;--whitelisted-ips=&#39;&#39;&quot;,\r\n                &quot;--disable-dev-shm-usage&quot;,\r\n                &quot;--window-size=1920,1080&quot;,\r\n                &quot;--lang=fr&quot;);\r\n    // display browser in dev mode\r\n    if (conf.isHeadlessModeEnabled()) {\r\n        options.addArguments(&quot;--headless&quot;);\r\n    }\r\n    options.addPreference(&quot;intl.accept_languages&quot;, &quot;fr&quot;);\r\n    this.remoteWebDriver = new FirefoxDriver(options);\r\n\r\nEverything work fine !","title":"Selenium inside Docker image for Java application","body":"<p>Indeed Jortega I've based my image on the selenium image : <a href=\"https://hub.docker.com/r/selenium/standalone-firefox\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/selenium/standalone-firefox</a></p>\n<p>Here is my Dockerfile</p>\n<pre><code>FROM selenium/standalone-firefox:91.0-20210823\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\n\n# Spring boot entrypoint\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>In my Java application here's the FireFox configuration :</p>\n<pre><code>// webBrowserDriverPath is a env variable set to &quot;/usr/bin/geckodriver&quot;\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;, webBrowserDriverPath);\nfinal FirefoxOptions options = new FirefoxOptions();\noptions.addArguments(\n            &quot;--no-sandbox&quot;,\n            &quot;--disable-extensions&quot;,\n            &quot;--disable-gpu&quot;,\n            &quot;--window-size=1920,1200&quot;,\n            &quot;--ignore-certificate-errors&quot;,\n            &quot;--whitelisted-ips=''&quot;,\n            &quot;--disable-dev-shm-usage&quot;,\n            &quot;--window-size=1920,1080&quot;,\n            &quot;--lang=fr&quot;);\n// display browser in dev mode\nif (conf.isHeadlessModeEnabled()) {\n    options.addArguments(&quot;--headless&quot;);\n}\noptions.addPreference(&quot;intl.accept_languages&quot;, &quot;fr&quot;);\nthis.remoteWebDriver = new FirefoxDriver(options);\n</code></pre>\n<p>Everything work fine !</p>\n"},{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630505653,"creation_date":1630505653,"answer_id":69015458,"question_id":68941584,"body_markdown":"I am using this docker setup for my automation, working fine. [link][1]\r\n\r\n\r\n  [1]: https://github.com/SeleniumHQ/docker-selenium/blob/trunk/docker-compose-v3.yml\r\n\r\n\r\ni am using following option, \r\n\r\n    \r\n    options.addArguments(Arrays.asList(&quot;--window-position=0,0&quot;));\r\n    options.addArguments(Arrays.asList(&quot;--window-size=1840,1080&quot;));\r\n    driver = new RemoteWebDriver(new URL(hub), options);","title":"Selenium inside Docker image for Java application","body":"<p>I am using this docker setup for my automation, working fine. <a href=\"https://github.com/SeleniumHQ/docker-selenium/blob/trunk/docker-compose-v3.yml\" rel=\"nofollow noreferrer\">link</a></p>\n<p>i am using following option,</p>\n<pre><code>options.addArguments(Arrays.asList(&quot;--window-position=0,0&quot;));\noptions.addArguments(Arrays.asList(&quot;--window-size=1840,1080&quot;));\ndriver = new RemoteWebDriver(new URL(hub), options);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14482915,"reputation":111,"user_id":10461682,"display_name":"Pawel W"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643143521,"creation_date":1643121579,"answer_id":70850585,"question_id":68941584,"body_markdown":"your dockerfile for Chromium (not chrome) is correct.\r\nyou have to add in java code:\r\n\r\n    chromeOptions.setBinary(&quot;/usr/bin/chromium-browser&quot;);\r\n\r\n\r\n\r\n\r\nI have also working version: jdk 11 (ubuntu) + chrome (for selenium):\r\n\r\n\r\n    # on ubuntu\r\n    FROM azul/zulu-openjdk:11\r\n\r\n    RUN apt-get update &amp;&amp; apt-get install -y \\\r\n\tgnupg2 \\\r\n\twget \\\r\n\tless \\\r\n\t&amp;&amp; rm -rf /var/lib/apt/lists/*\r\n\r\n    #######################\r\n    # Google Chrome\r\n\r\n    # Adding trusting keys to apt for repositories\r\n    RUN wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | \r\n    apt-key add -\r\n    # Adding Google Chrome to the repositories\r\n    RUN sh -c &#39;echo &quot;deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ \r\n    stable main&quot; &gt;&gt; /etc/apt/sources.list.d/google-chrome.list&#39;\r\n    # Updating apt to see and install Google Chrome\r\n    RUN apt-get -y update\r\n    # Magic happens\r\n    RUN apt-get install -y google-chrome-stable\r\n    # Installing Unzip\r\n    RUN apt-get install -yqq unzip\r\n\r\n\r\n    #######################\r\n    # Google Chrome Driver - now i have driver in my java app (i need both \r\n    java app version on docker and non-docker)\r\n\r\n    # Download the Chrome Driver\r\n    #RUN wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | \r\n    apt-key add -\r\n    #RUN sh -c &#39;echo &quot;deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ \r\n    stable main&quot; &gt;&gt; /etc/apt/sources.list.d/google-chrome.list&#39;\r\n    #RUN apt-get -y update\r\n    #RUN apt-get install -y google-chrome-stable\r\n    # install chromedriver\r\n    #RUN apt-get install -yqq unzip\r\n    #RUN wget -O /tmp/chromedriver.zip \r\n    http://chromedriver.storage.googleapis.com/`curl -sS \r\n     chromedriver.storage.googleapis.com/LATEST_RELEASE`/chromedriver_linux64.zip\r\n    #RUN unzip /tmp/chromedriver.zip chromedriver -d /usr/local/bin/\r\n\r\n    #######################\r\n\r\n    RUN apt-get update\r\n\r\n\r\n    # Set display port as an environment variable\r\n    ENV DISPLAY=:99\r\n\r\n\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} bot-app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/bot-app.jar&quot;]\r\n\r\nIt works fine.\r\n","title":"Selenium inside Docker image for Java application","body":"<p>your dockerfile for Chromium (not chrome) is correct.\nyou have to add in java code:</p>\n<pre><code>chromeOptions.setBinary(&quot;/usr/bin/chromium-browser&quot;);\n</code></pre>\n<p>I have also working version: jdk 11 (ubuntu) + chrome (for selenium):</p>\n<pre><code># on ubuntu\nFROM azul/zulu-openjdk:11\n\nRUN apt-get update &amp;&amp; apt-get install -y \\\ngnupg2 \\\nwget \\\nless \\\n&amp;&amp; rm -rf /var/lib/apt/lists/*\n\n#######################\n# Google Chrome\n\n# Adding trusting keys to apt for repositories\nRUN wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | \napt-key add -\n# Adding Google Chrome to the repositories\nRUN sh -c 'echo &quot;deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ \nstable main&quot; &gt;&gt; /etc/apt/sources.list.d/google-chrome.list'\n# Updating apt to see and install Google Chrome\nRUN apt-get -y update\n# Magic happens\nRUN apt-get install -y google-chrome-stable\n# Installing Unzip\nRUN apt-get install -yqq unzip\n\n\n#######################\n# Google Chrome Driver - now i have driver in my java app (i need both \njava app version on docker and non-docker)\n\n# Download the Chrome Driver\n#RUN wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | \napt-key add -\n#RUN sh -c 'echo &quot;deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ \nstable main&quot; &gt;&gt; /etc/apt/sources.list.d/google-chrome.list'\n#RUN apt-get -y update\n#RUN apt-get install -y google-chrome-stable\n# install chromedriver\n#RUN apt-get install -yqq unzip\n#RUN wget -O /tmp/chromedriver.zip \nhttp://chromedriver.storage.googleapis.com/`curl -sS \n chromedriver.storage.googleapis.com/LATEST_RELEASE`/chromedriver_linux64.zip\n#RUN unzip /tmp/chromedriver.zip chromedriver -d /usr/local/bin/\n\n#######################\n\nRUN apt-get update\n\n\n# Set display port as an environment variable\nENV DISPLAY=:99\n\n\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} bot-app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/bot-app.jar&quot;]\n</code></pre>\n<p>It works fine.</p>\n"}],"owner":{"account_id":8776669,"reputation":482,"user_id":6561717,"accept_rate":60,"display_name":"Antoine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2982,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68943085,"answer_count":3,"score":2,"last_activity_date":1643143521,"creation_date":1629992571,"question_id":68941584,"body_markdown":"I&#39;ve developped Java application to make some litle web scraping tasks with Selenium.\r\nIt work fine in my local environment with Windows 10 and both chrome / FireFox last versions with their appropriate driver path configured.\r\n\r\nThe thing is I need my application to be in a container to deploy it and I&#39;ve got issues.\r\nI&#39;ve created a Dockerfile based on Alpine, and installed what need to be installed (helped by some posts found on the internet). With the FireFox driver it&#39;s working almost fine for the first operations but some do not work the same as they do in my configuration in local and some even crash the client... That&#39;s why I&#39;ve tried with chromium but I&#39;ve got some issues with a connection to the browser not even working.\r\n\r\nI&#39;ve spent hours already on this and start thinking maybe I&#39;m missing something, am I supposed to do that way by dowloading browsers and driver in my Dockerfile ?\r\n\r\nFor now I sucpect the versions of FireFox or the geckodriver associated not behaving the same as the one I&#39;ve got on my machine and I can see the browser when It&#39;s working inside the container only logs I&#39;ve added.\r\n\r\nDockerfile (for FireFox browser try) :\r\n\r\n    FROM openjdk:8-jdk-alpine\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} app.jar\r\n\r\n    # https://stackoverflow.com/questions/58738920/running-geckodriver-in-an-alpine-docker-container\r\n    # Get all the prereqs\r\n    RUN wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub\r\n    RUN wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.34-r0/glibc-2.34-r0.apk\r\n    RUN wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.34-r0/glibc-bin-2.34-r0.apk\r\n    RUN apk add glibc-2.34-r0.apk\r\n    RUN apk add glibc-bin-2.34-r0.apk\r\n\r\n    # And of course we need Firefox if we actually want to *use* GeckoDriver\r\n    RUN apk add firefox-esr=60.9.0-r0\r\n\r\n    # Then install GeckoDriver\r\n    RUN wget https://github.com/mozilla/geckodriver/releases/download/v0.29.1/geckodriver-v0.29.1-linux64.tar.gz\r\n    RUN tar -zxf geckodriver-v0.29.1-linux64.tar.gz -C /usr/bin\r\n\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\n\r\nDockerfile (for Chrome browser try, I know optimisations could be made probably) :\r\n\r\n    FROM openjdk:8-jdk-alpine\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} app.jar\r\n\r\n    RUN apk update &amp;&amp; apk add --no-cache bash \\\r\n        alsa-lib \\\r\n        at-spi2-atk \\\r\n        atk \\\r\n        cairo \\\r\n        cups-libs \\\r\n        dbus-libs \\\r\n        eudev-libs \\\r\n        expat \\\r\n        flac \\\r\n        gdk-pixbuf \\\r\n        glib \\\r\n        libgcc \\\r\n        libjpeg-turbo \\\r\n        libpng \\\r\n        libwebp \\\r\n        libx11 \\\r\n        libxcomposite \\\r\n        libxdamage \\\r\n        libxext \\\r\n        libxfixes \\\r\n        tzdata \\\r\n        libexif \\\r\n        udev \\\r\n        xvfb \\\r\n        zlib-dev \\\r\n        chromium \\\r\n        chromium-chromedriver\r\n\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\nMaybe I should use a docker image like https://hub.docker.com/r/selenium/standalone-firefox and install Java manually instead ?\r\n\r\nI&#39;m very frustrated by could not being able to reproduce my local behavior inside the container and I would really appreciate some help on this ! I don&#39;t want to give up :)","title":"Selenium inside Docker image for Java application","body":"<p>I've developped Java application to make some litle web scraping tasks with Selenium.\nIt work fine in my local environment with Windows 10 and both chrome / FireFox last versions with their appropriate driver path configured.</p>\n<p>The thing is I need my application to be in a container to deploy it and I've got issues.\nI've created a Dockerfile based on Alpine, and installed what need to be installed (helped by some posts found on the internet). With the FireFox driver it's working almost fine for the first operations but some do not work the same as they do in my configuration in local and some even crash the client... That's why I've tried with chromium but I've got some issues with a connection to the browser not even working.</p>\n<p>I've spent hours already on this and start thinking maybe I'm missing something, am I supposed to do that way by dowloading browsers and driver in my Dockerfile ?</p>\n<p>For now I sucpect the versions of FireFox or the geckodriver associated not behaving the same as the one I've got on my machine and I can see the browser when It's working inside the container only logs I've added.</p>\n<p>Dockerfile (for FireFox browser try) :</p>\n<pre><code>FROM openjdk:8-jdk-alpine\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\n\n# https://stackoverflow.com/questions/58738920/running-geckodriver-in-an-alpine-docker-container\n# Get all the prereqs\nRUN wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub\nRUN wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.34-r0/glibc-2.34-r0.apk\nRUN wget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.34-r0/glibc-bin-2.34-r0.apk\nRUN apk add glibc-2.34-r0.apk\nRUN apk add glibc-bin-2.34-r0.apk\n\n# And of course we need Firefox if we actually want to *use* GeckoDriver\nRUN apk add firefox-esr=60.9.0-r0\n\n# Then install GeckoDriver\nRUN wget https://github.com/mozilla/geckodriver/releases/download/v0.29.1/geckodriver-v0.29.1-linux64.tar.gz\nRUN tar -zxf geckodriver-v0.29.1-linux64.tar.gz -C /usr/bin\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>Dockerfile (for Chrome browser try, I know optimisations could be made probably) :</p>\n<pre><code>FROM openjdk:8-jdk-alpine\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\n\nRUN apk update &amp;&amp; apk add --no-cache bash \\\n    alsa-lib \\\n    at-spi2-atk \\\n    atk \\\n    cairo \\\n    cups-libs \\\n    dbus-libs \\\n    eudev-libs \\\n    expat \\\n    flac \\\n    gdk-pixbuf \\\n    glib \\\n    libgcc \\\n    libjpeg-turbo \\\n    libpng \\\n    libwebp \\\n    libx11 \\\n    libxcomposite \\\n    libxdamage \\\n    libxext \\\n    libxfixes \\\n    tzdata \\\n    libexif \\\n    udev \\\n    xvfb \\\n    zlib-dev \\\n    chromium \\\n    chromium-chromedriver\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>Maybe I should use a docker image like <a href=\"https://hub.docker.com/r/selenium/standalone-firefox\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/selenium/standalone-firefox</a> and install Java manually instead ?</p>\n<p>I'm very frustrated by could not being able to reproduce my local behavior inside the container and I would really appreciate some help on this ! I don't want to give up :)</p>\n"},{"tags":["java","netbeans","import","jodatime"],"comments":[{"owner":{"account_id":35502,"reputation":28362,"user_id":100565,"accept_rate":59,"display_name":"MeBigFatGuy"},"score":0,"creation_date":1319255928,"post_id":7857252,"comment_id":9583430,"body_markdown":"jars don&#39;t go in source package. they go in the libraries directory.","body":"jars don&#39;t go in source package. they go in the libraries directory."}],"answers":[{"tags":[],"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1319256323,"creation_date":1319256004,"answer_id":7857300,"question_id":7857252,"body_markdown":"You have to add `joda-time-2.0.jar` via project library. (Project + Libraries (Right mouse click) + Add Jar/Folder)","title":"Package org.joda.time does not exist","body":"<p>You have to add <code>joda-time-2.0.jar</code> via project library. (Project + Libraries (Right mouse click) + Add Jar/Folder)</p>\n"},{"tags":[],"owner":{"account_id":345037,"reputation":1624,"user_id":677719,"display_name":"xappymah"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1319256021,"creation_date":1319256021,"answer_id":7857301,"question_id":7857252,"body_markdown":"You need to check that &quot;joda-time-2.0.jar&quot; is added to your classpath. If it is then check that it really contains the package mentioned.","title":"Package org.joda.time does not exist","body":"<p>You need to check that \"joda-time-2.0.jar\" is added to your classpath. If it is then check that it really contains the package mentioned.</p>\n"},{"tags":[],"owner":{"account_id":928003,"reputation":811,"user_id":958377,"display_name":"PokerFace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643143070,"creation_date":1643143070,"answer_id":70855353,"question_id":7857252,"body_markdown":"https://www.joda.org/joda-time/dependency-info.html\r\n\r\nApache Maven\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n      &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n      &lt;version&gt;2.10.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Package org.joda.time does not exist","body":"<p><a href=\"https://www.joda.org/joda-time/dependency-info.html\" rel=\"nofollow noreferrer\">https://www.joda.org/joda-time/dependency-info.html</a></p>\n<p>Apache Maven</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;joda-time&lt;/groupId&gt;\n  &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n  &lt;version&gt;2.10.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":509042,"reputation":1365,"user_id":984488,"accept_rate":82,"display_name":"Bob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21904,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7857300,"answer_count":3,"score":2,"last_activity_date":1643143070,"creation_date":1319255008,"question_id":7857252,"body_markdown":"This is the very first time I try to import a third party *.jar into my project. I&#39;m using Netbeans 7.0.1\r\n\r\nBesides the usual project structure the following are inside the `Source Packages` folder:\r\n\r\n    Appointments \r\n    |\r\n     - MyDate.java\r\n     - Run.java\r\n     - joda-time-2.0.jar\r\n        - org\r\n          |\r\n           - ...\r\n\r\nAttempt at importing the Joda Time gives me: **package org.joda.time does not exist**\r\n\r\n    import org.joda.time.*;\r\n\r\nWhat am I missing?","title":"Package org.joda.time does not exist","body":"<p>This is the very first time I try to import a third party *.jar into my project. I'm using Netbeans 7.0.1</p>\n\n<p>Besides the usual project structure the following are inside the <code>Source Packages</code> folder:</p>\n\n<pre><code>Appointments \n|\n - MyDate.java\n - Run.java\n - joda-time-2.0.jar\n    - org\n      |\n       - ...\n</code></pre>\n\n<p>Attempt at importing the Joda Time gives me: <strong>package org.joda.time does not exist</strong></p>\n\n<pre><code>import org.joda.time.*;\n</code></pre>\n\n<p>What am I missing?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1643142715,"post_id":70854777,"comment_id":125260735,"body_markdown":"[`getIntent()`](https://developer.android.com/reference/android/app/Activity#getIntent())  is an `Activity`s method, isn&#39;t available in adapter. if you want to pass this `Intent` to adapter then pass it in constructor","body":"<a href=\"https://developer.android.com/reference/android/app/Activity#getIntent()\" rel=\"nofollow noreferrer\"><code>getIntent()</code></a>  is an <code>Activity</code>s method, isn&#39;t available in adapter. if you want to pass this <code>Intent</code> to adapter then pass it in constructor"},{"owner":{"account_id":21071575,"reputation":3,"user_id":15487733,"display_name":"Okid 62"},"score":0,"creation_date":1643142822,"post_id":70854777,"comment_id":125260775,"body_markdown":"@snachmsm how do I do that?","body":"@snachmsm how do I do that?"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1643142887,"post_id":70854777,"comment_id":125260795,"body_markdown":"show how do you initiate adapter","body":"show how do you initiate adapter"},{"owner":{"account_id":21071575,"reputation":3,"user_id":15487733,"display_name":"Okid 62"},"score":0,"creation_date":1643143052,"post_id":70854777,"comment_id":125260859,"body_markdown":"I followed a tutorial, and it said to use this in the Main Activity:\n`recyclerAdapter adapter = new recyclerAdapter(subjectList);\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getApplicationContext());\n        rvSubject.setLayoutManager(layoutManager);\n        rvSubject.setItemAnimator(new DefaultItemAnimator());\n        rvSubject.setAdapter(adapter);`","body":"I followed a tutorial, and it said to use this in the Main Activity: <code>recyclerAdapter adapter = new recyclerAdapter(subjectList);         RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getApplicationContext());         rvSubject.setLayoutManager(layoutManager);         rvSubject.setItemAnimator(new DefaultItemAnimator());         rvSubject.setAdapter(adapter);</code>"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1643143234,"post_id":70854777,"comment_id":125260918,"body_markdown":"follow answer by @Narendra_Nath, in short `new Intent(this, recyclerAdapter.class)` line doesn&#39;t have sense and won&#39;t distribute data straight to `recyclerAdapter`. besides that it isn&#39;t even used further, besides setting some data for it, yet another `Intent` is running by `startActivity`. read about `Intent`s, how to use them to pass data between **Context extending classes** only (adapters aren&#39;t extending `Context`)","body":"follow answer by @Narendra_Nath, in short <code>new Intent(this, recyclerAdapter.class)</code> line doesn&#39;t have sense and won&#39;t distribute data straight to <code>recyclerAdapter</code>. besides that it isn&#39;t even used further, besides setting some data for it, yet another <code>Intent</code> is running by <code>startActivity</code>. read about <code>Intent</code>s, how to use them to pass data between <b>Context extending classes</b> only (adapters aren&#39;t extending <code>Context</code>)"}],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643143001,"creation_date":1643143001,"answer_id":70855342,"question_id":70854777,"body_markdown":"Why not reinitialize the recyclerView with a new set of `subjectList`.\r\n`binding.rv.adapter=recyclerAdapter(//new subject list)\r\n\r\nSince it is an Activity specific method it&#39;s not available inside the adapter.\r\n\r\nHowever if your goal is to update data there are more elegant solutions to this like `notifyDataSet()` or using methods inside the adapter.\r\n\r\nHowever if you have a complicated implementation this answer on [Passing data from an activity back to recyclerview adapter][1] might help.\r\n\r\nPs: Make your class names capital. it&#39;s a coding norm\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/50233068/13533028","title":"can&#39;t use Intent inside a RecyclerView Adapter","body":"<p>Why not reinitialize the recyclerView with a new set of <code>subjectList</code>.\n`binding.rv.adapter=recyclerAdapter(//new subject list)</p>\n<p>Since it is an Activity specific method it's not available inside the adapter.</p>\n<p>However if your goal is to update data there are more elegant solutions to this like <code>notifyDataSet()</code> or using methods inside the adapter.</p>\n<p>However if you have a complicated implementation this answer on <a href=\"https://stackoverflow.com/q/50233068/13533028\">Passing data from an activity back to recyclerview adapter</a> might help.</p>\n<p>Ps: Make your class names capital. it's a coding norm</p>\n"}],"owner":{"account_id":21071575,"reputation":3,"user_id":15487733,"display_name":"Okid 62"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643143001,"creation_date":1643139919,"question_id":70854777,"body_markdown":"I am making an app in which you keep track of your grades. Currently, I am working on a system for adding subjects. So, I want to display the subjects on a RecyclerView. So, I have an activity for adding the subject, which gets the name of the subject, stores it in a arraylist, sends the arraylist to the RecyclerView Adapter and displays the Subject name as an item. \r\n\r\nThe issue I am facing is that, I can&#39;t seem to transfer the value of the arraylist with an Intent. I get an error in the Adapter, specifically when I try to use a command called ```getIntent()``` .\r\n\r\nHere is the code in RecyclerAdapter.java file:\r\n ```package com.example.digitalnidnevnik;\r\n\r\nimport android.content.Intent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class recyclerAdapter extends RecyclerView.Adapter&lt;recyclerAdapter.MyViewHolder&gt; {\r\n\r\n    private ArrayList&lt;String&gt; subjectList;\r\n\r\n    public recyclerAdapter(ArrayList&lt;String&gt; subjectList){\r\n        this.subjectList = subjectList;\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder{\r\n        private TextView subjectName;\r\n\r\n        public MyViewHolder(final View view){\r\n            super(view);\r\n            subjectName = view.findViewById(R.id.txtSubjectName);\r\n\r\n            Intent addedSubject = getIntent(); //I get the error in this line, specifically getIntent()\r\n            subjectList = addedSubject.getStringArrayListExtra(&quot;Subject&quot;);\r\n        }\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public recyclerAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View subjectView = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_subjects, parent, false);\r\n        return new MyViewHolder(subjectView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull recyclerAdapter.MyViewHolder holder, int position) {\r\n        String subject = subjectList.get(position);\r\n        holder.subjectName.setText(subject);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return subjectList.size();\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s the code in the activity in which you add the subject name:\r\n```package com.example.digitalnidnevnik;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.DefaultItemAnimator;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class addSubject extends AppCompatActivity {\r\n\r\n    private ArrayList&lt;Subjects&gt; subjectList;\r\n    private boolean subjectAdded = false;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        getSupportActionBar().hide();\r\n        setContentView(R.layout.activity_add_subject);\r\n        subjectList = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public void addSubject (View view){\r\n        EditText editSubjectName = findViewById(R.id.editSubjectName);\r\n        Intent backToMain = new Intent(this, MainActivity.class);\r\n        Intent toAdapter = new Intent(this, recyclerAdapter.class);\r\n        String subjectName = editSubjectName.getText().toString();\r\n\r\n        if (!subjectName.equals(&quot;&quot;)){\r\n            subjectList.add(new Subjects(subjectName));\r\n            toAdapter.putExtra(&quot;Subject&quot;, subjectList);\r\n            startActivity(backToMain);\r\n        }\r\n        else\r\n            Toast.makeText(getApplicationContext(),&quot;Invalid values, try again&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n    }\r\n\r\n\r\n","title":"can&#39;t use Intent inside a RecyclerView Adapter","body":"<p>I am making an app in which you keep track of your grades. Currently, I am working on a system for adding subjects. So, I want to display the subjects on a RecyclerView. So, I have an activity for adding the subject, which gets the name of the subject, stores it in a arraylist, sends the arraylist to the RecyclerView Adapter and displays the Subject name as an item.</p>\n<p>The issue I am facing is that, I can't seem to transfer the value of the arraylist with an Intent. I get an error in the Adapter, specifically when I try to use a command called <code>getIntent()</code> .</p>\n<p>Here is the code in RecyclerAdapter.java file:</p>\n<pre><code>\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class recyclerAdapter extends RecyclerView.Adapter&lt;recyclerAdapter.MyViewHolder&gt; {\n\n   private ArrayList&lt;String&gt; subjectList;\n\n   public recyclerAdapter(ArrayList&lt;String&gt; subjectList){\n       this.subjectList = subjectList;\n   }\n\n   public class MyViewHolder extends RecyclerView.ViewHolder{\n       private TextView subjectName;\n\n       public MyViewHolder(final View view){\n           super(view);\n           subjectName = view.findViewById(R.id.txtSubjectName);\n\n           Intent addedSubject = getIntent(); //I get the error in this line, specifically getIntent()\n           subjectList = addedSubject.getStringArrayListExtra(&quot;Subject&quot;);\n       }\n   }\n\n   @NonNull\n   @Override\n   public recyclerAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n       View subjectView = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_subjects, parent, false);\n       return new MyViewHolder(subjectView);\n   }\n\n   @Override\n   public void onBindViewHolder(@NonNull recyclerAdapter.MyViewHolder holder, int position) {\n       String subject = subjectList.get(position);\n       holder.subjectName.setText(subject);\n   }\n\n   @Override\n   public int getItemCount() {\n       return subjectList.size();\n   }\n}\n</code></pre>\n<p>Here's the code in the activity in which you add the subject name:</p>\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.DefaultItemAnimator;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.Window;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport java.util.ArrayList;\n\npublic class addSubject extends AppCompatActivity {\n\n    private ArrayList&lt;Subjects&gt; subjectList;\n    private boolean subjectAdded = false;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getSupportActionBar().hide();\n        setContentView(R.layout.activity_add_subject);\n        subjectList = new ArrayList&lt;&gt;();\n    }\n\n    public void addSubject (View view){\n        EditText editSubjectName = findViewById(R.id.editSubjectName);\n        Intent backToMain = new Intent(this, MainActivity.class);\n        Intent toAdapter = new Intent(this, recyclerAdapter.class);\n        String subjectName = editSubjectName.getText().toString();\n\n        if (!subjectName.equals(&quot;&quot;)){\n            subjectList.add(new Subjects(subjectName));\n            toAdapter.putExtra(&quot;Subject&quot;, subjectList);\n            startActivity(backToMain);\n        }\n        else\n            Toast.makeText(getApplicationContext(),&quot;Invalid values, try again&quot;,Toast.LENGTH_SHORT).show();\n\n    }\n\n\n</code></pre>\n"},{"tags":["java","selenium","chromium","headless"],"comments":[{"owner":{"account_id":6002443,"reputation":327,"user_id":4715273,"accept_rate":67,"display_name":"Clint"},"score":0,"creation_date":1491609946,"post_id":41836422,"comment_id":73645424,"body_markdown":"Did you get this to work? I did at one stage, similar to what you have done (I also used `RemoteWebDriver`), but I&#39;ve come back to my setup a month later and it&#39;s not connecting..","body":"Did you get this to work? I did at one stage, similar to what you have done (I also used <code>RemoteWebDriver</code>), but I&#39;ve come back to my setup a month later and it&#39;s not connecting.."},{"owner":{"account_id":2844059,"reputation":685,"user_id":2442960,"accept_rate":57,"display_name":"geri-m"},"score":0,"creation_date":1492081143,"post_id":41836422,"comment_id":73841577,"body_markdown":"To get things running, we switched to phantomJS. By using Selenium&#39;s PhantomJSDriver and the WebWire Protocol we were able to use this setup. \n\n(Un)fortunatly, we have to investigate again, as the phantomJS maintainer is stepping down/Chrome 59 supports headless. (https://groups.google.com/forum/#!topic/phantomjs/9aI5d-LDuNE)","body":"To get things running, we switched to phantomJS. By using Selenium&#39;s PhantomJSDriver and the WebWire Protocol we were able to use this setup.   (Un)fortunatly, we have to investigate again, as the phantomJS maintainer is stepping down/Chrome 59 supports headless. (<a href=\"https://groups.google.com/forum/#!topic/phantomjs/9aI5d-LDuNE\" rel=\"nofollow noreferrer\">groups.google.com/forum/#!topic/phantomjs/9aI5d-LDuNE</a>)"}],"answers":[{"tags":[],"owner":{"account_id":9808993,"reputation":196,"user_id":7862537,"display_name":"hkq"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1568373617,"creation_date":1492092207,"answer_id":43394396,"question_id":41836422,"body_markdown":"I think the readme is a little bit misleading. You don&#39;t have to start Chromium itself and you can use the `RemoteWebDriver`. Make sure that a chromedriver is installed (https://sites.google.com/a/chromium.org/chromedriver/home). \r\n\r\n- Start chromedriver (e.g. `./chromedriver` or `./chromedriver --port=9515`)\r\n- Then you have tell the chromedriver to use Chromium instead of Chrome\r\n- Add `--headless` as an additional argument\r\n\r\nCode should look like this:\r\n\r\n    final ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.setBinary(&quot;/usr/bin/chromium-browser&quot;);\r\n    chromeOptions.addArguments(&quot;--headless&quot;);\r\n    desiredCapabilities.setCapability(ChromeOptions.CAPABILITY, chromeOptions);\r\n    WebDriver driver = new RemoteWebDriver(url, desiredCapabilities);\r\n\r\nWorked for me on Ubuntu Linux.\r\n","title":"How to connect to Chromium Headless using Selenium","body":"<p>I think the readme is a little bit misleading. You don't have to start Chromium itself and you can use the <code>RemoteWebDriver</code>. Make sure that a chromedriver is installed (<a href=\"https://sites.google.com/a/chromium.org/chromedriver/home\" rel=\"nofollow noreferrer\">https://sites.google.com/a/chromium.org/chromedriver/home</a>). </p>\n\n<ul>\n<li>Start chromedriver (e.g. <code>./chromedriver</code> or <code>./chromedriver --port=9515</code>)</li>\n<li>Then you have tell the chromedriver to use Chromium instead of Chrome</li>\n<li>Add <code>--headless</code> as an additional argument</li>\n</ul>\n\n<p>Code should look like this:</p>\n\n<pre><code>final ChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.setBinary(\"/usr/bin/chromium-browser\");\nchromeOptions.addArguments(\"--headless\");\ndesiredCapabilities.setCapability(ChromeOptions.CAPABILITY, chromeOptions);\nWebDriver driver = new RemoteWebDriver(url, desiredCapabilities);\n</code></pre>\n\n<p>Worked for me on Ubuntu Linux.</p>\n"},{"tags":[],"owner":{"account_id":11248393,"reputation":27,"user_id":8250333,"display_name":"Anjan Mondal"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1499112987,"creation_date":1499112987,"answer_id":44893325,"question_id":41836422,"body_markdown":"Chrome 59 has the ability to create instance as headless . I have tried for Windows with new chrome driver 2.30 and it worked for me \r\nhttps://www.automation99.com/2017/07/how-to-use-chrome-headless-using.html?m=1","title":"How to connect to Chromium Headless using Selenium","body":"<p>Chrome 59 has the ability to create instance as headless . I have tried for Windows with new chrome driver 2.30 and it worked for me \n<a href=\"https://www.automation99.com/2017/07/how-to-use-chrome-headless-using.html?m=1\" rel=\"nofollow noreferrer\">https://www.automation99.com/2017/07/how-to-use-chrome-headless-using.html?m=1</a></p>\n"},{"tags":[],"owner":{"account_id":480552,"reputation":4248,"user_id":893854,"accept_rate":44,"display_name":"Stephen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1504258739,"creation_date":1504258739,"answer_id":45997327,"question_id":41836422,"body_markdown":"Alternatively if your running it locally you can just do it like this. In scala.\r\n\r\n\tval chromeOptions = new ChromeOptions\r\n    chromeOptions.addArguments(&quot;--headless&quot;)\r\n    new ChromeDriver(chromeOptions)","title":"How to connect to Chromium Headless using Selenium","body":"<p>Alternatively if your running it locally you can just do it like this. In scala.</p>\n\n<pre><code>val chromeOptions = new ChromeOptions\nchromeOptions.addArguments(\"--headless\")\nnew ChromeDriver(chromeOptions)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1705725,"reputation":1280,"user_id":1564801,"display_name":"Shantonu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519032716,"creation_date":1519032716,"answer_id":48863043,"question_id":41836422,"body_markdown":"if you are using selenium 3+ chrome driver , you can simply use chrome options and initiate driver. Check details in a project \r\n\r\n[Example Project on Chrome Headless running with different options][1]\r\n\r\n     options.setHeadless(true)\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/sarkershantonu/Automation-Getting-Started/tree/master/ChromeHeadless-Selenium","title":"How to connect to Chromium Headless using Selenium","body":"<p>if you are using selenium 3+ chrome driver , you can simply use chrome options and initiate driver. Check details in a project </p>\n\n<p><a href=\"https://github.com/sarkershantonu/Automation-Getting-Started/tree/master/ChromeHeadless-Selenium\" rel=\"nofollow noreferrer\">Example Project on Chrome Headless running with different options</a></p>\n\n<pre><code> options.setHeadless(true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11674321,"reputation":129,"user_id":8548399,"display_name":"kuo chang"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1637816456,"creation_date":1548055017,"answer_id":54285058,"question_id":41836422,"body_markdown":"### Use the following code:\r\n     \r\n    ChromeOptions options = new ChromeOptions();  \r\n    options.setHeadless(true); //Set Chrome option\r\n    driver = new ChromeDriver(options);  \r\n\r\n\r\nand you will get &quot;Headless&quot; Chrome!\r\n\r\n\r\n### Full code \r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;  //import ChromeOptions\r\n    \r\n    public class web_crawl {\r\n    \t \r\n        private static WebDriver driver = null;\r\n     \r\n        public static void main(String[] args) {\r\n     \r\n          \r\n           ChromeOptions options = new ChromeOptions();\r\n           options.setHeadless(true);\r\n           \r\n           driver = new ChromeDriver(options);   \r\n           driver.get(&quot;http://www.google.com&quot;);   //The website you want to connect to \r\n         \r\n     \r\n        }","title":"How to connect to Chromium Headless using Selenium","body":"<h3>Use the following code:</h3>\n<pre><code>ChromeOptions options = new ChromeOptions();  \noptions.setHeadless(true); //Set Chrome option\ndriver = new ChromeDriver(options);  \n</code></pre>\n<p>and you will get &quot;Headless&quot; Chrome!</p>\n<h3>Full code</h3>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;  //import ChromeOptions\n\npublic class web_crawl {\n     \n    private static WebDriver driver = null;\n \n    public static void main(String[] args) {\n \n      \n       ChromeOptions options = new ChromeOptions();\n       options.setHeadless(true);\n       \n       driver = new ChromeDriver(options);   \n       driver.get(&quot;http://www.google.com&quot;);   //The website you want to connect to \n     \n \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16813238,"reputation":525,"user_id":12155745,"display_name":"Jwala Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632141946,"creation_date":1632141946,"answer_id":69254656,"question_id":41836422,"body_markdown":"    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;Path of the chrome driver&quot;);\r\n    ChromeOptions chromeOptions = new ChromeOptions();\t\r\n    chromeOptions.addArguments(&quot;--headless&quot;);\r\n    chromeOptions.addArguments(&quot;--window-size=1920,1200&quot;);\r\n    webDriver = new ChromeDriver(chromeOptions);\r\nThe invisible browser window is only 800x600 in size. Therefore, you need to set the desired screen size with an additional argument\r\n\r\n\r\n","title":"How to connect to Chromium Headless using Selenium","body":"<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;Path of the chrome driver&quot;);\nChromeOptions chromeOptions = new ChromeOptions();  \nchromeOptions.addArguments(&quot;--headless&quot;);\nchromeOptions.addArguments(&quot;--window-size=1920,1200&quot;);\nwebDriver = new ChromeDriver(chromeOptions);\n</code></pre>\n<p>The invisible browser window is only 800x600 in size. Therefore, you need to set the desired screen size with an additional argument</p>\n"},{"tags":[],"owner":{"account_id":14482915,"reputation":111,"user_id":10461682,"display_name":"Pawel W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643142424,"creation_date":1643142424,"answer_id":70855259,"question_id":41836422,"body_markdown":"for me works above solution:\r\n\r\n    chromeOptions.setBinary(&quot;/usr/bin/chromium-browser&quot;);\r\n\r\nbut i had to add (becouse of devtools):\r\n\r\n    chromeOptions.addArguments(&quot;--remote-debugging-port=9222&quot;);\r\n\r\nand disable firewall\r\n","title":"How to connect to Chromium Headless using Selenium","body":"<p>for me works above solution:</p>\n<pre><code>chromeOptions.setBinary(&quot;/usr/bin/chromium-browser&quot;);\n</code></pre>\n<p>but i had to add (becouse of devtools):</p>\n<pre><code>chromeOptions.addArguments(&quot;--remote-debugging-port=9222&quot;);\n</code></pre>\n<p>and disable firewall</p>\n"}],"owner":{"account_id":2844059,"reputation":685,"user_id":2442960,"accept_rate":57,"display_name":"geri-m"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42153,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":43394396,"answer_count":7,"score":17,"last_activity_date":1643142424,"creation_date":1485282877,"question_id":41836422,"body_markdown":"I would like to use chromium headless for automated testing using selenium. (https://chromium.googlesource.com/chromium/src/+/lkgr/headless/README.md)\r\n\r\nI do have the headless version already running on 9222. So if i open http://10.252.100.33:9222/json/I do get \r\n\r\n    [ {\r\n       &quot;description&quot;: &quot;&quot;,\r\n       &quot;devtoolsFrontendUrl&quot;: &quot;/devtools/inspector.html?ws=127.0.0.1:9223/devtools/page/0261be06-1271-485b-bdff-48e443de7a91&quot;,\r\n       &quot;id&quot;: &quot;0261be06-1271-485b-bdff-48e443de7a91&quot;,\r\n       &quot;title&quot;: &quot;The Chromium Projects&quot;,\r\n       &quot;type&quot;: &quot;page&quot;,\r\n       &quot;url&quot;: &quot;https://www.chromium.org/&quot;,\r\n       &quot;webSocketDebuggerUrl&quot;: &quot;ws://127.0.0.1:9223/devtools/page/0261be06-1271-485b-bdff-48e443de7a91&quot;\r\n    } ]\r\n\r\nAs a next step I&#39;d like to connect selenium to the headless chromium. But when i try\r\n\r\n    final DesiredCapabilities caps = DesiredCapabilities.chrome();\r\n    final WebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:9222/json&quot;), caps);\r\n    driver.get(&quot;http://www.google.com&quot;);\r\n\r\nI do get the following logout\r\n\r\n    J&#228;n 24, 2017 7:14:45 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFORMATION: Attempting bi-dialect session, assuming Postel&#39;s Law holds true on the remote end\r\n    J&#228;n 24, 2017 7:14:45 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFORMATION: Falling back to original OSS JSON Wire Protocol.\r\n    J&#228;n 24, 2017 7:14:45 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFORMATION: Falling back to straight W3C remote end connection\r\n    \r\n    org.openqa.selenium.SessionNotCreatedException: Unable to create new remote session. desired capabilities = Capabilities [{browserName=chrome, version=, platform=ANY}], required capabilities = Capabilities [{}]\r\n    Build info: version: &#39;3.0.1&#39;, revision: &#39;1969d75&#39;, time: &#39;2016-10-18 09:49:13 -0700&#39;\r\n    System info: host: &#39;Geralds-MacBook-Pro.local&#39;, ip: &#39;192.168.0.249&#39;, os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;10.12.2&#39;, java.version: &#39;1.8.0_111&#39;\r\n    Driver info: driver.version: RemoteWebDriver\r\n\r\n\r\nQuestions are: \r\n\r\n - Is the RemoteWebDriver the correct driver to connect to the headless\r\n   chromium?\r\n - I read about the DevTool protocol (https://docs.google.com/presentation/d/1gqK9F4lGAY3TZudAtdcxzMQNEE7PcuQrGu83No3l0lw/), but I&#39;m not sure, how to create such a client using selenium.\r\n - Connecting the Chromium Headless using the Chrome DevTools works (https://developers.google.com/web/tools/chrome-devtools/remote-debugging/) besides some segmentation vaults ;-)\r\n\r\n ","title":"How to connect to Chromium Headless using Selenium","body":"<p>I would like to use chromium headless for automated testing using selenium. (<a href=\"https://chromium.googlesource.com/chromium/src/+/lkgr/headless/README.md\" rel=\"noreferrer\">https://chromium.googlesource.com/chromium/src/+/lkgr/headless/README.md</a>)</p>\n\n<p>I do have the headless version already running on 9222. So if i open <a href=\"http://10.252.100.33:9222/json/I\" rel=\"noreferrer\">http://10.252.100.33:9222/json/I</a> do get </p>\n\n<pre><code>[ {\n   \"description\": \"\",\n   \"devtoolsFrontendUrl\": \"/devtools/inspector.html?ws=127.0.0.1:9223/devtools/page/0261be06-1271-485b-bdff-48e443de7a91\",\n   \"id\": \"0261be06-1271-485b-bdff-48e443de7a91\",\n   \"title\": \"The Chromium Projects\",\n   \"type\": \"page\",\n   \"url\": \"https://www.chromium.org/\",\n   \"webSocketDebuggerUrl\": \"ws://127.0.0.1:9223/devtools/page/0261be06-1271-485b-bdff-48e443de7a91\"\n} ]\n</code></pre>\n\n<p>As a next step I'd like to connect selenium to the headless chromium. But when i try</p>\n\n<pre><code>final DesiredCapabilities caps = DesiredCapabilities.chrome();\nfinal WebDriver driver = new RemoteWebDriver(new URL(\"http://localhost:9222/json\"), caps);\ndriver.get(\"http://www.google.com\");\n</code></pre>\n\n<p>I do get the following logout</p>\n\n<pre><code>Jän 24, 2017 7:14:45 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFORMATION: Attempting bi-dialect session, assuming Postel's Law holds true on the remote end\nJän 24, 2017 7:14:45 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFORMATION: Falling back to original OSS JSON Wire Protocol.\nJän 24, 2017 7:14:45 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFORMATION: Falling back to straight W3C remote end connection\n\norg.openqa.selenium.SessionNotCreatedException: Unable to create new remote session. desired capabilities = Capabilities [{browserName=chrome, version=, platform=ANY}], required capabilities = Capabilities [{}]\nBuild info: version: '3.0.1', revision: '1969d75', time: '2016-10-18 09:49:13 -0700'\nSystem info: host: 'Geralds-MacBook-Pro.local', ip: '192.168.0.249', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '10.12.2', java.version: '1.8.0_111'\nDriver info: driver.version: RemoteWebDriver\n</code></pre>\n\n<p>Questions are: </p>\n\n<ul>\n<li>Is the RemoteWebDriver the correct driver to connect to the headless\nchromium?</li>\n<li>I read about the DevTool protocol (<a href=\"https://docs.google.com/presentation/d/1gqK9F4lGAY3TZudAtdcxzMQNEE7PcuQrGu83No3l0lw/\" rel=\"noreferrer\">https://docs.google.com/presentation/d/1gqK9F4lGAY3TZudAtdcxzMQNEE7PcuQrGu83No3l0lw/</a>), but I'm not sure, how to create such a client using selenium.</li>\n<li>Connecting the Chromium Headless using the Chrome DevTools works (<a href=\"https://developers.google.com/web/tools/chrome-devtools/remote-debugging/\" rel=\"noreferrer\">https://developers.google.com/web/tools/chrome-devtools/remote-debugging/</a>) besides some segmentation vaults ;-)</li>\n</ul>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1631896725,"post_id":69177394,"comment_id":122356402,"body_markdown":"Th doc says error is replaced if the mapper *throws* an exception. Can you try to throw directly an exception from the mapping function ? (I cannot test it myself for now)","body":"Th doc says error is replaced if the mapper <i>throws</i> an exception. Can you try to throw directly an exception from the mapping function ? (I cannot test it myself for now)"},{"owner":{"account_id":8169754,"reputation":11,"user_id":6150663,"display_name":"schengalath"},"score":0,"creation_date":1632329494,"post_id":69177394,"comment_id":122465014,"body_markdown":"@amanin Sorry for the delayed reply.I tried your suggestion replacing &quot;Mono.error()&quot; by throwing the exception, but the results are the same","body":"@amanin Sorry for the delayed reply.I tried your suggestion replacing &quot;Mono.error()&quot; by throwing the exception, but the results are the same"}],"answers":[{"tags":[],"owner":{"account_id":24053697,"reputation":1,"user_id":18031834,"display_name":"David Marsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643142414,"creation_date":1643142414,"answer_id":70855254,"question_id":69177394,"body_markdown":"You have a cricular reference due to your reduce. You need to restructure you code to remove the reprocessing of exceptions.\r\n\r\n```\r\npublic class Example1FlatMapDelayError1 {\r\n\r\n  public static void main(String[] args) {\r\n\r\n    Flux&lt;GroupedFlux&lt;Object, Integer&gt;&gt; flux1 = Flux.just(1, 2, 3, 4, 5, 6, 7, 8, 9, 0)\r\n      .flatMapDelayError(integer -&gt; {\r\n        if (integer == 5) {\r\n          return Mono.error(() -&gt; new IllegalStateException(&quot;5&quot;));\r\n        }\r\n        return Mono.just(integer);\r\n      }, 4, 3)\r\n      .groupBy(integer -&gt; integer % 2 == 0 ? &quot;Even&quot; : &quot;Odd&quot;);\r\n\r\n    Flux&lt;Integer&gt; flux2 = flux1.flatMapDelayError(group -&gt;\r\n      group.reduce(0, (i1, i2) -&gt; i1 * i2), 4, 5); // Reduce processes exceptions multiple times...\r\n\r\n    flux2.subscribe(x -&gt; System.out.println(&quot;Final -&gt; &quot; + x), err -&gt; err.printStackTrace());\r\n  }\r\n}\r\n```\r\n","title":"Flux Backlog tasks not executed correctly in the event of an exception inspite of using FlatMapDelayError","body":"<p>You have a cricular reference due to your reduce. You need to restructure you code to remove the reprocessing of exceptions.</p>\n<pre><code>public class Example1FlatMapDelayError1 {\n\n  public static void main(String[] args) {\n\n    Flux&lt;GroupedFlux&lt;Object, Integer&gt;&gt; flux1 = Flux.just(1, 2, 3, 4, 5, 6, 7, 8, 9, 0)\n      .flatMapDelayError(integer -&gt; {\n        if (integer == 5) {\n          return Mono.error(() -&gt; new IllegalStateException(&quot;5&quot;));\n        }\n        return Mono.just(integer);\n      }, 4, 3)\n      .groupBy(integer -&gt; integer % 2 == 0 ? &quot;Even&quot; : &quot;Odd&quot;);\n\n    Flux&lt;Integer&gt; flux2 = flux1.flatMapDelayError(group -&gt;\n      group.reduce(0, (i1, i2) -&gt; i1 * i2), 4, 5); // Reduce processes exceptions multiple times...\n\n    flux2.subscribe(x -&gt; System.out.println(&quot;Final -&gt; &quot; + x), err -&gt; err.printStackTrace());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8169754,"reputation":11,"user_id":6150663,"display_name":"schengalath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643142414,"creation_date":1631620910,"question_id":69177394,"body_markdown":"I am facing an issue where I have a Flux of data of which some of them can yield an error.I need to process the correct one&#39;s and finally yield an error for the incorrect data.I have the below sample code that is close to what I am doing.The expectation is that the code separates out the odd and the even integers into its own groups and further reduces them to a final value.However when it encounters &quot;Zero&quot; it is to throw an exception.So the final expectation is an exception for &quot;Zero&quot; and a reduced integer for both odd and even numbers.\r\n\r\n```\r\npublic class Example1FlatMapDelayError1 {\r\n    public static void main(String[] args) {\r\n        ReactorDebugAgent.init();\r\n        ReactorDebugAgent.processExistingClasses();\r\n\r\n    Flux.just(1, 2, 3, 4, 5, 6, 7, 8, 9, 0)\r\n        .flatMapDelayError(\r\n            integer -&gt; {\r\n              if (integer == 0) {\r\n                return Mono.error(() -&gt; new IllegalStateException());\r\n              }\r\n              return Mono.just(integer);\r\n            },\r\n            4,\r\n            3)\r\n        .groupBy(integer -&gt; integer % 2 == 0 ? &quot;Even&quot; : &quot;Odd&quot;)\r\n        .flatMapDelayError(\r\n            group -&gt; {\r\n              System.out.println(&quot;Grouping Key--&gt;&quot; + group.key());\r\n\r\n              return group\r\n                  .collectList()\r\n                  .doOnNext(integers -&gt; {\r\n                      System.out.println(&quot;Key Vlaue --&gt;&quot; + integers.stream().map(integer -&gt; String.valueOf(integer)).collect(Collectors.joining(&quot;,&quot;)));\r\n                  })\r\n                  .flatMapMany(\r\n                      integers -&gt; {\r\n                        return Flux.fromIterable(integers).reduce((i1, i2) -&gt; i1 * i2);\r\n                      });\r\n            },\r\n            4,\r\n            3)\r\n        .subscribe(\r\n            out -&gt; System.out.println(&quot;Final -&gt; &quot; + out), throwable -&gt; throwable.printStackTrace());\r\n\r\n       \r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nOn the contrary the behaviour I see is that the entire flow breaks with a nested exception and none of the computations are done.Attaching the trace for reference.Appreciate help in understanding where I have gone wrong.\r\n\r\nJDK :11\r\nReactor: 3.4.9\r\n\r\n\r\n&gt; SLF4J: Class path contains multiple SLF4J bindings. ... SLF4J: Actual\r\n&gt; binding is of type\r\n&gt; [com.apple.jvm.commons.logging.structured.slf4j.MapHidingLog4jLoggerFactory]\r\n&gt; Grouping Key--&gt;Odd Grouping Key--&gt;Even\r\n&gt; reactor.core.Exceptions$CompositeException: Multiple exceptions \tat\r\n&gt; reactor.core.Exceptions.multiple(Exceptions.java:120) \tat\r\n&gt; reactor.core.Exceptions.addThrowable(Exceptions.java:92) \tat\r\n&gt; reactor.core.publisher.FluxFlatMap$FlatMapMain.innerError(FluxFlatMap.java:858)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxFlatMap$FlatMapInner.onError(FluxFlatMap.java:990)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:393)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:821)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:588)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxFlatMap$FlatMapMain.onError(FluxFlatMap.java:451)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:393)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:393)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onError(FluxPeekFuseable.java:234)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:393)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onError(MonoCollectList.java:113)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxGroupBy$UnicastGroupedFlux.checkTerminated(FluxGroupBy.java:667)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxGroupBy$UnicastGroupedFlux.drainRegular(FluxGroupBy.java:559)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxGroupBy$UnicastGroupedFlux.drain(FluxGroupBy.java:652)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxGroupBy$UnicastGroupedFlux.onError(FluxGroupBy.java:702)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxGroupBy$GroupByMain.signalAsyncError(FluxGroupBy.java:266)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxGroupBy$GroupByMain.checkTerminated(FluxGroupBy.java:427)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxGroupBy$GroupByMain.drainLoop(FluxGroupBy.java:385)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxGroupBy$GroupByMain.drain(FluxGroupBy.java:329)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxGroupBy$GroupByMain.onError(FluxGroupBy.java:219)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:821)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:588)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxFlatMap$FlatMapMain.onComplete(FluxFlatMap.java:465)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxArray$ArraySubscription.slowPath(FluxArray.java:138)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxArray$ArraySubscription.request(FluxArray.java:100)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:371)\r\n&gt; \tat reactor.core.publisher.FluxArray.subscribe(FluxArray.java:53) \tat\r\n&gt; reactor.core.publisher.FluxArray.subscribe(FluxArray.java:59) \tat\r\n&gt; reactor.core.publisher.Flux.subscribe(Flux.java:8411) \tat\r\n&gt; reactor.core.publisher.Flux.subscribeWith(Flux.java:8584) \tat\r\n&gt; reactor.core.publisher.Flux.subscribe(Flux.java:8381) \tat\r\n&gt; reactor.core.publisher.Flux.subscribe(Flux.java:8305) \tat\r\n&gt; reactor.core.publisher.Flux.subscribe(Flux.java:8275) \tat\r\n&gt; com.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.main(Unknown\r\n&gt; Source) \tSuppressed: java.lang.IllegalStateException \t\tat\r\n&gt; com.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$0(Example1FlatMapDelayError1.java:22)\r\n&gt; \t\tSuppressed:\r\n&gt; reactor.core.publisher.FluxOnAssembly$OnAssemblyException:  Assembly\r\n&gt; trace from producer [reactor.core.publisher.MonoCollectList] :\r\n&gt; \treactor.core.publisher.GroupedFlux.collectList\r\n&gt; \tcom.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:35)\r\n&gt; Error has been observed at the following site(s): \t|_\r\n&gt; GroupedFlux.collectList ⇢ at\r\n&gt; com.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:35)\r\n&gt; \t|_           Mono.doOnNext ⇢ at\r\n&gt; com.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:36)\r\n&gt; \t|_               Mono.flux ⇢ at\r\n&gt; com.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:39)\r\n&gt; \t|_  Flux.flatMapDelayError ⇢ at\r\n&gt; com.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:40)\r\n&gt; \t|_ GroupedFlux.collectList ⇢ at\r\n&gt; com.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:35)\r\n&gt; \t|_           Mono.doOnNext ⇢ at\r\n&gt; com.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:36)\r\n&gt; \t|_               Mono.flux ⇢ at\r\n&gt; com.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:39)\r\n&gt; \t|_  Flux.flatMapDelayError ⇢ at\r\n&gt; com.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:40)\r\n&gt; Stack trace: \t\t\tat\r\n&gt; com.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$0(Example1FlatMapDelayError1.java:22)\r\n&gt; \t\t\tat\r\n&gt; reactor.core.publisher.MonoErrorSupplied.call(MonoErrorSupplied.java:61)\r\n&gt; \t\t\tat\r\n&gt; reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:405)\r\n&gt; \t\t\tat\r\n&gt; reactor.core.publisher.FluxArray$ArraySubscription.slowPath(FluxArray.java:127)\r\n&gt; \t\t\tat\r\n&gt; reactor.core.publisher.FluxArray$ArraySubscription.request(FluxArray.java:100)\r\n&gt; \t\t\tat\r\n&gt; reactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:371)\r\n&gt; \t\t\tat reactor.core.publisher.FluxArray.subscribe(FluxArray.java:53)\r\n&gt; \t\t\tat reactor.core.publisher.FluxArray.subscribe(FluxArray.java:59)\r\n&gt; \t\t\tat reactor.core.publisher.Flux.subscribe(Flux.java:8411) \t\t\tat\r\n&gt; reactor.core.publisher.Flux.subscribeWith(Flux.java:8584) \t\t\tat\r\n&gt; reactor.core.publisher.Flux.subscribe(Flux.java:8381) \t\t\tat\r\n&gt; reactor.core.publisher.Flux.subscribe(Flux.java:8305) \t\t\tat\r\n&gt; reactor.core.publisher.Flux.subscribe(Flux.java:8275) \t\t\tat\r\n&gt; com.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.main(Unknown\r\n&gt; Source) \tSuppressed: [CIRCULAR REFERENCE:\r\n&gt; java.lang.IllegalStateException] \tSuppressed: [CIRCULAR REFERENCE:\r\n&gt; java.lang.IllegalStateException] Disconnected from the target VM,\r\n&gt; address: &#39;127.0.0.1:51263&#39;, transport: &#39;socket&#39;\r\n&gt; \r\n&gt; Process finished with exit code 0\r\n\r\n","title":"Flux Backlog tasks not executed correctly in the event of an exception inspite of using FlatMapDelayError","body":"<p>I am facing an issue where I have a Flux of data of which some of them can yield an error.I need to process the correct one's and finally yield an error for the incorrect data.I have the below sample code that is close to what I am doing.The expectation is that the code separates out the odd and the even integers into its own groups and further reduces them to a final value.However when it encounters &quot;Zero&quot; it is to throw an exception.So the final expectation is an exception for &quot;Zero&quot; and a reduced integer for both odd and even numbers.</p>\n<pre><code>public class Example1FlatMapDelayError1 {\n    public static void main(String[] args) {\n        ReactorDebugAgent.init();\n        ReactorDebugAgent.processExistingClasses();\n\n    Flux.just(1, 2, 3, 4, 5, 6, 7, 8, 9, 0)\n        .flatMapDelayError(\n            integer -&gt; {\n              if (integer == 0) {\n                return Mono.error(() -&gt; new IllegalStateException());\n              }\n              return Mono.just(integer);\n            },\n            4,\n            3)\n        .groupBy(integer -&gt; integer % 2 == 0 ? &quot;Even&quot; : &quot;Odd&quot;)\n        .flatMapDelayError(\n            group -&gt; {\n              System.out.println(&quot;Grouping Key--&gt;&quot; + group.key());\n\n              return group\n                  .collectList()\n                  .doOnNext(integers -&gt; {\n                      System.out.println(&quot;Key Vlaue --&gt;&quot; + integers.stream().map(integer -&gt; String.valueOf(integer)).collect(Collectors.joining(&quot;,&quot;)));\n                  })\n                  .flatMapMany(\n                      integers -&gt; {\n                        return Flux.fromIterable(integers).reduce((i1, i2) -&gt; i1 * i2);\n                      });\n            },\n            4,\n            3)\n        .subscribe(\n            out -&gt; System.out.println(&quot;Final -&gt; &quot; + out), throwable -&gt; throwable.printStackTrace());\n\n       \n    }\n}\n\n\n</code></pre>\n<p>On the contrary the behaviour I see is that the entire flow breaks with a nested exception and none of the computations are done.Attaching the trace for reference.Appreciate help in understanding where I have gone wrong.</p>\n<p>JDK :11\nReactor: 3.4.9</p>\n<blockquote>\n<p>SLF4J: Class path contains multiple SLF4J bindings. ... SLF4J: Actual\nbinding is of type\n[com.apple.jvm.commons.logging.structured.slf4j.MapHidingLog4jLoggerFactory]\nGrouping Key--&gt;Odd Grouping Key--&gt;Even\nreactor.core.Exceptions$CompositeException: Multiple exceptions   at\nreactor.core.Exceptions.multiple(Exceptions.java:120)     at\nreactor.core.Exceptions.addThrowable(Exceptions.java:92)  at\nreactor.core.publisher.FluxFlatMap$FlatMapMain.innerError(FluxFlatMap.java:858)\nat\nreactor.core.publisher.FluxFlatMap$FlatMapInner.onError(FluxFlatMap.java:990)\nat\nreactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:393)\nat\nreactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:821)\nat\nreactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608)\nat\nreactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:588)\nat\nreactor.core.publisher.FluxFlatMap$FlatMapMain.onError(FluxFlatMap.java:451)\nat\nreactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:393)\nat\nreactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:393)\nat\nreactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onError(FluxPeekFuseable.java:234)\nat\nreactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:393)\nat\nreactor.core.publisher.MonoCollectList$MonoCollectListSubscriber.onError(MonoCollectList.java:113)\nat\nreactor.core.publisher.FluxGroupBy$UnicastGroupedFlux.checkTerminated(FluxGroupBy.java:667)\nat\nreactor.core.publisher.FluxGroupBy$UnicastGroupedFlux.drainRegular(FluxGroupBy.java:559)\nat\nreactor.core.publisher.FluxGroupBy$UnicastGroupedFlux.drain(FluxGroupBy.java:652)\nat\nreactor.core.publisher.FluxGroupBy$UnicastGroupedFlux.onError(FluxGroupBy.java:702)\nat\nreactor.core.publisher.FluxGroupBy$GroupByMain.signalAsyncError(FluxGroupBy.java:266)\nat\nreactor.core.publisher.FluxGroupBy$GroupByMain.checkTerminated(FluxGroupBy.java:427)\nat\nreactor.core.publisher.FluxGroupBy$GroupByMain.drainLoop(FluxGroupBy.java:385)\nat\nreactor.core.publisher.FluxGroupBy$GroupByMain.drain(FluxGroupBy.java:329)\nat\nreactor.core.publisher.FluxGroupBy$GroupByMain.onError(FluxGroupBy.java:219)\nat\nreactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:821)\nat\nreactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608)\nat\nreactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:588)\nat\nreactor.core.publisher.FluxFlatMap$FlatMapMain.onComplete(FluxFlatMap.java:465)\nat\nreactor.core.publisher.FluxArray$ArraySubscription.slowPath(FluxArray.java:138)\nat\nreactor.core.publisher.FluxArray$ArraySubscription.request(FluxArray.java:100)\nat\nreactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:371)\nat reactor.core.publisher.FluxArray.subscribe(FluxArray.java:53)    at\nreactor.core.publisher.FluxArray.subscribe(FluxArray.java:59)     at\nreactor.core.publisher.Flux.subscribe(Flux.java:8411)     at\nreactor.core.publisher.Flux.subscribeWith(Flux.java:8584)     at\nreactor.core.publisher.Flux.subscribe(Flux.java:8381)     at\nreactor.core.publisher.Flux.subscribe(Flux.java:8305)     at\nreactor.core.publisher.Flux.subscribe(Flux.java:8275)     at\ncom.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.main(Unknown\nSource)   Suppressed: java.lang.IllegalStateException         at\ncom.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$0(Example1FlatMapDelayError1.java:22)\nSuppressed:\nreactor.core.publisher.FluxOnAssembly$OnAssemblyException:  Assembly\ntrace from producer [reactor.core.publisher.MonoCollectList] :\nreactor.core.publisher.GroupedFlux.collectList\ncom.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:35)\nError has been observed at the following site(s):     |_\nGroupedFlux.collectList ⇢ at\ncom.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:35)\n|_           Mono.doOnNext ⇢ at\ncom.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:36)\n|_               Mono.flux ⇢ at\ncom.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:39)\n|_  Flux.flatMapDelayError ⇢ at\ncom.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:40)\n|_ GroupedFlux.collectList ⇢ at\ncom.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:35)\n|_           Mono.doOnNext ⇢ at\ncom.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:36)\n|_               Mono.flux ⇢ at\ncom.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:39)\n|_  Flux.flatMapDelayError ⇢ at\ncom.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$7(Example1FlatMapDelayError1.java:40)\nStack trace:          at\ncom.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.lambda$main$0(Example1FlatMapDelayError1.java:22)\nat\nreactor.core.publisher.MonoErrorSupplied.call(MonoErrorSupplied.java:61)\nat\nreactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:405)\nat\nreactor.core.publisher.FluxArray$ArraySubscription.slowPath(FluxArray.java:127)\nat\nreactor.core.publisher.FluxArray$ArraySubscription.request(FluxArray.java:100)\nat\nreactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:371)\nat reactor.core.publisher.FluxArray.subscribe(FluxArray.java:53)\nat reactor.core.publisher.FluxArray.subscribe(FluxArray.java:59)\nat reactor.core.publisher.Flux.subscribe(Flux.java:8411)            at\nreactor.core.publisher.Flux.subscribeWith(Flux.java:8584)             at\nreactor.core.publisher.Flux.subscribe(Flux.java:8381)             at\nreactor.core.publisher.Flux.subscribe(Flux.java:8305)             at\nreactor.core.publisher.Flux.subscribe(Flux.java:8275)             at\ncom.apple.ist.empsys.amalgam.config.services.Example1FlatMapDelayError1.main(Unknown\nSource)   Suppressed: [CIRCULAR REFERENCE:\njava.lang.IllegalStateException]  Suppressed: [CIRCULAR REFERENCE:\njava.lang.IllegalStateException] Disconnected from the target VM,\naddress: '127.0.0.1:51263', transport: 'socket'</p>\n<p>Process finished with exit code 0</p>\n</blockquote>\n"},{"tags":["java","android","kotlin","android-room"],"answers":[{"tags":[],"owner":{"account_id":6450102,"reputation":11945,"user_id":7765139,"display_name":"Levi Moreira"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1522057805,"creation_date":1521983156,"answer_id":49476165,"question_id":49476044,"body_markdown":"Try making the id non-nullable:\r\n\r\n     @PrimaryKey(autoGenerate = true)\r\n        var wID: Long = 0\r\n\r\n**EDIT:**\r\nI&#39;ve found this in the sample code [here][1].\r\nyou can make your @Insert methods return the id of the inserted row object, so you could do this:\r\n\r\nIn your Dao:\r\n\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n    fun insert(weatherEntry: WeatherEntry) : Long\r\n\r\nIn your refresh data method:\r\n\r\n\r\n    private fun refreshData(location: String): Flowable&lt;MutableList&lt;WeatherEntry&gt;&gt; {\r\n    \r\n            return remoteDataSource.getWeatherEntries(location,true).doOnNext({\r\n    \r\n                // Clear cache\r\n                caches.clear()\r\n                // Clear data in local storage\r\n                localDataSource.deleteAllWeatherEntries()\r\n            }).flatMap(({ Flowable.fromIterable(it) })).doOnNext({ entry -&gt;\r\n                \r\n                val entryID = localDataSource.insertWeatherEntry(entry)\r\n                entry.wID = entryID\r\n                caches.add(entry)\r\n            }).toList().toFlowable()\r\n        }\r\n\r\n  [1]: https://github.com/googlesamples/android-architecture-components/blob/master/PersistenceContentProviderSample/app/src/main/java/com/example/android/contentprovidersample/data/CheeseDao.java\r\n","title":"Room doesn&#39;t autogenerate Primary Key","body":"<p>Try making the id non-nullable:</p>\n\n<pre><code> @PrimaryKey(autoGenerate = true)\n    var wID: Long = 0\n</code></pre>\n\n<p><strong>EDIT:</strong>\nI've found this in the sample code <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/PersistenceContentProviderSample/app/src/main/java/com/example/android/contentprovidersample/data/CheeseDao.java\" rel=\"noreferrer\">here</a>.\nyou can make your @Insert methods return the id of the inserted row object, so you could do this:</p>\n\n<p>In your Dao:</p>\n\n<pre><code>@Insert(onConflict = OnConflictStrategy.REPLACE)\nfun insert(weatherEntry: WeatherEntry) : Long\n</code></pre>\n\n<p>In your refresh data method:</p>\n\n<pre><code>private fun refreshData(location: String): Flowable&lt;MutableList&lt;WeatherEntry&gt;&gt; {\n\n        return remoteDataSource.getWeatherEntries(location,true).doOnNext({\n\n            // Clear cache\n            caches.clear()\n            // Clear data in local storage\n            localDataSource.deleteAllWeatherEntries()\n        }).flatMap(({ Flowable.fromIterable(it) })).doOnNext({ entry -&gt;\n\n            val entryID = localDataSource.insertWeatherEntry(entry)\n            entry.wID = entryID\n            caches.add(entry)\n        }).toList().toFlowable()\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11657083,"reputation":172,"user_id":8536476,"display_name":"chen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1576160907,"creation_date":1576160907,"answer_id":59306769,"question_id":49476044,"body_markdown":"Read https://developer.android.com/reference/androidx/room/PrimaryKey?hl=en#autoGenerate()\r\n, you&#39;ll get the answer \r\n```text\r\npublic boolean autoGenerate ()\r\nSet to true to let SQLite generate the unique id.\r\n\r\nWhen set to true, the SQLite type affinity for the field should be INTEGER.\r\n\r\nIf the field type is long or int (or its TypeConverter converts it to a long or int), Insert methods treat 0 as not-set while inserting the item.\r\n\r\nIf the field&#39;s type is Integer or Long (or its TypeConverter converts it to an Integer or a Long), Insert methods treat null as not-set while inserting the item.\r\n```","title":"Room doesn&#39;t autogenerate Primary Key","body":"<p>Read <a href=\"https://developer.android.com/reference/androidx/room/PrimaryKey?hl=en#autoGenerate()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/room/PrimaryKey?hl=en#autoGenerate()</a>\n, you'll get the answer </p>\n\n<pre><code>public boolean autoGenerate ()\nSet to true to let SQLite generate the unique id.\n\nWhen set to true, the SQLite type affinity for the field should be INTEGER.\n\nIf the field type is long or int (or its TypeConverter converts it to a long or int), Insert methods treat 0 as not-set while inserting the item.\n\nIf the field's type is Integer or Long (or its TypeConverter converts it to an Integer or a Long), Insert methods treat null as not-set while inserting the item.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18453059,"reputation":11,"user_id":13525382,"display_name":"Семён Каминский"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643142414,"creation_date":1643142414,"answer_id":70855256,"question_id":49476044,"body_markdown":"solutions for my problem is change type of primarykey from &quot;long&quot; to &quot;Long&quot; (java)\r\n\r\n&gt;  @PrimaryKey(autoGenerate = true)\r\n    @ColumnInfo(name = &quot;task_id&quot;)\r\n    private Long taskID;\r\n\r\n\r\n\r\n ","title":"Room doesn&#39;t autogenerate Primary Key","body":"<p>solutions for my problem is change type of primarykey from &quot;long&quot; to &quot;Long&quot; (java)</p>\n<blockquote>\n<p>@PrimaryKey(autoGenerate = true)\n@ColumnInfo(name = &quot;task_id&quot;)\nprivate Long taskID;</p>\n</blockquote>\n"}],"owner":{"account_id":9848988,"reputation":390,"user_id":7295614,"accept_rate":100,"display_name":"niclaszll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11022,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":49476165,"answer_count":3,"score":9,"last_activity_date":1643142414,"creation_date":1521982261,"question_id":49476044,"body_markdown":"I have the following **Model** for my API Response:\r\n\r\n    @Entity(tableName = TABLE_NAME)\r\n    class WeatherEntry {\r\n    \r\n        @PrimaryKey(autoGenerate = true)\r\n        var wID: Long? = null\r\n    \r\n        @SerializedName(&quot;dt&quot;)\r\n        @ColumnInfo(name = COLUMN_DATE)\r\n        var date: String = &quot;&quot;\r\n    \r\n        @SerializedName(&quot;city&quot;)\r\n        @Embedded(prefix = &quot;location_&quot;)\r\n        var location: Location? = null\r\n    \r\n        @SerializedName(&quot;main&quot;)\r\n        @Embedded(prefix = &quot;main_&quot;)\r\n        var main: Main? = null\r\n    \r\n        @SerializedName(&quot;weather&quot;)\r\n        @TypeConverters(Converters::class)\r\n        @Embedded(prefix = &quot;weather_&quot;)\r\n        var weather: ArrayList&lt;Weather&gt;? = null\r\n    \r\n        @SerializedName(&quot;wind&quot;)\r\n        @Embedded(prefix = &quot;wind_&quot;)\r\n        var wind: Wind? = null\r\n    \r\n    }\r\n\r\n**Weather Repo**\r\nFetches Data from Local or Remote Data Source, I set `forceRemote` to `true`, because otherwise there would be no data show in the first place.\r\n\r\n    class WeatherRepository @Inject constructor(@Local var localDataSource: WeatherDataSource, @Remote var remoteDataSource: WeatherDataSource) :\r\n        WeatherDataSource {\r\n    \r\n       private var caches: MutableList&lt;WeatherEntry&gt; = mutableListOf()\r\n       override fun getWeatherEntries(location: String, forceRemote: Boolean): Flowable&lt;MutableList&lt;WeatherEntry&gt;&gt; {\r\n    \r\n            if (forceRemote) {\r\n                return refreshData(location)\r\n            } else {\r\n                return if (caches.isNotEmpty()) {\r\n                    // if cache is available, return it immediately\r\n                    Flowable.just(caches)\r\n                } else {\r\n                    // else return data from local storage\r\n                    localDataSource.getWeatherEntries(location, false)\r\n                        .take(1)\r\n                        .flatMap(({ Flowable.fromIterable(it) }))\r\n                        .doOnNext { question -&gt; caches.add(question) }\r\n                        .toList()\r\n                        .toFlowable()\r\n                        .filter({ list -&gt; !list.isEmpty() })\r\n                        .switchIfEmpty(refreshData(location)) // If local data is empty, fetch from remote source instead.\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Fetches data from remote source.\r\n         * Save it into both local database and cache.\r\n         *\r\n         * @return the Flowable of newly fetched data.\r\n         */\r\n        private fun refreshData(location: String): Flowable&lt;MutableList&lt;WeatherEntry&gt;&gt; {\r\n    \r\n            return remoteDataSource.getWeatherEntries(location,true).doOnNext({\r\n    \r\n                // Clear cache\r\n                caches.clear()\r\n                // Clear data in local storage\r\n                localDataSource.deleteAllWeatherEntries()\r\n            }).flatMap(({ Flowable.fromIterable(it) })).doOnNext({ entry -&gt;\r\n                caches.add(entry)\r\n                localDataSource.insertWeatherEntry(entry)\r\n            }).toList().toFlowable()\r\n        }\r\n\r\n**Local Data Source**\r\n\r\n    class WeatherLocalDataSource @Inject constructor(private var weatherDao: WeatherDao): WeatherDataSource {\r\n    \r\n        override fun insertWeatherEntry(weatherEntry: WeatherEntry) {\r\n            return weatherDao.insert(weatherEntry)\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\n**Remote Data Source**\r\nThis one definitely works as I&#39;m getting all information from the api.\r\n\r\n    class WeatherRemoteDataSource @Inject constructor(var weatherService: WeatherService) :\r\n        WeatherDataSource {\r\n    \r\n        override fun getWeatherEntries(location: String, forceRemote: Boolean): Flowable&lt;MutableList&lt;WeatherEntry&gt;&gt; {\r\n            return weatherService.getForecast(\r\n                location,\r\n                &quot;json&quot;,\r\n                &quot;metric&quot;,\r\n                BuildConfig.OPEN_WEATHER_MAP_API_KEY\r\n            ).map(WeatherForecastResponse::weatherEntries)\r\n        }\r\n    }\r\n\r\n**DAO**\r\n\r\n    @Dao\r\n    interface WeatherDao {\r\n    \r\n        ...\r\n    \r\n        @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n        fun insert(weatherEntry: WeatherEntry)\r\n    }\r\n\r\n**Database**\r\n\r\n    @Database(\r\n        entities = [(WeatherEntry::class)],\r\n        version = 1\r\n    )\r\n    abstract class WeatherDatabase : RoomDatabase() {\r\n    \r\n        abstract fun weatherDao(): WeatherDao\r\n    }\r\n\r\nAll other fields work correctly, but `wID` is always null. What is wrong with my implementation?\r\n\r\nI already tried to change it&#39;s default value to `0` and change the type to Int but that&#39;s not working either.","title":"Room doesn&#39;t autogenerate Primary Key","body":"<p>I have the following <strong>Model</strong> for my API Response:</p>\n<pre><code>@Entity(tableName = TABLE_NAME)\nclass WeatherEntry {\n\n    @PrimaryKey(autoGenerate = true)\n    var wID: Long? = null\n\n    @SerializedName(&quot;dt&quot;)\n    @ColumnInfo(name = COLUMN_DATE)\n    var date: String = &quot;&quot;\n\n    @SerializedName(&quot;city&quot;)\n    @Embedded(prefix = &quot;location_&quot;)\n    var location: Location? = null\n\n    @SerializedName(&quot;main&quot;)\n    @Embedded(prefix = &quot;main_&quot;)\n    var main: Main? = null\n\n    @SerializedName(&quot;weather&quot;)\n    @TypeConverters(Converters::class)\n    @Embedded(prefix = &quot;weather_&quot;)\n    var weather: ArrayList&lt;Weather&gt;? = null\n\n    @SerializedName(&quot;wind&quot;)\n    @Embedded(prefix = &quot;wind_&quot;)\n    var wind: Wind? = null\n\n}\n</code></pre>\n<p><strong>Weather Repo</strong>\nFetches Data from Local or Remote Data Source, I set <code>forceRemote</code> to <code>true</code>, because otherwise there would be no data show in the first place.</p>\n<pre><code>class WeatherRepository @Inject constructor(@Local var localDataSource: WeatherDataSource, @Remote var remoteDataSource: WeatherDataSource) :\n    WeatherDataSource {\n\n   private var caches: MutableList&lt;WeatherEntry&gt; = mutableListOf()\n   override fun getWeatherEntries(location: String, forceRemote: Boolean): Flowable&lt;MutableList&lt;WeatherEntry&gt;&gt; {\n\n        if (forceRemote) {\n            return refreshData(location)\n        } else {\n            return if (caches.isNotEmpty()) {\n                // if cache is available, return it immediately\n                Flowable.just(caches)\n            } else {\n                // else return data from local storage\n                localDataSource.getWeatherEntries(location, false)\n                    .take(1)\n                    .flatMap(({ Flowable.fromIterable(it) }))\n                    .doOnNext { question -&gt; caches.add(question) }\n                    .toList()\n                    .toFlowable()\n                    .filter({ list -&gt; !list.isEmpty() })\n                    .switchIfEmpty(refreshData(location)) // If local data is empty, fetch from remote source instead.\n            }\n        }\n    }\n\n    /**\n     * Fetches data from remote source.\n     * Save it into both local database and cache.\n     *\n     * @return the Flowable of newly fetched data.\n     */\n    private fun refreshData(location: String): Flowable&lt;MutableList&lt;WeatherEntry&gt;&gt; {\n\n        return remoteDataSource.getWeatherEntries(location,true).doOnNext({\n\n            // Clear cache\n            caches.clear()\n            // Clear data in local storage\n            localDataSource.deleteAllWeatherEntries()\n        }).flatMap(({ Flowable.fromIterable(it) })).doOnNext({ entry -&gt;\n            caches.add(entry)\n            localDataSource.insertWeatherEntry(entry)\n        }).toList().toFlowable()\n    }\n</code></pre>\n<p><strong>Local Data Source</strong></p>\n<pre><code>class WeatherLocalDataSource @Inject constructor(private var weatherDao: WeatherDao): WeatherDataSource {\n\n    override fun insertWeatherEntry(weatherEntry: WeatherEntry) {\n        return weatherDao.insert(weatherEntry)\n    }\n\n    ...\n}\n</code></pre>\n<p><strong>Remote Data Source</strong>\nThis one definitely works as I'm getting all information from the api.</p>\n<pre><code>class WeatherRemoteDataSource @Inject constructor(var weatherService: WeatherService) :\n    WeatherDataSource {\n\n    override fun getWeatherEntries(location: String, forceRemote: Boolean): Flowable&lt;MutableList&lt;WeatherEntry&gt;&gt; {\n        return weatherService.getForecast(\n            location,\n            &quot;json&quot;,\n            &quot;metric&quot;,\n            BuildConfig.OPEN_WEATHER_MAP_API_KEY\n        ).map(WeatherForecastResponse::weatherEntries)\n    }\n}\n</code></pre>\n<p><strong>DAO</strong></p>\n<pre><code>@Dao\ninterface WeatherDao {\n\n    ...\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun insert(weatherEntry: WeatherEntry)\n}\n</code></pre>\n<p><strong>Database</strong></p>\n<pre><code>@Database(\n    entities = [(WeatherEntry::class)],\n    version = 1\n)\nabstract class WeatherDatabase : RoomDatabase() {\n\n    abstract fun weatherDao(): WeatherDao\n}\n</code></pre>\n<p>All other fields work correctly, but <code>wID</code> is always null. What is wrong with my implementation?</p>\n<p>I already tried to change it's default value to <code>0</code> and change the type to Int but that's not working either.</p>\n"},{"tags":["java","apache-kafka","apache-camel","apache-kafka-connect","debezium"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643142301,"creation_date":1643139625,"answer_id":70854712,"question_id":70854598,"body_markdown":"As written in the Debezium Engine docs\r\n\r\n&gt; Internally, the engine uses the appropriate Kafka Connect converter implementation to which the conversion is delegated\r\n\r\nThis means, you need to reverse the Converter methods, then use a Kafka Deserializer class to get data back to a POJO that would have been originally produced. \r\n\r\n---\r\n\r\nAssuming you used Confluent&#39;s AvroConverter, then you should be able to use [`AvroConverter#fromConnectData`](https://github.com/confluentinc/schema-registry/blob/7.0.1-post/avro-converter/src/main/java/io/confluent/connect/avro/AvroConverter.java#L83) to return a `byte[]` as the key/value. You will first need the Connect `Schema` instance for your `Struct`, though. \r\n\r\nFrom that, you can pass the bytes to [`KafkaAvroDeserializer#deserialize`](https://github.com/confluentinc/schema-registry/blob/7.0.1-post/avro-serializer/src/main/java/io/confluent/kafka/serializers/KafkaAvroDeserializer.java#L54) and cast the response to your generated class. \r\n\r\n---\r\n\r\nAlternatively, the proper way to transform data within Debezium/Kafka Connect is to use Simple-Message-Transforms and stay within the Struct/Schema APIs. ","title":"Convert Kafka connect Struct to POJO","body":"<p>As written in the Debezium Engine docs</p>\n<blockquote>\n<p>Internally, the engine uses the appropriate Kafka Connect converter implementation to which the conversion is delegated</p>\n</blockquote>\n<p>This means, you need to reverse the Converter methods, then use a Kafka Deserializer class to get data back to a POJO that would have been originally produced.</p>\n<hr />\n<p>Assuming you used Confluent's AvroConverter, then you should be able to use <a href=\"https://github.com/confluentinc/schema-registry/blob/7.0.1-post/avro-converter/src/main/java/io/confluent/connect/avro/AvroConverter.java#L83\" rel=\"nofollow noreferrer\"><code>AvroConverter#fromConnectData</code></a> to return a <code>byte[]</code> as the key/value. You will first need the Connect <code>Schema</code> instance for your <code>Struct</code>, though.</p>\n<p>From that, you can pass the bytes to <a href=\"https://github.com/confluentinc/schema-registry/blob/7.0.1-post/avro-serializer/src/main/java/io/confluent/kafka/serializers/KafkaAvroDeserializer.java#L54\" rel=\"nofollow noreferrer\"><code>KafkaAvroDeserializer#deserialize</code></a> and cast the response to your generated class.</p>\n<hr />\n<p>Alternatively, the proper way to transform data within Debezium/Kafka Connect is to use Simple-Message-Transforms and stay within the Struct/Schema APIs.</p>\n"}],"owner":{"account_id":6408227,"reputation":2256,"user_id":4968749,"accept_rate":100,"display_name":"Hassam Abdelillah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":846,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643142301,"creation_date":1643139091,"question_id":70854598,"body_markdown":"I&#39;m working on component that capture data change (CDC) from a database, apply some business logic on data then send them to a new topic which is an azure event hub topic.\r\n\r\nMy stack includes : \r\n\r\n - Camel pipelines\r\n - Debezium Embedded (for CDC)\r\n\r\nThis [article][1] from debezium was the basis I started working on. A Converter is used to transform the Struct to a POJO. \r\n\r\n      @Converter\r\n      public static class Converters {\r\n    \r\n        @Converter\r\n        public static Question questionFromStruct(Struct struct) {                   \r\n          return new Question(struct.getInt64(&quot;id&quot;), struct.getString(&quot;text&quot;),\r\n              struct.getString(&quot;email&quot;));\r\n        }\r\n    \r\n        @Converter\r\n        public static Answer answerFromStruct(Struct struct) {                       \r\n          return new Answer(struct.getInt64(&quot;id&quot;), struct.getString(&quot;text&quot;),\r\n              struct.getString(&quot;email&quot;), struct.getInt64(&quot;question_id&quot;));\r\n        }\r\n      }\r\n\r\n\r\nIn my case the POJO I&#39;m handling is an Avro generated one. Also it includes more than 20 attributes I don&#39;t want to set manually.\r\n\r\nI thought about mappers such as MapStruct or Dozer. But the don&#39;t handle this kind of mapping.\r\n\r\nAny insights on how to handle ```struct``` with more automation?\r\n\r\n\r\n  [1]: https://debezium.io/blog/2020/02/19/debezium-camel-integration/","title":"Convert Kafka connect Struct to POJO","body":"<p>I'm working on component that capture data change (CDC) from a database, apply some business logic on data then send them to a new topic which is an azure event hub topic.</p>\n<p>My stack includes :</p>\n<ul>\n<li>Camel pipelines</li>\n<li>Debezium Embedded (for CDC)</li>\n</ul>\n<p>This <a href=\"https://debezium.io/blog/2020/02/19/debezium-camel-integration/\" rel=\"nofollow noreferrer\">article</a> from debezium was the basis I started working on. A Converter is used to transform the Struct to a POJO.</p>\n<pre><code>  @Converter\n  public static class Converters {\n\n    @Converter\n    public static Question questionFromStruct(Struct struct) {                   \n      return new Question(struct.getInt64(&quot;id&quot;), struct.getString(&quot;text&quot;),\n          struct.getString(&quot;email&quot;));\n    }\n\n    @Converter\n    public static Answer answerFromStruct(Struct struct) {                       \n      return new Answer(struct.getInt64(&quot;id&quot;), struct.getString(&quot;text&quot;),\n          struct.getString(&quot;email&quot;), struct.getInt64(&quot;question_id&quot;));\n    }\n  }\n</code></pre>\n<p>In my case the POJO I'm handling is an Avro generated one. Also it includes more than 20 attributes I don't want to set manually.</p>\n<p>I thought about mappers such as MapStruct or Dozer. But the don't handle this kind of mapping.</p>\n<p>Any insights on how to handle <code>struct</code> with more automation?</p>\n"},{"tags":["java","store"],"comments":[{"owner":{"account_id":1350869,"reputation":16563,"user_id":1322268,"display_name":"shawnt00"},"score":2,"creation_date":1643136866,"post_id":70854043,"comment_id":125258728,"body_markdown":"You really don&#39;t want to use `double` in real life for tracking currency. But I gather this is homework. I believe you don&#39;t want static member variables. Member values can nevertheless be referenced across the class methods too.","body":"You really don&#39;t want to use <code>double</code> in real life for tracking currency. But I gather this is homework. I believe you don&#39;t want static member variables. Member values can nevertheless be referenced across the class methods too."},{"owner":{"display_name":"user14068562"},"score":0,"creation_date":1643169387,"post_id":70854043,"comment_id":125266496,"body_markdown":"Yeah, I ran into an issue because of using &#39;double&#39;. Sometimes, I get change with a lot of decimals. How I should I troubleshoot it?","body":"Yeah, I ran into an issue because of using &#39;double&#39;. Sometimes, I get change with a lot of decimals. How I should I troubleshoot it?"},{"owner":{"account_id":1350869,"reputation":16563,"user_id":1322268,"display_name":"shawnt00"},"score":0,"creation_date":1643174632,"post_id":70854043,"comment_id":125267197,"body_markdown":"You should probably store it as cents rather than dollars.","body":"You should probably store it as cents rather than dollars."}],"answers":[{"tags":[],"owner":{"account_id":23806749,"reputation":56,"user_id":17816148,"display_name":"superevil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643139095,"creation_date":1643139095,"answer_id":70854602,"question_id":70854043,"body_markdown":"where do you instantiate your scanner? It needs to be a part of the main method, and then pass the value from the user to the MainMenu(-put value here-) method. That way -&gt; Scanner would work.\r\n\r\n    MainMenu(double amount);\r\nDo your calculations in the receiving method and just pass a &quot;generic&quot; double input from the user\r\n\r\nAlso, it&#39;s not a good practice in your case to declare the items in your stock as public static. Remember that it&#39;s always a good practice to declare variables as private, and use setters/getters for those.\r\n\r\nThe data members shouldn&#39;t be initialized like you did, but instead:\r\n\r\n    private int stockPC;\r\n    private int stockCo;\r\n    private int stockCa;\r\n\r\nUse a constructor to define the value of those upon initialisation:\r\n\r\n     public VendingMachine(int stockPC, int stockCo, int stock){\r\n     this.stockPC = stockPC;\r\n     this.stockCo = stockCo;\r\n     this.stockCa = stockCa;\r\n    }\r\n\r\nAnd finally getters/setters:\r\n\r\n    public int getStockPC(){\r\n    return stockPC;}\r\n    \r\n    public int getstockCo(){\r\n    return stockCo;}\r\n    \r\n    public int stockCa(){\r\n    return stockCa;}\r\n    \r\n    public void setstockPC(int stockPC){\r\n    this.stockPC = stockPC;}\r\n    \r\n    public void stockCo(int stockCo){\r\n    this.stockCo = stockCo;}\r\n    \r\n    public void stockCa(int stockCa){\r\n    this.stockCa = stockCa;}\r\n\r\nI hope that&#39;s helpful","title":"How to store updated value of an integer in java?","body":"<p>where do you instantiate your scanner? It needs to be a part of the main method, and then pass the value from the user to the MainMenu(-put value here-) method. That way -&gt; Scanner would work.</p>\n<pre><code>MainMenu(double amount);\n</code></pre>\n<p>Do your calculations in the receiving method and just pass a &quot;generic&quot; double input from the user</p>\n<p>Also, it's not a good practice in your case to declare the items in your stock as public static. Remember that it's always a good practice to declare variables as private, and use setters/getters for those.</p>\n<p>The data members shouldn't be initialized like you did, but instead:</p>\n<pre><code>private int stockPC;\nprivate int stockCo;\nprivate int stockCa;\n</code></pre>\n<p>Use a constructor to define the value of those upon initialisation:</p>\n<pre><code> public VendingMachine(int stockPC, int stockCo, int stock){\n this.stockPC = stockPC;\n this.stockCo = stockCo;\n this.stockCa = stockCa;\n}\n</code></pre>\n<p>And finally getters/setters:</p>\n<pre><code>public int getStockPC(){\nreturn stockPC;}\n\npublic int getstockCo(){\nreturn stockCo;}\n\npublic int stockCa(){\nreturn stockCa;}\n\npublic void setstockPC(int stockPC){\nthis.stockPC = stockPC;}\n\npublic void stockCo(int stockCo){\nthis.stockCo = stockCo;}\n\npublic void stockCa(int stockCa){\nthis.stockCa = stockCa;}\n</code></pre>\n<p>I hope that's helpful</p>\n"},{"tags":[],"owner":{"account_id":15166774,"reputation":91,"user_id":10944077,"display_name":"Awais Latif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643142260,"creation_date":1643142260,"answer_id":70855234,"question_id":70854043,"body_markdown":"I have made a vending machine which never stop serving. :D\r\nI have added condition for amount as well if you have lesser amount than price of select option it will show message.\r\n\r\nYour code was correct as you needed just few condition was missing and was not correct. what you was wanting was while loop. but I have corrected your conditions and added needed conditions as per my understanding. if you want you can remove these conditions.\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Main\r\n    {\r\n    public static final Scanner sc = new Scanner(System.in);\r\n    public static double totalAmt;\r\n    public static double change;\r\n    public static String food = null;\r\n    public static int stockPC = 2;\r\n    public static int stockCo = 2;\r\n    public static int stockCa = 2;\r\n    \r\n    public static void MainMenu(){\r\n        \r\n         System.out.println(&quot;Main menu - &quot;); \r\n         System.out.println(&quot;a - Potato Chips -$1.25&quot;);\r\n         System.out.println(&quot;b - Cookies - $0.85 &quot;);\r\n         System.out.println(&quot;c - Candies - $0.95&quot;);\r\n         \r\n         String input = sc.next().toLowerCase(); \r\n         change = 0;\r\n         if(input.equals(&quot;a&quot;)){\r\n            stockPC = stockPC -1;\r\n            //when stockPC is -1 means stock was zero and you want 1 more\r\n            if(stockPC == -1){\r\n                System.out.println(&quot;Sorry we&#39;re out of Potato Chips:(&quot;);\r\n            }else{\r\n                change = totalAmt - 1.25;\r\n                if(change&lt;0){\r\n                    System.out.println(&quot;You don&#39;t have enough amount to buy&quot;);\r\n                }else{\r\n                    food =&quot;Potato chips&quot;;\r\n                    System.out.println(&quot;Please take your &quot;+ food + &quot;\\n&quot;);       \r\n                    System.out.println(&quot;Here is your change $&quot; + change);\r\n                }\r\n            }\r\n         }else if ( input.equals(&quot;b&quot;)){\r\n            stockCo = stockCo -1;\r\n            //when stockCo is -1 means stock was zero and you want 1 more\r\n            if(stockCo == -1){\r\n                System.out.println(&quot;Sorry we&#39;re out of Cookies:(&quot;);\r\n            }else{\r\n                change = totalAmt - 0.85;\r\n                if(change&lt;0){\r\n                    System.out.println(&quot;You don&#39;t have enough amount to buy&quot;);\r\n                }else{\r\n                    food =&quot;Cookies&quot;;\r\n                    System.out.println(&quot;Please take your &quot;+ food + &quot;\\n&quot;);       \r\n                    System.out.println(&quot;Here is your change $&quot; + change);\r\n                }\r\n            }\r\n         }else if ( input.equals(&quot;c&quot;)){\r\n            stockCa = stockCa -1;\r\n            //when stockCa is -1 means stock was zero and you want 1 more\r\n            if(stockCa == 0){\r\n                System.out.println(&quot;Sorry we&#39;re out of Candies:(&quot;);\r\n            }else{\r\n                change = totalAmt - 0.95;\r\n                if(change&lt;0){\r\n                    System.out.println(&quot;You don&#39;t have enough amount to buy&quot;);\r\n                }else{\r\n                    food =&quot;Candies&quot;;\r\n                    System.out.println(&quot;Please take your &quot;+ food + &quot;\\n&quot;);       \r\n                    System.out.println(&quot;Here is your change $&quot; + change);\r\n                }\r\n            }\r\n         }else{\r\n               System.out.println(&quot;Our system only accepts a,b or c&quot;);\r\n         }\r\n        }\r\n    \r\n    public static void main(String[] args){\r\n         System.out.println(&quot;Hi! Welcome to Vending Machine!&quot;);\r\n         \r\n        \r\n         System.out.println(&quot;How many quarters do you have?&quot;);\r\n         double noOfQt = sc.nextDouble();\r\n         totalAmt = noOfQt * 0.25;\r\n         \r\n         System.out.println(&quot;How many dimes do you have?&quot;);\r\n         double noOfDm = sc.nextDouble();\r\n         totalAmt = totalAmt + (noOfDm * 0.1);\r\n         \r\n         System.out.println(&quot;How many nickels do you have?&quot;);\r\n         double noOfNk = sc.nextDouble();\r\n         totalAmt = totalAmt + (noOfNk * 0.05);\r\n         \r\n         System.out.println(&quot;You have = $&quot; + totalAmt);\r\n         \r\n         while(true){\r\n            MainMenu();\r\n         }\r\n            \r\n         }\r\n    }","title":"How to store updated value of an integer in java?","body":"<p>I have made a vending machine which never stop serving. :D\nI have added condition for amount as well if you have lesser amount than price of select option it will show message.</p>\n<p>Your code was correct as you needed just few condition was missing and was not correct. what you was wanting was while loop. but I have corrected your conditions and added needed conditions as per my understanding. if you want you can remove these conditions.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main\n{\npublic static final Scanner sc = new Scanner(System.in);\npublic static double totalAmt;\npublic static double change;\npublic static String food = null;\npublic static int stockPC = 2;\npublic static int stockCo = 2;\npublic static int stockCa = 2;\n\npublic static void MainMenu(){\n    \n     System.out.println(&quot;Main menu - &quot;); \n     System.out.println(&quot;a - Potato Chips -$1.25&quot;);\n     System.out.println(&quot;b - Cookies - $0.85 &quot;);\n     System.out.println(&quot;c - Candies - $0.95&quot;);\n     \n     String input = sc.next().toLowerCase(); \n     change = 0;\n     if(input.equals(&quot;a&quot;)){\n        stockPC = stockPC -1;\n        //when stockPC is -1 means stock was zero and you want 1 more\n        if(stockPC == -1){\n            System.out.println(&quot;Sorry we're out of Potato Chips:(&quot;);\n        }else{\n            change = totalAmt - 1.25;\n            if(change&lt;0){\n                System.out.println(&quot;You don't have enough amount to buy&quot;);\n            }else{\n                food =&quot;Potato chips&quot;;\n                System.out.println(&quot;Please take your &quot;+ food + &quot;\\n&quot;);       \n                System.out.println(&quot;Here is your change $&quot; + change);\n            }\n        }\n     }else if ( input.equals(&quot;b&quot;)){\n        stockCo = stockCo -1;\n        //when stockCo is -1 means stock was zero and you want 1 more\n        if(stockCo == -1){\n            System.out.println(&quot;Sorry we're out of Cookies:(&quot;);\n        }else{\n            change = totalAmt - 0.85;\n            if(change&lt;0){\n                System.out.println(&quot;You don't have enough amount to buy&quot;);\n            }else{\n                food =&quot;Cookies&quot;;\n                System.out.println(&quot;Please take your &quot;+ food + &quot;\\n&quot;);       \n                System.out.println(&quot;Here is your change $&quot; + change);\n            }\n        }\n     }else if ( input.equals(&quot;c&quot;)){\n        stockCa = stockCa -1;\n        //when stockCa is -1 means stock was zero and you want 1 more\n        if(stockCa == 0){\n            System.out.println(&quot;Sorry we're out of Candies:(&quot;);\n        }else{\n            change = totalAmt - 0.95;\n            if(change&lt;0){\n                System.out.println(&quot;You don't have enough amount to buy&quot;);\n            }else{\n                food =&quot;Candies&quot;;\n                System.out.println(&quot;Please take your &quot;+ food + &quot;\\n&quot;);       \n                System.out.println(&quot;Here is your change $&quot; + change);\n            }\n        }\n     }else{\n           System.out.println(&quot;Our system only accepts a,b or c&quot;);\n     }\n    }\n\npublic static void main(String[] args){\n     System.out.println(&quot;Hi! Welcome to Vending Machine!&quot;);\n     \n    \n     System.out.println(&quot;How many quarters do you have?&quot;);\n     double noOfQt = sc.nextDouble();\n     totalAmt = noOfQt * 0.25;\n     \n     System.out.println(&quot;How many dimes do you have?&quot;);\n     double noOfDm = sc.nextDouble();\n     totalAmt = totalAmt + (noOfDm * 0.1);\n     \n     System.out.println(&quot;How many nickels do you have?&quot;);\n     double noOfNk = sc.nextDouble();\n     totalAmt = totalAmt + (noOfNk * 0.05);\n     \n     System.out.println(&quot;You have = $&quot; + totalAmt);\n     \n     while(true){\n        MainMenu();\n     }\n        \n     }\n}\n</code></pre>\n"}],"owner":{"display_name":"user14068562"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70854602,"answer_count":2,"score":1,"last_activity_date":1643142260,"creation_date":1643136243,"question_id":70854043,"body_markdown":"Here&#39;s my code for vending machine- \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class VendingMachine\r\n    {\r\n        public static final Scanner sc = new Scanner(System.in);\r\n        public static double totalAmt;\r\n        public static double change;\r\n        public static String food = null;\r\n        public static int stockPC = 2;\r\n        public static int stockCo = 2;\r\n        public static int stockCa = 2;\r\n        \r\n        public static void MainMenu(){\r\n            \r\n             System.out.println(&quot;Main menu - &quot;); \r\n             System.out.println(&quot;a - Potato Chips -$1.25&quot;);\r\n             System.out.println(&quot;b - Cookies - $0.85 &quot;);\r\n             System.out.println(&quot;c - Candies - $0.95&quot;);\r\n             \r\n             \r\n             \r\n             String input = sc.next().toLowerCase(); \r\n             change = 0;\r\n             if(input.equals(&quot;a&quot;)){\r\n                stockPC = stockPC -1;\r\n                change = totalAmt - 1.25;\r\n                food =&quot;Potato chips&quot;;\r\n                    if(stockPC == 0){\r\n                     System.out.println(&quot;Sorry we&#39;re out of Potato Chips:(&quot;);\r\n                    }else{\r\n                        System.out.println(&quot;Please take your &quot;+ food + &quot;\\n&quot;);       \r\n                         System.out.println(&quot;Here is your change $&quot; + change);\r\n                    }\r\n    \r\n             }else if ( input.equals(&quot;b&quot;)){\r\n                stockCo = stockCo -1;\r\n                change = totalAmt - 0.85;\r\n                food =&quot;Cookies&quot;;\r\n                     if(stockCo == 0){\r\n                     System.out.println(&quot;Sorry we&#39;re out of Cookies:(&quot;);\r\n                    }else{\r\n                        System.out.println(&quot;Please take your &quot;+ food + &quot;\\n&quot;);       \r\n                         System.out.println(&quot;Here is your change $&quot; + change);\r\n                    }\r\n             }else if ( input.equals(&quot;c&quot;)){\r\n                stockCa = stockCa -1;\r\n                change = totalAmt - 0.95;\r\n                food =&quot;Candies&quot;;\r\n                     if(stockCa == 0){\r\n                     System.out.println(&quot;Sorry we&#39;re out of Candies:(&quot;);\r\n                    }else{\r\n                        System.out.println(&quot;Please take your &quot;+ food + &quot;\\n&quot;);       \r\n                         System.out.println(&quot;Here is your change $&quot; + change);\r\n                    }\r\n             }else{\r\n                   System.out.println(&quot;Our system only accepts a,b or c&quot;);\r\n             }\r\n             \r\n            }\r\n        \r\n        \r\n        public static void main(String[] args){\r\n             System.out.println(&quot;Hi! Welcome to Vending Machine!&quot;);\r\n             \r\n            \r\n             System.out.println(&quot;How many quarters do you have?&quot;);\r\n             double noOfQt = sc.nextDouble();\r\n             totalAmt = noOfQt * 0.25;\r\n             \r\n             System.out.println(&quot;How many dimes do you have?&quot;);\r\n             double noOfDm = sc.nextDouble();\r\n             totalAmt = totalAmt + (noOfDm * 0.1);\r\n             \r\n             System.out.println(&quot;How many nickels do you have?&quot;);\r\n             double noOfNk = sc.nextDouble();\r\n             totalAmt = totalAmt + (noOfNk * 0.05);\r\n             \r\n             System.out.println(&quot;You have = $&quot; + totalAmt);\r\n             \r\n             MainMenu();\r\n                \r\n             }\r\n        }\r\n\r\n\r\n\r\nI having trouble in my MainMenu method. After selecting one of the inputs in my MainMenu method, I want to update the value of &#39;integers&#39; like change, stockPC, stockCo and stockCo at the end of the method. I don&#39;t want to print these value. I just want to use these updated value in my main method.\r\n\r\nHow can I do it?  \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to store updated value of an integer in java?","body":"<p>Here's my code for vending machine-</p>\n<pre><code>import java.util.Scanner;\n\npublic class VendingMachine\n{\n    public static final Scanner sc = new Scanner(System.in);\n    public static double totalAmt;\n    public static double change;\n    public static String food = null;\n    public static int stockPC = 2;\n    public static int stockCo = 2;\n    public static int stockCa = 2;\n    \n    public static void MainMenu(){\n        \n         System.out.println(&quot;Main menu - &quot;); \n         System.out.println(&quot;a - Potato Chips -$1.25&quot;);\n         System.out.println(&quot;b - Cookies - $0.85 &quot;);\n         System.out.println(&quot;c - Candies - $0.95&quot;);\n         \n         \n         \n         String input = sc.next().toLowerCase(); \n         change = 0;\n         if(input.equals(&quot;a&quot;)){\n            stockPC = stockPC -1;\n            change = totalAmt - 1.25;\n            food =&quot;Potato chips&quot;;\n                if(stockPC == 0){\n                 System.out.println(&quot;Sorry we're out of Potato Chips:(&quot;);\n                }else{\n                    System.out.println(&quot;Please take your &quot;+ food + &quot;\\n&quot;);       \n                     System.out.println(&quot;Here is your change $&quot; + change);\n                }\n\n         }else if ( input.equals(&quot;b&quot;)){\n            stockCo = stockCo -1;\n            change = totalAmt - 0.85;\n            food =&quot;Cookies&quot;;\n                 if(stockCo == 0){\n                 System.out.println(&quot;Sorry we're out of Cookies:(&quot;);\n                }else{\n                    System.out.println(&quot;Please take your &quot;+ food + &quot;\\n&quot;);       \n                     System.out.println(&quot;Here is your change $&quot; + change);\n                }\n         }else if ( input.equals(&quot;c&quot;)){\n            stockCa = stockCa -1;\n            change = totalAmt - 0.95;\n            food =&quot;Candies&quot;;\n                 if(stockCa == 0){\n                 System.out.println(&quot;Sorry we're out of Candies:(&quot;);\n                }else{\n                    System.out.println(&quot;Please take your &quot;+ food + &quot;\\n&quot;);       \n                     System.out.println(&quot;Here is your change $&quot; + change);\n                }\n         }else{\n               System.out.println(&quot;Our system only accepts a,b or c&quot;);\n         }\n         \n        }\n    \n    \n    public static void main(String[] args){\n         System.out.println(&quot;Hi! Welcome to Vending Machine!&quot;);\n         \n        \n         System.out.println(&quot;How many quarters do you have?&quot;);\n         double noOfQt = sc.nextDouble();\n         totalAmt = noOfQt * 0.25;\n         \n         System.out.println(&quot;How many dimes do you have?&quot;);\n         double noOfDm = sc.nextDouble();\n         totalAmt = totalAmt + (noOfDm * 0.1);\n         \n         System.out.println(&quot;How many nickels do you have?&quot;);\n         double noOfNk = sc.nextDouble();\n         totalAmt = totalAmt + (noOfNk * 0.05);\n         \n         System.out.println(&quot;You have = $&quot; + totalAmt);\n         \n         MainMenu();\n            \n         }\n    }\n</code></pre>\n<p>I having trouble in my MainMenu method. After selecting one of the inputs in my MainMenu method, I want to update the value of 'integers' like change, stockPC, stockCo and stockCo at the end of the method. I don't want to print these value. I just want to use these updated value in my main method.</p>\n<p>How can I do it?</p>\n"},{"tags":["java","redis","jedis"],"comments":[{"owner":{"account_id":291341,"reputation":9138,"user_id":593425,"accept_rate":55,"display_name":"Guy Korland"},"score":0,"creation_date":1643136741,"post_id":70850501,"comment_id":125258668,"body_markdown":"Is that the only use case? if so why not just a list/hash for each clientid that will all the systemid?","body":"Is that the only use case? if so why not just a list/hash for each clientid that will all the systemid?"},{"owner":{"account_id":3419544,"reputation":403,"user_id":17417246,"display_name":"Tony"},"score":0,"creation_date":1643138334,"post_id":70850501,"comment_id":125259260,"body_markdown":"So something like this, Map&lt;SystemId, value&gt; and it will be jedis..set(ClientId, map,bytes) I did think of that, but it means taking out a map then extracting the value from the map, just to return one value. I have a usecase where for clientid-systemid I return a value.\nThat is a las resort. I guess that there is not one  call to jedis then.","body":"So something like this, Map&lt;SystemId, value&gt; and it will be jedis..set(ClientId, map,bytes) I did think of that, but it means taking out a map then extracting the value from the map, just to return one value. I have a usecase where for clientid-systemid I return a value. That is a las resort. I guess that there is not one  call to jedis then."},{"owner":{"account_id":291341,"reputation":9138,"user_id":593425,"accept_rate":55,"display_name":"Guy Korland"},"score":0,"creation_date":1643210572,"post_id":70850501,"comment_id":125279614,"body_markdown":"No, you should use the Hash API. `jedis.hset()/hget()`.","body":"No, you should use the Hash API. <code>jedis.hset()&#47;hget()</code>."},{"owner":{"account_id":291341,"reputation":9138,"user_id":593425,"accept_rate":55,"display_name":"Guy Korland"},"score":1,"creation_date":1643210579,"post_id":70850501,"comment_id":125279617,"body_markdown":"See: https://redis.io/commands/hset","body":"See: <a href=\"https://redis.io/commands/hset\" rel=\"nofollow noreferrer\">redis.io/commands/hset</a>"},{"owner":{"account_id":3419544,"reputation":403,"user_id":17417246,"display_name":"Tony"},"score":0,"creation_date":1643283534,"post_id":70850501,"comment_id":125301093,"body_markdown":"Thank you looked at that. But now going in a different direction using mysql with awas. But thank you,","body":"Thank you looked at that. But now going in a different direction using mysql with awas. But thank you,"}],"owner":{"account_id":3419544,"reputation":403,"user_id":17417246,"display_name":"Tony"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643141868,"creation_date":1643121230,"question_id":70850501,"body_markdown":"I have a requirement, where I have built up a key with two elements\r\nclientid-systemid, using get, will return the value for that one key.\r\n\r\nI also have a requirement where using a partial key clientid. I will return all values for that clientId.\r\n\r\nCurrently, I have it broken down into two calls to the cache.\r\nCall 1 uses jedis.scan, this will return a list of all the keys of type clientid-systemid, prefixed with that clients Id.\r\nI then call jedis.mget, and this returns all the values for that list of keys.\r\n\r\nWhat I am trying to do is have it as one method call. I thought it was hscan or sscan.\r\nBut it looks as if they are not the correct calls.","title":"Does jedis have a method that can take a partial key and returns all the values that match that partial key","body":"<p>I have a requirement, where I have built up a key with two elements\nclientid-systemid, using get, will return the value for that one key.</p>\n<p>I also have a requirement where using a partial key clientid. I will return all values for that clientId.</p>\n<p>Currently, I have it broken down into two calls to the cache.\nCall 1 uses jedis.scan, this will return a list of all the keys of type clientid-systemid, prefixed with that clients Id.\nI then call jedis.mget, and this returns all the values for that list of keys.</p>\n<p>What I am trying to do is have it as one method call. I thought it was hscan or sscan.\nBut it looks as if they are not the correct calls.</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643893802,"post_id":70852625,"comment_id":125463417,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643141204,"creation_date":1643130661,"answer_id":70852842,"question_id":70852625,"body_markdown":"No need to create booleans and then do checks on them. Just check if the key is pressed and then put your code in that if statement.\r\n\r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.Input;\r\n    import com.badlogic.gdx.graphics.Texture;\r\n    import com.badlogic.gdx.graphics.g2d.BitmapFont;\r\n    import com.badlogic.gdx.graphics.g2d.SpriteBatch;\r\n    import com.badlogic.gdx.graphics.g2d.TextureAtlas;\r\n    import com.badlogic.gdx.graphics.g2d.TextureRegion;\r\n    import com.badlogic.gdx.math.Vector2;\r\n    \r\n    \r\n    public class Hero {\r\n    \r\n        private int rightBorder;\r\n        private int leftBorder;\r\n        private int top;\r\n        private int bottom;\r\n    \r\n        private GameController gc;\r\n        private float cellX;\r\n        private float cellY;\r\n        private TextureRegion texture;\r\n        private float speed;\r\n    \r\n        private float offset;\r\n    \r\n        private StringBuilder stringBuilder;\r\n        private int score;\r\n    \r\n       \r\n        public Hero(TextureAtlas atlas, GameController gc){\r\n            this.texture = atlas.findRegion(&quot;Pacman&quot;);\r\n            this.cellX = 1;\r\n            this.cellY = 1;\r\n            this.speed = 5f;\r\n            this.offset = 36;\r\n            this.stringBuilder = new StringBuilder();\r\n            this.score = 0;\r\n            this.gc = gc;\r\n            this.leftBorder = 0;\r\n            this.rightBorder = 15;\r\n            this.top = 8;\r\n            this.bottom = 0;\r\n        }\r\n    \r\n        public void update(float dt){\r\n            movement(dt);\r\n            checkBounds();\r\n        }\r\n    \r\n        private void checkBounds(){\r\n            if (cellX &gt; rightBorder){\r\n                cellX = rightBorder;\r\n            }\r\n            if (cellX &lt; leftBorder){\r\n                cellX = leftBorder;\r\n            }\r\n            if (cellY &gt; top){\r\n                cellY = top;\r\n            }\r\n            if (cellY &lt; bottom){\r\n                cellY = bottom;\r\n            }\r\n    \r\n    //        if (position.x &gt; 1280 - offset){\r\n    //            position.x = 1280 - offset;\r\n    //        }\r\n    //        if (position.x &lt; 0 + offset){\r\n    //            position.x = 0 + offset;\r\n    //        }\r\n    //        if (position.y &gt; 720 - offset){\r\n    //            position.y = 720 - offset;\r\n    //        }\r\n    //        if (position.y &lt; 0 + offset){\r\n    //            position.y = 0 + offset;\r\n    //        }\r\n        }\r\n    \r\n        public void movement(float dt){\r\n            if (Gdx.input.isButtonPressed(Input.Keys.D)){\r\n                cellX += speed * dt;\r\n            }\r\n            else if (Gdx.input.isButtonPressed(Input.Keys.A)){\r\n                cellX -= speed * dt;\r\n            }\r\n            else if (Gdx.input.isButtonPressed(Input.Keys.S)){\r\n                cellY -= speed * dt;\r\n            }\r\n            else if (Gdx.input.isButtonPressed(Input.Keys.W)){\r\n                cellY += speed * dt;\r\n            }\r\n        }\r\n    \r\n        public void renderGUI(SpriteBatch batch, BitmapFont font){\r\n            stringBuilder.setLength(0);\r\n            stringBuilder.append(&quot;Score: &quot; + score);\r\n            font.draw(batch, stringBuilder, 10, 700);\r\n        }\r\n    \r\n        public void render(SpriteBatch batch){\r\n            batch.draw(texture, cellX * GameMap.CELL_SIZE, cellY * GameMap.CELL_SIZE);\r\n        }\r\n    }","title":"Pacman method for move Java libGDX","body":"<p>No need to create booleans and then do checks on them. Just check if the key is pressed and then put your code in that if statement.</p>\n<pre><code>import com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.Input;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.g2d.BitmapFont;\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\nimport com.badlogic.gdx.graphics.g2d.TextureAtlas;\nimport com.badlogic.gdx.graphics.g2d.TextureRegion;\nimport com.badlogic.gdx.math.Vector2;\n\n\npublic class Hero {\n\n    private int rightBorder;\n    private int leftBorder;\n    private int top;\n    private int bottom;\n\n    private GameController gc;\n    private float cellX;\n    private float cellY;\n    private TextureRegion texture;\n    private float speed;\n\n    private float offset;\n\n    private StringBuilder stringBuilder;\n    private int score;\n\n   \n    public Hero(TextureAtlas atlas, GameController gc){\n        this.texture = atlas.findRegion(&quot;Pacman&quot;);\n        this.cellX = 1;\n        this.cellY = 1;\n        this.speed = 5f;\n        this.offset = 36;\n        this.stringBuilder = new StringBuilder();\n        this.score = 0;\n        this.gc = gc;\n        this.leftBorder = 0;\n        this.rightBorder = 15;\n        this.top = 8;\n        this.bottom = 0;\n    }\n\n    public void update(float dt){\n        movement(dt);\n        checkBounds();\n    }\n\n    private void checkBounds(){\n        if (cellX &gt; rightBorder){\n            cellX = rightBorder;\n        }\n        if (cellX &lt; leftBorder){\n            cellX = leftBorder;\n        }\n        if (cellY &gt; top){\n            cellY = top;\n        }\n        if (cellY &lt; bottom){\n            cellY = bottom;\n        }\n\n//        if (position.x &gt; 1280 - offset){\n//            position.x = 1280 - offset;\n//        }\n//        if (position.x &lt; 0 + offset){\n//            position.x = 0 + offset;\n//        }\n//        if (position.y &gt; 720 - offset){\n//            position.y = 720 - offset;\n//        }\n//        if (position.y &lt; 0 + offset){\n//            position.y = 0 + offset;\n//        }\n    }\n\n    public void movement(float dt){\n        if (Gdx.input.isButtonPressed(Input.Keys.D)){\n            cellX += speed * dt;\n        }\n        else if (Gdx.input.isButtonPressed(Input.Keys.A)){\n            cellX -= speed * dt;\n        }\n        else if (Gdx.input.isButtonPressed(Input.Keys.S)){\n            cellY -= speed * dt;\n        }\n        else if (Gdx.input.isButtonPressed(Input.Keys.W)){\n            cellY += speed * dt;\n        }\n    }\n\n    public void renderGUI(SpriteBatch batch, BitmapFont font){\n        stringBuilder.setLength(0);\n        stringBuilder.append(&quot;Score: &quot; + score);\n        font.draw(batch, stringBuilder, 10, 700);\n    }\n\n    public void render(SpriteBatch batch){\n        batch.draw(texture, cellX * GameMap.CELL_SIZE, cellY * GameMap.CELL_SIZE);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23417369,"reputation":39,"user_id":17478126,"display_name":"IMBABOT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643141204,"creation_date":1643129707,"question_id":70852625,"body_markdown":"I&#39;am working on Pacman clone with Java and libGDX\r\nHow to make Pacman move by pressing one button?\r\n\r\nHere is my code for moving, but I think it&#39;s not the best option:\r\n\r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.Input;\r\n    import com.badlogic.gdx.graphics.Texture;\r\n    import com.badlogic.gdx.graphics.g2d.BitmapFont;\r\n    import com.badlogic.gdx.graphics.g2d.SpriteBatch;\r\n    import com.badlogic.gdx.graphics.g2d.TextureAtlas;\r\n    import com.badlogic.gdx.graphics.g2d.TextureRegion;\r\n    import com.badlogic.gdx.math.Vector2;\r\n    \r\n    \r\n    public class Hero {\r\n    \r\n        private int rightBorder;\r\n        private int leftBorder;\r\n        private int top;\r\n        private int bottom;\r\n    \r\n        private GameController gc;\r\n        private float cellX;\r\n        private float cellY;\r\n        private TextureRegion texture;\r\n        private float speed;\r\n    \r\n        private boolean isPressedD;\r\n        private boolean isPressedA;\r\n        private boolean isPressedW;\r\n        private boolean isPressedS;\r\n    \r\n        private float offset;\r\n    \r\n        private StringBuilder stringBuilder;\r\n        private int score;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        public Hero(TextureAtlas atlas, GameController gc){\r\n            this.texture = atlas.findRegion(&quot;Pacman&quot;);\r\n            this.cellX = 1;\r\n            this.cellY = 1;\r\n            this.speed = 5f;\r\n            this.isPressedD = false;\r\n            this.isPressedA = false;\r\n            this.isPressedS = false;\r\n            this.isPressedW = false;\r\n            this.offset = 36;\r\n            this.stringBuilder = new StringBuilder();\r\n            this.score = 0;\r\n            this.gc = gc;\r\n            this.leftBorder = 0;\r\n            this.rightBorder = 15;\r\n            this.top = 8;\r\n            this.bottom = 0;\r\n        }\r\n    \r\n        public void update(float dt){\r\n            movement(dt);\r\n            checkBounds();\r\n        }\r\n    \r\n        private void checkBounds(){\r\n            if (cellX &gt; rightBorder){\r\n                cellX = rightBorder;\r\n            }\r\n            if (cellX &lt; leftBorder){\r\n                cellX = leftBorder;\r\n            }\r\n            if (cellY &gt; top){\r\n                cellY = top;\r\n            }\r\n            if (cellY &lt; bottom){\r\n                cellY = bottom;\r\n            }\r\n    \r\n    //        if (position.x &gt; 1280 - offset){\r\n    //            position.x = 1280 - offset;\r\n    //        }\r\n    //        if (position.x &lt; 0 + offset){\r\n    //            position.x = 0 + offset;\r\n    //        }\r\n    //        if (position.y &gt; 720 - offset){\r\n    //            position.y = 720 - offset;\r\n    //        }\r\n    //        if (position.y &lt; 0 + offset){\r\n    //            position.y = 0 + offset;\r\n    //        }\r\n        }\r\n    \r\n        public void movement(float dt){\r\n            if (Gdx.input.isKeyJustPressed(Input.Keys.D)){\r\n                isPressedD = true;\r\n                isPressedA = false;\r\n                isPressedS = false;\r\n                isPressedW = false;\r\n            }\r\n            if (Gdx.input.isKeyJustPressed(Input.Keys.A)){\r\n                isPressedD = false;\r\n                isPressedA = true;\r\n                isPressedS = false;\r\n                isPressedW = false;\r\n            }\r\n            if (Gdx.input.isKeyJustPressed(Input.Keys.S)){\r\n                isPressedD = false;\r\n                isPressedA = false;\r\n                isPressedS = true;\r\n                isPressedW = false;\r\n            }\r\n            if (Gdx.input.isKeyJustPressed(Input.Keys.W)){\r\n                isPressedD = false;\r\n                isPressedA = false;\r\n                isPressedS = false;\r\n                isPressedW = true;\r\n            }\r\n            if (isPressedA){\r\n                cellX -= speed * dt;\r\n            }\r\n            if (isPressedD){\r\n                cellX += speed * dt;\r\n            }\r\n            if (isPressedS){\r\n                cellY -= speed * dt;\r\n            }\r\n            if (isPressedW){\r\n                cellY += speed * dt;\r\n            }\r\n        }\r\n    \r\n        public void renderGUI(SpriteBatch batch, BitmapFont font){\r\n            stringBuilder.setLength(0);\r\n            stringBuilder.append(&quot;Score: &quot; + score);\r\n            font.draw(batch, stringBuilder, 10, 700);\r\n        }\r\n    \r\n        public void render(SpriteBatch batch){\r\n            batch.draw(texture, cellX * GameMap.CELL_SIZE, cellY * GameMap.CELL_SIZE);\r\n        }\r\n    }\r\n\r\nHere is moving method directly:\r\n\r\n\r\n    public void movement(float dt){\r\n        if (Gdx.input.isKeyJustPressed(Input.Keys.D)){\r\n            isPressedD = true;\r\n            isPressedA = false;\r\n            isPressedS = false;\r\n            isPressedW = false;\r\n        }\r\n        if (Gdx.input.isKeyJustPressed(Input.Keys.A)){\r\n            isPressedD = false;\r\n            isPressedA = true;\r\n            isPressedS = false;\r\n            isPressedW = false;\r\n        }\r\n        if (Gdx.input.isKeyJustPressed(Input.Keys.S)){\r\n            isPressedD = false;\r\n            isPressedA = false;\r\n            isPressedS = true;\r\n            isPressedW = false;\r\n        }\r\n        if (Gdx.input.isKeyJustPressed(Input.Keys.W)){\r\n            isPressedD = false;\r\n            isPressedA = false;\r\n            isPressedS = false;\r\n            isPressedW = true;\r\n        }\r\n        if (isPressedA){\r\n            cellX -= speed * dt;\r\n        }\r\n        if (isPressedD){\r\n            cellX += speed * dt;\r\n        }\r\n        if (isPressedS){\r\n            cellY -= speed * dt;\r\n        }\r\n        if (isPressedW){\r\n            cellY += speed * dt;\r\n        }\r\n    }\r\n\r\n\r\nIt&#39;s working but I can&#39;t ckeck collisions with walls.\r\n\r\nHow to change method for moving?\r\n\r\nI need to press button and release immediately.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Pacman method for move Java libGDX","body":"<p>I'am working on Pacman clone with Java and libGDX\nHow to make Pacman move by pressing one button?</p>\n<p>Here is my code for moving, but I think it's not the best option:</p>\n<pre><code>import com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.Input;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.g2d.BitmapFont;\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\nimport com.badlogic.gdx.graphics.g2d.TextureAtlas;\nimport com.badlogic.gdx.graphics.g2d.TextureRegion;\nimport com.badlogic.gdx.math.Vector2;\n\n\npublic class Hero {\n\n    private int rightBorder;\n    private int leftBorder;\n    private int top;\n    private int bottom;\n\n    private GameController gc;\n    private float cellX;\n    private float cellY;\n    private TextureRegion texture;\n    private float speed;\n\n    private boolean isPressedD;\n    private boolean isPressedA;\n    private boolean isPressedW;\n    private boolean isPressedS;\n\n    private float offset;\n\n    private StringBuilder stringBuilder;\n    private int score;\n\n\n\n\n\n\n    public Hero(TextureAtlas atlas, GameController gc){\n        this.texture = atlas.findRegion(&quot;Pacman&quot;);\n        this.cellX = 1;\n        this.cellY = 1;\n        this.speed = 5f;\n        this.isPressedD = false;\n        this.isPressedA = false;\n        this.isPressedS = false;\n        this.isPressedW = false;\n        this.offset = 36;\n        this.stringBuilder = new StringBuilder();\n        this.score = 0;\n        this.gc = gc;\n        this.leftBorder = 0;\n        this.rightBorder = 15;\n        this.top = 8;\n        this.bottom = 0;\n    }\n\n    public void update(float dt){\n        movement(dt);\n        checkBounds();\n    }\n\n    private void checkBounds(){\n        if (cellX &gt; rightBorder){\n            cellX = rightBorder;\n        }\n        if (cellX &lt; leftBorder){\n            cellX = leftBorder;\n        }\n        if (cellY &gt; top){\n            cellY = top;\n        }\n        if (cellY &lt; bottom){\n            cellY = bottom;\n        }\n\n//        if (position.x &gt; 1280 - offset){\n//            position.x = 1280 - offset;\n//        }\n//        if (position.x &lt; 0 + offset){\n//            position.x = 0 + offset;\n//        }\n//        if (position.y &gt; 720 - offset){\n//            position.y = 720 - offset;\n//        }\n//        if (position.y &lt; 0 + offset){\n//            position.y = 0 + offset;\n//        }\n    }\n\n    public void movement(float dt){\n        if (Gdx.input.isKeyJustPressed(Input.Keys.D)){\n            isPressedD = true;\n            isPressedA = false;\n            isPressedS = false;\n            isPressedW = false;\n        }\n        if (Gdx.input.isKeyJustPressed(Input.Keys.A)){\n            isPressedD = false;\n            isPressedA = true;\n            isPressedS = false;\n            isPressedW = false;\n        }\n        if (Gdx.input.isKeyJustPressed(Input.Keys.S)){\n            isPressedD = false;\n            isPressedA = false;\n            isPressedS = true;\n            isPressedW = false;\n        }\n        if (Gdx.input.isKeyJustPressed(Input.Keys.W)){\n            isPressedD = false;\n            isPressedA = false;\n            isPressedS = false;\n            isPressedW = true;\n        }\n        if (isPressedA){\n            cellX -= speed * dt;\n        }\n        if (isPressedD){\n            cellX += speed * dt;\n        }\n        if (isPressedS){\n            cellY -= speed * dt;\n        }\n        if (isPressedW){\n            cellY += speed * dt;\n        }\n    }\n\n    public void renderGUI(SpriteBatch batch, BitmapFont font){\n        stringBuilder.setLength(0);\n        stringBuilder.append(&quot;Score: &quot; + score);\n        font.draw(batch, stringBuilder, 10, 700);\n    }\n\n    public void render(SpriteBatch batch){\n        batch.draw(texture, cellX * GameMap.CELL_SIZE, cellY * GameMap.CELL_SIZE);\n    }\n}\n</code></pre>\n<p>Here is moving method directly:</p>\n<pre><code>public void movement(float dt){\n    if (Gdx.input.isKeyJustPressed(Input.Keys.D)){\n        isPressedD = true;\n        isPressedA = false;\n        isPressedS = false;\n        isPressedW = false;\n    }\n    if (Gdx.input.isKeyJustPressed(Input.Keys.A)){\n        isPressedD = false;\n        isPressedA = true;\n        isPressedS = false;\n        isPressedW = false;\n    }\n    if (Gdx.input.isKeyJustPressed(Input.Keys.S)){\n        isPressedD = false;\n        isPressedA = false;\n        isPressedS = true;\n        isPressedW = false;\n    }\n    if (Gdx.input.isKeyJustPressed(Input.Keys.W)){\n        isPressedD = false;\n        isPressedA = false;\n        isPressedS = false;\n        isPressedW = true;\n    }\n    if (isPressedA){\n        cellX -= speed * dt;\n    }\n    if (isPressedD){\n        cellX += speed * dt;\n    }\n    if (isPressedS){\n        cellY -= speed * dt;\n    }\n    if (isPressedW){\n        cellY += speed * dt;\n    }\n}\n</code></pre>\n<p>It's working but I can't ckeck collisions with walls.</p>\n<p>How to change method for moving?</p>\n<p>I need to press button and release immediately.</p>\n"},{"tags":["java","spring","spring-cloud","spring-cloud-feign","feign"],"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1173,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1643140975,"creation_date":1643140975,"question_id":70855000,"body_markdown":"I&#39;m trying to manually create a circuit-breaker-wrapped Feign client, so that I can use callbacks.\r\nI understand that there&#39;s another approach that kind of simplify this, which is using the `@FeignClient` annotation, as well as enabling fallbacks with `feign.circuitbreaker.enabled=true` and importing the `spring-cloud-starter-circuitbreaker-resilience4j` dependency. Unfortunately this does not solve our problem, we need to manually create them (with code).\r\n\r\nBelow is how I&#39;m creating a simple Feign client:\r\n\r\n    @Bean\r\n    public SomeClient client() {\r\n    \tRequest.Options options = new Request.Options(1000L, TimeUnit.MILLISECONDS, 3000L, TimeUnit.MILLISECONDS, false);\r\n    \r\n    \treturn Feign.builder()\r\n    \t\t\t.options(options)\r\n    \t\t\t.contract(new SpringMvcContract())\r\n    \t\t\t.target(SomeClient.class, &quot;some_url&quot;);\r\n    }\r\n\r\nLooking at the Spring&#39;s `FeignClientsConfiguration` class, I found the piece of code responsible of enabling the circuit breaker, which is:\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    @ConditionalOnClass({ CircuitBreaker.class })\r\n    @ConditionalOnProperty({ &quot;feign.circuitbreaker.enabled&quot; })\r\n    protected static class CircuitBreakerPresentFeignBuilderConfiguration {\r\n    \r\n    \t@Bean\r\n    \t@Scope(&quot;prototype&quot;)\r\n    \t@ConditionalOnMissingBean({ Builder.class, CircuitBreakerFactory.class })\r\n    \tpublic Builder defaultFeignBuilder(Retryer retryer) {\r\n    \t\treturn Feign.builder().retryer(retryer);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Scope(&quot;prototype&quot;)\r\n    \t@ConditionalOnMissingBean\r\n    \t@ConditionalOnBean({ CircuitBreakerFactory.class })\r\n    \tpublic Builder circuitBreakerFeignBuilder() {\r\n    \t\treturn FeignCircuitBreaker.builder();\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAfter that, I tried changing from `Feign.builder()` to `FeignCircuitBreaker.builder()` within our `client` bean method, as it supports the `T target(Target&lt;T&gt; target, T fallback)` method, although no luck on that: some weird null pointer exception at `org.springframework.cloud.openfeign.FeignCircuitBreakerInvocationHandler.invoke(FeignCircuitBreakerInvocationHandler.java:88)`.\r\n\r\nLooking at the `FeignClientsConfiguration` class again, the `circuitBreakerFeignBuilder` method depends on the `CircuitBreakerFactory` bean, which is supposedly not being created automatically, so I tried creating one, but this just gets things even more complicated.\r\n\r\nI couldn&#39;t find much information regarding this issue on the internet, hopefully someone knows how to solve this.","title":"Manually creating a circuit-breaker-wrapped feign client","body":"<p>I'm trying to manually create a circuit-breaker-wrapped Feign client, so that I can use callbacks.\nI understand that there's another approach that kind of simplify this, which is using the <code>@FeignClient</code> annotation, as well as enabling fallbacks with <code>feign.circuitbreaker.enabled=true</code> and importing the <code>spring-cloud-starter-circuitbreaker-resilience4j</code> dependency. Unfortunately this does not solve our problem, we need to manually create them (with code).</p>\n<p>Below is how I'm creating a simple Feign client:</p>\n<pre><code>@Bean\npublic SomeClient client() {\n    Request.Options options = new Request.Options(1000L, TimeUnit.MILLISECONDS, 3000L, TimeUnit.MILLISECONDS, false);\n\n    return Feign.builder()\n            .options(options)\n            .contract(new SpringMvcContract())\n            .target(SomeClient.class, &quot;some_url&quot;);\n}\n</code></pre>\n<p>Looking at the Spring's <code>FeignClientsConfiguration</code> class, I found the piece of code responsible of enabling the circuit breaker, which is:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\n@ConditionalOnClass({ CircuitBreaker.class })\n@ConditionalOnProperty({ &quot;feign.circuitbreaker.enabled&quot; })\nprotected static class CircuitBreakerPresentFeignBuilderConfiguration {\n\n    @Bean\n    @Scope(&quot;prototype&quot;)\n    @ConditionalOnMissingBean({ Builder.class, CircuitBreakerFactory.class })\n    public Builder defaultFeignBuilder(Retryer retryer) {\n        return Feign.builder().retryer(retryer);\n    }\n\n    @Bean\n    @Scope(&quot;prototype&quot;)\n    @ConditionalOnMissingBean\n    @ConditionalOnBean({ CircuitBreakerFactory.class })\n    public Builder circuitBreakerFeignBuilder() {\n        return FeignCircuitBreaker.builder();\n    }\n    \n}\n</code></pre>\n<p>After that, I tried changing from <code>Feign.builder()</code> to <code>FeignCircuitBreaker.builder()</code> within our <code>client</code> bean method, as it supports the <code>T target(Target&lt;T&gt; target, T fallback)</code> method, although no luck on that: some weird null pointer exception at <code>org.springframework.cloud.openfeign.FeignCircuitBreakerInvocationHandler.invoke(FeignCircuitBreakerInvocationHandler.java:88)</code>.</p>\n<p>Looking at the <code>FeignClientsConfiguration</code> class again, the <code>circuitBreakerFeignBuilder</code> method depends on the <code>CircuitBreakerFactory</code> bean, which is supposedly not being created automatically, so I tried creating one, but this just gets things even more complicated.</p>\n<p>I couldn't find much information regarding this issue on the internet, hopefully someone knows how to solve this.</p>\n"},{"tags":["java","spring","hibernate","jpa","jpa-criteria"],"comments":[{"owner":{"account_id":2180566,"reputation":1805,"user_id":1930161,"display_name":"Allahbakash.G"},"score":0,"creation_date":1687949053,"post_id":70811338,"comment_id":135007474,"body_markdown":"were you able to achieve your requirement?","body":"were you able to achieve your requirement?"},{"owner":{"account_id":8077146,"reputation":39,"user_id":6087757,"display_name":"Oscar"},"score":0,"creation_date":1688043255,"post_id":70811338,"comment_id":135022704,"body_markdown":"Finally I did what I wrote in the answer, using [this solution](https://stackoverflow.com/a/66323540/6087757)","body":"Finally I did what I wrote in the answer, using <a href=\"https://stackoverflow.com/a/66323540/6087757\">this solution</a>"}],"answers":[{"tags":[],"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643029650,"creation_date":1643029650,"answer_id":70834378,"question_id":70811338,"body_markdown":"What about a namedquery like this one :\r\n\r\n    select count(distinct ps.product) from product_supplier ps where ps.price is not null","title":"JPA Criteria API: select count(*) from subquery with joins and group by for pagination implementation","body":"<p>What about a namedquery like this one :</p>\n<pre><code>select count(distinct ps.product) from product_supplier ps where ps.price is not null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8077146,"reputation":39,"user_id":6087757,"display_name":"Oscar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643140860,"creation_date":1643140507,"answer_id":70854899,"question_id":70811338,"body_markdown":"Seems that is not possible to do a `select count (*) from` from an aggregated query via Criteria API:\r\n\r\n - [Discussion in discourse.hibernate.org][1]\r\n - [You can use a subquery only in your WHERE but not in the SELECT or FROM clause][2]\r\n\r\n\r\nSo finally I&#39;ve applied **this solution** found in [this answer][3]:\r\n\r\n - After build the query via Criteria API, get the *final query string*.\r\n - Wrap it with `select count(*) from ({final_query_string})`.\r\n - Create a Native Query with the result of wrapping the *final query string* with the `select count (*) from`.\r\n\r\nFull code of this **solution** in [this answer][3] from [@fliX][4].\r\n\r\n Regards.\r\n\r\n\r\n  [1]: https://discourse.hibernate.org/t/get-the-total-result-size-of-a-query-with-aggregations-and-groupping/1381/4\r\n  [2]: https://thorben-janssen.com/hibernate-tip-subquery-criteriaquery/\r\n  [3]: https://stackoverflow.com/a/66323540/6087757\r\n  [4]: https://stackoverflow.com/users/1419480/flix","title":"JPA Criteria API: select count(*) from subquery with joins and group by for pagination implementation","body":"<p>Seems that is not possible to do a <code>select count (*) from</code> from an aggregated query via Criteria API:</p>\n<ul>\n<li><a href=\"https://discourse.hibernate.org/t/get-the-total-result-size-of-a-query-with-aggregations-and-groupping/1381/4\" rel=\"nofollow noreferrer\">Discussion in discourse.hibernate.org</a></li>\n<li><a href=\"https://thorben-janssen.com/hibernate-tip-subquery-criteriaquery/\" rel=\"nofollow noreferrer\">You can use a subquery only in your WHERE but not in the SELECT or FROM clause</a></li>\n</ul>\n<p>So finally I've applied <strong>this solution</strong> found in <a href=\"https://stackoverflow.com/a/66323540/6087757\">this answer</a>:</p>\n<ul>\n<li>After build the query via Criteria API, get the <em>final query string</em>.</li>\n<li>Wrap it with <code>select count(*) from ({final_query_string})</code>.</li>\n<li>Create a Native Query with the result of wrapping the <em>final query string</em> with the <code>select count (*) from</code>.</li>\n</ul>\n<p>Full code of this <strong>solution</strong> in <a href=\"https://stackoverflow.com/a/66323540/6087757\">this answer</a> from <a href=\"https://stackoverflow.com/users/1419480/flix\">@fliX</a>.</p>\n<p>Regards.</p>\n"}],"owner":{"account_id":8077146,"reputation":39,"user_id":6087757,"display_name":"Oscar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2702,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643140860,"creation_date":1642841828,"question_id":70811338,"body_markdown":"I want to implement a pagination feature in a list of products returned from database. So I need to known the total results of the query.\r\n\r\nDatabase tables are:\r\n\r\n    PRODUCT TABLE             \r\n    -----------------------------\r\n    ID             NAME\r\n    -------------- --------------\r\n    1              Product 1\r\n    2              Product 2\r\n\r\n    PRODUCT SUPPLIER TABLE\r\n    --------------------------------------------\r\n    ID             PRODUCT ID     PRICE\r\n    -------------- -------------- --------------\r\n    1              1              35\r\n    2              1              30\r\n    3              2              70\r\n    4              2              75\r\n\r\nThe desire result is a list of products with the minimum price of the different suppliers.\r\n\r\n    Product 1    30\r\n    Product 2    70\r\n\r\nMain query should be something like:\r\n```sql\r\nselect p.name, min(ps.price) from product\r\ninner join product_supplier ps on ps.product_id = p.id\r\ngroup by p.name\r\n```\r\n\r\nSo count query should be something like:\r\n```sql\r\nselect count(*) from (\r\n   select p.name, min(ps.price) from product\r\n   inner join product_supplier ps on ps.product_id = p.id\r\n   group by p.name\r\n)\r\n```\r\n\r\nCode I&#39;am using to get paginated results is:\r\n```java\r\nCriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\nCriteriaQuery&lt;Tuple&gt; tupleQuery = cb.createTupleQuery();\r\n\r\nRoot&lt;product&gt; product = tupleQuery.from(product.class);\r\nJoin&lt;product, productSupplier&gt; productSuppliers = product.join(&quot;productSuppliers&quot;);\r\n\r\ntupleQuery.multiselect(\r\n   product,\r\n   cb.min(productSuppliers.get(&quot;price&quot;)).alias(&quot;price&quot;)\r\n);\r\ntupleQuery.groupBy(product);\r\ntupleQuery.orderBy(cb.asc(product.get(&quot;name&quot;)));\r\n\r\nTypedQuery&lt;Tuple&gt; query = entityManager\r\n                            .createQuery(tupleQuery)\r\n                            .setMaxResults(pageable.getPageSize())\r\n                            .setFirstResult(Long.valueOf(pageable.getOffset()).intValue());\r\n\r\nList&lt;Tuple&gt; products = query.getResultList();\r\nfor (Tuple productResult : products) {\r\n   Product product = productResult.get(product);\r\n   Double minPrice = (Double)productResult.get(&quot;price&quot;);\r\n   ProductDTO productDTO = new ProductDTO(product, minPrice);  \r\n}\r\n```\r\nBut I&#39;m not sure how to get count from the main query. Code I&#39;m using is:\r\n```java\r\nCriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n    \r\nCriteriaQuery&lt;Long&gt; countQuery = cb.createQuery(Long.class)\r\n    \r\nRoot&lt;Product&gt; product = countQuery.from(Product.class);\r\nJoin&lt;Product, ProductSupplier&gt; productSuppliers = product.join(&quot;productSuppliers&quot;);\r\n    \r\ncountQuery.groupBy(product);\r\ncountQuery.select(cb.count(product));\r\n\r\nlong count = entityManager.createQuery(countQuery).getSingleResult();\r\n```\r\n\r\nBut it produces the following SQL:\r\n```sql\r\nselect\r\n   count(product0_.id) as col_0_0_ \r\nfrom\r\n   pu_products product0_ \r\ninner join\r\n   pu_product_suppliers productsu1_ \r\n      on product0_.id=productsu1_.product_id\r\ngroup by\r\n   product0_.id\r\n```\r\n       \r\nReturning more than one result, throwing the following exception:\r\n\r\n    org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 31\r\n\r\nSo I don&#39;t know how to get it work.\r\n\r\nThanks.","title":"JPA Criteria API: select count(*) from subquery with joins and group by for pagination implementation","body":"<p>I want to implement a pagination feature in a list of products returned from database. So I need to known the total results of the query.</p>\n<p>Database tables are:</p>\n<pre><code>PRODUCT TABLE             \n-----------------------------\nID             NAME\n-------------- --------------\n1              Product 1\n2              Product 2\n\nPRODUCT SUPPLIER TABLE\n--------------------------------------------\nID             PRODUCT ID     PRICE\n-------------- -------------- --------------\n1              1              35\n2              1              30\n3              2              70\n4              2              75\n</code></pre>\n<p>The desire result is a list of products with the minimum price of the different suppliers.</p>\n<pre><code>Product 1    30\nProduct 2    70\n</code></pre>\n<p>Main query should be something like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select p.name, min(ps.price) from product\ninner join product_supplier ps on ps.product_id = p.id\ngroup by p.name\n</code></pre>\n<p>So count query should be something like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select count(*) from (\n   select p.name, min(ps.price) from product\n   inner join product_supplier ps on ps.product_id = p.id\n   group by p.name\n)\n</code></pre>\n<p>Code I'am using to get paginated results is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CriteriaBuilder cb = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;Tuple&gt; tupleQuery = cb.createTupleQuery();\n\nRoot&lt;product&gt; product = tupleQuery.from(product.class);\nJoin&lt;product, productSupplier&gt; productSuppliers = product.join(&quot;productSuppliers&quot;);\n\ntupleQuery.multiselect(\n   product,\n   cb.min(productSuppliers.get(&quot;price&quot;)).alias(&quot;price&quot;)\n);\ntupleQuery.groupBy(product);\ntupleQuery.orderBy(cb.asc(product.get(&quot;name&quot;)));\n\nTypedQuery&lt;Tuple&gt; query = entityManager\n                            .createQuery(tupleQuery)\n                            .setMaxResults(pageable.getPageSize())\n                            .setFirstResult(Long.valueOf(pageable.getOffset()).intValue());\n\nList&lt;Tuple&gt; products = query.getResultList();\nfor (Tuple productResult : products) {\n   Product product = productResult.get(product);\n   Double minPrice = (Double)productResult.get(&quot;price&quot;);\n   ProductDTO productDTO = new ProductDTO(product, minPrice);  \n}\n</code></pre>\n<p>But I'm not sure how to get count from the main query. Code I'm using is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n    \nCriteriaQuery&lt;Long&gt; countQuery = cb.createQuery(Long.class)\n    \nRoot&lt;Product&gt; product = countQuery.from(Product.class);\nJoin&lt;Product, ProductSupplier&gt; productSuppliers = product.join(&quot;productSuppliers&quot;);\n    \ncountQuery.groupBy(product);\ncountQuery.select(cb.count(product));\n\nlong count = entityManager.createQuery(countQuery).getSingleResult();\n</code></pre>\n<p>But it produces the following SQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select\n   count(product0_.id) as col_0_0_ \nfrom\n   pu_products product0_ \ninner join\n   pu_product_suppliers productsu1_ \n      on product0_.id=productsu1_.product_id\ngroup by\n   product0_.id\n</code></pre>\n<p>Returning more than one result, throwing the following exception:</p>\n<pre><code>org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 31\n</code></pre>\n<p>So I don't know how to get it work.</p>\n<p>Thanks.</p>\n"},{"tags":["java","scala","serialization","apache-spark"],"comments":[{"owner":{"account_id":4033122,"reputation":27140,"user_id":3318517,"accept_rate":67,"display_name":"Daniel Darabos"},"score":0,"creation_date":1440535846,"post_id":32210952,"comment_id":52311439,"body_markdown":"I&#39;d recommend deleting the whole `SerializableImmutableRangeMap` object and most of the stack trace. They don&#39;t add anything to the question, just make it longer. Also you talk about `SerializableImmutableRangeClass` but there is no such thing in the code.","body":"I&#39;d recommend deleting the whole <code>SerializableImmutableRangeMap</code> object and most of the stack trace. They don&#39;t add anything to the question, just make it longer. Also you talk about <code>SerializableImmutableRangeClass</code> but there is no such thing in the code."}],"answers":[{"tags":[],"owner":{"account_id":4033122,"reputation":27140,"user_id":3318517,"accept_rate":67,"display_name":"Daniel Darabos"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1440535779,"creation_date":1440535779,"answer_id":32213797,"question_id":32210952,"body_markdown":"The relevant bit of the documentation for [`Serializable`](http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html):\r\n\r\n&gt; To allow subtypes of non-serializable classes to be serialized, the subtype may assume responsibility for saving and restoring the state of the supertype&#39;s public, protected, and (if accessible) package fields. The subtype may assume this responsibility only if the class it extends has an accessible no-arg constructor to initialize the class&#39;s state. It is an error to declare a class Serializable if this is not the case. The error will be detected at runtime.\r\n\r\nYour superclass (`ImmutableRangeMap`) does not have a no-arg constructor and is not `Serializable`. This is the problem. There is no requirement to have a no-arg constructor for `Serializable` classes (such as `SerializableImmutableRangeMap`).","title":"Scala - InvalidClassException: no valid constructor","body":"<p>The relevant bit of the documentation for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html\" rel=\"noreferrer\"><code>Serializable</code></a>:</p>\n\n<blockquote>\n  <p>To allow subtypes of non-serializable classes to be serialized, the subtype may assume responsibility for saving and restoring the state of the supertype's public, protected, and (if accessible) package fields. The subtype may assume this responsibility only if the class it extends has an accessible no-arg constructor to initialize the class's state. It is an error to declare a class Serializable if this is not the case. The error will be detected at runtime.</p>\n</blockquote>\n\n<p>Your superclass (<code>ImmutableRangeMap</code>) does not have a no-arg constructor and is not <code>Serializable</code>. This is the problem. There is no requirement to have a no-arg constructor for <code>Serializable</code> classes (such as <code>SerializableImmutableRangeMap</code>).</p>\n"},{"tags":[],"owner":{"account_id":5668371,"reputation":15,"user_id":4483872,"display_name":"Ankit Kaplish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643140832,"creation_date":1643140832,"answer_id":70854959,"question_id":32210952,"body_markdown":"Long answer short, If you are facing this in Scala. If child class is serializable make parent class also serializable. I was facing same issue, resolved it by making parent serializable.","title":"Scala - InvalidClassException: no valid constructor","body":"<p>Long answer short, If you are facing this in Scala. If child class is serializable make parent class also serializable. I was facing same issue, resolved it by making parent serializable.</p>\n"}],"owner":{"account_id":2771704,"reputation":1219,"user_id":2386187,"accept_rate":83,"display_name":"Corey Wu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5664,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":32213797,"answer_count":2,"score":4,"last_activity_date":1643140832,"creation_date":1440525566,"question_id":32210952,"body_markdown":"I created a `Serializable` version of Guava&#39;s `ImmutableRangeMap` and `Builder` in Scala in order to use in my Spark application. I have a zero argument constructor in my `SerializableImmutableRangeMap` as well, so why do I get `InvalidClassException: no valid constructor` when I run my Spark application?\r\n\r\nHere is my `SerializableImmutableRangeClass` object and class:\r\n\r\n    object SerializableImmutableRangeMap extends Serializable {\r\n      final class SerializableBuilder[K &lt;: Comparable[_], V]() extends Serializable {\r\n        val keyRanges: RangeSet[K] = TreeRangeSet.create()\r\n        val rangeMap: RangeMap[K, V] = TreeRangeMap.create()\r\n\r\n        def put(range: Range[K], value: V): SerializableBuilder[K, V] = {\r\n          checkNotNull(range)\r\n          checkNotNull(value)\r\n          checkArgument(!range.isEmpty(), &quot;Range must not be empty, but was %s&quot;, range)\r\n          if (!keyRanges.complement().encloses(range)) {\r\n            // it&#39;s an error case; we can afford an expensive lookup\r\n            for (entry: Entry[Range[K], V] &lt;- JavaConversions.asScalaSet(rangeMap.asMapOfRanges().entrySet())) {\r\n              val key: Range[K] = entry.getKey()\r\n              if (key.isConnected(range) &amp;&amp; !key.intersection(range).isEmpty()) {\r\n                throw new IllegalArgumentException(\r\n                    &quot;Overlapping ranges: range &quot; + range + &quot; overlaps with entry &quot; + entry)\r\n              }\r\n            }\r\n          }\r\n          keyRanges.add(range)\r\n          rangeMap.put(range, value)\r\n          this\r\n        }\r\n\r\n        def putAll(rangeMap: RangeMap[K, _ &lt;: V]): SerializableBuilder[K, V] = {\r\n          for (entry &lt;- JavaConversions.asScalaSet(rangeMap.asMapOfRanges().entrySet())) {\r\n            put(entry.getKey(), entry.getValue())\r\n          }\r\n          this\r\n        }\r\n\r\n        def build(): SerializableImmutableRangeMap[K, V] ={\r\n          val map: java.util.Map[Range[K], V] = rangeMap.asMapOfRanges()\r\n          val rangesBuilder: ImmutableList.Builder[Range[K]] = new ImmutableList.Builder[Range[K]](map.size())\r\n          val valuesBuilder: ImmutableList.Builder[V] = new ImmutableList.Builder[V](map.size())\r\n          for (entry: Entry[Range[K], V] &lt;- JavaConversions.asScalaSet(map.entrySet())) {\r\n            rangesBuilder.add(entry.getKey())\r\n            valuesBuilder.add(entry.getValue())\r\n          }\r\n          return new SerializableImmutableRangeMap[K, V](rangesBuilder.build(), valuesBuilder.build())\r\n        }\r\n      }\r\n\r\n    def builder[K &lt;: Comparable[_], V](): SerializableBuilder[K, V] = {\r\n        new SerializableBuilder[K, V]()\r\n      }\r\n    }\r\n\r\n    class SerializableImmutableRangeMap[K &lt;: Comparable[_], V](ranges: ImmutableList[Range[K]], values: ImmutableList[V]) extends ImmutableRangeMap[K, V](ranges, values) with Serializable {\r\n      def this() {\r\n        this(ImmutableList.of(), ImmutableList.of())\r\n      }\r\n    }\r\n\r\nAnd the stack trace:\r\n\r\n    java.io.InvalidClassException: com.google.common.collect.SerializableImmutableRangeMap; no valid constructor\r\n            at java.io.ObjectStreamClass$ExceptionInfo.newInvalidClassException(ObjectStreamClass.java:150)\r\n            at java.io.ObjectStreamClass.checkDeserialize(ObjectStreamClass.java:768)\r\n            at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1775)\r\n            at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\r\n            at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\r\n            at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\r\n            at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\r\n            at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\r\n            at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\r\n            at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\r\n            at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\r\n            at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\r\n            at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\r\n            at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\r\n            at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\r\n            at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\r\n            at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\r\n            at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\r\n            at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\r\n            at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\r\n            at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1707)\r\n            at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1345)\r\n            at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\r\n            at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\r\n            at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\r\n            at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\r\n            at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\r\n            at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\r\n            at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\r\n            at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\r\n            at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\r\n            at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\r\n            at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\r\n            at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\r\n            at java.io.ObjectInputStream.readObject(ObjectInputStream.java:371)\r\n            at scala.collection.immutable.$colon$colon.readObject(List.scala:362)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:483)\r\n            at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1017)\r\n            at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1896)\r\n            at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\r\n            at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\r\n            at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\r\n            at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\r\n            at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\r\n            at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\r\n            at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\r\n            at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\r\n            at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\r\n            at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\r\n            at java.io.ObjectInputStream.readObject(ObjectInputStream.java:371)\r\n            at org.apache.spark.serializer.JavaDeserializationStream.readObject(JavaSerializer.scala:68)\r\n            at org.apache.spark.serializer.JavaSerializerInstance.deserialize(JavaSerializer.scala:94)\r\n            at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:60)\r\n            at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:41)\r\n            at org.apache.spark.scheduler.Task.run(Task.scala:64)\r\n            at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:203)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n            at java.lang.Thread.run(Thread.java:745)","title":"Scala - InvalidClassException: no valid constructor","body":"<p>I created a <code>Serializable</code> version of Guava's <code>ImmutableRangeMap</code> and <code>Builder</code> in Scala in order to use in my Spark application. I have a zero argument constructor in my <code>SerializableImmutableRangeMap</code> as well, so why do I get <code>InvalidClassException: no valid constructor</code> when I run my Spark application?</p>\n\n<p>Here is my <code>SerializableImmutableRangeClass</code> object and class:</p>\n\n<pre><code>object SerializableImmutableRangeMap extends Serializable {\n  final class SerializableBuilder[K &lt;: Comparable[_], V]() extends Serializable {\n    val keyRanges: RangeSet[K] = TreeRangeSet.create()\n    val rangeMap: RangeMap[K, V] = TreeRangeMap.create()\n\n    def put(range: Range[K], value: V): SerializableBuilder[K, V] = {\n      checkNotNull(range)\n      checkNotNull(value)\n      checkArgument(!range.isEmpty(), \"Range must not be empty, but was %s\", range)\n      if (!keyRanges.complement().encloses(range)) {\n        // it's an error case; we can afford an expensive lookup\n        for (entry: Entry[Range[K], V] &lt;- JavaConversions.asScalaSet(rangeMap.asMapOfRanges().entrySet())) {\n          val key: Range[K] = entry.getKey()\n          if (key.isConnected(range) &amp;&amp; !key.intersection(range).isEmpty()) {\n            throw new IllegalArgumentException(\n                \"Overlapping ranges: range \" + range + \" overlaps with entry \" + entry)\n          }\n        }\n      }\n      keyRanges.add(range)\n      rangeMap.put(range, value)\n      this\n    }\n\n    def putAll(rangeMap: RangeMap[K, _ &lt;: V]): SerializableBuilder[K, V] = {\n      for (entry &lt;- JavaConversions.asScalaSet(rangeMap.asMapOfRanges().entrySet())) {\n        put(entry.getKey(), entry.getValue())\n      }\n      this\n    }\n\n    def build(): SerializableImmutableRangeMap[K, V] ={\n      val map: java.util.Map[Range[K], V] = rangeMap.asMapOfRanges()\n      val rangesBuilder: ImmutableList.Builder[Range[K]] = new ImmutableList.Builder[Range[K]](map.size())\n      val valuesBuilder: ImmutableList.Builder[V] = new ImmutableList.Builder[V](map.size())\n      for (entry: Entry[Range[K], V] &lt;- JavaConversions.asScalaSet(map.entrySet())) {\n        rangesBuilder.add(entry.getKey())\n        valuesBuilder.add(entry.getValue())\n      }\n      return new SerializableImmutableRangeMap[K, V](rangesBuilder.build(), valuesBuilder.build())\n    }\n  }\n\ndef builder[K &lt;: Comparable[_], V](): SerializableBuilder[K, V] = {\n    new SerializableBuilder[K, V]()\n  }\n}\n\nclass SerializableImmutableRangeMap[K &lt;: Comparable[_], V](ranges: ImmutableList[Range[K]], values: ImmutableList[V]) extends ImmutableRangeMap[K, V](ranges, values) with Serializable {\n  def this() {\n    this(ImmutableList.of(), ImmutableList.of())\n  }\n}\n</code></pre>\n\n<p>And the stack trace:</p>\n\n<pre><code>java.io.InvalidClassException: com.google.common.collect.SerializableImmutableRangeMap; no valid constructor\n        at java.io.ObjectStreamClass$ExceptionInfo.newInvalidClassException(ObjectStreamClass.java:150)\n        at java.io.ObjectStreamClass.checkDeserialize(ObjectStreamClass.java:768)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1775)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\n        at java.io.ObjectInputStream.readArray(ObjectInputStream.java:1707)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1345)\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:371)\n        at scala.collection.immutable.$colon$colon.readObject(List.scala:362)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:483)\n        at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1017)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1896)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1993)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1918)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1801)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1351)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:371)\n        at org.apache.spark.serializer.JavaDeserializationStream.readObject(JavaSerializer.scala:68)\n        at org.apache.spark.serializer.JavaSerializerInstance.deserialize(JavaSerializer.scala:94)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:60)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:41)\n        at org.apache.spark.scheduler.Task.run(Task.scala:64)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:203)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"},{"tags":["java","c#"],"answers":[{"tags":[],"owner":{"account_id":4452808,"reputation":1985,"user_id":9283918,"display_name":"proximab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643140642,"creation_date":1643136520,"answer_id":70854100,"question_id":70853478,"body_markdown":"I did a quick research and here you go!\r\n\r\n&gt;  [Seems the 7 &amp; 5 padding algs. are the same.][1]  \r\n&gt;  [Try using a separate library, such as BouncyCastle.][2]  \r\n&gt;  [Encrypt string with Bouncy Castle AES/CBC/PKCS7][3]\r\n\r\n  Alright, seems that we could manage to solve part of your problem, but unfortunately Bouncy Castle [doesn&#39;t support][4] PBEWITHHMACSHA256ANDAES_256.\r\n\r\n&lt;strike&gt; The last idea that pop up in mind is to use IKVM.net. I know that it&#39;s not recommended, but it should work.\r\nFind the sources and recompile it with `PBEWITHHMACSHA256ANDAES_256` provider from e.g. `com.sun.crypto.provider.SunJCE`.\r\nMore about recompiling [here][5]. &lt;/strike&gt;\r\n\r\nIn .Net in order to generate PBKDF2 hash you can use [Rfc2898DeriveBytes][6]  \r\n\r\n[Example][7]: \r\n```csharp\r\nusing (var pbkdf2 = new Rfc2898DeriveBytes(\r\n    password,\r\n    saltBytes,\r\n    interactionCount,\r\n    HashAlgorithmName.SHA256))\r\n{\r\n        derived = pbkdf2.GetBytes(32);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8615217/9283918\r\n  [2]: https://stackoverflow.com/a/8615216/9283918\r\n  [3]: https://stackoverflow.com/a/29893607/9283918\r\n  [4]: https://www.bouncycastle.org/specifications.html\r\n  [5]: https://stackoverflow.com/a/65962068/9283918tv\r\n  [6]: https://referencesource.microsoft.com/#mscorlib/system/security/cryptography/rfc2898derivebytes.cs\r\n  [7]: https://stackoverflow.com/a/46079370/9283918","title":"Convert java encryption to c#","body":"<p>I did a quick research and here you go!</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/a/8615217/9283918\">Seems the 7 &amp; 5 padding algs. are the same.</a><br />\n<a href=\"https://stackoverflow.com/a/8615216/9283918\">Try using a separate library, such as BouncyCastle.</a><br />\n<a href=\"https://stackoverflow.com/a/29893607/9283918\">Encrypt string with Bouncy Castle AES/CBC/PKCS7</a></p>\n</blockquote>\n<p>Alright, seems that we could manage to solve part of your problem, but unfortunately Bouncy Castle <a href=\"https://www.bouncycastle.org/specifications.html\" rel=\"nofollow noreferrer\">doesn't support</a> PBEWITHHMACSHA256ANDAES_256.</p>\n<p><strike> The last idea that pop up in mind is to use IKVM.net. I know that it's not recommended, but it should work.\nFind the sources and recompile it with <code>PBEWITHHMACSHA256ANDAES_256</code> provider from e.g. <code>com.sun.crypto.provider.SunJCE</code>.\nMore about recompiling <a href=\"https://stackoverflow.com/a/65962068/9283918tv\">here</a>. </strike></p>\n<p>In .Net in order to generate PBKDF2 hash you can use <a href=\"https://referencesource.microsoft.com/#mscorlib/system/security/cryptography/rfc2898derivebytes.cs\" rel=\"nofollow noreferrer\">Rfc2898DeriveBytes</a></p>\n<p><a href=\"https://stackoverflow.com/a/46079370/9283918\">Example</a>:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>using (var pbkdf2 = new Rfc2898DeriveBytes(\n    password,\n    saltBytes,\n    interactionCount,\n    HashAlgorithmName.SHA256))\n{\n        derived = pbkdf2.GetBytes(32);\n}\n</code></pre>\n"}],"owner":{"account_id":9668161,"reputation":11,"user_id":7174042,"display_name":"Rene Steen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643140642,"creation_date":1643133454,"question_id":70853478,"body_markdown":"I am struggling to convert the following code to c#:\r\n\r\n    private SecretKey generateSecretKey(char[] key, byte[] salt) {\r\n      this.FACTORY = SecretKeyFactory.getInstance(&quot;PBEWithHmacSHA256AndAES_256&quot;);\r\n      KeySpec spec = new PBEKeySpec(key, salt, 65536, 256);\r\n      SecretKey tmp = this.FACTORY.generateSecret(spec);\r\n      return new SecretKeySpec(tmp.getEncoded(), &quot;AES&quot;);\r\n    } \r\n\r\nwhat is the corresponding algorithm behind PBEWithHmacSHA256AndAES_256/PBEKeySpec in c#?\r\n\r\nthe java code is then used for something like this:\r\n\r\n    this.secretKey = generateSecretKey(this.key, newSalt);\r\n    Cipher c = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n    c.init(2, this.secretKey, new IvParameterSpec(IV));\r\n\r\nAlso I have noticed that PKCS5PADDING does not exist in C# can it be replaced with PKCS7?\r\nAny help would be appreciated!","title":"Convert java encryption to c#","body":"<p>I am struggling to convert the following code to c#:</p>\n<pre><code>private SecretKey generateSecretKey(char[] key, byte[] salt) {\n  this.FACTORY = SecretKeyFactory.getInstance(&quot;PBEWithHmacSHA256AndAES_256&quot;);\n  KeySpec spec = new PBEKeySpec(key, salt, 65536, 256);\n  SecretKey tmp = this.FACTORY.generateSecret(spec);\n  return new SecretKeySpec(tmp.getEncoded(), &quot;AES&quot;);\n} \n</code></pre>\n<p>what is the corresponding algorithm behind PBEWithHmacSHA256AndAES_256/PBEKeySpec in c#?</p>\n<p>the java code is then used for something like this:</p>\n<pre><code>this.secretKey = generateSecretKey(this.key, newSalt);\nCipher c = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\nc.init(2, this.secretKey, new IvParameterSpec(IV));\n</code></pre>\n<p>Also I have noticed that PKCS5PADDING does not exist in C# can it be replaced with PKCS7?\nAny help would be appreciated!</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":2529165,"reputation":2935,"user_id":2197820,"accept_rate":46,"display_name":"Alex"},"score":0,"creation_date":1403294657,"post_id":1635136,"comment_id":37618699,"body_markdown":"it does not work for me. I set it to class A, but it is still running the old class. I believe it is a bug. That&#39;s why I hate netbeans. It makes simple things hard.","body":"it does not work for me. I set it to class A, but it is still running the old class. I believe it is a bug. That&#39;s why I hate netbeans. It makes simple things hard."},{"owner":{"account_id":2396030,"reputation":1112,"user_id":2094807,"accept_rate":82,"display_name":"Tristan Djahel"},"score":0,"creation_date":1468931148,"post_id":1635136,"comment_id":64321098,"body_markdown":"This answer worked for me. Just had to put a main in the class and NetBeans detects and run it","body":"This answer worked for me. Just had to put a main in the class and NetBeans detects and run it"},{"owner":{"account_id":1750515,"reputation":6073,"user_id":1599699,"accept_rate":80,"display_name":"Andrew"},"score":0,"creation_date":1509994910,"post_id":1635136,"comment_id":81237801,"body_markdown":"For Eclipse (this one shows up in Google): https://stackoverflow.com/a/12811633/1599699","body":"For Eclipse (this one shows up in Google): <a href=\"https://stackoverflow.com/a/12811633/1599699\">stackoverflow.com/a/12811633/1599699</a>"}],"answers":[{"tags":[],"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1256703432,"creation_date":1256703432,"answer_id":1635168,"question_id":1635136,"body_markdown":"In the jar file you could just add this to your manifest.mft\r\n\r\n    Main-Class : A\r\n\r\nThe jar file would then be executable and would call the correct main.\r\n\r\nOn how to do this in Netbeans you can look at this:\r\n[https://stackoverflow.com/questions/602537/producing-executable-jar-in-netbeans][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/602537/producing-executable-jar-in-netbeans","title":"how to set default main class in java?","body":"<p>In the jar file you could just add this to your manifest.mft</p>\n\n<pre><code>Main-Class : A\n</code></pre>\n\n<p>The jar file would then be executable and would call the correct main.</p>\n\n<p>On how to do this in Netbeans you can look at this:\n<a href=\"https://stackoverflow.com/questions/602537/producing-executable-jar-in-netbeans\">Producing executable jar in NetBeans</a></p>\n"},{"tags":[],"owner":{"account_id":27698,"reputation":36225,"user_id":73371,"accept_rate":93,"display_name":"Spike Williams"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1256703433,"creation_date":1256703433,"answer_id":1635169,"question_id":1635136,"body_markdown":"You can set the Main-Class attribute in the jar file&#39;s manifest to point to which file you want to run automatically.","title":"how to set default main class in java?","body":"<p>You can set the Main-Class attribute in the jar file's manifest to point to which file you want to run automatically.</p>\n"},{"tags":[],"owner":{"account_id":12416,"reputation":12886,"user_id":24424,"accept_rate":77,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1256703435,"creation_date":1256703435,"answer_id":1635170,"question_id":1635136,"body_markdown":"Best way is to handle this in an Ant script. You can create 2 different tasks for the 2 jar files. Specify class A as the main class in the manifst file for the first jar. similarly specify class B as the main class in the manifest file for the second jar.\r\n\r\nyou can easily run the Ant tasks from Netbeans.\r\n\r\n\r\n","title":"how to set default main class in java?","body":"<p>Best way is to handle this in an Ant script. You can create 2 different tasks for the 2 jar files. Specify class A as the main class in the manifst file for the first jar. similarly specify class B as the main class in the manifest file for the second jar.</p>\n\n<p>you can easily run the Ant tasks from Netbeans.</p>\n"},{"tags":[],"owner":{"account_id":40747,"reputation":16788,"user_id":118133,"accept_rate":86,"display_name":"Nate"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1256703904,"creation_date":1256703904,"answer_id":1635194,"question_id":1635136,"body_markdown":"If you&#39;re creating 2 executable JAR files, each will have it&#39;s own manifest file, and each manifest file will specify the class that contains the `main()` method you want to use to start execution.\r\n\r\nIn each JAR file, the manifest will be a file with the following path / name inside the JAR - \r\n[META-INF/MANIFEST.MF][1]\r\n\r\nThere are ways to specify alternatively named files as a JAR&#39;s manifest using the [JAR command-line parameters][2].\r\n\r\nThe specific class you want to use is specified using [Main-Class: package.classname][3] inside the META-INF/MANIFEST.MF file.\r\n\r\nAs for how to do this in Netbeans - not sure off the top of my head - I usually use IntelliJ and / or Eclipse and usually build the JAR through ANT or Maven anyway.\r\n\r\n\r\n  [1]: http://java.sun.com/developer/Books/javaprogramming/JAR/basics/manifest.html\r\n  [2]: http://java.sun.com/j2se/1.4.2/docs/tooldocs/solaris/jar.html\r\n  [3]: http://java.sun.com/developer/Books/javaprogramming/JAR/basics/manifest.html#applications","title":"how to set default main class in java?","body":"<p>If you're creating 2 executable JAR files, each will have it's own manifest file, and each manifest file will specify the class that contains the <code>main()</code> method you want to use to start execution.</p>\n\n<p>In each JAR file, the manifest will be a file with the following path / name inside the JAR - \n<a href=\"http://java.sun.com/developer/Books/javaprogramming/JAR/basics/manifest.html\" rel=\"noreferrer\">META-INF/MANIFEST.MF</a></p>\n\n<p>There are ways to specify alternatively named files as a JAR's manifest using the <a href=\"http://java.sun.com/j2se/1.4.2/docs/tooldocs/solaris/jar.html\" rel=\"noreferrer\">JAR command-line parameters</a>.</p>\n\n<p>The specific class you want to use is specified using <a href=\"http://java.sun.com/developer/Books/javaprogramming/JAR/basics/manifest.html#applications\" rel=\"noreferrer\">Main-Class: package.classname</a> inside the META-INF/MANIFEST.MF file.</p>\n\n<p>As for how to do this in Netbeans - not sure off the top of my head - I usually use IntelliJ and / or Eclipse and usually build the JAR through ANT or Maven anyway.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1256705531,"creation_date":1256705531,"answer_id":1635266,"question_id":1635136,"body_markdown":"If the two jars that you want to create are the mostly the same, and the only difference is the main class that should be started from each, you can put all of the classes in a third jar. Then create two jars with just a manifest in each. In the MANIFEST.MF file, name the entry class using the `Main-Class` attribute.\r\n\r\nAdditionally, specify the `Class-Path` attribute. The value of this should be the name of the jar file that contains all of the shared code. Then deploy all three jar files in the same directory. Of course, if you have third-party libraries, those can be listed in the Class-Path attribute too.\r\n","title":"how to set default main class in java?","body":"<p>If the two jars that you want to create are the mostly the same, and the only difference is the main class that should be started from each, you can put all of the classes in a third jar. Then create two jars with just a manifest in each. In the MANIFEST.MF file, name the entry class using the <code>Main-Class</code> attribute.</p>\n\n<p>Additionally, specify the <code>Class-Path</code> attribute. The value of this should be the name of the jar file that contains all of the shared code. Then deploy all three jar files in the same directory. Of course, if you have third-party libraries, those can be listed in the Class-Path attribute too.</p>\n"},{"tags":[],"owner":{"account_id":675215,"reputation":69,"user_id":520765,"display_name":"Anthony"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1290732599,"creation_date":1290732599,"answer_id":4281836,"question_id":1635136,"body_markdown":"Assuming your my.jar has a class1 and class2 with a main defined in each, you can just call java like this:\r\n\r\n    java my.jar class1\r\n    \r\n    java my.jar class2\r\n\r\nIf you need to specify other options to java just make sure they are before the my.jar\r\n\r\n    java -classpath my.jar class1","title":"how to set default main class in java?","body":"<p>Assuming your my.jar has a class1 and class2 with a main defined in each, you can just call java like this:</p>\n\n<pre><code>java my.jar class1\n\njava my.jar class2\n</code></pre>\n\n<p>If you need to specify other options to java just make sure they are before the my.jar</p>\n\n<pre><code>java -classpath my.jar class1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":327784,"reputation":321,"user_id":1547375,"display_name":"bos_ahonk"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1301891703,"creation_date":1301891703,"answer_id":5534598,"question_id":1635136,"body_markdown":"**Right-click the project node in the Projects window and choose Project Properties.**\r\nthen find run, there you can setup your main class,, **actually got it from netbeans default help","title":"how to set default main class in java?","body":"<p><strong>Right-click the project node in the Projects window and choose Project Properties.</strong>\nthen find run, there you can setup your main class,, **actually got it from netbeans default help</p>\n"},{"tags":[],"owner":{"account_id":421747,"reputation":340,"user_id":800140,"accept_rate":17,"display_name":"Chris Clark"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1336404225,"creation_date":1336404225,"answer_id":10484692,"question_id":1635136,"body_markdown":"As a comment, I had to allow a customer to execute a class in a jar which meant that the manifest file couldn&#39;t be modified (they couldn&#39;t be expected to do that). Thanks to the post by Anthony and samy-delux&#39;s comment, this is what the customer can now run to access the main of the specific class:\r\n\r\n\r\n    java -cp c:\\path\\to\\jar\\jarFile.jar com.utils.classpath -e -v textString","title":"how to set default main class in java?","body":"<p>As a comment, I had to allow a customer to execute a class in a jar which meant that the manifest file couldn't be modified (they couldn't be expected to do that). Thanks to the post by Anthony and samy-delux's comment, this is what the customer can now run to access the main of the specific class:</p>\n\n<pre><code>java -cp c:\\path\\to\\jar\\jarFile.jar com.utils.classpath -e -v textString\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3429796,"reputation":1,"user_id":2874566,"display_name":"Mohit Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381601231,"creation_date":1381600151,"answer_id":19337329,"question_id":1635136,"body_markdown":"Press F11 to Build and the Run the program. Once you run the program, you will have a list of classes. Select your main class from the list and click ok to run.\r\n\r\n","title":"how to set default main class in java?","body":"<p>Press F11 to Build and the Run the program. Once you run the program, you will have a list of classes. Select your main class from the list and click ok to run.</p>\n"},{"tags":[],"owner":{"account_id":4382389,"reputation":1045,"user_id":3796941,"display_name":"Assem-Hafez"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1643140528,"creation_date":1429926774,"answer_id":29860099,"question_id":1635136,"body_markdown":"you can right click on the project select &quot;set configuration&quot; then &quot;Customize&quot;, from there you can choose your main class.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pdmJq.png","title":"how to set default main class in java?","body":"<p>you can right click on the project select &quot;set configuration&quot; then &quot;Customize&quot;, from there you can choose your main class.</p>\n<p><a href=\"https://i.stack.imgur.com/pdmJq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pdmJq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10642825,"reputation":11,"user_id":7837715,"display_name":"IOOI SISTEMAS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570768466,"creation_date":1570767766,"answer_id":58334222,"question_id":1635136,"body_markdown":"In Netbeans 11(Gladle Project) follow these steps:\r\n\r\nIn the tab `files&gt;yourprojectname&gt;` double click in the file `&quot;build.gladle&quot;` than set in line `&quot;mainClassName:&#39;yourpackagepath.YourMainClass&#39;&quot;`\r\n\r\nHope this helps!\r\n\r\n\r\n\r\n","title":"how to set default main class in java?","body":"<p>In Netbeans 11(Gladle Project) follow these steps:</p>\n\n<p>In the tab <code>files&gt;yourprojectname&gt;</code> double click in the file <code>\"build.gladle\"</code> than set in line <code>\"mainClassName:'yourpackagepath.YourMainClass'\"</code></p>\n\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":64080,"reputation":855,"user_id":189352,"accept_rate":50,"display_name":"user189352"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213541,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":1635168,"answer_count":11,"score":28,"last_activity_date":1643140528,"creation_date":1256702714,"question_id":1635136,"body_markdown":"I have  2 classes within same package. Both classes have main  method in them. Now I want to build a jar file. I want to build 2 jar files which use different main functions as default main.\r\n\r\neg \r\n\r\n    class A\r\n    {\r\n      public static void main(String args[])\r\n      {\r\n        //do something\r\n      }\r\n    }\r\n    \r\n    class B\r\n    {\r\n      public static void main(String args[])\r\n      {\r\n        //do something\r\n      }\r\n    }\r\n    \r\n    \r\nHow do I do it in NetBeans IDE?\r\n\r\nI found the answer.\r\nU can do it easily in netbeans:\r\n1)right click on project &gt;properties &gt; run &gt; select the class frm and drop down list. So simple in netbeans. Netbeans rocks!\r\n","title":"how to set default main class in java?","body":"<p>I have  2 classes within same package. Both classes have main  method in them. Now I want to build a jar file. I want to build 2 jar files which use different main functions as default main.</p>\n\n<p>eg </p>\n\n<pre><code>class A\n{\n  public static void main(String args[])\n  {\n    //do something\n  }\n}\n\nclass B\n{\n  public static void main(String args[])\n  {\n    //do something\n  }\n}\n</code></pre>\n\n<p>How do I do it in NetBeans IDE?</p>\n\n<p>I found the answer.\nU can do it easily in netbeans:\n1)right click on project >properties > run > select the class frm and drop down list. So simple in netbeans. Netbeans rocks!</p>\n"},{"tags":["java","spring-boot","logging","log4j2"],"answers":[{"tags":[],"owner":{"account_id":13266324,"reputation":169,"user_id":12893352,"display_name":"Illidan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643140483,"creation_date":1643140483,"answer_id":70854896,"question_id":70759088,"body_markdown":"Relative paths (../path) work from wherever you run the .jar.","title":"Change where RollingFile log4j2 writes the log with variables","body":"<p>Relative paths (../path) work from wherever you run the .jar.</p>\n"}],"owner":{"account_id":13266324,"reputation":169,"user_id":12893352,"display_name":"Illidan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70854896,"answer_count":1,"score":0,"last_activity_date":1643140483,"creation_date":1642523483,"question_id":70759088,"body_markdown":"\r\nI need to be able to modify the location where my log4j2.xml file writes log files.\r\n\r\nI would like to create a folder at the same level as the .jar ( my/path/app.jar ) of the application to store the logs ( my/path/logs/log1.log ) .\r\n\r\nThe problem comes in that I can&#39;t get where my jar is running from (which can vary) in the file (I don&#39;t want to use environment variables if I don&#39;t have to). How would you do it ? This is my log4j2.xml file\r\n\r\n        &lt;RollingFile name=&quot;rollingFile&quot;\r\n            fileName=&quot;my/path/application.log&quot;\r\n            filePattern=&quot;my/path/application.%d{dd-MMM}.log&quot;\r\n            ignoreExceptions=&quot;false&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5p %m%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy&gt;\r\n            &lt;!-- Delete logs older than 60 days --&gt;\r\n                &lt;Delete basePath=&quot;my/route/&quot;&gt;\r\n                    &lt;IfLastModified age=&quot;60d&quot; /&gt;\r\n                &lt;/Delete&gt;\r\n            &lt;/DefaultRolloverStrategy&gt;\r\n        &lt;/RollingFile&gt;\r\n\r\nI have seen that you can use [spring][1] variables but I don&#39;t want to implement that cloud dependency ( since I don&#39;t use it for anything ).\r\n\r\nAnd within the same question , if in the IfLastModified I add the path of the folder , I should delete the logs ( in this case every 60 days , no? )\r\n\r\ncontext : \r\n\r\n - Java application with spring\r\n - can change the OS I run the application\r\n\r\nAny idea is welcome, thanks !\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/lookups.html#SpringLookup","title":"Change where RollingFile log4j2 writes the log with variables","body":"<p>I need to be able to modify the location where my log4j2.xml file writes log files.</p>\n<p>I would like to create a folder at the same level as the .jar ( my/path/app.jar ) of the application to store the logs ( my/path/logs/log1.log ) .</p>\n<p>The problem comes in that I can't get where my jar is running from (which can vary) in the file (I don't want to use environment variables if I don't have to). How would you do it ? This is my log4j2.xml file</p>\n<pre><code>    &lt;RollingFile name=&quot;rollingFile&quot;\n        fileName=&quot;my/path/application.log&quot;\n        filePattern=&quot;my/path/application.%d{dd-MMM}.log&quot;\n        ignoreExceptions=&quot;false&quot;&gt;\n        &lt;PatternLayout&gt;\n            &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5p %m%n&lt;/Pattern&gt;\n        &lt;/PatternLayout&gt;\n        &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; /&gt;\n        &lt;/Policies&gt;\n        &lt;DefaultRolloverStrategy&gt;\n        &lt;!-- Delete logs older than 60 days --&gt;\n            &lt;Delete basePath=&quot;my/route/&quot;&gt;\n                &lt;IfLastModified age=&quot;60d&quot; /&gt;\n            &lt;/Delete&gt;\n        &lt;/DefaultRolloverStrategy&gt;\n    &lt;/RollingFile&gt;\n</code></pre>\n<p>I have seen that you can use <a href=\"https://logging.apache.org/log4j/2.x/manual/lookups.html#SpringLookup\" rel=\"nofollow noreferrer\">spring</a> variables but I don't want to implement that cloud dependency ( since I don't use it for anything ).</p>\n<p>And within the same question , if in the IfLastModified I add the path of the folder , I should delete the logs ( in this case every 60 days , no? )</p>\n<p>context :</p>\n<ul>\n<li>Java application with spring</li>\n<li>can change the OS I run the application</li>\n</ul>\n<p>Any idea is welcome, thanks !</p>\n"},{"tags":["java","graph","depth-first-search"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1642896226,"post_id":70817859,"comment_id":125195512,"body_markdown":"You can&#39;t compare `Integer` objects with `==`, you must use `equals()`.  The fact that it works for _some_ `Integer`s is an internal optimization.","body":"You can&#39;t compare <code>Integer</code> objects with <code>==</code>, you must use <code>equals()</code>.  The fact that it works for <i>some</i> <code>Integer</code>s is an internal optimization."},{"owner":{"account_id":3222171,"reputation":1361,"user_id":3192775,"accept_rate":33,"display_name":"Tim"},"score":0,"creation_date":1642907797,"post_id":70817859,"comment_id":125196965,"body_markdown":"True.. it makes sense. it totally slipped my brain..","body":"True.. it makes sense. it totally slipped my brain.."}],"answers":[{"tags":[],"owner":{"account_id":3222171,"reputation":1361,"user_id":3192775,"accept_rate":33,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643140043,"creation_date":1643140043,"answer_id":70854806,"question_id":70817859,"body_markdown":"As indicated by @jim Garrison. using object equals fixed the issue.\r\n\r\n```\r\n  if(currentVertex.equals(toVertex)) return true;\r\n```","title":"Graph DFS with Integer object data type returns incorrect results","body":"<p>As indicated by @jim Garrison. using object equals fixed the issue.</p>\n<pre><code>  if(currentVertex.equals(toVertex)) return true;\n</code></pre>\n"}],"owner":{"account_id":3222171,"reputation":1361,"user_id":3192775,"accept_rate":33,"display_name":"Tim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70854806,"answer_count":1,"score":0,"last_activity_date":1643140043,"creation_date":1642892611,"question_id":70817859,"body_markdown":"I was solving `isPathExits` between nodes from LeetCode. And for a data set, mentioned in below code the logic failed. \r\n\r\nOn investigating, I noticed when using `stack.pop();` with `Integer` datatype for the return ed node value it results `false`, If I change that return type to primitive `int` the same logic works and results `true`\r\n\r\n\r\n Code with `Integer` return type which results false. Refer the `dfsTraverse()`\r\n\r\n```java\r\npublic class DFScode {\r\n\t\r\n\tpublic static void main(String ...args) {\r\n\t\tint[][] edges = {{266,314},{35,276},{144,79},{242,397},{474,405},{496,110},{288,342},{480,149},{420,495},{52,385},{4,378},{490,7},{491,32},{433,479},{193,209},{342,258},{292,439},{287,281},{453,417},{422,126},{237,439},{340,325},{342,74},{129,84},{355,206},{256,161},{242,334},{114,242},{190,126},{190,455},{476,20},{209,439},{405,252},{345,231},{328,204},{405,365},{393,426},{10,488},{152,486},{170,208},{93,407},{499,439},{486,337},{473,285},{203,422},{181,474},{223,148},{273,100},{313,179},{358,290},{439,314},{75,187},{26,17},{209,137},{53,183},{197,447},{161,423},{447,368},{338,495},{117,192},{113,490},{150,423},{60,102},{447,43},{94,11},{423,334},{485,101},{155,380},{352,390},{380,206},{449,95},{345,456},{256,342},{270,124},{409,422},{107,246},{2,200},{12,58},{213,62},{429,439},{363,439},{342,174},{204,439},{211,402},{369,479},{59,49},{272,210},{449,474},{70,191},{444,265},{117,266},{439,467},{439,26},{487,495},{369,295},{273,439},{488,439},{310,405},{331,210},{356,133},{16,44},{353,439},{282,454},{469,385},{410,11},{425,438},{108,322},{336,391},{417,389},{37,183},{130,439},{56,452},{77,420},{183,351},{242,306},{6,286},{131,439},{428,144},{297,408},{342,432},{270,232},{395,369},{166,273},{216,405},{381,439},{209,448},{61,192},{224,251},{347,115},{242,468},{250,317},{140,73},{136,281},{299,345},{419,39},{167,52},{63,199},{229,236},{209,479},{215,143},{93,7},{456,439},{422,280},{355,380},{263,201},{243,0},{387,428},{190,220},{87,181},{182,40},{374,42},{439,165},{38,342},{192,143},{33,365},{320,225},{474,138},{87,21},{27,493},{466,480},{412,320},{494,180},{141,381},{9,198},{209,242},{212,318},{106,112},{378,84},{417,342},{461,401},{176,62},{295,498},{87,480},{342,469},{56,342},{405,396},{270,59},{499,372},{246,494},{349,270},{466,453},{89,411},{460,258},{59,188},{376,380},{266,126},{351,224},{209,394},{439,348},{414,405},{98,150},{395,286},{443,255},{492,19},{209,342},{37,422},{216,269},{426,255},{243,71},{238,479},{233,405},{460,275},{379,312},{403,462},{413,2},{439,428},{260,439},{162,340},{419,392},{495,439},{493,405},{369,242},{98,414},{412,270},{277,436},{384,270},{46,472},{286,410},{482,495},{480,91},{124,394},{378,424},{328,347},{85,270},{128,242},{321,149},{50,439},{439,36},{89,171},{202,459},{69,242},{342,378},{81,444},{262,470},{107,257},{86,342},{366,360},{132,374},{449,416},{364,475},{9,77},{380,172},{448,242},{136,434},{229,138},{349,9},{42,439},{395,458},{209,185},{380,5},{320,495},{149,345},{354,48},{458,147},{272,388},{272,404},{203,297},{151,239},{230,342},{380,13},{148,264},{406,201},{218,105},{429,248},{450,98},{495,357},{156,405},{439,125},{332,358},{347,113},{104,468},{234,468},{321,450},{183,439},{207,270},{59,390},{54,439},{447,459},{378,83},{359,345},{300,392},{270,171},{459,381},{153,270},{242,158},{498,277},{141,362},{390,364},{55,205},{215,434},{108,245},{209,59},{8,352},{209,454},{331,457},{242,154},{379,319},{243,416},{284,203},{156,237},{50,68},{487,366},{463,342},{485,393},{392,340},{279,103},{196,380},{250,343},{267,393},{270,191},{345,377},{211,499},{342,142},{209,225},{458,354},{371,354},{186,487},{370,236},{405,298},{313,150},{255,29},{405,436},{111,495},{216,108},{351,17},{242,406},{422,59},{342,167},{386,142},{377,242},{55,244},{405,31},{209,195},{130,342},{270,170},{178,264},{199,343},{224,374},{404,447},{359,143},{104,317},{439,189},{491,354},{291,342},{451,150},{434,166},{242,266},{439,63},{97,188},{342,445},{498,100},{51,69},{443,270},{399,342},{325,154},{197,439},{242,307},{456,283},{267,447},{440,453},{132,439},{90,439},{405,119},{17,380},{342,362},{300,94},{393,195},{137,471},{234,239},{325,452},{439,486},{362,499},{39,439},{168,270},{474,83},{203,290},{165,416},{221,439},{239,376},{439,285},{454,163},{160,59},{439,333},{342,24},{471,318},{282,497},{158,346},{188,145},{298,430},{242,368},{369,205},{207,422},{380,250},{164,468},{30,439},{98,355},{427,278},{214,195},{242,410},{354,407},{342,477},{120,354},{160,329},{439,351},{441,346},{487,85},{342,339},{66,287},{439,169},{372,127},{242,466},{405,492},{174,299},{261,497},{242,304},{249,379},{182,405},{403,371},{45,168},{497,96},{443,11},{354,225},{74,135},{333,226},{217,498},{356,33},{289,439},{450,439},{342,220},{212,155},{354,342},{99,111},{242,323},{25,342},{342,366},{439,135},{342,335},{330,38},{290,405},{441,453},{304,202},{337,490},{380,251},{87,420},{49,319},{99,380},{248,362},{42,83},{391,270},{249,242},{458,45},{287,405},{357,468},{150,209},{240,56},{400,354},{405,34},{197,299},{358,48},{439,60},{433,439},{463,452},{427,81},{401,484},{345,218},{399,469},{439,375},{445,263},{147,337},{241,439},{378,214},{405,315},{80,361},{373,246},{106,492},{401,475},{12,313},{455,272},{342,263},{326,125},{225,253},{458,208},{304,407},{58,209},{186,405},{19,400},{490,435},{151,405},{480,100},{317,190},{140,451},{462,495},{9,242},{413,292},{124,137},{330,435},{230,423},{481,358},{80,439},{431,448},{422,57},{270,311},{124,250},{247,313},{439,43},{38,52},{439,159},{268,441},{27,348},{75,358},{439,418},{114,92},{361,379},{447,274},{118,439},{219,439},{110,358},{342,3},{497,272},{358,414},{40,302},{185,436},{15,422},{435,146},{299,402},{342,413},{153,291},{467,106},{81,209},{490,35},{498,446},{490,262},{423,439},{320,41},{68,439},{408,342},{439,330},{372,440},{192,242},{26,54},{483,243},{361,467},{325,140},{377,21},{406,6},{354,170},{439,64},{6,408},{98,260},{289,213},{342,441},{242,72},{185,135},{422,334},{369,270},{405,490},{240,270},{325,347},{366,45},{422,127},{148,380},{372,64},{471,181},{63,316},{440,405},{69,20},{239,209},{308,405},{325,267},{309,386},{345,405},{427,213},{228,213},{150,288},{405,367},{342,78},{497,276},{405,123},{55,405},{439,8},{410,210},{378,405},{127,30},{497,172},{497,444},{281,79},{262,41},{387,484},{190,439},{380,33},{108,254},{207,359},{203,393},{122,347},{476,34},{353,69},{209,275},{439,470},{278,354},{205,44},{231,317},{232,421},{210,399},{109,405},{352,108},{448,498},{16,204},{197,418},{352,119},{235,494},{0,59},{342,140},{342,430},{166,380},{289,190},{227,67},{310,378},{52,378},{80,85},{484,85},{244,380},{320,176},{104,451},{162,490},{209,47},{405,301},{95,378},{279,354},{490,234},{82,200},{246,444},{244,379},{159,51},{194,341},{274,405},{324,474},{385,458},{41,422},{411,354},{217,386},{28,441},{18,380},{402,226},{136,403},{96,133},{333,132},{327,486},{342,257},{298,398},{242,393},{72,161},{144,315},{154,446},{303,439},{79,66},{98,87},{196,353},{337,8},{488,159},{439,255},{124,281},{129,383},{153,289},{439,421},{439,324},{245,473},{155,20},{469,119},{398,498},{384,480},{133,495},{403,172},{355,93},{112,342},{397,90},{405,248},{159,428},{228,370},{92,439},{494,380},{121,439},{23,498},{62,321},{96,241},{380,77},{337,351},{387,460},{439,144},{79,342},{76,340},{270,22},{480,287},{176,378},{252,59},{92,179},{368,57},{101,322},{132,182},{471,378},{64,362},{219,319},{347,193},{430,139},{226,321},{67,304},{89,439},{67,346},{431,11},{59,325},{10,339},{129,276},{136,439},{4,168},{441,94},{326,342},{270,185},{439,305},{439,370},{88,434},{62,40},{346,356},{451,345},{412,351},{106,466},{76,439},{160,82},{187,211},{113,471},{209,66},{157,278},{164,342},{486,148},{389,139},{39,298},{354,245},{89,212},{103,22},{144,251},{60,242},{378,481},{376,417},{390,203},{332,24},{459,318},{342,401},{341,80},{182,257},{115,405},{238,414},{379,238},{198,439},{70,367},{224,422},{16,314},{13,488},{386,486},{2,0},{490,341},{273,88},{142,311},{460,472},{297,342},{454,131},{435,383},{425,442},{131,147},{455,401},{434,73},{97,405},{223,342},{440,194},{273,71},{405,141},{405,161},{105,242},{378,359},{439,309},{378,383},{27,463},{443,327},{186,342},{439,91},{406,455},{451,175},{317,288},{230,111},{405,103},{32,430},{229,295},{383,102},{167,298},{440,23},{380,322},{466,165},{205,265},{63,95},{317,43},{44,323},{181,439},{439,51},{293,379},{107,266},{476,170},{74,231},{242,437},{155,170},{5,0},{180,124},{357,386},{101,405},{73,422},{420,423},{3,200},{12,156},{80,170},{0,23},{382,439},{62,0},{41,46},{307,358},{457,447},{373,426},{439,157},{380,231},{206,14},{451,439},{145,495},{85,243},{357,374},{21,242},{47,202},{322,237},{439,294},{14,439},{0,408},{25,462},{242,272},{163,479},{341,218},{487,497},{439,296},{95,326},{439,489},{62,215},{327,334},{402,393},{67,479},{117,50},{295,473},{392,272},{209,177},{75,94},{208,62},{80,459},{272,175},{439,271},{284,430},{424,97},{490,437},{49,439},{214,369},{273,462},{336,398},{106,229},{228,23},{228,497},{146,439},{45,85},{439,302},{133,498},{465,405},{2,254},{489,233},{498,235},{441,32},{100,281},{335,354},{369,463},{439,284},{319,110},{425,378},{252,352},{324,350},{430,85},{374,342},{1,458},{380,325},{29,242},{322,268},{65,133},{41,457},{106,257},{304,201},{173,439},{65,439},{30,141},{4,385},{242,85},{208,414},{199,296},{178,405},{116,62},{134,378},{459,439},{338,292},{215,494},{284,177},{341,229},{439,227},{227,141},{247,242},{439,139},{242,317},{102,323},{46,51},{393,306},{380,16},{439,419},{228,410},{55,176},{401,280},{18,275},{209,229},{342,61},{108,342},{369,316},{72,457},{353,116},{238,267},{285,7},{9,48},{133,52},{326,29},{211,59},{259,342},{50,227},{222,354},{246,380},{478,426},{342,194},{60,72},{313,276},{58,241},{45,211},{496,380},{326,178},{443,485},{41,379},{285,98},{265,342},{367,371},{88,351},{143,255},{373,405},{350,405},{0,41},{75,176},{236,13},{264,405},{363,494},{272,87},{165,204},{390,36},{212,2},{117,378},{464,439},{328,55},{447,78},{281,275},{405,218},{344,393},{256,314},{439,269},{356,59},{224,111},{493,95},{374,445},{184,439},{277,180},{77,85},{391,299},{64,67},{270,494},{476,369},{473,325},{149,313},{53,59},{391,454},{307,351},{207,317},{232,409},{52,94},{343,272},{405,70},{439,143},{448,415},{240,496},{439,332},{261,156},{183,64}};\r\n\t\t\r\n\t\tDFScode d = new DFScode();\r\n\t\tSystem.out.println(d.validPath(500,edges,217,308));\r\n\t\t//System.out.println(d.validPath(500,edges,308,405));\r\n\t}\r\n\r\n\tpublic boolean validPath(int n, int[][] edges, int source, int destination) {\r\n\t    Map&lt;Integer,List&lt;Integer&gt;&gt; g = buildGraph(edges);\r\n\t\treturn dfsTraverse(g,source,destination);\r\n\t}\r\n\r\n\tpublic Map&lt;Integer,List&lt;Integer&gt;&gt; buildGraph(int[][] edges){\r\n\r\n\t\tMap&lt;Integer,List&lt;Integer&gt;&gt; graph = new HashMap&lt;&gt;();\r\n\t\tfor(int i=0;i&lt;edges.length;i++){\r\n\t\t\tgraph.putIfAbsent(edges[i][0], new ArrayList&lt;&gt;());\r\n\t\t\tgraph.putIfAbsent(edges[i][1], new ArrayList&lt;&gt;());\r\n\r\n\t\t\tgraph.get(edges[i][0]).add(edges[i][1]);\r\n\t\t\tgraph.get(edges[i][1]).add(edges[i][0]);\r\n\t\t}\r\n\t\treturn graph;\r\n\r\n\t}\t\r\n\r\n\tpublic boolean dfsTraverse (Map&lt;Integer,List&lt;Integer&gt;&gt; graph, Integer fromVertex, Integer toVertex) {\r\n\r\n\t\tStack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\n\t\tSet&lt;Integer&gt; visited = new HashSet&lt;&gt;();\r\n\r\n\t\tstack.push(fromVertex);\r\n\t\twhile(!stack.empty()) {\r\n\t\t\tInteger currentVertex = stack.pop();\r\n\t\t\tif(currentVertex == toVertex) return true;\r\n\t\t\tif(visited.contains(currentVertex)) continue;\r\n\t\t\tvisited.add(currentVertex);\r\n\t\t\tfor(Integer neighbor: graph.get(currentVertex)) {\r\n\t\t\t\t\tstack.push(neighbor);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n```\r\n\r\nSame logic of `dfsTraverse()` but with primitive `int` used for `stack.pop()`..\r\n\r\n- Below is the code returns `true`.\r\n\r\n```java\r\n\tpublic boolean dfsTraverse (Map&lt;Integer,List&lt;Integer&gt;&gt; graph, Integer fromVertex, Integer toVertex) {\r\n\r\n\t\tStack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\n\t\tSet&lt;Integer&gt; visited = new HashSet&lt;&gt;();\r\n\r\n\t\tstack.push(fromVertex);\r\n\r\n\t\twhile(!stack.empty()) {\r\n\t\t\tint currentVertex = stack.pop();  // changed Intger to int \r\n\t\t\tif(currentVertex == toVertex) return true;\r\n\t\t\tif(visited.contains(currentVertex)) continue;\r\n\t\r\n\t\t\tvisited.add(currentVertex);\r\n\t\t\tfor(int neighbor: graph.get(currentVertex)) { //Changed Integer to int\r\n\t\t\t\tstack.push(neighbor);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n```\r\n\r\nI am not sure what could be wrong using Integer. Any insights?","title":"Graph DFS with Integer object data type returns incorrect results","body":"<p>I was solving <code>isPathExits</code> between nodes from LeetCode. And for a data set, mentioned in below code the logic failed.</p>\n<p>On investigating, I noticed when using <code>stack.pop();</code> with <code>Integer</code> datatype for the return ed node value it results <code>false</code>, If I change that return type to primitive <code>int</code> the same logic works and results <code>true</code></p>\n<p>Code with <code>Integer</code> return type which results false. Refer the <code>dfsTraverse()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DFScode {\n    \n    public static void main(String ...args) {\n        int[][] edges = {{266,314},{35,276},{144,79},{242,397},{474,405},{496,110},{288,342},{480,149},{420,495},{52,385},{4,378},{490,7},{491,32},{433,479},{193,209},{342,258},{292,439},{287,281},{453,417},{422,126},{237,439},{340,325},{342,74},{129,84},{355,206},{256,161},{242,334},{114,242},{190,126},{190,455},{476,20},{209,439},{405,252},{345,231},{328,204},{405,365},{393,426},{10,488},{152,486},{170,208},{93,407},{499,439},{486,337},{473,285},{203,422},{181,474},{223,148},{273,100},{313,179},{358,290},{439,314},{75,187},{26,17},{209,137},{53,183},{197,447},{161,423},{447,368},{338,495},{117,192},{113,490},{150,423},{60,102},{447,43},{94,11},{423,334},{485,101},{155,380},{352,390},{380,206},{449,95},{345,456},{256,342},{270,124},{409,422},{107,246},{2,200},{12,58},{213,62},{429,439},{363,439},{342,174},{204,439},{211,402},{369,479},{59,49},{272,210},{449,474},{70,191},{444,265},{117,266},{439,467},{439,26},{487,495},{369,295},{273,439},{488,439},{310,405},{331,210},{356,133},{16,44},{353,439},{282,454},{469,385},{410,11},{425,438},{108,322},{336,391},{417,389},{37,183},{130,439},{56,452},{77,420},{183,351},{242,306},{6,286},{131,439},{428,144},{297,408},{342,432},{270,232},{395,369},{166,273},{216,405},{381,439},{209,448},{61,192},{224,251},{347,115},{242,468},{250,317},{140,73},{136,281},{299,345},{419,39},{167,52},{63,199},{229,236},{209,479},{215,143},{93,7},{456,439},{422,280},{355,380},{263,201},{243,0},{387,428},{190,220},{87,181},{182,40},{374,42},{439,165},{38,342},{192,143},{33,365},{320,225},{474,138},{87,21},{27,493},{466,480},{412,320},{494,180},{141,381},{9,198},{209,242},{212,318},{106,112},{378,84},{417,342},{461,401},{176,62},{295,498},{87,480},{342,469},{56,342},{405,396},{270,59},{499,372},{246,494},{349,270},{466,453},{89,411},{460,258},{59,188},{376,380},{266,126},{351,224},{209,394},{439,348},{414,405},{98,150},{395,286},{443,255},{492,19},{209,342},{37,422},{216,269},{426,255},{243,71},{238,479},{233,405},{460,275},{379,312},{403,462},{413,2},{439,428},{260,439},{162,340},{419,392},{495,439},{493,405},{369,242},{98,414},{412,270},{277,436},{384,270},{46,472},{286,410},{482,495},{480,91},{124,394},{378,424},{328,347},{85,270},{128,242},{321,149},{50,439},{439,36},{89,171},{202,459},{69,242},{342,378},{81,444},{262,470},{107,257},{86,342},{366,360},{132,374},{449,416},{364,475},{9,77},{380,172},{448,242},{136,434},{229,138},{349,9},{42,439},{395,458},{209,185},{380,5},{320,495},{149,345},{354,48},{458,147},{272,388},{272,404},{203,297},{151,239},{230,342},{380,13},{148,264},{406,201},{218,105},{429,248},{450,98},{495,357},{156,405},{439,125},{332,358},{347,113},{104,468},{234,468},{321,450},{183,439},{207,270},{59,390},{54,439},{447,459},{378,83},{359,345},{300,392},{270,171},{459,381},{153,270},{242,158},{498,277},{141,362},{390,364},{55,205},{215,434},{108,245},{209,59},{8,352},{209,454},{331,457},{242,154},{379,319},{243,416},{284,203},{156,237},{50,68},{487,366},{463,342},{485,393},{392,340},{279,103},{196,380},{250,343},{267,393},{270,191},{345,377},{211,499},{342,142},{209,225},{458,354},{371,354},{186,487},{370,236},{405,298},{313,150},{255,29},{405,436},{111,495},{216,108},{351,17},{242,406},{422,59},{342,167},{386,142},{377,242},{55,244},{405,31},{209,195},{130,342},{270,170},{178,264},{199,343},{224,374},{404,447},{359,143},{104,317},{439,189},{491,354},{291,342},{451,150},{434,166},{242,266},{439,63},{97,188},{342,445},{498,100},{51,69},{443,270},{399,342},{325,154},{197,439},{242,307},{456,283},{267,447},{440,453},{132,439},{90,439},{405,119},{17,380},{342,362},{300,94},{393,195},{137,471},{234,239},{325,452},{439,486},{362,499},{39,439},{168,270},{474,83},{203,290},{165,416},{221,439},{239,376},{439,285},{454,163},{160,59},{439,333},{342,24},{471,318},{282,497},{158,346},{188,145},{298,430},{242,368},{369,205},{207,422},{380,250},{164,468},{30,439},{98,355},{427,278},{214,195},{242,410},{354,407},{342,477},{120,354},{160,329},{439,351},{441,346},{487,85},{342,339},{66,287},{439,169},{372,127},{242,466},{405,492},{174,299},{261,497},{242,304},{249,379},{182,405},{403,371},{45,168},{497,96},{443,11},{354,225},{74,135},{333,226},{217,498},{356,33},{289,439},{450,439},{342,220},{212,155},{354,342},{99,111},{242,323},{25,342},{342,366},{439,135},{342,335},{330,38},{290,405},{441,453},{304,202},{337,490},{380,251},{87,420},{49,319},{99,380},{248,362},{42,83},{391,270},{249,242},{458,45},{287,405},{357,468},{150,209},{240,56},{400,354},{405,34},{197,299},{358,48},{439,60},{433,439},{463,452},{427,81},{401,484},{345,218},{399,469},{439,375},{445,263},{147,337},{241,439},{378,214},{405,315},{80,361},{373,246},{106,492},{401,475},{12,313},{455,272},{342,263},{326,125},{225,253},{458,208},{304,407},{58,209},{186,405},{19,400},{490,435},{151,405},{480,100},{317,190},{140,451},{462,495},{9,242},{413,292},{124,137},{330,435},{230,423},{481,358},{80,439},{431,448},{422,57},{270,311},{124,250},{247,313},{439,43},{38,52},{439,159},{268,441},{27,348},{75,358},{439,418},{114,92},{361,379},{447,274},{118,439},{219,439},{110,358},{342,3},{497,272},{358,414},{40,302},{185,436},{15,422},{435,146},{299,402},{342,413},{153,291},{467,106},{81,209},{490,35},{498,446},{490,262},{423,439},{320,41},{68,439},{408,342},{439,330},{372,440},{192,242},{26,54},{483,243},{361,467},{325,140},{377,21},{406,6},{354,170},{439,64},{6,408},{98,260},{289,213},{342,441},{242,72},{185,135},{422,334},{369,270},{405,490},{240,270},{325,347},{366,45},{422,127},{148,380},{372,64},{471,181},{63,316},{440,405},{69,20},{239,209},{308,405},{325,267},{309,386},{345,405},{427,213},{228,213},{150,288},{405,367},{342,78},{497,276},{405,123},{55,405},{439,8},{410,210},{378,405},{127,30},{497,172},{497,444},{281,79},{262,41},{387,484},{190,439},{380,33},{108,254},{207,359},{203,393},{122,347},{476,34},{353,69},{209,275},{439,470},{278,354},{205,44},{231,317},{232,421},{210,399},{109,405},{352,108},{448,498},{16,204},{197,418},{352,119},{235,494},{0,59},{342,140},{342,430},{166,380},{289,190},{227,67},{310,378},{52,378},{80,85},{484,85},{244,380},{320,176},{104,451},{162,490},{209,47},{405,301},{95,378},{279,354},{490,234},{82,200},{246,444},{244,379},{159,51},{194,341},{274,405},{324,474},{385,458},{41,422},{411,354},{217,386},{28,441},{18,380},{402,226},{136,403},{96,133},{333,132},{327,486},{342,257},{298,398},{242,393},{72,161},{144,315},{154,446},{303,439},{79,66},{98,87},{196,353},{337,8},{488,159},{439,255},{124,281},{129,383},{153,289},{439,421},{439,324},{245,473},{155,20},{469,119},{398,498},{384,480},{133,495},{403,172},{355,93},{112,342},{397,90},{405,248},{159,428},{228,370},{92,439},{494,380},{121,439},{23,498},{62,321},{96,241},{380,77},{337,351},{387,460},{439,144},{79,342},{76,340},{270,22},{480,287},{176,378},{252,59},{92,179},{368,57},{101,322},{132,182},{471,378},{64,362},{219,319},{347,193},{430,139},{226,321},{67,304},{89,439},{67,346},{431,11},{59,325},{10,339},{129,276},{136,439},{4,168},{441,94},{326,342},{270,185},{439,305},{439,370},{88,434},{62,40},{346,356},{451,345},{412,351},{106,466},{76,439},{160,82},{187,211},{113,471},{209,66},{157,278},{164,342},{486,148},{389,139},{39,298},{354,245},{89,212},{103,22},{144,251},{60,242},{378,481},{376,417},{390,203},{332,24},{459,318},{342,401},{341,80},{182,257},{115,405},{238,414},{379,238},{198,439},{70,367},{224,422},{16,314},{13,488},{386,486},{2,0},{490,341},{273,88},{142,311},{460,472},{297,342},{454,131},{435,383},{425,442},{131,147},{455,401},{434,73},{97,405},{223,342},{440,194},{273,71},{405,141},{405,161},{105,242},{378,359},{439,309},{378,383},{27,463},{443,327},{186,342},{439,91},{406,455},{451,175},{317,288},{230,111},{405,103},{32,430},{229,295},{383,102},{167,298},{440,23},{380,322},{466,165},{205,265},{63,95},{317,43},{44,323},{181,439},{439,51},{293,379},{107,266},{476,170},{74,231},{242,437},{155,170},{5,0},{180,124},{357,386},{101,405},{73,422},{420,423},{3,200},{12,156},{80,170},{0,23},{382,439},{62,0},{41,46},{307,358},{457,447},{373,426},{439,157},{380,231},{206,14},{451,439},{145,495},{85,243},{357,374},{21,242},{47,202},{322,237},{439,294},{14,439},{0,408},{25,462},{242,272},{163,479},{341,218},{487,497},{439,296},{95,326},{439,489},{62,215},{327,334},{402,393},{67,479},{117,50},{295,473},{392,272},{209,177},{75,94},{208,62},{80,459},{272,175},{439,271},{284,430},{424,97},{490,437},{49,439},{214,369},{273,462},{336,398},{106,229},{228,23},{228,497},{146,439},{45,85},{439,302},{133,498},{465,405},{2,254},{489,233},{498,235},{441,32},{100,281},{335,354},{369,463},{439,284},{319,110},{425,378},{252,352},{324,350},{430,85},{374,342},{1,458},{380,325},{29,242},{322,268},{65,133},{41,457},{106,257},{304,201},{173,439},{65,439},{30,141},{4,385},{242,85},{208,414},{199,296},{178,405},{116,62},{134,378},{459,439},{338,292},{215,494},{284,177},{341,229},{439,227},{227,141},{247,242},{439,139},{242,317},{102,323},{46,51},{393,306},{380,16},{439,419},{228,410},{55,176},{401,280},{18,275},{209,229},{342,61},{108,342},{369,316},{72,457},{353,116},{238,267},{285,7},{9,48},{133,52},{326,29},{211,59},{259,342},{50,227},{222,354},{246,380},{478,426},{342,194},{60,72},{313,276},{58,241},{45,211},{496,380},{326,178},{443,485},{41,379},{285,98},{265,342},{367,371},{88,351},{143,255},{373,405},{350,405},{0,41},{75,176},{236,13},{264,405},{363,494},{272,87},{165,204},{390,36},{212,2},{117,378},{464,439},{328,55},{447,78},{281,275},{405,218},{344,393},{256,314},{439,269},{356,59},{224,111},{493,95},{374,445},{184,439},{277,180},{77,85},{391,299},{64,67},{270,494},{476,369},{473,325},{149,313},{53,59},{391,454},{307,351},{207,317},{232,409},{52,94},{343,272},{405,70},{439,143},{448,415},{240,496},{439,332},{261,156},{183,64}};\n        \n        DFScode d = new DFScode();\n        System.out.println(d.validPath(500,edges,217,308));\n        //System.out.println(d.validPath(500,edges,308,405));\n    }\n\n    public boolean validPath(int n, int[][] edges, int source, int destination) {\n        Map&lt;Integer,List&lt;Integer&gt;&gt; g = buildGraph(edges);\n        return dfsTraverse(g,source,destination);\n    }\n\n    public Map&lt;Integer,List&lt;Integer&gt;&gt; buildGraph(int[][] edges){\n\n        Map&lt;Integer,List&lt;Integer&gt;&gt; graph = new HashMap&lt;&gt;();\n        for(int i=0;i&lt;edges.length;i++){\n            graph.putIfAbsent(edges[i][0], new ArrayList&lt;&gt;());\n            graph.putIfAbsent(edges[i][1], new ArrayList&lt;&gt;());\n\n            graph.get(edges[i][0]).add(edges[i][1]);\n            graph.get(edges[i][1]).add(edges[i][0]);\n        }\n        return graph;\n\n    }   \n\n    public boolean dfsTraverse (Map&lt;Integer,List&lt;Integer&gt;&gt; graph, Integer fromVertex, Integer toVertex) {\n\n        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\n        Set&lt;Integer&gt; visited = new HashSet&lt;&gt;();\n\n        stack.push(fromVertex);\n        while(!stack.empty()) {\n            Integer currentVertex = stack.pop();\n            if(currentVertex == toVertex) return true;\n            if(visited.contains(currentVertex)) continue;\n            visited.add(currentVertex);\n            for(Integer neighbor: graph.get(currentVertex)) {\n                    stack.push(neighbor);\n            }\n        }\n        return false;\n    }\n</code></pre>\n<p>Same logic of <code>dfsTraverse()</code> but with primitive <code>int</code> used for <code>stack.pop()</code>..</p>\n<ul>\n<li>Below is the code returns <code>true</code>.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>    public boolean dfsTraverse (Map&lt;Integer,List&lt;Integer&gt;&gt; graph, Integer fromVertex, Integer toVertex) {\n\n        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\n        Set&lt;Integer&gt; visited = new HashSet&lt;&gt;();\n\n        stack.push(fromVertex);\n\n        while(!stack.empty()) {\n            int currentVertex = stack.pop();  // changed Intger to int \n            if(currentVertex == toVertex) return true;\n            if(visited.contains(currentVertex)) continue;\n    \n            visited.add(currentVertex);\n            for(int neighbor: graph.get(currentVertex)) { //Changed Integer to int\n                stack.push(neighbor);\n            }\n        }\n        return false;\n    }\n</code></pre>\n<p>I am not sure what could be wrong using Integer. Any insights?</p>\n"},{"tags":["java","date","datetime","time"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":1,"creation_date":1643139424,"post_id":70854589,"comment_id":125259626,"body_markdown":"[The documentation of `printf`](https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#printf-java.lang.String-java.lang.Object...-) guides us to [*Date/Time conversions* section](https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#dt).","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#printf-java.lang.String-java.lang.Object...-\" rel=\"nofollow noreferrer\">The documentation of <code>printf</code></a> guides us to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#dt\" rel=\"nofollow noreferrer\"><i>Date/Time conversions</i> section</a>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1643139440,"post_id":70854589,"comment_id":125259631,"body_markdown":"See documentation of [Formatter](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html) class. Regarding `%tc` and `%Tc` search for Date/Time Conversions","body":"See documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a> class. Regarding <code>%tc</code> and <code>%Tc</code> search for Date/Time Conversions"}],"answers":[{"tags":[],"owner":{"account_id":23806749,"reputation":56,"user_id":17816148,"display_name":"superevil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643139645,"creation_date":1643139645,"answer_id":70854721,"question_id":70854589,"body_markdown":"These are special characters that are being used to format a date.\r\nHere is a good example for this:\r\nhttp://www.java2s.com/Tutorial/Java/0120__Development/UnixdateformattcTc.htm\r\n\r\n    import java.util.Date;\r\n    \r\n    public class MainClass {\r\n    \r\n      public static void main(String[] args) {\r\n        Date now = new Date();\r\n        System.out.printf(&quot;Unix date format: %tc/%Tc\\n&quot;, now, now);\r\n      }\r\n    }\r\n\r\nAnd the result:\r\n\r\n    Unix date format: Thu May 24 15:58:29 PDT 2007/THU MAY 24 15:58:29 PDT 2007\r\n\r\nAll credits to this page","title":"What is the purpose of %s, %tc, %Tc?","body":"<p>These are special characters that are being used to format a date.\nHere is a good example for this:\n<a href=\"http://www.java2s.com/Tutorial/Java/0120__Development/UnixdateformattcTc.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Tutorial/Java/0120__Development/UnixdateformattcTc.htm</a></p>\n<pre><code>import java.util.Date;\n\npublic class MainClass {\n\n  public static void main(String[] args) {\n    Date now = new Date();\n    System.out.printf(&quot;Unix date format: %tc/%Tc\\n&quot;, now, now);\n  }\n}\n</code></pre>\n<p>And the result:</p>\n<pre><code>Unix date format: Thu May 24 15:58:29 PDT 2007/THU MAY 24 15:58:29 PDT 2007\n</code></pre>\n<p>All credits to this page</p>\n"}],"owner":{"display_name":"user16701881"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":746,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1643139645,"creation_date":1643139059,"question_id":70854589,"body_markdown":"I was studying a program about getting dates, time and then after browsing online I see this one: \r\n\r\n\r\n    System.out.printf(&quot;The date is %s\\n&quot;, new Date() );\r\n\r\n    System.out.printf(&quot;The date is %tc\\n&quot;, new Date() );\r\n\r\n    System.out.printf(&quot;The DATE is %Tc\\n&quot;, new Date() );\r\n\r\n\r\n\r\n   \r\nwhich seems to be straightforward but I want to understand the use of %s, %tc, %Tc here. \r\n","title":"What is the purpose of %s, %tc, %Tc?","body":"<p>I was studying a program about getting dates, time and then after browsing online I see this one:</p>\n<pre><code>System.out.printf(&quot;The date is %s\\n&quot;, new Date() );\n\nSystem.out.printf(&quot;The date is %tc\\n&quot;, new Date() );\n\nSystem.out.printf(&quot;The DATE is %Tc\\n&quot;, new Date() );\n</code></pre>\n<p>which seems to be straightforward but I want to understand the use of %s, %tc, %Tc here.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3157727,"reputation":2306,"user_id":2669716,"accept_rate":97,"display_name":"Anirudh"},"score":0,"creation_date":1414408772,"post_id":23136817,"comment_id":41787876,"body_markdown":"This problem from codingBat comes from codingBat&#39;s JAVA section, please add JAVA as a tag.","body":"This problem from codingBat comes from codingBat&#39;s JAVA section, please add JAVA as a tag."},{"owner":{"account_id":272446,"reputation":27058,"user_id":563532,"accept_rate":100,"display_name":"Rob"},"score":1,"creation_date":1414408915,"post_id":23136817,"comment_id":41787966,"body_markdown":"Please post whatever code you have so far. Asking for the complete answer while progressing through a learning website is counter productive","body":"Please post whatever code you have so far. Asking for the complete answer while progressing through a learning website is counter productive"}],"answers":[{"tags":[],"owner":{"account_id":3157727,"reputation":2306,"user_id":2669716,"accept_rate":97,"display_name":"Anirudh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414407851,"creation_date":1404315159,"answer_id":24535267,"question_id":23136817,"body_markdown":"Sure PFB my solution in JAVA for the same\r\n\r\n    public int count7(int n) {\r\n       if((n / 10 == 0) &amp;&amp; !(n % 10 == 7))      //First BASE CASE when the left most digit is 7 return 1\r\n           return 0;     \r\n       else if((n / 10 == 0) &amp;&amp; (n % 10 == 7)) //Second BASE CASE when the left most digit is 7 return 0\r\n            return 1;\r\n       else if((n % 10 == 7))   \r\n       //if the number having 2 digits then test the rightmost digit and trigger recursion trimming it there      \r\n           return 1 + count7(n / 10);\r\n       return count7(n / 10);\r\n    }","title":"Codingbat- Recursion1- count7","body":"<p>Sure PFB my solution in JAVA for the same</p>\n\n<pre><code>public int count7(int n) {\n   if((n / 10 == 0) &amp;&amp; !(n % 10 == 7))      //First BASE CASE when the left most digit is 7 return 1\n       return 0;     \n   else if((n / 10 == 0) &amp;&amp; (n % 10 == 7)) //Second BASE CASE when the left most digit is 7 return 0\n        return 1;\n   else if((n % 10 == 7))   \n   //if the number having 2 digits then test the rightmost digit and trigger recursion trimming it there      \n       return 1 + count7(n / 10);\n   return count7(n / 10);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1927754,"reputation":5883,"user_id":1737819,"accept_rate":89,"display_name":"Developer Marius Žilėnas"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1406137128,"creation_date":1406137128,"answer_id":24917258,"question_id":23136817,"body_markdown":"Well here&#39;s [the solution I wrote][1] and let&#39;s see how to do it with only one return\r\n\r\n\tpublic int count7(int n) \r\n\t{\r\n\t\tint c = 0;\r\n\t\tif (7 &gt; n)\r\n\t\t{\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif ( 7 == n % 10)\r\n\t\t\t{\r\n\t\t\t\tc = 1;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tc = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn c + count7(n / 10);  \r\n\t}\r\n\r\n[the same with only one return][2]\r\n\r\n\tpublic int count7(int n) \r\n\t{\r\n\t\treturn (7 &gt; n) ? 0 : ( ( 7 == n % 10) ? 1 + count7(n / 10) : 0 + count7(n / 10));  \r\n\t}\r\n\r\n\r\n  [1]: https://github.com/spookiecookie/codingbatsolutions/blob/master/codingbat/recursion1/Count7.java\r\n  [2]: http://ideone.com/lHBxec","title":"Codingbat- Recursion1- count7","body":"<p>Well here's <a href=\"https://github.com/spookiecookie/codingbatsolutions/blob/master/codingbat/recursion1/Count7.java\" rel=\"noreferrer\">the solution I wrote</a> and let's see how to do it with only one return</p>\n\n<pre><code>public int count7(int n) \n{\n    int c = 0;\n    if (7 &gt; n)\n    {\n        return 0;\n    }\n    else\n    {\n        if ( 7 == n % 10)\n        {\n            c = 1;\n        }\n        else\n        {\n            c = 0;\n        }\n    }\n    return c + count7(n / 10);  \n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/lHBxec\" rel=\"noreferrer\">the same with only one return</a></p>\n\n<pre><code>public int count7(int n) \n{\n    return (7 &gt; n) ? 0 : ( ( 7 == n % 10) ? 1 + count7(n / 10) : 0 + count7(n / 10));  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5507433,"reputation":21,"user_id":4374907,"display_name":"Bansari Desai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425393759,"creation_date":1425388190,"answer_id":28832659,"question_id":23136817,"body_markdown":"    public int count7(int n) { \r\n\r\n      if(n == 0)\r\n          return 0;\r\n      else{\r\n         if(n%10 ==7)\r\n             return 1+count7(n/10);\r\n  \r\n         return 0+count7(n/10);  \r\n      }\r\n    }","title":"Codingbat- Recursion1- count7","body":"<pre><code>public int count7(int n) { \n\n  if(n == 0)\n      return 0;\n  else{\n     if(n%10 ==7)\n         return 1+count7(n/10);\n\n     return 0+count7(n/10);  \n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7983320,"reputation":21,"user_id":6023795,"display_name":"Japhet Ndemera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457220255,"creation_date":1457220255,"answer_id":35821164,"question_id":23136817,"body_markdown":"    public static int count7(int n){\r\n    \t\tif(n == 7)\r\n    \t\t\treturn 1;\r\n    \t\telse if(n &gt; 9){\r\n    \t\t\tint a = count7(n%10);\r\n    \t\t\tint b = count7(n/10);\r\n    \t\t\treturn a + b;\r\n    \t\t}else\r\n    \t\t\treturn 0;\r\n    }","title":"Codingbat- Recursion1- count7","body":"<pre><code>public static int count7(int n){\n        if(n == 7)\n            return 1;\n        else if(n &gt; 9){\n            int a = count7(n%10);\n            int b = count7(n/10);\n            return a + b;\n        }else\n            return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7523424,"reputation":2645,"user_id":5714544,"accept_rate":90,"display_name":"kurumkan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457662989,"creation_date":1457662989,"answer_id":35931098,"question_id":23136817,"body_markdown":"    public int count7(int n) \r\n    {  \r\n     if(n==0)return 0;\r\n     if(n%10==7)return 1+count7(n/10);\r\n     else return count7(n/10);\r\n    }","title":"Codingbat- Recursion1- count7","body":"<pre><code>public int count7(int n) \n{  \n if(n==0)return 0;\n if(n%10==7)return 1+count7(n/10);\n else return count7(n/10);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9131320,"reputation":11,"user_id":6792821,"display_name":"mark jerome lava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472982984,"creation_date":1472982984,"answer_id":39315694,"question_id":23136817,"body_markdown":"    public int count7(int n) {\r\n      if (n != 7 &amp;&amp; n &lt; 10) return 0;\r\n      else if (n == 7) return 1;\r\n      else if (n%10 == 7) return count7(n/10) + 1 ;\r\n      else return count7(n/10);\r\n    }\r\n\r\n","title":"Codingbat- Recursion1- count7","body":"<pre><code>public int count7(int n) {\n  if (n != 7 &amp;&amp; n &lt; 10) return 0;\n  else if (n == 7) return 1;\n  else if (n%10 == 7) return count7(n/10) + 1 ;\n  else return count7(n/10);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479525757,"creation_date":1479525757,"answer_id":40688897,"question_id":23136817,"body_markdown":"    public int count7(int n){\r\n        if(n &lt; 7)\r\n            return 0;\r\n        else if(n % 10 == 7)\r\n            return 1 + count7(n / 10);\r\n        else\r\n            return count7(n / 10);\r\n    }\r\n\r\nthe first if-statement is the base case that we would want to terminate on. The second checks to see if the rightmost digit is 7. If it is, chop the rightmost digit off and try again. When the recursive calls terminate and and values start getting returned up the chain, add 1 to include this successful check. In the case that neither of the above statements are true, chop off the rightmost digit and try again.\r\n\r\nI know this is 2 years old, but hope this is a bit more readable and intuitive, and thus helpful.","title":"Codingbat- Recursion1- count7","body":"<pre><code>public int count7(int n){\n    if(n &lt; 7)\n        return 0;\n    else if(n % 10 == 7)\n        return 1 + count7(n / 10);\n    else\n        return count7(n / 10);\n}\n</code></pre>\n\n<p>the first if-statement is the base case that we would want to terminate on. The second checks to see if the rightmost digit is 7. If it is, chop the rightmost digit off and try again. When the recursive calls terminate and and values start getting returned up the chain, add 1 to include this successful check. In the case that neither of the above statements are true, chop off the rightmost digit and try again.</p>\n\n<p>I know this is 2 years old, but hope this is a bit more readable and intuitive, and thus helpful.</p>\n"},{"tags":[],"owner":{"account_id":10541758,"reputation":611,"user_id":7767532,"display_name":"Samir Ghoneim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1531037927,"creation_date":1497095911,"answer_id":44473063,"question_id":23136817,"body_markdown":"    public int count7(int n) {\r\n      int counter = 0;\r\n      \r\n      if( n % 10 == 7) counter++;\r\n        \r\n      if( n / 10  == 0)  return counter;\r\n        \r\n      return counter + count7(n/10); \r\n    }\r\n\r\n","title":"Codingbat- Recursion1- count7","body":"<pre><code>public int count7(int n) {\n  int counter = 0;\n\n  if( n % 10 == 7) counter++;\n\n  if( n / 10  == 0)  return counter;\n\n  return counter + count7(n/10); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13372347,"reputation":41,"user_id":9650328,"display_name":"Taladork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524614914,"creation_date":1524614914,"answer_id":50012302,"question_id":23136817,"body_markdown":"Using one return will likely make it harder to read. If you are counting occurrences in recursion, an easy formula is to create a base case to terminate on, then provide an incremental return, and finally a return that will aid in reaching the base case without incrementing. For example..\r\n\r\n    public int count7(int n) {\r\n      if(n == 0) return 0;\r\n      if(n % 10 == 7) return 1 + count7(n / 10);\r\n      return count7(n / 10);\r\n    }\r\n\r\nUsing a one liner return like the one below in my opinion is harder to read or update because of the double ternary..\r\n\r\n    public int count7(int n) \r\n    {\r\n        return (n == 0) ? 0 : (n % 10 == 7) ? 1 + count7(n / 10) : count7(n / 10);  \r\n    }","title":"Codingbat- Recursion1- count7","body":"<p>Using one return will likely make it harder to read. If you are counting occurrences in recursion, an easy formula is to create a base case to terminate on, then provide an incremental return, and finally a return that will aid in reaching the base case without incrementing. For example..</p>\n\n<pre><code>public int count7(int n) {\n  if(n == 0) return 0;\n  if(n % 10 == 7) return 1 + count7(n / 10);\n  return count7(n / 10);\n}\n</code></pre>\n\n<p>Using a one liner return like the one below in my opinion is harder to read or update because of the double ternary..</p>\n\n<pre><code>public int count7(int n) \n{\n    return (n == 0) ? 0 : (n % 10 == 7) ? 1 + count7(n / 10) : count7(n / 10);  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5945578,"reputation":909,"user_id":4675176,"accept_rate":33,"display_name":"Oscar Chambers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541357275,"creation_date":1541357275,"answer_id":53144189,"question_id":23136817,"body_markdown":"My solution works backwards from the nth digit to the first digit, by taking the modulus of the input. we add the number of sevens found into the return, for the final output. \r\n\r\nThen checking whether the input is less than 7 can be the next step. If the input is less than 7 then there have never been any 7s in the input to begin with.\r\n    \r\n\r\n    public int count7(int n) {\r\n            int sevens_found = 0;\r\n            if( n % 10 == 7 ) sevens_found ++;\r\n                return ( n &lt; 7) ? 0 : ( n % 10 == 7 ) ? sevens_found + count7 ( n / 10 ) : count7 ( n / 10 );\r\n            }","title":"Codingbat- Recursion1- count7","body":"<p>My solution works backwards from the nth digit to the first digit, by taking the modulus of the input. we add the number of sevens found into the return, for the final output. </p>\n\n<p>Then checking whether the input is less than 7 can be the next step. If the input is less than 7 then there have never been any 7s in the input to begin with.</p>\n\n<pre><code>public int count7(int n) {\n        int sevens_found = 0;\n        if( n % 10 == 7 ) sevens_found ++;\n            return ( n &lt; 7) ? 0 : ( n % 10 == 7 ) ? sevens_found + count7 ( n / 10 ) : count7 ( n / 10 );\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11589941,"reputation":29,"user_id":8490683,"display_name":"Paras Patidar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578785608,"creation_date":1578785608,"answer_id":59699626,"question_id":23136817,"body_markdown":"    #include&lt;bits/stdc++.h&gt;\r\n    using namespace std;\r\n\r\n    int count_occurences(int k){\r\n\t    int r;\r\n        if(k==0){\r\n    \t    return 0;\r\n\t    }\r\n\t    r = k%10;\t\r\n\t    k = k/10;\r\n\t\r\n\t\tif(r!=7){\r\n\t\t\treturn count_occurences(k);\r\n\t\t}\r\n\t    return 1+count_occurences(k);\r\n\t    }\r\n\t\r\n\t\r\n\r\n    int main()\r\n    {\r\n        int x;\r\n        cin&gt;&gt;x;\r\n          cout&lt;&lt;&quot; &quot;&lt;&lt;count_occurences(x);\r\n      \r\n    return 0;\r\n    }\r\n","title":"Codingbat- Recursion1- count7","body":"<pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n\nint count_occurences(int k){\n    int r;\n    if(k==0){\n        return 0;\n    }\n    r = k%10;   \n    k = k/10;\n\n    if(r!=7){\n        return count_occurences(k);\n    }\n    return 1+count_occurences(k);\n    }\n\n\n\nint main()\n{\n    int x;\n    cin&gt;&gt;x;\n      cout&lt;&lt;\" \"&lt;&lt;count_occurences(x);\n\nreturn 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13091356,"reputation":9,"user_id":9458715,"display_name":"Horv&#225;th B&#225;nk"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1600432750,"creation_date":1600432750,"answer_id":63955966,"question_id":23136817,"body_markdown":"    public int count7(int n) {\r\n        int length = 0;\r\n        int counter = 0;\r\n        if ((n / 10) * 10 != n || (n / 10) != 0) {\r\n            if (n % 10 != 7) {\r\n                counter++;\r\n            }\r\n            length += 1 + count7(n / 10);\r\n        }\r\n        return length - counter;\r\n    }","title":"Codingbat- Recursion1- count7","body":"<pre><code>public int count7(int n) {\n    int length = 0;\n    int counter = 0;\n    if ((n / 10) * 10 != n || (n / 10) != 0) {\n        if (n % 10 != 7) {\n            counter++;\n        }\n        length += 1 + count7(n / 10);\n    }\n    return length - counter;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20934951,"reputation":1,"user_id":15380324,"display_name":"Chris Wangsanata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632380343,"creation_date":1622605243,"answer_id":67798605,"question_id":23136817,"body_markdown":"The base case of n == 0 just &quot;breaks&quot; us out of the recursive loop, the n % 10 == 7 allows us to actually count the amount of 7s in an integer, and the return statement iterates through the given argument. \r\n\r\n    public int count7(int n) {\r\n       if (n == 0) \r\n          return 0;\r\n       if (n % 10 == 7) \r\n          return 1 + count7(n / 10);\r\n       return count7(n / 10); \r\n    }\r\n","title":"Codingbat- Recursion1- count7","body":"<p>The base case of n == 0 just &quot;breaks&quot; us out of the recursive loop, the n % 10 == 7 allows us to actually count the amount of 7s in an integer, and the return statement iterates through the given argument.</p>\n<pre><code>public int count7(int n) {\n   if (n == 0) \n      return 0;\n   if (n % 10 == 7) \n      return 1 + count7(n / 10);\n   return count7(n / 10); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23321588,"reputation":1,"user_id":17399386,"display_name":"Kevin Lopez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636914541,"creation_date":1636914541,"answer_id":69965979,"question_id":23136817,"body_markdown":"    public int count7(int n)\r\n    {\r\n        return occurrencesCounting(n, 0);\r\n    }\r\n\r\n    private int occurrencesCounting(int n, int count) \r\n    {\r\n        int counter = n % 10 == 7 ? count + 1 : count;\r\n        if (n / 10 == 0)\r\n        {\r\n    \t    return counter;\r\n        }     \r\n\t    return occurrencesCounting(n / 10, counter );\r\n    }","title":"Codingbat- Recursion1- count7","body":"<pre><code>public int count7(int n)\n{\n    return occurrencesCounting(n, 0);\n}\n\nprivate int occurrencesCounting(int n, int count) \n{\n    int counter = n % 10 == 7 ? count + 1 : count;\n    if (n / 10 == 0)\n    {\n        return counter;\n    }     \n    return occurrencesCounting(n / 10, counter );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9006760,"reputation":11,"user_id":6713154,"display_name":"slinghshot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643139279,"creation_date":1643139279,"answer_id":70854647,"question_id":23136817,"body_markdown":"Here is how I did it. \r\n\r\n    public int count7(int n) {\r\n      return (n==0?0:(count7(n/10)+(n%10==7?1:0)));\r\n    }\r\n\r\nRecursion goes to 0 and it returns 0, when it comes back out checks if each number is 7, returns 1 if it is else 0. It continues adding those until all the way out.\r\n\r\n","title":"Codingbat- Recursion1- count7","body":"<p>Here is how I did it.</p>\n<pre><code>public int count7(int n) {\n  return (n==0?0:(count7(n/10)+(n%10==7?1:0)));\n}\n</code></pre>\n<p>Recursion goes to 0 and it returns 0, when it comes back out checks if each number is 7, returns 1 if it is else 0. It continues adding those until all the way out.</p>\n"}],"owner":{"account_id":4343022,"reputation":53,"user_id":3545804,"display_name":"Yossich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20109,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":44473063,"answer_count":15,"score":3,"last_activity_date":1643139279,"creation_date":1397747278,"question_id":23136817,"body_markdown":"Can anybody help me programming the next problem (taken from [Codingbat][1]- [Recursion1][2]- [count7][3])\r\n\r\nGiven a non-negative `int n,` return the count of the `occurrences of 7 as a digit`, so for example `717 yields 2.` (no loops). Note that `mod (%)` by 10 yields the `rightmost digit (126 % 10 is 6),` while divide (/) by 10 removes the rightmost digit (126 / 10 is 12). \r\n\r\n    count7(717) → 2\r\n    count7(7) → 1\r\n    count7(123) → 0\r\n\r\nThere are some solutions which includes number of &quot;returns&quot;.\r\nI would like to program the problem with only 1 &quot;return&quot;.\r\n\r\n\r\n\r\n  [1]: http://codingbat.com/java\r\n  [2]: http://codingbat.com/java/Recursion-1\r\n  [3]: http://codingbat.com/prob/p101409","title":"Codingbat- Recursion1- count7","body":"<p>Can anybody help me programming the next problem (taken from <a href=\"http://codingbat.com/java\" rel=\"nofollow\">Codingbat</a>- <a href=\"http://codingbat.com/java/Recursion-1\" rel=\"nofollow\">Recursion1</a>- <a href=\"http://codingbat.com/prob/p101409\" rel=\"nofollow\">count7</a>)</p>\n\n<p>Given a non-negative <code>int n,</code> return the count of the <code>occurrences of 7 as a digit</code>, so for example <code>717 yields 2.</code> (no loops). Note that <code>mod (%)</code> by 10 yields the <code>rightmost digit (126 % 10 is 6),</code> while divide (/) by 10 removes the rightmost digit (126 / 10 is 12). </p>\n\n<pre><code>count7(717) → 2\ncount7(7) → 1\ncount7(123) → 0\n</code></pre>\n\n<p>There are some solutions which includes number of \"returns\".\nI would like to program the problem with only 1 \"return\".</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":2103982,"reputation":147335,"user_id":1870803,"accept_rate":100,"display_name":"Yuval Itzchakov"},"score":0,"creation_date":1643099798,"post_id":70839596,"comment_id":125243462,"body_markdown":"The TableEnvironment definition should be created once when bootstrapping the Flink application. Your code example would attempt to create one for each invocation of the ProcessFunction, which is not what you want (I don&#39;t think this will work either, as TableEnvironment is probably not Serializable). Instead, if you want to operate on a Table as a stream, you can call `table.toDataStream` to convert it to a `DataStream[Row]` and then apply your ProcessFunction. See https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/dev/table/data_stream_api/ for more.","body":"The TableEnvironment definition should be created once when bootstrapping the Flink application. Your code example would attempt to create one for each invocation of the ProcessFunction, which is not what you want (I don&#39;t think this will work either, as TableEnvironment is probably not Serializable). Instead, if you want to operate on a Table as a stream, you can call <code>table.toDataStream</code> to convert it to a <code>DataStream[Row]</code> and then apply your ProcessFunction. See <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/dev/table/data_stream_api/\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-release-1.14/docs/dev/&zwnj;&#8203;&hellip;</a> for more."}],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643139139,"creation_date":1643139139,"answer_id":70854609,"question_id":70839596,"body_markdown":"In many cases it does make sense to combine the datastream and table APIs, but it needs to be done in a different way.\r\n\r\nWith both of these APIs, what you&#39;re doing with the API is building up a job graph, which is a description of the data processing pipeline that will be executed by Flink. Each stage, or task, in that graph is executed by a specific operator (e.g., in the case of a ProcessFunction that&#39;s done by the process operator). Some of these operators are implemented in Flink by the datastream API, and others by the table API. You can decide to write parts of your job with the datastream API, and other parts with the table API, but you can&#39;t embed these APIs inside each other.\r\n\r\nWhat your process function can do is transform each list it receives into a bunch of separate events. You could also do this with a flatmap. You can then turn this datastream into a table, and insert it into some data store using a table connector.\r\n\r\nI have [a complete example project](https://github.com/alpinegizmo/flink-mobile-data-usage) that does this sort of thing, and the Flink documentation has [more examples showing how to integrate these two APIs](https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/table/data_stream_api/).","title":"Access Table API from a process function in Flink","body":"<p>In many cases it does make sense to combine the datastream and table APIs, but it needs to be done in a different way.</p>\n<p>With both of these APIs, what you're doing with the API is building up a job graph, which is a description of the data processing pipeline that will be executed by Flink. Each stage, or task, in that graph is executed by a specific operator (e.g., in the case of a ProcessFunction that's done by the process operator). Some of these operators are implemented in Flink by the datastream API, and others by the table API. You can decide to write parts of your job with the datastream API, and other parts with the table API, but you can't embed these APIs inside each other.</p>\n<p>What your process function can do is transform each list it receives into a bunch of separate events. You could also do this with a flatmap. You can then turn this datastream into a table, and insert it into some data store using a table connector.</p>\n<p>I have <a href=\"https://github.com/alpinegizmo/flink-mobile-data-usage\" rel=\"nofollow noreferrer\">a complete example project</a> that does this sort of thing, and the Flink documentation has <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/table/data_stream_api/\" rel=\"nofollow noreferrer\">more examples showing how to integrate these two APIs</a>.</p>\n"}],"owner":{"account_id":24041484,"reputation":1,"user_id":18021073,"display_name":"Gabigoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643139139,"creation_date":1643053366,"question_id":70839596,"body_markdown":"I am new with Flink and I am trying to learn.\r\nI am trying to use the Table API within a process function after I aggregate some row so that I can do and insert based on specific criteria. The goal is to process a tuple with table_name and list of rows to insert.\r\n\r\nIs that an acceptable pattern? This is kind of an example\r\n\r\n```\r\ngroupped.process(new ProcessFunction&lt;Tuple2&lt;String, List&lt;JsonObject&gt;&gt;, Object&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void processElement(Tuple2&lt;String, List&lt;JsonObject&gt;&gt; input,\r\n\t\t\t\t\t\t\t\t\t   ProcessFunction&lt;Tuple2&lt;String, List&lt;JsonObject&gt;&gt;, Object&gt;.Context context,\r\n\t\t\t\t\t\t\t\t\t   Collector&lt;Object&gt; collector) throws Exception {\r\n\r\n\t\t\t\tString table = input.f0;\r\n\t\t\t\tList&lt;JsonObject&gt; jsonrows = input.f1;\r\n\r\n\t\t\t\tTableEnvironment tableEnv = TableEnvironment.create(EnvironmentSettings.inBatchMode());\r\n\r\n                PROCESS LOGIC HERE\r\n                ....\r\n\r\n\r\n            }\r\n    }\r\n\r\n```","title":"Access Table API from a process function in Flink","body":"<p>I am new with Flink and I am trying to learn.\nI am trying to use the Table API within a process function after I aggregate some row so that I can do and insert based on specific criteria. The goal is to process a tuple with table_name and list of rows to insert.</p>\n<p>Is that an acceptable pattern? This is kind of an example</p>\n<pre><code>groupped.process(new ProcessFunction&lt;Tuple2&lt;String, List&lt;JsonObject&gt;&gt;, Object&gt;() {\n            @Override\n            public void processElement(Tuple2&lt;String, List&lt;JsonObject&gt;&gt; input,\n                                       ProcessFunction&lt;Tuple2&lt;String, List&lt;JsonObject&gt;&gt;, Object&gt;.Context context,\n                                       Collector&lt;Object&gt; collector) throws Exception {\n\n                String table = input.f0;\n                List&lt;JsonObject&gt; jsonrows = input.f1;\n\n                TableEnvironment tableEnv = TableEnvironment.create(EnvironmentSettings.inBatchMode());\n\n                PROCESS LOGIC HERE\n                ....\n\n\n            }\n    }\n\n</code></pre>\n"},{"tags":["java","dictionary","trie"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1643118886,"post_id":70849821,"comment_id":125250670,"body_markdown":"You can *decide* to ignore it. Nothing in a trie treats any value special.","body":"You can <i>decide</i> to ignore it. Nothing in a trie treats any value special."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643135530,"creation_date":1643135530,"answer_id":70853877,"question_id":70849821,"body_markdown":"The problem is that you define the index for the `children` array with the expression `wordName.charAt(i) - &#39;a&#39;`. But the ordinal value of a space is much smaller than that of `&#39;a&#39;`, so that becomes a negative value.\r\n\r\nInstead, you could define the conversion from character to index with the help of a constant string:\r\n\r\n    private static final String ALPHABET = &quot;abcdefghijklmnopqrstuvwxyz &quot;;\r\n\r\nNotice the space after the `z`. You could add more characters, if you want to support other characters like a comma, a point, ... capital letters, ...etc. **But**, the length of this string should not be greater than the length of the `children` array.\r\n\r\nThen, in your function, you can use that string as follows:\r\n\r\n        int key = ALPHABET.indexOf(wordName.charAt(i));\r\n        if( current.children[key] == null)\r\n            current.children[key] = new Node(wordName.charAt(i));\r\n        current = current.children[key];\r\n\r\n\r\n","title":"How do I consider a space character in a trie?","body":"<p>The problem is that you define the index for the <code>children</code> array with the expression <code>wordName.charAt(i) - 'a'</code>. But the ordinal value of a space is much smaller than that of <code>'a'</code>, so that becomes a negative value.</p>\n<p>Instead, you could define the conversion from character to index with the help of a constant string:</p>\n<pre><code>private static final String ALPHABET = &quot;abcdefghijklmnopqrstuvwxyz &quot;;\n</code></pre>\n<p>Notice the space after the <code>z</code>. You could add more characters, if you want to support other characters like a comma, a point, ... capital letters, ...etc. <strong>But</strong>, the length of this string should not be greater than the length of the <code>children</code> array.</p>\n<p>Then, in your function, you can use that string as follows:</p>\n<pre><code>    int key = ALPHABET.indexOf(wordName.charAt(i));\n    if( current.children[key] == null)\n        current.children[key] = new Node(wordName.charAt(i));\n    current = current.children[key];\n</code></pre>\n"}],"owner":{"account_id":24047706,"reputation":13,"user_id":18026551,"display_name":"Mahshid Saedi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70853877,"answer_count":1,"score":-1,"last_activity_date":1643139114,"creation_date":1643118779,"question_id":70849821,"body_markdown":"For example, I want to insert &quot;a few&quot; in the trie, but I do not know how to do it:\r\n\r\n    public void insertWord(String wordName){\r\n        for (int i = 0; i &lt; wordName.length(); i++){\r\n            if( current.children[wordName.charAt(i) - &#39;a&#39;] == null)\r\n                current.children[wordName.charAt(i) - &#39;a&#39;] = new Node(wordName.charAt(i));\r\n            current = current.children[wordName.charAt(i) - &#39;a&#39;];\r\n        }\r\n    }\r\n\r\nI get this error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index -65 out of bounds for length 29\r\n\r\nThe length of array is equal to 29.\r\n\r\nHow can I solve this?\r\n","title":"How do I consider a space character in a trie?","body":"<p>For example, I want to insert &quot;a few&quot; in the trie, but I do not know how to do it:</p>\n<pre><code>public void insertWord(String wordName){\n    for (int i = 0; i &lt; wordName.length(); i++){\n        if( current.children[wordName.charAt(i) - 'a'] == null)\n            current.children[wordName.charAt(i) - 'a'] = new Node(wordName.charAt(i));\n        current = current.children[wordName.charAt(i) - 'a'];\n    }\n}\n</code></pre>\n<p>I get this error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index -65 out of bounds for length 29</p>\n</blockquote>\n<p>The length of array is equal to 29.</p>\n<p>How can I solve this?</p>\n"},{"tags":["java","maven","jenkins","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1642930222,"post_id":70804082,"comment_id":125200061,"body_markdown":"I recommend to configure different repositories in on of your repository managers and configuration this only one in your settings.xml file ... Furthermore keep in mind that by default SNAPSHOT&#39;s will be deleted after an amount of time","body":"I recommend to configure different repositories in on of your repository managers and configuration this only one in your settings.xml file ... Furthermore keep in mind that by default SNAPSHOT&#39;s will be deleted after an amount of time"},{"owner":{"account_id":4826077,"reputation":805,"user_id":3895513,"display_name":"being_ethereal"},"score":0,"creation_date":1643003039,"post_id":70804082,"comment_id":125215240,"body_markdown":"@khmarbaise no changes required in settings.xml as I as mentioned &quot;This works when I build the project locally&quot;","body":"@khmarbaise no changes required in settings.xml as I as mentioned &quot;This works when I build the project locally&quot;"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643009917,"post_id":70804082,"comment_id":125216692,"body_markdown":"Maybe you your Jenkins there is a settings.xml (config file provider plugin)..","body":"Maybe you your Jenkins there is a settings.xml (config file provider plugin).."},{"owner":{"account_id":4826077,"reputation":805,"user_id":3895513,"display_name":"being_ethereal"},"score":0,"creation_date":1643300883,"post_id":70804082,"comment_id":125308569,"body_markdown":"I have made no changes in settings xml at local, should work at Jenkins too.","body":"I have made no changes in settings xml at local, should work at Jenkins too."}],"owner":{"account_id":4826077,"reputation":805,"user_id":3895513,"display_name":"being_ethereal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643138910,"creation_date":1642780510,"question_id":70804082,"body_markdown":"Have mentioned 2 different repositories in pom like following, for multiple dependencies from different artifactories.\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jfrog-repo1&lt;/id&gt;\r\n            &lt;url&gt;https://my.jfrog.artifactory.cmpny.com/artifactory/snapshots&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;nexus-repo1&lt;/id&gt;\r\n            &lt;url&gt;https://my.nexus.artifactory.cmpny.com/artifactory/snapshots&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\nThis works when I build the project locally, but doesn&#39;t work on the Jenkins setup by my company. Somehow it is searching for dependency1 in repo2.\r\n\r\n&gt; Failed to execute goal on project my-project: Could not resolve dependencies for project com.my.company:my-project:jar:0.0.1-SNAPSHOT: Could not find artifact com.my.cmpny.newproject:my-dependency:jar:0.0.1-SNAPSHOT in snapshots (https://my.nexus.artifactory.cmpny.com/artifactory/snapshots).\r\n\r\nThis also works in another projects where we mention any one repository in pom.\r\n","title":"Jenkins Could not find artifact from pom repositories","body":"<p>Have mentioned 2 different repositories in pom like following, for multiple dependencies from different artifactories.</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;jfrog-repo1&lt;/id&gt;\n        &lt;url&gt;https://my.jfrog.artifactory.cmpny.com/artifactory/snapshots&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;nexus-repo1&lt;/id&gt;\n        &lt;url&gt;https://my.nexus.artifactory.cmpny.com/artifactory/snapshots&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>This works when I build the project locally, but doesn't work on the Jenkins setup by my company. Somehow it is searching for dependency1 in repo2.</p>\n<blockquote>\n<p>Failed to execute goal on project my-project: Could not resolve dependencies for project com.my.company:my-project:jar:0.0.1-SNAPSHOT: Could not find artifact com.my.cmpny.newproject:my-dependency:jar:0.0.1-SNAPSHOT in snapshots (<a href=\"https://my.nexus.artifactory.cmpny.com/artifactory/snapshots\" rel=\"nofollow noreferrer\">https://my.nexus.artifactory.cmpny.com/artifactory/snapshots</a>).</p>\n</blockquote>\n<p>This also works in another projects where we mention any one repository in pom.</p>\n"},{"tags":["java","csv","apache-commons"],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643138764,"creation_date":1643138036,"answer_id":70854387,"question_id":70853399,"body_markdown":"### Naming is a bit misleading\r\n(Both: your variables and their method-name)\r\n\r\nA parser (even of class `CSVParser`) is a `parser`.\r\n\r\nThe `records` are a collection of records, that can be obtained using `parser.getRecords()` - as a `List` or `Iterable`.\r\n\r\nActually, the method is more than an [idempotent](https://en.wikipedia.org/wiki/Idempotence) _getter_. So `getRecords()` should be renamed to `nextRecords()` to be semantically exact &#128521;️.\r\n\r\nNote the docs emphasize the *streaming* character of [`getRecords()`](https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html#getRecords--):\r\n\r\n&gt;  The returned content starts at the **current parse-position** in the stream.\r\n\r\nIn conclusion, `getRecords()` advances the parse-position with each reading invocation. Once you read the records for logging as `“Size:”+records.getRecords()`, the position in CSV stream advances and may be at end-of-file (EOF) already.\r\n\r\nWhen you want the size or count of records, use the header-names as approximation: [`parser.getHeaderNames().size()`](https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html#getHeaderNames--).\r\n\r\n### See also\r\n* Java Developer Central: [Read CSV files using Apache Commons CSV](https://javadevcentral.com/read-csv-files-using-apache-commons-csv), tutorial","title":"CSVParser.getRecords() yields zero results","body":"<h3>Naming is a bit misleading</h3>\n<p>(Both: your variables and their method-name)</p>\n<p>A parser (even of class <code>CSVParser</code>) is a <code>parser</code>.</p>\n<p>The <code>records</code> are a collection of records, that can be obtained using <code>parser.getRecords()</code> - as a <code>List</code> or <code>Iterable</code>.</p>\n<p>Actually, the method is more than an <a href=\"https://en.wikipedia.org/wiki/Idempotence\" rel=\"nofollow noreferrer\">idempotent</a> <em>getter</em>. So <code>getRecords()</code> should be renamed to <code>nextRecords()</code> to be semantically exact 😉️.</p>\n<p>Note the docs emphasize the <em>streaming</em> character of <a href=\"https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html#getRecords--\" rel=\"nofollow noreferrer\"><code>getRecords()</code></a>:</p>\n<blockquote>\n<p>The returned content starts at the <strong>current parse-position</strong> in the stream.</p>\n</blockquote>\n<p>In conclusion, <code>getRecords()</code> advances the parse-position with each reading invocation. Once you read the records for logging as <code>“Size:”+records.getRecords()</code>, the position in CSV stream advances and may be at end-of-file (EOF) already.</p>\n<p>When you want the size or count of records, use the header-names as approximation: <a href=\"https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html#getHeaderNames--\" rel=\"nofollow noreferrer\"><code>parser.getHeaderNames().size()</code></a>.</p>\n<h3>See also</h3>\n<ul>\n<li>Java Developer Central: <a href=\"https://javadevcentral.com/read-csv-files-using-apache-commons-csv\" rel=\"nofollow noreferrer\">Read CSV files using Apache Commons CSV</a>, tutorial</li>\n</ul>\n"}],"owner":{"account_id":2393236,"reputation":123,"user_id":2092658,"display_name":"SriniMurthy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70854387,"answer_count":1,"score":1,"last_activity_date":1643138764,"creation_date":1643133143,"question_id":70853399,"body_markdown":"I have been using apache.commons.CSVParser for a while without any issues. I know this sounds silly like the dog ate my homework but, the parser doesn’t yield any records suddenly for the past two days now. Records size shows up with a non zero value in the debugger but the list returned from *CSVParser.getRecords()* is zero. Elsewhere I had read the correct way to access the list is to call the *size()* method on the getRecords(), which I have done.\r\nTo reemphasize, the code was working fine.\r\nI was using *commons:commons-csv:jar:1.5* for a while, it stopped working and I tried upgrading to 1.9.0 and the behavior is still the same\r\n\r\n```\r\nCSVParser records = CSVFormat.DEFAULT.withDelimiter(DELIMITER).withHeader(blah).\r\n                  withFirstRecordAsHeader().\r\n                  parse(fileReader);\r\nlog.info(“Size:”+records.getRecords()); //shows up as 125, say \r\nList&lt;CSVRecord&gt; recordList = records.getRecords();//0 size!\r\n```\r\n\r\nI have written some test code to validate my sanity, and this code works fine\r\n``` \r\nFileReader fReader = new FileReader(&quot;/tmp/tempexport.csv&quot;);\r\nCSVParser records = \r\n           CSVFormat.DEFAULT.withDelimiter(DELIMITER).\r\n             withHeader(&quot;&quot;).withFirstRecordAsHeader().parse(fReader);\r\nFile file = new File(&quot;/tmp/tempexport.csv&quot;);\r\nSystem.out.println(Files.lines(file.toPath()).count());\r\nfor (CSVRecord record: records.getRecords()) {\r\n            System.out.println(record.get(0)  + \r\n &quot;::&quot;+record.get(1));\r\n```\r\n \r\n\r\n","title":"CSVParser.getRecords() yields zero results","body":"<p>I have been using apache.commons.CSVParser for a while without any issues. I know this sounds silly like the dog ate my homework but, the parser doesn’t yield any records suddenly for the past two days now. Records size shows up with a non zero value in the debugger but the list returned from <em>CSVParser.getRecords()</em> is zero. Elsewhere I had read the correct way to access the list is to call the <em>size()</em> method on the getRecords(), which I have done.\nTo reemphasize, the code was working fine.\nI was using <em>commons:commons-csv:jar:1.5</em> for a while, it stopped working and I tried upgrading to 1.9.0 and the behavior is still the same</p>\n<pre><code>CSVParser records = CSVFormat.DEFAULT.withDelimiter(DELIMITER).withHeader(blah).\n                  withFirstRecordAsHeader().\n                  parse(fileReader);\nlog.info(“Size:”+records.getRecords()); //shows up as 125, say \nList&lt;CSVRecord&gt; recordList = records.getRecords();//0 size!\n</code></pre>\n<p>I have written some test code to validate my sanity, and this code works fine</p>\n<pre><code>FileReader fReader = new FileReader(&quot;/tmp/tempexport.csv&quot;);\nCSVParser records = \n           CSVFormat.DEFAULT.withDelimiter(DELIMITER).\n             withHeader(&quot;&quot;).withFirstRecordAsHeader().parse(fReader);\nFile file = new File(&quot;/tmp/tempexport.csv&quot;);\nSystem.out.println(Files.lines(file.toPath()).count());\nfor (CSVRecord record: records.getRecords()) {\n            System.out.println(record.get(0)  + \n &quot;::&quot;+record.get(1));\n</code></pre>\n"},{"tags":["java","spring","rest","spring-data-jpa","spring-data-rest"],"comments":[{"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"score":0,"creation_date":1485179500,"post_id":41807631,"comment_id":70803731,"body_markdown":"You can&#39;t guarantee the order of the JSon, even if the object was ordered before deserialisation.","body":"You can&#39;t guarantee the order of the JSon, even if the object was ordered before deserialisation."},{"owner":{"account_id":349900,"reputation":469,"user_id":685453,"accept_rate":11,"display_name":"uiii"},"score":2,"creation_date":1485179986,"post_id":41807631,"comment_id":70804079,"body_markdown":"I don&#39;t understand what do you mean by that. It is a **list** of markets, so it must quarantee the order.","body":"I don&#39;t understand what do you mean by that. It is a <b>list</b> of markets, so it must quarantee the order."},{"owner":{"account_id":6539693,"reputation":1278,"user_id":5057758,"accept_rate":50,"display_name":"Kadzhaev Marat"},"score":0,"creation_date":1488892060,"post_id":41807631,"comment_id":72424338,"body_markdown":"@uiii, have you found a solution of this problem?","body":"@uiii, have you found a solution of this problem?"},{"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"score":1,"creation_date":1494649175,"post_id":41807631,"comment_id":74930844,"body_markdown":"Any update here i am facing same issue.","body":"Any update here i am facing same issue."},{"owner":{"account_id":1485013,"reputation":91,"user_id":1393467,"display_name":"jensfischerhh"},"score":0,"creation_date":1521030643,"post_id":41807631,"comment_id":85558030,"body_markdown":"We were facing the same problem (using Spring Boot 1.5.9 with Spring Data REST 2.6.9). The nested property that we tried to use for sorting was covered with a Jackson Mixin containing `@JsonProperty(access = READ_ONLY)`. Removing this annotation lead to proper sorting behaviour for this nested property.","body":"We were facing the same problem (using Spring Boot 1.5.9 with Spring Data REST 2.6.9). The nested property that we tried to use for sorting was covered with a Jackson Mixin containing <code>@JsonProperty(access = READ_ONLY)</code>. Removing this annotation lead to proper sorting behaviour for this nested property."},{"owner":{"account_id":10673885,"reputation":286,"user_id":7858114,"display_name":"sb9"},"score":0,"creation_date":1580515251,"post_id":41807631,"comment_id":106135539,"body_markdown":"Did you ever figure this out? @uiii","body":"Did you ever figure this out? @uiii"}],"answers":[{"tags":[],"owner":{"account_id":5232707,"reputation":372,"user_id":4182415,"display_name":"Alexandru Hodis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485181541,"creation_date":1485181541,"answer_id":41808603,"question_id":41807631,"body_markdown":"Your `MarketRepository` could have a `named query` like :\r\n\r\n    public interface MarketRepository exten PagingAndSortingRepository&lt;Market, Long&gt; {\r\n        Page&lt;Market&gt; findAllByEventByName(String name, Page pageable);\r\n    }\r\n\r\nYou can get your `name` param from the url with `@RequestParam`","title":"Spring JPA REST sort by nested property","body":"<p>Your <code>MarketRepository</code> could have a <code>named query</code> like :</p>\n\n<pre><code>public interface MarketRepository exten PagingAndSortingRepository&lt;Market, Long&gt; {\n    Page&lt;Market&gt; findAllByEventByName(String name, Page pageable);\n}\n</code></pre>\n\n<p>You can get your <code>name</code> param from the url with <code>@RequestParam</code></p>\n"},{"tags":[],"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1494652761,"creation_date":1494652761,"answer_id":43949499,"question_id":41807631,"body_markdown":"Just **downgrade** `spring.data.‌​rest.webmvc` to `Hopper` release \r\n\r\n    &lt;spring.data.jpa.version&gt;1.10.10.RELEASE&lt;/spring.data.jpa.ve‌​rsion&gt; \r\n    &lt;spring.data.‌​rest.webmvc.version&gt;‌​2.5.10.RELEASE&lt;/spri‌​ng.data.rest.webmvc.‌​version&gt;\r\n\r\n    projection=expanded&amp;sort=event.name,asc // works\r\n    projection=expanded&amp;sort=event_name,asc // this works too\r\n\r\nThanks [@Alan Hay][1] comment on [this question][2]\r\n\r\n&gt; Ordering by nested properties works fine for me in the Hopper release but I did experience the following bug in an RC version of the Ingalls release.bug in an RC version of the Ingalls release. This is reported as being fixed,\r\n\r\n- [jira issue - Sorting by an embedded property no longer works in Ingalls RC1][3]\r\n\r\n**BTW**, I tried [`v3.0.0.M3`](http://docs.spring.io/spring-data/rest/docs/3.0.0.M3/changelog.txt)  that reported that fixed but not working with me.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1356423/alan-hay\r\n  [2]: https://stackoverflow.com/q/42262846/1283715\r\n  [3]: https://jira.spring.io/browse/DATAREST-976?jql=text%20~%20%22sort%20nested%22%20ORDER%20BY%20created%20DESC","title":"Spring JPA REST sort by nested property","body":"<p>Just <strong>downgrade</strong> <code>spring.data.‌​rest.webmvc</code> to <code>Hopper</code> release </p>\n\n<pre><code>&lt;spring.data.jpa.version&gt;1.10.10.RELEASE&lt;/spring.data.jpa.ve‌​rsion&gt; \n&lt;spring.data.‌​rest.webmvc.version&gt;‌​2.5.10.RELEASE&lt;/spri‌​ng.data.rest.webmvc.‌​version&gt;\n\nprojection=expanded&amp;sort=event.name,asc // works\nprojection=expanded&amp;sort=event_name,asc // this works too\n</code></pre>\n\n<p>Thanks <a href=\"https://stackoverflow.com/users/1356423/alan-hay\">@Alan Hay</a> comment on <a href=\"https://stackoverflow.com/q/42262846/1283715\">this question</a></p>\n\n<blockquote>\n  <p>Ordering by nested properties works fine for me in the Hopper release but I did experience the following bug in an RC version of the Ingalls release.bug in an RC version of the Ingalls release. This is reported as being fixed,</p>\n</blockquote>\n\n<ul>\n<li><a href=\"https://jira.spring.io/browse/DATAREST-976?jql=text%20~%20%22sort%20nested%22%20ORDER%20BY%20created%20DESC\" rel=\"nofollow noreferrer\">jira issue - Sorting by an embedded property no longer works in Ingalls RC1</a></li>\n</ul>\n\n<p><strong>BTW</strong>, I tried <a href=\"http://docs.spring.io/spring-data/rest/docs/3.0.0.M3/changelog.txt\" rel=\"nofollow noreferrer\"><code>v3.0.0.M3</code></a>  that reported that fixed but not working with me.</p>\n"},{"tags":[],"owner":{"account_id":2084279,"reputation":1181,"user_id":1855579,"accept_rate":67,"display_name":"Vlad Dinulescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581678760,"creation_date":1581678760,"answer_id":60225207,"question_id":41807631,"body_markdown":"This [page][1] has an idea that works. The idea is to use a controller on top of the repository, and apply the projection separately. \r\n\r\nHere&#39;s a piece of code that works (SpringBoot 2.2.4)\r\n\r\n\r\n    import ro.vdinulescu.AssignmentsOverviewProjection;\r\n    import ro.vdinulescu.repository.AssignmentRepository;\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.PageRequest;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.data.domain.Sort;\r\n    import org.springframework.data.projection.ProjectionFactory;\r\n    import org.springframework.data.web.PagedResourcesAssembler;\r\n    import org.springframework.hateoas.EntityModel;\r\n    import org.springframework.hateoas.PagedModel;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RepositoryRestController\r\n    public class AssignmentController {\r\n        @Autowired\r\n        private AssignmentRepository assignmentRepository;\r\n    \r\n        @Autowired\r\n        private ProjectionFactory projectionFactory;\r\n    \r\n        @Autowired\r\n        private PagedResourcesAssembler&lt;AssignmentsOverviewProjection&gt; resourceAssembler;\r\n    \r\n        @GetMapping(&quot;/assignments&quot;)   \r\n        public PagedModel&lt;EntityModel&lt;AssignmentsOverviewProjection&gt;&gt; listAssignments(@RequestParam(required = false) String search,\r\n                                                                                      @RequestParam(required = false) String sort,\r\n                                                                                      Pageable pageable) {\r\n            // Spring creates the Pageable object correctly for simple properties,\r\n            // but for nested properties we need to fix it manually   \r\n            pageable = fixPageableSort(pageable, sort, Set.of(&quot;client.firstName&quot;, &quot;client.age&quot;));\r\n    \r\n            Page&lt;Assignment&gt; assignments = assignmentRepository.filter(search, pageable);\r\n            Page&lt;AssignmentsOverviewProjection&gt; projectedAssignments = assignments.map(assignment -&gt; projectionFactory.createProjection(\r\n                    AssignmentsOverviewProjection.class,\r\n                    assignment));\r\n    \r\n            return resourceAssembler.toModel(projectedAssignments);\r\n        }\r\n    \r\n        private Pageable fixPageableSort(Pageable pageable, String sortStr, Set&lt;String&gt; allowedProperties) {\r\n            if (!pageable.getSort().equals(Sort.unsorted())) {\r\n                return pageable;\r\n            }\r\n    \r\n            Sort sort = parseSortString(sortStr, allowedProperties);\r\n            if (sort == null) {\r\n                return pageable;\r\n            }\r\n            \r\n            return PageRequest.of(pageable.getPageNumber(), pageable.getPageSize(), sort);\r\n        }\r\n    \r\n        private Sort parseSortString(String sortStr, Set&lt;String&gt; allowedProperties) {\r\n            if (StringUtils.isBlank(sortStr)) {\r\n                return null;\r\n            }\r\n            \r\n            String[] split = sortStr.split(&quot;,&quot;);\r\n            if (split.length == 1) {\r\n                if (!allowedProperties.contains(split[0])) {\r\n                    return null;\r\n                }\r\n                return Sort.by(split[0]);\r\n            } else if (split.length == 2) {\r\n                if (!allowedProperties.contains(split[0])) {\r\n                    return null;\r\n                }\r\n                return Sort.by(Sort.Direction.fromString(split[1]), split[0]);\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://inneka.com/programming/spring/spring-data-rest-sort-by-nested-property/","title":"Spring JPA REST sort by nested property","body":"<p>This <a href=\"https://inneka.com/programming/spring/spring-data-rest-sort-by-nested-property/\" rel=\"nofollow noreferrer\">page</a> has an idea that works. The idea is to use a controller on top of the repository, and apply the projection separately. </p>\n\n<p>Here's a piece of code that works (SpringBoot 2.2.4)</p>\n\n<pre><code>import ro.vdinulescu.AssignmentsOverviewProjection;\nimport ro.vdinulescu.repository.AssignmentRepository;\nimport org.apache.commons.lang3.StringUtils;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\nimport org.springframework.data.projection.ProjectionFactory;\nimport org.springframework.data.web.PagedResourcesAssembler;\nimport org.springframework.hateoas.EntityModel;\nimport org.springframework.hateoas.PagedModel;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RepositoryRestController\npublic class AssignmentController {\n    @Autowired\n    private AssignmentRepository assignmentRepository;\n\n    @Autowired\n    private ProjectionFactory projectionFactory;\n\n    @Autowired\n    private PagedResourcesAssembler&lt;AssignmentsOverviewProjection&gt; resourceAssembler;\n\n    @GetMapping(\"/assignments\")   \n    public PagedModel&lt;EntityModel&lt;AssignmentsOverviewProjection&gt;&gt; listAssignments(@RequestParam(required = false) String search,\n                                                                                  @RequestParam(required = false) String sort,\n                                                                                  Pageable pageable) {\n        // Spring creates the Pageable object correctly for simple properties,\n        // but for nested properties we need to fix it manually   \n        pageable = fixPageableSort(pageable, sort, Set.of(\"client.firstName\", \"client.age\"));\n\n        Page&lt;Assignment&gt; assignments = assignmentRepository.filter(search, pageable);\n        Page&lt;AssignmentsOverviewProjection&gt; projectedAssignments = assignments.map(assignment -&gt; projectionFactory.createProjection(\n                AssignmentsOverviewProjection.class,\n                assignment));\n\n        return resourceAssembler.toModel(projectedAssignments);\n    }\n\n    private Pageable fixPageableSort(Pageable pageable, String sortStr, Set&lt;String&gt; allowedProperties) {\n        if (!pageable.getSort().equals(Sort.unsorted())) {\n            return pageable;\n        }\n\n        Sort sort = parseSortString(sortStr, allowedProperties);\n        if (sort == null) {\n            return pageable;\n        }\n\n        return PageRequest.of(pageable.getPageNumber(), pageable.getPageSize(), sort);\n    }\n\n    private Sort parseSortString(String sortStr, Set&lt;String&gt; allowedProperties) {\n        if (StringUtils.isBlank(sortStr)) {\n            return null;\n        }\n\n        String[] split = sortStr.split(\",\");\n        if (split.length == 1) {\n            if (!allowedProperties.contains(split[0])) {\n                return null;\n            }\n            return Sort.by(split[0]);\n        } else if (split.length == 2) {\n            if (!allowedProperties.contains(split[0])) {\n                return null;\n            }\n            return Sort.by(Sort.Direction.fromString(split[1]), split[0]);\n        } else {\n            return null;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1241031,"reputation":1797,"user_id":1203628,"accept_rate":75,"display_name":"pdorgambide"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588698237,"creation_date":1588679157,"answer_id":61612366,"question_id":41807631,"body_markdown":"From Spring Data REST documentation: \r\n\r\n&gt; Sorting by linkable associations (that is, links to top-level resources) is not supported.\r\n\r\nhttps://docs.spring.io/spring-data/rest/docs/current/reference/html/#paging-and-sorting.sorting\r\n\r\nAn alternative that I found was use `@ResResource(exported=false)`. \r\nThis is not valid (expecially for legacy Spring Data REST projects) because avoid that the resource/entity will be loaded HTTP links: \r\n\r\n    JacksonBinder\r\n    BeanDeserializerBuilder updateBuilder throws\r\n     com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of &#39; com...&#39; no String-argument constructor/factory method to deserialize from String value\r\n\r\nI tried activate sort by linkable associations with help of **annotations** but without success because we need always need override the  `mappPropertyPath` method of `JacksonMappingAwareSortTranslator.SortTranslator` detect the annotation:\r\n\r\n\t\t\t\tif (associations.isLinkableAssociation(persistentProperty)) {\r\n\t\t\t\t\tif(!persistentProperty.isAnnotationPresent(SortByLinkableAssociation.class)) {\r\n\t\t\t\t\t\treturn Collections.emptyList();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n**Annotation**\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.FIELD)\r\n    public @interface SortByLinkableAssociation {\r\n    }\r\n\r\n\r\nAt your project incluide **@SortByLinkableAssociation** at linkable associations that whats sort.\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @SortByLinkableAssociation\r\n    private Event event;\r\n\r\nReally I didn&#39;t find a clear and success solution to this issue but decide to expose it to let think about it or even Spring team take in consideration to include at nexts releases.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring JPA REST sort by nested property","body":"<p>From Spring Data REST documentation: </p>\n\n<blockquote>\n  <p>Sorting by linkable associations (that is, links to top-level resources) is not supported.</p>\n</blockquote>\n\n<p><a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#paging-and-sorting.sorting\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/rest/docs/current/reference/html/#paging-and-sorting.sorting</a></p>\n\n<p>An alternative that I found was use <code>@ResResource(exported=false)</code>. \nThis is not valid (expecially for legacy Spring Data REST projects) because avoid that the resource/entity will be loaded HTTP links: </p>\n\n<pre><code>JacksonBinder\nBeanDeserializerBuilder updateBuilder throws\n com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of ' com...' no String-argument constructor/factory method to deserialize from String value\n</code></pre>\n\n<p>I tried activate sort by linkable associations with help of <strong>annotations</strong> but without success because we need always need override the  <code>mappPropertyPath</code> method of <code>JacksonMappingAwareSortTranslator.SortTranslator</code> detect the annotation:</p>\n\n<pre><code>            if (associations.isLinkableAssociation(persistentProperty)) {\n                if(!persistentProperty.isAnnotationPresent(SortByLinkableAssociation.class)) {\n                    return Collections.emptyList();\n                }\n            }\n</code></pre>\n\n<p><strong>Annotation</strong></p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface SortByLinkableAssociation {\n}\n</code></pre>\n\n<p>At your project incluide <strong>@SortByLinkableAssociation</strong> at linkable associations that whats sort.</p>\n\n<pre><code>@ManyToOne(fetch = FetchType.EAGER)\n@SortByLinkableAssociation\nprivate Event event;\n</code></pre>\n\n<p>Really I didn't find a clear and success solution to this issue but decide to expose it to let think about it or even Spring team take in consideration to include at nexts releases.</p>\n"},{"tags":[],"owner":{"account_id":8945558,"reputation":249,"user_id":6673169,"display_name":"Andriy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613580272,"creation_date":1612953077,"answer_id":66135148,"question_id":41807631,"body_markdown":"We had a case when we wanted to sort by fields which were in  linked entity (it was one-to-one relationship). Initially, we used example based on https://stackoverflow.com/a/54517551 to search by linked fields.\r\n\r\nSo the workaround/hack in our case was to supply custom sort and pageable parameters.\r\nBelow is the example:\r\n\r\n    @org.springframework.data.rest.webmvc.RepositoryRestController\r\n    public class FilteringController {\r\n\r\n    private final EntityRepository repository;\r\n\r\n    @RequestMapping(value = &quot;/entities&quot;,\r\n            method = RequestMethod.GET)\r\n\r\n    public ResponseEntity&lt;?&gt; filter(\r\n            Entity entity,\r\n            org.springframework.data.domain.Pageable page,\r\n            org.springframework.data.web.PagedResourcesAssembler assembler,\r\n            org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler entityAssembler,\r\n            org.springframework.web.context.request.ServletWebRequest webRequest\r\n    ) {\r\n\r\n        Method enclosingMethod = new Object() {}.getClass().getEnclosingMethod();\r\n        Sort sort = new org.springframework.data.web.SortHandlerMethodArgumentResolver().resolveArgument(\r\n                new org.springframework.core.MethodParameter(enclosingMethod, 0), null, webRequest, null\r\n        );\r\n\r\n        ExampleMatcher matcher = ExampleMatcher.matching()\r\n                .withIgnoreCase()\r\n                .withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING);\r\n        Example example = Example.of(entity, matcher);\r\n\r\n        Page&lt;?&gt; result = this.repository.findAll(example, PageRequest.of(\r\n                page.getPageNumber(),\r\n                page.getPageSize(),\r\n                sort\r\n        ));\r\n        PagedModel search = assembler.toModel(result, entityAssembler);\r\n        search.add(linkTo(FilteringController.class)\r\n                .slash(&quot;entities/search&quot;)\r\n                .withRel(&quot;search&quot;));\r\n        return ResponseEntity.ok(search);\r\n    }\r\n    }\r\nUsed version of Spring boot: 2.3.8.RELEASE\r\n\r\nWe had also the repository for Entity and used projection:\r\n\r\n    @RepositoryRestResource\r\n    public interface JpaEntityRepository extends JpaRepository&lt;Entity, Long&gt; {\r\n    }\r\n\r\n","title":"Spring JPA REST sort by nested property","body":"<p>We had a case when we wanted to sort by fields which were in  linked entity (it was one-to-one relationship). Initially, we used example based on <a href=\"https://stackoverflow.com/a/54517551\">https://stackoverflow.com/a/54517551</a> to search by linked fields.</p>\n<p>So the workaround/hack in our case was to supply custom sort and pageable parameters.\nBelow is the example:</p>\n<pre><code>@org.springframework.data.rest.webmvc.RepositoryRestController\npublic class FilteringController {\n\nprivate final EntityRepository repository;\n\n@RequestMapping(value = &quot;/entities&quot;,\n        method = RequestMethod.GET)\n\npublic ResponseEntity&lt;?&gt; filter(\n        Entity entity,\n        org.springframework.data.domain.Pageable page,\n        org.springframework.data.web.PagedResourcesAssembler assembler,\n        org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler entityAssembler,\n        org.springframework.web.context.request.ServletWebRequest webRequest\n) {\n\n    Method enclosingMethod = new Object() {}.getClass().getEnclosingMethod();\n    Sort sort = new org.springframework.data.web.SortHandlerMethodArgumentResolver().resolveArgument(\n            new org.springframework.core.MethodParameter(enclosingMethod, 0), null, webRequest, null\n    );\n\n    ExampleMatcher matcher = ExampleMatcher.matching()\n            .withIgnoreCase()\n            .withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING);\n    Example example = Example.of(entity, matcher);\n\n    Page&lt;?&gt; result = this.repository.findAll(example, PageRequest.of(\n            page.getPageNumber(),\n            page.getPageSize(),\n            sort\n    ));\n    PagedModel search = assembler.toModel(result, entityAssembler);\n    search.add(linkTo(FilteringController.class)\n            .slash(&quot;entities/search&quot;)\n            .withRel(&quot;search&quot;));\n    return ResponseEntity.ok(search);\n}\n}\n</code></pre>\n<p>Used version of Spring boot: 2.3.8.RELEASE</p>\n<p>We had also the repository for Entity and used projection:</p>\n<pre><code>@RepositoryRestResource\npublic interface JpaEntityRepository extends JpaRepository&lt;Entity, Long&gt; {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24053028,"reputation":111,"user_id":18031244,"display_name":"Daniel Solomon Dev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1643138444,"creation_date":1643138444,"answer_id":70854466,"question_id":41807631,"body_markdown":"Based on the Spring Data JPA documentation [4.4.3. Property Expressions][1]\r\n\r\n&gt; ... you can use _ inside your method name to manually define traversal points...\r\n\r\nYou can put the underscore in your REST query as follows:\r\n\r\n/api/markets?projection=expanded&amp;sort=**event_name**,asc\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions","title":"Spring JPA REST sort by nested property","body":"<p>Based on the Spring Data JPA documentation <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions\" rel=\"noreferrer\">4.4.3. Property Expressions</a></p>\n<blockquote>\n<p>... you can use _ inside your method name to manually define traversal points...</p>\n</blockquote>\n<p>You can put the underscore in your REST query as follows:</p>\n<p>/api/markets?projection=expanded&amp;sort=<strong>event_name</strong>,asc</p>\n"}],"owner":{"account_id":349900,"reputation":469,"user_id":685453,"accept_rate":11,"display_name":"uiii"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21827,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":6,"score":21,"last_activity_date":1643138444,"creation_date":1485178391,"question_id":41807631,"body_markdown":"I have entity `Market` and `Event`. `Market` entity has a column:\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    private Event event;\r\n\r\nNext I have a repository:\r\n    \r\n    public interface MarketRepository extends PagingAndSortingRepository&lt;Market, Long&gt; {\r\n    }\r\n\r\nand a projection:\r\n\r\n    @Projection(name=&quot;expanded&quot;, types={Market.class})\r\n    public interface ExpandedMarket {\r\n        public String getName();\r\n        public Event getEvent();\r\n    }\r\n\r\nusing REST query `/api/markets?projection=expanded&amp;sort=name,asc` I get successfully the list of markets with nested event properties ordered by market&#39;s name:\r\n\r\n    {\r\n        &quot;_embedded&quot; : {\r\n            &quot;markets&quot; : [ {\r\n                &quot;name&quot; : &quot;Match Odds&quot;,\r\n                &quot;event&quot; : {\r\n                    &quot;id&quot; : 1,\r\n                    &quot;name&quot; : &quot;Watford vs Crystal Palace&quot;\r\n                },\r\n                ...\r\n            }, {\r\n                &quot;name&quot; : &quot;Match Odds&quot;,\r\n                &quot;event&quot; : {\r\n                    &quot;id&quot; : 2,\r\n                    &quot;name&quot; : &quot;Arsenal vs West Brom&quot;,\r\n                },\r\n                ...\r\n            },\r\n            ...\r\n        }\r\n    }\r\n\r\nBut what I need is to get list of markets ordered by **event&#39;s name**, I tried the query `/api/markets?projection=expanded&amp;sort=event.name,asc` but it didn&#39;t work. What should I do to make it work?","title":"Spring JPA REST sort by nested property","body":"<p>I have entity <code>Market</code> and <code>Event</code>. <code>Market</code> entity has a column:</p>\n\n<pre><code>@ManyToOne(fetch = FetchType.EAGER)\nprivate Event event;\n</code></pre>\n\n<p>Next I have a repository:</p>\n\n<pre><code>public interface MarketRepository extends PagingAndSortingRepository&lt;Market, Long&gt; {\n}\n</code></pre>\n\n<p>and a projection:</p>\n\n<pre><code>@Projection(name=\"expanded\", types={Market.class})\npublic interface ExpandedMarket {\n    public String getName();\n    public Event getEvent();\n}\n</code></pre>\n\n<p>using REST query <code>/api/markets?projection=expanded&amp;sort=name,asc</code> I get successfully the list of markets with nested event properties ordered by market's name:</p>\n\n<pre><code>{\n    \"_embedded\" : {\n        \"markets\" : [ {\n            \"name\" : \"Match Odds\",\n            \"event\" : {\n                \"id\" : 1,\n                \"name\" : \"Watford vs Crystal Palace\"\n            },\n            ...\n        }, {\n            \"name\" : \"Match Odds\",\n            \"event\" : {\n                \"id\" : 2,\n                \"name\" : \"Arsenal vs West Brom\",\n            },\n            ...\n        },\n        ...\n    }\n}\n</code></pre>\n\n<p>But what I need is to get list of markets ordered by <strong>event's name</strong>, I tried the query <code>/api/markets?projection=expanded&amp;sort=event.name,asc</code> but it didn't work. What should I do to make it work?</p>\n"},{"tags":["java","linux","windows","environment","openjms"],"answers":[{"tags":[],"owner":{"account_id":13091367,"reputation":111,"user_id":9458725,"display_name":"Michał Testka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643138012,"creation_date":1643125328,"answer_id":70851554,"question_id":68068465,"body_markdown":"Try to install JDK version 6 for Java 1.6, OpenJMS doesn&#39;t work with new JDK installed.","title":"OpenJMS server does not want to start","body":"<p>Try to install JDK version 6 for Java 1.6, OpenJMS doesn't work with new JDK installed.</p>\n"}],"owner":{"account_id":21428530,"reputation":11,"user_id":15785424,"display_name":"Viktor Lishchuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643138012,"creation_date":1624280673,"question_id":68068465,"body_markdown":"I am currently trying to start OpenJMS server and I cant understand why this error occurs. I&#39;ve tried running it on windows and linux but same error happens each time.\r\nDoes anyone have an idea what may be wrong ?\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/w3c/dom/ls/DocumentLS\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader$4.run(BuiltinClassLoader.java:711)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader$4.run(BuiltinClassLoader.java:706)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:719)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat org.apache.xerces.jaxp.DocumentBuilderImpl.&lt;init&gt;(Unknown Source)\r\n\tat org.apache.xerces.jaxp.DocumentBuilderFactoryImpl.newDocumentBuilder(Unknown Source)\r\n\tat org.apache.log4j.xml.DOMConfigurator.doConfigure(DOMConfigurator.java:665)\r\n\tat org.apache.log4j.xml.DOMConfigurator.doConfigure(DOMConfigurator.java:625)\r\n\tat org.apache.log4j.xml.DOMConfigurator.doConfigure(DOMConfigurator.java:593)\r\n\tat org.apache.log4j.xml.DOMConfigurator.configure(DOMConfigurator.java:696)\r\n\tat org.exolab.jms.server.JmsServer.init(JmsServer.java:141)\r\n\tat org.exolab.jms.server.JmsServer.main(JmsServer.java:178)\r\n    Caused by: java.lang.ClassNotFoundException: org.w3c.dom.ls.DocumentLS\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 20 more\r\n\r\n \r\n","title":"OpenJMS server does not want to start","body":"<p>I am currently trying to start OpenJMS server and I cant understand why this error occurs. I've tried running it on windows and linux but same error happens each time.\nDoes anyone have an idea what may be wrong ?</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/w3c/dom/ls/DocumentLS\nat java.base/java.lang.ClassLoader.defineClass1(Native Method)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\nat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\nat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\nat java.base/jdk.internal.loader.BuiltinClassLoader$4.run(BuiltinClassLoader.java:711)\nat java.base/jdk.internal.loader.BuiltinClassLoader$4.run(BuiltinClassLoader.java:706)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:719)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\nat org.apache.xerces.jaxp.DocumentBuilderImpl.&lt;init&gt;(Unknown Source)\nat org.apache.xerces.jaxp.DocumentBuilderFactoryImpl.newDocumentBuilder(Unknown Source)\nat org.apache.log4j.xml.DOMConfigurator.doConfigure(DOMConfigurator.java:665)\nat org.apache.log4j.xml.DOMConfigurator.doConfigure(DOMConfigurator.java:625)\nat org.apache.log4j.xml.DOMConfigurator.doConfigure(DOMConfigurator.java:593)\nat org.apache.log4j.xml.DOMConfigurator.configure(DOMConfigurator.java:696)\nat org.exolab.jms.server.JmsServer.init(JmsServer.java:141)\nat org.exolab.jms.server.JmsServer.main(JmsServer.java:178)\nCaused by: java.lang.ClassNotFoundException: org.w3c.dom.ls.DocumentLS\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 20 more\n</code></pre>\n"},{"tags":["java","arrays","initialization","double"],"comments":[{"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"score":1,"creation_date":1378146027,"post_id":18578864,"comment_id":27338017,"body_markdown":"i think `.` in the first statement should be a `,`","body":"i think <code>.</code> in the first statement should be a <code>,</code>"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1378146070,"post_id":18578864,"comment_id":27338032,"body_markdown":"Your code won&#39;t compile as such. The dot should be a comma.","body":"Your code won&#39;t compile as such. The dot should be a comma."},{"owner":{"account_id":3232496,"reputation":5178,"user_id":2727401,"accept_rate":33,"display_name":"fujy"},"score":0,"creation_date":1378146219,"post_id":18578864,"comment_id":27338092,"body_markdown":"To define a double, the * char must be . char","body":"To define a double, the * char must be . char"},{"owner":{"account_id":1241689,"reputation":172569,"user_id":1204143,"accept_rate":64,"display_name":"nneonneo"},"score":4,"creation_date":1378146270,"post_id":18578864,"comment_id":27338115,"body_markdown":"@fujy: This is just a multiplication table. Nothing wrong with that.","body":"@fujy: This is just a multiplication table. Nothing wrong with that."},{"owner":{"display_name":"user2577094"},"score":0,"creation_date":1378146350,"post_id":18578864,"comment_id":27338137,"body_markdown":"If the book showed an example, then surely it&#39;d explain how and why and when it is used.","body":"If the book showed an example, then surely it&#39;d explain how and why and when it is used."},{"owner":{"account_id":3232496,"reputation":5178,"user_id":2727401,"accept_rate":33,"display_name":"fujy"},"score":0,"creation_date":1378146392,"post_id":18578864,"comment_id":27338152,"body_markdown":"Yes, but I think he is trying to define a double here, where would be the double example if it was multiplication?","body":"Yes, but I think he is trying to define a double here, where would be the double example if it was multiplication?"},{"owner":{"account_id":1241689,"reputation":172569,"user_id":1204143,"accept_rate":64,"display_name":"nneonneo"},"score":0,"creation_date":1378146602,"post_id":18578864,"comment_id":27338232,"body_markdown":"@fujy: maybe it comes afterwards, maybe it really doesn&#39;t matter for the purposes of this question!","body":"@fujy: maybe it comes afterwards, maybe it really doesn&#39;t matter for the purposes of this question!"},{"owner":{"account_id":3250207,"reputation":301,"user_id":2740735,"display_name":"Prateek"},"score":0,"creation_date":1378219255,"post_id":18578864,"comment_id":27366112,"body_markdown":"The , is a mistake on my part. And thanks for the replies. I was over stressing my mind and thinking of it as some sort of special initialization.","body":"The , is a mistake on my part. And thanks for the replies. I was over stressing my mind and thinking of it as some sort of special initialization."},{"owner":{"account_id":454024,"reputation":89,"user_id":851340,"accept_rate":12,"display_name":"Rahul Gupta"},"score":0,"creation_date":1621172233,"post_id":18578864,"comment_id":119409358,"body_markdown":"[How to Initialize Array in Java](https://www.tutorialcup.com/java/arrays-in-java.htm)","body":"<a href=\"https://www.tutorialcup.com/java/arrays-in-java.htm\" rel=\"nofollow noreferrer\">How to Initialize Array in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":226324,"reputation":3864,"user_id":487305,"accept_rate":74,"display_name":"sara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378146630,"creation_date":1378146305,"answer_id":18578937,"question_id":18578864,"body_markdown":"`double m[][]` declares an array of arrays, so called multidimensional array.\r\n\r\n\r\n`m[0]` points to an array in the size of four, containing 0*0,1*0,2*0,3*0.\r\nSimple math shows the values are actually 0,0,0,0.\r\n\r\nSecond line is also array in the size of four, containing 0,1,2,3.\r\n\r\nAnd so on...\r\n\r\nI guess this mutiple format in you book was to show that 0*0 is row 0 column 0, 0*1 is row 0 column 1, and so on.","title":"Double array initialization in Java","body":"<p><code>double m[][]</code> declares an array of arrays, so called multidimensional array.</p>\n\n<p><code>m[0]</code> points to an array in the size of four, containing 0*0,1*0,2*0,3*0.\nSimple math shows the values are actually 0,0,0,0.</p>\n\n<p>Second line is also array in the size of four, containing 0,1,2,3.</p>\n\n<p>And so on...</p>\n\n<p>I guess this mutiple format in you book was to show that 0*0 is row 0 column 0, 0*1 is row 0 column 1, and so on.</p>\n"},{"tags":[],"owner":{"account_id":1241689,"reputation":172569,"user_id":1204143,"accept_rate":64,"display_name":"nneonneo"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1643137214,"creation_date":1378146353,"answer_id":18578946,"question_id":18578864,"body_markdown":"This is *array initializer syntax*, and it can only be used on the right-hand-side when declaring a variable of array type. Example:\r\n\r\n    int[] x = {1,2,3,4};\r\n    String[] y = {&quot;a&quot;,&quot;b&quot;,&quot;c&quot;};\r\n\r\nIf you&#39;re not on the RHS of a variable declaration, use an array constructor instead:\r\n\r\n    int[] x;\r\n    x = new int[]{1,2,3,4};\r\n    String[] y;\r\n    y = new String[]{&quot;a&quot;,&quot;b&quot;,&quot;c&quot;};\r\n\r\nThese declarations have the exact same effect: a new array is allocated and constructed with the specified contents.\r\n\r\nIn your case, it might actually be clearer (less repetitive, but a bit less concise) to specify the table programmatically:\r\n\r\n    double[][] m = new double[4][4];\r\n\r\n    for(int i=0; i&lt;4; i++) {\r\n        for(int j=0; j&lt;4; j++) {\r\n            m[i][j] = i*j;\r\n        }\r\n    }","title":"Double array initialization in Java","body":"<p>This is <em>array initializer syntax</em>, and it can only be used on the right-hand-side when declaring a variable of array type. Example:</p>\n<pre><code>int[] x = {1,2,3,4};\nString[] y = {&quot;a&quot;,&quot;b&quot;,&quot;c&quot;};\n</code></pre>\n<p>If you're not on the RHS of a variable declaration, use an array constructor instead:</p>\n<pre><code>int[] x;\nx = new int[]{1,2,3,4};\nString[] y;\ny = new String[]{&quot;a&quot;,&quot;b&quot;,&quot;c&quot;};\n</code></pre>\n<p>These declarations have the exact same effect: a new array is allocated and constructed with the specified contents.</p>\n<p>In your case, it might actually be clearer (less repetitive, but a bit less concise) to specify the table programmatically:</p>\n<pre><code>double[][] m = new double[4][4];\n\nfor(int i=0; i&lt;4; i++) {\n    for(int j=0; j&lt;4; j++) {\n        m[i][j] = i*j;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3233438,"reputation":10331,"user_id":2728148,"accept_rate":50,"display_name":"Cort Ammon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1386267865,"creation_date":1378146416,"answer_id":18578958,"question_id":18578864,"body_markdown":"It is called an array initializer and can be explained in the [Java][1] [specification 10.6][2].\r\n\r\nThis can be used to initialize any array, but it can only be used for initialization (not assignment to an existing array). One of the unique things about it is that the dimensions of the array can be determined from the initializer. Other methods of creating an array require you to manually insert the number. In many cases, this helps minimize trivial errors which occur when a programmer modifies the initializer and fails to update the dimensions.\r\n\r\nBasically, the initializer allocates a correctly sized array, then goes from left to right evaluating each element in the list. The specification also states that if the element type is an array (such as it is for your case... we have an array of double[]), that each element may, itself be an initializer list, which is why you see one outer set of braces, and each line has inner braces.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_%28programming_language%29\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.6\r\n","title":"Double array initialization in Java","body":"<p>It is called an array initializer and can be explained in the <a href=\"http://en.wikipedia.org/wiki/Java_%28programming_language%29\" rel=\"nofollow\">Java</a> <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.6\" rel=\"nofollow\">specification 10.6</a>.</p>\n\n<p>This can be used to initialize any array, but it can only be used for initialization (not assignment to an existing array). One of the unique things about it is that the dimensions of the array can be determined from the initializer. Other methods of creating an array require you to manually insert the number. In many cases, this helps minimize trivial errors which occur when a programmer modifies the initializer and fails to update the dimensions.</p>\n\n<p>Basically, the initializer allocates a correctly sized array, then goes from left to right evaluating each element in the list. The specification also states that if the element type is an array (such as it is for your case... we have an array of double[]), that each element may, itself be an initializer list, which is why you see one outer set of braces, and each line has inner braces.</p>\n"},{"tags":[],"owner":{"account_id":10195451,"reputation":19,"user_id":7527416,"display_name":"C.Lechner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509456414,"creation_date":1509456414,"answer_id":47036616,"question_id":18578864,"body_markdown":"If you can accept Double Objects than this post is helpful:\r\nhttps://stackoverflow.com/questions/1005073/initialization-of-an-arraylist-in-one-line\r\n\r\n    List&lt;Double&gt; y = Arrays.asList(null, 1.0, 2.0);\r\n    Double x = y.get(1);","title":"Double array initialization in Java","body":"<p>If you can accept Double Objects than this post is helpful:\n<a href=\"https://stackoverflow.com/questions/1005073/initialization-of-an-arraylist-in-one-line\">Initialization of an ArrayList in one line</a></p>\n\n<pre><code>List&lt;Double&gt; y = Arrays.asList(null, 1.0, 2.0);\nDouble x = y.get(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3010364,"reputation":1072,"user_id":2554041,"display_name":"SGal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509461536,"creation_date":1509461536,"answer_id":47038297,"question_id":18578864,"body_markdown":"You can initialize an array by writing actual values it holds in curly braces on the right hand side like:\r\n\r\n    String[] strArr = { &quot;one&quot;, &quot;two&quot;, &quot;three&quot;};\r\n    int[] numArr = { 1, 2, 3};\r\n\r\nIn the same manner two-dimensional array or **array-of-arrays holds an array as a value**, so:\r\n\r\n    String strArrayOfArrays = { {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}, {&quot;one&quot;, &quot;two&quot;, &quot;three&quot;} };\r\n\r\nYour example shows exactly that\r\n\r\n    double m[][] = {\r\n        {0*0,1*0,2*0,3*0},\r\n        {0*1,1*1,2*1,3*1},\r\n        {0*2,1*2,2*2,3*2},\r\n        {0*3,1*3,2*3,3*3}\r\n    };\r\n\r\nBut also the multiplication of number will also be performed and its the same as:\r\n\r\n    double m[][] = { {0, 0, 0, 0}, {0, 1, 2, 3}, {0, 2, 4, 6}, {0, 3, 6, 9} };\r\n\r\n","title":"Double array initialization in Java","body":"<p>You can initialize an array by writing actual values it holds in curly braces on the right hand side like:</p>\n\n<pre><code>String[] strArr = { \"one\", \"two\", \"three\"};\nint[] numArr = { 1, 2, 3};\n</code></pre>\n\n<p>In the same manner two-dimensional array or <strong>array-of-arrays holds an array as a value</strong>, so:</p>\n\n<pre><code>String strArrayOfArrays = { {\"a\", \"b\", \"c\"}, {\"one\", \"two\", \"three\"} };\n</code></pre>\n\n<p>Your example shows exactly that</p>\n\n<pre><code>double m[][] = {\n    {0*0,1*0,2*0,3*0},\n    {0*1,1*1,2*1,3*1},\n    {0*2,1*2,2*2,3*2},\n    {0*3,1*3,2*3,3*3}\n};\n</code></pre>\n\n<p>But also the multiplication of number will also be performed and its the same as:</p>\n\n<pre><code>double m[][] = { {0, 0, 0, 0}, {0, 1, 2, 3}, {0, 2, 4, 6}, {0, 3, 6, 9} };\n</code></pre>\n"}],"owner":{"account_id":3250207,"reputation":301,"user_id":2740735,"display_name":"Prateek"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338594,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":5,"score":30,"last_activity_date":1643137214,"creation_date":1378145928,"question_id":18578864,"body_markdown":"I was reading a book on [Java][1] and came across an example in which an array of type double was initialized in a way that I haven&#39;t seen before. What type of initialization is it and where else can it be used?\r\n\r\n\tdouble m[][]={\r\n\t    {0*0,1*0,2*0,3*0},\r\n\t    {0*1,1*1,2*1,3*1},\r\n\t    {0*2,1*2,2*2,3*2},\r\n\t    {0*3,1*3,2*3,3*3}\r\n\t};\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_%28programming_language%29\r\n","title":"Double array initialization in Java","body":"<p>I was reading a book on <a href=\"http://en.wikipedia.org/wiki/Java_%28programming_language%29\">Java</a> and came across an example in which an array of type double was initialized in a way that I haven't seen before. What type of initialization is it and where else can it be used?</p>\n\n<pre><code>double m[][]={\n    {0*0,1*0,2*0,3*0},\n    {0*1,1*1,2*1,3*1},\n    {0*2,1*2,2*2,3*2},\n    {0*3,1*3,2*3,3*3}\n};\n</code></pre>\n"},{"tags":["java","android","dagger-hilt"],"answers":[{"tags":[],"owner":{"account_id":10857672,"reputation":3249,"user_id":12125691,"display_name":"Nitrodon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643137119,"creation_date":1643137119,"answer_id":70854209,"question_id":70852563,"body_markdown":"According to that error message, you have code that looks like this:\r\n\r\n```java\r\n@Module\r\nclass AppModule {\r\n    @Provides\r\n    public Application provideApplication(@ApplicationContext Application application) {\r\n        return application;\r\n    }\r\n}\r\n```\r\n\r\nHilt provides `Application` and `@ApplicationContext Context` by default, not `@ApplicationContext Application`.  This `@Provides` method attempts to provide the same Application binding that Hilt provides by default, so you have a duplicate binding error.  Remove that method to fix the error.","title":"How to use Hilt correctly in two apps with a common library?","body":"<p>According to that error message, you have code that looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Module\nclass AppModule {\n    @Provides\n    public Application provideApplication(@ApplicationContext Application application) {\n        return application;\n    }\n}\n</code></pre>\n<p>Hilt provides <code>Application</code> and <code>@ApplicationContext Context</code> by default, not <code>@ApplicationContext Application</code>.  This <code>@Provides</code> method attempts to provide the same Application binding that Hilt provides by default, so you have a duplicate binding error.  Remove that method to fix the error.</p>\n"}],"owner":{"account_id":15567828,"reputation":107,"user_id":11231078,"display_name":"Stasky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643137119,"creation_date":1643129444,"question_id":70852563,"body_markdown":"I&#39;m developing two apps: one is an admin device for administrators to be able to do some things and the other one is for users with the main functionality of the app.\r\n\r\nThese two apps have some common activities, methods, fragments... So I created a third one that both use as a library and have some classes extend from those.\r\n\r\nI&#39;ll call the normal app &quot;App&quot;, the admin one &quot;Admin&quot; and the library &quot;Common&quot;.\r\n\r\nI&#39;m trying to use DI with Hilt, but I need that to be able to work on all 3. I have a Repository in Common with the `HiltAndroidApp` tag on `CommonApp`. This one has different modules like a Network one or one for `Room` db.\r\n\r\nOn App, I have another repository that extends from the Common one, and AppApp has `HiltAndroidApp`. I have a new NetworkModule that extends the other one and all that jazz.\r\n\r\nWhen I try to build, I get this error:\r\n\r\n```java\r\nerror: [Dagger/DuplicateBindings] android.app.Application is bound multiple times:\r\n  public abstract static class SingletonC implements App_GeneratedInjector,\r\n                         ^\r\n      @Provides @Singleton android.app.Application com.adictic.common.util.hilt.AppModule.provideApplication(@dagger.hilt.android.qualifiers.ApplicationContext android.app.Application)\r\n      @Provides android.app.Application dagger.hilt.android.internal.modules.ApplicationContextModule.provideApplication()\r\n      android.app.Application is injected at\r\n          dagger.hilt.android.internal.lifecycle.DefaultViewModelFactories.InternalFactoryFactory(application, �)\r\n      dagger.hilt.android.internal.lifecycle.DefaultViewModelFactories.InternalFactoryFactory is requested at\r\n          dagger.hilt.android.internal.lifecycle.DefaultViewModelFactories.ActivityEntryPoint.getHiltInternalFactoryFactory() [com.adictic.common.util.App_HiltComponents.SingletonC ? com.adictic.common.util.App_HiltComponents.ActivityRetainedC ? com.adictic.common.util.App_HiltComponents.ActivityC]\r\n  It is also requested at:\r\n      com.adictic.common.util.hilt.Repository(application, �)\r\n  The following other entry points also depend on it:\r\n&lt;bunch of classes&gt;\r\n```\r\n\r\nI imagine there&#39;s something wrong with my approach, or that there&#39;s someway I don&#39;t know to limit each repository to affect their own app, but I can&#39;t find anything online. What would be the best way to do all this?","title":"How to use Hilt correctly in two apps with a common library?","body":"<p>I'm developing two apps: one is an admin device for administrators to be able to do some things and the other one is for users with the main functionality of the app.</p>\n<p>These two apps have some common activities, methods, fragments... So I created a third one that both use as a library and have some classes extend from those.</p>\n<p>I'll call the normal app &quot;App&quot;, the admin one &quot;Admin&quot; and the library &quot;Common&quot;.</p>\n<p>I'm trying to use DI with Hilt, but I need that to be able to work on all 3. I have a Repository in Common with the <code>HiltAndroidApp</code> tag on <code>CommonApp</code>. This one has different modules like a Network one or one for <code>Room</code> db.</p>\n<p>On App, I have another repository that extends from the Common one, and AppApp has <code>HiltAndroidApp</code>. I have a new NetworkModule that extends the other one and all that jazz.</p>\n<p>When I try to build, I get this error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>error: [Dagger/DuplicateBindings] android.app.Application is bound multiple times:\n  public abstract static class SingletonC implements App_GeneratedInjector,\n                         ^\n      @Provides @Singleton android.app.Application com.adictic.common.util.hilt.AppModule.provideApplication(@dagger.hilt.android.qualifiers.ApplicationContext android.app.Application)\n      @Provides android.app.Application dagger.hilt.android.internal.modules.ApplicationContextModule.provideApplication()\n      android.app.Application is injected at\n          dagger.hilt.android.internal.lifecycle.DefaultViewModelFactories.InternalFactoryFactory(application, �)\n      dagger.hilt.android.internal.lifecycle.DefaultViewModelFactories.InternalFactoryFactory is requested at\n          dagger.hilt.android.internal.lifecycle.DefaultViewModelFactories.ActivityEntryPoint.getHiltInternalFactoryFactory() [com.adictic.common.util.App_HiltComponents.SingletonC ? com.adictic.common.util.App_HiltComponents.ActivityRetainedC ? com.adictic.common.util.App_HiltComponents.ActivityC]\n  It is also requested at:\n      com.adictic.common.util.hilt.Repository(application, �)\n  The following other entry points also depend on it:\n&lt;bunch of classes&gt;\n</code></pre>\n<p>I imagine there's something wrong with my approach, or that there's someway I don't know to limit each repository to affect their own app, but I can't find anything online. What would be the best way to do all this?</p>\n"},{"tags":["java","spring","spring-mvc","tomcat9"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1643137512,"post_id":70853930,"comment_id":125258970,"body_markdown":"Tomcat 9 does **not** use the `jakarta` namespace, but `javax`. Tomcat 10 uses `jakarta` (but you need Spring 6.x to use it).","body":"Tomcat 9 does <b>not</b> use the <code>jakarta</code> namespace, but <code>javax</code>. Tomcat 10 uses <code>jakarta</code> (but you need Spring 6.x to use it)."},{"owner":{"account_id":22041910,"reputation":11,"user_id":16307591,"display_name":"Aneek Biswas"},"score":0,"creation_date":1643209360,"post_id":70853930,"comment_id":125279071,"body_markdown":"@PiotrP.Karwasz but I am using Tomcat9 only. Is this due to the fact that I am importing the HTTPServletReq from jakarta&#39;s lib instead of javax? (jakarta.servlet and javax.servlet both jar files are there in my classpath)","body":"@PiotrP.Karwasz but I am using Tomcat9 only. Is this due to the fact that I am importing the HTTPServletReq from jakarta&#39;s lib instead of javax? (jakarta.servlet and javax.servlet both jar files are there in my classpath)"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1643210609,"post_id":70853930,"comment_id":125279627,"body_markdown":"Yes, your imports are wrong. You can add [`jakarta.servlet-api`](https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api/4.0.4) to your classpath (as provided dependency), but **only** version 4, not version 5. If you fix this, your editor will not suggest any `jakarta.*` import.","body":"Yes, your imports are wrong. You can add <a href=\"https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api/4.0.4\" rel=\"nofollow noreferrer\"><code>jakarta.servlet-api</code></a> to your classpath (as provided dependency), but <b>only</b> version 4, not version 5. If you fix this, your editor will not suggest any <code>jakarta.*</code> import."},{"owner":{"account_id":22041910,"reputation":11,"user_id":16307591,"display_name":"Aneek Biswas"},"score":0,"creation_date":1643531199,"post_id":70853930,"comment_id":125361164,"body_markdown":"@PiotrP.Karwasz I see alright - this fixed this. Thanks!","body":"@PiotrP.Karwasz I see alright - this fixed this. Thanks!"}],"owner":{"account_id":22041910,"reputation":11,"user_id":16307591,"display_name":"Aneek Biswas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643136802,"creation_date":1643135788,"question_id":70853930,"body_markdown":"I am trying to create a simple home page based on Spring MVC with a link to login page, and in the login page, after typing in some text and submitting it, instead of arriving at a second page which should parse in the data entered into the input field through model container - I am getting an error. I am using Tomcat 9 for this project. \r\n\r\n    &quot;Request processing failed; nested exception is\r\n    java.lang.IllegalStateException: No primary or single public\r\n    constructor found for interface\r\n    jakarta.servlet.http.HttpServletRequest - and no default constructor\r\n    found either&quot;\r\n\r\nHere&#39;s the main controller class:\r\n\r\n   \r\n\r\n     package com.luv2code.springdemo;\r\n        import org.springframework.stereotype.Controller;\r\n        import org.springframework.ui.Model;\r\n        import org.springframework.web.bind.annotation.RequestMapping;\r\n        import jakarta.servlet.http.HttpServletRequest;\r\n        @Controller\r\n        public class FormController {\r\n    \t//method to show the form\r\n    \t\r\n    \t@RequestMapping(&quot;/showForm&quot;)\r\n    \tpublic String showForm() {\r\n    \t\treturn &quot;helloworld-form&quot;;\r\n    \t}\r\n    \t\r\n    \t//method to show the page after submitting the form\r\n    \t@RequestMapping(&quot;/processForm&quot;)\r\n    \tpublic String processForm() {\r\n    \t\treturn &quot;helloworld&quot;;\r\n    \t}\r\n    \t\r\n    \t//read form data and read data to model\r\n    \t\r\n    \t@RequestMapping(&quot;/processFormv2&quot;)\r\n    \tpublic String Stringoperation(HttpServletRequest request, Model model)throws Exception {\r\n    \t\t//read request param from html\r\n    \t\tString name = request.getParameter(&quot;empname&quot;);\r\n    \t\t\r\n    \t\t//add some string to it\r\n    \t\tname = name.toUpperCase();\r\n    \t\t//create some message\r\n    \t\tString res = name + &quot; works here!&quot;;\r\n    \t\t//add message to model\r\n    \t\tmodel.addAttribute(&quot;res&quot;,res);\r\n    \t\treturn &quot;helloworld&quot;;\r\n    \t}\r\n        }\r\n\r\n  \r\nHere&#39;s the web.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n    http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n    id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\r\n    \r\n    &lt;display-name&gt;spring-mvc-demo&lt;/display-name&gt;\r\n    \r\n    &lt;absolute-ordering /&gt;\r\n    \r\n    &lt;!-- Spring MVC Configs --&gt;\r\n    \r\n    &lt;!-- Step 1: Configure Spring MVC Dispatcher Servlet --&gt;\r\n    &lt;servlet&gt;\r\n    \t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t&lt;init-param&gt;\r\n    \t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;/WEB-INF/spring-mvc-demo-servlet.xml&lt;/param-value&gt;\r\n    \t&lt;/init-param&gt;\r\n    \t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    \r\n    &lt;!-- Step 2: Set up URL mapping for Spring MVC Dispatcher Servlet --&gt;\r\n    &lt;servlet-mapping&gt;\r\n    \t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    \r\n     &lt;/web-app&gt;\r\n\r\nAnd here&#39;s the spring-mvc-demo-servlet.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n    \txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n    http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n    \tid=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\r\n    \r\n    \t&lt;display-name&gt;spring-mvc-demo&lt;/display-name&gt;\r\n    \r\n    \t&lt;absolute-ordering /&gt;\r\n    \r\n    \t&lt;!-- Spring MVC Configs --&gt;\r\n    \r\n    \t&lt;!-- Step 1: Configure Spring MVC Dispatcher Servlet --&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;/WEB-INF/spring-mvc-demo-servlet.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \r\n    \t&lt;!-- Step 2: Set up URL mapping for Spring MVC Dispatcher Servlet --&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t\r\n    &lt;/web-app&gt;\r\nHere is mainmenu.jsp file - \r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    \r\n    &lt;body&gt;\r\n    &lt;h2&gt;Welcome to the JSP!&lt;/h2&gt;\r\n    &lt;hr&gt; &lt;a href=&quot;showForm&quot;&gt;Login Page&lt;/a&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\nHere is helloworld-form.jsp:\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;JSP Form&lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;form action=&quot;processFormv2&quot; method=&quot;get&quot;&gt;\r\n    &lt;input type = &quot;text&quot; name=&quot;empname&quot; placeholder=&quot;Enter your name \r\n    here&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; name =&quot;submit&quot;&gt;\r\n    &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nHere is helloworld.jsp:\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859- \r\n    1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;After submitting&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h3&gt;This is after you have submitted!&lt;/h3&gt;\r\n    &lt;br&gt;&lt;br&gt;\r\n    Student name : ${res}\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nHere&#39;s the error that I am getting\r\n\r\n&gt; java.lang.IllegalStateException: No primary or single public constructor found for interface jakarta.servlet.http.HttpServletRequest - and no default constructor found either\r\n\r\nAnd here&#39;s my folder structure:\r\n[Click here to see the picture][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nj5b9.png\r\n\r\nUpdate:\r\nThe above code works fine for Tomcat7 which uses &#39;javax.servlet.http&#39; for HttpServletRequest. However I&#39;d like to know what changes does jakarta version needs, in order for the code to work as expected in Tomcat9. ","title":"IllegalStateException showing in a Spring MVC Example using Tomcat 9","body":"<p>I am trying to create a simple home page based on Spring MVC with a link to login page, and in the login page, after typing in some text and submitting it, instead of arriving at a second page which should parse in the data entered into the input field through model container - I am getting an error. I am using Tomcat 9 for this project.</p>\n<pre><code>&quot;Request processing failed; nested exception is\njava.lang.IllegalStateException: No primary or single public\nconstructor found for interface\njakarta.servlet.http.HttpServletRequest - and no default constructor\nfound either&quot;\n</code></pre>\n<p>Here's the main controller class:</p>\n<pre><code> package com.luv2code.springdemo;\n    import org.springframework.stereotype.Controller;\n    import org.springframework.ui.Model;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import jakarta.servlet.http.HttpServletRequest;\n    @Controller\n    public class FormController {\n    //method to show the form\n    \n    @RequestMapping(&quot;/showForm&quot;)\n    public String showForm() {\n        return &quot;helloworld-form&quot;;\n    }\n    \n    //method to show the page after submitting the form\n    @RequestMapping(&quot;/processForm&quot;)\n    public String processForm() {\n        return &quot;helloworld&quot;;\n    }\n    \n    //read form data and read data to model\n    \n    @RequestMapping(&quot;/processFormv2&quot;)\n    public String Stringoperation(HttpServletRequest request, Model model)throws Exception {\n        //read request param from html\n        String name = request.getParameter(&quot;empname&quot;);\n        \n        //add some string to it\n        name = name.toUpperCase();\n        //create some message\n        String res = name + &quot; works here!&quot;;\n        //add message to model\n        model.addAttribute(&quot;res&quot;,res);\n        return &quot;helloworld&quot;;\n    }\n    }\n</code></pre>\n<p>Here's the web.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\nxsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \nhttp://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\nid=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\n\n&lt;display-name&gt;spring-mvc-demo&lt;/display-name&gt;\n\n&lt;absolute-ordering /&gt;\n\n&lt;!-- Spring MVC Configs --&gt;\n\n&lt;!-- Step 1: Configure Spring MVC Dispatcher Servlet --&gt;\n&lt;servlet&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring-mvc-demo-servlet.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;!-- Step 2: Set up URL mapping for Spring MVC Dispatcher Servlet --&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n &lt;/web-app&gt;\n</code></pre>\n<p>And here's the spring-mvc-demo-servlet.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \nhttp://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n    id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\n\n    &lt;display-name&gt;spring-mvc-demo&lt;/display-name&gt;\n\n    &lt;absolute-ordering /&gt;\n\n    &lt;!-- Spring MVC Configs --&gt;\n\n    &lt;!-- Step 1: Configure Spring MVC Dispatcher Servlet --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring-mvc-demo-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;!-- Step 2: Set up URL mapping for Spring MVC Dispatcher Servlet --&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    \n&lt;/web-app&gt;\n</code></pre>\n<p>Here is mainmenu.jsp file -</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;body&gt;\n&lt;h2&gt;Welcome to the JSP!&lt;/h2&gt;\n&lt;hr&gt; &lt;a href=&quot;showForm&quot;&gt;Login Page&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here is helloworld-form.jsp:</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;JSP Form&lt;/head&gt;\n&lt;body&gt;\n&lt;form action=&quot;processFormv2&quot; method=&quot;get&quot;&gt;\n&lt;input type = &quot;text&quot; name=&quot;empname&quot; placeholder=&quot;Enter your name \nhere&quot;&gt;\n&lt;input type=&quot;submit&quot; name =&quot;submit&quot;&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here is helloworld.jsp:</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859- \n1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;After submitting&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h3&gt;This is after you have submitted!&lt;/h3&gt;\n&lt;br&gt;&lt;br&gt;\nStudent name : ${res}\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here's the error that I am getting</p>\n<blockquote>\n<p>java.lang.IllegalStateException: No primary or single public constructor found for interface jakarta.servlet.http.HttpServletRequest - and no default constructor found either</p>\n</blockquote>\n<p>And here's my folder structure:\n<a href=\"https://i.stack.imgur.com/Nj5b9.png\" rel=\"nofollow noreferrer\">Click here to see the picture</a></p>\n<p>Update:\nThe above code works fine for Tomcat7 which uses 'javax.servlet.http' for HttpServletRequest. However I'd like to know what changes does jakarta version needs, in order for the code to work as expected in Tomcat9.</p>\n"},{"tags":["java","spring","nullpointerexception"],"comments":[{"owner":{"account_id":8503655,"reputation":1414,"user_id":6375917,"display_name":"TongChen"},"score":0,"creation_date":1600736886,"post_id":64001667,"comment_id":113175325,"body_markdown":"bean of BoardDao created failed,please post more info about that error","body":"bean of BoardDao created failed,please post more info about that error"},{"owner":{"account_id":19326995,"reputation":63,"user_id":14129428,"display_name":"냘로하"},"score":0,"creation_date":1600737875,"post_id":64001667,"comment_id":113175488,"body_markdown":"yes, i did it. tnk","body":"yes, i did it. tnk"}],"answers":[{"tags":[],"owner":{"account_id":16521788,"reputation":86,"user_id":11937750,"display_name":"Oscar Navarrete"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1600739052,"creation_date":1600737991,"answer_id":64001869,"question_id":64001667,"body_markdown":"I think your problem is related with the lack of a `@Component` annotation in your `BoardDao` class. \r\nThe component should have a `@Component` annotation to instantiate the singleton to be injected in your Service Layer.\r\n\r\n\r\n    @Component\r\n    public class BoardDao extends SqlSessionDaoSupport{\r\n    \r\n        @Autowired\r\n        SqlSessionTemplate session;\r\n\r\n        public List&lt;BoardDto&gt; listboard(BoardDto dto) {\r\n            System.out.println(&quot;dao.&quot;);\r\n            List&lt;BoardDto&gt; result = session.selectList(&quot;boarddate.listboard&quot;, dto);\r\n            return result;\r\n        }\r\n\r\n    }\r\n\r\nIf the problem persist, you may try with the `@Repository` annotation. Sadly I haven&#39;t used the class `SqlSessionDaoSupport`, so I don&#39;t know exactly the best annotation for that. ","title":"Cannot invoke &quot;&quot; because &quot;&quot; is null","body":"<p>I think your problem is related with the lack of a <code>@Component</code> annotation in your <code>BoardDao</code> class.\nThe component should have a <code>@Component</code> annotation to instantiate the singleton to be injected in your Service Layer.</p>\n<pre><code>@Component\npublic class BoardDao extends SqlSessionDaoSupport{\n\n    @Autowired\n    SqlSessionTemplate session;\n\n    public List&lt;BoardDto&gt; listboard(BoardDto dto) {\n        System.out.println(&quot;dao.&quot;);\n        List&lt;BoardDto&gt; result = session.selectList(&quot;boarddate.listboard&quot;, dto);\n        return result;\n    }\n\n}\n</code></pre>\n<p>If the problem persist, you may try with the <code>@Repository</code> annotation. Sadly I haven't used the class <code>SqlSessionDaoSupport</code>, so I don't know exactly the best annotation for that.</p>\n"},{"tags":[],"owner":{"account_id":15164035,"reputation":619,"user_id":10942128,"display_name":"edalvb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643136789,"creation_date":1643136789,"answer_id":70854146,"question_id":64001667,"body_markdown":"In my case it was with a Map, I wanted to increase its value, but this initial one will not exist, therefore it is null.\r\n\r\n    map.put(0, map.get(0) 1);\r\n\r\nIt was fixed by adding a validation, like so:\r\n\r\n    map.put(0, map.get(0) != null ? map.get(0) + 1 : 1);","title":"Cannot invoke &quot;&quot; because &quot;&quot; is null","body":"<p>In my case it was with a Map, I wanted to increase its value, but this initial one will not exist, therefore it is null.</p>\n<pre><code>map.put(0, map.get(0) 1);\n</code></pre>\n<p>It was fixed by adding a validation, like so:</p>\n<pre><code>map.put(0, map.get(0) != null ? map.get(0) + 1 : 1);\n</code></pre>\n"}],"owner":{"account_id":19326995,"reputation":63,"user_id":14129428,"display_name":"냘로하"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130712,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":64001869,"answer_count":2,"score":6,"last_activity_date":1643136789,"creation_date":1600735991,"question_id":64001667,"body_markdown":"i finally find it question tab. \r\nwhy this error is &#39;boom&#39;?????\r\ni didn&#39;t understand spend two days.....\r\n \r\n```\r\n    **java.lang.NullPointerException: Cannot invoke \r\n    &quot;com.board.dao.BoardDao.listboard(com.board.dto.BoardDto)&quot; because &quot;this.bDao&quot; is null**\r\n\tat com.board.service.BoardService.listboard(BoardService.java:19)\r\n\tat com.board.controller.BoardController.boardlist(BoardController.java:25)\r\n    at com.board.controller.BoardController.boardlist(BoardController.java:26)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:213)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:126)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:96)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:617)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:578)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:543)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:616)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:818)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1626)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Unknown Source)\r\n```\r\ncontroller \r\n```\r\n@Controller\r\npublic class BoardController {\r\n\t\r\n\t@Autowired\r\n\tBoardService service;\r\n\t\r\n\t\r\n\t@RequestMapping(&quot;/board&quot;)\r\n\tpublic ModelAndView boardlist (ModelAndView mv ,BoardDto dto) {\r\n\t\tSystem.out.println(&quot;boardlist &quot;);\r\n\t\t\r\n\t\tSystem.out.println(dto+&quot;dto&quot;);\r\n\t\tList&lt;BoardDto&gt; dtolist = service.listboard(dto);\r\n\t\tmv.addObject(&quot;boardlist&quot;, dtolist);\r\n\t\tmv.setViewName(&quot;boardlist&quot;);\r\n\t\treturn mv;\r\n\t}\r\n}\r\n```\r\ncontroller is fine.. i think.. \r\n\r\nservice \r\n``` \r\n@Service\r\npublic class BoardService {\r\n\t\r\n\t@Autowired\r\n\tBoardDao bDao;\r\n\r\n\tpublic List&lt;BoardDto&gt; listboard(BoardDto dto) {\r\n\t\tSystem.out.println(&quot;boardservice&quot;);\r\n\t\tList&lt;BoardDto&gt; result = bDao.listboard(dto);\r\n\t\treturn result ;\r\n\t}\r\n\r\n}\r\n\r\n``` \r\nthis position is error why?? T.T\r\n\r\n\r\ni think this method is error position but i don&#39;t know understand. why???\r\n\r\ndao \r\n\r\n```\r\npublic class BoardDao extends SqlSessionDaoSupport{\r\n\t\r\n\t@Autowired\r\n\tSqlSessionTemplate session;\r\n\r\n\tpublic List&lt;BoardDto&gt; listboard(BoardDto dto) {\r\n\t\tSystem.out.println(&quot;dao.&quot;);\r\n\t\tList&lt;BoardDto&gt; result = session.selectList(&quot;boarddate.listboard&quot;, dto);\r\n\t\treturn result;\r\n\t}\r\n\r\n}\r\n```\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd&quot;&gt;\r\n\t\r\n\t&lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\r\n\r\n\r\n\t&lt;bean id=&quot;dataSource&quot; \r\n\t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot;/&gt;\r\n\t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:oracle:thin:@localhost:1521:orcl&quot;/&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;board&quot;/&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;1234&quot;/&gt;\r\n\t&lt;/bean&gt;\t\r\n\r\n\r\n\t&lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;!-- classpath: -&gt; src/main/resources --&gt;\r\n\t\t&lt;property name=&quot;configLocation&quot; value=&quot;classpath:myBatis/myBatis-config.xml&quot;/&gt;\t\r\n\t&lt;/bean&gt;\r\n\r\n\r\n\r\n\t&lt;bean id=&quot;sqlSession&quot; class=&quot;org.mybatis.spring.SqlSessionTemplate&quot;&gt;\r\n\t\t&lt;constructor-arg name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;!-- DI  --&gt;\r\n\t&lt;bean class=&quot;com.board.service.BoardService&quot;&gt;&lt;/bean&gt;\r\n\t&lt;bean class=&quot;com.board.dao.BoardDao&quot;&gt;\r\n\t\t&lt;property name=&quot;sqlSessionTemplate&quot; ref=&quot;sqlSession&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n&lt;/beans&gt;\r\n```\r\nroot-context.xml \r\n\r\nwhy error is &#39;boom&#39;? i didn&#39;t understand.... T.T\r\n\r\n\r\n--&gt; edit more infomation to error","title":"Cannot invoke &quot;&quot; because &quot;&quot; is null","body":"<p>i finally find it question tab.\nwhy this error is 'boom'?????\ni didn't understand spend two days.....</p>\n<pre><code>    **java.lang.NullPointerException: Cannot invoke \n    &quot;com.board.dao.BoardDao.listboard(com.board.dto.BoardDto)&quot; because &quot;this.bDao&quot; is null**\n    at com.board.service.BoardService.listboard(BoardService.java:19)\n    at com.board.controller.BoardController.boardlist(BoardController.java:25)\n    at com.board.controller.BoardController.boardlist(BoardController.java:26)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:213)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:126)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:96)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:617)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:578)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:543)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:616)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:818)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1626)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>controller</p>\n<pre><code>@Controller\npublic class BoardController {\n    \n    @Autowired\n    BoardService service;\n    \n    \n    @RequestMapping(&quot;/board&quot;)\n    public ModelAndView boardlist (ModelAndView mv ,BoardDto dto) {\n        System.out.println(&quot;boardlist &quot;);\n        \n        System.out.println(dto+&quot;dto&quot;);\n        List&lt;BoardDto&gt; dtolist = service.listboard(dto);\n        mv.addObject(&quot;boardlist&quot;, dtolist);\n        mv.setViewName(&quot;boardlist&quot;);\n        return mv;\n    }\n}\n</code></pre>\n<p>controller is fine.. i think..</p>\n<p>service</p>\n<pre><code>@Service\npublic class BoardService {\n    \n    @Autowired\n    BoardDao bDao;\n\n    public List&lt;BoardDto&gt; listboard(BoardDto dto) {\n        System.out.println(&quot;boardservice&quot;);\n        List&lt;BoardDto&gt; result = bDao.listboard(dto);\n        return result ;\n    }\n\n}\n\n</code></pre>\n<p>this position is error why?? T.T</p>\n<p>i think this method is error position but i don't know understand. why???</p>\n<p>dao</p>\n<pre><code>public class BoardDao extends SqlSessionDaoSupport{\n    \n    @Autowired\n    SqlSessionTemplate session;\n\n    public List&lt;BoardDto&gt; listboard(BoardDto dto) {\n        System.out.println(&quot;dao.&quot;);\n        List&lt;BoardDto&gt; result = session.selectList(&quot;boarddate.listboard&quot;, dto);\n        return result;\n    }\n\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd&quot;&gt;\n    \n    &lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\n\n\n    &lt;bean id=&quot;dataSource&quot; \n        class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot;/&gt;\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:oracle:thin:@localhost:1521:orcl&quot;/&gt;\n        &lt;property name=&quot;username&quot; value=&quot;board&quot;/&gt;\n        &lt;property name=&quot;password&quot; value=&quot;1234&quot;/&gt;\n    &lt;/bean&gt; \n\n\n    &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n        &lt;!-- classpath: -&gt; src/main/resources --&gt;\n        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:myBatis/myBatis-config.xml&quot;/&gt;  \n    &lt;/bean&gt;\n\n\n\n    &lt;bean id=&quot;sqlSession&quot; class=&quot;org.mybatis.spring.SqlSessionTemplate&quot;&gt;\n        &lt;constructor-arg name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot;/&gt;\n    &lt;/bean&gt;\n    &lt;!-- DI  --&gt;\n    &lt;bean class=&quot;com.board.service.BoardService&quot;&gt;&lt;/bean&gt;\n    &lt;bean class=&quot;com.board.dao.BoardDao&quot;&gt;\n        &lt;property name=&quot;sqlSessionTemplate&quot; ref=&quot;sqlSession&quot;/&gt;\n    &lt;/bean&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>root-context.xml</p>\n<p>why error is 'boom'? i didn't understand.... T.T</p>\n<p>--&gt; edit more infomation to error</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643096534,"post_id":70844880,"comment_id":125242425,"body_markdown":"Note that with `int i = 1;` your array and list will contain 1 `null` value, the one at index 0 initially. For the rest (&quot;constantly come out as `null`&quot; and &quot;repeat the loop a few hundred times&quot;) you&#39;d need to elaborate as the shuffled array alone wouldn&#39;t do that. Are you recreating the array each time you need an id?","body":"Note that with <code>int i = 1;</code> your array and list will contain 1 <code>null</code> value, the one at index 0 initially. For the rest (&quot;constantly come out as <code>null</code>&quot; and &quot;repeat the loop a few hundred times&quot;) you&#39;d need to elaborate as the shuffled array alone wouldn&#39;t do that. Are you recreating the array each time you need an id?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1643096558,"post_id":70844880,"comment_id":125242428,"body_markdown":"[UUID](https://en.wikipedia.org/wiki/Universally_unique_identifier). [`java.util.UUID.randomUUID()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/UUID.html#randomUUID()).","body":"<a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">UUID</a>. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/UUID.html#randomUUID()\" rel=\"nofollow noreferrer\"><code>java.util.UUID.randomUUID()</code></a>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1643096826,"post_id":70844880,"comment_id":125242499,"body_markdown":"Btw, when posting code please only post the relevant portions and format them to help us follow along your code (you want us to put effort into answers so please put effort into the question). As an example, all the UI related stuff (message diaglos, access to the text field, etc.) doesn&#39;t seem to be related to the question at all. Finally, please read [ask].","body":"Btw, when posting code please only post the relevant portions and format them to help us follow along your code (you want us to put effort into answers so please put effort into the question). As an example, all the UI related stuff (message diaglos, access to the text field, etc.) doesn&#39;t seem to be related to the question at all. Finally, please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":24046200,"reputation":31,"user_id":18025186,"display_name":"James Yonder"},"score":0,"creation_date":1643097304,"post_id":70844880,"comment_id":125242675,"body_markdown":"Sorry for the issues with the formatting, this is my first time posting on here. Next Time I will follow all the guidelines","body":"Sorry for the issues with the formatting, this is my first time posting on here. Next Time I will follow all the guidelines"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643096936,"creation_date":1643096386,"answer_id":70844940,"question_id":70844880,"body_markdown":"In general, random generators `Random` or `Math.random()` are not the correct ways to generate a unique id. As you mentioned, it could be repeated (and it will definitely be).\r\n\r\nI would recommend two ways of generating `ID`.\r\n\r\nThe first one is to use `AtomicInteger`. This is good when your `ID` should be **unique** but **not random**.\r\n```java\r\nprivate static final AtomicInteger ID = new AtomicInteger(0);\r\n\r\npublic static String generateUniqueId() {\r\n    return String.valueOf(ID.incrementAndGet());\r\n}\r\n```\r\n\r\nThe second one, which is preferable to me, is to use `UUID`. This is good when your `ID` should be as **unique** as **random**.\r\n```java\r\npublic static String generateUniqueId() {\r\n    return String.valueOf(UUID.randomUUID());\r\n}\r\n```\r\n---\r\nAnother one, I can mention is to use `System.nanoTime()`.\r\n```java\r\npublic static String generateUniqueId() {\r\n    return String.valueOf(System.nanoTime());\r\n}\r\n```\r\nLong ago I had some investigation and find out that this is pretty stable for normal payload. But in general, it could retrieve the same value if you build such a system, that should generate `ID` so often. \r\n\r\n","title":"How to generate random ID numbers that can&#39;t be reused in java?","body":"<p>In general, random generators <code>Random</code> or <code>Math.random()</code> are not the correct ways to generate a unique id. As you mentioned, it could be repeated (and it will definitely be).</p>\n<p>I would recommend two ways of generating <code>ID</code>.</p>\n<p>The first one is to use <code>AtomicInteger</code>. This is good when your <code>ID</code> should be <strong>unique</strong> but <strong>not random</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final AtomicInteger ID = new AtomicInteger(0);\n\npublic static String generateUniqueId() {\n    return String.valueOf(ID.incrementAndGet());\n}\n</code></pre>\n<p>The second one, which is preferable to me, is to use <code>UUID</code>. This is good when your <code>ID</code> should be as <strong>unique</strong> as <strong>random</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String generateUniqueId() {\n    return String.valueOf(UUID.randomUUID());\n}\n</code></pre>\n<hr />\n<p>Another one, I can mention is to use <code>System.nanoTime()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String generateUniqueId() {\n    return String.valueOf(System.nanoTime());\n}\n</code></pre>\n<p>Long ago I had some investigation and find out that this is pretty stable for normal payload. But in general, it could retrieve the same value if you build such a system, that should generate <code>ID</code> so often.</p>\n"},{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643136685,"creation_date":1643096690,"answer_id":70845003,"question_id":70844880,"body_markdown":"Instead of generating numbers I would recommend to generate UUID. The chance of a is collision is close to impossible.\r\n\r\n```java\r\nUUID id = UUID.randomUUID();\r\n```\r\n\r\nOtherwise if you want to stick with numbers I would recommend you to implement yourself some Sequence service within your application.\r\n\r\n\r\n```java\r\nimport java.util.concurrent.atomic.AtomicLong;\r\n\r\npublic class SequenceService {\r\n\r\n    private final AtomicLong ids;\r\n\r\n    public SequenceService() {\r\n\r\n        long initialValue = getInitialValue();\r\n        this.ids = new AtomicLong(initialValue);\r\n    }\r\n\r\n    public long generateNextId() {\r\n        return ids.incrementAndGet();\r\n    }\r\n\r\n    private long getInitialValue() {\r\n        // this methods reads the last known leased id (e.g. from the file system)\r\n    }\r\n}\r\n\r\n``` ","title":"How to generate random ID numbers that can&#39;t be reused in java?","body":"<p>Instead of generating numbers I would recommend to generate UUID. The chance of a is collision is close to impossible.</p>\n<pre class=\"lang-java prettyprint-override\"><code>UUID id = UUID.randomUUID();\n</code></pre>\n<p>Otherwise if you want to stick with numbers I would recommend you to implement yourself some Sequence service within your application.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.atomic.AtomicLong;\n\npublic class SequenceService {\n\n    private final AtomicLong ids;\n\n    public SequenceService() {\n\n        long initialValue = getInitialValue();\n        this.ids = new AtomicLong(initialValue);\n    }\n\n    public long generateNextId() {\n        return ids.incrementAndGet();\n    }\n\n    private long getInitialValue() {\n        // this methods reads the last known leased id (e.g. from the file system)\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":24046200,"reputation":31,"user_id":18025186,"display_name":"James Yonder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1723,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1643136685,"creation_date":1643096051,"question_id":70844880,"body_markdown":"For my current java project, I am trying to generate random `ID&#39;s` for registered users. So far I have been using  `min +(int) (Math.random()*((max-min)+1))` as my formula to generate the random number. The problem that I am facing is that sometimes the numbers repeat themselves and my application wouldn&#39;t work with them.\r\n\r\n        int min = 1001;\r\n        int max = 1050;\r\n        \r\n        for (int i=1; i&lt;=1; i++)\r\n        {\r\n        int a = min +(int) (Math.random()*((max-min)+1));\r\n        \r\n        \r\n\r\n         }\r\n         \r\n         \r\n      \r\n\r\n   \r\nI have tried using and incorporating \r\n\r\n        Integer[] arr = new Integer[100];\r\n        for (int i = 1; i &lt; arr.length; i++) {\r\n        arr[i] = i;\r\n        }\r\n        Collections.shuffle(Arrays.asList(arr));\r\n\r\nbut numbers generated would constantly come out as &quot;null&quot; and it would repeat the loop a few hundred times and flood my txt file. \r\n\r\n                            ","title":"How to generate random ID numbers that can&#39;t be reused in java?","body":"<p>For my current java project, I am trying to generate random <code>ID's</code> for registered users. So far I have been using  <code>min +(int) (Math.random()*((max-min)+1))</code> as my formula to generate the random number. The problem that I am facing is that sometimes the numbers repeat themselves and my application wouldn't work with them.</p>\n<pre><code>    int min = 1001;\n    int max = 1050;\n    \n    for (int i=1; i&lt;=1; i++)\n    {\n    int a = min +(int) (Math.random()*((max-min)+1));\n    \n    \n\n     }\n     \n     \n  \n</code></pre>\n<p>I have tried using and incorporating</p>\n<pre><code>    Integer[] arr = new Integer[100];\n    for (int i = 1; i &lt; arr.length; i++) {\n    arr[i] = i;\n    }\n    Collections.shuffle(Arrays.asList(arr));\n</code></pre>\n<p>but numbers generated would constantly come out as &quot;null&quot; and it would repeat the loop a few hundred times and flood my txt file.</p>\n"},{"tags":["java","multithreading","volatile"],"comments":[{"owner":{"account_id":8834,"reputation":297144,"user_id":16076,"display_name":"Mitch Wheat"},"score":6,"creation_date":1404137467,"post_id":24492061,"comment_id":37913773,"body_markdown":"&#39;volatile&#39; - the keyword that keeps on giving!","body":"&#39;volatile&#39; - the keyword that keeps on giving!"},{"owner":{"account_id":458224,"reputation":37507,"user_id":857994,"accept_rate":97,"display_name":"John Humphreys"},"score":3,"creation_date":1404137914,"post_id":24492061,"comment_id":37914073,"body_markdown":"It seems to me you probably don&#39;t understand something very well yourself if you can&#39;t directly address a very specific quote in Java documentation.  In any case a snarky comment with no attempted advice isn&#39;t great use of stack overflow&#39;s servers, now is it?  If the answer is &quot;it&#39;s too complex to explain but here are good references.&quot; then that is completely fine.","body":"It seems to me you probably don&#39;t understand something very well yourself if you can&#39;t directly address a very specific quote in Java documentation.  In any case a snarky comment with no attempted advice isn&#39;t great use of stack overflow&#39;s servers, now is it?  If the answer is &quot;it&#39;s too complex to explain but here are good references.&quot; then that is completely fine."},{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":3,"creation_date":1404137934,"post_id":24492061,"comment_id":37914092,"body_markdown":"@Holger I suspect there is a short enough answer out there that can address Q1. Q2 is also likely to be extremely short (i.e. &quot;Yes, that&#39;s correct&quot;.)","body":"@Holger I suspect there is a short enough answer out there that can address Q1. Q2 is also likely to be extremely short (i.e. &quot;Yes, that&#39;s correct&quot;.)"},{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":1,"creation_date":1404138012,"post_id":24492061,"comment_id":37914139,"body_markdown":"@w00te Q1 likely answered by [Example of a memory consistency error when using volatile keyword?](http://stackoverflow.com/a/13598456/474189)","body":"@w00te Q1 likely answered by <a href=\"http://stackoverflow.com/a/13598456/474189\">Example of a memory consistency error when using volatile keyword?</a>"},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1404138080,"post_id":24492061,"comment_id":37914197,"body_markdown":"@HotLicks - I bet atleast *Jon Skeet* or *HoverCroft Full of Eels* do :P.","body":"@HotLicks - I bet atleast <i>Jon Skeet</i> or <i>HoverCroft Full of Eels</i> do :P."},{"owner":{"account_id":458224,"reputation":37507,"user_id":857994,"accept_rate":97,"display_name":"John Humphreys"},"score":0,"creation_date":1404138102,"post_id":24492061,"comment_id":37914208,"body_markdown":"Thanks Duncan; that does look like a good answer to Q1 :).","body":"Thanks Duncan; that does look like a good answer to Q1 :)."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1404138336,"post_id":24492061,"comment_id":37914350,"body_markdown":"@Duncan: Q2 might be answered shortly, however, you can’t answer Q1 in a compact matter as it would not be enough to name *one example* given the question as it is written. And to a questioner who seems to think, atomicity was the only one issue with concurrency, the short answer would be rather misleading.","body":"@Duncan: Q2 might be answered shortly, however, you can’t answer Q1 in a compact matter as it would not be enough to name <i>one example</i> given the question as it is written. And to a questioner who seems to think, atomicity was the only one issue with concurrency, the short answer would be rather misleading."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1404138613,"post_id":24492061,"comment_id":37914530,"body_markdown":"@TheLostMind actually both of those people will be the first to admit that their understanding of the jmm is incomplete I&#39;d say ;) anyhow this is the prime example for a way too broad question I think","body":"@TheLostMind actually both of those people will be the first to admit that their understanding of the jmm is incomplete I&#39;d say ;) anyhow this is the prime example for a way too broad question I think"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1404138991,"post_id":24492061,"comment_id":37914759,"body_markdown":"@w00te: Ok, so if you wish to hear it: “it&#39;s too complex to explain but there are good references.” If you tried to research by yourself, you already knew that. However, the often cited “Java Concurrency in Practice” by Brian Goetz, Joshua Bloch, Doug Lea, et al. is one of the best resources… But normally, asking for such literature is considered off-topic on SO.","body":"@w00te: Ok, so if you wish to hear it: “it&#39;s too complex to explain but there are good references.” If you tried to research by yourself, you already knew that. However, the often cited “Java Concurrency in Practice” by Brian Goetz, Joshua Bloch, Doug Lea, et al. is one of the best resources… But normally, asking for such literature is considered off-topic on SO."},{"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"score":1,"creation_date":1404147850,"post_id":24492061,"comment_id":37919658,"body_markdown":"I think the JLS wording is misleading.  The term &quot;memory consistency error&quot; usually refers only to visibility issues, not the atomicity of complex operations.  The `volatile` keyword completely eliminates the former, but does nothing at all to address the latter.","body":"I think the JLS wording is misleading.  The term &quot;memory consistency error&quot; usually refers only to visibility issues, not the atomicity of complex operations.  The <code>volatile</code> keyword completely eliminates the former, but does nothing at all to address the latter."}],"answers":[{"tags":[],"owner":{"account_id":438043,"reputation":1007,"user_id":826068,"accept_rate":62,"display_name":"Emil Salageanu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1404138467,"creation_date":1404138467,"answer_id":24492458,"question_id":24492061,"body_markdown":"when coming to concurrency, you might want to ensure 2 things: \r\n\r\n  * atomic operations: a set of operations is atomic - this is usually achieved with \r\n&quot;synchronized&quot;  (higher level constructs). Also with volatile for instance for read/write on long and double.   \r\n\r\n  * visibility: a thread B sees a modification made by a thread A. Even if an operation is atomic, like a write to an int variable, a second thread can still see a non-up-to-date value of the variable, due to processor caches. Putting a variable as volatile ensures that the second thread does see the up-to-date value of that variable. More than that, it ensures that the second thread sees an up-to-date value of ALL the variables written by the first thread before the write to the volatile variable.   ","title":"The volatile key word and memory consistency errors","body":"<p>when coming to concurrency, you might want to ensure 2 things: </p>\n\n<ul>\n<li><p>atomic operations: a set of operations is atomic - this is usually achieved with \n\"synchronized\"  (higher level constructs). Also with volatile for instance for read/write on long and double.   </p></li>\n<li><p>visibility: a thread B sees a modification made by a thread A. Even if an operation is atomic, like a write to an int variable, a second thread can still see a non-up-to-date value of the variable, due to processor caches. Putting a variable as volatile ensures that the second thread does see the up-to-date value of that variable. More than that, it ensures that the second thread sees an up-to-date value of ALL the variables written by the first thread before the write to the volatile variable.   </p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":303873,"reputation":28877,"user_id":613064,"accept_rate":63,"display_name":"Simon Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404138779,"creation_date":1404138779,"answer_id":24492561,"question_id":24492061,"body_markdown":"The usual example:\r\n\r\n    while(!condition)\r\n        sleep(10);\r\n\r\nif `condition` is volatile, this behaves as expected. If it is not, the compiler is allowed to optimize this to\r\n\r\n    if(!condition)\r\n        for(;;)\r\n            sleep(10);\r\n\r\nThis is completely orthogonal to atomicity: if `condition` is of a hypothetical integer type that is not atomic, then the sequence\r\n\r\n    thread 1 writes upper half to 0\r\n    thread 2 reads upper half (0)\r\n    thread 2 reads lower half (0)\r\n    thread 1 writes lower half (1)\r\n\r\ncan happen while the variable is updated from a nonzero value that just happens to have a lower half of zero to a nonzero value that has an upper half of zero; in this case, thread 2 reads the variable as zero. The `volatile` keyword in this case makes sure that thread 2 really reads the variable instead of using its local copy, but it does not affect timing.\r\n\r\nThird, atomicity does not protect against\r\n\r\n    thread 1 reads value (0)\r\n    thread 2 reads value (0)\r\n    thread 1 writes incremented value (1)\r\n    thread 2 writes incremented value (1)\r\n\r\nOne of the best ways to use atomic volatile variables are the read and write counters of a ring buffer:\r\n\r\n    thread 1 looks at read pointer, calculates free space\r\n    thread 1 fills free space with data\r\n    thread 1 updates write pointer (which is `volatile`, so the side effects of filling the free space are also committed before)\r\n    thread 2 looks at write pointer, calculates amount of data received\r\n    ...\r\n\r\nHere, no lock is needed to synchronize the threads, atomicity guarantees that the read and write pointers will always be accessed consistently and `volatile` enforces the necessary ordering.","title":"The volatile key word and memory consistency errors","body":"<p>The usual example:</p>\n\n<pre><code>while(!condition)\n    sleep(10);\n</code></pre>\n\n<p>if <code>condition</code> is volatile, this behaves as expected. If it is not, the compiler is allowed to optimize this to</p>\n\n<pre><code>if(!condition)\n    for(;;)\n        sleep(10);\n</code></pre>\n\n<p>This is completely orthogonal to atomicity: if <code>condition</code> is of a hypothetical integer type that is not atomic, then the sequence</p>\n\n<pre><code>thread 1 writes upper half to 0\nthread 2 reads upper half (0)\nthread 2 reads lower half (0)\nthread 1 writes lower half (1)\n</code></pre>\n\n<p>can happen while the variable is updated from a nonzero value that just happens to have a lower half of zero to a nonzero value that has an upper half of zero; in this case, thread 2 reads the variable as zero. The <code>volatile</code> keyword in this case makes sure that thread 2 really reads the variable instead of using its local copy, but it does not affect timing.</p>\n\n<p>Third, atomicity does not protect against</p>\n\n<pre><code>thread 1 reads value (0)\nthread 2 reads value (0)\nthread 1 writes incremented value (1)\nthread 2 writes incremented value (1)\n</code></pre>\n\n<p>One of the best ways to use atomic volatile variables are the read and write counters of a ring buffer:</p>\n\n<pre><code>thread 1 looks at read pointer, calculates free space\nthread 1 fills free space with data\nthread 1 updates write pointer (which is `volatile`, so the side effects of filling the free space are also committed before)\nthread 2 looks at write pointer, calculates amount of data received\n...\n</code></pre>\n\n<p>Here, no lock is needed to synchronize the threads, atomicity guarantees that the read and write pointers will always be accessed consistently and <code>volatile</code> enforces the necessary ordering.</p>\n"},{"tags":[],"owner":{"account_id":82244,"reputation":16374,"user_id":231397,"accept_rate":24,"display_name":"Christian Fries"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404138925,"creation_date":1404138925,"answer_id":24492621,"question_id":24492061,"body_markdown":"Ad 1: With a volatile variable, the variable is always checked against a master copy and all threads see a consistent state. But if you use that volatility variable in a non-atomic operation writing back the result (say a = f(a)) then you might still create a memory inconsistency. That&#39;s how I would understand the remark &quot;reduces the risk&quot;. A volatile variable is consistent at the time of read, but you still might need to use a synchronize.\r\n\r\nAd 2: I don&#39;t know. But: If your definition of &quot;happens before&quot; includes the remark\r\n\r\n&gt; This means that changes to a volatile variable are always visible to other threads. What&#39;s more, it also means that when a thread reads a volatile variable, it sees not just the latest change to the volatile, but also the side effects of the code that led up the change.\r\n\r\nI would not dare to rely on any other property except that volatile ensures this. What else do you expect from it?!","title":"The volatile key word and memory consistency errors","body":"<p>Ad 1: With a volatile variable, the variable is always checked against a master copy and all threads see a consistent state. But if you use that volatility variable in a non-atomic operation writing back the result (say a = f(a)) then you might still create a memory inconsistency. That's how I would understand the remark \"reduces the risk\". A volatile variable is consistent at the time of read, but you still might need to use a synchronize.</p>\n\n<p>Ad 2: I don't know. But: If your definition of \"happens before\" includes the remark</p>\n\n<blockquote>\n  <p>This means that changes to a volatile variable are always visible to other threads. What's more, it also means that when a thread reads a volatile variable, it sees not just the latest change to the volatile, but also the side effects of the code that led up the change.</p>\n</blockquote>\n\n<p>I would not dare to rely on any other property except that volatile ensures this. What else do you expect from it?!</p>\n"},{"tags":[],"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404141108,"creation_date":1404141108,"answer_id":24493343,"question_id":24492061,"body_markdown":"For question 1, the risk is only reduced (and not eliminated) because volatile only applies to a single read/write operation and not more complex operations such as increment, decrement, etc.\r\n\r\nFor question 2, the effect of volatile is to make changes immediately visible to other threads. As the quoted passage states &quot;this does not eliminate all need to synchronize atomic actions, because memory consistency errors are still possible.&quot; Simply because reads are atomic does not mean that they are thread safe. So establishing a happens before relationship is almost a (necessary) side-effect of guaranteeing memory consistency across threads.","title":"The volatile key word and memory consistency errors","body":"<p>For question 1, the risk is only reduced (and not eliminated) because volatile only applies to a single read/write operation and not more complex operations such as increment, decrement, etc.</p>\n\n<p>For question 2, the effect of volatile is to make changes immediately visible to other threads. As the quoted passage states \"this does not eliminate all need to synchronize atomic actions, because memory consistency errors are still possible.\" Simply because reads are atomic does not mean that they are thread safe. So establishing a happens before relationship is almost a (necessary) side-effect of guaranteeing memory consistency across threads.</p>\n"},{"tags":[],"owner":{"account_id":1370027,"reputation":49110,"user_id":1305501,"accept_rate":77,"display_name":"nosid"},"down_vote_count":2,"up_vote_count":6,"is_accepted":true,"score":4,"last_activity_date":1643136583,"creation_date":1404151594,"answer_id":24496258,"question_id":24492061,"body_markdown":"**What do they mean by &quot;reduces the risk&quot;?**\r\n\r\n*Atomicity* is one issue addressed by the _Java Memory Model_. However, more important than _Atomicity_ are the following issues:\r\n\r\n- memory architecture, e.g. impact of CPU caches on read and write operations\r\n- CPU optimizations, e.g. reordering of loads and stores\r\n- compiler optimizations, e.g. added and removed loads and stores\r\n\r\nThe following listing contains a frequently used example. The operations on `x` and `y` are atomic. Still, the program can print both lines.\r\n\r\n    int x = 0, y = 0;\r\n\r\n    // thread 1\r\n    x = 1\r\n    if (y == 0) System.out.println(&quot;foo&quot;);\r\n\r\n    // thread 2\r\n    y = 1\r\n    if (x == 0) System.out.println(&quot;bar&quot;);\r\n\r\nHowever, if you declare `x` and `y` as `volatile`, only one of the two lines can be printed.\r\n\r\n---\r\n\r\n**How is a memory consistency error still possible when using volatile?**\r\n\r\nThe following example uses `volatile`. However, updates might still get lost.\r\n\r\n    volatile int x = 0;\r\n\r\n    // thread 1\r\n    x += 1;\r\n\r\n    // thread 2\r\n    x += 1;\r\n\r\n---\r\n\r\n**Would it be true to say that the only effect of placing volatile on a non-double, non-long primitive is to enable the &quot;happens-before&quot; relationship with subsequent reads from other threads?**\r\n\r\n_Happens-before_ is often misunderstood. The _consistency model_ defined by _happens-before_ is weak and difficult to use correctly. This can be demonstrated with the following example, that is known as _Independent Reads of Independent Writes_ (IRIW):\r\n\r\n    volatile int x = 0, y = 0;\r\n\r\n    // thread 1\r\n    x = 1;\r\n\r\n    // thread 2\r\n    y = 1;\r\n\r\n    // thread 3\r\n    if (x == 1) System.out.println(y);\r\n\r\n    // thread 4\r\n    if (y == 1) System.out.println(x);\r\n\r\nOnly with _happens-before_, two `0`s would be valid result. However, that&#39;s apparently counter-intuitive. For that reason, Java provides a stricter _consistency model_, that forbids this _relativity_ issue, and that is known as [sequential consistency](http://en.wikipedia.org/wiki/Sequential_consistency). You can find it in sections [&#167;17.4.3](http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.3) and [&#167;17.4.5](http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5) of the _Java Language Specification_. The most important part is:\r\n\r\n&gt; A program is _correctly synchronized_ if and only if all sequentially consistent executions are free of data races. If a program is correctly synchronized, then all executions of the program will appear to be sequentially consistent (&#167;17.4.3).\r\n\r\nThat means, `volatile` gives you more than _happens-before_. It gives you _sequential consistency_ if used for all _conflicting accesses_ ([&#167;17.4.3](http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.3)).","title":"The volatile key word and memory consistency errors","body":"<p><strong>What do they mean by &quot;reduces the risk&quot;?</strong></p>\n<p><em>Atomicity</em> is one issue addressed by the <em>Java Memory Model</em>. However, more important than <em>Atomicity</em> are the following issues:</p>\n<ul>\n<li>memory architecture, e.g. impact of CPU caches on read and write operations</li>\n<li>CPU optimizations, e.g. reordering of loads and stores</li>\n<li>compiler optimizations, e.g. added and removed loads and stores</li>\n</ul>\n<p>The following listing contains a frequently used example. The operations on <code>x</code> and <code>y</code> are atomic. Still, the program can print both lines.</p>\n<pre><code>int x = 0, y = 0;\n\n// thread 1\nx = 1\nif (y == 0) System.out.println(&quot;foo&quot;);\n\n// thread 2\ny = 1\nif (x == 0) System.out.println(&quot;bar&quot;);\n</code></pre>\n<p>However, if you declare <code>x</code> and <code>y</code> as <code>volatile</code>, only one of the two lines can be printed.</p>\n<hr />\n<p><strong>How is a memory consistency error still possible when using volatile?</strong></p>\n<p>The following example uses <code>volatile</code>. However, updates might still get lost.</p>\n<pre><code>volatile int x = 0;\n\n// thread 1\nx += 1;\n\n// thread 2\nx += 1;\n</code></pre>\n<hr />\n<p><strong>Would it be true to say that the only effect of placing volatile on a non-double, non-long primitive is to enable the &quot;happens-before&quot; relationship with subsequent reads from other threads?</strong></p>\n<p><em>Happens-before</em> is often misunderstood. The <em>consistency model</em> defined by <em>happens-before</em> is weak and difficult to use correctly. This can be demonstrated with the following example, that is known as <em>Independent Reads of Independent Writes</em> (IRIW):</p>\n<pre><code>volatile int x = 0, y = 0;\n\n// thread 1\nx = 1;\n\n// thread 2\ny = 1;\n\n// thread 3\nif (x == 1) System.out.println(y);\n\n// thread 4\nif (y == 1) System.out.println(x);\n</code></pre>\n<p>Only with <em>happens-before</em>, two <code>0</code>s would be valid result. However, that's apparently counter-intuitive. For that reason, Java provides a stricter <em>consistency model</em>, that forbids this <em>relativity</em> issue, and that is known as <a href=\"http://en.wikipedia.org/wiki/Sequential_consistency\" rel=\"nofollow noreferrer\">sequential consistency</a>. You can find it in sections <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.3\" rel=\"nofollow noreferrer\">§17.4.3</a> and <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">§17.4.5</a> of the <em>Java Language Specification</em>. The most important part is:</p>\n<blockquote>\n<p>A program is <em>correctly synchronized</em> if and only if all sequentially consistent executions are free of data races. If a program is correctly synchronized, then all executions of the program will appear to be sequentially consistent (§17.4.3).</p>\n</blockquote>\n<p>That means, <code>volatile</code> gives you more than <em>happens-before</em>. It gives you <em>sequential consistency</em> if used for all <em>conflicting accesses</em> (<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.3\" rel=\"nofollow noreferrer\">§17.4.3</a>).</p>\n"},{"tags":[],"owner":{"account_id":1479215,"reputation":2511,"user_id":1388943,"accept_rate":48,"display_name":"stdout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438859432,"creation_date":1438859432,"answer_id":31854205,"question_id":24492061,"body_markdown":"Assume that you have a CPU with a CPU cache or CPU registers. Independent from your CPU architecture in terms of number of cores it has, volatile does NOT guarantee you a perfect inconsistency. The only way to achieve this is to use synchronized or atomic references with a performance price. \r\n\r\nFor example you have multiple threads (Thread A &amp; Thread B) working on a shared data. Assume that Thread A wants to update the shared data and it&#39;s is started .For performance reasons, Thread A&#39;s stack was moved to CPU cache or registers. Then Thread A updated the shared data. But the problem with those places is that actually they don&#39;t flush back the updated value to the main memory immediately. This is where inconsistency&#39;s offered because up to the flash back operation, Thread B might have wanted to play with the same data, which would have taken it from the main memory - yet unupdated value.\r\n\r\nIf you use volatile all the operations will be perfomed on the main memory so you don&#39;t have a flush back latency. But, this time you may suffer from thread pipeline. In the middle of write operation (composed of number of atomic operations), Thread B may have been executed by the os to perform a read operation and that&#39;s it! Thread B will read the unupdated value again. That&#39;s why it&#39;s said it reduces the risk.\r\n\r\nHope you got it.\r\n","title":"The volatile key word and memory consistency errors","body":"<p>Assume that you have a CPU with a CPU cache or CPU registers. Independent from your CPU architecture in terms of number of cores it has, volatile does NOT guarantee you a perfect inconsistency. The only way to achieve this is to use synchronized or atomic references with a performance price. </p>\n\n<p>For example you have multiple threads (Thread A &amp; Thread B) working on a shared data. Assume that Thread A wants to update the shared data and it's is started .For performance reasons, Thread A's stack was moved to CPU cache or registers. Then Thread A updated the shared data. But the problem with those places is that actually they don't flush back the updated value to the main memory immediately. This is where inconsistency's offered because up to the flash back operation, Thread B might have wanted to play with the same data, which would have taken it from the main memory - yet unupdated value.</p>\n\n<p>If you use volatile all the operations will be perfomed on the main memory so you don't have a flush back latency. But, this time you may suffer from thread pipeline. In the middle of write operation (composed of number of atomic operations), Thread B may have been executed by the os to perform a read operation and that's it! Thread B will read the unupdated value again. That's why it's said it reduces the risk.</p>\n\n<p>Hope you got it.</p>\n"}],"owner":{"account_id":458224,"reputation":37507,"user_id":857994,"accept_rate":97,"display_name":"John Humphreys"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1591,"favorite_count":0,"down_vote_count":3,"up_vote_count":10,"accepted_answer_id":24496258,"answer_count":6,"score":7,"last_activity_date":1643136583,"creation_date":1404137344,"question_id":24492061,"body_markdown":"**In the oracle Java documentation [located here][1], the following is said:**\r\n\r\n&gt; Atomic actions cannot be interleaved, so they can be used without fear of thread interference. However, this does not eliminate all need to synchronize atomic actions, because memory consistency errors are still possible. Using volatile variables reduces the risk of memory consistency errors, because any write to a volatile variable establishes a happens-before relationship with subsequent reads of that same variable. This means that changes to a volatile variable are always visible to other threads. What&#39;s more, it also means that when a thread reads a volatile variable, it sees not just the latest change to the volatile, but also the side effects of the code that led up the change.\r\n\r\nIt also says:\r\n\r\n - Reads and writes are atomic for reference variables and for most\r\n   primitive variables (all types except long and double).\r\n - Reads and writes are atomic for all variables declared volatile (including long\r\n   and double variables).\r\n\r\n----------\r\n\r\n**I have two questions regarding these statements:**\r\n\r\n 1. &quot;Using volatile variables reduces the risk of memory consistency errors&quot; - What do they mean by &quot;reduces the risk&quot;, and how is a memory consistency error still possible when using volatile?\r\n\r\n 2. Would it be true to say that the only effect of placing volatile on a non-double, non-long primitive is to enable the &quot;happens-before&quot; relationship  with subsequent reads from other threads?  I ask this since it seems that those variables already have atomic reads.\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html","title":"The volatile key word and memory consistency errors","body":"<p><strong>In the oracle Java documentation <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\">located here</a>, the following is said:</strong></p>\n\n<blockquote>\n  <p>Atomic actions cannot be interleaved, so they can be used without fear of thread interference. However, this does not eliminate all need to synchronize atomic actions, because memory consistency errors are still possible. Using volatile variables reduces the risk of memory consistency errors, because any write to a volatile variable establishes a happens-before relationship with subsequent reads of that same variable. This means that changes to a volatile variable are always visible to other threads. What's more, it also means that when a thread reads a volatile variable, it sees not just the latest change to the volatile, but also the side effects of the code that led up the change.</p>\n</blockquote>\n\n<p>It also says:</p>\n\n<ul>\n<li>Reads and writes are atomic for reference variables and for most\nprimitive variables (all types except long and double).</li>\n<li>Reads and writes are atomic for all variables declared volatile (including long\nand double variables).</li>\n</ul>\n\n<hr>\n\n<p><strong>I have two questions regarding these statements:</strong></p>\n\n<ol>\n<li><p>\"Using volatile variables reduces the risk of memory consistency errors\" - What do they mean by \"reduces the risk\", and how is a memory consistency error still possible when using volatile?</p></li>\n<li><p>Would it be true to say that the only effect of placing volatile on a non-double, non-long primitive is to enable the \"happens-before\" relationship  with subsequent reads from other threads?  I ask this since it seems that those variables already have atomic reads.</p></li>\n</ol>\n"},{"tags":["java","spring-boot","spring-validator"],"comments":[{"owner":{"account_id":10487366,"reputation":93,"user_id":7730443,"accept_rate":0,"display_name":"Vivek Baranwal"},"score":1,"creation_date":1680781754,"post_id":69576688,"comment_id":133957977,"body_markdown":"Adding Validator on Enum type of object in DTO is not working for me but when I change the type to String and validate String ConstraintValidator its working. Can you please confirm how you did that? I can see you have created a Base Interface for your Enum.","body":"Adding Validator on Enum type of object in DTO is not working for me but when I change the type to String and validate String ConstraintValidator its working. Can you please confirm how you did that? I can see you have created a Base Interface for your Enum."}],"answers":[{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634287733,"creation_date":1634250102,"answer_id":69578004,"question_id":69576688,"body_markdown":"To deserialize an enum by `label` value you can use `@JsonValue` annotation on a getter:\r\n\r\n    public enum TransactionMethod implements EnumBase {\r\n    \r\n        CREDIT_CARD(&quot;creditcard&quot;),\r\n        DEBIT_CARD(&quot;debitcard&quot;);\r\n    \r\n        public String label;\r\n    \r\n        TransactionMethod(String label) {\r\n            this.label = label;\r\n        }\r\n    \r\n        @Override\r\n        @JsonValue\r\n        public String getValue() {\r\n            return this.label;\r\n        }\r\n    }\r\n\r\n[How To Serialize and Deserialize Enums with Jackson](https://www.baeldung.com/jackson-serialize-enums)\r\n\r\nAlso, pay attention to the facts:\r\n1. You have `values.remove(i)` in the `initialize()` method of `EnumValidatorImpl`, although elements of `Set` are not indexed and `Set&lt;String&gt; values` has generic type `String`.\r\n2. In your `EnumValidator` you can set `nullable=true` using `boolean nullable()`, but in `PayOrderDTO` you still check the `method` field for null using `@NotNull`, which can lead to an undesirable result.\r\n\r\nEDIT:\r\n\r\nYou can define locale-specific messages with MessageSource, look at [this article](https://www.baeldung.com/spring-custom-validation-message-source).\r\n\r\nIn your message.properties: `invalid.transaction.method=is not valid, expected values are [&#39;creditcard&#39;,&#39;debitcard&#39;]`\r\n\r\nThen add message to annotation:\r\n\r\n    @EnumValidator(enumClass = TransactionMethod.class, message = &quot;{invalid.transaction.method}&quot;)\r\n\r\nBy failed validation catch`MethodArgumentNotValidException` in `@ExceptionHandler` method in `@RestController` or `@RestControllerAdvice` and format message as you want, e.g.:\r\n\r\n\r\n\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    @ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\r\n    public void handleException(MethodArgumentNotValidException e) {\r\n    \r\n        String errorMessage = e.getBindingResult().getFieldErrors().stream()\r\n                .map(fieldError -&gt; fieldError.getField() + &quot; &quot; + fieldError.getDefaultMessage()) \r\n                .collect(Collectors.joining(&quot;;&quot;));\r\n    \r\n    \r\n        LOG.error(e.getMessage()); // method is not valid, expected values are [&#39;creditcard&#39;,&#39;debitcard&#39;]\r\n    }","title":"Spring boot mvc validate enum by value","body":"<p>To deserialize an enum by <code>label</code> value you can use <code>@JsonValue</code> annotation on a getter:</p>\n<pre><code>public enum TransactionMethod implements EnumBase {\n\n    CREDIT_CARD(&quot;creditcard&quot;),\n    DEBIT_CARD(&quot;debitcard&quot;);\n\n    public String label;\n\n    TransactionMethod(String label) {\n        this.label = label;\n    }\n\n    @Override\n    @JsonValue\n    public String getValue() {\n        return this.label;\n    }\n}\n</code></pre>\n<p><a href=\"https://www.baeldung.com/jackson-serialize-enums\" rel=\"nofollow noreferrer\">How To Serialize and Deserialize Enums with Jackson</a></p>\n<p>Also, pay attention to the facts:</p>\n<ol>\n<li>You have <code>values.remove(i)</code> in the <code>initialize()</code> method of <code>EnumValidatorImpl</code>, although elements of <code>Set</code> are not indexed and <code>Set&lt;String&gt; values</code> has generic type <code>String</code>.</li>\n<li>In your <code>EnumValidator</code> you can set <code>nullable=true</code> using <code>boolean nullable()</code>, but in <code>PayOrderDTO</code> you still check the <code>method</code> field for null using <code>@NotNull</code>, which can lead to an undesirable result.</li>\n</ol>\n<p>EDIT:</p>\n<p>You can define locale-specific messages with MessageSource, look at <a href=\"https://www.baeldung.com/spring-custom-validation-message-source\" rel=\"nofollow noreferrer\">this article</a>.</p>\n<p>In your message.properties: <code>invalid.transaction.method=is not valid, expected values are ['creditcard','debitcard']</code></p>\n<p>Then add message to annotation:</p>\n<pre><code>@EnumValidator(enumClass = TransactionMethod.class, message = &quot;{invalid.transaction.method}&quot;)\n</code></pre>\n<p>By failed validation catch<code>MethodArgumentNotValidException</code> in <code>@ExceptionHandler</code> method in <code>@RestController</code> or <code>@RestControllerAdvice</code> and format message as you want, e.g.:</p>\n<pre><code>@ExceptionHandler(MethodArgumentNotValidException.class)\n@ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\npublic void handleException(MethodArgumentNotValidException e) {\n\n    String errorMessage = e.getBindingResult().getFieldErrors().stream()\n            .map(fieldError -&gt; fieldError.getField() + &quot; &quot; + fieldError.getDefaultMessage()) \n            .collect(Collectors.joining(&quot;;&quot;));\n\n\n    LOG.error(e.getMessage()); // method is not valid, expected values are ['creditcard','debitcard']\n}\n</code></pre>\n"}],"owner":{"account_id":11383555,"reputation":583,"user_id":8345815,"display_name":"Mostafa AGUERRAM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69578004,"answer_count":1,"score":1,"last_activity_date":1643136286,"creation_date":1634241526,"question_id":69576688,"body_markdown":"In my spring boot application I want to validate enum by custom value:\r\nI have my DTO like following : \r\n```java\r\n@Data\r\npublic class PayOrderDTO {\r\n    @NotNull\r\n    @EnumValidator(enumClass = TransactionMethod.class)\r\n    private TransactionMethod method;\r\n}\r\n```\r\nAnd my enum validator annotation defined like bellow:\r\n\r\n```java\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.FIELD, ElementType.METHOD})\r\n@Constraint(validatedBy = EnumValidatorImpl.class)\r\npublic @interface EnumValidator {\r\n    String message() default &quot;is invalid&quot;;\r\n\r\n    /**\r\n     * @return Specify group\r\n     */\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n    /**\r\n     * @return Specifies the enumeration type. The parameter value must be a value in this enumeration type\r\n     */\r\n    Class&lt;? extends EnumBase&gt; enumClass();\r\n\r\n    /**\r\n     * @return Can it be null\r\n     */\r\n    boolean nullable() default false;\r\n\r\n    /**\r\n     * @return Values to exclude\r\n     */\r\n    int[] exclusion() default {};\r\n\r\n}\r\n```\r\nThis is the implementation of my enum validator annotation\r\n```java\r\npublic class EnumValidatorImpl implements ConstraintValidator&lt;EnumValidator, EnumBase&gt; {\r\n    private boolean nullable;\r\n\r\n    private Set&lt;String&gt; values;\r\n\r\n    @Override\r\n    public void initialize(EnumValidator constraintAnnotation) {\r\n        this.nullable = constraintAnnotation.nullable();\r\n        Class&lt;? extends EnumBase&gt; enumClass = constraintAnnotation.enumClass();\r\n        int[] exclusion = constraintAnnotation.exclusion();\r\n\r\n        values = new HashSet&lt;&gt;();\r\n        EnumBase[] enumConstants = enumClass.getEnumConstants();\r\n        for (EnumBase iEnum : enumConstants) {\r\n            values.add(iEnum.getValue());\r\n        }\r\n        if (exclusion.length &gt; 0)\r\n            for (int i : exclusion) {\r\n                values.remove(i);\r\n            }\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(EnumBase param, ConstraintValidatorContext constraintValidatorContext) {\r\n        if (nullable &amp;&amp; param == null) {\r\n            return true;\r\n        }\r\n        else if(param == null)\r\n            return false;\r\n        return values.contains(param.getValue());\r\n    }\r\n}\r\n\r\n```\r\nthis is my enum:\r\n```java\r\npublic enum TransactionMethod implements EnumBase {\r\n    CREDIT_CARD(&quot;creditcard&quot;),\r\n    DEBIT_CARD(&quot;debitcard&quot;);\r\n    public String label;\r\n\r\n    TransactionMethod(String label) {\r\n        this.label = label;\r\n    }\r\n\r\n    @Override\r\n    public String getValue() {\r\n        return this.label;\r\n    }\r\n\r\n    @JsonCreator(mode = JsonCreator.Mode.DELEGATING)\r\n    public static TransactionMethod fromString(String value) {\r\n        return TransactionMethod.valueOf(value);\r\n//        return Arrays.stream(TransactionMethod.values())\r\n//                .filter(el -&gt; el.getValue().equals(value))\r\n//                .findFirst()\r\n//                .orElseThrow(() -&gt; {\r\n//                    throw new IllegalArgumentException(&quot;Not valid method&quot;);\r\n//                });\r\n    }\r\n}\r\n```\r\nwhen I&#39;m sending my http request to that rest controller : \r\n```java\r\n@RequiredArgsConstructor\r\n@RestController\r\n@RequestMapping(&quot;/orders&quot;)\r\n@Validated\r\npublic class PaymentRestController {\r\n    \r\n    public ResponseEntity&lt;?&gt; createPayment(\r\n            @Valid @RequestBody PayOrderDTO payOrderDTO\r\n    ) {\r\n        return ResponseEntity.ok(&quot;Worked&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nrequest example:\r\n```HTTP\r\nPOST /orders/ HTTP/1.1\r\nHost: store.test\r\nContent-Type: application/json\r\nContent-Length: 152\r\n\r\n{\r\n    &quot;method&quot;:&quot;creditcard&quot;,\r\n}\r\n```\r\nI&#39;m expecting to get invalidation exception or error message defined in my enum validator, instead I get an exception in the console that contains : \r\n```\r\nJSON parse error: Cannot construct instance of `x.TransactionMethod`, problem: No enum constant x.TransactionMethod.creditcard\r\n``` \r\n\r\nBut if I sent this request : \r\n```HTTP\r\nPOST /orders/ HTTP/1.1\r\nHost: store.test\r\nContent-Type: application/json\r\nContent-Length: 152\r\n\r\n{\r\n    &quot;method&quot;:&quot;CREDIT_CARD&quot;,\r\n}\r\n```\r\nthe application works normal\r\n\r\nI want to validate enum using label instead of constant value of the enum, if it doesn&#39;t exists, a validation error will be thrown like : \r\n```\r\nHTTP 422 : field &#39;method&#39; is not valid, expected values are [&#39;creditcard&#39;,&#39;debitcard&#39;]\r\n```\r\n**I tried some solutions as well like the convertor**\r\n```java\r\npublic class TransactionMethodStringEnumConverter implements Converter&lt;String, TransactionMethod&gt; {\r\n    @Override\r\n    public TransactionMethod convert(String source) {\r\n        Optional&lt;TransactionMethod&gt; first = Arrays.stream(TransactionMethod.values()).filter(e -&gt; e.label.equals(source)).findFirst();\r\n        return first.orElseThrow(() -&gt; {\r\n            throw new IllegalArgumentException();\r\n        });\r\n    }\r\n\r\n}\r\n```\r\nbut seems like I does nothing.\r\nI would really appreciate is someone has a good solution for this, Thank you &#128591; ","title":"Spring boot mvc validate enum by value","body":"<p>In my spring boot application I want to validate enum by custom value:\nI have my DTO like following :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class PayOrderDTO {\n    @NotNull\n    @EnumValidator(enumClass = TransactionMethod.class)\n    private TransactionMethod method;\n}\n</code></pre>\n<p>And my enum validator annotation defined like bellow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.METHOD})\n@Constraint(validatedBy = EnumValidatorImpl.class)\npublic @interface EnumValidator {\n    String message() default &quot;is invalid&quot;;\n\n    /**\n     * @return Specify group\n     */\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    /**\n     * @return Specifies the enumeration type. The parameter value must be a value in this enumeration type\n     */\n    Class&lt;? extends EnumBase&gt; enumClass();\n\n    /**\n     * @return Can it be null\n     */\n    boolean nullable() default false;\n\n    /**\n     * @return Values to exclude\n     */\n    int[] exclusion() default {};\n\n}\n</code></pre>\n<p>This is the implementation of my enum validator annotation</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EnumValidatorImpl implements ConstraintValidator&lt;EnumValidator, EnumBase&gt; {\n    private boolean nullable;\n\n    private Set&lt;String&gt; values;\n\n    @Override\n    public void initialize(EnumValidator constraintAnnotation) {\n        this.nullable = constraintAnnotation.nullable();\n        Class&lt;? extends EnumBase&gt; enumClass = constraintAnnotation.enumClass();\n        int[] exclusion = constraintAnnotation.exclusion();\n\n        values = new HashSet&lt;&gt;();\n        EnumBase[] enumConstants = enumClass.getEnumConstants();\n        for (EnumBase iEnum : enumConstants) {\n            values.add(iEnum.getValue());\n        }\n        if (exclusion.length &gt; 0)\n            for (int i : exclusion) {\n                values.remove(i);\n            }\n    }\n\n    @Override\n    public boolean isValid(EnumBase param, ConstraintValidatorContext constraintValidatorContext) {\n        if (nullable &amp;&amp; param == null) {\n            return true;\n        }\n        else if(param == null)\n            return false;\n        return values.contains(param.getValue());\n    }\n}\n\n</code></pre>\n<p>this is my enum:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum TransactionMethod implements EnumBase {\n    CREDIT_CARD(&quot;creditcard&quot;),\n    DEBIT_CARD(&quot;debitcard&quot;);\n    public String label;\n\n    TransactionMethod(String label) {\n        this.label = label;\n    }\n\n    @Override\n    public String getValue() {\n        return this.label;\n    }\n\n    @JsonCreator(mode = JsonCreator.Mode.DELEGATING)\n    public static TransactionMethod fromString(String value) {\n        return TransactionMethod.valueOf(value);\n//        return Arrays.stream(TransactionMethod.values())\n//                .filter(el -&gt; el.getValue().equals(value))\n//                .findFirst()\n//                .orElseThrow(() -&gt; {\n//                    throw new IllegalArgumentException(&quot;Not valid method&quot;);\n//                });\n    }\n}\n</code></pre>\n<p>when I'm sending my http request to that rest controller :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\n@RestController\n@RequestMapping(&quot;/orders&quot;)\n@Validated\npublic class PaymentRestController {\n    \n    public ResponseEntity&lt;?&gt; createPayment(\n            @Valid @RequestBody PayOrderDTO payOrderDTO\n    ) {\n        return ResponseEntity.ok(&quot;Worked&quot;);\n    }\n}\n\n</code></pre>\n<p>request example:</p>\n<pre><code>POST /orders/ HTTP/1.1\nHost: store.test\nContent-Type: application/json\nContent-Length: 152\n\n{\n    &quot;method&quot;:&quot;creditcard&quot;,\n}\n</code></pre>\n<p>I'm expecting to get invalidation exception or error message defined in my enum validator, instead I get an exception in the console that contains :</p>\n<pre><code>JSON parse error: Cannot construct instance of `x.TransactionMethod`, problem: No enum constant x.TransactionMethod.creditcard\n</code></pre>\n<p>But if I sent this request :</p>\n<pre><code>POST /orders/ HTTP/1.1\nHost: store.test\nContent-Type: application/json\nContent-Length: 152\n\n{\n    &quot;method&quot;:&quot;CREDIT_CARD&quot;,\n}\n</code></pre>\n<p>the application works normal</p>\n<p>I want to validate enum using label instead of constant value of the enum, if it doesn't exists, a validation error will be thrown like :</p>\n<pre><code>HTTP 422 : field 'method' is not valid, expected values are ['creditcard','debitcard']\n</code></pre>\n<p><strong>I tried some solutions as well like the convertor</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TransactionMethodStringEnumConverter implements Converter&lt;String, TransactionMethod&gt; {\n    @Override\n    public TransactionMethod convert(String source) {\n        Optional&lt;TransactionMethod&gt; first = Arrays.stream(TransactionMethod.values()).filter(e -&gt; e.label.equals(source)).findFirst();\n        return first.orElseThrow(() -&gt; {\n            throw new IllegalArgumentException();\n        });\n    }\n\n}\n</code></pre>\n<p>but seems like I does nothing.\nI would really appreciate is someone has a good solution for this, Thank you 🙏</p>\n"},{"tags":["java","android","kotlin","serialization","retrofit2"],"comments":[{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":0,"creation_date":1643054856,"post_id":70809536,"comment_id":125233903,"body_markdown":"What is the signature of the service call `apiService.getWalletResume` ?","body":"What is the signature of the service call <code>apiService.getWalletResume</code> ?"},{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":1,"creation_date":1643060340,"post_id":70809536,"comment_id":125235697,"body_markdown":"Can you influence the API design? Using values as keys makes your life miserable.","body":"Can you influence the API design? Using values as keys makes your life miserable."}],"answers":[{"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643114065,"creation_date":1643062470,"answer_id":70841150,"question_id":70809536,"body_markdown":"As I understand your question, this is less to do with retrofit and more with JSON parsing.\r\nBecause the payload structure is a bit awkward I suggest you consume it in two steps:\r\n\r\n* step 1. Consume the `content` `success`, `cache_last_updated` and `total`\r\n* step 2. Add the `id`\r\n\r\n```kotlin\r\ndata class DetailModel(val id: String = &quot;&quot;, val success: Boolean, val cache_last_updated: Long, val total: Int) \r\n\r\ninterface apiService {\r\n    @GET(&quot;....&quot;)\r\n    fun getWalletResume( listAddress: List&lt;String&gt; ): Call&lt;Map&lt;String, DetailModel&gt;&gt;\r\n}\r\n```\r\n\r\nThe result of calling `apiService.getWalletResume` is `Map&lt;String, DetailModel&gt;` which you then process in step 2.\r\n\r\n**Example**\r\n\r\n```kotlin\r\nval json = &quot;&quot;&quot;\r\n    {\r\n      &quot;0x1234&quot;: {\r\n        &quot;success&quot;: true,\r\n        &quot;cache_last_updated&quot;: 1642815869695,\r\n        &quot;total&quot;: 500\r\n      },\r\n      &quot;0x1244445&quot;: {\r\n        &quot;success&quot;: true,\r\n        &quot;cache_last_updated&quot;: 1642815869695,\r\n        &quot;total&quot;: 324\r\n      },\r\n      &quot;0x47851&quot;: {\r\n        &quot;success&quot;: true,\r\n        &quot;cache_last_updated&quot;: 1642815869695,\r\n        &quot;total&quot;: 324\r\n      }\r\n    }\r\n&quot;&quot;&quot;.trimIndent()\r\n\r\n\r\ndata class DetailModel(val id: String = &quot;&quot;, val success: Boolean, val cache_last_updated: Long, val total: Int)\r\n\r\nfun main() {\r\n    val gson = Gson()\r\n    val type: Type = object : TypeToken&lt;Map&lt;String, DetailModel&gt;?&gt;() {}.type\r\n    \r\n    // step 1. simulates the retrofit call\r\n    val mapResult: Map&lt;String, DetailModel&gt; = gson.fromJson(json, type)\r\n\r\n    // step 2\r\n    val result = mapResult.map { entry -&gt; entry.value.copy(id = entry.key) }\r\n\r\n    println(result) \r\n    // [DetailModel(id=0x1234, success=true, cache_last_updated=1642815869695, total=500), DetailModel(id=0x1244445, success=true, cache_last_updated=1642815869695, total=324), DetailModel(id=0x47851, success=true, cache_last_updated=1642815869695, total=324)]\r\n}\r\n\r\n``` ","title":"Retrofit2, how I can convert response with diferent object names but same data types","body":"<p>As I understand your question, this is less to do with retrofit and more with JSON parsing.\nBecause the payload structure is a bit awkward I suggest you consume it in two steps:</p>\n<ul>\n<li>step 1. Consume the <code>content</code> <code>success</code>, <code>cache_last_updated</code> and <code>total</code></li>\n<li>step 2. Add the <code>id</code></li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class DetailModel(val id: String = &quot;&quot;, val success: Boolean, val cache_last_updated: Long, val total: Int) \n\ninterface apiService {\n    @GET(&quot;....&quot;)\n    fun getWalletResume( listAddress: List&lt;String&gt; ): Call&lt;Map&lt;String, DetailModel&gt;&gt;\n}\n</code></pre>\n<p>The result of calling <code>apiService.getWalletResume</code> is <code>Map&lt;String, DetailModel&gt;</code> which you then process in step 2.</p>\n<p><strong>Example</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val json = &quot;&quot;&quot;\n    {\n      &quot;0x1234&quot;: {\n        &quot;success&quot;: true,\n        &quot;cache_last_updated&quot;: 1642815869695,\n        &quot;total&quot;: 500\n      },\n      &quot;0x1244445&quot;: {\n        &quot;success&quot;: true,\n        &quot;cache_last_updated&quot;: 1642815869695,\n        &quot;total&quot;: 324\n      },\n      &quot;0x47851&quot;: {\n        &quot;success&quot;: true,\n        &quot;cache_last_updated&quot;: 1642815869695,\n        &quot;total&quot;: 324\n      }\n    }\n&quot;&quot;&quot;.trimIndent()\n\n\ndata class DetailModel(val id: String = &quot;&quot;, val success: Boolean, val cache_last_updated: Long, val total: Int)\n\nfun main() {\n    val gson = Gson()\n    val type: Type = object : TypeToken&lt;Map&lt;String, DetailModel&gt;?&gt;() {}.type\n    \n    // step 1. simulates the retrofit call\n    val mapResult: Map&lt;String, DetailModel&gt; = gson.fromJson(json, type)\n\n    // step 2\n    val result = mapResult.map { entry -&gt; entry.value.copy(id = entry.key) }\n\n    println(result) \n    // [DetailModel(id=0x1234, success=true, cache_last_updated=1642815869695, total=500), DetailModel(id=0x1244445, success=true, cache_last_updated=1642815869695, total=324), DetailModel(id=0x47851, success=true, cache_last_updated=1642815869695, total=324)]\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5854221,"reputation":2808,"user_id":5635880,"display_name":"Brian Yencho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643136203,"creation_date":1643064296,"answer_id":70841393,"question_id":70809536,"body_markdown":"It sounds to me like you are just looking for a response type of `Map&lt;String, WalletDetailDTO&gt;`. Then you can simply look at the &quot;values&quot; in the map to get a unique list of objects.\r\n\r\nThen your service call looks like\r\n\r\n```kotlin\r\n@GET(&quot;....&quot;)\r\nsuspend fun getWalletDetails(...): Map&lt;String, WalletDetailDTO&gt;\r\n```\r\n\r\nThen when you consume that data you&#39;d pull out the values:\r\n\r\n```kotlin\r\nval mapOfWalletDetails = apiService.getWalletResume(...)\r\n\r\nval walletDetailCollection: Collection&lt;WalletDetailDTO&gt; = mapOfWalletDetails.values()\r\n```\r\n\r\nThis final `walletDetailCollection` seems to be what you are looking for if you just want to ignore the keys in the original map.","title":"Retrofit2, how I can convert response with diferent object names but same data types","body":"<p>It sounds to me like you are just looking for a response type of <code>Map&lt;String, WalletDetailDTO&gt;</code>. Then you can simply look at the &quot;values&quot; in the map to get a unique list of objects.</p>\n<p>Then your service call looks like</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@GET(&quot;....&quot;)\nsuspend fun getWalletDetails(...): Map&lt;String, WalletDetailDTO&gt;\n</code></pre>\n<p>Then when you consume that data you'd pull out the values:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val mapOfWalletDetails = apiService.getWalletResume(...)\n\nval walletDetailCollection: Collection&lt;WalletDetailDTO&gt; = mapOfWalletDetails.values()\n</code></pre>\n<p>This final <code>walletDetailCollection</code> seems to be what you are looking for if you just want to ignore the keys in the original map.</p>\n"}],"owner":{"account_id":11249475,"reputation":363,"user_id":10872972,"display_name":"Eduardo Rafael Moraes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":725,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70841150,"answer_count":2,"score":3,"last_activity_date":1643136203,"creation_date":1642818303,"question_id":70809536,"body_markdown":"I have one call that return different objects name, in this case, each name is the hash of your wallet address,  but I would like to treat them indifferently because all that matters is the data that is inside them, using a standard converter like Gson I am not able to do this, is there any way to do it manually?\r\n\r\n    {\r\n    &quot;0x1234&quot;: {\r\n        &quot;success&quot;: true,\r\n        &quot;cache_last_updated&quot;: 1642815869695,\r\n        &quot;total&quot;: 500\r\n    },\r\n    &quot;0x1244445&quot;: {\r\n        &quot;success&quot;: true,\r\n        &quot;cache_last_updated&quot;: 1642815869695,\r\n        &quot;total&quot;: 324\r\n    },\r\n    &quot;0x47851&quot;:{\r\n        &quot;success&quot;: true,\r\n        &quot;cache_last_updated&quot;: 1642815869695,\r\n        &quot;total&quot;: 324\r\n    }\r\n    }\r\n\r\nMy Repository:\r\n    \r\n    class WalletsResumeRepository(\r\n    private val service: apiService\r\n    ) {\r\n    suspend fun getAddressData(listAddress: List&lt;String&gt;): Flow&lt;Result&lt;List&lt;DetailModel&gt;&gt;&gt; =\r\n        flow {\r\n            emit(Result.success(service.getWalletResume(listAddress))\r\n        }.catch { e -&gt;\r\n            emit(Result.failure(RuntimeException(&quot;Something went wrong ${e.cause}&quot;)))\r\n        }\r\n       }\r\n\r\nmy repository always falls into the catch scenario with an NPE, remembering that the response can have countless addresses so infinite object names, how can I treat them as generics and map only the responses as lists? or something like that?\r\n\r\nService.kt\r\n\r\n    suspend fun getWalletResume(@Path(&quot;address&quot;) wallet: String): WalletDetailDTO\r\n\r\nWalletDTO\r\n\r\n    data class WalletDetailDTO(\r\n        val success: Boolean,\r\n        @SerializedName(&quot;cache_last_updated&quot;)\r\n        val cacheLastUpdated: Long?,\r\n        val totalSlp: Int?\r\n    )\r\n\r\n","title":"Retrofit2, how I can convert response with diferent object names but same data types","body":"<p>I have one call that return different objects name, in this case, each name is the hash of your wallet address,  but I would like to treat them indifferently because all that matters is the data that is inside them, using a standard converter like Gson I am not able to do this, is there any way to do it manually?</p>\n<pre><code>{\n&quot;0x1234&quot;: {\n    &quot;success&quot;: true,\n    &quot;cache_last_updated&quot;: 1642815869695,\n    &quot;total&quot;: 500\n},\n&quot;0x1244445&quot;: {\n    &quot;success&quot;: true,\n    &quot;cache_last_updated&quot;: 1642815869695,\n    &quot;total&quot;: 324\n},\n&quot;0x47851&quot;:{\n    &quot;success&quot;: true,\n    &quot;cache_last_updated&quot;: 1642815869695,\n    &quot;total&quot;: 324\n}\n}\n</code></pre>\n<p>My Repository:</p>\n<pre><code>class WalletsResumeRepository(\nprivate val service: apiService\n) {\nsuspend fun getAddressData(listAddress: List&lt;String&gt;): Flow&lt;Result&lt;List&lt;DetailModel&gt;&gt;&gt; =\n    flow {\n        emit(Result.success(service.getWalletResume(listAddress))\n    }.catch { e -&gt;\n        emit(Result.failure(RuntimeException(&quot;Something went wrong ${e.cause}&quot;)))\n    }\n   }\n</code></pre>\n<p>my repository always falls into the catch scenario with an NPE, remembering that the response can have countless addresses so infinite object names, how can I treat them as generics and map only the responses as lists? or something like that?</p>\n<p>Service.kt</p>\n<pre><code>suspend fun getWalletResume(@Path(&quot;address&quot;) wallet: String): WalletDetailDTO\n</code></pre>\n<p>WalletDTO</p>\n<pre><code>data class WalletDetailDTO(\n    val success: Boolean,\n    @SerializedName(&quot;cache_last_updated&quot;)\n    val cacheLastUpdated: Long?,\n    val totalSlp: Int?\n)\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":16437163,"reputation":124,"user_id":11874466,"display_name":"Reynier Ramos Portieles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643136187,"creation_date":1643136187,"answer_id":70854029,"question_id":66657233,"body_markdown":"I managed to test PreparedStatementCreator with the help of ArgumentCaptor. So that the arguments that we send to the query method are captured. Subsequently, the overridden method is executed and I verify that the result is as we expected.\r\n\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class PostgresJdbcAdapterTest {\t\t\r\n\t\tprivate PostgreJdbcRepository repository;\r\n        @Mock\r\n        private JdbcTemplate template;\r\n        @Mock\r\n        private DataSource dataSource;\r\n        @Mock\r\n        private Connection conn;\r\n        @Mock\r\n        private PreparedStatement stmt;\r\n\r\n        @BeforeEach\r\n        void init() {\r\n            repository = new PostgresJdbcAdapter(dataSource);\r\n            ReflectionTestUtils.setField(repository, &quot;template&quot;, template);\r\n        }\r\n\r\n\t\t@Test\r\n\t\tvoid when_customReportQuery_then_result() throws SQLException {\r\n\t\t\tArgumentCaptor&lt;PreparedStatementCreator&gt; creatorCaptor = ArgumentCaptor.forClass(PreparedStatementCreator.class);\r\n\t\t\tArgumentCaptor&lt;ReportRowCallbackHandler&gt; handlerCaptor = ArgumentCaptor.forClass(ReportRowCallbackHandler.class);\r\n\r\n\t\t\trepository.customReportQuery(request);\r\n\r\n\t\t\tBDDMockito.given(conn.prepareStatement(anyString())).willReturn(stmt);\r\n\t\t\tverify(template).query(creatorCaptor.capture(), handlerCaptor.capture());\r\n\t\t\tPreparedStatementCreator creator = creatorCaptor.getValue();\r\n\t\t\tcreator.createPreparedStatement(conn);\r\n\r\n\t\t\tverify(stmt).setString(1, request.getParam());\r\n\r\n\t\t\tReportRowCallbackHandler handler = handlerCaptor.getValue();\r\n\t\t\tResultSet rs = mock(ResultSet.class);\r\n\t\t\thandler.processRow(rs);\r\n\r\n\t\t\tAssertions.assertThat(repository.customReportQuery(request)).isEmpty();\r\n\t\t}\r\n\t}\r\n\r\nThe class PostgresJdbcAdapter\r\n\r\n    @Repository\r\n\tpublic class PostgresJdbcAdapter extends JdbcDaoSupport implements ReportPostgreJdbcRepository {\r\n\t\tprivate static final String RESULT_MESSAGE = &quot;JDBC - POSTGRES - Query: with {} records&quot;;\r\n\t\tprivate static final String EXCEPTION_MESSAGE = &quot;JDBC - POSTGRES - Error trying to execute query: {}&quot;;\r\n\t\t\r\n\t\tprivate final JdbcTemplate template;\r\n\t\t\r\n\t\t@Autowired\r\n\t\tpublic PostgresJdbcAdapter(DataSource dataSource) {\r\n\t\t\tthis.template = new JdbcTemplate(dataSource);\r\n\t\t\tsetDataSource(dataSource);\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic List&lt;ReportRow&gt; customReportQuery(ReportRequest request) {\r\n\t\t\tString sql = &quot;SELECT * FROM table WHERE table.name = ?&quot;;\r\n\t\t\t\r\n\t\t\tPreparedStatementCreator creator = conn -&gt; {\r\n\t\t\t\tPreparedStatement stmt = conn.prepareStatement(sql);\r\n\t\t\t\tstmt.setString(1, request.getName());\r\n\t\t\t\t\r\n\t\t\t\treturn stmt;\r\n\t\t\t};\r\n\t\t\ttry {\r\n\t\t\t\tReportRowCallbackHandler handler = new ReportRowCallbackHandler();\r\n\t\t\t\ttemplate.query(creator, handler);\r\n\t\t\t\tlog.info(RESULT_MESSAGE, handler.getResult().size());\r\n\t\t\t\treturn handler.getResult();\r\n\t\t\t} catch (DataAccessException ex) {\r\n\t\t\t\tlog.error(EXCEPTION_MESSAGE, ex.getMessage());\r\n\t\t\t\tthrow new PostgreJdbcException(ex);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nand the row handler\r\n\r\n    public class ReportRowCallbackHandler implements RowCallbackHandler {\r\n\r\n\t\tprivate final List&lt;ReportRow&gt; result = new LinkedList&lt;&gt;();\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic void processRow(ResultSet rs) throws SQLException {\r\n\t\t\tReportRow row = ReportRow.builder()\r\n\t\t\t\t.name(rs.getString(&quot;name&quot;))\r\n\t\t\t\t.build();\r\n\r\n\t\t\tresult.add(row);\r\n\t\t}\r\n\r\n\t\tpublic List&lt;ReportRow&gt; getResult() {\r\n\t\t\treturn Collections.unmodifiableList(result);\r\n\t\t}\r\n\t}\r\n\r\nI hope it helps everyone. Best regards","title":"How to validate PreparedStatement scenario with Mockito. Unable to mock the PreparedStatement class in test class","body":"<p>I managed to test PreparedStatementCreator with the help of ArgumentCaptor. So that the arguments that we send to the query method are captured. Subsequently, the overridden method is executed and I verify that the result is as we expected.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass PostgresJdbcAdapterTest {     \n    private PostgreJdbcRepository repository;\n    @Mock\n    private JdbcTemplate template;\n    @Mock\n    private DataSource dataSource;\n    @Mock\n    private Connection conn;\n    @Mock\n    private PreparedStatement stmt;\n\n    @BeforeEach\n    void init() {\n        repository = new PostgresJdbcAdapter(dataSource);\n        ReflectionTestUtils.setField(repository, &quot;template&quot;, template);\n    }\n\n    @Test\n    void when_customReportQuery_then_result() throws SQLException {\n        ArgumentCaptor&lt;PreparedStatementCreator&gt; creatorCaptor = ArgumentCaptor.forClass(PreparedStatementCreator.class);\n        ArgumentCaptor&lt;ReportRowCallbackHandler&gt; handlerCaptor = ArgumentCaptor.forClass(ReportRowCallbackHandler.class);\n\n        repository.customReportQuery(request);\n\n        BDDMockito.given(conn.prepareStatement(anyString())).willReturn(stmt);\n        verify(template).query(creatorCaptor.capture(), handlerCaptor.capture());\n        PreparedStatementCreator creator = creatorCaptor.getValue();\n        creator.createPreparedStatement(conn);\n\n        verify(stmt).setString(1, request.getParam());\n\n        ReportRowCallbackHandler handler = handlerCaptor.getValue();\n        ResultSet rs = mock(ResultSet.class);\n        handler.processRow(rs);\n\n        Assertions.assertThat(repository.customReportQuery(request)).isEmpty();\n    }\n}\n</code></pre>\n<p>The class PostgresJdbcAdapter</p>\n<pre><code>@Repository\npublic class PostgresJdbcAdapter extends JdbcDaoSupport implements ReportPostgreJdbcRepository {\n    private static final String RESULT_MESSAGE = &quot;JDBC - POSTGRES - Query: with {} records&quot;;\n    private static final String EXCEPTION_MESSAGE = &quot;JDBC - POSTGRES - Error trying to execute query: {}&quot;;\n    \n    private final JdbcTemplate template;\n    \n    @Autowired\n    public PostgresJdbcAdapter(DataSource dataSource) {\n        this.template = new JdbcTemplate(dataSource);\n        setDataSource(dataSource);\n    }\n    \n    @Override\n    public List&lt;ReportRow&gt; customReportQuery(ReportRequest request) {\n        String sql = &quot;SELECT * FROM table WHERE table.name = ?&quot;;\n        \n        PreparedStatementCreator creator = conn -&gt; {\n            PreparedStatement stmt = conn.prepareStatement(sql);\n            stmt.setString(1, request.getName());\n            \n            return stmt;\n        };\n        try {\n            ReportRowCallbackHandler handler = new ReportRowCallbackHandler();\n            template.query(creator, handler);\n            log.info(RESULT_MESSAGE, handler.getResult().size());\n            return handler.getResult();\n        } catch (DataAccessException ex) {\n            log.error(EXCEPTION_MESSAGE, ex.getMessage());\n            throw new PostgreJdbcException(ex);\n        }\n    }\n}\n</code></pre>\n<p>and the row handler</p>\n<pre><code>public class ReportRowCallbackHandler implements RowCallbackHandler {\n\n    private final List&lt;ReportRow&gt; result = new LinkedList&lt;&gt;();\n\n\n    @Override\n    public void processRow(ResultSet rs) throws SQLException {\n        ReportRow row = ReportRow.builder()\n            .name(rs.getString(&quot;name&quot;))\n            .build();\n\n        result.add(row);\n    }\n\n    public List&lt;ReportRow&gt; getResult() {\n        return Collections.unmodifiableList(result);\n    }\n}\n</code></pre>\n<p>I hope it helps everyone. Best regards</p>\n"}],"owner":{"account_id":20960718,"reputation":9,"user_id":15400215,"display_name":"Mani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":918,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643136187,"creation_date":1615904943,"question_id":66657233,"body_markdown":"I am trying to mock the PreparedStatement class in test class. I am new to this Unit testcases implementation. Can someone guide me how to validate this scenario.\r\n\r\nBelow code is form service impl class.\r\n\r\n    String sqlToUpdateDeploymentTable = UPDATE_DEPLOYMENT_BY_REQUEST_ID_FOR_APPROVE_AND_REJECT;\r\n\r\n\t\t\tgetJdbcTemplate().update(sqlToUpdateDeploymentTable, request.getApprover(), request.getApproverComment(),\r\n\t\t\t\t\trequest.isApproved() ? APPROVED : REJECTED, Timestamp.from(Instant.now()), request.getRequestId());\r\n\r\n\t\t\tString sqlToUpdateDeploymentAprrovalTable = INSERT_RECORD_INTO_DEPLOYMENT_APPROVAL;\r\n\t\t\tgetJdbcTemplate().update(new PreparedStatementCreator() {\r\n\t\t\t\tpublic PreparedStatement createPreparedStatement(Connection connection) throws SQLException {\r\n\t\t\t\t\tPreparedStatement ps = connection.prepareStatement(sqlToUpdateDeploymentAprrovalTable);\r\n\t\t\t\t\tps.setString(1, request.getApprover());\r\n\t\t\t\t\tps.setString(2, request.getRequestId());\r\n\t\t\t\t\treturn ps;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (request.isApproved()) {\r\n\t\t\t\treturn DEPLOYEMNET_REQUEST + AppConstants.REQ_PREFIX + request.getRequestId() + HAS_BEEN_APPROVED;\r\n\t\t\t}\r\n\r\n\r\n\r\nBelow code is from test class.\r\n\t@Mock\r\n\tJdbcTemplate jdbcTemplate;\r\n\r\n\t@Mock\r\n\tConnection connection;\r\n\r\n\t@Mock\r\n\tPreparedStatementCreator statementcreator;\r\n\t\r\n\t@Mock\r\n\tPreparedStatement statement;\r\n    \r\n\t\tsql = &quot;Some Sql query&quot;\r\n\t\tRequestDto requestDto = new RequestDto();\r\n\t\trequestDto.setRequestId(&quot;123445&quot;);\r\n\t\tString APPROVED = &quot;approved&quot;;\r\n\t\t\r\n\t\tString query = &quot;UPDATE db.code SET approval_time=&quot;\r\n\t\t\t\t+ Timestamp.from(Instant.now()) + &quot; WHERE request_id=&quot; + requestDto.getRequestId();\r\n\r\n\t\t\r\n\t\tMockito.when(jdbcTemplate.update(new PreparedStatementCreator() {\r\n\t\t\tstatement.createPreparedStatement(Connection connection) throws SQLException {\r\n\t\t\t\tPreparedStatement ps = connection.prepareStatement(query);\r\n\t\t\t\tps.setString(2, requestDto.getRequestId());\r\n\t\t\t\treturn ps;\r\n\t\t\t}\r\n\t\t})).thenReturn(1);\r\n\r\n\t\tMockito.when(jdbcTemplate.update(query,Timestamp.from(Instant.now()), requestDto.getRequestId())).thenReturn(0);\r\n\t\t//Mockito.when(PreparedStatement(statement).createPreparedStatement(connection)).thenReturn(statement);\r\n\r\n\t\tString response = utilimpl.approverReject(requestDto, errors);\r\n\t\tSystem.out.println(response);\r\n\r\n\r\n\r\nIn test class i am not able to enter into the PreparedStatementCreator block. I mocked all the required class in test class. I am not sure where i am missing.\r\n\r\n","title":"How to validate PreparedStatement scenario with Mockito. Unable to mock the PreparedStatement class in test class","body":"<p>I am trying to mock the PreparedStatement class in test class. I am new to this Unit testcases implementation. Can someone guide me how to validate this scenario.</p>\n<p>Below code is form service impl class.</p>\n<pre><code>String sqlToUpdateDeploymentTable = UPDATE_DEPLOYMENT_BY_REQUEST_ID_FOR_APPROVE_AND_REJECT;\n\n        getJdbcTemplate().update(sqlToUpdateDeploymentTable, request.getApprover(), request.getApproverComment(),\n                request.isApproved() ? APPROVED : REJECTED, Timestamp.from(Instant.now()), request.getRequestId());\n\n        String sqlToUpdateDeploymentAprrovalTable = INSERT_RECORD_INTO_DEPLOYMENT_APPROVAL;\n        getJdbcTemplate().update(new PreparedStatementCreator() {\n            public PreparedStatement createPreparedStatement(Connection connection) throws SQLException {\n                PreparedStatement ps = connection.prepareStatement(sqlToUpdateDeploymentAprrovalTable);\n                ps.setString(1, request.getApprover());\n                ps.setString(2, request.getRequestId());\n                return ps;\n            }\n        });\n\n        if (request.isApproved()) {\n            return DEPLOYEMNET_REQUEST + AppConstants.REQ_PREFIX + request.getRequestId() + HAS_BEEN_APPROVED;\n        }\n</code></pre>\n<p>Below code is from test class.\n@Mock\nJdbcTemplate jdbcTemplate;</p>\n<pre><code>@Mock\nConnection connection;\n\n@Mock\nPreparedStatementCreator statementcreator;\n\n@Mock\nPreparedStatement statement;\n\n    sql = &quot;Some Sql query&quot;\n    RequestDto requestDto = new RequestDto();\n    requestDto.setRequestId(&quot;123445&quot;);\n    String APPROVED = &quot;approved&quot;;\n    \n    String query = &quot;UPDATE db.code SET approval_time=&quot;\n            + Timestamp.from(Instant.now()) + &quot; WHERE request_id=&quot; + requestDto.getRequestId();\n\n    \n    Mockito.when(jdbcTemplate.update(new PreparedStatementCreator() {\n        statement.createPreparedStatement(Connection connection) throws SQLException {\n            PreparedStatement ps = connection.prepareStatement(query);\n            ps.setString(2, requestDto.getRequestId());\n            return ps;\n        }\n    })).thenReturn(1);\n\n    Mockito.when(jdbcTemplate.update(query,Timestamp.from(Instant.now()), requestDto.getRequestId())).thenReturn(0);\n    //Mockito.when(PreparedStatement(statement).createPreparedStatement(connection)).thenReturn(statement);\n\n    String response = utilimpl.approverReject(requestDto, errors);\n    System.out.println(response);\n</code></pre>\n<p>In test class i am not able to enter into the PreparedStatementCreator block. I mocked all the required class in test class. I am not sure where i am missing.</p>\n"},{"tags":["java","spring-boot","logging","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1643137217,"post_id":70853913,"comment_id":125258862,"body_markdown":"Yes, it is possible. What have you tried so far?","body":"Yes, it is possible. What have you tried so far?"},{"owner":{"account_id":19153407,"reputation":1,"user_id":13990802,"display_name":"nikitheg"},"score":0,"creation_date":1643138308,"post_id":70853913,"comment_id":125259246,"body_markdown":"I have tried to just send a standard message using Socket but I need to add some key value pairs such as logFormat &amp; logType","body":"I have tried to just send a standard message using Socket but I need to add some key value pairs such as logFormat &amp; logType"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1643138892,"post_id":70853913,"comment_id":125259450,"body_markdown":"Check [RFC 5424](https://datatracker.ietf.org/doc/html/rfc5424#section-6) for a modern syslog format.","body":"Check <a href=\"https://datatracker.ietf.org/doc/html/rfc5424#section-6\" rel=\"nofollow noreferrer\">RFC 5424</a> for a modern syslog format."},{"owner":{"account_id":19153407,"reputation":1,"user_id":13990802,"display_name":"nikitheg"},"score":0,"creation_date":1643145888,"post_id":70853913,"comment_id":125261784,"body_markdown":"Do you know of any good java examples? We know the format we need to use, but the question was more for how to do it without adding a log4j2 config to our spring boot project","body":"Do you know of any good java examples? We know the format we need to use, but the question was more for how to do it without adding a log4j2 config to our spring boot project"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1643146404,"post_id":70853913,"comment_id":125261958,"body_markdown":"Log4j 2.x **is** an example: check [`SyslogLayout`](https://github.com/apache/logging-log4j2/blob/3042e80fc6624e410925e4a264acddad92cc1541/log4j-core/src/main/java/org/apache/logging/log4j/core/layout/SyslogLayout.java#L145) or [`Rfc5424Layout`](https://github.com/apache/logging-log4j2/blob/3042e80fc6624e410925e4a264acddad92cc1541/log4j-core/src/main/java/org/apache/logging/log4j/core/layout/Rfc5424Layout.java#L270).","body":"Log4j 2.x <b>is</b> an example: check <a href=\"https://github.com/apache/logging-log4j2/blob/3042e80fc6624e410925e4a264acddad92cc1541/log4j-core/src/main/java/org/apache/logging/log4j/core/layout/SyslogLayout.java#L145\" rel=\"nofollow noreferrer\"><code>SyslogLayout</code></a> or <a href=\"https://github.com/apache/logging-log4j2/blob/3042e80fc6624e410925e4a264acddad92cc1541/log4j-core/src/main/java/org/apache/logging/log4j/core/layout/Rfc5424Layout.java#L270\" rel=\"nofollow noreferrer\"><code>Rfc5424Layout</code></a>."},{"owner":{"account_id":19153407,"reputation":1,"user_id":13990802,"display_name":"nikitheg"},"score":0,"creation_date":1643296186,"post_id":70853913,"comment_id":125306425,"body_markdown":"This is exactly what I was looking for! Thank you!!","body":"This is exactly what I was looking for! Thank you!!"}],"answers":[{"tags":[],"owner":{"account_id":6136043,"reputation":16,"user_id":4784870,"display_name":"Fallin85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643135746,"creation_date":1643135746,"answer_id":70853926,"question_id":70853913,"body_markdown":"Try looking at this project, it might solve your problem. Good Luck!\r\n\r\nhttps://github.com/CloudBees-community/syslog-java-client","title":"Spring Boot, syslog &amp; log4j2 log","body":"<p>Try looking at this project, it might solve your problem. Good Luck!</p>\n<p><a href=\"https://github.com/CloudBees-community/syslog-java-client\" rel=\"nofollow noreferrer\">https://github.com/CloudBees-community/syslog-java-client</a></p>\n"}],"owner":{"account_id":19153407,"reputation":1,"user_id":13990802,"display_name":"nikitheg"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643135970,"creation_date":1643135686,"question_id":70853913,"body_markdown":"I want to send a singular log message to our external syslog server but don&#39;t want to use log4j2, instead is it possible to just send a plain TCP message using something like java.net &amp; java.io?","title":"Spring Boot, syslog &amp; log4j2 log","body":"<p>I want to send a singular log message to our external syslog server but don't want to use log4j2, instead is it possible to just send a plain TCP message using something like java.net &amp; java.io?</p>\n"},{"tags":["javascript","java","rest","cors"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1643127043,"post_id":70851670,"comment_id":125254540,"body_markdown":"Do you know how CORS works, specifically what the client and server responsibilities are? If not, you should learn about these first.","body":"Do you know how CORS works, specifically what the client and server responsibilities are? If not, you should learn about these first."}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643126797,"creation_date":1643126797,"answer_id":70851884,"question_id":70851670,"body_markdown":"this is what i use, probably best to use this with a specific development profile\r\n\r\n    @Configuration\r\n    public class CorsConfiguration implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/api/**&quot;)\r\n                .allowedMethods(&quot;*&quot;)\r\n                .allowedOrigins(&quot;http://localhost:3000&quot;)\r\n                .allowedHeaders(&quot;*&quot;);\r\n    }\r\n    }","title":"How do I prevent a CORS policy error when posting from JS UI to Java API","body":"<p>this is what i use, probably best to use this with a specific development profile</p>\n<pre><code>@Configuration\npublic class CorsConfiguration implements WebMvcConfigurer {\n\n@Override\npublic void addCorsMappings(CorsRegistry registry) {\n    registry.addMapping(&quot;/api/**&quot;)\n            .allowedMethods(&quot;*&quot;)\n            .allowedOrigins(&quot;http://localhost:3000&quot;)\n            .allowedHeaders(&quot;*&quot;);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3481319,"reputation":876,"user_id":2913290,"accept_rate":50,"display_name":"Daniel Vilas-Boas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643135835,"creation_date":1643135835,"answer_id":70853944,"question_id":70851670,"body_markdown":"If you&#39;re using Spring Security, CORS can be disabled for all paths (not best practice) by adding the follow bean\r\n\r\n\r\n    @Configuration\r\n    public class WebConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;);\r\n        }\r\n    }\r\n\r\nOr you can fine tune to the POST method and your specific documentation path (customer/registerDocs) ","title":"How do I prevent a CORS policy error when posting from JS UI to Java API","body":"<p>If you're using Spring Security, CORS can be disabled for all paths (not best practice) by adding the follow bean</p>\n<pre><code>@Configuration\npublic class WebConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;);\n    }\n}\n</code></pre>\n<p>Or you can fine tune to the POST method and your specific documentation path (customer/registerDocs)</p>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1643135835,"creation_date":1643125811,"question_id":70851670,"body_markdown":"My front end application gives this error:\r\n\r\n&gt; Access to XMLHttpRequest at &#39;http://localhost:9025/customer/registerDocs/&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: It does not have HTTP ok status.\r\n\r\nwhen this is called:\r\n\r\n```Javascript\r\nupdateDocsStatus() {\r\n    return ApiService.postData(&#39;http://localhost:9025/customer/registerDocs&#39;);\r\n}\r\n```\r\n\r\nThis is the controller method in the API:\r\n\r\n```Java\r\n@PostMapping(value = Constants.REGISTER_DOCS_PATH,\r\n        consumes = {MediaType.APPLICATION_JSON_VALUE},\r\n        produces = {MediaType.APPLICATION_JSON_VALUE})\r\n@ResponseStatus(HttpStatus.OK)\r\npublic void registerUserForDocs(HttpServletRequest request){\r\n    String username = securityService.getUsername(request);\r\n    customerHelper.registerCustomerForEdocs(username);\r\n}\r\n```\r\n\r\nI can&#39;t help feel like the issue is something on the front end. Am I missing anything obvious here?","title":"How do I prevent a CORS policy error when posting from JS UI to Java API","body":"<p>My front end application gives this error:</p>\n<blockquote>\n<p>Access to XMLHttpRequest at 'http://localhost:9025/customer/registerDocs/' from origin 'http://localhost:3000' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: It does not have HTTP ok status.</p>\n</blockquote>\n<p>when this is called:</p>\n<pre><code>updateDocsStatus() {\n    return ApiService.postData('http://localhost:9025/customer/registerDocs');\n}\n</code></pre>\n<p>This is the controller method in the API:</p>\n<pre><code>@PostMapping(value = Constants.REGISTER_DOCS_PATH,\n        consumes = {MediaType.APPLICATION_JSON_VALUE},\n        produces = {MediaType.APPLICATION_JSON_VALUE})\n@ResponseStatus(HttpStatus.OK)\npublic void registerUserForDocs(HttpServletRequest request){\n    String username = securityService.getUsername(request);\n    customerHelper.registerCustomerForEdocs(username);\n}\n</code></pre>\n<p>I can't help feel like the issue is something on the front end. Am I missing anything obvious here?</p>\n"},{"tags":["java","android","android-jetpack-navigation","android-deep-link"],"comments":[{"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":"ʀᴀʜɪʟ"},"score":0,"creation_date":1639038660,"post_id":70286502,"comment_id":124247658,"body_markdown":"Why are you using jetpack navigation in java? Jetpack components are not intended to use in java.","body":"Why are you using jetpack navigation in java? Jetpack components are not intended to use in java."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1643135384,"post_id":70286502,"comment_id":125258128,"body_markdown":"@ʀᴀʜɪʟ That is wrong. Only the `-ktx` Jetpack libraries and Compose are not intended for use in Java.","body":"@ʀᴀʜɪʟ That is wrong. Only the <code>-ktx</code> Jetpack libraries and Compose are not intended for use in Java."}],"answers":[{"tags":[],"owner":{"account_id":18922174,"reputation":558,"user_id":13806019,"display_name":"Ankit Verma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643135619,"creation_date":1643135619,"answer_id":70853901,"question_id":70286502,"body_markdown":"I finally solved it by using this code\r\n```\r\nBundle bundle = new Bundle();\r\nbundle.putString(&quot;orderId&quot;, id);\r\n\r\nOrderDetailsFragmentArgs args = OrderDetailsFragmentArgs.fromBundle(bundle);\r\n\r\nPendingIntent intent = new NavDeepLinkBuilder(getApplicationContext())\r\n                    .setGraph(R.navigation.mobile_navigation)\r\n                    .setDestination(R.id.nav_order_details)\r\n                    .setArguments(args.toBundle())\r\n                    .setComponentName(MainActivity.class)\r\n                    .createPendingIntent();\r\n```","title":"How to pass safe args as bundle in android explicit deep link?","body":"<p>I finally solved it by using this code</p>\n<pre><code>Bundle bundle = new Bundle();\nbundle.putString(&quot;orderId&quot;, id);\n\nOrderDetailsFragmentArgs args = OrderDetailsFragmentArgs.fromBundle(bundle);\n\nPendingIntent intent = new NavDeepLinkBuilder(getApplicationContext())\n                    .setGraph(R.navigation.mobile_navigation)\n                    .setDestination(R.id.nav_order_details)\n                    .setArguments(args.toBundle())\n                    .setComponentName(MainActivity.class)\n                    .createPendingIntent();\n</code></pre>\n"}],"owner":{"account_id":18922174,"reputation":558,"user_id":13806019,"display_name":"Ankit Verma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70853901,"answer_count":1,"score":0,"last_activity_date":1643135619,"creation_date":1639037276,"question_id":70286502,"body_markdown":"I am creating an explicit deep link in navigation component using safe args.\r\n```\r\nPendingIntent pendingIntent = new NavDeepLinkBuilder(getApplicationContext())\r\n                .setGraph(R.navigation.mobile_navigation)\r\n                .setDestination(R.id.nav_order_details)\r\n                .setArguments(//TODO pass bundle)\r\n                .setComponentName(MainActivity.class)\r\n                .createPendingIntent();\r\n```\r\nThe problem is I need to pass a bundle in arguments but I dont know how to convert Safe args to bundle in java.\r\n\r\nI found this format in kotlin \r\n```\r\nOrderDetailsFragmentArgs(id).toBundle()\r\n```\r\nI need to convert it into java code. Please help.\r\n \r\n","title":"How to pass safe args as bundle in android explicit deep link?","body":"<p>I am creating an explicit deep link in navigation component using safe args.</p>\n<pre><code>PendingIntent pendingIntent = new NavDeepLinkBuilder(getApplicationContext())\n                .setGraph(R.navigation.mobile_navigation)\n                .setDestination(R.id.nav_order_details)\n                .setArguments(//TODO pass bundle)\n                .setComponentName(MainActivity.class)\n                .createPendingIntent();\n</code></pre>\n<p>The problem is I need to pass a bundle in arguments but I dont know how to convert Safe args to bundle in java.</p>\n<p>I found this format in kotlin</p>\n<pre><code>OrderDetailsFragmentArgs(id).toBundle()\n</code></pre>\n<p>I need to convert it into java code. Please help.</p>\n"},{"tags":["java","spring","spring-statemachine"],"comments":[{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1641106073,"post_id":70554039,"comment_id":124720160,"body_markdown":"Just a tip... Many people here who can help with your question are professionals.  &quot;Can u&quot; and &quot;Wanna&quot; are not professional expressions. They hurt your chances of receiving an answer. Perhaps English isn&#39;t your main language. If so, imperfect word choice is understandable. But it&#39;s still worth learning correct forms.","body":"Just a tip... Many people here who can help with your question are professionals.  &quot;Can u&quot; and &quot;Wanna&quot; are not professional expressions. They hurt your chances of receiving an answer. Perhaps English isn&#39;t your main language. If so, imperfect word choice is understandable. But it&#39;s still worth learning correct forms."},{"owner":{"account_id":4539005,"reputation":31,"user_id":3687406,"display_name":"user3687406"},"score":0,"creation_date":1641108213,"post_id":70554039,"comment_id":124720399,"body_markdown":"sorry excuse my broken English, It is not my home language","body":"sorry excuse my broken English, It is not my home language"},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1641142661,"post_id":70554039,"comment_id":124726885,"body_markdown":"No apology needed. I couldn&#39;t post as well as you did in any language other than English.  As I said, it&#39;s just a tip...","body":"No apology needed. I couldn&#39;t post as well as you did in any language other than English.  As I said, it&#39;s just a tip..."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1641145366,"post_id":70554039,"comment_id":124727543,"body_markdown":"I know only what I&#39;ve read in the last 15 minutes about Spring state machines, so this is a guess.  It looks like your logic is applying _both_ contexts you&#39;ve set up to _each_ region.  You may want to try adding names to the regions (with the `.region()` method). Then use these to determine which context to apply in each case. In any case, the builder API is not the best, and the documents are unclear. I hope you get an answer.","body":"I know only what I&#39;ve read in the last 15 minutes about Spring state machines, so this is a guess.  It looks like your logic is applying <i>both</i> contexts you&#39;ve set up to <i>each</i> region.  You may want to try adding names to the regions (with the <code>.region()</code> method). Then use these to determine which context to apply in each case. In any case, the builder API is not the best, and the documents are unclear. I hope you get an answer."},{"owner":{"account_id":10257742,"reputation":433,"user_id":7570121,"accept_rate":38,"display_name":"ZiOS"},"score":0,"creation_date":1667938222,"post_id":70554039,"comment_id":131286476,"body_markdown":"any answer on this?","body":"any answer on this?"}],"answers":[{"tags":[],"owner":{"account_id":3481319,"reputation":876,"user_id":2913290,"accept_rate":50,"display_name":"Daniel Vilas-Boas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643135393,"creation_date":1643135393,"answer_id":70853846,"question_id":70554039,"body_markdown":"This is how I rehydrate (restore) a state machine out of some data in the non-reactive way\r\n\r\n    public static StateMachine restoreMachine(\r\n          final StateMachine&lt;States, Events&gt; stateMachine,\r\n          final States currentState,\r\n          final ExtendedState extendedState) {\r\n        stateMachine\r\n            .getStateMachineAccessor()\r\n            .doWithAllRegions(\r\n                sma -&gt;\r\n                    sma.resetStateMachine(\r\n                        new DefaultStateMachineContext&lt;&gt;(\r\n                            currentState,\r\n                            Events.E1,\r\n                            null,\r\n                            extendedState,\r\n                            null,\r\n                            &quot;1&quot;)));\r\n        return stateMachine;\r\n      }\r\n\r\nIn which state do you expect to restore the machine at? My guess is that restoring a composite state could be different.. Also noticed you setting the interceptor every time you restore a machine? Maybe thats unnecessary\r\n\r\n","title":"How can I reset state machine to sub state machine?","body":"<p>This is how I rehydrate (restore) a state machine out of some data in the non-reactive way</p>\n<pre><code>public static StateMachine restoreMachine(\n      final StateMachine&lt;States, Events&gt; stateMachine,\n      final States currentState,\n      final ExtendedState extendedState) {\n    stateMachine\n        .getStateMachineAccessor()\n        .doWithAllRegions(\n            sma -&gt;\n                sma.resetStateMachine(\n                    new DefaultStateMachineContext&lt;&gt;(\n                        currentState,\n                        Events.E1,\n                        null,\n                        extendedState,\n                        null,\n                        &quot;1&quot;)));\n    return stateMachine;\n  }\n</code></pre>\n<p>In which state do you expect to restore the machine at? My guess is that restoring a composite state could be different.. Also noticed you setting the interceptor every time you restore a machine? Maybe thats unnecessary</p>\n"}],"owner":{"account_id":4539005,"reputation":31,"user_id":3687406,"display_name":"user3687406"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643135393,"creation_date":1641104948,"question_id":70554039,"body_markdown":"Can you help me with this please?\r\n\r\nI have states for employee `{ Start, S1 , S1_1_start, S1_1_end , S1_2_start, S1_2_end, S2, End }`.\r\n\r\n    public void configure(StateMachineStateConfigurer&lt;EmployeeStates, EmployeeEvents&gt; states) throws Exception {\r\n\t\t states\r\n         .withStates()\r\n             .initial(EmployeeStates.Start)\r\n             .fork(EmployeeStates.FORK)\r\n             .state(EmployeeStates.S1)\r\n             .join(EmployeeStates.JOIN)\r\n             .state(EmployeeStates.S2)\r\n             .end(EmployeeStates.End)\r\n         .and()\r\n         .withStates()\r\n             .parent(EmployeeStates.S1)\r\n             .initial(EmployeeStates.S1_1_start)\r\n             .end(EmployeeStates.S1_1_end)\r\n         .and()\r\n         .withStates()\r\n             .parent(EmployeeStates.S1)\r\n             .initial(EmployeeStates.S1_2_start)\r\n             .end(EmployeeStates.S1_2_end);\r\n    }\r\n\r\nI need to reset the machine state to start from `[S1, , S1_1_start, S1_2_end]` and add my event to reach to S2\r\n\r\nIs this the correct way to reset my machine ?\r\n\r\n    StateMachine&lt;EmployeeStates, EmployeeEvents&gt; sm = this.factory.getStateMachine();\r\n\tsm.stopReactively().subscribe();\r\n\tsm.getStateMachineAccessor().doWithAllRegions(sma -&gt; {\r\n        sma.addStateMachineInterceptor(employeeStateChangeInterceptor);\r\n        StateMachineContext&lt;EmployeeStates,EmployeeEvents&gt; ctx1 = new DefaultStateMachineContext(EmployeeStates.S1_1_start,null,null,null,null);\r\n        StateMachineContext&lt;EmployeeStates,EmployeeEvents&gt; ctx2 = new DefaultStateMachineContext(EmployeeStates.S1_2_end,null,null,null,null);\r\n        List&lt;StateMachineContext&lt;EmployeeStates,EmployeeEvents&gt;&gt; list = List.of(ctx1,ctx2);\r\n        sma.resetStateMachineReactively(new DefaultStateMachineContext&lt;EmployeeStates, EmployeeEvents&gt;(list,EmployeeStates.S1, null,null, null,null)).subscribe();\r\n    });\r\n\r\nIn the log I see it is wrong, it changes the states to the expected state first, but then it does it again for the sub state :(\r\n\r\n    state changed from [S1, , S1_1_start ,S1_2_end ]  to ObjectState [S2]\r\n    state changed from [ S1_1_start ]  to ObjectState [S1_1_end]","title":"How can I reset state machine to sub state machine?","body":"<p>Can you help me with this please?</p>\n<p>I have states for employee <code>{ Start, S1 , S1_1_start, S1_1_end , S1_2_start, S1_2_end, S2, End }</code>.</p>\n<pre><code>public void configure(StateMachineStateConfigurer&lt;EmployeeStates, EmployeeEvents&gt; states) throws Exception {\n     states\n     .withStates()\n         .initial(EmployeeStates.Start)\n         .fork(EmployeeStates.FORK)\n         .state(EmployeeStates.S1)\n         .join(EmployeeStates.JOIN)\n         .state(EmployeeStates.S2)\n         .end(EmployeeStates.End)\n     .and()\n     .withStates()\n         .parent(EmployeeStates.S1)\n         .initial(EmployeeStates.S1_1_start)\n         .end(EmployeeStates.S1_1_end)\n     .and()\n     .withStates()\n         .parent(EmployeeStates.S1)\n         .initial(EmployeeStates.S1_2_start)\n         .end(EmployeeStates.S1_2_end);\n}\n</code></pre>\n<p>I need to reset the machine state to start from <code>[S1, , S1_1_start, S1_2_end]</code> and add my event to reach to S2</p>\n<p>Is this the correct way to reset my machine ?</p>\n<pre><code>StateMachine&lt;EmployeeStates, EmployeeEvents&gt; sm = this.factory.getStateMachine();\nsm.stopReactively().subscribe();\nsm.getStateMachineAccessor().doWithAllRegions(sma -&gt; {\n    sma.addStateMachineInterceptor(employeeStateChangeInterceptor);\n    StateMachineContext&lt;EmployeeStates,EmployeeEvents&gt; ctx1 = new DefaultStateMachineContext(EmployeeStates.S1_1_start,null,null,null,null);\n    StateMachineContext&lt;EmployeeStates,EmployeeEvents&gt; ctx2 = new DefaultStateMachineContext(EmployeeStates.S1_2_end,null,null,null,null);\n    List&lt;StateMachineContext&lt;EmployeeStates,EmployeeEvents&gt;&gt; list = List.of(ctx1,ctx2);\n    sma.resetStateMachineReactively(new DefaultStateMachineContext&lt;EmployeeStates, EmployeeEvents&gt;(list,EmployeeStates.S1, null,null, null,null)).subscribe();\n});\n</code></pre>\n<p>In the log I see it is wrong, it changes the states to the expected state first, but then it does it again for the sub state :(</p>\n<pre><code>state changed from [S1, , S1_1_start ,S1_2_end ]  to ObjectState [S2]\nstate changed from [ S1_1_start ]  to ObjectState [S1_1_end]\n</code></pre>\n"},{"tags":["java","spring","enums","request"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1643134783,"post_id":70853686,"comment_id":125257881,"body_markdown":"Are you sure you getting exact those values? No extra spaces or other stuff?","body":"Are you sure you getting exact those values? No extra spaces or other stuff?"},{"owner":{"account_id":19936114,"reputation":562,"user_id":14608747,"display_name":"Paul Serre"},"score":0,"creation_date":1643135340,"post_id":70853686,"comment_id":125258099,"body_markdown":"I updated what I receive when I put &quot;RequestBody List&lt;String&quot; and the exact enum I have.","body":"I updated what I receive when I put &quot;RequestBody List&lt;String&quot; and the exact enum I have."},{"owner":{"account_id":10673275,"reputation":1351,"user_id":7857701,"display_name":"Snigdhajyoti"},"score":0,"creation_date":1643135616,"post_id":70853686,"comment_id":125258213,"body_markdown":"your don&#39;t have any issues in json creator, but can you try `UserLoginRoleV2.valueOf(val)`","body":"your don&#39;t have any issues in json creator, but can you try <code>UserLoginRoleV2.valueOf(val)</code>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1643136161,"post_id":70853686,"comment_id":125258444,"body_markdown":"I thought Spring Boot can automatically map enums, even without implementing a custom jsoncreator. Do you need the custom conversion?","body":"I thought Spring Boot can automatically map enums, even without implementing a custom jsoncreator. Do you need the custom conversion?"},{"owner":{"account_id":19936114,"reputation":562,"user_id":14608747,"display_name":"Paul Serre"},"score":0,"creation_date":1643136173,"post_id":70853686,"comment_id":125258450,"body_markdown":"If you meant \n  @JsonCreator\n  public static UserLoginRoleV2 fromString(String val) {\n    return UserLoginRoleV2.valueOf(val);\n  } it didnt work","body":"If you meant    @JsonCreator   public static UserLoginRoleV2 fromString(String val) {     return UserLoginRoleV2.valueOf(val);   } it didnt work"},{"owner":{"account_id":19936114,"reputation":562,"user_id":14608747,"display_name":"Paul Serre"},"score":0,"creation_date":1643147916,"post_id":70853686,"comment_id":125262459,"body_markdown":"@knittl it doesn&#39;t work with the default one either","body":"@knittl it doesn&#39;t work with the default one either"}],"owner":{"account_id":19936114,"reputation":562,"user_id":14608747,"display_name":"Paul Serre"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643135308,"creation_date":1643134529,"question_id":70853686,"body_markdown":"I have this endpoint\r\n\r\n      @PUT\r\n      @Path(&quot;/rolesV2/{queriedUserId}&quot;)\r\n      @Produces(MediaType.APPLICATION_JSON)\r\n      public Response update(@HeaderParam(&quot;authToken&quot;) String authToken, @HeaderParam(&quot;userLoginId&quot;) Long userLoginId, @PathParam(&quot;queriedUserId&quot;) Long queriedUserId, @RequestBody List&lt;Enum&gt; rolesV2)\r\n\r\nI can receive an \r\n\r\n    RequestBody List&lt;String&gt; = {&quot;VALUE1&quot;, &quot;VALUE2&quot;}\r\n\r\nI have this enum\r\n\r\n    public enum Enum {\r\n      VALUE1,\r\n      VALUE2;\r\n    \r\n      @JsonCreator\r\n      public static Enum fromString(String val) {\r\n        for (Enum role : Enum.values()) {\r\n          if (val.equals(role.name()) || val.equals(role.toString())) {\r\n            return role;\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n    }\r\n\r\nBut when i try to do:\r\n\r\n    RequestBody List&lt;Enum&gt;\r\n\r\ninstead of\r\n\r\n    RequestBody List&lt;String&gt; \r\n\r\nI get an array with null values. \r\nIs it possible to receive directly the enum, or do I have to apply the transformation manually ?\r\n\r\nThanks!\r\n\r\n\r\n[FIRST EDIT]\r\n\r\nHere&#39;s the exact enum\r\n\r\n    public enum UserLoginRoleV2 {\r\n      [...]\r\n    \r\n      SETTINGS(true, UserLoginRoleType.BASIC),\r\n      PROFILE(false, UserLoginRoleType.BASIC),\r\n      BILLING(true, UserLoginRoleType.BASIC),\r\n      SUB_USERS(true, UserLoginRoleType.BASIC),\r\n      CONNECTED_ACCOUNTS(true, UserLoginRoleType.BASIC),\r\n      INTEGRATIONS(true, UserLoginRoleType.BASIC),\r\n      TRACKING_SETTINGS(true, UserLoginRoleType.BASIC),\r\n      TRACKING_DOMAINS(true, UserLoginRoleType.BASIC),\r\n    \r\n      ADMIN(false, UserLoginRoleType.BASIC),\r\n      SUPER_ADMIN(false, UserLoginRoleType.BASIC),\r\n    \r\n      AGENCY(true, UserLoginRoleType.AGENCY);\r\n    \r\n      /** Enables assigning this role from Admin Panel */\r\n      private boolean assignable;\r\n    \r\n      private UserLoginRoleType type;\r\n    \r\n      UserLoginRoleV2(boolean assignable, UserLoginRoleType type) {\r\n        this.assignable = assignable;\r\n        this.type = type;\r\n      }\r\n    \r\n      public boolean isBasic() {\r\n        return this.type.equals(UserLoginRoleType.BASIC);\r\n      }\r\n    \r\n      public boolean isAgency() {\r\n        return this.type.equals(UserLoginRoleType.AGENCY);\r\n      }\r\n    \r\n      public boolean isAssignable() {\r\n        return assignable;\r\n      }\r\n    \r\n      public void setAssignable(boolean assignable) {\r\n        this.assignable = assignable;\r\n      }\r\n    \r\n      public UserLoginRoleType getType() {\r\n        return type;\r\n      }\r\n    \r\n      public void setType(UserLoginRoleType type) {\r\n        this.type = type;\r\n      }\r\n    \r\n      @JsonCreator\r\n      public static UserLoginRoleV2 fromString(String val) {\r\n        for (UserLoginRoleV2 role : UserLoginRoleV2.values()) {\r\n          if (val.equals(role.name()) || val.equals(role.toString())) {\r\n            return role;\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n    \r\n      public static List&lt;UserLoginRoleV2&gt; getNewAgencyRoles() {\r\n        return Stream.concat(Arrays.stream(UserLoginRoleV2.values()).filter(UserLoginRoleV2::isAgency), Stream.of(SUB_USERS, BILLING, CONNECTED_ACCOUNTS)).collect(Collectors.toList());\r\n      }\r\n    \r\n      public static List&lt;UserLoginRoleV2&gt; getBasicRoles() {\r\n        return Arrays.stream(UserLoginRoleV2.values()).filter(UserLoginRoleV2::isBasic).collect(Collectors.toList());\r\n      }\r\n    }\r\n\r\nAnd I can confirm that I receive an array like :\r\n\r\n[&quot;BILLING&quot;, &quot;SETTINGS&quot;]","title":"Get RequestBody List&lt;Enum&gt; instead of RequestBody List&lt;String&gt; with Spring Boot","body":"<p>I have this endpoint</p>\n<pre><code>  @PUT\n  @Path(&quot;/rolesV2/{queriedUserId}&quot;)\n  @Produces(MediaType.APPLICATION_JSON)\n  public Response update(@HeaderParam(&quot;authToken&quot;) String authToken, @HeaderParam(&quot;userLoginId&quot;) Long userLoginId, @PathParam(&quot;queriedUserId&quot;) Long queriedUserId, @RequestBody List&lt;Enum&gt; rolesV2)\n</code></pre>\n<p>I can receive an</p>\n<pre><code>RequestBody List&lt;String&gt; = {&quot;VALUE1&quot;, &quot;VALUE2&quot;}\n</code></pre>\n<p>I have this enum</p>\n<pre><code>public enum Enum {\n  VALUE1,\n  VALUE2;\n\n  @JsonCreator\n  public static Enum fromString(String val) {\n    for (Enum role : Enum.values()) {\n      if (val.equals(role.name()) || val.equals(role.toString())) {\n        return role;\n      }\n    }\n    return null;\n  }\n}\n</code></pre>\n<p>But when i try to do:</p>\n<pre><code>RequestBody List&lt;Enum&gt;\n</code></pre>\n<p>instead of</p>\n<pre><code>RequestBody List&lt;String&gt; \n</code></pre>\n<p>I get an array with null values.\nIs it possible to receive directly the enum, or do I have to apply the transformation manually ?</p>\n<p>Thanks!</p>\n<p>[FIRST EDIT]</p>\n<p>Here's the exact enum</p>\n<pre><code>public enum UserLoginRoleV2 {\n  [...]\n\n  SETTINGS(true, UserLoginRoleType.BASIC),\n  PROFILE(false, UserLoginRoleType.BASIC),\n  BILLING(true, UserLoginRoleType.BASIC),\n  SUB_USERS(true, UserLoginRoleType.BASIC),\n  CONNECTED_ACCOUNTS(true, UserLoginRoleType.BASIC),\n  INTEGRATIONS(true, UserLoginRoleType.BASIC),\n  TRACKING_SETTINGS(true, UserLoginRoleType.BASIC),\n  TRACKING_DOMAINS(true, UserLoginRoleType.BASIC),\n\n  ADMIN(false, UserLoginRoleType.BASIC),\n  SUPER_ADMIN(false, UserLoginRoleType.BASIC),\n\n  AGENCY(true, UserLoginRoleType.AGENCY);\n\n  /** Enables assigning this role from Admin Panel */\n  private boolean assignable;\n\n  private UserLoginRoleType type;\n\n  UserLoginRoleV2(boolean assignable, UserLoginRoleType type) {\n    this.assignable = assignable;\n    this.type = type;\n  }\n\n  public boolean isBasic() {\n    return this.type.equals(UserLoginRoleType.BASIC);\n  }\n\n  public boolean isAgency() {\n    return this.type.equals(UserLoginRoleType.AGENCY);\n  }\n\n  public boolean isAssignable() {\n    return assignable;\n  }\n\n  public void setAssignable(boolean assignable) {\n    this.assignable = assignable;\n  }\n\n  public UserLoginRoleType getType() {\n    return type;\n  }\n\n  public void setType(UserLoginRoleType type) {\n    this.type = type;\n  }\n\n  @JsonCreator\n  public static UserLoginRoleV2 fromString(String val) {\n    for (UserLoginRoleV2 role : UserLoginRoleV2.values()) {\n      if (val.equals(role.name()) || val.equals(role.toString())) {\n        return role;\n      }\n    }\n    return null;\n  }\n\n  public static List&lt;UserLoginRoleV2&gt; getNewAgencyRoles() {\n    return Stream.concat(Arrays.stream(UserLoginRoleV2.values()).filter(UserLoginRoleV2::isAgency), Stream.of(SUB_USERS, BILLING, CONNECTED_ACCOUNTS)).collect(Collectors.toList());\n  }\n\n  public static List&lt;UserLoginRoleV2&gt; getBasicRoles() {\n    return Arrays.stream(UserLoginRoleV2.values()).filter(UserLoginRoleV2::isBasic).collect(Collectors.toList());\n  }\n}\n</code></pre>\n<p>And I can confirm that I receive an array like :</p>\n<p>[&quot;BILLING&quot;, &quot;SETTINGS&quot;]</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","hibernate-5.x"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642891193,"creation_date":1642890827,"answer_id":70817690,"question_id":70817376,"body_markdown":"Change to use `GenerationType.SEQUENCE` strategy and it should handle for you automatically :\r\n\r\n```\r\n@Id\r\n@SequenceGenerator(name = &quot;node_id_seq&quot;, sequenceName = &quot;node_id_seq&quot;,allocationSize = 50)\r\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;node_id_seq&quot;)\r\n@Column(name = &quot;id&quot;)\r\nint id;\r\n```\r\n\r\nAnd you just need to make sure the followings: \r\n\r\n1. Do not set the ID for each node manually.\r\n2. The related sequence in DB (i.e. the sequence specified in `sequenceName` in `@SequenceGenerator`) is really configured and aligned with what you configure in `@SequenceGenerator`. In case of PostgreSQL , you can do :\r\n\r\n``` sql\r\nalter sequence node_id_seq increment by 50;\r\n```\r\n\r\n**Tip:**\r\n\r\nAccording to [this][1], you can change to use the `pooled` or `pooled-lo` algorithm to reduce the DB roundtrip to get the ID by configuring the following settings: \r\n \r\n``` xml\r\n&lt;property name=&quot;hibernate.id.optimizer.pooled.preferred&quot; value=&quot;pooled-lo&quot; /&gt;\r\n```\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-hidden-gem-the-pooled-lo-optimizer/","title":"JPA allocation Size causing Auto Generated Sequence to Reused after AllocationSize","body":"<p>Change to use <code>GenerationType.SEQUENCE</code> strategy and it should handle for you automatically :</p>\n<pre><code>@Id\n@SequenceGenerator(name = &quot;node_id_seq&quot;, sequenceName = &quot;node_id_seq&quot;,allocationSize = 50)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;node_id_seq&quot;)\n@Column(name = &quot;id&quot;)\nint id;\n</code></pre>\n<p>And you just need to make sure the followings:</p>\n<ol>\n<li>Do not set the ID for each node manually.</li>\n<li>The related sequence in DB (i.e. the sequence specified in <code>sequenceName</code> in <code>@SequenceGenerator</code>) is really configured and aligned with what you configure in <code>@SequenceGenerator</code>. In case of PostgreSQL , you can do :</li>\n</ol>\n<pre class=\"lang-sql prettyprint-override\"><code>alter sequence node_id_seq increment by 50;\n</code></pre>\n<p><strong>Tip:</strong></p>\n<p>According to <a href=\"https://vladmihalcea.com/hibernate-hidden-gem-the-pooled-lo-optimizer/\" rel=\"nofollow noreferrer\">this</a>, you can change to use the <code>pooled</code> or <code>pooled-lo</code> algorithm to reduce the DB roundtrip to get the ID by configuring the following settings:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;hibernate.id.optimizer.pooled.preferred&quot; value=&quot;pooled-lo&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":439803,"reputation":550,"user_id":828976,"accept_rate":25,"display_name":"Bmis13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":879,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643134880,"creation_date":1642887747,"question_id":70817376,"body_markdown":"I have recursive parent and child relation for Graph.  When I have a large Graph with 50 or more nodes on a Single hibernate session, I get an error message &quot;A different object with the same identifier value was already associated with the session&quot;.  This is due to the fact the default allocation Size in Spring JPA is 50.  I have overcome this error by setting allocationSize to 100 and increment by 100. But that does not solve the root of the problem.  I can have any arbitrary # nodes in ONE session.  I use saveAndFlush(NodeEntity) which throws this error message.  \r\n\r\n**My question is How do I force Hibernate to fetch the primary key from DB after allocation size is limit is reached and be able to generate a new set primary key in a single session?**   \r\n\r\nHibernate version: hibernate-core-5.4.30.Final.jar\r\n\r\n**Error:**\r\n\r\nA different object with the same identifier value was already associated with the session : [graph.entity.NodeEntity#53]; nested exception is javax.persistence.EntityExistsException: **A different object with the same identifier value was already associated with the session** : [graph.entity.NodeEntity#53]       \r\n\r\n\r\n     //GRAPH DATABASE.\r\n    CREATE TABLE IF NOT EXISTS node\r\n    (\r\n      id SERIAL NOT NULL,\r\n      name character varying(255) NOT NULL,\r\n      parent_id int,\r\n      CONSTRAINT node_pkey PRIMARY KEY (id),\r\n      CONSTRAINT node_parent_id_fk FOREIGN KEY (parent_id)\r\n          REFERENCES node (id) MATCH SIMPLE\r\n          ON UPDATE NO ACTION ON DELETE NO ACTION\r\n    );\r\n    \r\n    CREATE TABLE IF NOT EXISTS graph\r\n    (\r\n      id SERIAL NOT NULL,\r\n      name character varying(255) NOT NULL,\r\n      node_id int,\r\n      CONSTRAINT graph_pkey PRIMARY KEY (id),\r\n      CONSTRAINT graph_node_fk FOREIGN KEY (node_id)\r\n          REFERENCES node (id) MATCH SIMPLE\r\n          ON UPDATE NO ACTION ON DELETE NO ACTION,\r\n      CONSTRAINT graph_node_id_uk UNIQUE (node_id)\r\n    );\r\n    \r\n    public class NodeEntity {\r\n        @Id\r\n        @SequenceGenerator(name = &quot;node_id_seq&quot;, sequenceName = &quot;node_id_seq&quot;,allocationSize = 50)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;node_id_seq&quot;)\r\n        @Column(name = &quot;id&quot;)\r\n        int id;\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER,orphanRemoval=true)\r\n    @JoinColumn(name = &quot;parent_id&quot;)\r\n    private List&lt;NodeEntity&gt; children = new LinkedList&lt;NodeEntity&gt;();\r\n    \r\n    }\r\n    \r\n        public class GraphEntity{\r\n        \r\n            @Id\r\n            @SequenceGenerator(name = &quot;graph_id_seq&quot;, sequenceName = &quot;graph_id_seq&quot;)\r\n            @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;graph_id_seq&quot;)\r\n            @Column(name = &quot;id&quot;)\r\n            int id;\r\n        \r\n            @OneToOne(cascade = CascadeType.ALL, orphanRemoval = true)\r\n            @JoinColumn(name = &quot;NODE_ID&quot;, unique = true, nullable = true, insertable = true, updatable = true)\r\n            private NodeEntity rootNode;\r\n        \r\n        }\r\n    \r\n    // Way to reproduce this.\r\n    void generate150deepChild(int count,NodeEntity node){\r\n       if(count == 100){\r\n           return\r\n       }else{\r\n          NodeEntity newNode = new NodeEntity(&quot;Child &quot; +count)\r\n          node.getChildren().add(newNode);\r\n          cout++;\r\n          generate150deepChild(count,newNode);\r\n      }\r\n    }\r\n    NodeEntity rootNode = new NodeEntity(&quot;ROOT&quot;);\r\n    // PLEASE NOT if # NodeEntity &lt; 50 everything works fine.\r\n    generate150deepChild(0,rootNode);\r\n    // PLEASE NOT all ids are zero so they are new node.\r\n    GraphEntity graph = new GraphEntity(&quot;TEST&quot;);\r\n    graph.setRootNode(rootNode);\r\n    graphRepository.saveAndFlush(graph); \r\n    // THIS WILL GENERATE Duplicate Primary key for NodeEntity.\r\n\r\n\r\nActual stack trace:\r\n\r\n    Caused by: javax.persistence.EntityExistsException: A different object with the same identifier value was already associated with the session : [graph.entity.NodeEntity#131605]\r\n            at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:123)\r\n            at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n            at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n            at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:823)\r\n            at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:786)\r\n            at org.hibernate.engine.spi.CascadingActions$6.cascade(CascadingActions.java:261)\r\n            at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:499)\r\n            at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:423)\r\n            at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)\r\n            at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:532)\r\n            at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:463)\r\n            at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:426)\r\n            at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)\r\n            at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)\r\n            at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459)\r\n            at org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:247)\r\n            at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:175)\r\n            at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:104)\r\n            at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:813)\r\n            at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:786)\r\n            at org.hibernate.engine.spi.CascadingActions$6.cascade(CascadingActions.java:261)\r\n            at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:499)\r\n            at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:423)","title":"JPA allocation Size causing Auto Generated Sequence to Reused after AllocationSize","body":"<p>I have recursive parent and child relation for Graph.  When I have a large Graph with 50 or more nodes on a Single hibernate session, I get an error message &quot;A different object with the same identifier value was already associated with the session&quot;.  This is due to the fact the default allocation Size in Spring JPA is 50.  I have overcome this error by setting allocationSize to 100 and increment by 100. But that does not solve the root of the problem.  I can have any arbitrary # nodes in ONE session.  I use saveAndFlush(NodeEntity) which throws this error message.</p>\n<p><strong>My question is How do I force Hibernate to fetch the primary key from DB after allocation size is limit is reached and be able to generate a new set primary key in a single session?</strong></p>\n<p>Hibernate version: hibernate-core-5.4.30.Final.jar</p>\n<p><strong>Error:</strong></p>\n<p>A different object with the same identifier value was already associated with the session : [graph.entity.NodeEntity#53]; nested exception is javax.persistence.EntityExistsException: <strong>A different object with the same identifier value was already associated with the session</strong> : [graph.entity.NodeEntity#53]</p>\n<pre><code> //GRAPH DATABASE.\nCREATE TABLE IF NOT EXISTS node\n(\n  id SERIAL NOT NULL,\n  name character varying(255) NOT NULL,\n  parent_id int,\n  CONSTRAINT node_pkey PRIMARY KEY (id),\n  CONSTRAINT node_parent_id_fk FOREIGN KEY (parent_id)\n      REFERENCES node (id) MATCH SIMPLE\n      ON UPDATE NO ACTION ON DELETE NO ACTION\n);\n\nCREATE TABLE IF NOT EXISTS graph\n(\n  id SERIAL NOT NULL,\n  name character varying(255) NOT NULL,\n  node_id int,\n  CONSTRAINT graph_pkey PRIMARY KEY (id),\n  CONSTRAINT graph_node_fk FOREIGN KEY (node_id)\n      REFERENCES node (id) MATCH SIMPLE\n      ON UPDATE NO ACTION ON DELETE NO ACTION,\n  CONSTRAINT graph_node_id_uk UNIQUE (node_id)\n);\n\npublic class NodeEntity {\n    @Id\n    @SequenceGenerator(name = &quot;node_id_seq&quot;, sequenceName = &quot;node_id_seq&quot;,allocationSize = 50)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;node_id_seq&quot;)\n    @Column(name = &quot;id&quot;)\n    int id;\n@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER,orphanRemoval=true)\n@JoinColumn(name = &quot;parent_id&quot;)\nprivate List&lt;NodeEntity&gt; children = new LinkedList&lt;NodeEntity&gt;();\n\n}\n\n    public class GraphEntity{\n    \n        @Id\n        @SequenceGenerator(name = &quot;graph_id_seq&quot;, sequenceName = &quot;graph_id_seq&quot;)\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;graph_id_seq&quot;)\n        @Column(name = &quot;id&quot;)\n        int id;\n    \n        @OneToOne(cascade = CascadeType.ALL, orphanRemoval = true)\n        @JoinColumn(name = &quot;NODE_ID&quot;, unique = true, nullable = true, insertable = true, updatable = true)\n        private NodeEntity rootNode;\n    \n    }\n\n// Way to reproduce this.\nvoid generate150deepChild(int count,NodeEntity node){\n   if(count == 100){\n       return\n   }else{\n      NodeEntity newNode = new NodeEntity(&quot;Child &quot; +count)\n      node.getChildren().add(newNode);\n      cout++;\n      generate150deepChild(count,newNode);\n  }\n}\nNodeEntity rootNode = new NodeEntity(&quot;ROOT&quot;);\n// PLEASE NOT if # NodeEntity &lt; 50 everything works fine.\ngenerate150deepChild(0,rootNode);\n// PLEASE NOT all ids are zero so they are new node.\nGraphEntity graph = new GraphEntity(&quot;TEST&quot;);\ngraph.setRootNode(rootNode);\ngraphRepository.saveAndFlush(graph); \n// THIS WILL GENERATE Duplicate Primary key for NodeEntity.\n</code></pre>\n<p>Actual stack trace:</p>\n<pre><code>Caused by: javax.persistence.EntityExistsException: A different object with the same identifier value was already associated with the session : [graph.entity.NodeEntity#131605]\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:123)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n        at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:823)\n        at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:786)\n        at org.hibernate.engine.spi.CascadingActions$6.cascade(CascadingActions.java:261)\n        at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:499)\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:423)\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)\n        at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:532)\n        at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:463)\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:426)\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220)\n        at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153)\n        at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459)\n        at org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:247)\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:175)\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:104)\n        at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:813)\n        at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:786)\n        at org.hibernate.engine.spi.CascadingActions$6.cascade(CascadingActions.java:261)\n        at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:499)\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:423)\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1643044709,"post_id":70837633,"comment_id":125230109,"body_markdown":"Changing the db reference didn&#39;t work?","body":"Changing the db reference didn&#39;t work?"},{"owner":{"account_id":18305702,"reputation":79,"user_id":13329577,"display_name":"gmijo47"},"score":0,"creation_date":1643045651,"post_id":70837633,"comment_id":125230452,"body_markdown":"It writes data, but not how it&#39;s supposed to be, it delete all other childs (other uuids as well with comment and rating)","body":"It writes data, but not how it&#39;s supposed to be, it delete all other childs (other uuids as well with comment and rating)"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1643046105,"post_id":70837633,"comment_id":125230623,"body_markdown":"As a temporary fix you could retrieve the previous values before you push and push everything in on the next push.","body":"As a temporary fix you could retrieve the previous values before you push and push everything in on the next push."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1643220405,"post_id":70837633,"comment_id":125284065,"body_markdown":"Where have you reached on this issue?","body":"Where have you reached on this issue?"}],"answers":[{"tags":[],"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643049232,"creation_date":1643049232,"answer_id":70838761,"question_id":70837633,"body_markdown":"The data in the database is getting overwritten, what you need to do is use `push()` which would create a random id for you in the database:\r\n\r\n```java\r\ndb.child(uuid).push().setValue(data).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n```\r\n\r\nThis way you will have the following database:\r\n\r\n```\r\nuuid\r\n  random-id1\r\n       comment: &quot;comment&quot;\r\n       rating: 1\r\n  random-id2\r\n       comment: &quot;comment&quot;\r\n       rating: 1\r\n```","title":"Firebase Realtime Database overwrites old data while adding new","body":"<p>The data in the database is getting overwritten, what you need to do is use <code>push()</code> which would create a random id for you in the database:</p>\n<pre class=\"lang-java prettyprint-override\"><code>db.child(uuid).push().setValue(data).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n</code></pre>\n<p>This way you will have the following database:</p>\n<pre><code>uuid\n  random-id1\n       comment: &quot;comment&quot;\n       rating: 1\n  random-id2\n       comment: &quot;comment&quot;\n       rating: 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13321425,"reputation":127,"user_id":9615943,"display_name":"Francesco D&#39;Onorio De Meo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643134813,"creation_date":1643134813,"answer_id":70853740,"question_id":70837633,"body_markdown":"In this way you stop at &quot;Sarajevo&quot; \r\n\r\n```\r\nDatabaseReference  db = firebaseDatabase.getReferenceFromUrl(&quot;dburl&quot;).child(&quot;attr_reviews&quot;).child(placename);\r\n//Sarajevo\r\n// ==&gt; PUSHING VALUES\r\n                    db.setValue(uuid).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() { ...\r\n```\r\n\r\nI think you should go down nesting. Something like\r\n\r\n```\r\nDatabaseReference  db = firebaseDatabase.getReferenceFromUrl(&quot;dburl&quot;).child(&quot;attr_reviews&quot;).child(placename).child(userid);\r\n```","title":"Firebase Realtime Database overwrites old data while adding new","body":"<p>In this way you stop at &quot;Sarajevo&quot;</p>\n<pre><code>DatabaseReference  db = firebaseDatabase.getReferenceFromUrl(&quot;dburl&quot;).child(&quot;attr_reviews&quot;).child(placename);\n//Sarajevo\n// ==&gt; PUSHING VALUES\n                    db.setValue(uuid).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() { ...\n</code></pre>\n<p>I think you should go down nesting. Something like</p>\n<pre><code>DatabaseReference  db = firebaseDatabase.getReferenceFromUrl(&quot;dburl&quot;).child(&quot;attr_reviews&quot;).child(placename).child(userid);\n</code></pre>\n"}],"owner":{"account_id":18305702,"reputation":79,"user_id":13329577,"display_name":"gmijo47"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70853740,"answer_count":2,"score":1,"last_activity_date":1643134813,"creation_date":1643043862,"question_id":70837633,"body_markdown":"Hi there i&#39;m facing issue that FB realtime DB deletes old data while inserting a new one here is my code\r\n\r\n     String text = reviewText.getText().toString();\r\n                    if (text.length() &gt; 15){\r\n                        int rating = (int) ratingBar.getRating();\r\n                        String uuid = firebaseAuth.getCurrentUser().getUid();\r\n                        Map&lt;String, String&gt; data = new HashMap();\r\n                        data.put(&quot;rating&quot;, String.valueOf(Integer.parseInt(String.valueOf(rating))));\r\n                        data.put(&quot;comment&quot;, text);\r\n                        DatabaseReference  db = firebaseDatabase.getReferenceFromUrl(&quot;dburl&quot;).child(&quot;attr_reviews&quot;).child(placename);\r\n                        db.setValue(uuid).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                if(task.isSuccessful()){\r\n                                    db.child(uuid).setValue(data).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                        @Override\r\n                                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                            if (task.isSuccessful()){\r\n    \r\n                                            }else {\r\n                                                Toast.makeText(getActivity(), R.string.eReviewErrUnkw, Toast.LENGTH_LONG).show();\r\n                                            }\r\n                                        }\r\n                                    });\r\n                                }else {\r\n                                    Toast.makeText(getActivity(), R.string.eReviewErrUnkw, Toast.LENGTH_LONG).show();\r\n                                }\r\n                            }\r\n                        });\r\n    \r\n                    }else {\r\n                        Toast.makeText(getActivity(), R.string.eReviewErrTxt, Toast.LENGTH_LONG).show();\r\n    \r\n                    }\r\nI have tried to put push() into diffrent positions but still same.\r\nDB structure looks like this\r\nIt should create DB structure like this on image\r\n\r\n   [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pcc4Y.png\r\n\r\n\r\nEdit:\r\nDatabase structure should look like this\r\n\r\n    enter code here\r\n    DB\r\n     └attr_reviews\r\n                 └city1\r\n                      └useruuid1\r\n                               └comment: &quot;&quot;\r\n                               └rating: x\r\n                      └useruuid2\r\n                               └....\r\n                └city2\r\n                     └....\r\n\r\n","title":"Firebase Realtime Database overwrites old data while adding new","body":"<p>Hi there i'm facing issue that FB realtime DB deletes old data while inserting a new one here is my code</p>\n<pre><code> String text = reviewText.getText().toString();\n                if (text.length() &gt; 15){\n                    int rating = (int) ratingBar.getRating();\n                    String uuid = firebaseAuth.getCurrentUser().getUid();\n                    Map&lt;String, String&gt; data = new HashMap();\n                    data.put(&quot;rating&quot;, String.valueOf(Integer.parseInt(String.valueOf(rating))));\n                    data.put(&quot;comment&quot;, text);\n                    DatabaseReference  db = firebaseDatabase.getReferenceFromUrl(&quot;dburl&quot;).child(&quot;attr_reviews&quot;).child(placename);\n                    db.setValue(uuid).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                            if(task.isSuccessful()){\n                                db.child(uuid).setValue(data).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                    @Override\n                                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                        if (task.isSuccessful()){\n\n                                        }else {\n                                            Toast.makeText(getActivity(), R.string.eReviewErrUnkw, Toast.LENGTH_LONG).show();\n                                        }\n                                    }\n                                });\n                            }else {\n                                Toast.makeText(getActivity(), R.string.eReviewErrUnkw, Toast.LENGTH_LONG).show();\n                            }\n                        }\n                    });\n\n                }else {\n                    Toast.makeText(getActivity(), R.string.eReviewErrTxt, Toast.LENGTH_LONG).show();\n\n                }\n</code></pre>\n<p>I have tried to put push() into diffrent positions but still same.\nDB structure looks like this\nIt should create DB structure like this on image</p>\n<p><a href=\"https://i.stack.imgur.com/pcc4Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pcc4Y.png\" alt=\"enter image description here\" /></a></p>\n<p>Edit:\nDatabase structure should look like this</p>\n<pre><code>enter code here\nDB\n └attr_reviews\n             └city1\n                  └useruuid1\n                           └comment: &quot;&quot;\n                           └rating: x\n                  └useruuid2\n                           └....\n            └city2\n                 └....\n</code></pre>\n"},{"tags":["java","emv","tlv"],"answers":[{"tags":[],"owner":{"account_id":2599053,"reputation":2163,"user_id":2251990,"accept_rate":15,"display_name":"Adarsh Nanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643134782,"creation_date":1643134782,"answer_id":70853733,"question_id":70844569,"body_markdown":"If I understand your question correctly, you want to understand how they parsed your string to that form. For that, you need to understand EMV parsing following TLV (Tag Length(in hex) and Value ) format. Sometimes tags are grouped under a template.\r\nFollow [this answer][1] for more details where I have explained in further detail with references from EMVCo specs.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49208108/2251990","title":"Get data from EMV response","body":"<p>If I understand your question correctly, you want to understand how they parsed your string to that form. For that, you need to understand EMV parsing following TLV (Tag Length(in hex) and Value ) format. Sometimes tags are grouped under a template.\nFollow <a href=\"https://stackoverflow.com/a/49208108/2251990\">this answer</a> for more details where I have explained in further detail with references from EMVCo specs.</p>\n"}],"owner":{"account_id":18139105,"reputation":85,"user_id":13193196,"display_name":"nim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643134782,"creation_date":1643094167,"question_id":70844569,"body_markdown":"I tried to translate an EMV response of my card details. For that, I used \r\n\r\nhttps://github.com/binaryfoo/emv-bertlv to get data.\r\n\r\nbelow you can see the output :\r\n\r\n```\r\n[6F (FCI template)] 8407A0000000031010A52F500B56495341204352454449548701015F...1A02\r\n      [84 (dedicated file name)] A0000000031010\r\n      [A5 (FCI proprietary template)] 500B56495341204352454449548701015F2D086573656E707466729F...1A02\r\n        [50 (application label)] VISA CREDIT\r\n        [87 (application priority indicator)] 01\r\n        [5F2D (language preference)] esenptfr\r\n        [9F12 (application preferred name)] CREDITO\r\n        [9F11 (issuer code table index)] 01\r\n        [9F38 (PDOL - Processing data object list)] 9F1A02\r\nI/System.out:       9F1A (terminal country code) 2 bytes \r\n\r\n```\r\nHow can I get application label value using this output?","title":"Get data from EMV response","body":"<p>I tried to translate an EMV response of my card details. For that, I used</p>\n<p><a href=\"https://github.com/binaryfoo/emv-bertlv\" rel=\"nofollow noreferrer\">https://github.com/binaryfoo/emv-bertlv</a> to get data.</p>\n<p>below you can see the output :</p>\n<pre><code>[6F (FCI template)] 8407A0000000031010A52F500B56495341204352454449548701015F...1A02\n      [84 (dedicated file name)] A0000000031010\n      [A5 (FCI proprietary template)] 500B56495341204352454449548701015F2D086573656E707466729F...1A02\n        [50 (application label)] VISA CREDIT\n        [87 (application priority indicator)] 01\n        [5F2D (language preference)] esenptfr\n        [9F12 (application preferred name)] CREDITO\n        [9F11 (issuer code table index)] 01\n        [9F38 (PDOL - Processing data object list)] 9F1A02\nI/System.out:       9F1A (terminal country code) 2 bytes \n\n</code></pre>\n<p>How can I get application label value using this output?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":3,"creation_date":1643126949,"post_id":70851892,"comment_id":125254495,"body_markdown":"You need some form of map to map each word to its count. If you do not want to use the existing `Map` implementations of Java, you can start by implementing your own map structure using only arrays, but I think this will be a futile effort.","body":"You need some form of map to map each word to its count. If you do not want to use the existing <code>Map</code> implementations of Java, you can start by implementing your own map structure using only arrays, but I think this will be a futile effort."},{"owner":{"account_id":22197523,"reputation":121,"user_id":17954013,"display_name":"Zootopia"},"score":0,"creation_date":1643127036,"post_id":70851892,"comment_id":125254539,"body_markdown":"yeah, ikr. So should I assume this question cannot be done without using any map?","body":"yeah, ikr. So should I assume this question cannot be done without using any map?"},{"owner":{"account_id":22197523,"reputation":121,"user_id":17954013,"display_name":"Zootopia"},"score":0,"creation_date":1643127138,"post_id":70851892,"comment_id":125254583,"body_markdown":"Will, counting the number of unique words work and, maybe, then something can be done?","body":"Will, counting the number of unique words work and, maybe, then something can be done?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1643127139,"post_id":70851892,"comment_id":125254585,"body_markdown":"You need an associative data structure that allows a counter per word, so that it can hold {are: 2, you: 1}. Since the key of that structure is `String`, you cannot use an array without converting the key to `int`, at which point you&#39;ve arrived at what a `HashMap` does.","body":"You need an associative data structure that allows a counter per word, so that it can hold {are: 2, you: 1}. Since the key of that structure is <code>String</code>, you cannot use an array without converting the key to <code>int</code>, at which point you&#39;ve arrived at what a <code>HashMap</code> does."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643127147,"post_id":70851892,"comment_id":125254593,"body_markdown":"@Zootopia It can be done without a `Map`. That is just probably the easiest way to do it. If this is a school assignment, you should do it using the means that they have taught you to this point.","body":"@Zootopia It can be done without a <code>Map</code>. That is just probably the easiest way to do it. If this is a school assignment, you should do it using the means that they have taught you to this point."},{"owner":{"account_id":22197523,"reputation":121,"user_id":17954013,"display_name":"Zootopia"},"score":0,"creation_date":1643127174,"post_id":70851892,"comment_id":125254613,"body_markdown":"this is not a school assignment ....it was asked in an interview","body":"this is not a school assignment ....it was asked in an interview"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643127206,"post_id":70851892,"comment_id":125254633,"body_markdown":"@Zootopia then use a map! :D","body":"@Zootopia then use a map! :D"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":6,"creation_date":1643127216,"post_id":70851892,"comment_id":125254637,"body_markdown":"You can use 2 arrays: one holds the words, one holds the count. The connection is made using the same index value.","body":"You can use 2 arrays: one holds the words, one holds the count. The connection is made using the same index value."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643127446,"post_id":70851892,"comment_id":125254755,"body_markdown":"@Zootopia you may want to check this answer I provided for a similar problem: https://stackoverflow.com/questions/67026362/calculate-keyword-density-of-each-unique-element-in-list-in-java/67051607#67051607. Let me know what you think. For your problem, however, all you need is a `Map&lt;String, Integer&gt;` where the key is the word and the value is the count. Keep in mind that you need to get the value of a given key and if it exists, increment the value by one. If not, put the key value pair with the value set to 1.","body":"@Zootopia you may want to check this answer I provided for a similar problem: <a href=\"https://stackoverflow.com/questions/67026362/calculate-keyword-density-of-each-unique-element-in-list-in-java/67051607#67051607\" title=\"calculate keyword density of each unique element in list in java\">stackoverflow.com/questions/67026362/&hellip;</a>. Let me know what you think. For your problem, however, all you need is a <code>Map&lt;String, Integer&gt;</code> where the key is the word and the value is the count. Keep in mind that you need to get the value of a given key and if it exists, increment the value by one. If not, put the key value pair with the value set to 1."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":3,"creation_date":1643127664,"post_id":70851892,"comment_id":125254850,"body_markdown":"Or an array which holds an `Object{word,count}` and then always iterate the array to find the object to update. This works, but it is very inefficient","body":"Or an array which holds an <code>Object{word,count}</code> and then always iterate the array to find the object to update. This works, but it is very inefficient"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643127732,"post_id":70851892,"comment_id":125254877,"body_markdown":"An array solution, while functional, is very slow for retrieval.","body":"An array solution, while functional, is very slow for retrieval."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643132007,"post_id":70851892,"comment_id":125256750,"body_markdown":"@Zootopia I think you need to consider the edge case when more than one word have the same frequency. For example, what if two or three words are the most frequent words? Do you want to return _any_ of these words or do you want to return _all_ words? If you need to know _all_ words, you need to consider the solution I posted.","body":"@Zootopia I think you need to consider the edge case when more than one word have the same frequency. For example, what if two or three words are the most frequent words? Do you want to return <i>any</i> of these words or do you want to return <i>all</i> words? If you need to know <i>all</i> words, you need to consider the solution I posted."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643133136,"post_id":70851892,"comment_id":125257210,"body_markdown":"@knittl what do you think about my inverted map solution?","body":"@knittl what do you think about my inverted map solution?"},{"owner":{"account_id":22197523,"reputation":121,"user_id":17954013,"display_name":"Zootopia"},"score":1,"creation_date":1643136843,"post_id":70851892,"comment_id":125258717,"body_markdown":"@hfontanez thanks","body":"@hfontanez thanks"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643137188,"post_id":70851892,"comment_id":125258853,"body_markdown":"@Zootopia You&#39;re welcome. I wanted you to consider other use cases. That&#39;s why I provided you with the link of my other post where I created a custom data structure to capture this data. Then, on my answer here provided two solutions, with one a bit better than the other. Sometimes, solution one is good enough and sometimes it is not. I still believe solution two is better for the aforementioned reasons.","body":"@Zootopia You&#39;re welcome. I wanted you to consider other use cases. That&#39;s why I provided you with the link of my other post where I created a custom data structure to capture this data. Then, on my answer here provided two solutions, with one a bit better than the other. Sometimes, solution one is good enough and sometimes it is not. I still believe solution two is better for the aforementioned reasons."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643128863,"creation_date":1643127989,"answer_id":70852188,"question_id":70851892,"body_markdown":"Here is my solution using 2 arrays:\r\n\r\n    public static void main(String[] args) {\r\n        String input = &quot;are you are&quot;;\r\n        String[] words = input.split(&quot; &quot;);\r\n\r\n        //the 10 is the limit of individual words:\r\n        String[] wordsBucket = new String[10];\r\n        Integer[] countBucket = new Integer[10];\r\n\r\n        for(String word:words){\r\n            int index = findIndex(word, wordsBucket);\r\n            incrementIndex(countBucket, index);\r\n        }\r\n        int highest = findMax(countBucket);\r\n\r\n        System.out.println(wordsBucket[highest]+&quot;: &quot;+countBucket[highest]);\r\n    }\r\n\r\n    private static int findMax(Integer[] countBucket) {\r\n        int max = 0;\r\n        int maxIndex = 0;\r\n        for(int i=0;i&lt;countBucket.length;i++) {\r\n            if(countBucket[i]==null) {\r\n                break;\r\n            }\r\n            if(countBucket[i] &gt; max) {\r\n                max = countBucket[i];\r\n                maxIndex = i;\r\n            }\r\n        }\r\n        return maxIndex;\r\n    }\r\n\r\n    private static int findIndex(String word, String[] wordsBucket) {\r\n        for(int i=0;i&lt;wordsBucket.length;i++) {\r\n            if(word.equals(wordsBucket[i])) {\r\n                return i;\r\n            }\r\n            if(wordsBucket[i] == null) {\r\n                wordsBucket[i] = word;\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    private static void incrementIndex(Integer[] countBucket, int index) {\r\n        if(countBucket[index] == null){\r\n            countBucket[index] = 1;\r\n        } else {\r\n            countBucket[index]++;\r\n        }\r\n    }\r\n\r\nThis prints `are: 2`. As @knittl pointed out in the comments this can also be done with 1 array of `Pair&lt;String, Integer&gt;` or something similar.\r\n\r\nIf you are allowed to use `Map`s and streams, then this works too (using the same `String[] words` as input as above):\r\n\r\n    Map&lt;String, Integer&gt; countingMap = new HashMap&lt;&gt;();\r\n    Arrays.stream(words).forEach(w-&gt;countingMap.compute(w, (ww,c)-&gt;c==null?1:c+1));\r\n    Map.Entry&lt;String, Integer&gt; h = countingMap.entrySet().stream().sorted(Comparator.comparingInt(Map.Entry&lt;String,Integer&gt;::getValue).reversed()).findFirst().get();\r\n    System.out.println(h);\r\n\r\nThis prints `are=2`","title":"Print the most repeated word in a string","body":"<p>Here is my solution using 2 arrays:</p>\n<pre><code>public static void main(String[] args) {\n    String input = &quot;are you are&quot;;\n    String[] words = input.split(&quot; &quot;);\n\n    //the 10 is the limit of individual words:\n    String[] wordsBucket = new String[10];\n    Integer[] countBucket = new Integer[10];\n\n    for(String word:words){\n        int index = findIndex(word, wordsBucket);\n        incrementIndex(countBucket, index);\n    }\n    int highest = findMax(countBucket);\n\n    System.out.println(wordsBucket[highest]+&quot;: &quot;+countBucket[highest]);\n}\n\nprivate static int findMax(Integer[] countBucket) {\n    int max = 0;\n    int maxIndex = 0;\n    for(int i=0;i&lt;countBucket.length;i++) {\n        if(countBucket[i]==null) {\n            break;\n        }\n        if(countBucket[i] &gt; max) {\n            max = countBucket[i];\n            maxIndex = i;\n        }\n    }\n    return maxIndex;\n}\n\nprivate static int findIndex(String word, String[] wordsBucket) {\n    for(int i=0;i&lt;wordsBucket.length;i++) {\n        if(word.equals(wordsBucket[i])) {\n            return i;\n        }\n        if(wordsBucket[i] == null) {\n            wordsBucket[i] = word;\n            return i;\n        }\n    }\n    return -1;\n}\n\nprivate static void incrementIndex(Integer[] countBucket, int index) {\n    if(countBucket[index] == null){\n        countBucket[index] = 1;\n    } else {\n        countBucket[index]++;\n    }\n}\n</code></pre>\n<p>This prints <code>are: 2</code>. As @knittl pointed out in the comments this can also be done with 1 array of <code>Pair&lt;String, Integer&gt;</code> or something similar.</p>\n<p>If you are allowed to use <code>Map</code>s and streams, then this works too (using the same <code>String[] words</code> as input as above):</p>\n<pre><code>Map&lt;String, Integer&gt; countingMap = new HashMap&lt;&gt;();\nArrays.stream(words).forEach(w-&gt;countingMap.compute(w, (ww,c)-&gt;c==null?1:c+1));\nMap.Entry&lt;String, Integer&gt; h = countingMap.entrySet().stream().sorted(Comparator.comparingInt(Map.Entry&lt;String,Integer&gt;::getValue).reversed()).findFirst().get();\nSystem.out.println(h);\n</code></pre>\n<p>This prints <code>are=2</code></p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643132592,"creation_date":1643131693,"answer_id":70853075,"question_id":70851892,"body_markdown":"There are two solutions, but one is better than the other.\r\n\r\nSolution one: use `Map&lt;String, Integer&gt;`\r\n--------------------------------------\r\n\r\n```\r\npublic class WordCount {\r\n\tpublic static void main(String[] args) {\r\n\t\tString phrase = &quot;This example is very good but is not very efficient&quot;;\r\n\t\tString[] words = phrase.split(&quot; &quot;);\r\n\t\tList&lt;String&gt; wordList = Arrays.asList(words);\r\n\t\t\r\n\t\tMap&lt;String, Integer&gt; wordCountMap = wordList.parallelStream().\r\n\t            collect(Collectors.toConcurrentMap(\r\n\t                    w -&gt; w, w -&gt; 1, Integer::sum));\r\n\t\t\t\r\n\t\tSystem.out.println(wordCountMap);\r\n\t}\r\n}\r\n```\r\nThis produces the following output:\r\n```\r\n{but=1, very=2, not=1, efficient=1, This=1, is=2, good=1, example=1}\r\n```\r\nAs you can see, `very` and `is` are tied for the most frequent word. This is why this solution is not the most efficient. What if you could reverse the map in order to group words with similar frequency together? \r\n\r\nSolution two: use `Map&lt;Integer, List&lt;String&gt;&gt;`\r\n----------------------------------------------\r\nIn my opinion, this is a better solution. This solution will group all words with similar count. Using the same input of the solution above, words with similar frequency will be bundled together. So, when querying the map for the highest count, both `very` and `is` will be returned as expected. Using Lambda expressions makes this task of &quot;inverting&quot; the map very easy:\r\n\r\n```\r\nMap&lt;Integer, List&lt;String&gt;&gt; mapInverted = \r\n\t\twordCountMap.entrySet()\r\n\t\t   .stream()\r\n\t\t   .collect(Collectors.groupingBy(Map.Entry::getValue, Collectors.mapping(Map.Entry::getKey, Collectors.toList())));\r\n\t\t\r\nSystem.out.println(mapInverted);\r\n```\r\n\r\nAfter adding these lines to the sample code from solution one, I now have an aggregation of words of similar word counts:\r\n\r\n```\r\n{1=[but, not, efficient, This, good, example], 2=[very, is]}\r\n```\r\n\r\nFor both of these approaches, the way to get the max value:\r\n\r\n```\r\n\r\nEntry&lt;String, Integer&gt; maxEntry = Collections.max(wordCountMap.entrySet(),\r\n\t\t\t\t(Entry&lt;String, Integer&gt; e1, Entry&lt;String, Integer&gt; e2) -&gt; e1.getValue().compareTo(e2.getValue())); // for solution one\r\nSystem.out.println(maxEntry); // outputs: very=2\r\n\r\nEntry&lt;Integer, List&lt;String&gt;&gt; maxKey = Collections.max(mapInverted.entrySet(),\r\n\t\t\t\t(Entry&lt;Integer, List&lt;String&gt;&gt; e1, Entry&lt;Integer, List&lt;String&gt;&gt; e2) -&gt; e1.getKey().compareTo(e2.getKey())); // for solution two\r\nSystem.out.println(maxKey); // outputs: 2=[very, is]\r\n```","title":"Print the most repeated word in a string","body":"<p>There are two solutions, but one is better than the other.</p>\n<h2>Solution one: use <code>Map&lt;String, Integer&gt;</code></h2>\n<pre><code>public class WordCount {\n    public static void main(String[] args) {\n        String phrase = &quot;This example is very good but is not very efficient&quot;;\n        String[] words = phrase.split(&quot; &quot;);\n        List&lt;String&gt; wordList = Arrays.asList(words);\n        \n        Map&lt;String, Integer&gt; wordCountMap = wordList.parallelStream().\n                collect(Collectors.toConcurrentMap(\n                        w -&gt; w, w -&gt; 1, Integer::sum));\n            \n        System.out.println(wordCountMap);\n    }\n}\n</code></pre>\n<p>This produces the following output:</p>\n<pre><code>{but=1, very=2, not=1, efficient=1, This=1, is=2, good=1, example=1}\n</code></pre>\n<p>As you can see, <code>very</code> and <code>is</code> are tied for the most frequent word. This is why this solution is not the most efficient. What if you could reverse the map in order to group words with similar frequency together?</p>\n<h2>Solution two: use <code>Map&lt;Integer, List&lt;String&gt;&gt;</code></h2>\n<p>In my opinion, this is a better solution. This solution will group all words with similar count. Using the same input of the solution above, words with similar frequency will be bundled together. So, when querying the map for the highest count, both <code>very</code> and <code>is</code> will be returned as expected. Using Lambda expressions makes this task of &quot;inverting&quot; the map very easy:</p>\n<pre><code>Map&lt;Integer, List&lt;String&gt;&gt; mapInverted = \n        wordCountMap.entrySet()\n           .stream()\n           .collect(Collectors.groupingBy(Map.Entry::getValue, Collectors.mapping(Map.Entry::getKey, Collectors.toList())));\n        \nSystem.out.println(mapInverted);\n</code></pre>\n<p>After adding these lines to the sample code from solution one, I now have an aggregation of words of similar word counts:</p>\n<pre><code>{1=[but, not, efficient, This, good, example], 2=[very, is]}\n</code></pre>\n<p>For both of these approaches, the way to get the max value:</p>\n<pre><code>\nEntry&lt;String, Integer&gt; maxEntry = Collections.max(wordCountMap.entrySet(),\n                (Entry&lt;String, Integer&gt; e1, Entry&lt;String, Integer&gt; e2) -&gt; e1.getValue().compareTo(e2.getValue())); // for solution one\nSystem.out.println(maxEntry); // outputs: very=2\n\nEntry&lt;Integer, List&lt;String&gt;&gt; maxKey = Collections.max(mapInverted.entrySet(),\n                (Entry&lt;Integer, List&lt;String&gt;&gt; e1, Entry&lt;Integer, List&lt;String&gt;&gt; e2) -&gt; e1.getKey().compareTo(e2.getKey())); // for solution two\nSystem.out.println(maxKey); // outputs: 2=[very, is]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643132536,"creation_date":1643131855,"answer_id":70853112,"question_id":70851892,"body_markdown":"In fact, to get the most frequent word, existing code needs to be modified slightly just to provide a variable for the most repeated variable which has to be updated when a more frequent word is detected.  No extra arrays/data structures is needed for this specific task.\r\n\r\n```java\r\nString arr[] = str.split(&quot; &quot;);\r\nint maxFreq = 0;\r\nString mostRepeated = null;\r\n\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n    String temp = arr[i];\r\n    int count = 1;\r\n    for (int j = i + 1; j &lt; arr.length; j++) {\r\n        if (temp.equalsIgnoreCase(arr[j]))\r\n            count++;\r\n    }\r\n    if (maxFreq &lt; count) {\r\n       maxFreq = count;\r\n       mostRepeated = temp;\r\n    }\r\n}\r\nSystem.out.println(mostRepeated + &quot;: &quot; + maxFreq);\r\n```\r\nFor the input:\r\n```java\r\nString str = &quot;I am he as you are he as you are me and we are all together&quot;;\r\n```\r\nOutput:\r\n```\r\nare: 3\r\n```\r\n----\r\nA bit faster implementation could include setting the duplicated values to `null` to skip them later:\r\n```java\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n    if (null == arr[i]) continue;\r\n    String temp = arr[i];\r\n    int count = 1;\r\n    for (int j = i + 1; j &lt; arr.length; j++) {\r\n        if (temp.equalsIgnoreCase(arr[j])) {\r\n            count++;\r\n            arr[j] = null;\r\n        }\r\n    }\r\n    if (maxFreq &lt; count) {\r\n       maxFreq = count;\r\n       mostRepeated = temp;\r\n    }\r\n}\r\n```","title":"Print the most repeated word in a string","body":"<p>In fact, to get the most frequent word, existing code needs to be modified slightly just to provide a variable for the most repeated variable which has to be updated when a more frequent word is detected.  No extra arrays/data structures is needed for this specific task.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String arr[] = str.split(&quot; &quot;);\nint maxFreq = 0;\nString mostRepeated = null;\n\nfor (int i = 0; i &lt; arr.length; i++) {\n    String temp = arr[i];\n    int count = 1;\n    for (int j = i + 1; j &lt; arr.length; j++) {\n        if (temp.equalsIgnoreCase(arr[j]))\n            count++;\n    }\n    if (maxFreq &lt; count) {\n       maxFreq = count;\n       mostRepeated = temp;\n    }\n}\nSystem.out.println(mostRepeated + &quot;: &quot; + maxFreq);\n</code></pre>\n<p>For the input:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;I am he as you are he as you are me and we are all together&quot;;\n</code></pre>\n<p>Output:</p>\n<pre><code>are: 3\n</code></pre>\n<hr />\n<p>A bit faster implementation could include setting the duplicated values to <code>null</code> to skip them later:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; arr.length; i++) {\n    if (null == arr[i]) continue;\n    String temp = arr[i];\n    int count = 1;\n    for (int j = i + 1; j &lt; arr.length; j++) {\n        if (temp.equalsIgnoreCase(arr[j])) {\n            count++;\n            arr[j] = null;\n        }\n    }\n    if (maxFreq &lt; count) {\n       maxFreq = count;\n       mostRepeated = temp;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643134574,"creation_date":1643132165,"answer_id":70853185,"question_id":70851892,"body_markdown":"Here is one way. It just maintains a list of words to count and adjust the max while iterating thru the list.\r\n- scratch arrays are allocated to the max number of words.\r\n- `cnt` is adjust to control iterating thru updated arrays based on discovered words.\r\n```\r\nString s =\r\n\t\t&quot;this when this how to now this why apple when when other now this now&quot;;\r\nString[] words = s.split(&quot;\\\\s+&quot;);\r\nint cnt = 0;\r\nint idx = -1;\r\nString[] list = new String[words.length];\r\nint[] count = new int[words.length];\r\nint max = 0;\r\nfor (int i = 0; i &lt; words.length; i++) {\r\n\tfor (int k = 0; k &lt; cnt; k++) {\r\n\t\tif (list[k].equals(words[i])) {\r\n\t\t\tcount[k]++;\r\n\t\t\tif (count[k] &gt; max) {\r\n\t\t\t\tmax = count[k];\r\n\t\t\t\tidx = k;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tcount[cnt] = 1;\r\n\tlist[cnt++] = words[i];\r\n}\r\n\r\nSystem.out.println(words[idx] + &quot; &quot; + max);\r\n```\r\nprints\r\n```\r\nthis 4\r\n```\r\nAnd here is yet another solution using streams.  This simply creates a map of word counts then finds the first entry that has the greatest count.  Ties are ignored.\r\n```\r\nEntry&lt;String, Integer&gt; result = Arrays.stream(s.split(&quot;\\\\s+&quot;))\r\n\t\t.collect(Collectors.toMap(r -&gt; r, q -&gt; 1,\r\n\t\t\t\t(a, b) -&gt; a + 1))\r\n\t\t.entrySet().stream().max(Entry.comparingByValue())\r\n\t\t.get();\r\n\r\nSystem.out.println(result);\r\n```\r\nprints\r\n```\r\nthis=4\r\n","title":"Print the most repeated word in a string","body":"<p>Here is one way. It just maintains a list of words to count and adjust the max while iterating thru the list.</p>\n<ul>\n<li>scratch arrays are allocated to the max number of words.</li>\n<li><code>cnt</code> is adjust to control iterating thru updated arrays based on discovered words.</li>\n</ul>\n<pre><code>String s =\n        &quot;this when this how to now this why apple when when other now this now&quot;;\nString[] words = s.split(&quot;\\\\s+&quot;);\nint cnt = 0;\nint idx = -1;\nString[] list = new String[words.length];\nint[] count = new int[words.length];\nint max = 0;\nfor (int i = 0; i &lt; words.length; i++) {\n    for (int k = 0; k &lt; cnt; k++) {\n        if (list[k].equals(words[i])) {\n            count[k]++;\n            if (count[k] &gt; max) {\n                max = count[k];\n                idx = k;\n            }\n            break;\n        }\n    }\n    count[cnt] = 1;\n    list[cnt++] = words[i];\n}\n\nSystem.out.println(words[idx] + &quot; &quot; + max);\n</code></pre>\n<p>prints</p>\n<pre><code>this 4\n</code></pre>\n<p>And here is yet another solution using streams.  This simply creates a map of word counts then finds the first entry that has the greatest count.  Ties are ignored.</p>\n<pre><code>Entry&lt;String, Integer&gt; result = Arrays.stream(s.split(&quot;\\\\s+&quot;))\n        .collect(Collectors.toMap(r -&gt; r, q -&gt; 1,\n                (a, b) -&gt; a + 1))\n        .entrySet().stream().max(Entry.comparingByValue())\n        .get();\n\nSystem.out.println(result);\n</code></pre>\n<p>prints</p>\n<pre><code>this=4\n</code></pre>\n"}],"owner":{"account_id":22197523,"reputation":121,"user_id":17954013,"display_name":"Zootopia"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70853112,"answer_count":4,"score":1,"last_activity_date":1643134574,"creation_date":1643126824,"question_id":70851892,"body_markdown":"Write a java program to find the most repeated word in a string and also print its frequency.\r\n\r\n---\r\n\r\nINPUT\r\n-\r\nare you are \r\n\r\nOUTPUT\r\n-\r\nare: 2\r\n\r\n---\r\n\r\nThis question can be done by using HashMap or file reader (I suppose) but actually, I haven&#39;t learned them yet. \r\n\r\nYet, I managed to write a code that displays the frequency (but not the word)\r\n\r\n    import java.util.Scanner;\r\n    class duplicatewords\r\n       {\r\n           void main()\r\n           {\r\n               Scanner sc=new Scanner(System.in);\r\n               System.out.println(&quot;Enter the string&quot;);\r\n               String str=sc.nextLine();\r\n               String arr[]=str.split(&quot; &quot;);\r\n               int count=1; int checkvalue=0;\r\n               for(int i=0;i&lt;arr.length-1;i++)\r\n               {\r\n                   String temp=arr[i];\r\n                   for(int j=i+1;j&lt;arr.length;j++)\r\n                   {\r\n                       String anothertemp=arr[j];\r\n                       if(temp.equalsIgnoreCase(anothertemp))\r\n                       count++;\r\n                    }\r\n                    if(checkvalue&lt;c)\r\n                    checkvalue=c;\r\n                    c=1;\r\n                }\r\n                System.out.println(checkvalue);\r\n            }\r\n        } \r\n\r\nI want to know how to print the word also without using any map or reader.\r\n\r\nI think the program will be a very complicated one but I will understand.\r\n\r\nAny help will be greatly appreciated.","title":"Print the most repeated word in a string","body":"<p>Write a java program to find the most repeated word in a string and also print its frequency.</p>\n<hr />\n<h2>INPUT</h2>\n<p>are you are</p>\n<h2>OUTPUT</h2>\n<p>are: 2</p>\n<hr />\n<p>This question can be done by using HashMap or file reader (I suppose) but actually, I haven't learned them yet.</p>\n<p>Yet, I managed to write a code that displays the frequency (but not the word)</p>\n<pre><code>import java.util.Scanner;\nclass duplicatewords\n   {\n       void main()\n       {\n           Scanner sc=new Scanner(System.in);\n           System.out.println(&quot;Enter the string&quot;);\n           String str=sc.nextLine();\n           String arr[]=str.split(&quot; &quot;);\n           int count=1; int checkvalue=0;\n           for(int i=0;i&lt;arr.length-1;i++)\n           {\n               String temp=arr[i];\n               for(int j=i+1;j&lt;arr.length;j++)\n               {\n                   String anothertemp=arr[j];\n                   if(temp.equalsIgnoreCase(anothertemp))\n                   count++;\n                }\n                if(checkvalue&lt;c)\n                checkvalue=c;\n                c=1;\n            }\n            System.out.println(checkvalue);\n        }\n    } \n</code></pre>\n<p>I want to know how to print the word also without using any map or reader.</p>\n<p>I think the program will be a very complicated one but I will understand.</p>\n<p>Any help will be greatly appreciated.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"score":0,"creation_date":1643133770,"post_id":70853437,"comment_id":125257483,"body_markdown":"If you are waiting for some unchecked exception while requesting, you can make GlobalExceptionHandler aspect and catch any exception there","body":"If you are waiting for some unchecked exception while requesting, you can make GlobalExceptionHandler aspect and catch any exception there"},{"owner":{"account_id":23282221,"reputation":23,"user_id":17365527,"display_name":"ObviousNewbee"},"score":0,"creation_date":1643134264,"post_id":70853437,"comment_id":125257665,"body_markdown":"I mean maybe use something like Optional&lt;&gt;? But how to cast from &lt;? &gt; to &lt;MyType&gt;","body":"I mean maybe use something like Optional&lt;&gt;? But how to cast from &lt;? &gt; to &lt;MyType&gt;"}],"answers":[{"tags":[],"owner":{"account_id":23996479,"reputation":139,"user_id":17981941,"display_name":"Dhanraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643134443,"creation_date":1643134443,"answer_id":70853666,"question_id":70853437,"body_markdown":"You can cast the response to String type first.\r\n\r\n    For example - ResponseEntity&lt;String&gt; resp = uploadfile();\r\n\r\nThen check the status code for the response.\r\nI am assuming that you will be getting 2xx series for a successful file upload and 4xx series if there is a failure.\r\n\r\nBased on the status code you can conditionally map the string response body to whichever DTO you want to map it to.\r\n    \r\n    For ex :\r\n     if(resp.getStatusCode()==200)  {\r\n       SuccessDTO s= new \r\n    ObjectMapper().readValue(resp.getBody(),SuccessDTO.class);\r\n    }\r\n    else\r\n     {\r\n      ErrorDTO s= new \r\n     ObjectMapper().readValue(resp.getBody(),ErrorDTO.class);\r\n    }","title":"How to handle response with &lt;?&gt; type in spring-boot?","body":"<p>You can cast the response to String type first.</p>\n<pre><code>For example - ResponseEntity&lt;String&gt; resp = uploadfile();\n</code></pre>\n<p>Then check the status code for the response.\nI am assuming that you will be getting 2xx series for a successful file upload and 4xx series if there is a failure.</p>\n<p>Based on the status code you can conditionally map the string response body to whichever DTO you want to map it to.</p>\n<pre><code>For ex :\n if(resp.getStatusCode()==200)  {\n   SuccessDTO s= new \nObjectMapper().readValue(resp.getBody(),SuccessDTO.class);\n}\nelse\n {\n  ErrorDTO s= new \n ObjectMapper().readValue(resp.getBody(),ErrorDTO.class);\n}\n</code></pre>\n"}],"owner":{"account_id":23282221,"reputation":23,"user_id":17365527,"display_name":"ObviousNewbee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643134443,"creation_date":1643133303,"question_id":70853437,"body_markdown":"There is some third-party function with a method signature.\r\n\r\n`public ResponseEntity&lt;?&gt; uploadFile()`\r\n\r\nWithout going into too much detail, this function uploads a file and returns a json response back, with a field containing the word ok.\r\nI know the DTO structure that the function returns when the file is successfully uploaded.\r\n  But how do I handle a negative outcome. When does the error return? This example is abstract. But it can be understood that the structure of the erroneous DTO is not equal to the structure of the DTO on a positive outcome. \r\n\r\nAnd I somehow need to check this field, let&#39;s call it &quot;status&quot;, that it is not null. How can this be done better?","title":"How to handle response with &lt;?&gt; type in spring-boot?","body":"<p>There is some third-party function with a method signature.</p>\n<p><code>public ResponseEntity&lt;?&gt; uploadFile()</code></p>\n<p>Without going into too much detail, this function uploads a file and returns a json response back, with a field containing the word ok.\nI know the DTO structure that the function returns when the file is successfully uploaded.\nBut how do I handle a negative outcome. When does the error return? This example is abstract. But it can be understood that the structure of the erroneous DTO is not equal to the structure of the DTO on a positive outcome.</p>\n<p>And I somehow need to check this field, let's call it &quot;status&quot;, that it is not null. How can this be done better?</p>\n"},{"tags":["java","multithreading","java-8","concurrency"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":4,"creation_date":1594836506,"post_id":62921166,"comment_id":111269722,"body_markdown":"This seems unnecessarily opaque.","body":"This seems unnecessarily opaque."},{"owner":{"account_id":19022209,"reputation":167,"user_id":13886040,"display_name":"Concurrent Bhai"},"score":0,"creation_date":1594836631,"post_id":62921166,"comment_id":111269767,"body_markdown":"@chrylis-cautiouslyoptimistic- I am sorry, I don&#39;t get it. Do you mean opaque memory mode?","body":"@chrylis-cautiouslyoptimistic- I am sorry, I don&#39;t get it. Do you mean opaque memory mode?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1594836635,"post_id":62921166,"comment_id":111269769,"body_markdown":"The only difference vs a while loop here is that `haveNext` is scoped to the for loop. Since there&#39;s nothing following the for loop, that&#39;s not really an advantage.","body":"The only difference vs a while loop here is that <code>haveNext</code> is scoped to the for loop. Since there&#39;s nothing following the for loop, that&#39;s not really an advantage."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":4,"creation_date":1594837141,"post_id":62921166,"comment_id":111270001,"body_markdown":"I mean that the code is difficult to read without needing to be.","body":"I mean that the code is difficult to read without needing to be."},{"owner":{"account_id":19022209,"reputation":167,"user_id":13886040,"display_name":"Concurrent Bhai"},"score":0,"creation_date":1594837244,"post_id":62921166,"comment_id":111270049,"body_markdown":"@chrylis-cautiouslyoptimistic- so it doesn&#39;t have to do anything with the reordering, right?","body":"@chrylis-cautiouslyoptimistic- so it doesn&#39;t have to do anything with the reordering, right?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1594837292,"post_id":62921166,"comment_id":111270070,"body_markdown":"@ConcurrentBhai nothing at all.","body":"@ConcurrentBhai nothing at all."},{"owner":{"account_id":19022209,"reputation":167,"user_id":13886040,"display_name":"Concurrent Bhai"},"score":0,"creation_date":1594837310,"post_id":62921166,"comment_id":111270081,"body_markdown":"@AndyTurner Thank you andy","body":"@AndyTurner Thank you andy"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1594837323,"post_id":62921166,"comment_id":111270086,"body_markdown":"I don&#39;t see what &quot;reordering&quot; could be involved; by the time the JVM gets involved, this will have been reduced to equivalent bytecode.","body":"I don&#39;t see what &quot;reordering&quot; could be involved; by the time the JVM gets involved, this will have been reduced to equivalent bytecode."},{"owner":{"account_id":19022209,"reputation":167,"user_id":13886040,"display_name":"Concurrent Bhai"},"score":0,"creation_date":1594837387,"post_id":62921166,"comment_id":111270116,"body_markdown":"@chrylis-cautiouslyoptimistic- Maybe I need to look into it again. Thank you for the help","body":"@chrylis-cautiouslyoptimistic- Maybe I need to look into it again. Thank you for the help"},{"owner":{"account_id":9103081,"reputation":374,"user_id":6774555,"display_name":"apophis"},"score":2,"creation_date":1594936974,"post_id":62921166,"comment_id":111310122,"body_markdown":"That&#39;s typical Doug Lea / Martin Buchholz style (the JDK concurrency czars). Almost noone else has this coding style.","body":"That&#39;s typical Doug Lea / Martin Buchholz style (the JDK concurrency czars). Almost noone else has this coding style."}],"answers":[{"tags":[],"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594836763,"creation_date":1594836730,"answer_id":62921275,"question_id":62921166,"body_markdown":"In that specific use case for AtomicInteger the variable can be defined within the scope of usage once where as with a while-loop it would be defined out-side of the scope of the iteration. I would assume that played into the choice of iteration mechanism. ","title":"using for(boolean haveNext = false;;) instead of while(cond)","body":"<p>In that specific use case for AtomicInteger the variable can be defined within the scope of usage once where as with a while-loop it would be defined out-side of the scope of the iteration. I would assume that played into the choice of iteration mechanism.</p>\n"},{"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594840463,"creation_date":1594840463,"answer_id":62922253,"question_id":62921166,"body_markdown":"This is because the loop is left in the middle, not at the start (then programmer could use &quot;while&quot;), or end  (then programmer could use &quot;do ... while&quot;). \r\nIt is not connected with reordering.","title":"using for(boolean haveNext = false;;) instead of while(cond)","body":"<p>This is because the loop is left in the middle, not at the start (then programmer could use &quot;while&quot;), or end  (then programmer could use &quot;do ... while&quot;).\nIt is not connected with reordering.</p>\n"},{"tags":[],"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643133959,"creation_date":1643132946,"answer_id":70853347,"question_id":62921166,"body_markdown":"**TLDR.: This is done to prevent an unnecessary remapping of `next`.**\r\n\r\nThis is because of the &quot;weak&quot; nature of the weakCompareAndSetVolatile:\r\n\r\n    /**\r\n     * Possibly atomically sets the value to {@code newValue}\r\n     * if the current value {@code == expectedValue},\r\n     * with memory effects as specified by\r\n     * {@link VarHandle#weakCompareAndSet}.\r\n     *\r\n     * @param expectedValue the expected value\r\n     * @param newValue the new value\r\n     * @return {@code true} if successful\r\n     * @since 9\r\n     */\r\n    public final boolean weakCompareAndSetVolatile(V expectedValue, V newValue) {\r\n        return VALUE.weakCompareAndSet(this, expectedValue, newValue);\r\n    }\r\n\r\n**On the &quot;weak&quot; nature of the weakCompareAndSet&#39;s:**\r\n\r\n&quot;... [But on other platforms such as PowerPC or ARM (without LSE extension) CAS is implemented as a sequence of several instructions which provide LL/SC behavior and memory barriers as separate building blocks. This creates some wiggle room how strong your CAS can be both in terms of ordering and failure guarantees.][1]&quot;\r\n\r\nWhat the Javadoc defines as &quot;[May fail spuriously.][2]&quot;\r\n\r\nBecause of the possibility of these **false negatives**, the line `haveNext = (prev == (prev = get()));` needs to reassure that the CAS failed because of a true miss (a change in the volatile value), and not because it *&quot;failed spuriously&quot;*.\r\n\r\nIn reality, this would not be needed if the function `accumulatorFunction.applyAsInt(prev, x);` would not be required to redefine `next` each time `prev` received a volatile write, hence changing its value... **on each loop**, meaning the reason for this double check **is to prevent an unnecessary remapping of `next`.**\r\n\r\nAt first glance it seems as if a mismatched version of `next` could happen in between loops (when a wrong version of `prev` passes the function), and that is correct. BUT the mismatched version **will never be set** because by the time the loop reaches the `weakCompareAndSetVolatile`, the expected value will not match, and so the entire process will retry, until everything matches.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/36429945/11214643\r\n  [2]: https://stackoverflow.com/a/355374/11214643","title":"using for(boolean haveNext = false;;) instead of while(cond)","body":"<p><strong>TLDR.: This is done to prevent an unnecessary remapping of <code>next</code>.</strong></p>\n<p>This is because of the &quot;weak&quot; nature of the weakCompareAndSetVolatile:</p>\n<pre><code>/**\n * Possibly atomically sets the value to {@code newValue}\n * if the current value {@code == expectedValue},\n * with memory effects as specified by\n * {@link VarHandle#weakCompareAndSet}.\n *\n * @param expectedValue the expected value\n * @param newValue the new value\n * @return {@code true} if successful\n * @since 9\n */\npublic final boolean weakCompareAndSetVolatile(V expectedValue, V newValue) {\n    return VALUE.weakCompareAndSet(this, expectedValue, newValue);\n}\n</code></pre>\n<p><strong>On the &quot;weak&quot; nature of the weakCompareAndSet's:</strong></p>\n<p>&quot;... <a href=\"https://stackoverflow.com/a/36429945/11214643\">But on other platforms such as PowerPC or ARM (without LSE extension) CAS is implemented as a sequence of several instructions which provide LL/SC behavior and memory barriers as separate building blocks. This creates some wiggle room how strong your CAS can be both in terms of ordering and failure guarantees.</a>&quot;</p>\n<p>What the Javadoc defines as &quot;<a href=\"https://stackoverflow.com/a/355374/11214643\">May fail spuriously.</a>&quot;</p>\n<p>Because of the possibility of these <strong>false negatives</strong>, the line <code>haveNext = (prev == (prev = get()));</code> needs to reassure that the CAS failed because of a true miss (a change in the volatile value), and not because it <em>&quot;failed spuriously&quot;</em>.</p>\n<p>In reality, this would not be needed if the function <code>accumulatorFunction.applyAsInt(prev, x);</code> would not be required to redefine <code>next</code> each time <code>prev</code> received a volatile write, hence changing its value... <strong>on each loop</strong>, meaning the reason for this double check <strong>is to prevent an unnecessary remapping of <code>next</code>.</strong></p>\n<p>At first glance it seems as if a mismatched version of <code>next</code> could happen in between loops (when a wrong version of <code>prev</code> passes the function), and that is correct. BUT the mismatched version <strong>will never be set</strong> because by the time the loop reaches the <code>weakCompareAndSetVolatile</code>, the expected value will not match, and so the entire process will retry, until everything matches.</p>\n"}],"owner":{"account_id":19022209,"reputation":167,"user_id":13886040,"display_name":"Concurrent Bhai"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1643133959,"creation_date":1594836331,"question_id":62921166,"body_markdown":"Here is a code snippet from `AtomicInteger`:\r\n\r\n    public final int accumulateAndGet(int x,\r\n                                      IntBinaryOperator accumulatorFunction) {\r\n        int prev = get(), next = 0;\r\n        for (boolean haveNext = false;;) {\r\n            if (!haveNext)\r\n                next = accumulatorFunction.applyAsInt(prev, x);\r\n            if (weakCompareAndSetVolatile(prev, next))\r\n                return next;\r\n            haveNext = (prev == (prev = get()));\r\n        }\r\n    }\r\n\r\nIs there any specific reason of using `for(...` instead of `while(...` or it&#39;s just a programming choice?\r\n\r\nIs it because of the reordering done by the jvm?","title":"using for(boolean haveNext = false;;) instead of while(cond)","body":"<p>Here is a code snippet from <code>AtomicInteger</code>:</p>\n<pre><code>public final int accumulateAndGet(int x,\n                                  IntBinaryOperator accumulatorFunction) {\n    int prev = get(), next = 0;\n    for (boolean haveNext = false;;) {\n        if (!haveNext)\n            next = accumulatorFunction.applyAsInt(prev, x);\n        if (weakCompareAndSetVolatile(prev, next))\n            return next;\n        haveNext = (prev == (prev = get()));\n    }\n}\n</code></pre>\n<p>Is there any specific reason of using <code>for(...</code> instead of <code>while(...</code> or it's just a programming choice?</p>\n<p>Is it because of the reordering done by the jvm?</p>\n"},{"tags":["java","sql","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643116391,"creation_date":1643116391,"answer_id":70849241,"question_id":70848918,"body_markdown":"I don&#39;t think there is a way to do that. \r\n\r\nJust get a `NamedParameterJdbcTemplate` injected and query away.\r\n\r\n\r\nA central premise of JPA is that you can load data from a bunch of tables, edit the resulting object structure and JPA will take note and mirror the changes to the data in the database.\r\nIf you don&#39;t have anything to use as an id you wouldn&#39;t know which row to update. So this whole approach kinda fails to work.","title":"How to represent table with nulls in Spring Data JPA?","body":"<p>I don't think there is a way to do that.</p>\n<p>Just get a <code>NamedParameterJdbcTemplate</code> injected and query away.</p>\n<p>A central premise of JPA is that you can load data from a bunch of tables, edit the resulting object structure and JPA will take note and mirror the changes to the data in the database.\nIf you don't have anything to use as an id you wouldn't know which row to update. So this whole approach kinda fails to work.</p>\n"},{"tags":[],"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643133880,"creation_date":1643133880,"answer_id":70853564,"question_id":70848918,"body_markdown":"You can use `@EmeddedId` with an ID you create. Set the ID field either `@Transient` or `static` so it won&#39;t affect persistence.\r\n\r\nIn the below example I use the UUID static method `.randomUUID()` to generate the ID.\r\n\r\nSo put this into your `@Entity` and you will get every row regardless of `null`s. Inserts will work just fine too (depending on how you disambiguate your rows).\r\n\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n        @EmbeddedId\r\n        static UUID uuid = UUID.randomUUID();\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to represent table with nulls in Spring Data JPA?","body":"<p>You can use <code>@EmeddedId</code> with an ID you create. Set the ID field either <code>@Transient</code> or <code>static</code> so it won't affect persistence.</p>\n<p>In the below example I use the UUID static method <code>.randomUUID()</code> to generate the ID.</p>\n<p>So put this into your <code>@Entity</code> and you will get every row regardless of <code>null</code>s. Inserts will work just fine too (depending on how you disambiguate your rows).</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @EmbeddedId\n    static UUID uuid = UUID.randomUUID();\n</code></pre>\n\n"}],"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":768,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1643133880,"creation_date":1643114907,"question_id":70848918,"body_markdown":"What should I do to represent this table in Spring Data Java Persistence Application Programming Interface (JPA)?\r\n\r\nThe table is specific because it has **no primary key** and **every column in the table can have nulls**, and it is **read only**.\r\n\r\nIn entity class I can not simply annotate a single column with ```@id``` because there is no column with unique values.\r\nI can, of course, create composite virtual primary key in entity class by annotating every column with ```@id```, and that works, but only if there are no ```null```s in the row. So if I select row(s) with all columns not ```null``` then this works. But if one or more columns contains ```null```, Spring is not able to extract that row from table, and instead returns simply ```null``` for entire row rather than returning an entity object with only the appropriate field ```null```.\r\n\r\nPlease do not say &quot;just add id column to the table&quot; because table is read only for us. My company was negotiating for more then a month just to get the read rights to the table! I can not simply add ```id``` field in the table.\r\n\r\nWhat else can I do in this case? Other than manually executing a query and extracting the result. Can I somehow fake the ```id``` field to make Spring happy? ```id``` field is not important for our application, we will never filter the table by ```id```, so it can be whatever makes Spring happy as far as I am concerned.","title":"How to represent table with nulls in Spring Data JPA?","body":"<p>What should I do to represent this table in Spring Data Java Persistence Application Programming Interface (JPA)?</p>\n<p>The table is specific because it has <strong>no primary key</strong> and <strong>every column in the table can have nulls</strong>, and it is <strong>read only</strong>.</p>\n<p>In entity class I can not simply annotate a single column with <code>@id</code> because there is no column with unique values.\nI can, of course, create composite virtual primary key in entity class by annotating every column with <code>@id</code>, and that works, but only if there are no <code>null</code>s in the row. So if I select row(s) with all columns not <code>null</code> then this works. But if one or more columns contains <code>null</code>, Spring is not able to extract that row from table, and instead returns simply <code>null</code> for entire row rather than returning an entity object with only the appropriate field <code>null</code>.</p>\n<p>Please do not say &quot;just add id column to the table&quot; because table is read only for us. My company was negotiating for more then a month just to get the read rights to the table! I can not simply add <code>id</code> field in the table.</p>\n<p>What else can I do in this case? Other than manually executing a query and extracting the result. Can I somehow fake the <code>id</code> field to make Spring happy? <code>id</code> field is not important for our application, we will never filter the table by <code>id</code>, so it can be whatever makes Spring happy as far as I am concerned.</p>\n"},{"tags":["java","spring-boot","model-view-controller","thymeleaf"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643125928,"post_id":70849851,"comment_id":125254003,"body_markdown":"See if this helps https://stackoverflow.com/questions/63683474/how-to-put-variable-to-img-src-path-in-spring-with-thymeleaf","body":"See if this helps <a href=\"https://stackoverflow.com/questions/63683474/how-to-put-variable-to-img-src-path-in-spring-with-thymeleaf\" title=\"how to put variable to img src path in spring with thymeleaf\">stackoverflow.com/questions/63683474/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643133366,"creation_date":1643133366,"answer_id":70853459,"question_id":70849851,"body_markdown":"In your controller, add the url to the model.\r\n\r\n\r\n    @Controller\r\n    public class ExampleController {\r\n\r\n      @GetMapping(&quot;page&quot;)\r\n      public String examplePage(Map&lt;String, Object&gt; model) {\r\n        model.put(&quot;url&quot;, &quot;https://google.com&quot;);\r\n        return &quot;page&quot;;\r\n      }\r\n    }\r\n\r\nOn your page, set the value using `th:src`.\r\n\r\n    &lt;img th:src=&quot;${url}&quot; /&gt;","title":"How can i add an absolute image url in thymeleaf?","body":"<p>In your controller, add the url to the model.</p>\n<pre><code>@Controller\npublic class ExampleController {\n\n  @GetMapping(&quot;page&quot;)\n  public String examplePage(Map&lt;String, Object&gt; model) {\n    model.put(&quot;url&quot;, &quot;https://google.com&quot;);\n    return &quot;page&quot;;\n  }\n}\n</code></pre>\n<p>On your page, set the value using <code>th:src</code>.</p>\n<pre><code>&lt;img th:src=&quot;${url}&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":21495142,"reputation":21,"user_id":15840279,"display_name":"Aayush Soni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643133366,"creation_date":1643118886,"question_id":70849851,"body_markdown":"how can I add an online image url in thymeleaf like we do in html eg:\r\n```\r\n&lt;img src=&quot;http://blahblah.png&quot;&gt;\r\n``` \r\nI want to add this &quot;http://blahblah.png&quot; dynamically i.e. I want to add this from database using a **controller** and **thymeleaf** inside **src**.","title":"How can i add an absolute image url in thymeleaf?","body":"<p>how can I add an online image url in thymeleaf like we do in html eg:</p>\n<pre><code>&lt;img src=&quot;http://blahblah.png&quot;&gt;\n</code></pre>\n<p>I want to add this &quot;http://blahblah.png&quot; dynamically i.e. I want to add this from database using a <strong>controller</strong> and <strong>thymeleaf</strong> inside <strong>src</strong>.</p>\n"},{"tags":["java","maven","ant"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643133931,"post_id":70853458,"comment_id":125257532,"body_markdown":"First without the Ant files it&#39;s hard to guess apart from that there should be conditions defined (which I have my doubts about)... Really using Ant based builds?","body":"First without the Ant files it&#39;s hard to guess apart from that there should be conditions defined (which I have my doubts about)... Really using Ant based builds?"},{"owner":{"account_id":10137286,"reputation":447,"user_id":7488260,"display_name":"Ashutosh gupta"},"score":0,"creation_date":1643134184,"post_id":70853458,"comment_id":125257636,"body_markdown":"@khmarbaise - I am working on Apache Pig project which uses Ant","body":"@khmarbaise - I am working on Apache Pig project which uses Ant"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643134411,"post_id":70853458,"comment_id":125257724,"body_markdown":"Does that help ?","body":"Does that help ?"},{"owner":{"account_id":10137286,"reputation":447,"user_id":7488260,"display_name":"Ashutosh gupta"},"score":0,"creation_date":1643134869,"post_id":70853458,"comment_id":125257913,"body_markdown":"Sorry, I didn&#39;t understand your solution shared.","body":"Sorry, I didn&#39;t understand your solution shared."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643136878,"post_id":70853458,"comment_id":125258733,"body_markdown":"Your answer does not help here which project you are working on... apart from that if you are working on an apache project I recommend to ask on the developer list of the project...","body":"Your answer does not help here which project you are working on... apart from that if you are working on an apache project I recommend to ask on the developer list of the project..."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643137559,"post_id":70853458,"comment_id":125258989,"body_markdown":"Um… remove the `&lt;javadoc&gt;` task from the build file?  Or execute an Ant task which doesn’t depend on any task that executes `&lt;javadoc&gt;`?  Ant is not a ‘do everything automatically for you’ tool.  Ant does what you ask it to do, and no more.","body":"Um… remove the <code>&lt;javadoc&gt;</code> task from the build file?  Or execute an Ant task which doesn’t depend on any task that executes <code>&lt;javadoc&gt;</code>?  Ant is not a ‘do everything automatically for you’ tool.  Ant does what you ask it to do, and no more."}],"owner":{"account_id":10137286,"reputation":447,"user_id":7488260,"display_name":"Ashutosh gupta"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643133362,"creation_date":1643133362,"question_id":70853458,"body_markdown":"How do we disable javadocs in ant projects? Like in maven we use something like this:\r\n\r\n`-Dmaven.javadoc.skip=true`","title":"Disabling javadoc in ant build","body":"<p>How do we disable javadocs in ant projects? Like in maven we use something like this:</p>\n<p><code>-Dmaven.javadoc.skip=true</code></p>\n"},{"tags":["java","hibernate","postgresql","connection"],"comments":[{"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"score":0,"creation_date":1333984933,"post_id":10075081,"comment_id":12898464,"body_markdown":"Such a delay can be caused by DNS problems, try to use IP address instead of domain name in `connection.url` to rule it out.","body":"Such a delay can be caused by DNS problems, try to use IP address instead of domain name in <code>connection.url</code> to rule it out."},{"owner":{"account_id":1254855,"reputation":3837,"user_id":1214542,"accept_rate":57,"display_name":"Jason Huntley"},"score":0,"creation_date":1333985393,"post_id":10075081,"comment_id":12898626,"body_markdown":"I tried by IP, still no difference in acquisition times.","body":"I tried by IP, still no difference in acquisition times."},{"owner":{"account_id":347517,"reputation":5454,"user_id":681671,"accept_rate":59,"display_name":"Dojo"},"score":0,"creation_date":1458884851,"post_id":10075081,"comment_id":60061939,"body_markdown":"See also: http://stackoverflow.com/questions/23969399/persistence-createentitymanagerfactory-takes-very-long-time-to-return","body":"See also: <a href=\"http://stackoverflow.com/questions/23969399/persistence-createentitymanagerfactory-takes-very-long-time-to-return\" title=\"persistence createentitymanagerfactory takes very long time to return\">stackoverflow.com/questions/23969399/&hellip;</a>"},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":0,"creation_date":1551107664,"post_id":10075081,"comment_id":96508963,"body_markdown":"An issue has been posted (in 2014) to Hibernate project : see https://hibernate.atlassian.net/browse/HHH-9124. As of this writing, this issue is still opened.","body":"An issue has been posted (in 2014) to Hibernate project : see <a href=\"https://hibernate.atlassian.net/browse/HHH-9124\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-9124</a>. As of this writing, this issue is still opened."}],"answers":[{"tags":[],"owner":{"account_id":1374917,"reputation":18473,"user_id":1309107,"display_name":"kgrittn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333984619,"creation_date":1333984619,"answer_id":10075388,"question_id":10075081,"body_markdown":"This sounds vaguely like a problem we saw in Ruby on Rails.  You might look for a similar cause to what I described here:\r\n\r\nhttp://archives.postgresql.org/pgsql-performance/2009-11/msg00128.php\r\n\r\nIn short, that problem was caused by explicit registration of the JDBC driver from multiple ClassLoader contexts.","title":"Hibernate Slow to Acquire Postgres Connection","body":"<p>This sounds vaguely like a problem we saw in Ruby on Rails.  You might look for a similar cause to what I described here:</p>\n\n<p><a href=\"http://archives.postgresql.org/pgsql-performance/2009-11/msg00128.php\" rel=\"nofollow\">http://archives.postgresql.org/pgsql-performance/2009-11/msg00128.php</a></p>\n\n<p>In short, that problem was caused by explicit registration of the JDBC driver from multiple ClassLoader contexts.</p>\n"},{"tags":[],"owner":{"account_id":1254855,"reputation":3837,"user_id":1214542,"accept_rate":57,"display_name":"Jason Huntley"},"down_vote_count":0,"up_vote_count":135,"is_accepted":true,"score":135,"last_activity_date":1334157835,"creation_date":1334157835,"answer_id":10109005,"question_id":10075081,"body_markdown":"I fixed it =) I really had to root around to find the answer for this one. Basically, it comes down to loading metadata and the JDBC driver. It&#39;s loading ALL META DATA, including comments beside sql columns and other various constructs, which are not needed for operation. I don&#39;t know why this is on by default but you should definitely turn this feature off unless you explicitly need it:\r\n\r\n    config.setProperty(&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;,&quot;false&quot;);\r\n\r\nInstant connection now!\r\n\r\nThe only info I could find on this is in code:\r\n\r\n    107\t\t// &#39;hibernate.temp.use_jdbc_metadata_defaults&#39; is a temporary magic value.\r\n    108\t\t// The need for it is intended to be alleviated with future development, thus it is\r\n    109\t\t// not defined as an Environment constant...\r\n    110\t\t//\r\n    111\t\t// it is used to control whether we should consult the JDBC metadata to determine\r\n    112\t\t// certain Settings default values; it is useful to *not* do this when the database\r\n    113\t\t// may not be available (mainly in tools usage).\r\n    114\t\tboolean useJdbcMetadata = ConfigurationHelper.getBoolean( &quot;hibernate.temp.use_jdbc_metadata_defaults&quot;, configValues, true );\r\n\r\nhttp://grepcode.com/file/repo1.maven.org/maven2/org.hibernate/hibernate-core/4.1.1.Final/org/hibernate/engine/jdbc/internal/JdbcServicesImpl.java#JdbcServicesImpl","title":"Hibernate Slow to Acquire Postgres Connection","body":"<p>I fixed it =) I really had to root around to find the answer for this one. Basically, it comes down to loading metadata and the JDBC driver. It's loading ALL META DATA, including comments beside sql columns and other various constructs, which are not needed for operation. I don't know why this is on by default but you should definitely turn this feature off unless you explicitly need it:</p>\n\n<pre><code>config.setProperty(\"hibernate.temp.use_jdbc_metadata_defaults\",\"false\");\n</code></pre>\n\n<p>Instant connection now!</p>\n\n<p>The only info I could find on this is in code:</p>\n\n<pre><code>107     // 'hibernate.temp.use_jdbc_metadata_defaults' is a temporary magic value.\n108     // The need for it is intended to be alleviated with future development, thus it is\n109     // not defined as an Environment constant...\n110     //\n111     // it is used to control whether we should consult the JDBC metadata to determine\n112     // certain Settings default values; it is useful to *not* do this when the database\n113     // may not be available (mainly in tools usage).\n114     boolean useJdbcMetadata = ConfigurationHelper.getBoolean( \"hibernate.temp.use_jdbc_metadata_defaults\", configValues, true );\n</code></pre>\n\n<p><a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.hibernate/hibernate-core/4.1.1.Final/org/hibernate/engine/jdbc/internal/JdbcServicesImpl.java#JdbcServicesImpl\" rel=\"noreferrer\">http://grepcode.com/file/repo1.maven.org/maven2/org.hibernate/hibernate-core/4.1.1.Final/org/hibernate/engine/jdbc/internal/JdbcServicesImpl.java#JdbcServicesImpl</a></p>\n"},{"tags":[],"owner":{"account_id":110610,"reputation":1698,"user_id":292628,"accept_rate":86,"display_name":"mmm"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1443834525,"creation_date":1443834525,"answer_id":32917921,"question_id":10075081,"body_markdown":"I had to also enable hibernate.jdbc.use_get_generated_keys otherwise Identity generation strategy was throwing an exception. Before it was enabled automatically based on metadata received from DB. So my whole solution was to add the following two lines to persistence.xml:\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;property name=&quot;hibernate.jdbc.use_get_generated_keys&quot; value=&quot;true&quot; /&gt;\r\n    &lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot; value=&quot;false&quot; /&gt;","title":"Hibernate Slow to Acquire Postgres Connection","body":"<p>I had to also enable hibernate.jdbc.use_get_generated_keys otherwise Identity generation strategy was throwing an exception. Before it was enabled automatically based on metadata received from DB. So my whole solution was to add the following two lines to persistence.xml:\n</p>\n\n<pre><code>&lt;property name=\"hibernate.jdbc.use_get_generated_keys\" value=\"true\" /&gt;\n&lt;property name=\"hibernate.temp.use_jdbc_metadata_defaults\" value=\"false\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461752195,"creation_date":1461751851,"answer_id":36886769,"question_id":10075081,"body_markdown":"One postgresql server can contain multiple databases. Unfortunatelly you can not [hide other-database metadatas to one connection][1], thats why the metadata-reading takes long time by the jdbc-driver!\r\n\r\nSeperate theese databases into different postgres-servers and the performance of metadata-reading will be increased!\r\n\r\nRead [how to seperate on centos][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3349136\r\n  [2]: https://opensourcedbms.com/dbms/running-multiple-postgresql-9-2-instances-on-one-server-in-centos-6rhel-6fedora/","title":"Hibernate Slow to Acquire Postgres Connection","body":"<p>One postgresql server can contain multiple databases. Unfortunatelly you can not <a href=\"https://stackoverflow.com/questions/3349136\">hide other-database metadatas to one connection</a>, thats why the metadata-reading takes long time by the jdbc-driver!</p>\n\n<p>Seperate theese databases into different postgres-servers and the performance of metadata-reading will be increased!</p>\n\n<p>Read <a href=\"https://opensourcedbms.com/dbms/running-multiple-postgresql-9-2-instances-on-one-server-in-centos-6rhel-6fedora/\" rel=\"nofollow noreferrer\">how to seperate on centos</a>.</p>\n"},{"tags":[],"owner":{"account_id":57309,"reputation":181,"user_id":171621,"display_name":"Sebastien Plisson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536700711,"creation_date":1536700711,"answer_id":52284363,"question_id":10075081,"body_markdown":"I had issues with scrollable result set so I had to add the 3rd parameter, see below:\r\n\r\n    &lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;&gt;false&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.jdbc.use_get_generated_keys&quot;&gt;true&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.jdbc.use_scrollable_resultset&quot;&gt;true&lt;/property&gt;","title":"Hibernate Slow to Acquire Postgres Connection","body":"<p>I had issues with scrollable result set so I had to add the 3rd parameter, see below:</p>\n\n<pre><code>&lt;property name=\"hibernate.temp.use_jdbc_metadata_defaults\"&gt;false&lt;/property&gt;\n&lt;property name=\"hibernate.jdbc.use_get_generated_keys\"&gt;true&lt;/property&gt;\n&lt;property name=\"hibernate.jdbc.use_scrollable_resultset\"&gt;true&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115644,"reputation":2664,"user_id":303559,"accept_rate":85,"display_name":"zeratul021"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1548185630,"creation_date":1548185630,"answer_id":54315240,"question_id":10075081,"body_markdown":"Almost 7 years later and this is still an issue...\r\n\r\nTurning the &quot;temp&quot; key off helps but it&#39;s a nuisance to enable properties one-by-one that would be auto-configured (see other answers).\r\n\r\nIn case of Oracle and Teradata I didn&#39;t notice such a slowdown so I digged deep and found where the slowest part is:\r\nhttps://github.com/pgjdbc/pgjdbc/blob/master/pgjdbc/src/main/java/org/postgresql/jdbc/PgDatabaseMetaData.java#L2237\r\n\r\nThis resultSet has in my case 372 rows (types). Then, for each driver fires couple of calls from \r\nhttps://github.com/pgjdbc/pgjdbc/blob/master/pgjdbc/src/main/java/org/postgresql/jdbc/TypeInfoCache.java#L204 which results in tons of SQL statements against the DB.\r\n\r\nNo idea how to speed this up right now, luckily it&#39;s needed once and then it&#39;s cached.","title":"Hibernate Slow to Acquire Postgres Connection","body":"<p>Almost 7 years later and this is still an issue...</p>\n\n<p>Turning the \"temp\" key off helps but it's a nuisance to enable properties one-by-one that would be auto-configured (see other answers).</p>\n\n<p>In case of Oracle and Teradata I didn't notice such a slowdown so I digged deep and found where the slowest part is:\n<a href=\"https://github.com/pgjdbc/pgjdbc/blob/master/pgjdbc/src/main/java/org/postgresql/jdbc/PgDatabaseMetaData.java#L2237\" rel=\"noreferrer\">https://github.com/pgjdbc/pgjdbc/blob/master/pgjdbc/src/main/java/org/postgresql/jdbc/PgDatabaseMetaData.java#L2237</a></p>\n\n<p>This resultSet has in my case 372 rows (types). Then, for each driver fires couple of calls from \n<a href=\"https://github.com/pgjdbc/pgjdbc/blob/master/pgjdbc/src/main/java/org/postgresql/jdbc/TypeInfoCache.java#L204\" rel=\"noreferrer\">https://github.com/pgjdbc/pgjdbc/blob/master/pgjdbc/src/main/java/org/postgresql/jdbc/TypeInfoCache.java#L204</a> which results in tons of SQL statements against the DB.</p>\n\n<p>No idea how to speed this up right now, luckily it's needed once and then it's cached.</p>\n"},{"tags":[],"owner":{"account_id":4708644,"reputation":598,"user_id":3809909,"accept_rate":29,"display_name":"sancho"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1643133313,"creation_date":1643133313,"answer_id":70853443,"question_id":10075081,"body_markdown":"disabling `hibernate.temp.use_jdbc_metadata_defaults` may increase application startup but disable some features. Like `batch` operations. When hibernate not load the jdbc meta data hibernate set global batch size to 0 which means disabling batch operations. In this case the only way to use batch operation with `session` scope. Like below code example\r\n\r\n    entityManager\r\n    \t.unwrap( Session.class )\r\n    \t.setJdbcBatchSize( 10 );\r\n\r\nSo be carefull when disabling this property","title":"Hibernate Slow to Acquire Postgres Connection","body":"<p>disabling <code>hibernate.temp.use_jdbc_metadata_defaults</code> may increase application startup but disable some features. Like <code>batch</code> operations. When hibernate not load the jdbc meta data hibernate set global batch size to 0 which means disabling batch operations. In this case the only way to use batch operation with <code>session</code> scope. Like below code example</p>\n<pre><code>entityManager\n    .unwrap( Session.class )\n    .setJdbcBatchSize( 10 );\n</code></pre>\n<p>So be carefull when disabling this property</p>\n"}],"owner":{"account_id":1254855,"reputation":3837,"user_id":1214542,"accept_rate":57,"display_name":"Jason Huntley"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41727,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":10109005,"answer_count":7,"score":67,"last_activity_date":1643133313,"creation_date":1333983297,"question_id":10075081,"body_markdown":"I&#39;m having a really difficult time debugging this problem. Whenever I try to establish a connection with postgres, it takes a whole minute. After the connection is established, everything is fine. I&#39;ve tried disabling all the mappings and not loading any, but still the connection takes a long time to aquire. I&#39;ve also tried disabling validation, no difference. When I use a simple a simple JDBC connection, it&#39;s instantaneous. Hibernate is doing something which takes considerable amount of time and I can&#39;t seem to narrow it down. Any input is greatly appreciated!\r\n\r\nPostgres Driver:\r\n\r\n    postgresql-9.1-901.jdbc4.jar\r\n\r\nConfiguration settings:\r\n\r\n    &lt;hibernate-configuration&gt;\r\n    \t&lt;session-factory&gt;\r\n       \t&lt;!-- properties --&gt;\r\n    \t\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n    \r\n    \t\t&lt;property name=&quot;connection.url&quot;&gt;jdbc:postgresql://xxxx.com:5432/xxxxx&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.username&quot;&gt;xxxxxxx&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.password&quot;&gt;xxxxxxx&lt;/property&gt;\r\n    \r\n    \t&lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nAdditional settings in code:\r\n\r\n\t\tconfig.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, hbm2ddlMode);\r\n\t\t//config.setProperty(&quot;hibernate.cache.use_query_cache&quot;, &quot;true&quot;);\r\n\t\tconfig.setProperty(&quot;hibernate.cache.use_second_level_cache&quot;, &quot;true&quot;);\r\n\t\t//config.setProperty(&quot;hibernate.cache.region.factory_class&quot;, &quot;net.sf.ehcache.hibernate.EhCacheRegionFactory&quot;);\r\n\t\tconfig.setProperty(&quot;hibernate.cache.provider_class&quot;, &quot;org.hibernate.cache.EhCacheProvider&quot;);\r\n\t\t//config.setProperty(&quot;hibernate.cache.provider_class&quot;, &quot;org.hibernate.cache.NoCacheProvider&quot;);\r\n\t\tconfig.setProperty(&quot;hibernate.jdbc.fetch_size&quot;, &quot;100&quot;);\r\n\t\tconfig.setProperty(&quot;hibernate.jdbc.batch_size&quot;, &quot;30&quot;);\r\n\t\tconfig.setProperty(&quot;hibernate.jdbc.use_scrollable_resultset&quot;, &quot;true&quot;);\r\n\t\tconfig.setProperty(&quot;hibernate.connection.provider_class&quot;, &quot;org.hibernate.connection.C3P0ConnectionProvider&quot;);\r\n\r\n\t\tconfig.setProperty(&quot;hibernate.c3p0.acquire_increment&quot;, &quot;1&quot;);\r\n\t\tconfig.setProperty(&quot;hibernate.c3p0.idle_test_period&quot;, &quot;0&quot;);\r\n\t\tconfig.setProperty(&quot;hibernate.c3p0.min_size&quot;, &quot;1&quot;);\r\n\t\tconfig.setProperty(&quot;hibernate.c3p0.max_size&quot;, &quot;2&quot;);\r\n\t\tconfig.setProperty(&quot;hibernate.c3p0.timeout&quot;, &quot;0&quot;);\r\n\t\tconfig.setProperty(&quot;javax.persistence.validation.mode&quot;, &quot;none&quot;);\r\n\r\nHere&#39;s the segment of code where the delay occurs:\r\n\r\n    private SessionFactory buildSessionFactory() throws Exception {\r\n    \t\tServiceRegistry serviceRegistry  = new ServiceRegistryBuilder().applySettings(config.getProperties()).buildServiceRegistry();\r\n    \r\n                //Building session takes a whole minute without mappings!!!\r\n    \t\tsessionFactory = config.buildSessionFactory(serviceRegistry);\r\n    \r\n    \t\tvalidateConnection();\r\n    \r\n    \t\treturn sessionFactory;\r\n    \t}\r\n\r\nHere&#39;s the log results:\r\n\r\n    [main] 2012-04-09 10:40:32,823 110391 INFO  C3P0ConnectionProvider - HHH000046: \r\n    Connection properties: {user=hgaidb_test, password=****}\r\n    [main] 2012-04-09 10:40:32,823 110391 INFO  C3P0ConnectionProvider - HHH000006: \r\n    Autocommit mode: false\r\n    [main] 2012-04-09 10:40:34,100 111668 DEBUG JdbcServicesImpl - Database -&gt;\r\n           name : PostgreSQL\r\n        version : 8.3.3\r\n          major : 8\r\n          minor : 3\r\n    [main] 2012-04-09 10:40:34,101 111669 DEBUG JdbcServicesImpl - Driver -&gt;\r\n           name : PostgreSQL Native Driver\r\n        version : PostgreSQL 9.1 JDBC4 (build 901)\r\n          major : 9\r\n          minor : 1\r\n    *******************************************************************************\r\n    // 1 MINUTE DELAY\r\n    *******************************************************************************\r\n    [main] 2012-04-09 10:40:34,102 111670 DEBUG JdbcServicesImpl - JDBC version : 4.\r\n    0\r\n    [main] 2012-04-09 10:41:21,632 159200 INFO  Dialect - HHH000400: Using dialect: \r\n    org.hibernate.dialect.PostgreSQLDialect\r\n    *******************************************************************************\r\n    [main] 2012-04-09 10:41:21,669 159237 INFO  LobCreatorBuilder - HHH000424: Disab\r\n    ling contextual LOB creation as createClob() method threw error : java.lang.refl\r\n    ect.InvocationTargetException\r\n    [main] 2012-04-09 10:41:21,814 159382 DEBUG SettingsFactory - Automatic flush du\r\n    ring beforeCompletion(): disabled\r\n    [main] 2012-04-09 10:41:21,814 159382 DEBUG SettingsFactory - Automatic session \r\n    close at end of transaction: disabled\r\n    [main] 2012-04-09 10:41:21,815 159383 DEBUG SettingsFactory - JDBC batch size: 3\r\n    0\r\n    [main] 2012-04-09 10:41:21,816 159384 DEBUG SettingsFactory - JDBC batch updates\r\n     for versioned data: disabled\r\n    [main] 2012-04-09 10:41:21,816 159384 DEBUG SettingsFactory - Scrollable result \r\n    sets: enabled\r\n    [main] 2012-04-09 10:41:21,817 159385 DEBUG SettingsFactory - Wrap result sets: \r\n    disabled\r\n    [main] 2012-04-09 10:41:21,818 159386 DEBUG SettingsFactory - JDBC3 getGenerated\r\n    Keys(): enabled\r\n    [main] 2012-04-09 10:41:21,818 159386 DEBUG SettingsFactory - JDBC result set fe\r\n    tch size: 100\r\n    [main] 2012-04-09 10:41:21,819 159387 DEBUG SettingsFactory - Connection release\r\n     mode: auto\r\n    [main] 2012-04-09 10:41:21,819 159387 INFO  TransactionFactoryInitiator - HHH000\r\n    399: Using default transaction strategy (direct JDBC transactions)\r\n    [main] 2012-04-09 10:41:21,844 159412 DEBUG SettingsFactory - Default batch fetc\r\n    h size: 1\r\n    [main] 2012-04-09 10:41:21,844 159412 DEBUG SettingsFactory - Generate SQL with \r\n    comments: disabled\r\n    [main] 2012-04-09 10:41:21,845 159413 DEBUG SettingsFactory - Order SQL updates \r\n    by primary key: disabled\r\n    [main] 2012-04-09 10:41:21,846 159414 DEBUG SettingsFactory - Order SQL inserts \r\n    for batching: disabled\r\n    [main] 2012-04-09 10:41:21,846 159414 DEBUG SettingsFactory - Query translator: \r\n    org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory\r\n    [main] 2012-04-09 10:41:21,867 159435 INFO  ASTQueryTranslatorFactory - HHH00039\r\n    7: Using ASTQueryTranslatorFactory\r\n    [main] 2012-04-09 10:41:21,867 159435 DEBUG SettingsFactory - Query language sub\r\n    stitutions: {}\r\n    [main] 2012-04-09 10:41:21,867 159435 DEBUG SettingsFactory - JPA-QL strict comp\r\n    liance: disabled\r\n    [main] 2012-04-09 10:41:21,868 159436 DEBUG SettingsFactory - Second-level cache\r\n    : enabled\r\n    [main] 2012-04-09 10:41:21,868 159436 DEBUG SettingsFactory - Query cache: disab\r\n    led\r\n    [main] 2012-04-09 10:41:21,869 159437 DEBUG SettingsFactory - Cache region facto\r\n    ry : org.hibernate.cache.internal.NoCachingRegionFactory\r\n    [main] 2012-04-09 10:41:21,872 159440 DEBUG SettingsFactory - org.hibernate.cach\r\n    e.internal.NoCachingRegionFactory did not provide constructor accepting java.uti\r\n    l.Properties; attempting no-arg constructor.\r\n    [main] 2012-04-09 10:41:21,873 159441 DEBUG SettingsFactory - Optimize cache for\r\n     minimal puts: disabled\r\n    [main] 2012-04-09 10:41:21,873 159441 DEBUG SettingsFactory - Structured second-\r\n    level cache entries: disabled\r\n    [main] 2012-04-09 10:41:21,873 159441 DEBUG SettingsFactory - Statistics: disabl\r\n    ed\r\n    [main] 2012-04-09 10:41:21,874 159442 DEBUG SettingsFactory - Deleted entity syn\r\n    thetic identifier rollback: disabled\r\n    [main] 2012-04-09 10:41:21,874 159442 DEBUG SettingsFactory - Default entity-mod\r\n    e: pojo\r\n    [main] 2012-04-09 10:41:21,875 159443 DEBUG SettingsFactory - Named query checki\r\n    ng : enabled\r\n    [main] 2012-04-09 10:41:21,875 159443 DEBUG SettingsFactory - Check Nullability \r\n    in Core (should be disabled when Bean Validation is on): enabled\r\n    [main] 2012-04-09 10:41:21,876 159444 DEBUG SettingsFactory - multi-tenancy stra\r\n    tegy : NONE\r\n\r\nI&#39;ve done a little more research on this, stepping through the debugger. I don&#39;t have all the source in my classpath, but i can still see the variables. Durring that one minute wait, Hibernate is querying the pg_catalog.pg_type table:\r\n\r\n    [SELECT typname FROM pg_catalog.pg_type WHERE oid = , ]\r\n\r\nHere&#39;s a screenshot:\r\n\r\n![DebugWindow][1]\r\n\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/DKiBX.jpg","title":"Hibernate Slow to Acquire Postgres Connection","body":"<p>I'm having a really difficult time debugging this problem. Whenever I try to establish a connection with postgres, it takes a whole minute. After the connection is established, everything is fine. I've tried disabling all the mappings and not loading any, but still the connection takes a long time to aquire. I've also tried disabling validation, no difference. When I use a simple a simple JDBC connection, it's instantaneous. Hibernate is doing something which takes considerable amount of time and I can't seem to narrow it down. Any input is greatly appreciated!</p>\n\n<p>Postgres Driver:</p>\n\n<pre><code>postgresql-9.1-901.jdbc4.jar\n</code></pre>\n\n<p>Configuration settings:</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n    &lt;!-- properties --&gt;\n        &lt;property name=\"dialect\"&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/property&gt;\n        &lt;property name=\"connection.driver_class\"&gt;org.postgresql.Driver&lt;/property&gt;\n\n        &lt;property name=\"connection.url\"&gt;jdbc:postgresql://xxxx.com:5432/xxxxx&lt;/property&gt;\n        &lt;property name=\"connection.username\"&gt;xxxxxxx&lt;/property&gt;\n        &lt;property name=\"connection.password\"&gt;xxxxxxx&lt;/property&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>Additional settings in code:</p>\n\n<pre><code>    config.setProperty(\"hibernate.hbm2ddl.auto\", hbm2ddlMode);\n    //config.setProperty(\"hibernate.cache.use_query_cache\", \"true\");\n    config.setProperty(\"hibernate.cache.use_second_level_cache\", \"true\");\n    //config.setProperty(\"hibernate.cache.region.factory_class\", \"net.sf.ehcache.hibernate.EhCacheRegionFactory\");\n    config.setProperty(\"hibernate.cache.provider_class\", \"org.hibernate.cache.EhCacheProvider\");\n    //config.setProperty(\"hibernate.cache.provider_class\", \"org.hibernate.cache.NoCacheProvider\");\n    config.setProperty(\"hibernate.jdbc.fetch_size\", \"100\");\n    config.setProperty(\"hibernate.jdbc.batch_size\", \"30\");\n    config.setProperty(\"hibernate.jdbc.use_scrollable_resultset\", \"true\");\n    config.setProperty(\"hibernate.connection.provider_class\", \"org.hibernate.connection.C3P0ConnectionProvider\");\n\n    config.setProperty(\"hibernate.c3p0.acquire_increment\", \"1\");\n    config.setProperty(\"hibernate.c3p0.idle_test_period\", \"0\");\n    config.setProperty(\"hibernate.c3p0.min_size\", \"1\");\n    config.setProperty(\"hibernate.c3p0.max_size\", \"2\");\n    config.setProperty(\"hibernate.c3p0.timeout\", \"0\");\n    config.setProperty(\"javax.persistence.validation.mode\", \"none\");\n</code></pre>\n\n<p>Here's the segment of code where the delay occurs:</p>\n\n<pre><code>private SessionFactory buildSessionFactory() throws Exception {\n        ServiceRegistry serviceRegistry  = new ServiceRegistryBuilder().applySettings(config.getProperties()).buildServiceRegistry();\n\n            //Building session takes a whole minute without mappings!!!\n        sessionFactory = config.buildSessionFactory(serviceRegistry);\n\n        validateConnection();\n\n        return sessionFactory;\n    }\n</code></pre>\n\n<p>Here's the log results:</p>\n\n<pre><code>[main] 2012-04-09 10:40:32,823 110391 INFO  C3P0ConnectionProvider - HHH000046: \nConnection properties: {user=hgaidb_test, password=****}\n[main] 2012-04-09 10:40:32,823 110391 INFO  C3P0ConnectionProvider - HHH000006: \nAutocommit mode: false\n[main] 2012-04-09 10:40:34,100 111668 DEBUG JdbcServicesImpl - Database -&gt;\n       name : PostgreSQL\n    version : 8.3.3\n      major : 8\n      minor : 3\n[main] 2012-04-09 10:40:34,101 111669 DEBUG JdbcServicesImpl - Driver -&gt;\n       name : PostgreSQL Native Driver\n    version : PostgreSQL 9.1 JDBC4 (build 901)\n      major : 9\n      minor : 1\n*******************************************************************************\n// 1 MINUTE DELAY\n*******************************************************************************\n[main] 2012-04-09 10:40:34,102 111670 DEBUG JdbcServicesImpl - JDBC version : 4.\n0\n[main] 2012-04-09 10:41:21,632 159200 INFO  Dialect - HHH000400: Using dialect: \norg.hibernate.dialect.PostgreSQLDialect\n*******************************************************************************\n[main] 2012-04-09 10:41:21,669 159237 INFO  LobCreatorBuilder - HHH000424: Disab\nling contextual LOB creation as createClob() method threw error : java.lang.refl\nect.InvocationTargetException\n[main] 2012-04-09 10:41:21,814 159382 DEBUG SettingsFactory - Automatic flush du\nring beforeCompletion(): disabled\n[main] 2012-04-09 10:41:21,814 159382 DEBUG SettingsFactory - Automatic session \nclose at end of transaction: disabled\n[main] 2012-04-09 10:41:21,815 159383 DEBUG SettingsFactory - JDBC batch size: 3\n0\n[main] 2012-04-09 10:41:21,816 159384 DEBUG SettingsFactory - JDBC batch updates\n for versioned data: disabled\n[main] 2012-04-09 10:41:21,816 159384 DEBUG SettingsFactory - Scrollable result \nsets: enabled\n[main] 2012-04-09 10:41:21,817 159385 DEBUG SettingsFactory - Wrap result sets: \ndisabled\n[main] 2012-04-09 10:41:21,818 159386 DEBUG SettingsFactory - JDBC3 getGenerated\nKeys(): enabled\n[main] 2012-04-09 10:41:21,818 159386 DEBUG SettingsFactory - JDBC result set fe\ntch size: 100\n[main] 2012-04-09 10:41:21,819 159387 DEBUG SettingsFactory - Connection release\n mode: auto\n[main] 2012-04-09 10:41:21,819 159387 INFO  TransactionFactoryInitiator - HHH000\n399: Using default transaction strategy (direct JDBC transactions)\n[main] 2012-04-09 10:41:21,844 159412 DEBUG SettingsFactory - Default batch fetc\nh size: 1\n[main] 2012-04-09 10:41:21,844 159412 DEBUG SettingsFactory - Generate SQL with \ncomments: disabled\n[main] 2012-04-09 10:41:21,845 159413 DEBUG SettingsFactory - Order SQL updates \nby primary key: disabled\n[main] 2012-04-09 10:41:21,846 159414 DEBUG SettingsFactory - Order SQL inserts \nfor batching: disabled\n[main] 2012-04-09 10:41:21,846 159414 DEBUG SettingsFactory - Query translator: \norg.hibernate.hql.internal.ast.ASTQueryTranslatorFactory\n[main] 2012-04-09 10:41:21,867 159435 INFO  ASTQueryTranslatorFactory - HHH00039\n7: Using ASTQueryTranslatorFactory\n[main] 2012-04-09 10:41:21,867 159435 DEBUG SettingsFactory - Query language sub\nstitutions: {}\n[main] 2012-04-09 10:41:21,867 159435 DEBUG SettingsFactory - JPA-QL strict comp\nliance: disabled\n[main] 2012-04-09 10:41:21,868 159436 DEBUG SettingsFactory - Second-level cache\n: enabled\n[main] 2012-04-09 10:41:21,868 159436 DEBUG SettingsFactory - Query cache: disab\nled\n[main] 2012-04-09 10:41:21,869 159437 DEBUG SettingsFactory - Cache region facto\nry : org.hibernate.cache.internal.NoCachingRegionFactory\n[main] 2012-04-09 10:41:21,872 159440 DEBUG SettingsFactory - org.hibernate.cach\ne.internal.NoCachingRegionFactory did not provide constructor accepting java.uti\nl.Properties; attempting no-arg constructor.\n[main] 2012-04-09 10:41:21,873 159441 DEBUG SettingsFactory - Optimize cache for\n minimal puts: disabled\n[main] 2012-04-09 10:41:21,873 159441 DEBUG SettingsFactory - Structured second-\nlevel cache entries: disabled\n[main] 2012-04-09 10:41:21,873 159441 DEBUG SettingsFactory - Statistics: disabl\ned\n[main] 2012-04-09 10:41:21,874 159442 DEBUG SettingsFactory - Deleted entity syn\nthetic identifier rollback: disabled\n[main] 2012-04-09 10:41:21,874 159442 DEBUG SettingsFactory - Default entity-mod\ne: pojo\n[main] 2012-04-09 10:41:21,875 159443 DEBUG SettingsFactory - Named query checki\nng : enabled\n[main] 2012-04-09 10:41:21,875 159443 DEBUG SettingsFactory - Check Nullability \nin Core (should be disabled when Bean Validation is on): enabled\n[main] 2012-04-09 10:41:21,876 159444 DEBUG SettingsFactory - multi-tenancy stra\ntegy : NONE\n</code></pre>\n\n<p>I've done a little more research on this, stepping through the debugger. I don't have all the source in my classpath, but i can still see the variables. Durring that one minute wait, Hibernate is querying the pg_catalog.pg_type table:</p>\n\n<pre><code>[SELECT typname FROM pg_catalog.pg_type WHERE oid = , ]\n</code></pre>\n\n<p>Here's a screenshot:</p>\n\n<p><img src=\"https://i.stack.imgur.com/DKiBX.jpg\" alt=\"DebugWindow\"></p>\n"},{"tags":["java","spring-boot","static","mockito","powermock"],"comments":[{"owner":{"account_id":10878273,"reputation":334,"user_id":7998077,"display_name":"iambk"},"score":1,"creation_date":1643132361,"post_id":70852958,"comment_id":125256894,"body_markdown":"Why do you want mock instead of using the setter method?","body":"Why do you want mock instead of using the setter method?"},{"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"score":0,"creation_date":1643133498,"post_id":70852958,"comment_id":125257357,"body_markdown":"You can use org.springframework.test.util.ReflectionTestUtils.setField(classUnderTest, &quot;field&quot;, &quot;value&quot;) for setting field into mocked class, but defenately I don&#39;t know why do you want to test setter method","body":"You can use org.springframework.test.util.ReflectionTestUtils.setField(c&zwnj;&#8203;lassUnderTest, &quot;field&quot;, &quot;value&quot;) for setting field into mocked class, but defenately I don&#39;t know why do you want to test setter method"}],"answers":[{"tags":[],"owner":{"account_id":23990568,"reputation":86,"user_id":17976796,"display_name":"Pavel Raizer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643133030,"creation_date":1643133030,"answer_id":70853366,"question_id":70852958,"body_markdown":"The best way is to rewrite your code. \r\n\r\nMaybe it is possible for you to initialize `enabled` when the class is created. Also, it will help you to avoid a situation when your class is created but setter hasn&#39;t been called yet.\r\n\r\n    private final Boolean enabled; \r\n\r\n    public MyClass(@Value(&quot;${enabled:true}&quot; Boolean enabled)) { \r\n    this.enabled = enabled;\r\n    }\r\n\r\nIn general, it is an anti-pattern to use statics in your code, because it reduces testability. Mockito is useful for mocking non-static stuff. In the end, if you can&#39;t rewrite your code to make it more testable, there is always PowerMock for you to help. But, keep in mind, using of PowerMock makes everything worse - tests can&#39;t run in parallel for example. \r\n","title":"How to mock static field in java","body":"<p>The best way is to rewrite your code.</p>\n<p>Maybe it is possible for you to initialize <code>enabled</code> when the class is created. Also, it will help you to avoid a situation when your class is created but setter hasn't been called yet.</p>\n<pre><code>private final Boolean enabled; \n\npublic MyClass(@Value(&quot;${enabled:true}&quot; Boolean enabled)) { \nthis.enabled = enabled;\n}\n</code></pre>\n<p>In general, it is an anti-pattern to use statics in your code, because it reduces testability. Mockito is useful for mocking non-static stuff. In the end, if you can't rewrite your code to make it more testable, there is always PowerMock for you to help. But, keep in mind, using of PowerMock makes everything worse - tests can't run in parallel for example.</p>\n"}],"owner":{"account_id":19441347,"reputation":137,"user_id":15522059,"display_name":"Ann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643133030,"creation_date":1643131172,"question_id":70852958,"body_markdown":"I am trying to mock a static field in java. This is my code\r\n\r\n    public MyClass{ \r\n             private static Boolean enabled;\r\n          \r\n             @Value(&quot;${enabled:true}&quot;)\r\n             public void setEnabled(boolean enabled) {\r\n                 this.enabled = enabled;\r\n             }\r\n\r\n             public void getSomething(){\r\n                  if(!enabled){\r\n                  }\r\n             }\r\n\r\nWhen I try to write unit tests, the `if(!enabled)` condition throws null pointer exception. Can you please let me know how to avoid this in mockito\r\n","title":"How to mock static field in java","body":"<p>I am trying to mock a static field in java. This is my code</p>\n<pre><code>public MyClass{ \n         private static Boolean enabled;\n      \n         @Value(&quot;${enabled:true}&quot;)\n         public void setEnabled(boolean enabled) {\n             this.enabled = enabled;\n         }\n\n         public void getSomething(){\n              if(!enabled){\n              }\n         }\n</code></pre>\n<p>When I try to write unit tests, the <code>if(!enabled)</code> condition throws null pointer exception. Can you please let me know how to avoid this in mockito</p>\n"},{"tags":["java","command-line-arguments","wildcard","glob"],"comments":[{"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"score":0,"creation_date":1302514470,"post_id":2718873,"comment_id":6401952,"body_markdown":"I removed the java tag, because it&#39;s a universal problem, not related to Java. You can start your Java program without problem from somewhere, where no globbing takes place (another Java program, for example).","body":"I removed the java tag, because it&#39;s a universal problem, not related to Java. You can start your Java program without problem from somewhere, where no globbing takes place (another Java program, for example)."},{"owner":{"account_id":2225355,"reputation":13693,"user_id":1964272,"accept_rate":92,"display_name":"Dropout"},"score":0,"creation_date":1436794885,"post_id":2718873,"comment_id":50746972,"body_markdown":"what operating system are you using? what&#39;s the exact command executed?","body":"what operating system are you using? what&#39;s the exact command executed?"},{"owner":{"account_id":338172,"reputation":634,"user_id":666886,"display_name":"philwalk"},"score":1,"creation_date":1462563467,"post_id":2718873,"comment_id":61705052,"body_markdown":"If running from a cygwin bash shell, the solutions below don&#39;t work (quoting or escaping the asterisk) since the jvm globs a trailing asterisk internally, although the circumstances that trigger it are not clear (to me, at least).  See Arno&#39;s entry below.","body":"If running from a cygwin bash shell, the solutions below don&#39;t work (quoting or escaping the asterisk) since the jvm globs a trailing asterisk internally, although the circumstances that trigger it are not clear (to me, at least).  See Arno&#39;s entry below."}],"answers":[{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1272349372,"creation_date":1272345462,"answer_id":2718887,"question_id":2718873,"body_markdown":"That&#39;s because `*` is a shell wildcard: it has a special meaning to the shell, which expands it before passing it on to the command (in this case, `java`).\r\n\r\nSince you need a literal `*`, you need to escape it from the shell. The exact way of escaping varies depending on your shell, but you can try:\r\n\r\n    java ProgramName 5 3 &quot;*&quot;\r\n\r\nOr:\r\n\r\n    java ProgramName 5 3 \\*\r\n\r\n---\r\n\r\nBy the way, if you want to know what the shell does with the `*`, try printing the content of `String[] args` to your `main` method. You&#39;ll find that it will contain names of the files in your directory.\r\n\r\nThis can be handy if you need to pass some filenames as command line arguments.\r\n\r\n### See also\r\n\r\n* [Wikipedia: glob](http://en.wikipedia.org/wiki/Glob_%28programming%29)\r\n&gt; For example, if a directory contains two files, `a.log` and `b.log` then the command `cat *.log` will be expanded by the shell to `cat a.log b.log`\r\n\r\n* [Wikipedia: Escape character](http://en.wikipedia.org/wiki/Escape_character)\r\n&gt; In Bourne shell (`sh`), the asterisk (`*`) and question mark (`?`) characters are wildcard characters expanded via globbing. Without a preceding escape character, an `*` will expand to the names of all files in the working directory that don&#39;t start with a period if and only if there are such files, otherwise `*` remains unexpanded. So to refer to a file literally called `&quot;*&quot;`, the shell must be told not to interpret it in this way, by preceding it with a backslash (`\\`).","title":"The issue of * in Command line argument","body":"<p>That's because <code>*</code> is a shell wildcard: it has a special meaning to the shell, which expands it before passing it on to the command (in this case, <code>java</code>).</p>\n\n<p>Since you need a literal <code>*</code>, you need to escape it from the shell. The exact way of escaping varies depending on your shell, but you can try:</p>\n\n<pre><code>java ProgramName 5 3 \"*\"\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>java ProgramName 5 3 \\*\n</code></pre>\n\n<hr>\n\n<p>By the way, if you want to know what the shell does with the <code>*</code>, try printing the content of <code>String[] args</code> to your <code>main</code> method. You'll find that it will contain names of the files in your directory.</p>\n\n<p>This can be handy if you need to pass some filenames as command line arguments.</p>\n\n<h3>See also</h3>\n\n<ul>\n<li><p><a href=\"http://en.wikipedia.org/wiki/Glob_%28programming%29\" rel=\"noreferrer\">Wikipedia: glob</a></p>\n\n<blockquote>\n  <p>For example, if a directory contains two files, <code>a.log</code> and <code>b.log</code> then the command <code>cat *.log</code> will be expanded by the shell to <code>cat a.log b.log</code></p>\n</blockquote></li>\n<li><p><a href=\"http://en.wikipedia.org/wiki/Escape_character\" rel=\"noreferrer\">Wikipedia: Escape character</a></p>\n\n<blockquote>\n  <p>In Bourne shell (<code>sh</code>), the asterisk (<code>*</code>) and question mark (<code>?</code>) characters are wildcard characters expanded via globbing. Without a preceding escape character, an <code>*</code> will expand to the names of all files in the working directory that don't start with a period if and only if there are such files, otherwise <code>*</code> remains unexpanded. So to refer to a file literally called <code>\"*\"</code>, the shell must be told not to interpret it in this way, by preceding it with a backslash (<code>\\</code>).</p>\n</blockquote></li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user180100"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1272345476,"creation_date":1272345476,"answer_id":2718889,"question_id":2718873,"body_markdown":"Try surrounding the `*` with quotes like `&quot;*&quot;`. The star is a reserved symbol on the command line.","title":"The issue of * in Command line argument","body":"<p>Try surrounding the <code>*</code> with quotes like <code>\"*\"</code>. The star is a reserved symbol on the command line.</p>\n"},{"tags":[],"owner":{"account_id":84332,"reputation":1199,"user_id":235812,"display_name":"Zhaojun"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1272346067,"creation_date":1272346067,"answer_id":2718921,"question_id":2718873,"body_markdown":"\\* has special meaning in shell interpreters. How to get a \\* literally is depending on what shell interpreter you are using. For Bash, you should put single quotes around the \\*, i.e. &#39;\\*&#39;, instead of double quotes like &quot;\\*&quot;.","title":"The issue of * in Command line argument","body":"<p>* has special meaning in shell interpreters. How to get a * literally is depending on what shell interpreter you are using. For Bash, you should put single quotes around the *, i.e. '*', instead of double quotes like \"*\".</p>\n"},{"tags":[],"owner":{"account_id":2898633,"reputation":191,"user_id":2485870,"display_name":"Arno Unkrig"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1436794573,"creation_date":1436794232,"answer_id":31384767,"question_id":2718873,"body_markdown":"Under MS WINDOWS not quite true: &quot;java.exe&quot; silently expands command line arguments with the wildcards\r\n\r\n - *\r\n - ?\r\n - [abc]\r\n\r\n, but only in the last component, so\r\n\r\n    a/*/*\r\ndoes not work as you may expect.\r\n\r\nIt also ignores the entries &quot;.&quot; and &quot;..&quot;, but does honor other file names starting with &quot;.&quot;.\r\n\r\nTo avoid misunderstandings: If I look at the command line of the running JAVA process with PROCEXP, I see the **unexpanded** args!\r\n\r\nI found no way to work around this. In other words: As long as you have at least one file or directory in the current directory, &quot;java Calc 3 * 7&quot; will NOT work!\r\n\r\nThis is VERY ugly, and seems to always having been there in all JRE versions up to and including Java 8.\r\n\r\nDoes anybody have an idea how to disable Java&#39;s nasty command line expansion?","title":"The issue of * in Command line argument","body":"<p>Under MS WINDOWS not quite true: \"java.exe\" silently expands command line arguments with the wildcards</p>\n\n<ul>\n<li>*</li>\n<li>?</li>\n<li>[abc]</li>\n</ul>\n\n<p>, but only in the last component, so</p>\n\n<pre><code>a/*/*\n</code></pre>\n\n<p>does not work as you may expect.</p>\n\n<p>It also ignores the entries \".\" and \"..\", but does honor other file names starting with \".\".</p>\n\n<p>To avoid misunderstandings: If I look at the command line of the running JAVA process with PROCEXP, I see the <strong>unexpanded</strong> args!</p>\n\n<p>I found no way to work around this. In other words: As long as you have at least one file or directory in the current directory, \"java Calc 3 * 7\" will NOT work!</p>\n\n<p>This is VERY ugly, and seems to always having been there in all JRE versions up to and including Java 8.</p>\n\n<p>Does anybody have an idea how to disable Java's nasty command line expansion?</p>\n"},{"tags":[],"owner":{"account_id":4899899,"reputation":4110,"user_id":3948862,"accept_rate":57,"display_name":"D&#225;vid Horv&#225;th"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464278231,"creation_date":1464278231,"answer_id":37465767,"question_id":2718873,"body_markdown":"Use [single quotes][1]:\r\n\r\n    java FooBar 5 3 &#39;*&#39;\r\n\r\nThis works with most of the popular shells (including bash and ksh).\r\n\r\n\r\n  [1]: https://www.gnu.org/software/bash/manual/html_node/Single-Quotes.html","title":"The issue of * in Command line argument","body":"<p>Use <a href=\"https://www.gnu.org/software/bash/manual/html_node/Single-Quotes.html\" rel=\"nofollow\">single quotes</a>:</p>\n\n<pre><code>java FooBar 5 3 '*'\n</code></pre>\n\n<p>This works with most of the popular shells (including bash and ksh).</p>\n"},{"tags":[],"owner":{"account_id":1969,"reputation":2146,"user_id":2710,"display_name":"wbkang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643132931,"creation_date":1643132931,"answer_id":70853342,"question_id":2718873,"body_markdown":"Expanding on @Arno Unkrig&#39;s answer: \r\n\r\nOn Windows, some JVMs definitely do expand the &quot;*&quot; character, and it is not the shell expanding the path. You can confirm this by writing a small Java program that prints out the arguments:\r\n\r\n``` java\r\npublic class TestArgs {\r\n    public static void main(String[] args) {\r\n        for (int i = 0; i &lt; args.length; i++) {\r\n            System.out.println(&quot;Arg &quot; + i + &quot;: &quot; + args[i]);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe good news is, there is a workaround! You can use `@filename` as an argument to JVM like this:\r\n\r\n`java @args.txt` where `args.txt` is a text file that contains the arguments for each line. Example content:\r\n\r\n```\r\nTestArgs\r\n*\r\n```\r\n\r\nThis is equivalent to calling `java` with two arguments `TestArgs` and `*`. Most importantly, `*` is not expanded when it is included using the `@filename` method. I was able to find the details from [this page](https://docs.oracle.com/en/java/javase/14/docs/specs/man/java.html#java-command-line-argument-files).\r\n","title":"The issue of * in Command line argument","body":"<p>Expanding on @Arno Unkrig's answer:</p>\n<p>On Windows, some JVMs definitely do expand the &quot;*&quot; character, and it is not the shell expanding the path. You can confirm this by writing a small Java program that prints out the arguments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestArgs {\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; args.length; i++) {\n            System.out.println(&quot;Arg &quot; + i + &quot;: &quot; + args[i]);\n        }\n    }\n}\n</code></pre>\n<p>The good news is, there is a workaround! You can use <code>@filename</code> as an argument to JVM like this:</p>\n<p><code>java @args.txt</code> where <code>args.txt</code> is a text file that contains the arguments for each line. Example content:</p>\n<pre><code>TestArgs\n*\n</code></pre>\n<p>This is equivalent to calling <code>java</code> with two arguments <code>TestArgs</code> and <code>*</code>. Most importantly, <code>*</code> is not expanded when it is included using the <code>@filename</code> method. I was able to find the details from <a href=\"https://docs.oracle.com/en/java/javase/14/docs/specs/man/java.html#java-command-line-argument-files\" rel=\"nofollow noreferrer\">this page</a>.</p>\n"}],"owner":{"account_id":128598,"reputation":189,"user_id":326566,"display_name":"Nithismiles"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14944,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"answer_count":6,"score":18,"last_activity_date":1643132931,"creation_date":1272345305,"question_id":2718873,"body_markdown":"I wrote a program in Java that accepts input via command line arguments.\r\nI get an input of two numbers and an operator from the command line.\r\nTo multiply two numbers, I have to give input as e.g. `5 3 *`, but it&#39;s not working as written.\r\n\r\nWhy is it not accepting `*` from the command line?","title":"The issue of * in Command line argument","body":"<p>I wrote a program in Java that accepts input via command line arguments.\nI get an input of two numbers and an operator from the command line.\nTo multiply two numbers, I have to give input as e.g. <code>5 3 *</code>, but it's not working as written.</p>\n\n<p>Why is it not accepting <code>*</code> from the command line?</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":2,"creation_date":1643132479,"post_id":70853217,"comment_id":125256949,"body_markdown":"Your `if` is trying to compare the concatenation of two strings to a number. That will not do what you want to do, and in fact I doubt it even compiles. That said, you forgot to state what problem exactly you&#39;re having with the code you posted, if it&#39;s giving you any errors and what those errors are, or if it&#39;s producing a result that differs from what you expected. You should include that in your question.","body":"Your <code>if</code> is trying to compare the concatenation of two strings to a number. That will not do what you want to do, and in fact I doubt it even compiles. That said, you forgot to state what problem exactly you&#39;re having with the code you posted, if it&#39;s giving you any errors and what those errors are, or if it&#39;s producing a result that differs from what you expected. You should include that in your question."},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1643132600,"post_id":70853217,"comment_id":125256998,"body_markdown":"While that is not your question, for your first method to actually work you should take a look at [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"While that is not your question, for your first method to actually work you should take a look at <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1643132718,"post_id":70853217,"comment_id":125257056,"body_markdown":"Ah, yes. That too. And while we&#39;re at it, maybe look at using a Map or Enum, for brevity. Such a large if/else is not the nicest thing to look at.","body":"Ah, yes. That too. And while we&#39;re at it, maybe look at using a Map or Enum, for brevity. Such a large if/else is not the nicest thing to look at."}],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643132477,"creation_date":1643132477,"answer_id":70853268,"question_id":70853217,"body_markdown":"Instead of this:\r\n\r\n```public boolean isBlackjack(String card1, String card2) { \r\n        parseCard(card1);\r\n        parseCard(card2);\r\n\r\n            if (card1 + card2 == 21)\r\n        return true;\r\n        \r\n    } else {\r\n        return false;\r\n    }\r\n```\r\n\r\nYou could do something like this:\r\n\r\n```\r\npublic boolean isBlackjack(String card1, String card2) { \r\n        int c1 = parseCard(card1);\r\n        int c2 = parseCard(card2);\r\n        int sum = c1 + c2;\r\n        return sum == 21;\r\n}\r\n```\r\n","title":"JAVA- How can I use a previous method inside another method","body":"<p>Instead of this:</p>\n<pre><code>        parseCard(card1);\n        parseCard(card2);\n\n            if (card1 + card2 == 21)\n        return true;\n        \n    } else {\n        return false;\n    }\n</code></pre>\n<p>You could do something like this:</p>\n<pre><code>public boolean isBlackjack(String card1, String card2) { \n        int c1 = parseCard(card1);\n        int c2 = parseCard(card2);\n        int sum = c1 + c2;\n        return sum == 21;\n}\n</code></pre>\n"}],"owner":{"account_id":23678135,"reputation":11,"user_id":17704070,"display_name":"Venom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643132477,"creation_date":1643132296,"question_id":70853217,"body_markdown":"Massive Java novice here. \r\n\r\nI&#39;m trying to use a previous method within another. The current goal is to find out if the two `cards` add up to 21. If they do return `true`.\r\n\r\nMethod I&#39;m trying to reuse. \r\n```\r\npublic int parseCard(String card) {\r\n        if (card == &quot;ace&quot;){\r\n            return 11;\r\n        } else if (card == &quot;two&quot;) {\r\n            return 2;\r\n        } else if (card == &quot;three&quot;) {\r\n            return 3;\r\n        } else if (card == &quot;four&quot;) {\r\n            return 4;\r\n        } else if (card == &quot;five&quot;) {\r\n            return 5;\r\n        } else if (card == &quot;six&quot;) {\r\n            return 6;\r\n        } else if (card == &quot;seven&quot;) {\r\n            return 7;\r\n        } else if (card == &quot;eight&quot;) {\r\n            return 8;\r\n        } else if (card == &quot;nine&quot;) {\r\n            return 9;\r\n        } else if (card == &quot;ten&quot;) {\r\n            return 10;\r\n        } else if (card == &quot;jack&quot;) {\r\n            return 10;\r\n        } else if (card == &quot;queen&quot;) {\r\n            return 10;\r\n        } else if (card == &quot;king&quot;) {\r\n            return 10;\r\n        } else {\r\n            return 0;\r\n    }\r\n        }\r\n```\r\nSecond method ( one I need help with)\r\n```\r\npublic boolean isBlackjack(String card1, String card2) { \r\n        parseCard(card1);\r\n        parseCard(card2);\r\n\r\n            if (card1 + card2 == 21)\r\n        return true;\r\n        \r\n    } else {\r\n        return false;\r\n    }\r\n```","title":"JAVA- How can I use a previous method inside another method","body":"<p>Massive Java novice here.</p>\n<p>I'm trying to use a previous method within another. The current goal is to find out if the two <code>cards</code> add up to 21. If they do return <code>true</code>.</p>\n<p>Method I'm trying to reuse.</p>\n<pre><code>public int parseCard(String card) {\n        if (card == &quot;ace&quot;){\n            return 11;\n        } else if (card == &quot;two&quot;) {\n            return 2;\n        } else if (card == &quot;three&quot;) {\n            return 3;\n        } else if (card == &quot;four&quot;) {\n            return 4;\n        } else if (card == &quot;five&quot;) {\n            return 5;\n        } else if (card == &quot;six&quot;) {\n            return 6;\n        } else if (card == &quot;seven&quot;) {\n            return 7;\n        } else if (card == &quot;eight&quot;) {\n            return 8;\n        } else if (card == &quot;nine&quot;) {\n            return 9;\n        } else if (card == &quot;ten&quot;) {\n            return 10;\n        } else if (card == &quot;jack&quot;) {\n            return 10;\n        } else if (card == &quot;queen&quot;) {\n            return 10;\n        } else if (card == &quot;king&quot;) {\n            return 10;\n        } else {\n            return 0;\n    }\n        }\n</code></pre>\n<p>Second method ( one I need help with)</p>\n<pre><code>public boolean isBlackjack(String card1, String card2) { \n        parseCard(card1);\n        parseCard(card2);\n\n            if (card1 + card2 == 21)\n        return true;\n        \n    } else {\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","node-red"],"answers":[{"tags":[],"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643132182,"creation_date":1643132182,"answer_id":70853193,"question_id":70851675,"body_markdown":"You don&#39;t.\r\n\r\nSprint Boot is a Java framework.\r\n\r\nNode-RED is a JavaScript/NodeJS application.","title":"How to build small springboot app using node-red","body":"<p>You don't.</p>\n<p>Sprint Boot is a Java framework.</p>\n<p>Node-RED is a JavaScript/NodeJS application.</p>\n"}],"owner":{"account_id":21809757,"reputation":11,"user_id":16107470,"display_name":"Vinay Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1643132182,"creation_date":1643125825,"question_id":70851675,"body_markdown":"I did not understand how to run **spring boot app** using **Node-red** platform.\r\n\r\nSimple **spring boot app** code is shown in the link below\r\n\r\n&lt;https://www.javatpoint.com/spring-boot-hello-world-example&gt;\r\n\r\nI have downloaded &quot;**java function node**&quot; and &quot;**jar function node**&quot; in node-red, but I did not understand how this example is used in Node-red.\r\n\r\nIf possible can anyone please guide me how to design or run this &quot;**spring boot**&quot; app using **Node-red**.\r\n\r\n","title":"How to build small springboot app using node-red","body":"<p>I did not understand how to run <strong>spring boot app</strong> using <strong>Node-red</strong> platform.</p>\n<p>Simple <strong>spring boot app</strong> code is shown in the link below</p>\n<p><a href=\"https://www.javatpoint.com/spring-boot-hello-world-example\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/spring-boot-hello-world-example</a></p>\n<p>I have downloaded &quot;<strong>java function node</strong>&quot; and &quot;<strong>jar function node</strong>&quot; in node-red, but I did not understand how this example is used in Node-red.</p>\n<p>If possible can anyone please guide me how to design or run this &quot;<strong>spring boot</strong>&quot; app using <strong>Node-red</strong>.</p>\n"},{"tags":["java","jakarta-ee","quartz-scheduler"],"comments":[{"owner":{"account_id":310016,"reputation":2321,"user_id":622772,"display_name":"polypiel"},"score":2,"creation_date":1333448503,"post_id":9991253,"comment_id":12768850,"body_markdown":"Another try is to create an annotation and then searching for the annotated classes. Here http://stackoverflow.com/questions/259140/scanning-java-annotations-at-runtime says how to achieve it.","body":"Another try is to create an annotation and then searching for the annotated classes. Here <a href=\"http://stackoverflow.com/questions/259140/scanning-java-annotations-at-runtime\" title=\"scanning java annotations at runtime\">stackoverflow.com/questions/259140/&hellip;</a> says how to achieve it."},{"owner":{"account_id":238952,"reputation":2166,"user_id":508214,"accept_rate":73,"display_name":"titogeo"},"score":0,"creation_date":1334222404,"post_id":9991253,"comment_id":12969968,"body_markdown":"Would this help? [link](http://www.javaworld.com/javaworld/javaqa/2003-07/02-qa-0725-classsrc2.html?page=1)","body":"Would this help? <a href=\"http://www.javaworld.com/javaworld/javaqa/2003-07/02-qa-0725-classsrc2.html?page=1\" rel=\"nofollow noreferrer\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":78475,"reputation":12729,"user_id":223339,"accept_rate":100,"display_name":"Romain"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1333448394,"creation_date":1333448394,"answer_id":9991311,"question_id":9991253,"body_markdown":"Probably the best (standard) way to do this by using the Java SPI mechanism, see [Javadoc][1]. The inconvenient (which is also a nice feature) is that it expects Jars that define extensions to list them in `META-INF/services/your.fully.qualified.Interface`.\r\n\r\nThe only other way I can think of would be to wall through all ClassLoaders in hope you&#39;ll be able to list the files in there, load the class files, and see if they implement your interface or not - which is not a nice thing to do.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html","title":"Finding all classes implementing a specific interface","body":"<p>Probably the best (standard) way to do this by using the Java SPI mechanism, see <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow\">Javadoc</a>. The inconvenient (which is also a nice feature) is that it expects Jars that define extensions to list them in <code>META-INF/services/your.fully.qualified.Interface</code>.</p>\n\n<p>The only other way I can think of would be to wall through all ClassLoaders in hope you'll be able to list the files in there, load the class files, and see if they implement your interface or not - which is not a nice thing to do.</p>\n"},{"tags":[],"owner":{"account_id":1281287,"reputation":4633,"user_id":1235336,"accept_rate":100,"display_name":"Alex Stybaev"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1643132158,"creation_date":1333448543,"answer_id":9991343,"question_id":9991253,"body_markdown":"You can find an answer [here][1].\r\n\r\nI can suggest using org.reflections\r\n\r\n[You can take a look at it here][3]\r\n\r\n    Reflections reflections = new Reflections(&quot;com.mycompany&quot;);    \r\n    Set&lt;Class&lt;? extends MyInterface&gt;&gt; classes = reflections.getSubTypesOf(MyInterface.class);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/205573/at-runtime-find-all-classes-in-a-java-application-that-extend-a-base-class\r\n  [2]: http://code.google.com/p/reflections/\r\n  [3]: https://github.com/ronmamo/reflections","title":"Finding all classes implementing a specific interface","body":"<p>You can find an answer <a href=\"https://stackoverflow.com/questions/205573/at-runtime-find-all-classes-in-a-java-application-that-extend-a-base-class\">here</a>.</p>\n<p>I can suggest using org.reflections</p>\n<p><a href=\"https://github.com/ronmamo/reflections\" rel=\"nofollow noreferrer\">You can take a look at it here</a></p>\n<pre><code>Reflections reflections = new Reflections(&quot;com.mycompany&quot;);    \nSet&lt;Class&lt;? extends MyInterface&gt;&gt; classes = reflections.getSubTypesOf(MyInterface.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":380582,"reputation":15578,"user_id":734687,"accept_rate":83,"display_name":"ChrLipp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511962253,"creation_date":1333873967,"answer_id":10061497,"question_id":9991253,"body_markdown":"I think that `org.reflections` is a proper solution as mentioned by Alex Stybaev, you don&#39;t need to reference the classes in a property file.\r\n\r\nAnother approach (which I would take) is [Spring](http://www.springsource.org/), since I am using Spring anyway for my applications and therefore wouldn&#39;t need any additionally dependencies.\r\n\r\nYou can find hints for solving your problem with Spring (and alternatives in the other comments or answers) here:\r\n\r\n- http://mcoj.wordpress.com/2009/03/13/classpath-scanning/\r\n- http://www.sleberknight.com/blog/sleberkn/entry/20080623\r\n- http://www.terminalstate.net/2007/12/scanning-class-path-with-spring-25.html\r\n\r\nIn the comments of your question heikkim and polypiel also link to questions with have answers for solving it with Spring:\r\n\r\n- https://stackoverflow.com/a/8166959/734687\r\n- https://stackoverflow.com/a/1415338/734687","title":"Finding all classes implementing a specific interface","body":"<p>I think that <code>org.reflections</code> is a proper solution as mentioned by Alex Stybaev, you don't need to reference the classes in a property file.</p>\n\n<p>Another approach (which I would take) is <a href=\"http://www.springsource.org/\" rel=\"nofollow noreferrer\">Spring</a>, since I am using Spring anyway for my applications and therefore wouldn't need any additionally dependencies.</p>\n\n<p>You can find hints for solving your problem with Spring (and alternatives in the other comments or answers) here:</p>\n\n<ul>\n<li><a href=\"http://mcoj.wordpress.com/2009/03/13/classpath-scanning/\" rel=\"nofollow noreferrer\">http://mcoj.wordpress.com/2009/03/13/classpath-scanning/</a></li>\n<li><a href=\"http://www.sleberknight.com/blog/sleberkn/entry/20080623\" rel=\"nofollow noreferrer\">http://www.sleberknight.com/blog/sleberkn/entry/20080623</a></li>\n<li><a href=\"http://www.terminalstate.net/2007/12/scanning-class-path-with-spring-25.html\" rel=\"nofollow noreferrer\">http://www.terminalstate.net/2007/12/scanning-class-path-with-spring-25.html</a></li>\n</ul>\n\n<p>In the comments of your question heikkim and polypiel also link to questions with have answers for solving it with Spring:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/8166959/734687\">https://stackoverflow.com/a/8166959/734687</a></li>\n<li><a href=\"https://stackoverflow.com/a/1415338/734687\">https://stackoverflow.com/a/1415338/734687</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":158125,"reputation":6731,"user_id":376527,"accept_rate":72,"display_name":"Sam Goldberg"},"down_vote_count":2,"up_vote_count":39,"is_accepted":true,"score":37,"last_activity_date":1334177613,"creation_date":1334080694,"answer_id":10093931,"question_id":9991253,"body_markdown":"I had a similar need where I wanted to make sure that any classes created that implemented a certain interface were always truly serializable.  I created a JavaClassFinder which walks through all directories in the classpath, and finds all classes assignable to the interface I cared about. Here is a code snippet:\r\n\r\n\tpublic &lt;T&gt; List&lt;Class&lt;? extends T&gt;&gt; findAllMatchingTypes(Class&lt;T&gt; toFind) {\r\n\t\tfoundClasses = new ArrayList&lt;Class&lt;?&gt;&gt;();\r\n\t\tList&lt;Class&lt;? extends T&gt;&gt; returnedClasses = new ArrayList&lt;Class&lt;? extends T&gt;&gt;();\r\n\t\tthis.toFind = toFind;\r\n\t\twalkClassPath();\r\n\t\tfor (Class&lt;?&gt; clazz : foundClasses) {\r\n\t\t\treturnedClasses.add((Class&lt;? extends T&gt;) clazz);\r\n\t\t}\r\n\t\treturn returnedClasses;\r\n\t}\r\n\r\nI&#39;m happy to share the code with you if it helps.  The only draw back is that this will only handle .class files -- I didn&#39;t add the feature to unzip .jars and read class files from there. (But it wouldn&#39;t be a huge project to add that.)\r\n\r\n**UPDATE:** I checked my source code for the above, and found it depends on a lot of helper classes in our standard utility library.  To make it easier, I zipped up all the code needed, which you can download from [JavaClassFinder.zip][1]. This will set up directly in Eclipse, and you can take whatever portions of the code you need.  \r\n\r\nYou will find a JUnit3 test in the project, called JavaClassFinderTest.java, which shows you the features and usage of the JavaClassFinder class. The only external dependency needed to run the Junit test is Junit.\r\n\r\nBasic usage of this utility:\r\n\r\n    \tJavaClassFinder\tclassFinder = new JavaClassFinder();\r\n        List&lt;Class&lt;? extends MyTagInterface&gt;&gt; classes = classFinder.findAllMatchingTypes(MyTagInterface.class);\r\n\r\nThis will give you a List which contains any classes in the classpath which are assignable from the &quot;MyTagInterface.class&quot; (for example).  Hope this helps.\r\n\r\n\r\n  [1]: http://www.ezxinc.com/downloads/JavaClassFinder.zip","title":"Finding all classes implementing a specific interface","body":"<p>I had a similar need where I wanted to make sure that any classes created that implemented a certain interface were always truly serializable.  I created a JavaClassFinder which walks through all directories in the classpath, and finds all classes assignable to the interface I cared about. Here is a code snippet:</p>\n\n<pre><code>public &lt;T&gt; List&lt;Class&lt;? extends T&gt;&gt; findAllMatchingTypes(Class&lt;T&gt; toFind) {\n    foundClasses = new ArrayList&lt;Class&lt;?&gt;&gt;();\n    List&lt;Class&lt;? extends T&gt;&gt; returnedClasses = new ArrayList&lt;Class&lt;? extends T&gt;&gt;();\n    this.toFind = toFind;\n    walkClassPath();\n    for (Class&lt;?&gt; clazz : foundClasses) {\n        returnedClasses.add((Class&lt;? extends T&gt;) clazz);\n    }\n    return returnedClasses;\n}\n</code></pre>\n\n<p>I'm happy to share the code with you if it helps.  The only draw back is that this will only handle .class files -- I didn't add the feature to unzip .jars and read class files from there. (But it wouldn't be a huge project to add that.)</p>\n\n<p><strong>UPDATE:</strong> I checked my source code for the above, and found it depends on a lot of helper classes in our standard utility library.  To make it easier, I zipped up all the code needed, which you can download from <a href=\"http://www.ezxinc.com/downloads/JavaClassFinder.zip\" rel=\"noreferrer\">JavaClassFinder.zip</a>. This will set up directly in Eclipse, and you can take whatever portions of the code you need.  </p>\n\n<p>You will find a JUnit3 test in the project, called JavaClassFinderTest.java, which shows you the features and usage of the JavaClassFinder class. The only external dependency needed to run the Junit test is Junit.</p>\n\n<p>Basic usage of this utility:</p>\n\n<pre><code>    JavaClassFinder classFinder = new JavaClassFinder();\n    List&lt;Class&lt;? extends MyTagInterface&gt;&gt; classes = classFinder.findAllMatchingTypes(MyTagInterface.class);\n</code></pre>\n\n<p>This will give you a List which contains any classes in the classpath which are assignable from the \"MyTagInterface.class\" (for example).  Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334241597,"creation_date":1334241597,"answer_id":10125887,"question_id":9991253,"body_markdown":"From the answers of https://stackoverflow.com/questions/435890/find-java-classes-implementing-an-interface, I used http://software.clapper.org/javautil/: Very fast, very useful.\r\n","title":"Finding all classes implementing a specific interface","body":"<p>From the answers of <a href=\"https://stackoverflow.com/questions/435890/find-java-classes-implementing-an-interface\">Find Java classes implementing an interface</a>, I used <a href=\"http://software.clapper.org/javautil/\" rel=\"nofollow noreferrer\">http://software.clapper.org/javautil/</a>: Very fast, very useful.</p>\n"},{"tags":[],"owner":{"account_id":3658600,"reputation":417,"user_id":3048996,"display_name":"judovana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450876505,"creation_date":1450876505,"answer_id":34436558,"question_id":9991253,"body_markdown":"To do so in pure java, the most correct answer is already voted (from sam goldberg apr 10,2012)\r\n\r\nHowever full code of his is unnecessarily complex. I used his idea and pushed ClassFinder there:\r\nhttp://icedtea.classpath.org/hg/icedtea-web/file/0527ad4eb2dd/netx/net/sourceforge/jnlp/controlpanel/ClassFinder.java\r\n\r\nNote - this will work in stand alone application (or any application using regular classpath with jars and dirs) not in ServerContainer.\r\n\r\nif your app is running in webserver, you need to know location of your war/ear and search there. Or you have to ask your parent classlaoder where it is he getting yours (and other) sources.\r\n\r\n\r\nSecond note - I&#39;m filtering final locations classes to match only netx and icedtea-web as I do not wont dependencies searched. So if you need to include rt.jar please, rmeove thsoe filters. Or remove bootclasspath at all if you on contrary do not need it at all.","title":"Finding all classes implementing a specific interface","body":"<p>To do so in pure java, the most correct answer is already voted (from sam goldberg apr 10,2012)</p>\n\n<p>However full code of his is unnecessarily complex. I used his idea and pushed ClassFinder there:\n<a href=\"http://icedtea.classpath.org/hg/icedtea-web/file/0527ad4eb2dd/netx/net/sourceforge/jnlp/controlpanel/ClassFinder.java\" rel=\"nofollow\">http://icedtea.classpath.org/hg/icedtea-web/file/0527ad4eb2dd/netx/net/sourceforge/jnlp/controlpanel/ClassFinder.java</a></p>\n\n<p>Note - this will work in stand alone application (or any application using regular classpath with jars and dirs) not in ServerContainer.</p>\n\n<p>if your app is running in webserver, you need to know location of your war/ear and search there. Or you have to ask your parent classlaoder where it is he getting yours (and other) sources.</p>\n\n<p>Second note - I'm filtering final locations classes to match only netx and icedtea-web as I do not wont dependencies searched. So if you need to include rt.jar please, rmeove thsoe filters. Or remove bootclasspath at all if you on contrary do not need it at all.</p>\n"}],"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74836,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"closed_date":1472505484,"accepted_answer_id":10093931,"answer_count":6,"score":44,"last_activity_date":1643132158,"creation_date":1333448160,"question_id":9991253,"body_markdown":"I am in the process of developing an application (Quartz scheduler) where we have a job class which is responsible for actually executing the work and we need to tell/pass the name of the job class while creating a trigger in the Quartz scheduler.\r\n\r\nI want to provide an extension point to all who want to use the API (beside the some generic jobs which I will provide as part of the API). The idea is to create an (marker) interface and if any one wants to declare their class as scheduler job class, all they have to do is, to (declare to) implement the interface.\r\n\r\nI am not sure how I can find which classes are following the contract (by implementing the interface) so that I can show them to the user who want to schedule a trigger in the scheduler.\r\n\r\n*My requirement is not to load the classes at run time but to show user list of classes which implement the required interface so that user can select the class and class name can be passed to the scheduler. It&#39;s the Quartz scheduler which at the end will be responsible to create an instance of class.*\r\n\r\nCan any one suggest how I can achieve the above goal or is there any other better way to achieve what I am trying to do?\r\n\r\n**Edit**\r\n\r\nI went through the doc of [ServiceLoader][1] and it seems that for implementing a service one has to create a file in the META-INF folder with the name of the implementation class, which leads me to think that if the user of my API wants 20 different implementations, he has to put 20 entries in the file which for me seems a lot of extra work for the end user since each job class will be created for executing a specific job and there can be 100s of job classes.\r\n\r\nPlease correct me if my assumption is wrong.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html","title":"Finding all classes implementing a specific interface","body":"<p>I am in the process of developing an application (Quartz scheduler) where we have a job class which is responsible for actually executing the work and we need to tell/pass the name of the job class while creating a trigger in the Quartz scheduler.</p>\n\n<p>I want to provide an extension point to all who want to use the API (beside the some generic jobs which I will provide as part of the API). The idea is to create an (marker) interface and if any one wants to declare their class as scheduler job class, all they have to do is, to (declare to) implement the interface.</p>\n\n<p>I am not sure how I can find which classes are following the contract (by implementing the interface) so that I can show them to the user who want to schedule a trigger in the scheduler.</p>\n\n<p><em>My requirement is not to load the classes at run time but to show user list of classes which implement the required interface so that user can select the class and class name can be passed to the scheduler. It's the Quartz scheduler which at the end will be responsible to create an instance of class.</em></p>\n\n<p>Can any one suggest how I can achieve the above goal or is there any other better way to achieve what I am trying to do?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>I went through the doc of <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html\">ServiceLoader</a> and it seems that for implementing a service one has to create a file in the META-INF folder with the name of the implementation class, which leads me to think that if the user of my API wants 20 different implementations, he has to put 20 entries in the file which for me seems a lot of extra work for the end user since each job class will be created for executing a specific job and there can be 100s of job classes.</p>\n\n<p>Please correct me if my assumption is wrong.</p>\n"},{"tags":["java","arrays","string","indexof"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1643130805,"post_id":70852849,"comment_id":125256244,"body_markdown":"&quot;shows the index by using hardcode&quot;: what does this mean?","body":"&quot;shows the index by using hardcode&quot;: what does this mean?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1643131721,"post_id":70852849,"comment_id":125256619,"body_markdown":"Iterate through your array using a temporary integer variable(`int largest=0;`) to hold the largest value and another for the index of that value(`int largest_index=0`). Use a conditional to compare `largest` with the current value at that point of the iteration, if the current value is larger than `largest` then change `largest` to that value and set the index to equal to the iteration index. Return the `largest_index`.","body":"Iterate through your array using a temporary integer variable(<code>int largest=0;</code>) to hold the largest value and another for the index of that value(<code>int largest_index=0</code>). Use a conditional to compare <code>largest</code> with the current value at that point of the iteration, if the current value is larger than <code>largest</code> then change <code>largest</code> to that value and set the index to equal to the iteration index. Return the <code>largest_index</code>."},{"owner":{"account_id":24051481,"reputation":23,"user_id":18029917,"display_name":"Java_Backend_dev"},"score":0,"creation_date":1643135849,"post_id":70852849,"comment_id":125258296,"body_markdown":"@ScottHunter I had to put the 55 (the largest number) directly.","body":"@ScottHunter I had to put the 55 (the largest number) directly."},{"owner":{"account_id":24051481,"reputation":23,"user_id":18029917,"display_name":"Java_Backend_dev"},"score":0,"creation_date":1643135896,"post_id":70852849,"comment_id":125258319,"body_markdown":"@AliasCartellano Thank you!!","body":"@AliasCartellano Thank you!!"}],"answers":[{"tags":[],"owner":{"account_id":15166774,"reputation":91,"user_id":10944077,"display_name":"Awais Latif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643131742,"creation_date":1643131742,"answer_id":70853083,"question_id":70852849,"body_markdown":"I dont understand why are you storing result as string and then converting this string into array of int. You can directly save int array.\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int h = 50;\r\n        int d [] = { 10, 25, 5 };\r\n        int z [] = { 2, 3, 1 };\r\n        int result [] = new int[d.length];\r\n        int max = -1;\r\n        int indexMax = -1;\r\n\r\n\r\n        for (int i = 0; i &lt; d.length; i++) {\r\n            result[i] = ((h + d[i]) / z[i]);\r\n            if(result[i]&gt;max){\r\n                max = result[i];\r\n                indexMax = i;\r\n            }\r\n        }\r\n        \r\n        System.out.println(max);\r\n        System.out.println(indexMax);\r\n        \r\n\r\n    }","title":"I need to print the largest element of an Array, but showing its index number","body":"<p>I dont understand why are you storing result as string and then converting this string into array of int. You can directly save int array.</p>\n<pre><code>public static void main(String[] args) {\n\n    int h = 50;\n    int d [] = { 10, 25, 5 };\n    int z [] = { 2, 3, 1 };\n    int result [] = new int[d.length];\n    int max = -1;\n    int indexMax = -1;\n\n\n    for (int i = 0; i &lt; d.length; i++) {\n        result[i] = ((h + d[i]) / z[i]);\n        if(result[i]&gt;max){\n            max = result[i];\n            indexMax = i;\n        }\n    }\n    \n    System.out.println(max);\n    System.out.println(indexMax);\n    \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16395447,"reputation":86,"user_id":11843135,"display_name":"Hamza Khalifa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643131864,"creation_date":1643131864,"answer_id":70853113,"question_id":70852849,"body_markdown":"**Here is my solution to your problem** &lt;br&gt;&lt;br&gt;\r\nthis answer is generic (you can change the values of arrays, but it must be equals in index)&lt;br&gt;&lt;br&gt;\r\n\r\n  \r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    \r\n    public class Main{\r\n    \tpublic static void main(String[] args) { \r\n    \r\n            int h = 50;\r\n            int d [] = { 10, 25, 5 };\r\n            int z [] = { 2, 3, 1 };\r\n            \r\n            \r\n            // here we sum every element of the first array to variable h (that equals 50)\r\n            \r\n            for (int i = 0 ; i &lt; d.length ; i++){\r\n                d [i] = d[i] + h ;\r\n            }\r\n            \r\n            // here we divide every element of the first array to other array .\r\n    \r\n            for (int i = 0 ; i &lt; d.length ; i++){\r\n                d [i] = d[i] / z[i] ;\r\n            }\r\n            \r\n            // here we want to find the max \r\n                int max = Arrays.stream(d).max().getAsInt();\r\n                \r\n            // here we get the index of the max value\r\n             int index = 0;\r\n             \r\n             for (int i = 0 ; i &lt; d.length ; i++){\r\n                if (d[i] == max){\r\n                    index = i;\r\n                    break;\r\n                } \r\n            }\r\n            \r\n            System.out.println(&quot;The largest number index is: &quot; + index); \r\n            \r\n    }}\r\n\r\n","title":"I need to print the largest element of an Array, but showing its index number","body":"<p><strong>Here is my solution to your problem</strong> <br><br>\nthis answer is generic (you can change the values of arrays, but it must be equals in index)<br><br></p>\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\n\npublic class Main{\n    public static void main(String[] args) { \n\n        int h = 50;\n        int d [] = { 10, 25, 5 };\n        int z [] = { 2, 3, 1 };\n        \n        \n        // here we sum every element of the first array to variable h (that equals 50)\n        \n        for (int i = 0 ; i &lt; d.length ; i++){\n            d [i] = d[i] + h ;\n        }\n        \n        // here we divide every element of the first array to other array .\n\n        for (int i = 0 ; i &lt; d.length ; i++){\n            d [i] = d[i] / z[i] ;\n        }\n        \n        // here we want to find the max \n            int max = Arrays.stream(d).max().getAsInt();\n            \n        // here we get the index of the max value\n         int index = 0;\n         \n         for (int i = 0 ; i &lt; d.length ; i++){\n            if (d[i] == max){\n                index = i;\n                break;\n            } \n        }\n        \n        System.out.println(&quot;The largest number index is: &quot; + index); \n        \n}}\n</code></pre>\n"}],"owner":{"account_id":24051481,"reputation":23,"user_id":18029917,"display_name":"Java_Backend_dev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70853113,"answer_count":2,"score":-1,"last_activity_date":1643131864,"creation_date":1643130678,"question_id":70852849,"body_markdown":"I have a fixed variable of 50.I have two different Arrays (with fixed numbers).I need to sum the first variable (50) to the elements of the first Array and divide the result by each element of the other Array. Then I need to print the largest number of that Array, but showing the index number (which should be 2). I can&#39;t figure out how to pull the index by refering to the largest number.\r\n\r\nMy code shows the index by using hardcode, I need to fix that, can you help me?\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n\t\tint h = 50;\r\n\t\tint d [] = { 10, 25, 5 };\r\n\t\tint z [] = { 2, 3, 1 };\r\n\r\n\t\tString result = &quot;&quot;;\r\n\r\n\t\tfor (int i = 0; i &lt; d.length; i++) {\r\n\t\t\tresult += ((h + d[i]) / z[i]) + &quot;,&quot;;\r\n\t\t}\r\n\r\n\t\tString str = result;\r\n\r\n\t\tString[] string = str.replaceAll(&quot;\\\\[&quot;, &quot;&quot;).replaceAll(&quot;]&quot;, &quot;&quot;).split(&quot;,&quot;);\r\n\r\n\t\tint[] arr = new int[string.length];\r\n\r\n\t\tfor (int i = 0; i &lt; string.length; i++) {\r\n\t\t\tarr[i] = Integer.valueOf(string[i]);\r\n\t\t}\r\n\r\n// CAN&#39;T USE HARD CODE HERE, PLEASE HELP\r\n\t\tArrays.stream(arr).max().getAsInt();\r\n\t\tSystem.out.println(&quot;The largest number index is: &quot; + findIndex(arr, 55)); \r\n\r\n\t}\r\n\r\n\tpublic static int findIndex(int arr[], int t) {\r\n\r\n\t\tArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\r\n\t\tfor (int i : arr)\r\n\t\t\tlist.add(i);\r\n\t\treturn list.indexOf(t);\r\n\t}\r\n}\r\n\r\n```\r\n","title":"I need to print the largest element of an Array, but showing its index number","body":"<p>I have a fixed variable of 50.I have two different Arrays (with fixed numbers).I need to sum the first variable (50) to the elements of the first Array and divide the result by each element of the other Array. Then I need to print the largest number of that Array, but showing the index number (which should be 2). I can't figure out how to pull the index by refering to the largest number.</p>\n<p>My code shows the index by using hardcode, I need to fix that, can you help me?</p>\n<pre><code>public static void main(String[] args) {\n\n        int h = 50;\n        int d [] = { 10, 25, 5 };\n        int z [] = { 2, 3, 1 };\n\n        String result = &quot;&quot;;\n\n        for (int i = 0; i &lt; d.length; i++) {\n            result += ((h + d[i]) / z[i]) + &quot;,&quot;;\n        }\n\n        String str = result;\n\n        String[] string = str.replaceAll(&quot;\\\\[&quot;, &quot;&quot;).replaceAll(&quot;]&quot;, &quot;&quot;).split(&quot;,&quot;);\n\n        int[] arr = new int[string.length];\n\n        for (int i = 0; i &lt; string.length; i++) {\n            arr[i] = Integer.valueOf(string[i]);\n        }\n\n// CAN'T USE HARD CODE HERE, PLEASE HELP\n        Arrays.stream(arr).max().getAsInt();\n        System.out.println(&quot;The largest number index is: &quot; + findIndex(arr, 55)); \n\n    }\n\n    public static int findIndex(int arr[], int t) {\n\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n\n        for (int i : arr)\n            list.add(i);\n        return list.indexOf(t);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","controller-advice"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1643024195,"post_id":70832498,"comment_id":125221579,"body_markdown":"How about reflection? Getting all methods annotated with `@ExceptionHandler` and map exception class/es from annotation to method itself - `Map&lt;Class&lt;Exception&gt;, Method&gt;`. Then get correct method using getWrappedException().class and invoke it with the wrapped exception as parameter. If all methods have single parameter, the caught exception, there shouldn&#39;t be problems with the invocation. Can we think about solution in this direction?","body":"How about reflection? Getting all methods annotated with <code>@ExceptionHandler</code> and map exception class/es from annotation to method itself - <code>Map&lt;Class&lt;Exception&gt;, Method&gt;</code>. Then get correct method using getWrappedException().class and invoke it with the wrapped exception as parameter. If all methods have single parameter, the caught exception, there shouldn&#39;t be problems with the invocation. Can we think about solution in this direction?"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1643024434,"post_id":70832498,"comment_id":125221673,"body_markdown":"@Chaosfire In general possible, but again, that is what Spring does already, and I&#39;m looking for a way to re-use that funtionality, if possible.","body":"@Chaosfire In general possible, but again, that is what Spring does already, and I&#39;m looking for a way to re-use that funtionality, if possible."}],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643022447,"creation_date":1643022447,"answer_id":70832856,"question_id":70832498,"body_markdown":"Why would you want to re-throw which may create unnecessary branching. You can do a conditional check and call the appropriate exception handler method as below.\r\n\r\n    @ExceptionHandler(WrapperException .class)\r\n    public ResponseEntity&lt;ErrorResponse&gt; handleWrapperException (WrapperException ex) {\r\n      Exception exception = ex.getWrappedException();\r\n      if (exception instanceof MyBusinessException) {\r\n          return handleMyBusinessException((MyBusinessException) exception);\r\n      }\r\n      return //Default\r\n     } ","title":"Spring Boot: RestControllerAdvice: handle wrapped exceptions","body":"<p>Why would you want to re-throw which may create unnecessary branching. You can do a conditional check and call the appropriate exception handler method as below.</p>\n<pre><code>@ExceptionHandler(WrapperException .class)\npublic ResponseEntity&lt;ErrorResponse&gt; handleWrapperException (WrapperException ex) {\n  Exception exception = ex.getWrappedException();\n  if (exception instanceof MyBusinessException) {\n      return handleMyBusinessException((MyBusinessException) exception);\n  }\n  return //Default\n } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643123425,"creation_date":1643029023,"answer_id":70834232,"question_id":70832498,"body_markdown":"I think i figured the spring-ish way to do it. You can autowire in your `RestResponseExceptionHandler` bean of this type - `HandlerExceptionResolver`. Spring autoconfigures few of those for you, i managed to make it work with this one - `handlerExceptionResolver`. Something like this:\r\n\r\n    @RestControllerAdvice\r\n    public class ErrorHandler {\r\n    \r\n        private static final String BEAN1 = &quot;handlerExceptionResolver&quot;;\r\n        private static final String BEAN2 = &quot;customResolver&quot;;\r\n    \r\n        private final HandlerExceptionResolver resolver;\r\n    \r\n        @Autowired\r\n        public ErrorHandler(@Qualifier(BEAN2) HandlerExceptionResolver resolver) {\r\n            this.resolver = resolver;\r\n        }\r\n    \r\n        @ExceptionHandler(WrapperException.class)\r\n        public void exception(WrapperException exception, HttpServletRequest request, HttpServletResponse response) {\r\n            Exception wrappedException = exception.getWrappedException();\r\n            //this will dispatch the handling to the handler for the wrapped exception\r\n            this.resolver.resolveException(request, response, null, wrappedException);\r\n        }\r\n    \r\n        @ExceptionHandler(IndexOutOfBoundsException.class)\r\n        public ResponseEntity&lt;Object&gt; indexOutOfBoundsException() {\r\n            return ResponseEntity.of(Optional.of(&quot;IndexOutOfBoundsException&quot;));\r\n        }\r\n    \r\n        @ExceptionHandler(NullPointerException.class)\r\n        public ResponseEntity&lt;Object&gt; runtimeException() {\r\n            return ResponseEntity.of(Optional.of(&quot;NullPointerException&quot;));\r\n        }\r\n    \r\n        @ExceptionHandler(IOException.class)\r\n        public ResponseEntity&lt;Object&gt; ioException() {\r\n            return ResponseEntity.of(Optional.of(&quot;IOException&quot;));\r\n        }\r\n    \r\n        @ExceptionHandler(IllegalArgumentException.class)\r\n        public ResponseEntity&lt;Object&gt; illegalArgumentException() {\r\n            return ResponseEntity.of(Optional.of(&quot;IllegalArgumentException&quot;));\r\n        }\r\n    }\r\nEDIT: Changed to autowire custom defined bean, the name of the spring autoconfigured bean is still there.\r\n\r\nYou will have to use the request and response in the wrapped exception handler, otherwise won&#39;t be able to handle it. When you call `resolveException()` with the wrapped one, it will reroute it to the correct handler for the wrapped exception. I did some testing using a controller to throw exceptions like this one, and everything was resolved correctly.\r\n\r\n    @Controller\r\n    public class ExcController {\r\n    \r\n        @GetMapping(&quot;/thr&quot;)\r\n        public String throwExc() throws Exception {\r\n            throw new Exception(new NullPointerException());\r\n        }\r\n    \r\n        @GetMapping(&quot;/thr2&quot;)\r\n        public String throwExc2() throws Exception {\r\n            throw new IOException();\r\n        }\r\n    }\r\nEDIT: Found another implementation of `HandlerExceptionResolver`, which works - `ExceptionHandlerExceptionResolver`. To avoid circular dependencies of already existing beans, declare custom resolver to handle WrapperExceptions:\r\n\r\n    @Configuration\r\n    public class ExceptionResolverConfig {\r\n    \r\n        @Bean\r\n        public HandlerExceptionResolver customResolver() {\r\n            return new ExceptionHandlerExceptionResolver();\r\n        }\r\n    }\r\nThen autowire this bean in ErrorHandler. `ExceptionHandlerExceptionResolver` worked for me without any additional configuration.","title":"Spring Boot: RestControllerAdvice: handle wrapped exceptions","body":"<p>I think i figured the spring-ish way to do it. You can autowire in your <code>RestResponseExceptionHandler</code> bean of this type - <code>HandlerExceptionResolver</code>. Spring autoconfigures few of those for you, i managed to make it work with this one - <code>handlerExceptionResolver</code>. Something like this:</p>\n<pre><code>@RestControllerAdvice\npublic class ErrorHandler {\n\n    private static final String BEAN1 = &quot;handlerExceptionResolver&quot;;\n    private static final String BEAN2 = &quot;customResolver&quot;;\n\n    private final HandlerExceptionResolver resolver;\n\n    @Autowired\n    public ErrorHandler(@Qualifier(BEAN2) HandlerExceptionResolver resolver) {\n        this.resolver = resolver;\n    }\n\n    @ExceptionHandler(WrapperException.class)\n    public void exception(WrapperException exception, HttpServletRequest request, HttpServletResponse response) {\n        Exception wrappedException = exception.getWrappedException();\n        //this will dispatch the handling to the handler for the wrapped exception\n        this.resolver.resolveException(request, response, null, wrappedException);\n    }\n\n    @ExceptionHandler(IndexOutOfBoundsException.class)\n    public ResponseEntity&lt;Object&gt; indexOutOfBoundsException() {\n        return ResponseEntity.of(Optional.of(&quot;IndexOutOfBoundsException&quot;));\n    }\n\n    @ExceptionHandler(NullPointerException.class)\n    public ResponseEntity&lt;Object&gt; runtimeException() {\n        return ResponseEntity.of(Optional.of(&quot;NullPointerException&quot;));\n    }\n\n    @ExceptionHandler(IOException.class)\n    public ResponseEntity&lt;Object&gt; ioException() {\n        return ResponseEntity.of(Optional.of(&quot;IOException&quot;));\n    }\n\n    @ExceptionHandler(IllegalArgumentException.class)\n    public ResponseEntity&lt;Object&gt; illegalArgumentException() {\n        return ResponseEntity.of(Optional.of(&quot;IllegalArgumentException&quot;));\n    }\n}\n</code></pre>\n<p>EDIT: Changed to autowire custom defined bean, the name of the spring autoconfigured bean is still there.</p>\n<p>You will have to use the request and response in the wrapped exception handler, otherwise won't be able to handle it. When you call <code>resolveException()</code> with the wrapped one, it will reroute it to the correct handler for the wrapped exception. I did some testing using a controller to throw exceptions like this one, and everything was resolved correctly.</p>\n<pre><code>@Controller\npublic class ExcController {\n\n    @GetMapping(&quot;/thr&quot;)\n    public String throwExc() throws Exception {\n        throw new Exception(new NullPointerException());\n    }\n\n    @GetMapping(&quot;/thr2&quot;)\n    public String throwExc2() throws Exception {\n        throw new IOException();\n    }\n}\n</code></pre>\n<p>EDIT: Found another implementation of <code>HandlerExceptionResolver</code>, which works - <code>ExceptionHandlerExceptionResolver</code>. To avoid circular dependencies of already existing beans, declare custom resolver to handle WrapperExceptions:</p>\n<pre><code>@Configuration\npublic class ExceptionResolverConfig {\n\n    @Bean\n    public HandlerExceptionResolver customResolver() {\n        return new ExceptionHandlerExceptionResolver();\n    }\n}\n</code></pre>\n<p>Then autowire this bean in ErrorHandler. <code>ExceptionHandlerExceptionResolver</code> worked for me without any additional configuration.</p>\n"},{"tags":[],"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643131807,"creation_date":1643030936,"answer_id":70834655,"question_id":70832498,"body_markdown":"As of Spring 5.3, `@ExceptionHandler` already looks into the `cause` exceptions when trying to find a match. So if you are on a recent Spring version, you can just remove your `@ExceptionHandler(WrapperException.class)` method, and it should just work as you expect.\r\n\r\nThe decision whether Spring matches the top-level (root) exception or the wrapped exception is a bit involved, and is fully explained in the manual: https://docs.spring.io/spring-framework/docs/5.3.15/reference/html/web.html#mvc-ann-exceptionhandler\r\n\r\nThe simplest way to get the right order working is to write the most unspecific exception handlers (i.e. for `Exception` and `RuntimeException` and similar) in their own `@ControllerAdvice` class and define a low precedence for this bean, e.g. with `@Order(Ordered.LOWEST_PRECEDENCE)`. The handlers for the specific wrapped exceptions should then be defined in one or multiple beans of higher precedence.\r\n\r\nSince this seems to have quite a high regression potential (e.g. by refactoring and shuffling things around), it is important to have some kind of test or tests for the correct precedence of exception handling.","title":"Spring Boot: RestControllerAdvice: handle wrapped exceptions","body":"<p>As of Spring 5.3, <code>@ExceptionHandler</code> already looks into the <code>cause</code> exceptions when trying to find a match. So if you are on a recent Spring version, you can just remove your <code>@ExceptionHandler(WrapperException.class)</code> method, and it should just work as you expect.</p>\n<p>The decision whether Spring matches the top-level (root) exception or the wrapped exception is a bit involved, and is fully explained in the manual: <a href=\"https://docs.spring.io/spring-framework/docs/5.3.15/reference/html/web.html#mvc-ann-exceptionhandler\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/5.3.15/reference/html/web.html#mvc-ann-exceptionhandler</a></p>\n<p>The simplest way to get the right order working is to write the most unspecific exception handlers (i.e. for <code>Exception</code> and <code>RuntimeException</code> and similar) in their own <code>@ControllerAdvice</code> class and define a low precedence for this bean, e.g. with <code>@Order(Ordered.LOWEST_PRECEDENCE)</code>. The handlers for the specific wrapped exceptions should then be defined in one or multiple beans of higher precedence.</p>\n<p>Since this seems to have quite a high regression potential (e.g. by refactoring and shuffling things around), it is important to have some kind of test or tests for the correct precedence of exception handling.</p>\n"}],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2831,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1643131807,"creation_date":1643020900,"question_id":70832498,"body_markdown":"Let&#39;s say we have `@RestControllerAdvice`-annotated class like this:\r\n\r\n    @RestControllerAdvice\r\n    public class RestResponseExceptionHandler {\r\n\r\n      @ExceptionHandler(MyBusinessException .class)\r\n      public ResponseEntity&lt;ErrorResponse&gt; handleMyBusinessException (MyBusinessException ex) {\r\n          return createResponseEntity(ex, ex.getErrorCode());\r\n      }\r\n\r\n      @ExceptionHandler({IllegalArgumentException.class, ValidationException.class, DataIntegrityViolationException.class})\r\n      public ResponseEntity&lt;ErrorResponse&gt; handleInvalidPropertyException(RuntimeException ex) {\r\n          return createResponseEntity(ex, ErrorCode.DATA_INVALID);\r\n      }\r\n   \r\n      [...]\r\n\r\n      @ExceptionHandler(RuntimeException.class)\r\n      public ResponseEntity&lt;ErrorResponse&gt; handleRuntimeException(RuntimeException ex) {\r\n            return createResponseEntity(ex, ErrorCode.UNKNOWN);\r\n      }\r\n\r\n      @ExceptionHandler(Exception.class)\r\n      public ResponseEntity&lt;ErrorResponse&gt; handleException(Exception ex) {\r\n          return createResponseEntity(ex, ErrorCode.UNKNOWN);\r\n      }\r\n\r\n      @ExceptionHandler(WrapperException .class)\r\n      public ResponseEntity&lt;ErrorResponse&gt; handleWrapperException (WrapperException ex) {\r\n          Exception exception = ex.getWrappedException();\r\n          // re-dispatch exception here\r\n      }\r\n    }\r\n\r\nFor a known `WrapperException`, is it possible to somehow re-dispatch the wrapped exception?\r\n\r\nI tried several things, e.g. rethrowing the wrapped excption or explicitly call a custom method of our ErrorController and re-throw the exception there, but so far no luck.","title":"Spring Boot: RestControllerAdvice: handle wrapped exceptions","body":"<p>Let's say we have <code>@RestControllerAdvice</code>-annotated class like this:</p>\n<pre><code>@RestControllerAdvice\npublic class RestResponseExceptionHandler {\n\n  @ExceptionHandler(MyBusinessException .class)\n  public ResponseEntity&lt;ErrorResponse&gt; handleMyBusinessException (MyBusinessException ex) {\n      return createResponseEntity(ex, ex.getErrorCode());\n  }\n\n  @ExceptionHandler({IllegalArgumentException.class, ValidationException.class, DataIntegrityViolationException.class})\n  public ResponseEntity&lt;ErrorResponse&gt; handleInvalidPropertyException(RuntimeException ex) {\n      return createResponseEntity(ex, ErrorCode.DATA_INVALID);\n  }\n\n  [...]\n\n  @ExceptionHandler(RuntimeException.class)\n  public ResponseEntity&lt;ErrorResponse&gt; handleRuntimeException(RuntimeException ex) {\n        return createResponseEntity(ex, ErrorCode.UNKNOWN);\n  }\n\n  @ExceptionHandler(Exception.class)\n  public ResponseEntity&lt;ErrorResponse&gt; handleException(Exception ex) {\n      return createResponseEntity(ex, ErrorCode.UNKNOWN);\n  }\n\n  @ExceptionHandler(WrapperException .class)\n  public ResponseEntity&lt;ErrorResponse&gt; handleWrapperException (WrapperException ex) {\n      Exception exception = ex.getWrappedException();\n      // re-dispatch exception here\n  }\n}\n</code></pre>\n<p>For a known <code>WrapperException</code>, is it possible to somehow re-dispatch the wrapped exception?</p>\n<p>I tried several things, e.g. rethrowing the wrapped excption or explicitly call a custom method of our ErrorController and re-throw the exception there, but so far no luck.</p>\n"},{"tags":["java","image-processing","colors","rgb","argb"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1643135051,"post_id":70853076,"comment_id":125257991,"body_markdown":"If the actual pixel happens to have an alpha of 255, then it makes no difference whether you pass true or false to the Color constructor.  (And I’m pretty sure a screen capture will never have transparency in any pixel.)  Of course, since [the documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Robot.html#createScreenCapture(java.awt.Rectangle)) doesn’t make any guarantees, it will never be safe to make any assumptions about the color model of the returned image.","body":"If the actual pixel happens to have an alpha of 255, then it makes no difference whether you pass true or false to the Color constructor.  (And I’m pretty sure a screen capture will never have transparency in any pixel.)  Of course, since <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Robot.html#createScreenCapture(java.awt.Rectangle)\" rel=\"nofollow noreferrer\">the documentation</a> doesn’t make any guarantees, it will never be safe to make any assumptions about the color model of the returned image."},{"owner":{"account_id":17209179,"reputation":143,"user_id":17313162,"display_name":"Some Guy"},"score":0,"creation_date":1643135247,"post_id":70853076,"comment_id":125258062,"body_markdown":"@VGR I tried .getAlphaRaster on the screen capture and got null, does that mean it has no alpha?","body":"@VGR I tried .getAlphaRaster on the screen capture and got null, does that mean it has no alpha?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643135351,"post_id":70853076,"comment_id":125258106,"body_markdown":"Again, [the documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/image/BufferedImage.html#getAlphaRaster()) has your answer.","body":"Again, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/image/BufferedImage.html#getAlphaRaster()\" rel=\"nofollow noreferrer\">the documentation</a> has your answer."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":2,"creation_date":1643190130,"post_id":70853076,"comment_id":125271390,"body_markdown":"Being a screen capture, most likely the pixel layout will vary, depending on your screen&#39;s configuration. You could check `BufferedImage.getType()` for the pixel layout. But it&#39;s probably safer and easier to just use `BufferedImage.getRGB(x, y)` which will always return a packed 32 bit ARGB representation in sRGB color space (same as `BufferedImage.TYPE_INT_ARGB`).","body":"Being a screen capture, most likely the pixel layout will vary, depending on your screen&#39;s configuration. You could check <code>BufferedImage.getType()</code> for the pixel layout. But it&#39;s probably safer and easier to just use <code>BufferedImage.getRGB(x, y)</code> which will always return a packed 32 bit ARGB representation in sRGB color space (same as <code>BufferedImage.TYPE_INT_ARGB</code>)."}],"owner":{"account_id":17209179,"reputation":143,"user_id":17313162,"display_name":"Some Guy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643131698,"creation_date":1643131698,"question_id":70853076,"body_markdown":"I am trying to get screen captures of my computer screen and then process the data. Since I am processing the data, I need to know what color scheme like ARGB or RGB or BGR is being used for the following BufferedImage used to store the screen capture.\r\n\r\n``\r\nBufferedImage img = robot.createScreenCapture(new Rectangle(0,0,Toolkit.getDefaultToolkit().getScreenSize().width,Toolkit.getDefaultToolkit().getScreenSize().height));\r\n``\r\n\r\nI wrote these lines of code to see if the color scheme used made a difference in the data received\r\n\r\n``````````````\r\nint[] pixels = ((DataBufferInt)img.getRaster().getDataBuffer()).getData();\r\nColor color = new Color(pixels[80000], true);\r\nSystem.out.println( &quot;ALPHA: &quot; + color.getAlpha());\r\nSystem.out.println( &quot;RED: &quot; + color.getRed());\r\nSystem.out.println( &quot;GREEN: &quot; + color.getGreen());\r\nSystem.out.println( &quot;BLUE: &quot; + color.getBlue());\r\n\t\t\r\ncolor = new Color(pixels[80000], false);\r\nSystem.out.println( &quot;ALPHA: &quot; + color.getAlpha());\r\nSystem.out.println( &quot;RED: &quot; + color.getRed());\r\nSystem.out.println( &quot;GREEN: &quot; + color.getGreen());\r\nSystem.out.println( &quot;BLUE: &quot; + color.getBlue());\r\n``````````````\r\n\r\nThe first color is created with an alpha value, but the second one drops it.\r\nAnd, this was the result\r\n\r\nALPHA: 255\r\n\r\nRED: 63\r\n\r\nGREEN: 72\r\n\r\nBLUE: 204\r\n\r\nALPHA: 255\r\n\r\nRED: 63\r\n\r\nGREEN: 72\r\n\r\nBLUE: 204\r\n\r\nSo, it appears that the two sets are identical despite using two different color schemes. Why is this? Do the screen captures not have a specific color scheme?","title":"What color encoding scheme is used for Java Robot&#39;s screen capture?","body":"<p>I am trying to get screen captures of my computer screen and then process the data. Since I am processing the data, I need to know what color scheme like ARGB or RGB or BGR is being used for the following BufferedImage used to store the screen capture.</p>\n<p><code>BufferedImage img = robot.createScreenCapture(new Rectangle(0,0,Toolkit.getDefaultToolkit().getScreenSize().width,Toolkit.getDefaultToolkit().getScreenSize().height));</code></p>\n<p>I wrote these lines of code to see if the color scheme used made a difference in the data received</p>\n<pre><code>int[] pixels = ((DataBufferInt)img.getRaster().getDataBuffer()).getData();\nColor color = new Color(pixels[80000], true);\nSystem.out.println( &quot;ALPHA: &quot; + color.getAlpha());\nSystem.out.println( &quot;RED: &quot; + color.getRed());\nSystem.out.println( &quot;GREEN: &quot; + color.getGreen());\nSystem.out.println( &quot;BLUE: &quot; + color.getBlue());\n        \ncolor = new Color(pixels[80000], false);\nSystem.out.println( &quot;ALPHA: &quot; + color.getAlpha());\nSystem.out.println( &quot;RED: &quot; + color.getRed());\nSystem.out.println( &quot;GREEN: &quot; + color.getGreen());\nSystem.out.println( &quot;BLUE: &quot; + color.getBlue());\n</code></pre>\n<p>The first color is created with an alpha value, but the second one drops it.\nAnd, this was the result</p>\n<p>ALPHA: 255</p>\n<p>RED: 63</p>\n<p>GREEN: 72</p>\n<p>BLUE: 204</p>\n<p>ALPHA: 255</p>\n<p>RED: 63</p>\n<p>GREEN: 72</p>\n<p>BLUE: 204</p>\n<p>So, it appears that the two sets are identical despite using two different color schemes. Why is this? Do the screen captures not have a specific color scheme?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2897949,"reputation":193,"user_id":2485358,"display_name":"Yodgorbek Komilov"},"score":0,"creation_date":1642956555,"post_id":70824329,"comment_id":125206164,"body_markdown":"you have to use put extra and getextra or if you want to pass object you have to parcelable or serialazable","body":"you have to use put extra and getextra or if you want to pass object you have to parcelable or serialazable"},{"owner":{"account_id":2897949,"reputation":193,"user_id":2485358,"display_name":"Yodgorbek Komilov"},"score":1,"creation_date":1642956602,"post_id":70824329,"comment_id":125206179,"body_markdown":"check following post https://stackoverflow.com/questions/3323074/android-difference-between-parcelable-and-serializable","body":"check following post <a href=\"https://stackoverflow.com/questions/3323074/android-difference-between-parcelable-and-serializable\" title=\"android difference between parcelable and serializable\">stackoverflow.com/questions/3323074/&hellip;</a>"},{"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"score":0,"creation_date":1642957373,"post_id":70824329,"comment_id":125206364,"body_markdown":"it is better to use the livedata to save the object, when you use put extra, it is small or simple variable,","body":"it is better to use the livedata to save the object, when you use put extra, it is small or simple variable,"}],"answers":[{"tags":[],"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642957608,"creation_date":1642957608,"answer_id":70824528,"question_id":70824329,"body_markdown":"It is better to use live data to save the object. It is easy to configurate in the project.\r\n\r\nThe android&#39;s page is https://developer.android.com/topic/libraries/architecture/livedata?hl=es-419\r\n\r\n&gt; The first you need to use the next library\r\n\r\n    // Live data\r\n    implementation &quot;androidx.annotation:annotation:$versions.annotation&quot;\r\n    api &quot;androidx.lifecycle:lifecycle-extensions:$versions.archComponents&quot;\r\n\r\n       annotation      : &#39;1.0.0&#39;,\r\n       archComponents  : &#39;2.0.0&#39;,\r\n\r\nIf you don&#39;t want to use livedata, you could use The gson library to convert object to string. After you need to convert the string to class ","title":"How to pass user made variable from one activity to another?","body":"<p>It is better to use live data to save the object. It is easy to configurate in the project.</p>\n<p>The android's page is <a href=\"https://developer.android.com/topic/libraries/architecture/livedata?hl=es-419\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/livedata?hl=es-419</a></p>\n<blockquote>\n<p>The first you need to use the next library</p>\n</blockquote>\n<pre><code>// Live data\nimplementation &quot;androidx.annotation:annotation:$versions.annotation&quot;\napi &quot;androidx.lifecycle:lifecycle-extensions:$versions.archComponents&quot;\n\n   annotation      : '1.0.0',\n   archComponents  : '2.0.0',\n</code></pre>\n<p>If you don't want to use livedata, you could use The gson library to convert object to string. After you need to convert the string to class</p>\n"},{"tags":[],"owner":{"account_id":9777748,"reputation":1119,"user_id":7247051,"accept_rate":100,"display_name":"Ihdina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642960423,"creation_date":1642959435,"answer_id":70824807,"question_id":70824329,"body_markdown":"Easy use [EventBus][1].\r\n\r\n# Add EventBus to your project\r\n\r\n    implementation(&quot;org.greenrobot:eventbus:3.3.1&quot;)\r\n\r\n# Create a class to store the data you want to send\r\n\r\n\tpublic class User {\r\n\t\tprivate String theBank;\r\n\t\tprivate int userId;\r\n\t\tprivate String password;\r\n\t\tprivate String bankView;\r\n\t\tprivate String errorLogin;\r\n\r\n\t\tpublic User(String theBank, int userId, String password, String bankView, String errorLogin) {\r\n\t\t\tthis.theBank = theBank;\r\n\t\t\tthis.userId = userId;\r\n\t\t\tthis.password = password;\r\n\t\t\tthis.bankView = bankView;\r\n\t\t\tthis.errorLogin = errorLogin;\r\n\t\t}\r\n\r\n\t\tpublic String getTheBank() {\r\n\t\t\treturn theBank;\r\n\t\t}\r\n\r\n\t\tpublic void setTheBank(String theBank) {\r\n\t\t\tthis.theBank = theBank;\r\n\t\t}\r\n\r\n\t\tpublic int getUserId() {\r\n\t\t\treturn userId;\r\n\t\t}\r\n\r\n\t\tpublic void setUserId(int userId) {\r\n\t\t\tthis.userId = userId;\r\n\t\t}\r\n\r\n\t\tpublic String getPassword() {\r\n\t\t\treturn password;\r\n\t\t}\r\n\r\n\t\tpublic void setPassword(String password) {\r\n\t\t\tthis.password = password;\r\n\t\t}\r\n\r\n\t\tpublic String getBankView() {\r\n\t\t\treturn bankView;\r\n\t\t}\r\n\r\n\t\tpublic void setBankView(String bankView) {\r\n\t\t\tthis.bankView = bankView;\r\n\t\t}\r\n\r\n\t\tpublic String getErrorLogin() {\r\n\t\t\treturn errorLogin;\r\n\t\t}\r\n\r\n\t\tpublic void setErrorLogin(String errorLogin) {\r\n\t\t\tthis.errorLogin = errorLogin;\r\n\t\t}\r\n\t}\r\n\r\n# In the activity/fragment that received the data\r\n\r\nRegister and unregister your subscriber\r\n\r\n\t@Override\r\n\tpublic void onStart() {\r\n\t\tsuper.onStart();\r\n\t\tEventBus.getDefault().register(this);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onStop() {\r\n\t\tsuper.onStop();\r\n\t\tEventBus.getDefault().unregister(this);\r\n\t}\r\n\r\nMessage will be received in here\r\n\r\n    private User _user;\r\n\r\n\t@Subscribe(threadMode = ThreadMode.MAIN)  \r\n\tpublic void onMessageEvent(User user) {\r\n        Log.d(&quot;theBank&quot;, user.getTheBank());\r\n        Log.d(&quot;userId&quot;, user.getUserId());\r\n        Log.d(&quot;password&quot;, user.getPassword());\r\n        Log.d(&quot;bankView&quot;, user.getBankView());\r\n        Log.d(&quot;errorLogin&quot;, user.getErrorLogin());\r\n\r\n        // save user in member variable (_user), \r\n        //   so you can access _user from other place in this activity or fragment\r\n        _user  = user;\r\n\t}\r\n\r\n# In the activity/fragment that sends the data\r\n\r\n    User user = new User();\r\n    user.setTheBank = &quot;my bank&quot;;\r\n    user.setUserId = 1;\r\n    user.setPassword = &quot;my password&quot;;\r\n    user.setBankView = &quot;my bank view&quot;;\r\n    user.setErrorLogin = &quot;my error login&quot;;\r\n\r\n    EventBus.getDefault().post(user);\r\n\r\n\r\n  [1]: https://github.com/greenrobot/EventBus","title":"How to pass user made variable from one activity to another?","body":"<p>Easy use <a href=\"https://github.com/greenrobot/EventBus\" rel=\"nofollow noreferrer\">EventBus</a>.</p>\n<h1>Add EventBus to your project</h1>\n<pre><code>implementation(&quot;org.greenrobot:eventbus:3.3.1&quot;)\n</code></pre>\n<h1>Create a class to store the data you want to send</h1>\n<pre><code>public class User {\n    private String theBank;\n    private int userId;\n    private String password;\n    private String bankView;\n    private String errorLogin;\n\n    public User(String theBank, int userId, String password, String bankView, String errorLogin) {\n        this.theBank = theBank;\n        this.userId = userId;\n        this.password = password;\n        this.bankView = bankView;\n        this.errorLogin = errorLogin;\n    }\n\n    public String getTheBank() {\n        return theBank;\n    }\n\n    public void setTheBank(String theBank) {\n        this.theBank = theBank;\n    }\n\n    public int getUserId() {\n        return userId;\n    }\n\n    public void setUserId(int userId) {\n        this.userId = userId;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getBankView() {\n        return bankView;\n    }\n\n    public void setBankView(String bankView) {\n        this.bankView = bankView;\n    }\n\n    public String getErrorLogin() {\n        return errorLogin;\n    }\n\n    public void setErrorLogin(String errorLogin) {\n        this.errorLogin = errorLogin;\n    }\n}\n</code></pre>\n<h1>In the activity/fragment that received the data</h1>\n<p>Register and unregister your subscriber</p>\n<pre><code>@Override\npublic void onStart() {\n    super.onStart();\n    EventBus.getDefault().register(this);\n}\n\n@Override\npublic void onStop() {\n    super.onStop();\n    EventBus.getDefault().unregister(this);\n}\n</code></pre>\n<p>Message will be received in here</p>\n<pre><code>private User _user;\n\n@Subscribe(threadMode = ThreadMode.MAIN)  \npublic void onMessageEvent(User user) {\n    Log.d(&quot;theBank&quot;, user.getTheBank());\n    Log.d(&quot;userId&quot;, user.getUserId());\n    Log.d(&quot;password&quot;, user.getPassword());\n    Log.d(&quot;bankView&quot;, user.getBankView());\n    Log.d(&quot;errorLogin&quot;, user.getErrorLogin());\n\n    // save user in member variable (_user), \n    //   so you can access _user from other place in this activity or fragment\n    _user  = user;\n}\n</code></pre>\n<h1>In the activity/fragment that sends the data</h1>\n<pre><code>User user = new User();\nuser.setTheBank = &quot;my bank&quot;;\nuser.setUserId = 1;\nuser.setPassword = &quot;my password&quot;;\nuser.setBankView = &quot;my bank view&quot;;\nuser.setErrorLogin = &quot;my error login&quot;;\n\nEventBus.getDefault().post(user);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12546089,"reputation":327,"user_id":9129342,"display_name":"paul035"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643131513,"creation_date":1642959436,"answer_id":70824808,"question_id":70824329,"body_markdown":"If we want to pass an object between activities we use **Parcelable or Serialazable**. Generally, we use Parcelabel as it is faster than Serialazable. In order to use it in your case the User class must implement Parcelable interface and provide the implementation of methods and then we create Parcelable constructor and send data as we used to send with **intent.putExtra()** method and in the other activity we receive data using **getIntent().getParcelableExtra()** method.&lt;br&gt;\r\n**User.class**\r\n\r\n    public class User implements Parcelable {\r\n    private String theBank;\r\n    private int userId;\r\n    private String password;\r\n    private String bankView;\r\n    private String errorLogin;\r\n\r\n    public User(String theBank, int userId, String password, String bankView, String errorLogin) {\r\n        this.theBank = theBank;\r\n        this.userId = userId;\r\n        this.password = password;\r\n        this.bankView = bankView;\r\n        this.errorLogin = errorLogin;\r\n    }\r\n\r\n    public String getTheBank() {\r\n        return theBank;\r\n    }\r\n\r\n    public void setTheBank(String theBank) {\r\n        this.theBank = theBank;\r\n    }\r\n\r\n    public int getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(int userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getBankView() {\r\n        return bankView;\r\n    }\r\n\r\n    public void setBankView(String bankView) {\r\n        this.bankView = bankView;\r\n    }\r\n\r\n    public String getErrorLogin() {\r\n        return errorLogin;\r\n    }\r\n\r\n    public void setErrorLogin(String errorLogin) {\r\n        this.errorLogin = errorLogin;\r\n    }\r\n\r\n    protected User(Parcel in) {\r\n        theBank = in.readString();\r\n        userId = in.readInt();\r\n        password = in.readString();\r\n        errorLogin = in.readString();\r\n    }\r\n\r\n    public static final Creator&lt;User&gt; CREATOR = new Creator&lt;User&gt;() {\r\n        @Override\r\n        public User createFromParcel(Parcel in) {\r\n            return new User(in);\r\n        }\r\n\r\n        @Override\r\n        public User[] newArray(int size) {\r\n            return new User[size];\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public int describeContents() {\r\n        return 0;\r\n    }\r\n    @Override\r\n    public void writeToParcel(Parcel parcel, int i) {\r\n        parcel.writeString(theBank);\r\n        parcel.writeInt(userId);\r\n        parcel.writeString(password);\r\n        parcel.writeString(errorLogin);\r\n        }\r\n    }\r\n**MainActivity.java**&lt;br&gt;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // User class initialization\r\n        User userObj = new User(&quot;SBI&quot;, 001, &quot;stackOverFlow&quot;, &quot;OpenBank&quot;, &quot;Sorry!!&quot;);\r\n\r\n        // Passing data with key-name as user\r\n        Intent intent = new Intent(this, MainActivity2.class);\r\n        intent.putExtra(&quot;user&quot;, userObj);\r\n        startActivity(intent);\r\n\r\n        }\r\n    }\r\n\r\n**MainActivity2.java**\r\n\r\n    public class MainActivity2 extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n\r\n        // Receiving the user objet using getIntent().getParcelableExtra() method\r\n        User user = getIntent().getParcelableExtra(&quot;user&quot;);\r\n        String bank = user.getTheBank();\r\n        int id = user.getUserId();\r\n        String password = user.getPassword();\r\n        String bankView = user.getBankView();\r\n        String error = user.getErrorLogin();\r\n\r\n        Toast.makeText(this, bank + id + password + bankView + error, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n","title":"How to pass user made variable from one activity to another?","body":"<p>If we want to pass an object between activities we use <strong>Parcelable or Serialazable</strong>. Generally, we use Parcelabel as it is faster than Serialazable. In order to use it in your case the User class must implement Parcelable interface and provide the implementation of methods and then we create Parcelable constructor and send data as we used to send with <strong>intent.putExtra()</strong> method and in the other activity we receive data using <strong>getIntent().getParcelableExtra()</strong> method.<br>\n<strong>User.class</strong></p>\n<pre><code>public class User implements Parcelable {\nprivate String theBank;\nprivate int userId;\nprivate String password;\nprivate String bankView;\nprivate String errorLogin;\n\npublic User(String theBank, int userId, String password, String bankView, String errorLogin) {\n    this.theBank = theBank;\n    this.userId = userId;\n    this.password = password;\n    this.bankView = bankView;\n    this.errorLogin = errorLogin;\n}\n\npublic String getTheBank() {\n    return theBank;\n}\n\npublic void setTheBank(String theBank) {\n    this.theBank = theBank;\n}\n\npublic int getUserId() {\n    return userId;\n}\n\npublic void setUserId(int userId) {\n    this.userId = userId;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\npublic String getBankView() {\n    return bankView;\n}\n\npublic void setBankView(String bankView) {\n    this.bankView = bankView;\n}\n\npublic String getErrorLogin() {\n    return errorLogin;\n}\n\npublic void setErrorLogin(String errorLogin) {\n    this.errorLogin = errorLogin;\n}\n\nprotected User(Parcel in) {\n    theBank = in.readString();\n    userId = in.readInt();\n    password = in.readString();\n    errorLogin = in.readString();\n}\n\npublic static final Creator&lt;User&gt; CREATOR = new Creator&lt;User&gt;() {\n    @Override\n    public User createFromParcel(Parcel in) {\n        return new User(in);\n    }\n\n    @Override\n    public User[] newArray(int size) {\n        return new User[size];\n    }\n};\n\n@Override\npublic int describeContents() {\n    return 0;\n}\n@Override\npublic void writeToParcel(Parcel parcel, int i) {\n    parcel.writeString(theBank);\n    parcel.writeInt(userId);\n    parcel.writeString(password);\n    parcel.writeString(errorLogin);\n    }\n}\n</code></pre>\n<p><strong>MainActivity.java</strong><br></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    // User class initialization\n    User userObj = new User(&quot;SBI&quot;, 001, &quot;stackOverFlow&quot;, &quot;OpenBank&quot;, &quot;Sorry!!&quot;);\n\n    // Passing data with key-name as user\n    Intent intent = new Intent(this, MainActivity2.class);\n    intent.putExtra(&quot;user&quot;, userObj);\n    startActivity(intent);\n\n    }\n}\n</code></pre>\n<p><strong>MainActivity2.java</strong></p>\n<pre><code>public class MainActivity2 extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main2);\n\n    // Receiving the user objet using getIntent().getParcelableExtra() method\n    User user = getIntent().getParcelableExtra(&quot;user&quot;);\n    String bank = user.getTheBank();\n    int id = user.getUserId();\n    String password = user.getPassword();\n    String bankView = user.getBankView();\n    String error = user.getErrorLogin();\n\n    Toast.makeText(this, bank + id + password + bankView + error, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21651373,"reputation":19,"user_id":15971958,"display_name":"Zjeref"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70824808,"answer_count":3,"score":1,"last_activity_date":1643131513,"creation_date":1642956424,"question_id":70824329,"body_markdown":"            loginButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                User currUser ;\r\n                currUser = MainActivity.mainMenuPrompt(theBank, UserID, password, bankView, errorLogin);\r\n\r\n                Intent intent = new Intent(MainActivity.this, MainActivity2.class);\r\n\r\n                intent.putExtra(&quot;USER&quot;, currUser);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\nI can&#39;t pass my &quot;currUser&quot; variable with intent. Is there any other way to do it?","title":"How to pass user made variable from one activity to another?","body":"<pre><code>        loginButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            User currUser ;\n            currUser = MainActivity.mainMenuPrompt(theBank, UserID, password, bankView, errorLogin);\n\n            Intent intent = new Intent(MainActivity.this, MainActivity2.class);\n\n            intent.putExtra(&quot;USER&quot;, currUser);\n            startActivity(intent);\n        }\n    });\n</code></pre>\n<p>I can't pass my &quot;currUser&quot; variable with intent. Is there any other way to do it?</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":38160,"reputation":54658,"user_id":109360,"accept_rate":98,"display_name":"dcp"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1262737622,"creation_date":1262737622,"answer_id":2010180,"question_id":2010166,"body_markdown":"Here you go:\r\n\r\n          &lt;property name = &quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.SQLServerDialect&quot;/&gt;\r\n          &lt;property name = &quot;hibernate.connection.driver_class&quot; value = &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\r\n          &lt;property name = &quot;hibernate.connection.url&quot; value = &quot;jdbc:sqlserver://localhost;databaseName=cust;instanceName=SQLEXPRESS;&quot;/&gt;\r\n          &lt;property name = &quot;hibernate.connection.username&quot; value = &quot;sa&quot;/&gt;\r\n          &lt;property name = &quot;hibernate.connection.password&quot; value = &quot;&quot;/&gt;\r\n          &lt;property name = &quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n\r\n","title":"connection url for sql server","body":"<p>Here you go:</p>\n\n<pre><code>      &lt;property name = \"hibernate.dialect\" value=\"org.hibernate.dialect.SQLServerDialect\"/&gt;\n      &lt;property name = \"hibernate.connection.driver_class\" value = \"com.microsoft.sqlserver.jdbc.SQLServerDriver\"/&gt;\n      &lt;property name = \"hibernate.connection.url\" value = \"jdbc:sqlserver://localhost;databaseName=cust;instanceName=SQLEXPRESS;\"/&gt;\n      &lt;property name = \"hibernate.connection.username\" value = \"sa\"/&gt;\n      &lt;property name = \"hibernate.connection.password\" value = \"\"/&gt;\n      &lt;property name = \"hibernate.show_sql\" value=\"true\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13277,"reputation":4383,"user_id":26552,"accept_rate":82,"display_name":"Ed Altorfer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1262737788,"creation_date":1262737788,"answer_id":2010198,"question_id":2010166,"body_markdown":"Connection strings are database dependent. You should take a look at a good [reference web site][1].\r\n\r\nIf you&#39;re trying to connect to SQL Server from a Java application, try this:\r\n\r\n    jdbc:microsoft:sqlserver://&lt;HOST&gt;:&lt;PORT&gt;[;DatabaseName=&lt;DB&gt;]\r\n    com.microsoft.jdbc.sqlserver.SQLServerDriver\r\n\r\n  [1]: http://www.java2s.com/Tutorial/Java/0340__Database/AListofJDBCDriversconnectionstringdrivername.htm\r\n\r\n","title":"connection url for sql server","body":"<p>Connection strings are database dependent. You should take a look at a good <a href=\"http://www.java2s.com/Tutorial/Java/0340__Database/AListofJDBCDriversconnectionstringdrivername.htm\" rel=\"nofollow noreferrer\">reference web site</a>.</p>\n\n<p>If you're trying to connect to SQL Server from a Java application, try this:</p>\n\n<pre><code>jdbc:microsoft:sqlserver://&lt;HOST&gt;:&lt;PORT&gt;[;DatabaseName=&lt;DB&gt;]\ncom.microsoft.jdbc.sqlserver.SQLServerDriver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2783084,"reputation":341,"user_id":2395187,"display_name":"TechSingh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501093668,"creation_date":1501093668,"answer_id":45334810,"question_id":2010166,"body_markdown":"Complete hibernate cfg property (MS SQL server) is as follows:\r\n&lt;hibernate-configuration&gt;\r\n\r\n  &lt;session-factory&gt;\r\n    &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:sqlserver://localhost:1433;databaseName=jbpm_shared_services&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.default_schema&quot;&gt;dbo&lt;/property&gt;\r\n    \r\n    &lt;property name=&quot;hibernate.connection.username&quot;&gt;demoid&lt;/property&gt;\r\n\t&lt;property name=&quot;hibernate.connection.password&quot;&gt;March2017&lt;/property&gt;\r\n\t\r\n\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n\t\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServer2008Dialect&lt;/property&gt;\r\n\r\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    \r\n    &lt;mapping class=&quot;com.knook.model.DocumentConfig&quot;/&gt;\r\n    &lt;mapping class=&quot;com.knook.model.DocumentDetail&quot;/&gt;\r\n  &lt;/session-factory&gt;\r\n\r\n&lt;/hibernate-configuration&gt;\r\n\r\nIf the database is someother, then you can change the hibernate.dialect, hibernate.connection.url and hibernate.connection.driver_class\r\n\r\nvalues for hibernate.hbm2ddl.auto can be auto, create, update, none","title":"connection url for sql server","body":"<p>Complete hibernate cfg property (MS SQL server) is as follows:\n</p>\n\n<p>\n    com.microsoft.sqlserver.jdbc.SQLServerDriver\n    jdbc:sqlserver://localhost:1433;databaseName=jbpm_shared_services\n    dbo</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.username\"&gt;demoid&lt;/property&gt;\n&lt;property name=\"hibernate.connection.password\"&gt;March2017&lt;/property&gt;\n\n&lt;property name=\"hibernate.hbm2ddl.auto\"&gt;create&lt;/property&gt;\n\n&lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.SQLServer2008Dialect&lt;/property&gt;\n\n&lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n\n&lt;mapping class=\"com.knook.model.DocumentConfig\"/&gt;\n&lt;mapping class=\"com.knook.model.DocumentDetail\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p></p>\n\n<p>If the database is someother, then you can change the hibernate.dialect, hibernate.connection.url and hibernate.connection.driver_class</p>\n\n<p>values for hibernate.hbm2ddl.auto can be auto, create, update, none</p>\n"},{"tags":[],"owner":{"account_id":16874972,"reputation":29,"user_id":12202615,"display_name":"sam7kand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643130673,"creation_date":1643130673,"answer_id":70852845,"question_id":2010166,"body_markdown":"**This configuration worked for me: *hibernate.cfg.xml***\r\n\r\n \r\n\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n            &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n            &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    \r\n    &lt;hibernate-configuration&gt;\r\n    \r\n    \t&lt;session-factory&gt;\r\n    \r\n    \t\t&lt;!-- JDBC Database connection settings --&gt;\r\n    \t\t&lt;property name=&quot;connection.driver_class&quot;&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlserver://localhost:1433;databaseName=YOUR_DATA_BASENAME&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.username&quot;&gt;YOUR_USER_NAME&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.password&quot;&gt;YOUR_PASSWORD&lt;/property&gt;\r\n    \r\n    \t\t&lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\r\n    \t\t&lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n    \r\n    \t\t&lt;!-- Select our SQL dialect --&gt;\r\n    \t\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/property&gt;\r\n    \r\n    \t\t&lt;!-- Echo the SQL to stdout --&gt;\r\n    \t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    \r\n    \t\t&lt;!-- Set the current session context --&gt;\r\n    \t\t&lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n    \r\n    \t&lt;/session-factory&gt;\r\n    \r\n    &lt;/hibernate-configuration&gt;\r\n\r\n \r\n\r\n\r\n**Maven *pom.xml***\r\n\r\n \r\n\r\n    &lt;!-- Hibernate 5.6.3--&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.6.3.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Hibernate Validator --&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.2.0.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- SQL SERVER --&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;9.4.1.jre8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n","title":"connection url for sql server","body":"<p><strong>This configuration worked for me: <em>hibernate.cfg.xml</em></strong></p>\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n\n&lt;hibernate-configuration&gt;\n\n    &lt;session-factory&gt;\n\n        &lt;!-- JDBC Database connection settings --&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlserver://localhost:1433;databaseName=YOUR_DATA_BASENAME&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;YOUR_USER_NAME&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;YOUR_PASSWORD&lt;/property&gt;\n\n        &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\n        &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\n\n        &lt;!-- Select our SQL dialect --&gt;\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/property&gt;\n\n        &lt;!-- Echo the SQL to stdout --&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n\n        &lt;!-- Set the current session context --&gt;\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n\n    &lt;/session-factory&gt;\n\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p><strong>Maven <em>pom.xml</em></strong></p>\n<pre><code>&lt;!-- Hibernate 5.6.3--&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Hibernate Validator --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.2.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- SQL SERVER --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;9.4.1.jre8&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":26268,"reputation":100567,"user_id":68183,"accept_rate":54,"display_name":"mrblah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49377,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":2010180,"answer_count":4,"score":8,"last_activity_date":1643130673,"creation_date":1262737430,"question_id":2010166,"body_markdown":"I downloaded microsfot&#39;s jdbc driver, and I am not sure what the connection.url should be?\r\n\r\n\r\n     &lt;property name=&quot;connection.driver_class&quot;&gt;org.microsoft.sqlserver.jdbc&lt;/property&gt;\r\n     &lt;property name=&quot;connection.url&quot;&gt;jdbc:&lt;/property&gt;\r\n    \r\n      ..\r\n      &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/property&gt;\r\n\r\n\r\ni configured sqlexpress to work via tcpip and a static port already.","title":"connection url for sql server","body":"<p>I downloaded microsfot's jdbc driver, and I am not sure what the connection.url should be?</p>\n\n<pre><code> &lt;property name=\"connection.driver_class\"&gt;org.microsoft.sqlserver.jdbc&lt;/property&gt;\n &lt;property name=\"connection.url\"&gt;jdbc:&lt;/property&gt;\n\n  ..\n  &lt;property name=\"dialect\"&gt;org.hibernate.dialect.SQLServerDialect&lt;/property&gt;\n</code></pre>\n\n<p>i configured sqlexpress to work via tcpip and a static port already.</p>\n"},{"tags":["java","skija"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1643125855,"post_id":70851158,"comment_id":125253962,"body_markdown":"Maybe: https://stackoverflow.com/a/67873109/131872 which shows how to use a Skija Image with JavaFX which would suggest to me it should also work with AWT Image?","body":"Maybe: <a href=\"https://stackoverflow.com/a/67873109/131872\">stackoverflow.com/a/67873109/131872</a> which shows how to use a Skija Image with JavaFX which would suggest to me it should also work with AWT Image?"},{"owner":{"account_id":241177,"reputation":10288,"user_id":511837,"accept_rate":78,"display_name":"igr"},"score":1,"creation_date":1643285463,"post_id":70851158,"comment_id":125301756,"body_markdown":"@camickr i would like to avoid additional dependency. fortunately, there is a way :)","body":"@camickr i would like to avoid additional dependency. fortunately, there is a way :)"}],"answers":[{"tags":[],"owner":{"account_id":241177,"reputation":10288,"user_id":511837,"accept_rate":78,"display_name":"igr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643130596,"creation_date":1643130596,"answer_id":70852824,"question_id":70851158,"body_markdown":"This little snipped worked for me!\r\n\r\n```kt\r\nfun Image.toBufferedImage(): BufferedImage {\r\n\tval storage = Bitmap()\r\n\tstorage.allocPixelsFlags(ImageInfo.makeS32(this.width, this.height, ColorAlphaType.PREMUL), false)\r\n\tCanvas(storage).drawImage(this, 0f, 0f)\r\n\r\n\tval bytes = storage.readPixels(storage.imageInfo, (this.width * 4L), 0, 0)!!\r\n\tval buffer = DataBufferByte(bytes, bytes.size)\r\n\tval raster = Raster.createInterleavedRaster(\r\n\t\tbuffer,\r\n\t\tthis.width,\r\n\t\tthis.height,\r\n\t\tthis.width * 4, 4,\r\n\t\tintArrayOf(2, 1, 0, 3),     // BGRA order\r\n\t\tnull\r\n\t)\r\n\tval colorModel = ComponentColorModel(\r\n\t\tColorSpace.getInstance(ColorSpace.CS_sRGB),\r\n\t\ttrue,\r\n\t\tfalse,\r\n\t\tTransparency.TRANSLUCENT,\r\n\t\tDataBuffer.TYPE_BYTE\r\n\t)\r\n\r\n\treturn BufferedImage(colorModel, raster!!, false, null)\r\n}\r\n```","title":"Convert Skija Image to BufferedImage?","body":"<p>This little snipped worked for me!</p>\n<pre><code>fun Image.toBufferedImage(): BufferedImage {\n    val storage = Bitmap()\n    storage.allocPixelsFlags(ImageInfo.makeS32(this.width, this.height, ColorAlphaType.PREMUL), false)\n    Canvas(storage).drawImage(this, 0f, 0f)\n\n    val bytes = storage.readPixels(storage.imageInfo, (this.width * 4L), 0, 0)!!\n    val buffer = DataBufferByte(bytes, bytes.size)\n    val raster = Raster.createInterleavedRaster(\n        buffer,\n        this.width,\n        this.height,\n        this.width * 4, 4,\n        intArrayOf(2, 1, 0, 3),     // BGRA order\n        null\n    )\n    val colorModel = ComponentColorModel(\n        ColorSpace.getInstance(ColorSpace.CS_sRGB),\n        true,\n        false,\n        Transparency.TRANSLUCENT,\n        DataBuffer.TYPE_BYTE\n    )\n\n    return BufferedImage(colorModel, raster!!, false, null)\n}\n</code></pre>\n"}],"owner":{"account_id":241177,"reputation":10288,"user_id":511837,"accept_rate":78,"display_name":"igr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70852824,"answer_count":1,"score":1,"last_activity_date":1643130596,"creation_date":1643123823,"question_id":70851158,"body_markdown":"How to convert Skija `Image` to `BufferedImage`?\r\n\r\nSkija `Image` can get me a list of bytes encoded in some format, but that&#39;s not what I need.","title":"Convert Skija Image to BufferedImage?","body":"<p>How to convert Skija <code>Image</code> to <code>BufferedImage</code>?</p>\n<p>Skija <code>Image</code> can get me a list of bytes encoded in some format, but that's not what I need.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"score":0,"creation_date":1643130093,"post_id":70851862,"comment_id":125255965,"body_markdown":"have you added android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; to your service present in manifest.xml?","body":"have you added android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; to your service present in manifest.xml?"},{"owner":{"account_id":24051001,"reputation":11,"user_id":18029499,"display_name":"Dest420"},"score":0,"creation_date":1643138831,"post_id":70851862,"comment_id":125259430,"body_markdown":"I did add that, that service worked fine before i added location tracking code","body":"I did add that, that service worked fine before i added location tracking code"},{"owner":{"account_id":2558875,"reputation":1292,"user_id":2220318,"accept_rate":83,"display_name":"Rahul Shukla"},"score":0,"creation_date":1643192988,"post_id":70851862,"comment_id":125272622,"body_markdown":"You are not paying attention to the exception. You are trying to cast your service class into executor, which it is not and hence the exception. Look at the exception: loc.getLastLocation().addOnSuccessListener((Executor) this,...\nCorrect this statement and the crash will go away.","body":"You are not paying attention to the exception. You are trying to cast your service class into executor, which it is not and hence the exception. Look at the exception: loc.getLastLocation().addOnSuccessListener((Executor) this,... Correct this statement and the crash will go away."}],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643130273,"creation_date":1643130273,"answer_id":70852767,"question_id":70851862,"body_markdown":"Add the permission `android.permission.BIND_JOB_SERVICE` in the Manifest and add `android:exported=&quot;...&quot;`\r\n\r\n```\r\n &lt;service android:name=&quot;com.narendra.example.MyService&quot;\r\n        android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot;\r\n        android:exported=&quot;true&quot;/&gt;\r\n```","title":"Android Studio, Java. JobIntentService stops after i try to use method for getting device location","body":"<p>Add the permission <code>android.permission.BIND_JOB_SERVICE</code> in the Manifest and add <code>android:exported=&quot;...&quot;</code></p>\n<pre><code> &lt;service android:name=&quot;com.narendra.example.MyService&quot;\n        android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot;\n        android:exported=&quot;true&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":24051001,"reputation":11,"user_id":18029499,"display_name":"Dest420"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643130309,"creation_date":1643126692,"question_id":70851862,"body_markdown":"Okay, so I&#39;m trying to make a service that records sound amplitude, time, date and device location every 5 seconds. It records sound, time and date perfectly but the service seems to crash after I use updateGPS() method that you will see in the code (service stops, but app doesn&#39;t crash). As somebody who doesnt have much experience in coding, I would appreciate any help on how to fix this.\r\n\r\nThis is the code for service:\r\n```\r\npublic class MyService extends JobIntentService {\r\n\r\n    static void enqueueWork(Context context, Intent work) {\r\n        enqueueWork(context, MyService.class, 123, work);\r\n    }\r\n    FusedLocationProviderClient loc;\r\n    MainActivity ma;\r\n    public double lat;\r\n    public double lon;\r\n    public int x = 5;\r\n    private String date;\r\n    private String time;\r\n    private MediaRecorder rec;\r\n\r\n\r\n    private String recFile() {\r\n        ContextWrapper cw = new ContextWrapper(getApplicationContext());\r\n        File soundDir = cw.getExternalFilesDir(Environment.DIRECTORY_MUSIC);\r\n        File file = new File(soundDir, &quot;recFile&quot; + &quot;.mp3&quot;);\r\n        return file.getPath();\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onHandleWork(@NonNull Intent intent) {\r\n        String input = intent.getStringExtra(&quot;inputExtra&quot;);\r\n        try {\r\n            rec = new MediaRecorder();\r\n            rec.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n            rec.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\r\n            rec.setOutputFile(recFile());\r\n            rec.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\r\n            rec.prepare();\r\n            rec.start();\r\n            rec.getMaxAmplitude();\r\n            while (MainActivity.b == true) {\r\n                for (int i = 0; i &lt; x; i++) {\r\n                    if (isStopped()) return;\r\n                    SystemClock.sleep(1000);\r\n                }\r\n                updateGPS();\r\n                date = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;, Locale.getDefault()).format(new Date());\r\n                time = new SimpleDateFormat(&quot;HH:mm:ss&quot;, Locale.getDefault()).format(new Date());\r\n                int test = rec.getMaxAmplitude();\r\n                Log.i(&quot;tag&quot;, &quot;jacina: &quot; + test);\r\n                Log.i(&quot;t&quot;, &quot;datum: &quot; + date);\r\n                Log.i(&quot;t1&quot;, &quot;vreme: &quot; + time);\r\n                Log.i(&quot;t2&quot;, &quot;latitude: &quot; + lat);\r\n                Log.i(&quot;t3&quot;, &quot;longitude: &quot; + lon);\r\n\r\n            }\r\n            rec.stop();\r\n            rec.release();\r\n            rec = null;\r\n            deleteFile(recFile());\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Override\r\n    public boolean onStopCurrentWork() {\r\n        return super.onStopCurrentWork();\r\n    }\r\n\r\n    private void updateValues(Location location) {\r\n        lat = location.getLatitude();\r\n        lon = location.getLongitude();\r\n    }\r\n\r\n    private void updateGPS() {\r\n        loc = LocationServices.getFusedLocationProviderClient(MyService.this);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }else{\r\n            if(ma != null){\r\n                ma.runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        Toast.makeText(MyService.this, &quot;location not available&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        loc.getLastLocation().addOnSuccessListener((Executor) this, new OnSuccessListener&lt;Location&gt;() {\r\n            @Override\r\n            public void onSuccess(Location location) {\r\n                updateValues(location);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n```\r\nThis is only part of code that I think needs to be changed:\r\n```\r\nloc.getLastLocation().addOnSuccessListener((Executor) this, new OnSuccessListener&lt;Location&gt;() {\r\n            @Override\r\n            public void onSuccess(Location location) {\r\n                updateValues(location);\r\n            }\r\n        });\r\n```\r\nAnd this is logcat message:\r\n```\r\n2022-01-25 16:43:14.304 29189-29595/com.example.projekat W/System.err: java.lang.ClassCastException: com.example.projekat.MyService cannot be cast to java.util.concurrent.Executor\r\n2022-01-25 16:43:14.306 29189-29595/com.example.projekat W/System.err:     at com.example.projekat.MyService.updateGPS(MyService.java:128)\r\n2022-01-25 16:43:14.306 29189-29595/com.example.projekat W/System.err:     at com.example.projekat.MyService.onHandleWork(MyService.java:78)\r\n2022-01-25 16:43:14.306 29189-29595/com.example.projekat W/System.err:     at androidx.core.app.JobIntentService$CommandProcessor.doInBackground(JobIntentService.java:391)\r\n2022-01-25 16:43:14.307 29189-29595/com.example.projekat W/System.err:     at androidx.core.app.JobIntentService$CommandProcessor.doInBackground(JobIntentService.java:382)\r\n2022-01-25 16:43:14.307 29189-29595/com.example.projekat W/System.err:     at android.os.AsyncTask$2.call(AsyncTask.java:333)\r\n2022-01-25 16:43:14.308 29189-29595/com.example.projekat W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n2022-01-25 16:43:14.308 29189-29595/com.example.projekat W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n2022-01-25 16:43:14.308 29189-29595/com.example.projekat W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n2022-01-25 16:43:14.309 29189-29595/com.example.projekat W/System.err:     at java.lang.Thread.run(Thread.java:764)\r\n```\r\nThanks in advance.","title":"Android Studio, Java. JobIntentService stops after i try to use method for getting device location","body":"<p>Okay, so I'm trying to make a service that records sound amplitude, time, date and device location every 5 seconds. It records sound, time and date perfectly but the service seems to crash after I use updateGPS() method that you will see in the code (service stops, but app doesn't crash). As somebody who doesnt have much experience in coding, I would appreciate any help on how to fix this.</p>\n<p>This is the code for service:</p>\n<pre><code>public class MyService extends JobIntentService {\n\n    static void enqueueWork(Context context, Intent work) {\n        enqueueWork(context, MyService.class, 123, work);\n    }\n    FusedLocationProviderClient loc;\n    MainActivity ma;\n    public double lat;\n    public double lon;\n    public int x = 5;\n    private String date;\n    private String time;\n    private MediaRecorder rec;\n\n\n    private String recFile() {\n        ContextWrapper cw = new ContextWrapper(getApplicationContext());\n        File soundDir = cw.getExternalFilesDir(Environment.DIRECTORY_MUSIC);\n        File file = new File(soundDir, &quot;recFile&quot; + &quot;.mp3&quot;);\n        return file.getPath();\n    }\n\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n    }\n\n    @Override\n    protected void onHandleWork(@NonNull Intent intent) {\n        String input = intent.getStringExtra(&quot;inputExtra&quot;);\n        try {\n            rec = new MediaRecorder();\n            rec.setAudioSource(MediaRecorder.AudioSource.MIC);\n            rec.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\n            rec.setOutputFile(recFile());\n            rec.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\n            rec.prepare();\n            rec.start();\n            rec.getMaxAmplitude();\n            while (MainActivity.b == true) {\n                for (int i = 0; i &lt; x; i++) {\n                    if (isStopped()) return;\n                    SystemClock.sleep(1000);\n                }\n                updateGPS();\n                date = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;, Locale.getDefault()).format(new Date());\n                time = new SimpleDateFormat(&quot;HH:mm:ss&quot;, Locale.getDefault()).format(new Date());\n                int test = rec.getMaxAmplitude();\n                Log.i(&quot;tag&quot;, &quot;jacina: &quot; + test);\n                Log.i(&quot;t&quot;, &quot;datum: &quot; + date);\n                Log.i(&quot;t1&quot;, &quot;vreme: &quot; + time);\n                Log.i(&quot;t2&quot;, &quot;latitude: &quot; + lat);\n                Log.i(&quot;t3&quot;, &quot;longitude: &quot; + lon);\n\n            }\n            rec.stop();\n            rec.release();\n            rec = null;\n            deleteFile(recFile());\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n    }\n\n    @Override\n    public boolean onStopCurrentWork() {\n        return super.onStopCurrentWork();\n    }\n\n    private void updateValues(Location location) {\n        lat = location.getLatitude();\n        lon = location.getLongitude();\n    }\n\n    private void updateGPS() {\n        loc = LocationServices.getFusedLocationProviderClient(MyService.this);\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            return;\n        }else{\n            if(ma != null){\n                ma.runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        Toast.makeText(MyService.this, &quot;location not available&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n            }\n        }\n        loc.getLastLocation().addOnSuccessListener((Executor) this, new OnSuccessListener&lt;Location&gt;() {\n            @Override\n            public void onSuccess(Location location) {\n                updateValues(location);\n            }\n        });\n    }\n\n\n}\n</code></pre>\n<p>This is only part of code that I think needs to be changed:</p>\n<pre><code>loc.getLastLocation().addOnSuccessListener((Executor) this, new OnSuccessListener&lt;Location&gt;() {\n            @Override\n            public void onSuccess(Location location) {\n                updateValues(location);\n            }\n        });\n</code></pre>\n<p>And this is logcat message:</p>\n<pre><code>2022-01-25 16:43:14.304 29189-29595/com.example.projekat W/System.err: java.lang.ClassCastException: com.example.projekat.MyService cannot be cast to java.util.concurrent.Executor\n2022-01-25 16:43:14.306 29189-29595/com.example.projekat W/System.err:     at com.example.projekat.MyService.updateGPS(MyService.java:128)\n2022-01-25 16:43:14.306 29189-29595/com.example.projekat W/System.err:     at com.example.projekat.MyService.onHandleWork(MyService.java:78)\n2022-01-25 16:43:14.306 29189-29595/com.example.projekat W/System.err:     at androidx.core.app.JobIntentService$CommandProcessor.doInBackground(JobIntentService.java:391)\n2022-01-25 16:43:14.307 29189-29595/com.example.projekat W/System.err:     at androidx.core.app.JobIntentService$CommandProcessor.doInBackground(JobIntentService.java:382)\n2022-01-25 16:43:14.307 29189-29595/com.example.projekat W/System.err:     at android.os.AsyncTask$2.call(AsyncTask.java:333)\n2022-01-25 16:43:14.308 29189-29595/com.example.projekat W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n2022-01-25 16:43:14.308 29189-29595/com.example.projekat W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n2022-01-25 16:43:14.308 29189-29595/com.example.projekat W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n2022-01-25 16:43:14.309 29189-29595/com.example.projekat W/System.err:     at java.lang.Thread.run(Thread.java:764)\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","scala","resources"],"comments":[{"owner":{"account_id":2103982,"reputation":147335,"user_id":1870803,"accept_rate":100,"display_name":"Yuval Itzchakov"},"score":0,"creation_date":1527000169,"post_id":50469600,"comment_id":87954324,"body_markdown":"https://stackoverflow.com/questions/3923129/get-a-list-of-resources-from-classpath-directory/29539977","body":"<a href=\"https://stackoverflow.com/questions/3923129/get-a-list-of-resources-from-classpath-directory/29539977\" title=\"get a list of resources from classpath directory\">stackoverflow.com/questions/3923129/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1643129987,"creation_date":1527000293,"answer_id":50470554,"question_id":50469600,"body_markdown":"A zip file system using `jar:file:` URIs would be something like this:\r\n\r\n        URI uri = MainApp.class.getResource(&quot;/images/sprites&quot;).toURI();\r\n        Map&lt;String, String&gt; env = new HashMap&lt;&gt;();\r\n        try (FileSystem zipfs = FileSystems.newFileSystem(uri, env)) {\r\n            //Path path = zipfs.getPath(&quot;/images/icons16&quot;);\r\n            for (Path path : zipfs.getRootDirectories()) {\r\n                Files.list(path.resolve(&quot;/images/sprites&quot;))\r\n                        .forEach(p -&gt; System.out.println(&quot;* &quot; + p));\r\n            }\r\n        }\r\n\r\nHere I show `getRootDirectories` to possibly iterate over all resources.\r\n\r\nUsing the `Files.copy` one may copy them etcetera.\r\n\r\n-----------------------------\r\n***After comment of @MrPowerGamerBR:***\r\n\r\nThe solution above deals with a **jar**. A more general solution, not exposing the jar character, is:\r\n\r\n        URI uri = MAinApp.class.getResource(&quot;/images/sprites&quot;).toURI();\r\n        Path dirPath = Paths.get(uri);\r\n        Files.list(dirPath)\r\n             .forEach(p -&gt; System.out.println(&quot;* &quot; + p));\r\n\r\n(In fact one might even read lines from the directory itself, but this\r\nis the correct abstraction, using **Path**.)","title":"How do you list all files in the Resources folder (java/scala)","body":"<p>A zip file system using <code>jar:file:</code> URIs would be something like this:</p>\n<pre><code>    URI uri = MainApp.class.getResource(&quot;/images/sprites&quot;).toURI();\n    Map&lt;String, String&gt; env = new HashMap&lt;&gt;();\n    try (FileSystem zipfs = FileSystems.newFileSystem(uri, env)) {\n        //Path path = zipfs.getPath(&quot;/images/icons16&quot;);\n        for (Path path : zipfs.getRootDirectories()) {\n            Files.list(path.resolve(&quot;/images/sprites&quot;))\n                    .forEach(p -&gt; System.out.println(&quot;* &quot; + p));\n        }\n    }\n</code></pre>\n<p>Here I show <code>getRootDirectories</code> to possibly iterate over all resources.</p>\n<p>Using the <code>Files.copy</code> one may copy them etcetera.</p>\n<hr />\n<p><em><strong>After comment of @MrPowerGamerBR:</strong></em></p>\n<p>The solution above deals with a <strong>jar</strong>. A more general solution, not exposing the jar character, is:</p>\n<pre><code>    URI uri = MAinApp.class.getResource(&quot;/images/sprites&quot;).toURI();\n    Path dirPath = Paths.get(uri);\n    Files.list(dirPath)\n         .forEach(p -&gt; System.out.println(&quot;* &quot; + p));\n</code></pre>\n<p>(In fact one might even read lines from the directory itself, but this\nis the correct abstraction, using <strong>Path</strong>.)</p>\n"},{"tags":[],"owner":{"account_id":9815032,"reputation":534,"user_id":7271796,"display_name":"MrPowerGamerBR"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1628371706,"creation_date":1622820288,"answer_id":67839914,"question_id":50469600,"body_markdown":"Joop Eggen&#39;s answer is awesome, however it can only do one of two things:\r\n\r\n * Read the resources content when running from a IDE\r\n * Read the resources content when running the JAR via the command line\r\n\r\nSo here&#39;s a example (Kotlin, but it should be easy to migrate it to Java) that allows you to have both: Reading the resources content when running from a IDE or via the command line!\r\n\r\n```kotlin\r\n    val uri = MainApp::class.java.getResource(&quot;/locales/&quot;).toURI()\r\n    val dirPath = try {\r\n        Paths.get(uri)\r\n    } catch (e: FileSystemNotFoundException) {\r\n        // If this is thrown, then it means that we are running the JAR directly (example: not from an IDE)\r\n        val env = mutableMapOf&lt;String, String&gt;()\r\n        FileSystems.newFileSystem(uri, env).getPath(&quot;/locales/&quot;)\r\n    }\r\n\r\n    Files.list(dirPath).forEach {\r\n        println(it.fileName)\r\n        if (it.fileName.toString().endsWith(&quot;txt&quot;)) {\r\n            println(&quot;Result:&quot;)\r\n            println(Files.readString(it))\r\n        }\r\n    }\r\n```","title":"How do you list all files in the Resources folder (java/scala)","body":"<p>Joop Eggen's answer is awesome, however it can only do one of two things:</p>\n<ul>\n<li>Read the resources content when running from a IDE</li>\n<li>Read the resources content when running the JAR via the command line</li>\n</ul>\n<p>So here's a example (Kotlin, but it should be easy to migrate it to Java) that allows you to have both: Reading the resources content when running from a IDE or via the command line!</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    val uri = MainApp::class.java.getResource(&quot;/locales/&quot;).toURI()\n    val dirPath = try {\n        Paths.get(uri)\n    } catch (e: FileSystemNotFoundException) {\n        // If this is thrown, then it means that we are running the JAR directly (example: not from an IDE)\n        val env = mutableMapOf&lt;String, String&gt;()\n        FileSystems.newFileSystem(uri, env).getPath(&quot;/locales/&quot;)\n    }\n\n    Files.list(dirPath).forEach {\n        println(it.fileName)\n        if (it.fileName.toString().endsWith(&quot;txt&quot;)) {\n            println(&quot;Result:&quot;)\n            println(Files.readString(it))\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6863910,"reputation":43,"user_id":5277041,"display_name":"mysterymyster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9067,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1643129987,"creation_date":1526997523,"question_id":50469600,"body_markdown":"\r\nI am writing a function which needs to access a folder in the resources, and loop through all filenames, and if those match the criteria, those files are loaded. \r\n\r\n    new File(getClass.getResource(&quot;/images/sprites&quot;).getPath).listFiles()\r\n\r\nreturns a null pointer exception, where the directory tree follows Resources -&gt; images -&gt; sprites -&gt; &lt;files to loop through&gt;\r\n\r\nPlease can somebody point me in the right direction?","title":"How do you list all files in the Resources folder (java/scala)","body":"<p>I am writing a function which needs to access a folder in the resources, and loop through all filenames, and if those match the criteria, those files are loaded. </p>\n\n<pre><code>new File(getClass.getResource(\"/images/sprites\").getPath).listFiles()\n</code></pre>\n\n<p>returns a null pointer exception, where the directory tree follows Resources -> images -> sprites -> </p>\n\n<p>Please can somebody point me in the right direction?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":20213,"reputation":190000,"user_id":48082,"accept_rate":96,"display_name":"Cheeso"},"score":3,"creation_date":1444248754,"post_id":6020384,"comment_id":53828063,"body_markdown":"Good question. The information you seek should be part of the Java docs on Regex and Matcher. Sadly, it isn&#39;t.","body":"Good question. The information you seek should be part of the Java docs on Regex and Matcher. Sadly, it isn&#39;t."},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":4,"creation_date":1459570972,"post_id":6020384,"comment_id":60357271,"body_markdown":"A real shame. This functionality seems to exist out of the box in nearly every other language (that has regular expression support).","body":"A real shame. This functionality seems to exist out of the box in nearly every other language (that has regular expression support)."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1487077975,"creation_date":1305563458,"answer_id":6020416,"question_id":6020384,"body_markdown":"Here&#39;s a simple example:\r\n\r\n    Pattern pattern = Pattern.compile(regexPattern);\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    Matcher m = pattern.matcher(input);\r\n    while (m.find()) {\r\n        list.add(m.group());\r\n    }\r\n\r\n(if you have more capturing groups, you can refer to them by their index as an argument of the group method. If you need an array, then use `list.toArray()`)","title":"Create array of regex matches","body":"<p>Here's a simple example:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(regexPattern);\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nMatcher m = pattern.matcher(input);\nwhile (m.find()) {\n    list.add(m.group());\n}\n</code></pre>\n\n<p>(if you have more capturing groups, you can refer to them by their index as an argument of the group method. If you need an array, then use <code>list.toArray()</code>)</p>\n"},{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"down_vote_count":0,"up_vote_count":331,"is_accepted":true,"score":331,"last_activity_date":1520228919,"creation_date":1305563533,"answer_id":6020436,"question_id":6020384,"body_markdown":"*([4castle&#39;s answer](https://stackoverflow.com/a/46859130) is better than the below if you can assume Java &gt;= 9)*\r\n\r\nYou need to create a matcher and use that to iteratively find matches.\r\n\r\n\r\n     import java.util.regex.Matcher;\r\n     import java.util.regex.Pattern;\r\n\r\n     ...\r\n\r\n     List&lt;String&gt; allMatches = new ArrayList&lt;String&gt;();\r\n     Matcher m = Pattern.compile(&quot;your regular expression here&quot;)\r\n         .matcher(yourStringHere);\r\n     while (m.find()) {\r\n       allMatches.add(m.group());\r\n     }\r\n\r\nAfter this, `allMatches` contains the matches, and you can use `allMatches.toArray(new String[0])` to get an array if you really need one.\r\n\r\n----\r\n\r\nYou can also use `MatchResult` to write helper functions to loop over matches\r\nsince `Matcher.toMatchResult()` returns a snapshot of the current group state.\r\n\r\nFor example you can write a lazy iterator to let you do\r\n\r\n    for (MatchResult match : allMatches(pattern, input)) {\r\n      // Use match, and maybe break without doing the work to find all possible matches.\r\n    }\r\n\r\nby doing something like this:\r\n\r\n    public static Iterable&lt;MatchResult&gt; allMatches(\r\n          final Pattern p, final CharSequence input) {\r\n      return new Iterable&lt;MatchResult&gt;() {\r\n        public Iterator&lt;MatchResult&gt; iterator() {\r\n          return new Iterator&lt;MatchResult&gt;() {\r\n            // Use a matcher internally.\r\n            final Matcher matcher = p.matcher(input);\r\n            // Keep a match around that supports any interleaving of hasNext/next calls.\r\n            MatchResult pending;\r\n\r\n            public boolean hasNext() {\r\n              // Lazily fill pending, and avoid calling find() multiple times if the\r\n              // clients call hasNext() repeatedly before sampling via next().\r\n              if (pending == null &amp;&amp; matcher.find()) {\r\n                pending = matcher.toMatchResult();\r\n              }\r\n              return pending != null;\r\n            }\r\n\r\n            public MatchResult next() {\r\n              // Fill pending if necessary (as when clients call next() without\r\n              // checking hasNext()), throw if not possible.\r\n              if (!hasNext()) { throw new NoSuchElementException(); }\r\n              // Consume pending so next call to hasNext() does a find().\r\n              MatchResult next = pending;\r\n              pending = null;\r\n              return next;\r\n            }\r\n\r\n            /** Required to satisfy the interface, but unsupported. */\r\n            public void remove() { throw new UnsupportedOperationException(); }\r\n          };\r\n        }\r\n      };\r\n    }\r\n\r\nWith this,\r\n\r\n    for (MatchResult match : allMatches(Pattern.compile(&quot;[abc]&quot;), &quot;abracadabra&quot;)) {\r\n      System.out.println(match.group() + &quot; at &quot; + match.start());\r\n    }\r\n\r\nyields\r\n\r\n&gt;     a at 0\r\n&gt;     b at 1\r\n&gt;     a at 3\r\n&gt;     c at 4\r\n&gt;     a at 5\r\n&gt;     a at 7\r\n&gt;     b at 8\r\n&gt;     a at 10","title":"Create array of regex matches","body":"<p><em>(<a href=\"https://stackoverflow.com/a/46859130\">4castle's answer</a> is better than the below if you can assume Java >= 9)</em></p>\n\n<p>You need to create a matcher and use that to iteratively find matches.</p>\n\n<pre><code> import java.util.regex.Matcher;\n import java.util.regex.Pattern;\n\n ...\n\n List&lt;String&gt; allMatches = new ArrayList&lt;String&gt;();\n Matcher m = Pattern.compile(\"your regular expression here\")\n     .matcher(yourStringHere);\n while (m.find()) {\n   allMatches.add(m.group());\n }\n</code></pre>\n\n<p>After this, <code>allMatches</code> contains the matches, and you can use <code>allMatches.toArray(new String[0])</code> to get an array if you really need one.</p>\n\n<hr>\n\n<p>You can also use <code>MatchResult</code> to write helper functions to loop over matches\nsince <code>Matcher.toMatchResult()</code> returns a snapshot of the current group state.</p>\n\n<p>For example you can write a lazy iterator to let you do</p>\n\n<pre><code>for (MatchResult match : allMatches(pattern, input)) {\n  // Use match, and maybe break without doing the work to find all possible matches.\n}\n</code></pre>\n\n<p>by doing something like this:</p>\n\n<pre><code>public static Iterable&lt;MatchResult&gt; allMatches(\n      final Pattern p, final CharSequence input) {\n  return new Iterable&lt;MatchResult&gt;() {\n    public Iterator&lt;MatchResult&gt; iterator() {\n      return new Iterator&lt;MatchResult&gt;() {\n        // Use a matcher internally.\n        final Matcher matcher = p.matcher(input);\n        // Keep a match around that supports any interleaving of hasNext/next calls.\n        MatchResult pending;\n\n        public boolean hasNext() {\n          // Lazily fill pending, and avoid calling find() multiple times if the\n          // clients call hasNext() repeatedly before sampling via next().\n          if (pending == null &amp;&amp; matcher.find()) {\n            pending = matcher.toMatchResult();\n          }\n          return pending != null;\n        }\n\n        public MatchResult next() {\n          // Fill pending if necessary (as when clients call next() without\n          // checking hasNext()), throw if not possible.\n          if (!hasNext()) { throw new NoSuchElementException(); }\n          // Consume pending so next call to hasNext() does a find().\n          MatchResult next = pending;\n          pending = null;\n          return next;\n        }\n\n        /** Required to satisfy the interface, but unsupported. */\n        public void remove() { throw new UnsupportedOperationException(); }\n      };\n    }\n  };\n}\n</code></pre>\n\n<p>With this,</p>\n\n<pre><code>for (MatchResult match : allMatches(Pattern.compile(\"[abc]\"), \"abracadabra\")) {\n  System.out.println(match.group() + \" at \" + match.start());\n}\n</code></pre>\n\n<p>yields</p>\n\n<blockquote>\n<pre><code>a at 0\nb at 1\na at 3\nc at 4\na at 5\na at 7\nb at 8\na at 10\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1305563594,"creation_date":1305563594,"answer_id":6020455,"question_id":6020384,"body_markdown":"From the [Official Regex Java Trails][1]:\r\n\r\n            Pattern pattern = \r\n            Pattern.compile(console.readLine(&quot;%nEnter your regex: &quot;));\r\n\r\n            Matcher matcher = \r\n            pattern.matcher(console.readLine(&quot;Enter input string to search: &quot;));\r\n\r\n            boolean found = false;\r\n            while (matcher.find()) {\r\n                console.format(&quot;I found the text \\&quot;%s\\&quot; starting at &quot; +\r\n                   &quot;index %d and ending at index %d.%n&quot;,\r\n                    matcher.group(), matcher.start(), matcher.end());\r\n                found = true;\r\n            }\r\n\r\nUse `find` and insert the resulting `group` at your array / List / whatever.\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/essential/regex/test_harness.html","title":"Create array of regex matches","body":"<p>From the <a href=\"http://download.oracle.com/javase/tutorial/essential/regex/test_harness.html\" rel=\"noreferrer\">Official Regex Java Trails</a>:</p>\n\n<pre><code>        Pattern pattern = \n        Pattern.compile(console.readLine(\"%nEnter your regex: \"));\n\n        Matcher matcher = \n        pattern.matcher(console.readLine(\"Enter input string to search: \"));\n\n        boolean found = false;\n        while (matcher.find()) {\n            console.format(\"I found the text \\\"%s\\\" starting at \" +\n               \"index %d and ending at index %d.%n\",\n                matcher.group(), matcher.start(), matcher.end());\n            found = true;\n        }\n</code></pre>\n\n<p>Use <code>find</code> and insert the resulting <code>group</code> at your array / List / whatever.</p>\n"},{"tags":[],"owner":{"account_id":42768,"reputation":6215,"user_id":124708,"accept_rate":79,"display_name":"TraderJoeChicago"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1643129941,"creation_date":1317240633,"answer_id":7589001,"question_id":6020384,"body_markdown":"Java makes regex too complicated and it does not follow the perl-style. Take a look at [MentaRegex][1] to see how you can accomplish that in a single line of Java code:\r\n\r\n    String[] matches = match(&quot;aa11bb22&quot;, &quot;/(\\\\d+)/g&quot; ); // =&gt; [&quot;11&quot;, &quot;22&quot;]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/me.soliveirajr/menta-regex/0.9.5","title":"Create array of regex matches","body":"<p>Java makes regex too complicated and it does not follow the perl-style. Take a look at <a href=\"https://mvnrepository.com/artifact/me.soliveirajr/menta-regex/0.9.5\" rel=\"nofollow noreferrer\">MentaRegex</a> to see how you can accomplish that in a single line of Java code:</p>\n<pre><code>String[] matches = match(&quot;aa11bb22&quot;, &quot;/(\\\\d+)/g&quot; ); // =&gt; [&quot;11&quot;, &quot;22&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2145824,"reputation":1089,"user_id":1903453,"display_name":"Nikhil Kumar K"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1481803035,"creation_date":1481803035,"answer_id":41163616,"question_id":6020384,"body_markdown":"            Set&lt;String&gt; keyList = new HashSet();\r\n\t\t\tPattern regex = Pattern.compile(&quot;#\\\\{(.*?)\\\\}&quot;);\r\n\t\t\tMatcher matcher = regex.matcher(&quot;Content goes here&quot;);\r\n\t\t\twhile(matcher.find()) {\r\n\t\t\t\tkeyList.add(matcher.group(1)); \r\n\t\t\t}\r\n\t\t\treturn keyList;","title":"Create array of regex matches","body":"<pre><code>        Set&lt;String&gt; keyList = new HashSet();\n        Pattern regex = Pattern.compile(\"#\\\\{(.*?)\\\\}\");\n        Matcher matcher = regex.matcher(\"Content goes here\");\n        while(matcher.find()) {\n            keyList.add(matcher.group(1)); \n        }\n        return keyList;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"down_vote_count":1,"up_vote_count":124,"is_accepted":false,"score":123,"last_activity_date":1508547860,"creation_date":1508547860,"answer_id":46859130,"question_id":6020384,"body_markdown":"In Java 9, you can now use [`Matcher#results()`][1] to get a [`Stream&lt;MatchResult&gt;`][2] which you can use to get a list/array of matches.\r\n\r\n    import java.util.regex.Pattern;\r\n    import java.util.regex.MatchResult;\r\n\r\n&lt;!-- --&gt;\r\n\r\n    String[] matches = Pattern.compile(&quot;your regex here&quot;)\r\n                              .matcher(&quot;string to search from here&quot;)\r\n                              .results()\r\n                              .map(MatchResult::group)\r\n                              .toArray(String[]::new);\r\n                        // or .collect(Collectors.toList())\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#results--\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html","title":"Create array of regex matches","body":"<p>In Java 9, you can now use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#results--\" rel=\"noreferrer\"><code>Matcher#results()</code></a> to get a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html\" rel=\"noreferrer\"><code>Stream&lt;MatchResult&gt;</code></a> which you can use to get a list/array of matches.</p>\n\n<pre><code>import java.util.regex.Pattern;\nimport java.util.regex.MatchResult;\n</code></pre>\n\n\n\n<pre><code>String[] matches = Pattern.compile(\"your regex here\")\n                          .matcher(\"string to search from here\")\n                          .results()\n                          .map(MatchResult::group)\n                          .toArray(String[]::new);\n                    // or .collect(Collectors.toList())\n</code></pre>\n"}],"owner":{"account_id":106380,"reputation":5017,"user_id":283412,"accept_rate":96,"display_name":"Jake Sankey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249218,"favorite_count":0,"down_vote_count":0,"up_vote_count":213,"accepted_answer_id":6020436,"answer_count":6,"score":213,"last_activity_date":1643129941,"creation_date":1305563307,"question_id":6020384,"body_markdown":"In Java, I am trying to return all regex matches to an array but it seems that you can only check whether the pattern matches something or not (boolean).\r\n\r\nHow can I use a regex match to form an array of all string matching a regex expression in a given string?","title":"Create array of regex matches","body":"<p>In Java, I am trying to return all regex matches to an array but it seems that you can only check whether the pattern matches something or not (boolean).</p>\n\n<p>How can I use a regex match to form an array of all string matching a regex expression in a given string?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":5,"creation_date":1494328072,"post_id":43868154,"comment_id":74771314,"body_markdown":"So what do you want to extract in your example, `014qsqs`? What did you try so far? And does it have to be a regex or would splitting the filename at dashes be ok as well?","body":"So what do you want to extract in your example, <code>014qsqs</code>? What did you try so far? And does it have to be a regex or would splitting the filename at dashes be ok as well?"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":3,"creation_date":1494328129,"post_id":43868154,"comment_id":74771354,"body_markdown":"Why do you specifically want to use a regex for this? Regular expressions are not a golden hammer for any task that has to do with strings, and a simple `indexOf` and `substring` will do the job here.","body":"Why do you specifically want to use a regex for this? Regular expressions are not a golden hammer for any task that has to do with strings, and a simple <code>indexOf</code> and <code>substring</code> will do the job here."},{"owner":{"account_id":2497273,"reputation":483,"user_id":2173372,"accept_rate":14,"display_name":"user2173372"},"score":1,"creation_date":1494328230,"post_id":43868154,"comment_id":74771426,"body_markdown":"http://stackoverflow.com/questions/3481828/how-to-split-a-string-in-java","body":"<a href=\"http://stackoverflow.com/questions/3481828/how-to-split-a-string-in-java\" title=\"how to split a string in java\">stackoverflow.com/questions/3481828/&hellip;</a>"},{"owner":{"account_id":1323279,"reputation":787,"user_id":1268630,"accept_rate":42,"display_name":"ErEcTuS"},"score":0,"creation_date":1494329555,"post_id":43868154,"comment_id":74772373,"body_markdown":"No actually I need everything before the second dash. In this case, I need to have as a result &quot;fileName-014qsqs&quot;","body":"No actually I need everything before the second dash. In this case, I need to have as a result &quot;fileName-014qsqs&quot;"}],"answers":[{"tags":[],"owner":{"account_id":977686,"reputation":3230,"user_id":998251,"accept_rate":65,"display_name":"Daniel Centore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494330304,"creation_date":1494328642,"answer_id":43868387,"question_id":43868154,"body_markdown":"When trying to figure this out, it can be helpful to use a regex tester (e.g. http://www.regexplanet.com/advanced/java/index.html)\r\n\r\nThe regex `(.*?-.*?)-.*` matches what you are looking for.\r\n\r\n`.*`: Any character any number of times\r\n\r\n`?`: Makes it non-greedy, so it only does as few as possible to match\r\n\r\n`-`: Literal dash\r\n\r\n`()`:  The parentheses make it a group so it can be extracted.\r\n\r\nThe entire program looks like this:\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main\r\n    {\r\n        public static void main(String atrgs[])\r\n        {\r\n        \tString line = &quot;fileName-014qsqs-xxxxyyyzzz.txt&quot;;\r\n        \tPattern pattern = Pattern.compile(&quot;(.*?-.*?)-.*&quot;);\r\n        \tMatcher matcher = pattern.matcher(line);\r\n        \twhile (matcher.find()) {\r\n        \t    System.out.println(matcher.group(1));\r\n        \t}\r\n        }\r\n    }\r\n\r\nAnd has the output `fileName-014qsqs`.","title":"In java Regex, How can I get a certain part of a fileName","body":"<p>When trying to figure this out, it can be helpful to use a regex tester (e.g. <a href=\"http://www.regexplanet.com/advanced/java/index.html\" rel=\"nofollow noreferrer\">http://www.regexplanet.com/advanced/java/index.html</a>)</p>\n\n<p>The regex <code>(.*?-.*?)-.*</code> matches what you are looking for.</p>\n\n<p><code>.*</code>: Any character any number of times</p>\n\n<p><code>?</code>: Makes it non-greedy, so it only does as few as possible to match</p>\n\n<p><code>-</code>: Literal dash</p>\n\n<p><code>()</code>:  The parentheses make it a group so it can be extracted.</p>\n\n<p>The entire program looks like this:</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main\n{\n    public static void main(String atrgs[])\n    {\n        String line = \"fileName-014qsqs-xxxxyyyzzz.txt\";\n        Pattern pattern = Pattern.compile(\"(.*?-.*?)-.*\");\n        Matcher matcher = pattern.matcher(line);\n        while (matcher.find()) {\n            System.out.println(matcher.group(1));\n        }\n    }\n}\n</code></pre>\n\n<p>And has the output <code>fileName-014qsqs</code>.</p>\n"},{"tags":[],"owner":{"account_id":1889592,"reputation":1805,"user_id":1708042,"display_name":"user1708042"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494330239,"creation_date":1494330239,"answer_id":43868918,"question_id":43868154,"body_markdown":"You can use this regular expression: \r\n\r\n    &quot;([^-]*-[^-]*)-.*&quot;\r\n\r\nExplanation: any character but &quot;-&quot; is expressed as &quot;[^-]&quot; hence the\r\n\r\n    ([^-]*-[^-]*)\r\n\r\ncaptures a sequence of non-&quot;-&quot; characters separated by a single &quot;-&quot;, next a second &quot;-&quot; followed by any further text.\r\n\r\n","title":"In java Regex, How can I get a certain part of a fileName","body":"<p>You can use this regular expression: </p>\n\n<pre><code>\"([^-]*-[^-]*)-.*\"\n</code></pre>\n\n<p>Explanation: any character but \"-\" is expressed as \"[^-]\" hence the</p>\n\n<pre><code>([^-]*-[^-]*)\n</code></pre>\n\n<p>captures a sequence of non-\"-\" characters separated by a single \"-\", next a second \"-\" followed by any further text.</p>\n"},{"tags":[],"owner":{"account_id":7788319,"reputation":87,"user_id":5892276,"display_name":"J.Fernandes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494337147,"creation_date":1494330283,"answer_id":43868930,"question_id":43868154,"body_markdown":"Hi i probably do a while and when find the 2 &quot;-&quot; stop.Sry can&#39;t comment","title":"In java Regex, How can I get a certain part of a fileName","body":"<p>Hi i probably do a while and when find the 2 \"-\" stop.Sry can't comment</p>\n"}],"owner":{"account_id":1323279,"reputation":787,"user_id":1268630,"accept_rate":42,"display_name":"ErEcTuS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1643129880,"creation_date":1494327953,"question_id":43868154,"body_markdown":"I have a String which is basically a file name. I need to retrieve a certain\r\npart of the file name. It is the value before second - (dash). Filenames will be in format example: \r\n\r\n**fileName-014qsqs-xxxxyyyzzz.txt**\r\n\r\nI need to get as a result: \r\n\r\n**fileName-014qsqs**\r\n\r\nHow can I use regex to it?\r\n\r\nThanks","title":"In java Regex, How can I get a certain part of a fileName","body":"<p>I have a String which is basically a file name. I need to retrieve a certain\npart of the file name. It is the value before second - (dash). Filenames will be in format example:</p>\n<p><strong>fileName-014qsqs-xxxxyyyzzz.txt</strong></p>\n<p>I need to get as a result:</p>\n<p><strong>fileName-014qsqs</strong></p>\n<p>How can I use regex to it?</p>\n<p>Thanks</p>\n"},{"tags":["java","google-api","google-drive-api","service-accounts"],"comments":[{"owner":{"account_id":4733199,"reputation":63,"user_id":3828225,"display_name":"kcforstackoverflow"},"score":0,"creation_date":1407143086,"post_id":25114880,"comment_id":39086274,"body_markdown":"This is of same type listed here but still not working -- http://stackoverflow.com/questions/17021007/monitoring-changes-in-google-drive-files-for-whole-domain-using-drive-api/25114664?noredirect=1#comment39086108_25114664","body":"This is of same type listed here but still not working -- <a href=\"http://stackoverflow.com/questions/17021007/monitoring-changes-in-google-drive-files-for-whole-domain-using-drive-api/25114664?noredirect=1#comment39086108_25114664\" title=\"monitoring changes in google drive files for whole domain using drive api\">stackoverflow.com/questions/17021007/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1820604,"reputation":5481,"user_id":1654764,"accept_rate":69,"display_name":"David"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1407143071,"creation_date":1407143071,"answer_id":25115114,"question_id":25114880,"body_markdown":"The service account with domain-wide delegation allows you to access each account&#39;s data **one at a time**.\r\n\r\nIf you want to access all the users&#39; data in a domain, you will need to generate a different token for each user (passing the email in the `setServiceAccountUser()` method) and make the API call for each user.","title":"Google Drive API - How to work with the domain-wide service account","body":"<p>The service account with domain-wide delegation allows you to access each account's data <strong>one at a time</strong>.</p>\n\n<p>If you want to access all the users' data in a domain, you will need to generate a different token for each user (passing the email in the <code>setServiceAccountUser()</code> method) and make the API call for each user.</p>\n"}],"owner":{"account_id":4733199,"reputation":63,"user_id":3828225,"display_name":"kcforstackoverflow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25115114,"answer_count":1,"score":0,"last_activity_date":1643129570,"creation_date":1407142279,"question_id":25114880,"body_markdown":"I was trying to use the service account of my app to access to all documents of all users in my domain following this instruction:\r\n\r\nhttps://developers.google.com/drive/delegation\r\nBut it didn&#39;t work.\r\nCould you please help me out on this??\r\nI tried to follow URL -\r\n\r\nhttp://iambusychangingtheworld.blogspot.co.uk/2013/12/google-drive-api-how-work-with-domain.html\r\n\r\nand code -\r\n```\r\nGoogleCredential credential = new GoogleCredential.Builder()\r\n\t\t\t\t.setTransport(TRANSPORT)\r\n\t\t\t\t.setJsonFactory(jsonFactory)\r\n\t\t\t\t.setServiceAccountId(&quot;SERVICE_ACCOUNT_EMAIL&quot;)\r\n\t\t\t\t.setServiceAccountPrivateKeyFromP12File(\r\n\t\t\t\t\t\tnew java.io.File(&quot;SERVICE_ACCOUNT_PKCS12_FILE_PATH&quot;))\r\n\t\t\t\t.setServiceAccountScopes(scopes)\r\n\t\t\t\t.setServiceAccountUser(&quot;abc@xyz.com&quot;).build();\r\n```\r\nits working fine But should give me details for all the user for this domain... instead it gives me only for one useraccount.. In the Service account doc it says it should be able to access all the users data under this domain.. am I missing something&gt;?\r\nFYI... Scopes are added , APIS are enabled for this account\r\n\r\nIs there any way I can get it?? \r\nI have also seen below links but was not of  -\r\nhttps://stackoverflow.com/questions/21427998/not-able-to-access-my-google-drive-files-with-service-account\r\n\r\n\r\n\r\n\r\n","title":"Google Drive API - How to work with the domain-wide service account","body":"<p>I was trying to use the service account of my app to access to all documents of all users in my domain following this instruction:</p>\n<p><a href=\"https://developers.google.com/drive/delegation\" rel=\"nofollow noreferrer\">https://developers.google.com/drive/delegation</a>\nBut it didn't work.\nCould you please help me out on this??\nI tried to follow URL -</p>\n<p><a href=\"http://iambusychangingtheworld.blogspot.co.uk/2013/12/google-drive-api-how-work-with-domain.html\" rel=\"nofollow noreferrer\">http://iambusychangingtheworld.blogspot.co.uk/2013/12/google-drive-api-how-work-with-domain.html</a></p>\n<p>and code -</p>\n<pre><code>GoogleCredential credential = new GoogleCredential.Builder()\n                .setTransport(TRANSPORT)\n                .setJsonFactory(jsonFactory)\n                .setServiceAccountId(&quot;SERVICE_ACCOUNT_EMAIL&quot;)\n                .setServiceAccountPrivateKeyFromP12File(\n                        new java.io.File(&quot;SERVICE_ACCOUNT_PKCS12_FILE_PATH&quot;))\n                .setServiceAccountScopes(scopes)\n                .setServiceAccountUser(&quot;abc@xyz.com&quot;).build();\n</code></pre>\n<p>its working fine But should give me details for all the user for this domain... instead it gives me only for one useraccount.. In the Service account doc it says it should be able to access all the users data under this domain.. am I missing something&gt;?\nFYI... Scopes are added , APIS are enabled for this account</p>\n<p>Is there any way I can get it??\nI have also seen below links but was not of  -\n<a href=\"https://stackoverflow.com/questions/21427998/not-able-to-access-my-google-drive-files-with-service-account\">Not able to access my google drive Files with service account</a></p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":24048349,"reputation":88,"user_id":18027119,"display_name":"Shoshi Schwartz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643122464,"creation_date":1643122464,"answer_id":70850809,"question_id":70848187,"body_markdown":"you can use `@JsonValue` to get the addresses as list of lists with no field name:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class CoupleInfo {\r\n    \r\n        public List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n        public CoupleInfo(String place, String address){\r\n            list.add(place);\r\n            list.add(address);\r\n        }\r\n    \r\n        @JsonValue\r\n        public List&lt;String&gt; getList() {\r\n            return list;\r\n        }\r\n    }\r\n\r\nthe result will be:\r\n\r\n    {&quot;name&quot;:&quot;giulio&quot;,&quot;surname&quot;:&quot;marri&quot;,&quot;addresses&quot;:[[&quot;roma&quot;,&quot;piazza liberta&quot;],[&quot;torino&quot;,&quot;via torre&quot;]]}","title":"JSON by Jackson: hide field name but keep the value","body":"<p>you can use <code>@JsonValue</code> to get the addresses as list of lists with no field name:</p>\n<pre><code>@Data\n@NoArgsConstructor\npublic class CoupleInfo {\n\n    public List&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n    public CoupleInfo(String place, String address){\n        list.add(place);\n        list.add(address);\n    }\n\n    @JsonValue\n    public List&lt;String&gt; getList() {\n        return list;\n    }\n}\n</code></pre>\n<p>the result will be:</p>\n<pre><code>{&quot;name&quot;:&quot;giulio&quot;,&quot;surname&quot;:&quot;marri&quot;,&quot;addresses&quot;:[[&quot;roma&quot;,&quot;piazza liberta&quot;],[&quot;torino&quot;,&quot;via torre&quot;]]}\n</code></pre>\n"}],"owner":{"account_id":15546910,"reputation":391,"user_id":11215814,"display_name":"OutOfMemoryError"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70850809,"answer_count":1,"score":0,"last_activity_date":1643129502,"creation_date":1643111564,"question_id":70848187,"body_markdown":"I am creating a JSON using Jackson library. \r\n\r\nFor example I have an Employee with fields: name, surname, and a list of pair of info as showed below\r\n\r\n    \r\n\r\n        @Data\r\n            @NoArgsConstructors\r\n            public class EmployeeJSON {\r\n            \r\n            private String name;\r\n            private String surname;\r\n            private List&lt;CoupleInfo&gt; addresses = new ArrayList&lt;&gt;();\r\n    // this class continue with regular implementation to fill the fields and creating an object for CoupleInfo\r\n    \r\n\r\nA class is implemented for CoupleInfo:\r\n\r\n    \r\n    @Data\r\n    @NoArgsConstructors\r\n    public class CoupleInfo {\r\n    private List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n    public CoupleInfo(String place, String address){\r\n    list.add(place);\r\n    list.add(address);\r\n          }\r\n    }\r\n\r\n\r\nI would like to get in the JSON, of course with the fields name and surname, the field addresses populated as list of the couple of values (as array in the JSON), but without, inside the array, the field list.\r\n\r\nHow can do that?\r\n\r\nI tried with @JsonIgnore but all the field and the value disappear.\r\n\r\nTo get this at the end:\r\n\r\n    {&quot;name&quot;:&quot;giulio&quot;, &quot;surname&quot;:&quot;marri&quot;, &quot;addresses&quot;:[[&quot;roma&quot;,&quot;piazza liberta&#39;&quot;],[&quot;torino&quot;,&quot;via torre&quot;]]}\r\n\r\ninstead to be:\r\n\r\n     {&quot;name&quot;:&quot;giulio&quot;, &quot;surname&quot;:&quot;marri&quot;, &quot;addresses&quot;:[{&quot;list&quot;:[&quot;roma&quot;,&quot;piazza liberta&#39;&quot;]},{&quot;list&quot;:[&quot;torino&quot;,&quot;via torre&quot;]}}\r\n\r\n\r\n\r\n","title":"JSON by Jackson: hide field name but keep the value","body":"<p>I am creating a JSON using Jackson library.</p>\n<p>For example I have an Employee with fields: name, surname, and a list of pair of info as showed below</p>\n<pre><code>    @Data\n        @NoArgsConstructors\n        public class EmployeeJSON {\n        \n        private String name;\n        private String surname;\n        private List&lt;CoupleInfo&gt; addresses = new ArrayList&lt;&gt;();\n// this class continue with regular implementation to fill the fields and creating an object for CoupleInfo\n</code></pre>\n<p>A class is implemented for CoupleInfo:</p>\n<pre><code>@Data\n@NoArgsConstructors\npublic class CoupleInfo {\nprivate List&lt;String&gt; list = new ArrayList&lt;&gt;();\n\npublic CoupleInfo(String place, String address){\nlist.add(place);\nlist.add(address);\n      }\n}\n</code></pre>\n<p>I would like to get in the JSON, of course with the fields name and surname, the field addresses populated as list of the couple of values (as array in the JSON), but without, inside the array, the field list.</p>\n<p>How can do that?</p>\n<p>I tried with @JsonIgnore but all the field and the value disappear.</p>\n<p>To get this at the end:</p>\n<pre><code>{&quot;name&quot;:&quot;giulio&quot;, &quot;surname&quot;:&quot;marri&quot;, &quot;addresses&quot;:[[&quot;roma&quot;,&quot;piazza liberta'&quot;],[&quot;torino&quot;,&quot;via torre&quot;]]}\n</code></pre>\n<p>instead to be:</p>\n<pre><code> {&quot;name&quot;:&quot;giulio&quot;, &quot;surname&quot;:&quot;marri&quot;, &quot;addresses&quot;:[{&quot;list&quot;:[&quot;roma&quot;,&quot;piazza liberta'&quot;]},{&quot;list&quot;:[&quot;torino&quot;,&quot;via torre&quot;]}}\n</code></pre>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1643127692,"post_id":70852037,"comment_id":125254858,"body_markdown":"Well, it&#39;s telling you the # is illegal, so what is `#sql` supposed to do? Is that something a preprocessor is supposed to handle, maybe?","body":"Well, it&#39;s telling you the # is illegal, so what is <code>#sql</code> supposed to do? Is that something a preprocessor is supposed to handle, maybe?"},{"owner":{"account_id":1635690,"reputation":150067,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1643128290,"post_id":70852037,"comment_id":125255147,"body_markdown":"@AlexPoole That is [SQLJ](https://docs.oracle.com/database/121/JJDEV/chthree.htm#CACEJBBC). According to the docs it needs a translator (pre-compiler) to convert it to standard Java souce code. I&#39;m guessing that that is something additional to the basic installation and its not something that is installed on Azure.","body":"@AlexPoole That is <a href=\"https://docs.oracle.com/database/121/JJDEV/chthree.htm#CACEJBBC\" rel=\"nofollow noreferrer\">SQLJ</a>. According to the docs it needs a translator (pre-compiler) to convert it to standard Java souce code. I&#39;m guessing that that is something additional to the basic installation and its not something that is installed on Azure."}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150067,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643128760,"creation_date":1643128760,"answer_id":70852395,"question_id":70852037,"body_markdown":"You code is using [SQLJ](https://docs.oracle.com/database/121/JJDEV/chthree.htm#CACEJBBC) and the error message is telling you that Java does not recognise the SQLJ `#sql{ ... }` syntax. \r\n\r\nEither:\r\n\r\n 1. Install SQLJ into your Azure environment; or\r\n 2. Convert the SQLJ code to standard JDBC code.","title":"compiling java source in oracle 19","body":"<p>You code is using <a href=\"https://docs.oracle.com/database/121/JJDEV/chthree.htm#CACEJBBC\" rel=\"nofollow noreferrer\">SQLJ</a> and the error message is telling you that Java does not recognise the SQLJ <code>#sql{ ... }</code> syntax.</p>\n<p>Either:</p>\n<ol>\n<li>Install SQLJ into your Azure environment; or</li>\n<li>Convert the SQLJ code to standard JDBC code.</li>\n</ol>\n"}],"owner":{"account_id":24051239,"reputation":21,"user_id":18029703,"display_name":"vana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643128760,"creation_date":1643127474,"question_id":70852037,"body_markdown":"Our application migrated/upgrated to azure and from oracle 11 to oracle 19.  we have a java class in our code and  am not able to compile them in oracle 19.\r\n\r\nhere is the code is 11 version. please help me out with this.\r\n\r\n```java\r\nCreate or replace\r\nand compile java source named &quot;DirList&quot;\r\nas\r\nimport java.io.*;\r\nimport java.sql.*;\r\n\r\npublic class DirList\r\n{\r\n   public static void getList(String in_dir_name)\r\n                   throws SQLException\r\n   {\r\n      String os_directory;\r\n      #sql {Select directory_path into :os_directory from all_directories where directory_name = upper(:in_dir_name)};\r\n\r\n      File path = new File( os_directory );\r\n      String[] list = path.list();\r\n      String element;\r\n\r\n      for(int i = 0; i &lt; list.length; i++)\r\n      {\r\n         element = list[i];\r\n         #sql { INSERT INTO mra_dir_list (FILENAME) VALUES (:element) };\r\n      }\r\n   }\r\n\r\n}\r\n```\r\n\r\n```none\r\n-------------------------------------------------\r\n\r\nWarning: Java created with compilation errors.\r\n\r\nSYS@u7uvm1d1:SQL&gt;\r\nSYS@u7uvm1d1:SQL&gt; show errors;\r\nErrors for JAVA SOURCE &quot;DirList&quot;:\r\n\r\nLINE/COL ERROR\r\n-------- -----------------------------------------------------------------\r\n0/0      DirList:10: error: illegal character: &#39;#&#39;\r\n0/0      21 errors\r\n0/0      ^\r\n0/0      DirList:10: error: not a statement\r\n0/0      #sql {Select directory_path into :os_directory from\r\n         all_directories where directory_name = upper(:in_dir_name)};\r\n\r\n0/0      ^\r\n0/0      DirList:10: error: &#39;;&#39; expected\r\n0/0      #sql {Select directory_path into :os_directory from\r\n         all_directories where directory_name = upper(:in_dir_name)};\r\n```","title":"compiling java source in oracle 19","body":"<p>Our application migrated/upgrated to azure and from oracle 11 to oracle 19.  we have a java class in our code and  am not able to compile them in oracle 19.</p>\n<p>here is the code is 11 version. please help me out with this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Create or replace\nand compile java source named &quot;DirList&quot;\nas\nimport java.io.*;\nimport java.sql.*;\n\npublic class DirList\n{\n   public static void getList(String in_dir_name)\n                   throws SQLException\n   {\n      String os_directory;\n      #sql {Select directory_path into :os_directory from all_directories where directory_name = upper(:in_dir_name)};\n\n      File path = new File( os_directory );\n      String[] list = path.list();\n      String element;\n\n      for(int i = 0; i &lt; list.length; i++)\n      {\n         element = list[i];\n         #sql { INSERT INTO mra_dir_list (FILENAME) VALUES (:element) };\n      }\n   }\n\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>-------------------------------------------------\n\nWarning: Java created with compilation errors.\n\nSYS@u7uvm1d1:SQL&gt;\nSYS@u7uvm1d1:SQL&gt; show errors;\nErrors for JAVA SOURCE &quot;DirList&quot;:\n\nLINE/COL ERROR\n-------- -----------------------------------------------------------------\n0/0      DirList:10: error: illegal character: '#'\n0/0      21 errors\n0/0      ^\n0/0      DirList:10: error: not a statement\n0/0      #sql {Select directory_path into :os_directory from\n         all_directories where directory_name = upper(:in_dir_name)};\n\n0/0      ^\n0/0      DirList:10: error: ';' expected\n0/0      #sql {Select directory_path into :os_directory from\n         all_directories where directory_name = upper(:in_dir_name)};\n</code></pre>\n"},{"tags":["java","jpa","cdi"],"answers":[{"tags":[],"owner":{"account_id":4263255,"reputation":3672,"user_id":3487063,"accept_rate":57,"display_name":"user3487063"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1407855077,"creation_date":1407855077,"answer_id":25267457,"question_id":25267209,"body_markdown":"Use `REQUIRES_NEW` instead of `REQUIRED` to run it outside a transaction context.\r\nPlease refer to [docs][1]\r\n\r\nyou need to have `@Transactional(Transactional.TxType.REQUIRES_NEW)` \r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/transaction/Transactional.TxType.html","title":"CDI Transactions warnings","body":"<p>Use <code>REQUIRES_NEW</code> instead of <code>REQUIRED</code> to run it outside a transaction context.\nPlease refer to <a href=\"http://docs.oracle.com/javaee/7/api/javax/transaction/Transactional.TxType.html\" rel=\"nofollow\">docs</a></p>\n\n<p>you need to have <code>@Transactional(Transactional.TxType.REQUIRES_NEW)</code> </p>\n"}],"owner":{"account_id":3231382,"reputation":2066,"user_id":2726561,"accept_rate":100,"display_name":"Vololodymyr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1252,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25267457,"answer_count":1,"score":3,"last_activity_date":1643128503,"creation_date":1407854456,"question_id":25267209,"body_markdown":"after calling a method, which is working with database (JPA) I am getting warnings:\r\n    \r\n    @Named    \r\n    public class SomeClass{\r\n        \r\n    @PersistenceContext(unitName = &quot;jpaLayer&quot;)\r\n    private EntityManager entityManager;\r\n            .....\r\n            .....\r\n        @Transactional\r\n        public T save(T entity) {\r\n                entityManager.persist(entity);\r\n                return entity;\r\n        }\r\n    }\r\n\r\n***Managed bean with Transactional annotation and TxType of REQUIRED called outside a transaction context.  Beginning a transaction...***\r\n\r\nBut then its generating SQL query and everything is OK.\r\n\r\n*Info:   Hibernate: insert into ALL_USERS_EXMPL (DATE_ADDED, login, password) values (?, ?, ?)*\r\n\r\nHow can I get rid of these warnings?","title":"CDI Transactions warnings","body":"<p>after calling a method, which is working with database (JPA) I am getting warnings:</p>\n<pre><code>@Named    \npublic class SomeClass{\n    \n@PersistenceContext(unitName = &quot;jpaLayer&quot;)\nprivate EntityManager entityManager;\n        .....\n        .....\n    @Transactional\n    public T save(T entity) {\n            entityManager.persist(entity);\n            return entity;\n    }\n}\n</code></pre>\n<p><em><strong>Managed bean with Transactional annotation and TxType of REQUIRED called outside a transaction context.  Beginning a transaction...</strong></em></p>\n<p>But then its generating SQL query and everything is OK.</p>\n<p><em>Info:   Hibernate: insert into ALL_USERS_EXMPL (DATE_ADDED, login, password) values (?, ?, ?)</em></p>\n<p>How can I get rid of these warnings?</p>\n"},{"tags":["java","spring","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":1612800,"reputation":139,"user_id":1491295,"display_name":"Alan Moffet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643128263,"creation_date":1643128263,"answer_id":70852259,"question_id":70703233,"body_markdown":"The use of timed() works great when the flow is not iterative.  When the flow is iterative - as in the example, then you need to consider the &quot;mechanics&quot; - that the duration measured is the time between signals.","title":"Using &quot;timed()&quot; to find out how much time a Reactor operator is taking","body":"<p>The use of timed() works great when the flow is not iterative.  When the flow is iterative - as in the example, then you need to consider the &quot;mechanics&quot; - that the duration measured is the time between signals.</p>\n"}],"owner":{"account_id":1612800,"reputation":139,"user_id":1491295,"display_name":"Alan Moffet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":890,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643128263,"creation_date":1642108778,"question_id":70703233,"body_markdown":"I&#39;m sure this is just a great opportunity for me to learn more - I&#39;m looking forward to the answers - thanks in advance!\r\n\r\nI&#39;ve been playing with timed() to try and determine which part of my reactive flow is taking a lot of time (not sure if this is the best way or whether to write my own subscriber - but I always look for existing solutions from really bright people first). \r\n\r\nI am seeing some really interesting things.  Here&#39;s a simple flow:\r\n\r\n```\r\nFlux.range(0, 10)\r\n      .log(&quot;range&quot;)\r\n      .map(String::valueOf)\r\n      .timed()\r\n      .log(&quot;map&quot;)\r\n      .map(t -&gt; &quot;value-&quot; + t.get())\r\n      .timed()\r\n      .log(&quot;concat&quot;)\r\n      .subscribe();\r\n```\r\n\r\nIf I understand this correctly, I expect that the &quot;map&quot; log would show \r\n\r\n 1. the elapsed time between subscription to onNext for the first item\r\n 2. the elapsed time between onNext(s) for subsequent items\r\n\r\nThen, the &quot;concat&quot; log would show the same for the 2nd map operator, which should include the amount of time taken to perform the 1st map operation (plus some).  \r\n\r\nThe scenario doesn&#39;t involve threading (although I admit that it could and would be ok by the specification), and the logs seem to indicate that there is a linear flow of\r\n`range-&gt;map-&gt;map` for onNext operations.\r\n\r\nThere is variability in the fact that the entire flow must be completed - upstream and downstream of an operator I&#39;m timing - before the next onNext() is invoked - so the multiple timed() such as I am doing here isn&#39;t really great - and is probably not a good fit for trying to find expensive &quot;sub flows&quot;. Where there is no loop - such as when dealing with a web request flow, timed() is useful. \r\n\r\nI can&#39;t use general metrics to troubleshoot the real issue because I need to see the behavior for a particular condition (I need a trace-span that triggers on a predicate for a flow where each operator has its own span).\r\n\r\nBut with this particular solution, I&#39;m seeing something I didn&#39;t expect.\r\n\r\nLooking at the logs, it seems that there are some odd durations.  It appears that every other (or something like that) onNext(), the &quot;concat&quot; operation is shorter in duration than the &quot;map&quot; operation. See the log entries for values 1, 3, 6 ...\r\n\r\nThe Scheduler used to obtain the nanotime doesn&#39;t change.  The subscribers seem to be behaving as expected.  I must be overlooking something and there&#39;s something cool to learn about.\r\n\r\nLooking at FluxTimed and FluxMapFuseable isn&#39;t yielding the answer to me right away (but I will keep looking). Or is it just as simple as the fact that sometimes &quot;circling around&quot; to the next `range-&gt;map` is actually quite a bit faster than other times?\r\n\r\nAny ideas?  Other than that oddity, everything else seems to be working as expected.\r\n\r\nThe logs from the provided test (supplemented with some additional logging I added in FluxTimed) are:\r\n\r\n```\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.61Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_SUBSCRIBE&quot;,&quot;arg1&quot;:&quot;[Fuseable] FluxOnAssembly.OnAssemblySubscriber&quot;,&quot;message&quot;:&quot;| onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.63Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_SUBSCRIBE&quot;,&quot;arg1&quot;:&quot;[Fuseable] FluxOnAssembly.OnAssemblySubscriber&quot;,&quot;message&quot;:&quot;| onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.63Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_SUBSCRIBE&quot;,&quot;arg1&quot;:&quot;[Fuseable] FluxOnAssembly.OnAssemblySubscriber&quot;,&quot;message&quot;:&quot;| onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.631Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;REQUEST&quot;,&quot;arg1&quot;:&quot;unbounded&quot;,&quot;message&quot;:&quot;| request(unbounded)&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.631Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;REQUEST&quot;,&quot;arg1&quot;:&quot;unbounded&quot;,&quot;message&quot;:&quot;| request(unbounded)&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.632Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;REQUEST&quot;,&quot;arg1&quot;:&quot;unbounded&quot;,&quot;message&quot;:&quot;| request(unbounded)&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.632Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:0,&quot;message&quot;:&quot;| onNext(0)&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value 0\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684449908952 for value 0\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684454327472 for value 0\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.635Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(0){eventElapsedNanos=4418520, eventElapsedSinceSubscriptionNanos=4418520,  eventTimestampEpochMillis=1642106023635})&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value value-0\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684450236435 for value value-0\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684469141337 for value value-0\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.649Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-0){eventElapsedNanos=18904902, eventElapsedSinceSubscriptionNanos=18904902,  eventTimestampEpochMillis=1642106023649})&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.65Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:1,&quot;message&quot;:&quot;| onNext(1)&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value 1\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684454327472 for value 1\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684469639473 for value 1\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.65Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(1){eventElapsedNanos=15312001, eventElapsedSinceSubscriptionNanos=19730521,  eventTimestampEpochMillis=1642106023650})&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value value-1\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684469141337 for value value-1\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684469857807 for value value-1\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.65Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-1){eventElapsedNanos=716470, eventElapsedSinceSubscriptionNanos=19621372,  eventTimestampEpochMillis=1642106023650})&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.65Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:2,&quot;message&quot;:&quot;| onNext(2)&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value 2\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684469639473 for value 2\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684470234342 for value 2\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.65Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(2){eventElapsedNanos=594869, eventElapsedSinceSubscriptionNanos=20325390,  eventTimestampEpochMillis=1642106023650})&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value value-2\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684469857807 for value value-2\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684470457218 for value value-2\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.651Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-2){eventElapsedNanos=599411, eventElapsedSinceSubscriptionNanos=20220783,  eventTimestampEpochMillis=1642106023651})&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.651Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:3,&quot;message&quot;:&quot;| onNext(3)&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value 3\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684470234342 for value 3\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684470833983 for value 3\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.651Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(3){eventElapsedNanos=599641, eventElapsedSinceSubscriptionNanos=20925031,  eventTimestampEpochMillis=1642106023651})&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value value-3\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684470457218 for value value-3\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684471033203 for value value-3\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.651Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-3){eventElapsedNanos=575985, eventElapsedSinceSubscriptionNanos=20796768,  eventTimestampEpochMillis=1642106023651})&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.651Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:4,&quot;message&quot;:&quot;| onNext(4)&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value 4\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684470833983 for value 4\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684471372015 for value 4\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.652Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(4){eventElapsedNanos=538032, eventElapsedSinceSubscriptionNanos=21463063,  eventTimestampEpochMillis=1642106023652})&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value value-4\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684471033203 for value value-4\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684471576037 for value value-4\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.652Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-4){eventElapsedNanos=542834, eventElapsedSinceSubscriptionNanos=21339602,  eventTimestampEpochMillis=1642106023652})&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.652Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:5,&quot;message&quot;:&quot;| onNext(5)&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value 5\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684471372015 for value 5\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684471912756 for value 5\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.652Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(5){eventElapsedNanos=540741, eventElapsedSinceSubscriptionNanos=22003804,  eventTimestampEpochMillis=1642106023652})&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value value-5\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684471576037 for value value-5\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684472149299 for value value-5\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.652Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-5){eventElapsedNanos=573262, eventElapsedSinceSubscriptionNanos=21912864,  eventTimestampEpochMillis=1642106023652})&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.653Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:6,&quot;message&quot;:&quot;| onNext(6)&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value 6\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684471912756 for value 6\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684472505546 for value 6\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.653Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(6){eventElapsedNanos=592790, eventElapsedSinceSubscriptionNanos=22596594,  eventTimestampEpochMillis=1642106023653})&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value value-6\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684472149299 for value value-6\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684472720603 for value value-6\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.653Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-6){eventElapsedNanos=571304, eventElapsedSinceSubscriptionNanos=22484168,  eventTimestampEpochMillis=1642106023653})&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.653Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:7,&quot;message&quot;:&quot;| onNext(7)&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value 7\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684472505546 for value 7\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684473196354 for value 7\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.653Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(7){eventElapsedNanos=690808, eventElapsedSinceSubscriptionNanos=23287402,  eventTimestampEpochMillis=1642106023653})&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value value-7\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684472720603 for value value-7\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684473426400 for value value-7\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.654Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-7){eventElapsedNanos=705797, eventElapsedSinceSubscriptionNanos=23189965,  eventTimestampEpochMillis=1642106023654})&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.654Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:8,&quot;message&quot;:&quot;| onNext(8)&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value 8\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684473196354 for value 8\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684473798044 for value 8\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.654Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(8){eventElapsedNanos=601690, eventElapsedSinceSubscriptionNanos=23889092,  eventTimestampEpochMillis=1642106023654})&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value value-8\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684473426400 for value value-8\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684474036903 for value value-8\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.654Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-8){eventElapsedNanos=610503, eventElapsedSinceSubscriptionNanos=23800468,  eventTimestampEpochMillis=1642106023654})&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.654Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:9,&quot;message&quot;:&quot;| onNext(9)&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value 9\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684473798044 for value 9\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684474393764 for value 9\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.655Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(9){eventElapsedNanos=595720, eventElapsedSinceSubscriptionNanos=24484812,  eventTimestampEpochMillis=1642106023655})&quot;}\r\n\r\nCurrent thread is: Thread[main,5,main] for value value-9\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684474036903 for value value-9\r\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684474594071 for value value-9\r\n\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.655Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-9){eventElapsedNanos=557168, eventElapsedSinceSubscriptionNanos=24357636,  eventTimestampEpochMillis=1642106023655})&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.656Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_COMPLETE&quot;,&quot;arg1&quot;:&quot;&quot;,&quot;message&quot;:&quot;| onComplete()&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.656Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_COMPLETE&quot;,&quot;arg1&quot;:&quot;&quot;,&quot;message&quot;:&quot;| onComplete()&quot;}\r\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.656Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_COMPLETE&quot;,&quot;arg1&quot;:&quot;&quot;,&quot;message&quot;:&quot;| onComplete()&quot;}\r\n```","title":"Using &quot;timed()&quot; to find out how much time a Reactor operator is taking","body":"<p>I'm sure this is just a great opportunity for me to learn more - I'm looking forward to the answers - thanks in advance!</p>\n<p>I've been playing with timed() to try and determine which part of my reactive flow is taking a lot of time (not sure if this is the best way or whether to write my own subscriber - but I always look for existing solutions from really bright people first).</p>\n<p>I am seeing some really interesting things.  Here's a simple flow:</p>\n<pre><code>Flux.range(0, 10)\n      .log(&quot;range&quot;)\n      .map(String::valueOf)\n      .timed()\n      .log(&quot;map&quot;)\n      .map(t -&gt; &quot;value-&quot; + t.get())\n      .timed()\n      .log(&quot;concat&quot;)\n      .subscribe();\n</code></pre>\n<p>If I understand this correctly, I expect that the &quot;map&quot; log would show</p>\n<ol>\n<li>the elapsed time between subscription to onNext for the first item</li>\n<li>the elapsed time between onNext(s) for subsequent items</li>\n</ol>\n<p>Then, the &quot;concat&quot; log would show the same for the 2nd map operator, which should include the amount of time taken to perform the 1st map operation (plus some).</p>\n<p>The scenario doesn't involve threading (although I admit that it could and would be ok by the specification), and the logs seem to indicate that there is a linear flow of\n<code>range-&gt;map-&gt;map</code> for onNext operations.</p>\n<p>There is variability in the fact that the entire flow must be completed - upstream and downstream of an operator I'm timing - before the next onNext() is invoked - so the multiple timed() such as I am doing here isn't really great - and is probably not a good fit for trying to find expensive &quot;sub flows&quot;. Where there is no loop - such as when dealing with a web request flow, timed() is useful.</p>\n<p>I can't use general metrics to troubleshoot the real issue because I need to see the behavior for a particular condition (I need a trace-span that triggers on a predicate for a flow where each operator has its own span).</p>\n<p>But with this particular solution, I'm seeing something I didn't expect.</p>\n<p>Looking at the logs, it seems that there are some odd durations.  It appears that every other (or something like that) onNext(), the &quot;concat&quot; operation is shorter in duration than the &quot;map&quot; operation. See the log entries for values 1, 3, 6 ...</p>\n<p>The Scheduler used to obtain the nanotime doesn't change.  The subscribers seem to be behaving as expected.  I must be overlooking something and there's something cool to learn about.</p>\n<p>Looking at FluxTimed and FluxMapFuseable isn't yielding the answer to me right away (but I will keep looking). Or is it just as simple as the fact that sometimes &quot;circling around&quot; to the next <code>range-&gt;map</code> is actually quite a bit faster than other times?</p>\n<p>Any ideas?  Other than that oddity, everything else seems to be working as expected.</p>\n<p>The logs from the provided test (supplemented with some additional logging I added in FluxTimed) are:</p>\n<pre><code>{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.61Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_SUBSCRIBE&quot;,&quot;arg1&quot;:&quot;[Fuseable] FluxOnAssembly.OnAssemblySubscriber&quot;,&quot;message&quot;:&quot;| onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.63Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_SUBSCRIBE&quot;,&quot;arg1&quot;:&quot;[Fuseable] FluxOnAssembly.OnAssemblySubscriber&quot;,&quot;message&quot;:&quot;| onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.63Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_SUBSCRIBE&quot;,&quot;arg1&quot;:&quot;[Fuseable] FluxOnAssembly.OnAssemblySubscriber&quot;,&quot;message&quot;:&quot;| onSubscribe([Fuseable] FluxOnAssembly.OnAssemblySubscriber)&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.631Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;REQUEST&quot;,&quot;arg1&quot;:&quot;unbounded&quot;,&quot;message&quot;:&quot;| request(unbounded)&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.631Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;REQUEST&quot;,&quot;arg1&quot;:&quot;unbounded&quot;,&quot;message&quot;:&quot;| request(unbounded)&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.632Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;REQUEST&quot;,&quot;arg1&quot;:&quot;unbounded&quot;,&quot;message&quot;:&quot;| request(unbounded)&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.632Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:0,&quot;message&quot;:&quot;| onNext(0)&quot;}\n\nCurrent thread is: Thread[main,5,main] for value 0\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684449908952 for value 0\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684454327472 for value 0\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.635Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(0){eventElapsedNanos=4418520, eventElapsedSinceSubscriptionNanos=4418520,  eventTimestampEpochMillis=1642106023635})&quot;}\n\nCurrent thread is: Thread[main,5,main] for value value-0\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684450236435 for value value-0\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684469141337 for value value-0\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.649Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-0){eventElapsedNanos=18904902, eventElapsedSinceSubscriptionNanos=18904902,  eventTimestampEpochMillis=1642106023649})&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.65Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:1,&quot;message&quot;:&quot;| onNext(1)&quot;}\n\nCurrent thread is: Thread[main,5,main] for value 1\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684454327472 for value 1\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684469639473 for value 1\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.65Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(1){eventElapsedNanos=15312001, eventElapsedSinceSubscriptionNanos=19730521,  eventTimestampEpochMillis=1642106023650})&quot;}\n\nCurrent thread is: Thread[main,5,main] for value value-1\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684469141337 for value value-1\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684469857807 for value value-1\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.65Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-1){eventElapsedNanos=716470, eventElapsedSinceSubscriptionNanos=19621372,  eventTimestampEpochMillis=1642106023650})&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.65Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:2,&quot;message&quot;:&quot;| onNext(2)&quot;}\n\nCurrent thread is: Thread[main,5,main] for value 2\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684469639473 for value 2\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684470234342 for value 2\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.65Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(2){eventElapsedNanos=594869, eventElapsedSinceSubscriptionNanos=20325390,  eventTimestampEpochMillis=1642106023650})&quot;}\n\nCurrent thread is: Thread[main,5,main] for value value-2\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684469857807 for value value-2\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684470457218 for value value-2\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.651Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-2){eventElapsedNanos=599411, eventElapsedSinceSubscriptionNanos=20220783,  eventTimestampEpochMillis=1642106023651})&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.651Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:3,&quot;message&quot;:&quot;| onNext(3)&quot;}\n\nCurrent thread is: Thread[main,5,main] for value 3\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684470234342 for value 3\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684470833983 for value 3\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.651Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(3){eventElapsedNanos=599641, eventElapsedSinceSubscriptionNanos=20925031,  eventTimestampEpochMillis=1642106023651})&quot;}\n\nCurrent thread is: Thread[main,5,main] for value value-3\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684470457218 for value value-3\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684471033203 for value value-3\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.651Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-3){eventElapsedNanos=575985, eventElapsedSinceSubscriptionNanos=20796768,  eventTimestampEpochMillis=1642106023651})&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.651Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:4,&quot;message&quot;:&quot;| onNext(4)&quot;}\n\nCurrent thread is: Thread[main,5,main] for value 4\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684470833983 for value 4\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684471372015 for value 4\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.652Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(4){eventElapsedNanos=538032, eventElapsedSinceSubscriptionNanos=21463063,  eventTimestampEpochMillis=1642106023652})&quot;}\n\nCurrent thread is: Thread[main,5,main] for value value-4\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684471033203 for value value-4\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684471576037 for value value-4\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.652Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-4){eventElapsedNanos=542834, eventElapsedSinceSubscriptionNanos=21339602,  eventTimestampEpochMillis=1642106023652})&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.652Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:5,&quot;message&quot;:&quot;| onNext(5)&quot;}\n\nCurrent thread is: Thread[main,5,main] for value 5\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684471372015 for value 5\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684471912756 for value 5\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.652Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(5){eventElapsedNanos=540741, eventElapsedSinceSubscriptionNanos=22003804,  eventTimestampEpochMillis=1642106023652})&quot;}\n\nCurrent thread is: Thread[main,5,main] for value value-5\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684471576037 for value value-5\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684472149299 for value value-5\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.652Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-5){eventElapsedNanos=573262, eventElapsedSinceSubscriptionNanos=21912864,  eventTimestampEpochMillis=1642106023652})&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.653Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:6,&quot;message&quot;:&quot;| onNext(6)&quot;}\n\nCurrent thread is: Thread[main,5,main] for value 6\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684471912756 for value 6\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684472505546 for value 6\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.653Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(6){eventElapsedNanos=592790, eventElapsedSinceSubscriptionNanos=22596594,  eventTimestampEpochMillis=1642106023653})&quot;}\n\nCurrent thread is: Thread[main,5,main] for value value-6\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684472149299 for value value-6\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684472720603 for value value-6\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.653Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-6){eventElapsedNanos=571304, eventElapsedSinceSubscriptionNanos=22484168,  eventTimestampEpochMillis=1642106023653})&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.653Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:7,&quot;message&quot;:&quot;| onNext(7)&quot;}\n\nCurrent thread is: Thread[main,5,main] for value 7\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684472505546 for value 7\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684473196354 for value 7\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.653Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(7){eventElapsedNanos=690808, eventElapsedSinceSubscriptionNanos=23287402,  eventTimestampEpochMillis=1642106023653})&quot;}\n\nCurrent thread is: Thread[main,5,main] for value value-7\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684472720603 for value value-7\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684473426400 for value value-7\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.654Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-7){eventElapsedNanos=705797, eventElapsedSinceSubscriptionNanos=23189965,  eventTimestampEpochMillis=1642106023654})&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.654Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:8,&quot;message&quot;:&quot;| onNext(8)&quot;}\n\nCurrent thread is: Thread[main,5,main] for value 8\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684473196354 for value 8\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684473798044 for value 8\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.654Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(8){eventElapsedNanos=601690, eventElapsedSinceSubscriptionNanos=23889092,  eventTimestampEpochMillis=1642106023654})&quot;}\n\nCurrent thread is: Thread[main,5,main] for value value-8\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684473426400 for value value-8\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684474036903 for value value-8\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.654Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-8){eventElapsedNanos=610503, eventElapsedSinceSubscriptionNanos=23800468,  eventTimestampEpochMillis=1642106023654})&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.654Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:9,&quot;message&quot;:&quot;| onNext(9)&quot;}\n\nCurrent thread is: Thread[main,5,main] for value 9\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 lastEventNanos is 99684473798044 for value 9\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@113d0f75 clock 1309713184 has now time of 99684474393764 for value 9\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.655Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(9){eventElapsedNanos=595720, eventElapsedSinceSubscriptionNanos=24484812,  eventTimestampEpochMillis=1642106023655})&quot;}\n\nCurrent thread is: Thread[main,5,main] for value value-9\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 lastEventNanos is 99684474036903 for value value-9\nFor subscriber reactor.core.publisher.FluxTimed$TimedSubscriber@7037a680 clock 1309713184 has now time of 99684474594071 for value value-9\n\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.655Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_NEXT&quot;,&quot;arg1&quot;:{},&quot;message&quot;:&quot;| onNext(Timed(value-9){eventElapsedNanos=557168, eventElapsedSinceSubscriptionNanos=24357636,  eventTimestampEpochMillis=1642106023655})&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.656Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;range&quot;,&quot;arg0&quot;:&quot;ON_COMPLETE&quot;,&quot;arg1&quot;:&quot;&quot;,&quot;message&quot;:&quot;| onComplete()&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.656Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;map&quot;,&quot;arg0&quot;:&quot;ON_COMPLETE&quot;,&quot;arg1&quot;:&quot;&quot;,&quot;message&quot;:&quot;| onComplete()&quot;}\n{&quot;@timestamp&quot;:&quot;2022-01-13T20:33:43.656Z&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;logger_name&quot;:&quot;concat&quot;,&quot;arg0&quot;:&quot;ON_COMPLETE&quot;,&quot;arg1&quot;:&quot;&quot;,&quot;message&quot;:&quot;| onComplete()&quot;}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"score":0,"creation_date":1392875162,"post_id":21897184,"comment_id":33164130,"body_markdown":"Think about how recursion works -- you push the current state onto the program stack, process the new subset of the data, return the result to the caller, pop the previous state back off the stack and continue. All you&#39;re really doing in this exercise is to replace call/return with push-iterate-pop.","body":"Think about how recursion works -- you push the current state onto the program stack, process the new subset of the data, return the result to the caller, pop the previous state back off the stack and continue. All you&#39;re really doing in this exercise is to replace call/return with push-iterate-pop."}],"answers":[{"tags":[],"owner":{"account_id":4028938,"reputation":4478,"user_id":3315914,"display_name":"rpax"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1475334855,"creation_date":1400242814,"answer_id":23695092,"question_id":21897184,"body_markdown":"The most important thing is to understand how the algorithm works. From [Wikipedia][1]:\r\n\r\n&gt; Conceptually, a merge sort works as follows:\r\n&gt; \r\n&gt; Divide the unsorted list into n sublists, each containing 1 element (a\r\n&gt; list of 1 element is considered sorted). Repeatedly merge sublists to\r\n&gt; produce new sorted sublists until there is only 1 sublist remaining.\r\n&gt; This will be the sorted list.\r\n\r\n![Mergesort animation][2]\r\n\r\n\r\n**Solution 1**: With a queue.\r\n\r\n\r\n----------\r\n\r\n\r\n    static int[] mergeSortQueue(int[] A) {\r\n    \t\tQueue&lt;int[]&gt; queue = new LinkedList&lt;int[]&gt;();\r\n    \t\t\r\n    \t\r\n    \t\tfor (int i = 0; i &lt; A.length; i++)\r\n    \t\t{\r\n    \t\t\tqueue.add(new int[]{A[i]});\r\n    \t\t}\r\n    \t\twhile (queue.size()&gt;1)\r\n    \t\t{\r\n    \t\t\t\tint[] r = queue.poll();\r\n    \t\t\t\tint[] l = queue.poll();\r\n    \t\t\t\tint[] merged=merge(l, r);\r\n    \t\t\t\tqueue.add(merged);\t\r\n    \t\t}\r\n    \t\treturn queue.poll();\r\n    \t\t\r\n    \r\n    \t}\r\n\r\n\r\n----------\r\n\r\nGraphically,\r\n\r\n![mergesort_queue][3]\r\n\r\n\r\n----------\r\n\r\n**Solution 2**: With two stacks\r\n\r\n----------\r\n\r\nThis is a bit more complex.\r\n\r\nIt basically consists on merging the elements of the first stack, inserting them into the second stack, until only one remains.\r\n\r\n\r\n\r\n    static int[] mergeSortStacks(int[] A) {\r\n    \t\tStack&lt;int[]&gt; stack = new Stack&lt;int[]&gt;();\r\n    \t\tStack&lt;int[]&gt; stack2 = new Stack&lt;int[]&gt;();\r\n    \t\r\n    \t\tfor (int i = 0; i &lt; A.length; i++)\r\n    \t\t{\r\n    \t\t\tstack.push(new int[]{A[i]});\r\n    \t\t}\r\n    \t\twhile (stack.size()&gt;1)\r\n    \t\t{\r\n    \t\t\twhile (stack.size()&gt;1)\r\n    \t\t\t{\r\n    \r\n    \t\t\t\tint[] r = stack.pop();\r\n    \t\t\t\tint[] l = stack.pop();\r\n    \t\t\t\tint[] merged=merge(l, r);\r\n    \t\t\t\tstack2.push(merged);\r\n    \t\t\t}\r\n    \t\t\twhile (stack2.size()&gt;1)\r\n    \t\t\t{\r\n    \r\n    \t\t\t\tint[] r = stack2.pop();\r\n    \t\t\t\tint[] l = stack2.pop();\r\n    \t\t\t\tint[] merged=merge(l, r);\r\n    \t\t\t\tstack.push(merged);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn stack.isEmpty() ? stack2.pop() : stack.pop();\r\n    \t\t\r\n    \r\n    \t}\r\n\r\n----------\r\nGraphically,\r\n\r\n[![enter image description here][4]][4]\r\n----------\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Merge_sort\r\n  [2]: http://i.stack.imgur.com/cuMXh.gif\r\n  [3]: http://i.stack.imgur.com/y9h6X.gif\r\n  [4]: http://i.stack.imgur.com/SiSB9.gif","title":"Using Stacks for a Non-Recursive MergeSort?","body":"<p>The most important thing is to understand how the algorithm works. From <a href=\"http://en.wikipedia.org/wiki/Merge_sort\" rel=\"noreferrer\">Wikipedia</a>:</p>\n\n<blockquote>\n  <p>Conceptually, a merge sort works as follows:</p>\n  \n  <p>Divide the unsorted list into n sublists, each containing 1 element (a\n  list of 1 element is considered sorted). Repeatedly merge sublists to\n  produce new sorted sublists until there is only 1 sublist remaining.\n  This will be the sorted list.</p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/cuMXh.gif\" alt=\"Mergesort animation\"></p>\n\n<p><strong>Solution 1</strong>: With a queue.</p>\n\n<hr>\n\n<pre><code>static int[] mergeSortQueue(int[] A) {\n        Queue&lt;int[]&gt; queue = new LinkedList&lt;int[]&gt;();\n\n\n        for (int i = 0; i &lt; A.length; i++)\n        {\n            queue.add(new int[]{A[i]});\n        }\n        while (queue.size()&gt;1)\n        {\n                int[] r = queue.poll();\n                int[] l = queue.poll();\n                int[] merged=merge(l, r);\n                queue.add(merged);  \n        }\n        return queue.poll();\n\n\n    }\n</code></pre>\n\n<hr>\n\n<p>Graphically,</p>\n\n<p><img src=\"https://i.stack.imgur.com/y9h6X.gif\" alt=\"mergesort_queue\"></p>\n\n<hr>\n\n<p><strong>Solution 2</strong>: With two stacks</p>\n\n<hr>\n\n<p>This is a bit more complex.</p>\n\n<p>It basically consists on merging the elements of the first stack, inserting them into the second stack, until only one remains.</p>\n\n<pre><code>static int[] mergeSortStacks(int[] A) {\n        Stack&lt;int[]&gt; stack = new Stack&lt;int[]&gt;();\n        Stack&lt;int[]&gt; stack2 = new Stack&lt;int[]&gt;();\n\n        for (int i = 0; i &lt; A.length; i++)\n        {\n            stack.push(new int[]{A[i]});\n        }\n        while (stack.size()&gt;1)\n        {\n            while (stack.size()&gt;1)\n            {\n\n                int[] r = stack.pop();\n                int[] l = stack.pop();\n                int[] merged=merge(l, r);\n                stack2.push(merged);\n            }\n            while (stack2.size()&gt;1)\n            {\n\n                int[] r = stack2.pop();\n                int[] l = stack2.pop();\n                int[] merged=merge(l, r);\n                stack.push(merged);\n            }\n        }\n        return stack.isEmpty() ? stack2.pop() : stack.pop();\n\n\n    }\n</code></pre>\n\n<hr>\n\n<p>Graphically,</p>\n\n<h2><a href=\"https://i.stack.imgur.com/SiSB9.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SiSB9.gif\" alt=\"enter image description here\"></a></h2>\n"},{"tags":[],"owner":{"account_id":24051503,"reputation":1,"user_id":18029936,"display_name":"gsgopinaath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643128034,"creation_date":1643128034,"answer_id":70852202,"question_id":21897184,"body_markdown":"    private int[] merge(int[] left, int[] right) {\r\n        int ll = left.length;\r\n        int rl = right.length;\r\n\r\n        int[] mergedArray = new int[ll + rl];\r\n        int l = 0;\r\n        int r = 0;\r\n        int i = 0;\r\n        while (l &lt; ll &amp;&amp; r &lt; rl) {\r\n            if (left[l] &lt; right[r]) {\r\n                mergedArray[i++] = left[l++];\r\n            } else {\r\n                mergedArray[i++] = right[r++];\r\n            }\r\n        }\r\n        while (l &lt; ll) {\r\n            mergedArray[i++] = left[l++];\r\n        }\r\n        while (r &lt; rl) {\r\n            mergedArray[i++] = right[r++];\r\n        }\r\n        return mergedArray;\r\n    }","title":"Using Stacks for a Non-Recursive MergeSort?","body":"<pre><code>private int[] merge(int[] left, int[] right) {\n    int ll = left.length;\n    int rl = right.length;\n\n    int[] mergedArray = new int[ll + rl];\n    int l = 0;\n    int r = 0;\n    int i = 0;\n    while (l &lt; ll &amp;&amp; r &lt; rl) {\n        if (left[l] &lt; right[r]) {\n            mergedArray[i++] = left[l++];\n        } else {\n            mergedArray[i++] = right[r++];\n        }\n    }\n    while (l &lt; ll) {\n        mergedArray[i++] = left[l++];\n    }\n    while (r &lt; rl) {\n        mergedArray[i++] = right[r++];\n    }\n    return mergedArray;\n}\n</code></pre>\n"}],"owner":{"account_id":1156006,"reputation":838,"user_id":1136610,"accept_rate":59,"display_name":"svsav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8048,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":23695092,"answer_count":2,"score":6,"last_activity_date":1643128034,"creation_date":1392864953,"question_id":21897184,"body_markdown":"my professor assigned a problem in which we must use Stacks (or Queues) to make a non-recursive MergeSort. The current code is as follows:\r\n\r\n     private static void sort(Comparable[] a, int[] index, int[] aux, int lo, int hi) {\r\n        if (hi &lt;= lo) return;\r\n        int mid = lo + (hi - lo) / 2;\r\n        \r\n        sort(a, index, aux, lo, mid);\r\n        sort(a, index, aux, mid + 1, hi);\r\n        \r\n        merge(a, index, aux, lo, mid, hi);\r\n\r\nI&#39;m not sure how to approach this problem, and any help would be appreciated. I know that i must use a while loop to emulate the recursion. But how can I split the actual values? Also, how can I keep track of the middle of the partitioned values?\r\n\r\nI am really confused by the problem. Any help would be appreciated! ","title":"Using Stacks for a Non-Recursive MergeSort?","body":"<p>my professor assigned a problem in which we must use Stacks (or Queues) to make a non-recursive MergeSort. The current code is as follows:</p>\n\n<pre><code> private static void sort(Comparable[] a, int[] index, int[] aux, int lo, int hi) {\n    if (hi &lt;= lo) return;\n    int mid = lo + (hi - lo) / 2;\n\n    sort(a, index, aux, lo, mid);\n    sort(a, index, aux, mid + 1, hi);\n\n    merge(a, index, aux, lo, mid, hi);\n</code></pre>\n\n<p>I'm not sure how to approach this problem, and any help would be appreciated. I know that i must use a while loop to emulate the recursion. But how can I split the actual values? Also, how can I keep track of the middle of the partitioned values?</p>\n\n<p>I am really confused by the problem. Any help would be appreciated! </p>\n"},{"tags":["java","android-studio","utf-8","exoplayer","video-subtitles"],"comments":[{"owner":{"account_id":17326068,"reputation":31,"user_id":12550264,"display_name":"Pradipto SenSarma"},"score":0,"creation_date":1659733752,"post_id":70850537,"comment_id":129373334,"body_markdown":"Does this answer your question? [ExoPlayer - Weird Arabic/Persian Subtitles Format](https://stackoverflow.com/questions/48892533/exoplayer-weird-arabic-persian-subtitles-format)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48892533/exoplayer-weird-arabic-persian-subtitles-format\">ExoPlayer - Weird Arabic/Persian Subtitles Format</a>"}],"owner":{"account_id":24021296,"reputation":11,"user_id":18003549,"display_name":"JackMorris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643128021,"creation_date":1643121392,"question_id":70850537,"body_markdown":"I take subtitle from URL and display it in exoplayer, but the subtitle content is full of symbols because the language of the text is Arabic, Greek, Chinese, etc. How do I encode MediaScource to UTF8 before displaying it in the video?\r\n\r\nHere is my code to prepare the content of the subtitles:\r\n\r\n    MediaSource subtitleSource = \r\n        new SingleSampleMediaSource\r\n                .Factory(dataSourceFactory)\r\n                .createMediaSource(\r\n                    Uri.parse(subtitlesUrl), \r\n                    subtitleFormat, \r\n                    C.TIME_UNSET\r\n                )\r\n    ;\r\n\r\nWith this code it loads the subtitles correctly but only in English.","title":"Java UTF8 encoding Subtitles Content","body":"<p>I take subtitle from URL and display it in exoplayer, but the subtitle content is full of symbols because the language of the text is Arabic, Greek, Chinese, etc. How do I encode MediaScource to UTF8 before displaying it in the video?</p>\n<p>Here is my code to prepare the content of the subtitles:</p>\n<pre><code>MediaSource subtitleSource = \n    new SingleSampleMediaSource\n            .Factory(dataSourceFactory)\n            .createMediaSource(\n                Uri.parse(subtitlesUrl), \n                subtitleFormat, \n                C.TIME_UNSET\n            )\n;\n</code></pre>\n<p>With this code it loads the subtitles correctly but only in English.</p>\n"},{"tags":["java","string","double-quotes"],"comments":[{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1576731307,"post_id":59310303,"comment_id":104995520,"body_markdown":"Imagine entering in a large amount of text that is to be later part of an HTML document, or similarly flowed into (say) a resizable dialog box.  I want to enter in many &quot;lines&quot; worth of data *without* the `&quot;line&quot; + &quot;line&quot; + &quot;line&quot;`, etc., and without the EOL&#39;s showing up.  Avoiding such obtuse and hard to maintain syntax is entirely the point behind `&quot;&quot;&quot;`.","body":"Imagine entering in a large amount of text that is to be later part of an HTML document, or similarly flowed into (say) a resizable dialog box.  I want to enter in many &quot;lines&quot; worth of data <i>without</i> the <code>&quot;line&quot; + &quot;line&quot; + &quot;line&quot;</code>, etc., and without the EOL&#39;s showing up.  Avoiding such obtuse and hard to maintain syntax is entirely the point behind <code>&quot;&quot;&quot;</code>."}],"answers":[{"tags":[],"owner":{"account_id":2558889,"reputation":1277,"user_id":2220328,"accept_rate":75,"display_name":"Guillaume"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1576173592,"creation_date":1576173592,"answer_id":59310350,"question_id":59310303,"body_markdown":"\r\n`paragraph.replaceAll(&quot;\\\\n&quot;,&quot;&quot;)` should do the job for you.","title":"Java 13 Triple-quote Text Block *WITHOUT* newlines","body":"<p><code>paragraph.replaceAll(\"\\\\n\",\"\")</code> should do the job for you.</p>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1576175992,"creation_date":1576175538,"answer_id":59310813,"question_id":59310303,"body_markdown":"You can use **[`String.lines`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html#lines())** introduced since Java-11 as:\r\n\r\n    String output = paragraph.lines().collect(Collectors.joining());\r\n\r\n\r\nA complimentary and for what&#39;s worth it, here is a screenshot from JShell execution of the two different blocks of code:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RYTa3.jpg","title":"Java 13 Triple-quote Text Block *WITHOUT* newlines","body":"<p>You can use <strong><a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html#lines()\" rel=\"noreferrer\"><code>String.lines</code></a></strong> introduced since Java-11 as:</p>\n\n<pre><code>String output = paragraph.lines().collect(Collectors.joining());\n</code></pre>\n\n<p>A complimentary and for what's worth it, here is a screenshot from JShell execution of the two different blocks of code:</p>\n\n<p><a href=\"https://i.stack.imgur.com/RYTa3.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RYTa3.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1576181447,"creation_date":1576181145,"answer_id":59311972,"question_id":59310303,"body_markdown":"The designers of this feature realized this requirement as well (see [&#39;New escape sequences&#39;](https://openjdk.java.net/jeps/368#New-escape-sequences) in JEP368). So, with the latest early access build for [JDK 14](http://jdk.java.net/14/) you can use a trailing `\\` to escape the new line at the end of a line:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \t    String paragraph =\r\n    \t\t    &quot;&quot;&quot;\r\n    \t\t    aaaa bbbb cccc \\\r\n    \t\t    dddd eeee ffff \\\r\n    \t\t    gggg hhhh iiii \\\r\n    \t\t    &quot;&quot;&quot;;\r\n    \t    System.out.println(paragraph);\r\n        }\r\n    }\r\n\r\nPrints:\r\n\r\n    aaaa bbbb cccc dddd eeee ffff gggg hhhh iiii","title":"Java 13 Triple-quote Text Block *WITHOUT* newlines","body":"<p>The designers of this feature realized this requirement as well (see <a href=\"https://openjdk.java.net/jeps/368#New-escape-sequences\" rel=\"noreferrer\">'New escape sequences'</a> in JEP368). So, with the latest early access build for <a href=\"http://jdk.java.net/14/\" rel=\"noreferrer\">JDK 14</a> you can use a trailing <code>\\</code> to escape the new line at the end of a line:</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String paragraph =\n            \"\"\"\n            aaaa bbbb cccc \\\n            dddd eeee ffff \\\n            gggg hhhh iiii \\\n            \"\"\";\n        System.out.println(paragraph);\n    }\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>aaaa bbbb cccc dddd eeee ffff gggg hhhh iiii\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17647520,"reputation":374,"user_id":12808640,"display_name":"Chris T"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1637915946,"creation_date":1580360003,"answer_id":59979292,"question_id":59310303,"body_markdown":"Indeed, finding a good answer in Java 13 is not easy (maybe even impossible) but I think Jorn Vernee addressed the concern gracefully in his reply (new escape sequences in Java 14 provide an acceptable solution).\r\n\r\nTo expand on several listed concerns:\r\n\r\n - Holger mentions &quot;the &#39;text blocks&#39; feature is not very convincing&quot;. I have seen a lot of &quot;ugly&quot; code that does artificial string concatenation, so I think _the feature definitely addresses an issue_. On the other side, I have to agree that **a feature like this leaves a lot of room for abuse** (as in &quot;let us put a lot of text in the Java code because now we can nicely do it!&quot; - see the next point).\r\n - The original question mentions &quot;large paragraphs&quot; which make me advise not using this feature at all, but externalizing that content to resource files.\r\n - About the clarity and that certain aspects &quot;are not obvious to the reader, so we have a syntax with a non-obvious meaning&quot;. That is partly correct, and it takes some reading and experimentation while the available material is not that vast at this moment. I found this: [Programmer&#39;s Guide To Text Blocks][1], which provides quite a lot of examples. I also authored some examples, the one on text blocks being here: [TextBlocks.java][2].\r\n\r\n(Let&#39;s not forget that [text blocks are in &#39;second preview&#39; mode][3]).\r\n\r\n\r\n  [1]: http://cr.openjdk.java.net/~jlaskey/Strings/TextBlocksGuide_v10.html\r\n  [2]: https://github.com/knowledge-base-and-tutorials/java14-features/blob/master/src/main/java/com/github/kbnt/java14/tb/TextBlocks.java\r\n  [3]: https://openjdk.java.net/jeps/368","title":"Java 13 Triple-quote Text Block *WITHOUT* newlines","body":"<p>Indeed, finding a good answer in Java 13 is not easy (maybe even impossible) but I think Jorn Vernee addressed the concern gracefully in his reply (new escape sequences in Java 14 provide an acceptable solution).</p>\n<p>To expand on several listed concerns:</p>\n<ul>\n<li>Holger mentions &quot;the 'text blocks' feature is not very convincing&quot;. I have seen a lot of &quot;ugly&quot; code that does artificial string concatenation, so I think <em>the feature definitely addresses an issue</em>. On the other side, I have to agree that <strong>a feature like this leaves a lot of room for abuse</strong> (as in &quot;let us put a lot of text in the Java code because now we can nicely do it!&quot; - see the next point).</li>\n<li>The original question mentions &quot;large paragraphs&quot; which make me advise not using this feature at all, but externalizing that content to resource files.</li>\n<li>About the clarity and that certain aspects &quot;are not obvious to the reader, so we have a syntax with a non-obvious meaning&quot;. That is partly correct, and it takes some reading and experimentation while the available material is not that vast at this moment. I found this: <a href=\"http://cr.openjdk.java.net/%7Ejlaskey/Strings/TextBlocksGuide_v10.html\" rel=\"nofollow noreferrer\">Programmer's Guide To Text Blocks</a>, which provides quite a lot of examples. I also authored some examples, the one on text blocks being here: <a href=\"https://github.com/knowledge-base-and-tutorials/java14-features/blob/master/src/main/java/com/github/kbnt/java14/tb/TextBlocks.java\" rel=\"nofollow noreferrer\">TextBlocks.java</a>.</li>\n</ul>\n<p>(Let's not forget that <a href=\"https://openjdk.java.net/jeps/368\" rel=\"nofollow noreferrer\">text blocks are in 'second preview' mode</a>).</p>\n"},{"tags":[],"owner":{"account_id":24051319,"reputation":1,"user_id":18029775,"display_name":"Don Yessick"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1643128003,"creation_date":1643128003,"answer_id":70852192,"question_id":59310303,"body_markdown":"Why not just pull it through a scanner:\r\n\r\n       String strip(String multiline){\r\n          var scanner = new java.util.Scanner(multiline);\r\n          var text = scanner.next();\r\n          while (scanner.hasNext()) text += &quot; &quot;+ scanner.next();\r\n          return text;\r\n       }\r\n\r\n","title":"Java 13 Triple-quote Text Block *WITHOUT* newlines","body":"<p>Why not just pull it through a scanner:</p>\n<pre><code>   String strip(String multiline){\n      var scanner = new java.util.Scanner(multiline);\n      var text = scanner.next();\n      while (scanner.hasNext()) text += &quot; &quot;+ scanner.next();\n      return text;\n   }\n</code></pre>\n"}],"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6595,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":59311972,"answer_count":5,"score":25,"last_activity_date":1643128003,"creation_date":1576173338,"question_id":59310303,"body_markdown":"The Java 13 multi line text block facility with `&quot;&quot;&quot;` delimiters is becoming well known.\r\n\r\nHowever I have a recurring need where I need entire paragraphs without the embedded newlines.\r\n\r\nIn other words, the following code snippet:\r\n\r\n```\r\nString paragraph =\r\n    &quot;&quot;&quot;\r\n    aaaa bbbb cccc\r\n    dddd eeee ffff\r\n    gggg hhhh iiii\r\n    &quot;&quot;&quot;;\r\nSystem.out.println(paragraph);\r\n```\r\nproduces the following, as you&#39;d expect:\r\n\r\n```\r\naaaa bbbb cccc\r\ndddd eeee ffff\r\ngggg hhhh iiii\r\n```\r\n...which is usually tremendously useful.  However in my case, for particularly large paragraphs I need it to produce this:\r\n```\r\naaaa bbbb cccc dddd eeee ffff gggg hhhh iiii\r\n````\r\n(....and deal with text flow later.)\r\n\r\nIs there a way to establish a &quot;no-newline&quot; parameter for the triple-quote feature?","title":"Java 13 Triple-quote Text Block *WITHOUT* newlines","body":"<p>The Java 13 multi line text block facility with <code>&quot;&quot;&quot;</code> delimiters is becoming well known.</p>\n<p>However I have a recurring need where I need entire paragraphs without the embedded newlines.</p>\n<p>In other words, the following code snippet:</p>\n<pre><code>String paragraph =\n    &quot;&quot;&quot;\n    aaaa bbbb cccc\n    dddd eeee ffff\n    gggg hhhh iiii\n    &quot;&quot;&quot;;\nSystem.out.println(paragraph);\n</code></pre>\n<p>produces the following, as you'd expect:</p>\n<pre><code>aaaa bbbb cccc\ndddd eeee ffff\ngggg hhhh iiii\n</code></pre>\n<p>...which is usually tremendously useful.  However in my case, for particularly large paragraphs I need it to produce this:</p>\n<pre><code>aaaa bbbb cccc dddd eeee ffff gggg hhhh iiii\n</code></pre>\n<p>(....and deal with text flow later.)</p>\n<p>Is there a way to establish a &quot;no-newline&quot; parameter for the triple-quote feature?</p>\n"},{"tags":["java","swing","styleddocument"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1643135011,"post_id":70852076,"comment_id":125257965,"body_markdown":"A JTextPane is designed to display text and default background painting is based on the size of the text. Maybe its possible to create a custom `Painter` that ignores the bounds of the text. Check out [Rectangle Painter](https://tips4java.wordpress.com/2008/10/28/rectangle-painter/) for a basic example. However, a simpler approach might be to just use a JLabel for your text. Then you can do custom painting of the label and just insert the label into the text pane using the `insertComponent(....)` method of the JTextPane.","body":"A JTextPane is designed to display text and default background painting is based on the size of the text. Maybe its possible to create a custom <code>Painter</code> that ignores the bounds of the text. Check out <a href=\"https://tips4java.wordpress.com/2008/10/28/rectangle-painter/\" rel=\"nofollow noreferrer\">Rectangle Painter</a> for a basic example. However, a simpler approach might be to just use a JLabel for your text. Then you can do custom painting of the label and just insert the label into the text pane using the <code>insertComponent(....)</code> method of the JTextPane."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1643135033,"post_id":70852076,"comment_id":125257977,"body_markdown":"See: https://stackoverflow.com/a/16909994/131872 for an example of a custom Border similar to what you want.","body":"See: <a href=\"https://stackoverflow.com/a/16909994/131872\">stackoverflow.com/a/16909994/131872</a> for an example of a custom Border similar to what you want."},{"owner":{"account_id":19448399,"reputation":177,"user_id":14225385,"display_name":"Madar"},"score":0,"creation_date":1643184220,"post_id":70852076,"comment_id":125269276,"body_markdown":"Unfortunately, that doesn&#39;t help me at all, I&#39;m working with StyledDocument and not with JTextPane mate..","body":"Unfortunately, that doesn&#39;t help me at all, I&#39;m working with StyledDocument and not with JTextPane mate.."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1643210463,"post_id":70852076,"comment_id":125279562,"body_markdown":"Not sure what &quot;that&quot; refers to, I gave two suggestions. The insertComponent() method is just a convenience method. All data will ultimately be added to the Document. So if you only have access to the Document then you look at the source code to see what that method does and then replicate the code. See: https://github.com/openjdk/jdk/tree/master/src/java.desktop/share/classes/javax","body":"Not sure what &quot;that&quot; refers to, I gave two suggestions. The insertComponent() method is just a convenience method. All data will ultimately be added to the Document. So if you only have access to the Document then you look at the source code to see what that method does and then replicate the code. See: <a href=\"https://github.com/openjdk/jdk/tree/master/src/java.desktop/share/classes/javax\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/tree/master/src/java.desktop/share/&hellip;</a>"}],"owner":{"account_id":19448399,"reputation":177,"user_id":14225385,"display_name":"Madar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643127627,"creation_date":1643127627,"question_id":70852076,"body_markdown":"I&#39;m using StyledDocument and SimpleAttributeSet for my project but I&#39;m having an UI issue. \r\n\r\nHere is what I have with my code right now : \r\n[![enter image description here][1]][1]\r\n\r\nAnd here is what I would like to have : \r\n[![enter image description here][2]][2]\r\n\r\nThe first thing I&#39;m trying to have is the padding, because the background is too &quot;tight&quot; and so we see a lot of text and not a lot of blue but I don&#39;t know how to make the blue surface bigger. \r\n\r\nAnd then, if I can apply a radius it will be perfect but I can&#39;t manage to do it neither. \r\n\r\nHere is the code you&#39;ll need to reproduce what I have on the first image : \r\n\r\n     StyledDocument doc = chatBox.getStyledDocument(); \r\n    \r\n     SimpleAttributeSet rightO = new SimpleAttributeSet();\r\n     StyleConstants.setBackground(rightO, new Color(59,130,247));\r\n     StyleConstants.setForeground(rightO, new Color(255,255,255)); \r\n     StyleConstants.setFontSize(rightO, 14);\r\n    \r\n     SimpleAttributeSet blue = new SimpleAttributeSet(); \r\n     StyleConstants.setAlignment(blue, StyleConstants.ALIGN_RIGHT);\r\n     StyleConstants.setRightIndent(blue, 10);\r\n     StyleConstants.setLeftIndent(blue, 100);\r\n    \r\n     try {\r\n     doc.insertString(doc.getLength(), &quot;\\n&quot;+message.getContent(), rightO);\r\n     doc.setParagraphAttributes(doc.getLength() -    message.getContent().length(), doc.getLength(), blue, false);\r\n     } catch (BadLocationException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n     }\r\n       \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XIyK9.png\r\n  [2]: https://i.stack.imgur.com/Dq5Gz.png","title":"Java swing : StyledDocument padding and radius for paragraphs","body":"<p>I'm using StyledDocument and SimpleAttributeSet for my project but I'm having an UI issue.</p>\n<p>Here is what I have with my code right now :\n<a href=\"https://i.stack.imgur.com/XIyK9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XIyK9.png\" alt=\"enter image description here\" /></a></p>\n<p>And here is what I would like to have :\n<a href=\"https://i.stack.imgur.com/Dq5Gz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dq5Gz.png\" alt=\"enter image description here\" /></a></p>\n<p>The first thing I'm trying to have is the padding, because the background is too &quot;tight&quot; and so we see a lot of text and not a lot of blue but I don't know how to make the blue surface bigger.</p>\n<p>And then, if I can apply a radius it will be perfect but I can't manage to do it neither.</p>\n<p>Here is the code you'll need to reproduce what I have on the first image :</p>\n<pre><code> StyledDocument doc = chatBox.getStyledDocument(); \n\n SimpleAttributeSet rightO = new SimpleAttributeSet();\n StyleConstants.setBackground(rightO, new Color(59,130,247));\n StyleConstants.setForeground(rightO, new Color(255,255,255)); \n StyleConstants.setFontSize(rightO, 14);\n\n SimpleAttributeSet blue = new SimpleAttributeSet(); \n StyleConstants.setAlignment(blue, StyleConstants.ALIGN_RIGHT);\n StyleConstants.setRightIndent(blue, 10);\n StyleConstants.setLeftIndent(blue, 100);\n\n try {\n doc.insertString(doc.getLength(), &quot;\\n&quot;+message.getContent(), rightO);\n doc.setParagraphAttributes(doc.getLength() -    message.getContent().length(), doc.getLength(), blue, false);\n } catch (BadLocationException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n }\n   \n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8343,"page":1649,"page_size":100}
