{"items":[{"tags":["java","json","mongodb"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1642517960,"post_id":70757446,"comment_id":125088308,"body_markdown":"How do you like to use the conditions? Did you consider [precedence of boolean](https://www.bouraspage.com/repository/algorithmic-thinking/what-is-the-order-of-precedence-of-logical-operators) operators?","body":"How do you like to use the conditions? Did you consider <a href=\"https://www.bouraspage.com/repository/algorithmic-thinking/what-is-the-order-of-precedence-of-logical-operators\" rel=\"nofollow noreferrer\">precedence of boolean</a> operators?"},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1642518133,"post_id":70757446,"comment_id":125088386,"body_markdown":"`&quot;12-06-2012&quot;` is not a `Date`, it is a string! You would also need to specify the format or provide a `Date` object.","body":"<code>&quot;12-06-2012&quot;</code> is not a <code>Date</code>, it is a string! You would also need to specify the format or provide a <code>Date</code> object."},{"owner":{"account_id":7506867,"reputation":31,"user_id":5703122,"display_name":"Mounika Gaja"},"score":0,"creation_date":1642518883,"post_id":70757446,"comment_id":125088739,"body_markdown":"yes the condition we can pass it as we like but my worry is to build the query dynamically   , conditions are like &quot;and&quot;, &quot;or&quot;, etc and operator as &quot;like&quot;,&quot;gt&quot;,&quot;lt&quot;","body":"yes the condition we can pass it as we like but my worry is to build the query dynamically   , conditions are like &quot;and&quot;, &quot;or&quot;, etc and operator as &quot;like&quot;,&quot;gt&quot;,&quot;lt&quot;"}],"owner":{"account_id":7506867,"reputation":31,"user_id":5703122,"display_name":"Mounika Gaja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642516909,"creation_date":1642516909,"question_id":70757446,"body_markdown":"    [\r\n    \r\n    {\r\n      &quot;field_name&quot;: &quot;name&quot;,\r\n      &quot;field_type&quot;: &quot;string&quot;,\r\n      &quot;field_value&quot;: &quot;peter&quot;,\r\n      &quot;operator&quot;: &quot;equal&quot;,\r\n      &quot;condition&quot;: &quot;or&quot;\r\n    },{\r\n      &quot;field_name&quot;: &quot;status&quot;,\r\n      &quot;field_type&quot;: &quot;string&quot;,\r\n      &quot;field_value&quot;: &quot;draft&quot;,\r\n      &quot;operator&quot;: &quot;equal&quot;,\r\n      &quot;condition&quot;: &quot;and&quot;\r\n    }\r\n    {\r\n      &quot;field_name&quot;: &quot;created&quot;,\r\n      &quot;field_type&quot;: &quot;date&quot;,\r\n      &quot;field_value&quot;: &quot;12-06-2012&quot;,\r\n      &quot;operator&quot;: &quot;greaterthan&quot;,\r\n      &quot;condition&quot;: &quot;&quot;\r\n    }]\r\n\r\n\r\nprovided the json to the java controller, need to build the mongo DB query with the \r\nfilter options given in the above json as,\r\n\r\n    Query query=new Query();\r\n    query.addCriteria (Criteria.where(&quot;name&quot;).is(&quot;peter&quot;).or(&quot;status&quot;).is(&quot;draft&quot;).and(&quot;created&quot;).gt(12-06-2012))\r\n    mongoOperations.find(query,classname.class)\r\n\r\n\r\nPlease help me to iterate the json and build the query with multiple filters.\r\nThanks in advance.\r\n","title":"Build dynamic Mongo Query from the Json input -java","body":"<pre><code>[\n\n{\n  &quot;field_name&quot;: &quot;name&quot;,\n  &quot;field_type&quot;: &quot;string&quot;,\n  &quot;field_value&quot;: &quot;peter&quot;,\n  &quot;operator&quot;: &quot;equal&quot;,\n  &quot;condition&quot;: &quot;or&quot;\n},{\n  &quot;field_name&quot;: &quot;status&quot;,\n  &quot;field_type&quot;: &quot;string&quot;,\n  &quot;field_value&quot;: &quot;draft&quot;,\n  &quot;operator&quot;: &quot;equal&quot;,\n  &quot;condition&quot;: &quot;and&quot;\n}\n{\n  &quot;field_name&quot;: &quot;created&quot;,\n  &quot;field_type&quot;: &quot;date&quot;,\n  &quot;field_value&quot;: &quot;12-06-2012&quot;,\n  &quot;operator&quot;: &quot;greaterthan&quot;,\n  &quot;condition&quot;: &quot;&quot;\n}]\n</code></pre>\n<p>provided the json to the java controller, need to build the mongo DB query with the\nfilter options given in the above json as,</p>\n<pre><code>Query query=new Query();\nquery.addCriteria (Criteria.where(&quot;name&quot;).is(&quot;peter&quot;).or(&quot;status&quot;).is(&quot;draft&quot;).and(&quot;created&quot;).gt(12-06-2012))\nmongoOperations.find(query,classname.class)\n</code></pre>\n<p>Please help me to iterate the json and build the query with multiple filters.\nThanks in advance.</p>\n"},{"tags":["java","game-physics","arrow-keys"],"owner":{"account_id":23973106,"reputation":11,"user_id":17961521,"display_name":"Hasnain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642516486,"creation_date":1642516044,"question_id":70757212,"body_markdown":"I&#39;m creating a car game where it creates a **3D** pseudo **effect** by moving the **screen backwards and the car itself just stays still on the map**, using the arrow keys. It only takes in **one input at a time**, meaning you have to let go of an arrow key first. I have some code that I&#39;ve got to show what I&#39;m aiming for the screen to do as well, as the screen only moves forwards, backwards, left, and right.\r\n\r\nExample of what I want the screen to do:\r\n\r\n    public class Main extends JFrame {\r\n\r\n    private static final long serialVersionUID = 7722803326073073681L;\r\n\r\n    private boolean left = false;\r\n    private boolean up = false;\r\n    private boolean down = false;\r\n    private boolean right = false;\r\n\r\n    public JLabel lbl = new JLabel (&quot;mn&quot;);\r\n    \r\n\r\n\r\n    public Main() {\r\n        // Just setting up the window and objects\r\n        setSize(400, 400);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n        lbl.setBounds(100, 100, 20, 20);\r\n        add(lbl);\r\n        setLocationRelativeTo(null);\r\n\r\n        // Key listener, will not move the JLabel, just set where to\r\n        addKeyListener(new KeyListener() {\r\n            @Override\r\n            public void keyTyped(KeyEvent e) {}\r\n            @Override\r\n            public void keyReleased(KeyEvent e) {\r\n                if (e.getKeyCode() == KeyEvent.VK_LEFT) left = false;\r\n                if (e.getKeyCode() == KeyEvent.VK_RIGHT) right = false;\r\n                if (e.getKeyCode() == KeyEvent.VK_UP) up = false;\r\n                if (e.getKeyCode() == KeyEvent.VK_DOWN) down = false;\r\n            }\r\n            @Override\r\n            public void keyPressed(KeyEvent e) {\r\n                if (e.getKeyCode() == KeyEvent.VK_LEFT) left = true;\r\n                if (e.getKeyCode() == KeyEvent.VK_RIGHT) right = true;\r\n                if (e.getKeyCode() == KeyEvent.VK_UP) up = true;\r\n                if (e.getKeyCode() == KeyEvent.VK_DOWN) down = true;\r\n            }\r\n        });\r\n\r\n        // This thread will read the 4 variables left/right/up/down at every 30 milliseconds\r\n        // It will check the combination of keys (left and up, right and down, just left, just up...) \r\n        // And move the label 3 pixels\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n\r\n                    while (true) {  \r\n                        if (left &amp;&amp; up) {\r\n                            lbl.setBounds(lbl.getX() - 10, lbl.getY() - 10, 20, 20);\r\n                        } else if (left &amp;&amp; down) {\r\n                            lbl.setBounds(lbl.getX() - 10, lbl.getY() + 10, 20, 20);\r\n                        } else if (right &amp;&amp; up) {\r\n                            lbl.setBounds(lbl.getX() + 10, lbl.getY() - 10, 20, 20);\r\n                        } else if (right &amp;&amp; down) {\r\n                            lbl.setBounds(lbl.getX() + 10, lbl.getY() + 10, 20, 20);\r\n                        } else if (left) {\r\n                            lbl.setBounds(lbl.getX() - 10, lbl.getY(), 20, 20);\r\n                        } else if (up) {\r\n                            lbl.setBounds(lbl.getX(), lbl.getY() - 10, 20, 20);\r\n                        } else if (right) {\r\n                            lbl.setBounds(lbl.getX() + 10, lbl.getY(), 20, 20);\r\n                        } else if (down) {\r\n                            lbl.setBounds(lbl.getX(), lbl.getY() + 10, 20, 20);\r\n                        } \r\n\r\n                        Thread.sleep(30);\r\n                    }\r\n\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                    System.exit(0);\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Main();\r\n    }\r\n}\r\n\r\n\r\n\r\nHowever, since the code above only moves the letters, I&#39;m having a lot of difficulty in implementing it in the game as well. This is what I&#39;m currently using to move the screen. (If I were to delete this method, nothing would appear).\r\nWhat is currently happening:\r\n\r\n    public class RoadAppMain extends JFrame {\r\n\r\n\tprivate static final int D_W = 1920; //Window dimension\r\n\tprivate static final int D_H = 1280; //Window height\r\n\tint grassWidth = 1920; //Width of grass\r\n\tint vanishHeight = 768; // Height of vanishing point\r\n\tint roadWidth = 900; //Width of the road\r\n\tint rumbleLen = 800; //Length of each track stripe \r\n\tdouble camDist = 0.8; //Camera distance \r\n\tint N; //Size of each row or line\r\n\tint playerPosX = 0; //Movement of player left and right\r\n\tint playerPosY = 0; //Movement of player up and down\r\n\r\n\tList&lt;Line&gt; lines = new ArrayList&lt;RoadAppMain.Line&gt;();\r\n\r\n\tList&lt;Integer&gt; listValues = new ArrayList&lt;Integer&gt;();\r\n\r\n\tDrawPanel drawPanel = new DrawPanel();\r\n\r\n\tpublic RoadAppMain() {\r\n\t\tfor (int i = 0; i &lt; 1600; i++) {\r\n\t\t\tLine line = new Line();\r\n\t\t\tline.z = i * rumbleLen;\r\n\t\t\tint curveAngle = (int) (Math.random() * 15 + 1);\r\n\t\t\t\r\n\t\t\tif (i &gt; 20 &amp;&amp; i &lt; 70) { \r\n\t\t\t\tline.curve = curveAngle;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if (i &gt; 100 &amp;&amp; i &lt; 150) {\r\n\t\t\t\tline.curve = -curveAngle;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if (i &gt; 180 &amp;&amp; i &lt; 230) {\r\n\t\t\t\tline.curve = curveAngle;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if (i &gt; 260 &amp;&amp; i &lt; 310) {\r\n\t\t\t\tline.curve = -curveAngle;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if (i &gt; 340 &amp;&amp; i &lt; 390) {\r\n\t\t\t\tline.curve = curveAngle;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if (i &gt; 400 &amp;&amp; i &lt; 420) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlines.add(line);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tN = lines.size();\r\n\r\n\t\t//Handles action events by user\r\n\t\tActionListener listener = new AbstractAction() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\r\n\t\t\t\tdrawPanel.repaint();\r\n\r\n\t\t\t}\r\n\t\t};\r\n\t\tTimer timer = new Timer(1, listener);\r\n\t\ttimer.start();\r\n\t\tadd(drawPanel);\r\n\r\n\t\tpack();\r\n\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\tsetLocationRelativeTo(null);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\t//Moves screen using arrow keys - THIS IS THE PART IM TALKING ABOUT\r\n\tprivate class DrawPanel extends JPanel {\r\n\r\n\t\tpublic DrawPanel() {\r\n\t\t\t\r\n\t\t\tString VK_LEFT = &quot;VK_LEFT&quot;;\r\n\t\t\tKeyStroke W = KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0);\r\n\t\t\tInputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW); //necessary\r\n\t\t\tinputMap.put(W, VK_LEFT);\r\n\t\t\tActionMap actionMap = getActionMap(); //necessary\r\n\t\t\tactionMap.put(VK_LEFT, new AbstractAction() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tplayerPosX -= 200;\r\n\t\t\t\t\tdrawPanel.repaint();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tString VK_RIGHT = &quot;VK_RIGHT&quot;;\r\n\t\t\tKeyStroke WVK_RIGHT = KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0);\r\n\t\t\tinputMap.put(WVK_RIGHT, VK_RIGHT);\r\n\t\t\tactionMap.put(VK_RIGHT, new AbstractAction() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tplayerPosX += 200;\r\n\t\t\t\t\tdrawPanel.repaint();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tString VK_UP = &quot;VK_UP&quot;;\r\n\t\t\tKeyStroke WVK_UP = KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0);\r\n\t\t\tinputMap.put(WVK_UP, VK_UP);\r\n\t\t\tactionMap.put(VK_UP, new AbstractAction() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tplayerPosY += 200;\r\n\t\t\t\t\tdrawPanel.repaint();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tString VK_DOWN = &quot;VK_DOWN&quot;;\r\n\t\t\tKeyStroke WVK_DOWN = KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0);\r\n\t\t\tinputMap.put(WVK_DOWN, VK_DOWN);\r\n\t\t\tactionMap.put(VK_DOWN, new AbstractAction() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tplayerPosY -= 200;\r\n\t\t\t\t\tdrawPanel.repaint();\r\n\r\n\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t\t//Drawing components feature\r\n\t\t\tprotected void paintComponent(Graphics g) {\r\n\t\t\t\tdrawValues(g);\r\n\t\t\t\tg.setColor(Color.black);\r\n\t\t\t\tg.fillRect(0, 0, 1920, 395);\r\n\t\t\t}\r\n\r\n\t}\r\n\t\r\n\tprivate void drawValues(Graphics g) {\r\n\t\tint startPos = playerPosY / rumbleLen;\r\n\t\tdouble x = 0; //Initial X position of screen on road\r\n\t\tdouble dx = 0; //Correlation between the angle of the road and player\r\n\t\tdouble maxY = vanishHeight;\r\n\t\tint camH = 1700 + (int) lines.get(startPos).y; //Height of the camera \r\n\t\t//Starting position \r\n\t\tfor (int n = startPos; n &lt; startPos + 300; n++) {\r\n\t\t\tLine l = lines.get(n % N); //Position of line\r\n\t\t\tl.project(playerPosX - (int) x, camH, playerPosY); \r\n\t\t\tx += dx;\r\n\t\t\tdx += l.curve;\r\n\t\t\tif (l.Y &gt; 0 &amp;&amp; l.Y &lt; maxY) {\r\n\r\n\t\t\t\tmaxY = l.Y;\r\n\r\n\t\t\t\tColor grass = ((n / 2) % 2) == 0 ? new Color(21, 153, 71) : new Color(22, 102, 52); //Color for grass (first is for lighter, second for darker)\r\n\t\t\t\tColor rumble = ((n / 2) % 2) == 0 ? new Color(255, 255, 255) : new Color(222, 4, 4); // Color for rumble (first is white, second is red)\r\n\t\t\t\tColor road = new Color(54, 52, 52); // Color of road or asphalt\r\n\t\t\t\tColor midel =  ((n / 2) % 2) == 0 ? new Color(255, 255, 255) : new Color(54, 52, 52); //Color of hashed lines (first for white lines, second for gap)\r\n\r\n\t\t\t\tColor car = new Color(104, 104, 104);\r\n\t\t\t\tColor tire = new Color(0, 0, 0);\r\n\t\t\t\tColor stripe = new Color(0, 0, 0);\r\n\t\t\t\tColor light = new Color(253, 0, 0);\r\n\t\t\t\tColor hood = new Color(0, 0, 0);\r\n\t\t\t\tColor frame = new Color(0,0,255);\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tLine p = null;\r\n\r\n\t\t\t\tif (n == 0) {\r\n\t\t\t\t\tp = l;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tp = lines.get((n - 1) % N);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdraw(g, grass, 0, (int) p.Y, grassWidth, 0, (int) l.Y, grassWidth); //(Graphics g, Color c, int x1, int y1, int w1, int x2, int y2, int w2)\r\n\r\n\t\t\t\tdraw(g, rumble, (int) p.X, (int) p.Y, (int) (p.W * 2.03), (int) l.X, (int) l.Y, (int) (l.W * 2.03)); //Affects width of rumble\r\n\t\t\t\t\r\n\t\t\t\tdraw(g, road, (int) p.X, (int) p.Y, (int) (p.W * 1.8), (int) l.X, (int) l.Y, (int) (l.W * 1.8));\r\n\t\t\t\t\r\n\t\t\t\tdraw(g, midel, (int) p.X, (int) p.Y, (int) (p.W * 0.78), (int) l.X, (int) l.Y, (int) (l.W * 0.78)); //ADD HERE\r\n\r\n\t\t\t\tdraw(g, road, (int) p.X, (int) p.Y, (int) (p.W * 0.7), (int) l.X, (int) l.Y, (int) (l.W* 0.7)); //To cover the gap in between each midel. Must be after to allow it to colour over it\r\n\t\t\t\t\r\n\t\t\t\tdraw(g, car, 965, 927, 125, 965, 1005, 125);\r\n\t\t\t\tdraw(g, tire, 875, 1005, 35, 875, 1050, 35);\r\n\t\t\t\tdraw(g, tire, 1055, 1005, 35, 1055, 1050, 35);\r\n\t\t\t\tdraw(g, stripe, 1050, 965, 30, 870, 980, 30);\r\n\t\t\t\tdraw(g, stripe, 1050, 950, 30, 870, 965, 30);\r\n\t\t\t\tdraw(g, hood, 965, 880, 90, 965, 927, 125);\r\n\t\t\t\t\r\n\t\t\t\tdraw(g, light, 875, 950, 5, 875, 980, 5);\r\n\t\t\t\tdraw(g, light, 890, 950, 5, 890, 980, 5);\r\n\t\t\t\tdraw(g, light, 905, 950, 5, 905, 980, 5);\r\n\t\t\t\tdraw(g, light, 1025, 950, 5, 1025, 980, 5);\r\n\t\t\t\tdraw(g, light, 1040, 950, 5, 1040, 980, 5);\r\n\t\t\t\tdraw(g, light, 1055, 950, 5, 1055, 980, 5);\r\n\t\t\t\t\r\n\t\t\t\tdraw(g, frame, 965, 874, 86, 965, 880, 90);\r\n\t\t\t\tdraw(g, light, 965, 874, 35, 965, 880, 45);\r\n\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t}\r\n\r\n\t\tvoid draw(Graphics g, Color c, int x1, int y1, int w1, int x2, int y2, int w2) {\r\n\r\n\t\t\tGraphics g9d = g;\r\n\t\t\tint[] x9Points = { x1 - w1, x2 - w2, x2 + w2, x1 + w1 };\r\n\t\t\tint[] y9Points = { y1, y2, y2, y1 };\r\n\t\t\tint n9Points = 4;\r\n\t\t\tg9d.setColor(c);\r\n\t\t\tg9d.fillPolygon(x9Points, y9Points, n9Points);\r\n\r\n\t\t}\r\n\t\t\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tnew RoadAppMain();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tclass Line {\r\n\t\tdouble x, y, z;\r\n\t\tdouble X, Y, W;\r\n\t\tdouble scale, curve;\r\n\r\n\t\r\n\t\tpublic Line() {\r\n\t\t\tcurve = x = y = z = 0;\r\n\t\t}\r\n\r\n\t\tvoid project(int camX, int camY, int camZ) {\r\n\t\t\tscale = camDist / (z - camZ);\r\n\t\t\tX = (1 + scale * (x - camX)) * grassWidth / 2;\r\n\t\t\tY = (1 - scale * (y - camY)) * vanishHeight / 2;\r\n\t\t\tW = scale * roadWidth * grassWidth / 2;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nHow could I implement that movement into my game as well?","title":"Move game screen diagonally using arrow keys","body":"<p>I'm creating a car game where it creates a <strong>3D</strong> pseudo <strong>effect</strong> by moving the <strong>screen backwards and the car itself just stays still on the map</strong>, using the arrow keys. It only takes in <strong>one input at a time</strong>, meaning you have to let go of an arrow key first. I have some code that I've got to show what I'm aiming for the screen to do as well, as the screen only moves forwards, backwards, left, and right.</p>\n<p>Example of what I want the screen to do:</p>\n<pre><code>public class Main extends JFrame {\n\nprivate static final long serialVersionUID = 7722803326073073681L;\n\nprivate boolean left = false;\nprivate boolean up = false;\nprivate boolean down = false;\nprivate boolean right = false;\n\npublic JLabel lbl = new JLabel (&quot;mn&quot;);\n\n\n\npublic Main() {\n    // Just setting up the window and objects\n    setSize(400, 400);\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n    setVisible(true);\n    lbl.setBounds(100, 100, 20, 20);\n    add(lbl);\n    setLocationRelativeTo(null);\n\n    // Key listener, will not move the JLabel, just set where to\n    addKeyListener(new KeyListener() {\n        @Override\n        public void keyTyped(KeyEvent e) {}\n        @Override\n        public void keyReleased(KeyEvent e) {\n            if (e.getKeyCode() == KeyEvent.VK_LEFT) left = false;\n            if (e.getKeyCode() == KeyEvent.VK_RIGHT) right = false;\n            if (e.getKeyCode() == KeyEvent.VK_UP) up = false;\n            if (e.getKeyCode() == KeyEvent.VK_DOWN) down = false;\n        }\n        @Override\n        public void keyPressed(KeyEvent e) {\n            if (e.getKeyCode() == KeyEvent.VK_LEFT) left = true;\n            if (e.getKeyCode() == KeyEvent.VK_RIGHT) right = true;\n            if (e.getKeyCode() == KeyEvent.VK_UP) up = true;\n            if (e.getKeyCode() == KeyEvent.VK_DOWN) down = true;\n        }\n    });\n\n    // This thread will read the 4 variables left/right/up/down at every 30 milliseconds\n    // It will check the combination of keys (left and up, right and down, just left, just up...) \n    // And move the label 3 pixels\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            try {\n\n                while (true) {  \n                    if (left &amp;&amp; up) {\n                        lbl.setBounds(lbl.getX() - 10, lbl.getY() - 10, 20, 20);\n                    } else if (left &amp;&amp; down) {\n                        lbl.setBounds(lbl.getX() - 10, lbl.getY() + 10, 20, 20);\n                    } else if (right &amp;&amp; up) {\n                        lbl.setBounds(lbl.getX() + 10, lbl.getY() - 10, 20, 20);\n                    } else if (right &amp;&amp; down) {\n                        lbl.setBounds(lbl.getX() + 10, lbl.getY() + 10, 20, 20);\n                    } else if (left) {\n                        lbl.setBounds(lbl.getX() - 10, lbl.getY(), 20, 20);\n                    } else if (up) {\n                        lbl.setBounds(lbl.getX(), lbl.getY() - 10, 20, 20);\n                    } else if (right) {\n                        lbl.setBounds(lbl.getX() + 10, lbl.getY(), 20, 20);\n                    } else if (down) {\n                        lbl.setBounds(lbl.getX(), lbl.getY() + 10, 20, 20);\n                    } \n\n                    Thread.sleep(30);\n                }\n\n            } catch (Exception ex) {\n                ex.printStackTrace();\n                System.exit(0);\n            }\n        }\n    }).start();\n}\n\npublic static void main(String[] args) {\n    new Main();\n}\n</code></pre>\n<p>}</p>\n<p>However, since the code above only moves the letters, I'm having a lot of difficulty in implementing it in the game as well. This is what I'm currently using to move the screen. (If I were to delete this method, nothing would appear).\nWhat is currently happening:</p>\n<pre><code>public class RoadAppMain extends JFrame {\n\nprivate static final int D_W = 1920; //Window dimension\nprivate static final int D_H = 1280; //Window height\nint grassWidth = 1920; //Width of grass\nint vanishHeight = 768; // Height of vanishing point\nint roadWidth = 900; //Width of the road\nint rumbleLen = 800; //Length of each track stripe \ndouble camDist = 0.8; //Camera distance \nint N; //Size of each row or line\nint playerPosX = 0; //Movement of player left and right\nint playerPosY = 0; //Movement of player up and down\n\nList&lt;Line&gt; lines = new ArrayList&lt;RoadAppMain.Line&gt;();\n\nList&lt;Integer&gt; listValues = new ArrayList&lt;Integer&gt;();\n\nDrawPanel drawPanel = new DrawPanel();\n\npublic RoadAppMain() {\n    for (int i = 0; i &lt; 1600; i++) {\n        Line line = new Line();\n        line.z = i * rumbleLen;\n        int curveAngle = (int) (Math.random() * 15 + 1);\n        \n        if (i &gt; 20 &amp;&amp; i &lt; 70) { \n            line.curve = curveAngle;\n        }\n        \n        else if (i &gt; 100 &amp;&amp; i &lt; 150) {\n            line.curve = -curveAngle;\n        }\n        \n        else if (i &gt; 180 &amp;&amp; i &lt; 230) {\n            line.curve = curveAngle;\n        }\n        \n        else if (i &gt; 260 &amp;&amp; i &lt; 310) {\n            line.curve = -curveAngle;\n        }\n        \n        else if (i &gt; 340 &amp;&amp; i &lt; 390) {\n            line.curve = curveAngle;\n        }\n        \n        else if (i &gt; 400 &amp;&amp; i &lt; 420) {\n            \n        }\n        \n        lines.add(line);\n        \n    }\n    \n    N = lines.size();\n\n    //Handles action events by user\n    ActionListener listener = new AbstractAction() {\n        public void actionPerformed(ActionEvent e) {\n\n            drawPanel.repaint();\n\n        }\n    };\n    Timer timer = new Timer(1, listener);\n    timer.start();\n    add(drawPanel);\n\n    pack();\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n    setLocationRelativeTo(null);\n    setVisible(true);\n}\n\n//Moves screen using arrow keys - THIS IS THE PART IM TALKING ABOUT\nprivate class DrawPanel extends JPanel {\n\n    public DrawPanel() {\n        \n        String VK_LEFT = &quot;VK_LEFT&quot;;\n        KeyStroke W = KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0);\n        InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW); //necessary\n        inputMap.put(W, VK_LEFT);\n        ActionMap actionMap = getActionMap(); //necessary\n        actionMap.put(VK_LEFT, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                playerPosX -= 200;\n                drawPanel.repaint();\n            }\n        });\n\n        String VK_RIGHT = &quot;VK_RIGHT&quot;;\n        KeyStroke WVK_RIGHT = KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0);\n        inputMap.put(WVK_RIGHT, VK_RIGHT);\n        actionMap.put(VK_RIGHT, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                playerPosX += 200;\n                drawPanel.repaint();\n            }\n        });\n\n        String VK_UP = &quot;VK_UP&quot;;\n        KeyStroke WVK_UP = KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0);\n        inputMap.put(WVK_UP, VK_UP);\n        actionMap.put(VK_UP, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                playerPosY += 200;\n                drawPanel.repaint();\n            }\n        });\n\n        String VK_DOWN = &quot;VK_DOWN&quot;;\n        KeyStroke WVK_DOWN = KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0);\n        inputMap.put(WVK_DOWN, VK_DOWN);\n        actionMap.put(VK_DOWN, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                playerPosY -= 200;\n                drawPanel.repaint();\n\n        }\n        });\n    }\n        //Drawing components feature\n        protected void paintComponent(Graphics g) {\n            drawValues(g);\n            g.setColor(Color.black);\n            g.fillRect(0, 0, 1920, 395);\n        }\n\n}\n\nprivate void drawValues(Graphics g) {\n    int startPos = playerPosY / rumbleLen;\n    double x = 0; //Initial X position of screen on road\n    double dx = 0; //Correlation between the angle of the road and player\n    double maxY = vanishHeight;\n    int camH = 1700 + (int) lines.get(startPos).y; //Height of the camera \n    //Starting position \n    for (int n = startPos; n &lt; startPos + 300; n++) {\n        Line l = lines.get(n % N); //Position of line\n        l.project(playerPosX - (int) x, camH, playerPosY); \n        x += dx;\n        dx += l.curve;\n        if (l.Y &gt; 0 &amp;&amp; l.Y &lt; maxY) {\n\n            maxY = l.Y;\n\n            Color grass = ((n / 2) % 2) == 0 ? new Color(21, 153, 71) : new Color(22, 102, 52); //Color for grass (first is for lighter, second for darker)\n            Color rumble = ((n / 2) % 2) == 0 ? new Color(255, 255, 255) : new Color(222, 4, 4); // Color for rumble (first is white, second is red)\n            Color road = new Color(54, 52, 52); // Color of road or asphalt\n            Color midel =  ((n / 2) % 2) == 0 ? new Color(255, 255, 255) : new Color(54, 52, 52); //Color of hashed lines (first for white lines, second for gap)\n\n            Color car = new Color(104, 104, 104);\n            Color tire = new Color(0, 0, 0);\n            Color stripe = new Color(0, 0, 0);\n            Color light = new Color(253, 0, 0);\n            Color hood = new Color(0, 0, 0);\n            Color frame = new Color(0,0,255);\n        \n            \n            Line p = null;\n\n            if (n == 0) {\n                p = l;\n            } else {\n                p = lines.get((n - 1) % N);\n            }\n\n            draw(g, grass, 0, (int) p.Y, grassWidth, 0, (int) l.Y, grassWidth); //(Graphics g, Color c, int x1, int y1, int w1, int x2, int y2, int w2)\n\n            draw(g, rumble, (int) p.X, (int) p.Y, (int) (p.W * 2.03), (int) l.X, (int) l.Y, (int) (l.W * 2.03)); //Affects width of rumble\n            \n            draw(g, road, (int) p.X, (int) p.Y, (int) (p.W * 1.8), (int) l.X, (int) l.Y, (int) (l.W * 1.8));\n            \n            draw(g, midel, (int) p.X, (int) p.Y, (int) (p.W * 0.78), (int) l.X, (int) l.Y, (int) (l.W * 0.78)); //ADD HERE\n\n            draw(g, road, (int) p.X, (int) p.Y, (int) (p.W * 0.7), (int) l.X, (int) l.Y, (int) (l.W* 0.7)); //To cover the gap in between each midel. Must be after to allow it to colour over it\n            \n            draw(g, car, 965, 927, 125, 965, 1005, 125);\n            draw(g, tire, 875, 1005, 35, 875, 1050, 35);\n            draw(g, tire, 1055, 1005, 35, 1055, 1050, 35);\n            draw(g, stripe, 1050, 965, 30, 870, 980, 30);\n            draw(g, stripe, 1050, 950, 30, 870, 965, 30);\n            draw(g, hood, 965, 880, 90, 965, 927, 125);\n            \n            draw(g, light, 875, 950, 5, 875, 980, 5);\n            draw(g, light, 890, 950, 5, 890, 980, 5);\n            draw(g, light, 905, 950, 5, 905, 980, 5);\n            draw(g, light, 1025, 950, 5, 1025, 980, 5);\n            draw(g, light, 1040, 950, 5, 1040, 980, 5);\n            draw(g, light, 1055, 950, 5, 1055, 980, 5);\n            \n            draw(g, frame, 965, 874, 86, 965, 880, 90);\n            draw(g, light, 965, 874, 35, 965, 880, 45);\n        \n            }\n        }\n    \n    }\n\n    void draw(Graphics g, Color c, int x1, int y1, int w1, int x2, int y2, int w2) {\n\n        Graphics g9d = g;\n        int[] x9Points = { x1 - w1, x2 - w2, x2 + w2, x1 + w1 };\n        int[] y9Points = { y1, y2, y2, y1 };\n        int n9Points = 4;\n        g9d.setColor(c);\n        g9d.fillPolygon(x9Points, y9Points, n9Points);\n\n    }\n    \npublic static void main(String[] args) {\n    EventQueue.invokeLater(new Runnable() {\n        public void run() {\n            new RoadAppMain();\n        }\n    });\n}\n\nclass Line {\n    double x, y, z;\n    double X, Y, W;\n    double scale, curve;\n\n\n    public Line() {\n        curve = x = y = z = 0;\n    }\n\n    void project(int camX, int camY, int camZ) {\n        scale = camDist / (z - camZ);\n        X = (1 + scale * (x - camX)) * grassWidth / 2;\n        Y = (1 - scale * (y - camY)) * vanishHeight / 2;\n        W = scale * roadWidth * grassWidth / 2;\n    }\n}\n</code></pre>\n<p>}</p>\n<p>How could I implement that movement into my game as well?</p>\n"},{"tags":["java","multithreading","concurrency","concurrenthashmap"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1642467978,"post_id":70749204,"comment_id":125073354,"body_markdown":"What does the Javadoc say that is unclear?","body":"What does the Javadoc say that is unclear?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1642468351,"post_id":70749204,"comment_id":125073407,"body_markdown":"If you read the Javadoc you&#39;ll see that individual insertions and deletions occur atomically but the only guarantee for readers is that they won&#39;t see a partially completed change and thus there will be no `ConcurrentModificationException` thrown.","body":"If you read the Javadoc you&#39;ll see that individual insertions and deletions occur atomically but the only guarantee for readers is that they won&#39;t see a partially completed change and thus there will be no <code>ConcurrentModificationException</code> thrown."},{"owner":{"account_id":15801056,"reputation":61,"user_id":11401552,"display_name":"Gustavo Oliveira"},"score":0,"creation_date":1642468480,"post_id":70749204,"comment_id":125073419,"body_markdown":"Yes @SolomonSlow! That what you said!\n\n&quot;that the second thread calls map.get(&quot;key&quot;) before the first thread calls put(&quot;key&quot;, data)&quot;","body":"Yes @SolomonSlow! That what you said!  &quot;that the second thread calls map.get(&quot;key&quot;) before the first thread calls put(&quot;key&quot;, data)&quot;"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1642468527,"post_id":70749204,"comment_id":125073427,"body_markdown":"Sorry, I deleted that comment, I think I misread your question.","body":"Sorry, I deleted that comment, I think I misread your question."},{"owner":{"account_id":15801056,"reputation":61,"user_id":11401552,"display_name":"Gustavo Oliveira"},"score":0,"creation_date":1642468598,"post_id":70749204,"comment_id":125073436,"body_markdown":"@JimGarrison So, to ensure that the readings are always synchronized, what would you recommend?","body":"@JimGarrison So, to ensure that the readings are always synchronized, what would you recommend?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1642468971,"post_id":70749204,"comment_id":125073497,"body_markdown":"Depends. _&quot;...always read the most recent ConcurrentHashMap values&quot;_ is too vague to answer.  Your requirements and logic dictate what this means.  &quot;Most recent&quot; for the entire map? For a given key? For a subset of keys? Something else?  Threads are hard because you have to consider a lot of stuff you can otherwise ignore in single-thread programming.","body":"Depends. <i>&quot;...always read the most recent ConcurrentHashMap values&quot;</i> is too vague to answer.  Your requirements and logic dictate what this means.  &quot;Most recent&quot; for the entire map? For a given key? For a subset of keys? Something else?  Threads are hard because you have to consider a lot of stuff you can otherwise ignore in single-thread programming."},{"owner":{"account_id":15801056,"reputation":61,"user_id":11401552,"display_name":"Gustavo Oliveira"},"score":0,"creation_date":1642469072,"post_id":70749204,"comment_id":125073523,"body_markdown":"Yes! You are right!\nIn my case will be for the given key.","body":"Yes! You are right! In my case will be for the given key."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":5,"creation_date":1642469683,"post_id":70749204,"comment_id":125073622,"body_markdown":"Do you know about the  [`computeIfAbsent`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent-K-java.util.function.Function-)  method?","body":"Do you know about the  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>computeIfAbsent</code></a>  method?"},{"owner":{"account_id":15801056,"reputation":61,"user_id":11401552,"display_name":"Gustavo Oliveira"},"score":0,"creation_date":1642506529,"post_id":70749204,"comment_id":125083605,"body_markdown":"@TimMoore I didn&#39;t know about computeIfAbsent() but I&#39;ve been exploring and it seems quite useful! And it seems ideal for my case, thanks for the suggestion.\nHowever, I only have one con in my case. When isolating my logic to put in Function (2nd param of computeIfAbsent() ), my method throws an exception.\nWhat would be the best practice in this case?","body":"@TimMoore I didn&#39;t know about computeIfAbsent() but I&#39;ve been exploring and it seems quite useful! And it seems ideal for my case, thanks for the suggestion. However, I only have one con in my case. When isolating my logic to put in Function (2nd param of computeIfAbsent() ), my method throws an exception. What would be the best practice in this case?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1642506829,"post_id":70749204,"comment_id":125083730,"body_markdown":"You would need to wrap it in a `RuntimeException`","body":"You would need to wrap it in a <code>RuntimeException</code>"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642468293,"creation_date":1642468293,"answer_id":70749245,"question_id":70749204,"body_markdown":"You probably need to do it this way:\r\n\r\n    if (cachedMap.putIfAbsent(&quot;key&quot;, &quot;value&quot;) == null) {\r\n        // Perform actions &quot;IS NOT PRESENT&quot; \r\n    } else {\r\n        // Perform actions &quot;IS PRESENT&quot;\r\n    }\r\n\r\nDoing it in two checks is obviously not atomic, so if you&#39;re having problems with the wrong values getting put in the cache, then that&#39;s likely your problem.\r\n","title":"How to prevent threads from reading inconsistent data from ConcurrentHashMap?","body":"<p>You probably need to do it this way:</p>\n<pre><code>if (cachedMap.putIfAbsent(&quot;key&quot;, &quot;value&quot;) == null) {\n    // Perform actions &quot;IS NOT PRESENT&quot; \n} else {\n    // Perform actions &quot;IS PRESENT&quot;\n}\n</code></pre>\n<p>Doing it in two checks is obviously not atomic, so if you're having problems with the wrong values getting put in the cache, then that's likely your problem.</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642516199,"creation_date":1642516199,"answer_id":70757256,"question_id":70749204,"body_markdown":"&gt; what are the best practices to always read the most recent ConcurrentHashMap values?\r\n\r\nOracle&#39;s [Javadoc for `ConcurrentHashMap`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html) says, &quot;Retrievals reflect the results of the most recently completed update operations holding upon their onset.&quot; In other words, any time you call `map.get(...)` or any other method on the `map`, you are _always_ working with the &quot;most recent&quot; content.\r\n\r\n\\***BUT**\\*\r\n\r\nIs that enough? Maybe not. If your program threads expect any kind of consistency between two or more keys in the map, or if your threads expect any kind of consistency between something that is stored in the map and something that is stored elsewhere, then you are going to need to provide some _explicit_ higher-level synchronization between the threads.\r\n\r\nI can&#39;t provide an example that would be specific to the problem that&#39;s puzzling you because your question doesn&#39;t really say what that problem is.","title":"How to prevent threads from reading inconsistent data from ConcurrentHashMap?","body":"<blockquote>\n<p>what are the best practices to always read the most recent ConcurrentHashMap values?</p>\n</blockquote>\n<p>Oracle's <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\">Javadoc for <code>ConcurrentHashMap</code></a> says, &quot;Retrievals reflect the results of the most recently completed update operations holding upon their onset.&quot; In other words, any time you call <code>map.get(...)</code> or any other method on the <code>map</code>, you are <em>always</em> working with the &quot;most recent&quot; content.</p>\n<p>*<strong>BUT</strong>*</p>\n<p>Is that enough? Maybe not. If your program threads expect any kind of consistency between two or more keys in the map, or if your threads expect any kind of consistency between something that is stored in the map and something that is stored elsewhere, then you are going to need to provide some <em>explicit</em> higher-level synchronization between the threads.</p>\n<p>I can't provide an example that would be specific to the problem that's puzzling you because your question doesn't really say what that problem is.</p>\n"}],"owner":{"account_id":15801056,"reputation":61,"user_id":11401552,"display_name":"Gustavo Oliveira"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642516199,"creation_date":1642467833,"question_id":70749204,"body_markdown":"I&#39;m using a `ConcurrentHashMap&lt;String, String&gt;` that works as a cache, and where read operations are performed to validate if an element is already in the cache and write operations to add an element to the cache.\r\n\r\nSo, my question is: what are the best practices to always **read the most recent ConcorrentHashMap values**?\r\n\r\nI want to ensure data consistency and not have cases like:\r\n 1. With the `map.get(&quot;key&quot;)` method, the first thread validates that this key does not yet exist in the map, then it does the `map.put(&quot;value&quot;)`\r\n 2. The second thread reads the data before the first thread puts the element on the map, leading to inconsistent data.\r\n\r\nCode example:\r\n```\r\nOptional&lt;String&gt; cacheValue = Optional.ofNullable(cachedMap.get(&quot;key&quot;));\r\n\r\nif (cacheValue.isPresent()) {\r\n    // Perform actions\r\n\r\n} else {\r\n    cachedMap.putIfAbsent(&quot;key&quot;, &quot;value&quot;);\r\n    // Perform actions\r\n}\r\n```\r\n\r\nHow can I ensure that my `ConcurrentHashMap` is synchronized and doesn&#39;t retrieve inconsistent data? \r\n\r\nShould I perform these map operations inside a synchronized block?","title":"How to prevent threads from reading inconsistent data from ConcurrentHashMap?","body":"<p>I'm using a <code>ConcurrentHashMap&lt;String, String&gt;</code> that works as a cache, and where read operations are performed to validate if an element is already in the cache and write operations to add an element to the cache.</p>\n<p>So, my question is: what are the best practices to always <strong>read the most recent ConcorrentHashMap values</strong>?</p>\n<p>I want to ensure data consistency and not have cases like:</p>\n<ol>\n<li>With the <code>map.get(&quot;key&quot;)</code> method, the first thread validates that this key does not yet exist in the map, then it does the <code>map.put(&quot;value&quot;)</code></li>\n<li>The second thread reads the data before the first thread puts the element on the map, leading to inconsistent data.</li>\n</ol>\n<p>Code example:</p>\n<pre><code>Optional&lt;String&gt; cacheValue = Optional.ofNullable(cachedMap.get(&quot;key&quot;));\n\nif (cacheValue.isPresent()) {\n    // Perform actions\n\n} else {\n    cachedMap.putIfAbsent(&quot;key&quot;, &quot;value&quot;);\n    // Perform actions\n}\n</code></pre>\n<p>How can I ensure that my <code>ConcurrentHashMap</code> is synchronized and doesn't retrieve inconsistent data?</p>\n<p>Should I perform these map operations inside a synchronized block?</p>\n"},{"tags":["java","c#","oop","inheritance","ooad"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":4,"creation_date":1642509480,"post_id":70755658,"comment_id":125084690,"body_markdown":"you don&#39;t. each instance is an instance on itself. What you are describing is composition, not inheritance","body":"you don&#39;t. each instance is an instance on itself. What you are describing is composition, not inheritance"},{"owner":{"account_id":22065172,"reputation":93,"user_id":16327180,"display_name":"Angela Lopez"},"score":0,"creation_date":1642509549,"post_id":70755658,"comment_id":125084720,"body_markdown":"Are the implications you listed specified in the problem statement or are these your own interpretation ?","body":"Are the implications you listed specified in the problem statement or are these your own interpretation ?"},{"owner":{"account_id":15754538,"reputation":41,"user_id":11368085,"display_name":"Joe"},"score":0,"creation_date":1642510211,"post_id":70755658,"comment_id":125084979,"body_markdown":"@Angela Lopez  The first two are based on the traditional rules of OOP. The 3rd is how I personally think the described seinario should be implemented, but I&#39;m open to other suggestions.","body":"@Angela Lopez  The first two are based on the traditional rules of OOP. The 3rd is how I personally think the described seinario should be implemented, but I&#39;m open to other suggestions."}],"answers":[{"tags":[],"owner":{"account_id":20928711,"reputation":3225,"user_id":15375588,"display_name":"Karsten Gabriel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642509782,"creation_date":1642509782,"answer_id":70755784,"question_id":70755658,"body_markdown":"I don&#39;t think that inheritence is the right solution to your problem. Is it necessary that `Student` and `Staff` are different classes?\r\n\r\nIt seems that it would be more appropriate that a student or a staff member are just instances of `Person`, and there is a member property `role` which may contain `&quot;Student&quot;` or `&quot;Staff&quot;` or both.","title":"How do I make instances of different child classes have the same instance of their common parent class?","body":"<p>I don't think that inheritence is the right solution to your problem. Is it necessary that <code>Student</code> and <code>Staff</code> are different classes?</p>\n<p>It seems that it would be more appropriate that a student or a staff member are just instances of <code>Person</code>, and there is a member property <code>role</code> which may contain <code>&quot;Student&quot;</code> or <code>&quot;Staff&quot;</code> or both.</p>\n"},{"tags":[],"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642516119,"creation_date":1642513445,"answer_id":70756578,"question_id":70755658,"body_markdown":"With interface IPerson(interpreting inherit a litle broader) you could do somithing like this in Java\r\n(it&#39;s close but possibly no cigar):\r\n\r\n    public interface IPerson\r\n    {\r\n\r\n        default String getName() {\r\n            return getPerson().getName();\r\n        };\r\n\r\n        default void setName(String name) {\r\n            getPerson().setName(name);\r\n        }\r\n\r\n        IPerson getPerson();\r\n\r\n    }\r\n\r\n    public class Person implements IPerson\r\n    {\r\n\r\n        private String name;\r\n\r\n        @Override\r\n        public String getName()\r\n        {\r\n            return name;\r\n        }\r\n\r\n        @Override\r\n        public void setName(String name)\r\n        {\r\n            this.name = name;\r\n\r\n        }\r\n\r\n        public IPerson getPerson() {\r\n            return this;\r\n        }\r\n    }\r\n\r\n    public class Staff implements IPerson\r\n    {\r\n\r\n        private Person person;\r\n\r\n        private String socialInsuranceNumber;\r\n\r\n        public String getSocialInsuranceNumber()\r\n        {\r\n            return socialInsuranceNumber;\r\n        }\r\n\r\n        public void setSocialInsuranceNumber(String socialInsuranceNumber)\r\n        {\r\n            this.socialInsuranceNumber = socialInsuranceNumber;\r\n        }\r\n\r\n        public Staff(Person person)\r\n        {\r\n            super();\r\n            this.person = person;\r\n        }\r\n\r\n        @Override\r\n        public IPerson getPerson()\r\n        {\r\n            return person;\r\n        }\r\n\r\n    }\r\n\r\n    public class Student implements IPerson\r\n    {\r\n\r\n        private Person person;\r\n\r\n        private String matriculationNumber;\r\n\r\n        public String getMatriculationNumber()\r\n        {\r\n            return matriculationNumber;\r\n        }\r\n\r\n        public void setMatriculationNumber(String matriculationNumber)\r\n        {\r\n            this.matriculationNumber = matriculationNumber;\r\n        }\r\n\r\n        public Student(Person person)\r\n        {\r\n            super();\r\n            this.person = person;\r\n        }\r\n\r\n        @Override\r\n        public IPerson getPerson()\r\n        {\r\n            return person;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Person peterP = new Person();\r\n            peterP.setName(&quot;Peter&quot;);\r\n\r\n            Staff peterStaff = new Staff(peterP);\r\n            peterStaff.setSocialInsuranceNumber(&quot;123&quot;);\r\n\r\n            Student peterStudent = new Student(peterP);\r\n            peterStudent.setMatriculationNumber(&quot;456&quot;);\r\n\r\n            peterStudent.setName(&quot;Dr. Peter&quot;);\r\n\r\n            System.out.println(peterStaff.getName());\r\n\r\n        }\r\n\r\n    }\r\n\r\nWithout using an interface you could override all getters, setters and alike and delegate it to the Person(ignoring the fields in the subclass, not nice either. This is composition disguised as inheritence):\r\n \r\n    public class Student extends Person\r\n    {\r\n\r\n        private Person person;\r\n\r\n        private String matriculationNumber;\r\n\r\n        public String getMatriculationNumber()\r\n        {\r\n            return matriculationNumber;\r\n        }\r\n\r\n        public void setMatriculationNumber(String matriculationNumber)\r\n        {\r\n            this.matriculationNumber = matriculationNumber;\r\n        }\r\n\r\n        public Student(Person person)\r\n        {\r\n            super();\r\n            this.person = person;\r\n        }\r\n\r\n        @Override\r\n        public String getName()\r\n        {\r\n            return person.getName();\r\n        }\r\n\r\n        @Override\r\n        public void setName(String name)\r\n        {\r\n            person.setName(name);\r\n        }\r\n \r\n    }\r\n","title":"How do I make instances of different child classes have the same instance of their common parent class?","body":"<p>With interface IPerson(interpreting inherit a litle broader) you could do somithing like this in Java\n(it's close but possibly no cigar):</p>\n<pre><code>public interface IPerson\n{\n\n    default String getName() {\n        return getPerson().getName();\n    };\n\n    default void setName(String name) {\n        getPerson().setName(name);\n    }\n\n    IPerson getPerson();\n\n}\n\npublic class Person implements IPerson\n{\n\n    private String name;\n\n    @Override\n    public String getName()\n    {\n        return name;\n    }\n\n    @Override\n    public void setName(String name)\n    {\n        this.name = name;\n\n    }\n\n    public IPerson getPerson() {\n        return this;\n    }\n}\n\npublic class Staff implements IPerson\n{\n\n    private Person person;\n\n    private String socialInsuranceNumber;\n\n    public String getSocialInsuranceNumber()\n    {\n        return socialInsuranceNumber;\n    }\n\n    public void setSocialInsuranceNumber(String socialInsuranceNumber)\n    {\n        this.socialInsuranceNumber = socialInsuranceNumber;\n    }\n\n    public Staff(Person person)\n    {\n        super();\n        this.person = person;\n    }\n\n    @Override\n    public IPerson getPerson()\n    {\n        return person;\n    }\n\n}\n\npublic class Student implements IPerson\n{\n\n    private Person person;\n\n    private String matriculationNumber;\n\n    public String getMatriculationNumber()\n    {\n        return matriculationNumber;\n    }\n\n    public void setMatriculationNumber(String matriculationNumber)\n    {\n        this.matriculationNumber = matriculationNumber;\n    }\n\n    public Student(Person person)\n    {\n        super();\n        this.person = person;\n    }\n\n    @Override\n    public IPerson getPerson()\n    {\n        return person;\n    }\n\n    public static void main(String[] args) {\n        Person peterP = new Person();\n        peterP.setName(&quot;Peter&quot;);\n\n        Staff peterStaff = new Staff(peterP);\n        peterStaff.setSocialInsuranceNumber(&quot;123&quot;);\n\n        Student peterStudent = new Student(peterP);\n        peterStudent.setMatriculationNumber(&quot;456&quot;);\n\n        peterStudent.setName(&quot;Dr. Peter&quot;);\n\n        System.out.println(peterStaff.getName());\n\n    }\n\n}\n</code></pre>\n<p>Without using an interface you could override all getters, setters and alike and delegate it to the Person(ignoring the fields in the subclass, not nice either. This is composition disguised as inheritence):</p>\n<pre><code>public class Student extends Person\n{\n\n    private Person person;\n\n    private String matriculationNumber;\n\n    public String getMatriculationNumber()\n    {\n        return matriculationNumber;\n    }\n\n    public void setMatriculationNumber(String matriculationNumber)\n    {\n        this.matriculationNumber = matriculationNumber;\n    }\n\n    public Student(Person person)\n    {\n        super();\n        this.person = person;\n    }\n\n    @Override\n    public String getName()\n    {\n        return person.getName();\n    }\n\n    @Override\n    public void setName(String name)\n    {\n        person.setName(name);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642516168,"creation_date":1642516168,"answer_id":70757245,"question_id":70755658,"body_markdown":"You can only inherit single class in java, you can&#39;t have `class WorkingStudent extends Student, Staff`. But you can implement multiple intefaces, so i will propose you a solution with interfaces. First let&#39;s define the student functionality. A student has to study, so:\r\n\r\n        public interface Student {\r\n            \r\n            void study();\r\n        }\r\n\r\nNow for the staff, he has to work obviously, so:\r\n\r\n        public interface Staff {\r\n    \r\n            void work();\r\n        }\r\n\r\nA very simple person class:\r\n\r\n        public class Person {\r\n    \r\n            private final String name;\r\n    \r\n    \r\n            public Person(String name) {\r\n                this.name = name;\r\n            }\r\n    \r\n            public String getName() {\r\n                return this.name;\r\n            }\r\n        }\r\n\r\nThe average student just studies, or not, who knows, but let&#39;s assume he does. He is a Person, and also does Student stuff.\r\n\r\n        public class NormalStudent extends Person implements Student {\r\n    \r\n            public NormalStudent(String name) {\r\n                super(name);\r\n            }\r\n    \r\n            @Override\r\n            public void study() {\r\n                System.out.println(getName() + &quot; studies a lot.&quot;);\r\n            }\r\n        }\r\n\r\nAnd your average staff, who does not do his job very dutyfully. He is a Person, and he does Staff thingies.\r\n\r\n        public class NormalStaff extends Person implements Staff {\r\n    \r\n            public NormalStaff(String name) {\r\n                super(name);\r\n            }\r\n    \r\n            @Override\r\n            public void work() {\r\n                System.out.println(getName() + &quot; does whatever the staff does&quot;);\r\n            }\r\n        }\r\n\r\nNow for the student, who is also a staff member:\r\n\r\n        public class WorkingStudent extends NormalStudent implements Staff {\r\n    \r\n            public WorkingStudent(String name) {\r\n                super(name);\r\n            }\r\n    \r\n            @Override\r\n            public void work() {\r\n                System.out.println(getName() + &quot; has finished studying, but does not go to the party and instead does his obligations as a staff member of his university.&quot;);\r\n                System.out.println(getName() + &quot; has a bright future ahead of him. Probably.&quot;);\r\n            }\r\n        }\r\n\r\nWorkingStudent is a NormalStudent, also a Person(he inheriths the functionality for a Student from NormalStudent and the properties of a Person), and implements Staff thus receiving the corresponding functionality.\r\n\r\nAnd a small example:\r\n\r\n        NormalStudent james = new NormalStudent(&quot;James&quot;);\r\n        james.study();\r\n        WorkingStudent george = new WorkingStudent(&quot;George&quot;);\r\n        george.study();\r\n        george.work();\r\n        NormalStaff john = new NormalStaff(&quot;John&quot;);\r\n        john.work();","title":"How do I make instances of different child classes have the same instance of their common parent class?","body":"<p>You can only inherit single class in java, you can't have <code>class WorkingStudent extends Student, Staff</code>. But you can implement multiple intefaces, so i will propose you a solution with interfaces. First let's define the student functionality. A student has to study, so:</p>\n<pre><code>    public interface Student {\n        \n        void study();\n    }\n</code></pre>\n<p>Now for the staff, he has to work obviously, so:</p>\n<pre><code>    public interface Staff {\n\n        void work();\n    }\n</code></pre>\n<p>A very simple person class:</p>\n<pre><code>    public class Person {\n\n        private final String name;\n\n\n        public Person(String name) {\n            this.name = name;\n        }\n\n        public String getName() {\n            return this.name;\n        }\n    }\n</code></pre>\n<p>The average student just studies, or not, who knows, but let's assume he does. He is a Person, and also does Student stuff.</p>\n<pre><code>    public class NormalStudent extends Person implements Student {\n\n        public NormalStudent(String name) {\n            super(name);\n        }\n\n        @Override\n        public void study() {\n            System.out.println(getName() + &quot; studies a lot.&quot;);\n        }\n    }\n</code></pre>\n<p>And your average staff, who does not do his job very dutyfully. He is a Person, and he does Staff thingies.</p>\n<pre><code>    public class NormalStaff extends Person implements Staff {\n\n        public NormalStaff(String name) {\n            super(name);\n        }\n\n        @Override\n        public void work() {\n            System.out.println(getName() + &quot; does whatever the staff does&quot;);\n        }\n    }\n</code></pre>\n<p>Now for the student, who is also a staff member:</p>\n<pre><code>    public class WorkingStudent extends NormalStudent implements Staff {\n\n        public WorkingStudent(String name) {\n            super(name);\n        }\n\n        @Override\n        public void work() {\n            System.out.println(getName() + &quot; has finished studying, but does not go to the party and instead does his obligations as a staff member of his university.&quot;);\n            System.out.println(getName() + &quot; has a bright future ahead of him. Probably.&quot;);\n        }\n    }\n</code></pre>\n<p>WorkingStudent is a NormalStudent, also a Person(he inheriths the functionality for a Student from NormalStudent and the properties of a Person), and implements Staff thus receiving the corresponding functionality.</p>\n<p>And a small example:</p>\n<pre><code>    NormalStudent james = new NormalStudent(&quot;James&quot;);\n    james.study();\n    WorkingStudent george = new WorkingStudent(&quot;George&quot;);\n    george.study();\n    george.work();\n    NormalStaff john = new NormalStaff(&quot;John&quot;);\n    john.work();\n</code></pre>\n"}],"owner":{"account_id":15754538,"reputation":41,"user_id":11368085,"display_name":"Joe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1318,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1642516168,"creation_date":1642509205,"question_id":70755658,"body_markdown":"Problem statement: A learning environment contains both **students** and **staffs** who have attributes in common because they are both **people**. *In some institutions a **student** may also be working as a **staff** there at the same time.* The implications of the above stated in Object Oriented Programming is:\r\n\r\n - `Student` inherits `Person`\r\n - `Staff` inherits `Person`\r\n - In some instances, a `Student` object and a `Staff` object should both be built on the same `Person` instance(I.e share the same parent class instance)\r\n\r\nHow do I implement the last implication on the list using OOP? (C#, **Java**, C++, or Python preferably)","title":"How do I make instances of different child classes have the same instance of their common parent class?","body":"<p>Problem statement: A learning environment contains both <strong>students</strong> and <strong>staffs</strong> who have attributes in common because they are both <strong>people</strong>. <em>In some institutions a <strong>student</strong> may also be working as a <strong>staff</strong> there at the same time.</em> The implications of the above stated in Object Oriented Programming is:</p>\n<ul>\n<li><code>Student</code> inherits <code>Person</code></li>\n<li><code>Staff</code> inherits <code>Person</code></li>\n<li>In some instances, a <code>Student</code> object and a <code>Staff</code> object should both be built on the same <code>Person</code> instance(I.e share the same parent class instance)</li>\n</ul>\n<p>How do I implement the last implication on the list using OOP? (C#, <strong>Java</strong>, C++, or Python preferably)</p>\n"},{"tags":["java","hex"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1578242515,"post_id":59601972,"comment_id":105367986,"body_markdown":"So convert them to a BigInteger. https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html#BigInteger-java.lang.String-int-","body":"So convert them to a BigInteger. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html#BigInteger-java.lang.String-int-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/math/&hellip;</a>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1578242531,"post_id":59601972,"comment_id":105367988,"body_markdown":"If you **don&#39;t** convert the `String` to an integral type, then adding those two `String`(s) will give you `&quot;0xf27f2029f9c103f77be78b9591c1ab27167858d27d789cd3ea8a270c67ea5d910x1&quot;` - which I bet you don&#39;t want.","body":"If you <b>don&#39;t</b> convert the <code>String</code> to an integral type, then adding those two <code>String</code>(s) will give you <code>&quot;0xf27f2029f9c103f77be78b9591c1ab27167858d27d789cd3ea8a270c6&zwnj;&#8203;7ea5d910x1&quot;</code> - which I bet you don&#39;t want."}],"answers":[{"tags":[],"owner":{"account_id":15890898,"reputation":1,"user_id":11466053,"display_name":"Shadmehr"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1578261421,"creation_date":1578245981,"answer_id":59602509,"question_id":59601972,"body_markdown":"Change your code to:\r\n\r\n    String hex1=&quot;0xf27f2029f9c103f77be78b9591c1ab27167858d27d789cd3ea8a270c67ea5d91&quot;;\r\n    int hex2=0x1;\r\n    string hex2=&quot;0x1&quot;;\r\n\r\nYou need &quot;&quot; for entering a value for string.","title":"How can I add two Strings containing hexadecimal-numbers without converting them to int?","body":"<p>Change your code to:</p>\n\n<pre><code>String hex1=\"0xf27f2029f9c103f77be78b9591c1ab27167858d27d789cd3ea8a270c67ea5d91\";\nint hex2=0x1;\nstring hex2=\"0x1\";\n</code></pre>\n\n<p>You need \"\" for entering a value for string.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1578248525,"creation_date":1578248188,"answer_id":59602844,"question_id":59601972,"body_markdown":"You can do it as follows:\r\n\r\n    import java.math.BigInteger;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString hex1 = &quot;0xf27f2029f9c103f77be78b9591c1ab27167858d27d789cd3ea8a270c67ea5d91&quot;;\r\n    \t\tString hex2 = &quot;0x1&quot;;\r\n    \t\tSystem.out.println(\r\n    \t\t\t\t&quot;In decimal: &quot; + new BigInteger(hex1.substring(2), 16).add(new BigInteger(hex2.substring(2), 16)));\r\n    \t\tSystem.out.println(&quot;In hexdecimal: &quot;\r\n    \t\t\t\t+ new BigInteger(hex1.substring(2), 16).add(new BigInteger(hex2.substring(2), 16)).toString(16));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    In decimal: 109684320921920394042076832992416841330182602685967688614501993994243850001810\r\n    In hexdecimal: f27f2029f9c103f77be78b9591c1ab27167858d27d789cd3ea8a270c67ea5d92","title":"How can I add two Strings containing hexadecimal-numbers without converting them to int?","body":"<p>You can do it as follows:</p>\n\n<pre><code>import java.math.BigInteger;\n\npublic class Main {\n    public static void main(String[] args) {\n        String hex1 = \"0xf27f2029f9c103f77be78b9591c1ab27167858d27d789cd3ea8a270c67ea5d91\";\n        String hex2 = \"0x1\";\n        System.out.println(\n                \"In decimal: \" + new BigInteger(hex1.substring(2), 16).add(new BigInteger(hex2.substring(2), 16)));\n        System.out.println(\"In hexdecimal: \"\n                + new BigInteger(hex1.substring(2), 16).add(new BigInteger(hex2.substring(2), 16)).toString(16));\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>In decimal: 109684320921920394042076832992416841330182602685967688614501993994243850001810\nIn hexdecimal: f27f2029f9c103f77be78b9591c1ab27167858d27d789cd3ea8a270c67ea5d92\n</code></pre>\n"}],"owner":{"account_id":14537521,"reputation":39,"user_id":10500392,"display_name":"bird-dancer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59602844,"answer_count":2,"score":2,"last_activity_date":1642515926,"creation_date":1578242387,"question_id":59601972,"body_markdown":"I have a hexadecimal number in a String which is too large to convert to int and long and want to add the value of another hexadecimal number.\r\nSo let&#39;s say I have this number:\r\n\r\n    String hex1 = &quot;0xf27f2029f9c103f77be78b9591c1ab27167858d27d789cd3ea8a270c67ea5d91&quot;;\r\nAnd want to add:\r\n\r\n    int hex2 = 0x1;  or  String hex2 = &quot;0x1&quot;;\r\n\r\n\r\nI know this question has been asked allready &lt;https://stackoverflow.com/questions/8245156/how-to-subtract-or-add-two-hexadecimal-value-in-java&gt; but the answers don&#39;t work for me because they all involve conversion to int.","title":"How can I add two Strings containing hexadecimal-numbers without converting them to int?","body":"<p>I have a hexadecimal number in a String which is too large to convert to int and long and want to add the value of another hexadecimal number.\nSo let's say I have this number:</p>\n<pre><code>String hex1 = &quot;0xf27f2029f9c103f77be78b9591c1ab27167858d27d789cd3ea8a270c67ea5d91&quot;;\n</code></pre>\n<p>And want to add:</p>\n<pre><code>int hex2 = 0x1;  or  String hex2 = &quot;0x1&quot;;\n</code></pre>\n<p>I know this question has been asked allready <a href=\"https://stackoverflow.com/questions/8245156/how-to-subtract-or-add-two-hexadecimal-value-in-java\">How to subtract or add two hexadecimal value in java</a> but the answers don't work for me because they all involve conversion to int.</p>\n"},{"tags":["java","cassandra","nashorn"],"comments":[{"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"score":1,"creation_date":1639300110,"post_id":70322207,"comment_id":124309606,"body_markdown":"Looks like you&#39;re really using Java 15 or later. Check what JAVA_HOME points to.","body":"Looks like you&#39;re really using Java 15 or later. Check what JAVA_HOME points to."},{"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"score":0,"creation_date":1639300437,"post_id":70322207,"comment_id":124309664,"body_markdown":"java.home = /Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/Home","body":"java.home = /Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/H&zwnj;&#8203;ome"},{"owner":{"account_id":1215286,"reputation":7830,"user_id":1183010,"accept_rate":80,"display_name":"R. Oosterholt"},"score":0,"creation_date":1644314319,"post_id":70322207,"comment_id":125567497,"body_markdown":"See [this answer](https://stackoverflow.com/a/71031839/1183010) to find an ant script alternative for Java version 15+","body":"See <a href=\"https://stackoverflow.com/a/71031839/1183010\">this answer</a> to find an ant script alternative for Java version 15+"}],"answers":[{"tags":[],"owner":{"account_id":5509183,"reputation":71,"user_id":4611540,"display_name":"Juan Jaime Eduardo Montemayor "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641074981,"creation_date":1641074981,"answer_id":70552224,"question_id":70322207,"body_markdown":"Sorry this might not be the best answer, but I was having the same issue, and I am replying in hopes to unstuck you while a better answer comes along( I&#39;d love to have a better understanding of why this is happening)\r\n\r\nIf you installed Maven via Homebrew you are probably using a different JDK version than the one set on JAVA_HOME.\r\n\r\nYou can run `mvn -version` to confirm. In my case I got this:\r\n\r\n    Apache Maven 3.8.4 (9b656c72d54e5bacbed989b64718c159fe39b537)\r\n    Maven home: /opt/homebrew/Cellar/maven/3.8.4/libexec\r\n    Java version: 17.0.1, vendor: Homebrew, runtime: /opt/homebrew/Cellar/openjdk/17.0.1_1/libexec/openjdk.jdk/Contents/Home\r\n    Default locale: en_MX, platform encoding: UTF-8\r\n\r\nNotice that the Java version is set to open jdk17, while JAVA_HOME is set to 11 in my case.\r\n\r\nWhat I did to force maven run my JAVA_HOME version was to use:\r\n\r\n    JAVA_HOME=$JAVA_HOME mvn clean install\r\n\r\nThat is all I had to do in order to fix ant&#39;s `Unable to create javax script engine for javascript` \r\n\r\nI was working a different project( not cassandra) but your question resembles a lot both my environment and the debug output I was getting.\r\n\r\nAgain, hopefully this reply would generate some activity and someone with more experience in Maven could provide a much better input than I.\r\n\r\nHope this helps anyone having a similar issue.","title":"Cassandra: Unable to create javax script engine for javascript","body":"<p>Sorry this might not be the best answer, but I was having the same issue, and I am replying in hopes to unstuck you while a better answer comes along( I'd love to have a better understanding of why this is happening)</p>\n<p>If you installed Maven via Homebrew you are probably using a different JDK version than the one set on JAVA_HOME.</p>\n<p>You can run <code>mvn -version</code> to confirm. In my case I got this:</p>\n<pre><code>Apache Maven 3.8.4 (9b656c72d54e5bacbed989b64718c159fe39b537)\nMaven home: /opt/homebrew/Cellar/maven/3.8.4/libexec\nJava version: 17.0.1, vendor: Homebrew, runtime: /opt/homebrew/Cellar/openjdk/17.0.1_1/libexec/openjdk.jdk/Contents/Home\nDefault locale: en_MX, platform encoding: UTF-8\n</code></pre>\n<p>Notice that the Java version is set to open jdk17, while JAVA_HOME is set to 11 in my case.</p>\n<p>What I did to force maven run my JAVA_HOME version was to use:</p>\n<pre><code>JAVA_HOME=$JAVA_HOME mvn clean install\n</code></pre>\n<p>That is all I had to do in order to fix ant's <code>Unable to create javax script engine for javascript</code></p>\n<p>I was working a different project( not cassandra) but your question resembles a lot both my environment and the debug output I was getting.</p>\n<p>Again, hopefully this reply would generate some activity and someone with more experience in Maven could provide a much better input than I.</p>\n<p>Hope this helps anyone having a similar issue.</p>\n"},{"tags":[],"owner":{"account_id":44768,"reputation":4435,"user_id":131552,"display_name":"Attila Szegedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642515791,"creation_date":1642515791,"answer_id":70757144,"question_id":70322207,"body_markdown":"Nashorn remains available as [OpenJDK Nashorn][1], a standalone library. It is published on Maven Central so you can easily pull it in as a dependency for your Maven project.\r\n\r\n\r\n  [1]: https://github.com/openjdk/nashorn","title":"Cassandra: Unable to create javax script engine for javascript","body":"<p>Nashorn remains available as <a href=\"https://github.com/openjdk/nashorn\" rel=\"nofollow noreferrer\">OpenJDK Nashorn</a>, a standalone library. It is published on Maven Central so you can easily pull it in as a dependency for your Maven project.</p>\n"}],"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2426,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1642515791,"creation_date":1639299662,"question_id":70322207,"body_markdown":"I am trying to build apache cassandra project, following([this][1]).\r\nI have jdk 11 on my mac machine. When I run &#39;ant&#39; command, I get error:\r\n\r\n \r\n\r\n    % ant\r\n    Buildfile: ..../cassandra/build.xml\r\n    Java 15 has removed Nashorn, you must provide an engine for running JavaScript yourself. GraalVM JavaScript currently is the preferred option.\r\n    \r\n    BUILD FAILED\r\n    ..../cassandra/build.xml:152: Unable to create javax script engine for javascript\r\n\r\nWhat is a good workaround for this issue?\r\n\r\n  [1]: https://cassandra.apache.org/_/development/ide.html","title":"Cassandra: Unable to create javax script engine for javascript","body":"<p>I am trying to build apache cassandra project, following(<a href=\"https://cassandra.apache.org/_/development/ide.html\" rel=\"nofollow noreferrer\">this</a>).\nI have jdk 11 on my mac machine. When I run 'ant' command, I get error:</p>\n<pre><code>% ant\nBuildfile: ..../cassandra/build.xml\nJava 15 has removed Nashorn, you must provide an engine for running JavaScript yourself. GraalVM JavaScript currently is the preferred option.\n\nBUILD FAILED\n..../cassandra/build.xml:152: Unable to create javax script engine for javascript\n</code></pre>\n<p>What is a good workaround for this issue?</p>\n"},{"tags":["java","arrays","string","split","concatenation"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":8,"creation_date":1526289058,"post_id":50326742,"comment_id":87669110,"body_markdown":"`input.split(&quot;,&quot;)`","body":"<code>input.split(&quot;,&quot;)</code>"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1526289171,"post_id":50326742,"comment_id":87669186,"body_markdown":"If you&#39;re going to join them again, why not just `replaceAll` `&quot;,&quot;` with `&quot;&quot;`?","body":"If you&#39;re going to join them again, why not just <code>replaceAll</code> <code>&quot;,&quot;</code> with <code>&quot;&quot;</code>?"},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":1,"creation_date":1526289221,"post_id":50326742,"comment_id":87669209,"body_markdown":"Curious : why would you think `input.split(&quot;\\\\s*,\\\\s*&quot;))` would do what you expect?","body":"Curious : why would you think <code>input.split(&quot;\\\\s*,\\\\s*&quot;))</code> would do what you expect?"},{"owner":{"account_id":9881938,"reputation":11,"user_id":7317752,"display_name":"squlerr"},"score":0,"creation_date":1526289747,"post_id":50326742,"comment_id":87669569,"body_markdown":"thanks .split(&quot;,&quot;) helped. Don&#39;t know, had some problems with split(&quot;,&quot;) before, so I forgot to try it again.","body":"thanks .split(&quot;,&quot;) helped. Don&#39;t know, had some problems with split(&quot;,&quot;) before, so I forgot to try it again."}],"answers":[{"tags":[],"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642515670,"creation_date":1526289540,"answer_id":50326916,"question_id":50326742,"body_markdown":"```\r\nString s = &quot; hello , world &quot;;\r\nString s1[] = s.split(&quot;,&quot;);\r\nSystem.out.println(s1[0]+s1[1]);\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n hello  world \r\n```","title":"How to split string at comma but keep white spaces?","body":"<pre><code>String s = &quot; hello , world &quot;;\nString s1[] = s.split(&quot;,&quot;);\nSystem.out.println(s1[0]+s1[1]);\n</code></pre>\n<p>Output:</p>\n<pre><code> hello  world \n</code></pre>\n"}],"owner":{"account_id":9881938,"reputation":11,"user_id":7317752,"display_name":"squlerr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":768,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50326916,"answer_count":1,"score":0,"last_activity_date":1642515670,"creation_date":1526289019,"question_id":50326742,"body_markdown":"How to split string at comma so that it keeps all spaces. Example:\r\n\r\n    Input: [&quot;  hello  , world  &quot;]\r\n\r\nNeed to separate this in array so that it looks like this:\r\n\r\n    Array[0] = &quot;  hello  &quot;\r\n    Array[1] = &quot; world  &quot;\r\n\r\nand after connecting them:\r\n\r\n    Output: &quot;  hello   world  &quot;\r\n\r\nTried using split like this: `input.split(&quot;\\\\s*,\\\\s*&quot;))` but then I get it separated without white space...\r\n\r\n    Array[0] = &quot;hello&quot;\r\n    Array[1] = &quot;world&quot;\r\n\r\nAny ideas how to do this?","title":"How to split string at comma but keep white spaces?","body":"<p>How to split string at comma so that it keeps all spaces. Example:</p>\n\n<pre><code>Input: [\"  hello  , world  \"]\n</code></pre>\n\n<p>Need to separate this in array so that it looks like this:</p>\n\n<pre><code>Array[0] = \"  hello  \"\nArray[1] = \" world  \"\n</code></pre>\n\n<p>and after connecting them:</p>\n\n<pre><code>Output: \"  hello   world  \"\n</code></pre>\n\n<p>Tried using split like this: <code>input.split(\"\\\\s*,\\\\s*\"))</code> but then I get it separated without white space...</p>\n\n<pre><code>Array[0] = \"hello\"\nArray[1] = \"world\"\n</code></pre>\n\n<p>Any ideas how to do this?</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":11958574,"reputation":3740,"user_id":8750174,"display_name":"Vikas Acharya"},"score":0,"creation_date":1642513036,"post_id":70756382,"comment_id":125086138,"body_markdown":"do you have some example input data and expected result to test against? What debugging have you done?","body":"do you have some example input data and expected result to test against? What debugging have you done?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1642513593,"post_id":70756382,"comment_id":125086369,"body_markdown":"What do you think `for(int j = 0;j&lt;n;j++){ arr1[j] = arr[i]; }` does?","body":"What do you think <code>for(int j = 0;j&lt;n;j++){ arr1[j] = arr[i]; }</code> does?"},{"owner":{"account_id":20469113,"reputation":3,"user_id":15019977,"display_name":"kpalod"},"score":0,"creation_date":1642514112,"post_id":70756382,"comment_id":125086598,"body_markdown":"for(int j = 0;j&lt;n;j++){ arr1[j] = arr[i]; } I added the 2nd for loop to make sure that indexing is proper for the subarray as &quot;i&quot; keeps increasing after every iteration so I cant just write it as arr1[i]=arr[i];","body":"for(int j = 0;j&lt;n;j++){ arr1[j] = arr[i]; } I added the 2nd for loop to make sure that indexing is proper for the subarray as &quot;i&quot; keeps increasing after every iteration so I cant just write it as arr1[i]=arr[i];"},{"owner":{"account_id":11958574,"reputation":3740,"user_id":8750174,"display_name":"Vikas Acharya"},"score":0,"creation_date":1642514192,"post_id":70756382,"comment_id":125086640,"body_markdown":"@Pshemo The code is not readable at-least for me, expected output part is not clear. Is this the way to ask a question?","body":"@Pshemo The code is not readable at-least for me, expected output part is not clear. Is this the way to ask a question?"},{"owner":{"account_id":20469113,"reputation":3,"user_id":15019977,"display_name":"kpalod"},"score":0,"creation_date":1642515343,"post_id":70756382,"comment_id":125087171,"body_markdown":"@Vikas Acharya I edited the question","body":"@Vikas Acharya I edited the question"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1642515980,"post_id":70756382,"comment_id":125087450,"body_markdown":"@kpalod but did you notice what do you do in each iteration of that loop? You are assigning to *each* index of `arr1` element `arr[i]`. In other words you are filling it entirely with current value of `arr[i]`. You don&#39;t want that. Instead you want to assign `arr[i]` to *one* position, probably first non-null one (you can store its index in variable like `amountOfElementsInArr1` or `year1StudentCounter`).","body":"@kpalod but did you notice what do you do in each iteration of that loop? You are assigning to <i>each</i> index of <code>arr1</code> element <code>arr[i]</code>. In other words you are filling it entirely with current value of <code>arr[i]</code>. You don&#39;t want that. Instead you want to assign <code>arr[i]</code> to <i>one</i> position, probably first non-null one (you can store its index in variable like <code>amountOfElementsInArr1</code> or <code>year1StudentCounter</code>)."},{"owner":{"account_id":20469113,"reputation":3,"user_id":15019977,"display_name":"kpalod"},"score":0,"creation_date":1642516576,"post_id":70756382,"comment_id":125087704,"body_markdown":"@Pshemo Yeah got it. Thanks.","body":"@Pshemo Yeah got it. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":15166774,"reputation":91,"user_id":10944077,"display_name":"Awais Latif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642515630,"creation_date":1642515630,"answer_id":70757102,"question_id":70756382,"body_markdown":"You need to introduce new 5 variable for keeping track of total student in each category so that you can put next student on next empty position in category.\r\n\r\n    Scanner scan = new Scanner(System.in);\r\n    System.out.println(&quot;Enter no of students&quot;);\r\n    int n = scan.nextInt();\r\n    scan.nextLine();\r\n    String[] arr = new String[n];\r\n    System.out.println(&quot;Enter registration numbers&quot;);\r\n    for(int i = 0;i&lt;n;i++){\r\n        arr[i]=scan.nextLine();\r\n\r\n    }\r\n\r\n    String[] arr1 = new String[n];\r\n    String[] arr2 = new String[n];\r\n    String[] arr3 = new String[n];\r\n    String[] arr4 = new String[n];\r\n    String[] arr5 = new String[n];\r\n    int studntFirstYear = 0;\r\n    int studntSecondYear = 0;\r\n    int studntThirdYear = 0;\r\n    int studntForthYear = 0;\r\n    int studntElse = 0;\r\n\r\n\r\n    for(int i = 0;i&lt;n;i++){\r\n        if(arr[i].startsWith(&quot;18&quot;)){\r\n            arr1[studntForthYear] = arr[i];\r\n            studntForthYear++;\r\n        }\r\n        else if(arr[i].startsWith(&quot;19&quot;)){\r\n            arr2[studntThirdYear] = arr[i];\r\n            studntThirdYear++;\r\n        }\r\n        else if(arr[i].startsWith(&quot;20&quot;)){\r\n            arr3[studntSecondYear] = arr[i];\r\n            studntSecondYear++;\r\n        }\r\n        else if(arr[i].startsWith(&quot;21&quot;)){\r\n            arr4[studntFirstYear] = arr[i];\r\n            studntFirstYear++;\r\n        }\r\n        else{\r\n            arr5[studntElse] = arr[i];\r\n            studntElse++;\r\n            \r\n        }\r\n\r\n    }\r\n    System.out.println(&quot;4th year students are&quot;);\r\n    for(int i = 0;i&lt;studntForthYear;i++){\r\n        System.out.println(arr1[i]);\r\n        System.out.println();\r\n    }\r\n    System.out.println(&quot;3rd year students are&quot;);\r\n    for(int i = 0;i&lt;studntThirdYear;i++){\r\n        System.out.println(arr2[i]);\r\n        System.out.println();\r\n    }\r\n    System.out.println(&quot;2nd year students are&quot;);\r\n    for(int i = 0;i&lt;studntSecondYear;i++){\r\n        System.out.println(arr3[i]);\r\n        System.out.println();\r\n    }\r\n    System.out.println(&quot;1st year students are&quot;);\r\n    for(int i = 0;i&lt;studntFirstYear;i++){\r\n        System.out.println(arr4[i]);\r\n        System.out.println();\r\n    }","title":"Splitiing a string array into multiple subarrays in java based on prefix","body":"<p>You need to introduce new 5 variable for keeping track of total student in each category so that you can put next student on next empty position in category.</p>\n<pre><code>Scanner scan = new Scanner(System.in);\nSystem.out.println(&quot;Enter no of students&quot;);\nint n = scan.nextInt();\nscan.nextLine();\nString[] arr = new String[n];\nSystem.out.println(&quot;Enter registration numbers&quot;);\nfor(int i = 0;i&lt;n;i++){\n    arr[i]=scan.nextLine();\n\n}\n\nString[] arr1 = new String[n];\nString[] arr2 = new String[n];\nString[] arr3 = new String[n];\nString[] arr4 = new String[n];\nString[] arr5 = new String[n];\nint studntFirstYear = 0;\nint studntSecondYear = 0;\nint studntThirdYear = 0;\nint studntForthYear = 0;\nint studntElse = 0;\n\n\nfor(int i = 0;i&lt;n;i++){\n    if(arr[i].startsWith(&quot;18&quot;)){\n        arr1[studntForthYear] = arr[i];\n        studntForthYear++;\n    }\n    else if(arr[i].startsWith(&quot;19&quot;)){\n        arr2[studntThirdYear] = arr[i];\n        studntThirdYear++;\n    }\n    else if(arr[i].startsWith(&quot;20&quot;)){\n        arr3[studntSecondYear] = arr[i];\n        studntSecondYear++;\n    }\n    else if(arr[i].startsWith(&quot;21&quot;)){\n        arr4[studntFirstYear] = arr[i];\n        studntFirstYear++;\n    }\n    else{\n        arr5[studntElse] = arr[i];\n        studntElse++;\n        \n    }\n\n}\nSystem.out.println(&quot;4th year students are&quot;);\nfor(int i = 0;i&lt;studntForthYear;i++){\n    System.out.println(arr1[i]);\n    System.out.println();\n}\nSystem.out.println(&quot;3rd year students are&quot;);\nfor(int i = 0;i&lt;studntThirdYear;i++){\n    System.out.println(arr2[i]);\n    System.out.println();\n}\nSystem.out.println(&quot;2nd year students are&quot;);\nfor(int i = 0;i&lt;studntSecondYear;i++){\n    System.out.println(arr3[i]);\n    System.out.println();\n}\nSystem.out.println(&quot;1st year students are&quot;);\nfor(int i = 0;i&lt;studntFirstYear;i++){\n    System.out.println(arr4[i]);\n    System.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":20469113,"reputation":3,"user_id":15019977,"display_name":"kpalod"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70757102,"answer_count":1,"score":0,"last_activity_date":1642515630,"creation_date":1642512575,"question_id":70756382,"body_markdown":"I have several string inputs(registration number of students) from the user and I have to store them into different arrays based on their year of studying and print the output.\r\nFor example, if string begins with &quot;18&quot; i have to store it as a 4th year student. If it begins with &quot;19&quot; i have to store it as 3rd year student and so on.\r\n\r\n        import java.util.Scanner;\r\n    public class reg {\r\n        public static void main(String args[]){\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.println(&quot;Enter no of students&quot;);\r\n        int n = scan.nextInt();\r\n        scan.nextLine();\r\n        String[] arr = new String[n];\r\n        System.out.println(&quot;Enter registration numbers&quot;);\r\n        for(int i = 0;i&lt;n;i++){\r\n            arr[i]=scan.nextLine();\r\n    \r\n        }\r\n    \r\n        String[] arr1 = new String[n];\r\n        String[] arr2 = new String[n];\r\n        String[] arr3 = new String[n];\r\n        String[] arr4 = new String[n];\r\n        String[] arr5 = new String[n];\r\n    \r\n    \r\n        for(int i = 0;i&lt;n;i++){\r\n            if(arr[i].startsWith(&quot;18&quot;)){\r\n                for(int j = 0;j&lt;n;j++){\r\n                    arr1[j] = arr[i];\r\n                }\r\n            }\r\n            else if(arr[i].startsWith(&quot;19&quot;)){\r\n                for(int j = 0;j&lt;n;j++){\r\n                    arr2[j] = arr[i];\r\n                }\r\n            }\r\n            else if(arr[i].startsWith(&quot;20&quot;)){\r\n                for(int j = 0;j&lt;n;j++){\r\n                    arr3[j] = arr[i];\r\n                }\r\n            }\r\n            else if(arr[i].startsWith(&quot;21&quot;)){\r\n                for(int j = 0;j&lt;n;j++){\r\n                    arr4[j] = arr[i];\r\n                }\r\n            }\r\n            else{\r\n                for(int j = 0;j&lt;n;j++){\r\n                    arr5[j] = arr[i];\r\n                }\r\n            }\r\n    \r\n        }\r\n        System.out.println(&quot;4th year students are&quot;);\r\n        for(int i = 0;i&lt;n;i++){\r\n            System.out.println(arr1[i]);\r\n            System.out.println();\r\n        }\r\n        System.out.println(&quot;3rd year students are&quot;);\r\n        for(int i = 0;i&lt;n;i++){\r\n            System.out.println(arr2[i]);\r\n            System.out.println();\r\n        }\r\n        System.out.println(&quot;2nd year students are&quot;);\r\n        for(int i = 0;i&lt;n;i++){\r\n            System.out.println(arr3[i]);\r\n            System.out.println();\r\n        }\r\n        System.out.println(&quot;1st year students are&quot;);\r\n        for(int i = 0;i&lt;n;i++){\r\n            System.out.println(arr4[i]);\r\n            System.out.println();\r\n        }\r\n    \r\n        }\r\n        \r\n    }\r\nThe output I&#39;m getting is just the last input matching my condition getting printed n times (no. of students input).\r\n\r\nHow can I solve this issue?\r\n\r\nEdit : \r\n\r\nInput and expected ouput :\r\n\r\nNo of students :\r\n\r\n7\r\n\r\nEnter registration numbers :\r\n\r\n20ABC123\r\n\r\n19ABC111\r\n\r\n18ABC000\r\n\r\n18ABC001\r\n\r\n21ABX144\r\n\r\n20ABX000\r\n\r\n19ABC099\r\n\r\nExpected Output:\r\n4th year students are\r\n\r\n18ABC000\r\n\r\n18ABC001\r\n\r\n3rd year students are\r\n\r\n19ABC111\r\n\r\n19ABC099\r\n\r\n2nd year students are\r\n\r\n20ABC123\r\n\r\n20ABX000\r\n\r\n1st year students are\r\n\r\n21ABX144\r\n\r\n\r\n\r\n\r\n\r\n ","title":"Splitiing a string array into multiple subarrays in java based on prefix","body":"<p>I have several string inputs(registration number of students) from the user and I have to store them into different arrays based on their year of studying and print the output.\nFor example, if string begins with &quot;18&quot; i have to store it as a 4th year student. If it begins with &quot;19&quot; i have to store it as 3rd year student and so on.</p>\n<pre><code>    import java.util.Scanner;\npublic class reg {\n    public static void main(String args[]){\n    Scanner scan = new Scanner(System.in);\n    System.out.println(&quot;Enter no of students&quot;);\n    int n = scan.nextInt();\n    scan.nextLine();\n    String[] arr = new String[n];\n    System.out.println(&quot;Enter registration numbers&quot;);\n    for(int i = 0;i&lt;n;i++){\n        arr[i]=scan.nextLine();\n\n    }\n\n    String[] arr1 = new String[n];\n    String[] arr2 = new String[n];\n    String[] arr3 = new String[n];\n    String[] arr4 = new String[n];\n    String[] arr5 = new String[n];\n\n\n    for(int i = 0;i&lt;n;i++){\n        if(arr[i].startsWith(&quot;18&quot;)){\n            for(int j = 0;j&lt;n;j++){\n                arr1[j] = arr[i];\n            }\n        }\n        else if(arr[i].startsWith(&quot;19&quot;)){\n            for(int j = 0;j&lt;n;j++){\n                arr2[j] = arr[i];\n            }\n        }\n        else if(arr[i].startsWith(&quot;20&quot;)){\n            for(int j = 0;j&lt;n;j++){\n                arr3[j] = arr[i];\n            }\n        }\n        else if(arr[i].startsWith(&quot;21&quot;)){\n            for(int j = 0;j&lt;n;j++){\n                arr4[j] = arr[i];\n            }\n        }\n        else{\n            for(int j = 0;j&lt;n;j++){\n                arr5[j] = arr[i];\n            }\n        }\n\n    }\n    System.out.println(&quot;4th year students are&quot;);\n    for(int i = 0;i&lt;n;i++){\n        System.out.println(arr1[i]);\n        System.out.println();\n    }\n    System.out.println(&quot;3rd year students are&quot;);\n    for(int i = 0;i&lt;n;i++){\n        System.out.println(arr2[i]);\n        System.out.println();\n    }\n    System.out.println(&quot;2nd year students are&quot;);\n    for(int i = 0;i&lt;n;i++){\n        System.out.println(arr3[i]);\n        System.out.println();\n    }\n    System.out.println(&quot;1st year students are&quot;);\n    for(int i = 0;i&lt;n;i++){\n        System.out.println(arr4[i]);\n        System.out.println();\n    }\n\n    }\n    \n}\n</code></pre>\n<p>The output I'm getting is just the last input matching my condition getting printed n times (no. of students input).</p>\n<p>How can I solve this issue?</p>\n<p>Edit :</p>\n<p>Input and expected ouput :</p>\n<p>No of students :</p>\n<p>7</p>\n<p>Enter registration numbers :</p>\n<p>20ABC123</p>\n<p>19ABC111</p>\n<p>18ABC000</p>\n<p>18ABC001</p>\n<p>21ABX144</p>\n<p>20ABX000</p>\n<p>19ABC099</p>\n<p>Expected Output:\n4th year students are</p>\n<p>18ABC000</p>\n<p>18ABC001</p>\n<p>3rd year students are</p>\n<p>19ABC111</p>\n<p>19ABC099</p>\n<p>2nd year students are</p>\n<p>20ABC123</p>\n<p>20ABX000</p>\n<p>1st year students are</p>\n<p>21ABX144</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1640179857,"creation_date":1640179857,"answer_id":70449865,"question_id":70449803,"body_markdown":"There is no index to iterate over. You can, however, use an explicit `Iterator` and a while loop:\r\n\r\n    String createSelector(Map.Entry&lt;String, Map&lt;String, String&gt;&gt; seriesMapEntry) {\r\n       Iterator&lt;Map.Entry&lt;String,String&gt;&gt; iter = seriesMapEntry.getValue().entrySet().iterator();\r\n       while (iter.hasNext ()) {\r\n            Map.Entry&lt;String,String&gt; column = iter.next ();\r\n            String expr = column.getValue();\r\n             // some code here\r\n       }\r\n    }","title":"Replace map for-each by classic for-loop?","body":"<p>There is no index to iterate over. You can, however, use an explicit <code>Iterator</code> and a while loop:</p>\n<pre><code>String createSelector(Map.Entry&lt;String, Map&lt;String, String&gt;&gt; seriesMapEntry) {\n   Iterator&lt;Map.Entry&lt;String,String&gt;&gt; iter = seriesMapEntry.getValue().entrySet().iterator();\n   while (iter.hasNext ()) {\n        Map.Entry&lt;String,String&gt; column = iter.next ();\n        String expr = column.getValue();\n         // some code here\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1640179897,"creation_date":1640179897,"answer_id":70449872,"question_id":70449803,"body_markdown":"The classic for loop in this case did not iterate &quot;by index&quot; (as there&#39;s no index in a Map or Set), but used an iterator:\r\n\r\n    for (Iterator&lt;Map.Entry&lt;String, String&gt;&gt; iter = seriesMapEntry.getValue().entrySet().iterator(); iter.hasNext();) {\r\n        Map.Entry&lt;String,String&gt; column = iter.next();\r\n        // some code here\r\n    }","title":"Replace map for-each by classic for-loop?","body":"<p>The classic for loop in this case did not iterate &quot;by index&quot; (as there's no index in a Map or Set), but used an iterator:</p>\n<pre><code>for (Iterator&lt;Map.Entry&lt;String, String&gt;&gt; iter = seriesMapEntry.getValue().entrySet().iterator(); iter.hasNext();) {\n    Map.Entry&lt;String,String&gt; column = iter.next();\n    // some code here\n}\n</code></pre>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70449865,"answer_count":2,"score":0,"last_activity_date":1642515599,"creation_date":1640179547,"question_id":70449803,"body_markdown":"Java 8\r\n\r\nhere some snippet:\r\n\r\n    String createSelector(Map.Entry&lt;String, Map&lt;String, String&gt;&gt; seriesMapEntry) {\r\n       for (Map.Entry&lt;String,String&gt; column : seriesMapEntry.getValue().entrySet()) {\r\n    \t\tString expr = column.getValue();\r\n             // some code here\r\n       }\r\n    }\r\n\r\nNice. It&#39;s work fine.\r\n\r\nIs it possible to iterate **seriesMapEntry** without `for-each` loop? E.g use classic for loop (iterate by index). \r\n","title":"Replace map for-each by classic for-loop?","body":"<p>Java 8</p>\n<p>here some snippet:</p>\n<pre><code>String createSelector(Map.Entry&lt;String, Map&lt;String, String&gt;&gt; seriesMapEntry) {\n   for (Map.Entry&lt;String,String&gt; column : seriesMapEntry.getValue().entrySet()) {\n        String expr = column.getValue();\n         // some code here\n   }\n}\n</code></pre>\n<p>Nice. It's work fine.</p>\n<p>Is it possible to iterate <strong>seriesMapEntry</strong> without <code>for-each</code> loop? E.g use classic for loop (iterate by index).</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3837785,"reputation":277,"user_id":3181718,"display_name":"jr593"},"score":0,"creation_date":1641809275,"post_id":70650596,"comment_id":124894582,"body_markdown":"Not quite sure what you want to see on the output, but Spring will try to find some object that will render the view. This might be a class that outputs to the servlet output stream, or it could be something like a jsp file, that get converted to a servlet.","body":"Not quite sure what you want to see on the output, but Spring will try to find some object that will render the view. This might be a class that outputs to the servlet output stream, or it could be something like a jsp file, that get converted to a servlet."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641809851,"creation_date":1641809495,"answer_id":70650732,"question_id":70650596,"body_markdown":"Check the [doc][1] and you will understand why this is not allowed.\r\n\r\n&gt; public @interface ResponseBody Annotation that indicates a method\r\n&gt; **return value should be bound to the web response body**.\r\n\r\nModelAndView otherwise when returned contains 2 different information. \r\n\r\nA) Model object which is passed to the view and can be accessed from the view\r\n\r\nB) View (ex myView.jsp) which should be rendered and where the model object would be accessible for.\r\n\r\nThe `@ResponseBody` shall be used when you pass to the user a single response with some data that you want to. The user expects to read only what you return from the controller.\r\n\r\nThe `ModelAndView` shall be used when you pass to the user a dynamic view that you have defined in your application.\r\n\r\nThose 2 are 2 separate scenarios.  \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseBody.html","title":"Why the annontation @ResponseBody along with the return value &#39;ModelAndView&#39; doesn&#39;t work?","body":"<p>Check the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseBody.html\" rel=\"nofollow noreferrer\">doc</a> and you will understand why this is not allowed.</p>\n<blockquote>\n<p>public @interface ResponseBody Annotation that indicates a method\n<strong>return value should be bound to the web response body</strong>.</p>\n</blockquote>\n<p>ModelAndView otherwise when returned contains 2 different information.</p>\n<p>A) Model object which is passed to the view and can be accessed from the view</p>\n<p>B) View (ex myView.jsp) which should be rendered and where the model object would be accessible for.</p>\n<p>The <code>@ResponseBody</code> shall be used when you pass to the user a single response with some data that you want to. The user expects to read only what you return from the controller.</p>\n<p>The <code>ModelAndView</code> shall be used when you pass to the user a dynamic view that you have defined in your application.</p>\n<p>Those 2 are 2 separate scenarios.</p>\n"}],"owner":{"account_id":23890794,"reputation":11,"user_id":17890499,"display_name":"JerrfyChern"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642515247,"creation_date":1641808786,"question_id":70650596,"body_markdown":"When I write some controllers in Spring Boot project, I want to use the annotation `@ResponseBody` to test if the controller interface works normally, so I created a controller like this:\r\n\r\n    @ResponseBody\r\n    @GetMapping(&quot;/about&quot;)\r\n    public ModelAndView about(){\r\n        return new ModelAndView(&quot;about&quot;);\r\n    }\r\n\r\nTo test if this controller was working, I used the browser to test it. I didn&#39;t use the URL `about.html`, so I expected the browser should have shown a JSON string to describe the `ModelAndView` object. This isn&#39;t what happened; instead it showed an error that the dispatchServlet cannot resolve the template.\r\n\r\nIt seems like the annotation is not working. I cleared my cache, cleaned the project, and rebuilt it, but that didn&#39;t help. What am I doing wrong?\r\n\r\n\r\n\r\n","title":"Why the annontation @ResponseBody along with the return value &#39;ModelAndView&#39; doesn&#39;t work?","body":"<p>When I write some controllers in Spring Boot project, I want to use the annotation <code>@ResponseBody</code> to test if the controller interface works normally, so I created a controller like this:</p>\n<pre><code>@ResponseBody\n@GetMapping(&quot;/about&quot;)\npublic ModelAndView about(){\n    return new ModelAndView(&quot;about&quot;);\n}\n</code></pre>\n<p>To test if this controller was working, I used the browser to test it. I didn't use the URL <code>about.html</code>, so I expected the browser should have shown a JSON string to describe the <code>ModelAndView</code> object. This isn't what happened; instead it showed an error that the dispatchServlet cannot resolve the template.</p>\n<p>It seems like the annotation is not working. I cleared my cache, cleaned the project, and rebuilt it, but that didn't help. What am I doing wrong?</p>\n"},{"tags":["java","android","modal-dialog","android-bottomsheetdialog","bottomsheetdialogfragment"],"answers":[{"tags":[],"owner":{"account_id":8577730,"reputation":78,"user_id":6426528,"display_name":"Bryan de Ridder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642514588,"creation_date":1642514588,"answer_id":70756837,"question_id":67740604,"body_markdown":"I don&#39;t think this is possible, nor is the Options Menu meant for this. This is from the [documentation on menus][1]:\r\n&gt; &quot;The options menu is the primary collection of menu items for an\r\n&gt; activity. It&#39;s where you should place actions that have a global\r\n&gt; impact on the app, such as &quot;Search,&quot; &quot;Compose email,&quot; and &quot;Settings.&quot;\r\n\r\nI think the [PopUpMenu][2] would be more appropriate here:\r\n&gt; &quot;Rather, the popup menu is for extended actions that relate to regions of content in your activity.&quot;\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/ui/menus\r\n  [2]: https://developer.android.com/guide/topics/ui/menus#PopupMenu","title":"Adding a menu in Custom BottomSheetDialog Android","body":"<p>I don't think this is possible, nor is the Options Menu meant for this. This is from the <a href=\"https://developer.android.com/guide/topics/ui/menus\" rel=\"nofollow noreferrer\">documentation on menus</a>:</p>\n<blockquote>\n<p>&quot;The options menu is the primary collection of menu items for an\nactivity. It's where you should place actions that have a global\nimpact on the app, such as &quot;Search,&quot; &quot;Compose email,&quot; and &quot;Settings.&quot;</p>\n</blockquote>\n<p>I think the <a href=\"https://developer.android.com/guide/topics/ui/menus#PopupMenu\" rel=\"nofollow noreferrer\">PopUpMenu</a> would be more appropriate here:</p>\n<blockquote>\n<p>&quot;Rather, the popup menu is for extended actions that relate to regions of content in your activity.&quot;</p>\n</blockquote>\n"}],"owner":{"account_id":18315004,"reputation":188,"user_id":13336952,"display_name":"Tanish Ranjan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70756837,"answer_count":1,"score":3,"last_activity_date":1642514588,"creation_date":1622211481,"question_id":67740604,"body_markdown":"[The is what i want to have][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FA10E.jpg\r\nI have a BottomSheetDialog and i have inflated my custom layout on it. But when i try to add the menu to it. It doesn&#39;t appear.\r\n\r\nDiscord has the same thing with the menu appearing in the corner as you can see in the image above. How am i supposed to do it. Please help me out.\r\n\r\nHere is my code\r\n```\r\n//This is my ViewProfile BottomSheetDialog\r\n\r\npublic class ViewProfileFragment extends BottomSheetDialogFragment {\r\n\r\n@Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        CreateView = inflater.inflate(R.layout.fragment_view_profile, container, true);\r\n\r\n        return CreateView;\r\n\r\n    }\r\n\r\n@Override\r\n    public void onCreateOptionsMenu(@NonNull Menu menu, @NonNull MenuInflater inflater) {\r\n        super.onCreateOptionsMenu(menu, inflater);\r\n        inflater.inflate(R.menu.view_profile_menu, menu);\r\n    }\r\n\r\n}\r\n```","title":"Adding a menu in Custom BottomSheetDialog Android","body":"<p><a href=\"https://i.stack.imgur.com/FA10E.jpg\" rel=\"nofollow noreferrer\">The is what i want to have</a></p>\n<p>I have a BottomSheetDialog and i have inflated my custom layout on it. But when i try to add the menu to it. It doesn't appear.</p>\n<p>Discord has the same thing with the menu appearing in the corner as you can see in the image above. How am i supposed to do it. Please help me out.</p>\n<p>Here is my code</p>\n<pre><code>//This is my ViewProfile BottomSheetDialog\n\npublic class ViewProfileFragment extends BottomSheetDialogFragment {\n\n@Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n        CreateView = inflater.inflate(R.layout.fragment_view_profile, container, true);\n\n        return CreateView;\n\n    }\n\n@Override\n    public void onCreateOptionsMenu(@NonNull Menu menu, @NonNull MenuInflater inflater) {\n        super.onCreateOptionsMenu(menu, inflater);\n        inflater.inflate(R.menu.view_profile_menu, menu);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":1,"creation_date":1642517521,"post_id":70756833,"comment_id":125088117,"body_markdown":"Captcha verification serves to prevent bots to access the web. For testing purposes there should be an environment without captcha verification or some backdoor (f.e. custom http header) available.","body":"Captcha verification serves to prevent bots to access the web. For testing purposes there should be an environment without captcha verification or some backdoor (f.e. custom http header) available."}],"owner":{"account_id":23977029,"reputation":21,"user_id":17964986,"display_name":"Anosha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1642533717,"answer_count":0,"score":1,"last_activity_date":1642514576,"creation_date":1642514576,"question_id":70756833,"body_markdown":"I&#39;m given a live site to automate a registration form which got a captcha(Selenium java). Is there any way to bypass it? \r\nI tried the following code to tick the captcha\r\n       private By chkbox_captcha=By.xpath(&quot;//*[@id=\\&quot;recaptcha-anchor\\&quot;]/div[1]&quot;);\r\n       driver.switchTo().frame(driver.findElement(By.xpath(&quot;//*[@id=\\&quot;ContentPlaceHolder1_maindiv\\&quot;]/div[6]/div/div/div/iframe&quot;)));\r\n       WebElement captcha = driver.findElement(chkbox_captcha);\r\n       driver.findElement(chkbox_captcha).click();\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p1zXb.png","title":"How to bypass captcha in selenium java","body":"<p>I'm given a live site to automate a registration form which got a captcha(Selenium java). Is there any way to bypass it?\nI tried the following code to tick the captcha\nprivate By chkbox_captcha=By.xpath(&quot;//<em>[@id=&quot;recaptcha-anchor&quot;]/div<a href=\"https://i.stack.imgur.com/p1zXb.png\" rel=\"nofollow noreferrer\">1</a>&quot;);\ndriver.switchTo().frame(driver.findElement(By.xpath(&quot;//</em>[@id=&quot;ContentPlaceHolder1_maindiv&quot;]/div[6]/div/div/div/iframe&quot;)));\nWebElement captcha = driver.findElement(chkbox_captcha);\ndriver.findElement(chkbox_captcha).click();\n<a href=\"https://i.stack.imgur.com/p1zXb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","performance","casting","floor"],"comments":[{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1385639760,"post_id":20265468,"comment_id":30229770,"body_markdown":"To clarify, do you mean that it ran at 10% of the speed, or that it ran 10% slower? (i.e. 90% of the speed)","body":"To clarify, do you mean that it ran at 10% of the speed, or that it ran 10% slower? (i.e. 90% of the speed)"},{"owner":{"account_id":30014,"reputation":20532,"user_id":81520,"accept_rate":84,"display_name":"Peter Perh&#225;č"},"score":0,"creation_date":1385639821,"post_id":20265468,"comment_id":30229817,"body_markdown":"by 10% worse i mean 10% slower, or managed to get only 90% of work done in the same time.","body":"by 10% worse i mean 10% slower, or managed to get only 90% of work done in the same time."},{"owner":{"account_id":1482632,"reputation":708,"user_id":1476401,"display_name":"Pandacoder"},"score":0,"creation_date":1385640080,"post_id":20265468,"comment_id":30229992,"body_markdown":"If anything, `Math.floor` should take longer than without it, seeing as either way you are casting from a double to an integer. Could the implicit flooring of floating point numbers in a cast be taking longer than the floor function? That&#39;s the only thing that would logically explain this. Past that I am completely clueless, it doesn&#39;t make sense (or I can&#39;t think of anything that does).","body":"If anything, <code>Math.floor</code> should take longer than without it, seeing as either way you are casting from a double to an integer. Could the implicit flooring of floating point numbers in a cast be taking longer than the floor function? That&#39;s the only thing that would logically explain this. Past that I am completely clueless, it doesn&#39;t make sense (or I can&#39;t think of anything that does)."},{"owner":{"account_id":30014,"reputation":20532,"user_id":81520,"accept_rate":84,"display_name":"Peter Perh&#225;č"},"score":0,"creation_date":1385640759,"post_id":20265468,"comment_id":30230388,"body_markdown":"@RobbieLodico - just what i was thinking. mvieghofer seems to point the way in this case. i am willing to believe it&#39;s all caused by the native call. looks like casting to int is sometimes cheaper than at other times... and it&#39;s not always obvious when it&#39;s cheap","body":"@RobbieLodico - just what i was thinking. mvieghofer seems to point the way in this case. i am willing to believe it&#39;s all caused by the native call. looks like casting to int is sometimes cheaper than at other times... and it&#39;s not always obvious when it&#39;s cheap"}],"answers":[{"tags":[],"owner":{"account_id":1160805,"reputation":2866,"user_id":1140338,"accept_rate":75,"display_name":"mvieghofer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1642514417,"creation_date":1385640315,"answer_id":20265735,"question_id":20265468,"body_markdown":"The `Math.floor` method just delegates the call to the `StrictMath.floor` method (as seen on  [`java.lang.StrictMath`&#39;s source code][1]). This method is a native method. After this method the cast does not have to do anything because it is already a number that is equal to an integer (so no decimal places). \r\n\r\nMaybe the native implementation of floor is faster than the cast of a double value to an int value. \r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/StrictMath.java#StrictMath.floor%28double%29","title":"(int) Math.sqrt(n) much slower than (int) Math.floor(Math.sqrt(n))","body":"<p>The <code>Math.floor</code> method just delegates the call to the <code>StrictMath.floor</code> method (as seen on  <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/StrictMath.java#StrictMath.floor%28double%29\" rel=\"nofollow noreferrer\"><code>java.lang.StrictMath</code>'s source code</a>). This method is a native method. After this method the cast does not have to do anything because it is already a number that is equal to an integer (so no decimal places).</p>\n<p>Maybe the native implementation of floor is faster than the cast of a double value to an int value.</p>\n"},{"tags":[],"owner":{"account_id":151235,"reputation":897,"user_id":364962,"accept_rate":85,"display_name":"Barzee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385667030,"creation_date":1385667030,"answer_id":20273591,"question_id":20265468,"body_markdown":"I cannot reproduce the same results.  Using this simple Java code below, the function without the call to Math.floor is consistently faster:\r\n\r\n    with floor elapsed milliseconds: 7354\r\n    without floor elapsed milliseconds: 4252\r\n\r\n\r\n    public class TestCast {\r\n        private static final int REPS = Integer.MAX_VALUE / 4;\r\n\r\n        private static void withFloor() {\r\n            long sum = 0;\r\n            long start = System.currentTimeMillis();\r\n            for (int i = REPS;  i != 0;  --i) {\r\n                sum += (int)Math.floor(Math.sqrt(i));\r\n            }\r\n            long end = System.currentTimeMillis();\r\n            long elapsed = end - start;\r\n            System.out.println(&quot;with floor elapsed milliseconds: &quot; + elapsed);\r\n            System.out.println(sum);\r\n        }\r\n\r\n        private static void withoutFloor() {\r\n            long sum = 0;\r\n            long start = System.currentTimeMillis();\r\n            for (int i = REPS;  i != 0;  --i) {\r\n                sum += (int)Math.sqrt(i);\r\n            }\r\n            long end = System.currentTimeMillis();\r\n            long elapsed = end - start;\r\n            System.out.println(&quot;without floor elapsed milliseconds: &quot; + elapsed);\r\n            System.out.println(sum);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            withFloor();\r\n            withoutFloor();\r\n        }\r\n    }\r\n\r\n\r\nAlso, looking at the disassembled byte code we can clearly see the call to Math.floor in the first function and no call in the second.  There must be something else going on in your code.  Perhaps you can post your code or a shortened version of it that shows the results that you are seeing.\r\n\r\n    private static void withFloor();\r\n      Code:\r\n         0: lconst_0      \r\n         1: lstore_0      \r\n         2: invokestatic  #2                  // Method java/lang/System.currentTimeMillis:()J\r\n         5: lstore_2      \r\n         6: ldc           #3                  // int 536870911\r\n         8: istore        4\r\n        10: iload         4\r\n        12: ifeq          35\r\n        15: lload_0       \r\n        16: iload         4\r\n        18: i2d           \r\n        19: invokestatic  #4                  // Method java/lang/Math.sqrt:(D)D\r\n        22: invokestatic  #5                  // Method java/lang/Math.floor:(D)D\r\n        25: d2i           \r\n        26: i2l           \r\n        27: ladd          \r\n        28: lstore_0      \r\n        29: iinc          4, -1\r\n        32: goto          10\r\n        35: invokestatic  #2                  // Method java/lang/System.currentTimeMillis:()J\r\n        38: lstore        4\r\n        40: lload         4\r\n        42: lload_2       \r\n        43: lsub          \r\n        44: lstore        6\r\n        46: getstatic     #6                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n        49: new           #7                  // class java/lang/StringBuilder\r\n        52: dup           \r\n        53: invokespecial #8                  // Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n        56: ldc           #9                  // String with floor elapsed milliseconds: \r\n        58: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n        61: lload         6\r\n        63: invokevirtual #11                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;\r\n        66: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n        69: invokevirtual #13                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n        72: getstatic     #6                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n        75: lload_0       \r\n        76: invokevirtual #14                 // Method java/io/PrintStream.println:(J)V\r\n        79: return        \r\n\r\n    private static void withoutFloor();\r\n      Code:\r\n         0: lconst_0      \r\n         1: lstore_0      \r\n         2: invokestatic  #2                  // Method java/lang/System.currentTimeMillis:()J\r\n         5: lstore_2      \r\n         6: ldc           #3                  // int 536870911\r\n         8: istore        4\r\n        10: iload         4\r\n        12: ifeq          32\r\n        15: lload_0       \r\n        16: iload         4\r\n        18: i2d           \r\n        19: invokestatic  #4                  // Method java/lang/Math.sqrt:(D)D\r\n        22: d2i           \r\n        23: i2l           \r\n        24: ladd          \r\n        25: lstore_0      \r\n        26: iinc          4, -1\r\n        29: goto          10\r\n        32: invokestatic  #2                  // Method java/lang/System.currentTimeMillis:()J\r\n        35: lstore        4\r\n        37: lload         4\r\n        39: lload_2       \r\n        40: lsub          \r\n        41: lstore        6\r\n        43: getstatic     #6                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n        46: new           #7                  // class java/lang/StringBuilder\r\n        49: dup           \r\n        50: invokespecial #8                  // Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n        53: ldc           #15                 // String without floor elapsed milliseconds: \r\n        55: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n        58: lload         6\r\n        60: invokevirtual #11                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;\r\n        63: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n        66: invokevirtual #13                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n        69: getstatic     #6                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n        72: lload_0       \r\n        73: invokevirtual #14                 // Method java/io/PrintStream.println:(J)V\r\n        76: return        \r\n\r\n\r\n\r\n","title":"(int) Math.sqrt(n) much slower than (int) Math.floor(Math.sqrt(n))","body":"<p>I cannot reproduce the same results.  Using this simple Java code below, the function without the call to Math.floor is consistently faster:</p>\n\n<pre><code>with floor elapsed milliseconds: 7354\nwithout floor elapsed milliseconds: 4252\n\n\npublic class TestCast {\n    private static final int REPS = Integer.MAX_VALUE / 4;\n\n    private static void withFloor() {\n        long sum = 0;\n        long start = System.currentTimeMillis();\n        for (int i = REPS;  i != 0;  --i) {\n            sum += (int)Math.floor(Math.sqrt(i));\n        }\n        long end = System.currentTimeMillis();\n        long elapsed = end - start;\n        System.out.println(\"with floor elapsed milliseconds: \" + elapsed);\n        System.out.println(sum);\n    }\n\n    private static void withoutFloor() {\n        long sum = 0;\n        long start = System.currentTimeMillis();\n        for (int i = REPS;  i != 0;  --i) {\n            sum += (int)Math.sqrt(i);\n        }\n        long end = System.currentTimeMillis();\n        long elapsed = end - start;\n        System.out.println(\"without floor elapsed milliseconds: \" + elapsed);\n        System.out.println(sum);\n    }\n\n    public static void main(String[] args) {\n        withFloor();\n        withoutFloor();\n    }\n}\n</code></pre>\n\n<p>Also, looking at the disassembled byte code we can clearly see the call to Math.floor in the first function and no call in the second.  There must be something else going on in your code.  Perhaps you can post your code or a shortened version of it that shows the results that you are seeing.</p>\n\n<pre><code>private static void withFloor();\n  Code:\n     0: lconst_0      \n     1: lstore_0      \n     2: invokestatic  #2                  // Method java/lang/System.currentTimeMillis:()J\n     5: lstore_2      \n     6: ldc           #3                  // int 536870911\n     8: istore        4\n    10: iload         4\n    12: ifeq          35\n    15: lload_0       \n    16: iload         4\n    18: i2d           \n    19: invokestatic  #4                  // Method java/lang/Math.sqrt:(D)D\n    22: invokestatic  #5                  // Method java/lang/Math.floor:(D)D\n    25: d2i           \n    26: i2l           \n    27: ladd          \n    28: lstore_0      \n    29: iinc          4, -1\n    32: goto          10\n    35: invokestatic  #2                  // Method java/lang/System.currentTimeMillis:()J\n    38: lstore        4\n    40: lload         4\n    42: lload_2       \n    43: lsub          \n    44: lstore        6\n    46: getstatic     #6                  // Field java/lang/System.out:Ljava/io/PrintStream;\n    49: new           #7                  // class java/lang/StringBuilder\n    52: dup           \n    53: invokespecial #8                  // Method java/lang/StringBuilder.\"&lt;init&gt;\":()V\n    56: ldc           #9                  // String with floor elapsed milliseconds: \n    58: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n    61: lload         6\n    63: invokevirtual #11                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;\n    66: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n    69: invokevirtual #13                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n    72: getstatic     #6                  // Field java/lang/System.out:Ljava/io/PrintStream;\n    75: lload_0       \n    76: invokevirtual #14                 // Method java/io/PrintStream.println:(J)V\n    79: return        \n\nprivate static void withoutFloor();\n  Code:\n     0: lconst_0      \n     1: lstore_0      \n     2: invokestatic  #2                  // Method java/lang/System.currentTimeMillis:()J\n     5: lstore_2      \n     6: ldc           #3                  // int 536870911\n     8: istore        4\n    10: iload         4\n    12: ifeq          32\n    15: lload_0       \n    16: iload         4\n    18: i2d           \n    19: invokestatic  #4                  // Method java/lang/Math.sqrt:(D)D\n    22: d2i           \n    23: i2l           \n    24: ladd          \n    25: lstore_0      \n    26: iinc          4, -1\n    29: goto          10\n    32: invokestatic  #2                  // Method java/lang/System.currentTimeMillis:()J\n    35: lstore        4\n    37: lload         4\n    39: lload_2       \n    40: lsub          \n    41: lstore        6\n    43: getstatic     #6                  // Field java/lang/System.out:Ljava/io/PrintStream;\n    46: new           #7                  // class java/lang/StringBuilder\n    49: dup           \n    50: invokespecial #8                  // Method java/lang/StringBuilder.\"&lt;init&gt;\":()V\n    53: ldc           #15                 // String without floor elapsed milliseconds: \n    55: invokevirtual #10                 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n    58: lload         6\n    60: invokevirtual #11                 // Method java/lang/StringBuilder.append:(J)Ljava/lang/StringBuilder;\n    63: invokevirtual #12                 // Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n    66: invokevirtual #13                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n    69: getstatic     #6                  // Field java/lang/System.out:Ljava/io/PrintStream;\n    72: lload_0       \n    73: invokevirtual #14                 // Method java/io/PrintStream.println:(J)V\n    76: return        \n</code></pre>\n"}],"owner":{"account_id":30014,"reputation":20532,"user_id":81520,"accept_rate":84,"display_name":"Peter Perh&#225;č"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18760,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":20265735,"answer_count":2,"score":6,"last_activity_date":1642514417,"creation_date":1385639486,"question_id":20265468,"body_markdown":" I was looking at my code, hoping to improve its performance and then i saw this:\r\n\r\n    int sqrt = (int) Math.floor(Math.sqrt(n));\r\n\r\nOh, ok, i don&#39;t really need the call to Math.floor, as casting the double returned from Math.sqrt(n) will be effectively flooring the number too (as sqrt will never return a negative number). So i went and dropped the call to Math.floor:\r\n\r\n    int sqrt = (int) Math.sqrt(n)\r\n\r\nsat back and complacently watched the code run and perform roughly 10% ! worse than its previous version. This came to me as a shock. Any ideas anyone?\r\n\r\nMath.floor javadocs: &quot;Returns the largest (closest to positive infinity) double value that is less than or equal to the argument and is equal to a mathematical integer.&quot;\r\n\r\n**EDIT**\r\nin my case **n** is a long. Any chance cast-floor-sqrt would ever produce a different int than cast-sqrt? I personally can&#39;t see why it ever would... all numbers involved are positive.","title":"(int) Math.sqrt(n) much slower than (int) Math.floor(Math.sqrt(n))","body":"<p>I was looking at my code, hoping to improve its performance and then i saw this:</p>\n\n<pre><code>int sqrt = (int) Math.floor(Math.sqrt(n));\n</code></pre>\n\n<p>Oh, ok, i don't really need the call to Math.floor, as casting the double returned from Math.sqrt(n) will be effectively flooring the number too (as sqrt will never return a negative number). So i went and dropped the call to Math.floor:</p>\n\n<pre><code>int sqrt = (int) Math.sqrt(n)\n</code></pre>\n\n<p>sat back and complacently watched the code run and perform roughly 10% ! worse than its previous version. This came to me as a shock. Any ideas anyone?</p>\n\n<p>Math.floor javadocs: \"Returns the largest (closest to positive infinity) double value that is less than or equal to the argument and is equal to a mathematical integer.\"</p>\n\n<p><strong>EDIT</strong>\nin my case <strong>n</strong> is a long. Any chance cast-floor-sqrt would ever produce a different int than cast-sqrt? I personally can't see why it ever would... all numbers involved are positive.</p>\n"},{"tags":["java","spring","dependency-injection","cdi"],"comments":[{"owner":{"account_id":261678,"reputation":2513,"user_id":546016,"accept_rate":69,"display_name":"ymajoros"},"score":1,"creation_date":1503308448,"post_id":19485878,"comment_id":78545368,"body_markdown":"Really not a good idea: they choose to *not* do it in CDI in order to make sure that all dependencies are there. Should you really have a null check on a dependency? Seems like an architecture problem, and some solution could be to inject an interface, which could have a no-op implementation. Null if not found is really bad design: is it not found on purpose, or because of a programming mistake?","body":"Really not a good idea: they choose to <i>not</i> do it in CDI in order to make sure that all dependencies are there. Should you really have a null check on a dependency? Seems like an architecture problem, and some solution could be to inject an interface, which could have a no-op implementation. Null if not found is really bad design: is it not found on purpose, or because of a programming mistake?"}],"answers":[{"tags":[],"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1484083952,"creation_date":1382326895,"answer_id":19485913,"question_id":19485878,"body_markdown":"No... there is no equivalent for optional in JSR 330... if you want to use optional injection then you will have to stick with the framework specific `@Autowired` annotation","title":"Can @Inject be made optional in JSR 330 (like @Autowire(required=false)?","body":"<p>No... there is no equivalent for optional in JSR 330... if you want to use optional injection then you will have to stick with the framework specific <code>@Autowired</code> annotation</p>\n"},{"tags":[],"owner":{"account_id":138557,"reputation":42623,"user_id":343568,"accept_rate":100,"display_name":"nicholas.hauschild"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1382327430,"creation_date":1382326911,"answer_id":19485914,"question_id":19485878,"body_markdown":"The `AutowiredAnnotationBeanFactoryPostProcessor` (Spring 3.2) contains this method to determine if a supported &#39;Autowire&#39; annotation is required or not:\r\n\r\n        /**\r\n    \t * Determine if the annotated field or method requires its dependency.\r\n    \t * &lt;p&gt;A &#39;required&#39; dependency means that autowiring should fail when no beans\r\n    \t * are found. Otherwise, the autowiring process will simply bypass the field\r\n    \t * or method when no beans are found.\r\n    \t * @param annotation the Autowired annotation\r\n    \t * @return whether the annotation indicates that a dependency is required\r\n    \t */\r\n    \tprotected boolean determineRequiredStatus(Annotation annotation) {\r\n    \t\ttry {\r\n    \t\t\tMethod method = ReflectionUtils.findMethod(annotation.annotationType(), this.requiredParameterName);\r\n    \t\t\tif (method == null) {\r\n    \t\t\t\t// annotations like @Inject and @Value don&#39;t have a method (attribute) named &quot;required&quot;\r\n    \t\t\t\t// -&gt; default to required status\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t\treturn (this.requiredParameterValue == (Boolean) ReflectionUtils.invokeMethod(method, annotation));\r\n    \t\t}\r\n    \t\tcatch (Exception ex) {\r\n    \t\t\t// an exception was thrown during reflective invocation of the required attribute\r\n    \t\t\t// -&gt; default to required status\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t}\r\n\r\nIn short, no, not by default.\r\n\r\nThe method name that is being looked for by default is &#39;required&#39;, which is not a field on the `@Inject` annotation, thus, `method` will be `null` and `true` will be returned.\r\n\r\nYou may be able to change that by subclassing this `BeanPostProcessor` and overriding the `determineRequiredStatus(Annotation)` method to return true, or rather, something &#39;smarter&#39;. ","title":"Can @Inject be made optional in JSR 330 (like @Autowire(required=false)?","body":"<p>The <code>AutowiredAnnotationBeanFactoryPostProcessor</code> (Spring 3.2) contains this method to determine if a supported 'Autowire' annotation is required or not:</p>\n\n<pre><code>    /**\n     * Determine if the annotated field or method requires its dependency.\n     * &lt;p&gt;A 'required' dependency means that autowiring should fail when no beans\n     * are found. Otherwise, the autowiring process will simply bypass the field\n     * or method when no beans are found.\n     * @param annotation the Autowired annotation\n     * @return whether the annotation indicates that a dependency is required\n     */\n    protected boolean determineRequiredStatus(Annotation annotation) {\n        try {\n            Method method = ReflectionUtils.findMethod(annotation.annotationType(), this.requiredParameterName);\n            if (method == null) {\n                // annotations like @Inject and @Value don't have a method (attribute) named \"required\"\n                // -&gt; default to required status\n                return true;\n            }\n            return (this.requiredParameterValue == (Boolean) ReflectionUtils.invokeMethod(method, annotation));\n        }\n        catch (Exception ex) {\n            // an exception was thrown during reflective invocation of the required attribute\n            // -&gt; default to required status\n            return true;\n        }\n    }\n</code></pre>\n\n<p>In short, no, not by default.</p>\n\n<p>The method name that is being looked for by default is 'required', which is not a field on the <code>@Inject</code> annotation, thus, <code>method</code> will be <code>null</code> and <code>true</code> will be returned.</p>\n\n<p>You may be able to change that by subclassing this <code>BeanPostProcessor</code> and overriding the <code>determineRequiredStatus(Annotation)</code> method to return true, or rather, something 'smarter'. </p>\n"},{"tags":[],"owner":{"account_id":2387662,"reputation":705,"user_id":2088282,"accept_rate":85,"display_name":"Giovanni Silva"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1408850139,"creation_date":1408111310,"answer_id":25327839,"question_id":19485878,"body_markdown":"It&#39;s is possible to create a optional injection point!\r\n\r\nYou need to use injection lookup as documented in http://docs.jboss.org/weld/reference/latest/en-US/html/injection.html#lookup\r\n\r\n    @Inject\r\n    Instance&lt;Type&gt; instance;\r\n\r\n    // In the code\r\n    try {\r\n       instance.get();\r\n    }catch (Exception e){\r\n    \r\n    }\r\n\r\nOr even all instances of a type\r\n\r\n    @Inject\r\n    Instance&lt;List&lt;Type&gt;&gt; instances\r\n\r\nAlso the get() method is lazy evaluated if you need. The default Injection evaluates at Startup time and throw an exception if no beans are found that could be injected, the bean will be injected at runtime of course, but the application will not start if this is impossible.\r\nIn the documentation you will find more examples, including how to filter the instances injected and much, much more.","title":"Can @Inject be made optional in JSR 330 (like @Autowire(required=false)?","body":"<p>It's is possible to create a optional injection point!</p>\n\n<p>You need to use injection lookup as documented in <a href=\"http://docs.jboss.org/weld/reference/latest/en-US/html/injection.html#lookup\" rel=\"noreferrer\">http://docs.jboss.org/weld/reference/latest/en-US/html/injection.html#lookup</a></p>\n\n<pre><code>@Inject\nInstance&lt;Type&gt; instance;\n\n// In the code\ntry {\n   instance.get();\n}catch (Exception e){\n\n}\n</code></pre>\n\n<p>Or even all instances of a type</p>\n\n<pre><code>@Inject\nInstance&lt;List&lt;Type&gt;&gt; instances\n</code></pre>\n\n<p>Also the get() method is lazy evaluated if you need. The default Injection evaluates at Startup time and throw an exception if no beans are found that could be injected, the bean will be injected at runtime of course, but the application will not start if this is impossible.\nIn the documentation you will find more examples, including how to filter the instances injected and much, much more.</p>\n"},{"tags":[],"owner":{"account_id":5841528,"reputation":231,"user_id":4602963,"display_name":"Steve Brewin"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1424813131,"creation_date":1424813131,"answer_id":28706614,"question_id":19485878,"body_markdown":"Instance injection is often overlooked. It adds great flexibility. Check the availability of the dependency prior to getting it. An unsatisfied get will throw  an exception which is expensive. Use:\r\n\r\n    @Inject\r\n    Instance&lt;SomeType&gt; instance;\r\n    SomeType instantiation;\r\n\r\n    if (!instance.isUnsatisfied()) {\r\n        instantiation = instance.get();\r\n    }\r\n\r\nYou can restrict the injection candidates as normal:\r\n\r\n    @Inject\r\n    @SomeAnnotation\r\n    Instance&lt;SomeType&gt; instance;\r\n\r\n\r\n\r\n","title":"Can @Inject be made optional in JSR 330 (like @Autowire(required=false)?","body":"<p>Instance injection is often overlooked. It adds great flexibility. Check the availability of the dependency prior to getting it. An unsatisfied get will throw  an exception which is expensive. Use:</p>\n\n<pre><code>@Inject\nInstance&lt;SomeType&gt; instance;\nSomeType instantiation;\n\nif (!instance.isUnsatisfied()) {\n    instantiation = instance.get();\n}\n</code></pre>\n\n<p>You can restrict the injection candidates as normal:</p>\n\n<pre><code>@Inject\n@SomeAnnotation\nInstance&lt;SomeType&gt; instance;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":985380,"reputation":7450,"user_id":1005102,"accept_rate":71,"display_name":"Utku &#214;zdemir"},"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1519824784,"creation_date":1458057898,"answer_id":36016399,"question_id":19485878,"body_markdown":"You can use `java.util.Optional`.\r\nIf you are using **Java 8** and your **Spring** version is `4.1` or above (see [here][1]), instead of\r\n\r\n\r\n    @Autowired(required = false)\r\n    private SomeBean someBean;\r\n\r\nYou can just use `java.util.Optional` class that came with **Java 8**. Use it like:\r\n\r\n    @Inject\r\n    private Optional&lt;SomeBean&gt; someBean;\r\n\r\nThis instance will never be `null`, and you can use it like:\r\n\r\n    if (someBean.isPresent()) {\r\n       // do your thing\r\n    }\r\n\r\nThis way you can also do constructor injection, with some beans required and some beans optional, gives great flexibility.\r\n\r\n\r\nNote: Unfortunately Spring does not support **Guava**&#39;s `com.google.common.base.Optional` (see [here][2]), so this method will work only if you are using Java 8 (or above).\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-11833\r\n  [2]: https://stackoverflow.com/a/20241080/1005102","title":"Can @Inject be made optional in JSR 330 (like @Autowire(required=false)?","body":"<p>You can use <code>java.util.Optional</code>.\nIf you are using <strong>Java 8</strong> and your <strong>Spring</strong> version is <code>4.1</code> or above (see <a href=\"https://jira.spring.io/browse/SPR-11833\" rel=\"noreferrer\">here</a>), instead of</p>\n\n<pre><code>@Autowired(required = false)\nprivate SomeBean someBean;\n</code></pre>\n\n<p>You can just use <code>java.util.Optional</code> class that came with <strong>Java 8</strong>. Use it like:</p>\n\n<pre><code>@Inject\nprivate Optional&lt;SomeBean&gt; someBean;\n</code></pre>\n\n<p>This instance will never be <code>null</code>, and you can use it like:</p>\n\n<pre><code>if (someBean.isPresent()) {\n   // do your thing\n}\n</code></pre>\n\n<p>This way you can also do constructor injection, with some beans required and some beans optional, gives great flexibility.</p>\n\n<p>Note: Unfortunately Spring does not support <strong>Guava</strong>'s <code>com.google.common.base.Optional</code> (see <a href=\"https://stackoverflow.com/a/20241080/1005102\">here</a>), so this method will work only if you are using Java 8 (or above).</p>\n"},{"tags":[],"owner":{"account_id":46509,"reputation":6239,"user_id":137471,"accept_rate":93,"display_name":"bernhof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642514199,"creation_date":1642514199,"answer_id":70756755,"question_id":19485878,"body_markdown":"Spring supports `@Nullable` with `@Inject`:\r\n\r\n    @Inject\r\n    @Nullable\r\n    void setSomeBean(SomeBean someBean)","title":"Can @Inject be made optional in JSR 330 (like @Autowire(required=false)?","body":"<p>Spring supports <code>@Nullable</code> with <code>@Inject</code>:</p>\n<pre><code>@Inject\n@Nullable\nvoid setSomeBean(SomeBean someBean)\n</code></pre>\n"}],"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18182,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":19485913,"answer_count":6,"score":30,"last_activity_date":1642514199,"creation_date":1382326515,"question_id":19485878,"body_markdown":"Spring&#39;s `@Autowire` can be configured such that Spring will not throw an error if no matching autowire candidates are found: `@Autowire(required=false)`\r\n\r\nIs there an equivalent JSR-330 annotation?  `@Inject` always fails if there is no matching candidate.  Is there any way I can use `@Inject` but not have the framework fail if no matching types are found?  I haven&#39;t been able to find any documentation to that extent.\r\n","title":"Can @Inject be made optional in JSR 330 (like @Autowire(required=false)?","body":"<p>Spring's <code>@Autowire</code> can be configured such that Spring will not throw an error if no matching autowire candidates are found: <code>@Autowire(required=false)</code></p>\n\n<p>Is there an equivalent JSR-330 annotation?  <code>@Inject</code> always fails if there is no matching candidate.  Is there any way I can use <code>@Inject</code> but not have the framework fail if no matching types are found?  I haven't been able to find any documentation to that extent.</p>\n"},{"tags":["java","android","sqlite","date","android-sqlite"],"comments":[{"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1553937139,"post_id":55429822,"comment_id":97577800,"body_markdown":"You can try to set not equality, but `&gt;` or `&lt;` if you are sure you search right strings. Also you can try to print `date(&#39;2019-03-30&#39;)` or other sentences in any SQLite browser you know (see https://sqlitebrowser.org/).","body":"You can try to set not equality, but <code>&gt;</code> or <code>&lt;</code> if you are sure you search right strings. Also you can try to print <code>date(&#39;2019-03-30&#39;)</code> or other sentences in any SQLite browser you know (see <a href=\"https://sqlitebrowser.org/\" rel=\"nofollow noreferrer\">sqlitebrowser.org</a>)."}],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1553943523,"creation_date":1553942509,"answer_id":55430603,"question_id":55429822,"body_markdown":"When you pass \r\n\r\n    new String[]{&quot;date(&#39;now&#39;)&quot;}\r\n\r\nas an argument, this is translated to this query:\r\n\r\n    select _id, TIME from tbl_EX where date(TIME) = &#39;date(&#39;now&#39;)&#39;\r\nCan you see the problem?&lt;br/&gt;\r\n`date(&#39;now&#39;)` is treated as a string argument for the `WHERE` clause, so your query searches for literals `date(&#39;now&#39;)` in the column `TIME`.&lt;br/&gt;\r\nWhat you should do instead is this:\r\n\r\n    database.query(&quot;tbl_EX&quot;, new String[]{&quot;_id&quot;, &quot;TIME&quot;}, &quot;date(TIME) = date(?)&quot;, new String[]{&quot;now&quot;}, null, null, &quot;TIME&quot;);\r\nThis way the parameter `now` will be passed and your query will be:\r\n\r\n    select _id, TIME from tbl_EX where date(TIME) = date(&#39;now&#39;)\r\nSimilarly when you want to filter for a specific date like `2019-03-30` you must do:\r\n\r\n    database.query(&quot;tbl_EX&quot;, new String[]{&quot;_id&quot;, &quot;TIME&quot;}, &quot;date(TIME) = ?&quot;, new String[]{&quot;2019-03-30&quot;}, null, null, &quot;TIME&quot;);\r\nSo you pass `2019-03-30` without the single quotes. &lt;br/&gt;&lt;br/&gt;\r\nEverything you include in the `selectionArgs` parameter is treated as a String literal and will be actually **surrounded by single quotes** in the statement that will be executed. &lt;br/&gt;\t\r\nYou can read more [here][1].\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#query(boolean,%20java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String)","title":"SQLite - Problem with DateTime format when query any row comparing DateTime into WHERE clause","body":"<p>When you pass </p>\n\n<pre><code>new String[]{\"date('now')\"}\n</code></pre>\n\n<p>as an argument, this is translated to this query:</p>\n\n<pre><code>select _id, TIME from tbl_EX where date(TIME) = 'date('now')'\n</code></pre>\n\n<p>Can you see the problem?<br/>\n<code>date('now')</code> is treated as a string argument for the <code>WHERE</code> clause, so your query searches for literals <code>date('now')</code> in the column <code>TIME</code>.<br/>\nWhat you should do instead is this:</p>\n\n<pre><code>database.query(\"tbl_EX\", new String[]{\"_id\", \"TIME\"}, \"date(TIME) = date(?)\", new String[]{\"now\"}, null, null, \"TIME\");\n</code></pre>\n\n<p>This way the parameter <code>now</code> will be passed and your query will be:</p>\n\n<pre><code>select _id, TIME from tbl_EX where date(TIME) = date('now')\n</code></pre>\n\n<p>Similarly when you want to filter for a specific date like <code>2019-03-30</code> you must do:</p>\n\n<pre><code>database.query(\"tbl_EX\", new String[]{\"_id\", \"TIME\"}, \"date(TIME) = ?\", new String[]{\"2019-03-30\"}, null, null, \"TIME\");\n</code></pre>\n\n<p>So you pass <code>2019-03-30</code> without the single quotes. <br/><br/>\nEverything you include in the <code>selectionArgs</code> parameter is treated as a String literal and will be actually <strong>surrounded by single quotes</strong> in the statement that will be executed. <br/><br>\nYou can read more <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#query(boolean,%20java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":13478707,"reputation":63,"user_id":9724725,"display_name":"Chocolatto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55430603,"answer_count":1,"score":2,"last_activity_date":1642514047,"creation_date":1553936700,"question_id":55429822,"body_markdown":"Let&#39;s say i&#39;m having a database which includes a table like this:&lt;br&gt;\r\n`CREATE TABLE tbl_EX (_id TEXT, TIME TEXT);`&lt;br&gt;\r\nAnd then I insert a value like this:&lt;br&gt;\r\n\r\n    Date currentTime = Calendar.getInstance(Locale.getDefault()).getTime();\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.getDefault());\r\n    String time = dateFormat.format(currentTime);\r\n    ContentValues contentValues = new ContentValues();\r\n    contentValues.put(&quot;_id&quot;, &quot;SomeID&quot;);\r\n    contentValues.put(&quot;TIME&quot;, time);\r\n    database.insert(&quot;tbl_EX&quot;, null, contentValues);\r\n\r\nAfter that, I try to query. Without `WHERE` clause:&lt;br&gt;\r\n\r\n    database.query(&quot;tbl_EX&quot;, new String[]{&quot;_id&quot;, &quot;TIME&quot;}, null, null, null, null, &quot;TIME&quot;);\r\nIt retrieved me all records as expected, which are shown in 2 TextView like this:&lt;br&gt;\r\n\r\n    _id = SomeID | Time = 2019-03-30 15:00:00\r\nBUT, when I make query with this `WHERE` clause:&lt;br&gt;\r\n\r\n    database.query(&quot;tbl_EX&quot;, new String[]{&quot;_id&quot;, &quot;TIME&quot;}, &quot;date(TIME) = ?&quot;, new String[]{&quot;date(&#39;now&#39;)&quot;}, null, null, &quot;TIME&quot;);\r\n\r\nNo data found! I even try replacing the part `new String[]{&quot;date(&#39;now&#39;)&quot;}` to&lt;br&gt; `new String[]{&quot;date(&#39;2019-03-30&#39;)&quot;}`or &lt;br&gt; `new String[]{&quot;strftime(&#39;%Y-%m-%d&#39;, &#39;now&#39;)&quot;}` or even &lt;br&gt;`new String[]{&quot;&#39;2019-03-30&#39;&quot;}`, still no go.&lt;br&gt;&lt;br&gt;\r\nSo, did I store the DateTime data in the SQLite database in the right way? And querying it in the right way too??&lt;br&gt;","title":"SQLite - Problem with DateTime format when query any row comparing DateTime into WHERE clause","body":"<p>Let's say i'm having a database which includes a table like this:<br>\n<code>CREATE TABLE tbl_EX (_id TEXT, TIME TEXT);</code><br>\nAnd then I insert a value like this:<br></p>\n\n<pre><code>Date currentTime = Calendar.getInstance(Locale.getDefault()).getTime();\nSimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\", Locale.getDefault());\nString time = dateFormat.format(currentTime);\nContentValues contentValues = new ContentValues();\ncontentValues.put(\"_id\", \"SomeID\");\ncontentValues.put(\"TIME\", time);\ndatabase.insert(\"tbl_EX\", null, contentValues);\n</code></pre>\n\n<p>After that, I try to query. Without <code>WHERE</code> clause:<br></p>\n\n<pre><code>database.query(\"tbl_EX\", new String[]{\"_id\", \"TIME\"}, null, null, null, null, \"TIME\");\n</code></pre>\n\n<p>It retrieved me all records as expected, which are shown in 2 TextView like this:<br></p>\n\n<pre><code>_id = SomeID | Time = 2019-03-30 15:00:00\n</code></pre>\n\n<p>BUT, when I make query with this <code>WHERE</code> clause:<br></p>\n\n<pre><code>database.query(\"tbl_EX\", new String[]{\"_id\", \"TIME\"}, \"date(TIME) = ?\", new String[]{\"date('now')\"}, null, null, \"TIME\");\n</code></pre>\n\n<p>No data found! I even try replacing the part <code>new String[]{\"date('now')\"}</code> to<br> <code>new String[]{\"date('2019-03-30')\"}</code>or <br> <code>new String[]{\"strftime('%Y-%m-%d', 'now')\"}</code> or even <br><code>new String[]{\"'2019-03-30'\"}</code>, still no go.<br><br>\nSo, did I store the DateTime data in the SQLite database in the right way? And querying it in the right way too??<br></p>\n"},{"tags":["java","android","sqlite","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1547223278,"creation_date":1547163652,"answer_id":54138502,"question_id":54138247,"body_markdown":"Your `CREATE TABLE` statement does not include `NOT NULL` for the column `TaskName`, although you say that it is defined as `NOT NULL`. &lt;br/&gt;\r\nSo this is the 1st inconsistency. &lt;br/&gt;\r\nYou must change this line:\r\n\r\n    +ChallengesEntry.DB_COLUMN + &quot; TEXT , &quot;\r\n\r\nto \r\n\r\n    +ChallengesEntry.DB_COLUMN + &quot; TEXT NOT NULL, &quot;\r\nthen uninstall the app from the emulator/device so the db is deleted &lt;br/&gt;\r\nand then rerun the app so the db and the table is recreated as it is supposed to be.  &lt;br/&gt;But there is a case that **the table is already created** with `NOT NULL` for the column `TaskName` and maybe you made changes to your code that don&#39;t reflect the real state of the table.  &lt;br/&gt;\r\nIf this is the case then **there is a reason for the error you get**: &lt;br/&gt;\r\nYou have 2 different methods:&lt;br/&gt;\r\n`insertTask()` and `insertDay()` to insert data to your table! **Why?** &lt;br/&gt;\r\nThis means that every row of your table will have an ID and only 1 column with data, &lt;br/&gt;the other will be empty (`null`). &lt;br/&gt;\r\nIs this what you want? I don&#39;t think so. &lt;br/&gt;\r\nSo if the column `TaskName` is defined `NOT NULL` and you execute `insertDay()`, &lt;br/&gt;\r\nthen you get the error because `TaskName` in that row has no value (it is null) &lt;br/&gt;\r\n**and this is not allowed**. &lt;br/&gt;\r\nSo get the data from the `EditText` and the `AlertDialog` &lt;br/&gt;\r\nand save it to the table with 1 insert statement, like this:\r\n\r\n    public boolean insertData(String taskName, String days){\r\n        DbHelper mDbHelper = new DbHelper(this);\r\n        SQLiteDatabase db = mDbHelper.getWritableDatabase();\r\n        ContentValues values = new ContentValues();\r\n        values.put(ChallengesEntry.DB_COLUMN,taskName);\r\n        values.put(ChallengesEntry.DB_COLUMN_DAYS,days);\r\n        boolean result = db.insert(ChallengesEntry.DB_TABLE, null, values) &gt;= 0;\r\n        db.close();\r\n        return result;\r\n    }\r\nThis method returns `true` or `false` if the insertion is successful. \r\nYou can call it like this:\r\n\r\n    boolean successful = insertData(taskName, days);\r\nwhere `taskname` and `days` are the values you collected from the `EditText` and the `AlertDialog`.&lt;br/&gt;\r\n**Edit**&lt;br/&gt;\r\nDeclare this variable in your activity class:\r\n\r\n    long taskId = 0; \r\n\r\n  \r\nThis method will insert the taskname:    \r\n\r\n    private long insertTask(){\r\n        String name = editChallengeName.getText().toString().trim();\r\n        if (name.isEmpty())\r\n            return -1;\r\n        DbHelper mDbHelper = new DbHelper(this);\r\n        SQLiteDatabase db = mDbHelper.getWritableDatabase();\r\n        ContentValues values = new ContentValues();\r\n        values.put(ChallengesEntry.DB_COLUMN, name);\r\n        long id = db.insert(ChallengesEntry.DB_TABLE, null, values);\r\n        db.close();\r\n        return id;\r\n    }\r\n\r\nyou call it where you had `insertTask();`:\r\n\r\n    taskid = insertTask();\r\n\r\nthen this method will update the row with id = taskid:\r\n\r\n    private void insertDay(String task) {\r\n        DbHelper mDbHelper = new DbHelper(this);\r\n        SQLiteDatabase db = mDbHelper.getWritableDatabase();\r\n        ContentValues values = new ContentValues();\r\n        values.put(ChallengesEntry.DB_COLUMN_DAYS, task );\r\n        db.update(ChallengesEntry.DB_TABLE, values, ChallengesEntry.DB_COLUMN + &quot;=&quot; + taskid, null);\r\n        db.close();\r\n    }\r\n\r\nand you call it just like you called the previous `insertDay()`","title":"SQLiteConstraintException:NOT NULL constraints android","body":"<p>Your <code>CREATE TABLE</code> statement does not include <code>NOT NULL</code> for the column <code>TaskName</code>, although you say that it is defined as <code>NOT NULL</code>. <br/>\nSo this is the 1st inconsistency. <br/>\nYou must change this line:</p>\n\n<pre><code>+ChallengesEntry.DB_COLUMN + \" TEXT , \"\n</code></pre>\n\n<p>to </p>\n\n<pre><code>+ChallengesEntry.DB_COLUMN + \" TEXT NOT NULL, \"\n</code></pre>\n\n<p>then uninstall the app from the emulator/device so the db is deleted <br/>\nand then rerun the app so the db and the table is recreated as it is supposed to be.  <br/>But there is a case that <strong>the table is already created</strong> with <code>NOT NULL</code> for the column <code>TaskName</code> and maybe you made changes to your code that don't reflect the real state of the table.  <br/>\nIf this is the case then <strong>there is a reason for the error you get</strong>: <br/>\nYou have 2 different methods:<br/>\n<code>insertTask()</code> and <code>insertDay()</code> to insert data to your table! <strong>Why?</strong> <br/>\nThis means that every row of your table will have an ID and only 1 column with data, <br/>the other will be empty (<code>null</code>). <br/>\nIs this what you want? I don't think so. <br/>\nSo if the column <code>TaskName</code> is defined <code>NOT NULL</code> and you execute <code>insertDay()</code>, <br/>\nthen you get the error because <code>TaskName</code> in that row has no value (it is null) <br/>\n<strong>and this is not allowed</strong>. <br/>\nSo get the data from the <code>EditText</code> and the <code>AlertDialog</code> <br/>\nand save it to the table with 1 insert statement, like this:</p>\n\n<pre><code>public boolean insertData(String taskName, String days){\n    DbHelper mDbHelper = new DbHelper(this);\n    SQLiteDatabase db = mDbHelper.getWritableDatabase();\n    ContentValues values = new ContentValues();\n    values.put(ChallengesEntry.DB_COLUMN,taskName);\n    values.put(ChallengesEntry.DB_COLUMN_DAYS,days);\n    boolean result = db.insert(ChallengesEntry.DB_TABLE, null, values) &gt;= 0;\n    db.close();\n    return result;\n}\n</code></pre>\n\n<p>This method returns <code>true</code> or <code>false</code> if the insertion is successful. \nYou can call it like this:</p>\n\n<pre><code>boolean successful = insertData(taskName, days);\n</code></pre>\n\n<p>where <code>taskname</code> and <code>days</code> are the values you collected from the <code>EditText</code> and the <code>AlertDialog</code>.<br/>\n<strong>Edit</strong><br/>\nDeclare this variable in your activity class:</p>\n\n<pre><code>long taskId = 0; \n</code></pre>\n\n<p>This method will insert the taskname:    </p>\n\n<pre><code>private long insertTask(){\n    String name = editChallengeName.getText().toString().trim();\n    if (name.isEmpty())\n        return -1;\n    DbHelper mDbHelper = new DbHelper(this);\n    SQLiteDatabase db = mDbHelper.getWritableDatabase();\n    ContentValues values = new ContentValues();\n    values.put(ChallengesEntry.DB_COLUMN, name);\n    long id = db.insert(ChallengesEntry.DB_TABLE, null, values);\n    db.close();\n    return id;\n}\n</code></pre>\n\n<p>you call it where you had <code>insertTask();</code>:</p>\n\n<pre><code>taskid = insertTask();\n</code></pre>\n\n<p>then this method will update the row with id = taskid:</p>\n\n<pre><code>private void insertDay(String task) {\n    DbHelper mDbHelper = new DbHelper(this);\n    SQLiteDatabase db = mDbHelper.getWritableDatabase();\n    ContentValues values = new ContentValues();\n    values.put(ChallengesEntry.DB_COLUMN_DAYS, task );\n    db.update(ChallengesEntry.DB_TABLE, values, ChallengesEntry.DB_COLUMN + \"=\" + taskid, null);\n    db.close();\n}\n</code></pre>\n\n<p>and you call it just like you called the previous <code>insertDay()</code></p>\n"}],"owner":{"account_id":13782805,"reputation":37,"user_id":9947548,"display_name":"Manuj Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54138502,"answer_count":1,"score":1,"last_activity_date":1642513988,"creation_date":1547161893,"question_id":54138247,"body_markdown":"I have a an Editor Activity where i insert my data in the database. \r\n\r\nI&#39;ve created 3 columns as :-\r\n\r\n- **ID INTEGER**,\r\n- **Task TEXT NOT NULL** and\r\n- **Days TEXT**.\r\n\r\nI insert data into the **Task** column with data from an edit text and insert other data into the **Days** column by creating an alert dialog containing an edit text.\r\n\r\nI&#39;m successfully able to insert data into the **Task** column but when i insert data from the alert dialog into the **Days** column, I get this error :-\r\n\r\n    \r\n\r\n&gt; &quot;android.database.sqlite.SQLiteConstraintException: NOT NULL\r\n&gt; constraint failed: Task.TaskName (code 1299)&quot;.\r\n\r\nPlease help me with this.I know there  are same question available but android studio doesn&#39;t help much in debugging the sq lite database and also the error are different for all,keeping in mind that please,please don&#39;t mark this question as duplicate.\r\n\r\n**THIS IS MY SQLITE CREATION SYNTAX**\r\n\r\n      public void onCreate(SQLiteDatabase db) {\r\n    \r\n            String query= &quot;CREATE TABLE &quot; + ChallengesEntry.DB_TABLE  + &quot; (&quot;\r\n                    +ChallengesEntry._ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;\r\n                    +ChallengesEntry.DB_COLUMN + &quot; TEXT , &quot;\r\n                    +ChallengesEntry.DB_COLUMN_DAYS + &quot; TEXT);&quot;;\r\n    \r\n            db.execSQL(query);\r\n        }\r\n    \r\n    \r\n**THIS IS MY EDITOR ACTIVITY CLASS**\r\n    \r\n      @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            switch (item.getItemId()) {\r\n                case R.id.action_save:\r\n                    insertTask();\r\n                    // Exit activity\r\n                    finish();\r\n                    return true;\r\n    \r\n                case android.R.id.home:\r\n                    // Navigate back to parent activity (CatalogActivity)\r\n                    NavUtils.navigateUpFromSameTask(this);\r\n                    return true;\r\n            }\r\n    \r\n            return super.onOptionsItemSelected(item);\r\n    \r\n        }\r\n        @Override\r\n        public void onClick(View v) {\r\n            switch (v.getId()){\r\n                case R.id.button1:\r\n    \r\n                    final EditText editText =  new EditText(this);\r\n                    AlertDialog dialog = new AlertDialog.Builder(this)\r\n                            .setTitle(&quot;Add new Challenge&quot;)\r\n                            .setMessage(&quot;Whats your Challenge&quot;)\r\n                            .setView(editText)\r\n                            .setPositiveButton(&quot;Add&quot;, new DialogInterface.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(DialogInterface dialog, int which) {\r\n                                    String task = String.valueOf(editText.getText());\r\n                                    insertDay(task);\r\n                                }\r\n                            })\r\n                            .setNegativeButton(&quot;CANCEL&quot;, null)\r\n                            .create();\r\n                    dialog.getWindow().getAttributes().windowAnimations=R.style.DialogAnimation;\r\n                    dialog.show();\r\n    \r\n    \r\n            }\r\n    \r\n        }\r\n        //TEMPORARY SOLUTION\r\n        public void insertDay(String task) {\r\n    \r\n            DbHelper mDbHelper = new DbHelper(this);\r\n            SQLiteDatabase db = mDbHelper.getWritableDatabase();\r\n            ContentValues values = new ContentValues();\r\n            values.put(ChallengesEntry.DB_COLUMN_DAYS,task );\r\n            db.insertWithOnConflict(ChallengesEntry.DB_TABLE, null, values, SQLiteDatabase.CONFLICT_REPLACE);\r\n            db.close();\r\n    \r\n        }\r\n    \r\n        public void insertTask(){\r\n    \r\n            String name=editChallengeName.getText().toString().trim();\r\n            DbHelper mDbHelper = new DbHelper(this);\r\n            SQLiteDatabase db = mDbHelper.getWritableDatabase();\r\n            ContentValues values = new ContentValues();\r\n            values.put(ChallengesEntry.DB_COLUMN,name);\r\n            db.insertWithOnConflict(ChallengesEntry.DB_TABLE, null, values, SQLiteDatabase.CONFLICT_REPLACE);\r\n            db.close();\r\n    \r\n        }\r\n\r\n\r\n","title":"SQLiteConstraintException:NOT NULL constraints android","body":"<p>I have a an Editor Activity where i insert my data in the database. </p>\n\n<p>I've created 3 columns as :-</p>\n\n<ul>\n<li><strong>ID INTEGER</strong>,</li>\n<li><strong>Task TEXT NOT NULL</strong> and</li>\n<li><strong>Days TEXT</strong>.</li>\n</ul>\n\n<p>I insert data into the <strong>Task</strong> column with data from an edit text and insert other data into the <strong>Days</strong> column by creating an alert dialog containing an edit text.</p>\n\n<p>I'm successfully able to insert data into the <strong>Task</strong> column but when i insert data from the alert dialog into the <strong>Days</strong> column, I get this error :-</p>\n\n<blockquote>\n  <p>\"android.database.sqlite.SQLiteConstraintException: NOT NULL\n  constraint failed: Task.TaskName (code 1299)\".</p>\n</blockquote>\n\n<p>Please help me with this.I know there  are same question available but android studio doesn't help much in debugging the sq lite database and also the error are different for all,keeping in mind that please,please don't mark this question as duplicate.</p>\n\n<p><strong>THIS IS MY SQLITE CREATION SYNTAX</strong></p>\n\n<pre><code>  public void onCreate(SQLiteDatabase db) {\n\n        String query= \"CREATE TABLE \" + ChallengesEntry.DB_TABLE  + \" (\"\n                +ChallengesEntry._ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \"\n                +ChallengesEntry.DB_COLUMN + \" TEXT , \"\n                +ChallengesEntry.DB_COLUMN_DAYS + \" TEXT);\";\n\n        db.execSQL(query);\n    }\n</code></pre>\n\n<p><strong>THIS IS MY EDITOR ACTIVITY CLASS</strong></p>\n\n<pre><code>  @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.action_save:\n                insertTask();\n                // Exit activity\n                finish();\n                return true;\n\n            case android.R.id.home:\n                // Navigate back to parent activity (CatalogActivity)\n                NavUtils.navigateUpFromSameTask(this);\n                return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n\n    }\n    @Override\n    public void onClick(View v) {\n        switch (v.getId()){\n            case R.id.button1:\n\n                final EditText editText =  new EditText(this);\n                AlertDialog dialog = new AlertDialog.Builder(this)\n                        .setTitle(\"Add new Challenge\")\n                        .setMessage(\"Whats your Challenge\")\n                        .setView(editText)\n                        .setPositiveButton(\"Add\", new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which) {\n                                String task = String.valueOf(editText.getText());\n                                insertDay(task);\n                            }\n                        })\n                        .setNegativeButton(\"CANCEL\", null)\n                        .create();\n                dialog.getWindow().getAttributes().windowAnimations=R.style.DialogAnimation;\n                dialog.show();\n\n\n        }\n\n    }\n    //TEMPORARY SOLUTION\n    public void insertDay(String task) {\n\n        DbHelper mDbHelper = new DbHelper(this);\n        SQLiteDatabase db = mDbHelper.getWritableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(ChallengesEntry.DB_COLUMN_DAYS,task );\n        db.insertWithOnConflict(ChallengesEntry.DB_TABLE, null, values, SQLiteDatabase.CONFLICT_REPLACE);\n        db.close();\n\n    }\n\n    public void insertTask(){\n\n        String name=editChallengeName.getText().toString().trim();\n        DbHelper mDbHelper = new DbHelper(this);\n        SQLiteDatabase db = mDbHelper.getWritableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(ChallengesEntry.DB_COLUMN,name);\n        db.insertWithOnConflict(ChallengesEntry.DB_TABLE, null, values, SQLiteDatabase.CONFLICT_REPLACE);\n        db.close();\n\n    }\n</code></pre>\n"},{"tags":["java","android","sqlite","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565719677,"creation_date":1565719677,"answer_id":57483216,"question_id":57483085,"body_markdown":"You don&#39;t need to put quotes around the variable, only use a placeholder for the parameter:\r\n\r\n    ContentValues values = new ContentValues();\r\n    values.put(&quot;active&quot;, _active); \r\n    int i = db.update(TABLE_NAME, values, COLUMN_UID + &quot; = ?&quot;, new String[]{String.valueOf(_uid)});\r\nThis is the recommended way for updating.&lt;br/&gt;\r\nDon&#39;t use other ways like directly passing the variable surrounded by quotes, because this may cause [sql injection][1].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/SQL_injection","title":"What&#39;s the correct update syntax in sqlite?","body":"<p>You don't need to put quotes around the variable, only use a placeholder for the parameter:</p>\n\n<pre><code>ContentValues values = new ContentValues();\nvalues.put(\"active\", _active); \nint i = db.update(TABLE_NAME, values, COLUMN_UID + \" = ?\", new String[]{String.valueOf(_uid)});\n</code></pre>\n\n<p>This is the recommended way for updating.<br/>\nDon't use other ways like directly passing the variable surrounded by quotes, because this may cause <a href=\"https://en.wikipedia.org/wiki/SQL_injection\" rel=\"nofollow noreferrer\">sql injection</a>.</p>\n"}],"owner":{"display_name":"user7312508"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642513965,"creation_date":1565719152,"question_id":57483085,"body_markdown":"I am getting the database sqlite exception with my update syntax. Where do I place the quotes to not get the error &quot;no such column&quot;?\r\n\r\n        //2.create ContentValues to add key &quot;column&quot;/value\r\n        ContentValues values = new ContentValues();\r\n        values.put(&quot;active&quot;, _active); //update active flag\r\n\r\n        //3.updating row\r\n        int i = db.update(TABLE_NAME,//table\r\n                values,//column/value\r\n                COLUMN_UID+&quot;=&quot;+_uid,//selections\r\n                new String[]{String.valueOf(_uid)});//selectionargs\r\n\r\n\r\nMy code produces this error. I know a quote should be surround the _uid variable but that doesn&#39;t seem correct either.\r\n\r\n&gt; 2019-08-12 21:39:19.620 22215-22215/com.bab_c.picksandbets\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: main\r\n&gt;     Process: com.bab_c.picksandbets, PID: 22215\r\n&gt;     android.database.sqlite.SQLiteException: no such column: bobbyb2222 (code 1): , while compiling: UPDATE pab_pref SET active=?\r\n&gt; WHERE uid=bobbyb2222","title":"What&#39;s the correct update syntax in sqlite?","body":"<p>I am getting the database sqlite exception with my update syntax. Where do I place the quotes to not get the error \"no such column\"?</p>\n\n<pre><code>    //2.create ContentValues to add key \"column\"/value\n    ContentValues values = new ContentValues();\n    values.put(\"active\", _active); //update active flag\n\n    //3.updating row\n    int i = db.update(TABLE_NAME,//table\n            values,//column/value\n            COLUMN_UID+\"=\"+_uid,//selections\n            new String[]{String.valueOf(_uid)});//selectionargs\n</code></pre>\n\n<p>My code produces this error. I know a quote should be surround the _uid variable but that doesn't seem correct either.</p>\n\n<blockquote>\n  <p>2019-08-12 21:39:19.620 22215-22215/com.bab_c.picksandbets\n  E/AndroidRuntime: FATAL EXCEPTION: main\n      Process: com.bab_c.picksandbets, PID: 22215\n      android.database.sqlite.SQLiteException: no such column: bobbyb2222 (code 1): , while compiling: UPDATE pab_pref SET active=?\n  WHERE uid=bobbyb2222</p>\n</blockquote>\n"},{"tags":["java","android","sqlite","android-sqlite"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":1,"creation_date":1586091619,"post_id":61042924,"comment_id":107992531,"body_markdown":"How do you define 1st row or first 8 rows? You should use an ORDER BY clause to be sure. There is no order for the rows of a table.","body":"How do you define 1st row or first 8 rows? You should use an ORDER BY clause to be sure. There is no order for the rows of a table."}],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1586094482,"creation_date":1586092365,"answer_id":61043161,"question_id":61042924,"body_markdown":"You can *delete the first 8 rows when the table has a size bigger than 8 rows* with this statement:\r\n\r\n    delete from eventosUTN\r\n    where \r\n      (select count(*) from eventosUTN) &gt; 8\r\n      and \r\n      id in (select id from eventosUTN limit 8)\r\nwhere `id` is the `primary key` of your table.&lt;br/&gt;\r\nBut you should know that what you think as first 8 rows in a table is not always what you get.&lt;br/&gt;\r\nTable rows are unordered.&lt;br/&gt;\r\nSo maybe you should define the logic of this order with the use of an `ORDER BY` clause like:\r\n\r\n    delete from eventosUTN\r\n    where \r\n      (select count(*) from eventosUTN) &gt; 8\r\n      and \r\n      id in (select id from eventosUTN order by id limit 8)\r\nSo you can do this in java code like this:\r\n\r\n    String where = &quot;(select count(*) from eventosUTN) &gt; 8 and id in (select id from eventosUTN order by id limit 8)&quot;;\r\n    db.delete(&quot;eventosUTN&quot;, where, null);\r\n&lt;br/&gt;\r\nIf the `primary key` of your table is `integer` and has been defined as `AUTOINCREMENT` which means that it is always increasing and never reused then you could also use this statement:\r\n\r\n    delete from eventosUTN \r\n    where id &lt; (select id from eventosUTN order by id limit 8, 1)\r\nand in java code:\r\n\r\n    String where = &quot;id &lt; (select id from eventosUTN order by id limit 8, 1)&quot;;\r\n    db.delete(&quot;eventosUTN&quot;, where, null);","title":"Delete the first 8 rows from an SQLite database","body":"<p>You can <em>delete the first 8 rows when the table has a size bigger than 8 rows</em> with this statement:</p>\n\n<pre><code>delete from eventosUTN\nwhere \n  (select count(*) from eventosUTN) &gt; 8\n  and \n  id in (select id from eventosUTN limit 8)\n</code></pre>\n\n<p>where <code>id</code> is the <code>primary key</code> of your table.<br/>\nBut you should know that what you think as first 8 rows in a table is not always what you get.<br/>\nTable rows are unordered.<br/>\nSo maybe you should define the logic of this order with the use of an <code>ORDER BY</code> clause like:</p>\n\n<pre><code>delete from eventosUTN\nwhere \n  (select count(*) from eventosUTN) &gt; 8\n  and \n  id in (select id from eventosUTN order by id limit 8)\n</code></pre>\n\n<p>So you can do this in java code like this:</p>\n\n<pre><code>String where = \"(select count(*) from eventosUTN) &gt; 8 and id in (select id from eventosUTN order by id limit 8)\";\ndb.delete(\"eventosUTN\", where, null);\n</code></pre>\n\n<p><br/>\nIf the <code>primary key</code> of your table is <code>integer</code> and has been defined as <code>AUTOINCREMENT</code> which means that it is always increasing and never reused then you could also use this statement:</p>\n\n<pre><code>delete from eventosUTN \nwhere id &lt; (select id from eventosUTN order by id limit 8, 1)\n</code></pre>\n\n<p>and in java code:</p>\n\n<pre><code>String where = \"id &lt; (select id from eventosUTN order by id limit 8, 1)\";\ndb.delete(\"eventosUTN\", where, null);\n</code></pre>\n"}],"owner":{"account_id":13558252,"reputation":580,"user_id":9780918,"display_name":"Juli&#225;n Oviedo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61043161,"answer_count":1,"score":1,"last_activity_date":1642513948,"creation_date":1586091265,"question_id":61042924,"body_markdown":"I delete rows in a SQLite table with this:\r\n\r\n    public void deleteFirstRow()\r\n    {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        Cursor cursor = db.query(&quot;eventosUTN&quot;, null, null, null, null, null, null);\r\n\r\n        if(cursor.moveToFirst()) {\r\n            String rowId = cursor.getString(cursor.getColumnIndex(&quot;id&quot;));\r\n            db.delete(&quot;eventosUTN&quot;, &quot;id&quot; + &quot;=?&quot;,  new String[]{rowId});\r\n        }\r\n        db.close();\r\n    }\r\n\r\nI need to delete the first 8 rows when the database has a size bigger than 8 rows, so: \r\n\r\n    public void checkRowsSize(Events events, Context contex)\r\n    {  \r\n        new Thread(new Runnable() { \r\n            public void run() {\r\n            if(events.getRowCount()&gt;8){\r\n                while(events.getRowCount()&gt;8){\r\n                    events.deleteFirstRow(contex);\r\n                }\r\n            }\r\n        }\r\n    }).start();\r\n    }\r\n\r\nThe method Events&#39;s getRowCount is: \r\n\r\n    public int getRowCount(){\r\n        String query = &quot;Select*FROM eventsUTN&quot;;\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor cursor = db.rawQuery(query, null);\r\n        return cursor.getCount();\r\n    } \r\n\r\nBut When I set the while loop in checkRowSize it delete the all database. Why this? But If I set:\r\n\r\n    public void checkRowsSize(Events events, Context contex)\r\n    {  \r\n        new Thread(new Runnable() { \r\n            public void run() {\r\n            if(events.getRowCount()&gt;8){\r\n                events.deleteFirstRow(contex);\r\n            }\r\n        }\r\n    }).start();\r\n    }\r\n\r\nIt just delete the first row every time the Activity is created, until the database has a size smaller than 8 rows. So without the while loop it works fine!\r\n\r\n","title":"Delete the first 8 rows from an SQLite database","body":"<p>I delete rows in a SQLite table with this:</p>\n\n<pre><code>public void deleteFirstRow()\n{\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    Cursor cursor = db.query(\"eventosUTN\", null, null, null, null, null, null);\n\n    if(cursor.moveToFirst()) {\n        String rowId = cursor.getString(cursor.getColumnIndex(\"id\"));\n        db.delete(\"eventosUTN\", \"id\" + \"=?\",  new String[]{rowId});\n    }\n    db.close();\n}\n</code></pre>\n\n<p>I need to delete the first 8 rows when the database has a size bigger than 8 rows, so: </p>\n\n<pre><code>public void checkRowsSize(Events events, Context contex)\n{  \n    new Thread(new Runnable() { \n        public void run() {\n        if(events.getRowCount()&gt;8){\n            while(events.getRowCount()&gt;8){\n                events.deleteFirstRow(contex);\n            }\n        }\n    }\n}).start();\n}\n</code></pre>\n\n<p>The method Events's getRowCount is: </p>\n\n<pre><code>public int getRowCount(){\n    String query = \"Select*FROM eventsUTN\";\n    SQLiteDatabase db = this.getWritableDatabase();\n    Cursor cursor = db.rawQuery(query, null);\n    return cursor.getCount();\n} \n</code></pre>\n\n<p>But When I set the while loop in checkRowSize it delete the all database. Why this? But If I set:</p>\n\n<pre><code>public void checkRowsSize(Events events, Context contex)\n{  \n    new Thread(new Runnable() { \n        public void run() {\n        if(events.getRowCount()&gt;8){\n            events.deleteFirstRow(contex);\n        }\n    }\n}).start();\n}\n</code></pre>\n\n<p>It just delete the first row every time the Activity is created, until the database has a size smaller than 8 rows. So without the while loop it works fine!</p>\n"},{"tags":["java","coldfusion","log4j","coldfusion-2016"],"owner":{"account_id":23894165,"reputation":1,"user_id":17893401,"display_name":"GeForce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1642513941,"creation_date":1641825040,"question_id":70654014,"body_markdown":"I am using a ColdFusion 2016 server with log4j-1.2.15 and I need to update it to log4j-2.17. The easiest way is to upgrade the server to ColdFusion 2021, which comes with log4j-2.x, sadly I am not able to do this. Is there any other way? I tried the official guide from:\r\n&lt;https://logging.apache.org/log4j/2.x/manual/migration.html&gt; but with no success. \r\n\r\nHas anyone already done this successfully? ","title":"ColdFusion 2016 and log4j 2.x","body":"<p>I am using a ColdFusion 2016 server with log4j-1.2.15 and I need to update it to log4j-2.17. The easiest way is to upgrade the server to ColdFusion 2021, which comes with log4j-2.x, sadly I am not able to do this. Is there any other way? I tried the official guide from:\n<a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/migration.html</a> but with no success.</p>\n<p>Has anyone already done this successfully?</p>\n"},{"tags":["java","android","sqlite","android-sqlite","android-spinner"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":1,"creation_date":1569158196,"post_id":58049576,"comment_id":102497594,"body_markdown":"What is `Type`? You can&#39;t save in the column SPINNER class objects.","body":"What is <code>Type</code>? You can&#39;t save in the column SPINNER class objects."}],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1569158957,"creation_date":1569158957,"answer_id":58049677,"question_id":58049576,"body_markdown":"You are trying to save a spinner object in the database which of course fails.&lt;br/&gt;\r\nChange the data type of the column `SPINNER` to `TEXT` in the table:\r\n\r\n    ...SPINNER + &quot; TEXT&quot;;\r\n\r\nAlso change the data type of the argument `spinner` to `String` in the definition of `insertData()`:\r\n\r\n    public boolean insertData(String fname, String lname, String pnumber, String email, String nic, String spinner)\r\nWhen you call `insertData()` pass the selected item of the spinner instead of the spinner itself:\r\n\r\n    insertData(....., yourSpinner.getSelectedItem().toString()) \r\n\r\nNow uninstall the app from the device to delete the database and rerun so it is recreated with the proper data type for the column `SPINNER`. \r\n","title":"Send spinner data to database","body":"<p>You are trying to save a spinner object in the database which of course fails.<br/>\nChange the data type of the column <code>SPINNER</code> to <code>TEXT</code> in the table:</p>\n\n<pre><code>...SPINNER + \" TEXT\";\n</code></pre>\n\n<p>Also change the data type of the argument <code>spinner</code> to <code>String</code> in the definition of <code>insertData()</code>:</p>\n\n<pre><code>public boolean insertData(String fname, String lname, String pnumber, String email, String nic, String spinner)\n</code></pre>\n\n<p>When you call <code>insertData()</code> pass the selected item of the spinner instead of the spinner itself:</p>\n\n<pre><code>insertData(....., yourSpinner.getSelectedItem().toString()) \n</code></pre>\n\n<p>Now uninstall the app from the device to delete the database and rerun so it is recreated with the proper data type for the column <code>SPINNER</code>. </p>\n"}],"owner":{"account_id":16695821,"reputation":27,"user_id":12067081,"display_name":"Craft Cover"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58049677,"answer_count":1,"score":0,"last_activity_date":1642513920,"creation_date":1569158007,"question_id":58049576,"body_markdown":"I am trying to send data to database from a spinner I initialize the database like this `SPINNER + &quot; TYPE &quot;;` \r\n\r\nAnd in insert data method I put it as `Type spinner` but this line gives me an error `contentValues.put(SPINNER, spinner);` \r\n\r\nwhat should I put there instead of `put`\r\n\r\n    public boolean insertData(String fname, String lname, String pnumber, String email, String nic, Type spinner) {\r\n                SQLiteDatabase db = this.getWritableDatabase();\r\n                ContentValues contentValues = new ContentValues();\r\n                contentValues.put(FNAME, fname);\r\n                contentValues.put(LNAME, lname);\r\n                contentValues.put(PNUMBER, pnumber);\r\n                contentValues.put(EMAIL, email);\r\n                contentValues.put(NIC, nic);\r\n                contentValues.put(SPINNER, spinner);\r\n    \r\n                long result = db.insert(DB_TABLE, null, contentValues);\r\n                return result != -1;\r\n            }","title":"Send spinner data to database","body":"<p>I am trying to send data to database from a spinner I initialize the database like this <code>SPINNER + \" TYPE \";</code> </p>\n\n<p>And in insert data method I put it as <code>Type spinner</code> but this line gives me an error <code>contentValues.put(SPINNER, spinner);</code> </p>\n\n<p>what should I put there instead of <code>put</code></p>\n\n<pre><code>public boolean insertData(String fname, String lname, String pnumber, String email, String nic, Type spinner) {\n            SQLiteDatabase db = this.getWritableDatabase();\n            ContentValues contentValues = new ContentValues();\n            contentValues.put(FNAME, fname);\n            contentValues.put(LNAME, lname);\n            contentValues.put(PNUMBER, pnumber);\n            contentValues.put(EMAIL, email);\n            contentValues.put(NIC, nic);\n            contentValues.put(SPINNER, spinner);\n\n            long result = db.insert(DB_TABLE, null, contentValues);\n            return result != -1;\n        }\n</code></pre>\n"},{"tags":["java","android","sqlite","android-sqlite","cursor"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1553951895,"creation_date":1553951895,"answer_id":55431834,"question_id":55431787,"body_markdown":"With this:\r\n\r\n    String[] projection = {ListeNamen.VORNAME};\r\n\r\nyou define the columns that you want the query to select.&lt;br/&gt;\r\nSo you want only the column `ListeNamen.VORNAME`. &lt;br/&gt;\r\nBut with this:\r\n\r\n    String vorname =cursor.getString(cursor.getColumnIndex(ListeNamen.NACHNAME));\r\n\r\nyou try to retrieve the column `ListeNamen.NACHNAME` which does not exist in the results.&lt;br/&gt;\r\nBy the name of the variable `vorname` I guess you want to do:\r\n\r\n    String vorname =cursor.getString(cursor.getColumnIndex(ListeNamen.VORNAME));\r\n\r\nbut since there is only 1 column in the results, you could also do:\r\n\r\n    String vorname =cursor.getString(0);","title":"Can&#39;t find the Mistake in my Cursor initialization","body":"<p>With this:</p>\n\n<pre><code>String[] projection = {ListeNamen.VORNAME};\n</code></pre>\n\n<p>you define the columns that you want the query to select.<br/>\nSo you want only the column <code>ListeNamen.VORNAME</code>. <br/>\nBut with this:</p>\n\n<pre><code>String vorname =cursor.getString(cursor.getColumnIndex(ListeNamen.NACHNAME));\n</code></pre>\n\n<p>you try to retrieve the column <code>ListeNamen.NACHNAME</code> which does not exist in the results.<br/>\nBy the name of the variable <code>vorname</code> I guess you want to do:</p>\n\n<pre><code>String vorname =cursor.getString(cursor.getColumnIndex(ListeNamen.VORNAME));\n</code></pre>\n\n<p>but since there is only 1 column in the results, you could also do:</p>\n\n<pre><code>String vorname =cursor.getString(0);\n</code></pre>\n"}],"owner":{"account_id":15637017,"reputation":3,"user_id":11281588,"display_name":"Connor Geiger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55431834,"answer_count":1,"score":0,"last_activity_date":1642513848,"creation_date":1553951567,"question_id":55431787,"body_markdown":"And for a bigger APP project I need to work with an SQLite database. If my code works I don&#39;t get any data back. And I think I just don&#39;t understand the cursor object. In this code I simply want to get a firstname back but it sasy that my cursor is not initialized correctly, but I got the basic code from Android developers. So I can&#39;t figure out why it doesn&#39;t work.\r\n```\r\npublic String getVorname (String nachname) {\r\n    SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n    String[] projection = {ListeNamen.VORNAME};\r\n    String selection =ListeNamen.NACHNAME+&quot; = ?&quot;;\r\n    String[] selectionArgs ={nachname};\r\n    String sortOrder = ListeNamen._ID + &quot; DESC&quot;;\r\n    Cursor cursor = db.query(ListeNamen.TABLE_NAME,projection,selection,selectionArgs,null,null,sortOrder);\r\n\r\n    cursor.moveToFirst();\r\n    String vorname =cursor.getString(cursor.getColumnIndex(ListeNamen.NACHNAME));\r\n    cursor.close();\r\n    return vorname;\r\n}\r\n```\r\nI would get back &quot;Jan&quot; as a String but it shows me this Error\r\n\r\n```\r\njava.lang.IllegalStateException: Couldn&#39;t read row 0, col -1 from CursorWindow.  Make sure the Cursor is initialized correctly before accessing data from it.\r\n     at android.database.CursorWindow.nativeGetString(Native Method)\r\n     at android.database.CursorWindow.getString(CursorWindow.java:438)\r\n     at android.database.AbstractWindowedCursor.getString(AbstractWindowedCursor.java:51)\r\n     at com.example.mainaplikation.DBHelper.getVorname(DBHelper.java:58)\r\n     at com.example.mainaplikation.MainActivity$1.onClick(MainActivity.java:29)\r\n```","title":"Can&#39;t find the Mistake in my Cursor initialization","body":"<p>And for a bigger APP project I need to work with an SQLite database. If my code works I don't get any data back. And I think I just don't understand the cursor object. In this code I simply want to get a firstname back but it sasy that my cursor is not initialized correctly, but I got the basic code from Android developers. So I can't figure out why it doesn't work.</p>\n\n<pre><code>public String getVorname (String nachname) {\n    SQLiteDatabase db = this.getReadableDatabase();\n\n    String[] projection = {ListeNamen.VORNAME};\n    String selection =ListeNamen.NACHNAME+\" = ?\";\n    String[] selectionArgs ={nachname};\n    String sortOrder = ListeNamen._ID + \" DESC\";\n    Cursor cursor = db.query(ListeNamen.TABLE_NAME,projection,selection,selectionArgs,null,null,sortOrder);\n\n    cursor.moveToFirst();\n    String vorname =cursor.getString(cursor.getColumnIndex(ListeNamen.NACHNAME));\n    cursor.close();\n    return vorname;\n}\n</code></pre>\n\n<p>I would get back \"Jan\" as a String but it shows me this Error</p>\n\n<pre><code>java.lang.IllegalStateException: Couldn't read row 0, col -1 from CursorWindow.  Make sure the Cursor is initialized correctly before accessing data from it.\n     at android.database.CursorWindow.nativeGetString(Native Method)\n     at android.database.CursorWindow.getString(CursorWindow.java:438)\n     at android.database.AbstractWindowedCursor.getString(AbstractWindowedCursor.java:51)\n     at com.example.mainaplikation.DBHelper.getVorname(DBHelper.java:58)\n     at com.example.mainaplikation.MainActivity$1.onClick(MainActivity.java:29)\n</code></pre>\n"},{"tags":["java","android","sqlite","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1545228231,"creation_date":1545228231,"answer_id":53852885,"question_id":53852610,"body_markdown":"The column created for this result:\r\n\r\n    SUM(&quot; + expenditure + &quot;)\r\n\r\nis not called `Total`.  &lt;br/&gt;\r\nChange the sql statement to this:\r\n\r\n    String query = &quot;SELECT SUM(&quot; + expenditure + &quot;) AS Total FROM &quot; + table + &quot; WHERE strftime(&#39;%m&#39;, date)=11&quot;;\r\nThis way you give the name (alias) `Total` to the column. &lt;br/&gt;\r\nOr since there is only 1 column returned, do this:\r\n\r\n    total = cursor.getInt(0);","title":"SQLite: select from column by month","body":"<p>The column created for this result:</p>\n\n<pre><code>SUM(\" + expenditure + \")\n</code></pre>\n\n<p>is not called <code>Total</code>.  <br/>\nChange the sql statement to this:</p>\n\n<pre><code>String query = \"SELECT SUM(\" + expenditure + \") AS Total FROM \" + table + \" WHERE strftime('%m', date)=11\";\n</code></pre>\n\n<p>This way you give the name (alias) <code>Total</code> to the column. <br/>\nOr since there is only 1 column returned, do this:</p>\n\n<pre><code>total = cursor.getInt(0);\n</code></pre>\n"}],"owner":{"account_id":4970096,"reputation":1175,"user_id":3998205,"accept_rate":50,"display_name":"java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53852885,"answer_count":1,"score":0,"last_activity_date":1642513818,"creation_date":1545227240,"question_id":53852610,"body_markdown":"I am trying to sum a tablecolumn on basis of month but I got the following exception:\r\n\r\n       java.lang.IllegalStateException: Couldn&#39;t read row 0, col -1 from CursorWindow.  Make sure the Cursor is initialized correctly before accessing data from it.\r\n\r\n\r\n**the function**\r\n\r\n    public static float test(SQLiteDatabase db) {\r\n\r\n        String expenditure = MyDatabaseContract.TableExpenditure.ATTR_EXPENDITURE;\r\n        String table = MyDatabaseContract.TableExpenditure.TABLE_EXPENDITURE;\r\n        String date = MyDatabaseContract.TableExpenditure.ATTR_DATE;\r\n\r\n        String query = &quot;SELECT SUM(&quot; + expenditure + &quot;) FROM &quot; + table + &quot; WHERE strftime(&#39;%m&#39;, date)=11&quot;;\r\n        Cursor cursor = db.rawQuery(query, null);\r\n\r\n        \r\n        float total = 0;\r\n        if (cursor.moveToFirst())\r\n            total = cursor.getInt(cursor.getColumnIndex(&quot;Total&quot;));// get final total\r\n\r\n        return total;\r\n    }\r\n\r\n**the table**\r\n\r\n\r\n    public static class TableExpenditure {\r\n\r\n        public static final String TABLE_EXPENDITURE = &quot;expenditure_table&quot;;\r\n\r\n        public static final String ATTR_PRIMARY_KEY = &quot;pk_expendituretable&quot;;\r\n        public static final String ATTR_DATE = &quot;date&quot;;\r\n        public static final String ATTR_CATEGORY = &quot;category&quot;;\r\n        public static final String ATTR_EXPENDITURE = &quot;expenditure&quot;;\r\n        public static final String ATTR_COMMENT = &quot;comment&quot;;\r\n\r\n        public static final int N_COLUMNS = 5;\r\n\r\n        public static final String SQL_CREATE_TABLE =\r\n                &quot;CREATE TABLE &quot; + TABLE_EXPENDITURE + &quot;(&quot; + ATTR_PRIMARY_KEY + &quot; INTEGER PRIMARY KEY AUTOINCREMENT,&quot; +  ATTR_DATE + &quot; DATE,&quot; + ATTR_CATEGORY + &quot; TEXT,&quot; +\r\n                        ATTR_EXPENDITURE + &quot; REAL,&quot; + ATTR_COMMENT + &quot; TEXT&quot;  + &quot;)&quot;;\r\n    }\r\n\r\nIn the debugger the cursor contains one item but when calling getInt(..) the app crashes","title":"SQLite: select from column by month","body":"<p>I am trying to sum a tablecolumn on basis of month but I got the following exception:</p>\n\n<pre><code>   java.lang.IllegalStateException: Couldn't read row 0, col -1 from CursorWindow.  Make sure the Cursor is initialized correctly before accessing data from it.\n</code></pre>\n\n<p><strong>the function</strong></p>\n\n<pre><code>public static float test(SQLiteDatabase db) {\n\n    String expenditure = MyDatabaseContract.TableExpenditure.ATTR_EXPENDITURE;\n    String table = MyDatabaseContract.TableExpenditure.TABLE_EXPENDITURE;\n    String date = MyDatabaseContract.TableExpenditure.ATTR_DATE;\n\n    String query = \"SELECT SUM(\" + expenditure + \") FROM \" + table + \" WHERE strftime('%m', date)=11\";\n    Cursor cursor = db.rawQuery(query, null);\n\n\n    float total = 0;\n    if (cursor.moveToFirst())\n        total = cursor.getInt(cursor.getColumnIndex(\"Total\"));// get final total\n\n    return total;\n}\n</code></pre>\n\n<p><strong>the table</strong></p>\n\n<pre><code>public static class TableExpenditure {\n\n    public static final String TABLE_EXPENDITURE = \"expenditure_table\";\n\n    public static final String ATTR_PRIMARY_KEY = \"pk_expendituretable\";\n    public static final String ATTR_DATE = \"date\";\n    public static final String ATTR_CATEGORY = \"category\";\n    public static final String ATTR_EXPENDITURE = \"expenditure\";\n    public static final String ATTR_COMMENT = \"comment\";\n\n    public static final int N_COLUMNS = 5;\n\n    public static final String SQL_CREATE_TABLE =\n            \"CREATE TABLE \" + TABLE_EXPENDITURE + \"(\" + ATTR_PRIMARY_KEY + \" INTEGER PRIMARY KEY AUTOINCREMENT,\" +  ATTR_DATE + \" DATE,\" + ATTR_CATEGORY + \" TEXT,\" +\n                    ATTR_EXPENDITURE + \" REAL,\" + ATTR_COMMENT + \" TEXT\"  + \")\";\n}\n</code></pre>\n\n<p>In the debugger the cursor contains one item but when calling getInt(..) the app crashes</p>\n"},{"tags":["java","android","sqlite","android-sqlite","android-cursor"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1561279980,"post_id":56722225,"comment_id":100005301,"body_markdown":"If it is already slow, then setting a complicated sorting will make it even slower. Do you have indexes on the columns Code and Name?","body":"If it is already slow, then setting a complicated sorting will make it even slower. Do you have indexes on the columns Code and Name?"},{"owner":{"account_id":4630649,"reputation":9217,"user_id":3753273,"accept_rate":63,"display_name":"Android Developer"},"score":0,"creation_date":1561280307,"post_id":56722225,"comment_id":100005349,"body_markdown":"@forpas Its NOT already slow..But i don&#39;t want to make it slow..I have rowId in db table","body":"@forpas Its NOT already slow..But i don&#39;t want to make it slow..I have rowId in db table"}],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561280956,"creation_date":1561280475,"answer_id":56722432,"question_id":56722225,"body_markdown":"The last argument of the `query()` method is the ORDER BY clause.&lt;br/&gt;\r\nTry conditional sorting:\r\n\r\n    cursor = db.query(\r\n        TABLE_SEARCH, \r\n        columns, \r\n        COLUMN_CODE + &quot; LIKE &#39;&quot; + searchText + &quot;%&#39; OR &quot; + \r\n        COLUMN_ NAME + &quot; LIKE &#39;%&quot; + searchText + &quot;%&#39;&quot;, \r\n        null, \r\n        null, \r\n        null, \r\n        &quot;CASE &quot; + \r\n        &quot;WHEN &quot; + COLUMN_CODE + &quot; = &#39;&quot; + searchText + &quot;&#39; THEN 1 &quot; +\r\n        &quot;WHEN &quot; + COLUMN_ NAME + &quot; = &#39;&quot; + searchText + &quot;&#39; THEN 2 &quot; +\r\n        &quot;WHEN &quot; + COLUMN_CODE + &quot; LIKE &#39;&quot; + searchText + &quot;%&#39; THEN 3 &quot; +\r\n        &quot;WHEN &quot; + COLUMN_ NAME + &quot; LIKE &#39;%&quot; + searchText + &quot;%&#39; THEN 4 &quot; + \r\n        &quot;END, &quot; + COLUMN_CODE + &quot;, &quot; + COLUMN_ NAME\r\n    )\r\nFor better performance, you should set indexes for the columns `COLUMN_CODE` and `COLUMN_ NAME`.&lt;br/&gt;\r\nAlso by concatenating so many strings you risk [sql injection][1]. &lt;br/&gt;\r\nI hope you do check if `searchText` contains single quotes and change them to double single quotes, like:\r\n\r\n    searchText = searchText.replace(&quot;&#39;&quot;, &quot;&#39;&#39;&quot;);\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/SQL_injection","title":"Sqlite- Show results in desired order","body":"<p>The last argument of the <code>query()</code> method is the ORDER BY clause.<br/>\nTry conditional sorting:</p>\n\n<pre><code>cursor = db.query(\n    TABLE_SEARCH, \n    columns, \n    COLUMN_CODE + \" LIKE '\" + searchText + \"%' OR \" + \n    COLUMN_ NAME + \" LIKE '%\" + searchText + \"%'\", \n    null, \n    null, \n    null, \n    \"CASE \" + \n    \"WHEN \" + COLUMN_CODE + \" = '\" + searchText + \"' THEN 1 \" +\n    \"WHEN \" + COLUMN_ NAME + \" = '\" + searchText + \"' THEN 2 \" +\n    \"WHEN \" + COLUMN_CODE + \" LIKE '\" + searchText + \"%' THEN 3 \" +\n    \"WHEN \" + COLUMN_ NAME + \" LIKE '%\" + searchText + \"%' THEN 4 \" + \n    \"END, \" + COLUMN_CODE + \", \" + COLUMN_ NAME\n)\n</code></pre>\n\n<p>For better performance, you should set indexes for the columns <code>COLUMN_CODE</code> and <code>COLUMN_ NAME</code>.<br/>\nAlso by concatenating so many strings you risk <a href=\"https://en.wikipedia.org/wiki/SQL_injection\" rel=\"nofollow noreferrer\">sql injection</a>. <br/>\nI hope you do check if <code>searchText</code> contains single quotes and change them to double single quotes, like:</p>\n\n<pre><code>searchText = searchText.replace(\"'\", \"''\");\n</code></pre>\n"}],"owner":{"account_id":4630649,"reputation":9217,"user_id":3753273,"accept_rate":63,"display_name":"Android Developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642513795,"creation_date":1561278475,"question_id":56722225,"body_markdown":"I have created a sqlite table with two columns -**Code** and **Name** and stored data in it. User is provided a searchview to enter code or name and the app show results accordingly.\n\nI am using below query to fetch results-\n\n    cursor = db.query(TABLE_SEARCH, columns, COLUMN_CODE + &quot; LIKE &#39;&quot; +\n            searchText + &quot;%&#39; or &quot; + COLUMN_ NAME + &quot; LIKE &#39;%&quot; + searchText + &quot;%&#39;&quot;, null, null, null, null)\n\n\nBut the problem is that doesn’t show results in desired order.\nI want to show results in below order-\n\n1.On top show results with the Code exactly matching with the searched text.\n\n2.Below that show results with the Name  exactly matching with searched text.\n\n3.Below that show results with the Code starting with the searched text.\n\n4.Below that show results with the Name  containing the searched text.\n\nIf I run multiple sqlite queries it makes the search slow.How can I accomplish my requirement in best way without affecting performance?","title":"Sqlite- Show results in desired order","body":"<p>I have created a sqlite table with two columns -<strong>Code</strong> and <strong>Name</strong> and stored data in it. User is provided a searchview to enter code or name and the app show results accordingly.</p>\n\n<p>I am using below query to fetch results-</p>\n\n<pre><code>cursor = db.query(TABLE_SEARCH, columns, COLUMN_CODE + \" LIKE '\" +\n        searchText + \"%' or \" + COLUMN_ NAME + \" LIKE '%\" + searchText + \"%'\", null, null, null, null)\n</code></pre>\n\n<p>But the problem is that doesn’t show results in desired order.\nI want to show results in below order-</p>\n\n<p>1.On top show results with the Code exactly matching with the searched text.</p>\n\n<p>2.Below that show results with the Name  exactly matching with searched text.</p>\n\n<p>3.Below that show results with the Code starting with the searched text.</p>\n\n<p>4.Below that show results with the Name  containing the searched text.</p>\n\n<p>If I run multiple sqlite queries it makes the search slow.How can I accomplish my requirement in best way without affecting performance?</p>\n"},{"tags":["java","android","sqlite","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1568214239,"creation_date":1568214239,"answer_id":57891992,"question_id":57891822,"body_markdown":"From https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#beginTransaction():\r\n\r\n&gt; The changes will be rolled back if any transaction is ended without\r\n&gt; being marked as clean (by calling setTransactionSuccessful). Otherwise\r\n&gt; they will be committed.\r\n\r\nSo call:\r\n\r\n    db.setTransactionSuccessful();\r\n\r\nbefore:\r\n\r\n    db.endTransaction();\r\n","title":"Unable to migrate android sqllite database","body":"<p>From <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#beginTransaction()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#beginTransaction()</a>:</p>\n\n<blockquote>\n  <p>The changes will be rolled back if any transaction is ended without\n  being marked as clean (by calling setTransactionSuccessful). Otherwise\n  they will be committed.</p>\n</blockquote>\n\n<p>So call:</p>\n\n<pre><code>db.setTransactionSuccessful();\n</code></pre>\n\n<p>before:</p>\n\n<pre><code>db.endTransaction();\n</code></pre>\n"}],"owner":{"account_id":3523650,"reputation":3891,"user_id":2945345,"accept_rate":75,"display_name":"trees_are_great"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57891992,"answer_count":1,"score":0,"last_activity_date":1642513771,"creation_date":1568213675,"question_id":57891822,"body_markdown":"I have been running the onUpgrade method without issues, until this column: \r\n\r\n        @OnUpgrade\r\n        public static void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) \r\n        {        \r\n            db.beginTransaction();\r\n            db.execSQL(&quot;ALTER TABLE parents ADD COLUMN account_is_in_credit_for_amount TEXT DEFAULT &#39;&#39;&quot;);\r\n            db.endTransaction();\r\n        }\r\n\r\n\r\nI have updated the database version. The above has been simplified to try and make sure that nothing else is causing this column to not be created. \r\n\r\nNote that if I uninstall the app and reinstall the app, then it runs without issue.\r\n\r\n\r\nHow would I go about debugging this issue further? \r\n\r\nI imagine I need to provide more information, but I&#39;m not sure what would help. Every idea that I have had, I have tried.    \r\n\r\nThe error is: \r\n\r\n    unable to resume activity\r\n    {... .SplashScreenActivity}\r\n    android.database.sqlite.SQLLiteException: no such columns: parents.account_is_in_credit_for_amount (code 1):, while selecting\r\n\r\n","title":"Unable to migrate android sqllite database","body":"<p>I have been running the onUpgrade method without issues, until this column: </p>\n\n<pre><code>    @OnUpgrade\n    public static void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) \n    {        \n        db.beginTransaction();\n        db.execSQL(\"ALTER TABLE parents ADD COLUMN account_is_in_credit_for_amount TEXT DEFAULT ''\");\n        db.endTransaction();\n    }\n</code></pre>\n\n<p>I have updated the database version. The above has been simplified to try and make sure that nothing else is causing this column to not be created. </p>\n\n<p>Note that if I uninstall the app and reinstall the app, then it runs without issue.</p>\n\n<p>How would I go about debugging this issue further? </p>\n\n<p>I imagine I need to provide more information, but I'm not sure what would help. Every idea that I have had, I have tried.    </p>\n\n<p>The error is: </p>\n\n<pre><code>unable to resume activity\n{... .SplashScreenActivity}\nandroid.database.sqlite.SQLLiteException: no such columns: parents.account_is_in_credit_for_amount (code 1):, while selecting\n</code></pre>\n"},{"tags":["java","android","sqlite","exception","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":1131057,"reputation":1277,"user_id":1117103,"display_name":"Damodhar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1574537419,"creation_date":1574537419,"answer_id":59011387,"question_id":59011313,"body_markdown":"you can add &quot;&#39;&quot; single quotation for the string data type for SQLite.\r\n\r\n\r\n    String query = &quot;SELECT  * FROM &quot; + DATABASE_TABLE_URLS_ITEMS + &quot; WHERE title = &#39;&quot; + title + &quot;&#39; AND url = &#39;&quot; + url + &quot;&#39;;&quot;;","title":"E/SQLiteLog: (1) unrecognized token: &quot;:&quot;","body":"<p>you can add \"'\" single quotation for the string data type for SQLite.</p>\n\n<pre><code>String query = \"SELECT  * FROM \" + DATABASE_TABLE_URLS_ITEMS + \" WHERE title = '\" + title + \"' AND url = '\" + url + \"';\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574537534,"creation_date":1574537534,"answer_id":59011415,"question_id":59011313,"body_markdown":"The values of `title` and `url` are string literals and should be enclosed inside single quotes:\r\n\r\n    String query = &quot;SELECT  * FROM &quot; + DATABASE_TABLE_URLS_ITEMS + &quot; WHERE title = &#39;&quot; + title + &quot;&#39; AND url = &#39;&quot; + url + &quot;&#39;;&quot;;\r\n    Cursor cursor = database.rawQuery(query, null);\r\nBut the recommended and safe way to do this is to use placeholders `?` inside the statement and pass the values of `title` and `url` in the 2nd argument of `rawQuery()`:\r\n\r\n    String query = &quot;SELECT  * FROM &quot; + DATABASE_TABLE_URLS_ITEMS + &quot; WHERE title = ? AND url = ?;&quot;;\r\n    Cursor cursor = database.rawQuery(query, new String[] {title, url});","title":"E/SQLiteLog: (1) unrecognized token: &quot;:&quot;","body":"<p>The values of <code>title</code> and <code>url</code> are string literals and should be enclosed inside single quotes:</p>\n\n<pre><code>String query = \"SELECT  * FROM \" + DATABASE_TABLE_URLS_ITEMS + \" WHERE title = '\" + title + \"' AND url = '\" + url + \"';\";\nCursor cursor = database.rawQuery(query, null);\n</code></pre>\n\n<p>But the recommended and safe way to do this is to use placeholders <code>?</code> inside the statement and pass the values of <code>title</code> and <code>url</code> in the 2nd argument of <code>rawQuery()</code>:</p>\n\n<pre><code>String query = \"SELECT  * FROM \" + DATABASE_TABLE_URLS_ITEMS + \" WHERE title = ? AND url = ?;\";\nCursor cursor = database.rawQuery(query, new String[] {title, url});\n</code></pre>\n"}],"owner":{"account_id":13978517,"reputation":25,"user_id":10095341,"display_name":"Mac122"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6017,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1642513660,"creation_date":1574536882,"question_id":59011313,"body_markdown":"I&#39;m trying to query a string where the value corresponds to a url address in sqlite/android studio, but it keeps throwing an exception:\r\n```\r\nE/SQLiteLog: (1) unrecognized token: &quot;:&quot;\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.project, PID: 4525\r\n    android.database.sqlite.SQLiteException: unrecognized token: &quot;:&quot; (code 1): , while compiling: SELECT  * FROM URLS_ITEMS WHERE title = Google AND url = http://www.google.com;\r\n    #################################################################\r\n    Error Code : 1 (SQLITE_ERROR)\r\n    Caused By : SQL(query) error or missing database.\r\n    \t(unrecognized token: &quot;:&quot; (code 1): , while compiling: SELECT  * FROM URLS_ITEMS WHERE title = Google AND url = http://www.google.com;)\r\n    #################################################################\r\n        at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\r\n        at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1096)\r\n        at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:661)\r\n```\r\nAnd here&#39;s code snippet where the exception has been thrown:\r\n```\r\npublic boolean isUrlAlreadyStored(String title, String url) {\r\n        ArrayList&lt;URLItem&gt; urlDetailList = new ArrayList&lt;URLItem&gt;();\r\n        String query = &quot;SELECT  * FROM &quot; + DATABASE_TABLE_URLS_ITEMS + &quot; WHERE title = &quot; + title + &quot; AND url = &quot; + url + &quot;;&quot;;\r\n        Cursor cursor = database.rawQuery(query, null);\r\n```\r\nI guess I should escape the character/token : but not sure how. I tried: url = url.replaceAll(&quot;:&quot;, &quot;\\:&quot;) but apparently it&#39;s not the right way to do it.\r\n\r\nDoes anybody know how to query a value/string such as &quot;https://www.stackoverflow.com&quot;?","title":"E/SQLiteLog: (1) unrecognized token: &quot;:&quot;","body":"<p>I'm trying to query a string where the value corresponds to a url address in sqlite/android studio, but it keeps throwing an exception:</p>\n\n<pre><code>E/SQLiteLog: (1) unrecognized token: \":\"\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.project, PID: 4525\n    android.database.sqlite.SQLiteException: unrecognized token: \":\" (code 1): , while compiling: SELECT  * FROM URLS_ITEMS WHERE title = Google AND url = http://www.google.com;\n    #################################################################\n    Error Code : 1 (SQLITE_ERROR)\n    Caused By : SQL(query) error or missing database.\n        (unrecognized token: \":\" (code 1): , while compiling: SELECT  * FROM URLS_ITEMS WHERE title = Google AND url = http://www.google.com;)\n    #################################################################\n        at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n        at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1096)\n        at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:661)\n</code></pre>\n\n<p>And here's code snippet where the exception has been thrown:</p>\n\n<pre><code>public boolean isUrlAlreadyStored(String title, String url) {\n        ArrayList&lt;URLItem&gt; urlDetailList = new ArrayList&lt;URLItem&gt;();\n        String query = \"SELECT  * FROM \" + DATABASE_TABLE_URLS_ITEMS + \" WHERE title = \" + title + \" AND url = \" + url + \";\";\n        Cursor cursor = database.rawQuery(query, null);\n</code></pre>\n\n<p>I guess I should escape the character/token : but not sure how. I tried: url = url.replaceAll(\":\", \":\") but apparently it's not the right way to do it.</p>\n\n<p>Does anybody know how to query a value/string such as \"<a href=\"https://www.stackoverflow.com\">https://www.stackoverflow.com</a>\"?</p>\n"},{"tags":["java","httpurlconnection"],"answers":[{"tags":[],"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642513607,"creation_date":1642513607,"answer_id":70756611,"question_id":70756459,"body_markdown":"I believe the problem is a result of the following log call:\r\n```\r\nlogger.info(&quot;The header attribute:&quot; + conn.getHeaderFields());\r\n```\r\n\r\n`HttpURLConnection#getHeaderFields` is inherited from `URLConnection` which describes the method as returning the **response** headers ([see here](https://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#getHeaderFields--)).\r\n\r\nTherefore, I assume when you call `conn.getHeaderFields()`, the `HttpURLConnection` connects and returns you the response header fields. This stops you from being able to edit the request properties of the connection as the connection has already been established - resulting in the error you are experiencing.","title":"Exception : java.lang.IllegalStateException: Already connected","body":"<p>I believe the problem is a result of the following log call:</p>\n<pre><code>logger.info(&quot;The header attribute:&quot; + conn.getHeaderFields());\n</code></pre>\n<p><code>HttpURLConnection#getHeaderFields</code> is inherited from <code>URLConnection</code> which describes the method as returning the <strong>response</strong> headers (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#getHeaderFields--\" rel=\"nofollow noreferrer\">see here</a>).</p>\n<p>Therefore, I assume when you call <code>conn.getHeaderFields()</code>, the <code>HttpURLConnection</code> connects and returns you the response header fields. This stops you from being able to edit the request properties of the connection as the connection has already been established - resulting in the error you are experiencing.</p>\n"}],"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1588,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70756611,"answer_count":1,"score":1,"last_activity_date":1642513607,"creation_date":1642512891,"question_id":70756459,"body_markdown":"Hi I&#39;m trying to use HttpURLConnection to send some POST data to a server using the HttpURLConnection class as shown below but it is throwing &quot;java.lang.IllegalStateException: Already connected.&quot; at the code - `conn.setRequestProperty(eachEntry.getKey(), eachEntry.getValue());` in the below code. Can any one pls suggest what mistake I am doing here. Also the similar .setRequestPorperty, I am using in other places and it is fine but only when iterating list of request property inside the loop, facing this issue as here.\r\n\r\n    public boolean createAsyncPostRestConnection(boolean isdatabagAvailable, Map&lt;String, Object&gt; databag, String lbrurl,\r\n                                                 String apiURL, String componentName, HashMap&lt;String, String&gt; requestProperty) {\r\n        HttpURLConnection conn = null;\r\n        try {\r\n            // This check is when we have the databag but it is empty. Databag is not mandatory to invoke this function.\r\n            if (isdatabagAvailable &amp;&amp; databag.isEmpty()) {\r\n                logger.error(&quot;Databag is empty.&quot;);\r\n                return false;\r\n            }\r\n            lbrurl = ContentPatchUtils.removeSlash(lbrurl);\r\n            URL url = new URL(lbrurl + apiURL);\r\n            conn = podConfigUtil.getUrlConnection(url);\r\n            conn.setRequestMethod(&quot;POST&quot;);\r\n            conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n            conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            conn.setRequestProperty(&quot;charset&quot;, &quot;UTF-8&quot;);\r\n            conn.setRequestProperty(Constants.AUTHRORIZATION, BaseUtil.getPrivateAPIAuthHeader());\r\n            logger.info(&quot;The header attribute:&quot; + conn.getHeaderFields());\r\n\r\n            if (!requestProperty.isEmpty()) {\r\n                logger.info(&quot;Setting the request property now.&quot; + requestProperty);\r\n                for (Map.Entry&lt;String, String&gt; eachEntry : requestProperty.entrySet()) {\r\n                    logger.info(&quot;eachEntry.getKey():&quot;+ eachEntry.getKey() +&quot;,eachEntry.getValue():&quot;+eachEntry.getValue());\r\n                    conn.setRequestProperty(eachEntry.getKey(), eachEntry.getValue());\r\n                }\r\n            }\r\n\r\n\r\n            conn.setDoOutput(true);\r\n            logger.info(&quot;The URL formed is :&quot; + conn.getURL());\r\n            JSONObject payload = new JSONObject(databag);\r\n            try (OutputStream os = conn.getOutputStream()) {\r\n                byte[] input = payload.toString().getBytes(StandardCharsets.UTF_8);\r\n                os.write(input, 0, input.length);\r\n            }\r\n            logger.info(&quot;Harish,OutputStream write is done.&quot;);\r\n            if (conn.getResponseCode() == HttpURLConnection.HTTP_ACCEPTED) {\r\n                logger.info(componentName + &quot; ,is invoked successfully.&quot;);\r\n                return true;\r\n\r\n            } else {\r\n                logger.info(componentName + &quot;,API invocation failed. &quot; +\r\n                        &quot;HTTP code: &quot; + conn.getResponseCode() + &quot;;&quot; +\r\n                        &quot;Response Message: &quot; + conn.getResponseMessage() + &quot;;&quot;);\r\n                return false;\r\n            }\r\n\r\n        }catch (Exception e) {\r\n            logger.error(&quot;Connection could not be created. The exception trace is &quot;, e);\r\n            return false;\r\n        } finally {\r\n            if (conn != null) {\r\n                logger.info(&quot;disconnecting the connection &quot;);\r\n                conn.disconnect();\r\n            }\r\n        }\r\n    }","title":"Exception : java.lang.IllegalStateException: Already connected","body":"<p>Hi I'm trying to use HttpURLConnection to send some POST data to a server using the HttpURLConnection class as shown below but it is throwing &quot;java.lang.IllegalStateException: Already connected.&quot; at the code - <code>conn.setRequestProperty(eachEntry.getKey(), eachEntry.getValue());</code> in the below code. Can any one pls suggest what mistake I am doing here. Also the similar .setRequestPorperty, I am using in other places and it is fine but only when iterating list of request property inside the loop, facing this issue as here.</p>\n<pre><code>public boolean createAsyncPostRestConnection(boolean isdatabagAvailable, Map&lt;String, Object&gt; databag, String lbrurl,\n                                             String apiURL, String componentName, HashMap&lt;String, String&gt; requestProperty) {\n    HttpURLConnection conn = null;\n    try {\n        // This check is when we have the databag but it is empty. Databag is not mandatory to invoke this function.\n        if (isdatabagAvailable &amp;&amp; databag.isEmpty()) {\n            logger.error(&quot;Databag is empty.&quot;);\n            return false;\n        }\n        lbrurl = ContentPatchUtils.removeSlash(lbrurl);\n        URL url = new URL(lbrurl + apiURL);\n        conn = podConfigUtil.getUrlConnection(url);\n        conn.setRequestMethod(&quot;POST&quot;);\n        conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        conn.setRequestProperty(&quot;charset&quot;, &quot;UTF-8&quot;);\n        conn.setRequestProperty(Constants.AUTHRORIZATION, BaseUtil.getPrivateAPIAuthHeader());\n        logger.info(&quot;The header attribute:&quot; + conn.getHeaderFields());\n\n        if (!requestProperty.isEmpty()) {\n            logger.info(&quot;Setting the request property now.&quot; + requestProperty);\n            for (Map.Entry&lt;String, String&gt; eachEntry : requestProperty.entrySet()) {\n                logger.info(&quot;eachEntry.getKey():&quot;+ eachEntry.getKey() +&quot;,eachEntry.getValue():&quot;+eachEntry.getValue());\n                conn.setRequestProperty(eachEntry.getKey(), eachEntry.getValue());\n            }\n        }\n\n\n        conn.setDoOutput(true);\n        logger.info(&quot;The URL formed is :&quot; + conn.getURL());\n        JSONObject payload = new JSONObject(databag);\n        try (OutputStream os = conn.getOutputStream()) {\n            byte[] input = payload.toString().getBytes(StandardCharsets.UTF_8);\n            os.write(input, 0, input.length);\n        }\n        logger.info(&quot;Harish,OutputStream write is done.&quot;);\n        if (conn.getResponseCode() == HttpURLConnection.HTTP_ACCEPTED) {\n            logger.info(componentName + &quot; ,is invoked successfully.&quot;);\n            return true;\n\n        } else {\n            logger.info(componentName + &quot;,API invocation failed. &quot; +\n                    &quot;HTTP code: &quot; + conn.getResponseCode() + &quot;;&quot; +\n                    &quot;Response Message: &quot; + conn.getResponseMessage() + &quot;;&quot;);\n            return false;\n        }\n\n    }catch (Exception e) {\n        logger.error(&quot;Connection could not be created. The exception trace is &quot;, e);\n        return false;\n    } finally {\n        if (conn != null) {\n            logger.info(&quot;disconnecting the connection &quot;);\n            conn.disconnect();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","sqlite","android-sqlite"],"comments":[{"owner":{"account_id":8354243,"reputation":8167,"user_id":6275174,"display_name":"Nicola Gallazzi"},"score":0,"creation_date":1568724616,"post_id":57974543,"comment_id":102358861,"body_markdown":"Possible duplicate of [Android Room: How to Migrate Column Renaming?](https://stackoverflow.com/questions/52657760/android-room-how-to-migrate-column-renaming)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/52657760/android-room-how-to-migrate-column-renaming\">Android Room: How to Migrate Column Renaming?</a>"},{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1568725253,"post_id":57974543,"comment_id":102359231,"body_markdown":"@NicolaGallazzi it is obvious that the OP is not using ROOM.","body":"@NicolaGallazzi it is obvious that the OP is not using ROOM."},{"owner":{"account_id":8354243,"reputation":8167,"user_id":6275174,"display_name":"Nicola Gallazzi"},"score":1,"creation_date":1568727323,"post_id":57974543,"comment_id":102360555,"body_markdown":"@forpas, sure thing, my bad! However Room is not the point here, as the SQLite syntax would be the same","body":"@forpas, sure thing, my bad! However Room is not the point here, as the SQLite syntax would be the same"},{"owner":{"account_id":12928872,"reputation":575,"user_id":9348536,"display_name":"mahsa k"},"score":0,"creation_date":1568830912,"post_id":57974543,"comment_id":102403408,"body_markdown":"i dont want migrate and rename table or alter or add column .forexample my column name  in last version was a and in new version will be b. i want rename column in onUpgrade method without clear table or clear last version of application","body":"i dont want migrate and rename table or alter or add column .forexample my column name  in last version was a and in new version will be b. i want rename column in onUpgrade method without clear table or clear last version of application"}],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568725139,"creation_date":1568725139,"answer_id":57974770,"question_id":57974543,"body_markdown":"With `ALTER TABLE` you can change the column&#39;s name (version of SQLite: **3.25.0+**):\r\n\r\n    if (DATABASE_VERSION == 2) {\r\n        db.execSQL(&quot;alter table tablename rename columnname to newcolumnname&quot;);\r\n    }\r\n\r\n","title":"rename column of sqlite database when upgrade database_version","body":"<p>With <code>ALTER TABLE</code> you can change the column's name (version of SQLite: <strong>3.25.0+</strong>):</p>\n\n<pre><code>if (DATABASE_VERSION == 2) {\n    db.execSQL(\"alter table tablename rename columnname to newcolumnname\");\n}\n</code></pre>\n"}],"owner":{"account_id":12928872,"reputation":575,"user_id":9348536,"display_name":"mahsa k"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642513574,"creation_date":1568724422,"question_id":57974543,"body_markdown":"how can rename column of table in SQlite database android when upgrade database_version\r\n\r\n```\r\n  @Override\r\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\r\n        if (DATABASE_VERSION == 2) {\r\n           ????\r\n        }\r\n\r\n        onCreate(db);\r\n    }\r\n\r\n```","title":"rename column of sqlite database when upgrade database_version","body":"<p>how can rename column of table in SQlite database android when upgrade database_version</p>\n\n<pre><code>  @Override\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\n        if (DATABASE_VERSION == 2) {\n           ????\n        }\n\n        onCreate(db);\n    }\n\n</code></pre>\n"},{"tags":["java","boxing","autoboxing"],"comments":[{"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"score":0,"creation_date":1331786319,"post_id":9714057,"comment_id":12348893,"body_markdown":"What don&#39;t you understand about it?","body":"What don&#39;t you understand about it?"},{"owner":{"account_id":1095084,"reputation":2277,"user_id":1088846,"accept_rate":100,"display_name":"Jochen"},"score":0,"creation_date":1331786900,"post_id":9714057,"comment_id":12348997,"body_markdown":"I would explain in more detail, but I don&#39;t understand which part is not clear to you. Do you know what autoboxing is?","body":"I would explain in more detail, but I don&#39;t understand which part is not clear to you. Do you know what autoboxing is?"}],"answers":[{"tags":[],"owner":{"account_id":1095084,"reputation":2277,"user_id":1088846,"accept_rate":100,"display_name":"Jochen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331786331,"creation_date":1331786331,"answer_id":9714071,"question_id":9714057,"body_markdown":"Well, it says the compiler does it. So it happens at compile time.\r\n\r\nThis is necessary to ensure the static type safety of Java.","title":"Expand on this autoboxing explanation","body":"<p>Well, it says the compiler does it. So it happens at compile time.</p>\n\n<p>This is necessary to ensure the static type safety of Java.</p>\n"},{"tags":[],"owner":{"account_id":266613,"reputation":9373,"user_id":554279,"accept_rate":80,"display_name":"Rangi Lin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502856997,"creation_date":1331787876,"answer_id":9714283,"question_id":9714057,"body_markdown":"From Java Specification \r\n\r\n[Chapter 5. Conversions and Promotions][1]\r\n\r\n&gt; Every expression written in the Java programming language has a type\r\n&gt; that can be deduced from the structure of the expression and the types\r\n&gt; of the literals, variables, and methods mentioned in the expression.\r\n&gt; It is possible, however, to write an expression in a context where the\r\n&gt; type of the expression is not appropriate. In some cases, this leads\r\n&gt; to an error at compile time. In other cases, the context may be able\r\n&gt; to accept a type that is related to the type of the expression; **as a\r\n&gt; convenience, rather than requiring the programmer to indicate a type\r\n&gt; conversion explicitly, the Java programming language performs an\r\n&gt; implicit conversion from the type of the expression to a type\r\n&gt; acceptable for its surrounding context**.\r\n\r\nFrom here, we know compiler will accept particular expression even if the programmer does not indicate a type conversion. That&#39;s why following code does not raise an error at compile time.\r\n\r\n    int i = new Integer(3);\r\n    Integer j = 3;\r\n\r\n[Chapter 5. Conversions and Promotions 5.1.7. Boxing Conversion][2]\r\n\r\n&gt; ... At run time, boxing conversion proceeds as follows:\r\n&gt; \r\n&gt; If p is a value of type boolean, then boxing conversion converts p\r\n&gt; into a reference r of class and type Boolean, such that\r\n&gt; r.booleanValue() == p ...\r\n\r\n[Chapter 5. Conversions and Promotions 5.1.8. Unboxing Conversion][3]\r\n\r\n&gt; ... At run-time, unboxing conversion proceeds as follows:\r\n&gt; \r\n&gt; If r is a reference of type Boolean, then unboxing conversion converts\r\n&gt; r into r.booleanValue() ...\r\n\r\nand this is what happens exactly in run-time.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.7\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.8","title":"Expand on this autoboxing explanation","body":"<p>From Java Specification </p>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html\" rel=\"nofollow noreferrer\">Chapter 5. Conversions and Promotions</a></p>\n\n<blockquote>\n  <p>Every expression written in the Java programming language has a type\n  that can be deduced from the structure of the expression and the types\n  of the literals, variables, and methods mentioned in the expression.\n  It is possible, however, to write an expression in a context where the\n  type of the expression is not appropriate. In some cases, this leads\n  to an error at compile time. In other cases, the context may be able\n  to accept a type that is related to the type of the expression; <strong>as a\n  convenience, rather than requiring the programmer to indicate a type\n  conversion explicitly, the Java programming language performs an\n  implicit conversion from the type of the expression to a type\n  acceptable for its surrounding context</strong>.</p>\n</blockquote>\n\n<p>From here, we know compiler will accept particular expression even if the programmer does not indicate a type conversion. That's why following code does not raise an error at compile time.</p>\n\n<pre><code>int i = new Integer(3);\nInteger j = 3;\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.7\" rel=\"nofollow noreferrer\">Chapter 5. Conversions and Promotions 5.1.7. Boxing Conversion</a></p>\n\n<blockquote>\n  <p>... At run time, boxing conversion proceeds as follows:</p>\n  \n  <p>If p is a value of type boolean, then boxing conversion converts p\n  into a reference r of class and type Boolean, such that\n  r.booleanValue() == p ...</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.8\" rel=\"nofollow noreferrer\">Chapter 5. Conversions and Promotions 5.1.8. Unboxing Conversion</a></p>\n\n<blockquote>\n  <p>... At run-time, unboxing conversion proceeds as follows:</p>\n  \n  <p>If r is a reference of type Boolean, then unboxing conversion converts\n  r into r.booleanValue() ...</p>\n</blockquote>\n\n<p>and this is what happens exactly in run-time.</p>\n"},{"tags":[],"owner":{"account_id":3177803,"reputation":757,"user_id":2685234,"display_name":"ramtech"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483769553,"creation_date":1376554665,"answer_id":18248751,"question_id":9714057,"body_markdown":"Autoboxing and unboxing are compile time processes.\r\n\r\nWe can verify with a small test as described below: \r\n\r\nCreate a Java project, say, with name &#39;Crap&#39;. Inside that, create a .java file with below contents:\r\n\r\n\tpublic class Crap {\r\n\r\n\t\tprivate Boolean crap;\r\n\r\n\t\tpublic Boolean getCrap() {\r\n\t\t\treturn crap;\r\n\t\t}\r\n\r\n\t\tpublic void setCrap(Boolean crap) {\r\n\t\t\tSystem.out.println(&quot;lol.. this is crap!!&quot;);\r\n\t\t\tthis.crap = crap;\r\n\t\t}\r\n\t}\r\n\r\nBuild this project and export as a jar file, say crap.jar.\r\n\r\nNow create one more Java project, say, with name &#39;Junk&#39;. Add crap.jar file into the classpath of this project and then create a .java file with below contents:\r\n\r\n\tpublic class Junk {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tCrap crap = new Crap();\r\n\t\t\tcrap.setCrap(true);\r\n\t\t}\r\n\t}\r\n\r\nNow, build Junk project, and run Junk.java as Java application. It will run successfully and the output will be \r\n\r\nlol.. this is crap!!\r\n\r\nNow, modify Crap.java, modify the Boolean crap to boolean and also the corresponding getters and setters. Code will look like as below:\r\n\r\n\tpublic class Crap {\r\n\r\n\t\tprivate boolean crap;\r\n\r\n\t\tpublic boolean getCrap() {\r\n\t\t\treturn crap;\r\n\t\t}\r\n\r\n\t\tpublic void setCrap(boolean crap) {\r\n\t\t\tSystem.out.println(&quot;lol.. this is crap!!&quot;);\r\n\t\t\tthis.crap = crap;\r\n\t\t}\r\n\t}\r\n\r\nAgain build this project and export it as crap.jar. Put this crap.jar file into the classpath of Junk project (and remove the earlier jar file from its classpath).\r\n\r\nNow if you try to run Junk.java as java application, you will get below stacktrace:\r\n\r\n\tException in thread &quot;main&quot; java.lang.NoSuchMethodError: crap.Crap.setCrap(Ljava/lang/Boolean;) at junk.Junk.main(Junk.java:9)\r\n\r\n","title":"Expand on this autoboxing explanation","body":"<p>Autoboxing and unboxing are compile time processes.</p>\n\n<p>We can verify with a small test as described below: </p>\n\n<p>Create a Java project, say, with name 'Crap'. Inside that, create a .java file with below contents:</p>\n\n<pre><code>public class Crap {\n\n    private Boolean crap;\n\n    public Boolean getCrap() {\n        return crap;\n    }\n\n    public void setCrap(Boolean crap) {\n        System.out.println(\"lol.. this is crap!!\");\n        this.crap = crap;\n    }\n}\n</code></pre>\n\n<p>Build this project and export as a jar file, say crap.jar.</p>\n\n<p>Now create one more Java project, say, with name 'Junk'. Add crap.jar file into the classpath of this project and then create a .java file with below contents:</p>\n\n<pre><code>public class Junk {\n\n    public static void main(String[] args) {\n        Crap crap = new Crap();\n        crap.setCrap(true);\n    }\n}\n</code></pre>\n\n<p>Now, build Junk project, and run Junk.java as Java application. It will run successfully and the output will be </p>\n\n<p>lol.. this is crap!!</p>\n\n<p>Now, modify Crap.java, modify the Boolean crap to boolean and also the corresponding getters and setters. Code will look like as below:</p>\n\n<pre><code>public class Crap {\n\n    private boolean crap;\n\n    public boolean getCrap() {\n        return crap;\n    }\n\n    public void setCrap(boolean crap) {\n        System.out.println(\"lol.. this is crap!!\");\n        this.crap = crap;\n    }\n}\n</code></pre>\n\n<p>Again build this project and export it as crap.jar. Put this crap.jar file into the classpath of Junk project (and remove the earlier jar file from its classpath).</p>\n\n<p>Now if you try to run Junk.java as java application, you will get below stacktrace:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: crap.Crap.setCrap(Ljava/lang/Boolean;) at junk.Junk.main(Junk.java:9)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15441060,"reputation":71,"user_id":11139624,"display_name":"constantem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642513519,"creation_date":1642513519,"answer_id":70756590,"question_id":9714057,"body_markdown":"In [Tutorials][1], it says:\r\n\r\n&gt;     List&lt;Integer&gt; li = new ArrayList&lt;&gt;();\r\n&gt;     for (int i = 1; i &lt; 50; i += 2)\r\n&gt;         li.add(i);\r\n&gt; ... The compiler does not generate an error because it creates an `Integer` object from `i` and adds the object to `li`. Thus, the compiler converts the previous code to the following at runtime:\r\n&gt; \r\n&gt;     List&lt;Integer&gt; li = new ArrayList&lt;&gt;();\r\n&gt;     for (int i = 1; i &lt; 50; i += 2)\r\n&gt;         li.add(Integer.valueOf(i));\r\n\r\nSo the conversions, which are achieved by the insertion of method calls and casts (by the compiler) into the code, occur at compile time but are processed at runtime.\r\n  \r\n\r\n[1]: https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html","title":"Expand on this autoboxing explanation","body":"<p>In <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow noreferrer\">Tutorials</a>, it says:</p>\n<blockquote>\n<pre><code>List&lt;Integer&gt; li = new ArrayList&lt;&gt;();\nfor (int i = 1; i &lt; 50; i += 2)\n    li.add(i);\n</code></pre>\n<p>... The compiler does not generate an error because it creates an <code>Integer</code> object from <code>i</code> and adds the object to <code>li</code>. Thus, the compiler converts the previous code to the following at runtime:</p>\n<pre><code>List&lt;Integer&gt; li = new ArrayList&lt;&gt;();\nfor (int i = 1; i &lt; 50; i += 2)\n    li.add(Integer.valueOf(i));\n</code></pre>\n</blockquote>\n<p>So the conversions, which are achieved by the insertion of method calls and casts (by the compiler) into the code, occur at compile time but are processed at runtime.</p>\n"}],"owner":{"account_id":1182420,"reputation":5604,"user_id":1157070,"accept_rate":39,"display_name":"lowLatency"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1226,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1642513519,"creation_date":1331786249,"question_id":9714057,"body_markdown":"I asked:\r\n\r\n&gt;Is autoboxing/unboxing is done at runtime (JVM) or compile time (compiler)?\r\n\r\nI received this answer: \r\n&gt; Autoboxing is achieved by the insertion of method calls and casts by the compiler, into the code. These calls and casts are handled at runtime.\r\n\r\nPlease explain in more detail.","title":"Expand on this autoboxing explanation","body":"<p>I asked:</p>\n\n<blockquote>\n  <p>Is autoboxing/unboxing is done at runtime (JVM) or compile time (compiler)?</p>\n</blockquote>\n\n<p>I received this answer: </p>\n\n<blockquote>\n  <p>Autoboxing is achieved by the insertion of method calls and casts by the compiler, into the code. These calls and casts are handled at runtime.</p>\n</blockquote>\n\n<p>Please explain in more detail.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1563830535,"creation_date":1563830535,"answer_id":57153918,"question_id":57153794,"body_markdown":"The keys of the 2 extras are `&quot;com.example.testapp.num1&quot;` and `&quot;com.example.testapp.num2&quot;`, so you must use these to retrieve them and not `&quot;num1&quot;` and `&quot;num2&quot;`:\r\n\r\n    if (getIntent().hasExtra(&quot;com.example.testapp.num1&quot;) &amp;&amp; getIntent().hasExtra(&quot;com.example.testapp.num2&quot;)){\r\n        int num1=getIntent().getExtras().getInt(&quot;com.example.testapp.num1&quot;);\r\n        int num2=getIntent().getExtras().getInt(&quot;com.example.testapp.num2&quot;);\r\n        TextView bigger=findViewById(R.id.biggerNView);\r\n        bigger.setText(String.valueOf(Math.max(num1,num2)));\r\n    }","title":"Using keys for passing values between activities","body":"<p>The keys of the 2 extras are <code>\"com.example.testapp.num1\"</code> and <code>\"com.example.testapp.num2\"</code>, so you must use these to retrieve them and not <code>\"num1\"</code> and <code>\"num2\"</code>:</p>\n\n<pre><code>if (getIntent().hasExtra(\"com.example.testapp.num1\") &amp;&amp; getIntent().hasExtra(\"com.example.testapp.num2\")){\n    int num1=getIntent().getExtras().getInt(\"com.example.testapp.num1\");\n    int num2=getIntent().getExtras().getInt(\"com.example.testapp.num2\");\n    TextView bigger=findViewById(R.id.biggerNView);\n    bigger.setText(String.valueOf(Math.max(num1,num2)));\n}\n</code></pre>\n"}],"owner":{"account_id":15437415,"reputation":135,"user_id":11137122,"display_name":"The Niv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":57153918,"answer_count":1,"score":-4,"last_activity_date":1642513445,"creation_date":1563829968,"question_id":57153794,"body_markdown":"I&#39;m trying to create an app that checks which number out of 2 numbers you input, is the bigger one, and display the result in another activity.\r\n\r\nI tried to use getIntExtra() too but it didn&#39;t work and there is no error its just not working.\r\n\r\nMain Activity:\r\n\r\n````java\r\n public class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        Button check=findViewById(R.id.checkButton);\r\n        check.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent Check=new Intent(getApplicationContext(), BiggerNum.class);\r\n                EditText N1EditText=findViewById(R.id.editTextN1);\r\n                int num1=Integer.parseInt(N1EditText.getText().toString());\r\n                EditText N2EditText=findViewById(R.id.editTextN2);\r\n                int num2=Integer.parseInt(N2EditText.getText().toString());\r\n                Check.putExtra(&quot;com.example.testapp.num1&quot;,num1);\r\n                Check.putExtra(&quot;com.example.testapp.num2&quot;,num2);\r\n                startActivity(Check);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n````\r\nSecond Activity:\r\n````java\r\npublic class BiggerNum extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n\r\n        if (getIntent().hasExtra(&quot;com.example.testapp.num1&quot;)){\r\n            int num1=getIntent().getExtras().getInt(&quot;num1&quot;);\r\n            int num2=getIntent().getExtras().getInt(&quot;num2&quot;);\r\n            TextView bigger=findViewById(R.id.biggerNView);\r\n            bigger.setText((Math.max(num1,num2)));\r\n        }\r\n    }\r\n}\r\n````\r\n\r\n**Edit: The problem in my code was as forpas explained. Anyways, the better way to use keys is to create the keys as static finals in the class you would pass them to, and then use them:**\r\n\r\n````java\r\npublic class BiggerNum extends AppCompatActivity {\r\n\r\npublic static final String FIRST_NUM_KEY = &quot;num1&quot;;\r\npublic static final String SECOND_NUM_KEY= &quot;num2&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n        \r\n        int num1= 0;\r\n        int num2 = 0;\r\n\r\n        if (getIntent().hasExtra(FIRST_NUM_KEY)){\r\n            int num1 = getIntent().getExtras().getInt(FIRST_NUM_KEY);\r\n        }\r\n        if (getIntent().hasExtra(SECOND_NUM_KEY)){\r\n            int num1 = getIntent().getExtras().getInt(SECOND_NUM_KEY);\r\n        }\r\n        TextView bigger=findViewById(R.id.biggerNView);\r\n        bigger.setText((Math.max(num1,num2)));\r\n    }\r\n}\r\n","title":"Using keys for passing values between activities","body":"<p>I'm trying to create an app that checks which number out of 2 numbers you input, is the bigger one, and display the result in another activity.</p>\n<p>I tried to use getIntExtra() too but it didn't work and there is no error its just not working.</p>\n<p>Main Activity:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        Button check=findViewById(R.id.checkButton);\n        check.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent Check=new Intent(getApplicationContext(), BiggerNum.class);\n                EditText N1EditText=findViewById(R.id.editTextN1);\n                int num1=Integer.parseInt(N1EditText.getText().toString());\n                EditText N2EditText=findViewById(R.id.editTextN2);\n                int num2=Integer.parseInt(N2EditText.getText().toString());\n                Check.putExtra(&quot;com.example.testapp.num1&quot;,num1);\n                Check.putExtra(&quot;com.example.testapp.num2&quot;,num2);\n                startActivity(Check);\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>Second Activity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BiggerNum extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n\n        if (getIntent().hasExtra(&quot;com.example.testapp.num1&quot;)){\n            int num1=getIntent().getExtras().getInt(&quot;num1&quot;);\n            int num2=getIntent().getExtras().getInt(&quot;num2&quot;);\n            TextView bigger=findViewById(R.id.biggerNView);\n            bigger.setText((Math.max(num1,num2)));\n        }\n    }\n}\n</code></pre>\n<p><strong>Edit: The problem in my code was as forpas explained. Anyways, the better way to use keys is to create the keys as static finals in the class you would pass them to, and then use them:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BiggerNum extends AppCompatActivity {\n\npublic static final String FIRST_NUM_KEY = &quot;num1&quot;;\npublic static final String SECOND_NUM_KEY= &quot;num2&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n        \n        int num1= 0;\n        int num2 = 0;\n\n        if (getIntent().hasExtra(FIRST_NUM_KEY)){\n            int num1 = getIntent().getExtras().getInt(FIRST_NUM_KEY);\n        }\n        if (getIntent().hasExtra(SECOND_NUM_KEY)){\n            int num1 = getIntent().getExtras().getInt(SECOND_NUM_KEY);\n        }\n        TextView bigger=findViewById(R.id.biggerNView);\n        bigger.setText((Math.max(num1,num2)));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","sqlite","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543438877,"creation_date":1543438877,"answer_id":53528027,"question_id":53527839,"body_markdown":"I think you want to fetch a list of songs by an artist, providing the `artistId`.&lt;br/&gt;\r\nI believe that in in each row of the songs table `DBHelper.TABLE_SONG` there is a column for the id of the artist. If there isn&#39;t **it should be**. &lt;br/&gt;\r\nChange your sql statement to this:\r\n\r\n    String selectQuery = &quot;SELECT &quot; + DBHelper.SONG_PATH + &quot; FROM &quot; + DBHelper.TABLE_SONG + &quot; WHERE &quot; + DBHelper.ARTIST_ID + &quot; = ?&quot;;\r\nAs I said there must be a column `DBHelper.ARTIST_ID` or similar to identify the artist of each song.&lt;br/&gt;\r\nThe `?` is the 1 parameter and its value will be `artistId`.","title":"sqlite fetching data using foreign key: Cannot bind argument at index 1 because the index is out of range. The statement has 0 parameters","body":"<p>I think you want to fetch a list of songs by an artist, providing the <code>artistId</code>.<br/>\nI believe that in in each row of the songs table <code>DBHelper.TABLE_SONG</code> there is a column for the id of the artist. If there isn't <strong>it should be</strong>. <br/>\nChange your sql statement to this:</p>\n\n<pre><code>String selectQuery = \"SELECT \" + DBHelper.SONG_PATH + \" FROM \" + DBHelper.TABLE_SONG + \" WHERE \" + DBHelper.ARTIST_ID + \" = ?\";\n</code></pre>\n\n<p>As I said there must be a column <code>DBHelper.ARTIST_ID</code> or similar to identify the artist of each song.<br/>\nThe <code>?</code> is the 1 parameter and its value will be <code>artistId</code>.</p>\n"},{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1543522741,"creation_date":1543446702,"answer_id":53529516,"question_id":53527839,"body_markdown":"The issue is that you are supplying an argument, as per `String[] selectionArgs = new String[]{String.valueOf(artistId)};` and then `cursor = mDatabase.rawQuery(selectQuery, selectionArgs);` but that the statement (the SELECT statement) has no place-holder (an **?**) within it.\r\n\r\nSo you have **1 argument** but the statement has **0 parameters** to substitute the argument for.\r\n\r\nChanging :-\r\n\r\n    String selectQuery = &quot;SELECT &quot; + DBHelper.SONG_PATH + &quot; FROM &quot; + DBHelper.TABLE_SONG + &quot; s, &quot;\r\n            + DBHelper.TABLE_ARTIST + &quot; a WHERE s.&quot;\r\n            + DBHelper.SONG_ID + &quot; = a.&#39;&quot; + DBHelper.ARTIST_ID + &quot;&#39;&quot;;\r\n\r\nto :-\r\n\r\n    String selectQuery = &quot;SELECT &quot; + DBHelper.SONG_PATH + &quot; FROM &quot; + DBHelper.TABLE_SONG + &quot; s, &quot;\r\n            + DBHelper.TABLE_ARTIST + &quot; a WHERE s.&quot;\r\n            + DBHelper.SONG_ID + &quot;=?&quot;;\r\n\r\nIntroduces the parameter and it, the **?**, will be substituted for the **artist_id** passed to the method.\r\n\r\nAlternately using :-\r\n\r\n    String selectQuery = &quot;SELECT &quot; + DBHelper.SONG_PATH + &quot; FROM &quot; + DBHelper.TABLE_SONG + &quot; s, &quot;\r\n        + DBHelper.TABLE_ARTIST + &quot; a WHERE s.&quot;\r\n        + DBHelper.SONG_ID + &quot; =&quot; + String.valueOf(artist_id);\r\n\r\nalong with :-\r\n\r\n    cursor = mDatabase.rawQuery(selectQuery, null);\r\n\r\nwould also work BUT is open to SQL injection (but not really as it&#39;s a long that has been passed, which cannot be a String that could contain dangerous SQL).\r\n\r\n- i.e. no arguments are passed into rawQuery and therefore there is no expectation that the statement should contain a parameter place-holder (**?**).\r\n\r\nHowever, there is no need to **JOIN** the **ARTIST** table as the **SONG** table has the **ARTIST_ID** column.\r\n\r\n- *You&#39;d only need the JOIN if you wanted other details about the ARTIST e.g. artist name (which you probably already know as you&#39;ve ascertained the ARTIST_ID when invoking the method)*.\r\n\r\nAs such the simplified :-\r\n\r\n    String selectQuery = &quot;SELECT &quot; + DBHelper.SONG_PATH + &quot; FROM &quot; + DBHelper.TABLE_SONG + &quot; WHERE &quot; + DBHelper.SONG_ID + &quot;=?&quot;;\r\n\r\nwould suffice.\r\n\r\n\r\nRegarding Cursor issues I&#39;d suggest trying :-\r\n\r\n    cursor = mDatabase.rawQuery(selectQuery, selectionArgs);\r\n    DatabaseUtils.dumpCursor(cursor); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; will output the contents of the cursor to the log\r\n    while(cursor.moveToNext()) {\r\n        String songpath = cursor.getString(cursor.getColumnIndex(DBHelper.SONG_PATH));\r\n        Log.d(&quot;EXTRACTEDPATH&quot;, &quot;Extracted PATH &quot; + songpath); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; output extracted path to the log\r\n        Song newsong = new Song();\r\n        newsong.setmSong_path(songpath);\r\n        listSongs.add(newsong);\r\n    }\r\n    cursor.close();\r\n    return listSongs;\r\n}\r\n\r\n- Dumps the Cursor immediately after it is retrieved\r\n- Uses simpler loop\r\n- Uses column name to derive the column offset\r\n- outputs the data from the column (if it shows path in log, but you still get empty path in list then it&#39;s either setmSong_path that is wrong or how you are getting data from the List.)\r\n\r\n","title":"sqlite fetching data using foreign key: Cannot bind argument at index 1 because the index is out of range. The statement has 0 parameters","body":"<p>The issue is that you are supplying an argument, as per <code>String[] selectionArgs = new String[]{String.valueOf(artistId)};</code> and then <code>cursor = mDatabase.rawQuery(selectQuery, selectionArgs);</code> but that the statement (the SELECT statement) has no place-holder (an <strong>?</strong>) within it.</p>\n\n<p>So you have <strong>1 argument</strong> but the statement has <strong>0 parameters</strong> to substitute the argument for.</p>\n\n<p>Changing :-</p>\n\n<pre><code>String selectQuery = \"SELECT \" + DBHelper.SONG_PATH + \" FROM \" + DBHelper.TABLE_SONG + \" s, \"\n        + DBHelper.TABLE_ARTIST + \" a WHERE s.\"\n        + DBHelper.SONG_ID + \" = a.'\" + DBHelper.ARTIST_ID + \"'\";\n</code></pre>\n\n<p>to :-</p>\n\n<pre><code>String selectQuery = \"SELECT \" + DBHelper.SONG_PATH + \" FROM \" + DBHelper.TABLE_SONG + \" s, \"\n        + DBHelper.TABLE_ARTIST + \" a WHERE s.\"\n        + DBHelper.SONG_ID + \"=?\";\n</code></pre>\n\n<p>Introduces the parameter and it, the <strong>?</strong>, will be substituted for the <strong>artist_id</strong> passed to the method.</p>\n\n<p>Alternately using :-</p>\n\n<pre><code>String selectQuery = \"SELECT \" + DBHelper.SONG_PATH + \" FROM \" + DBHelper.TABLE_SONG + \" s, \"\n    + DBHelper.TABLE_ARTIST + \" a WHERE s.\"\n    + DBHelper.SONG_ID + \" =\" + String.valueOf(artist_id);\n</code></pre>\n\n<p>along with :-</p>\n\n<pre><code>cursor = mDatabase.rawQuery(selectQuery, null);\n</code></pre>\n\n<p>would also work BUT is open to SQL injection (but not really as it's a long that has been passed, which cannot be a String that could contain dangerous SQL).</p>\n\n<ul>\n<li>i.e. no arguments are passed into rawQuery and therefore there is no expectation that the statement should contain a parameter place-holder (<strong>?</strong>).</li>\n</ul>\n\n<p>However, there is no need to <strong>JOIN</strong> the <strong>ARTIST</strong> table as the <strong>SONG</strong> table has the <strong>ARTIST_ID</strong> column.</p>\n\n<ul>\n<li><em>You'd only need the JOIN if you wanted other details about the ARTIST e.g. artist name (which you probably already know as you've ascertained the ARTIST_ID when invoking the method)</em>.</li>\n</ul>\n\n<p>As such the simplified :-</p>\n\n<pre><code>String selectQuery = \"SELECT \" + DBHelper.SONG_PATH + \" FROM \" + DBHelper.TABLE_SONG + \" WHERE \" + DBHelper.SONG_ID + \"=?\";\n</code></pre>\n\n<p>would suffice.</p>\n\n<p>Regarding Cursor issues I'd suggest trying :-</p>\n\n<pre><code>cursor = mDatabase.rawQuery(selectQuery, selectionArgs);\nDatabaseUtils.dumpCursor(cursor); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; will output the contents of the cursor to the log\nwhile(cursor.moveToNext()) {\n    String songpath = cursor.getString(cursor.getColumnIndex(DBHelper.SONG_PATH));\n    Log.d(\"EXTRACTEDPATH\", \"Extracted PATH \" + songpath); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; output extracted path to the log\n    Song newsong = new Song();\n    newsong.setmSong_path(songpath);\n    listSongs.add(newsong);\n}\ncursor.close();\nreturn listSongs;\n</code></pre>\n\n<p>}</p>\n\n<ul>\n<li>Dumps the Cursor immediately after it is retrieved</li>\n<li>Uses simpler loop</li>\n<li>Uses column name to derive the column offset</li>\n<li>outputs the data from the column (if it shows path in log, but you still get empty path in list then it's either setmSong_path that is wrong or how you are getting data from the List.)</li>\n</ul>\n"}],"owner":{"account_id":14389851,"reputation":479,"user_id":10394723,"display_name":"Ali Raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53529516,"answer_count":2,"score":1,"last_activity_date":1642513253,"creation_date":1543437988,"question_id":53527839,"body_markdown":"I am trying to fetch a record from the sqlite database in Android, and having trouble. It often throws java.lang.IllegalArgumentException and gives me the same message.\r\n\r\n\r\n     mListSongs = mSongDao.getSelectedSongs(artist_id);\r\n\r\n\r\n\r\n    public List&lt;Song&gt; getSelectedSongs(Long artistId) {\r\n        List&lt;Song&gt; listSongs = new ArrayList&lt;Song&gt;();\r\n        String selectQuery = &quot;SELECT &quot; + DBHelper.SONG_PATH + &quot; FROM &quot; + DBHelper.TABLE_SONG + &quot; s, &quot;\r\n                + DBHelper.TABLE_ARTIST + &quot; a WHERE s.&quot;\r\n                + DBHelper.SONG_ID + &quot; = a.&#39;&quot; + DBHelper.ARTIST_ID + &quot;&#39;&quot;;               \r\n        String[] selectionArgs = new String[]{String.valueOf(artistId)};\r\n        Cursor cursor;\r\n\r\n        cursor = mDatabase.rawQuery(selectQuery, selectionArgs);\r\n\r\n\r\n\r\n        cursor.moveToFirst();\r\n     \r\n        while (!cursor.isAfterLast()) {\r\n            Song song = cursorToSelectSong(cursor);\r\n            listSongs.add(song);\r\n            cursor.moveToNext();\r\n        }\r\n        cursor.close();\r\n        return listSongs;\r\n    }\r\n    private Song cursorToSelectSong(Cursor cursor) {Song song = new Song(); song.setmSong_path(cursor.getString(3)); return song;}\r\n    \r\n\r\n","title":"sqlite fetching data using foreign key: Cannot bind argument at index 1 because the index is out of range. The statement has 0 parameters","body":"<p>I am trying to fetch a record from the sqlite database in Android, and having trouble. It often throws java.lang.IllegalArgumentException and gives me the same message.</p>\n\n<pre><code> mListSongs = mSongDao.getSelectedSongs(artist_id);\n\n\n\npublic List&lt;Song&gt; getSelectedSongs(Long artistId) {\n    List&lt;Song&gt; listSongs = new ArrayList&lt;Song&gt;();\n    String selectQuery = \"SELECT \" + DBHelper.SONG_PATH + \" FROM \" + DBHelper.TABLE_SONG + \" s, \"\n            + DBHelper.TABLE_ARTIST + \" a WHERE s.\"\n            + DBHelper.SONG_ID + \" = a.'\" + DBHelper.ARTIST_ID + \"'\";               \n    String[] selectionArgs = new String[]{String.valueOf(artistId)};\n    Cursor cursor;\n\n    cursor = mDatabase.rawQuery(selectQuery, selectionArgs);\n\n\n\n    cursor.moveToFirst();\n\n    while (!cursor.isAfterLast()) {\n        Song song = cursorToSelectSong(cursor);\n        listSongs.add(song);\n        cursor.moveToNext();\n    }\n    cursor.close();\n    return listSongs;\n}\nprivate Song cursorToSelectSong(Cursor cursor) {Song song = new Song(); song.setmSong_path(cursor.getString(3)); return song;}\n</code></pre>\n"},{"tags":["java","android","sqlite","date","android-sqlite"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1555255829,"post_id":55676940,"comment_id":98038932,"body_markdown":"Your code should be working if `date` is in the format of the column `COLUMN_EXPENSE_DATE`.","body":"Your code should be working if <code>date</code> is in the format of the column <code>COLUMN_EXPENSE_DATE</code>."},{"owner":{"account_id":14682196,"reputation":464,"user_id":10603313,"display_name":"Sakhawat Hossain"},"score":0,"creation_date":1555262375,"post_id":55676940,"comment_id":98040871,"body_markdown":"The format is the same but the problem occurs when there are multiple data for a single date.","body":"The format is the same but the problem occurs when there are multiple data for a single date."},{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1555262424,"post_id":55676940,"comment_id":98040890,"body_markdown":"What problem? You will get all the rows for that date.","body":"What problem? You will get all the rows for that date."},{"owner":{"account_id":14682196,"reputation":464,"user_id":10603313,"display_name":"Sakhawat Hossain"},"score":0,"creation_date":1555263085,"post_id":55676940,"comment_id":98041091,"body_markdown":"It can not find all the data for that specified date and it returns an empty ExpenseModel.","body":"It can not find all the data for that specified date and it returns an empty ExpenseModel."},{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1555263166,"post_id":55676940,"comment_id":98041112,"body_markdown":"Then you don&#39;t pass the proper date value or format.","body":"Then you don&#39;t pass the proper date value or format."}],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1555263830,"creation_date":1555263830,"answer_id":55678225,"question_id":55676940,"body_markdown":"One obvious mistake that you do in your code is that you initialize `expenseModel` before the loop and use it inside the loop for all the rows:&lt;br/&gt;\r\n\r\n    ExpenseModel expenseModel=new ExpenseModel();\r\n\r\nMove that line inside the loop:\r\n\r\n    do {\r\n        ExpenseModel expenseModel=new ExpenseModel();   \r\n        expenseModel.setTitle(cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_TITLE)));\r\n        expenseModel.setDescription(cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_DESCRIPTION)));\r\n        expenseModel.setAmount(cursor.getInt(cursor.getColumnIndex(COLUMN_EXPENSE_AMOUNT)));\r\n        expenseModel.setDate(cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_DATE)));\r\n        expenseModel.setCurrency(cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_CURRENCY)));\r\n        Log.v(&quot;Info : &quot;,&quot;&quot;+cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_TITLE)));\r\n        expenseModels.add(expenseModel)\r\n    }while (cursor.moveToNext()); ","title":"How to fetch the all data based on a particular date?","body":"<p>One obvious mistake that you do in your code is that you initialize <code>expenseModel</code> before the loop and use it inside the loop for all the rows:<br/></p>\n\n<pre><code>ExpenseModel expenseModel=new ExpenseModel();\n</code></pre>\n\n<p>Move that line inside the loop:</p>\n\n<pre><code>do {\n    ExpenseModel expenseModel=new ExpenseModel();   \n    expenseModel.setTitle(cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_TITLE)));\n    expenseModel.setDescription(cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_DESCRIPTION)));\n    expenseModel.setAmount(cursor.getInt(cursor.getColumnIndex(COLUMN_EXPENSE_AMOUNT)));\n    expenseModel.setDate(cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_DATE)));\n    expenseModel.setCurrency(cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_CURRENCY)));\n    Log.v(\"Info : \",\"\"+cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_TITLE)));\n    expenseModels.add(expenseModel)\n}while (cursor.moveToNext()); \n</code></pre>\n"}],"owner":{"account_id":14682196,"reputation":464,"user_id":10603313,"display_name":"Sakhawat Hossain"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55678225,"answer_count":1,"score":1,"last_activity_date":1642513173,"creation_date":1555255598,"question_id":55676940,"body_markdown":"I am using SQLite to store my information. **I am storing the date as string format. Now I want to fetch the data based on the date, there might be more than one data for a single date. I have checked relevant questions and tried in my way but can not find the solution. Though I was able to get info of a single data for a particular date.**\r\n\r\n**My code for fetching data from the database:** \r\n\r\n    public ArrayList&lt;ExpenseModel&gt; getSingleExpenseDetails(String date){\r\n        SQLiteDatabase sqLiteDatabase=this.getReadableDatabase();\r\n        String query = &quot;select * from &quot; + TABLE_SAVE_EXPENSE + &quot; where &quot;+ COLUMN_EXPENSE_DATE+ &quot; = &#39;&quot; + date+ &quot;&#39;&quot;;\r\n        Cursor cursor=sqLiteDatabase.rawQuery(query, null);\r\n        ExpenseModel expenseModel=new ExpenseModel();\r\n        ArrayList&lt;ExpenseModel&gt; expenseModels = new ArrayList&lt;&gt;();\r\n        Log.v(&quot;Title : &quot;,&quot;&quot;+title);\r\n        if (cursor.moveToFirst()){\r\n            do {\r\n                expenseModel.setTitle(cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_TITLE)));\r\n                expenseModel.setDescription(cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_DESCRIPTION)));\r\n                expenseModel.setAmount(cursor.getInt(cursor.getColumnIndex(COLUMN_EXPENSE_AMOUNT)));\r\n                expenseModel.setDate(cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_DATE)));\r\n                expenseModel.setCurrency(cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_CURRENCY)));\r\n                Log.v(&quot;Info : &quot;,&quot;&quot;+cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_TITLE)));\r\n                expenseModels.add(expenseModel)\r\n            }while (cursor.moveToNext());\r\n        }\r\n        cursor.close();\r\n        sqLiteDatabase.close();\r\n        return expenseModels;\r\n    }\r\n\r\n**ExpenseModel class:** \r\n\r\n    package app.shakil.com.dailyexpense.Models;\r\n\r\n    public class ExpenseModel {\r\n        private int id;\r\n        private String title;\r\n        private String description;\r\n        private String date;\r\n        private int amount;\r\n        private String currency;\r\n\r\n    public ExpenseModel(){\r\n\r\n    }\r\n\r\n    public ExpenseModel(String title,String description,String date,int amount,String currency){\r\n        this.title=title;\r\n        this.description=description;\r\n        this.date=date;\r\n        this.amount=amount;\r\n        this.currency=currency;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public int getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    public void setAmount(int amount) {\r\n        this.amount = amount;\r\n    }\r\n\r\n    public String getCurrency() {\r\n        return currency;\r\n    }\r\n\r\n    public void setCurrency(String currency) {\r\n        this.currency = currency;\r\n    }\r\n    }\r\n","title":"How to fetch the all data based on a particular date?","body":"<p>I am using SQLite to store my information. <strong>I am storing the date as string format. Now I want to fetch the data based on the date, there might be more than one data for a single date. I have checked relevant questions and tried in my way but can not find the solution. Though I was able to get info of a single data for a particular date.</strong></p>\n\n<p><strong>My code for fetching data from the database:</strong> </p>\n\n<pre><code>public ArrayList&lt;ExpenseModel&gt; getSingleExpenseDetails(String date){\n    SQLiteDatabase sqLiteDatabase=this.getReadableDatabase();\n    String query = \"select * from \" + TABLE_SAVE_EXPENSE + \" where \"+ COLUMN_EXPENSE_DATE+ \" = '\" + date+ \"'\";\n    Cursor cursor=sqLiteDatabase.rawQuery(query, null);\n    ExpenseModel expenseModel=new ExpenseModel();\n    ArrayList&lt;ExpenseModel&gt; expenseModels = new ArrayList&lt;&gt;();\n    Log.v(\"Title : \",\"\"+title);\n    if (cursor.moveToFirst()){\n        do {\n            expenseModel.setTitle(cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_TITLE)));\n            expenseModel.setDescription(cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_DESCRIPTION)));\n            expenseModel.setAmount(cursor.getInt(cursor.getColumnIndex(COLUMN_EXPENSE_AMOUNT)));\n            expenseModel.setDate(cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_DATE)));\n            expenseModel.setCurrency(cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_CURRENCY)));\n            Log.v(\"Info : \",\"\"+cursor.getString(cursor.getColumnIndex(COLUMN_EXPENSE_TITLE)));\n            expenseModels.add(expenseModel)\n        }while (cursor.moveToNext());\n    }\n    cursor.close();\n    sqLiteDatabase.close();\n    return expenseModels;\n}\n</code></pre>\n\n<p><strong>ExpenseModel class:</strong> </p>\n\n<pre><code>package app.shakil.com.dailyexpense.Models;\n\npublic class ExpenseModel {\n    private int id;\n    private String title;\n    private String description;\n    private String date;\n    private int amount;\n    private String currency;\n\npublic ExpenseModel(){\n\n}\n\npublic ExpenseModel(String title,String description,String date,int amount,String currency){\n    this.title=title;\n    this.description=description;\n    this.date=date;\n    this.amount=amount;\n    this.currency=currency;\n}\n\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic String getTitle() {\n    return title;\n}\n\npublic void setTitle(String title) {\n    this.title = title;\n}\n\npublic String getDescription() {\n    return description;\n}\n\npublic void setDescription(String description) {\n    this.description = description;\n}\n\npublic String getDate() {\n    return date;\n}\n\npublic void setDate(String date) {\n    this.date = date;\n}\n\npublic int getAmount() {\n    return amount;\n}\n\npublic void setAmount(int amount) {\n    this.amount = amount;\n}\n\npublic String getCurrency() {\n    return currency;\n}\n\npublic void setCurrency(String currency) {\n    this.currency = currency;\n}\n}\n</code></pre>\n"},{"tags":["java","file","delete-file"],"comments":[{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":1,"creation_date":1642445786,"post_id":70746190,"comment_id":125067846,"body_markdown":"I recommend printing the return value of `f.exists();` to see if the file actually exists. I reckon you&#39;re running your program from a different directory to your `User.json` file","body":"I recommend printing the return value of <code>f.exists();</code> to see if the file actually exists. I reckon you&#39;re running your program from a different directory to your <code>User.json</code> file"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":5,"creation_date":1642446187,"post_id":70746190,"comment_id":125067951,"body_markdown":"1. log `f.getAbsolutePath()` You are most likely in a different directory. 2. `f.exists()` result is ignored. 3. Avoid calling `System.gc()` 4. try catching something more specific than `Exception` 5. Extract deleting json to a separate method.","body":"1. log <code>f.getAbsolutePath()</code> You are most likely in a different directory. 2. <code>f.exists()</code> result is ignored. 3. Avoid calling <code>System.gc()</code> 4. try catching something more specific than <code>Exception</code> 5. Extract deleting json to a separate method."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1642513026,"post_id":70746190,"comment_id":125086136,"body_markdown":"java.io.File is a very old class.  Do not use it.  Use [Files.deleteIfExists](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#deleteIfExists(java.nio.file.Path))(Path.of(&quot;User.json&quot;)) instead.  That method, unlike the File class, will provide a useful and informative exception if it fails.  And, like Lesiak said, don’t call System.gc().  The JVM’s garbage collection is already very efficient and doesn’t need your help.","body":"java.io.File is a very old class.  Do not use it.  Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#deleteIfExists(java.nio.file.Path)\" rel=\"nofollow noreferrer\">Files.deleteIfExists</a>(Path.of(&quot;User.json&quot;)) instead.  That method, unlike the File class, will provide a useful and informative exception if it fails.  And, like Lesiak said, don’t call System.gc().  The JVM’s garbage collection is already very efficient and doesn’t need your help."}],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642446166,"creation_date":1642446166,"answer_id":70746306,"question_id":70746190,"body_markdown":"This code is working fine. When you are deleting the file, I would recommend putting the complete path where you expect the file to be. In this case though, your User.json file needs to be present inside your project and not inside your package as shared in the image.  \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T2ug4.png\r\n\r\nUsing your shared code, it deletes the file.\r\n","title":"Java file deletion","body":"<p>This code is working fine. When you are deleting the file, I would recommend putting the complete path where you expect the file to be. In this case though, your User.json file needs to be present inside your project and not inside your package as shared in the image.<br />\n<a href=\"https://i.stack.imgur.com/T2ug4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T2ug4.png\" alt=\"enter image description here\" /></a></p>\n<p>Using your shared code, it deletes the file.</p>\n"}],"owner":{"account_id":23968877,"reputation":1,"user_id":17957891,"display_name":"LiamHeise"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1642514923,"answer_count":1,"score":-1,"last_activity_date":1642512785,"creation_date":1642445509,"question_id":70746190,"body_markdown":"I have this as my code:\r\n\r\n```   \r\n\t  public static void ResetAccount() \r\n\t  {\t\r\n\t\t  System.gc();\r\n\t\t  try  \r\n\t\t  {    \r\n\t\t      File f= new File(&quot;User.json&quot;);\r\n\t\t      f.exists();\r\n\t\t      if(f.delete())\r\n\t\t      {  \r\n\t\t          System.out.println(f.getName() + &quot; deleted&quot;);\r\n\t\t      }  \r\n\t\t      else  \r\n\t\t      {\r\n\t\t          System.out.println(&quot;failed&quot;);  \r\n\t\t      }  \r\n\t\t  }  \r\n\t\t  catch(Exception e)  \r\n\t\t  {  \r\n\t\t      e.printStackTrace();  \r\n\t\t  }   \r\n\t\t  UI.LoginScreen();\r\n\t  }\r\n}\r\n``` \r\n\r\nI want to delete the file &#39;User.json&#39;. How can I do this?\r\nI tried several ways already but i just cant get it deleted.\r\n\r\n\r\n","title":"Java file deletion","body":"<p>I have this as my code:</p>\n<pre><code>      public static void ResetAccount() \n      { \n          System.gc();\n          try  \n          {    \n              File f= new File(&quot;User.json&quot;);\n              f.exists();\n              if(f.delete())\n              {  \n                  System.out.println(f.getName() + &quot; deleted&quot;);\n              }  \n              else  \n              {\n                  System.out.println(&quot;failed&quot;);  \n              }  \n          }  \n          catch(Exception e)  \n          {  \n              e.printStackTrace();  \n          }   \n          UI.LoginScreen();\n      }\n}\n</code></pre>\n<p>I want to delete the file 'User.json'. How can I do this?\nI tried several ways already but i just cant get it deleted.</p>\n"},{"tags":["java","xml","module","wildfly","xerces"],"comments":[{"owner":{"display_name":"user2241537"},"score":0,"creation_date":1492808259,"post_id":43391212,"comment_id":74155970,"body_markdown":"What is your use case? Is it really necessary to package your settings in a jar file?","body":"What is your use case? Is it really necessary to package your settings in a jar file?"},{"owner":{"display_name":"user2241537"},"score":0,"creation_date":1492841451,"post_id":43391212,"comment_id":74163537,"body_markdown":"http://stackoverflow.com/questions/8412798/how-to-load-xmlcatalog-from-classpath-resources-inside-a-jar-reliably\nSee if it helps","body":"<a href=\"http://stackoverflow.com/questions/8412798/how-to-load-xmlcatalog-from-classpath-resources-inside-a-jar-reliably\" title=\"how to load xmlcatalog from classpath resources inside a jar reliably\">stackoverflow.com/questions/8412798/&hellip;</a> See if it helps"},{"owner":{"account_id":1993525,"reputation":5771,"user_id":1786985,"display_name":"Tomaz Cerar"},"score":1,"creation_date":1493214778,"post_id":43391212,"comment_id":74320616,"body_markdown":"Can you show the code that you use for creating parser/mapper?","body":"Can you show the code that you use for creating parser/mapper?"},{"owner":{"account_id":338358,"reputation":1820,"user_id":667183,"accept_rate":93,"display_name":"Robert Heine"},"score":0,"creation_date":1497434219,"post_id":43391212,"comment_id":76073343,"body_markdown":"@ctomc Sorry, didn&#39;t notice your comment. :-/ Added how the `1.xml` is loaded programmatically.","body":"@ctomc Sorry, didn&#39;t notice your comment. :-/ Added how the <code>1.xml</code> is loaded programmatically."}],"answers":[{"tags":[],"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493109563,"creation_date":1492786356,"answer_id":43545784,"question_id":43391212,"body_markdown":"It depends on your XML parser.\r\n\r\nAs per your exception it seems you use SAX.  \r\nTry this article:\r\nhttps://www.ibm.com/developerworks/library/x-tipentres/\r\n\r\n\r\nThe above document uses the **SAX API**&#39;s `EntityResolver` interface for locating resources in an XML document.","title":"xi:include in xml file within jar file does not work in WildFly","body":"<p>It depends on your XML parser.</p>\n\n<p>As per your exception it seems you use SAX.<br>\nTry this article:\n<a href=\"https://www.ibm.com/developerworks/library/x-tipentres/\" rel=\"nofollow noreferrer\">https://www.ibm.com/developerworks/library/x-tipentres/</a></p>\n\n<p>The above document uses the <strong>SAX API</strong>'s <code>EntityResolver</code> interface for locating resources in an XML document.</p>\n"},{"tags":[],"owner":{"account_id":8455,"reputation":1834,"user_id":15254,"display_name":"Philip Helger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493105888,"creation_date":1493018948,"answer_id":43582179,"question_id":43391212,"body_markdown":"Remove the &quot;resource:&quot; prefix from your URLs, as this seems to be a JBoss specific protocol.\r\n\r\nAlso emit the &quot;resource/&quot; path, as 1.xml, 2.xml and 3.xml all reside in the same folder and you usually specify relative path (from 1 to 2 and from 1 to 3).\r\n\r\nTry the following:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;document xmlns:xi=&quot;http://www.w3.org/2001/XInclude&quot;&gt;\r\n        &lt;!-- Include 2 --&gt;\r\n        &lt;xi:include href=&quot;2.xml&quot; /&gt;\r\n        &lt;!-- Include 3 --&gt;\r\n        &lt;xi:include href=&quot;3.xml&quot; /&gt;\r\n        &lt;!--\r\n        &lt;map&gt;\r\n        &lt;/map&gt;\r\n        --&gt;\r\n    &lt;/document&gt;\r\n\r\n","title":"xi:include in xml file within jar file does not work in WildFly","body":"<p>Remove the \"resource:\" prefix from your URLs, as this seems to be a JBoss specific protocol.</p>\n\n<p>Also emit the \"resource/\" path, as 1.xml, 2.xml and 3.xml all reside in the same folder and you usually specify relative path (from 1 to 2 and from 1 to 3).</p>\n\n<p>Try the following:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;document xmlns:xi=\"http://www.w3.org/2001/XInclude\"&gt;\n    &lt;!-- Include 2 --&gt;\n    &lt;xi:include href=\"2.xml\" /&gt;\n    &lt;!-- Include 3 --&gt;\n    &lt;xi:include href=\"3.xml\" /&gt;\n    &lt;!--\n    &lt;map&gt;\n    &lt;/map&gt;\n    --&gt;\n&lt;/document&gt;\n</code></pre>\n"}],"owner":{"account_id":338358,"reputation":1820,"user_id":667183,"accept_rate":93,"display_name":"Robert Heine"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1642512560,"creation_date":1492083276,"question_id":43391212,"body_markdown":"Here&#39;s the scenario:\r\n\r\nI bundled several `.xml` (somewhat of a configuration) files needed for my application to run in an `.jar` file. The jar file has the following structure:\r\n\r\n    settings-1.0.0.jar\r\n    ˪ resources/\r\n      ˪ 1.xml\r\n      ˪ 2.xml\r\n      ˪ 3.xml\r\n    ˪ META-INF/\r\n      ˪ MANIFEST.MF\r\n\r\n`1.xml` has the following content:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;document xmlns:xi=&quot;http://www.w3.org/2001/XInclude&quot;&gt;\r\n        &lt;!-- Include 2 --&gt;\r\n        &lt;xi:include\r\n            href=&quot;resource:resources/2.xml&quot; /&gt;\r\n        &lt;!-- Include 3 --&gt;\r\n        &lt;xi:include\r\n            href=&quot;resource:resources/3.xml&quot; /&gt;\r\n        &lt;!--\r\n        &lt;map&gt;\r\n        &lt;/map&gt;\r\n        --&gt;\r\n    &lt;/document&gt;\r\n\r\nbased on [this](https://developer.jboss.org/thread/91829) article. When trying to access these includes (after successfully deploying my application) I get the following error:\r\n\r\n    Caused by: org.xml.sax.SAXParseException; lineNumber: 5; columnNumber: 43; An &#39;include&#39; failed, and no &#39;fallback&#39; element was found.\r\n    \tat org.apache.xerces.parsers.DOMParser.parse(DOMParser.java:245)\r\n    \tat org.apache.xerces.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:298)\r\n    \tat javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:121)\r\n    \tat org.zcore.dkp.backend.mapper.MappingParser.parse(MappingParser.java:60)\r\n    \t... 327 more\r\n\r\nI tried(&amp;error&#39;d) all thinkable options. What&#39;s the right combination for `xi:include`&#39;ing an `.xml` file in a `jar`-file installed as WildFly module?\r\n\r\n_Edit_: Here&#39;s how the xmlfile is loaded:\r\n\r\n    private void loadBackendMapping() {\r\n        try {\r\n            BackendMappingParser parser = new BackendMappingParser();\r\n            InputStream in = ResourceLoaderHelper.getResourceAsStream(BACKEND_MAPPING_RESOURCE);\r\n            if (in == null) {\r\n                throw new FileNotFoundException();\r\n            }\r\n            try {\r\n                parser.parse(in);\r\n            } finally {\r\n                try {\r\n                    in.close();\r\n                } catch (IOException e) {\r\n                    log.warn(&quot;Failed to close &quot; + BACKEND_MAPPING_RESOURCE, e);\r\n                }\r\n            }\r\n            backendMapping = parser.getMapping();\r\n            if (log.isDebugEnabled()) {\r\n                log.debug(BACKEND_MAPPING_RESOURCE + &quot; successfully loaded!&quot;);\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            log.warn(&quot;\\&quot;&quot; + BACKEND_MAPPING_RESOURCE + &quot;\\&quot; not found!&quot;);\r\n            backendMapping = new BackendMapping();\r\n        } catch (Exception e) {\r\n            throw new CenterwareSystemException(&quot;Failed to parse &quot; + BACKEND_MAPPING_RESOURCE, e);\r\n        }\r\n    }\r\n\r\n`BACKEND_MAPPING_RESOURCE` contains the filename (`1.xml`).","title":"xi:include in xml file within jar file does not work in WildFly","body":"<p>Here's the scenario:</p>\n\n<p>I bundled several <code>.xml</code> (somewhat of a configuration) files needed for my application to run in an <code>.jar</code> file. The jar file has the following structure:</p>\n\n<pre><code>settings-1.0.0.jar\n˪ resources/\n  ˪ 1.xml\n  ˪ 2.xml\n  ˪ 3.xml\n˪ META-INF/\n  ˪ MANIFEST.MF\n</code></pre>\n\n<p><code>1.xml</code> has the following content:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;document xmlns:xi=\"http://www.w3.org/2001/XInclude\"&gt;\n    &lt;!-- Include 2 --&gt;\n    &lt;xi:include\n        href=\"resource:resources/2.xml\" /&gt;\n    &lt;!-- Include 3 --&gt;\n    &lt;xi:include\n        href=\"resource:resources/3.xml\" /&gt;\n    &lt;!--\n    &lt;map&gt;\n    &lt;/map&gt;\n    --&gt;\n&lt;/document&gt;\n</code></pre>\n\n<p>based on <a href=\"https://developer.jboss.org/thread/91829\" rel=\"nofollow noreferrer\">this</a> article. When trying to access these includes (after successfully deploying my application) I get the following error:</p>\n\n<pre><code>Caused by: org.xml.sax.SAXParseException; lineNumber: 5; columnNumber: 43; An 'include' failed, and no 'fallback' element was found.\n    at org.apache.xerces.parsers.DOMParser.parse(DOMParser.java:245)\n    at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:298)\n    at javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:121)\n    at org.zcore.dkp.backend.mapper.MappingParser.parse(MappingParser.java:60)\n    ... 327 more\n</code></pre>\n\n<p>I tried(&amp;error'd) all thinkable options. What's the right combination for <code>xi:include</code>'ing an <code>.xml</code> file in a <code>jar</code>-file installed as WildFly module?</p>\n\n<p><em>Edit</em>: Here's how the xmlfile is loaded:</p>\n\n<pre><code>private void loadBackendMapping() {\n    try {\n        BackendMappingParser parser = new BackendMappingParser();\n        InputStream in = ResourceLoaderHelper.getResourceAsStream(BACKEND_MAPPING_RESOURCE);\n        if (in == null) {\n            throw new FileNotFoundException();\n        }\n        try {\n            parser.parse(in);\n        } finally {\n            try {\n                in.close();\n            } catch (IOException e) {\n                log.warn(\"Failed to close \" + BACKEND_MAPPING_RESOURCE, e);\n            }\n        }\n        backendMapping = parser.getMapping();\n        if (log.isDebugEnabled()) {\n            log.debug(BACKEND_MAPPING_RESOURCE + \" successfully loaded!\");\n        }\n    } catch (FileNotFoundException e) {\n        log.warn(\"\\\"\" + BACKEND_MAPPING_RESOURCE + \"\\\" not found!\");\n        backendMapping = new BackendMapping();\n    } catch (Exception e) {\n        throw new CenterwareSystemException(\"Failed to parse \" + BACKEND_MAPPING_RESOURCE, e);\n    }\n}\n</code></pre>\n\n<p><code>BACKEND_MAPPING_RESOURCE</code> contains the filename (<code>1.xml</code>).</p>\n"},{"tags":["java","apache-poi","xwpf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1642428028,"post_id":70742097,"comment_id":125061169,"body_markdown":"At first `XWPFDocumentVisitor` is not a `apache poi`class but a [XDocReport](https://github.com/opensagres/xdocreport/blob/master/thirdparties-extension/fr.opensagres.poi.xwpf.converter.core/src/main/java/fr/opensagres/poi/xwpf/converter/core/XWPFDocumentVisitor.java) class. `XDocReport` uses `apache poi` but both projects are not related to each other. And no, it does not considering [Office MathML](https://en.wikipedia.org/wiki/Office_Open_XML_file_formats#Office_MathML_.28OMML.29) equations up to now. So pull an issue or a request [there](https://github.com/opensagres/xdocreport).","body":"At first <code>XWPFDocumentVisitor</code> is not a <code>apache poi</code>class but a <a href=\"https://github.com/opensagres/xdocreport/blob/master/thirdparties-extension/fr.opensagres.poi.xwpf.converter.core/src/main/java/fr/opensagres/poi/xwpf/converter/core/XWPFDocumentVisitor.java\" rel=\"nofollow noreferrer\">XDocReport</a> class. <code>XDocReport</code> uses <code>apache poi</code> but both projects are not related to each other. And no, it does not considering <a href=\"https://en.wikipedia.org/wiki/Office_Open_XML_file_formats#Office_MathML_.28OMML.29\" rel=\"nofollow noreferrer\">Office MathML</a> equations up to now. So pull an issue or a request <a href=\"https://github.com/opensagres/xdocreport\" rel=\"nofollow noreferrer\">there</a>."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1642428305,"post_id":70742097,"comment_id":125061310,"body_markdown":"I have provided code to convert that not really well known `Office MathML` to the better known [MathML](https://en.wikipedia.org/wiki/MathML): https://stackoverflow.com/questions/44748712/reading-equations-formula-from-word-docx-to-html-and-save-database-using-jav/44809755#44809755 and https://stackoverflow.com/questions/59414033/reading-equations-from-word-docx-to-html-together-with-their-text-context-us/59502090#59502090. But converting that into PDF will be a much more tedious task then.","body":"I have provided code to convert that not really well known <code>Office MathML</code> to the better known <a href=\"https://en.wikipedia.org/wiki/MathML\" rel=\"nofollow noreferrer\">MathML</a>: <a href=\"https://stackoverflow.com/questions/44748712/reading-equations-formula-from-word-docx-to-html-and-save-database-using-jav/44809755#44809755\" title=\"reading equations formula from word docx to html and save database using jav\">stackoverflow.com/questions/44748712/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/59414033/reading-equations-from-word-docx-to-html-together-with-their-text-context-us/59502090#59502090\" title=\"reading equations from word docx to html together with their text context us\">stackoverflow.com/questions/59414033/&hellip;</a>. But converting that into PDF will be a much more tedious task then."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1642429301,"post_id":70742097,"comment_id":125061734,"body_markdown":"Is &quot;`` enter code here`` &quot; [intentional](https://stackoverflow.com/posts/70742097/edit)? (Last line in the posted code.)","body":"Is &quot;`` enter code here`` &quot; <a href=\"https://stackoverflow.com/posts/70742097/edit\">intentional</a>? (Last line in the posted code.)"},{"owner":{"account_id":19032587,"reputation":1,"user_id":13894358,"display_name":"Donald Jennings"},"score":0,"creation_date":1642589123,"post_id":70742097,"comment_id":125108778,"body_markdown":"Thanks for the feedback! Does anyone have an idea on how we could go about getting these maths formulas into pdf as well as powerpoint.","body":"Thanks for the feedback! Does anyone have an idea on how we could go about getting these maths formulas into pdf as well as powerpoint."}],"owner":{"account_id":19032587,"reputation":1,"user_id":13894358,"display_name":"Donald Jennings"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642512123,"creation_date":1642425829,"question_id":70742097,"body_markdown":"I am attempting to convert a XWPFDocument to PDF format and everything except the maths formulas are being exported. I believe this is to do with the convert method in opensagres&#39;s PdfConverter class.\r\n\r\nWhen decompiling and attempting to search for the root of the problem, it led me to the `visitBodyElements` method in the `XWPFDocumentVisitor` class.\r\n\r\n```\r\nprotected void visitBodyElements(List&lt;IBodyElement&gt; bodyElements, T container) throws Exception {\r\n    if (!this.masterPageManager.isInitialized()) {\r\n        this.masterPageManager.initialize();\r\n    }\r\n\r\n    String previousParagraphStyleName = null;\r\n\r\n    for(int i = 0; i &lt; bodyElements.size(); ++i) {\r\n        IBodyElement bodyElement = (IBodyElement)bodyElements.get(i);\r\n\r\n        switch(bodyElement.getElementType()) {\r\n            case PARAGRAPH:\r\n                XWPFParagraph paragraph = (XWPFParagraph)bodyElement;\r\n                String paragraphStyleName = paragraph.getStyleID();\r\n                boolean var10000;\r\n                if (paragraphStyleName != null &amp;&amp; paragraphStyleName.equals(previousParagraphStyleName)) {\r\n                    var10000 = true;\r\n                } else {\r\n                    var10000 = false;\r\n                }\r\n\r\n                this.visitParagraph(paragraph, i, container);\r\n                break;\r\n\r\n            case TABLE:\r\n                previousParagraphStyleName = null;\r\n                this.visitTable((XWPFTable)bodyElement, i, container);\r\n                break;\r\n\r\n            case CONTENTCONTROL:\r\n                this.visitSDT((XWPFSDT)bodyElement, i, container);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis method does not contain a case where the bodyElement is a formula and I believe this is why it is not being converted to PDF. However, it that the case? How are Maths formulas being stored in the `XWPFDocument` class?\r\n\r\n\r\n","title":"Converting XWPFDocument to PDF loses maths formulas","body":"<p>I am attempting to convert a XWPFDocument to PDF format and everything except the maths formulas are being exported. I believe this is to do with the convert method in opensagres's PdfConverter class.</p>\n<p>When decompiling and attempting to search for the root of the problem, it led me to the <code>visitBodyElements</code> method in the <code>XWPFDocumentVisitor</code> class.</p>\n<pre><code>protected void visitBodyElements(List&lt;IBodyElement&gt; bodyElements, T container) throws Exception {\n    if (!this.masterPageManager.isInitialized()) {\n        this.masterPageManager.initialize();\n    }\n\n    String previousParagraphStyleName = null;\n\n    for(int i = 0; i &lt; bodyElements.size(); ++i) {\n        IBodyElement bodyElement = (IBodyElement)bodyElements.get(i);\n\n        switch(bodyElement.getElementType()) {\n            case PARAGRAPH:\n                XWPFParagraph paragraph = (XWPFParagraph)bodyElement;\n                String paragraphStyleName = paragraph.getStyleID();\n                boolean var10000;\n                if (paragraphStyleName != null &amp;&amp; paragraphStyleName.equals(previousParagraphStyleName)) {\n                    var10000 = true;\n                } else {\n                    var10000 = false;\n                }\n\n                this.visitParagraph(paragraph, i, container);\n                break;\n\n            case TABLE:\n                previousParagraphStyleName = null;\n                this.visitTable((XWPFTable)bodyElement, i, container);\n                break;\n\n            case CONTENTCONTROL:\n                this.visitSDT((XWPFSDT)bodyElement, i, container);\n        }\n    }\n\n}\n</code></pre>\n<p>This method does not contain a case where the bodyElement is a formula and I believe this is why it is not being converted to PDF. However, it that the case? How are Maths formulas being stored in the <code>XWPFDocument</code> class?</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":22491103,"reputation":5310,"user_id":16688813,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1642512068,"creation_date":1642511623,"answer_id":70756175,"question_id":70756119,"body_markdown":"You could do this :\r\n\r\n```\r\nmyDict.keys.maxOrNull()\r\n```\r\n\r\nApi reference : [`keys`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/keys.html), [`maxOrNull()`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/max-or-null.html)","title":"Find max int key in hashmap kotlin","body":"<p>You could do this :</p>\n<pre><code>myDict.keys.maxOrNull()\n</code></pre>\n<p>Api reference : <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/keys.html\" rel=\"nofollow noreferrer\"><code>keys</code></a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/max-or-null.html\" rel=\"nofollow noreferrer\"><code>maxOrNull()</code></a></p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1642511889,"creation_date":1642511889,"answer_id":70756232,"question_id":70756119,"body_markdown":"In addition to Tom&#39;s answer, if you want to have the Map entry and not only the key, you can do something as follows:\r\n```kotlin\r\nmyDict.maxByOrNull { it.key })\r\n```","title":"Find max int key in hashmap kotlin","body":"<p>In addition to Tom's answer, if you want to have the Map entry and not only the key, you can do something as follows:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>myDict.maxByOrNull { it.key })\n</code></pre>\n"}],"owner":{"account_id":18324018,"reputation":616,"user_id":13344149,"display_name":"Hexley21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70756175,"answer_count":2,"score":1,"last_activity_date":1642512068,"creation_date":1642511348,"question_id":70756119,"body_markdown":"    val myDict : HashMap&lt;Int, String&gt; = hashMapOf( 0 to &quot;zero&quot;, 1 to &quot;one&quot;, 2 to &quot;two&quot; )\r\n\r\nI have to find maximum Int key value of myDict HashMap.\r\nsomething like this:\r\n\r\n    myDict.getMaxKey() // should be 2\r\n\r\n","title":"Find max int key in hashmap kotlin","body":"<pre><code>val myDict : HashMap&lt;Int, String&gt; = hashMapOf( 0 to &quot;zero&quot;, 1 to &quot;one&quot;, 2 to &quot;two&quot; )\n</code></pre>\n<p>I have to find maximum Int key value of myDict HashMap.\nsomething like this:</p>\n<pre><code>myDict.getMaxKey() // should be 2\n</code></pre>\n"},{"tags":["java","spring-boot","logback","slf4j"],"answers":[{"tags":[],"owner":{"account_id":1623446,"reputation":3360,"user_id":1499549,"display_name":"Shawn Clark"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1642511872,"creation_date":1476774773,"answer_id":40101804,"question_id":40085033,"body_markdown":"This is more a question around Logback than anything to do with Spring Boot. What you need to do is something similar to the [`MDCConverter`](http://logback.qos.ch/xref/ch/qos/logback/classic/pattern/MDCConverter.html). Within your pattern you would specify something like:\r\n\r\n    &lt;conversionRule conversionWord=&quot;boundedMsg&quot; converterClass=&quot;com.package.util.logging.converters.LongMessageConverter&quot;/&gt;\r\n            \r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n      &lt;encoder&gt;\r\n        &lt;pattern&gt;%boundedMsg{25} [%thread] - %msg%n&lt;/pattern&gt;\r\n      &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\nThe `25` is an option made available to the Converter during the `start()` method call. It is identified as the first option. You could end up passing a number of options to the converter. This way the converter is generic for any number of patterns that you specify in your Logback configuration.\r\n\r\nThe start method would look like:\r\n\r\n    private int msgLength;\r\n\r\n    @Override\r\n    public void start() {\r\n        msgLength = Integer.parseInt(getFirstOption());\r\n        super.start();\r\n    }","title":"Logback conversion rule parametrizing","body":"<p>This is more a question around Logback than anything to do with Spring Boot. What you need to do is something similar to the <a href=\"http://logback.qos.ch/xref/ch/qos/logback/classic/pattern/MDCConverter.html\" rel=\"nofollow noreferrer\"><code>MDCConverter</code></a>. Within your pattern you would specify something like:</p>\n<pre><code>&lt;conversionRule conversionWord=&quot;boundedMsg&quot; converterClass=&quot;com.package.util.logging.converters.LongMessageConverter&quot;/&gt;\n        \n&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n  &lt;encoder&gt;\n    &lt;pattern&gt;%boundedMsg{25} [%thread] - %msg%n&lt;/pattern&gt;\n  &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>The <code>25</code> is an option made available to the Converter during the <code>start()</code> method call. It is identified as the first option. You could end up passing a number of options to the converter. This way the converter is generic for any number of patterns that you specify in your Logback configuration.</p>\n<p>The start method would look like:</p>\n<pre><code>private int msgLength;\n\n@Override\npublic void start() {\n    msgLength = Integer.parseInt(getFirstOption());\n    super.start();\n}\n</code></pre>\n"}],"owner":{"account_id":2821287,"reputation":682,"user_id":2424993,"accept_rate":100,"display_name":"Piotr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7587,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":40101804,"answer_count":1,"score":7,"last_activity_date":1642511872,"creation_date":1476703138,"question_id":40085033,"body_markdown":"Is there any way of parametrizing conversion rule in Logback?\r\nI&#39;ve tried adding child nodes, additional attributes and I don&#39;t see a way to do it.\r\n\r\n    &lt;conversionRule conversionWord=&quot;boundedMsg&quot; converterClass=&quot;com.package.util.logging.converters.LongMessageConverter&quot;&gt;\r\n\r\nI would like to add parameter that will be used by LongMessageConverter class.\r\n\r\nMy application is setup on Spring Boot and I am using Sl4J.","title":"Logback conversion rule parametrizing","body":"<p>Is there any way of parametrizing conversion rule in Logback?\nI've tried adding child nodes, additional attributes and I don't see a way to do it.</p>\n\n<pre><code>&lt;conversionRule conversionWord=\"boundedMsg\" converterClass=\"com.package.util.logging.converters.LongMessageConverter\"&gt;\n</code></pre>\n\n<p>I would like to add parameter that will be used by LongMessageConverter class.</p>\n\n<p>My application is setup on Spring Boot and I am using Sl4J.</p>\n"},{"tags":["java","jetty"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642511838,"creation_date":1642511838,"answer_id":70756221,"question_id":70751962,"body_markdown":"Create a file `${jetty.base}/modules/remote-debug.mod` with a variation of what you need for remote debug (different configuration for port or suspend?) ...\r\n\r\n```\r\n[exec]\r\n-Xdebug\r\n-Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=9999\r\n```\r\n\r\nThen when you want debug just add the command line `--module=remote-debug` to your `start.jar` execution and the remote debug will be used for just that execution.\r\n\r\nThen it&#39;s just a matter of you starting a remote debug session in your IDE against the same configuration.","title":"IDEA Jetty remote debug problem. I wanna debug the war files in webapps folder","body":"<p>Create a file <code>${jetty.base}/modules/remote-debug.mod</code> with a variation of what you need for remote debug (different configuration for port or suspend?) ...</p>\n<pre><code>[exec]\n-Xdebug\n-Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=9999\n</code></pre>\n<p>Then when you want debug just add the command line <code>--module=remote-debug</code> to your <code>start.jar</code> execution and the remote debug will be used for just that execution.</p>\n<p>Then it's just a matter of you starting a remote debug session in your IDE against the same configuration.</p>\n"}],"owner":{"account_id":23973822,"reputation":3,"user_id":17962152,"display_name":"Beras0d"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70756221,"answer_count":1,"score":0,"last_activity_date":1642511838,"creation_date":1642492273,"question_id":70751962,"body_markdown":"I successfully connected to the remote jvm server, but I can only debug the start.jar.\r\nI extracted the war files at webapps folder and the breakpoint is useless.\r\nHow can I debug the web code?\r\nBtw without maven.\r\n","title":"IDEA Jetty remote debug problem. I wanna debug the war files in webapps folder","body":"<p>I successfully connected to the remote jvm server, but I can only debug the start.jar.\nI extracted the war files at webapps folder and the breakpoint is useless.\nHow can I debug the web code?\nBtw without maven.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":11335070,"reputation":887,"user_id":8311212,"display_name":"Sounak Saha"},"score":0,"creation_date":1642507188,"post_id":70755011,"comment_id":125083861,"body_markdown":"Are you running multi-node Kafka cluster?","body":"Are you running multi-node Kafka cluster?"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1642511791,"post_id":70755011,"comment_id":125085627,"body_markdown":"This is more Apache Kafka question: Spring does nothing in this matter, but just delegates to respective API of Kafka Client.","body":"This is more Apache Kafka question: Spring does nothing in this matter, but just delegates to respective API of Kafka Client."},{"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":0,"creation_date":1642513116,"post_id":70755011,"comment_id":125086177,"body_markdown":"@ArtemBilan Im asking about spring integration so it can be a spring related.","body":"@ArtemBilan Im asking about spring integration so it can be a spring related."},{"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":0,"creation_date":1642513123,"post_id":70755011,"comment_id":125086179,"body_markdown":"@SounakSaha yes","body":"@SounakSaha yes"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1642513281,"post_id":70755011,"comment_id":125086247,"body_markdown":"Well, technically you need to learn what plain Kafka Client (or even its protocol) can do, then you raise your concern against Spring. The integration definitely cannot do you more than client allows.","body":"Well, technically you need to learn what plain Kafka Client (or even its protocol) can do, then you raise your concern against Spring. The integration definitely cannot do you more than client allows."},{"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":0,"creation_date":1642513776,"post_id":70755011,"comment_id":125086450,"body_markdown":"I know that Kafka Client can update configuration, I&#39;ve just been concerned that NewTopic actually updates partition numbers but not anything else.","body":"I know that Kafka Client can update configuration, I&#39;ve just been concerned that NewTopic actually updates partition numbers but not anything else."},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1642517885,"post_id":70755011,"comment_id":125088283,"body_markdown":"There is an open issue to support changing other properties https://github.com/spring-projects/spring-kafka/issues/1482 right now, only the partition count can be increased automatically; use an `AdminClient` for other changes.","body":"There is an open issue to support changing other properties <a href=\"https://github.com/spring-projects/spring-kafka/issues/1482\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-kafka/issues/1482</a> right now, only the partition count can be increased automatically; use an <code>AdminClient</code> for other changes."},{"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":0,"creation_date":1642588655,"post_id":70755011,"comment_id":125108598,"body_markdown":"Nice, can you post an answer for question so I can close?","body":"Nice, can you post an answer for question so I can close?"}],"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642511616,"creation_date":1642505981,"question_id":70755011,"body_markdown":"For creation I am using \r\n\r\n    @Bean\r\n    public NewTopic userTopic(final KafkaTopicConfiguration userConfig) {\r\n        return TopicBuilder.name(userConfig.getName())\r\n            .partitions(userConfig.getPartitions())\r\n            .replicas(userConfig.getReplicas())\r\n            .configs(userConfig.getConfigs())\r\n            .build();\r\n    }\r\n\r\nInitially, I thought that restarting the app with new config properties will update the topic configuration as it does for partitions, but config nor replicas are not updated.\r\n\r\nHow to update config specifically during app start? Is there a specific bean that can be defined to do that automatically?\r\n","title":"How to update kafka config of already existing topic","body":"<p>For creation I am using</p>\n<pre><code>@Bean\npublic NewTopic userTopic(final KafkaTopicConfiguration userConfig) {\n    return TopicBuilder.name(userConfig.getName())\n        .partitions(userConfig.getPartitions())\n        .replicas(userConfig.getReplicas())\n        .configs(userConfig.getConfigs())\n        .build();\n}\n</code></pre>\n<p>Initially, I thought that restarting the app with new config properties will update the topic configuration as it does for partitions, but config nor replicas are not updated.</p>\n<p>How to update config specifically during app start? Is there a specific bean that can be defined to do that automatically?</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":3,"creation_date":1642507727,"post_id":70755117,"comment_id":125084089,"body_markdown":"Please define _facing challenges_. Also, please show us the test you have now","body":"Please define <i>facing challenges</i>. Also, please show us the test you have now"},{"owner":{"account_id":23938771,"reputation":60,"user_id":17932189,"display_name":"Andre"},"score":0,"creation_date":1642510306,"post_id":70755117,"comment_id":125085017,"body_markdown":"You write a test where you provide a variable and expect something. Then, you should assert the result with the expected variable.","body":"You write a test where you provide a variable and expect something. Then, you should assert the result with the expected variable."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1642512473,"post_id":70755117,"comment_id":125085917,"body_markdown":"Why mocking this?? ..Couldn&#39;t you provide &quot;just appropriate&quot; `strVal` (s)!?","body":"Why mocking this?? ..Couldn&#39;t you provide &quot;just appropriate&quot; <code>strVal</code> (s)!?"},{"owner":{"account_id":4230562,"reputation":63,"user_id":3462941,"display_name":"user3462941"},"score":0,"creation_date":1642513599,"post_id":70755117,"comment_id":125086371,"body_markdown":"@xerx593 I would require to write test for loop and all it&#39;s sub conditions since I need to achieve 100% test coverage","body":"@xerx593 I would require to write test for loop and all it&#39;s sub conditions since I need to achieve 100% test coverage"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1642513701,"post_id":70755117,"comment_id":125086413,"body_markdown":"if you cannot &quot;reach&quot; all sub conditions with (different) strVal(s), then re-consider their (sub conditions) &quot;right to exist&quot;.","body":"if you cannot &quot;reach&quot; all sub conditions with (different) strVal(s), then re-consider their (sub conditions) &quot;right to exist&quot;."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1642513879,"post_id":70755117,"comment_id":125086501,"body_markdown":"and since there is no try/catch in this code block... *and*: `.thenReturn(anyXXX());` (with the facts/static imports implied)  will return a (mockito) argument matcher, which is definitely wrong.","body":"and since there is no try/catch in this code block... <i>and</i>: <code>.thenReturn(anyXXX());</code> (with the facts/static imports implied)  will return a (mockito) argument matcher, which is definitely wrong."}],"owner":{"account_id":4230562,"reputation":63,"user_id":3462941,"display_name":"user3462941"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642511538,"creation_date":1642506460,"question_id":70755117,"body_markdown":"I have below code and need to write unit test for the same, however facing challenges while iterating over loop and testing it.current() and it.next().Really appreciate any help\r\n\r\n```\r\nbyte[] buffer = new byte[length/2];\r\nfor(CharacterIterator it=new StringCharacterIterator(strVal);\r\n    it.current() != CharacterIterator.DONE;\r\n    it.next(), ++index) {\r\n  final int rx = 16;\r\n  final int left = Character.digit(it.current(), radix);\r\n  final int right = Character.digit(it.next(), radix);\r\n  buffer[index] = (byte) ((left &lt;&lt; 4) + right);\r\n}\r\n}\r\n```\r\n\r\nI am quite new to Mokito hence unable to write proper tests. I tried few things below this doesn&#39;t work properly:\r\n```\r\nprivate Iterator&lt;CharacterIterator&gt; characterIterator=mock(Iterator.class);\r\nMockedStatic&lt;Character&gt; character = Mockito.mockStatic(Character.class);\r\nwhen(characterIterator.hasNext()).thenReturn(true);\r\nwhen(characterIterator.next()).thenReturn(anyChar());\r\nwhen(characterIterator.next().current()).thenReturn(anyChar());\r\ncharacter.when(()-&gt; Character.digit(anyChar(), anyInt())).thenReturn(anyInt());\r\n```\r\n","title":"Mockito Unit test for CharacterIterator loop","body":"<p>I have below code and need to write unit test for the same, however facing challenges while iterating over loop and testing it.current() and it.next().Really appreciate any help</p>\n<pre><code>byte[] buffer = new byte[length/2];\nfor(CharacterIterator it=new StringCharacterIterator(strVal);\n    it.current() != CharacterIterator.DONE;\n    it.next(), ++index) {\n  final int rx = 16;\n  final int left = Character.digit(it.current(), radix);\n  final int right = Character.digit(it.next(), radix);\n  buffer[index] = (byte) ((left &lt;&lt; 4) + right);\n}\n}\n</code></pre>\n<p>I am quite new to Mokito hence unable to write proper tests. I tried few things below this doesn't work properly:</p>\n<pre><code>private Iterator&lt;CharacterIterator&gt; characterIterator=mock(Iterator.class);\nMockedStatic&lt;Character&gt; character = Mockito.mockStatic(Character.class);\nwhen(characterIterator.hasNext()).thenReturn(true);\nwhen(characterIterator.next()).thenReturn(anyChar());\nwhen(characterIterator.next().current()).thenReturn(anyChar());\ncharacter.when(()-&gt; Character.digit(anyChar(), anyInt())).thenReturn(anyInt());\n</code></pre>\n"},{"tags":["java","compatibility","google-sheets-api","pentaho-data-integration"],"answers":[{"tags":[],"owner":{"account_id":10155775,"reputation":2565,"user_id":7500904,"display_name":"Jescanellas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579250468,"creation_date":1579250468,"answer_id":59783773,"question_id":59773279,"body_markdown":"Since Google Sheets v4 API [was announced](https://cloud.google.com/blog/products/application-development/apps-dev-sheets-api?utm_campaign=drive_launch_google_sheets_api_061416&amp;utm_source=gdev&amp;utm_medium=yt-desc) in 2016 and the last edit to the code was in 2014, there is no doubt this plugin was done with the v3 API version. \r\n\r\nAlso, the Readme file links to &quot;https://developers.google.com/google-apps/spreadsheets/&quot;, which redirects to &quot;https://developers.google.com/sheets/api/v3/&quot;, the old documentation of V3.","title":"PDI &quot;Google Spreadsheet Input/Output&quot; plugin compatible with Google Sheets API v4?","body":"<p>Since Google Sheets v4 API <a href=\"https://cloud.google.com/blog/products/application-development/apps-dev-sheets-api?utm_campaign=drive_launch_google_sheets_api_061416&amp;utm_source=gdev&amp;utm_medium=yt-desc\" rel=\"nofollow noreferrer\">was announced</a> in 2016 and the last edit to the code was in 2014, there is no doubt this plugin was done with the v3 API version. </p>\n\n<p>Also, the Readme file links to \"<a href=\"https://developers.google.com/google-apps/spreadsheets/\" rel=\"nofollow noreferrer\">https://developers.google.com/google-apps/spreadsheets/</a>\", which redirects to \"<a href=\"https://developers.google.com/sheets/api/v3/\" rel=\"nofollow noreferrer\">https://developers.google.com/sheets/api/v3/</a>\", the old documentation of V3.</p>\n"},{"tags":[],"owner":{"account_id":14027680,"reputation":769,"user_id":10132321,"display_name":"smolo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579346406,"creation_date":1579346406,"answer_id":59800075,"question_id":59773279,"body_markdown":"As an alternative you can use the CData JDBC driver. It is very easy to use and integrate. \r\nhttps://www.cdata.com/drivers/gsheets/jdbc/\r\nDisadvantage: It&#39;s not free.","title":"PDI &quot;Google Spreadsheet Input/Output&quot; plugin compatible with Google Sheets API v4?","body":"<p>As an alternative you can use the CData JDBC driver. It is very easy to use and integrate. \n<a href=\"https://www.cdata.com/drivers/gsheets/jdbc/\" rel=\"nofollow noreferrer\">https://www.cdata.com/drivers/gsheets/jdbc/</a>\nDisadvantage: It's not free.</p>\n"},{"tags":[],"owner":{"account_id":14027680,"reputation":769,"user_id":10132321,"display_name":"smolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579366954,"creation_date":1579366954,"answer_id":59802861,"question_id":59773279,"body_markdown":"I have found a Github clone that has been updated to work with v4. But couldn&#39;t try it out yet.\r\n\r\nhttps://github.com/huantaoliu/pdi-google-spreadsheet-plugin","title":"PDI &quot;Google Spreadsheet Input/Output&quot; plugin compatible with Google Sheets API v4?","body":"<p>I have found a Github clone that has been updated to work with v4. But couldn't try it out yet.</p>\n\n<p><a href=\"https://github.com/huantaoliu/pdi-google-spreadsheet-plugin\" rel=\"nofollow noreferrer\">https://github.com/huantaoliu/pdi-google-spreadsheet-plugin</a></p>\n"},{"tags":[],"owner":{"account_id":14027680,"reputation":769,"user_id":10132321,"display_name":"smolo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583770994,"creation_date":1583770994,"answer_id":60604626,"question_id":59773279,"body_markdown":"Here&#39;s another version that is compatible with v4 and comes with some additional features like appending rows.\r\n\r\nhttps://github.com/jfmonteil/Pentaho-Google-Sheet-Plugin","title":"PDI &quot;Google Spreadsheet Input/Output&quot; plugin compatible with Google Sheets API v4?","body":"<p>Here's another version that is compatible with v4 and comes with some additional features like appending rows.</p>\n\n<p><a href=\"https://github.com/jfmonteil/Pentaho-Google-Sheet-Plugin\" rel=\"nofollow noreferrer\">https://github.com/jfmonteil/Pentaho-Google-Sheet-Plugin</a></p>\n"},{"tags":[],"owner":{"account_id":5689367,"reputation":102,"user_id":4497857,"display_name":"Jean-Fran&#231;ois Monteil-Lemoine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641148284,"creation_date":1641148284,"answer_id":70558677,"question_id":59773279,"body_markdown":"I confirm that this plugin is the latest one (I am the author) : https://github.com/jfmonteil/Pentaho-Google-Sheet-Plugin\r\nIt uses Google Drive API V3 for parsing and Google Sheets API V4. I have just upgraded the code to be up to date with the deprecated components.","title":"PDI &quot;Google Spreadsheet Input/Output&quot; plugin compatible with Google Sheets API v4?","body":"<p>I confirm that this plugin is the latest one (I am the author) : <a href=\"https://github.com/jfmonteil/Pentaho-Google-Sheet-Plugin\" rel=\"nofollow noreferrer\">https://github.com/jfmonteil/Pentaho-Google-Sheet-Plugin</a>\nIt uses Google Drive API V3 for parsing and Google Sheets API V4. I have just upgraded the code to be up to date with the deprecated components.</p>\n"}],"owner":{"account_id":7847219,"reputation":1010,"user_id":5931892,"accept_rate":100,"display_name":"stack_lech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2308,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70558677,"answer_count":5,"score":2,"last_activity_date":1642511419,"creation_date":1579189631,"question_id":59773279,"body_markdown":"I am using the &quot;Google Spreadsheet Input/Output&quot; plugin from the Pentaho Data Integration marketplace, which is no longer maintained. [Github repository link](https://github.com/GlobalTechnology/pdi-google-spreadsheet-plugin). Recently I have received an email from Google with the subject:\r\n&gt;[Action Required] Google Sheets v3 API is being shutdown on March 3, 2020\r\n \r\nCan someone please have a look the source code and check if the plugin is using API v3 or v4. Not being a Java developer, I tried to find out myself, but looking at the code I don&#39;t have a clue.\r\n\r\nI also posted this [question](https://community.hitachivantara.com/communities/community-home/digestviewer/view-question?ContributedContentKey=dc0c47f4-bf1d-45e6-aa74-441b4549901b&amp;CommunityKey=e0eaa1d8-5ecc-4721-a6a7-75d4e890ee0d) to the Hitachi Pentaho community forum. But instead of answering the question, they removed the plugin from the marketplace without any further comment.\r\n\r\nAny help would be much appreciated.","title":"PDI &quot;Google Spreadsheet Input/Output&quot; plugin compatible with Google Sheets API v4?","body":"<p>I am using the &quot;Google Spreadsheet Input/Output&quot; plugin from the Pentaho Data Integration marketplace, which is no longer maintained. <a href=\"https://github.com/GlobalTechnology/pdi-google-spreadsheet-plugin\" rel=\"nofollow noreferrer\">Github repository link</a>. Recently I have received an email from Google with the subject:</p>\n<blockquote>\n<p>[Action Required] Google Sheets v3 API is being shutdown on March 3, 2020</p>\n</blockquote>\n<p>Can someone please have a look the source code and check if the plugin is using API v3 or v4. Not being a Java developer, I tried to find out myself, but looking at the code I don't have a clue.</p>\n<p>I also posted this <a href=\"https://community.hitachivantara.com/communities/community-home/digestviewer/view-question?ContributedContentKey=dc0c47f4-bf1d-45e6-aa74-441b4549901b&amp;CommunityKey=e0eaa1d8-5ecc-4721-a6a7-75d4e890ee0d\" rel=\"nofollow noreferrer\">question</a> to the Hitachi Pentaho community forum. But instead of answering the question, they removed the plugin from the marketplace without any further comment.</p>\n<p>Any help would be much appreciated.</p>\n"},{"tags":["java","spring-boot","activemq"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1642523974,"post_id":70756049,"comment_id":125091045,"body_markdown":"Are you suggesting that sorting the messages in the web console has a direct impact on how quickly they are delivered to consumers?","body":"Are you suggesting that sorting the messages in the web console has a direct impact on how quickly they are delivered to consumers?"},{"owner":{"account_id":10447999,"reputation":11,"user_id":7702510,"display_name":"Rami Bader"},"score":0,"creation_date":1642583623,"post_id":70756049,"comment_id":125106502,"body_markdown":"That&#39;s what I noticed, After refresh and sort the high priority messages consumed very quickly, but if I keep it as is it took around 2 minutes.","body":"That&#39;s what I noticed, After refresh and sort the high priority messages consumed very quickly, but if I keep it as is it took around 2 minutes."}],"owner":{"account_id":10447999,"reputation":11,"user_id":7702510,"display_name":"Rami Bader"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642511270,"creation_date":1642510953,"question_id":70756049,"body_markdown":"I have a queue with a huge amount of messages with normal priority, when I push high priority message into the queue it takes around 2 minutes to dispatch which is too slow.\r\n\r\nI&#39;ve noticed that when I click refresh inside the queue over ActiveMQ console then sort the priority descending, the high priority messages consumed very quickly.\r\n\r\nI have 2 consumers for this queue with below configurations:\r\napache-activemq-5.15.11\r\n` prioritizedMessages=&quot;true&quot; useCache=&quot;false&quot; `\r\n` constantPendingMessageLimitStrategy limit=&quot;1&quot; `\r\n` jms.prefetchPolicy.all=1 `\r\n","title":"ActiveMQ high priority messages consumed slowly","body":"<p>I have a queue with a huge amount of messages with normal priority, when I push high priority message into the queue it takes around 2 minutes to dispatch which is too slow.</p>\n<p>I've noticed that when I click refresh inside the queue over ActiveMQ console then sort the priority descending, the high priority messages consumed very quickly.</p>\n<p>I have 2 consumers for this queue with below configurations:\napache-activemq-5.15.11\n<code>prioritizedMessages=&quot;true&quot; useCache=&quot;false&quot;</code>\n<code>constantPendingMessageLimitStrategy limit=&quot;1&quot;</code>\n<code>jms.prefetchPolicy.all=1</code></p>\n"},{"tags":["java","android","android-internal-storage"],"answers":[{"tags":[],"owner":{"account_id":13684561,"reputation":123,"user_id":9873980,"display_name":"Parth Suthar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561981814,"creation_date":1561978239,"answer_id":56834371,"question_id":56834205,"body_markdown":"You can use this: \r\n\r\n    request.setDestinationUri(Uri.fromFile(new File(context.getCacheDir(),&quot;filename.txt&quot;)));","title":"Downloading PDF files in internal storage","body":"<p>You can use this: </p>\n\n<pre><code>request.setDestinationUri(Uri.fromFile(new File(context.getCacheDir(),\"filename.txt\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8969293,"reputation":4110,"user_id":6688493,"display_name":"touhid udoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561978319,"creation_date":1561978319,"answer_id":56834390,"question_id":56834205,"body_markdown":"You can simple just delete this line, `request.setDestinationInExternalFilesDir()`\r\n\r\n&gt;By default, downloads are saved to a generated filename in the shared download cache\r\n\r\n[From Docs][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/DownloadManager.Request.html#setDestinationUri(android.net.Uri)","title":"Downloading PDF files in internal storage","body":"<p>You can simple just delete this line, <code>request.setDestinationInExternalFilesDir()</code></p>\n\n<blockquote>\n  <p>By default, downloads are saved to a generated filename in the shared download cache</p>\n</blockquote>\n\n<p><a href=\"https://developer.android.com/reference/android/app/DownloadManager.Request.html#setDestinationUri(android.net.Uri)\" rel=\"nofollow noreferrer\">From Docs</a></p>\n"},{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561980922,"creation_date":1561980922,"answer_id":56834981,"question_id":56834205,"body_markdown":"You cannot use `DownloadManager` to download directly to [your app&#39;s portion of internal storage](https://commonsware.com/blog/2017/11/13/storage-situation-internal-storage.html). You will need to [use OkHttp](https://stackoverflow.com/a/29012988/115145) or some other in-process HTTP client API. ","title":"Downloading PDF files in internal storage","body":"<p>You cannot use <code>DownloadManager</code> to download directly to <a href=\"https://commonsware.com/blog/2017/11/13/storage-situation-internal-storage.html\" rel=\"nofollow noreferrer\">your app's portion of internal storage</a>. You will need to <a href=\"https://stackoverflow.com/a/29012988/115145\">use OkHttp</a> or some other in-process HTTP client API. </p>\n"}],"owner":{"account_id":15026164,"reputation":85,"user_id":10845957,"display_name":"Hassan Ali Mughal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6142,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1661053796,"answer_count":3,"score":3,"last_activity_date":1642510411,"creation_date":1561977516,"question_id":56834205,"body_markdown":"I&#39;m making the task of Android.\r\n\r\nI download the file from URL and save in internal storage/directory of android phone? my code is written below but this is external storage code I want internal storage code.\r\n```\r\n public void onClick(View v) {\r\n                    Toast.makeText(Computer.this,&quot;Please Wait until the file is download&quot;,Toast.LENGTH_LONG).show();\r\n                    downloadManager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);\r\n                    Uri uri = Uri.parse(&quot;url&quot;);\r\n                    DownloadManager.Request request = new DownloadManager.Request(uri);\r\n                    request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI | DownloadManager.Request.NETWORK_MOBILE);\r\n                    request.setAllowedOverRoaming(false);\r\n                    request.setTitle(&quot;&quot; + &quot;filename&quot; + &quot;.pdf&quot;);\r\n                    request.setVisibleInDownloadsUi(true);\r\n                    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n                    Long reference = downloadManager.enqueue(request);\r\n                    request.setDestinationInExternalFilesDir(Environment.DIRECTORY_DOWNLOADS, &quot;/&quot;+ &quot;filename&quot;);\r\n                    refid = downloadManager.enqueue(request);\r\n                    Log.e(&quot;OUT&quot;, &quot;&quot; + refid);\r\n```\r\nThat is external storage code but I want to save in internal storage of Android phone.","title":"Downloading PDF files in internal storage","body":"<p>I'm making the task of Android.</p>\n\n<p>I download the file from URL and save in internal storage/directory of android phone? my code is written below but this is external storage code I want internal storage code.</p>\n\n<pre><code> public void onClick(View v) {\n                    Toast.makeText(Computer.this,\"Please Wait until the file is download\",Toast.LENGTH_LONG).show();\n                    downloadManager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);\n                    Uri uri = Uri.parse(\"url\");\n                    DownloadManager.Request request = new DownloadManager.Request(uri);\n                    request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI | DownloadManager.Request.NETWORK_MOBILE);\n                    request.setAllowedOverRoaming(false);\n                    request.setTitle(\"\" + \"filename\" + \".pdf\");\n                    request.setVisibleInDownloadsUi(true);\n                    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n                    Long reference = downloadManager.enqueue(request);\n                    request.setDestinationInExternalFilesDir(Environment.DIRECTORY_DOWNLOADS, \"/\"+ \"filename\");\n                    refid = downloadManager.enqueue(request);\n                    Log.e(\"OUT\", \"\" + refid);\n</code></pre>\n\n<p>That is external storage code but I want to save in internal storage of Android phone.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-security-oauth2"],"comments":[{"owner":{"account_id":3598339,"reputation":1871,"user_id":3002336,"display_name":"Anand Varkey Philips"},"score":0,"creation_date":1642101381,"post_id":70555241,"comment_id":124988923,"body_markdown":"Can you add the logs?","body":"Can you add the logs?"},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1642238898,"post_id":70555241,"comment_id":125021521,"body_markdown":"I&#39;m not sure what you&#39;re doing, but I&#39;m eager to see the answers.","body":"I&#39;m not sure what you&#39;re doing, but I&#39;m eager to see the answers."},{"owner":{"account_id":23195436,"reputation":93,"user_id":17291147,"display_name":"MLugo"},"score":0,"creation_date":1642247535,"post_id":70555241,"comment_id":125023123,"body_markdown":"The log just says there is no Authenticated user","body":"The log just says there is no Authenticated user"},{"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"score":1,"creation_date":1642378122,"post_id":70555241,"comment_id":125048351,"body_markdown":"Spring Security holds the auth context in the users session, so perhaps there is something going wrong with that? Either way turn on debug logging for ` org.springframework.security` , that should give an idea for where it&#39;s going wrong","body":"Spring Security holds the auth context in the users session, so perhaps there is something going wrong with that? Either way turn on debug logging for ` org.springframework.security` , that should give an idea for where it&#39;s going wrong"},{"owner":{"account_id":23195436,"reputation":93,"user_id":17291147,"display_name":"MLugo"},"score":0,"creation_date":1642416112,"post_id":70555241,"comment_id":125056435,"body_markdown":"@stringy05 i changed the org.springframework.security to debug and got the following the the auth is lost:\n\n2022-01-17 12:31:03.495 IST\n&quot;Request requested invalid session id D5F8BAJKL23JKL32LLEA26A4F037&quot;\n\nDebug\n2022-01-17 12:31:03.495 IST\n\n&quot;Set SecurityContextHolder to anonymous SecurityContext&quot;\nDefault\n2022-01-17 12:31:03.494 IST\n2022-01-17 10:31:03.494 DEBUG [080-exec-5] \n\no.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext\nDebug\n\n2022-01-17 12:31:03.494 IST\n&quot;Set SecurityContextHolder to empty SecurityContext&quot;","body":"@stringy05 i changed the org.springframework.security to debug and got the following the the auth is lost:  2022-01-17 12:31:03.495 IST &quot;Request requested invalid session id D5F8BAJKL23JKL32LLEA26A4F037&quot;  Debug 2022-01-17 12:31:03.495 IST  &quot;Set SecurityContextHolder to anonymous SecurityContext&quot; Default 2022-01-17 12:31:03.494 IST 2022-01-17 10:31:03.494 DEBUG [080-exec-5]   o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext Debug  2022-01-17 12:31:03.494 IST &quot;Set SecurityContextHolder to empty SecurityContext&quot;"},{"owner":{"account_id":23195436,"reputation":93,"user_id":17291147,"display_name":"MLugo"},"score":0,"creation_date":1642416509,"post_id":70555241,"comment_id":125056582,"body_markdown":"i added the full log to the questions body, it seems like the sessions id is lost between the requests","body":"i added the full log to the questions body, it seems like the sessions id is lost between the requests"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1642510218,"post_id":70555241,"comment_id":125084982,"body_markdown":"Isn&#39;t it strange to keep session with oauth2? I prefer stateless services. If you want to keep JSessionId with oauth2, it can be problematic. State can be stored in JWT or database. You can read username from Json and load it to SecurityContextHolder","body":"Isn&#39;t it strange to keep session with oauth2? I prefer stateless services. If you want to keep JSessionId with oauth2, it can be problematic. State can be stored in JWT or database. You can read username from Json and load it to SecurityContextHolder"}],"answers":[{"tags":[],"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642457333,"creation_date":1642457333,"answer_id":70748085,"question_id":70555241,"body_markdown":"This isn&#39;t an answer, however too long for a comment..\r\n\r\nIt looks like the session is getting lost for some reason, definitely focus on that. \r\n\r\nIn a default Spring Boot config the session is managed by the underlying servlet container, so its worth checking that is functioning properly. Things to check:\r\n\r\n- Are you running more than 1 app server node? If so, ensure the session is using some sort of cluster aware config (ie Redis / JDBC), local session will fail here for sure\r\n- It&#39;s worth checking the defaults with OAuth2 login in Spring Boot. eg  you could try and specify the OAuth2 session using the `HttpSessionOAuth2AuthorizedClientRepository` and a `SpringSessionBackedSessionRegistry` \r\n\r\nBasically enable all the logs and try and observe the session states from the servlet container when the problem occurs. \r\n\r\nGetting the oauth2 session working correctly can be non-trivial, especially given there are not many good blog / docs that describe what spring boot is doing.\r\n\r\nThat said, here&#39;s an example of a working Redis backed Spring Boot config with OAuth 2 login, which might be useful as a reference for you:\r\n\r\napp config:\r\n\r\n```yaml\r\nspring:\r\n  session:\r\n    store-type: redis\r\n    redis:\r\n      namespace: sample:api\r\n      flush-mode: immediate\r\n  redis:\r\n    host: localhost\r\n    port: 6379\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n# add your oauth2 client details here \r\n```\r\n\r\n```java\r\npublic class SecurityConfig&lt;S extends Session&gt; extends WebSecurityConfigurerAdapter {\r\n\r\n    private final ClientRegistrationRepository clientRegistrationRepository;\r\n\r\n    @Autowired\r\n    private RedisIndexedSessionRepository redisIndexedSessionRepository;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors(Customizer.withDefaults())\r\n                .sessionManagement()\r\n                .maximumSessions(1)\r\n                .sessionRegistry(sessionRegistry())\r\n                .and()\r\n                .sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\r\n                .and()\r\n                .authorizeRequests(\r\n                        a -&gt; a.antMatchers(&quot;/api/login/callback&quot;).permitAll().anyRequest().authenticated())\r\n                .oauth2Login()\r\n                .authorizationEndpoint()\r\n                .authorizationRequestResolver(\r\n                        new DefaultOauth2AuthorizationRequestResolver(\r\n                                this.clientRegistrationRepository, OAuth2AuthorizationRequestRedirectFilter.DEFAULT_AUTHORIZATION_REQUEST_BASE_URI))\r\n                .and()\r\n                .defaultSuccessUrl(&quot;http://localhost:3000/users&quot;)\r\n                .authorizedClientRepository(authorizedClientRepository());\r\n    }\r\n\r\n    @Bean\r\n    public SpringSessionBackedSessionRegistry&lt;?&gt; sessionRegistry() {\r\n        return new SpringSessionBackedSessionRegistry&lt;&gt;(this.redisIndexedSessionRepository);\r\n    }\r\n\r\n    /**\r\n     * Use the servlet container session store for authorized OAuth2 Clients\r\n     */\r\n    @Bean\r\n    public OAuth2AuthorizedClientRepository authorizedClientRepository() {\r\n        return new HttpSessionOAuth2AuthorizedClientRepository();\r\n    }\r\n\r\n    /**\r\n     * specify CORS to work from SPA UI\r\n     */\r\n    @Bean\r\n    public CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOriginPatterns(List.of(&quot;http://localhost:3000*&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\n    @Configuration\r\n    public static class HttpSessionEventPublisherConfig {\r\n\r\n        /**\r\n         * enables session expiry notification\r\n         *\r\n         * &lt;p&gt;Needs to be declared in a different class from the `SpringSessionBackedSessionRegistry` to\r\n         * avoid a circular dependency\r\n         */\r\n        @Bean\r\n        public HttpSessionEventPublisher httpSessionEventPublisher() {\r\n            return new HttpSessionEventPublisher();\r\n        }\r\n    }\r\n```\r\n\r\n","title":"Spring Boot, OAuth2 authentication is lost between requests","body":"<p>This isn't an answer, however too long for a comment..</p>\n<p>It looks like the session is getting lost for some reason, definitely focus on that.</p>\n<p>In a default Spring Boot config the session is managed by the underlying servlet container, so its worth checking that is functioning properly. Things to check:</p>\n<ul>\n<li>Are you running more than 1 app server node? If so, ensure the session is using some sort of cluster aware config (ie Redis / JDBC), local session will fail here for sure</li>\n<li>It's worth checking the defaults with OAuth2 login in Spring Boot. eg  you could try and specify the OAuth2 session using the <code>HttpSessionOAuth2AuthorizedClientRepository</code> and a <code>SpringSessionBackedSessionRegistry</code></li>\n</ul>\n<p>Basically enable all the logs and try and observe the session states from the servlet container when the problem occurs.</p>\n<p>Getting the oauth2 session working correctly can be non-trivial, especially given there are not many good blog / docs that describe what spring boot is doing.</p>\n<p>That said, here's an example of a working Redis backed Spring Boot config with OAuth 2 login, which might be useful as a reference for you:</p>\n<p>app config:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  session:\n    store-type: redis\n    redis:\n      namespace: sample:api\n      flush-mode: immediate\n  redis:\n    host: localhost\n    port: 6379\n  security:\n    oauth2:\n      client:\n        registration:\n# add your oauth2 client details here \n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class SecurityConfig&lt;S extends Session&gt; extends WebSecurityConfigurerAdapter {\n\n    private final ClientRegistrationRepository clientRegistrationRepository;\n\n    @Autowired\n    private RedisIndexedSessionRepository redisIndexedSessionRepository;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors(Customizer.withDefaults())\n                .sessionManagement()\n                .maximumSessions(1)\n                .sessionRegistry(sessionRegistry())\n                .and()\n                .sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\n                .and()\n                .authorizeRequests(\n                        a -&gt; a.antMatchers(&quot;/api/login/callback&quot;).permitAll().anyRequest().authenticated())\n                .oauth2Login()\n                .authorizationEndpoint()\n                .authorizationRequestResolver(\n                        new DefaultOauth2AuthorizationRequestResolver(\n                                this.clientRegistrationRepository, OAuth2AuthorizationRequestRedirectFilter.DEFAULT_AUTHORIZATION_REQUEST_BASE_URI))\n                .and()\n                .defaultSuccessUrl(&quot;http://localhost:3000/users&quot;)\n                .authorizedClientRepository(authorizedClientRepository());\n    }\n\n    @Bean\n    public SpringSessionBackedSessionRegistry&lt;?&gt; sessionRegistry() {\n        return new SpringSessionBackedSessionRegistry&lt;&gt;(this.redisIndexedSessionRepository);\n    }\n\n    /**\n     * Use the servlet container session store for authorized OAuth2 Clients\n     */\n    @Bean\n    public OAuth2AuthorizedClientRepository authorizedClientRepository() {\n        return new HttpSessionOAuth2AuthorizedClientRepository();\n    }\n\n    /**\n     * specify CORS to work from SPA UI\n     */\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOriginPatterns(List.of(&quot;http://localhost:3000*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\n        configuration.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n    @Configuration\n    public static class HttpSessionEventPublisherConfig {\n\n        /**\n         * enables session expiry notification\n         *\n         * &lt;p&gt;Needs to be declared in a different class from the `SpringSessionBackedSessionRegistry` to\n         * avoid a circular dependency\n         */\n        @Bean\n        public HttpSessionEventPublisher httpSessionEventPublisher() {\n            return new HttpSessionEventPublisher();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23195436,"reputation":93,"user_id":17291147,"display_name":"MLugo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642509895,"creation_date":1642509895,"answer_id":70755813,"question_id":70555241,"body_markdown":"I found the solution, I hope this could help.\r\n\r\nThe thing that caused the problem for me was that GCP and GAE use multiple instances of the server, and if the user is logged in a certain instance \r\ndoes not mean the other instances are familiar with it too because the Spring HTTPSession is in-memory.\r\n\r\nI Switched the Session platform to use the spring-session jdbc using the following configuration in the application.properties :\r\n\r\n    spring.session.store-type=jdbc\r\n\r\n-- you can use redis instead of jdbc, as long as the session is stored in a shared place among all instances.\r\n\r\nalso added the transaction manager to the SecurtityConfig:\r\n\r\n    @Bean\r\n\tpublic PlatformTransactionManager transactionManager(DataSource dataSource) {\r\n\t\treturn new DataSourceTransactionManager(dataSource);\r\n\t}\r\n\r\n\r\nand added the following configurations :\r\n\r\n\t\thttp.csrf().disable()\r\n\t\t\t\t.sessionManagement()\r\n\t\t\t\t.maximumSessions(1)\r\n\t\t\t\t.and()\r\n\t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\r\n\r\nIn addition like @stringy05 mentioned the authrizenClient Repository needs ti be updated too:\r\n\r\n        /**\r\n     * Use the servlet container session store for authorized OAuth2 Clients\r\n     */\r\n    @Bean\r\n    public OAuth2AuthorizedClientRepository authorizedClientRepository() {\r\n        return new HttpSessionOAuth2AuthorizedClientRepository();\r\n    }\r\n\r\nand add the .authorizedClientRepository line to the httpconfig:\r\n\r\n    ....\r\n    \t\t\t\t.oauth2Login()\r\n\t\t\t\t.loginPage(&quot;/Login&quot;)\r\n\t\t\t\t.authorizedClientRepository(authorizedClientRepository)\r\n\t\t\t\t.authorizationEndpoint().and()\r\n\t\t\t\t.userInfoEndpoint()\r\n\t\t\t\t.userService(oAuth2UserService)\r\n\t\t\t\t.and()\r\n\t\t\t\t.successHandler(new OAuth2LoginSuccess())\r\n....\r\n\r\nRegarding the GAE, I added the following line to the app.yaml file:\r\n\r\n      network:\r\n        session_affinity: true","title":"Spring Boot, OAuth2 authentication is lost between requests","body":"<p>I found the solution, I hope this could help.</p>\n<p>The thing that caused the problem for me was that GCP and GAE use multiple instances of the server, and if the user is logged in a certain instance\ndoes not mean the other instances are familiar with it too because the Spring HTTPSession is in-memory.</p>\n<p>I Switched the Session platform to use the spring-session jdbc using the following configuration in the application.properties :</p>\n<pre><code>spring.session.store-type=jdbc\n</code></pre>\n<p>-- you can use redis instead of jdbc, as long as the session is stored in a shared place among all instances.</p>\n<p>also added the transaction manager to the SecurtityConfig:</p>\n<pre><code>@Bean\npublic PlatformTransactionManager transactionManager(DataSource dataSource) {\n    return new DataSourceTransactionManager(dataSource);\n}\n</code></pre>\n<p>and added the following configurations :</p>\n<pre><code>    http.csrf().disable()\n            .sessionManagement()\n            .maximumSessions(1)\n            .and()\n            .sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\n</code></pre>\n<p>In addition like @stringy05 mentioned the authrizenClient Repository needs ti be updated too:</p>\n<pre><code>    /**\n * Use the servlet container session store for authorized OAuth2 Clients\n */\n@Bean\npublic OAuth2AuthorizedClientRepository authorizedClientRepository() {\n    return new HttpSessionOAuth2AuthorizedClientRepository();\n}\n</code></pre>\n<p>and add the .authorizedClientRepository line to the httpconfig:</p>\n<pre><code>....\n                .oauth2Login()\n            .loginPage(&quot;/Login&quot;)\n            .authorizedClientRepository(authorizedClientRepository)\n            .authorizationEndpoint().and()\n            .userInfoEndpoint()\n            .userService(oAuth2UserService)\n            .and()\n            .successHandler(new OAuth2LoginSuccess())\n</code></pre>\n<p>....</p>\n<p>Regarding the GAE, I added the following line to the app.yaml file:</p>\n<pre><code>  network:\n    session_affinity: true\n</code></pre>\n"}],"owner":{"account_id":23195436,"reputation":93,"user_id":17291147,"display_name":"MLugo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1616,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70755813,"answer_count":2,"score":6,"last_activity_date":1642509895,"creation_date":1641119401,"question_id":70555241,"body_markdown":"\r\nEDIT:\r\n\r\nlog from org.springframework.security:\r\n\r\n    2022-01-17 12:31:03.495 IST\r\n    2022-01-17 10:31:03.495 DEBUG [080-exec-5] o.s.s.w.s.SessionManagementFilter - Request requested invalid session id D5F8BA31A3D7466AK3K3C8EA26A4F037\r\n    Default\r\n    \r\n    2022-01-17 12:31:03.495 IST\r\n    2022-01-17 10:31:03.495 DEBUG [080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\r\n    Debug\r\n    \r\n    2022-01-17 12:31:03.495 IST\r\n    &quot;Request requested invalid session id D5F8BA31A3D7466AK3K3C8EA26A4F037&quot;\r\n    Debug\r\n    \r\n    2022-01-17 12:31:03.495 IST\r\n    &quot;Set SecurityContextHolder to anonymous SecurityContext&quot;\r\n    Default\r\n    \r\n    2022-01-17 12:31:03.494 IST\r\n    2022-01-17 10:31:03.494 DEBUG [080-exec-5] o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext\r\n    Debug\r\n    \r\n    2022-01-17 12:31:03.494 IST\r\n    &quot;Set SecurityContextHolder to empty SecurityContext&quot;\r\n    Default\r\n    \r\n    2022-01-17 12:31:03.493 IST\r\n    2022-01-17 10:31:03.493 DEBUG [080-exec-5] o.s.security.web.FilterChainProxy - Securing GET /logo192.png\r\n    Debug\r\n    \r\n    2022-01-17 12:31:03.493 IST\r\n    &quot;Securing GET /logo192.png&quot;\r\n\r\n*****But if I look in the logs some requests after I can get the valid auth:**\r\n\r\nDebug\r\n2022-01-17 12:31:03.945 IST\r\n&quot;Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=com.***.security.oauth.CustomOAuth2User@***, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=***, SessionId=9438C880A19C93AADJI206B9B8B3386], Granted Authorities=[ROLE_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]]&quot;\r\nDebug\r\n\r\n2022-01-17 12:31:03.945 IST\r\n&quot;Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=com.***.security.oauth.CustomOAuth2User@***, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=***, SessionId=9438C880A19C93AADJI206B9B8B3386], Granted Authorities=[ROLE_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]]&quot;\r\nDebug\r\n\r\n2022-01-17 12:31:03.945 IST\r\n&quot;Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=com.***.security.oauth.CustomOAuth2User@***, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=***, SessionId=9438C880A19C93AADJI206B9B8B3386], Granted Authorities=[ROLE_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]]&quot;\r\nDefault\r\n\r\n2022-01-17 12:31:03.944 IST\r\n2022-01-17 10:31:03.944 DEBUG [080-exec-8] o.s.security.web.FilterChainProxy - Securing GET /auth/api/getBasicInfo\r\n\r\nit looks like the session id is inconsistent \r\n\r\n---------\r\n\r\nI use spring security builtin oauth2 social login option,\r\nI implemented an OAuth2LoginSuccess class with the onAuthenticationSuccess method and inside of it I fetch the user the corresponds to the social id I got from the oauth:\r\n\r\n    CustomOAuth2User oAuth2User = (CustomOAuth2User) authentication.getPrincipal();\r\n    int sociald = oAuth2User.getAttribute(&quot;id&quot;);\r\n    User user = usersUtils.getUserBySocailId(socialId);\r\n    enter code here\r\n    // add the user details to the Auth\r\n    SecurityContextHolder.clearContext();\r\n    ((OAuth2AuthenticationToken) authentication).setDetails(user);\r\n    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\nIf I debug inside the onAuthenticationSuccess I can see a valid auth with all the user details.\r\n\r\nafter the login I redirect to the home page and i send a auth get request to the server to check if there is a user logged in.\r\n\r\nthe problem is that 50% of the times the request is completed successfuly and the user can make authenticated requets.\r\n\r\nbut the other 50% i get redirected automaticly to Login page and when i check the log is see that Spring boot says that the user is unauthenticated and the auth is lost.\r\n\r\nBut in the onAuthenticationSuccess i can always see the correct auth.\r\n\r\nMy ApplicationSecurityConfig looks like this:\r\n \r\n\r\n        http.csrf().disable().authorizeRequests()\r\n                .antMatchers(&quot;/login*&quot;, &quot;/signin/**&quot;, &quot;/signup/**&quot;, &quot;/oauth2/**&quot;).permitAll()\r\n                .antMatchers(Constants.ADMIN_PREFIX + &quot;/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .antMatchers(Constants.AUTH_PREFIX + &quot;/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;USER&quot;)\r\n                .antMatchers(Constants.PUBLIC_PREFIX + &quot;/**&quot;).permitAll()\r\n                .anyRequest().permitAll()\r\n                .and()\r\n                .exceptionHandling().authenticationEntryPoint(new UnauthenticatedRequestHandler())\r\n                .and()\r\n                .formLogin()\r\n                .passwordParameter(&quot;password&quot;)\r\n                .usernameParameter(&quot;email&quot;)\r\n                .loginPage(&quot;/Login&quot;)\r\n                .loginProcessingUrl(&quot;/loginSecure&quot;).permitAll().successHandler(new LoginSuccess()).failureHandler(new FailureSuccess())\r\n                .and()\r\n                .oauth2Login()\r\n                .loginPage(&quot;/Login&quot;)\r\n                .userInfoEndpoint()\r\n                .userService(oAuth2UserService)\r\n                .and()\r\n                .successHandler(new OAuth2LoginSuccess())\r\n                .and()\r\n                .rememberMe()\r\n                .rememberMeParameter(&quot;remember-me&quot;)\r\n                .tokenValiditySeconds((int) TimeUnit.DAYS.toSeconds(21))\r\n    .userDetailsService(this.applicationUserService)\r\n                .and()\r\n                .logout()\r\n             .clearAuthentication(true).invalidateHttpSession(true).logoutSuccessUrl(&quot;/login&quot;)\r\n                .addLogoutHandler(new CustomLogOutHandler());\r\n\r\nAnd this is the function i check if the user is logged in:\r\n\r\n\r\n                        \r\n       @GetMapping(Constants.AUTH_PREFIX + &quot;/checkUserLogged&quot;)\r\n    public Integer checkUserLogged(Authentication authentication,HttpServletRequest request) {\r\n        try{\r\n            if (authentication != null) {\r\n                User (User) authentication.getDetails();\r\n                if (user == null) {\r\n                    return -1;\r\n                }\r\n                return user.getId();\r\n            }\r\n        }\r\n        catch (Exception e){\r\n            logger.warning(e.getLocalizedMessage());\r\n        }\r\n        return -1;\r\n    }\r\n\r\nbut when the problem occur it dosen&#39;t get to run the controller because spring security return unauthrozed error before.\r\n\r\nThank you in advance for your help\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot, OAuth2 authentication is lost between requests","body":"<p>EDIT:</p>\n<p>log from org.springframework.security:</p>\n<pre><code>2022-01-17 12:31:03.495 IST\n2022-01-17 10:31:03.495 DEBUG [080-exec-5] o.s.s.w.s.SessionManagementFilter - Request requested invalid session id D5F8BA31A3D7466AK3K3C8EA26A4F037\nDefault\n\n2022-01-17 12:31:03.495 IST\n2022-01-17 10:31:03.495 DEBUG [080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\nDebug\n\n2022-01-17 12:31:03.495 IST\n&quot;Request requested invalid session id D5F8BA31A3D7466AK3K3C8EA26A4F037&quot;\nDebug\n\n2022-01-17 12:31:03.495 IST\n&quot;Set SecurityContextHolder to anonymous SecurityContext&quot;\nDefault\n\n2022-01-17 12:31:03.494 IST\n2022-01-17 10:31:03.494 DEBUG [080-exec-5] o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext\nDebug\n\n2022-01-17 12:31:03.494 IST\n&quot;Set SecurityContextHolder to empty SecurityContext&quot;\nDefault\n\n2022-01-17 12:31:03.493 IST\n2022-01-17 10:31:03.493 DEBUG [080-exec-5] o.s.security.web.FilterChainProxy - Securing GET /logo192.png\nDebug\n\n2022-01-17 12:31:03.493 IST\n&quot;Securing GET /logo192.png&quot;\n</code></pre>\n<p>***<strong>But if I look in the logs some requests after I can get the valid auth:</strong></p>\n<p>Debug\n2022-01-17 12:31:03.945 IST\n&quot;Set SecurityContextHolder to SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=com.<em><strong>.security.oauth.CustomOAuth2User@</strong></em>, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=***, SessionId=9438C880A19C93AADJI206B9B8B3386], Granted Authorities=[ROLE_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]]&quot;\nDebug</p>\n<p>2022-01-17 12:31:03.945 IST\n&quot;Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=com.<em><strong>.security.oauth.CustomOAuth2User@</strong></em>, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=***, SessionId=9438C880A19C93AADJI206B9B8B3386], Granted Authorities=[ROLE_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]]&quot;\nDebug</p>\n<p>2022-01-17 12:31:03.945 IST\n&quot;Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=com.<em><strong>.security.oauth.CustomOAuth2User@</strong></em>, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=***, SessionId=9438C880A19C93AADJI206B9B8B3386], Granted Authorities=[ROLE_USER, SCOPE_https://www.googleapis.com/auth/userinfo.email, SCOPE_https://www.googleapis.com/auth/userinfo.profile, SCOPE_openid]]]&quot;\nDefault</p>\n<p>2022-01-17 12:31:03.944 IST\n2022-01-17 10:31:03.944 DEBUG [080-exec-8] o.s.security.web.FilterChainProxy - Securing GET /auth/api/getBasicInfo</p>\n<p>it looks like the session id is inconsistent</p>\n<hr />\n<p>I use spring security builtin oauth2 social login option,\nI implemented an OAuth2LoginSuccess class with the onAuthenticationSuccess method and inside of it I fetch the user the corresponds to the social id I got from the oauth:</p>\n<pre><code>CustomOAuth2User oAuth2User = (CustomOAuth2User) authentication.getPrincipal();\nint sociald = oAuth2User.getAttribute(&quot;id&quot;);\nUser user = usersUtils.getUserBySocailId(socialId);\nenter code here\n// add the user details to the Auth\nSecurityContextHolder.clearContext();\n((OAuth2AuthenticationToken) authentication).setDetails(user);\nSecurityContextHolder.getContext().setAuthentication(authentication);\n</code></pre>\n<p>If I debug inside the onAuthenticationSuccess I can see a valid auth with all the user details.</p>\n<p>after the login I redirect to the home page and i send a auth get request to the server to check if there is a user logged in.</p>\n<p>the problem is that 50% of the times the request is completed successfuly and the user can make authenticated requets.</p>\n<p>but the other 50% i get redirected automaticly to Login page and when i check the log is see that Spring boot says that the user is unauthenticated and the auth is lost.</p>\n<p>But in the onAuthenticationSuccess i can always see the correct auth.</p>\n<p>My ApplicationSecurityConfig looks like this:</p>\n<pre><code>    http.csrf().disable().authorizeRequests()\n            .antMatchers(&quot;/login*&quot;, &quot;/signin/**&quot;, &quot;/signup/**&quot;, &quot;/oauth2/**&quot;).permitAll()\n            .antMatchers(Constants.ADMIN_PREFIX + &quot;/**&quot;).hasRole(&quot;ADMIN&quot;)\n            .antMatchers(Constants.AUTH_PREFIX + &quot;/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;USER&quot;)\n            .antMatchers(Constants.PUBLIC_PREFIX + &quot;/**&quot;).permitAll()\n            .anyRequest().permitAll()\n            .and()\n            .exceptionHandling().authenticationEntryPoint(new UnauthenticatedRequestHandler())\n            .and()\n            .formLogin()\n            .passwordParameter(&quot;password&quot;)\n            .usernameParameter(&quot;email&quot;)\n            .loginPage(&quot;/Login&quot;)\n            .loginProcessingUrl(&quot;/loginSecure&quot;).permitAll().successHandler(new LoginSuccess()).failureHandler(new FailureSuccess())\n            .and()\n            .oauth2Login()\n            .loginPage(&quot;/Login&quot;)\n            .userInfoEndpoint()\n            .userService(oAuth2UserService)\n            .and()\n            .successHandler(new OAuth2LoginSuccess())\n            .and()\n            .rememberMe()\n            .rememberMeParameter(&quot;remember-me&quot;)\n            .tokenValiditySeconds((int) TimeUnit.DAYS.toSeconds(21))\n.userDetailsService(this.applicationUserService)\n            .and()\n            .logout()\n         .clearAuthentication(true).invalidateHttpSession(true).logoutSuccessUrl(&quot;/login&quot;)\n            .addLogoutHandler(new CustomLogOutHandler());\n</code></pre>\n<p>And this is the function i check if the user is logged in:</p>\n<pre><code>   @GetMapping(Constants.AUTH_PREFIX + &quot;/checkUserLogged&quot;)\npublic Integer checkUserLogged(Authentication authentication,HttpServletRequest request) {\n    try{\n        if (authentication != null) {\n            User (User) authentication.getDetails();\n            if (user == null) {\n                return -1;\n            }\n            return user.getId();\n        }\n    }\n    catch (Exception e){\n        logger.warning(e.getLocalizedMessage());\n    }\n    return -1;\n}\n</code></pre>\n<p>but when the problem occur it dosen't get to run the controller because spring security return unauthrozed error before.</p>\n<p>Thank you in advance for your help</p>\n"},{"tags":["java","scala","apache-spark","parquet"],"answers":[{"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642509389,"creation_date":1642509389,"answer_id":70755695,"question_id":70752595,"body_markdown":"I found out the answer.\r\nThe problem isn&#39;t the parquet file itself, but the fact that these statements:\r\n\r\n```scala\r\nval communes = spark.read.parquet(&quot;/data/tmp/communes_par_codeCommune_2021&quot;)\r\ncommunes.printSchema()\r\n```\r\n\r\neven if they are displaying the good dataset schema, don&#39;t take this schema _really_ into account, and try somewhat to infer it from data, while reading, as long as possible (?!),  \r\ntherefore, considering my `codeDepartement` field as numeric until stumbling upon the values `2A` and `2B` forcing it to switch its field type to string.\r\n\r\nI wonder why is parquet file loading working that way. And if my explanation is the good one.\r\n\r\nBut the correct way to ensure the schema of the parquet file is taken into account is to explicitly ask to extract it first from that parquet file, and then ask the load function to use it:\r\n\r\n```scala\r\nval parquetFile = &quot;/data/tmp/communes_par_codeCommune_2021&quot;;\r\nval schema = spark.read.parquet(parquetFile).schema;\r\nval communes = spark.read.schema(schema).parquet(parquetFile);\r\n```\r\n\r\nand then the behavior of parquet file reading becomes normal:\r\n\r\n```\r\n+---------------+\r\n|codeDepartement|\r\n+---------------+\r\n|             01|\r\n|             02|\r\n|             03|\r\n|             04|\r\n|             05|\r\n|             06|\r\n```\r\n\r\nMaybe there&#39;s a simpler way to achieve that, if you know it, I am happy to learn it because this is a bit burdensome.","title":"A parquet file of a dataset having a String field containing leading zeroes returns that field without leading zeroes, if it is paritionned by it","body":"<p>I found out the answer.\nThe problem isn't the parquet file itself, but the fact that these statements:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val communes = spark.read.parquet(&quot;/data/tmp/communes_par_codeCommune_2021&quot;)\ncommunes.printSchema()\n</code></pre>\n<p>even if they are displaying the good dataset schema, don't take this schema <em>really</em> into account, and try somewhat to infer it from data, while reading, as long as possible (?!),<br />\ntherefore, considering my <code>codeDepartement</code> field as numeric until stumbling upon the values <code>2A</code> and <code>2B</code> forcing it to switch its field type to string.</p>\n<p>I wonder why is parquet file loading working that way. And if my explanation is the good one.</p>\n<p>But the correct way to ensure the schema of the parquet file is taken into account is to explicitly ask to extract it first from that parquet file, and then ask the load function to use it:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val parquetFile = &quot;/data/tmp/communes_par_codeCommune_2021&quot;;\nval schema = spark.read.parquet(parquetFile).schema;\nval communes = spark.read.schema(schema).parquet(parquetFile);\n</code></pre>\n<p>and then the behavior of parquet file reading becomes normal:</p>\n<pre><code>+---------------+\n|codeDepartement|\n+---------------+\n|             01|\n|             02|\n|             03|\n|             04|\n|             05|\n|             06|\n</code></pre>\n<p>Maybe there's a simpler way to achieve that, if you know it, I am happy to learn it because this is a bit burdensome.</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70755695,"answer_count":1,"score":0,"last_activity_date":1642509389,"creation_date":1642495400,"question_id":70752595,"body_markdown":"I have a `Dataset` gathering informations about French cities, \r\n\r\n```java\r\n/**\r\n* Obtenir un Dataset des communes.\r\n* @param session Session Spark.\r\n* @param anneeCOG Ann&#233;e du Code Officiel G&#233;ographique de r&#233;f&#233;rence.\r\n* @param verifications V&#233;rifications demand&#233;es.\r\n* @return Dataset des communes.\r\n* @throws TechniqueException si un incident survient.\r\n*/\r\npublic Dataset&lt;Row&gt; rowCommunes(SparkSession session, int anneeCOG, Verification... verifications) throws TechniqueException {\r\n  String nomStore = &quot;communes_par_codeCommune&quot;;\r\n  \r\n  Dataset&lt;Row&gt; communes = loadFromStore(session, &quot;{0}_{1,number,#0}&quot;, nomStore, anneeCOG, verifications);\r\n  \r\n  if (communes != null) {\r\n\t return communes;\r\n  }\r\n\r\n  LOGGER.info(&quot;Constitution du dataset des communes depuis pour le Code Officiel G&#233;ographique (COG) de l&#39;ann&#233;e {}...&quot;, anneeCOG);\r\n  \r\n  Dataset&lt;Row&gt; c = loadAndRenameCommmunesCSV(session, anneeCOG, false, verifications);\r\n  LOGGER.info(&quot;X01&quot;);\r\n  c.printSchema();\r\n  c.show(false);\r\n\r\n  Dataset&lt;Row&gt; s = this.datasetSirenCommunaux.rowSirenCommunes(session, anneeCOG, TriSirenCommunaux.CODE_COMMUNE);\r\n  LOGGER.info(&quot;X02&quot;);\r\n  s.printSchema();\r\n  s.show(false);\r\n\r\n  Column condition1 = c.col(&quot;codeCommune&quot;).equalTo(s.col(&quot;codeCommune&quot;));\r\n  Column condition2 = c.col(&quot;codeCommuneParente&quot;).equalTo(s.col(&quot;codeCommune&quot;));\r\n  \r\n  verifications(&quot;jonction communes et siren par codeCommune&quot;, c, null, s, condition1, verifications, SHOW_REJETS, COMPTAGES_ET_STATISTIQUES);\r\n  Dataset&lt;Row&gt; join1 = c.join(s, condition1)\r\n\t .drop(s.col(&quot;codeCommune&quot;))\r\n\t .drop(s.col(&quot;nomCommune&quot;))\r\n\t .drop(s.col(&quot;codeRegion&quot;))\r\n\t .drop(s.col(&quot;codeDepartement&quot;));\r\n\r\n  verifications(&quot;jonction communes et siren par codeCommune, join1&quot;, c, null, null, null, verifications);\r\n  \r\n  verifications(&quot;jonction communes et siren par codeCommuneParente&quot;, c, null, s, condition2, verifications, SHOW_REJETS, COMPTAGES_ET_STATISTIQUES);\r\n  Dataset&lt;Row&gt; join2 = c.join(s, condition2)\r\n\t .drop(s.col(&quot;codeCommune&quot;))\r\n\t .drop(s.col(&quot;nomCommune&quot;))\r\n\t .drop(s.col(&quot;codeRegion&quot;))\r\n\t .drop(s.col(&quot;codeDepartement&quot;));\r\n\r\n  verifications(&quot;jonction communes et siren par codeCommuneParente, join2&quot;, c, null, null, null, verifications);\r\n  \r\n  communes = join1.union(join2);\r\n  LOGGER.info(&quot;X03&quot;);\r\n  communes.printSchema();\r\n  communes.show(false);\r\n  \r\n  // La strate communale doit concorder avec celle des comptes individuels des communes.\r\n  communes = communes.withColumn(&quot;strateCommune&quot;, \r\n\t when(s.col(&quot;populationTotale&quot;).between(0, 249), lit(1))       // communes de moins de 250 hab\r\n\t .when(s.col(&quot;populationTotale&quot;).between(250, 499), lit(2))     // communes de 250 &#224; 500 hab\r\n\t .when(s.col(&quot;populationTotale&quot;).between(500, 1999), lit(3))    // communes de 500 &#224; 2 000 hab\r\n\t .when(s.col(&quot;populationTotale&quot;).between(2000, 3499), lit(4))   // communes de 2 000 &#224; 3 500 hab\r\n\t .when(s.col(&quot;populationTotale&quot;).between(3500, 4999), lit(5))   // communes de 3 500 &#224; 5 000 hab\r\n\t .when(s.col(&quot;populationTotale&quot;).between(5000, 9999), lit(6))   // communes de 5 000 &#224; 10 000 hab\r\n\t .when(s.col(&quot;populationTotale&quot;).between(10000, 19999), lit(7)) // communes de 10 000 &#224; 20 000 hab\r\n\t .when(s.col(&quot;populationTotale&quot;).between(20000, 49999), lit(8)) // communes de 20 000 &#224; 50 000 hab\r\n\t .when(s.col(&quot;populationTotale&quot;).between(50000, 99999), lit(9)) // communes de 50 000 &#224; 100 000 hab\r\n\t .otherwise(lit(10)));                                          // communes de plus de 100 000 hab\r\n\r\n  // Obtenir les contours des communes.\r\n  // &quot;(requ&#234;te SQL) contours&quot; est la forme de substitution pour Spark. cf https://stackoverflow.com/questions/38376307/create-spark-dataframe-from-sql-query\r\n  String format = &quot;(select insee as codecommuneosm, nom as nomcommuneosm, surf_ha as surface2, st_x(st_centroid(geom)) as longitude, st_y(st_centroid(geom)) as latitude from communes_{0,number,#0}) contours&quot;;\r\n  String sql = MessageFormat.format(format, anneeCOG);\r\n  \r\n  Dataset&lt;Row&gt; contours = sql(session, sql).load();\r\n  contours = contours.withColumn(&quot;surface&quot;, col(&quot;surface2&quot;).cast(DoubleType)).drop(col(&quot;surface2&quot;))\r\n\t .orderBy(&quot;codecommuneosm&quot;);\r\n  \r\n  Column conditionJoinContours = col(&quot;codeCommune&quot;).equalTo(col(&quot;codecommuneosm&quot;));\r\n  \r\n  verifications(&quot;jonction communes et contours communaux OSM (centro&#239;de, surface)&quot;, communes, null, contours, conditionJoinContours, verifications, SHOW_REJETS, COMPTAGES_ET_STATISTIQUES);\r\n  communes = communes.join(contours, conditionJoinContours, &quot;left_outer&quot;)\r\n\t .drop(col(&quot;codecommuneosm&quot;)).drop(col(&quot;nomcommuneosm&quot;));\r\n  verifications(&quot;jonction communes et contours communaux OSM (centro&#239;de, surface)&quot;, communes, null, null, null, verifications);\r\n\r\n  LOGGER.info(&quot;X04&quot;);\r\n  communes.printSchema();\r\n  communes.show(false);\r\n\r\n  // Associer &#224; chaque commune son code intercommunalit&#233;, si elle en a un (les communes-communaut&#233;s peuvent ne pas en avoir).\r\n  Dataset&lt;Row&gt; perimetres = this.datasetPerimetres.rowPerimetres(session, anneeCOG, EPCIPerimetreDataset.TriPerimetresEPCI.CODE_COMMUNE_MEMBRE).selectExpr(&quot;sirenCommuneMembre&quot;, &quot;sirenGroupement as codeEPCI&quot;, &quot;nomGroupement as nomEPCI&quot;);\r\n  Column conditionJoinPerimetres = communes.col(&quot;sirenCommune&quot;).equalTo(perimetres.col(&quot;sirenCommuneMembre&quot;));\r\n\r\n  verifications(&quot;jonction communes et p&#233;rim&#232;tres&quot;, communes, null, perimetres, conditionJoinPerimetres, verifications, SHOW_REJETS, COMPTAGES_ET_STATISTIQUES);\r\n  communes = communes.join(perimetres, conditionJoinPerimetres, &quot;left&quot;);\r\n\r\n  LOGGER.info(&quot;X05&quot;);\r\n  communes.printSchema();\r\n  communes.show(false);\r\n\r\n  // Y associer les d&#233;partements.\r\n  communes = this.datasetDepartements.withDepartement(session, &quot;codeDepartementRetabli&quot;, communes, &quot;codeDepartement&quot;, null, true, anneeCOG)\r\n\t .drop(&quot;codeRegionDepartement&quot;);\r\n\r\n  LOGGER.info(&quot;X06&quot;);\r\n  communes.printSchema();\r\n  communes.show(false);\r\n\r\n  //communes = communes.repartition(col(&quot;codeDepartement&quot;));\r\n  communes = communes.sortWithinPartitions(col(&quot;codeCommune&quot;));\r\n  communes = communes.persist(); // Important : am&#233;liore les performances.\r\n\r\n  LOGGER.info(&quot;X07&quot;);\r\n  communes.printSchema();\r\n  communes.show(false);\r\n\r\n  saveToStore(communes, new String[] {/*&quot;codeDepartement&quot;*/}, &quot;{0}_{1,number,#0}&quot;, nomStore, anneeCOG);\r\n  LOGGER.info(&quot;Le dataset des communes du Code Officiel G&#233;ographique de l&#39;ann&#233;e {} est pr&#234;t et stock&#233;.&quot;, anneeCOG);\r\n\r\n  return communes;\r\n}\r\n```\r\n\r\nand the field that is troubling me is the department one (`CodeDepartement`).\r\n\r\nWhen the Dataset isn&#39;t partitioned by this String field codeDepartement: everything is working well\r\n\r\n------------------------------------------------------------------------\r\n\r\nWhen that function runs, if I don&#39;t attempt to partition the dataset (the required statements for partitioning are commented here), everything goes fine:\r\n\r\nThe content displayed on the console is this one:\r\n\r\n```\r\n2022-01-18 08:47:50.995  INFO 25913 --- [nio-9090-exec-1] f.e.spark.dataset.cog.CogDataset         : X07\r\nroot\r\n |-- typeCommune: string (nullable = true)\r\n |-- codeCommune: string (nullable = true)\r\n |-- codeRegion: string (nullable = true)\r\n |-- codeDepartement: string (nullable = true)\r\n |-- CTCD: string (nullable = true)\r\n |-- arrondissement: string (nullable = true)\r\n |-- typeNomEtCharniere: string (nullable = true)\r\n |-- nomMajuscules: string (nullable = true)\r\n |-- nomCommune: string (nullable = true)\r\n |-- LIBELLE: string (nullable = true)\r\n |-- codeCanton: string (nullable = true)\r\n |-- codeCommuneParente: string (nullable = true)\r\n |-- sirenCommune: string (nullable = true)\r\n |-- populationTotale: integer (nullable = true)\r\n |-- populationMunicipale: integer (nullable = true)\r\n |-- populationCompteApart: integer (nullable = true)\r\n |-- strateCommune: integer (nullable = false)\r\n |-- longitude: double (nullable = true)\r\n |-- latitude: double (nullable = true)\r\n |-- surface: double (nullable = true)\r\n |-- sirenCommuneMembre: string (nullable = true)\r\n |-- codeEPCI: string (nullable = true)\r\n |-- nomEPCI: string (nullable = true)\r\n |-- codeDepartementRetabli: string (nullable = true)\r\n |-- codeCommuneChefLieuDepartement: string (nullable = true)\r\n |-- typeNomEtCharniereDepartement: string (nullable = true)\r\n |-- nomMajusculesDepartement: string (nullable = true)\r\n |-- nomDepartement: string (nullable = true)\r\n |-- libelleDepartement: string (nullable = true)\r\n\r\n+-----------+-----------+----------+---------------+----+--------------+------------------+-------------------------+-------------------------+-------------------------+----------+------------------+------------+----------------+--------------------+---------------------+-------------+------------------+------------------+-------+------------------+---------+---------------------------------------+----------------------+------------------------------+-----------------------------+------------------------+-----------------------+-----------------------+\r\n|typeCommune|codeCommune|codeRegion|codeDepartement|CTCD|arrondissement|typeNomEtCharniere|nomMajuscules            |nomCommune               |LIBELLE                  |codeCanton|codeCommuneParente|sirenCommune|populationTotale|populationMunicipale|populationCompteApart|strateCommune|longitude         |latitude          |surface|sirenCommuneMembre|codeEPCI |nomEPCI                                |codeDepartementRetabli|codeCommuneChefLieuDepartement|typeNomEtCharniereDepartement|nomMajusculesDepartement|nomDepartement         |libelleDepartement     |\r\n+-----------+-----------+----------+---------------+----+--------------+------------------+-------------------------+-------------------------+-------------------------+----------+------------------+------------+----------------+--------------------+---------------------+-------------+------------------+------------------+-------+------------------+---------+---------------------------------------+----------------------+------------------------------+-----------------------------+------------------------+-----------------------+-----------------------+\r\n|COM        |02053      |32        |02             |02D |021           |0                 |VALLEES EN CHAMPAGNE     |Vall&#233;es en Champagne     |Vall&#233;es en Champagne     |0204      |null              |200056307   |576             |570                 |6                    |3            |3.616431731194736 |49.007989478704616|4168.0 |200056307         |200072031|CA de la R&#233;gion de Ch&#226;teau-Thierry     |02                    |02408                         |5                            |AISNE                   |Aisne                  |Aisne                  |\r\n|COM        |02057      |32        |02             |02D |023           |0                 |BEAUREVOIR               |Beaurevoir               |Beaurevoir               |0201      |null              |210200564   |1433            |1415                |18                   |3            |3.330083095945232 |49.996641228776475|2180.0 |210200564         |240200493|CC du Pays du Vermandois               |02                    |02408                         |5                            |AISNE                   |Aisne                  |Aisne                  |\r\n|COM        |02070      |32        |02             |02D |025           |0                 |BERNOT                   |Bernot                   |Bernot                   |0207      |null              |210200697   |461             |448                 |13                   |2            |3.4866867514904327|49.87884521170864 |1672.0 |210200697         |200071983|CC Thi&#233;rache Sambre et Oise            |02                    |02408                         |5                            |AISNE                   |Aisne                  |Aisne                  |\r\n|COM        |02090      |32        |02             |02D |024           |0                 |BILLY SUR OURCQ          |Billy-sur-Ourcq          |Billy-sur-Ourcq          |0221      |null              |210200887   |220             |210                 |10                   |1            |3.2992043452730138|49.22146881666656 |1021.0 |210200887         |240200519|CC du Canton d&#39;Oulchy le Ch&#226;teau       |02                    |02408                         |5                            |AISNE                   |Aisne                  |Aisne                  |\r\n|COM        |02291      |32        |02             |02D |023           |1                 |ESTREES                  |Estr&#233;es                  |Estr&#233;es                  |0201      |null              |210202743   |419             |411                 |8                    |2            |3.2807599426576335|49.97077968837569 |704.0  |210202743         |240200493|CC du Pays du Vermandois               |02                    |02408                         |5                            |AISNE                   |Aisne                  |Aisne                  |\r\n|COM        |02527      |32        |02             |02D |024           |0                 |MORSAIN                  |Morsain                  |Morsain                  |0220      |null              |210205043   |464             |455                 |9                    |2            |3.1908402513250707|49.46152187457162 |1434.0 |210205043         |200071991|CC Retz en Valois                      |02                    |02408                         |5                            |AISNE                   |Aisne                  |Aisne                  |\r\n|COM        |03098      |84        |03             |03D |031           |0                 |DESERTINES               |D&#233;sertines               |D&#233;sertines               |0310      |null              |210300984   |4519            |4432                |87                   |5            |2.627485866618113 |46.357035806459585|827.0  |210300984         |200071082|CA Montlu&#231;on Communaut&#233;                |03                    |03190                         |5                            |ALLIER                  |Allier                 |Allier                 |\r\n|COM        |04138      |93        |04             |04D |044           |0                 |NIOZELLES                |Niozelles                |Niozelles                |0406      |null              |210401386   |284             |278                 |6                    |2            |5.847058475050684 |43.931981561717315|1061.0 |210401386         |240400440|CC Pays Forcalquier et Montagne de Lure|04                    |04070                         |4                            |ALPES DE HAUTE PROVENCE |Alpes-de-Haute-Provence|Alpes-de-Haute-Provence|\r\n|COM        |05107      |93        |05             |05D |051           |0                 |PUY SAINT ANDRE          |Puy-Saint-Andr&#233;          |Puy-Saint-Andr&#233;          |0502      |null              |210501078   |480             |457                 |23                   |2            |6.566597158877383 |44.891314199898126|1530.0 |210501078         |240500439|CC du Brian&#231;onnais                     |05                    |05061                         |4                            |HAUTES ALPES            |Hautes-Alpes           |Hautes-Alpes           |\r\n|COM        |05163      |93        |05             |05D |052           |2                 |SAUZE DU LAC             |Sauze-du-Lac             |Le Sauze-du-Lac          |0504      |null              |210501631   |149             |145                 |4                    |1            |6.323608116359499 |44.48601132516764 |1223.0 |210501631         |200067742|CC Serre-Pon&#231;on                        |05                    |05061                         |4                            |HAUTES ALPES            |Hautes-Alpes           |Hautes-Alpes           |\r\n|COM        |05176      |93        |05             |05D |052           |0                 |VALSERRES                |Valserres                |Valserres                |0514      |null              |210501763   |271             |267                 |4                    |2            |6.1382720630480465|44.48971119562803 |1123.0 |210501763         |200067320|CC Serre-Pon&#231;on Val d&#39;Avance           |05                    |05061                         |4                            |HAUTES ALPES            |Hautes-Alpes           |Hautes-Alpes           |\r\n|COM        |07038      |84        |07             |07D |071           |0                 |BORNE                    |Borne                    |Borne                    |0713      |null              |210700381   |49              |49                  |0                    |1            |4.041460041609979 |44.61694459940681 |3199.0 |210700381         |200072007|CC de la Montagne d&#39;Ard&#232;che            |07                    |07186                         |5                            |ARDECHE                 |Ard&#232;che                |Ard&#232;che                |\r\n|COM        |09120      |76        |09             |09D |093           |0                 |FABAS                    |Fabas                    |Fabas                    |0911      |null              |210901203   |356             |352                 |4                    |2            |1.1143034959106055|43.11978973617488 |2327.0 |210901203         |200067940|CC Couserans-Pyr&#233;n&#233;es                  |09                    |09122                         |5                            |ARIEGE                  |Ari&#232;ge                 |Ari&#232;ge                 |\r\n|COM        |09231      |76        |09             |09D |093           |2                 |PORT                     |Port                     |Le Port                  |0903      |null              |210902318   |160             |159                 |1                    |1            |1.3862330079391603|42.83569938864616 |5016.0 |210902318         |200067940|CC Couserans-Pyr&#233;n&#233;es                  |09                    |09122                         |5                            |ARIEGE                  |Ari&#232;ge                 |Ari&#232;ge                 |\r\n|COM        |09276      |76        |09             |09D |092           |0                 |SAINT VICTOR ROUZAUD     |Saint-Victor-Rouzaud     |Saint-Victor-Rouzaud     |0907      |null              |210902763   |232             |222                 |10                   |1            |1.5478697013903504|43.087886607776255|1270.0 |210902763         |200066231|CC des Portes d&#39;Ari&#232;ge Pyr&#233;n&#233;es        |09                    |09122                         |5                            |ARIEGE                  |Ari&#232;ge                 |Ari&#232;ge                 |\r\n+-----------+-----------+----------+---------------+----+--------------+------------------+-------------------------+-------------------------+-------------------------+----------+------------------+------------+----------------+--------------------+---------------------+-------------+------------------+------------------+-------+------------------+---------+---------------------------------------+----------------------+------------------------------+-----------------------------+------------------------+-----------------------+-----------------------+\r\n```\r\n\r\nThe sub functions `saveToStore` are called, they are just doing this:\r\n\r\n```java\r\nprotected boolean saveToStore(Dataset&lt;Row&gt; ds, String[] colonnesPartionnement, String format, Object... args) {\r\n   return saveToStore(this.tempDir, isCacheUtilise(), ds, colonnesPartionnement, format, args);\r\n}\r\n\r\npublic static boolean saveToStore(String tempDir, boolean useCache, Dataset&lt;Row&gt; ds, String[] colonnesPartionnement, String format, Object... args) {\r\n   if (useCache &amp;&amp; ds.isEmpty() == false) {\r\n      String store = tempDir + &quot;/&quot; + MessageFormat.format(format, args);\r\n      ds.write().partitionBy(colonnesPartionnement).parquet(store);\r\n         \r\n      LOGGER.info(&quot;Un dataset a &#233;t&#233; sauvegard&#233; dans le fichier parquet {}.&quot;, store);\r\n      return true;\r\n   }\r\n      \r\n   if (useCache == false) {\r\n      LOGGER.debug(&quot;Le cache est d&#233;sactiv&#233;, le dataset n&#39;a pas &#233;t&#233; sauvegard&#233; dans un fichier parquet.&quot;);\r\n   }\r\n   else {\r\n      LOGGER.warn(&quot;Le dataset est vide et n&#39;a pas &#233;t&#233; sauvegard&#233; dans un fichier parquet.&quot;);\r\n   }\r\n      \r\n   return false;\r\n}\r\n```\r\n\r\nA parquet file is created (a folder containing 200 files, like `part-00000-522c936f-7b72-4ed8-bab9-9d4acee6bc7c-c000.snappy.parquet`, not partitioned), and if I load the resulting parquet file with _Zeppelin_, I receive that content :\r\n\r\n```scala\r\nval communes = spark.read.parquet(&quot;/data/tmp/communes_par_codeCommune_2021&quot;)\r\n\r\ncommunes.printSchema()\r\n   \r\ncommunes.select(&quot;codeDepartement&quot;).distinct()\r\n  .orderBy(&quot;codeDepartement&quot;)\r\n   .show(100)\r\n```\r\n\r\n```\r\nroot\r\n |-- typeCommune: string (nullable = true)\r\n |-- codeCommune: string (nullable = true)\r\n |-- codeRegion: string (nullable = true)\r\n |-- codeDepartement: string (nullable = true)\r\n |-- CTCD: string (nullable = true)\r\n |-- arrondissement: string (nullable = true)\r\n |-- typeNomEtCharniere: string (nullable = true)\r\n |-- nomMajuscules: string (nullable = true)\r\n |-- nomCommune: string (nullable = true)\r\n |-- LIBELLE: string (nullable = true)\r\n |-- codeCanton: string (nullable = true)\r\n |-- codeCommuneParente: string (nullable = true)\r\n |-- sirenCommune: string (nullable = true)\r\n |-- populationTotale: integer (nullable = true)\r\n |-- populationMunicipale: integer (nullable = true)\r\n |-- populationCompteApart: integer (nullable = true)\r\n |-- strateCommune: integer (nullable = true)\r\n |-- longitude: double (nullable = true)\r\n |-- latitude: double (nullable = true)\r\n |-- surface: double (nullable = true)\r\n |-- sirenCommuneMembre: string (nullable = true)\r\n |-- codeEPCI: string (nullable = true)\r\n |-- nomEPCI: string (nullable = true)\r\n |-- codeDepartementRetabli: string (nullable = true)\r\n |-- codeCommuneChefLieuDepartement: string (nullable = true)\r\n |-- typeNomEtCharniereDepartement: string (nullable = true)\r\n |-- nomMajusculesDepartement: string (nullable = true)\r\n |-- nomDepartement: string (nullable = true)\r\n |-- libelleDepartement: string (nullable = true)\r\n\r\n+---------------+\r\n|codeDepartement|\r\n+---------------+\r\n|             01|\r\n|             02|\r\n|             03|\r\n|             04|\r\n|             05|\r\n|             06|\r\n|             07|\r\n|             08|\r\n|             09|\r\n|             10|\r\n|             11|\r\n|             12|\r\n|             13|\r\n|             14|\r\n|             15|\r\n|             16|\r\n|             17|\r\n|             18|\r\n|             19|\r\n|             21|\r\n|             22|\r\n|             23|\r\n|             24|\r\n|             25|\r\n|             26|\r\n|             27|\r\n|             28|\r\n|             29|\r\n|             2A|\r\n|             2B|\r\n|             30|\r\n|             31|\r\n|             32|\r\n|             33|\r\n|             34|\r\n|             35|\r\n|             36|\r\n|             37|\r\n|             38|\r\n|             39|\r\n|             40|\r\n|             41|\r\n|             42|\r\n|             43|\r\n|             44|\r\n|             45|\r\n|             46|\r\n|             47|\r\n|             48|\r\n|             49|\r\n|             50|\r\n|             51|\r\n|             52|\r\n|             53|\r\n|             54|\r\n|             55|\r\n|             56|\r\n|             57|\r\n|             58|\r\n|             59|\r\n|             60|\r\n|             61|\r\n|             62|\r\n|             63|\r\n|             64|\r\n|             65|\r\n|             66|\r\n|             67|\r\n|             68|\r\n|             69|\r\n|             70|\r\n|             71|\r\n|             72|\r\n|             73|\r\n|             74|\r\n|             75|\r\n|             76|\r\n|             77|\r\n|             78|\r\n|             79|\r\n|             80|\r\n|             81|\r\n|             82|\r\n|             83|\r\n|             84|\r\n|             85|\r\n|             86|\r\n|             87|\r\n|             88|\r\n|             89|\r\n|             90|\r\n|             91|\r\n|             92|\r\n|             93|\r\n|             94|\r\n|             95|\r\n|            971|\r\n|            972|\r\n|            973|\r\n|            974|\r\n+---------------+\r\nonly showing top 100 rows\r\n```\r\n\r\nThe leading zeroes of the `codeDepartement` fields are here, and it&#39;s nofmal, this field is a string, proved by some `2A` and to `2B` that are code for _Corse_ (North and South) department.\r\n\r\nI notice that in the schema shown, `codeDepartment` is in fourth position.\r\n\r\n\r\nWhen the dataset is partitioned with codeDepartement: leading zeroes are lost when the parquet file is loaded:\r\n\r\n------------------------------------------------------------------------\r\n\r\nif I activate in my `CogDataset` source file the partitionning by codeDepartement of the Dataset, by uncommenting the lines:\r\n\r\n```java\r\ncommunes = communes.repartition(col(&quot;codeDepartement&quot;));\r\n[...]\r\nsaveToStore(communes, new String[] {&quot;codeDepartement&quot;}, &quot;{0}_{1,number,#0}&quot;, nomStore, anneeCOG);\r\n```\r\n\r\nThe content of the dump &quot;X07&quot; is the same, except that `codeDepartment` are ordered, and retain their leading zeroes, the parquet file has now subfolders like `codeDepartement=02`, (and `02` has its leading zero, so it&#39;s promising), but when I load that parquet file with _Zeppelin_, things are going wrong:\r\n\r\n```\r\nroot\r\n |-- typeCommune: string (nullable = true)\r\n |-- codeCommune: string (nullable = true)\r\n |-- codeRegion: string (nullable = true)\r\n |-- CTCD: string (nullable = true)\r\n |-- arrondissement: string (nullable = true)\r\n |-- typeNomEtCharniere: string (nullable = true)\r\n |-- nomMajuscules: string (nullable = true)\r\n |-- nomCommune: string (nullable = true)\r\n |-- LIBELLE: string (nullable = true)\r\n |-- codeCanton: string (nullable = true)\r\n |-- codeCommuneParente: string (nullable = true)\r\n |-- sirenCommune: string (nullable = true)\r\n |-- populationTotale: integer (nullable = true)\r\n |-- populationMunicipale: integer (nullable = true)\r\n |-- populationCompteApart: integer (nullable = true)\r\n |-- strateCommune: integer (nullable = true)\r\n |-- longitude: double (nullable = true)\r\n |-- latitude: double (nullable = true)\r\n |-- surface: double (nullable = true)\r\n |-- sirenCommuneMembre: string (nullable = true)\r\n |-- codeEPCI: string (nullable = true)\r\n |-- nomEPCI: string (nullable = true)\r\n |-- codeDepartementRetabli: string (nullable = true)\r\n |-- codeCommuneChefLieuDepartement: string (nullable = true)\r\n |-- typeNomEtCharniereDepartement: string (nullable = true)\r\n |-- nomMajusculesDepartement: string (nullable = true)\r\n |-- nomDepartement: string (nullable = true)\r\n |-- libelleDepartement: string (nullable = true)\r\n |-- codeDepartement: string (nullable = true)\r\n\r\n+---------------+\r\n|codeDepartement|\r\n+---------------+\r\n|              1|\r\n|             10|\r\n|             11|\r\n|             12|\r\n|             13|\r\n|             14|\r\n|             15|\r\n|             16|\r\n|             17|\r\n|             18|\r\n|             19|\r\n|              2|\r\n|             21|\r\n|             22|\r\n|             23|\r\n|             24|\r\n|             25|\r\n|             26|\r\n|             27|\r\n|             28|\r\n|             29|\r\n|             2A|\r\n|             2B|\r\n|              3|\r\n|             30|\r\n|             31|\r\n|             32|\r\n|             33|\r\n|             34|\r\n|             35|\r\n|             36|\r\n|             37|\r\n|             38|\r\n|             39|\r\n|              4|\r\n|             40|\r\n|             41|\r\n|             42|\r\n|             43|\r\n|             44|\r\n|             45|\r\n|             46|\r\n|             47|\r\n|             48|\r\n|             49|\r\n|              5|\r\n|             50|\r\n|             51|\r\n|             52|\r\n|             53|\r\n|             54|\r\n|             55|\r\n|             56|\r\n|             57|\r\n|             58|\r\n|             59|\r\n|              6|\r\n|             60|\r\n|             61|\r\n|             62|\r\n|             63|\r\n|             64|\r\n|             65|\r\n|             66|\r\n|             67|\r\n|             68|\r\n|             69|\r\n|              7|\r\n|             70|\r\n|             71|\r\n|             72|\r\n|             73|\r\n|             74|\r\n|             75|\r\n|             76|\r\n|             77|\r\n|             78|\r\n|             79|\r\n|              8|\r\n|             80|\r\n|             81|\r\n|             82|\r\n|             83|\r\n|             84|\r\n|             85|\r\n|             86|\r\n|             87|\r\n|             88|\r\n|             89|\r\n|              9|\r\n|             90|\r\n|             91|\r\n|             92|\r\n|             93|\r\n|             94|\r\n|             95|\r\n|            971|\r\n|            972|\r\n|            973|\r\n|            974|\r\n+---------------+\r\nonly showing top 100 rows\r\n```\r\n\r\nLeading zeroes of `codeDepartement` are lost,  \r\nwhile `2A` and `2B` department codes are still here, showing that this field is still a `string`.\r\n\r\nI notice that the `codeDepartment` given by _Parquet_ is at the last position of the schema, as if it recreated that field itself (?).\r\n\r\nDo you have an idea of what is affecting me?  \r\nIt looks like I&#39;m missing some options that I should set before storing to _Parquet_ or reloading for it my content?\r\n\r\nI&#39;m using `Spark 3.2.0`.","title":"A parquet file of a dataset having a String field containing leading zeroes returns that field without leading zeroes, if it is paritionned by it","body":"<p>I have a <code>Dataset</code> gathering informations about French cities,</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n* Obtenir un Dataset des communes.\n* @param session Session Spark.\n* @param anneeCOG Année du Code Officiel Géographique de référence.\n* @param verifications Vérifications demandées.\n* @return Dataset des communes.\n* @throws TechniqueException si un incident survient.\n*/\npublic Dataset&lt;Row&gt; rowCommunes(SparkSession session, int anneeCOG, Verification... verifications) throws TechniqueException {\n  String nomStore = &quot;communes_par_codeCommune&quot;;\n  \n  Dataset&lt;Row&gt; communes = loadFromStore(session, &quot;{0}_{1,number,#0}&quot;, nomStore, anneeCOG, verifications);\n  \n  if (communes != null) {\n     return communes;\n  }\n\n  LOGGER.info(&quot;Constitution du dataset des communes depuis pour le Code Officiel Géographique (COG) de l'année {}...&quot;, anneeCOG);\n  \n  Dataset&lt;Row&gt; c = loadAndRenameCommmunesCSV(session, anneeCOG, false, verifications);\n  LOGGER.info(&quot;X01&quot;);\n  c.printSchema();\n  c.show(false);\n\n  Dataset&lt;Row&gt; s = this.datasetSirenCommunaux.rowSirenCommunes(session, anneeCOG, TriSirenCommunaux.CODE_COMMUNE);\n  LOGGER.info(&quot;X02&quot;);\n  s.printSchema();\n  s.show(false);\n\n  Column condition1 = c.col(&quot;codeCommune&quot;).equalTo(s.col(&quot;codeCommune&quot;));\n  Column condition2 = c.col(&quot;codeCommuneParente&quot;).equalTo(s.col(&quot;codeCommune&quot;));\n  \n  verifications(&quot;jonction communes et siren par codeCommune&quot;, c, null, s, condition1, verifications, SHOW_REJETS, COMPTAGES_ET_STATISTIQUES);\n  Dataset&lt;Row&gt; join1 = c.join(s, condition1)\n     .drop(s.col(&quot;codeCommune&quot;))\n     .drop(s.col(&quot;nomCommune&quot;))\n     .drop(s.col(&quot;codeRegion&quot;))\n     .drop(s.col(&quot;codeDepartement&quot;));\n\n  verifications(&quot;jonction communes et siren par codeCommune, join1&quot;, c, null, null, null, verifications);\n  \n  verifications(&quot;jonction communes et siren par codeCommuneParente&quot;, c, null, s, condition2, verifications, SHOW_REJETS, COMPTAGES_ET_STATISTIQUES);\n  Dataset&lt;Row&gt; join2 = c.join(s, condition2)\n     .drop(s.col(&quot;codeCommune&quot;))\n     .drop(s.col(&quot;nomCommune&quot;))\n     .drop(s.col(&quot;codeRegion&quot;))\n     .drop(s.col(&quot;codeDepartement&quot;));\n\n  verifications(&quot;jonction communes et siren par codeCommuneParente, join2&quot;, c, null, null, null, verifications);\n  \n  communes = join1.union(join2);\n  LOGGER.info(&quot;X03&quot;);\n  communes.printSchema();\n  communes.show(false);\n  \n  // La strate communale doit concorder avec celle des comptes individuels des communes.\n  communes = communes.withColumn(&quot;strateCommune&quot;, \n     when(s.col(&quot;populationTotale&quot;).between(0, 249), lit(1))       // communes de moins de 250 hab\n     .when(s.col(&quot;populationTotale&quot;).between(250, 499), lit(2))     // communes de 250 à 500 hab\n     .when(s.col(&quot;populationTotale&quot;).between(500, 1999), lit(3))    // communes de 500 à 2 000 hab\n     .when(s.col(&quot;populationTotale&quot;).between(2000, 3499), lit(4))   // communes de 2 000 à 3 500 hab\n     .when(s.col(&quot;populationTotale&quot;).between(3500, 4999), lit(5))   // communes de 3 500 à 5 000 hab\n     .when(s.col(&quot;populationTotale&quot;).between(5000, 9999), lit(6))   // communes de 5 000 à 10 000 hab\n     .when(s.col(&quot;populationTotale&quot;).between(10000, 19999), lit(7)) // communes de 10 000 à 20 000 hab\n     .when(s.col(&quot;populationTotale&quot;).between(20000, 49999), lit(8)) // communes de 20 000 à 50 000 hab\n     .when(s.col(&quot;populationTotale&quot;).between(50000, 99999), lit(9)) // communes de 50 000 à 100 000 hab\n     .otherwise(lit(10)));                                          // communes de plus de 100 000 hab\n\n  // Obtenir les contours des communes.\n  // &quot;(requête SQL) contours&quot; est la forme de substitution pour Spark. cf https://stackoverflow.com/questions/38376307/create-spark-dataframe-from-sql-query\n  String format = &quot;(select insee as codecommuneosm, nom as nomcommuneosm, surf_ha as surface2, st_x(st_centroid(geom)) as longitude, st_y(st_centroid(geom)) as latitude from communes_{0,number,#0}) contours&quot;;\n  String sql = MessageFormat.format(format, anneeCOG);\n  \n  Dataset&lt;Row&gt; contours = sql(session, sql).load();\n  contours = contours.withColumn(&quot;surface&quot;, col(&quot;surface2&quot;).cast(DoubleType)).drop(col(&quot;surface2&quot;))\n     .orderBy(&quot;codecommuneosm&quot;);\n  \n  Column conditionJoinContours = col(&quot;codeCommune&quot;).equalTo(col(&quot;codecommuneosm&quot;));\n  \n  verifications(&quot;jonction communes et contours communaux OSM (centroïde, surface)&quot;, communes, null, contours, conditionJoinContours, verifications, SHOW_REJETS, COMPTAGES_ET_STATISTIQUES);\n  communes = communes.join(contours, conditionJoinContours, &quot;left_outer&quot;)\n     .drop(col(&quot;codecommuneosm&quot;)).drop(col(&quot;nomcommuneosm&quot;));\n  verifications(&quot;jonction communes et contours communaux OSM (centroïde, surface)&quot;, communes, null, null, null, verifications);\n\n  LOGGER.info(&quot;X04&quot;);\n  communes.printSchema();\n  communes.show(false);\n\n  // Associer à chaque commune son code intercommunalité, si elle en a un (les communes-communautés peuvent ne pas en avoir).\n  Dataset&lt;Row&gt; perimetres = this.datasetPerimetres.rowPerimetres(session, anneeCOG, EPCIPerimetreDataset.TriPerimetresEPCI.CODE_COMMUNE_MEMBRE).selectExpr(&quot;sirenCommuneMembre&quot;, &quot;sirenGroupement as codeEPCI&quot;, &quot;nomGroupement as nomEPCI&quot;);\n  Column conditionJoinPerimetres = communes.col(&quot;sirenCommune&quot;).equalTo(perimetres.col(&quot;sirenCommuneMembre&quot;));\n\n  verifications(&quot;jonction communes et périmètres&quot;, communes, null, perimetres, conditionJoinPerimetres, verifications, SHOW_REJETS, COMPTAGES_ET_STATISTIQUES);\n  communes = communes.join(perimetres, conditionJoinPerimetres, &quot;left&quot;);\n\n  LOGGER.info(&quot;X05&quot;);\n  communes.printSchema();\n  communes.show(false);\n\n  // Y associer les départements.\n  communes = this.datasetDepartements.withDepartement(session, &quot;codeDepartementRetabli&quot;, communes, &quot;codeDepartement&quot;, null, true, anneeCOG)\n     .drop(&quot;codeRegionDepartement&quot;);\n\n  LOGGER.info(&quot;X06&quot;);\n  communes.printSchema();\n  communes.show(false);\n\n  //communes = communes.repartition(col(&quot;codeDepartement&quot;));\n  communes = communes.sortWithinPartitions(col(&quot;codeCommune&quot;));\n  communes = communes.persist(); // Important : améliore les performances.\n\n  LOGGER.info(&quot;X07&quot;);\n  communes.printSchema();\n  communes.show(false);\n\n  saveToStore(communes, new String[] {/*&quot;codeDepartement&quot;*/}, &quot;{0}_{1,number,#0}&quot;, nomStore, anneeCOG);\n  LOGGER.info(&quot;Le dataset des communes du Code Officiel Géographique de l'année {} est prêt et stocké.&quot;, anneeCOG);\n\n  return communes;\n}\n</code></pre>\n<p>and the field that is troubling me is the department one (<code>CodeDepartement</code>).</p>\n<p>When the Dataset isn't partitioned by this String field codeDepartement: everything is working well</p>\n<hr />\n<p>When that function runs, if I don't attempt to partition the dataset (the required statements for partitioning are commented here), everything goes fine:</p>\n<p>The content displayed on the console is this one:</p>\n<pre><code>2022-01-18 08:47:50.995  INFO 25913 --- [nio-9090-exec-1] f.e.spark.dataset.cog.CogDataset         : X07\nroot\n |-- typeCommune: string (nullable = true)\n |-- codeCommune: string (nullable = true)\n |-- codeRegion: string (nullable = true)\n |-- codeDepartement: string (nullable = true)\n |-- CTCD: string (nullable = true)\n |-- arrondissement: string (nullable = true)\n |-- typeNomEtCharniere: string (nullable = true)\n |-- nomMajuscules: string (nullable = true)\n |-- nomCommune: string (nullable = true)\n |-- LIBELLE: string (nullable = true)\n |-- codeCanton: string (nullable = true)\n |-- codeCommuneParente: string (nullable = true)\n |-- sirenCommune: string (nullable = true)\n |-- populationTotale: integer (nullable = true)\n |-- populationMunicipale: integer (nullable = true)\n |-- populationCompteApart: integer (nullable = true)\n |-- strateCommune: integer (nullable = false)\n |-- longitude: double (nullable = true)\n |-- latitude: double (nullable = true)\n |-- surface: double (nullable = true)\n |-- sirenCommuneMembre: string (nullable = true)\n |-- codeEPCI: string (nullable = true)\n |-- nomEPCI: string (nullable = true)\n |-- codeDepartementRetabli: string (nullable = true)\n |-- codeCommuneChefLieuDepartement: string (nullable = true)\n |-- typeNomEtCharniereDepartement: string (nullable = true)\n |-- nomMajusculesDepartement: string (nullable = true)\n |-- nomDepartement: string (nullable = true)\n |-- libelleDepartement: string (nullable = true)\n\n+-----------+-----------+----------+---------------+----+--------------+------------------+-------------------------+-------------------------+-------------------------+----------+------------------+------------+----------------+--------------------+---------------------+-------------+------------------+------------------+-------+------------------+---------+---------------------------------------+----------------------+------------------------------+-----------------------------+------------------------+-----------------------+-----------------------+\n|typeCommune|codeCommune|codeRegion|codeDepartement|CTCD|arrondissement|typeNomEtCharniere|nomMajuscules            |nomCommune               |LIBELLE                  |codeCanton|codeCommuneParente|sirenCommune|populationTotale|populationMunicipale|populationCompteApart|strateCommune|longitude         |latitude          |surface|sirenCommuneMembre|codeEPCI |nomEPCI                                |codeDepartementRetabli|codeCommuneChefLieuDepartement|typeNomEtCharniereDepartement|nomMajusculesDepartement|nomDepartement         |libelleDepartement     |\n+-----------+-----------+----------+---------------+----+--------------+------------------+-------------------------+-------------------------+-------------------------+----------+------------------+------------+----------------+--------------------+---------------------+-------------+------------------+------------------+-------+------------------+---------+---------------------------------------+----------------------+------------------------------+-----------------------------+------------------------+-----------------------+-----------------------+\n|COM        |02053      |32        |02             |02D |021           |0                 |VALLEES EN CHAMPAGNE     |Vallées en Champagne     |Vallées en Champagne     |0204      |null              |200056307   |576             |570                 |6                    |3            |3.616431731194736 |49.007989478704616|4168.0 |200056307         |200072031|CA de la Région de Château-Thierry     |02                    |02408                         |5                            |AISNE                   |Aisne                  |Aisne                  |\n|COM        |02057      |32        |02             |02D |023           |0                 |BEAUREVOIR               |Beaurevoir               |Beaurevoir               |0201      |null              |210200564   |1433            |1415                |18                   |3            |3.330083095945232 |49.996641228776475|2180.0 |210200564         |240200493|CC du Pays du Vermandois               |02                    |02408                         |5                            |AISNE                   |Aisne                  |Aisne                  |\n|COM        |02070      |32        |02             |02D |025           |0                 |BERNOT                   |Bernot                   |Bernot                   |0207      |null              |210200697   |461             |448                 |13                   |2            |3.4866867514904327|49.87884521170864 |1672.0 |210200697         |200071983|CC Thiérache Sambre et Oise            |02                    |02408                         |5                            |AISNE                   |Aisne                  |Aisne                  |\n|COM        |02090      |32        |02             |02D |024           |0                 |BILLY SUR OURCQ          |Billy-sur-Ourcq          |Billy-sur-Ourcq          |0221      |null              |210200887   |220             |210                 |10                   |1            |3.2992043452730138|49.22146881666656 |1021.0 |210200887         |240200519|CC du Canton d'Oulchy le Château       |02                    |02408                         |5                            |AISNE                   |Aisne                  |Aisne                  |\n|COM        |02291      |32        |02             |02D |023           |1                 |ESTREES                  |Estrées                  |Estrées                  |0201      |null              |210202743   |419             |411                 |8                    |2            |3.2807599426576335|49.97077968837569 |704.0  |210202743         |240200493|CC du Pays du Vermandois               |02                    |02408                         |5                            |AISNE                   |Aisne                  |Aisne                  |\n|COM        |02527      |32        |02             |02D |024           |0                 |MORSAIN                  |Morsain                  |Morsain                  |0220      |null              |210205043   |464             |455                 |9                    |2            |3.1908402513250707|49.46152187457162 |1434.0 |210205043         |200071991|CC Retz en Valois                      |02                    |02408                         |5                            |AISNE                   |Aisne                  |Aisne                  |\n|COM        |03098      |84        |03             |03D |031           |0                 |DESERTINES               |Désertines               |Désertines               |0310      |null              |210300984   |4519            |4432                |87                   |5            |2.627485866618113 |46.357035806459585|827.0  |210300984         |200071082|CA Montluçon Communauté                |03                    |03190                         |5                            |ALLIER                  |Allier                 |Allier                 |\n|COM        |04138      |93        |04             |04D |044           |0                 |NIOZELLES                |Niozelles                |Niozelles                |0406      |null              |210401386   |284             |278                 |6                    |2            |5.847058475050684 |43.931981561717315|1061.0 |210401386         |240400440|CC Pays Forcalquier et Montagne de Lure|04                    |04070                         |4                            |ALPES DE HAUTE PROVENCE |Alpes-de-Haute-Provence|Alpes-de-Haute-Provence|\n|COM        |05107      |93        |05             |05D |051           |0                 |PUY SAINT ANDRE          |Puy-Saint-André          |Puy-Saint-André          |0502      |null              |210501078   |480             |457                 |23                   |2            |6.566597158877383 |44.891314199898126|1530.0 |210501078         |240500439|CC du Briançonnais                     |05                    |05061                         |4                            |HAUTES ALPES            |Hautes-Alpes           |Hautes-Alpes           |\n|COM        |05163      |93        |05             |05D |052           |2                 |SAUZE DU LAC             |Sauze-du-Lac             |Le Sauze-du-Lac          |0504      |null              |210501631   |149             |145                 |4                    |1            |6.323608116359499 |44.48601132516764 |1223.0 |210501631         |200067742|CC Serre-Ponçon                        |05                    |05061                         |4                            |HAUTES ALPES            |Hautes-Alpes           |Hautes-Alpes           |\n|COM        |05176      |93        |05             |05D |052           |0                 |VALSERRES                |Valserres                |Valserres                |0514      |null              |210501763   |271             |267                 |4                    |2            |6.1382720630480465|44.48971119562803 |1123.0 |210501763         |200067320|CC Serre-Ponçon Val d'Avance           |05                    |05061                         |4                            |HAUTES ALPES            |Hautes-Alpes           |Hautes-Alpes           |\n|COM        |07038      |84        |07             |07D |071           |0                 |BORNE                    |Borne                    |Borne                    |0713      |null              |210700381   |49              |49                  |0                    |1            |4.041460041609979 |44.61694459940681 |3199.0 |210700381         |200072007|CC de la Montagne d'Ardèche            |07                    |07186                         |5                            |ARDECHE                 |Ardèche                |Ardèche                |\n|COM        |09120      |76        |09             |09D |093           |0                 |FABAS                    |Fabas                    |Fabas                    |0911      |null              |210901203   |356             |352                 |4                    |2            |1.1143034959106055|43.11978973617488 |2327.0 |210901203         |200067940|CC Couserans-Pyrénées                  |09                    |09122                         |5                            |ARIEGE                  |Ariège                 |Ariège                 |\n|COM        |09231      |76        |09             |09D |093           |2                 |PORT                     |Port                     |Le Port                  |0903      |null              |210902318   |160             |159                 |1                    |1            |1.3862330079391603|42.83569938864616 |5016.0 |210902318         |200067940|CC Couserans-Pyrénées                  |09                    |09122                         |5                            |ARIEGE                  |Ariège                 |Ariège                 |\n|COM        |09276      |76        |09             |09D |092           |0                 |SAINT VICTOR ROUZAUD     |Saint-Victor-Rouzaud     |Saint-Victor-Rouzaud     |0907      |null              |210902763   |232             |222                 |10                   |1            |1.5478697013903504|43.087886607776255|1270.0 |210902763         |200066231|CC des Portes d'Ariège Pyrénées        |09                    |09122                         |5                            |ARIEGE                  |Ariège                 |Ariège                 |\n+-----------+-----------+----------+---------------+----+--------------+------------------+-------------------------+-------------------------+-------------------------+----------+------------------+------------+----------------+--------------------+---------------------+-------------+------------------+------------------+-------+------------------+---------+---------------------------------------+----------------------+------------------------------+-----------------------------+------------------------+-----------------------+-----------------------+\n</code></pre>\n<p>The sub functions <code>saveToStore</code> are called, they are just doing this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected boolean saveToStore(Dataset&lt;Row&gt; ds, String[] colonnesPartionnement, String format, Object... args) {\n   return saveToStore(this.tempDir, isCacheUtilise(), ds, colonnesPartionnement, format, args);\n}\n\npublic static boolean saveToStore(String tempDir, boolean useCache, Dataset&lt;Row&gt; ds, String[] colonnesPartionnement, String format, Object... args) {\n   if (useCache &amp;&amp; ds.isEmpty() == false) {\n      String store = tempDir + &quot;/&quot; + MessageFormat.format(format, args);\n      ds.write().partitionBy(colonnesPartionnement).parquet(store);\n         \n      LOGGER.info(&quot;Un dataset a été sauvegardé dans le fichier parquet {}.&quot;, store);\n      return true;\n   }\n      \n   if (useCache == false) {\n      LOGGER.debug(&quot;Le cache est désactivé, le dataset n'a pas été sauvegardé dans un fichier parquet.&quot;);\n   }\n   else {\n      LOGGER.warn(&quot;Le dataset est vide et n'a pas été sauvegardé dans un fichier parquet.&quot;);\n   }\n      \n   return false;\n}\n</code></pre>\n<p>A parquet file is created (a folder containing 200 files, like <code>part-00000-522c936f-7b72-4ed8-bab9-9d4acee6bc7c-c000.snappy.parquet</code>, not partitioned), and if I load the resulting parquet file with <em>Zeppelin</em>, I receive that content :</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val communes = spark.read.parquet(&quot;/data/tmp/communes_par_codeCommune_2021&quot;)\n\ncommunes.printSchema()\n   \ncommunes.select(&quot;codeDepartement&quot;).distinct()\n  .orderBy(&quot;codeDepartement&quot;)\n   .show(100)\n</code></pre>\n<pre><code>root\n |-- typeCommune: string (nullable = true)\n |-- codeCommune: string (nullable = true)\n |-- codeRegion: string (nullable = true)\n |-- codeDepartement: string (nullable = true)\n |-- CTCD: string (nullable = true)\n |-- arrondissement: string (nullable = true)\n |-- typeNomEtCharniere: string (nullable = true)\n |-- nomMajuscules: string (nullable = true)\n |-- nomCommune: string (nullable = true)\n |-- LIBELLE: string (nullable = true)\n |-- codeCanton: string (nullable = true)\n |-- codeCommuneParente: string (nullable = true)\n |-- sirenCommune: string (nullable = true)\n |-- populationTotale: integer (nullable = true)\n |-- populationMunicipale: integer (nullable = true)\n |-- populationCompteApart: integer (nullable = true)\n |-- strateCommune: integer (nullable = true)\n |-- longitude: double (nullable = true)\n |-- latitude: double (nullable = true)\n |-- surface: double (nullable = true)\n |-- sirenCommuneMembre: string (nullable = true)\n |-- codeEPCI: string (nullable = true)\n |-- nomEPCI: string (nullable = true)\n |-- codeDepartementRetabli: string (nullable = true)\n |-- codeCommuneChefLieuDepartement: string (nullable = true)\n |-- typeNomEtCharniereDepartement: string (nullable = true)\n |-- nomMajusculesDepartement: string (nullable = true)\n |-- nomDepartement: string (nullable = true)\n |-- libelleDepartement: string (nullable = true)\n\n+---------------+\n|codeDepartement|\n+---------------+\n|             01|\n|             02|\n|             03|\n|             04|\n|             05|\n|             06|\n|             07|\n|             08|\n|             09|\n|             10|\n|             11|\n|             12|\n|             13|\n|             14|\n|             15|\n|             16|\n|             17|\n|             18|\n|             19|\n|             21|\n|             22|\n|             23|\n|             24|\n|             25|\n|             26|\n|             27|\n|             28|\n|             29|\n|             2A|\n|             2B|\n|             30|\n|             31|\n|             32|\n|             33|\n|             34|\n|             35|\n|             36|\n|             37|\n|             38|\n|             39|\n|             40|\n|             41|\n|             42|\n|             43|\n|             44|\n|             45|\n|             46|\n|             47|\n|             48|\n|             49|\n|             50|\n|             51|\n|             52|\n|             53|\n|             54|\n|             55|\n|             56|\n|             57|\n|             58|\n|             59|\n|             60|\n|             61|\n|             62|\n|             63|\n|             64|\n|             65|\n|             66|\n|             67|\n|             68|\n|             69|\n|             70|\n|             71|\n|             72|\n|             73|\n|             74|\n|             75|\n|             76|\n|             77|\n|             78|\n|             79|\n|             80|\n|             81|\n|             82|\n|             83|\n|             84|\n|             85|\n|             86|\n|             87|\n|             88|\n|             89|\n|             90|\n|             91|\n|             92|\n|             93|\n|             94|\n|             95|\n|            971|\n|            972|\n|            973|\n|            974|\n+---------------+\nonly showing top 100 rows\n</code></pre>\n<p>The leading zeroes of the <code>codeDepartement</code> fields are here, and it's nofmal, this field is a string, proved by some <code>2A</code> and to <code>2B</code> that are code for <em>Corse</em> (North and South) department.</p>\n<p>I notice that in the schema shown, <code>codeDepartment</code> is in fourth position.</p>\n<p>When the dataset is partitioned with codeDepartement: leading zeroes are lost when the parquet file is loaded:</p>\n<hr />\n<p>if I activate in my <code>CogDataset</code> source file the partitionning by codeDepartement of the Dataset, by uncommenting the lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>communes = communes.repartition(col(&quot;codeDepartement&quot;));\n[...]\nsaveToStore(communes, new String[] {&quot;codeDepartement&quot;}, &quot;{0}_{1,number,#0}&quot;, nomStore, anneeCOG);\n</code></pre>\n<p>The content of the dump &quot;X07&quot; is the same, except that <code>codeDepartment</code> are ordered, and retain their leading zeroes, the parquet file has now subfolders like <code>codeDepartement=02</code>, (and <code>02</code> has its leading zero, so it's promising), but when I load that parquet file with <em>Zeppelin</em>, things are going wrong:</p>\n<pre><code>root\n |-- typeCommune: string (nullable = true)\n |-- codeCommune: string (nullable = true)\n |-- codeRegion: string (nullable = true)\n |-- CTCD: string (nullable = true)\n |-- arrondissement: string (nullable = true)\n |-- typeNomEtCharniere: string (nullable = true)\n |-- nomMajuscules: string (nullable = true)\n |-- nomCommune: string (nullable = true)\n |-- LIBELLE: string (nullable = true)\n |-- codeCanton: string (nullable = true)\n |-- codeCommuneParente: string (nullable = true)\n |-- sirenCommune: string (nullable = true)\n |-- populationTotale: integer (nullable = true)\n |-- populationMunicipale: integer (nullable = true)\n |-- populationCompteApart: integer (nullable = true)\n |-- strateCommune: integer (nullable = true)\n |-- longitude: double (nullable = true)\n |-- latitude: double (nullable = true)\n |-- surface: double (nullable = true)\n |-- sirenCommuneMembre: string (nullable = true)\n |-- codeEPCI: string (nullable = true)\n |-- nomEPCI: string (nullable = true)\n |-- codeDepartementRetabli: string (nullable = true)\n |-- codeCommuneChefLieuDepartement: string (nullable = true)\n |-- typeNomEtCharniereDepartement: string (nullable = true)\n |-- nomMajusculesDepartement: string (nullable = true)\n |-- nomDepartement: string (nullable = true)\n |-- libelleDepartement: string (nullable = true)\n |-- codeDepartement: string (nullable = true)\n\n+---------------+\n|codeDepartement|\n+---------------+\n|              1|\n|             10|\n|             11|\n|             12|\n|             13|\n|             14|\n|             15|\n|             16|\n|             17|\n|             18|\n|             19|\n|              2|\n|             21|\n|             22|\n|             23|\n|             24|\n|             25|\n|             26|\n|             27|\n|             28|\n|             29|\n|             2A|\n|             2B|\n|              3|\n|             30|\n|             31|\n|             32|\n|             33|\n|             34|\n|             35|\n|             36|\n|             37|\n|             38|\n|             39|\n|              4|\n|             40|\n|             41|\n|             42|\n|             43|\n|             44|\n|             45|\n|             46|\n|             47|\n|             48|\n|             49|\n|              5|\n|             50|\n|             51|\n|             52|\n|             53|\n|             54|\n|             55|\n|             56|\n|             57|\n|             58|\n|             59|\n|              6|\n|             60|\n|             61|\n|             62|\n|             63|\n|             64|\n|             65|\n|             66|\n|             67|\n|             68|\n|             69|\n|              7|\n|             70|\n|             71|\n|             72|\n|             73|\n|             74|\n|             75|\n|             76|\n|             77|\n|             78|\n|             79|\n|              8|\n|             80|\n|             81|\n|             82|\n|             83|\n|             84|\n|             85|\n|             86|\n|             87|\n|             88|\n|             89|\n|              9|\n|             90|\n|             91|\n|             92|\n|             93|\n|             94|\n|             95|\n|            971|\n|            972|\n|            973|\n|            974|\n+---------------+\nonly showing top 100 rows\n</code></pre>\n<p>Leading zeroes of <code>codeDepartement</code> are lost,<br />\nwhile <code>2A</code> and <code>2B</code> department codes are still here, showing that this field is still a <code>string</code>.</p>\n<p>I notice that the <code>codeDepartment</code> given by <em>Parquet</em> is at the last position of the schema, as if it recreated that field itself (?).</p>\n<p>Do you have an idea of what is affecting me?<br />\nIt looks like I'm missing some options that I should set before storing to <em>Parquet</em> or reloading for it my content?</p>\n<p>I'm using <code>Spark 3.2.0</code>.</p>\n"},{"tags":["java","spring-boot","crud","mongotemplate","request-mapping"],"answers":[{"tags":[],"owner":{"account_id":22508107,"reputation":45,"user_id":16703396,"display_name":"M G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642506656,"creation_date":1642506656,"answer_id":70755162,"question_id":70740678,"body_markdown":"this is how i did it:\r\n\r\n    if (CollectionUtils.isNotEmpty(lastName)) {\r\n    \t\tCriteria lastNameCriteria = new Criteria();\r\n    \t\tlastNameCriteria = lastNameCriteria.where(&quot;lastName&quot;).in(lastName.toArray());\r\n    \t\tcriterias.add(lastNameCriteria);\r\n    \t}","title":"Get multiple RequestParam of one variable","body":"<p>this is how i did it:</p>\n<pre><code>if (CollectionUtils.isNotEmpty(lastName)) {\n        Criteria lastNameCriteria = new Criteria();\n        lastNameCriteria = lastNameCriteria.where(&quot;lastName&quot;).in(lastName.toArray());\n        criterias.add(lastNameCriteria);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642509365,"creation_date":1642509365,"answer_id":70755687,"question_id":70740678,"body_markdown":"In the article that you mentioned at the end there is a precise answer to your question:\r\n\r\n&gt; A single @RequestParam can have multiple values:\r\n&gt; \r\n&gt; \r\n\r\n    @GetMapping(&quot;/api/foos&quot;) @ResponseBody public String\r\n    &gt; getFoos(@RequestParam List&lt;String&gt; id) {\r\n    &gt;     return &quot;IDs are &quot; + id; }\r\n\r\n And Spring MVC will map a comma-delimited id parameter:\r\n&gt; \r\n&gt; http://localhost:8080/spring-mvc-basics/api/foos?id=1,2,3\r\n&gt; ---- IDs are [1,2,3] or a list of separate id parameters:\r\n&gt; \r\n&gt; http://localhost:8080/spring-mvc-basics/api/foos?id=1&amp;id=2\r\n&gt; ---- IDs are [1,2]","title":"Get multiple RequestParam of one variable","body":"<p>In the article that you mentioned at the end there is a precise answer to your question:</p>\n<blockquote>\n<p>A single @RequestParam can have multiple values:</p>\n</blockquote>\n<pre><code>@GetMapping(&quot;/api/foos&quot;) @ResponseBody public String\n&gt; getFoos(@RequestParam List&lt;String&gt; id) {\n&gt;     return &quot;IDs are &quot; + id; }\n</code></pre>\n<p>And Spring MVC will map a comma-delimited id parameter:</p>\n<blockquote>\n<p>http://localhost:8080/spring-mvc-basics/api/foos?id=1,2,3\n---- IDs are [1,2,3] or a list of separate id parameters:</p>\n<p>http://localhost:8080/spring-mvc-basics/api/foos?id=1&amp;id=2\n---- IDs are [1,2]</p>\n</blockquote>\n"}],"owner":{"account_id":22508107,"reputation":45,"user_id":16703396,"display_name":"M G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70755162,"answer_count":2,"score":-1,"last_activity_date":1642509365,"creation_date":1642419237,"question_id":70740678,"body_markdown":"I&#39;m trying to build a multifunctional search method using MongoTemplate, Query and Criteria.\r\n\r\nHere is my RequestMapping for variable search: \r\n\r\n```java\r\npublic Page&lt;Users&gt;getUsers(\r\n\t\t\t@RequestParam(value = &quot;name&quot;, required = false) \r\n\r\nString name) {\r\n    \r\n    Query query = new Query();\r\n    Criteria criteria = new Criteria();\r\n    criteria = criteria.where(&quot;name&quot;).regex(&quot;.*&quot; + name + &quot;.*&quot;,&quot;i&quot;);\r\n    query.addCriteria(criteria);\r\n```\r\n\r\nI want to be able to search `lastName` with multiple request parameters. For example, I want to find everyone with lastname &quot;Smith&quot; and &quot;Johnson&quot;.\r\n\r\nSomething like this:\r\n\r\n    @RequestParam(value = &quot;lastName&quot;, required = false) List&lt;String&gt; lastName) {\r\n    \r\n    Query query = new Query();\r\n    Criteria criteria = new Criteria();\r\n    criteria = criteria.where(&quot;lastName&quot;).regex(do something different..);\r\n    query.addCriteria(criteria);\r\n\r\nURL will be: http://localhost:8080/get?lastName=Smith&amp;lastName=Johnson\r\n\r\nThis is where I found Mapping a Multi-Value Parameter https://www.baeldung.com/spring-request-param , but it is not clear how exactly does it work. If someone can provide a link with full example (repository, handler and stuff), please do.  \r\n","title":"Get multiple RequestParam of one variable","body":"<p>I'm trying to build a multifunctional search method using MongoTemplate, Query and Criteria.</p>\n<p>Here is my RequestMapping for variable search:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Page&lt;Users&gt;getUsers(\n            @RequestParam(value = &quot;name&quot;, required = false) \n\nString name) {\n    \n    Query query = new Query();\n    Criteria criteria = new Criteria();\n    criteria = criteria.where(&quot;name&quot;).regex(&quot;.*&quot; + name + &quot;.*&quot;,&quot;i&quot;);\n    query.addCriteria(criteria);\n</code></pre>\n<p>I want to be able to search <code>lastName</code> with multiple request parameters. For example, I want to find everyone with lastname &quot;Smith&quot; and &quot;Johnson&quot;.</p>\n<p>Something like this:</p>\n<pre><code>@RequestParam(value = &quot;lastName&quot;, required = false) List&lt;String&gt; lastName) {\n\nQuery query = new Query();\nCriteria criteria = new Criteria();\ncriteria = criteria.where(&quot;lastName&quot;).regex(do something different..);\nquery.addCriteria(criteria);\n</code></pre>\n<p>URL will be: http://localhost:8080/get?lastName=Smith&amp;lastName=Johnson</p>\n<p>This is where I found Mapping a Multi-Value Parameter <a href=\"https://www.baeldung.com/spring-request-param\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-request-param</a> , but it is not clear how exactly does it work. If someone can provide a link with full example (repository, handler and stuff), please do.</p>\n"},{"tags":["java","compiler-construction","abstract-syntax-tree"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642409510,"creation_date":1642409510,"answer_id":70738674,"question_id":70738279,"body_markdown":"The code is checking for a receiver parameter, which looks like this:\r\n\r\n    public class SomeClass {\r\n        \r\n        public void foo(SomeClass this) {\r\n            //          ^^^^^^^^^^^^^^\r\n        }\r\n    }\r\n\r\nIn the grammar production rules of the [spec][1], it is listed as:\r\n\r\n```\r\nFormalParameterList:\r\nReceiverParameter \r\nFormalParameters , LastFormalParameter \r\nLastFormalParameter\r\n\r\nFormalParameters:\r\nFormalParameter {, FormalParameter} \r\nReceiverParameter {, FormalParameter}\r\n\r\nReceiverParameter:\r\n{Annotation} UnannType [Identifier .] this\r\n```\r\n\r\nIt&#39;s a parameter that has the name of &quot;this&quot;, or `NameOfOuterClass.this` if in an inner class constructor. `this` is not an identifier, so this is why it is checking for `pn.hasTag(Tag.IDENT)`.\r\n\r\nIf you have not heard of receiver parameters before, it&#39;s basically a &quot;an optional syntactic device that exists solely to allow the type of the represented object to be denoted in source code, so that the type may be annotated,&quot; and &quot;it is never bound to any value passed as an argument in a method invocation expression or qualified class instance creation expression, and it has no effect whatsoever at run time&quot; as the language spec puts it.\r\n\r\nSince it has almost the same structure as a variable declarator, I guess they decided to also use `JCVariableDecl` to represent it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.1","title":"In Java 8 compiler, what is nameexpr field in JCVariableDecl for","body":"<p>The code is checking for a receiver parameter, which looks like this:</p>\n<pre><code>public class SomeClass {\n    \n    public void foo(SomeClass this) {\n        //          ^^^^^^^^^^^^^^\n    }\n}\n</code></pre>\n<p>In the grammar production rules of the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.1\" rel=\"nofollow noreferrer\">spec</a>, it is listed as:</p>\n<pre><code>FormalParameterList:\nReceiverParameter \nFormalParameters , LastFormalParameter \nLastFormalParameter\n\nFormalParameters:\nFormalParameter {, FormalParameter} \nReceiverParameter {, FormalParameter}\n\nReceiverParameter:\n{Annotation} UnannType [Identifier .] this\n</code></pre>\n<p>It's a parameter that has the name of &quot;this&quot;, or <code>NameOfOuterClass.this</code> if in an inner class constructor. <code>this</code> is not an identifier, so this is why it is checking for <code>pn.hasTag(Tag.IDENT)</code>.</p>\n<p>If you have not heard of receiver parameters before, it's basically a &quot;an optional syntactic device that exists solely to allow the type of the represented object to be denoted in source code, so that the type may be annotated,&quot; and &quot;it is never bound to any value passed as an argument in a method invocation expression or qualified class instance creation expression, and it has no effect whatsoever at run time&quot; as the language spec puts it.</p>\n<p>Since it has almost the same structure as a variable declarator, I guess they decided to also use <code>JCVariableDecl</code> to represent it.</p>\n"}],"owner":{"account_id":23963213,"reputation":53,"user_id":17953036,"display_name":"Capital S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70738674,"answer_count":1,"score":1,"last_activity_date":1642509285,"creation_date":1642407231,"question_id":70738279,"body_markdown":"In java compiler `JCTree.java` the `JCVariableDecl` is defined as the following:\r\n```java\r\n    public static class JCVariableDecl extends JCStatement implements VariableTree {\r\n        /** variable modifiers */\r\n        public JCModifiers mods;\r\n        /** variable name */\r\n        public Name name;\r\n        /** variable name expression */\r\n        public JCExpression nameexpr;\r\n        /** type of the variable */\r\n        public JCExpression vartype;\r\n        /** variable&#39;s initial value */\r\n        public JCExpression init;\r\n        /** symbol */\r\n        public VarSymbol sym;\r\n...\r\n}\r\n```\r\n\r\nHowever, I am not sure how `nameexpr` can be useful here. In what situation `nameexpr` field is not null? I have read the BNF of Java 8 and `JavacParser.java`\r\n\r\n```java\r\n    JCVariableDecl variableDeclaratorId(JCModifiers mods, JCExpression type, boolean lambdaParameter) {\r\n        int pos = token.pos;\r\n        Name name;\r\n        if (lambdaParameter &amp;&amp; token.kind == UNDERSCORE) {\r\n            log.error(pos, &quot;underscore.as.identifier.in.lambda&quot;);\r\n            name = token.name();\r\n            nextToken();\r\n        } else {\r\n            if (allowThisIdent) {\r\n                JCExpression pn = qualident(false);\r\n                if (pn.hasTag(Tag.IDENT) &amp;&amp; ((JCIdent)pn).name != names._this) {\r\n                    name = ((JCIdent)pn).name;\r\n                } else {\r\n                    if ((mods.flags &amp; Flags.VARARGS) != 0) {\r\n                        log.error(token.pos, &quot;varargs.and.receiver&quot;);\r\n                    }\r\n                    if (token.kind == LBRACKET) {\r\n                        log.error(token.pos, &quot;array.and.receiver&quot;);\r\n                    }\r\n                    return toP(F.at(pos).ReceiverVarDef(mods, pn, type));\r\n                }\r\n            } else {\r\n                name = ident();\r\n            }\r\n        }\r\n        if ((mods.flags &amp; Flags.VARARGS) != 0 &amp;&amp;\r\n                token.kind == LBRACKET) {\r\n            log.error(token.pos, &quot;varargs.and.old.array.syntax&quot;);\r\n        }\r\n        type = bracketsOpt(type);\r\n        return toP(F.at(pos).VarDef(mods, name, type, null));\r\n    }\r\n```\r\nit seems that we need to construct a case to make \r\n\r\n`pn.hasTag(Tag.IDENT) &amp;&amp; ((JCIdent)pn).name != names._this`\r\n\r\nto be false.  \r\n","title":"In Java 8 compiler, what is nameexpr field in JCVariableDecl for","body":"<p>In java compiler <code>JCTree.java</code> the <code>JCVariableDecl</code> is defined as the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static class JCVariableDecl extends JCStatement implements VariableTree {\n        /** variable modifiers */\n        public JCModifiers mods;\n        /** variable name */\n        public Name name;\n        /** variable name expression */\n        public JCExpression nameexpr;\n        /** type of the variable */\n        public JCExpression vartype;\n        /** variable's initial value */\n        public JCExpression init;\n        /** symbol */\n        public VarSymbol sym;\n...\n}\n</code></pre>\n<p>However, I am not sure how <code>nameexpr</code> can be useful here. In what situation <code>nameexpr</code> field is not null? I have read the BNF of Java 8 and <code>JavacParser.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    JCVariableDecl variableDeclaratorId(JCModifiers mods, JCExpression type, boolean lambdaParameter) {\n        int pos = token.pos;\n        Name name;\n        if (lambdaParameter &amp;&amp; token.kind == UNDERSCORE) {\n            log.error(pos, &quot;underscore.as.identifier.in.lambda&quot;);\n            name = token.name();\n            nextToken();\n        } else {\n            if (allowThisIdent) {\n                JCExpression pn = qualident(false);\n                if (pn.hasTag(Tag.IDENT) &amp;&amp; ((JCIdent)pn).name != names._this) {\n                    name = ((JCIdent)pn).name;\n                } else {\n                    if ((mods.flags &amp; Flags.VARARGS) != 0) {\n                        log.error(token.pos, &quot;varargs.and.receiver&quot;);\n                    }\n                    if (token.kind == LBRACKET) {\n                        log.error(token.pos, &quot;array.and.receiver&quot;);\n                    }\n                    return toP(F.at(pos).ReceiverVarDef(mods, pn, type));\n                }\n            } else {\n                name = ident();\n            }\n        }\n        if ((mods.flags &amp; Flags.VARARGS) != 0 &amp;&amp;\n                token.kind == LBRACKET) {\n            log.error(token.pos, &quot;varargs.and.old.array.syntax&quot;);\n        }\n        type = bracketsOpt(type);\n        return toP(F.at(pos).VarDef(mods, name, type, null));\n    }\n</code></pre>\n<p>it seems that we need to construct a case to make</p>\n<p><code>pn.hasTag(Tag.IDENT) &amp;&amp; ((JCIdent)pn).name != names._this</code></p>\n<p>to be false.</p>\n"},{"tags":["java","jdbc"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642509171,"creation_date":1642508360,"answer_id":70755495,"question_id":70755116,"body_markdown":"See the [`DriverManager.getConnection(String url, Properties info)`][1] Javadoc:\r\n\r\n&gt; `info` - a list of arbitrary string tag/value pairs as connection\r\n&gt; arguments; normally at least a &quot;user&quot; and &quot;password&quot; property should\r\n&gt; be included\r\n\r\nOther than that, neither the Java API documentation nor the [JDBC 4.3 Specification][2] make any mention of properties that must be supported for `DriverManager.getConnection`.\r\n\r\nSection 9.6.1 does specify a number of properties for `javax.sql.DataSource` objects, but of those, only `&quot;roleName&quot;`, `&quot;user&quot;` and `&quot;password&quot;` make sense for `DriverManager.getConnection`.\r\n\r\nIn short, the list of non-db specific properties is `&quot;user&quot;` and `&quot;password&quot;` (established by the Javadoc), and maybe `&quot;roleName&quot;` (though that requires inferring behaviour based on requirements for `javax.sql.DataSource`). Everything else is driver-specific and you will need to check the documentation of the driver you&#39;re using for the properties it supports.\r\n\r\nIn theory, you can discover properties through [`Driver.getPropertyInfo​(String url, Properties info)`][3]. However, its behaviour is - in my opinion - not specified clearly, so support and behaviour varies by driver (some return all properties, some only the minimum set of properties required to connect).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/DriverManager.html#getConnection(java.lang.String,java.util.Properties)\r\n  [2]: https://download.oracle.com/otndocs/jcp/jdbc-4_3-mrel3-eval-spec/index.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Driver.html#getPropertyInfo(java.lang.String,java.util.Properties)","title":"List of Java Connection (JDBC) non-db specific properties?","body":"<p>See the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/DriverManager.html#getConnection(java.lang.String,java.util.Properties)\" rel=\"nofollow noreferrer\"><code>DriverManager.getConnection(String url, Properties info)</code></a> Javadoc:</p>\n<blockquote>\n<p><code>info</code> - a list of arbitrary string tag/value pairs as connection\narguments; normally at least a &quot;user&quot; and &quot;password&quot; property should\nbe included</p>\n</blockquote>\n<p>Other than that, neither the Java API documentation nor the <a href=\"https://download.oracle.com/otndocs/jcp/jdbc-4_3-mrel3-eval-spec/index.html\" rel=\"nofollow noreferrer\">JDBC 4.3 Specification</a> make any mention of properties that must be supported for <code>DriverManager.getConnection</code>.</p>\n<p>Section 9.6.1 does specify a number of properties for <code>javax.sql.DataSource</code> objects, but of those, only <code>&quot;roleName&quot;</code>, <code>&quot;user&quot;</code> and <code>&quot;password&quot;</code> make sense for <code>DriverManager.getConnection</code>.</p>\n<p>In short, the list of non-db specific properties is <code>&quot;user&quot;</code> and <code>&quot;password&quot;</code> (established by the Javadoc), and maybe <code>&quot;roleName&quot;</code> (though that requires inferring behaviour based on requirements for <code>javax.sql.DataSource</code>). Everything else is driver-specific and you will need to check the documentation of the driver you're using for the properties it supports.</p>\n<p>In theory, you can discover properties through <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Driver.html#getPropertyInfo(java.lang.String,java.util.Properties)\" rel=\"nofollow noreferrer\"><code>Driver.getPropertyInfo​(String url, Properties info)</code></a>. However, its behaviour is - in my opinion - not specified clearly, so support and behaviour varies by driver (some return all properties, some only the minimum set of properties required to connect).</p>\n"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70755495,"answer_count":1,"score":0,"last_activity_date":1642509171,"creation_date":1642506459,"question_id":70755116,"body_markdown":"Where can I find a good (maybe official) source (list) of non-db specific properties (keys)?\r\n\r\n    Properties props = new Properties();\r\n    props.put(key, value);\r\n    props.put(key, value);\r\n    props.put(key, value);\r\n    props.put(key, value);\r\n    props.put(key, value);\r\n    props.put(key, value);\r\n    connection = DriverManager.getConnection(path, props);","title":"List of Java Connection (JDBC) non-db specific properties?","body":"<p>Where can I find a good (maybe official) source (list) of non-db specific properties (keys)?</p>\n<pre><code>Properties props = new Properties();\nprops.put(key, value);\nprops.put(key, value);\nprops.put(key, value);\nprops.put(key, value);\nprops.put(key, value);\nprops.put(key, value);\nconnection = DriverManager.getConnection(path, props);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1642507960,"post_id":70755414,"comment_id":125084189,"body_markdown":"Maybe an Optional&lt;T&gt; could help? It has nice operators.","body":"Maybe an Optional&lt;T&gt; could help? It has nice operators."},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1642507985,"post_id":70755414,"comment_id":125084198,"body_markdown":"Use Optional instead?","body":"Use Optional instead?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1642508688,"post_id":70755414,"comment_id":125084432,"body_markdown":"Just do `if(transaction.getParentTransaction() != null) transaction = transaction.getParentTransaction();` right at the beginning.","body":"Just do <code>if(transaction.getParentTransaction() != null) transaction = transaction.getParentTransaction();</code> right at the beginning."}],"answers":[{"tags":[],"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642508548,"creation_date":1642508548,"answer_id":70755531,"question_id":70755414,"body_markdown":"try Optional as suggested by others:\r\n\r\n    public void build(Transaction transaction) {\r\n    \t    \r\n    \t\tTransaction parentTransactionElseTransaction = Optional.of(transaction)\r\n    \t\t\t\t.map(t -&gt; t.getParentTransaction())\r\n    \t\t\t\t.orElse(transaction);\r\n    \r\n    \t\tfinal long amount = parentTransactionElseTransaction.getAmount();\r\n    \t\tfinal String orderNumber = parentTransactionElseTransaction.getOrderNumber();\r\n    \r\n    \t\t// same pattern follows for more fields...\r\n    \t    // do other stuff...\r\n    \t}","title":"Simplify decision whether to use one object or another in Java","body":"<p>try Optional as suggested by others:</p>\n<pre><code>public void build(Transaction transaction) {\n        \n        Transaction parentTransactionElseTransaction = Optional.of(transaction)\n                .map(t -&gt; t.getParentTransaction())\n                .orElse(transaction);\n\n        final long amount = parentTransactionElseTransaction.getAmount();\n        final String orderNumber = parentTransactionElseTransaction.getOrderNumber();\n\n        // same pattern follows for more fields...\n        // do other stuff...\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642509037,"creation_date":1642508675,"answer_id":70755553,"question_id":70755414,"body_markdown":"Use some minor refactoring with Optional:\r\n\r\n    public void build(Transaction transaction) {\r\n        Transaction t = Optional.of(transaction).map(Transaction::getParent).orElse(transaction);\r\n        long amount = t.getAmount(); \r\n        String orderNumber = t.getOrderNumber();\r\n        // etc\r\n    }\r\n\r\n","title":"Simplify decision whether to use one object or another in Java","body":"<p>Use some minor refactoring with Optional:</p>\n<pre><code>public void build(Transaction transaction) {\n    Transaction t = Optional.of(transaction).map(Transaction::getParent).orElse(transaction);\n    long amount = t.getAmount(); \n    String orderNumber = t.getOrderNumber();\n    // etc\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10541062,"reputation":101,"user_id":7767114,"display_name":"Krushil Dhamelia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642508861,"creation_date":1642508861,"answer_id":70755588,"question_id":70755414,"body_markdown":"```\r\npublic void build(Transaction transaction) {\r\n        final long amount = Optional.ofNullable(transaction.getParentTransaction()).orElse(transaction).getAmount();\r\n        final String orderNumber = Optional.ofNullable(transaction.getParentTransaction()).orElse(transaction).getOrderNumber();\r\n        // same pattern follows for more fields...\r\n\r\n\r\n        // do other stuff...\r\n    }\r\n```\r\n\r\nCan use `Optional.ofNullable().orElse()` here","title":"Simplify decision whether to use one object or another in Java","body":"<pre><code>public void build(Transaction transaction) {\n        final long amount = Optional.ofNullable(transaction.getParentTransaction()).orElse(transaction).getAmount();\n        final String orderNumber = Optional.ofNullable(transaction.getParentTransaction()).orElse(transaction).getOrderNumber();\n        // same pattern follows for more fields...\n\n\n        // do other stuff...\n    }\n</code></pre>\n<p>Can use <code>Optional.ofNullable().orElse()</code> here</p>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1642508985,"creation_date":1642508985,"answer_id":70755610,"question_id":70755414,"body_markdown":"Optional is an option, but I think there is a much simpler solution:\r\n\r\n    public void build(Transaction transaction) {\r\n        Transaction buildFrom = transaction.getParentTransaction() == null ? transaction : transaction.getParentTransaction();\r\n        ...\r\n        String orderNumber = buildFrom.getOrderNumber();\r\n\r\nIf you don&#39;t like that mix of abstractions, you can go one step further and put that `? :` line into a small helper method.","title":"Simplify decision whether to use one object or another in Java","body":"<p>Optional is an option, but I think there is a much simpler solution:</p>\n<pre><code>public void build(Transaction transaction) {\n    Transaction buildFrom = transaction.getParentTransaction() == null ? transaction : transaction.getParentTransaction();\n    ...\n    String orderNumber = buildFrom.getOrderNumber();\n</code></pre>\n<p>If you don't like that mix of abstractions, you can go one step further and put that <code>? :</code> line into a small helper method.</p>\n"}],"owner":{"account_id":220794,"reputation":12257,"user_id":478406,"accept_rate":82,"display_name":"Robert Strauch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70755531,"answer_count":4,"score":2,"last_activity_date":1642509037,"creation_date":1642507878,"question_id":70755414,"body_markdown":"I have a `Transaction` class which looks like this:\r\n\r\n```\r\npublic class Transaction {\r\n\r\n  private Transaction parentTransaction;\r\n  private long amount;\r\n  private String orderNumber;\r\n}\r\n```\r\n\r\nSo it has a field which points to another `Transaction`.\r\n\r\nThere is also a method like this:\r\n\r\n\r\n```java\r\npublic void build(Transaction transaction) {\r\n    final long amount = transaction.getParentTransaction() == null ? transaction.getAmount() : transaction.getParentTransaction().getAmount();\r\n    final String orderNumber = transaction.getParentTransaction() == null ? transaction.getOrderNumber() : transaction.getParentTransaction().getOrderNumber();\r\n    // same pattern follows for more fields...\r\n\r\n\r\n    // do other stuff...\r\n}\r\n```\r\n\r\nDepending on whether a `parentTransaction` exists, e.g. the `amount` field shall be used from the `parentTransaction` or the `transaction`. What I don&#39;t like about this approach is the repetitive usage of the `transaction.getParentTransaction() == null ? ...` term.\r\n\r\nIs there some pattern or apporach how I could avoid this?","title":"Simplify decision whether to use one object or another in Java","body":"<p>I have a <code>Transaction</code> class which looks like this:</p>\n<pre><code>public class Transaction {\n\n  private Transaction parentTransaction;\n  private long amount;\n  private String orderNumber;\n}\n</code></pre>\n<p>So it has a field which points to another <code>Transaction</code>.</p>\n<p>There is also a method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void build(Transaction transaction) {\n    final long amount = transaction.getParentTransaction() == null ? transaction.getAmount() : transaction.getParentTransaction().getAmount();\n    final String orderNumber = transaction.getParentTransaction() == null ? transaction.getOrderNumber() : transaction.getParentTransaction().getOrderNumber();\n    // same pattern follows for more fields...\n\n\n    // do other stuff...\n}\n</code></pre>\n<p>Depending on whether a <code>parentTransaction</code> exists, e.g. the <code>amount</code> field shall be used from the <code>parentTransaction</code> or the <code>transaction</code>. What I don't like about this approach is the repetitive usage of the <code>transaction.getParentTransaction() == null ? ...</code> term.</p>\n<p>Is there some pattern or apporach how I could avoid this?</p>\n"},{"tags":["java","apache-spark","hadoop","hive","apache-spark-sql"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1623454898,"post_id":67944431,"comment_id":120092531,"body_markdown":"What Java version are you using?","body":"What Java version are you using?"},{"owner":{"account_id":8819331,"reputation":11,"user_id":6589737,"display_name":"David Tran"},"score":0,"creation_date":1623456105,"post_id":67944431,"comment_id":120092702,"body_markdown":"I use Java 15. I also tried different versions of hive-services and tried this hack https://stackoverflow.com/questions/32587769/dependency-resolution-issue-in-gradle but it didn&#39;t work.","body":"I use Java 15. I also tried different versions of hive-services and tried this hack <a href=\"https://stackoverflow.com/questions/32587769/dependency-resolution-issue-in-gradle\" title=\"dependency resolution issue in gradle\">stackoverflow.com/questions/32587769/&hellip;</a> but it didn&#39;t work."},{"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"score":0,"creation_date":1623496119,"post_id":67944431,"comment_id":120098738,"body_markdown":"Possibly https://stackoverflow.com/questions/6686753/nosuchfielderror-java#6686792","body":"Possibly <a href=\"https://stackoverflow.com/questions/6686753/nosuchfielderror-java#6686792\" title=\"nosuchfielderror java%236686792\">stackoverflow.com/questions/6686753/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1623507371,"post_id":67944431,"comment_id":120101294,"body_markdown":"Last I checked, Spark requires Java 11 at a maximum","body":"Last I checked, Spark requires Java 11 at a maximum"},{"owner":{"account_id":8819331,"reputation":11,"user_id":6589737,"display_name":"David Tran"},"score":0,"creation_date":1623702136,"post_id":67944431,"comment_id":120149047,"body_markdown":"I tried using Java 11. The error didn&#39;t go away.","body":"I tried using Java 11. The error didn&#39;t go away."}],"answers":[{"tags":[],"owner":{"account_id":23934887,"reputation":1,"user_id":17928770,"display_name":"Prakash N M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642508972,"creation_date":1642118309,"answer_id":70704553,"question_id":67944431,"body_markdown":"I was able to fix the following error by excluding org.apache.commons:commons-lang3 from org.apache.hadoop:hadoop-common pom.xml dependency list.\r\n\r\n&gt; java.lang.NoSuchFieldError: JAVA_9","title":"SparkSession doesn&#39;t work if org.apache.hive:hive-service is put in dependencies","body":"<p>I was able to fix the following error by excluding org.apache.commons:commons-lang3 from org.apache.hadoop:hadoop-common pom.xml dependency list.</p>\n<blockquote>\n<p>java.lang.NoSuchFieldError: JAVA_9</p>\n</blockquote>\n"}],"owner":{"account_id":8819331,"reputation":11,"user_id":6589737,"display_name":"David Tran"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642508972,"creation_date":1623454468,"question_id":67944431,"body_markdown":"I&#39;m implementing a simple program in Java that uses Spark SQL to read from a Parquet file, and build an ArrayList of [FieldSchema](https://hive.apache.org/javadocs/r1.2.2/api/org/apache/hadoop/hive/metastore/api/FieldSchema.html) objects (in hive metastore) where each object represents a column with its name and data type. However, it seems that Spark SQL can&#39;t coexist if FieldSchema class is imported.\r\n\r\nFor example, with the same program as follows:\r\n```\r\nimport org.apache.spark.sql.SparkSession;\r\n\r\npublic class main {\r\n    public static void main(String[] args) {\r\n        SparkSession spark = SparkSession.builder().appName(&quot;Application Name&quot;).config(&quot;spark.master&quot;, &quot;local&quot;).getOrCreate();\r\n    }\r\n}\r\n```\r\nThis configuration of dependencies in build.gradle (IntelliJ)\r\n```\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n\r\n    implementation &#39;org.apache.spark:spark-sql_2.12:3.1.1&#39;\r\n    implementation &#39;org.apache.spark:spark-core_2.12:3.1.1&#39;\r\n}\r\n```\r\nmakes the program run succesfully. \r\n\r\nOn the other hand, this configuration of dependencies (in order to import org.apache.hadoop.hive.metastore.api.FieldSchema later)\r\n\r\n``` \r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n\r\n    implementation &quot;org.apache.hive:hive-service:+&quot;\r\n    implementation &#39;org.apache.spark:spark-sql_2.12:3.1.1&#39;\r\n    implementation &#39;org.apache.spark:spark-core_2.12:3.1.1&#39;\r\n}\r\n```\r\noutputs the error\r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nAn illegal reflective access operation has occurred\r\n\r\nWARNING: Illegal reflective access by org.apache.spark.unsafe.Platform (file:/Users/davidtran/.gradle/caches/modules-2/files-2.1/org.apache.spark/spark-unsafe_2.12/3.1.1/1c3b07cb82e71d0519e5222a5ff38758ab499034/spark-unsafe_2.12-3.1.1.jar) to constructor java.nio.DirectByteBuffer(long,int)\r\nWARNING: Please consider reporting this to the maintainers of org.apache.spark.unsafe.Platform\r\nIllegal reflective access by org.apache.spark.unsafe.Platform (file:/Users/davidtran/.gradle/caches/modules-2/files-2.1/org.apache.spark/spark-unsafe_2.12/3.1.1/1c3b07cb82e71d0519e5222a5ff38758ab499034/spark-unsafe_2.12-3.1.1.jar) to constructor java.nio.DirectByteBuffer(long,int)\r\n\r\nPlease consider reporting this to the maintainers of org.apache.spark.unsafe.Platform\r\n\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\nUse --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n\r\nAll illegal access operations will be denied in a future release\r\n\r\nUsing Spark&#39;s default log4j profile: org/apache/spark/log4j-defaults.properties\r\nException in thread &quot;main&quot; java.lang.NoSuchFieldError: JAVA_9\r\n\tat org.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:207)\r\n\tat org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala)\r\n\tat org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:109)\r\n\tat org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:371)\r\n\tat org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:311)\r\n\tat org.apache.spark.SparkEnv$.create(SparkEnv.scala:359)\r\n\tat org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:189)\r\n\tat org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:277)\r\n\tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:458)\r\n\tat org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2678)\r\n\tat org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:942)\r\n\tat scala.Option.getOrElse(Option.scala:189)\r\n\tat org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:936)\r\n\tat main.main(main.java:6)\r\n```","title":"SparkSession doesn&#39;t work if org.apache.hive:hive-service is put in dependencies","body":"<p>I'm implementing a simple program in Java that uses Spark SQL to read from a Parquet file, and build an ArrayList of <a href=\"https://hive.apache.org/javadocs/r1.2.2/api/org/apache/hadoop/hive/metastore/api/FieldSchema.html\" rel=\"nofollow noreferrer\">FieldSchema</a> objects (in hive metastore) where each object represents a column with its name and data type. However, it seems that Spark SQL can't coexist if FieldSchema class is imported.</p>\n<p>For example, with the same program as follows:</p>\n<pre><code>import org.apache.spark.sql.SparkSession;\n\npublic class main {\n    public static void main(String[] args) {\n        SparkSession spark = SparkSession.builder().appName(&quot;Application Name&quot;).config(&quot;spark.master&quot;, &quot;local&quot;).getOrCreate();\n    }\n}\n</code></pre>\n<p>This configuration of dependencies in build.gradle (IntelliJ)</p>\n<pre><code>dependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n\n    implementation 'org.apache.spark:spark-sql_2.12:3.1.1'\n    implementation 'org.apache.spark:spark-core_2.12:3.1.1'\n}\n</code></pre>\n<p>makes the program run succesfully.</p>\n<p>On the other hand, this configuration of dependencies (in order to import org.apache.hadoop.hive.metastore.api.FieldSchema later)</p>\n<pre><code>dependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n\n    implementation &quot;org.apache.hive:hive-service:+&quot;\n    implementation 'org.apache.spark:spark-sql_2.12:3.1.1'\n    implementation 'org.apache.spark:spark-core_2.12:3.1.1'\n}\n</code></pre>\n<p>outputs the error</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nAn illegal reflective access operation has occurred\n\nWARNING: Illegal reflective access by org.apache.spark.unsafe.Platform (file:/Users/davidtran/.gradle/caches/modules-2/files-2.1/org.apache.spark/spark-unsafe_2.12/3.1.1/1c3b07cb82e71d0519e5222a5ff38758ab499034/spark-unsafe_2.12-3.1.1.jar) to constructor java.nio.DirectByteBuffer(long,int)\nWARNING: Please consider reporting this to the maintainers of org.apache.spark.unsafe.Platform\nIllegal reflective access by org.apache.spark.unsafe.Platform (file:/Users/davidtran/.gradle/caches/modules-2/files-2.1/org.apache.spark/spark-unsafe_2.12/3.1.1/1c3b07cb82e71d0519e5222a5ff38758ab499034/spark-unsafe_2.12-3.1.1.jar) to constructor java.nio.DirectByteBuffer(long,int)\n\nPlease consider reporting this to the maintainers of org.apache.spark.unsafe.Platform\n\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nUse --illegal-access=warn to enable warnings of further illegal reflective access operations\n\nAll illegal access operations will be denied in a future release\n\nUsing Spark's default log4j profile: org/apache/spark/log4j-defaults.properties\nException in thread &quot;main&quot; java.lang.NoSuchFieldError: JAVA_9\n    at org.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:207)\n    at org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala)\n    at org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:109)\n    at org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:371)\n    at org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:311)\n    at org.apache.spark.SparkEnv$.create(SparkEnv.scala:359)\n    at org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:189)\n    at org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:277)\n    at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:458)\n    at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2678)\n    at org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:942)\n    at scala.Option.getOrElse(Option.scala:189)\n    at org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:936)\n    at main.main(main.java:6)\n</code></pre>\n"},{"tags":["java","kotlin","intellij-idea","jetbrains-ide"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1642502390,"post_id":70753737,"comment_id":125081912,"body_markdown":"There are currently no settings in IDEA that customize this behaviour","body":"There are currently no settings in IDEA that customize this behaviour"}],"answers":[{"tags":[],"owner":{"account_id":19125636,"reputation":7406,"user_id":13968673,"display_name":"Михаил Нафталь"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1642504685,"creation_date":1642504685,"answer_id":70754741,"question_id":70753737,"body_markdown":"As a workaround you may do the following:\r\n\r\n1. Replace all blank lines with some comment. You may do this by replacing\r\n```\r\n&lt;Ctrl+Shift+Enter&gt;\r\n\\s*\r\n&lt;Ctrl+Shift+Enter&gt;\r\n```\r\nwith\r\n```\r\n&lt;Ctrl+Shift+Enter&gt;\r\n//newLine\r\n&lt;Ctrl+Shift+Enter&gt;\r\n```\r\n(don&#39;t forget to turn on usage of regex):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2. Convert file from Java-&gt;Kotlin\r\n3. Delete comment (replace it with empty string)\r\n\r\n  [1]: https://i.stack.imgur.com/gvDi6.png","title":"Automatically generated Kotlin code (from Java code) loses all blank lines, making the code uglier","body":"<p>As a workaround you may do the following:</p>\n<ol>\n<li>Replace all blank lines with some comment. You may do this by replacing</li>\n</ol>\n<pre><code>&lt;Ctrl+Shift+Enter&gt;\n\\s*\n&lt;Ctrl+Shift+Enter&gt;\n</code></pre>\n<p>with</p>\n<pre><code>&lt;Ctrl+Shift+Enter&gt;\n//newLine\n&lt;Ctrl+Shift+Enter&gt;\n</code></pre>\n<p>(don't forget to turn on usage of regex):</p>\n<p><a href=\"https://i.stack.imgur.com/gvDi6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gvDi6.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Convert file from Java-&gt;Kotlin</li>\n<li>Delete comment (replace it with empty string)</li>\n</ol>\n"}],"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70754741,"answer_count":1,"score":2,"last_activity_date":1642508657,"creation_date":1642500518,"question_id":70753737,"body_markdown":"When using IntelliJ IDEA&#39;s automatic Java -&gt; Kotlin converter, the blank lines are lost, making the code not that readable. Is there an approach to avoid this or recover the blank lines?\r\n\r\nFor example,\r\n\r\n```\r\nline1;\r\nline2;\r\n\r\nline3;\r\nline4;\r\n```\r\n\r\nmay be converted to something without the blank line at the middle.","title":"Automatically generated Kotlin code (from Java code) loses all blank lines, making the code uglier","body":"<p>When using IntelliJ IDEA's automatic Java -&gt; Kotlin converter, the blank lines are lost, making the code not that readable. Is there an approach to avoid this or recover the blank lines?</p>\n<p>For example,</p>\n<pre><code>line1;\nline2;\n\nline3;\nline4;\n</code></pre>\n<p>may be converted to something without the blank line at the middle.</p>\n"},{"tags":["java","dynamic-programming","bioinformatics"],"comments":[{"owner":{"account_id":14443980,"reputation":1626,"user_id":10433739,"display_name":"Benjamin Urquhart"},"score":0,"creation_date":1556719011,"post_id":55937099,"comment_id":98527474,"body_markdown":"What do you get as output?","body":"What do you get as output?"},{"owner":{"account_id":12470964,"reputation":53,"user_id":9079111,"display_name":"Dlayz"},"score":0,"creation_date":1556719133,"post_id":55937099,"comment_id":98527536,"body_markdown":"ATTGCGCGCAT--\n--C--TTAA-CCA","body":"ATTGCGCGCAT-- --C--TTAA-CCA"},{"owner":{"account_id":14443980,"reputation":1626,"user_id":10433739,"display_name":"Benjamin Urquhart"},"score":1,"creation_date":1556719200,"post_id":55937099,"comment_id":98527567,"body_markdown":"Could you define &quot;traceback?&quot;","body":"Could you define &quot;traceback?&quot;"},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1556719464,"post_id":55937099,"comment_id":98527700,"body_markdown":"I believe he wants to implement [this](http://avatar.se/lectures/molbioinfo2001/dynprog/dynamic.html)","body":"I believe he wants to implement <a href=\"http://avatar.se/lectures/molbioinfo2001/dynprog/dynamic.html\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":12470964,"reputation":53,"user_id":9079111,"display_name":"Dlayz"},"score":0,"creation_date":1556719660,"post_id":55937099,"comment_id":98527790,"body_markdown":"@michalk yes i wan to implement that","body":"@michalk yes i wan to implement that"}],"answers":[{"tags":[],"owner":{"account_id":12470964,"reputation":53,"user_id":9079111,"display_name":"Dlayz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556719534,"creation_date":1556719534,"answer_id":55937558,"question_id":55937099,"body_markdown":"This is the answer i used the online stimulator to demo\r\n\r\n\r\n[![traceback][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0V45P.png","title":"traceback in global sequence alignment","body":"<p>This is the answer i used the online stimulator to demo</p>\n\n<p><a href=\"https://i.stack.imgur.com/0V45P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0V45P.png\" alt=\"traceback\"></a></p>\n"}],"owner":{"account_id":12470964,"reputation":53,"user_id":9079111,"display_name":"Dlayz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642508532,"creation_date":1556717615,"question_id":55937099,"body_markdown":"I am facing problem of tracing back the global sequence alignment. My first sequence is ATTGCGCGCAT and second sequence is ATGCTTAACCA. The traceback result should be\r\nA T T G C _ _ _ G C G C A T\r\nA _ T G C T T A A C _ C A _\r\nBut the code i am using unable to output that result.\r\n\r\nI had tried to browse the google for reference but there are few reference of traceback written in Java.\r\n\r\n    private static void traceback(String seqOne, String seqTwo,int[][]matrix) {\r\n\r\n        \r\n        StringBuilder s1 = new StringBuilder(), s2 = new StringBuilder();\r\n        \r\n        for ( int i = seqOne.length(),  j = seqTwo.length(); i &gt; 0 &amp;&amp; j &gt; 0; ) {\r\n            if (i &gt; 0 &amp;&amp; j &gt; 0 &amp;&amp; (matrix[i][j] == matrix[i - 1][j - 1]) ) {\r\n                s1.append(seqOne.charAt(--i));\r\n                s2.append(seqTwo.charAt(--j));\r\n            } else if ( i &gt; 0 &amp;&amp; (matrix[i][j] == matrix[i - 1][j] + 1) ) {\r\n                s1.append(seqOne.charAt(--i));\r\n                s2.append(&quot;-&quot;);\r\n            } else if ( j &gt; 0 &amp;&amp; (matrix[i][j] == matrix[i][j - 1] + 1) ) {\r\n                s2.append(seqTwo.charAt(--j));\r\n                s1.append(&quot;-&quot;);\r\n            }\r\n        }\r\n        \r\n        System.out.println();\r\n        System.out.println(s1.reverse().toString());\r\n        System.out.println(s2.reverse().toString());\r\n\r\n    }","title":"traceback in global sequence alignment","body":"<p>I am facing problem of tracing back the global sequence alignment. My first sequence is ATTGCGCGCAT and second sequence is ATGCTTAACCA. The traceback result should be\nA T T G C _ _ _ G C G C A T\nA _ T G C T T A A C _ C A _\nBut the code i am using unable to output that result.</p>\n\n<p>I had tried to browse the google for reference but there are few reference of traceback written in Java.</p>\n\n<pre><code>private static void traceback(String seqOne, String seqTwo,int[][]matrix) {\n\n\n    StringBuilder s1 = new StringBuilder(), s2 = new StringBuilder();\n\n    for ( int i = seqOne.length(),  j = seqTwo.length(); i &gt; 0 &amp;&amp; j &gt; 0; ) {\n        if (i &gt; 0 &amp;&amp; j &gt; 0 &amp;&amp; (matrix[i][j] == matrix[i - 1][j - 1]) ) {\n            s1.append(seqOne.charAt(--i));\n            s2.append(seqTwo.charAt(--j));\n        } else if ( i &gt; 0 &amp;&amp; (matrix[i][j] == matrix[i - 1][j] + 1) ) {\n            s1.append(seqOne.charAt(--i));\n            s2.append(\"-\");\n        } else if ( j &gt; 0 &amp;&amp; (matrix[i][j] == matrix[i][j - 1] + 1) ) {\n            s2.append(seqTwo.charAt(--j));\n            s1.append(\"-\");\n        }\n    }\n\n    System.out.println();\n    System.out.println(s1.reverse().toString());\n    System.out.println(s2.reverse().toString());\n\n}\n</code></pre>\n"},{"tags":["java","logging","log4j"],"comments":[{"owner":{"account_id":3076623,"reputation":1207,"user_id":2605780,"accept_rate":73,"display_name":"Web Devie"},"score":4,"creation_date":1375266653,"post_id":3683364,"comment_id":26263505,"body_markdown":"This is not duplicate, RollingFileAppender is not what OP wants, because only DailyRollingFileAppender rotates files daily!","body":"This is not duplicate, RollingFileAppender is not what OP wants, because only DailyRollingFileAppender rotates files daily!"},{"owner":{"account_id":9330948,"reputation":2699,"user_id":7179509,"accept_rate":78,"display_name":"Maksym"},"score":0,"creation_date":1573041556,"post_id":3683364,"comment_id":103750020,"body_markdown":"There is solution for your answer using log4j and java - https://stackoverflow.com/a/58729657/7179509","body":"There is solution for your answer using log4j and java - <a href=\"https://stackoverflow.com/a/58729657/7179509\">stackoverflow.com/a/58729657/7179509</a>"}],"answers":[{"tags":[],"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"down_vote_count":10,"up_vote_count":70,"is_accepted":false,"score":60,"last_activity_date":1284109699,"creation_date":1284109699,"answer_id":3683402,"question_id":3683364,"body_markdown":"I assume you&#39;re using RollingFileAppender? In which case, it has a property called `MaxBackupIndex` which you can set to limit the number of files. For example:\r\n\r\n    log4j.appender.R=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.R.File=example.log\r\n    log4j.appender.R.MaxFileSize=100KB\r\n    log4j.appender.R.MaxBackupIndex=7\r\n    log4j.appender.R.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.R.layout.ConversionPattern=%p %t %c - %m%n","title":"How to configure log4j to only keep log files for the last seven days?","body":"<p>I assume you're using RollingFileAppender? In which case, it has a property called <code>MaxBackupIndex</code> which you can set to limit the number of files. For example:</p>\n\n<pre><code>log4j.appender.R=org.apache.log4j.RollingFileAppender\nlog4j.appender.R.File=example.log\nlog4j.appender.R.MaxFileSize=100KB\nlog4j.appender.R.MaxBackupIndex=7\nlog4j.appender.R.layout=org.apache.log4j.PatternLayout\nlog4j.appender.R.layout.ConversionPattern=%p %t %c - %m%n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1605789025,"creation_date":1284112029,"answer_id":3683622,"question_id":3683364,"body_markdown":"There&#39;s also a [DailyRollingFileAppender](https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/DailyRollingFileAppender.html)\r\n\r\nEdit: after reading this worrying statement:\r\n\r\n&gt; DailyRollingFileAppender has been observed to exhibit synchronization\r\n&gt; issues and data loss. The log4j extras companion includes alternatives\r\n&gt; which should be considered for new deployments and which are discussed\r\n&gt; in the documentation for org.apache.log4j.rolling.RollingFileAppender.\r\n\r\nfrom the above URL (which I never realized before), then the [log4j-extras](https://logging.apache.org/log4j/extras/apidocs/index.html) looks to be a better option.","title":"How to configure log4j to only keep log files for the last seven days?","body":"<p>There's also a <a href=\"https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/DailyRollingFileAppender.html\" rel=\"nofollow noreferrer\">DailyRollingFileAppender</a></p>\n<p>Edit: after reading this worrying statement:</p>\n<blockquote>\n<p>DailyRollingFileAppender has been observed to exhibit synchronization\nissues and data loss. The log4j extras companion includes alternatives\nwhich should be considered for new deployments and which are discussed\nin the documentation for org.apache.log4j.rolling.RollingFileAppender.</p>\n</blockquote>\n<p>from the above URL (which I never realized before), then the <a href=\"https://logging.apache.org/log4j/extras/apidocs/index.html\" rel=\"nofollow noreferrer\">log4j-extras</a> looks to be a better option.</p>\n"},{"tags":[],"owner":{"account_id":164729,"reputation":2822,"user_id":387675,"accept_rate":62,"display_name":"PhilDin"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1369324312,"creation_date":1284112427,"answer_id":3683664,"question_id":3683364,"body_markdown":"According to the following post, you can&#39;t do this with log4j: https://stackoverflow.com/questions/896530/use-maxbackupindex-in-dailyrollingfileappender-log4j   \r\n\r\nAs far as I know, this functionality was supposed to make it into log4j 2.0 but that effort got sidetracked. According to the logback website, logback is the intended successor to log4j so you might consider using that.\r\n\r\nThere&#39;s an API called SLF4J which provides a common API to logging. It will load up the actual logging implementation at runtime so depending on the configuration that you have provided, it might use java.util.log or log4j or logback or any other library capable of providing logging facilities. There&#39;ll be a bit of up-front work to go from using log4j directly to using SLF4J but they provide some tools to automate this process. Once you&#39;ve converted your code to use SLF4J, switching logging backends should simply be a case of changing the config file.","title":"How to configure log4j to only keep log files for the last seven days?","body":"<p>According to the following post, you can't do this with log4j: <a href=\"https://stackoverflow.com/questions/896530/use-maxbackupindex-in-dailyrollingfileappender-log4j\">Use MaxBackupIndex in DailyRollingFileAppender -log4j</a>   </p>\n\n<p>As far as I know, this functionality was supposed to make it into log4j 2.0 but that effort got sidetracked. According to the logback website, logback is the intended successor to log4j so you might consider using that.</p>\n\n<p>There's an API called SLF4J which provides a common API to logging. It will load up the actual logging implementation at runtime so depending on the configuration that you have provided, it might use java.util.log or log4j or logback or any other library capable of providing logging facilities. There'll be a bit of up-front work to go from using log4j directly to using SLF4J but they provide some tools to automate this process. Once you've converted your code to use SLF4J, switching logging backends should simply be a case of changing the config file.</p>\n"},{"tags":[],"owner":{"account_id":199524,"reputation":56,"user_id":444904,"display_name":"user444904"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1284112517,"creation_date":1284112517,"answer_id":3683668,"question_id":3683364,"body_markdown":"There is another option **DailyRollingFileAppender**. but it lacks the auto delete (keep 7 days log) feature you looking for\r\n\r\nsample\r\n\r\n    log4j.appender.DRF=org.apache.log4j.DailyRollingFileAppender\r\n    log4j.appender.DRF.File=example.log\r\n    log4j.appender.DRF.DatePattern=&#39;.&#39;yyyy-MM-dd\r\n\r\nI do come across something call **org.apache.log4j.CompositeRollingAppender**, which is combine both the features of the **RollingFileAppender** (maxSizeRollBackups, no. of backup file) and **DailyRollingFileAppender** (roll by day). \r\n\r\nBut have not tried that out, seems is not the standard 1.2 branch log4j feature.","title":"How to configure log4j to only keep log files for the last seven days?","body":"<p>There is another option <strong>DailyRollingFileAppender</strong>. but it lacks the auto delete (keep 7 days log) feature you looking for</p>\n\n<p>sample</p>\n\n<pre><code>log4j.appender.DRF=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.DRF.File=example.log\nlog4j.appender.DRF.DatePattern='.'yyyy-MM-dd\n</code></pre>\n\n<p>I do come across something call <strong>org.apache.log4j.CompositeRollingAppender</strong>, which is combine both the features of the <strong>RollingFileAppender</strong> (maxSizeRollBackups, no. of backup file) and <strong>DailyRollingFileAppender</strong> (roll by day). </p>\n\n<p>But have not tried that out, seems is not the standard 1.2 branch log4j feature.</p>\n"},{"tags":[],"owner":{"account_id":141726,"reputation":10745,"user_id":348975,"accept_rate":86,"display_name":"emory"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1284112641,"creation_date":1284112641,"answer_id":3683687,"question_id":3683364,"body_markdown":"\r\nIf you are using Linux, you can configure a cron job using tmpwatch.\r\n\r\nMost Linux systems have a tmpwatch cron job that cleans up the /tmp directory.  You can add another that monitors your logging directory and deletes files over 7 days old.\r\n\r\nIf you are using a different system, there are probably equivalent utilities.\r\n","title":"How to configure log4j to only keep log files for the last seven days?","body":"<p>If you are using Linux, you can configure a cron job using tmpwatch.</p>\n\n<p>Most Linux systems have a tmpwatch cron job that cleans up the /tmp directory.  You can add another that monitors your logging directory and deletes files over 7 days old.</p>\n\n<p>If you are using a different system, there are probably equivalent utilities.</p>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":5,"up_vote_count":37,"is_accepted":true,"score":32,"last_activity_date":1284112798,"creation_date":1284112798,"answer_id":3683702,"question_id":3683364,"body_markdown":"You can perform your housekeeping in a separate script which can be cronned to run daily. Something like this:\r\n\r\n    find /path/to/logs -type f -mtime +7 -exec rm -f {} \\;","title":"How to configure log4j to only keep log files for the last seven days?","body":"<p>You can perform your housekeeping in a separate script which can be cronned to run daily. Something like this:</p>\n\n<pre><code>find /path/to/logs -type f -mtime +7 -exec rm -f {} \\;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4163013,"reputation":1,"user_id":3412655,"display_name":"Al Foltran"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1395948949,"creation_date":1395945395,"answer_id":22696323,"question_id":3683364,"body_markdown":"The class `DailyRollingFileAppender` uses the **DatePattern** option to specify the rolling schedule. This pattern should follow the `SimpleDateFormat` conventions from **Std. Ed. v1.4.2**. So, we have to use `E` option (Day in week). For example:\r\n\r\n    &lt;param name=&quot;DatePattern&quot; value=&quot;&#39;.&#39;EEE&quot;/&gt;\r\n\r\nSee more about `DailyRollingFileAppender` class from `log4j` **javadoc** [here][1]. Unfortunately the Java 1.4.2 documentation is no longer online, but you can download a copy [here][2].\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/DailyRollingFileAppender.html\r\n  [2]: http://docs.oracle.com/javase/1.4.2/docs/api/","title":"How to configure log4j to only keep log files for the last seven days?","body":"<p>The class <code>DailyRollingFileAppender</code> uses the <strong>DatePattern</strong> option to specify the rolling schedule. This pattern should follow the <code>SimpleDateFormat</code> conventions from <strong>Std. Ed. v1.4.2</strong>. So, we have to use <code>E</code> option (Day in week). For example:</p>\n\n<pre><code>&lt;param name=\"DatePattern\" value=\"'.'EEE\"/&gt;\n</code></pre>\n\n<p>See more about <code>DailyRollingFileAppender</code> class from <code>log4j</code> <strong>javadoc</strong> <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/DailyRollingFileAppender.html\" rel=\"nofollow\">here</a>. Unfortunately the Java 1.4.2 documentation is no longer online, but you can download a copy <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":4517901,"reputation":1,"user_id":3672150,"display_name":"Martin Riedel"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1400950904,"creation_date":1400950904,"answer_id":23847580,"question_id":3683364,"body_markdown":"I create this Methode and call it by closing the application:\r\n\r\n      public void deleteFiles(){\r\n        \r\n        File f = new File(&quot;log&quot;);\r\n        File[] fileArray = f.listFiles();\r\n        double timenow = System.currentTimeMillis();\r\n        \r\n        double olderTenDays = timenow - 864000000;// MS for ten days\r\n       \r\n        for (int i = 0; i &lt; fileArray.length; i++) {\r\n         \r\n            if(fileArray[i].lastModified()&lt; olderTenDays )\r\n               fileArray[i].delete();\r\n        }\r\n     }","title":"How to configure log4j to only keep log files for the last seven days?","body":"<p>I create this Methode and call it by closing the application:</p>\n\n<pre><code>  public void deleteFiles(){\n\n    File f = new File(\"log\");\n    File[] fileArray = f.listFiles();\n    double timenow = System.currentTimeMillis();\n\n    double olderTenDays = timenow - 864000000;// MS for ten days\n\n    for (int i = 0; i &lt; fileArray.length; i++) {\n\n        if(fileArray[i].lastModified()&lt; olderTenDays )\n           fileArray[i].delete();\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2636005,"reputation":445,"user_id":2280662,"accept_rate":80,"display_name":"Tim Overly"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1403616282,"creation_date":1403616282,"answer_id":24387847,"question_id":3683364,"body_markdown":"I came across this appender [here][1] that does what you want, it can be configured to keep a specific number of files that have been rolled over by date.\r\n\r\nDownload: http://www.simonsite.org.uk/download.htm\r\n\r\nExample (groovy):\r\n\r\n    new TimeAndSizeRollingAppender(name: &#39;timeAndSizeRollingAppender&#39;,\r\n       file: &#39;logs/app.log&#39;, datePattern: &#39;.yyyy-MM-dd&#39;,\r\n       maxRollFileCount: 7, compressionAlgorithm: &#39;GZ&#39;,\r\n       compressionMinQueueSize: 2,\r\n       layout: pattern(conversionPattern: &quot;%d [%t] %-5p %c{2} %x - %m%n&quot;))\r\n\r\n\r\n  [1]: http://mrhaki.blogspot.com/2011/02/grails-goodness-use-timeandsizerollinga.html","title":"How to configure log4j to only keep log files for the last seven days?","body":"<p>I came across this appender <a href=\"http://mrhaki.blogspot.com/2011/02/grails-goodness-use-timeandsizerollinga.html\" rel=\"nofollow\">here</a> that does what you want, it can be configured to keep a specific number of files that have been rolled over by date.</p>\n\n<p>Download: <a href=\"http://www.simonsite.org.uk/download.htm\" rel=\"nofollow\">http://www.simonsite.org.uk/download.htm</a></p>\n\n<p>Example (groovy):</p>\n\n<pre><code>new TimeAndSizeRollingAppender(name: 'timeAndSizeRollingAppender',\n   file: 'logs/app.log', datePattern: '.yyyy-MM-dd',\n   maxRollFileCount: 7, compressionAlgorithm: 'GZ',\n   compressionMinQueueSize: 2,\n   layout: pattern(conversionPattern: \"%d [%t] %-5p %c{2} %x - %m%n\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":444115,"reputation":1974,"user_id":835745,"accept_rate":75,"display_name":"user835745"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1412101114,"creation_date":1412100536,"answer_id":26127295,"question_id":3683364,"body_markdown":"I had set:\r\n\r\n&gt;     log4j.appender.R=org.apache.log4j.DailyRollingFileAppender\r\n&gt;     log4j.appender.R.DatePattern=&#39;.&#39;yyyy-MM-dd\r\n&gt;     # Archive log files (Keep one year of daily files)\r\n&gt;     log4j.appender.R.MaxBackupIndex=367\r\n\r\nLike others before me, the DEBUG option showed me the error:\r\n\r\n&gt; log4j:WARN No such property [maxBackupIndex] in\r\n&gt; org.apache.log4j.DailyRollingFileAppender.\r\n\r\nHere is an idea I have not tried yet, suppose I set the DatePattern such that the files overwrite each other after the required time period. To retain a year&#39;s worth I could try setting:\r\n\r\n&gt;     log4j.appender.R.DatePattern=&#39;.&#39;MM-dd\r\n\r\nWould it work or would it cause an error ?\r\nLike that it will take a year to find out, I could try:\r\n\r\n&gt;     log4j.appender.R.DatePattern=&#39;.&#39;dd\r\n\r\nbut it will still take a month to find out.\r\n\r\n","title":"How to configure log4j to only keep log files for the last seven days?","body":"<p>I had set:</p>\n\n<blockquote>\n<pre><code>log4j.appender.R=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.R.DatePattern='.'yyyy-MM-dd\n# Archive log files (Keep one year of daily files)\nlog4j.appender.R.MaxBackupIndex=367\n</code></pre>\n</blockquote>\n\n<p>Like others before me, the DEBUG option showed me the error:</p>\n\n<blockquote>\n  <p>log4j:WARN No such property [maxBackupIndex] in\n  org.apache.log4j.DailyRollingFileAppender.</p>\n</blockquote>\n\n<p>Here is an idea I have not tried yet, suppose I set the DatePattern such that the files overwrite each other after the required time period. To retain a year's worth I could try setting:</p>\n\n<blockquote>\n<pre><code>log4j.appender.R.DatePattern='.'MM-dd\n</code></pre>\n</blockquote>\n\n<p>Would it work or would it cause an error ?\nLike that it will take a year to find out, I could try:</p>\n\n<blockquote>\n<pre><code>log4j.appender.R.DatePattern='.'dd\n</code></pre>\n</blockquote>\n\n<p>but it will still take a month to find out.</p>\n"},{"tags":[],"owner":{"account_id":8090549,"reputation":21,"user_id":6096623,"display_name":"Ketan K Shah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458622388,"creation_date":1458617159,"answer_id":36145602,"question_id":3683364,"body_markdown":"Use the setting `log4j.appender.FILE.RollingPolicy.FileNamePattern`, e.g. `log4j.appender.FILE.RollingPolicy.FileNamePattern=F:/logs/filename.log.%d{dd}.gz` for keeping logs one month before rolling over.\r\n\r\nI didn&#39;t wait for one month to check but I tried with mm (i.e. minutes) and confirmed it overwrites, so I am assuming it will work for all patterns.","title":"How to configure log4j to only keep log files for the last seven days?","body":"<p>Use the setting <code>log4j.appender.FILE.RollingPolicy.FileNamePattern</code>, e.g. <code>log4j.appender.FILE.RollingPolicy.FileNamePattern=F:/logs/filename.log.%d{dd}.gz</code> for keeping logs one month before rolling over.</p>\n\n<p>I didn't wait for one month to check but I tried with mm (i.e. minutes) and confirmed it overwrites, so I am assuming it will work for all patterns.</p>\n"},{"tags":[],"owner":{"account_id":5030676,"reputation":161,"user_id":4040944,"display_name":"skim"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1642507979,"creation_date":1488381466,"answer_id":42535483,"question_id":3683364,"body_markdown":"log4j2 now has support to delete old logs. \r\n\r\nTake a look at [DefaultRolloverStrategy tag][1] and at the snippets below. \r\n\r\n\r\nIt \r\n- creates up to 10 archives on the same day, \r\n- will parse the ${baseDir} directory that you define under the Properties tag at max depth of 2 with log filename matching &quot;app-*.log.gz&quot; \r\n- delete logs older than 7 days but keep the most recent 5 logs if your most recent 5 logs are older than 7 days.\r\n\r\n      &lt;DefaultRolloverStrategy max=&quot;10&quot;&gt;\r\n        &lt;Delete basePath=&quot;${baseDir}&quot; maxDepth=&quot;2&quot;&gt;\r\n          &lt;IfFileName glob=&quot;*/app-*.log.gz&quot;&gt;\r\n            &lt;IfLastModified age=&quot;7d&quot;&gt;\r\n              &lt;IfAny&gt;\r\n                &lt;IfAccumulatedFileCount exceeds=&quot;5&quot; /&gt;\r\n              &lt;/IfAny&gt;\r\n            &lt;/IfLastModified&gt;\r\n          &lt;/IfFileName&gt;\r\n        &lt;/Delete&gt;\r\n      &lt;/DefaultRolloverStrategy&gt;\r\n\r\nA good debug option is if you set:\r\n\r\n    &lt;Configuration status=&quot;trace&quot;&gt;\r\n\r\nand use testMode Option like this:\r\n\r\n            &lt;DefaultRolloverStrategy&gt;\r\n              &lt;Delete basePath=&quot;${baseDir}&quot; testMode=&quot;true&quot;&gt;\r\n                &lt;IfFileName glob=&quot;*.log&quot; /&gt;\r\n                &lt;IfLastModified age=&quot;7d&quot; /&gt;\r\n              &lt;/Delete&gt;\r\n            &lt;/DefaultRolloverStrategy&gt;\r\n\t\t\t\r\nYou can see in console log what files would get deleted without deleting the files right away.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/appenders.html#DefaultRolloverStrategy","title":"How to configure log4j to only keep log files for the last seven days?","body":"<p>log4j2 now has support to delete old logs.</p>\n<p>Take a look at <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#DefaultRolloverStrategy\" rel=\"nofollow noreferrer\">DefaultRolloverStrategy tag</a> and at the snippets below.</p>\n<p>It</p>\n<ul>\n<li><p>creates up to 10 archives on the same day,</p>\n</li>\n<li><p>will parse the ${baseDir} directory that you define under the Properties tag at max depth of 2 with log filename matching &quot;app-*.log.gz&quot;</p>\n</li>\n<li><p>delete logs older than 7 days but keep the most recent 5 logs if your most recent 5 logs are older than 7 days.</p>\n<pre><code>&lt;DefaultRolloverStrategy max=&quot;10&quot;&gt;\n  &lt;Delete basePath=&quot;${baseDir}&quot; maxDepth=&quot;2&quot;&gt;\n    &lt;IfFileName glob=&quot;*/app-*.log.gz&quot;&gt;\n      &lt;IfLastModified age=&quot;7d&quot;&gt;\n        &lt;IfAny&gt;\n          &lt;IfAccumulatedFileCount exceeds=&quot;5&quot; /&gt;\n        &lt;/IfAny&gt;\n      &lt;/IfLastModified&gt;\n    &lt;/IfFileName&gt;\n  &lt;/Delete&gt;\n&lt;/DefaultRolloverStrategy&gt;\n</code></pre>\n</li>\n</ul>\n<p>A good debug option is if you set:</p>\n<pre><code>&lt;Configuration status=&quot;trace&quot;&gt;\n</code></pre>\n<p>and use testMode Option like this:</p>\n<pre><code>        &lt;DefaultRolloverStrategy&gt;\n          &lt;Delete basePath=&quot;${baseDir}&quot; testMode=&quot;true&quot;&gt;\n            &lt;IfFileName glob=&quot;*.log&quot; /&gt;\n            &lt;IfLastModified age=&quot;7d&quot; /&gt;\n          &lt;/Delete&gt;\n        &lt;/DefaultRolloverStrategy&gt;\n        \n</code></pre>\n<p>You can see in console log what files would get deleted without deleting the files right away.</p>\n"},{"tags":[],"owner":{"account_id":5695379,"reputation":187,"user_id":4502049,"accept_rate":0,"display_name":"Vaibhav Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510736124,"creation_date":1510736124,"answer_id":47303065,"question_id":3683364,"body_markdown":"Inspite of starting a chrone job, for the task, we can use log4j2.properties file in config folder of logstash. Have a look at the link below, this will be helpful.\r\n\r\n[https://github.com/elastic/logstash/issues/7482][1] \r\n\r\n\r\n  [1]: https://github.com/elastic/logstash/issues/7482","title":"How to configure log4j to only keep log files for the last seven days?","body":"<p>Inspite of starting a chrone job, for the task, we can use log4j2.properties file in config folder of logstash. Have a look at the link below, this will be helpful.</p>\n\n<p><a href=\"https://github.com/elastic/logstash/issues/7482\" rel=\"nofollow noreferrer\">https://github.com/elastic/logstash/issues/7482</a> </p>\n"},{"tags":[],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594648968,"creation_date":1594646765,"answer_id":62876844,"question_id":3683364,"body_markdown":"My script based on @dogbane&#39;s answer\r\n\r\n/etc/cron.daily/hbase\r\n\r\n    #!/bin/sh\r\n    find /var/log/hbase -type f -name &quot;phoenix-hbase-server.log.[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]&quot; -exec bzip2 {} &quot;;&quot;\r\n    find /var/log/hbase -type f -regex &quot;.*.out.[0-9][0-9]?&quot; -exec bzip2 {} &quot;;&quot;\r\n    find /var/log/hbase -type f -mtime +7 -name &quot;*.bz2&quot; -exec rm -f {} &quot;;&quot;\r\n\r\n/etc/cron.daily/tomcat\r\n\r\n    #!/bin/sh\r\n    find /opt/tomcat/log/ -type f -mtime +1 -name &quot;*.[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9].*log&quot; -exec bzip2 {} &quot;;&quot;\r\n    find /opt/tomcat/log/ -type f -mtime +1 -name &quot;*.[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9].txt&quot; -exec bzip2 {} &quot;;&quot;\r\n    find /opt/tomcat/log/ -type f -mtime +7 -name &quot;*.bz2&quot; -exec rm -f {} &quot;;&quot;\r\n\r\nbecause Tomcat rotate needs one day delay.","title":"How to configure log4j to only keep log files for the last seven days?","body":"<p>My script based on @dogbane's answer</p>\n<p>/etc/cron.daily/hbase</p>\n<pre><code>#!/bin/sh\nfind /var/log/hbase -type f -name &quot;phoenix-hbase-server.log.[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]&quot; -exec bzip2 {} &quot;;&quot;\nfind /var/log/hbase -type f -regex &quot;.*.out.[0-9][0-9]?&quot; -exec bzip2 {} &quot;;&quot;\nfind /var/log/hbase -type f -mtime +7 -name &quot;*.bz2&quot; -exec rm -f {} &quot;;&quot;\n</code></pre>\n<p>/etc/cron.daily/tomcat</p>\n<pre><code>#!/bin/sh\nfind /opt/tomcat/log/ -type f -mtime +1 -name &quot;*.[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9].*log&quot; -exec bzip2 {} &quot;;&quot;\nfind /opt/tomcat/log/ -type f -mtime +1 -name &quot;*.[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9].txt&quot; -exec bzip2 {} &quot;;&quot;\nfind /opt/tomcat/log/ -type f -mtime +7 -name &quot;*.bz2&quot; -exec rm -f {} &quot;;&quot;\n</code></pre>\n<p>because Tomcat rotate needs one day delay.</p>\n"}],"owner":{"account_id":59864,"reputation":11232,"user_id":179014,"accept_rate":60,"display_name":"asmaier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178241,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":3683702,"answer_count":14,"score":60,"last_activity_date":1642507979,"creation_date":1284109379,"question_id":3683364,"body_markdown":"I have the following logging problem with several Java applications using `log4j` for logging:\r\n\r\nI want log files to be rotated daily, like\r\n\r\n    log.2010-09-10\r\n    log.2010-09-09\r\n    log.2010-09-08\r\n    log.2010-09-07\r\n    log.2010-09-06\r\n    log.2010-09-05\r\n    log.2010-09-04\r\n\r\nBut for data security reasons we are not allowed to keep log files for longer than seven days at my company. So the generation of the next next log file `log.2010-09-11` should trigger the deletion of `log.2010-09-04`. Is it possible to configure such a behaviour with `log4j`? If not, do you know another elegant solution for this kind of logging problem?\r\n\r\n","title":"How to configure log4j to only keep log files for the last seven days?","body":"<p>I have the following logging problem with several Java applications using <code>log4j</code> for logging:</p>\n\n<p>I want log files to be rotated daily, like</p>\n\n<pre><code>log.2010-09-10\nlog.2010-09-09\nlog.2010-09-08\nlog.2010-09-07\nlog.2010-09-06\nlog.2010-09-05\nlog.2010-09-04\n</code></pre>\n\n<p>But for data security reasons we are not allowed to keep log files for longer than seven days at my company. So the generation of the next next log file <code>log.2010-09-11</code> should trigger the deletion of <code>log.2010-09-04</code>. Is it possible to configure such a behaviour with <code>log4j</code>? If not, do you know another elegant solution for this kind of logging problem?</p>\n"},{"tags":["java","android","kotlin","task"],"comments":[{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1642507324,"post_id":70755157,"comment_id":125083920,"body_markdown":"Why ask when you can try? Try one of the solutions you said and if you encounter any problem, you can ask a question here about it.","body":"Why ask when you can try? Try one of the solutions you said and if you encounter any problem, you can ask a question here about it."},{"owner":{"account_id":23263487,"reputation":3,"user_id":17349430,"display_name":"user17349430"},"score":0,"creation_date":1643347383,"post_id":70755157,"comment_id":125320585,"body_markdown":"You&#39;re right, that what I should&#39;ve done","body":"You&#39;re right, that what I should&#39;ve done"}],"answers":[{"tags":[],"owner":{"account_id":18132803,"reputation":434,"user_id":13187710,"display_name":"Filip Petrovski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642507807,"creation_date":1642507807,"answer_id":70755394,"question_id":70755157,"body_markdown":"I will try and give a general answer.\r\nUsually when it comes to such requirements it is good to compare the date and time of the last item that was created and the current date and time. That means you would need to store the item in a database.\r\n\r\nThe reason I&#39;m suggesting such an approach is because a user might close your app, or the OS might put it to sleep / terminate it and all of your tasks and timers might be stopped. By having it persisted in a DB, you can always be sure your requirements are met. \r\n\r\nFor example if the requirement is 24 hours or perhaps just a calendar day (after midnight), then you would do the comparison and know if they have been met and allow the creation of new items, or not. \r\n\r\nAdditionally, it&#39;s always good to try and experiment at first. See what works and what doesn&#39;t before asking your question.\r\nGood luck. \r\n","title":"How can I limit the user to add only one item to a ResycleView per day in kotlin","body":"<p>I will try and give a general answer.\nUsually when it comes to such requirements it is good to compare the date and time of the last item that was created and the current date and time. That means you would need to store the item in a database.</p>\n<p>The reason I'm suggesting such an approach is because a user might close your app, or the OS might put it to sleep / terminate it and all of your tasks and timers might be stopped. By having it persisted in a DB, you can always be sure your requirements are met.</p>\n<p>For example if the requirement is 24 hours or perhaps just a calendar day (after midnight), then you would do the comparison and know if they have been met and allow the creation of new items, or not.</p>\n<p>Additionally, it's always good to try and experiment at first. See what works and what doesn't before asking your question.\nGood luck.</p>\n"}],"owner":{"account_id":23263487,"reputation":3,"user_id":17349430,"display_name":"user17349430"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1642508959,"accepted_answer_id":70755394,"answer_count":1,"score":-3,"last_activity_date":1642507807,"creation_date":1642506639,"question_id":70755157,"body_markdown":"is there a way to make the user add just one item per day, then get an alert saying &quot;only one time a day&quot;\r\n\r\nwhat to use, coroutine,  tasktimer, work manger ?","title":"How can I limit the user to add only one item to a ResycleView per day in kotlin","body":"<p>is there a way to make the user add just one item per day, then get an alert saying &quot;only one time a day&quot;</p>\n<p>what to use, coroutine,  tasktimer, work manger ?</p>\n"},{"tags":["java","linux","ubuntu","jar","javasound"],"comments":[{"owner":{"account_id":14709065,"reputation":9457,"user_id":10622916,"display_name":"Bodo"},"score":0,"creation_date":1642004627,"post_id":70684725,"comment_id":124958661,"body_markdown":"The exception you throw seems to be caused by some failure of the code around `//initialize new Mixer`. Maybe you should debug this part of the code for the 63th audio file.","body":"The exception you throw seems to be caused by some failure of the code around <code>&#47;&#47;initialize new Mixer</code>. Maybe you should debug this part of the code for the 63th audio file."},{"owner":{"account_id":23044247,"reputation":23,"user_id":17162004,"display_name":"Jan Rother"},"score":0,"creation_date":1642005076,"post_id":70684725,"comment_id":124958884,"body_markdown":"Thanks for your hint, @Bodo. I will try to install IntelliJ on my virtual machine and debug my program in Linux.","body":"Thanks for your hint, @Bodo. I will try to install IntelliJ on my virtual machine and debug my program in Linux."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1642044187,"post_id":70684725,"comment_id":124969520,"body_markdown":"Change all the catches to first `e.printStackTrace()`. The code as-is throws away valuable information. I&#39;d generally use [`AudioSystem.getAudioInputStream(URL)`](https://docs.oracle.com/javase/7/docs/api/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.net.URL)) over the versions seen above.","body":"Change all the catches to first <code>e.printStackTrace()</code>. The code as-is throws away valuable information. I&#39;d generally use <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.net.URL)\" rel=\"nofollow noreferrer\"><code>AudioSystem.getAudioInputStream(URL)</code></a> over the versions seen above."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1642059746,"post_id":70684725,"comment_id":124972487,"body_markdown":"You are opening resources (input streams, possibly others like related to the audio system),  but not closing them, possibly you&#39;re running into some open handle limit. Please use [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) to ensure you close every resource when you&#39;re done with them.","body":"You are opening resources (input streams, possibly others like related to the audio system),  but not closing them, possibly you&#39;re running into some open handle limit. Please use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> to ensure you close every resource when you&#39;re done with them."},{"owner":{"account_id":908335,"reputation":5155,"user_id":942774,"accept_rate":100,"display_name":"Hendrik"},"score":1,"creation_date":1642061329,"post_id":70684725,"comment_id":124972986,"body_markdown":"Just to elaborate on @AndrewThompson &#39;s hint: By using an `InputStream` rather than a `URL` you are throwing away a valuable hint for the `AudioSystem`, the file extension. Without it, the system has to parse your stream and guess the file type in order to decode it. With the `.wav` file extension, which should be in the URL, it&#39;s much easier.","body":"Just to elaborate on @AndrewThompson &#39;s hint: By using an <code>InputStream</code> rather than a <code>URL</code> you are throwing away a valuable hint for the <code>AudioSystem</code>, the file extension. Without it, the system has to parse your stream and guess the file type in order to decode it. With the <code>.wav</code> file extension, which should be in the URL, it&#39;s much easier."}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642152798,"creation_date":1642152286,"answer_id":70708419,"question_id":70684725,"body_markdown":"The #1 suggestion is by Mark Rotteveel. The `AudioInputStream` class needs closing. This is often a surprise for people, because Java is well known for managing garbage collection. But for `AudioInputStream` there are resources that need to be released. The API doesn&#39;t do an adequate job of pointing this out, imho, but the need for handling can be inferred from the description for the [AudioInputStream.close()][1] method:\r\n\r\n&gt; Closes this audio input stream and releases any system resources\r\n&gt; associated with the stream.\r\n\r\nThe #2 suggestion is from both Andrew Thompson and Hendrik may be more a helpful hint than a direct solution, but it is still a very good idea, and it seems plausible to me that the inefficiency of all the additional, unneeded infrastructure (`ClassLoader`, `InputStream`, `BufferedInputStream`) might be contributing to the issue. But I really don&#39;t have a good enough understanding of the underlying code to know how pertinent that is. \r\n\r\nHowever, I think you can do even better. Don&#39;t use `Clip`. You current use of `Clip` goes against the concept of its design. `Clips` are meant for short duration sounds that are to be held in memory and played multiple times, not files that are repeatedly reloaded before each playback. The proper class for this sort of use (load and play) is the `SourceDataLine`.\r\n\r\nAn example of playback using a `SourceDataLine` can be found in the [javasound][2] wiki. This example also illustrates the use of `URL` for obtaining the necessary `AudioInputStream`. I will quote it here verbatim.\r\n\r\n    public class ExampleSourceDataLine {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            \r\n            // Name string uses relative addressing, assumes the resource is  \r\n            // located in &quot;audio&quot; child folder of folder holding this class.\r\n            URL url = ExampleSourceDataLine.class.getResource(&quot;audio/371535__robinhood76__06934-distant-ship-horn.wav&quot;);\r\n            // The wav file named above was obtained from https://freesound.org/people/Robinhood76/sounds/371535/ \r\n            // and matches the audioFormat.\r\n            AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(url);\r\n            \r\n            AudioFormat audioFormat = new AudioFormat(\r\n                    Encoding.PCM_SIGNED, 44100, 16, 2, 4, 44100, false);\r\n            Info info = new DataLine.Info(SourceDataLine.class, audioFormat);\r\n            SourceDataLine sourceDataLine = (SourceDataLine)AudioSystem.getLine(info);\r\n            sourceDataLine.open(audioFormat);\r\n            \r\n            int bytesRead = 0;\r\n            byte[] buffer = new byte[1024];\r\n            sourceDataLine.start();\r\n            while((bytesRead = audioInputStream.read(buffer)) != -1)\r\n            {\r\n                // It is possible at this point manipulate the data in buffer[].\r\n                // The write operation blocks while the system plays the sound.\r\n                sourceDataLine.write(buffer, 0, bytesRead);                                 \r\n            }   \r\n            sourceDataLine.drain();\r\n            // release resources\r\n            sourceDataLine.close();\r\n            audioInputStream.close();\r\n        }\r\n    }\r\n\r\nYou will have to do some editing, as the example was set up to run via a `main` method. Also, you&#39;ll be using your audio format, and that the names of the audio files with their folder locations will have to match the relative or absolute location specified in the argument you use in `getResource()` method. Also, a larger size for the `buffer` array might be preferred. (I often use 8192).\r\n\r\nBut most importantly, notice that in this example, we close both the `SourceDataLine` and the `AudioInputStream`. The alternate suggestion to use try-with-resources is a good one and will also release the resources.\r\n\r\nIf there are difficulties altering the above to fit into your program, I&#39;m sure if you show us what you try, we can help with making it work.\r\n  \r\n[1]: https://docs.oracle.com/javase/8/docs/api/javax/sound/sampled/AudioInputStream.html#close--\r\n  [2]: https://stackoverflow.com/tags/javasound/info","title":"Playing audio files from a JAR-application does not work on Linux","body":"<p>The #1 suggestion is by Mark Rotteveel. The <code>AudioInputStream</code> class needs closing. This is often a surprise for people, because Java is well known for managing garbage collection. But for <code>AudioInputStream</code> there are resources that need to be released. The API doesn't do an adequate job of pointing this out, imho, but the need for handling can be inferred from the description for the <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/sound/sampled/AudioInputStream.html#close--\" rel=\"nofollow noreferrer\">AudioInputStream.close()</a> method:</p>\n<blockquote>\n<p>Closes this audio input stream and releases any system resources\nassociated with the stream.</p>\n</blockquote>\n<p>The #2 suggestion is from both Andrew Thompson and Hendrik may be more a helpful hint than a direct solution, but it is still a very good idea, and it seems plausible to me that the inefficiency of all the additional, unneeded infrastructure (<code>ClassLoader</code>, <code>InputStream</code>, <code>BufferedInputStream</code>) might be contributing to the issue. But I really don't have a good enough understanding of the underlying code to know how pertinent that is.</p>\n<p>However, I think you can do even better. Don't use <code>Clip</code>. You current use of <code>Clip</code> goes against the concept of its design. <code>Clips</code> are meant for short duration sounds that are to be held in memory and played multiple times, not files that are repeatedly reloaded before each playback. The proper class for this sort of use (load and play) is the <code>SourceDataLine</code>.</p>\n<p>An example of playback using a <code>SourceDataLine</code> can be found in the <a href=\"https://stackoverflow.com/tags/javasound/info\">javasound</a> wiki. This example also illustrates the use of <code>URL</code> for obtaining the necessary <code>AudioInputStream</code>. I will quote it here verbatim.</p>\n<pre><code>public class ExampleSourceDataLine {\n\n    public static void main(String[] args) throws Exception {\n        \n        // Name string uses relative addressing, assumes the resource is  \n        // located in &quot;audio&quot; child folder of folder holding this class.\n        URL url = ExampleSourceDataLine.class.getResource(&quot;audio/371535__robinhood76__06934-distant-ship-horn.wav&quot;);\n        // The wav file named above was obtained from https://freesound.org/people/Robinhood76/sounds/371535/ \n        // and matches the audioFormat.\n        AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(url);\n        \n        AudioFormat audioFormat = new AudioFormat(\n                Encoding.PCM_SIGNED, 44100, 16, 2, 4, 44100, false);\n        Info info = new DataLine.Info(SourceDataLine.class, audioFormat);\n        SourceDataLine sourceDataLine = (SourceDataLine)AudioSystem.getLine(info);\n        sourceDataLine.open(audioFormat);\n        \n        int bytesRead = 0;\n        byte[] buffer = new byte[1024];\n        sourceDataLine.start();\n        while((bytesRead = audioInputStream.read(buffer)) != -1)\n        {\n            // It is possible at this point manipulate the data in buffer[].\n            // The write operation blocks while the system plays the sound.\n            sourceDataLine.write(buffer, 0, bytesRead);                                 \n        }   \n        sourceDataLine.drain();\n        // release resources\n        sourceDataLine.close();\n        audioInputStream.close();\n    }\n}\n</code></pre>\n<p>You will have to do some editing, as the example was set up to run via a <code>main</code> method. Also, you'll be using your audio format, and that the names of the audio files with their folder locations will have to match the relative or absolute location specified in the argument you use in <code>getResource()</code> method. Also, a larger size for the <code>buffer</code> array might be preferred. (I often use 8192).</p>\n<p>But most importantly, notice that in this example, we close both the <code>SourceDataLine</code> and the <code>AudioInputStream</code>. The alternate suggestion to use try-with-resources is a good one and will also release the resources.</p>\n<p>If there are difficulties altering the above to fit into your program, I'm sure if you show us what you try, we can help with making it work.</p>\n"},{"tags":[],"owner":{"account_id":23044247,"reputation":23,"user_id":17162004,"display_name":"Jan Rother"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642507321,"creation_date":1642507321,"answer_id":70755303,"question_id":70684725,"body_markdown":"After applying the answer from @Phil Freihofner this worked for me:\r\n\r\n    /**\r\n     * plays an audio file\r\n     *\r\n     * @param audioFilePath String: path to the audio file\r\n     * @param speed double: speed applied to the audios\r\n     */\r\n    public boolean singleFile(String audioFilePath) {\r\n\r\n        //get class\r\n        ClassLoader classLoader = getClass().getClassLoader();\r\n\r\n        //use try-with-resources\r\n        //load files from resources folder as stream\r\n        try (\r\n                AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(\r\n                new BufferedInputStream(\r\n                        Objects.requireNonNull(classLoader.getResourceAsStream(audioFilePath))))\r\n        ) {\r\n\r\n            if (audioInputStream == null) {\r\n                throw new IllegalArgumentException(&quot;File not found: &#39;&quot; + audioFilePath + &quot;&#39;.&quot;);\r\n            }\r\n\r\n            //create new AudioFormat\r\n            AudioFormat audioFormat = audioInputStream.getFormat();\r\n\r\n            //create new Info\r\n            DataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat);\r\n\r\n            //create new SourceDataLine and open it\r\n            SourceDataLine sourceDataLine = (SourceDataLine)AudioSystem.getLine(info);\r\n            sourceDataLine.open(audioFormat);\r\n\r\n            //start the play of the audio file\r\n            int bytesRead;\r\n            byte[] buffer = new byte[8192];\r\n            sourceDataLine.start();\r\n\r\n            while ((bytesRead = audioInputStream.read(buffer)) != -1) {\r\n                sourceDataLine.write(buffer, 0, bytesRead);\r\n            }\r\n\r\n            sourceDataLine.drain();\r\n            sourceDataLine.close();\r\n            audioInputStream.close();\r\n\r\n            //return true, because play finished\r\n            return true;\r\n        } catch (Exception e) {\r\n            //ignore exceptions\r\n            return false;\r\n        }\r\n    }\r\n\r\nThak you all for contributing to my solution.","title":"Playing audio files from a JAR-application does not work on Linux","body":"<p>After applying the answer from @Phil Freihofner this worked for me:</p>\n<pre><code>/**\n * plays an audio file\n *\n * @param audioFilePath String: path to the audio file\n * @param speed double: speed applied to the audios\n */\npublic boolean singleFile(String audioFilePath) {\n\n    //get class\n    ClassLoader classLoader = getClass().getClassLoader();\n\n    //use try-with-resources\n    //load files from resources folder as stream\n    try (\n            AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(\n            new BufferedInputStream(\n                    Objects.requireNonNull(classLoader.getResourceAsStream(audioFilePath))))\n    ) {\n\n        if (audioInputStream == null) {\n            throw new IllegalArgumentException(&quot;File not found: '&quot; + audioFilePath + &quot;'.&quot;);\n        }\n\n        //create new AudioFormat\n        AudioFormat audioFormat = audioInputStream.getFormat();\n\n        //create new Info\n        DataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat);\n\n        //create new SourceDataLine and open it\n        SourceDataLine sourceDataLine = (SourceDataLine)AudioSystem.getLine(info);\n        sourceDataLine.open(audioFormat);\n\n        //start the play of the audio file\n        int bytesRead;\n        byte[] buffer = new byte[8192];\n        sourceDataLine.start();\n\n        while ((bytesRead = audioInputStream.read(buffer)) != -1) {\n            sourceDataLine.write(buffer, 0, bytesRead);\n        }\n\n        sourceDataLine.drain();\n        sourceDataLine.close();\n        audioInputStream.close();\n\n        //return true, because play finished\n        return true;\n    } catch (Exception e) {\n        //ignore exceptions\n        return false;\n    }\n}\n</code></pre>\n<p>Thak you all for contributing to my solution.</p>\n"}],"owner":{"account_id":23044247,"reputation":23,"user_id":17162004,"display_name":"Jan Rother"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70708419,"answer_count":2,"score":1,"last_activity_date":1642507321,"creation_date":1642003539,"question_id":70684725,"body_markdown":"I need some help with my Java application. Its purpose is to read a certain website, so I need to play many audio files in a row. The JAR is compiled using Java 8. I tested my application with Windows 11 and Java 16.0.1, everything works fine. Then I used the latest Ubuntu Linux and Java 11.0.13 as well as Java 8: It plays some audio, but not every file.\r\n\r\nI wrote a test class and the result was, that - no matter in which order I play the audio - only the first (exactly!) 62 files are played. Every next file (even the ones, that were successfully played at first) produces the exception my code throws at this position:\r\n\r\n    if (mixerSelected != null) {\r\n        audioClip0 = AudioSystem.getClip(mixerSelected);\r\n    } else {\r\n        throw new IllegalArgumentException(&quot;File is not compatible: &#39;&quot; + audioFilePath + &quot;&#39;.&quot;);\r\n    }\r\n\r\nI ensured that every audio file is `.WAV` with\r\n - 8k sample rate,\r\n - 16k Bytes per second in average,\r\n - 16 Bits, and\r\n - pcm_s16le codec.\r\n\r\nMy application is built as JAR-file including my audio files in the resources directory.\r\n\r\nThis is my code:\r\n\r\n    public class PlayAudio {\r\n    \r\n        /**\r\n         * plays an audio file\r\n         *\r\n         * @param audioFilePath String: path to the audio file\r\n         * @param speed double: speed applied to the audios\r\n         */\r\n        public boolean singleFile(String audioFilePath, double speed) {\r\n    \r\n            //audioFilePath = &quot;audio&quot; + File.separator + audioFilePath;\r\n            audioFilePath = &quot;audio&quot; + &quot;/&quot; + audioFilePath;\r\n    \r\n            AudioInputStream audioStream0;\r\n    \r\n            //create new file using path to the audio\r\n            try {\r\n                //load files from resources folder as stream\r\n                ClassLoader classLoader = getClass().getClassLoader();\r\n                InputStream inputStream = classLoader.getResourceAsStream(audioFilePath);\r\n                InputStream bufferedInputStream = new BufferedInputStream(inputStream);\r\n    \r\n                if (bufferedInputStream == null) {\r\n                    throw new IllegalArgumentException(&quot;File not found: &#39;&quot; + audioFilePath + &quot;&#39;.&quot;);\r\n                } else {\r\n                    //create new AudioStream\r\n                    audioStream0 = AudioSystem.getAudioInputStream(bufferedInputStream);\r\n                }\r\n            } catch (IllegalArgumentException e) {\r\n                //handle\r\n                return false;\r\n            } catch (IOException e) {\r\n                //handle\r\n                return false;\r\n            } catch (UnsupportedAudioFileException e) {\r\n                //handle\r\n                return false;\r\n            }\r\n    \r\n            try {\r\n                //create new AudioFormat\r\n                AudioFormat audioFormat0 = audioStream0.getFormat();\r\n    \r\n                //create new Info\r\n                DataLine.Info info0 = new DataLine.Info(Clip.class, audioFormat0);\r\n    \r\n                //initialize new Mixer\r\n                Mixer.Info mixerSelected = null;\r\n    \r\n                for (Mixer.Info mixerInfo : AudioSystem.getMixerInfo()) {\r\n                    Mixer mixer = AudioSystem.getMixer(mixerInfo);\r\n    \r\n                    if (mixer.isLineSupported(info0)) {\r\n                        mixerSelected = mixerInfo;\r\n                        break;\r\n                    }\r\n                }\r\n    \r\n                //create new Clip\r\n                Clip audioClip0;\r\n    \r\n                if (mixerSelected != null) {\r\n                    audioClip0 = AudioSystem.getClip(mixerSelected);\r\n                } else {\r\n                    //THIS EXCEPTION GETS THROWN!!!\r\n                    throw new IllegalArgumentException(&quot;File is not compatible: &#39;&quot; + audioFilePath + &quot;&#39;.&quot;);\r\n                }\r\n    \r\n                //open created Clips via created AudioStream\r\n                audioClip0.open(audioStream0);\r\n    \r\n                //start the play of audio file\r\n                audioClip0.start();\r\n    \r\n                //wait until play completed\r\n                double waitTime = (double)((((double)audioClip0.getMicrosecondLength()/1000.0)/speed + 50.0) * 0.8);\r\n                Thread.sleep((long)waitTime);\r\n    \r\n                return true;\r\n    \r\n            //handle exceptions\r\n            } catch (LineUnavailableException e) {\r\n                //handle\r\n                return false;\r\n            } catch (IOException e) {\r\n                //handle\r\n                return false;\r\n            } catch (InterruptedException e) {\r\n                //handle\r\n                return false;\r\n            } catch (IllegalArgumentException e) {\r\n                //THIS EXCEPTION GETS THROWN!!!\r\n                //handle invalid audio clips\r\n                System.out.println(e);\r\n                e.printStackTrace();\r\n                return false;\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n        /**\r\n         * plays multiple audio files in the order they are stored in an ArrayList\r\n         *\r\n         * @param fileNames ArrayList&lt;String&gt;: list with filenames of audio files to play\r\n         * @param speaker String: speaker to use for playing the audios (can be &#39;m&#39; or &#39;w&#39;)\r\n         * @param speed double: speed applied to the audios\r\n         * @return boolean: true if playing audios completed successfully, otherwise false\r\n         */\r\n        public static boolean multiFiles(ArrayList&lt;String&gt; fileNames, String speaker, double speed) {\r\n    \r\n            PlayAudio player = new PlayAudio();\r\n    \r\n            //play every audio file in the array of file names\r\n            for (int i = 0; (i &lt; fileNames.toArray().length); i ++) {\r\n                //generate file names\r\n                String fullFileName = speaker + &quot;_&quot; + fileNames.toArray()[i];\r\n    \r\n                //play audio\r\n                player.singleFile(fullFileName, speed);\r\n            }\r\n    \r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n**What did I already try?**\r\n\r\n 1. I tried it on another computer that runs Ubuntu Linux as well.\r\n 2. I created a new instance of `PlayAudio()` everytime a new audio is played.\r\n 3. I used `audioClip0.stop();` after every audio.\r\n 4. I increased the milliseconds of sleep after every audio to length of the audio plus 1 second.\r\n 5. I rebuilt the projects ... nearly 1k times.\r\n\r\n**How can I reproduce the error?**\r\n\r\nI simply need to play more than 62 audio files running my JAR-file under Linux Ubuntu.\r\n\r\n**How can you help me?**\r\n\r\nI don&#39;t know how to handle this issue. What is the problem playing `.WAV`-files with Linux?\r\nIs there a common way to fix this?\r\n(I am not allowed to use any library except OracleJDK and OpenJDK.)","title":"Playing audio files from a JAR-application does not work on Linux","body":"<p>I need some help with my Java application. Its purpose is to read a certain website, so I need to play many audio files in a row. The JAR is compiled using Java 8. I tested my application with Windows 11 and Java 16.0.1, everything works fine. Then I used the latest Ubuntu Linux and Java 11.0.13 as well as Java 8: It plays some audio, but not every file.</p>\n<p>I wrote a test class and the result was, that - no matter in which order I play the audio - only the first (exactly!) 62 files are played. Every next file (even the ones, that were successfully played at first) produces the exception my code throws at this position:</p>\n<pre><code>if (mixerSelected != null) {\n    audioClip0 = AudioSystem.getClip(mixerSelected);\n} else {\n    throw new IllegalArgumentException(&quot;File is not compatible: '&quot; + audioFilePath + &quot;'.&quot;);\n}\n</code></pre>\n<p>I ensured that every audio file is <code>.WAV</code> with</p>\n<ul>\n<li>8k sample rate,</li>\n<li>16k Bytes per second in average,</li>\n<li>16 Bits, and</li>\n<li>pcm_s16le codec.</li>\n</ul>\n<p>My application is built as JAR-file including my audio files in the resources directory.</p>\n<p>This is my code:</p>\n<pre><code>public class PlayAudio {\n\n    /**\n     * plays an audio file\n     *\n     * @param audioFilePath String: path to the audio file\n     * @param speed double: speed applied to the audios\n     */\n    public boolean singleFile(String audioFilePath, double speed) {\n\n        //audioFilePath = &quot;audio&quot; + File.separator + audioFilePath;\n        audioFilePath = &quot;audio&quot; + &quot;/&quot; + audioFilePath;\n\n        AudioInputStream audioStream0;\n\n        //create new file using path to the audio\n        try {\n            //load files from resources folder as stream\n            ClassLoader classLoader = getClass().getClassLoader();\n            InputStream inputStream = classLoader.getResourceAsStream(audioFilePath);\n            InputStream bufferedInputStream = new BufferedInputStream(inputStream);\n\n            if (bufferedInputStream == null) {\n                throw new IllegalArgumentException(&quot;File not found: '&quot; + audioFilePath + &quot;'.&quot;);\n            } else {\n                //create new AudioStream\n                audioStream0 = AudioSystem.getAudioInputStream(bufferedInputStream);\n            }\n        } catch (IllegalArgumentException e) {\n            //handle\n            return false;\n        } catch (IOException e) {\n            //handle\n            return false;\n        } catch (UnsupportedAudioFileException e) {\n            //handle\n            return false;\n        }\n\n        try {\n            //create new AudioFormat\n            AudioFormat audioFormat0 = audioStream0.getFormat();\n\n            //create new Info\n            DataLine.Info info0 = new DataLine.Info(Clip.class, audioFormat0);\n\n            //initialize new Mixer\n            Mixer.Info mixerSelected = null;\n\n            for (Mixer.Info mixerInfo : AudioSystem.getMixerInfo()) {\n                Mixer mixer = AudioSystem.getMixer(mixerInfo);\n\n                if (mixer.isLineSupported(info0)) {\n                    mixerSelected = mixerInfo;\n                    break;\n                }\n            }\n\n            //create new Clip\n            Clip audioClip0;\n\n            if (mixerSelected != null) {\n                audioClip0 = AudioSystem.getClip(mixerSelected);\n            } else {\n                //THIS EXCEPTION GETS THROWN!!!\n                throw new IllegalArgumentException(&quot;File is not compatible: '&quot; + audioFilePath + &quot;'.&quot;);\n            }\n\n            //open created Clips via created AudioStream\n            audioClip0.open(audioStream0);\n\n            //start the play of audio file\n            audioClip0.start();\n\n            //wait until play completed\n            double waitTime = (double)((((double)audioClip0.getMicrosecondLength()/1000.0)/speed + 50.0) * 0.8);\n            Thread.sleep((long)waitTime);\n\n            return true;\n\n        //handle exceptions\n        } catch (LineUnavailableException e) {\n            //handle\n            return false;\n        } catch (IOException e) {\n            //handle\n            return false;\n        } catch (InterruptedException e) {\n            //handle\n            return false;\n        } catch (IllegalArgumentException e) {\n            //THIS EXCEPTION GETS THROWN!!!\n            //handle invalid audio clips\n            System.out.println(e);\n            e.printStackTrace();\n            return false;\n        }\n    }\n\n\n\n    /**\n     * plays multiple audio files in the order they are stored in an ArrayList\n     *\n     * @param fileNames ArrayList&lt;String&gt;: list with filenames of audio files to play\n     * @param speaker String: speaker to use for playing the audios (can be 'm' or 'w')\n     * @param speed double: speed applied to the audios\n     * @return boolean: true if playing audios completed successfully, otherwise false\n     */\n    public static boolean multiFiles(ArrayList&lt;String&gt; fileNames, String speaker, double speed) {\n\n        PlayAudio player = new PlayAudio();\n\n        //play every audio file in the array of file names\n        for (int i = 0; (i &lt; fileNames.toArray().length); i ++) {\n            //generate file names\n            String fullFileName = speaker + &quot;_&quot; + fileNames.toArray()[i];\n\n            //play audio\n            player.singleFile(fullFileName, speed);\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p><strong>What did I already try?</strong></p>\n<ol>\n<li>I tried it on another computer that runs Ubuntu Linux as well.</li>\n<li>I created a new instance of <code>PlayAudio()</code> everytime a new audio is played.</li>\n<li>I used <code>audioClip0.stop();</code> after every audio.</li>\n<li>I increased the milliseconds of sleep after every audio to length of the audio plus 1 second.</li>\n<li>I rebuilt the projects ... nearly 1k times.</li>\n</ol>\n<p><strong>How can I reproduce the error?</strong></p>\n<p>I simply need to play more than 62 audio files running my JAR-file under Linux Ubuntu.</p>\n<p><strong>How can you help me?</strong></p>\n<p>I don't know how to handle this issue. What is the problem playing <code>.WAV</code>-files with Linux?\nIs there a common way to fix this?\n(I am not allowed to use any library except OracleJDK and OpenJDK.)</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":343791,"reputation":4101,"user_id":675723,"accept_rate":77,"display_name":"BadZen"},"score":0,"creation_date":1624256782,"post_id":68063115,"comment_id":120298436,"body_markdown":"You&#39;d typically use `LogAndFailExceptionHandler` to fail the entire pipeline and then retry if you want.","body":"You&#39;d typically use <code>LogAndFailExceptionHandler</code> to fail the entire pipeline and then retry if you want."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1624257671,"post_id":68063115,"comment_id":120298701,"body_markdown":"I am aware about that but if my understanding is right that will fail the whole stream application. This is a bit extreme for a glitch that usually last just a few milliseconds even less. What I would like instead would be to rollback the message and then process it again and again for as long as the environment issue is not resolved.","body":"I am aware about that but if my understanding is right that will fail the whole stream application. This is a bit extreme for a glitch that usually last just a few milliseconds even less. What I would like instead would be to rollback the message and then process it again and again for as long as the environment issue is not resolved."},{"owner":{"account_id":343791,"reputation":4101,"user_id":675723,"accept_rate":77,"display_name":"BadZen"},"score":0,"creation_date":1624259811,"post_id":68063115,"comment_id":120299437,"body_markdown":"A milliseconds long network glitch will absolutely not cause anything like that.  If you really are having some transient registry failures you want to retry around  instead of fixing, and maintain per-message retry granualarity, you&#39;ll probably need to implement a custom deserializer and wire it into the container.","body":"A milliseconds long network glitch will absolutely not cause anything like that.  If you really are having some transient registry failures you want to retry around  instead of fixing, and maintain per-message retry granualarity, you&#39;ll probably need to implement a custom deserializer and wire it into the container."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1624408854,"post_id":68063115,"comment_id":120349250,"body_markdown":"I added extract from our logs showing loosing (skipping) messages when avro schema was not reachable","body":"I added extract from our logs showing loosing (skipping) messages when avro schema was not reachable"}],"answers":[{"tags":[],"owner":{"account_id":21986664,"reputation":31,"user_id":16260812,"display_name":"Wasif Raza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624260252,"creation_date":1624260252,"answer_id":68063900,"question_id":68063115,"body_markdown":"I&#39;ve not worked a lot on Kafka, but when i did, i remember having issues such as the one you are describing in our system.\r\n\r\nLet me tell you how we took care of our scenarios, maybe it would help you out too:\r\n\r\n**Scenario 1:** If your messages are being lost at the **publishing** side (publisher --&gt; kafka), you can configure Kafka acknowledgement setting according to your need, if you use spring cloud stream with kafka, the property is *spring.cloud.stream.kafka.binder.required-acks*\r\n\r\nPossible values:\r\n\r\n1. At most once (Ack=0)\r\n    1. Publisher does not care if Kafka acknowledges or not.\r\n    2. Send and forget\r\n    3. Data loss is possible\r\n2. At least once (Ack=1)\r\n\r\n    1. If Kafka does not acknowledge, publisher resends message.\r\n\r\n    2. Possible duplication.\r\n\r\n    3. Acknowledgment is sent before message is copied to replicas.\r\n\r\n3. Exactly once (Ack=all)\r\n\r\n    1. If Kafka does not acknowledge, publisher resends message.\r\n\r\n    2. However, if a message gets sent more than once to Kafka, there is no duplication.\r\n\r\n    3. Internal sequence number, used to decide if message has already been written on topic or not.\r\n\r\n    4. Min.insync.replicas property needs to be set to ensure what is the minimum number of replices that need to be synced before kafka acknowledges to the producer.\r\n\r\n**Scenario 2:** If your data is being lost at the **consumer** side (kafka --&gt; consumer), you can change the Auto Commit feature of Kafka according to your usage. This is the property if you are using Spring cloud stream *spring.cloud.stream.kafka.bindings.input.consumer.AutoCommitOffset*.\r\n\r\nBy default, AutoCommitOffset is true in kafka, and every message that is sent to the consumer is &quot;committed&quot; at Kafka&#39;s end, meaning it wont be sent again. However if you change AutoCommitOffset to false, you will have the power to poll the message from kafka in your code, and once you are done with your work, explicitly set commit to true to let kafka know that now you are done with the message.\r\n\r\nIf a message is not committed, kafka will keep resending it until it is.\r\n\r\nHope this helps you out, or atleast points you in the right direction.","title":"How to avoid losing messages with Kafka streams","body":"<p>I've not worked a lot on Kafka, but when i did, i remember having issues such as the one you are describing in our system.</p>\n<p>Let me tell you how we took care of our scenarios, maybe it would help you out too:</p>\n<p><strong>Scenario 1:</strong> If your messages are being lost at the <strong>publishing</strong> side (publisher --&gt; kafka), you can configure Kafka acknowledgement setting according to your need, if you use spring cloud stream with kafka, the property is <em>spring.cloud.stream.kafka.binder.required-acks</em></p>\n<p>Possible values:</p>\n<ol>\n<li><p>At most once (Ack=0)</p>\n<ol>\n<li>Publisher does not care if Kafka acknowledges or not.</li>\n<li>Send and forget</li>\n<li>Data loss is possible</li>\n</ol>\n</li>\n<li><p>At least once (Ack=1)</p>\n<ol>\n<li><p>If Kafka does not acknowledge, publisher resends message.</p>\n</li>\n<li><p>Possible duplication.</p>\n</li>\n<li><p>Acknowledgment is sent before message is copied to replicas.</p>\n</li>\n</ol>\n</li>\n<li><p>Exactly once (Ack=all)</p>\n<ol>\n<li><p>If Kafka does not acknowledge, publisher resends message.</p>\n</li>\n<li><p>However, if a message gets sent more than once to Kafka, there is no duplication.</p>\n</li>\n<li><p>Internal sequence number, used to decide if message has already been written on topic or not.</p>\n</li>\n<li><p>Min.insync.replicas property needs to be set to ensure what is the minimum number of replices that need to be synced before kafka acknowledges to the producer.</p>\n</li>\n</ol>\n</li>\n</ol>\n<p><strong>Scenario 2:</strong> If your data is being lost at the <strong>consumer</strong> side (kafka --&gt; consumer), you can change the Auto Commit feature of Kafka according to your usage. This is the property if you are using Spring cloud stream <em>spring.cloud.stream.kafka.bindings.input.consumer.AutoCommitOffset</em>.</p>\n<p>By default, AutoCommitOffset is true in kafka, and every message that is sent to the consumer is &quot;committed&quot; at Kafka's end, meaning it wont be sent again. However if you change AutoCommitOffset to false, you will have the power to poll the message from kafka in your code, and once you are done with your work, explicitly set commit to true to let kafka know that now you are done with the message.</p>\n<p>If a message is not committed, kafka will keep resending it until it is.</p>\n<p>Hope this helps you out, or atleast points you in the right direction.</p>\n"}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1065,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642507319,"creation_date":1624256089,"question_id":68063115,"body_markdown":"We have a streams application that consumes messages from a source topic, does some processing and forward the results to a destination topic.\r\n\r\nThe structure of the messages are controlled by some avro schemas.\r\n\r\nWhen starting consuming messages if the schema is not cached yet the application will try to retrieve it from schema registry. If for whichever reason the schema registry is not available (say a network glitch) then the currently being processed message is lost because the default handler is something called `LogAndContinueExceptionHandler`.\r\n\r\n    o.a.k.s.e.LogAndContinueExceptionHandler : Exception caught during Deserialization, taskId: 1_5, topic: my.topic.v1, partition: 5, offset: 142768\r\n    org.apache.kafka.common.errors.SerializationException: Error retrieving Avro schema for id 62\r\n    Caused by: java.net.SocketTimeoutException: connect timed out\r\n    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\r\n    ...\r\n    o.a.k.s.p.internals.RecordDeserializer : stream-thread [my-app-StreamThread-3] task [1_5] Skipping record due to deserialization error. topic=[my.topic.v1] partition=[5] offset=[142768]\r\n    ...\r\n   \r\n\r\nSo my question is what would be the proper way of dealing with situations like described above and make sure you don&#39;t lose messages no matter what. Is there an out of the box `LogAndRollbackExceptionHandler` error handler or a way of implementing your own?\r\n\r\nThank you in advance for your inputs.","title":"How to avoid losing messages with Kafka streams","body":"<p>We have a streams application that consumes messages from a source topic, does some processing and forward the results to a destination topic.</p>\n<p>The structure of the messages are controlled by some avro schemas.</p>\n<p>When starting consuming messages if the schema is not cached yet the application will try to retrieve it from schema registry. If for whichever reason the schema registry is not available (say a network glitch) then the currently being processed message is lost because the default handler is something called <code>LogAndContinueExceptionHandler</code>.</p>\n<pre><code>o.a.k.s.e.LogAndContinueExceptionHandler : Exception caught during Deserialization, taskId: 1_5, topic: my.topic.v1, partition: 5, offset: 142768\norg.apache.kafka.common.errors.SerializationException: Error retrieving Avro schema for id 62\nCaused by: java.net.SocketTimeoutException: connect timed out\nat java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\n...\no.a.k.s.p.internals.RecordDeserializer : stream-thread [my-app-StreamThread-3] task [1_5] Skipping record due to deserialization error. topic=[my.topic.v1] partition=[5] offset=[142768]\n...\n</code></pre>\n<p>So my question is what would be the proper way of dealing with situations like described above and make sure you don't lose messages no matter what. Is there an out of the box <code>LogAndRollbackExceptionHandler</code> error handler or a way of implementing your own?</p>\n<p>Thank you in advance for your inputs.</p>\n"},{"tags":["java","function","for-loop"],"comments":[{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1239026640,"post_id":720866,"comment_id":533455,"body_markdown":"This doesn&#39;t answer your question, but... creating ints by concatenating strings and then parsing the result? That&#39;s about the least efficient way I can think of. Try &quot;permutations.add(a*10000 + b*1000 + c*100 + d*10 + e)&quot; instead.","body":"This doesn&#39;t answer your question, but... creating ints by concatenating strings and then parsing the result? That&#39;s about the least efficient way I can think of. Try &quot;permutations.add(a*10000 + b*1000 + c*100 + d*10 + e)&quot; instead."}],"answers":[{"tags":[],"owner":{"account_id":20029,"reputation":7352,"user_id":47461,"accept_rate":80,"display_name":"cadrian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1239012773,"creation_date":1239012773,"answer_id":720883,"question_id":720866,"body_markdown":"Fill the holes:\r\n\r\n    int[] indexes = { 0, 0, 0, 0, 0 };\r\n    addPermutations(maxDigit, indexes, 0, permutations);\r\n\r\n\r\n    void addPermutations(int max, int[] indexes, int currentIndex, List&lt;Integer&gt; permutations) {\r\n        if (currentIndex == indexes.length) {\r\n            // terminal case\r\n            String temp = ...;\r\n            System.out.println(temp);\r\n            permutations.add(Integer.parseInt(temp));\r\n        } else {\r\n            // recursive case\r\n            for (int i = 0; i &lt;= max; i++) {\r\n                if (... != i) {\r\n                    indexes[currentIndex] = i;\r\n                    addPermutations(max, indexes, currentIndex+1, permutations);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Refactor for loops into function","body":"<p>Fill the holes:</p>\n\n<pre><code>int[] indexes = { 0, 0, 0, 0, 0 };\naddPermutations(maxDigit, indexes, 0, permutations);\n\n\nvoid addPermutations(int max, int[] indexes, int currentIndex, List&lt;Integer&gt; permutations) {\n    if (currentIndex == indexes.length) {\n        // terminal case\n        String temp = ...;\n        System.out.println(temp);\n        permutations.add(Integer.parseInt(temp));\n    } else {\n        // recursive case\n        for (int i = 0; i &lt;= max; i++) {\n            if (... != i) {\n                indexes[currentIndex] = i;\n                addPermutations(max, indexes, currentIndex+1, permutations);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23860,"reputation":114051,"user_id":60188,"accept_rate":56,"display_name":"Anton Gogolev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1239012952,"creation_date":1239012952,"answer_id":720888,"question_id":720866,"body_markdown":"No code, but an algorithm should be as follows.\r\n\r\nSuppose you want all permutations of 5 digits from 0 to 7. To do that:\r\n\r\n* Calculate `j =` decimal value of base-7 value of 100000 (1 + 5 zeroes)\r\n* Loop `for i = 0; i &lt; j; ++i`, converting each `i` to base-7 system, optionally prepending with zeroes.","title":"Refactor for loops into function","body":"<p>No code, but an algorithm should be as follows.</p>\n\n<p>Suppose you want all permutations of 5 digits from 0 to 7. To do that:</p>\n\n<ul>\n<li>Calculate <code>j =</code> decimal value of base-7 value of 100000 (1 + 5 zeroes)</li>\n<li>Loop <code>for i = 0; i &lt; j; ++i</code>, converting each <code>i</code> to base-7 system, optionally prepending with zeroes.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2379,"reputation":49899,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1239014503,"creation_date":1239014503,"answer_id":720920,"question_id":720866,"body_markdown":"You could use an N-ary tree, with 4 branches at each point, recursively navigate the tree and step over branches where that node&#39;s digit had already been seen?","title":"Refactor for loops into function","body":"<p>You could use an N-ary tree, with 4 branches at each point, recursively navigate the tree and step over branches where that node's digit had already been seen?</p>\n"},{"tags":[],"owner":{"account_id":2466,"reputation":34852,"user_id":3434,"accept_rate":90,"display_name":"Apocalisp"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642507318,"creation_date":1239052578,"answer_id":723279,"question_id":720866,"body_markdown":"This is a variant of the classic problem of getting [all permutations of a string][1]. \r\n\r\nThe induction your professor wants you to make is that this problem lends itself well to a solution that uses **recursion**.\r\n\r\nThe basic algorithm for the permutations of string `s` is as follows:\r\n\r\n 1. Select the first item in `s`.\r\n 2. Get all permutations of the other items in `s` (except the item selected).\r\n 3. Prepend selected item to each permutation from step 2.\r\n 4. Repeat for the next character of `s`.\r\n\r\nHere&#39;s an efficient solution using the [Functional Java][2] library.\r\n\r\nImport these...\r\n\r\n    import fj.F;\r\n    import fj.P2;\r\n    import fj.P1;\r\n    import fj.data.Stream;\r\n    import static fj.data.Stream.nil;\r\n    import static fj.data.Stream.cons;\r\n    import static fj.data.Stream.range;\r\n    import static fj.data.Enumerator.charEnumerator;\r\n    import static fj.data.Show.streamShow;\r\n    import static fj.data.Show.charShow;\r\n    import static fj.P2.map2_;\r\n\r\nA recursive function to find permutations:\r\n\r\n    public Stream&lt;Stream&lt;Character&gt;&gt; permutations(final Stream&lt;Character&gt; s) {\r\n      return selections(s).bind(\r\n        new F&lt;P2&lt;Character, Stream&lt;Character&gt;&gt;, Stream&lt;Stream&lt;Character&gt;&gt;&gt;() {\r\n          public Stream&lt;Stream&lt;Character&gt;&gt;()\r\n            f(final P2&lt;Character, Stream&lt;Character&gt;&gt; ys) {\r\n              return permutations(ys._2()).bind(cons(ys._1()));\r\n            }\r\n          });\r\n    }\r\n\r\nA recursive function to select each element in turn:\r\n\r\n    public Stream&lt;P2&lt;Character, Stream&lt;Character&gt;&gt;&gt;\r\n    selections(final Stream&lt;Character&gt; s) {\r\n      if (xs.isEmpty())\r\n        return nil();\r\n      else {\r\n        final char x = xs.head();\r\n        final Stream&lt;Character&gt; xs = s.tail()._1();\r\n        return cons(P.p(x, xs),\r\n          new P1&lt;Stream&lt;P2&lt;Character, Stream&lt;Character&gt;&gt;&gt;&gt;() {\r\n            public Stream&lt;P2&lt;Character, Stream&lt;Character&gt;&gt;&gt; _1() { \r\n              return selections(xs).map(map2_().f(cons(x))));\r\n            }\r\n          });\r\n      }\r\n    }\r\n\r\nand then, to get all permutations of characters &#39;0&#39; through &#39;9&#39;:\r\n\r\n    Show&lt;Stream&lt;Character&gt;&gt; s = streamShow(charShow);\r\n    for (Stream&lt;Character&gt; ps : permutations(range(charEnumerator, &#39;0&#39;, &#39;9&#39;))) {\r\n      System.out.println(s.showS(ps));\r\n    }\r\n\r\n**EDIT**: This is actually a great use case for [comonads][3]. Using the latest trunk head of Functional Java, you can do this with the Zipper comonad, like so:\r\n\r\n    public static Stream&lt;Stream&lt;Character&gt;&gt; perms(Stream&lt;Character&gt; s) {\r\n      Stream&lt;Stream&lt;Character&gt;&gt; r = single(Stream.&lt;Character&gt;nil());\r\n      for (final Zipper&lt;Character&gt; z : fromStream(s))\r\n        r = join(z.cobind(\r\n          new F&lt;Zipper&lt;Character&gt;, Stream&lt;Stream&lt;Character&gt;&gt;&gt;() {\r\n            public Stream&lt;Stream&lt;Character&gt;&gt; f(final Zipper&lt;Character&gt; zp) {\r\n              return perms(zp.lefts().reverse().append(zp.rights())).map(compose(\r\n                Stream.&lt;Character&gt;cons().f(zp.focus()),\r\n                  P.&lt;Stream&lt;Character&gt;&gt;p1()));\r\n            }\r\n          }).toStream());\r\n      return r;\r\n    }\r\n\r\n\r\n  [1]: https://web.archive.org/web/20091027075904/http://geocities.com/oosterwal/computer/combinations.html\r\n  [2]: https://www.functionaljava.org/\r\n  [3]: https://web.archive.org/web/20210514170237/https://planetmath.org/comonad","title":"Refactor for loops into function","body":"<p>This is a variant of the classic problem of getting <a href=\"https://web.archive.org/web/20091027075904/http://geocities.com/oosterwal/computer/combinations.html\" rel=\"nofollow noreferrer\">all permutations of a string</a>.</p>\n<p>The induction your professor wants you to make is that this problem lends itself well to a solution that uses <strong>recursion</strong>.</p>\n<p>The basic algorithm for the permutations of string <code>s</code> is as follows:</p>\n<ol>\n<li>Select the first item in <code>s</code>.</li>\n<li>Get all permutations of the other items in <code>s</code> (except the item selected).</li>\n<li>Prepend selected item to each permutation from step 2.</li>\n<li>Repeat for the next character of <code>s</code>.</li>\n</ol>\n<p>Here's an efficient solution using the <a href=\"https://www.functionaljava.org/\" rel=\"nofollow noreferrer\">Functional Java</a> library.</p>\n<p>Import these...</p>\n<pre><code>import fj.F;\nimport fj.P2;\nimport fj.P1;\nimport fj.data.Stream;\nimport static fj.data.Stream.nil;\nimport static fj.data.Stream.cons;\nimport static fj.data.Stream.range;\nimport static fj.data.Enumerator.charEnumerator;\nimport static fj.data.Show.streamShow;\nimport static fj.data.Show.charShow;\nimport static fj.P2.map2_;\n</code></pre>\n<p>A recursive function to find permutations:</p>\n<pre><code>public Stream&lt;Stream&lt;Character&gt;&gt; permutations(final Stream&lt;Character&gt; s) {\n  return selections(s).bind(\n    new F&lt;P2&lt;Character, Stream&lt;Character&gt;&gt;, Stream&lt;Stream&lt;Character&gt;&gt;&gt;() {\n      public Stream&lt;Stream&lt;Character&gt;&gt;()\n        f(final P2&lt;Character, Stream&lt;Character&gt;&gt; ys) {\n          return permutations(ys._2()).bind(cons(ys._1()));\n        }\n      });\n}\n</code></pre>\n<p>A recursive function to select each element in turn:</p>\n<pre><code>public Stream&lt;P2&lt;Character, Stream&lt;Character&gt;&gt;&gt;\nselections(final Stream&lt;Character&gt; s) {\n  if (xs.isEmpty())\n    return nil();\n  else {\n    final char x = xs.head();\n    final Stream&lt;Character&gt; xs = s.tail()._1();\n    return cons(P.p(x, xs),\n      new P1&lt;Stream&lt;P2&lt;Character, Stream&lt;Character&gt;&gt;&gt;&gt;() {\n        public Stream&lt;P2&lt;Character, Stream&lt;Character&gt;&gt;&gt; _1() { \n          return selections(xs).map(map2_().f(cons(x))));\n        }\n      });\n  }\n}\n</code></pre>\n<p>and then, to get all permutations of characters '0' through '9':</p>\n<pre><code>Show&lt;Stream&lt;Character&gt;&gt; s = streamShow(charShow);\nfor (Stream&lt;Character&gt; ps : permutations(range(charEnumerator, '0', '9'))) {\n  System.out.println(s.showS(ps));\n}\n</code></pre>\n<p><strong>EDIT</strong>: This is actually a great use case for <a href=\"https://web.archive.org/web/20210514170237/https://planetmath.org/comonad\" rel=\"nofollow noreferrer\">comonads</a>. Using the latest trunk head of Functional Java, you can do this with the Zipper comonad, like so:</p>\n<pre><code>public static Stream&lt;Stream&lt;Character&gt;&gt; perms(Stream&lt;Character&gt; s) {\n  Stream&lt;Stream&lt;Character&gt;&gt; r = single(Stream.&lt;Character&gt;nil());\n  for (final Zipper&lt;Character&gt; z : fromStream(s))\n    r = join(z.cobind(\n      new F&lt;Zipper&lt;Character&gt;, Stream&lt;Stream&lt;Character&gt;&gt;&gt;() {\n        public Stream&lt;Stream&lt;Character&gt;&gt; f(final Zipper&lt;Character&gt; zp) {\n          return perms(zp.lefts().reverse().append(zp.rights())).map(compose(\n            Stream.&lt;Character&gt;cons().f(zp.focus()),\n              P.&lt;Stream&lt;Character&gt;&gt;p1()));\n        }\n      }).toStream());\n  return r;\n}\n</code></pre>\n"}],"owner":{"display_name":"Kevin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1642507318,"creation_date":1239012182,"question_id":720866,"body_markdown":"I&#39;ve got this piece of java code:\r\n\r\n    int maxDigit = 4;\r\n    for(int a = 0; a &lt;= maxDigit; a++)\r\n    {\r\n      for(int b = 0; b &lt;= maxDigit; b++)\r\n      {\r\n        if(b != a){\r\n          for(int c = 0; c &lt;= maxDigit; c++)\r\n          {\r\n            if(c != a &amp;&amp; c != b)\r\n            {\r\n              for(int d = 0; d &lt;= maxDigit; d++)\r\n              {\r\n                if(d != a &amp;&amp; d != b &amp;&amp; d != c)\r\n                {\r\n                  for(int e = 0; e &lt;= maxDigit; e++)\r\n                  {\r\n                    if(e != a &amp;&amp; e != b &amp;&amp; e != c &amp;&amp; e != d)\r\n                    {\r\n                      String temp = a + &quot;&quot; + b + &quot;&quot; + c + &quot;&quot; + d + &quot;&quot; + e;\r\n                      System.out.println(temp);\r\n                      permutations.add(Integer.parseInt(temp));\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\nHow can you transform this piece of code into a function?\r\n\r\nThe purpose is to generate permutations of the digits 0 to 9 and here in the code above it is from 0 to 4. And it seems easy to put it in a function but i couldn&#39;t find it immediately.","title":"Refactor for loops into function","body":"<p>I've got this piece of java code:</p>\n\n<pre><code>int maxDigit = 4;\nfor(int a = 0; a &lt;= maxDigit; a++)\n{\n  for(int b = 0; b &lt;= maxDigit; b++)\n  {\n    if(b != a){\n      for(int c = 0; c &lt;= maxDigit; c++)\n      {\n        if(c != a &amp;&amp; c != b)\n        {\n          for(int d = 0; d &lt;= maxDigit; d++)\n          {\n            if(d != a &amp;&amp; d != b &amp;&amp; d != c)\n            {\n              for(int e = 0; e &lt;= maxDigit; e++)\n              {\n                if(e != a &amp;&amp; e != b &amp;&amp; e != c &amp;&amp; e != d)\n                {\n                  String temp = a + \"\" + b + \"\" + c + \"\" + d + \"\" + e;\n                  System.out.println(temp);\n                  permutations.add(Integer.parseInt(temp));\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>How can you transform this piece of code into a function?</p>\n\n<p>The purpose is to generate permutations of the digits 0 to 9 and here in the code above it is from 0 to 4. And it seems easy to put it in a function but i couldn't find it immediately.</p>\n"},{"tags":["java","spring","testing"],"comments":[{"owner":{"account_id":2605869,"reputation":1524,"user_id":2257052,"accept_rate":62,"display_name":"mvb13"},"score":0,"creation_date":1384257232,"post_id":19927605,"comment_id":29654544,"body_markdown":"I don&#39;t understand exactly what behaviour do you want from ResourceLoader in the test?","body":"I don&#39;t understand exactly what behaviour do you want from ResourceLoader in the test?"},{"owner":{"account_id":78072,"reputation":19350,"user_id":222438,"accept_rate":90,"display_name":"jlb"},"score":0,"creation_date":1384257948,"post_id":19927605,"comment_id":29654930,"body_markdown":"I want to call `ResourceLoader#getResource` and get a reference to the same resource as if I were calling it outside of the test context.","body":"I want to call <code>ResourceLoader#getResource</code> and get a reference to the same resource as if I were calling it outside of the test context."}],"answers":[{"tags":[],"owner":{"account_id":1333489,"reputation":17338,"user_id":1276804,"display_name":"zagyi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1384257311,"creation_date":1384257311,"answer_id":19928486,"question_id":19927605,"body_markdown":"What kind of test do you want to write?\r\n\r\nIf it&#39;s a unit test, you should probably mock `ResourceLoader` and inject that mock into the service instance. (Use mockito for example)\r\n\r\nIf it&#39;s an integration test, you would be better off using the [Spring TestContext][1] framework. Create a spring context that contains all components needed for the test, then annotate your test class with `@RunWith(SpringJUnit4ClassRunner.class)` + `\r\n@ContextConfiguration`, which will make it possible to autowire fully configured beans (e.g. the service instance to be tested) in the test class.\r\n\r\n[1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/testing.html#testcontext-framework","title":"Using Spring&#39;s ResourceLoader in tests","body":"<p>What kind of test do you want to write?</p>\n\n<p>If it's a unit test, you should probably mock <code>ResourceLoader</code> and inject that mock into the service instance. (Use mockito for example)</p>\n\n<p>If it's an integration test, you would be better off using the <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/testing.html#testcontext-framework\" rel=\"nofollow\">Spring TestContext</a> framework. Create a spring context that contains all components needed for the test, then annotate your test class with <code>@RunWith(SpringJUnit4ClassRunner.class)</code> + <code>\n@ContextConfiguration</code>, which will make it possible to autowire fully configured beans (e.g. the service instance to be tested) in the test class.</p>\n"},{"tags":[],"owner":{"account_id":1712852,"reputation":10572,"user_id":1570523,"display_name":"Debojit Saikia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384258077,"creation_date":1384258077,"answer_id":19928755,"question_id":19927605,"body_markdown":"I suppose you have your `service` defined as something like this:\r\n\r\n    public class ResourceService {\r\n      \t@Autowired\r\n    \tResourceLoader loader;\r\n    }\r\n\r\nNow, when you write your test for `ResourceService` :\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration({ &quot;classpath:test-config.xml&quot; })\r\n    public class ResourceServiceTest {\r\n    \t@Autowired\r\n    \tResourceService resourceService;\r\n    \t@Test\r\n    \tpublic void test() {\r\n    \t...\r\n    \t}\r\n    }\r\n\r\n\r\nThe [Spring TestContext Framework][1] configures instances of your test classes via Dependency Injection. So, when you autowire `ResourceService` in your test class, Spring will inject the autowired `ResourceLoader` property into `ResourceService`.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.0.x/reference/testing.html#testcontext-framework","title":"Using Spring&#39;s ResourceLoader in tests","body":"<p>I suppose you have your <code>service</code> defined as something like this:</p>\n\n<pre><code>public class ResourceService {\n    @Autowired\n    ResourceLoader loader;\n}\n</code></pre>\n\n<p>Now, when you write your test for <code>ResourceService</code> :</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration({ \"classpath:test-config.xml\" })\npublic class ResourceServiceTest {\n    @Autowired\n    ResourceService resourceService;\n    @Test\n    public void test() {\n    ...\n    }\n}\n</code></pre>\n\n<p>The <a href=\"http://docs.spring.io/spring/docs/3.0.x/reference/testing.html#testcontext-framework\" rel=\"nofollow\">Spring TestContext Framework</a> configures instances of your test classes via Dependency Injection. So, when you autowire <code>ResourceService</code> in your test class, Spring will inject the autowired <code>ResourceLoader</code> property into <code>ResourceService</code>.</p>\n"},{"tags":[],"owner":{"account_id":29270,"reputation":4126,"user_id":78973,"accept_rate":100,"display_name":"Arend v. Reinersdorff"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1490084301,"creation_date":1490084301,"answer_id":42921576,"question_id":19927605,"body_markdown":"You can use a [DefaultResourceLoader](http://docs.spring.io/spring/docs/4.3.7.RELEASE/javadoc-api/org/springframework/core/io/DefaultResourceLoader.html). It handles URL and classpath resources which should be enough for simple tests.\r\n\r\nDefaultResourceLoader doesn&#39;t need any special setup. Just create a new instance and pass it into your test.","title":"Using Spring&#39;s ResourceLoader in tests","body":"<p>You can use a <a href=\"http://docs.spring.io/spring/docs/4.3.7.RELEASE/javadoc-api/org/springframework/core/io/DefaultResourceLoader.html\" rel=\"noreferrer\">DefaultResourceLoader</a>. It handles URL and classpath resources which should be enough for simple tests.</p>\n\n<p>DefaultResourceLoader doesn't need any special setup. Just create a new instance and pass it into your test.</p>\n"},{"tags":[],"owner":{"account_id":1639431,"reputation":5035,"user_id":1512175,"accept_rate":57,"display_name":"Ithar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642506943,"creation_date":1642506622,"answer_id":70755149,"question_id":19927605,"body_markdown":"*ENVIRONMENT:*\r\n\r\n    Java: 17\r\n    Springboot: 2.6.2\r\n    Junit-jupiter:5.8.2\r\n\r\n\r\nGenerally integration tests will need to start up a container to execute the test cases. This can be achieved using the following code:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.core.io.ResourceLoader;\r\n    import org.springframework.test.context.TestPropertySource;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertTrue;\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @TestPropertySource(locations = &quot;classpath:application-integration-test.properties&quot;)\r\n    class TemplateKeyValidatorIT {\r\n    \r\n        @Autowired\r\n        ResourceLoader resourceLoader;\r\n    \r\n        @Autowired\r\n        private ResourceLoaderService resourceLoaderService;\r\n    \r\n        @Test\r\n        void testResourceLoading() {\r\n    \r\n            // Given\r\n            String fileName = &quot;myTestFile.txt&quot;;\r\n    \r\n            // When\r\n            File file = resourceLoaderService.load(fileName);\r\n    \r\n            // Then\r\n            assertTrue(file.exists());\r\n        }\r\n    \r\n    }\r\n\r\n\r\n`@RunWith(SpringRunner.class)`: SpringRunner is the base Spring framework Runner. It extends SpringJUnit4ClassRunner, but it’s just an alias to that class.\r\n\r\n\r\n`@SpringBootTest`: Annotation is needed to bootstrap the entire container; it creates an ApplicationContext that will be used by the integration tests.\r\n\r\n`@TestPropertySource(locations = &quot;classpath:application-integration-test.properties&quot;)`: Loads integration specific application properties.\r\n\r\n\r\nNote: this will boot strap the real application context but you can separate test configuration class using: \r\n\r\n    @TestConfiguration\r\n    public class MyTestContextConfiguration {\r\n        \r\n        @Bean\r\n        public ResourceLoaderService resourceLoaderService() {\r\n            return new ResourceLoaderService() { \r\n                // implement methods \r\n            };\r\n        }\r\n     }\r\n\r\nAnd this can then be impoerted by your test class using:\r\n\r\n`@Import(MyTestContextConfiguration.class)`\r\n","title":"Using Spring&#39;s ResourceLoader in tests","body":"<p><em>ENVIRONMENT:</em></p>\n<pre><code>Java: 17\nSpringboot: 2.6.2\nJunit-jupiter:5.8.2\n</code></pre>\n<p>Generally integration tests will need to start up a container to execute the test cases. This can be achieved using the following code:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.core.io.ResourceLoader;\nimport org.springframework.test.context.TestPropertySource;\nimport org.springframework.test.context.junit4.SpringRunner;\n\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\n@TestPropertySource(locations = &quot;classpath:application-integration-test.properties&quot;)\nclass TemplateKeyValidatorIT {\n\n    @Autowired\n    ResourceLoader resourceLoader;\n\n    @Autowired\n    private ResourceLoaderService resourceLoaderService;\n\n    @Test\n    void testResourceLoading() {\n\n        // Given\n        String fileName = &quot;myTestFile.txt&quot;;\n\n        // When\n        File file = resourceLoaderService.load(fileName);\n\n        // Then\n        assertTrue(file.exists());\n    }\n\n}\n</code></pre>\n<p><code>@RunWith(SpringRunner.class)</code>: SpringRunner is the base Spring framework Runner. It extends SpringJUnit4ClassRunner, but it’s just an alias to that class.</p>\n<p><code>@SpringBootTest</code>: Annotation is needed to bootstrap the entire container; it creates an ApplicationContext that will be used by the integration tests.</p>\n<p><code>@TestPropertySource(locations = &quot;classpath:application-integration-test.properties&quot;)</code>: Loads integration specific application properties.</p>\n<p>Note: this will boot strap the real application context but you can separate test configuration class using:</p>\n<pre><code>@TestConfiguration\npublic class MyTestContextConfiguration {\n    \n    @Bean\n    public ResourceLoaderService resourceLoaderService() {\n        return new ResourceLoaderService() { \n            // implement methods \n        };\n    }\n }\n</code></pre>\n<p>And this can then be impoerted by your test class using:</p>\n<p><code>@Import(MyTestContextConfiguration.class)</code></p>\n"}],"owner":{"account_id":78072,"reputation":19350,"user_id":222438,"accept_rate":90,"display_name":"jlb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17310,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":19928486,"answer_count":4,"score":6,"last_activity_date":1642506943,"creation_date":1384254720,"question_id":19927605,"body_markdown":"I&#39;m `@Autowire`ing a `org.springframework.core.io.ResourceLoader` into one of my `@Service` classes.\r\n\r\nDuring the tests, I&#39;d like to get access to an instance of a `ResourceLoader`, so that it can be injected into the service being tested. What&#39;s the best way to get a fully functional instance of `ResourceLoader` during your tests?\r\n\r\nIf that&#39;s not possible, is there an alternative to `ResourceLoader`? Essentially, I need to have my service read some static files from the project.\r\n\r\n**Update**:\r\n\r\nStarted using `@RunWith(SpringJUnit4ClassRunner.class)` + `@ContextConfiguration` on my test; however, the `ResourceLoader` that is now being injected via `@Autowire` into my service behaves differently than usual (ie. when it&#39;s not in the test context). In the test, `ResourceLoader#getResource` returns a Resource pointing to bad relative path, rather than the proper absolute path which appears during a regular execution.\r\n\r\nSome more information discovered while debugging:\r\n\r\n- During tests, the @Autowired `resourceLoader` is an instanceof `org.springframework.context.support.GenericApplicationContext`\r\n- During regular execution, `resourceLoader` is an instance of `org.springframework.web.context.support.XmlWebApplicationContext`","title":"Using Spring&#39;s ResourceLoader in tests","body":"<p>I'm <code>@Autowire</code>ing a <code>org.springframework.core.io.ResourceLoader</code> into one of my <code>@Service</code> classes.</p>\n\n<p>During the tests, I'd like to get access to an instance of a <code>ResourceLoader</code>, so that it can be injected into the service being tested. What's the best way to get a fully functional instance of <code>ResourceLoader</code> during your tests?</p>\n\n<p>If that's not possible, is there an alternative to <code>ResourceLoader</code>? Essentially, I need to have my service read some static files from the project.</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>Started using <code>@RunWith(SpringJUnit4ClassRunner.class)</code> + <code>@ContextConfiguration</code> on my test; however, the <code>ResourceLoader</code> that is now being injected via <code>@Autowire</code> into my service behaves differently than usual (ie. when it's not in the test context). In the test, <code>ResourceLoader#getResource</code> returns a Resource pointing to bad relative path, rather than the proper absolute path which appears during a regular execution.</p>\n\n<p>Some more information discovered while debugging:</p>\n\n<ul>\n<li>During tests, the @Autowired <code>resourceLoader</code> is an instanceof <code>org.springframework.context.support.GenericApplicationContext</code></li>\n<li>During regular execution, <code>resourceLoader</code> is an instance of <code>org.springframework.web.context.support.XmlWebApplicationContext</code></li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":4,"creation_date":1642421219,"post_id":70740970,"comment_id":125058340,"body_markdown":"Are you sure you want the `!!`?","body":"Are you sure you want the <code>!!</code>?"},{"owner":{"account_id":23965135,"reputation":13,"user_id":17954743,"display_name":"Manjunath"},"score":0,"creation_date":1642423054,"post_id":70740970,"comment_id":125059065,"body_markdown":"it is a typo... will need only !","body":"it is a typo... will need only !"}],"answers":[{"tags":[],"owner":{"account_id":7849399,"reputation":860,"user_id":5933317,"display_name":"Kapil Thakkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642494826,"creation_date":1642420958,"answer_id":70741040,"question_id":70740970,"body_markdown":"You can try `StringUtils.isAnyBlank()`. Please refer attached link.\r\n\r\nisAnyBlank : https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isAnyBlank-java.lang.CharSequence","title":"Reducing conditions within a if statement","body":"<p>You can try <code>StringUtils.isAnyBlank()</code>. Please refer attached link.</p>\n<p>isAnyBlank : <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isAnyBlank-java.lang.CharSequence\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isAnyBlank-java.lang.CharSequence</a></p>\n"},{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1642496350,"creation_date":1642421189,"answer_id":70741078,"question_id":70740970,"body_markdown":"StringUtils from commons-lang already has a method which accepts an array of Strings. It will check for null or empty or blank strings. So all your checks boil down to:\r\n\r\n        return !(request == null || StringUtils.isAnyBlank(\r\n                 request.getFirstName, request.getLastName,\r\n                 request.getAge, request.getPhoneNumber));\r\n\r\n","title":"Reducing conditions within a if statement","body":"<p>StringUtils from commons-lang already has a method which accepts an array of Strings. It will check for null or empty or blank strings. So all your checks boil down to:</p>\n<pre><code>    return !(request == null || StringUtils.isAnyBlank(\n             request.getFirstName, request.getLastName,\n             request.getAge, request.getPhoneNumber));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642506544,"creation_date":1642422936,"answer_id":70741459,"question_id":70740970,"body_markdown":"You have a few syntax errors\r\n\r\n* You are passing `request` to `StringUtils` but it doesn&#39;t appear to implement `CharSequence`\r\n* You are using `!!` instead of `!`\r\n* You invocation of the get methods does not include the `()` to mark it as methods.  \r\n\r\nAlthough not an error, you do not need nested if-statements here.   Using unnecessary if-else-blocks can make it harder to decipher what the code is doing.  It can, however, allow for comments to describe why certain conditions are being checked or whatever.  None of that seems relevant here.  In fact, you can pass the result of the boolean operation without any if-statement.  Using if-statements that return true or false looks like this.\r\n\r\n    if (&lt;condition-is-true?&gt;) return true \r\n    else return false;\r\n\r\nWhich can be simplified to...\r\n\r\n    return &lt;condition-is-true?&gt;;\r\n\r\nFurther, assuming you are using using Apache `StringUtils`, you do not need to check for null first - the `isEmpty(CharSequence)` method does that.  Additionally, `StringUtils` includes the `isAnyEmpty(CharSequence...)` method so you can pass all of the Strings at once.\r\n\r\n    return request != null &amp;&amp; !StringUtils.isAnyEmpty(\r\n          request.getFirstName(),\r\n          request.getLastName(),\r\n          request.getAge(),\r\n          request.getAddress(),\r\n          request.getPhoneNumber());\r\n\r\n","title":"Reducing conditions within a if statement","body":"<p>You have a few syntax errors</p>\n<ul>\n<li>You are passing <code>request</code> to <code>StringUtils</code> but it doesn't appear to implement <code>CharSequence</code></li>\n<li>You are using <code>!!</code> instead of <code>!</code></li>\n<li>You invocation of the get methods does not include the <code>()</code> to mark it as methods.</li>\n</ul>\n<p>Although not an error, you do not need nested if-statements here.   Using unnecessary if-else-blocks can make it harder to decipher what the code is doing.  It can, however, allow for comments to describe why certain conditions are being checked or whatever.  None of that seems relevant here.  In fact, you can pass the result of the boolean operation without any if-statement.  Using if-statements that return true or false looks like this.</p>\n<pre><code>if (&lt;condition-is-true?&gt;) return true \nelse return false;\n</code></pre>\n<p>Which can be simplified to...</p>\n<pre><code>return &lt;condition-is-true?&gt;;\n</code></pre>\n<p>Further, assuming you are using using Apache <code>StringUtils</code>, you do not need to check for null first - the <code>isEmpty(CharSequence)</code> method does that.  Additionally, <code>StringUtils</code> includes the <code>isAnyEmpty(CharSequence...)</code> method so you can pass all of the Strings at once.</p>\n<pre><code>return request != null &amp;&amp; !StringUtils.isAnyEmpty(\n      request.getFirstName(),\n      request.getLastName(),\n      request.getAge(),\n      request.getAddress(),\n      request.getPhoneNumber());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642496629,"creation_date":1642426702,"answer_id":70742294,"question_id":70740970,"body_markdown":"If you don&#39;t use `commons-lang` dependency you can simply use Stream API (Java 8+)\r\n\r\n```\r\nBoolean allNonBlank = Stream.of(\r\n                        request.getFirstName(),\r\n                        request.getLastName(),\r\n                        request.getAge(),\r\n                        request.getPhoneNumber())\r\n                .allMatch(it -&gt; it != null &amp;&amp; !String.isBlank(it));\r\n```\r\n\r\n","title":"Reducing conditions within a if statement","body":"<p>If you don't use <code>commons-lang</code> dependency you can simply use Stream API (Java 8+)</p>\n<pre><code>Boolean allNonBlank = Stream.of(\n                        request.getFirstName(),\n                        request.getLastName(),\n                        request.getAge(),\n                        request.getPhoneNumber())\n                .allMatch(it -&gt; it != null &amp;&amp; !String.isBlank(it));\n</code></pre>\n"}],"owner":{"account_id":23965135,"reputation":13,"user_id":17954743,"display_name":"Manjunath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70741078,"answer_count":4,"score":1,"last_activity_date":1642506544,"creation_date":1642420655,"question_id":70740970,"body_markdown":"I have a code snippet as below. Here there is a nested if else loop as well as multiple conditions [all different parameters]. What is the best way to optimize this.\r\n\r\n\t\tif(request!=null &amp;&amp; !StringUtils.isBlank(request)) {\r\n\t\t\tif(request.getFirstName()!=null &amp;&amp; !StringUtils.isBlank(request.getFirstName())\r\n\t\t\t\t\t&amp;&amp; request.getLastName()!=null &amp;&amp; !StringUtils.isBlank(request.getLastName())\r\n\t\t\t\t\t&amp;&amp; request.getAge()!=null &amp;&amp; !StringUtils.isBlank(request.getAge())\r\n\t\t\t\t\t&amp;&amp; request.getAddress()!=null &amp;&amp; !StringUtils.isBlank(request.getAddress())\r\n\t\t\t\t\t&amp;&amp; request.getPhoneNumber()!=null &amp;&amp; !StringUtils.isBlank(request.getPhoneNumber())) {\r\n\t\t\t\treturn true;\r\n\t\t\t}else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\nI had thought of using switch case and for loop as well but all the conditions are based on different variables, I didn&#39;t see it as compatible.","title":"Reducing conditions within a if statement","body":"<p>I have a code snippet as below. Here there is a nested if else loop as well as multiple conditions [all different parameters]. What is the best way to optimize this.</p>\n<pre><code>    if(request!=null &amp;&amp; !StringUtils.isBlank(request)) {\n        if(request.getFirstName()!=null &amp;&amp; !StringUtils.isBlank(request.getFirstName())\n                &amp;&amp; request.getLastName()!=null &amp;&amp; !StringUtils.isBlank(request.getLastName())\n                &amp;&amp; request.getAge()!=null &amp;&amp; !StringUtils.isBlank(request.getAge())\n                &amp;&amp; request.getAddress()!=null &amp;&amp; !StringUtils.isBlank(request.getAddress())\n                &amp;&amp; request.getPhoneNumber()!=null &amp;&amp; !StringUtils.isBlank(request.getPhoneNumber())) {\n            return true;\n        }else {\n            return false;\n        }\n    }else {\n        return false;\n    }\n</code></pre>\n<p>I had thought of using switch case and for loop as well but all the conditions are based on different variables, I didn't see it as compatible.</p>\n"},{"tags":["java","spring","hibernate","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":1,"creation_date":1553018756,"post_id":55247358,"comment_id":97227565,"body_markdown":"Possible duplicate of [&quot;java.lang.IllegalArgumentException: Projection type must be an interface&quot; Error](https://stackoverflow.com/questions/46825928/java-lang-illegalargumentexception-projection-type-must-be-an-interface-error)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/46825928/java-lang-illegalargumentexception-projection-type-must-be-an-interface-error\">&quot;java.lang.IllegalArgumentException: Projection type must be an interface&quot; Error</a>"},{"owner":{"account_id":13026564,"reputation":211,"user_id":9414381,"display_name":"F&#225;bio Castilhos"},"score":0,"creation_date":1553019117,"post_id":55247358,"comment_id":97227721,"body_markdown":"I have checked the post you recommended but in that one he is facing the issue using a Spring JPA method. If a use that my code works fine (also with JPQL). It only fails when I use the native query. It&#39;s like back in the days when Spring Data JPA doesn&#39;t support Java 8 dates and we have to manually create the converter.","body":"I have checked the post you recommended but in that one he is facing the issue using a Spring JPA method. If a use that my code works fine (also with JPQL). It only fails when I use the native query. It&#39;s like back in the days when Spring Data JPA doesn&#39;t support Java 8 dates and we have to manually create the converter."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1553283769,"post_id":55247358,"comment_id":97341802,"body_markdown":"I had this problem too. If I removed the ZonedDateTime from the prrojection it worked. I have not figured out how to get it to work with a date/time field though.","body":"I had this problem too. If I removed the ZonedDateTime from the prrojection it worked. I have not figured out how to get it to work with a date/time field though."},{"owner":{"account_id":364232,"reputation":191,"user_id":708504,"display_name":"Paul A. Trzyna"},"score":0,"creation_date":1627653098,"post_id":55247358,"comment_id":121220792,"body_markdown":"@RoddyoftheFrozenPeas I had this issue when the value returned from the query did not match the Java type used in the projection.","body":"@RoddyoftheFrozenPeas I had this issue when the value returned from the query did not match the Java type used in the projection."}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553018984,"creation_date":1553018984,"answer_id":55247456,"question_id":55247358,"body_markdown":"You have declared `userId` field as `Long` in the entity but in `UserProjection` `getUserId` method return type is `String`. which is mismatching so Change \r\n\r\n`String getUserId();` \r\n\r\nto \r\n\r\n`Long getUserId();`","title":"Spring JPA - &quot;java.lang.IllegalArgumentException: Projection type must be an interface!&quot; (using native query)","body":"<p>You have declared <code>userId</code> field as <code>Long</code> in the entity but in <code>UserProjection</code> <code>getUserId</code> method return type is <code>String</code>. which is mismatching so Change </p>\n\n<p><code>String getUserId();</code> </p>\n\n<p>to </p>\n\n<p><code>Long getUserId();</code></p>\n"},{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1611149849,"creation_date":1553284209,"answer_id":55306892,"question_id":55247358,"body_markdown":"I had this same issue with a very similar projection:\r\n\r\n```\r\npublic interface RunSummary {\r\n\r\n    String getName();\r\n    ZonedDateTime getDate();\r\n    Long getVolume();\r\n\r\n}\r\n```\r\n\r\nI do not know why, but the issue is with `ZonedDateTime`. I switched the type of `getDate()` to `java.util.Date`, and the exception went away. Outside of the transaction, I transformed the Date back to ZonedDateTime and my downstream code was not affected.\r\n\r\nI have no idea why this is an issue; if I don&#39;t use projection, the ZonedDateTime works out-of-the-box. I&#39;m posting this as an answer in the meantime because it should be able to serve as a workaround.\r\n\r\n-----\r\n\r\nAccording to [this bug](https://github.com/spring-projects/spring-data-commons/issues/2223) on the Spring-Data-Commons project, this was a regression caused by adding support for optional fields in the projection. (Clearly it&#39;s not actually caused by that other fix -- since that other fix was added in 2020 and this question/answer long predates it.) Regardless, it has been marked as resolved in Spring-Boot 2.4.3. \r\n\r\nBasically, you couldn&#39;t use any of the Java 8 time classes in your projection, only the older Date-based classes. The workaround I posted above will get around the issue in Spring-Boot versions before 2.4.3. ","title":"Spring JPA - &quot;java.lang.IllegalArgumentException: Projection type must be an interface!&quot; (using native query)","body":"<p>I had this same issue with a very similar projection:</p>\n<pre><code>public interface RunSummary {\n\n    String getName();\n    ZonedDateTime getDate();\n    Long getVolume();\n\n}\n</code></pre>\n<p>I do not know why, but the issue is with <code>ZonedDateTime</code>. I switched the type of <code>getDate()</code> to <code>java.util.Date</code>, and the exception went away. Outside of the transaction, I transformed the Date back to ZonedDateTime and my downstream code was not affected.</p>\n<p>I have no idea why this is an issue; if I don't use projection, the ZonedDateTime works out-of-the-box. I'm posting this as an answer in the meantime because it should be able to serve as a workaround.</p>\n<hr />\n<p>According to <a href=\"https://github.com/spring-projects/spring-data-commons/issues/2223\" rel=\"noreferrer\">this bug</a> on the Spring-Data-Commons project, this was a regression caused by adding support for optional fields in the projection. (Clearly it's not actually caused by that other fix -- since that other fix was added in 2020 and this question/answer long predates it.) Regardless, it has been marked as resolved in Spring-Boot 2.4.3.</p>\n<p>Basically, you couldn't use any of the Java 8 time classes in your projection, only the older Date-based classes. The workaround I posted above will get around the issue in Spring-Boot versions before 2.4.3.</p>\n"},{"tags":[],"owner":{"account_id":1471105,"reputation":859,"user_id":1382672,"accept_rate":66,"display_name":"Ahmet Tanakol"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1608048270,"creation_date":1608048270,"answer_id":65309468,"question_id":55247358,"body_markdown":"A new attribute converter can be created to map column type to desired attribute type.\r\n\r\n    @Component\r\n    public class OffsetDateTimeTypeConverter implements \r\n                  AttributeConverter&lt;OffsetDateTime, Timestamp&gt; {\r\n\r\n        @Override\r\n        public Timestamp convertToDatabaseColumn(OffsetDateTime attribute) {\r\n           //your implementation\r\n        }\r\n\r\n        @Override\r\n        public OffsetDateTime convertToEntityAttribute(Timestamp dbData) {\r\n           return dbData == null ? null : dbData.toInstant().atOffset(ZoneOffset.UTC);\r\n        }\r\n\r\n    }\r\n\r\n\r\nIn the projection, it can be used like below. This is an explicit way of calling the converter. I couldn&#39;t find how to register it automatically so that you don&#39;t need to add `@Value` annotation every time you need.\r\n\r\n    @Value(&quot;#{@offsetDateTimeTypeConverter.convertToEntityAttribute(target.yourattributename)}&quot;)\r\n    OffsetDateTime getYourAttributeName();","title":"Spring JPA - &quot;java.lang.IllegalArgumentException: Projection type must be an interface!&quot; (using native query)","body":"<p>A new attribute converter can be created to map column type to desired attribute type.</p>\n<pre><code>@Component\npublic class OffsetDateTimeTypeConverter implements \n              AttributeConverter&lt;OffsetDateTime, Timestamp&gt; {\n\n    @Override\n    public Timestamp convertToDatabaseColumn(OffsetDateTime attribute) {\n       //your implementation\n    }\n\n    @Override\n    public OffsetDateTime convertToEntityAttribute(Timestamp dbData) {\n       return dbData == null ? null : dbData.toInstant().atOffset(ZoneOffset.UTC);\n    }\n\n}\n</code></pre>\n<p>In the projection, it can be used like below. This is an explicit way of calling the converter. I couldn't find how to register it automatically so that you don't need to add <code>@Value</code> annotation every time you need.</p>\n<pre><code>@Value(&quot;#{@offsetDateTimeTypeConverter.convertToEntityAttribute(target.yourattributename)}&quot;)\nOffsetDateTime getYourAttributeName();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1608641811,"creation_date":1608289447,"answer_id":65355897,"question_id":55247358,"body_markdown":"When you call method from projection interface spring takes the value it received from the database and converts it to the type that method returns. This is done with the [following code][1]:\r\n```\r\nif (type.isCollectionLike() &amp;&amp; !ClassUtils.isPrimitiveArray(rawType)) { //if1\r\n    return projectCollectionElements(asCollection(result), type);\r\n} else if (type.isMap()) { //if2\r\n    return projectMapValues((Map&lt;?, ?&gt;) result, type);\r\n} else if (conversionRequiredAndPossible(result, rawType)) { //if3\r\n    return conversionService.convert(result, rawType);\r\n} else { //else\r\n    return getProjection(result, rawType);\r\n}\r\n```\r\n\r\nIn the case of `getCreatedDate` method you want to get `java.time.ZonedDateTime` from `java.sql.Timestamp`. And since `ZonedDateTime` is not a collection or an array (if1), not a map (if2) and spring does not have a registered converter (if3) from `Timestamp` to `ZonedDateTime`, it assumes that this field is another nested projection (else), then this is not the case and you get an exception.\r\n\r\nThere are two solutions: \r\n1. Return Timestamp and then manually convert to ZonedDateTime\r\n2. Create and register converter\r\n\r\n```\r\npublic class TimestampToZonedDateTimeConverter implements Converter&lt;Timestamp, ZonedDateTime&gt; {\r\n    @Override\r\n    public ZonedDateTime convert(Timestamp timestamp) {\r\n        return ZonedDateTime.now(); //write your algorithm\r\n    }\r\n}\r\n```\r\n```\r\n@Configuration\r\npublic class ConverterConfig {\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void config() {\r\n        DefaultConversionService conversionService = (DefaultConversionService) DefaultConversionService.getSharedInstance();\r\n        conversionService.addConverter(new TimestampToZonedDateTimeConverter());\r\n    }\r\n}\r\n```\r\n\r\n## Spring Boot 2.4.0 update:\r\n\r\nSince version 2.4.0 spring [creates a new][2] `DefaultConversionService` object instead of getting it via `getSharedInstance` and I don&#39;t know proper way to get it other than using reflection:\r\n\r\n```\r\n@Configuration\r\npublic class ConverterConfig implements WebMvcConfigurer {\r\n    @PostConstruct\r\n    public void config() throws NoSuchFieldException, ClassNotFoundException, IllegalAccessException {\r\n        Class&lt;?&gt; aClass = Class.forName(&quot;org.springframework.data.projection.ProxyProjectionFactory&quot;);\r\n        Field field = aClass.getDeclaredField(&quot;CONVERSION_SERVICE&quot;);\r\n        field.setAccessible(true);\r\n        GenericConversionService service = (GenericConversionService) field.get(null);\r\n\r\n        service.addConverter(new TimestampToZonedDateTimeConverter());\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-commons/blob/2.1.x/src/main/java/org/springframework/data/projection/ProjectingMethodInterceptor.java\r\n  [2]: https://github.com/spring-projects/spring-data-commons/blob/master/src/main/java/org/springframework/data/projection/ProxyProjectionFactory.java#L51","title":"Spring JPA - &quot;java.lang.IllegalArgumentException: Projection type must be an interface!&quot; (using native query)","body":"<p>When you call method from projection interface spring takes the value it received from the database and converts it to the type that method returns. This is done with the <a href=\"https://github.com/spring-projects/spring-data-commons/blob/2.1.x/src/main/java/org/springframework/data/projection/ProjectingMethodInterceptor.java\" rel=\"noreferrer\">following code</a>:</p>\n<pre><code>if (type.isCollectionLike() &amp;&amp; !ClassUtils.isPrimitiveArray(rawType)) { //if1\n    return projectCollectionElements(asCollection(result), type);\n} else if (type.isMap()) { //if2\n    return projectMapValues((Map&lt;?, ?&gt;) result, type);\n} else if (conversionRequiredAndPossible(result, rawType)) { //if3\n    return conversionService.convert(result, rawType);\n} else { //else\n    return getProjection(result, rawType);\n}\n</code></pre>\n<p>In the case of <code>getCreatedDate</code> method you want to get <code>java.time.ZonedDateTime</code> from <code>java.sql.Timestamp</code>. And since <code>ZonedDateTime</code> is not a collection or an array (if1), not a map (if2) and spring does not have a registered converter (if3) from <code>Timestamp</code> to <code>ZonedDateTime</code>, it assumes that this field is another nested projection (else), then this is not the case and you get an exception.</p>\n<p>There are two solutions:</p>\n<ol>\n<li>Return Timestamp and then manually convert to ZonedDateTime</li>\n<li>Create and register converter</li>\n</ol>\n<pre><code>public class TimestampToZonedDateTimeConverter implements Converter&lt;Timestamp, ZonedDateTime&gt; {\n    @Override\n    public ZonedDateTime convert(Timestamp timestamp) {\n        return ZonedDateTime.now(); //write your algorithm\n    }\n}\n</code></pre>\n<pre><code>@Configuration\npublic class ConverterConfig {\n    @EventListener(ApplicationReadyEvent.class)\n    public void config() {\n        DefaultConversionService conversionService = (DefaultConversionService) DefaultConversionService.getSharedInstance();\n        conversionService.addConverter(new TimestampToZonedDateTimeConverter());\n    }\n}\n</code></pre>\n<h2>Spring Boot 2.4.0 update:</h2>\n<p>Since version 2.4.0 spring <a href=\"https://github.com/spring-projects/spring-data-commons/blob/master/src/main/java/org/springframework/data/projection/ProxyProjectionFactory.java#L51\" rel=\"noreferrer\">creates a new</a> <code>DefaultConversionService</code> object instead of getting it via <code>getSharedInstance</code> and I don't know proper way to get it other than using reflection:</p>\n<pre><code>@Configuration\npublic class ConverterConfig implements WebMvcConfigurer {\n    @PostConstruct\n    public void config() throws NoSuchFieldException, ClassNotFoundException, IllegalAccessException {\n        Class&lt;?&gt; aClass = Class.forName(&quot;org.springframework.data.projection.ProxyProjectionFactory&quot;);\n        Field field = aClass.getDeclaredField(&quot;CONVERSION_SERVICE&quot;);\n        field.setAccessible(true);\n        GenericConversionService service = (GenericConversionService) field.get(null);\n\n        service.addConverter(new TimestampToZonedDateTimeConverter());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608549057,"creation_date":1608549057,"answer_id":65391717,"question_id":55247358,"body_markdown":"I never got `interface` to work and not sure if it is supported with `ZonedDateTime` though no reason for not supporting occurs in my mind. \r\n\r\nFor that I created a class that I use with projection (of course this could implement that interface but for the sake of simplicity I left it out).\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    public class UserProjection {\r\n    \tprivate String userName;\r\n    \tprivate ZonedDateTime createdDate;\r\n    }\r\n\r\nThis requires JPQL because using NEW operator in the query, so like:\r\n\r\n\t@Query(value = &quot; SELECT NEW org.example.UserProjection(U.userName, U.createdDate) &quot;\r\n\t\t\t+ &quot; FROM USER U &quot; // note that the entity name is &quot;USER&quot; in CAPS\r\n\t\t\t+ &quot; WHERE U.userName = :name &quot;)\r\n","title":"Spring JPA - &quot;java.lang.IllegalArgumentException: Projection type must be an interface!&quot; (using native query)","body":"<p>I never got <code>interface</code> to work and not sure if it is supported with <code>ZonedDateTime</code> though no reason for not supporting occurs in my mind.</p>\n<p>For that I created a class that I use with projection (of course this could implement that interface but for the sake of simplicity I left it out).</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\npublic class UserProjection {\n    private String userName;\n    private ZonedDateTime createdDate;\n}\n</code></pre>\n<p>This requires JPQL because using NEW operator in the query, so like:</p>\n<pre><code>@Query(value = &quot; SELECT NEW org.example.UserProjection(U.userName, U.createdDate) &quot;\n        + &quot; FROM USER U &quot; // note that the entity name is &quot;USER&quot; in CAPS\n        + &quot; WHERE U.userName = :name &quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16697409,"reputation":41,"user_id":12068204,"display_name":"IgalHaddad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613330500,"creation_date":1613330500,"answer_id":66199198,"question_id":55247358,"body_markdown":"I had the same issue with Spring Boot v2.4.2  \r\nI wrote this ugly hack that fixed it for me:  \r\n```java\r\nimport java.lang.reflect.Field;\r\nimport java.lang.reflect.Modifier;\r\n\r\nimport org.springframework.boot.context.event.ApplicationReadyEvent;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.event.EventListener;\r\nimport org.springframework.core.convert.support.DefaultConversionService;\r\nimport org.springframework.data.convert.Jsr310Converters;\r\nimport org.springframework.data.util.NullableWrapperConverters;\r\n\r\n@Configuration\r\npublic class JpaConvertersConfig {\r\n\r\n\t@EventListener(ApplicationReadyEvent.class)\r\n\tpublic void config() throws Exception {\r\n\t\tClass&lt;?&gt; aClass = Class.forName(&quot;org.springframework.data.projection.ProxyProjectionFactory&quot;);\r\n\t\tField field = aClass.getDeclaredField(&quot;CONVERSION_SERVICE&quot;);\r\n\t\tfield.setAccessible(true);\r\n\t\tField modifiers = Field.class.getDeclaredField(&quot;modifiers&quot;);\r\n\t\tmodifiers.setAccessible(true);\r\n\t\tmodifiers.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\r\n\t\tDefaultConversionService sharedInstance = ((DefaultConversionService) DefaultConversionService.getSharedInstance());\r\n\t\tfield.set(null, sharedInstance);\r\n\t\tJsr310Converters.getConvertersToRegister().forEach(sharedInstance::addConverter);\r\n\t\tNullableWrapperConverters.registerConvertersIn(sharedInstance);\r\n\t}\r\n}\r\n```","title":"Spring JPA - &quot;java.lang.IllegalArgumentException: Projection type must be an interface!&quot; (using native query)","body":"<p>I had the same issue with Spring Boot v2.4.2<br />\nI wrote this ugly hack that fixed it for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Field;\nimport java.lang.reflect.Modifier;\n\nimport org.springframework.boot.context.event.ApplicationReadyEvent;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.event.EventListener;\nimport org.springframework.core.convert.support.DefaultConversionService;\nimport org.springframework.data.convert.Jsr310Converters;\nimport org.springframework.data.util.NullableWrapperConverters;\n\n@Configuration\npublic class JpaConvertersConfig {\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void config() throws Exception {\n        Class&lt;?&gt; aClass = Class.forName(&quot;org.springframework.data.projection.ProxyProjectionFactory&quot;);\n        Field field = aClass.getDeclaredField(&quot;CONVERSION_SERVICE&quot;);\n        field.setAccessible(true);\n        Field modifiers = Field.class.getDeclaredField(&quot;modifiers&quot;);\n        modifiers.setAccessible(true);\n        modifiers.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\n        DefaultConversionService sharedInstance = ((DefaultConversionService) DefaultConversionService.getSharedInstance());\n        field.set(null, sharedInstance);\n        Jsr310Converters.getConvertersToRegister().forEach(sharedInstance::addConverter);\n        NullableWrapperConverters.registerConvertersIn(sharedInstance);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17192426,"reputation":19,"user_id":17089365,"display_name":"A.Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642506370,"creation_date":1642506370,"answer_id":70755091,"question_id":55247358,"body_markdown":"The problem that is spring data jpa cannot convert some types from database into java types.\r\nI had almost the same issue when tried to get boolean as result and database returns number.\r\n\r\nLook at more at: \r\nhttps://github.com/spring-projects/spring-data-commons/issues/2223\r\nhttps://github.com/spring-projects/spring-data-commons/issues/2290","title":"Spring JPA - &quot;java.lang.IllegalArgumentException: Projection type must be an interface!&quot; (using native query)","body":"<p>The problem that is spring data jpa cannot convert some types from database into java types.\nI had almost the same issue when tried to get boolean as result and database returns number.</p>\n<p>Look at more at:\n<a href=\"https://github.com/spring-projects/spring-data-commons/issues/2223\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-commons/issues/2223</a>\n<a href=\"https://github.com/spring-projects/spring-data-commons/issues/2290\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-commons/issues/2290</a></p>\n"}],"owner":{"account_id":13026564,"reputation":211,"user_id":9414381,"display_name":"F&#225;bio Castilhos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10581,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"answer_count":7,"score":19,"last_activity_date":1642506370,"creation_date":1553018652,"question_id":55247358,"body_markdown":"I&#39;m trying to retrieve a timestamp date from an oracle database but the code is throwing:\r\n\r\n&gt; java.lang.IllegalArgumentException: Projection type must be an\r\n&gt; interface!\r\n\r\nI&#39;m trying to use native query because the original query is way to complex to use Spring JPA methods or JPQL.\r\n\r\nMy code is similar to this one below (Sorry, can&#39;t paste the original one due to company policy).\r\n\r\nEntity:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity(name = &quot;USER&quot;)\r\n    public class User {\r\n    \r\n        @Column(name = &quot;USER_ID&quot;)\r\n        private Long userId;\r\n    \r\n        @Column(name = &quot;USER_NAME&quot;)\r\n        private String userName;\r\n    \r\n        @Column(name = &quot;CREATED_DATE&quot;)\r\n        private ZonedDateTime createdDate;\r\n    }\r\n\r\nProjection:\r\n\r\n    public interface UserProjection {\r\n    \r\n        String getUserName();\r\n    \r\n        ZonedDateTime getCreatedDate();\r\n    }\r\n\r\nRepository:\r\n\r\n    @Repository\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt; {\r\n    \r\n        @Query(\r\n                value = &quot;   select userName as userName,&quot; +\r\n                        &quot;          createdDate as createdDate&quot; +\r\n                        &quot;   from user as u &quot; +\r\n                        &quot;   where u.userName = :name&quot;,\r\n                nativeQuery = true\r\n        )\r\n        Optional&lt;UserProjection&gt; findUserByName(@Param(&quot;name&quot;) String name);\r\n    }\r\n\r\nI&#39;m using Spring Boot 2.1.3 and Hibernate 5.3.7.","title":"Spring JPA - &quot;java.lang.IllegalArgumentException: Projection type must be an interface!&quot; (using native query)","body":"<p>I'm trying to retrieve a timestamp date from an oracle database but the code is throwing:</p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Projection type must be an\n  interface!</p>\n</blockquote>\n\n<p>I'm trying to use native query because the original query is way to complex to use Spring JPA methods or JPQL.</p>\n\n<p>My code is similar to this one below (Sorry, can't paste the original one due to company policy).</p>\n\n<p>Entity:</p>\n\n<pre><code>@Getter\n@Setter\n@Entity(name = \"USER\")\npublic class User {\n\n    @Column(name = \"USER_ID\")\n    private Long userId;\n\n    @Column(name = \"USER_NAME\")\n    private String userName;\n\n    @Column(name = \"CREATED_DATE\")\n    private ZonedDateTime createdDate;\n}\n</code></pre>\n\n<p>Projection:</p>\n\n<pre><code>public interface UserProjection {\n\n    String getUserName();\n\n    ZonedDateTime getCreatedDate();\n}\n</code></pre>\n\n<p>Repository:</p>\n\n<pre><code>@Repository\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n\n    @Query(\n            value = \"   select userName as userName,\" +\n                    \"          createdDate as createdDate\" +\n                    \"   from user as u \" +\n                    \"   where u.userName = :name\",\n            nativeQuery = true\n    )\n    Optional&lt;UserProjection&gt; findUserByName(@Param(\"name\") String name);\n}\n</code></pre>\n\n<p>I'm using Spring Boot 2.1.3 and Hibernate 5.3.7.</p>\n"},{"tags":["java","security","jakarta-ee","wildfly","elytron"],"answers":[{"tags":[],"owner":{"account_id":3811602,"reputation":567,"user_id":3162265,"display_name":"Erhard Siegl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554323264,"creation_date":1554323264,"answer_id":55503752,"question_id":55298178,"body_markdown":" 1. You need to configure the basic type of authentication in the server configuration but not in `web.xml`\r\n 2. The name of realm is not important. It is just displayed in the browser when you get the `401 Unauthorized` (the `WWW-Authenticate` header). If the ream name is configured in `web.xml` it is used, otherwise the one from the server config is used.","title":"WildFly and Java EE security configuration with Elytron","body":"<ol>\n<li>You need to configure the basic type of authentication in the server configuration but not in <code>web.xml</code></li>\n<li>The name of realm is not important. It is just displayed in the browser when you get the <code>401 Unauthorized</code> (the <code>WWW-Authenticate</code> header). If the ream name is configured in <code>web.xml</code> it is used, otherwise the one from the server config is used.</li>\n</ol>\n"}],"owner":{"account_id":8685059,"reputation":1412,"user_id":6499760,"display_name":"Alexey  Usharovski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1691,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642505831,"creation_date":1553252380,"question_id":55298178,"body_markdown":"I&#39;m trying to become more familiar with WildFly security configuration and have some problems with understanding of relation between options in server side configs like `standalone.xml` and application side configs like `web.xml` and `jboss-web.xml`.\r\n\r\nI have several question about this configuration which was based on Wildfly servlet security example. I already try it out and it works but several things are not clear for me.\r\n\r\n 1. How I see the basic type of authentication is defined in Authentication Factory on server side and in web.xml on application side. Which one have a priority. Is that obligatory to declare it twice.\r\n 2. The name of realm &#39;RealmUsersRoles&#39;. Is it mean the same entity in server side configs and web.xml\r\n 3. In ideal case I want to get explanation of interconnection between all security entities which are mentioned in this configuration.\r\n\r\nHere is JBoss CLI configuration script \r\n\r\n    # 1. Add the JDBC security realm creation\r\n    /subsystem=elytron/jdbc-realm=servlet-security-jdbc-realm:add(\\\r\n    principal-query=[\\\r\n    {sql=&quot;SELECT PASSWORD FROM USERS WHERE USERNAME = ?&quot;, data-source=&quot;MySQLDS&quot;, clear-password-mapper={password-index=1}},\\\r\n    {sql=&quot;SELECT R.NAME, &#39;Roles&#39; FROM USERS_ROLES UR INNER JOIN ROLES R ON R.ID = UR.ROLE_ID INNER JOIN USERS U ON U.ID = UR.USER_ID WHERE U.USERNAME = ?&quot;, data-source=&quot;MySQLDS&quot;, attribute-mapping=[{index=1, to=roles}]}])\r\n    \r\n    # 2. Add a simple role decoder for the &quot;roles&quot; attribute mapping\r\n    /subsystem=elytron/simple-role-decoder=from-roles-attribute:add(attribute=roles)\r\n    \r\n    # 3. Configure the servlet-security-quickstart security domain\r\n    /subsystem=elytron/security-domain=servlet-security-quickstart-sd:add(\\\r\n    default-realm=servlet-security-jdbc-realm, \\\r\n    realms=[{realm=servlet-security-jdbc-realm, role-decoder=from-roles-attribute}], \\\r\n    permission-mapper=default-permission-mapper)\r\n    \r\n    # 4. Configure the HTTP Authentication Factory\r\n    /subsystem=elytron/http-authentication-factory=servlet-security-quickstart-http-auth:add(\\\r\n    http-server-mechanism-factory=global,\\\r\n    security-domain=servlet-security-quickstart-sd,\\\r\n    mechanism-configurations=[{mechanism-name=BASIC,mechanism-realm-configurations=[{realm-name=RealmUsersRoles}]}])\r\n    \r\n    # 5. Configure Undertow&#39;s application security domain\r\n    /subsystem=undertow/application-security-domain=servlet-security-quickstart:add(\\\r\n    http-authentication-factory=servlet-security-quickstart-http-auth)\r\n\r\nweb.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\r\n    \r\n        &lt;login-config&gt;\r\n            &lt;auth-method&gt;BASIC&lt;/auth-method&gt;\r\n            &lt;realm-name&gt;RealmUsersRoles&lt;/realm-name&gt;\r\n        &lt;/login-config&gt;\r\n    &lt;/web-app&gt;\r\n\r\njboss-web.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss-web&gt;\r\n        &lt;security-domain&gt;servlet-security-quickstart&lt;/security-domain&gt;\r\n    &lt;/jboss-web&gt;\r\n\r\nHere is a link to Wildfly example I use as a base https://github.com/wildfly/quickstart/tree/master/servlet-security\r\n\r\nHere is all my code based on this example with some modifications https://github.com/usharik/GeekBrainsJavaEE/tree/master/lesson8-security","title":"WildFly and Java EE security configuration with Elytron","body":"<p>I'm trying to become more familiar with WildFly security configuration and have some problems with understanding of relation between options in server side configs like <code>standalone.xml</code> and application side configs like <code>web.xml</code> and <code>jboss-web.xml</code>.</p>\n<p>I have several question about this configuration which was based on Wildfly servlet security example. I already try it out and it works but several things are not clear for me.</p>\n<ol>\n<li>How I see the basic type of authentication is defined in Authentication Factory on server side and in web.xml on application side. Which one have a priority. Is that obligatory to declare it twice.</li>\n<li>The name of realm 'RealmUsersRoles'. Is it mean the same entity in server side configs and web.xml</li>\n<li>In ideal case I want to get explanation of interconnection between all security entities which are mentioned in this configuration.</li>\n</ol>\n<p>Here is JBoss CLI configuration script</p>\n<pre><code># 1. Add the JDBC security realm creation\n/subsystem=elytron/jdbc-realm=servlet-security-jdbc-realm:add(\\\nprincipal-query=[\\\n{sql=&quot;SELECT PASSWORD FROM USERS WHERE USERNAME = ?&quot;, data-source=&quot;MySQLDS&quot;, clear-password-mapper={password-index=1}},\\\n{sql=&quot;SELECT R.NAME, 'Roles' FROM USERS_ROLES UR INNER JOIN ROLES R ON R.ID = UR.ROLE_ID INNER JOIN USERS U ON U.ID = UR.USER_ID WHERE U.USERNAME = ?&quot;, data-source=&quot;MySQLDS&quot;, attribute-mapping=[{index=1, to=roles}]}])\n\n# 2. Add a simple role decoder for the &quot;roles&quot; attribute mapping\n/subsystem=elytron/simple-role-decoder=from-roles-attribute:add(attribute=roles)\n\n# 3. Configure the servlet-security-quickstart security domain\n/subsystem=elytron/security-domain=servlet-security-quickstart-sd:add(\\\ndefault-realm=servlet-security-jdbc-realm, \\\nrealms=[{realm=servlet-security-jdbc-realm, role-decoder=from-roles-attribute}], \\\npermission-mapper=default-permission-mapper)\n\n# 4. Configure the HTTP Authentication Factory\n/subsystem=elytron/http-authentication-factory=servlet-security-quickstart-http-auth:add(\\\nhttp-server-mechanism-factory=global,\\\nsecurity-domain=servlet-security-quickstart-sd,\\\nmechanism-configurations=[{mechanism-name=BASIC,mechanism-realm-configurations=[{realm-name=RealmUsersRoles}]}])\n\n# 5. Configure Undertow's application security domain\n/subsystem=undertow/application-security-domain=servlet-security-quickstart:add(\\\nhttp-authentication-factory=servlet-security-quickstart-http-auth)\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\n\n    &lt;login-config&gt;\n        &lt;auth-method&gt;BASIC&lt;/auth-method&gt;\n        &lt;realm-name&gt;RealmUsersRoles&lt;/realm-name&gt;\n    &lt;/login-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>jboss-web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jboss-web&gt;\n    &lt;security-domain&gt;servlet-security-quickstart&lt;/security-domain&gt;\n&lt;/jboss-web&gt;\n</code></pre>\n<p>Here is a link to Wildfly example I use as a base <a href=\"https://github.com/wildfly/quickstart/tree/master/servlet-security\" rel=\"nofollow noreferrer\">https://github.com/wildfly/quickstart/tree/master/servlet-security</a></p>\n<p>Here is all my code based on this example with some modifications <a href=\"https://github.com/usharik/GeekBrainsJavaEE/tree/master/lesson8-security\" rel=\"nofollow noreferrer\">https://github.com/usharik/GeekBrainsJavaEE/tree/master/lesson8-security</a></p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1642505826,"post_id":70754928,"comment_id":125083348,"body_markdown":"`but it throws me an error.` research the error, change your code, problem solved. finding and posting your stack trace here is the most useful thing you can do, but you should first research what it says before doing that","body":"<code>but it throws me an error.</code> research the error, change your code, problem solved. finding and posting your stack trace here is the most useful thing you can do, but you should first research what it says before doing that"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1642519845,"post_id":70754928,"comment_id":125089202,"body_markdown":"Please edit your question to show the exact error message you get and its stack trace.","body":"Please edit your question to show the exact error message you get and its stack trace."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642575232,"post_id":70754928,"comment_id":125103806,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."}],"owner":{"account_id":19661427,"reputation":31,"user_id":14392918,"display_name":"gjgjgjgj14"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642505780,"creation_date":1642505591,"question_id":70754928,"body_markdown":"I&#180;m trying to create an Activity with the Firebase authentication, but it&#180;s wrong and I don&#180;t know why.\r\n\r\n    public class RegisterActivity extends AppCompatActivity {\r\n\r\n    private EditText editTextName;\r\n    private EditText editTextEmail;\r\n    private EditText editTextPassword;\r\n    private EditText editTextMobile;\r\n    private Button btn_register;\r\n\r\n    private FirebaseAuth auth;\r\n    private static final String TAG = &quot;EmailPassword&quot;;\r\n    private FirebaseAuth mAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_register);\r\n\r\n        // Elementos del XML\r\n        btn_register = (Button) findViewById(R.id.btn_register);\r\n        editTextEmail = (EditText) findViewById(R.id.editTextEmail);\r\n        editTextPassword = (EditText) findViewById(R.id.editTextPassword);\r\n        editTextName = (EditText) findViewById(R.id.editTextName);\r\n\r\n\r\n        btn_register.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                onRegisterClick();\r\n            }\r\n        });\r\n\r\n        changeStatusBarColor();\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        // Check if user is signed in (non-null) and update UI accordingly.\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        if(currentUser != null){\r\n            reload();\r\n        }\r\n    }\r\n\r\n    public void onRegisterClick() {\r\n\r\n        String email = editTextEmail.getText().toString();\r\n        String password = editTextEmail.getText().toString();\r\n\r\n        mAuth.createUserWithEmailAndPassword(email, password)\r\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            Log.d(TAG, &quot;createUserWithEmail:success&quot;);\r\n                            FirebaseUser user = mAuth.getCurrentUser();\r\n                            startActivity(new Intent(RegisterActivity.this, MenuPrincipalActivity.class));\r\n                            overridePendingTransition(R.anim.slide_in_right, R.anim.stay);\r\n\r\n                        } else {\r\n                            Log.w(TAG, &quot;createUserWithEmail:failure&quot;, task.getException());\r\n                            Toast.makeText(RegisterActivity.this, &quot;Authentication failed.&quot;,\r\n                                    Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void changeStatusBarColor() {\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(getResources().getColor(R.color.register_bk_color));\r\n\r\n        }\r\n    }\r\n\r\n    private void reload() { }\r\n\r\n\r\nI&#180;ve tried to includ the onRegisterClick method into the onClick, but it throws me an error.\r\n\r\nAlso I tried to parse the EditText to String, but I don&#180;t know if the error is there.\r\n\r\nAlthough, I can&#180;t use the Firebase Assistant, it&#180;s always loading. I&#180;ve tried to uncheck the plugins and check it again, but it doesn&#180;t work too.\r\n\r\n","title":"Can&#180;t register a user using Firebase authentication","body":"<p>I´m trying to create an Activity with the Firebase authentication, but it´s wrong and I don´t know why.</p>\n<pre><code>public class RegisterActivity extends AppCompatActivity {\n\nprivate EditText editTextName;\nprivate EditText editTextEmail;\nprivate EditText editTextPassword;\nprivate EditText editTextMobile;\nprivate Button btn_register;\n\nprivate FirebaseAuth auth;\nprivate static final String TAG = &quot;EmailPassword&quot;;\nprivate FirebaseAuth mAuth;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_register);\n\n    // Elementos del XML\n    btn_register = (Button) findViewById(R.id.btn_register);\n    editTextEmail = (EditText) findViewById(R.id.editTextEmail);\n    editTextPassword = (EditText) findViewById(R.id.editTextPassword);\n    editTextName = (EditText) findViewById(R.id.editTextName);\n\n\n    btn_register.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            onRegisterClick();\n        }\n    });\n\n    changeStatusBarColor();\n\n    mAuth = FirebaseAuth.getInstance();\n\n}\n\n@Override\npublic void onStart() {\n    super.onStart();\n    // Check if user is signed in (non-null) and update UI accordingly.\n    FirebaseUser currentUser = mAuth.getCurrentUser();\n    if(currentUser != null){\n        reload();\n    }\n}\n\npublic void onRegisterClick() {\n\n    String email = editTextEmail.getText().toString();\n    String password = editTextEmail.getText().toString();\n\n    mAuth.createUserWithEmailAndPassword(email, password)\n            .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                    if (task.isSuccessful()) {\n                        Log.d(TAG, &quot;createUserWithEmail:success&quot;);\n                        FirebaseUser user = mAuth.getCurrentUser();\n                        startActivity(new Intent(RegisterActivity.this, MenuPrincipalActivity.class));\n                        overridePendingTransition(R.anim.slide_in_right, R.anim.stay);\n\n                    } else {\n                        Log.w(TAG, &quot;createUserWithEmail:failure&quot;, task.getException());\n                        Toast.makeText(RegisterActivity.this, &quot;Authentication failed.&quot;,\n                                Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n}\n\npublic void changeStatusBarColor() {\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n\n        Window window = getWindow();\n        window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\n        window.setStatusBarColor(getResources().getColor(R.color.register_bk_color));\n\n    }\n}\n\nprivate void reload() { }\n</code></pre>\n<p>I´ve tried to includ the onRegisterClick method into the onClick, but it throws me an error.</p>\n<p>Also I tried to parse the EditText to String, but I don´t know if the error is there.</p>\n<p>Although, I can´t use the Firebase Assistant, it´s always loading. I´ve tried to uncheck the plugins and check it again, but it doesn´t work too.</p>\n"},{"tags":["java","eclipse","gradle","jmh"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642505698,"creation_date":1642505698,"answer_id":70754950,"question_id":70097491,"body_markdown":"I think the problem about the first case is that you have annotation processing turned off when building with Eclipse. Previously I faced this issue on IDEA and the solution was to enable annotation processing. IDEA then picks up JMH&#39;s annotation processor declared as\r\n```groovy\r\nannotationProcessor group: &#39;org.openjdk.jmh&#39;, name: &#39;jmh-generator-annprocess&#39;, version: &quot;${jmhVersion}&quot;\r\n```\r\nin your `build.gradle` and generates the missing file.","title":"Unable to find the resource: /META-INF/BenchmarkList in Gradle project on Eclipse","body":"<p>I think the problem about the first case is that you have annotation processing turned off when building with Eclipse. Previously I faced this issue on IDEA and the solution was to enable annotation processing. IDEA then picks up JMH's annotation processor declared as</p>\n<pre><code>annotationProcessor group: 'org.openjdk.jmh', name: 'jmh-generator-annprocess', version: &quot;${jmhVersion}&quot;\n</code></pre>\n<p>in your <code>build.gradle</code> and generates the missing file.</p>\n"}],"owner":{"account_id":11366457,"reputation":332,"user_id":8333238,"display_name":"ragnacode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642505698,"creation_date":1637762603,"question_id":70097491,"body_markdown":"The sample project is ready-to-run (builds in gradle and builds with Eclipse) @ https://github.com/langelescu/java-json-benchmark.\r\n\r\nIt is a forked Github repository setup to build in Gradle for which I created a Eclipse 2021-09 workspace. I am trying to run it 1) from the development environment Eclipse or 2) command line but encountering two errors:\r\n\r\n1) If I run it from Eclipse with Run configuration arguments *&quot;deser --apis stream --libs jackson,genson&quot;*, I get:\r\n\r\n&gt;Exception in thread &quot;main&quot; java.lang.RuntimeException: ERROR: Unable to find the resource: /META-INF/BenchmarkList\r\n\tat org.openjdk.jmh.runner.AbstractResourceReader.getReaders(AbstractResourceReader.java:98)\r\n\tat org.openjdk.jmh.runner.BenchmarkList.find(BenchmarkList.java:122)\r\n\tat org.openjdk.jmh.runner.Runner.internalRun(Runner.java:263)\r\n\tat org.openjdk.jmh.runner.Runner.run(Runner.java:209)\r\n\tat com.github.fabienrenaud.jjb.Cli$AbstractCommand.run(Cli.java:110)\r\n\tat com.github.fabienrenaud.jjb.Cli.main(Cli.java:40)\r\n\r\n2) If I run it from the command line with command *./run deser --apis stream --libs jackson,genson*, I get:\r\n\r\n&gt;Exception in thread &quot;main&quot; io.airlift.airline.ParseArgumentsUnexpectedException: Found &gt;unexpected parameters: [genson]\r\n&gt;        at io.airlift.airline.Cli.validate(Cli.java:194)\r\n&gt;        at io.airlift.airline.Cli.parse(Cli.java:132)\r\n&gt;        at io.airlift.airline.Cli.parse(Cli.java:108)\r\n&gt;        at io.airlift.airline.Cli.parse(Cli.java:103)\r\n&gt;        at com.github.fabienrenaud.jjb.Cli.main(Cli.java:40)\r\n\r\nBoth usages are correct as per the readme in the original repository. I suspect it is a configuration problem that creates both issues. How do I fix it?","title":"Unable to find the resource: /META-INF/BenchmarkList in Gradle project on Eclipse","body":"<p>The sample project is ready-to-run (builds in gradle and builds with Eclipse) @ <a href=\"https://github.com/langelescu/java-json-benchmark\" rel=\"nofollow noreferrer\">https://github.com/langelescu/java-json-benchmark</a>.</p>\n<p>It is a forked Github repository setup to build in Gradle for which I created a Eclipse 2021-09 workspace. I am trying to run it 1) from the development environment Eclipse or 2) command line but encountering two errors:</p>\n<ol>\n<li>If I run it from Eclipse with Run configuration arguments <em>&quot;deser --apis stream --libs jackson,genson&quot;</em>, I get:</li>\n</ol>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.RuntimeException: ERROR: Unable to find the resource: /META-INF/BenchmarkList\nat org.openjdk.jmh.runner.AbstractResourceReader.getReaders(AbstractResourceReader.java:98)\nat org.openjdk.jmh.runner.BenchmarkList.find(BenchmarkList.java:122)\nat org.openjdk.jmh.runner.Runner.internalRun(Runner.java:263)\nat org.openjdk.jmh.runner.Runner.run(Runner.java:209)\nat com.github.fabienrenaud.jjb.Cli$AbstractCommand.run(Cli.java:110)\nat com.github.fabienrenaud.jjb.Cli.main(Cli.java:40)</p>\n</blockquote>\n<ol start=\"2\">\n<li>If I run it from the command line with command <em>./run deser --apis stream --libs jackson,genson</em>, I get:</li>\n</ol>\n<blockquote>\n<p>Exception in thread &quot;main&quot; io.airlift.airline.ParseArgumentsUnexpectedException: Found &gt;unexpected parameters: [genson]\nat io.airlift.airline.Cli.validate(Cli.java:194)\nat io.airlift.airline.Cli.parse(Cli.java:132)\nat io.airlift.airline.Cli.parse(Cli.java:108)\nat io.airlift.airline.Cli.parse(Cli.java:103)\nat com.github.fabienrenaud.jjb.Cli.main(Cli.java:40)</p>\n</blockquote>\n<p>Both usages are correct as per the readme in the original repository. I suspect it is a configuration problem that creates both issues. How do I fix it?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1096728,"reputation":499,"user_id":1090173,"accept_rate":78,"display_name":"Quintium"},"score":3,"creation_date":1449700021,"post_id":34190162,"comment_id":56126747,"body_markdown":"If I understand the question correctly: Just type the ending double quote even tho it was already generated and then continue with + and variable name.","body":"If I understand the question correctly: Just type the ending double quote even tho it was already generated and then continue with + and variable name."},{"owner":{"account_id":1420487,"reputation":862,"user_id":1482614,"display_name":"Rok"},"score":0,"creation_date":1449751683,"post_id":34190162,"comment_id":56149225,"body_markdown":"Thank you for this tip, Quintium.","body":"Thank you for this tip, Quintium."}],"answers":[{"tags":[],"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1449744541,"creation_date":1449744541,"answer_id":34199932,"question_id":34190162,"body_markdown":"Quintium correctly pointed out that you can &quot;type out of&quot; the quotes by pressing `&quot;`.\r\n\r\nLet me show you another solution, using a *Live Template*.\r\n\r\nInside a valid code block (e.g. `main` method...) where your variable `userName` is in scope, type the following\r\n\r\n`soutv`\r\n\r\nNow press **Tab** and you will see the following\r\n\r\n[![Live Template. soutv][1]][1]\r\n\r\nFrom here it&#39;s easy to select `userName` as the variable.\r\n\r\nIf you do this very often you can make your own live templates.\r\n\r\nIn any case it also saves a lot of time to use the `sout` live template to quickly get `System.out.println()`\r\n\r\n  [1]: http://i.stack.imgur.com/8iEB1.jpg","title":"IntelliJ IDEA quick quoted string plus variable","body":"<p>Quintium correctly pointed out that you can \"type out of\" the quotes by pressing <code>\"</code>.</p>\n\n<p>Let me show you another solution, using a <em>Live Template</em>.</p>\n\n<p>Inside a valid code block (e.g. <code>main</code> method...) where your variable <code>userName</code> is in scope, type the following</p>\n\n<p><code>soutv</code></p>\n\n<p>Now press <strong>Tab</strong> and you will see the following</p>\n\n<p><a href=\"https://i.stack.imgur.com/8iEB1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8iEB1.jpg\" alt=\"Live Template. soutv\"></a></p>\n\n<p>From here it's easy to select <code>userName</code> as the variable.</p>\n\n<p>If you do this very often you can make your own live templates.</p>\n\n<p>In any case it also saves a lot of time to use the <code>sout</code> live template to quickly get <code>System.out.println()</code></p>\n"},{"tags":[],"owner":{"account_id":23617605,"reputation":1,"user_id":17651433,"display_name":"darelf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642505333,"creation_date":1642505333,"answer_id":70754879,"question_id":34190162,"body_markdown":"I have arrows mapped to Ctrl+something. Specifically, Ctrl+F - right (Forward) , and Ctrl+B - left (backward). \r\nYou could you Ctrl+F for your case.","title":"IntelliJ IDEA quick quoted string plus variable","body":"<p>I have arrows mapped to Ctrl+something. Specifically, Ctrl+F - right (Forward) , and Ctrl+B - left (backward).\nYou could you Ctrl+F for your case.</p>\n"}],"owner":{"account_id":1420487,"reputation":862,"user_id":1482614,"display_name":"Rok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34199932,"answer_count":2,"score":3,"last_activity_date":1642505333,"creation_date":1449699822,"question_id":34190162,"body_markdown":"IntelliJ IDEA has completion features which, besides increasing coding speed, maintain the &quot;flow&quot; of coding (always moving forward); so I wonder whether I&#39;m missing something when I encounter a situation like the following (simplified):\r\n\r\n    System.out.println(&quot;The name of the user is &quot; + userName);\r\n\r\nAfter auto-completing System.out.println, as I am typing &quot;The name of...&quot;, IDEA has already generated the two double quotations and has me between them. Now if I want to include a variable with this string, I currently use the right arrow key to move cursor after the second quotation mark to type + userName. Please assume that I have to include variables with strings like that repetitively, or hundreds of times in a relatively short time, for different strings or phrases.\r\n\r\nSo my question is: Is there a way for me to avoid having to take my right hand off touch-typing position, take my eyes off the screen to look at the arrows and press the right arrow, before getting back to touch-typing? A shortcut or something I can customize that allows me to just jump out of the string between quotation marks and start typing + variable?\r\n\r\nIt may seem trivial when done once, but as I mentioned, the use of the arrows breaks the flow for me when I have to do it repetitively. Thanks for any tips and help.","title":"IntelliJ IDEA quick quoted string plus variable","body":"<p>IntelliJ IDEA has completion features which, besides increasing coding speed, maintain the \"flow\" of coding (always moving forward); so I wonder whether I'm missing something when I encounter a situation like the following (simplified):</p>\n\n<pre><code>System.out.println(\"The name of the user is \" + userName);\n</code></pre>\n\n<p>After auto-completing System.out.println, as I am typing \"The name of...\", IDEA has already generated the two double quotations and has me between them. Now if I want to include a variable with this string, I currently use the right arrow key to move cursor after the second quotation mark to type + userName. Please assume that I have to include variables with strings like that repetitively, or hundreds of times in a relatively short time, for different strings or phrases.</p>\n\n<p>So my question is: Is there a way for me to avoid having to take my right hand off touch-typing position, take my eyes off the screen to look at the arrows and press the right arrow, before getting back to touch-typing? A shortcut or something I can customize that allows me to just jump out of the string between quotation marks and start typing + variable?</p>\n\n<p>It may seem trivial when done once, but as I mentioned, the use of the arrows breaks the flow for me when I have to do it repetitively. Thanks for any tips and help.</p>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"score":0,"creation_date":1642505969,"post_id":70754803,"comment_id":125083398,"body_markdown":"When a &quot;thread&quot; is started using `start()`, its `run()` method is invoked. And if you return from that `run()` method, the thread is done and terminated. So usually threads have a loop inside the `run()` method to perform repetitive or continuous actions. Your `ServerThread` is not doing that and only reads from the socket once.","body":"When a &quot;thread&quot; is started using <code>start()</code>, its <code>run()</code> method is invoked. And if you return from that <code>run()</code> method, the thread is done and terminated. So usually threads have a loop inside the <code>run()</code> method to perform repetitive or continuous actions. Your <code>ServerThread</code> is not doing that and only reads from the socket once."},{"owner":{"account_id":19670587,"reputation":1197,"user_id":17274803,"display_name":"Octavian Niculescu"},"score":0,"creation_date":1642506052,"post_id":70754803,"comment_id":125083422,"body_markdown":"@murtiko I expected that - this is what I wrote in the post too :) but what would be a fix? Just a while loop which wraps the try catch in run?","body":"@murtiko I expected that - this is what I wrote in the post too :) but what would be a fix? Just a while loop which wraps the try catch in run?"},{"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"score":0,"creation_date":1642506591,"post_id":70754803,"comment_id":125083629,"body_markdown":":) sorry, i have noticed it now. yes, why don&#39;t you try that and see what happens?","body":":) sorry, i have noticed it now. yes, why don&#39;t you try that and see what happens?"},{"owner":{"account_id":19670587,"reputation":1197,"user_id":17274803,"display_name":"Octavian Niculescu"},"score":0,"creation_date":1642506951,"post_id":70754803,"comment_id":125083767,"body_markdown":"@murtiko yes. It works perfectly now. Thanks for your confirmation, you can add that as an answer, I&#39;ll accept it asap.","body":"@murtiko yes. It works perfectly now. Thanks for your confirmation, you can add that as an answer, I&#39;ll accept it asap."}],"owner":{"account_id":19670587,"reputation":1197,"user_id":17274803,"display_name":"Octavian Niculescu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642505278,"creation_date":1642504961,"question_id":70754803,"body_markdown":"I have to do a project in Java for an exam which has to have multi-client sockets.\r\n\r\nWe have some example code for sockets from our teacher - and I modified it a bit. The problem is that it only receives data once, and then it stops. I found that out by printing the received data into the console.\r\n\r\nSo here&#39;s my the code:\r\n\r\nServer.java\r\n````\r\npackage socket;\r\n\r\nimport database.models.PersoanaEntity;\r\n\r\nimport java.io.IOException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class Server {\r\n    public static final int PORT = 27015;\r\n\r\n    public void start() {\r\n        new Thread(() -&gt; {\r\n            try {\r\n                ServerSocket serverSocket = new ServerSocket(PORT);\r\n                Socket clientSocket = null;\r\n                boolean isClose = false;\r\n\r\n                System.out.println(&quot;Server is running&quot;);\r\n                while (!isClose) {\r\n                    clientSocket = serverSocket.accept();\r\n                    new Thread(new ServerThread(clientSocket)).start();\r\n                }\r\n                serverSocket.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n````\r\n\r\nServerThread.java\r\n````\r\npackage socket;\r\n\r\nimport database.models.PersoanaEntity;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.IOException;\r\nimport java.io.ObjectInputStream;\r\nimport java.io.ObjectOutputStream;\r\nimport java.net.Socket;\r\n\r\npublic class ServerThread extends Thread{\r\n    private Socket socket = null;\r\n    private ObjectInputStream in = null;\r\n    private ObjectOutputStream out = null;\r\n    PersoanaEntity loggedInPerson = new PersoanaEntity();\r\n\r\n    public ServerThread(Socket socket) {\r\n        this.socket = socket;\r\n        try {\r\n            //For receiving and sending data\r\n            this.in = new ObjectInputStream(socket.getInputStream());\r\n            this.out = new ObjectOutputStream(socket.getOutputStream());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void run() {\r\n        try {\r\n            String received = this.in.readObject().toString();\r\n            System.out.println(received);\r\n            JSONObject jsonObject = new JSONObject(received);\r\n            execute(received);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void execute(String message) {\r\n        JSONObject jo = new JSONObject(message);\r\n        ProcessInput pi = new ProcessInput();\r\n        pi.processInput(jo, this.out);\r\n    }\r\n}\r\n````\r\n\r\nProcessInput.java\r\n````\r\npackage socket;\r\n\r\nimport database.daos.PersoanaDao;\r\nimport database.models.PersoanaEntity;\r\nimport jakarta.persistence.NoResultException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.IOException;\r\nimport java.io.ObjectOutputStream;\r\nimport java.util.Optional;\r\n\r\npublic class ProcessInput {\r\n    void processInput(JSONObject data, ObjectOutputStream out) {\r\n        switch (data.get(&quot;type&quot;).toString())\r\n        {\r\n            case &quot;LOGIN_USER&quot;:\r\n                PersoanaDao persoanaDao = new PersoanaDao();\r\n                String username = data.get(&quot;username&quot;).toString();\r\n                JSONObject json = new JSONObject();\r\n                try {\r\n                    PersoanaEntity persoanaEntity = persoanaDao.get(username);\r\n                    json.put(&quot;status_code&quot;, &quot;200&quot;);\r\n                } catch(Exception e) {\r\n                    json.put(&quot;status_code&quot;, &quot;404&quot;);\r\n                }\r\n                try {\r\n                    out.writeObject(json.toString());\r\n                } catch (IOException e)\r\n                {\r\n                    System.out.println(e.toString());\r\n                }\r\n                break;\r\n        }\r\n    }\r\n}\r\n````\r\n\r\nI won&#39;t add the code from the client side because I&#39;m quite sure the problem is from the server after doing some tests. I think that it happens because the run method is only called once, AFAIK, and that is when .start() is called from the Thread.\r\n\r\nThen it won&#39;t ever be called again so there will never be data in the received string.\r\n\r\nAm I right?\r\n\r\nIf so, what&#39;s the fix? \r\n\r\nIf not, why am I getting data only once and how can I fix it?\r\n\r\n//edit: I will add the client just in case:\r\n\r\n````\r\npackage socket;\r\n\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.IOException;\r\nimport java.io.ObjectInputStream;\r\nimport java.io.ObjectOutputStream;\r\nimport java.net.Socket;\r\nimport java.util.Scanner;\r\n\r\npublic enum Client implements Runnable {\r\n    INSTANCE;\r\n\r\n    public static final int PORT = 27015;\r\n\r\n    public Socket getSocket() {\r\n        return socket;\r\n    }\r\n\r\n    public ObjectInputStream getInputStream() {\r\n        return inputStream;\r\n    }\r\n\r\n    public ObjectOutputStream getOutputStream() {\r\n        return outputStream;\r\n    }\r\n\r\n    private Socket socket = null;\r\n    private ObjectInputStream inputStream = null;\r\n    private ObjectOutputStream outputStream = null;\r\n    private String name;\r\n\r\n    Client() {\r\n        try {\r\n            socket = new Socket(&quot;localhost&quot;, PORT);\r\n            this.outputStream = new ObjectOutputStream(socket.getOutputStream());\r\n            this.inputStream = new ObjectInputStream(socket.getInputStream());\r\n        } catch(Exception e) {\r\n            System.out.println(&quot;Connection error&quot;);\r\n        }\r\n    }\r\n\r\n    public void run() {\r\n        System.out.println(&quot;Client socket running&quot;);\r\n\r\n        //For receiving data\r\n        boolean isClose = false;\r\n        while (!isClose) {\r\n\r\n            }\r\n        try {\r\n            socket.close();\r\n        } catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n}\r\n````","title":"Java multi-thread sockets receive data only once","body":"<p>I have to do a project in Java for an exam which has to have multi-client sockets.</p>\n<p>We have some example code for sockets from our teacher - and I modified it a bit. The problem is that it only receives data once, and then it stops. I found that out by printing the received data into the console.</p>\n<p>So here's my the code:</p>\n<p>Server.java</p>\n<pre><code>package socket;\n\nimport database.models.PersoanaEntity;\n\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class Server {\n    public static final int PORT = 27015;\n\n    public void start() {\n        new Thread(() -&gt; {\n            try {\n                ServerSocket serverSocket = new ServerSocket(PORT);\n                Socket clientSocket = null;\n                boolean isClose = false;\n\n                System.out.println(&quot;Server is running&quot;);\n                while (!isClose) {\n                    clientSocket = serverSocket.accept();\n                    new Thread(new ServerThread(clientSocket)).start();\n                }\n                serverSocket.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>ServerThread.java</p>\n<pre><code>package socket;\n\nimport database.models.PersoanaEntity;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.net.Socket;\n\npublic class ServerThread extends Thread{\n    private Socket socket = null;\n    private ObjectInputStream in = null;\n    private ObjectOutputStream out = null;\n    PersoanaEntity loggedInPerson = new PersoanaEntity();\n\n    public ServerThread(Socket socket) {\n        this.socket = socket;\n        try {\n            //For receiving and sending data\n            this.in = new ObjectInputStream(socket.getInputStream());\n            this.out = new ObjectOutputStream(socket.getOutputStream());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void run() {\n        try {\n            String received = this.in.readObject().toString();\n            System.out.println(received);\n            JSONObject jsonObject = new JSONObject(received);\n            execute(received);\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void execute(String message) {\n        JSONObject jo = new JSONObject(message);\n        ProcessInput pi = new ProcessInput();\n        pi.processInput(jo, this.out);\n    }\n}\n</code></pre>\n<p>ProcessInput.java</p>\n<pre><code>package socket;\n\nimport database.daos.PersoanaDao;\nimport database.models.PersoanaEntity;\nimport jakarta.persistence.NoResultException;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\nimport java.io.ObjectOutputStream;\nimport java.util.Optional;\n\npublic class ProcessInput {\n    void processInput(JSONObject data, ObjectOutputStream out) {\n        switch (data.get(&quot;type&quot;).toString())\n        {\n            case &quot;LOGIN_USER&quot;:\n                PersoanaDao persoanaDao = new PersoanaDao();\n                String username = data.get(&quot;username&quot;).toString();\n                JSONObject json = new JSONObject();\n                try {\n                    PersoanaEntity persoanaEntity = persoanaDao.get(username);\n                    json.put(&quot;status_code&quot;, &quot;200&quot;);\n                } catch(Exception e) {\n                    json.put(&quot;status_code&quot;, &quot;404&quot;);\n                }\n                try {\n                    out.writeObject(json.toString());\n                } catch (IOException e)\n                {\n                    System.out.println(e.toString());\n                }\n                break;\n        }\n    }\n}\n</code></pre>\n<p>I won't add the code from the client side because I'm quite sure the problem is from the server after doing some tests. I think that it happens because the run method is only called once, AFAIK, and that is when .start() is called from the Thread.</p>\n<p>Then it won't ever be called again so there will never be data in the received string.</p>\n<p>Am I right?</p>\n<p>If so, what's the fix?</p>\n<p>If not, why am I getting data only once and how can I fix it?</p>\n<p>//edit: I will add the client just in case:</p>\n<pre><code>package socket;\n\nimport org.json.JSONObject;\n\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.net.Socket;\nimport java.util.Scanner;\n\npublic enum Client implements Runnable {\n    INSTANCE;\n\n    public static final int PORT = 27015;\n\n    public Socket getSocket() {\n        return socket;\n    }\n\n    public ObjectInputStream getInputStream() {\n        return inputStream;\n    }\n\n    public ObjectOutputStream getOutputStream() {\n        return outputStream;\n    }\n\n    private Socket socket = null;\n    private ObjectInputStream inputStream = null;\n    private ObjectOutputStream outputStream = null;\n    private String name;\n\n    Client() {\n        try {\n            socket = new Socket(&quot;localhost&quot;, PORT);\n            this.outputStream = new ObjectOutputStream(socket.getOutputStream());\n            this.inputStream = new ObjectInputStream(socket.getInputStream());\n        } catch(Exception e) {\n            System.out.println(&quot;Connection error&quot;);\n        }\n    }\n\n    public void run() {\n        System.out.println(&quot;Client socket running&quot;);\n\n        //For receiving data\n        boolean isClose = false;\n        while (!isClose) {\n\n            }\n        try {\n            socket.close();\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":23938771,"reputation":60,"user_id":17932189,"display_name":"Andre"},"score":0,"creation_date":1642498427,"post_id":70753128,"comment_id":125080233,"body_markdown":"Inside the while, if ans is equal to Y, you can generate a new Object and store it in a list. I am not sure if I understood your question, can you review it?","body":"Inside the while, if ans is equal to Y, you can generate a new Object and store it in a list. I am not sure if I understood your question, can you review it?"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642503379,"creation_date":1642503032,"answer_id":70754342,"question_id":70753128,"body_markdown":"I&#39;m not exactly sure what you want to store but a couple examples might be:\r\n\r\n    List&lt;Dimension&gt; rectDimensions = new ArrayList&lt;&gt;();\r\n    rectDimensions.add(new Dimension(yourWidth, yourHeight));\r\n\r\nor perhaps:\r\n\r\n    List&lt;Values&gt; vals = new ArrayList&lt;&gt;();\r\n    vals.add(v1));\r\n    vals.add(v2));\r\n\r\nor what you might be actually looking for is something like:\r\n\r\n    List&lt;Values&gt; vals = new ArrayList&lt;&gt;();\r\n    vals.add(new Values());","title":"Create object automatically for each instance user gives values in java","body":"<p>I'm not exactly sure what you want to store but a couple examples might be:</p>\n<pre><code>List&lt;Dimension&gt; rectDimensions = new ArrayList&lt;&gt;();\nrectDimensions.add(new Dimension(yourWidth, yourHeight));\n</code></pre>\n<p>or perhaps:</p>\n<pre><code>List&lt;Values&gt; vals = new ArrayList&lt;&gt;();\nvals.add(v1));\nvals.add(v2));\n</code></pre>\n<p>or what you might be actually looking for is something like:</p>\n<pre><code>List&lt;Values&gt; vals = new ArrayList&lt;&gt;();\nvals.add(new Values());\n</code></pre>\n"}],"owner":{"account_id":23974617,"reputation":11,"user_id":17962874,"display_name":"Sudharsan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642505263,"creation_date":1642497862,"question_id":70753128,"body_markdown":"I want to create object and store that in non static variables\r\nis it possible to create it automatically\r\n\t\r\n        Scanner scn= new Scanner(System.in);\r\n\t\tValues v1=new Values();\r\n\t\tSystem.out.println(&quot;Enter the l and b of rectangle : &quot;);\r\n\t\t\r\n\t\tint area=0,perimeter=0;\r\n\t\t\r\n\t\tscan();\r\n\t\tv1.intilaise(len, bre);\r\n\t\tv1.display();\r\n\t\tarea =v1.area();\r\n\t\tperimeter=v1.perimeter();\r\n\t\tSystem.out.println(&quot;Area of Rectangle :&quot;+area);\r\n\t\tSystem.out.println(&quot;Perimeter of Rectangle : &quot;+perimeter);\r\n\t\tscan();\r\n\t\tValues v2=new Values();\r\n\t\tv2.intilaise(len,bre);\r\n\t\tv2.display();\r\n\t\tSystem.out.println(&quot;Area of rectangle : &quot;+(v2.area()));\r\n\t\tSystem.out.println(&quot;Perimeter of Rectangle : &quot;+(v2.perimeter()));\r\n\t\t\r\n\t\tint i=3;\r\n\t\tdo {\r\n\t\t\twhile(true)\r\n\t\t\t{\r\n\t\t\t\ti++;\r\n\t\t\t\tValues v[I)= new Values();//where I value should change like 3 4 5 ...values v3 v4 v5....new object needs to be created each time user gives &#39;Y&#39;\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Enter Y if you want to continue&quot;);\r\n\t\t\tchar ans=scn.next().charAt(0);\r\n\t\t\t} while (ans==&#39;Y&#39;||ans==&#39;y&#39;);\r\n//For each instance user gives &#39;Y&#39; I want to create another object and store the user input\r\nplease help  \r\n","title":"Create object automatically for each instance user gives values in java","body":"<p>I want to create object and store that in non static variables\nis it possible to create it automatically</p>\n<pre><code>    Scanner scn= new Scanner(System.in);\n    Values v1=new Values();\n    System.out.println(&quot;Enter the l and b of rectangle : &quot;);\n    \n    int area=0,perimeter=0;\n    \n    scan();\n    v1.intilaise(len, bre);\n    v1.display();\n    area =v1.area();\n    perimeter=v1.perimeter();\n    System.out.println(&quot;Area of Rectangle :&quot;+area);\n    System.out.println(&quot;Perimeter of Rectangle : &quot;+perimeter);\n    scan();\n    Values v2=new Values();\n    v2.intilaise(len,bre);\n    v2.display();\n    System.out.println(&quot;Area of rectangle : &quot;+(v2.area()));\n    System.out.println(&quot;Perimeter of Rectangle : &quot;+(v2.perimeter()));\n    \n    int i=3;\n    do {\n        while(true)\n        {\n            i++;\n            Values v[I)= new Values();//where I value should change like 3 4 5 ...values v3 v4 v5....new object needs to be created each time user gives 'Y'\n\n        }\n        \n        System.out.print(&quot;Enter Y if you want to continue&quot;);\n        char ans=scn.next().charAt(0);\n        } while (ans=='Y'||ans=='y');\n</code></pre>\n<p>//For each instance user gives 'Y' I want to create another object and store the user input\nplease help</p>\n"},{"tags":["java","unit-testing","vert.x","junit5","junit5-extension-model"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1603716216,"post_id":64532278,"comment_id":114114888,"body_markdown":"To make it work with JUnit Jupiter you’ll have to migrate both VertixUnitRunner and RunTestOnContext. You probably can replace them by a single extension.","body":"To make it work with JUnit Jupiter you’ll have to migrate both VertixUnitRunner and RunTestOnContext. You probably can replace them by a single extension."},{"owner":{"account_id":18469952,"reputation":371,"user_id":13455138,"display_name":"mononoke83"},"score":0,"creation_date":1603723107,"post_id":64532278,"comment_id":114118612,"body_markdown":"When you have a while, could you write a simple code example doing that please?Thanks anyway.","body":"When you have a while, could you write a simple code example doing that please?Thanks anyway."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1603813025,"post_id":64532278,"comment_id":114152371,"body_markdown":"Can you provide a complete minimal example with your current JUnit 4 setup. Otherwise I&#39;d have to stick everything together myself.","body":"Can you provide a complete minimal example with your current JUnit 4 setup. Otherwise I&#39;d have to stick everything together myself."},{"owner":{"account_id":18469952,"reputation":371,"user_id":13455138,"display_name":"mononoke83"},"score":0,"creation_date":1603955547,"post_id":64532278,"comment_id":114200674,"body_markdown":"I&#39;ve updated the code of my test class, I use maven-surefire-plugin as well in my general pom.xml, I haven&#39;t any special junit4 setup, is it enough for you or tell me what else do you need?","body":"I&#39;ve updated the code of my test class, I use maven-surefire-plugin as well in my general pom.xml, I haven&#39;t any special junit4 setup, is it enough for you or tell me what else do you need?"},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1603971090,"post_id":64532278,"comment_id":114207324,"body_markdown":"Since I&#39;m not a Maven user a minimum and complete pom.xml would be helpful.","body":"Since I&#39;m not a Maven user a minimum and complete pom.xml would be helpful."}],"answers":[{"tags":[],"owner":{"account_id":8979706,"reputation":1,"user_id":6695314,"display_name":"Dušan Trnka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642505157,"creation_date":1642505157,"answer_id":70754843,"question_id":64532278,"body_markdown":"Vert.x has added support for this recently.\r\n\r\nWith Vert.x 4.2.0 you can use:\r\n\r\n      @RegisterExtension\r\n      public final RunTestOnContext rt = new RunTestOnContext();\r\n\r\nreference in github -&gt; https://github.com/vert-x3/vertx-junit5/issues/100","title":"How to put the vertx @Rule about RunTestOnContext in the vertx-junit5 way?","body":"<p>Vert.x has added support for this recently.</p>\n<p>With Vert.x 4.2.0 you can use:</p>\n<pre><code>  @RegisterExtension\n  public final RunTestOnContext rt = new RunTestOnContext();\n</code></pre>\n<p>reference in github -&gt; <a href=\"https://github.com/vert-x3/vertx-junit5/issues/100\" rel=\"nofollow noreferrer\">https://github.com/vert-x3/vertx-junit5/issues/100</a></p>\n"}],"owner":{"account_id":18469952,"reputation":371,"user_id":13455138,"display_name":"mononoke83"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642505157,"creation_date":1603692996,"question_id":64532278,"body_markdown":"I would like to know if it is possible migrate this kind of rule(junit) to vertx-junit5 way.\r\nThe original example is the RunOnContextTest.java from the public vertx-example repository in github.\r\nHere is the code:\r\n\r\n```\r\n@RunWith(VertxUnitRunner.class)\r\npublic class RunOnContextTest {\r\n\r\n  /*\r\n   * This rule wraps the junit calls in a Vert.x context, the Vert.x instance can be created by the\r\n   * rule or provided like in this case.\r\n   */\r\n  @Rule\r\n  public final RunTestOnContext rule = new RunTestOnContext(Vertx::vertx);\r\n\r\n  private Thread thread;\r\n\r\n  @Before\r\n  public void before(TestContext context) {\r\n    context.assertTrue(Context.isOnEventLoopThread());\r\n    thread = Thread.currentThread();\r\n  }\r\n\r\n  @Test\r\n  public void theTest(TestContext context) {\r\n    context.assertTrue(Context.isOnEventLoopThread());\r\n    context.assertEquals(thread, Thread.currentThread());\r\n  } \r\n @After\r\n  public void after(TestContext context) {\r\n    context.assertTrue(Context.isOnEventLoopThread());\r\n    context.assertEquals(thread, Thread.currentThread());\r\n  }\r\n```\r\nAnd the highlighted dependencies are:\r\n```\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;vertx-unit&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.12&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```","title":"How to put the vertx @Rule about RunTestOnContext in the vertx-junit5 way?","body":"<p>I would like to know if it is possible migrate this kind of rule(junit) to vertx-junit5 way.\nThe original example is the RunOnContextTest.java from the public vertx-example repository in github.\nHere is the code:</p>\n<pre><code>@RunWith(VertxUnitRunner.class)\npublic class RunOnContextTest {\n\n  /*\n   * This rule wraps the junit calls in a Vert.x context, the Vert.x instance can be created by the\n   * rule or provided like in this case.\n   */\n  @Rule\n  public final RunTestOnContext rule = new RunTestOnContext(Vertx::vertx);\n\n  private Thread thread;\n\n  @Before\n  public void before(TestContext context) {\n    context.assertTrue(Context.isOnEventLoopThread());\n    thread = Thread.currentThread();\n  }\n\n  @Test\n  public void theTest(TestContext context) {\n    context.assertTrue(Context.isOnEventLoopThread());\n    context.assertEquals(thread, Thread.currentThread());\n  } \n @After\n  public void after(TestContext context) {\n    context.assertTrue(Context.isOnEventLoopThread());\n    context.assertEquals(thread, Thread.currentThread());\n  }\n</code></pre>\n<p>And the highlighted dependencies are:</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n      &lt;artifactId&gt;vertx-unit&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","android","android-mediaplayer","exoplayer","exoplayer2.x"],"comments":[{"owner":{"account_id":3455761,"reputation":3269,"user_id":2894324,"display_name":"sdex"},"score":0,"creation_date":1641394625,"post_id":70582623,"comment_id":124793927,"body_markdown":"You need to follow an obvious way for any library updating - read release notes from the oldest version to the desired one and make changes one by one.","body":"You need to follow an obvious way for any library updating - read release notes from the oldest version to the desired one and make changes one by one."}],"answers":[{"tags":[],"owner":{"account_id":13962640,"reputation":723,"user_id":10086742,"display_name":"mahdi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642505057,"creation_date":1642498062,"answer_id":70753179,"question_id":70582623,"body_markdown":"Refer to [exoplayer release notes][1] to changes made in the API, and search for removed symboles from `v2.4.0` up to the latest version. Keep in mind that `v2.x.0` versions are major releases, and mostly introduce breaking changes in the API, since exoplayer is not using semantic versioning.\r\n\r\nFor example [here][2] you can find that `ExoPlayerFactory` is removed and you should use `SimpleExoPlayer.Builder` instead.\r\n\r\n\r\n  [1]: https://github.com/google/ExoPlayer/blob/release-v2/RELEASENOTES.md\r\n  [2]: https://github.com/google/ExoPlayer/blob/029a2b27cbdc27cf9d51d4a73ebeb503968849f6/RELEASENOTES.md?plain=1#L638","title":"Issues in migrating older ExoPlayer API code to version 2.16.1","body":"<p>Refer to <a href=\"https://github.com/google/ExoPlayer/blob/release-v2/RELEASENOTES.md\" rel=\"nofollow noreferrer\">exoplayer release notes</a> to changes made in the API, and search for removed symboles from <code>v2.4.0</code> up to the latest version. Keep in mind that <code>v2.x.0</code> versions are major releases, and mostly introduce breaking changes in the API, since exoplayer is not using semantic versioning.</p>\n<p>For example <a href=\"https://github.com/google/ExoPlayer/blob/029a2b27cbdc27cf9d51d4a73ebeb503968849f6/RELEASENOTES.md?plain=1#L638\" rel=\"nofollow noreferrer\">here</a> you can find that <code>ExoPlayerFactory</code> is removed and you should use <code>SimpleExoPlayer.Builder</code> instead.</p>\n"}],"owner":{"account_id":3868910,"reputation":4935,"user_id":3204706,"accept_rate":53,"display_name":"Tina J"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":931,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642505057,"creation_date":1641316519,"question_id":70582623,"body_markdown":"I have the following code using ExoPlayer `2.4.0` API that simply plays a video. I was trying to migrate it to the latest API version (`2.16.1`), but many of the APIs and my used code don&#39;t work there anymore. For instance, `newSimpleInstance()` isn&#39;t recognized anymore, etc. \r\n\r\nHow can I update my code to the latest API?\r\n\r\nHere is my code so far using ExoPlayer `2.4.0`:\r\n\r\n    Uri uri = Uri.parse(&quot;https://dash.akamaized.net/akamai/bbb_30fps/bbb_30fps.mpd&quot;);\r\n\r\n    // bandwidthmeter is used for getting default bandwidth\r\n    BandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();\r\n\r\n    // track selector is used to navigate between video using a default seekbar.\r\n    TrackSelector trackSelector = new DefaultTrackSelector(new AdaptiveTrackSelection.Factory(bandwidthMeter));\r\n    // we are adding our track selector to exoplayer.\r\n    exoPlayer = ExoPlayerFactory.newSimpleInstance(this, trackSelector);\r\n\r\n    // we are creating a variable for datasource factory and setting its user agent as &#39;exoplayer_view&#39;\r\n    DefaultHttpDataSourceFactory dataSourceFactory = new DefaultHttpDataSourceFactory(&quot;exoplayer_video&quot;);\r\n\r\n    DashMediaSource dashMediaSource = new DashMediaSource(uri, dataSourceFactory,\r\n            new DefaultDashChunkSource.Factory(dataSourceFactory), null, null);\r\n\r\n    // inside our exoplayer view we are setting our player\r\n    exoPlayerView.setPlayer(exoPlayer);\r\n\r\n    // we are preparing our exoplayer with media source.\r\n    exoPlayer.prepare(dashMediaSource);\r\n    Log.i(&quot;BW&quot;, &quot;BW: &quot; + bandwidthMeter.getBitrateEstimate());\r\n    // we are setting our exoplayer when it is ready.\r\n    exoPlayer.setPlayWhenReady(true);","title":"Issues in migrating older ExoPlayer API code to version 2.16.1","body":"<p>I have the following code using ExoPlayer <code>2.4.0</code> API that simply plays a video. I was trying to migrate it to the latest API version (<code>2.16.1</code>), but many of the APIs and my used code don't work there anymore. For instance, <code>newSimpleInstance()</code> isn't recognized anymore, etc.</p>\n<p>How can I update my code to the latest API?</p>\n<p>Here is my code so far using ExoPlayer <code>2.4.0</code>:</p>\n<pre><code>Uri uri = Uri.parse(&quot;https://dash.akamaized.net/akamai/bbb_30fps/bbb_30fps.mpd&quot;);\n\n// bandwidthmeter is used for getting default bandwidth\nBandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();\n\n// track selector is used to navigate between video using a default seekbar.\nTrackSelector trackSelector = new DefaultTrackSelector(new AdaptiveTrackSelection.Factory(bandwidthMeter));\n// we are adding our track selector to exoplayer.\nexoPlayer = ExoPlayerFactory.newSimpleInstance(this, trackSelector);\n\n// we are creating a variable for datasource factory and setting its user agent as 'exoplayer_view'\nDefaultHttpDataSourceFactory dataSourceFactory = new DefaultHttpDataSourceFactory(&quot;exoplayer_video&quot;);\n\nDashMediaSource dashMediaSource = new DashMediaSource(uri, dataSourceFactory,\n        new DefaultDashChunkSource.Factory(dataSourceFactory), null, null);\n\n// inside our exoplayer view we are setting our player\nexoPlayerView.setPlayer(exoPlayer);\n\n// we are preparing our exoplayer with media source.\nexoPlayer.prepare(dashMediaSource);\nLog.i(&quot;BW&quot;, &quot;BW: &quot; + bandwidthMeter.getBitrateEstimate());\n// we are setting our exoplayer when it is ready.\nexoPlayer.setPlayWhenReady(true);\n</code></pre>\n"},{"tags":["java","swing","string-formatting","joptionpane","showdialog"],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612642216,"creation_date":1612642216,"answer_id":66081444,"question_id":66081412,"body_markdown":"If you set the text of the label to start with `&quot;&lt;html&gt;&quot;` then the text will be interpreted as very basic, early HTML. So you can insert a table, or some other alignment.","title":"How to align multiple lines of JOptionPane output dialog messages by &quot;:&quot;?","body":"<p>If you set the text of the label to start with <code>&quot;&lt;html&gt;&quot;</code> then the text will be interpreted as very basic, early HTML. So you can insert a table, or some other alignment.</p>\n"},{"tags":[],"owner":{"display_name":"user13510609"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612648947,"creation_date":1612642615,"answer_id":66081511,"question_id":66081412,"body_markdown":"If the a mono-spaced font is acceptable:&lt;br/&gt;\r\n1. use a `&quot;monospaced&quot;` `Font`  (the default font is not mono-spaced, so alignment is mostly impossible)\r\n2. use `String.format` to format the string as needed\r\n\r\nAlternative (my preferred, but not exactly easiest way):&lt;br/&gt;\r\nuse a `JPanel` as *message* of `JOptionPane`, there you can use a layout manager like `GridBagLayout` (or `GridLayout`, easy to use).\r\n\r\nTom&#39;s answer, using HTML, is also easy to use (maybe the easiest solution)","title":"How to align multiple lines of JOptionPane output dialog messages by &quot;:&quot;?","body":"<p>If the a mono-spaced font is acceptable:<br/></p>\n<ol>\n<li>use a <code>&quot;monospaced&quot;</code> <code>Font</code>  (the default font is not mono-spaced, so alignment is mostly impossible)</li>\n<li>use <code>String.format</code> to format the string as needed</li>\n</ol>\n<p>Alternative (my preferred, but not exactly easiest way):<br/>\nuse a <code>JPanel</code> as <em>message</em> of <code>JOptionPane</code>, there you can use a layout manager like <code>GridBagLayout</code> (or <code>GridLayout</code>, easy to use).</p>\n<p>Tom's answer, using HTML, is also easy to use (maybe the easiest solution)</p>\n"},{"tags":[],"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1612644982,"creation_date":1612644357,"answer_id":66081778,"question_id":66081412,"body_markdown":"Avoid using monospaced fonts, or strange tricks.  \r\nConstruct a `JPanel` which uses a `GridBagLayout`, and remember `showMessageDialog` accepts other `Component`s, not only text.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nRelevant code. I opted for a separated label for `:` so that you can customize it as you prefer, while still keeping it aligned.\r\n\r\n    final JPanel panel = new JPanel(new GridBagLayout());\r\n    \r\n    final GridBagConstraints gc = new GridBagConstraints();\r\n    final Insets descriptionInsets = new Insets(3, 5, 3, 15);\r\n    final Insets valuesInsets = new Insets(3, 2, 3, 2);\r\n    \r\n    gc.fill = GridBagConstraints.HORIZONTAL;\r\n    gc.anchor = GridBagConstraints.NORTH;\r\n    gc.insets = descriptionInsets;\r\n    gc.weightx = 1.0;\r\n    panel.add(new JLabel(&quot;Total cost&quot;), gc);\r\n    \r\n    gc.insets = valuesInsets;\r\n    gc.weightx = 0;\r\n    gc.gridx = 1;\r\n    panel.add(new JLabel(&quot;:&quot;), gc);\r\n    \r\n    gc.gridx = 2;\r\n    panel.add(new JLabel(&quot;$11175.00&quot;), gc);\r\n    \r\n    gc.insets = descriptionInsets;\r\n    gc.weightx = 1.0;\r\n    gc.gridx = 0;\r\n    gc.gridy = 1;\r\n    panel.add(new JLabel(&quot;Number of units&quot;), gc);\r\n    \r\n    gc.insets = valuesInsets;\r\n    gc.weightx = 0;\r\n    gc.gridx = 1;\r\n    panel.add(new JLabel(&quot;:&quot;), gc);\r\n    \r\n    gc.gridx = 2;\r\n    panel.add(new JLabel(&quot;500&quot;), gc);\r\n    \r\n    gc.insets = descriptionInsets;\r\n    gc.weightx = 1.0;\r\n    gc.gridx = 0;\r\n    gc.gridy = 2;\r\n    panel.add(new JLabel(&quot;Cost per unit&quot;), gc);\r\n    \r\n    gc.insets = new Insets(3, 2, 3, 2);\r\n    gc.weightx = 0;\r\n    gc.gridx = 1;\r\n    panel.add(new JLabel(&quot;:&quot;), gc);\r\n    \r\n    gc.gridx = 2;\r\n    panel.add(new JLabel(&quot;$22.35&quot;), gc);\r\n    \r\n    JOptionPane.showMessageDialog(frame, panel);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tc1JL.png","title":"How to align multiple lines of JOptionPane output dialog messages by &quot;:&quot;?","body":"<p>Avoid using monospaced fonts, or strange tricks.<br />\nConstruct a <code>JPanel</code> which uses a <code>GridBagLayout</code>, and remember <code>showMessageDialog</code> accepts other <code>Component</code>s, not only text.</p>\n<p><a href=\"https://i.stack.imgur.com/tc1JL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tc1JL.png\" alt=\"enter image description here\" /></a></p>\n<p>Relevant code. I opted for a separated label for <code>:</code> so that you can customize it as you prefer, while still keeping it aligned.</p>\n<pre><code>final JPanel panel = new JPanel(new GridBagLayout());\n\nfinal GridBagConstraints gc = new GridBagConstraints();\nfinal Insets descriptionInsets = new Insets(3, 5, 3, 15);\nfinal Insets valuesInsets = new Insets(3, 2, 3, 2);\n\ngc.fill = GridBagConstraints.HORIZONTAL;\ngc.anchor = GridBagConstraints.NORTH;\ngc.insets = descriptionInsets;\ngc.weightx = 1.0;\npanel.add(new JLabel(&quot;Total cost&quot;), gc);\n\ngc.insets = valuesInsets;\ngc.weightx = 0;\ngc.gridx = 1;\npanel.add(new JLabel(&quot;:&quot;), gc);\n\ngc.gridx = 2;\npanel.add(new JLabel(&quot;$11175.00&quot;), gc);\n\ngc.insets = descriptionInsets;\ngc.weightx = 1.0;\ngc.gridx = 0;\ngc.gridy = 1;\npanel.add(new JLabel(&quot;Number of units&quot;), gc);\n\ngc.insets = valuesInsets;\ngc.weightx = 0;\ngc.gridx = 1;\npanel.add(new JLabel(&quot;:&quot;), gc);\n\ngc.gridx = 2;\npanel.add(new JLabel(&quot;500&quot;), gc);\n\ngc.insets = descriptionInsets;\ngc.weightx = 1.0;\ngc.gridx = 0;\ngc.gridy = 2;\npanel.add(new JLabel(&quot;Cost per unit&quot;), gc);\n\ngc.insets = new Insets(3, 2, 3, 2);\ngc.weightx = 0;\ngc.gridx = 1;\npanel.add(new JLabel(&quot;:&quot;), gc);\n\ngc.gridx = 2;\npanel.add(new JLabel(&quot;$22.35&quot;), gc);\n\nJOptionPane.showMessageDialog(frame, panel);\n</code></pre>\n"}],"owner":{"account_id":20346267,"reputation":23,"user_id":14924064,"display_name":"luhaoGeopy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":982,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66081778,"answer_count":3,"score":2,"last_activity_date":1642505014,"creation_date":1612642043,"question_id":66081412,"body_markdown":"I need to make the output in 3 lines and also aligned by &quot;:&quot;, using JOptionPane.showdialogmessage():\r\n*note the alignment of the &quot;:&quot;\r\n\r\n```\r\nTotal  cost        : $11175.00\r\nNumber of units    : 500\r\nCost per unit      : $22.35\r\n```\r\n\r\nI have tried manually adding spaces before each &quot;:&quot; but still these 3 lines do not strictly align:\r\n\r\n```\r\n\t\tString output = String.format(&quot;Total manufacturing cost                  :$%.2f\\n&quot;, manufactCost) + \r\n\t\t\t\tString.format(&quot;Number of units manufactured       : $%d\\n&quot;, numManufacted) + \r\n\t\t\t\tString.format(&quot;Cost per unit                                         : $%.2f\\n&quot;, unitCost);\r\n\t\t\t\t\r\n\t\t\r\n\t\tJOptionPane.showMessageDialog(null, output);\r\n```\r\nHere is the output screenshot:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat is the easiest way to realize this alignment? \r\nThanks\r\n\r\nP.S.: This is my first post. Sorry, I am still struggling with how to edit the post in a way that shows you the correct format of the output...I have been driven crazy by formatting... so I just post the screenshots instead... lol\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pfMeo.png\r\n  [2]: https://i.stack.imgur.com/EjV3P.png","title":"How to align multiple lines of JOptionPane output dialog messages by &quot;:&quot;?","body":"<p>I need to make the output in 3 lines and also aligned by &quot;:&quot;, using JOptionPane.showdialogmessage():\n*note the alignment of the &quot;:&quot;</p>\n<pre><code>Total  cost        : $11175.00\nNumber of units    : 500\nCost per unit      : $22.35\n</code></pre>\n<p>I have tried manually adding spaces before each &quot;:&quot; but still these 3 lines do not strictly align:</p>\n<pre><code>        String output = String.format(&quot;Total manufacturing cost                  :$%.2f\\n&quot;, manufactCost) + \n                String.format(&quot;Number of units manufactured       : $%d\\n&quot;, numManufacted) + \n                String.format(&quot;Cost per unit                                         : $%.2f\\n&quot;, unitCost);\n                \n        \n        JOptionPane.showMessageDialog(null, output);\n</code></pre>\n<p>Here is the output screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/EjV3P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EjV3P.png\" alt=\"enter image description here\" /></a></p>\n<p>What is the easiest way to realize this alignment?\nThanks</p>\n<p>P.S.: This is my first post. Sorry, I am still struggling with how to edit the post in a way that shows you the correct format of the output...I have been driven crazy by formatting... so I just post the screenshots instead... lol</p>\n"},{"tags":["java","swing","user-interface","joptionpane"],"answers":[{"tags":[],"owner":{"account_id":15552738,"reputation":106,"user_id":11219989,"display_name":"micpog90"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613141703,"creation_date":1613141703,"answer_id":66174000,"question_id":66173736,"body_markdown":"Try it like this:\r\n```\r\nString bidString;\r\nwhile (true) {\r\n    bidString = JOptionPane.showInputDialog(null, &quot;Place your bid &quot;, &quot;Bid&quot;,\r\n            JOptionPane.PLAIN_MESSAGE);\r\n    if (bidString == null) {\r\n        System.out.println(&quot;cancelled&quot;);\r\n        break;\r\n    }\r\n    if (bidString.isEmpty()) {\r\n        System.out.println(&quot;wrong entry&quot;);\r\n        JOptionPane.showMessageDialog(null, &quot;You must enter a value&quot;,\r\n                &quot;The Numbers Game&quot;, JOptionPane.ERROR_MESSAGE);\r\n        continue;\r\n    }else{\r\n        try {\r\n            int bid = Integer.parseInt(bidString);\r\n        } catch (NumberFormatException nfe) {\r\n            System.out.println(&quot;no number entered&quot;);\r\n            continue;\r\n        }\r\n        break;\r\n    }\r\n}\r\n```","title":"showInputDialog - cancel option clicked","body":"<p>Try it like this:</p>\n<pre><code>String bidString;\nwhile (true) {\n    bidString = JOptionPane.showInputDialog(null, &quot;Place your bid &quot;, &quot;Bid&quot;,\n            JOptionPane.PLAIN_MESSAGE);\n    if (bidString == null) {\n        System.out.println(&quot;cancelled&quot;);\n        break;\n    }\n    if (bidString.isEmpty()) {\n        System.out.println(&quot;wrong entry&quot;);\n        JOptionPane.showMessageDialog(null, &quot;You must enter a value&quot;,\n                &quot;The Numbers Game&quot;, JOptionPane.ERROR_MESSAGE);\n        continue;\n    }else{\n        try {\n            int bid = Integer.parseInt(bidString);\n        } catch (NumberFormatException nfe) {\n            System.out.println(&quot;no number entered&quot;);\n            continue;\n        }\n        break;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16943584,"reputation":9,"user_id":12254839,"display_name":"Fathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642504907,"creation_date":1613140647,"question_id":66173736,"body_markdown":"how to handle if the user clicks Cancel on inputDialog? I have tried previously posted solutions but neither did work. \r\n\r\nhere is my code\r\n\r\n    String bidString = JOptionPane.showInputDialog(null, &quot;Place your bid &quot;, &quot;Bid&quot;,\r\n\t\t\t\t\tJOptionPane.PLAIN_MESSAGE);\r\n\r\n\t\twhile(bidString.isEmpty())\r\n\t\t{\r\n\t\t\tJOptionPane.showMessageDialog(null,&quot;You must enter a value&quot;,\r\n\t\t\t\t\t\t&quot;The Numbers Game&quot;, JOptionPane.ERROR_MESSAGE);\r\n\r\n\t\t\tbidString = JOptionPane.showInputDialog(null, &quot;How much do you wish to bid?&quot;, &quot;Initial funds&quot;\r\n\t\t\t\t\t,JOptionPane.QUESTION_MESSAGE);\r\n\r\n\t\t\tif(bidString != null)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tint bid = Integer.parseInt(bidString);","title":"showInputDialog - cancel option clicked","body":"<p>how to handle if the user clicks Cancel on inputDialog? I have tried previously posted solutions but neither did work.</p>\n<p>here is my code</p>\n<pre><code>String bidString = JOptionPane.showInputDialog(null, &quot;Place your bid &quot;, &quot;Bid&quot;,\n                JOptionPane.PLAIN_MESSAGE);\n\n    while(bidString.isEmpty())\n    {\n        JOptionPane.showMessageDialog(null,&quot;You must enter a value&quot;,\n                    &quot;The Numbers Game&quot;, JOptionPane.ERROR_MESSAGE);\n\n        bidString = JOptionPane.showInputDialog(null, &quot;How much do you wish to bid?&quot;, &quot;Initial funds&quot;\n                ,JOptionPane.QUESTION_MESSAGE);\n\n        if(bidString != null)\n        {\n            return;\n        }\n\n    }\n    int bid = Integer.parseInt(bidString);\n</code></pre>\n"},{"tags":["java","swing","fonts","joptionpane"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1614467379,"post_id":66404271,"comment_id":117395729,"body_markdown":"Put your text inside a `JTextArea`, put the `JTextArea` inside a `JScrollPane`, seed this as the &quot;message&quot; property to `JOptionPane`","body":"Put your text inside a <code>JTextArea</code>, put the <code>JTextArea</code> inside a <code>JScrollPane</code>, seed this as the &quot;message&quot; property to <code>JOptionPane</code>"}],"answers":[{"tags":[],"owner":{"account_id":20135765,"reputation":1239,"user_id":14766808,"display_name":"Dren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614467207,"creation_date":1614467207,"answer_id":66404301,"question_id":66404271,"body_markdown":"Maybe by adding a listener before displaying the dialog and it will be called when added to the dialog and also when the dialog will  be visible.\r\nWith the help of Windows class \r\n\r\n   \r\n     Window window = SwingUtilities.getWindowAncestor(yourComponent);\r\nIf you want to use `setResizable()` method we need to typecast it to dialog \r\n\r\n    if (window instanceof Dialog) {\r\n    \tDialog dialog = (Dialog) window;\r\n    \tif (!dialog.isResizable()) {\r\n    \t\tdialog.setResizable(true);\r\n    \t}\r\n    }\r\n\r\nHere is a method that you can wrap your component in a scrollpane\r\n\r\n    private void showDialogRez(Component frame, final Component component) {\r\n    \tJScrollPane scrollPane = new JScrollPane(component);\r\n    \t\r\n    \tcomponent.addHierarchyListener(new HierarchyListener() {\r\n    \t\tpublic void hierarchyChanged(HierarchyEvent e) {\r\n    \t\t\tWindow window = SwingUtilities.getWindowAncestor(component);\r\n    \t\t\tif (window instanceof Dialog) {\r\n    \t\t\t\tDialog dialog = (Dialog) window;\r\n    \t\t\t\tif (!dialog.isResizable()) {\r\n    \t\t\t\t\tdialog.setResizable(true);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t});\r\n    \t\r\n    \tJOptionPane.showMessageDialog(frame, scrollPane);\r\n    }","title":"JOptionPane - Creating resizable text and GUI","body":"<p>Maybe by adding a listener before displaying the dialog and it will be called when added to the dialog and also when the dialog will  be visible.\nWith the help of Windows class</p>\n<pre><code> Window window = SwingUtilities.getWindowAncestor(yourComponent);\n</code></pre>\n<p>If you want to use <code>setResizable()</code> method we need to typecast it to dialog</p>\n<pre><code>if (window instanceof Dialog) {\n    Dialog dialog = (Dialog) window;\n    if (!dialog.isResizable()) {\n        dialog.setResizable(true);\n    }\n}\n</code></pre>\n<p>Here is a method that you can wrap your component in a scrollpane</p>\n<pre><code>private void showDialogRez(Component frame, final Component component) {\n    JScrollPane scrollPane = new JScrollPane(component);\n    \n    component.addHierarchyListener(new HierarchyListener() {\n        public void hierarchyChanged(HierarchyEvent e) {\n            Window window = SwingUtilities.getWindowAncestor(component);\n            if (window instanceof Dialog) {\n                Dialog dialog = (Dialog) window;\n                if (!dialog.isResizable()) {\n                    dialog.setResizable(true);\n                }\n            }\n        }\n    });\n    \n    JOptionPane.showMessageDialog(frame, scrollPane);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614468758,"creation_date":1614468758,"answer_id":66404453,"question_id":66404271,"body_markdown":"People tend to forget that `JOptionPane` is capable of more than just displaying text.  Passing a component as the `message` parameter will display the component directly on the resulting dialog.\r\n\r\nThe following is a slightly simplified example.  It loads text from an embedded text file (bring your own), which, for this example, is the New Hope script copied from https://imsdb.com/scripts/Star-Wars-A-New-Hope.html and displays it.\r\n\r\n[![Simple example][1]][1]\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JTextArea ta = new JTextArea(25, 50);\r\n                    ta.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 25));\r\n\r\n                    String text = &quot;&quot;;\r\n                    try (BufferedReader br = new BufferedReader(new InputStreamReader(Test.class.getResourceAsStream(&quot;Script.txt&quot;)))) {\r\n                        String line = null;\r\n                        StringBuilder buffer = new StringBuilder(1024);\r\n                        while ((line = br.readLine()) != null) {\r\n                            buffer.append(line).append(&quot;\\n&quot;);\r\n                        }\r\n                        text = buffer.toString();\r\n                    } catch (IOException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                    ta.setText(text);\r\n                    ta.setCaretPosition(0);\r\n\r\n                    JOptionPane.showMessageDialog(null, new JScrollPane(ta));\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nThe important part to note here is the line `JTextArea ta = new JTextArea(25, 50);`.  This is going to set up the &quot;preferred scrollable size&quot; of the text area, which the `JScrollPane` will use to make determinations about how much space it wants.\r\n\r\nTry removing the parameters from `JTextArea` constructor and see the result for comparison.\r\n\r\nNow, there are going to be limitations and you&#39;re going to have to find ways to balance your desires against what is physically possible with the hardware (screen) realestate that you have.\r\n\r\nYou can also do the same thing with a `JFrame`, so replacing the call to `JOptionPane` with something like...\r\n\r\n    JFrame frame = new JFrame();\r\n    frame.add(new JScrollPane(ta));\r\n    frame.pack();\r\n    frame.setLocationByPlatform(true);\r\n    frame.setVisible(true);\r\n\r\nWill give you a similar result.  In both cases the window is resizable.\r\n\r\nYou could got to a lot of hassle with calculating the available viewable space of the target screen and the desired size of the window and do lots of fudging, but in most cases, you just need to be thoughtful about what you&#39;re doing and work within some of the limitations you&#39;re presented with.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w4tVn.png","title":"JOptionPane - Creating resizable text and GUI","body":"<p>People tend to forget that <code>JOptionPane</code> is capable of more than just displaying text.  Passing a component as the <code>message</code> parameter will display the component directly on the resulting dialog.</p>\n<p>The following is a slightly simplified example.  It loads text from an embedded text file (bring your own), which, for this example, is the New Hope script copied from <a href=\"https://imsdb.com/scripts/Star-Wars-A-New-Hope.html\" rel=\"nofollow noreferrer\">https://imsdb.com/scripts/Star-Wars-A-New-Hope.html</a> and displays it.</p>\n<p><a href=\"https://i.stack.imgur.com/w4tVn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w4tVn.png\" alt=\"Simple example\" /></a></p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.Font;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport javax.swing.JOptionPane;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JTextArea ta = new JTextArea(25, 50);\n                ta.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 25));\n\n                String text = &quot;&quot;;\n                try (BufferedReader br = new BufferedReader(new InputStreamReader(Test.class.getResourceAsStream(&quot;Script.txt&quot;)))) {\n                    String line = null;\n                    StringBuilder buffer = new StringBuilder(1024);\n                    while ((line = br.readLine()) != null) {\n                        buffer.append(line).append(&quot;\\n&quot;);\n                    }\n                    text = buffer.toString();\n                } catch (IOException ex) {\n                    ex.printStackTrace();\n                }\n                ta.setText(text);\n                ta.setCaretPosition(0);\n\n                JOptionPane.showMessageDialog(null, new JScrollPane(ta));\n            }\n        });\n    }\n}\n</code></pre>\n<p>The important part to note here is the line <code>JTextArea ta = new JTextArea(25, 50);</code>.  This is going to set up the &quot;preferred scrollable size&quot; of the text area, which the <code>JScrollPane</code> will use to make determinations about how much space it wants.</p>\n<p>Try removing the parameters from <code>JTextArea</code> constructor and see the result for comparison.</p>\n<p>Now, there are going to be limitations and you're going to have to find ways to balance your desires against what is physically possible with the hardware (screen) realestate that you have.</p>\n<p>You can also do the same thing with a <code>JFrame</code>, so replacing the call to <code>JOptionPane</code> with something like...</p>\n<pre><code>JFrame frame = new JFrame();\nframe.add(new JScrollPane(ta));\nframe.pack();\nframe.setLocationByPlatform(true);\nframe.setVisible(true);\n</code></pre>\n<p>Will give you a similar result.  In both cases the window is resizable.</p>\n<p>You could got to a lot of hassle with calculating the available viewable space of the target screen and the desired size of the window and do lots of fudging, but in most cases, you just need to be thoughtful about what you're doing and work within some of the limitations you're presented with.</p>\n"}],"owner":{"account_id":19921914,"reputation":1,"user_id":14597536,"display_name":"foelpi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642504699,"creation_date":1614466914,"question_id":66404271,"body_markdown":"To increase the size of my text, I added this line of code\r\n\r\n    UIManager.put(&quot;OptionPane.messageFont&quot;, new FontUIResource(new Font(&quot;Serif&quot;, Font.PLAIN, 25))); \r\n\r\nBut when I make the size of my text too large, I can&#39;t resize the dialog. This becomes a problem when I have too much text on the screen, causing my GUI to be vertically larger than my screen, which ultimately stops me from being able to press the &quot;x&quot; button at the top, or any of the buttons that I have at the bottom of the screen. I want to be able to drag to resize my GUI, along with the size of the text inside. Is this possible to do? If not, how can I create a resizable GUI?\r\n\r\nAnother question I had was how to make JOptionPane full screen?\r\n\r\n","title":"JOptionPane - Creating resizable text and GUI","body":"<p>To increase the size of my text, I added this line of code</p>\n<pre><code>UIManager.put(&quot;OptionPane.messageFont&quot;, new FontUIResource(new Font(&quot;Serif&quot;, Font.PLAIN, 25))); \n</code></pre>\n<p>But when I make the size of my text too large, I can't resize the dialog. This becomes a problem when I have too much text on the screen, causing my GUI to be vertically larger than my screen, which ultimately stops me from being able to press the &quot;x&quot; button at the top, or any of the buttons that I have at the bottom of the screen. I want to be able to drag to resize my GUI, along with the size of the text inside. Is this possible to do? If not, how can I create a resizable GUI?</p>\n<p>Another question I had was how to make JOptionPane full screen?</p>\n"},{"tags":["java","string","double","user-input"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":3,"creation_date":1615327752,"post_id":66555371,"comment_id":117656416,"body_markdown":"Right after the first `if`, what happens if `a` is not 1?","body":"Right after the first <code>if</code>, what happens if <code>a</code> is not 1?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1615327765,"post_id":66555371,"comment_id":117656420,"body_markdown":"`1 / 4` is integer math (not floating point) and is equal to 0.  I think this might be an issue.","body":"<code>1 &#47; 4</code> is integer math (not floating point) and is equal to 0.  I think this might be an issue."},{"owner":{"account_id":20914032,"reputation":1,"user_id":15364192,"display_name":"iwillpeeurpants"},"score":0,"creation_date":1615330251,"post_id":66555371,"comment_id":117657199,"body_markdown":"@markspace how would I make the function still work by multiplying the entered input by 1/4?","body":"@markspace how would I make the function still work by multiplying the entered input by 1/4?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1615330471,"post_id":66555371,"comment_id":117657243,"body_markdown":"Convert to doubles: `1.0 / 4.0`.","body":"Convert to doubles: <code>1.0 &#47; 4.0</code>."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1615330801,"post_id":66555371,"comment_id":117657344,"body_markdown":"`howMuchMeat` and `howManyBurgers` are initialized, conditionally, by `JOptionPane.showInputDialog()`, not by `Double.parseDouble()`.","body":"<code>howMuchMeat</code> and <code>howManyBurgers</code> are initialized, conditionally, by <code>JOptionPane.showInputDialog()</code>, not by <code>Double.parseDouble()</code>."},{"owner":{"account_id":20914032,"reputation":1,"user_id":15364192,"display_name":"iwillpeeurpants"},"score":0,"creation_date":1615332145,"post_id":66555371,"comment_id":117657678,"body_markdown":"@user207421 how would I rewrite that?","body":"@user207421 how would I rewrite that?"}],"owner":{"account_id":20914032,"reputation":1,"user_id":15364192,"display_name":"iwillpeeurpants"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642504517,"creation_date":1615327041,"question_id":66555371,"body_markdown":"I am getting errors on these lines:\r\n```\r\nmeat = Double.parseDouble(howMuchMeat);\r\n``` \r\nand \r\n```\r\nburgers = Double.parseDouble(howManyBurgers); \r\n```\r\nIt says that `howMuchMeat` and `howManyBurgers` are not initialized, how do I initialize them with user inputs?\r\n~~~\r\nimport javax.swing.JOptionPane;\r\npublic class HamburgerHelperProgram {\r\n    public static void main(String[] args) {\r\n        String answer;\r\n        String howManyBurgers;\r\n        String howMuchMeat;\r\n        double a;\r\n        double burgers, meat;\r\n        double burgers1, meat1;\r\n        \r\n        answer = JOptionPane.showInputDialog(&quot;I am your hamburger helper! What question do you need answered? &quot;\r\n                + &quot;\\nAnswer 1 to find how many burgers can be made from a certain amount of meat, &quot;\r\n                + &quot;\\nand 2 to find how much meat is needed to make a specific number of burgers. &quot;);\r\n        a = Double.parseDouble(answer);\r\n        \r\n        if ( a == 1 )\r\n            howManyBurgers = JOptionPane.showInputDialog(&quot;How much meat do you have? (Enter in pounds): &quot;);\r\n        burgers = Double.parseDouble(howManyBurgers);\r\n        \r\n        burgers1 = burgers % ( 1 / 4 );\r\n        JOptionPane.showMessageDialog(null, &quot;You can make &quot; + burgers1 + &quot; burgers.&quot;);\r\n        \r\n        if ( a == 2 )\r\n            howMuchMeat = JOptionPane.showInputDialog(&quot;How many burgers do you want to make? (Enter whole numbers): &quot;);\r\n        meat = Double.parseDouble(howMuchMeat);\r\n        meat1 = meat * ( 1 / 4 );\r\n        JOptionPane.showMessageDialog(null, &quot;You need &quot; + meat1 + &quot; pounds of meat to make &quot; + meat + &quot; burgers.&quot;);\r\n            \r\n        if ( a != 2 )\r\n            JOptionPane.showMessageDialog(null, &quot;Invalid, try again.&quot;); \r\n                else if ( a != 1 )\r\n            JOptionPane.showMessageDialog(null, &quot;Invalid, try again.&quot;);\r\n        }\r\n    }\r\n}\r\n~~~","title":"My String Variables are not being Initialized by Double.parseDouble, but only on howMuchMeat and howManyBurgers, not answer","body":"<p>I am getting errors on these lines:</p>\n<pre><code>meat = Double.parseDouble(howMuchMeat);\n</code></pre>\n<p>and</p>\n<pre><code>burgers = Double.parseDouble(howManyBurgers); \n</code></pre>\n<p>It says that <code>howMuchMeat</code> and <code>howManyBurgers</code> are not initialized, how do I initialize them with user inputs?</p>\n<pre><code>import javax.swing.JOptionPane;\npublic class HamburgerHelperProgram {\n    public static void main(String[] args) {\n        String answer;\n        String howManyBurgers;\n        String howMuchMeat;\n        double a;\n        double burgers, meat;\n        double burgers1, meat1;\n        \n        answer = JOptionPane.showInputDialog(&quot;I am your hamburger helper! What question do you need answered? &quot;\n                + &quot;\\nAnswer 1 to find how many burgers can be made from a certain amount of meat, &quot;\n                + &quot;\\nand 2 to find how much meat is needed to make a specific number of burgers. &quot;);\n        a = Double.parseDouble(answer);\n        \n        if ( a == 1 )\n            howManyBurgers = JOptionPane.showInputDialog(&quot;How much meat do you have? (Enter in pounds): &quot;);\n        burgers = Double.parseDouble(howManyBurgers);\n        \n        burgers1 = burgers % ( 1 / 4 );\n        JOptionPane.showMessageDialog(null, &quot;You can make &quot; + burgers1 + &quot; burgers.&quot;);\n        \n        if ( a == 2 )\n            howMuchMeat = JOptionPane.showInputDialog(&quot;How many burgers do you want to make? (Enter whole numbers): &quot;);\n        meat = Double.parseDouble(howMuchMeat);\n        meat1 = meat * ( 1 / 4 );\n        JOptionPane.showMessageDialog(null, &quot;You need &quot; + meat1 + &quot; pounds of meat to make &quot; + meat + &quot; burgers.&quot;);\n            \n        if ( a != 2 )\n            JOptionPane.showMessageDialog(null, &quot;Invalid, try again.&quot;); \n                else if ( a != 1 )\n            JOptionPane.showMessageDialog(null, &quot;Invalid, try again.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","string","char","charat"],"comments":[{"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":2,"creation_date":1615546041,"post_id":66598276,"comment_id":117729958,"body_markdown":"Why do you have a length variable ? you can just return input.length()","body":"Why do you have a length variable ? you can just return input.length()"}],"answers":[{"tags":[],"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615545499,"creation_date":1615545499,"answer_id":66598322,"question_id":66598276,"body_markdown":"One of the possibilities is to print comma not *after* each character, but *before* every character except the first one.\r\n","title":"How do I get rid of the comma at the end? (Java)","body":"<p>One of the possibilities is to print comma not <em>after</em> each character, but <em>before</em> every character except the first one.</p>\n"},{"tags":[],"owner":{"account_id":4240333,"reputation":5530,"user_id":3470414,"accept_rate":75,"display_name":"Always Learning"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615545636,"creation_date":1615545636,"answer_id":66598357,"question_id":66598276,"body_markdown":"You only want to add a comma if there is more data to come after. So you can do it in two ways:\r\n\r\n1) add the comma before the text if there&#39;s already something in the string:\r\n```java\r\n        String output = &quot;&quot;;\r\n        for (int i=0; i&lt;input.length(); i++) {\r\n            length++;\r\n            if (output.length() &gt; 0) output += &quot;,&quot;;\r\n            output += input.charAt(i);\r\n        }\r\n```\r\n\r\n2) add the comma after unless it&#39;s the last element:\r\n```java\r\n        String output = &quot;&quot;;\r\n        for (int i=0; i&lt;input.length(); i++) {\r\n            length++;\r\n            output += input.charAt(i);\r\n            if (i &lt; input.length() - 1) output += &quot;,&quot;;\r\n        }\r\n```\r\nPersonally I like the first way.","title":"How do I get rid of the comma at the end? (Java)","body":"<p>You only want to add a comma if there is more data to come after. So you can do it in two ways:</p>\n<ol>\n<li>add the comma before the text if there's already something in the string:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>        String output = &quot;&quot;;\n        for (int i=0; i&lt;input.length(); i++) {\n            length++;\n            if (output.length() &gt; 0) output += &quot;,&quot;;\n            output += input.charAt(i);\n        }\n</code></pre>\n<ol start=\"2\">\n<li>add the comma after unless it's the last element:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>        String output = &quot;&quot;;\n        for (int i=0; i&lt;input.length(); i++) {\n            length++;\n            output += input.charAt(i);\n            if (i &lt; input.length() - 1) output += &quot;,&quot;;\n        }\n</code></pre>\n<p>Personally I like the first way.</p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615547775,"creation_date":1615545648,"answer_id":66598363,"question_id":66598276,"body_markdown":"You only need to check whether you are at the last character, and if you are, then break out from the loop.\r\n```java\r\nfor (int i=0; i&lt;input.length(); i++) {\r\n    length++; //you do not seem to need this\r\n    output += input.charAt(i);\r\n    if (i==(input.length()-1)) break; //checking whether we are at the last character\r\n    output += &quot;,&quot;;\r\n}\r\n```\r\nTwo additional notes:\r\n1. Please follow the [Java Naming Conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) and use PascalCase for your class names, this is very important;\r\n2. It would make your code much more efficient if you&#39;d use `StringBuilder` instead of `String`, to concatenate characters and dynamically build your string. `String` is immutable and per each concatenation, you&#39;re actually creating a `new` instance of it, which is expensive.","title":"How do I get rid of the comma at the end? (Java)","body":"<p>You only need to check whether you are at the last character, and if you are, then break out from the loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i=0; i&lt;input.length(); i++) {\n    length++; //you do not seem to need this\n    output += input.charAt(i);\n    if (i==(input.length()-1)) break; //checking whether we are at the last character\n    output += &quot;,&quot;;\n}\n</code></pre>\n<p>Two additional notes:</p>\n<ol>\n<li>Please follow the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java Naming Conventions</a> and use PascalCase for your class names, this is very important;</li>\n<li>It would make your code much more efficient if you'd use <code>StringBuilder</code> instead of <code>String</code>, to concatenate characters and dynamically build your string. <code>String</code> is immutable and per each concatenation, you're actually creating a <code>new</code> instance of it, which is expensive.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18482079,"reputation":336,"user_id":13463952,"display_name":"bliss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615572320,"creation_date":1615546293,"answer_id":66598531,"question_id":66598276,"body_markdown":"- Your loop iterates through every character, appending both the character and a comma. This includes the final character. You need to find a way to avoid adding a comma after the final iteration;\r\n\r\n- Using String and appending characters one by one is very inefficient. This is what `StringBuilder` is designed for;\r\n\r\n- What is the purpose of the length variable? It can be replaced with `input.length() - 1`;\r\n- `String.format()` makes your code easier to read rather than chaining together string concatenations;\r\n- Don&#39;t be afraid to use a healthy amount of spacing throughout your code. It is much harder to read otherwise.\r\n\r\nSomething like this should work well:\r\n````\r\npublic static int divide(String input)   {\r\n    int length = input.length() - 1;\r\n    String output;\r\n    if (input.length() == 0) output = input;\r\n    else {\r\n        StringBuilder outputBuilder = new StringBuilder(input.charAt(0));\r\n        for (int i = 1; i &lt; input.length(); i++) {\r\n            outputBuilder.append(&#39;,&#39;).append(input.charAt(i));\r\n        }\r\n        output = outputBuilder.toString();\r\n    }\r\n\r\n    JOptionPane.showMessageDialog(null, String.format(&quot;Eingabe: %s\\nAnzahl der Zeichen: %d\\nZeichen: \\n%s&quot;, input, length, output);\r\n    return length;\r\n}\r\n````","title":"How do I get rid of the comma at the end? (Java)","body":"<ul>\n<li><p>Your loop iterates through every character, appending both the character and a comma. This includes the final character. You need to find a way to avoid adding a comma after the final iteration;</p>\n</li>\n<li><p>Using String and appending characters one by one is very inefficient. This is what <code>StringBuilder</code> is designed for;</p>\n</li>\n<li><p>What is the purpose of the length variable? It can be replaced with <code>input.length() - 1</code>;</p>\n</li>\n<li><p><code>String.format()</code> makes your code easier to read rather than chaining together string concatenations;</p>\n</li>\n<li><p>Don't be afraid to use a healthy amount of spacing throughout your code. It is much harder to read otherwise.</p>\n</li>\n</ul>\n<p>Something like this should work well:</p>\n<pre><code>public static int divide(String input)   {\n    int length = input.length() - 1;\n    String output;\n    if (input.length() == 0) output = input;\n    else {\n        StringBuilder outputBuilder = new StringBuilder(input.charAt(0));\n        for (int i = 1; i &lt; input.length(); i++) {\n            outputBuilder.append(',').append(input.charAt(i));\n        }\n        output = outputBuilder.toString();\n    }\n\n    JOptionPane.showMessageDialog(null, String.format(&quot;Eingabe: %s\\nAnzahl der Zeichen: %d\\nZeichen: \\n%s&quot;, input, length, output);\n    return length;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20831733,"reputation":29,"user_id":15300880,"display_name":"WillemH0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615546405,"creation_date":1615546405,"answer_id":66598565,"question_id":66598276,"body_markdown":"Hello I used an if statement to check if we are at the first letter and if we are then we don&#39;t write a comma, here is the code:\r\n\r\n    {\r\n            int length = 0;\r\n            String output = &quot;&quot;;\r\n            int i = 0;\r\n            \r\n            for ( i = 0; i &lt; input.length(); i++)\r\n            {\r\n                if(i == 0)\r\n                {\r\n                    length++;\r\n                    output += input.charAt(i);\r\n\r\n\r\n                }\r\n                else\r\n                {\r\n                    output += &quot;,&quot;;\r\n                    output += input.charAt(i);\r\n                    length++;\r\n                }\r\n                \r\n               \r\n            }\r\n            Console.WriteLine(output);\r\n        }","title":"How do I get rid of the comma at the end? (Java)","body":"<p>Hello I used an if statement to check if we are at the first letter and if we are then we don't write a comma, here is the code:</p>\n<pre><code>{\n        int length = 0;\n        String output = &quot;&quot;;\n        int i = 0;\n        \n        for ( i = 0; i &lt; input.length(); i++)\n        {\n            if(i == 0)\n            {\n                length++;\n                output += input.charAt(i);\n\n\n            }\n            else\n            {\n                output += &quot;,&quot;;\n                output += input.charAt(i);\n                length++;\n            }\n            \n           \n        }\n        Console.WriteLine(output);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615548739,"creation_date":1615547582,"answer_id":66598843,"question_id":66598276,"body_markdown":"*I would use a* `StringJoiner`\r\n\r\n    StringJoiner output = new StringJoiner(&quot;,&quot;);\r\n    for (int i = 0; i &lt; input.length(); i++) {\r\n      length++;\r\n      output.add(input.substring(i, i + 1));\r\n    }\r\n    JOptionPane.showMessageDialog(… + output.toString());\r\n\r\n*so You are not allowed to use* `StringJoiner`\r\n\r\n    String output = &quot;&quot;;\r\n    String comma = &quot;&quot;;\r\n    for (int i = 0; i &lt; input.length(); i++) {\r\n      length++;\r\n      output += comma;\r\n      output += input.charAt(i);\r\n      comma = &quot;,&quot;;\r\n    }\r\n","title":"How do I get rid of the comma at the end? (Java)","body":"<p><em>I would use a</em> <code>StringJoiner</code></p>\n<pre><code>StringJoiner output = new StringJoiner(&quot;,&quot;);\nfor (int i = 0; i &lt; input.length(); i++) {\n  length++;\n  output.add(input.substring(i, i + 1));\n}\nJOptionPane.showMessageDialog(… + output.toString());\n</code></pre>\n<p><em>so You are not allowed to use</em> <code>StringJoiner</code></p>\n<pre><code>String output = &quot;&quot;;\nString comma = &quot;&quot;;\nfor (int i = 0; i &lt; input.length(); i++) {\n  length++;\n  output += comma;\n  output += input.charAt(i);\n  comma = &quot;,&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615578949,"creation_date":1615578632,"answer_id":66606331,"question_id":66598276,"body_markdown":"Once you learn, use a `StringJoiner` or similar modern device. My favourite link is at the bottom. There will also be a time when you learn to use a `StringBuilder` or `StringBuffer` for assembling a string.\r\n\r\nIn the meantime, I still like what I learned in my first year of programming: when one iteration through a loop needs to be different, *take it out of the loop*. In my experience this often gives the clearest code. In your case:\r\n\r\n\t\tString input = &quot;Wort&quot;;\r\n\t\tString output = &quot;&quot; + input.charAt(0);\r\n\t\tfor (int i = 1; i &lt; input.length(); i++) {\r\n\t\t\toutput += &quot;,&quot;;\r\n\t\t\toutput += input.charAt(i);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Zeichen: &quot; + output);\r\n\r\nOutput:\r\n\r\n&gt; Zeichen: W,o,r,t\r\n\r\nIn this case I have taken the first character outside the loop and add it to the output (without comma) already in the declaration of `output`. The loop starts from index 1 (not 0). Inside the loop I have to add the comma *before* adding the next char. In other cases one may put the *last* item outside the loop instead, the result will be the same.\r\n\r\n## Links\r\n\r\n - [Answer by Lii to a similar question](https://stackoverflow.com/a/25624556/5772882) demonstrating all of `String.join()`, `Collectors.joining()` and `StringJoiner`.\r\n - [StringBuilder vs String concatenation in toString() in Java](https://stackoverflow.com/questions/1532461/stringbuilder-vs-string-concatenation-in-tostring-in-java)","title":"How do I get rid of the comma at the end? (Java)","body":"<p>Once you learn, use a <code>StringJoiner</code> or similar modern device. My favourite link is at the bottom. There will also be a time when you learn to use a <code>StringBuilder</code> or <code>StringBuffer</code> for assembling a string.</p>\n<p>In the meantime, I still like what I learned in my first year of programming: when one iteration through a loop needs to be different, <em>take it out of the loop</em>. In my experience this often gives the clearest code. In your case:</p>\n<pre><code>    String input = &quot;Wort&quot;;\n    String output = &quot;&quot; + input.charAt(0);\n    for (int i = 1; i &lt; input.length(); i++) {\n        output += &quot;,&quot;;\n        output += input.charAt(i);\n    }\n    System.out.println(&quot;Zeichen: &quot; + output);\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>Zeichen: W,o,r,t</p>\n</blockquote>\n<p>In this case I have taken the first character outside the loop and add it to the output (without comma) already in the declaration of <code>output</code>. The loop starts from index 1 (not 0). Inside the loop I have to add the comma <em>before</em> adding the next char. In other cases one may put the <em>last</em> item outside the loop instead, the result will be the same.</p>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/25624556/5772882\">Answer by Lii to a similar question</a> demonstrating all of <code>String.join()</code>, <code>Collectors.joining()</code> and <code>StringJoiner</code>.</li>\n<li><a href=\"https://stackoverflow.com/questions/1532461/stringbuilder-vs-string-concatenation-in-tostring-in-java\">StringBuilder vs String concatenation in toString() in Java</a></li>\n</ul>\n"}],"owner":{"account_id":20740967,"reputation":17,"user_id":15381924,"display_name":"eiex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":840,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":7,"score":0,"last_activity_date":1642504449,"creation_date":1615545280,"question_id":66598276,"body_markdown":"I&#39;m working on an assignment and the code is working perfectly, except for one small little problem. \r\n\r\nFor example at the end it&#39;s supposed to say, &quot;t,e,s,t&quot; but instead it prints out &quot;t,e,s,t,&quot;. \r\n``` java\r\nimport javax.swing.JOptionPane;\r\npublic class program {\r\n    public static int divide(String input)   {\r\n        int length=0; \r\n        String output = &quot;&quot;;\r\n        for (int i=0; i&lt;input.length(); i++) {\r\n            length++;\r\n            output += input.charAt(i);\r\n            output += &quot;,&quot;;\r\n        }\r\n        JOptionPane.showMessageDialog(null, &quot;Eingabe: &quot; +input+ &quot;\\nAnzahl der Zeichen: &quot; +length+ &quot;\\nZeichen: \\n&quot; +output);\r\n        return length;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;d just like to say for those who are planning on giving tips, please note that this is an assignment so I&#39;m not really allowed to make any MAJOR changes to it. This program HAS to be:\r\n\r\nSolved using a for loop\r\nThe output HAS to be in JOptionPane\r\nIt has to be in a method (for I&#39;ll have to write an inputDialog later in the main-method, but that&#39;s unimportant right now). \r\n\r\nMy only problem with it, for example the output would have to say (I&#39;ll translate the output in english, since I&#39;m at an austrian school) if the string was &quot;hello&quot;, the program would say &quot;letters: h, e, l, l, o&quot; but instead it says &quot;h, e, l, l, o,&quot; with a comma at the end, how do I get rid of it? \r\n\r\n(Also sorry if I messed up any variables, I renamed them all from German to English for this post so I hope I didn&#39;t mess any of them up)","title":"How do I get rid of the comma at the end? (Java)","body":"<p>I'm working on an assignment and the code is working perfectly, except for one small little problem.</p>\n<p>For example at the end it's supposed to say, &quot;t,e,s,t&quot; but instead it prints out &quot;t,e,s,t,&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JOptionPane;\npublic class program {\n    public static int divide(String input)   {\n        int length=0; \n        String output = &quot;&quot;;\n        for (int i=0; i&lt;input.length(); i++) {\n            length++;\n            output += input.charAt(i);\n            output += &quot;,&quot;;\n        }\n        JOptionPane.showMessageDialog(null, &quot;Eingabe: &quot; +input+ &quot;\\nAnzahl der Zeichen: &quot; +length+ &quot;\\nZeichen: \\n&quot; +output);\n        return length;\n    }\n}\n</code></pre>\n<p>I'd just like to say for those who are planning on giving tips, please note that this is an assignment so I'm not really allowed to make any MAJOR changes to it. This program HAS to be:</p>\n<p>Solved using a for loop\nThe output HAS to be in JOptionPane\nIt has to be in a method (for I'll have to write an inputDialog later in the main-method, but that's unimportant right now).</p>\n<p>My only problem with it, for example the output would have to say (I'll translate the output in english, since I'm at an austrian school) if the string was &quot;hello&quot;, the program would say &quot;letters: h, e, l, l, o&quot; but instead it says &quot;h, e, l, l, o,&quot; with a comma at the end, how do I get rid of it?</p>\n<p>(Also sorry if I messed up any variables, I renamed them all from German to English for this post so I hope I didn't mess any of them up)</p>\n"},{"tags":["java","android","heremaps","heremaps-android-sdk"],"answers":[{"tags":[],"owner":{"account_id":11331269,"reputation":3351,"user_id":8308743,"display_name":"Nusatad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642503316,"creation_date":1642503316,"answer_id":70754408,"question_id":70746056,"body_markdown":"The HERE SDK is available in different editions. Your link refers to the older 3.x based *Premium Edition*. It will not compile with the code needed for the newer 4.x *Navigate Edition*. \r\n\r\nThe offline maps feature shown in your code snippet is only working when you use the *Navigate Edition*. The documentation can be found here: https://developer.here.com/documentation/android-sdk-navigate\r\n\r\nThe OfflineMaps example app for this edition is available from here: \r\nhttps://github.com/heremaps/here-sdk-examples \r\n\r\nAs stated in the README, the offline maps feature and example app is exclusively available for the *Navigate Edition*. Other editions do not support it and hence, the code will not compile.\r\n\r\n\r\n","title":"Android/Java: How to install a package country offline in HereMap?","body":"<p>The HERE SDK is available in different editions. Your link refers to the older 3.x based <em>Premium Edition</em>. It will not compile with the code needed for the newer 4.x <em>Navigate Edition</em>.</p>\n<p>The offline maps feature shown in your code snippet is only working when you use the <em>Navigate Edition</em>. The documentation can be found here: <a href=\"https://developer.here.com/documentation/android-sdk-navigate\" rel=\"nofollow noreferrer\">https://developer.here.com/documentation/android-sdk-navigate</a></p>\n<p>The OfflineMaps example app for this edition is available from here:\n<a href=\"https://github.com/heremaps/here-sdk-examples\" rel=\"nofollow noreferrer\">https://github.com/heremaps/here-sdk-examples</a></p>\n<p>As stated in the README, the offline maps feature and example app is exclusively available for the <em>Navigate Edition</em>. Other editions do not support it and hence, the code will not compile.</p>\n"}],"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642504347,"creation_date":1642444658,"question_id":70746056,"body_markdown":"I try to download the packages that I need for using the map offline, but nothing happens.  \r\n\r\n***3.x based Premium Edition***  \r\nI trie many ways like this [documentation][1] of HereMap, like this [ticket][2] or this [ticket][3] but nothing works, nothing is firing the download functions.\r\n \r\n\r\nHere is my code:\r\n\r\n \r\n\r\n    private final static String TAG = &quot;HereMap&quot;;\r\n        private ArrayList&lt;MapPackage&gt; currentInstalledMaps;\r\n        private String currentInstalledMapsString;\r\n        private MapLoader.Listener mapLoaderHandler = new MapLoader.Listener() {\r\n    \r\n            @Override\r\n            public void onProgress(int progress) {\r\n                Log.i(TAG, &quot;Progress &quot; + progress + &quot;%&quot;);\r\n             //   downloadProgressBar.setProgress(progress);\r\n            }\r\n    \r\n            @Override\r\n            public void onInstallationSize(long diskSize, long networkSize) {\r\n                Log.i(TAG, &quot;Map data require &quot; + diskSize);\r\n            }\r\n    \r\n    \r\n            @Override\r\n            public void onGetMapPackagesComplete(MapPackage rootMapPackage,\r\n                                                 MapLoader.ResultCode resultCode) {\r\n                if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\r\n                    Log.i(TAG, &quot;Map packages received successful: &quot; + rootMapPackage.getTitle());\r\n    \r\n                    currentInstalledMaps = new ArrayList&lt;&gt;(1);\r\n                    populateInstalledMaps(rootMapPackage);\r\n                } else {\r\n                    Log.e(TAG, &quot;Can&#39;t retrieve map packages: &quot; + resultCode.name());\r\n                    Toast.makeText(HereMap.this,\r\n                            &quot;Error: &quot; + resultCode.name(), Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n    \r\n                StringBuilder sb = new StringBuilder();\r\n                for (MapPackage pac : currentInstalledMaps) {\r\n                    sb.append(pac.getTitle());\r\n                    sb.append(&quot;\\n&quot;);\r\n                }\r\n    \r\n                currentInstalledMapsString = sb.toString();\r\n            }\r\n    \r\n            private void populateInstalledMaps(MapPackage pac) {\r\n                // only take installed root package, so if e.g. Germany is installed,\r\n                // don&#39;t check for children states\r\n                if (pac.getInstallationState() == MapPackage.InstallationState.INSTALLED) {\r\n                    Log.i(TAG, &quot;Installed package found: &quot; + pac.getTitle() + &quot; id &quot; + pac.getId());\r\n                    currentInstalledMaps.add(pac);\r\n                } else if (pac.getChildren() != null &amp;&amp; pac.getChildren().size() &gt; 0) {\r\n                    for (MapPackage p : pac.getChildren()) {\r\n                        populateInstalledMaps(p);\r\n                    }\r\n                }\r\n            }\r\n    \r\n    \r\n            @Override\r\n            public void onCheckForUpdateComplete(boolean updateAvailable, String currentMapVersion,\r\n                                                 String newestMapVersion, MapLoader.ResultCode resultCode) {\r\n                Log.i(TAG, &quot;onCheckForUpdateComplete. Update available: &quot; + updateAvailable +\r\n                        &quot; current version: &quot; + currentMapVersion);\r\n    \r\n                AlertDialog.Builder builder = new AlertDialog.Builder(\r\n                        HereMap.this, R.style.AppCompatAlertDialogStyle);\r\n    \r\n                builder.setTitle(&quot;Map version checked&quot;);\r\n                builder.setMessage(&quot;Current map version: &quot; + currentMapVersion + &quot;\\n\\n&quot;\r\n                        + (updateAvailable ? &quot;Update found to &quot; + newestMapVersion : &quot;No update found&quot;)\r\n                        + &quot;\\n\\n&quot; + &quot;Installed maps:\\n&quot; + currentInstalledMapsString);\r\n                builder.setNegativeButton(&quot;close&quot;, null);\r\n    \r\n                if (updateAvailable) {\r\n                    builder.setPositiveButton(&quot;Update&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            Log.i(TAG, &quot;Update triggered&quot;);\r\n                         /*   downloadProgressBar.setProgress(0);\r\n                            downloadProgressBar.setVisibility(View.VISIBLE);*/\r\n                            MapLoader.getInstance().performMapDataUpdate();\r\n                        }\r\n                    });\r\n                }\r\n    \r\n                builder.show();\r\n            }\r\n    \r\n    \r\n            @Override\r\n            public void onPerformMapDataUpdateComplete(MapPackage rootMapPackage,\r\n                                                       MapLoader.ResultCode resultCode) {\r\n                Log.i(TAG, &quot;onPerformMapDataUpdateComplete&quot;);\r\n               // downloadProgressBar.setVisibility(View.INVISIBLE);\r\n                String message;\r\n                if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\r\n                    message = &quot;Map updated successfully&quot;;\r\n                } else {\r\n                    message = &quot;Map update failed: &quot; + resultCode.name();\r\n                }\r\n                Toast.makeText(HereMap.this, message, Toast.LENGTH_SHORT).show();\r\n            }\r\n    \r\n            @Override\r\n            public void onInstallMapPackagesComplete(MapPackage rootMapPackage,\r\n                                                     MapLoader.ResultCode resultCode) {\r\n               // downloadProgressBar.setVisibility(View.INVISIBLE);\r\n                String message;\r\n                if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\r\n                    message = &quot;Maps installed successfully&quot;;\r\n                    Log.i(TAG, &quot;Package is installed: &quot;\r\n                            + rootMapPackage.getId() + &quot; &quot; + rootMapPackage.getTitle());\r\n                    MapLoader.getInstance().getMapPackages();\r\n                } else {\r\n                    message = &quot;Map installation failed: &quot; + resultCode.name();\r\n                    Log.e(TAG, &quot;Failed to install package: &quot;\r\n                            + rootMapPackage.getId() + &quot; &quot; + rootMapPackage.getTitle());\r\n                }\r\n                Toast.makeText(HereMap.this, message, Toast.LENGTH_SHORT).show();\r\n            }\r\n    \r\n    \r\n            @Override\r\n            public void onUninstallMapPackagesComplete(MapPackage rootMapPackage,\r\n                                                       MapLoader.ResultCode resultCode) {\r\n                Log.i(TAG, &quot;onUninstallMapPackagesComplete&quot;);\r\n                String message;\r\n                if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\r\n                    message = &quot;Maps removed successfully&quot;;\r\n                } else {\r\n                    message = &quot;Map removal failed: &quot; + resultCode.name();\r\n                }\r\n                Toast.makeText(HereMap.this, message, Toast.LENGTH_SHORT).show();\r\n    \r\n                // update packages and get installation state\r\n                MapLoader.getInstance().getMapPackages();\r\n            }\r\n        };\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            initialize();\r\n    \r\n            MapLoader mapLoader = MapLoader.getInstance();\r\n              mapLoader.getMapPackages();\r\n    \r\n              mapLoader.addListener(mapLoaderHandler);\r\n    \r\n            List&lt;Integer&gt; downloadList = new ArrayList&lt;&gt;(1);\r\n            downloadList.add(120002);    // Berlin/Brandenburg id 120002\r\n    \r\n            MapLoader.getInstance().installMapPackages(downloadList);\r\n        }\r\n    ...\r\nEDIT:  \r\n***newer 4.x Navigate Edition***    \r\nHi @datasun,\r\nI installed with the new SDK android heremap v3.19.4_227 with [Offline Maps GitHub][4] and it doesn&#39;t recognize lots of commands like:\r\n`import com.here.sdk.mapview.MapView;` in fact all the main import are not recognized com.here.sdk.mapview.x etc...  \r\n\r\nHere is are the main functions that cannot launch because of the import failure that is not present in the SDK:  \r\n[![Screen1][5]][5]   \r\n[![Screen2][6]][6]\r\n[![Screen3][7]][7]\r\n  \r\n\r\nImpossible to use it, and the documentation is very poor on that point. \r\n\r\nDo you have any ideas ?\r\n\r\n\r\n  [1]: https://developer.here.com/documentation/android-premium/3.19/dev_guide/topics/maps-offline-maploader.html\r\n  [2]: https://stackoverflow.com/a/41359719/3581620\r\n  [3]: https://stackoverflow.com/a/35333711/3581620\r\n  [4]: https://github.com/heremaps/here-sdk-examples/tree/master/examples/latest/navigate/android/OfflineMaps\r\n  [5]: https://i.stack.imgur.com/S6xgc.png\r\n  [6]: https://i.stack.imgur.com/bR6n3.png\r\n  [7]: https://i.stack.imgur.com/k7vb3.png","title":"Android/Java: How to install a package country offline in HereMap?","body":"<p>I try to download the packages that I need for using the map offline, but nothing happens.</p>\n<p><em><strong>3.x based Premium Edition</strong></em><br />\nI trie many ways like this <a href=\"https://developer.here.com/documentation/android-premium/3.19/dev_guide/topics/maps-offline-maploader.html\" rel=\"nofollow noreferrer\">documentation</a> of HereMap, like this <a href=\"https://stackoverflow.com/a/41359719/3581620\">ticket</a> or this <a href=\"https://stackoverflow.com/a/35333711/3581620\">ticket</a> but nothing works, nothing is firing the download functions.</p>\n<p>Here is my code:</p>\n<pre><code>private final static String TAG = &quot;HereMap&quot;;\n    private ArrayList&lt;MapPackage&gt; currentInstalledMaps;\n    private String currentInstalledMapsString;\n    private MapLoader.Listener mapLoaderHandler = new MapLoader.Listener() {\n\n        @Override\n        public void onProgress(int progress) {\n            Log.i(TAG, &quot;Progress &quot; + progress + &quot;%&quot;);\n         //   downloadProgressBar.setProgress(progress);\n        }\n\n        @Override\n        public void onInstallationSize(long diskSize, long networkSize) {\n            Log.i(TAG, &quot;Map data require &quot; + diskSize);\n        }\n\n\n        @Override\n        public void onGetMapPackagesComplete(MapPackage rootMapPackage,\n                                             MapLoader.ResultCode resultCode) {\n            if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\n                Log.i(TAG, &quot;Map packages received successful: &quot; + rootMapPackage.getTitle());\n\n                currentInstalledMaps = new ArrayList&lt;&gt;(1);\n                populateInstalledMaps(rootMapPackage);\n            } else {\n                Log.e(TAG, &quot;Can't retrieve map packages: &quot; + resultCode.name());\n                Toast.makeText(HereMap.this,\n                        &quot;Error: &quot; + resultCode.name(), Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            StringBuilder sb = new StringBuilder();\n            for (MapPackage pac : currentInstalledMaps) {\n                sb.append(pac.getTitle());\n                sb.append(&quot;\\n&quot;);\n            }\n\n            currentInstalledMapsString = sb.toString();\n        }\n\n        private void populateInstalledMaps(MapPackage pac) {\n            // only take installed root package, so if e.g. Germany is installed,\n            // don't check for children states\n            if (pac.getInstallationState() == MapPackage.InstallationState.INSTALLED) {\n                Log.i(TAG, &quot;Installed package found: &quot; + pac.getTitle() + &quot; id &quot; + pac.getId());\n                currentInstalledMaps.add(pac);\n            } else if (pac.getChildren() != null &amp;&amp; pac.getChildren().size() &gt; 0) {\n                for (MapPackage p : pac.getChildren()) {\n                    populateInstalledMaps(p);\n                }\n            }\n        }\n\n\n        @Override\n        public void onCheckForUpdateComplete(boolean updateAvailable, String currentMapVersion,\n                                             String newestMapVersion, MapLoader.ResultCode resultCode) {\n            Log.i(TAG, &quot;onCheckForUpdateComplete. Update available: &quot; + updateAvailable +\n                    &quot; current version: &quot; + currentMapVersion);\n\n            AlertDialog.Builder builder = new AlertDialog.Builder(\n                    HereMap.this, R.style.AppCompatAlertDialogStyle);\n\n            builder.setTitle(&quot;Map version checked&quot;);\n            builder.setMessage(&quot;Current map version: &quot; + currentMapVersion + &quot;\\n\\n&quot;\n                    + (updateAvailable ? &quot;Update found to &quot; + newestMapVersion : &quot;No update found&quot;)\n                    + &quot;\\n\\n&quot; + &quot;Installed maps:\\n&quot; + currentInstalledMapsString);\n            builder.setNegativeButton(&quot;close&quot;, null);\n\n            if (updateAvailable) {\n                builder.setPositiveButton(&quot;Update&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        Log.i(TAG, &quot;Update triggered&quot;);\n                     /*   downloadProgressBar.setProgress(0);\n                        downloadProgressBar.setVisibility(View.VISIBLE);*/\n                        MapLoader.getInstance().performMapDataUpdate();\n                    }\n                });\n            }\n\n            builder.show();\n        }\n\n\n        @Override\n        public void onPerformMapDataUpdateComplete(MapPackage rootMapPackage,\n                                                   MapLoader.ResultCode resultCode) {\n            Log.i(TAG, &quot;onPerformMapDataUpdateComplete&quot;);\n           // downloadProgressBar.setVisibility(View.INVISIBLE);\n            String message;\n            if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\n                message = &quot;Map updated successfully&quot;;\n            } else {\n                message = &quot;Map update failed: &quot; + resultCode.name();\n            }\n            Toast.makeText(HereMap.this, message, Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onInstallMapPackagesComplete(MapPackage rootMapPackage,\n                                                 MapLoader.ResultCode resultCode) {\n           // downloadProgressBar.setVisibility(View.INVISIBLE);\n            String message;\n            if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\n                message = &quot;Maps installed successfully&quot;;\n                Log.i(TAG, &quot;Package is installed: &quot;\n                        + rootMapPackage.getId() + &quot; &quot; + rootMapPackage.getTitle());\n                MapLoader.getInstance().getMapPackages();\n            } else {\n                message = &quot;Map installation failed: &quot; + resultCode.name();\n                Log.e(TAG, &quot;Failed to install package: &quot;\n                        + rootMapPackage.getId() + &quot; &quot; + rootMapPackage.getTitle());\n            }\n            Toast.makeText(HereMap.this, message, Toast.LENGTH_SHORT).show();\n        }\n\n\n        @Override\n        public void onUninstallMapPackagesComplete(MapPackage rootMapPackage,\n                                                   MapLoader.ResultCode resultCode) {\n            Log.i(TAG, &quot;onUninstallMapPackagesComplete&quot;);\n            String message;\n            if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\n                message = &quot;Maps removed successfully&quot;;\n            } else {\n                message = &quot;Map removal failed: &quot; + resultCode.name();\n            }\n            Toast.makeText(HereMap.this, message, Toast.LENGTH_SHORT).show();\n\n            // update packages and get installation state\n            MapLoader.getInstance().getMapPackages();\n        }\n    };\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        initialize();\n\n        MapLoader mapLoader = MapLoader.getInstance();\n          mapLoader.getMapPackages();\n\n          mapLoader.addListener(mapLoaderHandler);\n\n        List&lt;Integer&gt; downloadList = new ArrayList&lt;&gt;(1);\n        downloadList.add(120002);    // Berlin/Brandenburg id 120002\n\n        MapLoader.getInstance().installMapPackages(downloadList);\n    }\n...\n</code></pre>\n<p>EDIT:<br />\n<em><strong>newer 4.x Navigate Edition</strong></em><br />\nHi @datasun,\nI installed with the new SDK android heremap v3.19.4_227 with <a href=\"https://github.com/heremaps/here-sdk-examples/tree/master/examples/latest/navigate/android/OfflineMaps\" rel=\"nofollow noreferrer\">Offline Maps GitHub</a> and it doesn't recognize lots of commands like:\n<code>import com.here.sdk.mapview.MapView;</code> in fact all the main import are not recognized com.here.sdk.mapview.x etc...</p>\n<p>Here is are the main functions that cannot launch because of the import failure that is not present in the SDK:<br />\n<a href=\"https://i.stack.imgur.com/S6xgc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S6xgc.png\" alt=\"Screen1\" /></a><br />\n<a href=\"https://i.stack.imgur.com/bR6n3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bR6n3.png\" alt=\"Screen2\" /></a>\n<a href=\"https://i.stack.imgur.com/k7vb3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k7vb3.png\" alt=\"Screen3\" /></a></p>\n<p>Impossible to use it, and the documentation is very poor on that point.</p>\n<p>Do you have any ideas ?</p>\n"},{"tags":["java","swing","validation","user-input","joptionpane"],"comments":[{"owner":{"account_id":6667055,"reputation":723,"user_id":7373144,"accept_rate":67,"display_name":"bradley101"},"score":0,"creation_date":1639645793,"post_id":70376343,"comment_id":124403501,"body_markdown":"Welcome to StackOverflow! Add details about the problem and not just lengthy codes. Explain the code and the problem you&#39;re facing. More information about asking questions here - https://stackoverflow.com/help/how-to-ask","body":"Welcome to StackOverflow! Add details about the problem and not just lengthy codes. Explain the code and the problem you&#39;re facing. More information about asking questions here - <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":6004372,"reputation":390,"user_id":4716743,"display_name":"Manjunath Prabhakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639648578,"creation_date":1639648578,"answer_id":70377001,"question_id":70376343,"body_markdown":"Hi your question was unclear in many places, but I believe you just need to validate the input value to have only numbers/alphabets/alpha-numeric.\r\n\r\n      String numberInput1 = JOptionPane.showInputDialog(null, &quot;ENTER THE FIRST NUMBER:&quot;);\r\n        //If its not Numbers matching\r\n        if (!Pattern.matches(&quot;[0-9]*&quot;, numberInput1)){\r\n           JOptionPane.showMessageDialog(null, &quot;Make sure to enter numbers ONLY&quot;, &quot;INVALID&quot;, JOptionPane.WARNING_MESSAGE);\r\n           //Clear your Input Box\r\n        }\r\n\r\n   For Matching Only Alphabets\r\n\r\n    Pattern.matches(&quot;[a-zA-Z]*&quot;, numberInput1)\r\n\r\n For matching alphanumeric\r\n\r\n    Pattern.matches(&quot;[a-zA-Z0-9]*&quot;, numberInput1)\r\n\r\n\r\nI&#39;m not convinced validating with Loops, but I recommend checking out the Swing tutorial on [Dialogs][1], and how to use JOptionPane easily so you don&#39;t need to validate the input.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html","title":"How to validate or restrict user from inputting alphabet or numbers","body":"<p>Hi your question was unclear in many places, but I believe you just need to validate the input value to have only numbers/alphabets/alpha-numeric.</p>\n<pre><code>  String numberInput1 = JOptionPane.showInputDialog(null, &quot;ENTER THE FIRST NUMBER:&quot;);\n    //If its not Numbers matching\n    if (!Pattern.matches(&quot;[0-9]*&quot;, numberInput1)){\n       JOptionPane.showMessageDialog(null, &quot;Make sure to enter numbers ONLY&quot;, &quot;INVALID&quot;, JOptionPane.WARNING_MESSAGE);\n       //Clear your Input Box\n    }\n</code></pre>\n<p>For Matching Only Alphabets</p>\n<pre><code>Pattern.matches(&quot;[a-zA-Z]*&quot;, numberInput1)\n</code></pre>\n<p>For matching alphanumeric</p>\n<pre><code>Pattern.matches(&quot;[a-zA-Z0-9]*&quot;, numberInput1)\n</code></pre>\n<p>I'm not convinced validating with Loops, but I recommend checking out the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">Dialogs</a>, and how to use JOptionPane easily so you don't need to validate the input.</p>\n"}],"owner":{"account_id":22861654,"reputation":1,"user_id":17005628,"display_name":"Player001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642504114,"creation_date":1639645479,"question_id":70376343,"body_markdown":"I&#39;ve been trying to figure the problem in my code for hours is there any way to solve this? If so please help me fix this problem. It runs but the code inside while doesn&#39;t work the way it is intended to even though the condition make sense or I just don&#39;t know how while works??? Anyways, thank you for the people that will help. That&#39;s all the details \r\n\r\n    import java.text.DecimalFormat;\r\n    import javax.swing.JOptionPane;\r\n    //imported JoptionPane for a basic UI\r\n    //Don&#39;t mind the comments\r\n    \r\n    public class Calculator {\r\n        public static void main(String[] args) {\r\n         \r\n        DecimalFormat format = new DecimalFormat(&quot;0.#####&quot;); \r\n        //Used this class to trim the zeroes in whole numbers and in the numbers with a trailing zero\r\n            \r\n            String[] response = {&quot;CANCEL&quot;, &quot;Addition&quot;, &quot;Subtraction&quot;, &quot;Multiplication&quot;, &quot;Division&quot;, &quot;Modulo&quot;}; \r\n            //Used array to assign reponses in the response variable(will be used in the showOptionDialog())\r\n            //CANCEL is 0, Addition is 1, Subtraction is 2 and so on. Will be used later in switch statement\r\n    \r\n            int selectCalculation = JOptionPane.showOptionDialog(null,\r\n                                         &quot;SELECT CALCULATION THAT YOU WANT TO PERFORM:&quot;, \r\n                                         &quot;SELECT CALCULATION&quot;, \r\n                                         JOptionPane.YES_NO_OPTION, \r\n                                         JOptionPane.QUESTION_MESSAGE, \r\n                                         null, \r\n                                         response, \r\n                                         null);\r\n    \r\n            String numberInput1 = JOptionPane.showInputDialog(null, &quot;ENTER THE FIRST NUMBER:&quot;);\r\n            //Used the class String instead of the data type double because I will be using a String method in while condition\r\n                while (numberInput1.matches(&quot;[a-zA-Z]&quot;))\r\n                //Used regex here basically saying if numberInput1 does contain letter then start the loop until user inputs number\r\n                {\r\n                    JOptionPane.showMessageDialog(null, &quot;Make sure to enter numbers ONLY&quot;, &quot;INVALID&quot;, JOptionPane.WARNING_MESSAGE);\r\n                    //Shows warning message so user will know what the accepted input is\r\n                        numberInput1 = JOptionPane.showInputDialog(null, &quot;ENTER THE FIRST NUMBER:&quot;);\r\n                }\r\n    \r\n            String numberInput2 = JOptionPane.showInputDialog(null, &quot;ENTER THE SECOND NUMBER:&quot;);\r\n            //Same reason as stated previously\r\n                while (numberInput2.matches(&quot;[a-zA-Z]&quot;)) {\r\n                    JOptionPane.showMessageDialog(null, &quot;Make sure to enter numbers ONLY&quot;, &quot;INVALID&quot;, JOptionPane.WARNING_MESSAGE);\r\n                        numberInput2 = JOptionPane.showInputDialog(null, &quot;ENTER THE SECOND NUMBER:&quot;);\r\n                }\r\n    \r\n            double firstNumber = Double.parseDouble(numberInput1);\r\n            double secondNumber = Double.parseDouble(numberInput2);\r\n            //Converts the numberInputs to double so Java will add numbers instead of String later\r\n    \r\n            switch (selectCalculation)\r\n            //Used switches instead of if else because it will be a longer process if I used if else\r\n            {\r\n                case 1:\r\n                    double sum = firstNumber + secondNumber;\r\n                    JOptionPane.showMessageDialog(null, format.format(firstNumber) + &quot; and &quot; + format.format(secondNumber) + &quot; is equals to &quot; + format.format(sum), &quot;The sum of:&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n                    break;\r\n                case 2:\r\n                    double difference = firstNumber - secondNumber;\r\n                    JOptionPane.showMessageDialog(null, format.format(firstNumber) + &quot; and &quot; + format.format(secondNumber) + &quot; is equals to &quot; + format.format(difference), &quot;The difference of:&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n                    break;\r\n                case 3:\r\n                    double product = firstNumber * secondNumber;\r\n                    JOptionPane.showMessageDialog(null, format.format(firstNumber) + &quot; and &quot; + format.format(secondNumber) + &quot; is equals to &quot; + format.format(product), &quot;The product of:&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n                    break;\r\n                case 4:\r\n                    double quotient = firstNumber / secondNumber;\r\n                    JOptionPane.showMessageDialog(null, format.format(firstNumber) + &quot; and &quot; + format.format(secondNumber) + &quot; is equals to &quot; + format.format(quotient), &quot;The quotient of:&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n                    break;\r\n                case 5:\r\n                    double remainder = firstNumber % secondNumber;\r\n                    JOptionPane.showMessageDialog(null, format.format(firstNumber) + &quot; and &quot; + format.format(secondNumber) + &quot; is equals to &quot; + format.format(remainder), &quot;The remainder of:&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n                    break;    \r\n                default:\r\n                    JOptionPane.showMessageDialog(null, &quot;MADE BY: GABRIEL POTAZO&quot;, &quot;CALCULATION CANCELLED&quot;,JOptionPane.ERROR_MESSAGE);\r\n                    break;\r\n            }\r\n        }\r\n    }","title":"How to validate or restrict user from inputting alphabet or numbers","body":"<p>I've been trying to figure the problem in my code for hours is there any way to solve this? If so please help me fix this problem. It runs but the code inside while doesn't work the way it is intended to even though the condition make sense or I just don't know how while works??? Anyways, thank you for the people that will help. That's all the details</p>\n<pre><code>import java.text.DecimalFormat;\nimport javax.swing.JOptionPane;\n//imported JoptionPane for a basic UI\n//Don't mind the comments\n\npublic class Calculator {\n    public static void main(String[] args) {\n     \n    DecimalFormat format = new DecimalFormat(&quot;0.#####&quot;); \n    //Used this class to trim the zeroes in whole numbers and in the numbers with a trailing zero\n        \n        String[] response = {&quot;CANCEL&quot;, &quot;Addition&quot;, &quot;Subtraction&quot;, &quot;Multiplication&quot;, &quot;Division&quot;, &quot;Modulo&quot;}; \n        //Used array to assign reponses in the response variable(will be used in the showOptionDialog())\n        //CANCEL is 0, Addition is 1, Subtraction is 2 and so on. Will be used later in switch statement\n\n        int selectCalculation = JOptionPane.showOptionDialog(null,\n                                     &quot;SELECT CALCULATION THAT YOU WANT TO PERFORM:&quot;, \n                                     &quot;SELECT CALCULATION&quot;, \n                                     JOptionPane.YES_NO_OPTION, \n                                     JOptionPane.QUESTION_MESSAGE, \n                                     null, \n                                     response, \n                                     null);\n\n        String numberInput1 = JOptionPane.showInputDialog(null, &quot;ENTER THE FIRST NUMBER:&quot;);\n        //Used the class String instead of the data type double because I will be using a String method in while condition\n            while (numberInput1.matches(&quot;[a-zA-Z]&quot;))\n            //Used regex here basically saying if numberInput1 does contain letter then start the loop until user inputs number\n            {\n                JOptionPane.showMessageDialog(null, &quot;Make sure to enter numbers ONLY&quot;, &quot;INVALID&quot;, JOptionPane.WARNING_MESSAGE);\n                //Shows warning message so user will know what the accepted input is\n                    numberInput1 = JOptionPane.showInputDialog(null, &quot;ENTER THE FIRST NUMBER:&quot;);\n            }\n\n        String numberInput2 = JOptionPane.showInputDialog(null, &quot;ENTER THE SECOND NUMBER:&quot;);\n        //Same reason as stated previously\n            while (numberInput2.matches(&quot;[a-zA-Z]&quot;)) {\n                JOptionPane.showMessageDialog(null, &quot;Make sure to enter numbers ONLY&quot;, &quot;INVALID&quot;, JOptionPane.WARNING_MESSAGE);\n                    numberInput2 = JOptionPane.showInputDialog(null, &quot;ENTER THE SECOND NUMBER:&quot;);\n            }\n\n        double firstNumber = Double.parseDouble(numberInput1);\n        double secondNumber = Double.parseDouble(numberInput2);\n        //Converts the numberInputs to double so Java will add numbers instead of String later\n\n        switch (selectCalculation)\n        //Used switches instead of if else because it will be a longer process if I used if else\n        {\n            case 1:\n                double sum = firstNumber + secondNumber;\n                JOptionPane.showMessageDialog(null, format.format(firstNumber) + &quot; and &quot; + format.format(secondNumber) + &quot; is equals to &quot; + format.format(sum), &quot;The sum of:&quot;, JOptionPane.INFORMATION_MESSAGE);\n                break;\n            case 2:\n                double difference = firstNumber - secondNumber;\n                JOptionPane.showMessageDialog(null, format.format(firstNumber) + &quot; and &quot; + format.format(secondNumber) + &quot; is equals to &quot; + format.format(difference), &quot;The difference of:&quot;, JOptionPane.INFORMATION_MESSAGE);\n                break;\n            case 3:\n                double product = firstNumber * secondNumber;\n                JOptionPane.showMessageDialog(null, format.format(firstNumber) + &quot; and &quot; + format.format(secondNumber) + &quot; is equals to &quot; + format.format(product), &quot;The product of:&quot;, JOptionPane.INFORMATION_MESSAGE);\n                break;\n            case 4:\n                double quotient = firstNumber / secondNumber;\n                JOptionPane.showMessageDialog(null, format.format(firstNumber) + &quot; and &quot; + format.format(secondNumber) + &quot; is equals to &quot; + format.format(quotient), &quot;The quotient of:&quot;, JOptionPane.INFORMATION_MESSAGE);\n                break;\n            case 5:\n                double remainder = firstNumber % secondNumber;\n                JOptionPane.showMessageDialog(null, format.format(firstNumber) + &quot; and &quot; + format.format(secondNumber) + &quot; is equals to &quot; + format.format(remainder), &quot;The remainder of:&quot;, JOptionPane.INFORMATION_MESSAGE);\n                break;    \n            default:\n                JOptionPane.showMessageDialog(null, &quot;MADE BY: GABRIEL POTAZO&quot;, &quot;CALCULATION CANCELLED&quot;,JOptionPane.ERROR_MESSAGE);\n                break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code","compiler-errors","homebrew","homebrew-cask"],"answers":[{"tags":[],"owner":{"account_id":14869803,"reputation":1329,"user_id":10737626,"display_name":"Nick the Community Scientist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642428894,"creation_date":1642428894,"answer_id":70742777,"question_id":70742776,"body_markdown":"**Solution:** \r\n\r\n 1. Open the folder in VS Code\r\n 2. Collapse the Java Projects Tab in the Explorer menu (make sure you have the [java language package extension][3] downloaded)\r\n 3. Click the three dots icon &#39;...&#39; which appears when you hover over the Java Projects area with your mouse.\r\n 4. Select &#39;Configure Java Runtime&#39;. A new tab will open.\r\n 5. On the Java Version column, select the pencil icon.\r\n 6. Open the dropdown menu and select a Java Version from the Java Virtual Machines folder instead of opt/Homebrew directories (it may be the same JDK from Homebrew using an alias, but VS Code expects the Virtual Machine folder and that is my theory in why this works).","title":"VS Code Java SDK Creates Project Errors on Default Components (Main Method, Double, String etc.)","body":"<p><strong>Solution:</strong></p>\n<ol>\n<li>Open the folder in VS Code</li>\n<li>Collapse the Java Projects Tab in the Explorer menu (make sure you have the [java language package extension][3] downloaded)</li>\n<li>Click the three dots icon '...' which appears when you hover over the Java Projects area with your mouse.</li>\n<li>Select 'Configure Java Runtime'. A new tab will open.</li>\n<li>On the Java Version column, select the pencil icon.</li>\n<li>Open the dropdown menu and select a Java Version from the Java Virtual Machines folder instead of opt/Homebrew directories (it may be the same JDK from Homebrew using an alias, but VS Code expects the Virtual Machine folder and that is my theory in why this works).</li>\n</ol>\n"}],"owner":{"account_id":14869803,"reputation":1329,"user_id":10737626,"display_name":"Nick the Community Scientist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70742777,"answer_count":1,"score":0,"last_activity_date":1642504110,"creation_date":1642428894,"question_id":70742776,"body_markdown":"**Environment:** I had a series of unexplainable errors on a macOS system running macOS Big Sur and while I was trying to run my application using [this guide from the official VS Code website][1]. \r\n\r\n**Issue:** Every time I opened a certainly working project in VS Code (tested in the IntelliJ IDE), it was full of errors like String is not a known class or main method not defined in class etc.\r\n\r\n**Understanding the Problem:** I quickly figured out that the issue has to do with the JDK being misconfigured, and now I had to figure out if the issue was in VS Code or Homebrew. The issue I suspected lied in VS Code and originated from my choice to use a JDK [downloaded and managed by the Homebrew package manager][2]. After verifying my Homebrew installation of the given cask and making sure system paths were set correctly, I was certain of the previously made assumption.\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-tutorial#_settings-for-the-jdk\r\n  [2]: https://formulae.brew.sh/formula/openjdk#default\r\n  [3]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack","title":"VS Code Java SDK Creates Project Errors on Default Components (Main Method, Double, String etc.)","body":"<p><strong>Environment:</strong> I had a series of unexplainable errors on a macOS system running macOS Big Sur and while I was trying to run my application using <a href=\"https://code.visualstudio.com/docs/java/java-tutorial#_settings-for-the-jdk\" rel=\"nofollow noreferrer\">this guide from the official VS Code website</a>.</p>\n<p><strong>Issue:</strong> Every time I opened a certainly working project in VS Code (tested in the IntelliJ IDE), it was full of errors like String is not a known class or main method not defined in class etc.</p>\n<p><strong>Understanding the Problem:</strong> I quickly figured out that the issue has to do with the JDK being misconfigured, and now I had to figure out if the issue was in VS Code or Homebrew. The issue I suspected lied in VS Code and originated from my choice to use a JDK <a href=\"https://formulae.brew.sh/formula/openjdk#default\" rel=\"nofollow noreferrer\">downloaded and managed by the Homebrew package manager</a>. After verifying my Homebrew installation of the given cask and making sure system paths were set correctly, I was certain of the previously made assumption.</p>\n"},{"tags":["java","maven","jacoco","maven-surefire-plugin","findbugs"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1642437926,"post_id":70744492,"comment_id":125065288,"body_markdown":"You are excluding a lot of stuff from dependencies, have you tried just keeping it in? \n    \n\nUsually in these cases the easiest thing to do is make a simplified version of the pom  and tweak that until it fails, then you know what has failed.    \n    \n\nAlso sometimes it&#39;s worth trying older versions.","body":"You are excluding a lot of stuff from dependencies, have you tried just keeping it in?        Usually in these cases the easiest thing to do is make a simplified version of the pom  and tweak that until it fails, then you know what has failed.           Also sometimes it&#39;s worth trying older versions."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1642440177,"post_id":70744492,"comment_id":125066121,"body_markdown":"You are excluding log4j-api in one dependency but adding it yourself ... That does not make sense...apart from that I would suggest to use a more recent version... furthermore excluding dependencies from plugins ? Why are you doing that? Also excluding junit-jupiter-api from mockito-junit-jupiter which does not make sense because you are using it... Also excluding things from `jacoco-maven-plugin` which does not make sense either because those dependencies (if they are really those) are needed by the plugin.. Why do you have `maven-plugin-api` as a dependency? Wrong!","body":"You are excluding log4j-api in one dependency but adding it yourself ... That does not make sense...apart from that I would suggest to use a more recent version... furthermore excluding dependencies from plugins ? Why are you doing that? Also excluding junit-jupiter-api from mockito-junit-jupiter which does not make sense because you are using it... Also excluding things from <code>jacoco-maven-plugin</code> which does not make sense either because those dependencies (if they are really those) are needed by the plugin.. Why do you have <code>maven-plugin-api</code> as a dependency? Wrong!"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1642440304,"post_id":70744492,"comment_id":125066173,"body_markdown":"Also other dependencies like `maven-assembly-plugin` doesn&#39;t make sense either ...furthermore using `maven-surefire-plugin` but excluding `*IT.java`which is the default ? Also adding a dependency `junit-platform-surefire-provider` which is wrong... There are so many things wrong...in particular if you are a beginner in Java you shouldn&#39;t simply add stuff to your pom file without know what you are doing there...","body":"Also other dependencies like <code>maven-assembly-plugin</code> doesn&#39;t make sense either ...furthermore using <code>maven-surefire-plugin</code> but excluding <code>*IT.java</code>which is the default ? Also adding a dependency <code>junit-platform-surefire-provider</code> which is wrong... There are so many things wrong...in particular if you are a beginner in Java you shouldn&#39;t simply add stuff to your pom file without know what you are doing there..."},{"owner":{"account_id":22824300,"reputation":21,"user_id":16973782,"display_name":"Azu"},"score":0,"creation_date":1642539545,"post_id":70744492,"comment_id":125096747,"body_markdown":"@khmarbaise Hi, Thank ou for your answer. Ive update my question. Thank&#39;s again for the help.","body":"@khmarbaise Hi, Thank ou for your answer. Ive update my question. Thank&#39;s again for the help."},{"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"score":0,"creation_date":1648555289,"post_id":70744492,"comment_id":126649036,"body_markdown":"You may have a look at my answer on [maven jacoco: not generating code coverage report](https://stackoverflow.com/questions/25395255/maven-jacoco-not-generating-code-coverage-report/71661614#71661614).","body":"You may have a look at my answer on <a href=\"https://stackoverflow.com/questions/25395255/maven-jacoco-not-generating-code-coverage-report/71661614#71661614\">maven jacoco: not generating code coverage report</a>."}],"owner":{"account_id":22824300,"reputation":21,"user_id":16973782,"display_name":"Azu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642504003,"creation_date":1642436769,"question_id":70744492,"body_markdown":" **Initial question :* &quot;I&#39;m a beginner in java programming and i&#39;m a bit lost.\r\nI&#39;ve issues with my current project. Indeed, I try to generate reports with the command mvn site but it seems that some reports are missing. I try to generate jacoco, surefire and findbugs report. How can I modify my build to generate these reports ?\r\nI link my pom.xml and the result.\r\nThank you in advance for your help.&quot;*\r\n\r\nThank you a lot for your answer. Ive modified my Pom following your advices.\r\nI still have issues. Here is my POM.xml.\r\nThank you again for your help.\r\nKind regards.\r\n\r\n \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.parkit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;parking-system&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;url&gt;D:/Workspace/parkingsystem/target/site/&lt;/url&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.22.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.8.7&lt;/version&gt;\r\n            &lt;type&gt;maven-plugin&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven/maven-plugin-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-math3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;archive&gt;\r\n                                &lt;manifest&gt;\r\n                                    &lt;mainClass&gt;\r\n                                        com.parkit.parkingsystem.App\r\n                                    &lt;/mainClass&gt;\r\n                                &lt;/manifest&gt;\r\n                            &lt;/archive&gt;\r\n                            &lt;descriptorRefs&gt;\r\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                            &lt;/descriptorRefs&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.21.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;integration-test&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;test&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;integration-test&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;none&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;**/*IT.java&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.7&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-report&lt;/id&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n        [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ---------------------&lt; com.parkit:parking-system &gt;----------------------\r\n    [INFO] Building parking-system 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-site-plugin:3.10.0:site (default-site) @ parking-system ---\r\n    [WARNING] Report plugin org.apache.maven.plugins:maven-project-info-reports-plugin has an empty version.\r\n    [WARNING]\r\n    [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n    [WARNING]\r\n    [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n    [INFO] configuring report plugin org.apache.maven.plugins:maven-project-info-reports-plugin:3.1.2\r\n    [INFO] 15 reports detected for maven-project-info-reports-plugin:3.1.2: ci-management, dependencies, dependency-info, dependency-management, distribution-management, index, issue-management, licenses, mailing\r\n    -lists, modules, plugin-management, plugins, scm, summary, team\r\n    [INFO] Rendering site with default locale English (en)\r\n    [INFO] Relativizing decoration links with respect to localized project URL: D:/Workspace/parkingsystem/target/site/\r\n    [INFO] Rendering content with org.apache.maven.skins:maven-default-skin:jar:1.3 skin.\r\n    [INFO] Generating &quot;Dependencies&quot; report  --- maven-project-info-reports-plugin:3.1.2:dependencies\r\n    [INFO] Unable to create Maven project from repository for artifact &#39;org.apache.maven:maven-artifact-manager:jar:2.0.2&#39;, for more information run with -X\r\n    [INFO] Unable to create Maven project from repository for artifact &#39;org.apache.maven.wagon:wagon-provider-api:jar:1.0-alpha-6&#39;, for more information run with -X\r\n    [INFO] Unable to create Maven project from repository for artifact &#39;org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-9&#39;, for more information run with -X\r\n    [INFO] Unable to create Maven project from repository for artifact &#39;org.apache.maven:maven-artifact-manager:jar:2.0.2&#39;, for more information run with -X\r\n    [INFO] Unable to create Maven project from repository for artifact &#39;org.apache.maven.wagon:wagon-provider-api:jar:1.0-alpha-6&#39;, for more information run with -X\r\n    [INFO] Unable to create Maven project from repository for artifact &#39;org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-9&#39;, for more information run with -X\r\n    [INFO] Generating &quot;Dependency Information&quot; report --- maven-project-info-reports-plugin:3.1.2:dependency-info\r\n    [INFO] Generating &quot;About&quot; report         --- maven-project-info-reports-plugin:3.1.2:index\r\n    [INFO] Generating &quot;Plugin Management&quot; report --- maven-project-info-reports-plugin:3.1.2:plugin-management\r\n    [INFO] Generating &quot;Plugins&quot; report       --- maven-project-info-reports-plugin:3.1.2:plugins\r\n    [INFO] Generating &quot;Summary&quot; report       --- maven-project-info-reports-plugin:3.1.2:summary\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  7.094 s\r\n    [INFO] Finished at: 2022-01-18T11:57:00+01:00\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nEXAMPLES OF ERRORS WHEN I RUN IN DEBUG MODE :\r\n\r\n2 problems were encountered while building the effective model for org.codehaus.plexus:plexus-container-default:1.0-alpha-9\r\n[WARNING] &#39;build.plugins.plugin.version&#39; for org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 13, column 15\r\n[ERROR] &#39;distributionManagement.status&#39; must not be specified. @ line 43, column 13\r\n\r\norg.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:\r\n[ERROR] &#39;distributionManagement.status&#39; must not be specified. @ line 43, column 13\r\n\r\n\r\n","title":"mvn reports does not generate jacoco/surefire/findbugs reports","body":"<p><em><em>Initial question :</em> &quot;I'm a beginner in java programming and i'm a bit lost.\nI've issues with my current project. Indeed, I try to generate reports with the command mvn site but it seems that some reports are missing. I try to generate jacoco, surefire and findbugs report. How can I modify my build to generate these reports ?\nI link my pom.xml and the result.\nThank you in advance for your help.&quot;</em></p>\n<p>Thank you a lot for your answer. Ive modified my Pom following your advices.\nI still have issues. Here is my POM.xml.\nThank you again for your help.\nKind regards.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0\ncom.parkit\nparking-system\n1.0-SNAPSHOT\njar</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;url&gt;D:/Workspace/parkingsystem/target/site/&lt;/url&gt;\n\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.17.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;version&gt;3.22.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.17.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.8.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.8.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;4.2.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.8.7&lt;/version&gt;\n        &lt;type&gt;maven-plugin&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.maven/maven-plugin-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n        &lt;version&gt;3.8.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-math3&lt;/artifactId&gt;\n        &lt;version&gt;3.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;\n                                    com.parkit.parkingsystem.App\n                                &lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                        &lt;descriptorRefs&gt;\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                        &lt;/descriptorRefs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.21.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;integration-test&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;integration-test&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;none&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;**/*IT.java&lt;/include&gt;\n                        &lt;/includes&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.8.7&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;jacoco-report&lt;/id&gt;\n                    &lt;phase&gt;test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<pre><code>    [INFO] Scanning for projects...\n[INFO] \n[INFO] ---------------------&lt; com.parkit:parking-system &gt;----------------------\n[INFO] Building parking-system 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-site-plugin:3.10.0:site (default-site) @ parking-system ---\n[WARNING] Report plugin org.apache.maven.plugins:maven-project-info-reports-plugin has an empty version.\n[WARNING]\n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING]\n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[INFO] configuring report plugin org.apache.maven.plugins:maven-project-info-reports-plugin:3.1.2\n[INFO] 15 reports detected for maven-project-info-reports-plugin:3.1.2: ci-management, dependencies, dependency-info, dependency-management, distribution-management, index, issue-management, licenses, mailing\n-lists, modules, plugin-management, plugins, scm, summary, team\n[INFO] Rendering site with default locale English (en)\n[INFO] Relativizing decoration links with respect to localized project URL: D:/Workspace/parkingsystem/target/site/\n[INFO] Rendering content with org.apache.maven.skins:maven-default-skin:jar:1.3 skin.\n[INFO] Generating &quot;Dependencies&quot; report  --- maven-project-info-reports-plugin:3.1.2:dependencies\n[INFO] Unable to create Maven project from repository for artifact 'org.apache.maven:maven-artifact-manager:jar:2.0.2', for more information run with -X\n[INFO] Unable to create Maven project from repository for artifact 'org.apache.maven.wagon:wagon-provider-api:jar:1.0-alpha-6', for more information run with -X\n[INFO] Unable to create Maven project from repository for artifact 'org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-9', for more information run with -X\n[INFO] Unable to create Maven project from repository for artifact 'org.apache.maven:maven-artifact-manager:jar:2.0.2', for more information run with -X\n[INFO] Unable to create Maven project from repository for artifact 'org.apache.maven.wagon:wagon-provider-api:jar:1.0-alpha-6', for more information run with -X\n[INFO] Unable to create Maven project from repository for artifact 'org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-9', for more information run with -X\n[INFO] Generating &quot;Dependency Information&quot; report --- maven-project-info-reports-plugin:3.1.2:dependency-info\n[INFO] Generating &quot;About&quot; report         --- maven-project-info-reports-plugin:3.1.2:index\n[INFO] Generating &quot;Plugin Management&quot; report --- maven-project-info-reports-plugin:3.1.2:plugin-management\n[INFO] Generating &quot;Plugins&quot; report       --- maven-project-info-reports-plugin:3.1.2:plugins\n[INFO] Generating &quot;Summary&quot; report       --- maven-project-info-reports-plugin:3.1.2:summary\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  7.094 s\n[INFO] Finished at: 2022-01-18T11:57:00+01:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>EXAMPLES OF ERRORS WHEN I RUN IN DEBUG MODE :</p>\n<p>2 problems were encountered while building the effective model for org.codehaus.plexus:plexus-container-default:1.0-alpha-9\n[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 13, column 15\n[ERROR] 'distributionManagement.status' must not be specified. @ line 43, column 13</p>\n<p>org.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:\n[ERROR] 'distributionManagement.status' must not be specified. @ line 43, column 13</p>\n"},{"tags":["java","loops","swing","joptionpane"],"comments":[{"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"score":0,"creation_date":1640606810,"post_id":70495185,"comment_id":124614147,"body_markdown":"Please, could you try to explain what you are trying to do? It looks like you are running into this issue for trying to apply a wrong solution to a business need. If you explain what you want to do may be we can point you to the correct solution. Because this code look inherently wrong. `data != data`  will always be false.","body":"Please, could you try to explain what you are trying to do? It looks like you are running into this issue for trying to apply a wrong solution to a business need. If you explain what you want to do may be we can point you to the correct solution. Because this code look inherently wrong. <code>data != data</code>  will always be false."}],"answers":[{"tags":[],"owner":{"account_id":12678603,"reputation":11,"user_id":9213255,"display_name":"Santiago G&#243;mez Vilar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640606711,"creation_date":1640606711,"answer_id":70495255,"question_id":70495185,"body_markdown":"If i undertand your answer, you are finding the &quot;continue&quot; function.  \r\n\r\nThis one breaks de for loop.\r\n\r\nhttps://www.w3schools.com/java/java_break.asp","title":"How do I stop the for loop or use the original data","body":"<p>If i undertand your answer, you are finding the &quot;continue&quot; function.</p>\n<p>This one breaks de for loop.</p>\n<p><a href=\"https://www.w3schools.com/java/java_break.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/java/java_break.asp</a></p>\n"},{"tags":[],"owner":{"account_id":20692183,"reputation":56,"user_id":17001958,"display_name":"Junaid Aslam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640607968,"creation_date":1640607968,"answer_id":70495491,"question_id":70495185,"body_markdown":"Create a local variable of name say not_found (int) and increment this found variable in else part instead of showing Dialog everytime.\r\n\r\nAfter end of for loop, check for found variable and display dialog box according to your requirements.\r\n\r\n    int not_found=0;\r\n    String name = JOptionPane.showInputDialog(null, &quot;Enter the Student name to \r\n    search:&quot;, &quot;Input&quot;, JOptionPane.QUESTION_MESSAGE);\r\n        String data = (&quot;Cannot find the student \\&quot;&quot; + name + &quot;\\&quot;!!&quot;); \r\n        for (int i = 0; i &lt; student.length; i++){    \r\n            if(name.equals(student[i].getName())){\r\n                data = (&quot;\\n Course \\t Admin# \\t Name \\n&quot; + student[i].getName() \r\n    + student[i].getAdminNum() + student[i].getCourse() + student[i].getGpa() + \r\n    student[i].getNewModule() + &quot;\\n&quot;);\r\n                JOptionPane.showMessageDialog(null, data, &quot;Message&quot;, \r\n    JOptionPane.INFORMATION_MESSAGE);\r\n            }\r\n            else{\r\n                 not_found++:\r\n            }\r\n\r\n    if(not_found!=0){\r\n    JOptionPane.showMessageDialog(null, data, \r\n    &quot;Message&quot;,OptionPane.ERROR_MESSAGE);\r\n    }\r\n","title":"How do I stop the for loop or use the original data","body":"<p>Create a local variable of name say not_found (int) and increment this found variable in else part instead of showing Dialog everytime.</p>\n<p>After end of for loop, check for found variable and display dialog box according to your requirements.</p>\n<pre><code>int not_found=0;\nString name = JOptionPane.showInputDialog(null, &quot;Enter the Student name to \nsearch:&quot;, &quot;Input&quot;, JOptionPane.QUESTION_MESSAGE);\n    String data = (&quot;Cannot find the student \\&quot;&quot; + name + &quot;\\&quot;!!&quot;); \n    for (int i = 0; i &lt; student.length; i++){    \n        if(name.equals(student[i].getName())){\n            data = (&quot;\\n Course \\t Admin# \\t Name \\n&quot; + student[i].getName() \n+ student[i].getAdminNum() + student[i].getCourse() + student[i].getGpa() + \nstudent[i].getNewModule() + &quot;\\n&quot;);\n            JOptionPane.showMessageDialog(null, data, &quot;Message&quot;, \nJOptionPane.INFORMATION_MESSAGE);\n        }\n        else{\n             not_found++:\n        }\n\nif(not_found!=0){\nJOptionPane.showMessageDialog(null, data, \n&quot;Message&quot;,OptionPane.ERROR_MESSAGE);\n}\n</code></pre>\n"}],"owner":{"account_id":22869357,"reputation":3,"user_id":17012606,"display_name":"Noob that needs help"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70495491,"answer_count":2,"score":0,"last_activity_date":1642503998,"creation_date":1640606351,"question_id":70495185,"body_markdown":"Sorry for my English, but how am I suppose to run the ERROR MESSAGE without repeating 3 times?\r\n\r\nThis is the original one, if I run the ERROR JOptionPane it will repeat 3 times\r\n```\r\nString name = JOptionPane.showInputDialog(null, &quot;Enter the Student name to search:&quot;, &quot;Input&quot;, JOptionPane.QUESTION_MESSAGE);\r\n        String data = (&quot;Cannot find the student \\&quot;&quot; + name + &quot;\\&quot;!!&quot;); \r\n        for (int i = 0; i &lt; student.length; i++){    \r\n            if(name.equals(student[i].getName())){\r\n                data = (&quot;\\n Course \\t Admin# \\t Name \\n&quot; + student[i].getName() + student[i].getAdminNum() + student[i].getCourse() + student[i].getGpa() + student[i].getNewModule() + &quot;\\n&quot;);\r\n                JOptionPane.showMessageDialog(null, data, &quot;Message&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n            }\r\n            Else{\r\n                 JOptionPane.showMessageDialog(null, data, &quot;Message&quot;, JOptionPane.ERROR_MESSAGE);\r\n            }\r\n```\r\n\r\nAnd this is the current one, which the if else statement is wrong as I couldn&#39;t read the original data\r\n\r\n```\r\nString name = JOptionPane.showInputDialog(null, &quot;Enter the Student name to search:&quot;, &quot;Input&quot;, JOptionPane.QUESTION_MESSAGE);\r\n        String data = (&quot;Cannot find the student \\&quot;&quot; + name + &quot;\\&quot;!!&quot;); \r\n        for (int i = 0; i &lt; student.length; i++){    \r\n            if(name.equals(student[i].getName())){\r\n                data = (&quot;\\n Course \\t Admin# \\t Name \\n&quot; + student[i].getName() + student[i].getAdminNum() + student[i].getCourse() + student[i].getGpa() + student[i].getNewModule() + &quot;\\n&quot;);\r\n            }\r\n        }\r\n        if(data != data){\r\n            JOptionPane.showMessageDialog(null, data, &quot;Message&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n        }\r\n        else {\r\n            JOptionPane.showMessageDialog(null, data, &quot;Message&quot;, JOptionPane.ERROR_MESSAGE);\r\n        }\r\n```\r\nI&#39;m so sorry if there is any misconception thinking passes to you all due to my broken English.","title":"How do I stop the for loop or use the original data","body":"<p>Sorry for my English, but how am I suppose to run the ERROR MESSAGE without repeating 3 times?</p>\n<p>This is the original one, if I run the ERROR JOptionPane it will repeat 3 times</p>\n<pre><code>String name = JOptionPane.showInputDialog(null, &quot;Enter the Student name to search:&quot;, &quot;Input&quot;, JOptionPane.QUESTION_MESSAGE);\n        String data = (&quot;Cannot find the student \\&quot;&quot; + name + &quot;\\&quot;!!&quot;); \n        for (int i = 0; i &lt; student.length; i++){    \n            if(name.equals(student[i].getName())){\n                data = (&quot;\\n Course \\t Admin# \\t Name \\n&quot; + student[i].getName() + student[i].getAdminNum() + student[i].getCourse() + student[i].getGpa() + student[i].getNewModule() + &quot;\\n&quot;);\n                JOptionPane.showMessageDialog(null, data, &quot;Message&quot;, JOptionPane.INFORMATION_MESSAGE);\n            }\n            Else{\n                 JOptionPane.showMessageDialog(null, data, &quot;Message&quot;, JOptionPane.ERROR_MESSAGE);\n            }\n</code></pre>\n<p>And this is the current one, which the if else statement is wrong as I couldn't read the original data</p>\n<pre><code>String name = JOptionPane.showInputDialog(null, &quot;Enter the Student name to search:&quot;, &quot;Input&quot;, JOptionPane.QUESTION_MESSAGE);\n        String data = (&quot;Cannot find the student \\&quot;&quot; + name + &quot;\\&quot;!!&quot;); \n        for (int i = 0; i &lt; student.length; i++){    \n            if(name.equals(student[i].getName())){\n                data = (&quot;\\n Course \\t Admin# \\t Name \\n&quot; + student[i].getName() + student[i].getAdminNum() + student[i].getCourse() + student[i].getGpa() + student[i].getNewModule() + &quot;\\n&quot;);\n            }\n        }\n        if(data != data){\n            JOptionPane.showMessageDialog(null, data, &quot;Message&quot;, JOptionPane.INFORMATION_MESSAGE);\n        }\n        else {\n            JOptionPane.showMessageDialog(null, data, &quot;Message&quot;, JOptionPane.ERROR_MESSAGE);\n        }\n</code></pre>\n<p>I'm so sorry if there is any misconception thinking passes to you all due to my broken English.</p>\n"},{"tags":["java","swing","joptionpane"],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641220034,"creation_date":1641220034,"answer_id":70567234,"question_id":70566824,"body_markdown":"***This code can help you with showOptionDialog :***\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n\r\n    import javax.swing.JButton;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n\r\n    public class CustomizedJOption {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t//Confirm button\r\n\t\tJButton btnYes = new JButton ( &quot;    OK    &quot;);\r\n\t\tbtnYes.setFont(new Font(&quot;young circle&quot;, Font.BOLD, 30));\r\n\t\tbtnYes.setForeground(Color.MAGENTA);\r\n\t\t//Negative button\r\n\t\tJButton btnNo = new JButton ( &quot;    No    &quot;);\r\n\t\tbtnNo.setFont(new Font(&quot;young circle&quot;, Font.ITALIC, 30));\r\n\t\tbtnNo.setForeground(Color.blue);\r\n\t\t//Add button options to the array\r\n\t\tObject [] options = {btnYes, btnNo} ;\r\n\t\t//text content\r\n\t\tJLabel label = new JLabel ( &quot;\\&quot;&#191;Desea salir de la aplicaci&#243;n?\\&quot;&quot;);\r\n\t\tlabel.setForeground(Color.BLUE);\r\n\t\tlabel.setFont(new Font(&quot;young circle&quot;, Font.ITALIC, 30));\r\n\t\t//Display Dialog\r\n\t\tJOptionPane .showOptionDialog(null, label, &quot;Title&quot;, JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE,\r\n\t\t                null, options, options[0]);\r\n\t}\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZR2Vo.png","title":"Increase button size in JOptionPane - Java","body":"<p><em><strong>This code can help you with showOptionDialog :</strong></em></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Font;\n\nimport javax.swing.JButton;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\n\npublic class CustomizedJOption {\n\npublic static void main(String[] args) {\n    //Confirm button\n    JButton btnYes = new JButton ( &quot;    OK    &quot;);\n    btnYes.setFont(new Font(&quot;young circle&quot;, Font.BOLD, 30));\n    btnYes.setForeground(Color.MAGENTA);\n    //Negative button\n    JButton btnNo = new JButton ( &quot;    No    &quot;);\n    btnNo.setFont(new Font(&quot;young circle&quot;, Font.ITALIC, 30));\n    btnNo.setForeground(Color.blue);\n    //Add button options to the array\n    Object [] options = {btnYes, btnNo} ;\n    //text content\n    JLabel label = new JLabel ( &quot;\\&quot;¿Desea salir de la aplicación?\\&quot;&quot;);\n    label.setForeground(Color.BLUE);\n    label.setFont(new Font(&quot;young circle&quot;, Font.ITALIC, 30));\n    //Display Dialog\n    JOptionPane .showOptionDialog(null, label, &quot;Title&quot;, JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE,\n                    null, options, options[0]);\n}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZR2Vo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZR2Vo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641274869,"creation_date":1641274869,"answer_id":70574480,"question_id":70566824,"body_markdown":"Another **functional** way to do this would be to indeed utilize the [JOptionPane#showOptionDialog()](https://docs.oracle.com/javase/7/docs/api/javax/swing/JOptionPane.html#showOptionDialog(java.awt.Component,%20java.lang.Object,%20java.lang.String,%20int,%20int,%20javax.swing.Icon,%20java.lang.Object[],%20java.lang.Object)) method (as already indicated) instead of the [JoptionPane#showConfirmDialog()](https://docs.oracle.com/javase/7/docs/api/javax/swing/JOptionPane.html#showConfirmDialog(java.awt.Component,%20java.lang.Object,%20java.lang.String,%20int,%20int)). The `showOptionDialog()` method allows you to have more than an ample number of custom buttons you might desire.\r\n\r\nI think the easiest way to customize the message area and the buttons text, color, and size is to use basic HTML strings instead of Plain Text strings. This is typical in message areas for all **JOptionPane** dialogs, You can even add small images to your text this way if you like. As far as I&#39;m concerned, it opens a whole new world of flexibility to how your Dialog boxes can be presented to the end User. If you really want to get down and dirty, create your own **JDialog** option window dialog to look and feel exactly the way you want.\r\n\r\nFor what you currently want to do (with custom buttons), the [JOptionPane#showOptionDialog()](https://docs.oracle.com/javase/7/docs/api/javax/swing/JOptionPane.html#showOptionDialog(java.awt.Component,%20java.lang.Object,%20java.lang.String,%20int,%20int,%20javax.swing.Icon,%20java.lang.Object[],%20java.lang.Object)) method would be enough, for example (in english):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is the code to display the above Confirmation Type dialog:\r\n\r\n    // The dialog box title\r\n    String title = &quot;Exit Application?&quot;; // HTML won&#39;t work here :(\r\n\r\n    // The dialog&#39;s Message area - Basic HTML can be used here. :)\r\n    String message = &quot;&lt;html&gt;&lt;font size=&#39;4&#39;&gt;Are you Sure&quot;\r\n            + &quot; you want to exit this application?&lt;/font&gt;&lt;br&gt;&lt;br&gt;&lt;center&gt;&quot;\r\n            + &quot;&lt;font size=&#39;5&#39;,color=blue&gt;&lt;b&gt;My Application Name&lt;/b&gt;&quot;\r\n            + &quot;&lt;/font&gt;&lt;/center&gt;&lt;br&gt;&lt;/html&gt;&quot;;\r\n        \r\n    /* The desired buttons for the dialog Box. - Basic HTML can be used here. :)\r\n       The buttons are automatically sized based on the font size of the text \r\n       applied to the button Text (caption).        */\r\n    String[] optionButtons = {\r\n        // The YES Button.\r\n        &quot;&lt;html&gt;&lt;font size=&#39;5&#39;,color=red&gt;&amp;nbsp;&amp;nbsp; Yes &amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;br&gt;&quot;\r\n        + &quot;&lt;center&gt;&lt;font size=&#39;1&#39;,color=gray&gt;....&lt;/font&gt;&lt;/center&lt;/html&quot;,\r\n        // The NO button.\r\n        &quot;&lt;html&gt;&lt;font size=&#39;5&#39;&gt;No! Not Now&lt;/font&gt;&lt;br&gt;&quot;\r\n        + &quot;&lt;center&gt;&lt;font size=&#39;1&#39;,color=gray&gt;....&lt;/font&gt;&lt;/center&lt;/html&quot;,\r\n        // The NOT SURE button. :)\r\n        &quot;&lt;html&gt;&lt;font size=&#39;5&#39;&gt;Well, Not Sure ◔̯◔&lt;/font&gt;&lt;br&gt;&quot;\r\n        + &quot;&lt;center&gt;&lt;font size=&#39;2&#39;&gt;(I think)&lt;/font&gt;&lt;/center&lt;/html&quot;};\r\n        \r\n    // Display the JOptionPane dialog.\r\n    /* The Swing Component that will be parent for this Dialog.\r\n       Use &#39;this&#39; if the class this code is run in an extend JFrame.\r\n       If the code is run through an action event of a JButton \r\n       then just provide the variable name for that button. If\r\n       worse comes to worse...just supply: null.        */\r\n    java.awt.Component comp = (java.awt.Component) null;\r\n        \r\n    int result = JOptionPane.showOptionDialog(comp, message, title,\r\n                 int result = JOptionPane.showOptionDialog(comp, message, title,\r\n                 JOptionPane.DEFAULT_OPTION,   // Button Options - DEFAULT_OPTION - moot here.\r\n                 JOptionPane.QUESTION_MESSAGE, // The internal image to use.\r\n                 null,                         // No custom icon\r\n                 optionButtons,                // Button Captions (Text)\r\n                 optionButtons[1]              // Default focused button - NO is made to have default focus.\r\n             );\r\n    switch (result) {\r\n        // Yes button selected\r\n        case 0:\r\n            System.out.println(&quot;You selected: Yes! Please&quot;);\r\n            break;\r\n        // No button selected\r\n        case 1:\r\n            System.out.println(&quot;You selected: No! Not now.&quot;);\r\n            break;\r\n        // Don&#39;t Know button selected\r\n        case 2:\r\n            // Just a little decision making between Yes and No.\r\n            while (result == 2) {\r\n                result = new java.util.Random().nextInt(2);\r\n                System.out.println(result);\r\n            }\r\n            // Display the Decision _ Ternary Operator used here.\r\n            System.out.println(&quot;You selected: Well, Not Sure - Decided this one for you, &quot; +\r\n                              (result == 0 ? &quot;Yes selected!&quot; : \r\n                               result == 1 ? &quot;No Sselected!&quot; : \r\n                               &quot;Dialog Canceled (Closed)&quot;));\r\n            break;\r\n        // Dialog simply closed from title bar.\r\n        default:\r\n            System.out.println(&quot;None selected - Dialog Canceled (Closed)&quot;);\r\n    }\r\n\r\nIn the above code, the **JOptionPane** actually returns the **index** value of the button selected within the dialog and the dialog is properly closed upon that button selection (as it should be).\r\n\r\n----------\r\n\r\n**About the HTML tags used in the code above:**\r\n\r\nWhen using HTML strings you need to always start the string with the `&lt;html&gt;` and end the overall string with the closing `&lt;/html&gt;` tag.\r\n\r\n[`&lt;br&gt;`](https://www.quackit.com/html/html_4/tags/html_br_tag.cfm)\r\n   tag. \r\n[`&lt;b&gt;` and `&lt;/b&gt;`](https://www.quackit.com/html/html_4/tags/html_b_tag.cfm) tags.\r\n\r\n[`&lt;u&gt;` and `&lt;/u&gt;`](https://www.quackit.com/html/html_4/tags/html_u_tag.cfm) tags.\r\n\r\n[`&lt;font&gt;` and\r\n   `&lt;/font&gt;`](https://www.quackit.com/html/html_4/tags/html_font_tag.cfm)\r\n   tags.\r\n\r\n[`&lt;center&gt; and &lt;/center&gt;`](https://www.quackit.com/html/html_4/tags/html_center_tag.cfm) tags.\r\n\r\n[`&amp;nbsp;`](https://www.w3schools.com/html/html_entities.asp) - Entity - A Non-Breaking Space.\r\n\r\nThere is a lot you can do to spice up your Message Boxes and text in *certain* swing components like **JLabels** and **JButtons**, etc (including ToolTips) by using HTML.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eMguC.png","title":"Increase button size in JOptionPane - Java","body":"<p>Another <strong>functional</strong> way to do this would be to indeed utilize the <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JOptionPane.html#showOptionDialog(java.awt.Component,%20java.lang.Object,%20java.lang.String,%20int,%20int,%20javax.swing.Icon,%20java.lang.Object%5B%5D,%20java.lang.Object)\" rel=\"nofollow noreferrer\">JOptionPane#showOptionDialog()</a> method (as already indicated) instead of the <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JOptionPane.html#showConfirmDialog(java.awt.Component,%20java.lang.Object,%20java.lang.String,%20int,%20int)\" rel=\"nofollow noreferrer\">JoptionPane#showConfirmDialog()</a>. The <code>showOptionDialog()</code> method allows you to have more than an ample number of custom buttons you might desire.</p>\n<p>I think the easiest way to customize the message area and the buttons text, color, and size is to use basic HTML strings instead of Plain Text strings. This is typical in message areas for all <strong>JOptionPane</strong> dialogs, You can even add small images to your text this way if you like. As far as I'm concerned, it opens a whole new world of flexibility to how your Dialog boxes can be presented to the end User. If you really want to get down and dirty, create your own <strong>JDialog</strong> option window dialog to look and feel exactly the way you want.</p>\n<p>For what you currently want to do (with custom buttons), the <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JOptionPane.html#showOptionDialog(java.awt.Component,%20java.lang.Object,%20java.lang.String,%20int,%20int,%20javax.swing.Icon,%20java.lang.Object%5B%5D,%20java.lang.Object)\" rel=\"nofollow noreferrer\">JOptionPane#showOptionDialog()</a> method would be enough, for example (in english):</p>\n<p><a href=\"https://i.stack.imgur.com/eMguC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eMguC.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code to display the above Confirmation Type dialog:</p>\n<pre><code>// The dialog box title\nString title = &quot;Exit Application?&quot;; // HTML won't work here :(\n\n// The dialog's Message area - Basic HTML can be used here. :)\nString message = &quot;&lt;html&gt;&lt;font size='4'&gt;Are you Sure&quot;\n        + &quot; you want to exit this application?&lt;/font&gt;&lt;br&gt;&lt;br&gt;&lt;center&gt;&quot;\n        + &quot;&lt;font size='5',color=blue&gt;&lt;b&gt;My Application Name&lt;/b&gt;&quot;\n        + &quot;&lt;/font&gt;&lt;/center&gt;&lt;br&gt;&lt;/html&gt;&quot;;\n    \n/* The desired buttons for the dialog Box. - Basic HTML can be used here. :)\n   The buttons are automatically sized based on the font size of the text \n   applied to the button Text (caption).        */\nString[] optionButtons = {\n    // The YES Button.\n    &quot;&lt;html&gt;&lt;font size='5',color=red&gt;&amp;nbsp;&amp;nbsp; Yes &amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;br&gt;&quot;\n    + &quot;&lt;center&gt;&lt;font size='1',color=gray&gt;....&lt;/font&gt;&lt;/center&lt;/html&quot;,\n    // The NO button.\n    &quot;&lt;html&gt;&lt;font size='5'&gt;No! Not Now&lt;/font&gt;&lt;br&gt;&quot;\n    + &quot;&lt;center&gt;&lt;font size='1',color=gray&gt;....&lt;/font&gt;&lt;/center&lt;/html&quot;,\n    // The NOT SURE button. :)\n    &quot;&lt;html&gt;&lt;font size='5'&gt;Well, Not Sure ◔̯◔&lt;/font&gt;&lt;br&gt;&quot;\n    + &quot;&lt;center&gt;&lt;font size='2'&gt;(I think)&lt;/font&gt;&lt;/center&lt;/html&quot;};\n    \n// Display the JOptionPane dialog.\n/* The Swing Component that will be parent for this Dialog.\n   Use 'this' if the class this code is run in an extend JFrame.\n   If the code is run through an action event of a JButton \n   then just provide the variable name for that button. If\n   worse comes to worse...just supply: null.        */\njava.awt.Component comp = (java.awt.Component) null;\n    \nint result = JOptionPane.showOptionDialog(comp, message, title,\n             int result = JOptionPane.showOptionDialog(comp, message, title,\n             JOptionPane.DEFAULT_OPTION,   // Button Options - DEFAULT_OPTION - moot here.\n             JOptionPane.QUESTION_MESSAGE, // The internal image to use.\n             null,                         // No custom icon\n             optionButtons,                // Button Captions (Text)\n             optionButtons[1]              // Default focused button - NO is made to have default focus.\n         );\nswitch (result) {\n    // Yes button selected\n    case 0:\n        System.out.println(&quot;You selected: Yes! Please&quot;);\n        break;\n    // No button selected\n    case 1:\n        System.out.println(&quot;You selected: No! Not now.&quot;);\n        break;\n    // Don't Know button selected\n    case 2:\n        // Just a little decision making between Yes and No.\n        while (result == 2) {\n            result = new java.util.Random().nextInt(2);\n            System.out.println(result);\n        }\n        // Display the Decision _ Ternary Operator used here.\n        System.out.println(&quot;You selected: Well, Not Sure - Decided this one for you, &quot; +\n                          (result == 0 ? &quot;Yes selected!&quot; : \n                           result == 1 ? &quot;No Sselected!&quot; : \n                           &quot;Dialog Canceled (Closed)&quot;));\n        break;\n    // Dialog simply closed from title bar.\n    default:\n        System.out.println(&quot;None selected - Dialog Canceled (Closed)&quot;);\n}\n</code></pre>\n<p>In the above code, the <strong>JOptionPane</strong> actually returns the <strong>index</strong> value of the button selected within the dialog and the dialog is properly closed upon that button selection (as it should be).</p>\n<hr />\n<p><strong>About the HTML tags used in the code above:</strong></p>\n<p>When using HTML strings you need to always start the string with the <code>&lt;html&gt;</code> and end the overall string with the closing <code>&lt;/html&gt;</code> tag.</p>\n<p><a href=\"https://www.quackit.com/html/html_4/tags/html_br_tag.cfm\" rel=\"nofollow noreferrer\"><code>&lt;br&gt;</code></a>\ntag.\n<a href=\"https://www.quackit.com/html/html_4/tags/html_b_tag.cfm\" rel=\"nofollow noreferrer\"><code>&lt;b&gt;</code> and <code>&lt;/b&gt;</code></a> tags.</p>\n<p><a href=\"https://www.quackit.com/html/html_4/tags/html_u_tag.cfm\" rel=\"nofollow noreferrer\"><code>&lt;u&gt;</code> and <code>&lt;/u&gt;</code></a> tags.</p>\n<p><a href=\"https://www.quackit.com/html/html_4/tags/html_font_tag.cfm\" rel=\"nofollow noreferrer\"><code>&lt;font&gt;</code> and\n<code>&lt;/font&gt;</code></a>\ntags.</p>\n<p><a href=\"https://www.quackit.com/html/html_4/tags/html_center_tag.cfm\" rel=\"nofollow noreferrer\"><code>&lt;center&gt; and &lt;/center&gt;</code></a> tags.</p>\n<p><a href=\"https://www.w3schools.com/html/html_entities.asp\" rel=\"nofollow noreferrer\"><code>&amp;nbsp;</code></a> - Entity - A Non-Breaking Space.</p>\n<p>There is a lot you can do to spice up your Message Boxes and text in <em>certain</em> swing components like <strong>JLabels</strong> and <strong>JButtons</strong>, etc (including ToolTips) by using HTML.</p>\n"}],"owner":{"account_id":9620824,"reputation":144,"user_id":7142138,"display_name":"omaza1990"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70574480,"answer_count":2,"score":1,"last_activity_date":1642503902,"creation_date":1641218148,"question_id":70566824,"body_markdown":"I would like to increase the `button` size of a `JOptionePane`. The code for the `JOptionPane` of the `button` is:\r\n\r\n             addWindowListener(new java.awt.event.WindowAdapter() {\r\n                @Override\r\n                public void windowClosing(java.awt.event.WindowEvent evt) {\r\n                    if (JOptionPane.showConfirmDialog(rootPane, &quot;&#191;Desea salir de la aplicaci&#243;n?&quot;,\r\n                            &quot;Gestor de clientes&quot;, JOptionPane.ERROR_MESSAGE) == JOptionPane.ERROR_MESSAGE) {\r\n                        dispose();\r\n                        Login login = new Login();\r\n                        login.setVisible(true);\r\n                    }\r\n                }\r\n            });\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pnEBo.png\r\n\r\n\r\nHow can I increase the font of the text and the size of the `button`?","title":"Increase button size in JOptionPane - Java","body":"<p>I would like to increase the <code>button</code> size of a <code>JOptionePane</code>. The code for the <code>JOptionPane</code> of the <code>button</code> is:</p>\n<pre><code>         addWindowListener(new java.awt.event.WindowAdapter() {\n            @Override\n            public void windowClosing(java.awt.event.WindowEvent evt) {\n                if (JOptionPane.showConfirmDialog(rootPane, &quot;¿Desea salir de la aplicación?&quot;,\n                        &quot;Gestor de clientes&quot;, JOptionPane.ERROR_MESSAGE) == JOptionPane.ERROR_MESSAGE) {\n                    dispose();\n                    Login login = new Login();\n                    login.setVisible(true);\n                }\n            }\n        });\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pnEBo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pnEBo.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I increase the font of the text and the size of the <code>button</code>?</p>\n"},{"tags":["java","image","swing","joptionpane","imageicon"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1641643007,"post_id":70631236,"comment_id":124860915,"body_markdown":"To put it simply...The image file can not be found, has the wrong path, or file name, or is corrupt. Is the directory your image is in actually named `Images` or is it named `images` (all lower letter case). Try to use the actual full path to the image and see if that works. The `new ImageIcon(&quot;somefile&quot;)` does NOT throw an Exeception if it can&#39;t find the file, it just returns null. [Give this SO Post a thorough read](https://stackoverflow.com/questions/38901893/what-happens-when-a-path-for-imageiconstring-is-invalid-java)","body":"To put it simply...The image file can not be found, has the wrong path, or file name, or is corrupt. Is the directory your image is in actually named <code>Images</code> or is it named <code>images</code> (all lower letter case). Try to use the actual full path to the image and see if that works. The <code>new ImageIcon(&quot;somefile&quot;)</code> does NOT throw an Exeception if it can&#39;t find the file, it just returns null. <a href=\"https://stackoverflow.com/questions/38901893/what-happens-when-a-path-for-imageiconstring-is-invalid-java\">Give this SO Post a thorough read</a>"}],"answers":[{"tags":[],"owner":{"account_id":16631244,"reputation":1,"user_id":12019049,"display_name":"Ous Mass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641836885,"creation_date":1641652199,"answer_id":70633291,"question_id":70631236,"body_markdown":"Your code is working for me, please make sure the `name` or `path` to the image is correct.\r\n\r\n[Click to view the screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SYh8z.png","title":"JOptionPane does not show the icon, why?","body":"<p>Your code is working for me, please make sure the <code>name</code> or <code>path</code> to the image is correct.</p>\n<p><a href=\"https://i.stack.imgur.com/SYh8z.png\" rel=\"nofollow noreferrer\">Click to view the screenshot</a></p>\n"}],"owner":{"account_id":17934594,"reputation":31,"user_id":13031168,"display_name":"RedRabbit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642503618,"creation_date":1641635649,"question_id":70631236,"body_markdown":"I could not see the icon with those lines of codes, although it should work.\r\nThe code is the following:\r\n```\r\n\timport java.awt.Image;\r\n\t\r\n\timport javax.swing.ImageIcon;\r\n\timport javax.swing.JOptionPane;\r\n\t\r\n\tpublic class IconOfDialog {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\r\n\t\t\tImageIcon orignalIcon = new ImageIcon(&quot;/Images/icons8-ok-100.png&quot;);\r\n\t\t\tImage iconImage = orignalIcon.getImage().getScaledInstance(20, 20, java.awt.Image.SCALE_SMOOTH);\r\n\t\t\tImageIcon okIcon = new ImageIcon(iconImage);\r\n\t\t\t\r\n\t\t\tJOptionPane.showConfirmDialog(null, &quot;Successfully connect to the database&quot;,\r\n\t\t\t\t\t\t\t\t&quot;Successful Connection&quot;, JOptionPane.DEFAULT_OPTION, JOptionPane.INFORMATION_MESSAGE, okIcon);\r\n\t\t}\r\n\t\r\n\t}\r\n```\r\nResult with no exceptions:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KT9IA.png","title":"JOptionPane does not show the icon, why?","body":"<p>I could not see the icon with those lines of codes, although it should work.\nThe code is the following:</p>\n<pre><code>    import java.awt.Image;\n    \n    import javax.swing.ImageIcon;\n    import javax.swing.JOptionPane;\n    \n    public class IconOfDialog {\n    \n        public static void main(String[] args) {\n    \n            ImageIcon orignalIcon = new ImageIcon(&quot;/Images/icons8-ok-100.png&quot;);\n            Image iconImage = orignalIcon.getImage().getScaledInstance(20, 20, java.awt.Image.SCALE_SMOOTH);\n            ImageIcon okIcon = new ImageIcon(iconImage);\n            \n            JOptionPane.showConfirmDialog(null, &quot;Successfully connect to the database&quot;,\n                                &quot;Successful Connection&quot;, JOptionPane.DEFAULT_OPTION, JOptionPane.INFORMATION_MESSAGE, okIcon);\n        }\n    \n    }\n</code></pre>\n<p>Result with no exceptions:</p>\n<p><img src=\"https://i.stack.imgur.com/KT9IA.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","gradle","testng","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642503084,"creation_date":1642503084,"answer_id":70754350,"question_id":70748501,"body_markdown":"Try this:\r\n\r\n```\r\n test {\r\n     useTestNG() {\r\n         listeners &lt;&lt; &#39;your.package.name.CustomListener&#39;\r\n     }\r\n }\r\n\r\n```\r\n\r\n---\r\n\r\n__Reference__\r\n\r\nhttps://www.seleniumeasy.com/testng-tutorials/using-testng-with-gradle","title":"TestNG add custom Listeners to build.gradle","body":"<p>Try this:</p>\n<pre><code> test {\n     useTestNG() {\n         listeners &lt;&lt; 'your.package.name.CustomListener'\n     }\n }\n\n</code></pre>\n<hr />\n<p><strong>Reference</strong></p>\n<p><a href=\"https://www.seleniumeasy.com/testng-tutorials/using-testng-with-gradle\" rel=\"nofollow noreferrer\">https://www.seleniumeasy.com/testng-tutorials/using-testng-with-gradle</a></p>\n"}],"owner":{"account_id":15172366,"reputation":81,"user_id":10948034,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1042,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642503084,"creation_date":1642460476,"question_id":70748501,"body_markdown":"Is there a way to provide your own custom listener for testng using the build.gradle file? For example: \r\n\r\n```\r\nuseTestNG() {\r\n  addTestListener(new CustomListener)\r\n}\r\n```\r\n\r\nCustomListener is defined as this in the project:\r\n\r\n```\r\npublic class CustomListener implements IInvokedMethodListener\r\n```\r\nWe don&#39;t want to have to rely on adding the `@Listener` annotation to each of our test classes to use our listeners. ","title":"TestNG add custom Listeners to build.gradle","body":"<p>Is there a way to provide your own custom listener for testng using the build.gradle file? For example:</p>\n<pre><code>useTestNG() {\n  addTestListener(new CustomListener)\n}\n</code></pre>\n<p>CustomListener is defined as this in the project:</p>\n<pre><code>public class CustomListener implements IInvokedMethodListener\n</code></pre>\n<p>We don't want to have to rely on adding the <code>@Listener</code> annotation to each of our test classes to use our listeners.</p>\n"},{"tags":["java","random","thread-safety"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1642503743,"post_id":70754339,"comment_id":125082506,"body_markdown":"Note that the API documentation does not say that it is literally implemented like this. It says: &quot;...implemented *as if by a threadsafe version of the following*&quot;. The code shown shows how it functions, but not exactly how it is actually implemented. Thread-safety has been omitted from the example code.","body":"Note that the API documentation does not say that it is literally implemented like this. It says: &quot;...implemented <i>as if by a threadsafe version of the following</i>&quot;. The code shown shows how it functions, but not exactly how it is actually implemented. Thread-safety has been omitted from the example code."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1642503903,"post_id":70754339,"comment_id":125082569,"body_markdown":"In the real code (java 11), `nextGaussian` is a `synchronized` method.  That&#39;s how it gets thread-safety.","body":"In the real code (java 11), <code>nextGaussian</code> is a <code>synchronized</code> method.  That&#39;s how it gets thread-safety."},{"owner":{"account_id":13767803,"reputation":598,"user_id":9936023,"display_name":"Challe"},"score":0,"creation_date":1642504531,"post_id":70754339,"comment_id":125082860,"body_markdown":"Yeah I checked  the implementation on openjdks github but totally missed the `synchronized` keyword. @StephenC You should probably make your comment into an answer.","body":"Yeah I checked  the implementation on openjdks github but totally missed the <code>synchronized</code> keyword. @StephenC You should probably make your comment into an answer."}],"owner":{"account_id":13767803,"reputation":598,"user_id":9936023,"display_name":"Challe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642503017,"creation_date":1642503017,"question_id":70754339,"body_markdown":"According to the [Java documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html#nextGaussian()) the `nextGaussian` mehtod is implemented as:\r\n```java\r\n private double nextNextGaussian;\r\n private boolean haveNextNextGaussian = false;\r\n\r\n public double nextGaussian() {\r\n   if (haveNextNextGaussian) {\r\n     haveNextNextGaussian = false;\r\n     return nextNextGaussian;\r\n   } else {\r\n     double v1, v2, s;\r\n     do {\r\n       v1 = 2 * nextDouble() - 1;   // between -1.0 and 1.0\r\n       v2 = 2 * nextDouble() - 1;   // between -1.0 and 1.0\r\n       s = v1 * v1 + v2 * v2;\r\n     } while (s &gt;= 1 || s == 0);\r\n     double multiplier = StrictMath.sqrt(-2 * StrictMath.log(s)/s);\r\n     nextNextGaussian = v2 * multiplier;\r\n     haveNextNextGaussian = true;\r\n     return v1 * multiplier;\r\n   }\r\n }\r\n```\r\nHow can it be guaranteed to be thread safe when the `haveNextNextGaussian` isn&#39;t atomic? Wouldn&#39;t it be possible for 2 threads to call the function at the same time so that both threads read `haveNextNextGaussian` as `true` and then both would set it to `false` and effectively returning the same value on both threads?","title":"How does java.util.Random guarantee thread safety on the nextGaussian method?","body":"<p>According to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html#nextGaussian()\" rel=\"nofollow noreferrer\">Java documentation</a> the <code>nextGaussian</code> mehtod is implemented as:</p>\n<pre class=\"lang-java prettyprint-override\"><code> private double nextNextGaussian;\n private boolean haveNextNextGaussian = false;\n\n public double nextGaussian() {\n   if (haveNextNextGaussian) {\n     haveNextNextGaussian = false;\n     return nextNextGaussian;\n   } else {\n     double v1, v2, s;\n     do {\n       v1 = 2 * nextDouble() - 1;   // between -1.0 and 1.0\n       v2 = 2 * nextDouble() - 1;   // between -1.0 and 1.0\n       s = v1 * v1 + v2 * v2;\n     } while (s &gt;= 1 || s == 0);\n     double multiplier = StrictMath.sqrt(-2 * StrictMath.log(s)/s);\n     nextNextGaussian = v2 * multiplier;\n     haveNextNextGaussian = true;\n     return v1 * multiplier;\n   }\n }\n</code></pre>\n<p>How can it be guaranteed to be thread safe when the <code>haveNextNextGaussian</code> isn't atomic? Wouldn't it be possible for 2 threads to call the function at the same time so that both threads read <code>haveNextNextGaussian</code> as <code>true</code> and then both would set it to <code>false</code> and effectively returning the same value on both threads?</p>\n"},{"tags":["java","algorithm","hash","hashcode"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1642503222,"post_id":70754234,"comment_id":125082285,"body_markdown":"What about first decode the base64 string to get the data bits. If you are lucky there are less or equal data bits than the bits you can afford for your ID (You never mentioned how many bits your unique id should have).","body":"What about first decode the base64 string to get the data bits. If you are lucky there are less or equal data bits than the bits you can afford for your ID (You never mentioned how many bits your unique id should have)."},{"owner":{"account_id":3918263,"reputation":404,"user_id":3241554,"display_name":"sagar verma"},"score":0,"creation_date":1642503667,"post_id":70754234,"comment_id":125082472,"body_markdown":"Actually, My Base64 string is combination of BTS_+some_ID+_seq-no. Hence I cannot use the decoded form of it.  Also, My requirement of unique id length is 10 digit fixed.","body":"Actually, My Base64 string is combination of BTS_+some_ID+_seq-no. Hence I cannot use the decoded form of it.  Also, My requirement of unique id length is 10 digit fixed."},{"owner":{"display_name":"user1196549"},"score":1,"creation_date":1642504670,"post_id":70754234,"comment_id":125082926,"body_markdown":"What is the length of the hash ? What is the range of possible characters ?","body":"What is the length of the hash ? What is the range of possible characters ?"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1642504986,"post_id":70754234,"comment_id":125083051,"body_markdown":"Looks like in your example the Base64 part is an 10 digit number (represented as a string) (MDEyMzQ1Njc4OQ==_1 -&gt; &quot;0123456789&quot;) Is it just a test example or is it always a string representation of a 10 digit base 10 number?","body":"Looks like in your example the Base64 part is an 10 digit number (represented as a string) (MDEyMzQ1Njc4OQ==_1 -&gt; &quot;0123456789&quot;) Is it just a test example or is it always a string representation of a 10 digit base 10 number?"},{"owner":{"account_id":3918263,"reputation":404,"user_id":3241554,"display_name":"sagar verma"},"score":0,"creation_date":1642505127,"post_id":70754234,"comment_id":125083104,"body_markdown":"I want to store hash function result in an integer variable. Length of hash value  should be 10. There should not be any character in hash value. However in input, we have alphanumeric string with special characters.","body":"I want to store hash function result in an integer variable. Length of hash value  should be 10. There should not be any character in hash value. However in input, we have alphanumeric string with special characters."},{"owner":{"account_id":3918263,"reputation":404,"user_id":3241554,"display_name":"sagar verma"},"score":0,"creation_date":1642505231,"post_id":70754234,"comment_id":125083148,"body_markdown":"@MrSmith42, Yes it is an example. That number can be any 8-10 digit number in my decoded string.","body":"@MrSmith42, Yes it is an example. That number can be any 8-10 digit number in my decoded string."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1642505754,"post_id":70754234,"comment_id":125083319,"body_markdown":"Did you consider `&quot;BTS_MDEyMzQ1Njc4OQ==_1&quot;.hashCode()` ?","body":"Did you consider <code>&quot;BTS_MDEyMzQ1Njc4OQ==_1&quot;.hashCode()</code> ?"},{"owner":{"account_id":3918263,"reputation":404,"user_id":3241554,"display_name":"sagar verma"},"score":0,"creation_date":1642506488,"post_id":70754234,"comment_id":125083592,"body_markdown":"@c0der, Yes. However using `hashCode()` method, the length varies from 7 to 11 digit number based on the input decoded string.","body":"@c0der, Yes. However using <code>hashCode()</code> method, the length varies from 7 to 11 digit number based on the input decoded string."},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1642507793,"post_id":70754234,"comment_id":125084113,"body_markdown":"Did you consider `(&quot;BTS_MDEyMzQ1Njc4OQ==_1&quot;.hashCode() ) % 10000000000`  ? How bad collisions are should still be checked.","body":"Did you consider <code>(&quot;BTS_MDEyMzQ1Njc4OQ==_1&quot;.hashCode() ) % 10000000000</code>  ? How bad collisions are should still be checked."}],"owner":{"account_id":3918263,"reputation":404,"user_id":3241554,"display_name":"sagar verma"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642502664,"creation_date":1642502664,"question_id":70754234,"body_markdown":"I will need to generate one unique id with all digits, using some hashing algorithm. Currently I am having some base64 encoded id like &quot;BTS_MDEyMzQ1Njc4OQ==_1&quot;. I wanted to generate the unique-id using this string. \r\nI have used the below algorithm to generate, however it does not look very promising. There are many chances that the duplicate id number can be generated as unique-id using this algorithm.\r\nRef: https://opendsa-server.cs.vt.edu/ODSA/Books/CS3/html/HashFuncExamp.html\r\n\r\n    static int hashing(String x) {\r\n        char ch[];\r\n        ch = x.toCharArray();\r\n        int xlength = x.length();\r\n\r\n        int i, sum;\r\n        for (sum=0, i=0; i &lt; x.length(); i++) {\r\n            sum += ch[i];\r\n        }\r\n        return sum;\r\n    }\r\n\r\nCan someone please suggest if there is easy simple solution available. ","title":"custom hashing algorithm to generate unique id using some alphanumeric string","body":"<p>I will need to generate one unique id with all digits, using some hashing algorithm. Currently I am having some base64 encoded id like &quot;BTS_MDEyMzQ1Njc4OQ==_1&quot;. I wanted to generate the unique-id using this string.\nI have used the below algorithm to generate, however it does not look very promising. There are many chances that the duplicate id number can be generated as unique-id using this algorithm.\nRef: <a href=\"https://opendsa-server.cs.vt.edu/ODSA/Books/CS3/html/HashFuncExamp.html\" rel=\"nofollow noreferrer\">https://opendsa-server.cs.vt.edu/ODSA/Books/CS3/html/HashFuncExamp.html</a></p>\n<pre><code>static int hashing(String x) {\n    char ch[];\n    ch = x.toCharArray();\n    int xlength = x.length();\n\n    int i, sum;\n    for (sum=0, i=0; i &lt; x.length(); i++) {\n        sum += ch[i];\n    }\n    return sum;\n}\n</code></pre>\n<p>Can someone please suggest if there is easy simple solution available.</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":3866973,"reputation":3011,"user_id":3203287,"accept_rate":100,"display_name":"Vicky"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1425847414,"creation_date":1425847021,"answer_id":28931601,"question_id":28931521,"body_markdown":"You can set it using javascript by using executescript\r\n\r\n    ((JavascriptExecutor) driver).executeScript(&quot;document.getElementById(&#39;locatorid&#39;).style.backgroundColor = &#39;lightblue&#39;;&quot;);\r\n\r\nThere are several javascript functions if you need to locate it by classname or name \r\n\r\n    document.getElementsByName\r\n    document.getElementsByClassName\r\n\r\nHope this helps you....if u need more accurate answer...pls post the element html source\r\n\r\n","title":"Is it possible to set a background color of an element in selenium","body":"<p>You can set it using javascript by using executescript</p>\n\n<pre><code>((JavascriptExecutor) driver).executeScript(\"document.getElementById('locatorid').style.backgroundColor = 'lightblue';\");\n</code></pre>\n\n<p>There are several javascript functions if you need to locate it by classname or name </p>\n\n<pre><code>document.getElementsByName\ndocument.getElementsByClassName\n</code></pre>\n\n<p>Hope this helps you....if u need more accurate answer...pls post the element html source</p>\n"},{"tags":[],"owner":{"account_id":14623906,"reputation":1,"user_id":10561742,"display_name":"Pankaj Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600222773,"creation_date":1600222773,"answer_id":63912218,"question_id":28931521,"body_markdown":"Try This\r\n\r\n\r\n\r\n((JavascriptExecutor) WebDriverRunner.getWebDriver()).executeScript(&quot;document.querySelector(&quot;locatoe&quot;).innerText=&quot; + value + &quot;&quot;);","title":"Is it possible to set a background color of an element in selenium","body":"<p>Try This</p>\n<p>((JavascriptExecutor) WebDriverRunner.getWebDriver()).executeScript(&quot;document.querySelector(&quot;locatoe&quot;).innerText=&quot; + value + &quot;&quot;);</p>\n"},{"tags":[],"owner":{"account_id":1734438,"reputation":36255,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642502638,"creation_date":1642502638,"answer_id":70754230,"question_id":28931521,"body_markdown":"If you have the element e.g. in Python, you can also\r\n\r\n    driver.execute_script(&quot;arguments[0].style.backgroundColor = &#39;lightblue&#39;;&quot;, element)\r\n\r\nThis probabaly works similarly in Java.","title":"Is it possible to set a background color of an element in selenium","body":"<p>If you have the element e.g. in Python, you can also</p>\n<pre><code>driver.execute_script(&quot;arguments[0].style.backgroundColor = 'lightblue';&quot;, element)\n</code></pre>\n<p>This probabaly works similarly in Java.</p>\n"}],"owner":{"account_id":5484900,"reputation":1268,"user_id":4360433,"accept_rate":31,"display_name":"justadev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9678,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28931601,"answer_count":3,"score":2,"last_activity_date":1642502638,"creation_date":1425846543,"question_id":28931521,"body_markdown":"I am using Selenium with Java, and I want to change a background color of an element on the screen.\r\nIs it possible? ","title":"Is it possible to set a background color of an element in selenium","body":"<p>I am using Selenium with Java, and I want to change a background color of an element on the screen.\nIs it possible? </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1640749496,"post_id":70513282,"comment_id":124649159,"body_markdown":"Using a regular expression to parse JSON will eventually fail.  You really should use a proper JSON parser.","body":"Using a regular expression to parse JSON will eventually fail.  You really should use a proper JSON parser."}],"answers":[{"tags":[],"owner":{"account_id":7566140,"reputation":10450,"user_id":5741643,"accept_rate":50,"display_name":"Poul Bak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640736260,"creation_date":1640734191,"answer_id":70513637,"question_id":70513282,"body_markdown":"You say you use Java, so you must choose &#39;Java&#39; at regex101! That will tell you to escape all double quotes (`&quot;`).\r\n\r\nI have changed your regex to use the &#39;`Global`&#39; flag and changed the look ahead:\r\n\r\n    &quot;(?&lt;=\\&quot;\\$oid\\&quot;: \\&quot;)[^\\&quot;]+(?=\\&quot;[^$]+\\&quot;is_mobile\\&quot;: true)&quot;\r\n\r\nThe look behind is the same. I then changed the match to match any character not being a double quote `&quot;`.\r\n\r\nI then add a look ahead to look for:\r\n\r\n`&quot;` the double quote ending the match\r\n\r\n`[^$]+` Any character (one or more) not being `$` - this ensures that the look ahead does not look ahead to another item (which might have a true value), but stays in the same item.\r\n\r\n`\\&quot;is_mobile\\&quot;: true` look ahead for the `true`value.\r\n\r\nThe &#39;`Global`&#39; will match ALL occurences only if it&#39;s followed by a `&#236;s_mobile: true`.\r\n","title":"Return first/second occurrence","body":"<p>You say you use Java, so you must choose 'Java' at regex101! That will tell you to escape all double quotes (<code>&quot;</code>).</p>\n<p>I have changed your regex to use the '<code>Global</code>' flag and changed the look ahead:</p>\n<pre><code>&quot;(?&lt;=\\&quot;\\$oid\\&quot;: \\&quot;)[^\\&quot;]+(?=\\&quot;[^$]+\\&quot;is_mobile\\&quot;: true)&quot;\n</code></pre>\n<p>The look behind is the same. I then changed the match to match any character not being a double quote <code>&quot;</code>.</p>\n<p>I then add a look ahead to look for:</p>\n<p><code>&quot;</code> the double quote ending the match</p>\n<p><code>[^$]+</code> Any character (one or more) not being <code>$</code> - this ensures that the look ahead does not look ahead to another item (which might have a true value), but stays in the same item.</p>\n<p><code>\\&quot;is_mobile\\&quot;: true</code> look ahead for the <code>true</code>value.</p>\n<p>The '<code>Global</code>' will match ALL occurences only if it's followed by a <code>ìs_mobile: true</code>.</p>\n"},{"tags":[],"owner":{"account_id":8571883,"reputation":821,"user_id":6422459,"display_name":"DigitShifter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642502130,"creation_date":1642157400,"answer_id":70709456,"question_id":70513282,"body_markdown":"Other Alternatives:\r\n\r\nSee regex in context and testbench:\r\n\r\n    public static void main(String[] args) {\r\n        String input = &quot;[{\\&quot;_id\\&quot;: {\\&quot;$oid\\&quot;: \\&quot;5f9ecf8ca9bec5549493ba7d\\&quot;}, &quot; +\r\n                &quot;\\&quot;policy_name\\&quot;: \\&quot;aaa\\&quot;, \\&quot;is_mobile\\&quot;: false,&quot; +\r\n                &quot;, {\\&quot;_id\\&quot;: {\\&quot;$oid\\&quot;: \\&quot;6090fead53bc363849fce989\\&quot;}, &quot; +\r\n                &quot;\\&quot;policy_name\\&quot;: \\&quot;bbb\\&quot;, \\&quot;is_mobile\\&quot;: true, &quot; +\r\n                &quot;{\\&quot;_id\\&quot;: {\\&quot;$oid\\&quot;: \\&quot;619cf729ea016d1e3336e903\\&quot;}, &quot; +\r\n                &quot;\\&quot;policy_name\\&quot;: \\&quot;ccc\\&quot;, \\&quot;is_mobile\\&quot;: false}]&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(&quot;\\&quot;\\\\$oid\\&quot;:\\\\s+\\&quot;(\\\\S+)\\&quot;.*?\\&quot;is_mobile\\&quot;:\\\\s+(true|false)&quot;);\r\n        Matcher matcher = pattern.matcher(input);\r\n\r\n        //Alternative 1:\r\n        System.out.println(&quot;Alternative 1:&quot;);\r\n        while(matcher.find()) {\r\n            if(matcher.group(2).equals(&quot;true&quot;)) {\r\n                System.out.println(matcher.group(1));\r\n            }\r\n        }\r\n\r\n        //Alternative 2:\r\n        Pattern pattern2 = Pattern.compile(&quot;\\&quot;\\\\$oid\\&quot;:\\\\s\\&quot;(\\\\S+)\\&quot;.*is_mobile\\&quot;:\\\\s(true|false)&quot;);\r\n        List&lt;String&gt; isMobileTrueOidList = Arrays.asList(input.split(&quot;(?&lt;=is_mobile\\&quot;:\\\\s(true|false))&quot;)).stream()\r\n                .map(pattern2::matcher)\r\n                .filter(Matcher::find)\r\n                .filter(matcher2 -&gt; matcher2.group(2).equals(&quot;true&quot;))\r\n                .map(matcher2 -&gt; matcher2.group(1))\r\n                .collect(Collectors.toList());\r\n\r\n        System.out.println(&quot;\\nAlternative 2:&quot;);\r\n        isMobileTrueOidList.forEach(System.out::println);\r\n    }\r\n\r\nOutput:\r\n\r\n    Alternative 1:\r\n    6090fead53bc363849fce989\r\n\r\n    Alternative 2:\r\n    6090fead53bc363849fce989\r\n   \r\n","title":"Return first/second occurrence","body":"<p>Other Alternatives:</p>\n<p>See regex in context and testbench:</p>\n<pre><code>public static void main(String[] args) {\n    String input = &quot;[{\\&quot;_id\\&quot;: {\\&quot;$oid\\&quot;: \\&quot;5f9ecf8ca9bec5549493ba7d\\&quot;}, &quot; +\n            &quot;\\&quot;policy_name\\&quot;: \\&quot;aaa\\&quot;, \\&quot;is_mobile\\&quot;: false,&quot; +\n            &quot;, {\\&quot;_id\\&quot;: {\\&quot;$oid\\&quot;: \\&quot;6090fead53bc363849fce989\\&quot;}, &quot; +\n            &quot;\\&quot;policy_name\\&quot;: \\&quot;bbb\\&quot;, \\&quot;is_mobile\\&quot;: true, &quot; +\n            &quot;{\\&quot;_id\\&quot;: {\\&quot;$oid\\&quot;: \\&quot;619cf729ea016d1e3336e903\\&quot;}, &quot; +\n            &quot;\\&quot;policy_name\\&quot;: \\&quot;ccc\\&quot;, \\&quot;is_mobile\\&quot;: false}]&quot;;\n\n    Pattern pattern = Pattern.compile(&quot;\\&quot;\\\\$oid\\&quot;:\\\\s+\\&quot;(\\\\S+)\\&quot;.*?\\&quot;is_mobile\\&quot;:\\\\s+(true|false)&quot;);\n    Matcher matcher = pattern.matcher(input);\n\n    //Alternative 1:\n    System.out.println(&quot;Alternative 1:&quot;);\n    while(matcher.find()) {\n        if(matcher.group(2).equals(&quot;true&quot;)) {\n            System.out.println(matcher.group(1));\n        }\n    }\n\n    //Alternative 2:\n    Pattern pattern2 = Pattern.compile(&quot;\\&quot;\\\\$oid\\&quot;:\\\\s\\&quot;(\\\\S+)\\&quot;.*is_mobile\\&quot;:\\\\s(true|false)&quot;);\n    List&lt;String&gt; isMobileTrueOidList = Arrays.asList(input.split(&quot;(?&lt;=is_mobile\\&quot;:\\\\s(true|false))&quot;)).stream()\n            .map(pattern2::matcher)\n            .filter(Matcher::find)\n            .filter(matcher2 -&gt; matcher2.group(2).equals(&quot;true&quot;))\n            .map(matcher2 -&gt; matcher2.group(1))\n            .collect(Collectors.toList());\n\n    System.out.println(&quot;\\nAlternative 2:&quot;);\n    isMobileTrueOidList.forEach(System.out::println);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Alternative 1:\n6090fead53bc363849fce989\n\nAlternative 2:\n6090fead53bc363849fce989\n</code></pre>\n"}],"owner":{"account_id":23019048,"reputation":29,"user_id":17140322,"display_name":"geo edge"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1642502130,"creation_date":1640731221,"question_id":70513282,"body_markdown":"I&#39;m looking for a way to grab/ capture the second occurrence of the number (only the number) next to {&quot;$oid&quot;:   \r\n\r\nI was able to capture the first one But having trouble catching the second/ third occurrence.\r\n\r\nthis is the regex that i used:\r\nhttps://regex101.com/r/6cSXi8/1\r\n\r\n    &quot;(?&lt;=&quot;\\$oid&quot;: &quot;).*?[^&quot;},]*&quot;\r\n\r\n**Example of input:**\r\n\r\n    [{&quot;_id&quot;: {&quot;$oid&quot;: &quot;5f9ecf8ca9bec5549493ba7d&quot;}, &quot;policy_name&quot;: &quot;aaa&quot;, &quot;is_mobile&quot;: false,, {&quot;_id&quot;: {&quot;$oid&quot;: &quot;6090fead53bc363849fce989&quot;}, &quot;policy_name&quot;: &quot;bbb&quot;, &quot;is_mobile&quot;: true, {&quot;_id&quot;: {&quot;$oid&quot;: &quot;619cf729ea016d1e3336e903&quot;}, &quot;policy_name&quot;: &quot;ccc&quot;, &quot;is_mobile&quot;: false}]\r\n\r\nIn addition, i was also trying to figure out how can i match &quot;is_mobile&quot; : true to the number at the second occurance. meaning a regex that will return the second number (next to {&quot;$oid&quot;:) by searching for &quot;is_mobile&quot; : true\r\n\r\ni&#39;m using Java to send the regex\r\n\r\nwould appreciate your assistance.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Return first/second occurrence","body":"<p>I'm looking for a way to grab/ capture the second occurrence of the number (only the number) next to {&quot;$oid&quot;:</p>\n<p>I was able to capture the first one But having trouble catching the second/ third occurrence.</p>\n<p>this is the regex that i used:\n<a href=\"https://regex101.com/r/6cSXi8/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/6cSXi8/1</a></p>\n<pre><code>&quot;(?&lt;=&quot;\\$oid&quot;: &quot;).*?[^&quot;},]*&quot;\n</code></pre>\n<p><strong>Example of input:</strong></p>\n<pre><code>[{&quot;_id&quot;: {&quot;$oid&quot;: &quot;5f9ecf8ca9bec5549493ba7d&quot;}, &quot;policy_name&quot;: &quot;aaa&quot;, &quot;is_mobile&quot;: false,, {&quot;_id&quot;: {&quot;$oid&quot;: &quot;6090fead53bc363849fce989&quot;}, &quot;policy_name&quot;: &quot;bbb&quot;, &quot;is_mobile&quot;: true, {&quot;_id&quot;: {&quot;$oid&quot;: &quot;619cf729ea016d1e3336e903&quot;}, &quot;policy_name&quot;: &quot;ccc&quot;, &quot;is_mobile&quot;: false}]\n</code></pre>\n<p>In addition, i was also trying to figure out how can i match &quot;is_mobile&quot; : true to the number at the second occurance. meaning a regex that will return the second number (next to {&quot;$oid&quot;:) by searching for &quot;is_mobile&quot; : true</p>\n<p>i'm using Java to send the regex</p>\n<p>would appreciate your assistance.</p>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642501765,"creation_date":1642501765,"answer_id":70754030,"question_id":70753590,"body_markdown":"Use the `.put(fieldName, newValue)` method. It replaces an already existing field or adds it.\r\n\r\nHere is an example:\r\n\r\n```java\r\nString paymentTypeValue = null;\r\ntry {\r\n    JSONArray jsonArr = new JSONArray(FormatUtil.gcpBlobAsString(pay.getPaymentDetails()));\r\n    for (int i = 0; i &lt; jsonArr.length(); i++) {\r\n        JSONObject currentObject = jsonArr.getJSONObject(i);\r\n        paymentTypeValue = currentObject.getString(&quot;paymentType&quot;);\r\n\t\t\r\n\t\tif (paymentTypeValue.equalsIgnoreCase(&quot;GIFT CARD&quot;)) {\r\n\t\t\tcurrentObject.put(&quot;paymentType&quot;, &quot;CREDIT CARD&quot;); // &lt;------------- This does what you need\r\n\t\t}\r\n    }\r\n\t\r\n\t// Get your JSON array and turn it into a string or whatever you need\r\n}\r\ncatch (JSONException e) {\r\n    logger.error(&quot;Json exception--&gt;&quot; + e.getMessage());\r\n    throw new JsonException(e);\r\n}\r\n```","title":"setting the value in json array based on checking some condition","body":"<p>Use the <code>.put(fieldName, newValue)</code> method. It replaces an already existing field or adds it.</p>\n<p>Here is an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String paymentTypeValue = null;\ntry {\n    JSONArray jsonArr = new JSONArray(FormatUtil.gcpBlobAsString(pay.getPaymentDetails()));\n    for (int i = 0; i &lt; jsonArr.length(); i++) {\n        JSONObject currentObject = jsonArr.getJSONObject(i);\n        paymentTypeValue = currentObject.getString(&quot;paymentType&quot;);\n        \n        if (paymentTypeValue.equalsIgnoreCase(&quot;GIFT CARD&quot;)) {\n            currentObject.put(&quot;paymentType&quot;, &quot;CREDIT CARD&quot;); // &lt;------------- This does what you need\n        }\n    }\n    \n    // Get your JSON array and turn it into a string or whatever you need\n}\ncatch (JSONException e) {\n    logger.error(&quot;Json exception--&gt;&quot; + e.getMessage());\n    throw new JsonException(e);\n}\n</code></pre>\n"}],"owner":{"account_id":1661414,"reputation":67,"user_id":1529641,"display_name":"user1529641"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642501765,"creation_date":1642499832,"question_id":70753590,"body_markdown":"I have this method `pay.getPaymentDetails()` of which return type is string and it return the below string \r\n\r\n```json\r\n[\r\n    {\r\n        &quot;mcTtid&quot;: 201657083281,\r\n        &quot;cardLast4Digits&quot;: &quot;0887&quot;,\r\n        &quot;paymentType&quot;: &quot;CREDIT CARD&quot;,\r\n        &quot;originalPaymentCategory&quot;: {\r\n            &quot;code&quot;: &quot;Q&quot;,\r\n            &quot;name&quot;: &quot;CREDIT CARD&quot;\r\n        }\r\n    },\r\n    {\r\n        &quot;veTtid&quot;: 21656148003,\r\n        &quot;cardLast4Digits&quot;: &quot;4777&quot;,\r\n        &quot;paymentType&quot;: &quot;GIFT CARD&quot;,\r\n        &quot;originalPaymentCategory&quot;: {\r\n            &quot;code&quot;: &quot;Q&quot;,\r\n            &quot;name&quot;: &quot;GIFT CARD&quot;\r\n        }\r\n    },\r\n    {\r\n        &quot;mcTtid&quot;: 201625819,\r\n        &quot;cardLast4Digits&quot;: &quot;8388&quot;,\r\n        &quot;paymentType&quot;: &quot;GIFT CARD&quot;,\r\n        &quot;originalPaymentCategory&quot;: {\r\n            &quot;code&quot;: &quot;w&quot;,\r\n            &quot;name&quot;: &quot;GIFT CARD&quot;\r\n        }\r\n    }\r\n]\r\n```\r\n\r\nNow with the below code I have extracted the value of attribute paymentType \r\n\r\n```java\r\nString paymentTypeValue = null;\r\ntry {\r\n    JSONArray jsonArr = new JSONArray(FormatUtil.gcpBlobAsString(pay.getPaymentDetails()));\r\n    for (int i = 0; i &lt; jsonArr.length(); i++) {\r\n        paymentTypeValue = jsonArr.getJSONObject(i).getString(&quot;paymentType&quot;);\r\n    }\r\n}\r\ncatch (JSONException e) {\r\n    logger.error(&quot;Json exception--&gt;&quot; + e.getMessage());\r\n    throw new JsonException(e);\r\n}\r\n```\r\n\r\nNow mine query is that I need to check that if the value attribute paymentType is GIFT CARD then I need to set it to CREDIT CARD so please advise how can I set that back that\r\n \r\n```java\r\nif (paymentTypeValue.equalsIgnoreCase(&quot;GIFT CARD&quot;)) {\r\n    ...\r\n}\r\n```","title":"setting the value in json array based on checking some condition","body":"<p>I have this method <code>pay.getPaymentDetails()</code> of which return type is string and it return the below string</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;mcTtid&quot;: 201657083281,\n        &quot;cardLast4Digits&quot;: &quot;0887&quot;,\n        &quot;paymentType&quot;: &quot;CREDIT CARD&quot;,\n        &quot;originalPaymentCategory&quot;: {\n            &quot;code&quot;: &quot;Q&quot;,\n            &quot;name&quot;: &quot;CREDIT CARD&quot;\n        }\n    },\n    {\n        &quot;veTtid&quot;: 21656148003,\n        &quot;cardLast4Digits&quot;: &quot;4777&quot;,\n        &quot;paymentType&quot;: &quot;GIFT CARD&quot;,\n        &quot;originalPaymentCategory&quot;: {\n            &quot;code&quot;: &quot;Q&quot;,\n            &quot;name&quot;: &quot;GIFT CARD&quot;\n        }\n    },\n    {\n        &quot;mcTtid&quot;: 201625819,\n        &quot;cardLast4Digits&quot;: &quot;8388&quot;,\n        &quot;paymentType&quot;: &quot;GIFT CARD&quot;,\n        &quot;originalPaymentCategory&quot;: {\n            &quot;code&quot;: &quot;w&quot;,\n            &quot;name&quot;: &quot;GIFT CARD&quot;\n        }\n    }\n]\n</code></pre>\n<p>Now with the below code I have extracted the value of attribute paymentType</p>\n<pre class=\"lang-java prettyprint-override\"><code>String paymentTypeValue = null;\ntry {\n    JSONArray jsonArr = new JSONArray(FormatUtil.gcpBlobAsString(pay.getPaymentDetails()));\n    for (int i = 0; i &lt; jsonArr.length(); i++) {\n        paymentTypeValue = jsonArr.getJSONObject(i).getString(&quot;paymentType&quot;);\n    }\n}\ncatch (JSONException e) {\n    logger.error(&quot;Json exception--&gt;&quot; + e.getMessage());\n    throw new JsonException(e);\n}\n</code></pre>\n<p>Now mine query is that I need to check that if the value attribute paymentType is GIFT CARD then I need to set it to CREDIT CARD so please advise how can I set that back that</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (paymentTypeValue.equalsIgnoreCase(&quot;GIFT CARD&quot;)) {\n    ...\n}\n</code></pre>\n"},{"tags":["java","operators"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1477821973,"post_id":40327865,"comment_id":67910887,"body_markdown":"`false == false == false` -&gt; `(false == false) == false` -&gt; `true == false` -&gt; `false`.","body":"<code>false == false == false</code> -&gt; <code>(false == false) == false</code> -&gt; <code>true == false</code> -&gt; <code>false</code>."}],"answers":[{"tags":[],"owner":{"account_id":9091794,"reputation":126,"user_id":6767342,"display_name":"R. Mittal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477821808,"creation_date":1477821808,"answer_id":40327902,"question_id":40327865,"body_markdown":"It&#39;s because all expressions having relational operators return Boolean value.\n\nSo, first e == f is evaluated. As these both are false (both operators having same value) so, this expression return true value.\nThis true value is evaluated against d which is false. So that expression returns false (as both Operators have different values now) .\n","title":"How to check if all boolean are true or false in Java?","body":"<p>It's because all expressions having relational operators return Boolean value.</p>\n\n<p>So, first e == f is evaluated. As these both are false (both operators having same value) so, this expression return true value.\nThis true value is evaluated against d which is false. So that expression returns false (as both Operators have different values now) .</p>\n"},{"tags":[],"owner":{"account_id":3999233,"reputation":441,"user_id":3295713,"display_name":"Chandan Rajput"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1477821958,"creation_date":1477821958,"answer_id":40327925,"question_id":40327865,"body_markdown":"You can try like this :\r\n\r\n    if((d &amp;&amp; e &amp;&amp; f) || (!d &amp;&amp; !e &amp;&amp; !f))\r\n\r\nIt will enter in loop either all will be true or all will be false.","title":"How to check if all boolean are true or false in Java?","body":"<p>You can try like this :</p>\n\n<pre><code>if((d &amp;&amp; e &amp;&amp; f) || (!d &amp;&amp; !e &amp;&amp; !f))\n</code></pre>\n\n<p>It will enter in loop either all will be true or all will be false.</p>\n"},{"tags":[],"owner":{"account_id":9537272,"reputation":463,"user_id":7087011,"display_name":"Kunal Parikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477821982,"creation_date":1477821982,"answer_id":40327929,"question_id":40327865,"body_markdown":"    boolean allTrue=false;\n    boolean allFalse=false;\n\n    boolean a,b,c;//your three variables\n    if(a &amp;&amp; b &amp;&amp; c)\n    {allTrue=true;}\n    else if(!a &amp;&amp; !b &amp;&amp; !c)\n     {allFalse=true;}\n\nTry this, here i have two variable flags that are set to false initially, when one of the condition is true then only it woll be set to true so after the last line of code you can check if allFalse or allTrue  has values true or false.\n\n","title":"How to check if all boolean are true or false in Java?","body":"<pre><code>boolean allTrue=false;\nboolean allFalse=false;\n\nboolean a,b,c;//your three variables\nif(a &amp;&amp; b &amp;&amp; c)\n{allTrue=true;}\nelse if(!a &amp;&amp; !b &amp;&amp; !c)\n {allFalse=true;}\n</code></pre>\n\n<p>Try this, here i have two variable flags that are set to false initially, when one of the condition is true then only it woll be set to true so after the last line of code you can check if allFalse or allTrue  has values true or false.</p>\n"},{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1477827995,"creation_date":1477823418,"answer_id":40328120,"question_id":40327865,"body_markdown":"If you only need to know if all are true or all false, then this will be more than enough:\r\n\r\n    boolean flagAllTrue = a &amp;&amp; b &amp;&amp; c;\r\n\r\nNo need to use a **if else**.\r\n","title":"How to check if all boolean are true or false in Java?","body":"<p>If you only need to know if all are true or all false, then this will be more than enough:</p>\n\n<pre><code>boolean flagAllTrue = a &amp;&amp; b &amp;&amp; c;\n</code></pre>\n\n<p>No need to use a <strong>if else</strong>.</p>\n"},{"tags":[],"owner":{"account_id":1292873,"reputation":3582,"user_id":1244610,"display_name":"Matthias"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1477839793,"creation_date":1477824883,"answer_id":40328326,"question_id":40327865,"body_markdown":"First think of the conditions separately:\r\n\r\n    boolean allTrue = a &amp;&amp; b &amp;&amp; c;\r\n    boolean allFalse = !(a||b||c);\r\n\r\nThen combine them:\r\n\r\n    boolean eitherAllTrueOrAllFalse = allTrue|allFalse;\r\n\r\n","title":"How to check if all boolean are true or false in Java?","body":"<p>First think of the conditions separately:</p>\n\n<pre><code>boolean allTrue = a &amp;&amp; b &amp;&amp; c;\nboolean allFalse = !(a||b||c);\n</code></pre>\n\n<p>Then combine them:</p>\n\n<pre><code>boolean eitherAllTrueOrAllFalse = allTrue|allFalse;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7565421,"reputation":457,"user_id":5741218,"display_name":"Nadim Baraky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477830411,"creation_date":1477826643,"answer_id":40328536,"question_id":40327865,"body_markdown":"To know if the 3 variables are all true or all false; this what you can do:\r\n\r\n    boolean allTrue, allFalse;\r\n    \r\n    if(a &amp;&amp; b &amp;&amp; c) allTrue = true;  //a, b &amp; c will evaluate to boolean and if all three vars are true the condition will be true and hence the if statement will be accessed\r\n    if(!a &amp;&amp; !b &amp;&amp; !c) allFalse = true; //if the not of the 3 is true, i.e (the 3 boolean vars are false), the whole condtion will be true and the if-statement will be accessed and the allFalse will be set to true means all 3 are false","title":"How to check if all boolean are true or false in Java?","body":"<p>To know if the 3 variables are all true or all false; this what you can do:</p>\n\n<pre><code>boolean allTrue, allFalse;\n\nif(a &amp;&amp; b &amp;&amp; c) allTrue = true;  //a, b &amp; c will evaluate to boolean and if all three vars are true the condition will be true and hence the if statement will be accessed\nif(!a &amp;&amp; !b &amp;&amp; !c) allFalse = true; //if the not of the 3 is true, i.e (the 3 boolean vars are false), the whole condtion will be true and the if-statement will be accessed and the allFalse will be set to true means all 3 are false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16112971,"reputation":167,"user_id":11630785,"display_name":"Kim Rydhof Thor Hansen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600876530,"creation_date":1600876530,"answer_id":64031841,"question_id":40327865,"body_markdown":"It should be possible to stay closer to the original formulation like this:\r\n\r\n```java\r\nboolean eitherAllTrueOrAllFalse = (d == e) &amp;&amp; (d == f)\r\n```","title":"How to check if all boolean are true or false in Java?","body":"<p>It should be possible to stay closer to the original formulation like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean eitherAllTrueOrAllFalse = (d == e) &amp;&amp; (d == f)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16030537,"reputation":59,"user_id":11569597,"display_name":"Sam Johnson"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642501667,"creation_date":1642259641,"answer_id":70722694,"question_id":40327865,"body_markdown":"    let sum = 0;\r\n    \r\n    sum += a ? 1:0; sum += b ? 1:0; sum += c ? 1:0;\r\n    \r\n    let allTrueOrAllFalse = ( sum === 0 || sum === 3 );","title":"How to check if all boolean are true or false in Java?","body":"<pre><code>let sum = 0;\n\nsum += a ? 1:0; sum += b ? 1:0; sum += c ? 1:0;\n\nlet allTrueOrAllFalse = ( sum === 0 || sum === 3 );\n</code></pre>\n"}],"owner":{"account_id":6614558,"reputation":411,"user_id":5108315,"accept_rate":42,"display_name":"Kendel Ventonda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14134,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":8,"score":2,"last_activity_date":1642501667,"creation_date":1477821466,"question_id":40327865,"body_markdown":"I&#39;m trying to figure out how to check if three variables are all true or all false. So that the condition becomes true, when these variables have the same value and false, when they don&#39;t have the same value.\r\nI thought something like `(d == e == f)` would help me here but the condition is only true when all variables are set to true. But when they&#39;re set to false, the condition doesn&#39;t work. Could anyone explain to me why? I know a very basic issue but I really can&#39;t figure it out myself.","title":"How to check if all boolean are true or false in Java?","body":"<p>I'm trying to figure out how to check if three variables are all true or all false. So that the condition becomes true, when these variables have the same value and false, when they don't have the same value.\nI thought something like <code>(d == e == f)</code> would help me here but the condition is only true when all variables are set to true. But when they're set to false, the condition doesn't work. Could anyone explain to me why? I know a very basic issue but I really can't figure it out myself.</p>\n"},{"tags":["java","android","android-studio","sdk","android-gradle-plugin"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1642504457,"post_id":70753945,"comment_id":125082819,"body_markdown":"You have defined `minSdk 16` so the app can be installed on older devices. To make it run look at the error you get and adapt the code accordingly. For older devices you may need to implements special code blocks that are only executed on older devices. As your question misses any detail on the error you get we can&#39;t help you with that. BTW: Don&#39; use comments for new info, edit your question instead - Stackoverflow is not a forum.","body":"You have defined <code>minSdk 16</code> so the app can be installed on older devices. To make it run look at the error you get and adapt the code accordingly. For older devices you may need to implements special code blocks that are only executed on older devices. As your question misses any detail on the error you get we can&#39;t help you with that. BTW: Don&#39; use comments for new info, edit your question instead - Stackoverflow is not a forum."},{"owner":{"account_id":23975226,"reputation":1,"user_id":17963424,"display_name":"IoIoR"},"score":0,"creation_date":1642507560,"post_id":70753945,"comment_id":125084025,"body_markdown":"@Robert the application does not open on older android operating systems.","body":"@Robert the application does not open on older android operating systems."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1642508074,"post_id":70753945,"comment_id":125084237,"body_markdown":"Most likely the do open but after a few milliseconds crash. Therefore please get the stacktrace of the crash and post it. =&gt; `adb logcat`","body":"Most likely the do open but after a few milliseconds crash. Therefore please get the stacktrace of the crash and post it. =&gt; <code>adb logcat</code>"}],"owner":{"account_id":23975226,"reputation":1,"user_id":17963424,"display_name":"IoIoR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642501393,"creation_date":1642501393,"question_id":70753945,"body_markdown":"I&#39;m using the latest version of Android Studio in a project with the following configuration:\r\n\r\n```\r\nAndroid Gradle Plugin Version: 7.0.4\r\nGradle Version: 7.0.2\r\nCompile SDK Version: 28\r\nBuild Tools Version: 28.0.3\r\n```\r\n\r\nThe problem is that this application when installed on the mobile phone only works on operating systems such as android 9 or android 10 and on mobile with operating system 6.0.1 it does not work, **how do I make the application work on mobiles with older operating systems?**\r\n\r\n - build.gradle (:app)\r\n```\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        compileSdk 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.mps&quot;\r\n            minSdk 16\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        compileSdkVersion 28\r\n        buildToolsVersion &#39;28.0.3&#39;\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n        implementation &#39;com.github.rtoshiro.mflibrary:mflibrary:1.0.0&#39;\r\n    }\r\n\r\n```","title":"Mobile application with compatibility issues on older operating systems","body":"<p>I'm using the latest version of Android Studio in a project with the following configuration:</p>\n<pre><code>Android Gradle Plugin Version: 7.0.4\nGradle Version: 7.0.2\nCompile SDK Version: 28\nBuild Tools Version: 28.0.3\n</code></pre>\n<p>The problem is that this application when installed on the mobile phone only works on operating systems such as android 9 or android 10 and on mobile with operating system 6.0.1 it does not work, <strong>how do I make the application work on mobiles with older operating systems?</strong></p>\n<ul>\n<li>build.gradle (:app)</li>\n</ul>\n<pre><code>\n    plugins {\n        id 'com.android.application'\n    }\n    \n    android {\n        compileSdk 32\n    \n        defaultConfig {\n            applicationId &quot;com.example.mps&quot;\n            minSdk 16\n            targetSdk 32\n            versionCode 1\n            versionName &quot;1.0&quot;\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        }\n    \n        buildTypes {\n            release {\n                minifyEnabled false\n                proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            }\n        }\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_1_8\n            targetCompatibility JavaVersion.VERSION_1_8\n        }\n        compileSdkVersion 28\n        buildToolsVersion '28.0.3'\n    }\n    \n    dependencies {\n        implementation 'androidx.appcompat:appcompat:1.2.0'\n        implementation 'com.google.android.material:material:1.3.0'\n        implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n        testImplementation 'junit:junit:4.12'\n        androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n        androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n        implementation 'com.github.rtoshiro.mflibrary:mflibrary:1.0.0'\n    }\n\n</code></pre>\n"},{"tags":["java","sorting","arraylist","collections","comparator"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":2,"creation_date":1642069049,"post_id":70694841,"comment_id":124975824,"body_markdown":"`compare(Object o1, Object o2)`  returns `0` each time.  How whould it sort?","body":"<code>compare(Object o1, Object o2)</code>  returns <code>0</code> each time.  How whould it sort?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1642069135,"post_id":70694841,"comment_id":124975869,"body_markdown":"You are using a [raw type](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it) of Comparator. That&#39;s why your actual overridden compare method looks like `public int compare(Object o1, Object o2)` and you just always return 0 in it. Declare your comparator as `Comparator&lt;JSONObject&gt;` and add the `@Override` annotation to your actual compare method to make sure it is actually overidden. (And of course delete the other compare method you added to ignore an error you probably got)","body":"You are using a <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">raw type</a> of Comparator. That&#39;s why your actual overridden compare method looks like <code>public int compare(Object o1, Object o2)</code> and you just always return 0 in it. Declare your comparator as <code>Comparator&lt;JSONObject&gt;</code> and add the <code>@Override</code> annotation to your actual compare method to make sure it is actually overidden. (And of course delete the other compare method you added to ignore an error you probably got)"}],"answers":[{"tags":[],"owner":{"account_id":13919742,"reputation":964,"user_id":10342150,"display_name":"robertobatts"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642501222,"creation_date":1642069522,"answer_id":70695011,"question_id":70694841,"body_markdown":"The problem is you&#39;re initializing the list without any type. See [this answer](https://stackoverflow.com/a/10489762/642706) for more explanation.\r\n\r\nIf you do `List list = new ArrayList()` your list will contain implementations of &#39;Object&#39;, therefore when you sort you will use the comparator with Objects, that you didn&#39;t define.\r\n\r\nTo solve your issue, just define the type in the list:\r\n```\r\nList&lt;JSONObject&gt; list = new ArrayList&lt;&gt;();\r\n```\r\nYou also need to define the type in the comparator:\r\n```\r\nCollections.sort(list, new Comparator&lt;JSONObject&gt;(){...}):\r\n```\r\nIn this way the sorting algorithm will use the compare method that you defined.\r\n\r\nMoreover, I can suggest you to make the code much more simple, you can in fact sort it with just one line if you use lambda functions:\r\n\r\n```java\r\nlist.sort(Comparator.comparing(json -&gt; json.get(KEY_NAME));\r\n```","title":"Java Collections.Sort doesn&#39;t / can&#39;t group by same value","body":"<p>The problem is you're initializing the list without any type. See <a href=\"https://stackoverflow.com/a/10489762/642706\">this answer</a> for more explanation.</p>\n<p>If you do <code>List list = new ArrayList()</code> your list will contain implementations of 'Object', therefore when you sort you will use the comparator with Objects, that you didn't define.</p>\n<p>To solve your issue, just define the type in the list:</p>\n<pre><code>List&lt;JSONObject&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n<p>You also need to define the type in the comparator:</p>\n<pre><code>Collections.sort(list, new Comparator&lt;JSONObject&gt;(){...}):\n</code></pre>\n<p>In this way the sorting algorithm will use the compare method that you defined.</p>\n<p>Moreover, I can suggest you to make the code much more simple, you can in fact sort it with just one line if you use lambda functions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>list.sort(Comparator.comparing(json -&gt; json.get(KEY_NAME));\n</code></pre>\n"}],"owner":{"account_id":21133859,"reputation":3,"user_id":15537671,"display_name":"Adrian Ng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70695011,"answer_count":1,"score":0,"last_activity_date":1642501222,"creation_date":1642068841,"question_id":70694841,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SWpdT.png\r\n\r\nmy code is :\r\n\r\nexcelSheetRows -&gt; existing JSONArray data.\r\n\r\n               JSONArray sortedJsonArray = new JSONArray();\r\n                List list = new ArrayList();\r\n                for(int i = 0; i &lt; excelSheetRows.length(); i++) {\r\n                   list.add(excelSheetRows.getJSONObject(i));\r\n                }\r\n\r\n                Collections.sort(list, new Comparator() {\r\n                   \r\n\t\t\t\tpublic int compare(JSONObject a, JSONObject b) {\r\n\t\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\t  String str1 = new String();\r\n                      String str2 = new String();\r\n                      try {\r\n                         str1 = (String)a.get(KEY_NAME);\r\n                         str2 = (String)b.get(KEY_NAME);\r\n                      } catch(JSONException e) {\r\n                         e.printStackTrace();\r\n                      }\r\n                      return str1.compareTo(str2);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic int compare(Object o1, Object o2) {\r\n\t\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n                });\r\n                \r\n                for(int i = 0; i &lt; excelSheetRows.length(); i++) {\r\n                   sortedJsonArray.put(list.get(i));\r\n                }\r\n\r\nIt ran successfully, but the sortedJsonArray doesn&#39;t group the same name together, example:\r\n\r\na20190510\r\na20190529\r\na20190626\r\na20190510\r\n\r\nvincent\r\nvincent\r\nvinagent33\r\nvincent\r\nvincent2222\r\nvincent\r\n\r\nplease adviceeeee, i need all &#39;vincent&#39; or &#39;a20190510&#39; to be together, need ascending order group by same name, why it doesnt group by name accordingly???\r\n","title":"Java Collections.Sort doesn&#39;t / can&#39;t group by same value","body":"<p><a href=\"https://i.stack.imgur.com/SWpdT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>my code is :</p>\n<p>excelSheetRows -&gt; existing JSONArray data.</p>\n<pre><code>           JSONArray sortedJsonArray = new JSONArray();\n            List list = new ArrayList();\n            for(int i = 0; i &lt; excelSheetRows.length(); i++) {\n               list.add(excelSheetRows.getJSONObject(i));\n            }\n\n            Collections.sort(list, new Comparator() {\n               \n            public int compare(JSONObject a, JSONObject b) {\n                // TODO Auto-generated method stub\n                  String str1 = new String();\n                  String str2 = new String();\n                  try {\n                     str1 = (String)a.get(KEY_NAME);\n                     str2 = (String)b.get(KEY_NAME);\n                  } catch(JSONException e) {\n                     e.printStackTrace();\n                  }\n                  return str1.compareTo(str2);\n            }\n            \n            \n            @Override\n            public int compare(Object o1, Object o2) {\n                // TODO Auto-generated method stub\n                return 0;\n            }\n            });\n            \n            for(int i = 0; i &lt; excelSheetRows.length(); i++) {\n               sortedJsonArray.put(list.get(i));\n            }\n</code></pre>\n<p>It ran successfully, but the sortedJsonArray doesn't group the same name together, example:</p>\n<p>a20190510\na20190529\na20190626\na20190510</p>\n<p>vincent\nvincent\nvinagent33\nvincent\nvincent2222\nvincent</p>\n<p>please adviceeeee, i need all 'vincent' or 'a20190510' to be together, need ascending order group by same name, why it doesnt group by name accordingly???</p>\n"},{"tags":["java","android","android-gradle-plugin"],"comments":[{"owner":{"account_id":4723304,"reputation":400,"user_id":3820670,"accept_rate":50,"display_name":"mor222"},"score":0,"creation_date":1512409391,"post_id":47485409,"comment_id":82236266,"body_markdown":"I have the same issue, did you manage to solve it?","body":"I have the same issue, did you manage to solve it?"},{"owner":{"account_id":4060173,"reputation":30602,"user_id":6699433,"accept_rate":67,"display_name":"klutt"},"score":0,"creation_date":1512812429,"post_id":47485409,"comment_id":82414866,"body_markdown":"Got the same problem. Just updated android studio from 2.3.3 to 3.0.1 and got this error. Seems like there is an issue with access. I didn&#39;t find out how to manage this in a right manner. But here is what can help, till you find how to solve this in normal way.\n\nTry to run in terminal `sudo /studio.sh`\n\nstudio.sh is located in your android-studio/bin folder.","body":"Got the same problem. Just updated android studio from 2.3.3 to 3.0.1 and got this error. Seems like there is an issue with access. I didn&#39;t find out how to manage this in a right manner. But here is what can help, till you find how to solve this in normal way.  Try to run in terminal <code>sudo &#47;studio.sh</code>  studio.sh is located in your android-studio/bin folder."},{"owner":{"account_id":4060173,"reputation":30602,"user_id":6699433,"accept_rate":67,"display_name":"klutt"},"score":0,"creation_date":1512812482,"post_id":47485409,"comment_id":82414881,"body_markdown":"Above comment was posted as an answer by Alex Podolian. It is more suitable as a comment, but poster did not have enough rep.","body":"Above comment was posted as an answer by Alex Podolian. It is more suitable as a comment, but poster did not have enough rep."},{"owner":{"account_id":773528,"reputation":1808,"user_id":813613,"display_name":"reTs"},"score":0,"creation_date":1542280862,"post_id":47485409,"comment_id":93516571,"body_markdown":"Just a report, if the machine is running out of storage Android Studio may throw this error. Gradle 4.4+Android Studio 3.2.","body":"Just a report, if the machine is running out of storage Android Studio may throw this error. Gradle 4.4+Android Studio 3.2."},{"owner":{"account_id":15214586,"reputation":3303,"user_id":10978298,"display_name":"Mahendra Pratap"},"score":1,"creation_date":1550126144,"post_id":47485409,"comment_id":96157203,"body_markdown":"https://stackoverflow.com/questions/54478730/react-native-and-react-native-navigation-error/54684436#54684436","body":"<a href=\"https://stackoverflow.com/questions/54478730/react-native-and-react-native-navigation-error/54684436#54684436\" title=\"react native and react native navigation error\">stackoverflow.com/questions/54478730/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":268518,"reputation":23,"user_id":557324,"display_name":"shaopx"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1521038655,"creation_date":1521021693,"answer_id":49274699,"question_id":47485409,"body_markdown":"Run the following command in the terminal:\r\n\r\n    gradle --stop\r\n\r\nhttps://github.com/gradle/gradle/issues/3708\r\n","title":"Error:Could not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;","body":"<p>Run the following command in the terminal:</p>\n\n<pre><code>gradle --stop\n</code></pre>\n\n<p><a href=\"https://github.com/gradle/gradle/issues/3708\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/3708</a></p>\n"},{"tags":[],"owner":{"account_id":4873394,"reputation":713,"user_id":3929197,"accept_rate":56,"display_name":"Mahmoud Sabri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579770468,"creation_date":1579770468,"answer_id":59874837,"question_id":47485409,"body_markdown":"it seems this issue depend on some errors in your network or firewall  please make sure you have full access internet ","title":"Error:Could not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;","body":"<p>it seems this issue depend on some errors in your network or firewall  please make sure you have full access internet </p>\n"},{"tags":[],"owner":{"account_id":22689190,"reputation":31,"user_id":16858355,"display_name":"Blazej Tomaszewski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642500783,"creation_date":1642500783,"answer_id":70753804,"question_id":47485409,"body_markdown":"It might be a similar issue to mine. Sometimes gradle deamon has not been stopped after your last gradle command execution failed and you got:\r\n\r\n    * What went wrong:\r\n    Execution failed for task &#39;:xxx:compileJava&#39;.\r\n    &gt; Could not create service of type AnnotationProcessorDetector using JavaGradleScopeServices.createAnnotationProcessorDetector().\r\n\r\nTo fix that you should run:\r\n\r\n    ./gradlew --stop\r\nand it should display how many deamon workers were active and be able to run gradle task again:\r\n\r\n      Stopping Daemon(s)\r\n      1 Daemon stopped","title":"Error:Could not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;","body":"<p>It might be a similar issue to mine. Sometimes gradle deamon has not been stopped after your last gradle command execution failed and you got:</p>\n<pre><code>* What went wrong:\nExecution failed for task ':xxx:compileJava'.\n&gt; Could not create service of type AnnotationProcessorDetector using JavaGradleScopeServices.createAnnotationProcessorDetector().\n</code></pre>\n<p>To fix that you should run:</p>\n<pre><code>./gradlew --stop\n</code></pre>\n<p>and it should display how many deamon workers were active and be able to run gradle task again:</p>\n<pre><code>  Stopping Daemon(s)\n  1 Daemon stopped\n</code></pre>\n"}],"owner":{"display_name":"user9006971"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6642,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1642500783,"creation_date":1511609070,"question_id":47485409,"body_markdown":"I am using android studio 3.0.1, and I got an error:\r\n\r\n&gt; Error:Could not determine the dependencies of task\r\n&gt; &#39;:app:compileDebugJavaWithJavac&#39;. Could not create service of type\r\n&gt; AnnotationProcessorDetector using\r\n&gt; JavaGradleScopeServices.createAnnotationProcessorDetector().\r\n\r\nCan you help me to understand the above error and let me know how to fix it in android studio 3.0.1?","title":"Error:Could not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;","body":"<p>I am using android studio 3.0.1, and I got an error:</p>\n\n<blockquote>\n  <p>Error:Could not determine the dependencies of task\n  ':app:compileDebugJavaWithJavac'. Could not create service of type\n  AnnotationProcessorDetector using\n  JavaGradleScopeServices.createAnnotationProcessorDetector().</p>\n</blockquote>\n\n<p>Can you help me to understand the above error and let me know how to fix it in android studio 3.0.1?</p>\n"},{"tags":["java","json","avro","jsonschema","avro4s"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642500670,"creation_date":1642499801,"answer_id":70753579,"question_id":70751647,"body_markdown":"The key difference is this:\r\n\r\n  - IETF JSON schemas are schemas *for* JSON values; i.e. JSON objects and JSON arrays\r\n\r\n  - Avro schemas are schemas *for* Avro values.\r\n\r\nBoth JSON schemas and Avro schemas are *expressed* in JSON.  But the type systems that they describe are different.  For example, Avro has 6 kinds of complex types compared to JSON&#39;s 2 kinds.\r\n\r\n-------------\r\n\r\nA second difference is that IETF JSON schemas venture into areas such as validation (of values), schemas referencing other schemas and so forth.  Thus, you could say that JSON schemas have a broader *scope* than Avro schemas.  (But you don&#39;t have to make use of this if it isn&#39;t relevant to your use-cases.)\r\n\r\n","title":"Differences between IETF standard JSON schema and Avro schema","body":"<p>The key difference is this:</p>\n<ul>\n<li><p>IETF JSON schemas are schemas <em>for</em> JSON values; i.e. JSON objects and JSON arrays</p>\n</li>\n<li><p>Avro schemas are schemas <em>for</em> Avro values.</p>\n</li>\n</ul>\n<p>Both JSON schemas and Avro schemas are <em>expressed</em> in JSON.  But the type systems that they describe are different.  For example, Avro has 6 kinds of complex types compared to JSON's 2 kinds.</p>\n<hr />\n<p>A second difference is that IETF JSON schemas venture into areas such as validation (of values), schemas referencing other schemas and so forth.  Thus, you could say that JSON schemas have a broader <em>scope</em> than Avro schemas.  (But you don't have to make use of this if it isn't relevant to your use-cases.)</p>\n"}],"owner":{"account_id":182648,"reputation":3820,"user_id":417516,"accept_rate":68,"display_name":"banjara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1671,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642500670,"creation_date":1642490532,"question_id":70751647,"body_markdown":"Please help me understand the differences between IETF standard JSON schema and Avro schema. I google a lot but couldn&#39;t find anything concrete.\r\n","title":"Differences between IETF standard JSON schema and Avro schema","body":"<p>Please help me understand the differences between IETF standard JSON schema and Avro schema. I google a lot but couldn't find anything concrete.</p>\n"},{"tags":["java","docker","tomcat"],"owner":{"account_id":13933919,"reputation":3197,"user_id":10061438,"display_name":"Kristoffer T&#248;lb&#248;ll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1642500536,"creation_date":1642500536,"question_id":70753744,"body_markdown":"I have a sample Tomcat / Jax-RS application, where I want to implement,ent hot-reload / hot-swap using docker. \r\n\r\nI have created my docker file like this: \r\n\r\n```\r\nFROM tomcat:8.0-jre8-alpine\r\nENV JAVA_TOOL_OPTIONS -agentlib:jdwp=transport=dt_socket,address=9999,server=y,suspend=n\r\nADD target/*.war /usr/local/tomcat/webapps\r\n\r\nEXPOSE 8080\r\nEXPOSE 9999\r\n\r\nCMD [&quot;catalina.sh&quot;, &quot;run&quot;]\r\n```\r\n\r\nThis starts up the tomcat server correctly and I can access my sample JAX-RS endpoint. \r\n\r\nThe intention is, that I can change something in the endpoint, and it would update automatically.\r\n\r\nI have attached a remote debugger using IntelliJ to connect to my docker instance using the following configuration as displayed in the image below. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, when anything in the codebase is updated, it does not update anything automatically, even though the debugger is attached correctly, and gives the following response:\r\n\r\n`Connected to the target VM, address: &#39;172.17.0.2:9999&#39;, transport: &#39;socket&#39;` \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4lOYm.png","title":"Hot reload for tomcat server via docker","body":"<p>I have a sample Tomcat / Jax-RS application, where I want to implement,ent hot-reload / hot-swap using docker.</p>\n<p>I have created my docker file like this:</p>\n<pre><code>FROM tomcat:8.0-jre8-alpine\nENV JAVA_TOOL_OPTIONS -agentlib:jdwp=transport=dt_socket,address=9999,server=y,suspend=n\nADD target/*.war /usr/local/tomcat/webapps\n\nEXPOSE 8080\nEXPOSE 9999\n\nCMD [&quot;catalina.sh&quot;, &quot;run&quot;]\n</code></pre>\n<p>This starts up the tomcat server correctly and I can access my sample JAX-RS endpoint.</p>\n<p>The intention is, that I can change something in the endpoint, and it would update automatically.</p>\n<p>I have attached a remote debugger using IntelliJ to connect to my docker instance using the following configuration as displayed in the image below.</p>\n<p><a href=\"https://i.stack.imgur.com/4lOYm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4lOYm.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when anything in the codebase is updated, it does not update anything automatically, even though the debugger is attached correctly, and gives the following response:</p>\n<p><code>Connected to the target VM, address: '172.17.0.2:9999', transport: 'socket'</code></p>\n"},{"tags":["java","android","libgdx"],"answers":[{"tags":[],"owner":{"account_id":2294678,"reputation":5598,"user_id":2016436,"accept_rate":74,"display_name":"asherbret"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1450530639,"creation_date":1450530639,"answer_id":34371155,"question_id":34368616,"body_markdown":"It looks like you are having trouble with `Android&#39;s` life cycle. Rather than resisting it, by manually trying to kill your own process for example, you should learn how `LibGDX` handles it: For this, take a look at the `LibGDX` wiki on the app [life cycle](https://github.com/libgdx/libgdx/wiki/The-life-cycle).\r\n\r\nAs to your specific problem, my guess is that you&#39;re holding some `static` reference to your `Skin`, which means it survives your app &quot;exiting&quot; (after you&#39;ve read the above article, hopefully you&#39;ll understand more about this). But since you `disposed` of the `Skin` prior to exiting, then you&#39;re using a *disposed* asset, which won&#39;t work. The solution to this problem (if that is indeed the problem) is making sure you are creating a new `Skin` when the application `resumes`, rather than using the `disposed` one. Personally, I never have `static` references to assets for this reason exactly.","title":"How to exit a lib gdx application safely?","body":"<p>It looks like you are having trouble with <code>Android's</code> life cycle. Rather than resisting it, by manually trying to kill your own process for example, you should learn how <code>LibGDX</code> handles it: For this, take a look at the <code>LibGDX</code> wiki on the app <a href=\"https://github.com/libgdx/libgdx/wiki/The-life-cycle\" rel=\"nofollow\">life cycle</a>.</p>\n\n<p>As to your specific problem, my guess is that you're holding some <code>static</code> reference to your <code>Skin</code>, which means it survives your app \"exiting\" (after you've read the above article, hopefully you'll understand more about this). But since you <code>disposed</code> of the <code>Skin</code> prior to exiting, then you're using a <em>disposed</em> asset, which won't work. The solution to this problem (if that is indeed the problem) is making sure you are creating a new <code>Skin</code> when the application <code>resumes</code>, rather than using the <code>disposed</code> one. Personally, I never have <code>static</code> references to assets for this reason exactly.</p>\n"},{"tags":[],"owner":{"account_id":16903752,"reputation":181,"user_id":12224457,"display_name":"Avinabh chambial"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642500503,"creation_date":1600973721,"answer_id":64052701,"question_id":34368616,"body_markdown":"After using:\r\n```\r\nGdx.app.exit();\r\n```\r\nUse:\r\n```\r\nSystem.exit(-1);\r\n```","title":"How to exit a lib gdx application safely?","body":"<p>After using:</p>\n<pre><code>Gdx.app.exit();\n</code></pre>\n<p>Use:</p>\n<pre><code>System.exit(-1);\n</code></pre>\n"}],"owner":{"account_id":1308291,"reputation":73,"user_id":1256817,"accept_rate":50,"display_name":"Kevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1846,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":34371155,"answer_count":2,"score":2,"last_activity_date":1642500503,"creation_date":1450511675,"question_id":34368616,"body_markdown":"I have created an app using the lib gdx library, but now when trying to exit the app via the below code\r\n`Gdx.app.exit();`, it do not really exit the app but just hide it (process is cached in the background). \r\n\r\nOn the first run of the app, the main menu (created using skin) will appear fine\r\n[![enter image description here][1]][1]\r\n\r\nBut after exiting the app, then start the cached process, you will get issues with the main menu. I try to dispose of the skin in my code but it is still the same.\r\n[![enter image description here][2]][2]\r\n\r\nIs there anyway to fully exit the app using the below code as an alternative?\r\n\r\n    android.os.Process.killProcess(android.os.Process.myPid());\r\n\r\n  [1]: http://i.stack.imgur.com/s1z2S.png\r\n  [2]: http://i.stack.imgur.com/kpXfI.png","title":"How to exit a lib gdx application safely?","body":"<p>I have created an app using the lib gdx library, but now when trying to exit the app via the below code\n<code>Gdx.app.exit();</code>, it do not really exit the app but just hide it (process is cached in the background). </p>\n\n<p>On the first run of the app, the main menu (created using skin) will appear fine\n<a href=\"https://i.stack.imgur.com/s1z2S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s1z2S.png\" alt=\"enter image description here\"></a></p>\n\n<p>But after exiting the app, then start the cached process, you will get issues with the main menu. I try to dispose of the skin in my code but it is still the same.\n<a href=\"https://i.stack.imgur.com/kpXfI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kpXfI.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there anyway to fully exit the app using the below code as an alternative?</p>\n\n<pre><code>android.os.Process.killProcess(android.os.Process.myPid());\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":5,"creation_date":1642497342,"post_id":70752939,"comment_id":125079790,"body_markdown":"why not just `return personList.stream().filter(p -&gt; p.getAge() &lt; 18).collect(Collectors.toList());`?","body":"why not just <code>return personList.stream().filter(p -&gt; p.getAge() &lt; 18).collect(Collectors.toList());</code>?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1642497419,"post_id":70752939,"comment_id":125079827,"body_markdown":"By the way, when asking a question like &quot;what did I do wrong&quot; you should also tell us how you know there&#39;s something wrong (errors, wrong results, etc...)","body":"By the way, when asking a question like &quot;what did I do wrong&quot; you should also tell us how you know there&#39;s something wrong (errors, wrong results, etc...)"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1642497498,"post_id":70752939,"comment_id":125079867,"body_markdown":"And now that I think about it, (minor side note)  isn&#39;t the name of the method contradicting the fact that you&#39;re *removing* (not getting) people that are younger than 18?","body":"And now that I think about it, (minor side note)  isn&#39;t the name of the method contradicting the fact that you&#39;re <i>removing</i> (not getting) people that are younger than 18?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1642497523,"post_id":70752939,"comment_id":125079878,"body_markdown":"&quot;Can someone please let me know what I did wrong?&quot; - For we&#39;d need to know how you define &quot;wrong&quot;, e.g. what problem you ran into. The `getLessThen18()` method should do the trick with one potential problem: it changes the input list which might not be desired. So you might want to build a new list instead and which case you&#39;d not even need the explicit iterator. Just iterate over the persons and add only those whose age is 18+ to the new list which you return in the end. (What Federico is suggesting in his first comment is basically what I described here.)","body":"&quot;Can someone please let me know what I did wrong?&quot; - For we&#39;d need to know how you define &quot;wrong&quot;, e.g. what problem you ran into. The <code>getLessThen18()</code> method should do the trick with one potential problem: it changes the input list which might not be desired. So you might want to build a new list instead and which case you&#39;d not even need the explicit iterator. Just iterate over the persons and add only those whose age is 18+ to the new list which you return in the end. (What Federico is suggesting in his first comment is basically what I described here.)"},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1642497577,"post_id":70752939,"comment_id":125079895,"body_markdown":"@FedericoklezCulloca ,  you are right  indeed  , it&#39;s working  fine.\n\nRegarding error  i sould post also  my  output?\nThe error i get is","body":"@FedericoklezCulloca ,  you are right  indeed  , it&#39;s working  fine.  Regarding error  i sould post also  my  output? The error i get is"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1642497786,"post_id":70752939,"comment_id":125079970,"body_markdown":"@BecaliNr1 please [edit] your question. Comments are not good for long outputs or errors.","body":"@BecaliNr1 please <a href=\"https://stackoverflow.com/posts/70752939/edit\">edit</a> your question. Comments are not good for long outputs or errors."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1642497824,"post_id":70752939,"comment_id":125079984,"body_markdown":"Well ... one of the problems is that your `main` method is not declaring and initializing `listOfPersons`.  There may also be problems in your `Person` class, which you haven&#39;t shown us.","body":"Well ... one of the problems is that your <code>main</code> method is not declaring and initializing <code>listOfPersons</code>.  There may also be problems in your <code>Person</code> class, which you haven&#39;t shown us."},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1642498128,"post_id":70752939,"comment_id":125080119,"body_markdown":"@StephenC  , indeed i  forgot to add that here in my  question :( ,","body":"@StephenC  , indeed i  forgot to add that here in my  question :( ,"},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1642498161,"post_id":70752939,"comment_id":125080131,"body_markdown":"@FedericoklezCulloca  , sorry but what do  you mean to  edit my question  ?","body":"@FedericoklezCulloca  , sorry but what do  you mean to  edit my question  ?"},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1642498452,"post_id":70752939,"comment_id":125080245,"body_markdown":"@BecaliNr1 Hit the &quot;[Edit]&quot; button underneath your question (or just the link in this comment) and edit your question to add all the relevant missing information.","body":"@BecaliNr1 Hit the &quot;<a href=\"https://stackoverflow.com/posts/70752939/edit\">Edit</a>&quot; button underneath your question (or just the link in this comment) and edit your question to add all the relevant missing information."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1642498614,"post_id":70752939,"comment_id":125080319,"body_markdown":"@BecaliNr1 &quot;As i run the code i get the error that&quot; that what? Please edit your question again to complete that sentence.","body":"@BecaliNr1 &quot;As i run the code i get the error that&quot; that what? Please edit your question again to complete that sentence."},{"owner":{"display_name":"user17695302"},"score":0,"creation_date":1642498727,"post_id":70752939,"comment_id":125080358,"body_markdown":"@FedericoklezCulloca   , error  added and lines added to the code where i cet the error .","body":"@FedericoklezCulloca   , error  added and lines added to the code where i cet the error ."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":2,"creation_date":1642499018,"post_id":70752939,"comment_id":125080491,"body_markdown":"Please let this be a good lessen for your next question. As you can see in the given answer, the issue was in the `List.of`, which you added only in the second last edit. Please make sure your question contains a [mcve] when asking future questions about not working code.","body":"Please let this be a good lessen for your next question. As you can see in the given answer, the issue was in the <code>List.of</code>, which you added only in the second last edit. Please make sure your question contains a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> when asking future questions about not working code."},{"owner":{"display_name":"user17695302"},"score":1,"creation_date":1642499763,"post_id":70752939,"comment_id":125080836,"body_markdown":"@Ivar\nI  will pay  more attention for next time before i post my question :(,  it seems i forrgot to select and copy that line  and  as  given that line was the answer to my question .","body":"@Ivar I  will pay  more attention for next time before i post my question :(,  it seems i forrgot to select and copy that line  and  as  given that line was the answer to my question ."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642500470,"creation_date":1642498911,"answer_id":70753374,"question_id":70752939,"body_markdown":"The problem here is the `List.of`. It returns an immutable List, which cannot be modified: [Elements cannot be added, removed, or replaced][1].\r\n\r\nThus, you get an Exception when you try to call functions such as `iterator.remove();`.\r\n\r\nThere are these solutions:\r\n\r\n- Create a mutable List by copying the elements of the immutable List to a mutable one using a copy constructor:\r\n\r\n  `List&lt;Person&gt; listOfPersons = new ArrayList(List.of(person1, person2, person3));`\r\n\r\n- Filter the existing List and create a new one (leaving the original List ontouched):\r\n\r\n  `return personList.stream().filter(person-&gt;person.getAge()&lt;18).collect(Collectors.toList());`\r\n\r\n&lt;s&gt;- Create a mutable List right away using `Arrays.asList` (which returns an `ArrayList`)&lt;/s&gt;\r\n&lt;s&gt;List&lt;Person&gt; listOfPersons = Arrays.asList(person1, person2, person3);`&lt;/s&gt;\r\n\r\nEDIT: `Arrays.asList` creates an ArrayList, but it&#39;s a different class (private static inside of `Arrays`) than anyone would assume..\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E...-","title":"How to remove under 18 years old from list?","body":"<p>The problem here is the <code>List.of</code>. It returns an immutable List, which cannot be modified: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E...-\" rel=\"nofollow noreferrer\">Elements cannot be added, removed, or replaced</a>.</p>\n<p>Thus, you get an Exception when you try to call functions such as <code>iterator.remove();</code>.</p>\n<p>There are these solutions:</p>\n<ul>\n<li><p>Create a mutable List by copying the elements of the immutable List to a mutable one using a copy constructor:</p>\n<p><code>List&lt;Person&gt; listOfPersons = new ArrayList(List.of(person1, person2, person3));</code></p>\n</li>\n<li><p>Filter the existing List and create a new one (leaving the original List ontouched):</p>\n<p><code>return personList.stream().filter(person-&gt;person.getAge()&lt;18).collect(Collectors.toList());</code></p>\n</li>\n</ul>\n<p><s>- Create a mutable List right away using <code>Arrays.asList</code> (which returns an <code>ArrayList</code>)</s>\n<s>List listOfPersons = Arrays.asList(person1, person2, person3);`</s></p>\n<p>EDIT: <code>Arrays.asList</code> creates an ArrayList, but it's a different class (private static inside of <code>Arrays</code>) than anyone would assume..</p>\n"},{"tags":[],"owner":{"account_id":341492,"reputation":1861,"user_id":672135,"accept_rate":88,"display_name":"HectorLector"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642499017,"creation_date":1642499017,"answer_id":70753392,"question_id":70752939,"body_markdown":"Your code (`List.of`) creates an `immutable` list of persons:\r\n\r\n        List&lt;Person&gt; listOfPersons = List.of(person1, person2, person3);\r\n\r\nSo calling remove/add will cause an Exception - as in your case.\r\n\r\nAlso your method name is misleading, since you are changing/mutating the passed list parameter and not return a new list (as suggested by the return value).\r\n\r\nA possible way to do it would be:\r\n\r\n     public static List&lt;Person&gt; getLessThen18(List&lt;Person&gt; personList) {\r\n        return personList.stream()\r\n                         .filter(person -&gt; person.getAge() &lt; 18)\r\n                         .collect(Collectors.toList());   \r\n     }\r\n\r\n","title":"How to remove under 18 years old from list?","body":"<p>Your code (<code>List.of</code>) creates an <code>immutable</code> list of persons:</p>\n<pre><code>    List&lt;Person&gt; listOfPersons = List.of(person1, person2, person3);\n</code></pre>\n<p>So calling remove/add will cause an Exception - as in your case.</p>\n<p>Also your method name is misleading, since you are changing/mutating the passed list parameter and not return a new list (as suggested by the return value).</p>\n<p>A possible way to do it would be:</p>\n<pre><code> public static List&lt;Person&gt; getLessThen18(List&lt;Person&gt; personList) {\n    return personList.stream()\n                     .filter(person -&gt; person.getAge() &lt; 18)\n                     .collect(Collectors.toList());   \n }\n</code></pre>\n"}],"owner":{"display_name":"user17695302"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70753392,"answer_count":2,"score":1,"last_activity_date":1642500470,"creation_date":1642496950,"question_id":70752939,"body_markdown":"I  try to remove  all the person  under  18 years old from my list, \r\nso i have a class Person  and   this is what i tried in  my Main:\r\n\r\n   \r\n\r\n    import java.util.*;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n           \r\n            Person person1 = new Person(&quot;Victor&quot;, 28, &quot;meerdonk&quot;);\r\n            Person person2 = new Person(&quot;Alex&quot;, 17, &quot;antwerpen&quot;);\r\n            Person person3 = new Person(&quot;Vlad&quot;, 15, &quot;mechelen&quot;);\r\n\r\n            List&lt;Person&gt; listOfPersons = List.of(person1, person2, person3);\r\n       \r\n            List&lt;Person&gt; adults = getLessThen18(listOfPersons); **//line 22**\r\n            System.out.println(adults);\r\n    }   \r\n     public static List&lt;Person&gt; getLessThen18(List&lt;Person&gt; personList) {\r\n    \r\n           for (Iterator&lt;Person&gt; iterator = personList.listIterator(); iterator.hasNext();){\r\n               if (iterator.next().getAge() &lt; 18 ) {\r\n                    iterator.remove(); **//line 40**\r\n               }\r\n           }\r\n            return personList;\r\n        }\r\n    }\r\n\r\nSo I  try to iterate trough the list of persons  and then  if the person is  under 18  to remove it.\r\nAs i run the code i get this output :\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\r\n    \tat java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)\r\n    \tat java.base/java.util.ImmutableCollections$ListItr.remove(ImmutableCollections.java:380)\r\n    \tat victor.Main.getLessThen18Iteration(Main.java:40)\r\n    \tat victor.Main.main(Main.java:22)\r\n\r\nCan someone please  let me know what I did wrong?\r\n\r\n","title":"How to remove under 18 years old from list?","body":"<p>I  try to remove  all the person  under  18 years old from my list,\nso i have a class Person  and   this is what i tried in  my Main:</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n       \n        Person person1 = new Person(&quot;Victor&quot;, 28, &quot;meerdonk&quot;);\n        Person person2 = new Person(&quot;Alex&quot;, 17, &quot;antwerpen&quot;);\n        Person person3 = new Person(&quot;Vlad&quot;, 15, &quot;mechelen&quot;);\n\n        List&lt;Person&gt; listOfPersons = List.of(person1, person2, person3);\n   \n        List&lt;Person&gt; adults = getLessThen18(listOfPersons); **//line 22**\n        System.out.println(adults);\n}   \n public static List&lt;Person&gt; getLessThen18(List&lt;Person&gt; personList) {\n\n       for (Iterator&lt;Person&gt; iterator = personList.listIterator(); iterator.hasNext();){\n           if (iterator.next().getAge() &lt; 18 ) {\n                iterator.remove(); **//line 40**\n           }\n       }\n        return personList;\n    }\n}\n</code></pre>\n<p>So I  try to iterate trough the list of persons  and then  if the person is  under 18  to remove it.\nAs i run the code i get this output :</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\n    at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)\n    at java.base/java.util.ImmutableCollections$ListItr.remove(ImmutableCollections.java:380)\n    at victor.Main.getLessThen18Iteration(Main.java:40)\n    at victor.Main.main(Main.java:22)\n</code></pre>\n<p>Can someone please  let me know what I did wrong?</p>\n"},{"tags":["java","android","date","time","format"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1385895048,"post_id":20311306,"comment_id":30309013,"body_markdown":"For what exactly? For some system library to read? For display to humans?","body":"For what exactly? For some system library to read? For display to humans?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1385895134,"post_id":20311306,"comment_id":30309030,"body_markdown":"Use `SimpleDateFormat`. If you have problems, ask a more specific question.","body":"Use <code>SimpleDateFormat</code>. If you have problems, ask a more specific question."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1531781446,"post_id":20311306,"comment_id":89714261,"body_markdown":"FYI, the troublesome old date-time classes such as `java.util.Date`, `java.util.Calendar`, and `java.text.SimpleDateFormat` are now legacy, supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes. Much of the *java.time*&#160;functionality is back-ported to Java 6 &amp; Java 7 in the [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) project. Further adapted for earlier Android in the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).","body":"FYI, the troublesome old date-time classes such as <code>java.util.Date</code>, <code>java.util.Calendar</code>, and <code>java.text.SimpleDateFormat</code> are now legacy, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes. Much of the <i>java.time</i> functionality is back-ported to Java 6 &amp; Java 7 in the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><b><i>ThreeTen-Backport</i></b></a> project. Further adapted for earlier Android in the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><b><i>ThreeTenABP</i></b></a> project. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><i>How to use ThreeTenABP…</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":933696,"reputation":995,"user_id":963038,"accept_rate":75,"display_name":"Md. Tahmid Mozaffar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1385895716,"creation_date":1385895716,"answer_id":20311410,"question_id":20311306,"body_markdown":"You can format it various way...\r\n\r\n    Date date = new Date();\r\n\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;h:mm a&quot;);\r\n\tString currentTime = sdf.format(date);\r\n\r\n\r\nHere you can put other format like\r\n\r\n   k:mm\r\n\r\n   h:mm\r\n\r\n   h:mm dd/MM/yyyy    \r\n  etc.....\r\n\r\ncheck this.... http://developer.android.com/reference/java/text/SimpleDateFormat.html\r\n\r\n\r\n\r\n\r\n   ","title":"Android: How to Format Date and Time Strings correctly?","body":"<p>You can format it various way...</p>\n\n<pre><code>Date date = new Date();\nSimpleDateFormat sdf = new SimpleDateFormat(\"h:mm a\");\nString currentTime = sdf.format(date);\n</code></pre>\n\n<p>Here you can put other format like</p>\n\n<p>k:mm</p>\n\n<p>h:mm</p>\n\n<p>h:mm dd/MM/yyyy<br>\n  etc.....</p>\n\n<p>check this.... <a href=\"http://developer.android.com/reference/java/text/SimpleDateFormat.html\" rel=\"nofollow\">http://developer.android.com/reference/java/text/SimpleDateFormat.html</a></p>\n"},{"tags":[],"owner":{"account_id":183228,"reputation":424,"user_id":2447726,"display_name":"Guy West"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1386257071,"creation_date":1386257071,"answer_id":20403841,"question_id":20311306,"body_markdown":"Thanks @receme  I solved it. like this:\r\n\r\n&lt;code&gt;\r\n\r\n\tDate date = new Date();\r\n\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;h:mm a&quot;,Locale.getDefault());\r\n\tString currentTime = sdf.format(date);\r\n\tLog.i(LOGTAG,&quot;Current Time: &quot; + currentTime);\r\n\r\n&lt;/code&gt;","title":"Android: How to Format Date and Time Strings correctly?","body":"<p>Thanks @receme  I solved it. like this:</p>\n\n<p><code></p>\n\n<pre><code>Date date = new Date();\nSimpleDateFormat sdf = new SimpleDateFormat(\"h:mm a\",Locale.getDefault());\nString currentTime = sdf.format(date);\nLog.i(LOGTAG,\"Current Time: \" + currentTime);\n</code></pre>\n\n<p></code></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531779351,"creation_date":1386302384,"answer_id":20415725,"question_id":20311306,"body_markdown":"**Update:** The [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\n# Joda-Time\r\n\r\nInstall third-party library, [Joda-Time][1].\r\n\r\nBy default, Joda-Time outputs strings in [ISO 8601][2] format. That format is intuitively understandable by virtually anybody worldwide. \r\n\r\nSearch StackOverflow.com for many more examples.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    // &#169; 2013 Basil Bourque. This source code may be used freely forever by anyone taking full responsibility for doing so.\r\n    // import org.joda.time.*;\r\n\r\n    DateTime now = new DateTime();\r\n    System.out.println( now );\r\n\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\nWhen run…\r\n\r\n    2013-12-05T19:55:43.897-08:00\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601","title":"Android: How to Format Date and Time Strings correctly?","body":"<p><strong>Update:</strong> The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<h1>Joda-Time</h1>\n\n<p>Install third-party library, <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a>.</p>\n\n<p>By default, Joda-Time outputs strings in <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format. That format is intuitively understandable by virtually anybody worldwide. </p>\n\n<p>Search StackOverflow.com for many more examples.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// © 2013 Basil Bourque. This source code may be used freely forever by anyone taking full responsibility for doing so.\n// import org.joda.time.*;\n\nDateTime now = new DateTime();\nSystem.out.println( now );\n</code></pre>\n\n<p>When run…</p>\n\n<pre><code>2013-12-05T19:55:43.897-08:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2082956,"reputation":6094,"user_id":1854563,"accept_rate":33,"display_name":"Gunnar Bernstein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397160486,"creation_date":1397160486,"answer_id":22998014,"question_id":20311306,"body_markdown":"I would like to add my share here.\r\n\r\nNote that the user can set his preferred format in the settings. Example on how to retrieve:\r\n\r\n\tstatic DateFormat getUserDateFormat(Context context) {\r\n\t\tif (mUserDateFormat == null)\r\n\t\t\tmUserDateFormat = android.text.format.DateFormat.getDateFormat(context.getApplicationContext());\r\n\t\treturn mUserDateFormat;\r\n\t}\r\n\r\nSee also `...getTimeFormat`\r\n\r\nYou then have a java DateFormat to use with above mentioned examples.\r\n\r\nFurthermore, Android contains it&#39;s own TextFormat class, look here: http://developer.android.com/reference/android/text/format/package-summary.html\r\n\r\nThis may look like:\r\n\r\n\tstatic String getAppExpiredString() {\r\n\t\tString date = android.text.format.DateFormat.getDateFormat(getAppContext()).format(App_Main.APP_RUN_TILL.getTime());\r\n\t\treturn getAppContext().getString(R.string.app_expired) + &quot; &quot; + date + &quot;.&quot;;\r\n\t}","title":"Android: How to Format Date and Time Strings correctly?","body":"<p>I would like to add my share here.</p>\n\n<p>Note that the user can set his preferred format in the settings. Example on how to retrieve:</p>\n\n<pre><code>static DateFormat getUserDateFormat(Context context) {\n    if (mUserDateFormat == null)\n        mUserDateFormat = android.text.format.DateFormat.getDateFormat(context.getApplicationContext());\n    return mUserDateFormat;\n}\n</code></pre>\n\n<p>See also <code>...getTimeFormat</code></p>\n\n<p>You then have a java DateFormat to use with above mentioned examples.</p>\n\n<p>Furthermore, Android contains it's own TextFormat class, look here: <a href=\"http://developer.android.com/reference/android/text/format/package-summary.html\" rel=\"nofollow\">http://developer.android.com/reference/android/text/format/package-summary.html</a></p>\n\n<p>This may look like:</p>\n\n<pre><code>static String getAppExpiredString() {\n    String date = android.text.format.DateFormat.getDateFormat(getAppContext()).format(App_Main.APP_RUN_TILL.getTime());\n    return getAppContext().getString(R.string.app_expired) + \" \" + date + \".\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531781426,"creation_date":1531781426,"answer_id":51371048,"question_id":20311306,"body_markdown":"# tl;dr\r\n\r\n    Instant.ofEpochMilli(    // Parse milliseconds count to a moment in UTC.\r\n        file.lastModified()  // A count of milliseconds since the epoch reference of first moment of 1970 in UTC, 1970-01-01T00:00:00Z.\r\n    )                        // Returns a `Instant` object.\r\n    .atZone(                 // Adjust from UTC to some time zone. Same moment, same point on the timeline, different wall-clock time.\r\n        ZoneId.of( &quot;Africa/Tunis&quot; )\r\n    )                        // Returns a `ZonedDateTime` object.\r\n    .format(                 // Generate a `String`.\r\n        DateTimeFormatter\r\n        .ofLocalizedDateTime( FormatStyle.FULL )  // Specify how long or abbreviated.\r\n        .withLocale( Locale.JAPAN )  // Specify a `Local` to determine human language and cultural norms used in localizing.\r\n    )                        // Returns a `String`. \r\n\r\n\r\n\r\n# java.time\r\n\r\nThe modern approach uses the *java.time* classes.\r\n\r\nThe `File.lastModified` method returns a count of milliseconds since the epoch reference of first moment of 1970 in UTC, 1970-01-01T00:00:00Z.\r\n\r\n    long millisSinceEpoch = file.lastModified() ;\r\n    \r\nParse that number as a modern *java.time* object.\r\n\r\n    Instant instant = Instant.ofEpochMilli( millisSinceEpoch ) ;\r\n\r\nGenerate a `String` to represent that values using standard ISO 8601 format.\r\n\r\n    String output = instant.toString() ;  // Generate a `String` in standard ISO 8601 format.\r\n\r\n&gt;2018-07-16T22:40:39.937Z\r\n\r\nTo view the same moment through the lens of the wall-clock time used by the people of a particular region (a time zone), apply a `ZoneId` to get a `ZonedDateTime`.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Pacific/Auckland&quot; ) ;\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n\r\n&gt;2018-07-17T10:40:39.937+12:00[Pacific/Auckland]\r\n\r\nLet *java.time* automatically localize. To localize, specify:\r\n\r\n - [`FormatStyle`](http://docs.oracle.com/javase/10/docs/api/java/time/format/FormatStyle.html) to determine how long or abbreviated should the string be.\r\n - [`Locale`](http://docs.oracle.com/javase/10/docs/api/java/util/Locale.html) to determine:\r\n  - The *human language* for translation of name of day, name of month, and such.\r\n  - The *cultural norms* deciding issues of abbreviation, capitalization, punctuation, separators, and such.\r\n\r\nExample:\r\n\r\n    Locale l = Locale.CANADA_FRENCH ; \r\n    DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.FULL ).withLocale( l );\r\n    String output = zdt.format( f );\r\n\r\n&gt;mardi 17 juillet 2018 &#224; 10:40:39 heure normale de la Nouvelle-Z&#233;lande\r\n\r\n\r\n    \r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/time/ZoneOffset.html#UTC\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601","title":"Android: How to Format Date and Time Strings correctly?","body":"<h1>tl;dr</h1>\n\n<pre><code>Instant.ofEpochMilli(    // Parse milliseconds count to a moment in UTC.\n    file.lastModified()  // A count of milliseconds since the epoch reference of first moment of 1970 in UTC, 1970-01-01T00:00:00Z.\n)                        // Returns a `Instant` object.\n.atZone(                 // Adjust from UTC to some time zone. Same moment, same point on the timeline, different wall-clock time.\n    ZoneId.of( \"Africa/Tunis\" )\n)                        // Returns a `ZonedDateTime` object.\n.format(                 // Generate a `String`.\n    DateTimeFormatter\n    .ofLocalizedDateTime( FormatStyle.FULL )  // Specify how long or abbreviated.\n    .withLocale( Locale.JAPAN )  // Specify a `Local` to determine human language and cultural norms used in localizing.\n)                        // Returns a `String`. \n</code></pre>\n\n<h1>java.time</h1>\n\n<p>The modern approach uses the <em>java.time</em> classes.</p>\n\n<p>The <code>File.lastModified</code> method returns a count of milliseconds since the epoch reference of first moment of 1970 in UTC, 1970-01-01T00:00:00Z.</p>\n\n<pre><code>long millisSinceEpoch = file.lastModified() ;\n</code></pre>\n\n<p>Parse that number as a modern <em>java.time</em> object.</p>\n\n<pre><code>Instant instant = Instant.ofEpochMilli( millisSinceEpoch ) ;\n</code></pre>\n\n<p>Generate a <code>String</code> to represent that values using standard ISO 8601 format.</p>\n\n<pre><code>String output = instant.toString() ;  // Generate a `String` in standard ISO 8601 format.\n</code></pre>\n\n<blockquote>\n  <p>2018-07-16T22:40:39.937Z</p>\n</blockquote>\n\n<p>To view the same moment through the lens of the wall-clock time used by the people of a particular region (a time zone), apply a <code>ZoneId</code> to get a <code>ZonedDateTime</code>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Pacific/Auckland\" ) ;\nZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n\n<blockquote>\n  <p>2018-07-17T10:40:39.937+12:00[Pacific/Auckland]</p>\n</blockquote>\n\n<p>Let <em>java.time</em> automatically localize. To localize, specify:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/format/FormatStyle.html\" rel=\"nofollow noreferrer\"><code>FormatStyle</code></a> to determine how long or abbreviated should the string be.</li>\n<li><a href=\"http://docs.oracle.com/javase/10/docs/api/java/util/Locale.html\" rel=\"nofollow noreferrer\"><code>Locale</code></a> to determine:\n\n<ul>\n<li>The <em>human language</em> for translation of name of day, name of month, and such.</li>\n<li>The <em>cultural norms</em> deciding issues of abbreviation, capitalization, punctuation, separators, and such.</li>\n</ul></li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>Locale l = Locale.CANADA_FRENCH ; \nDateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.FULL ).withLocale( l );\nString output = zdt.format( f );\n</code></pre>\n\n<blockquote>\n  <p>mardi 17 juillet 2018 à 10:40:39 heure normale de la Nouvelle-Zélande</p>\n</blockquote>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":10126189,"reputation":2319,"user_id":7481448,"display_name":"Aminul Haque Aome"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642499920,"creation_date":1642499487,"answer_id":70753518,"question_id":20311306,"body_markdown":"Though, The question is very old, but it may help one who wants it Kotlin version of this answer. Here I take a empty file name **`DateUtil`** and create a function called **`getDateString()`** which has 3 arguments.\r\n\r\n    1st argument : Your input date\r\n    2nd argument : Your input date pattern\r\n    3rd argument : Your wanted date pattern\r\n\r\n`DateUtil.kt`\r\n\r\n    object DatePattern {\r\n        const val YEAR_MONTH_DAY = &quot;yyyy-MM-dd&quot;\r\n        const val DAY_MONTH_YEAR = &quot;dd-MM-yyyy&quot;\r\n        const val RFC3339 = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;\r\n    }\r\n\r\n    fun getDateString(date: String, inputDatePattern: String, outputDatePattern: String): String {\r\n        return try {\r\n            val inputFormat = SimpleDateFormat(inputDatePattern, getDefault())\r\n            val outputFormat = SimpleDateFormat(outputDatePattern, getDefault())\r\n    \r\n            outputFormat.format(inputFormat.parse(date))\r\n        } catch (e: Exception) {\r\n            &quot;&quot;\r\n        }\r\n    }\r\n\r\nAnd now use this method in your activity/fuction/dataSourse Mapper to get Date in String format like this\r\n\r\n    getDate(&quot;2022-01-18T14:41:52Z&quot;, RFC3339, DAY_MONTH_YEAR)\r\n\r\nand output will be like this\r\n\r\n    18-01-2022","title":"Android: How to Format Date and Time Strings correctly?","body":"<p>Though, The question is very old, but it may help one who wants it Kotlin version of this answer. Here I take a empty file name <strong><code>DateUtil</code></strong> and create a function called <strong><code>getDateString()</code></strong> which has 3 arguments.</p>\n<pre><code>1st argument : Your input date\n2nd argument : Your input date pattern\n3rd argument : Your wanted date pattern\n</code></pre>\n<p><code>DateUtil.kt</code></p>\n<pre><code>object DatePattern {\n    const val YEAR_MONTH_DAY = &quot;yyyy-MM-dd&quot;\n    const val DAY_MONTH_YEAR = &quot;dd-MM-yyyy&quot;\n    const val RFC3339 = &quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;\n}\n\nfun getDateString(date: String, inputDatePattern: String, outputDatePattern: String): String {\n    return try {\n        val inputFormat = SimpleDateFormat(inputDatePattern, getDefault())\n        val outputFormat = SimpleDateFormat(outputDatePattern, getDefault())\n\n        outputFormat.format(inputFormat.parse(date))\n    } catch (e: Exception) {\n        &quot;&quot;\n    }\n}\n</code></pre>\n<p>And now use this method in your activity/fuction/dataSourse Mapper to get Date in String format like this</p>\n<pre><code>getDate(&quot;2022-01-18T14:41:52Z&quot;, RFC3339, DAY_MONTH_YEAR)\n</code></pre>\n<p>and output will be like this</p>\n<pre><code>18-01-2022\n</code></pre>\n"}],"owner":{"account_id":183228,"reputation":424,"user_id":2447726,"display_name":"Guy West"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20311410,"answer_count":6,"score":0,"last_activity_date":1642499920,"creation_date":1385894900,"question_id":20311306,"body_markdown":"How should I correctly format **Date** and **Time** Strings for the Android platform?\r\n\r\nHere is some code:\r\n&lt;code&gt;\r\n\r\n    String path = getFilesDir().getPath();\r\n    String filePath = path + &quot;/somefile.xml&quot;;\r\n    File file = new File(filePath);\r\n    Date lastModDate = new Date(file.lastModified());\r\n    String filelastModDate = &quot;Updated: &quot; + lastModDate.toString();\r\n&lt;/code&gt;","title":"Android: How to Format Date and Time Strings correctly?","body":"<p>How should I correctly format <strong>Date</strong> and <strong>Time</strong> Strings for the Android platform?</p>\n\n<p>Here is some code:\n<code></p>\n\n<pre><code>String path = getFilesDir().getPath();\nString filePath = path + \"/somefile.xml\";\nFile file = new File(filePath);\nDate lastModDate = new Date(file.lastModified());\nString filelastModDate = \"Updated: \" + lastModDate.toString();\n</code></pre>\n\n<p></code></p>\n"},{"tags":["java","swing","jpanel","paint","paintcomponent"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1640114306,"post_id":70440475,"comment_id":124517753,"body_markdown":"Swing was not designed to paint with transparent colors.  You can paint a background on a `JPanel` with Swing components.","body":"Swing was not designed to paint with transparent colors.  You can paint a background on a <code>JPanel</code> with Swing components."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1640115319,"post_id":70440475,"comment_id":124518071,"body_markdown":"I cannot reproduce the problem (or I didn&#39;t understand it), but I had used an blue `JPanel` as background instead of the `SpatialView`. I can only see the button - [screenshot](https://i.stack.imgur.com/z0wWv.png), the `TransparentPanel` is transparent; maybe the `SpatialView` does not recognize that the panel is transparent and does not paint the area that would be *obscured* behind the panel","body":"I cannot reproduce the problem (or I didn&#39;t understand it), but I had used an blue <code>JPanel</code> as background instead of the <code>SpatialView</code>. I can only see the button - <a href=\"https://i.stack.imgur.com/z0wWv.png\" rel=\"nofollow noreferrer\">screenshot</a>, the <code>TransparentPanel</code> is transparent; maybe the <code>SpatialView</code> does not recognize that the panel is transparent and does not paint the area that would be <i>obscured</i> behind the panel"},{"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"score":0,"creation_date":1640115681,"post_id":70440475,"comment_id":124518200,"body_markdown":"It seems to be an issue with Java3D. I replaced the SpatialView with another &quot;normal&quot; JPanel from another project and turned the popupPanel into a normal JPanel again. It works with setBackground and setOpaque as expected. So yes, Swing can definitely paint with transparent colors. But Java3D interferes somehow and prevents the effect. I&#39;ll repost as Java3D issue. Thank you.","body":"It seems to be an issue with Java3D. I replaced the SpatialView with another &quot;normal&quot; JPanel from another project and turned the popupPanel into a normal JPanel again. It works with setBackground and setOpaque as expected. So yes, Swing can definitely paint with transparent colors. But Java3D interferes somehow and prevents the effect. I&#39;ll repost as Java3D issue. Thank you."}],"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642499879,"creation_date":1640113723,"question_id":70440475,"body_markdown":"I am actually trying to create a JPanel, containing a bunch of ui elements for the user to manipulate the application. This panel is placed on top of Java3D scene. Therefore, I wanted the background of this JPanel to be transparent. Neither `panel.setBackground(new Color(0,0,0,0))` nor `popupPanel.setOpaque(false)` nor both calls made the panel background transparent. So I decided to sub-class JPanel and play with paintComponent. No effect. Then I tried paint. Nothing. Then I got confused. So I overwrote literally every method I know of, related to painting a JPanel and left each method body blanc (see below). When I run the application, I still get the panel. How can that be? I placed some System.out.println to be sure that the class is the right one, and is called. It is the right one. Despite all this missing code, the only difference to a normal JPanel is that the button is only painted if the mouse enters the button bounds. What am I missing?\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Graphics;\r\n    import java.awt.Rectangle;\r\n    \r\n    import javax.swing.JPanel;\r\n    \r\n    public class TransparentPanel extends JPanel {\r\n    \r\n    \tprotected Color bg = new Color(0,0,0,0);\r\n    \r\n    \tpublic TransparentPanel() {\r\n    \t\tsuper();\r\n    \t\tsetOpaque(false);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void paintComponent(Graphics g) {\t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void paint(Graphics g) {\r\n    \t\tSystem.out.println(System.getProperty(&quot;java.vendor&quot;));\r\n    \t\tSystem.out.println(System.getProperty(&quot;java.version&quot;));\r\n    \t\tfor(Component c: getComponents()) {\r\n    \t\t\tSystem.out.println(c.toString());\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void repaint(Rectangle r) {}\r\n    \t\r\n    \t@Override\r\n    \tpublic void repaint(long tm,int x,int y,int width, int height) {}\r\n    \t\r\n    \t@Override\r\n    \tprotected void paintChildren(Graphics g) {}\r\n    \t\r\n    \t@Override\r\n    \tprotected void paintBorder(Graphics g) {}\r\n    \t\r\n    \t@Override\r\n    \tpublic void paintImmediately(int x,int y,int width, int height) {}\r\n    \t\r\n    \t@Override\r\n    \tpublic void paintImmediately(Rectangle r) {}\r\n    \r\n    }\r\nand \r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.OverlayLayout;\r\n    \r\n    public class OverlayoutTest extends JFrame {\r\n    \r\n    \r\n    \tpublic OverlayoutTest() {\r\n    \t\tsuper(&quot;Test&quot;);\r\n    \r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetSize(new Dimension(400, 300));\r\n    \r\n    \t\tadd(createPanel());\r\n    \t\tsetLocationRelativeTo(null);\r\n    \t\tsetVisible(true);\r\n    \t}\r\n    \r\n    \tprivate  JPanel createPanel() {\r\n    \t\tJPanel mainPanel = new JPanel(){\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean isOptimizedDrawingEnabled() {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tmainPanel.setLayout(new OverlayLayout(mainPanel));\r\n    \r\n    \t\t\r\n    \t\tJComponent popupPanel = createPopupPanel();\r\n    \t\tpopupPanel.setAlignmentX(1.0f);\r\n    \t\tpopupPanel.setAlignmentY(0.0f);\r\n    \t\tmainPanel.add(popupPanel);\r\n    \r\n    \t\tSpatialView view = new SpatialView(null);\t\t// A class extending JPanel containing a Java3D Canvas3D in a BorderLayout\r\n    \t\tmainPanel.add(view);\r\n    \t\tview.addScaledPlanetModel();\r\n    \r\n    \t\treturn mainPanel;\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    \tprivate JComponent createPopupPanel() {\r\n    \t\tTransparentPanel popupPanel = new TransparentPanel();\r\n    //\t\tpopupPanel.setBackground(new Color(0,0,0,0));\r\n    //\t\tpopupPanel.setOpaque(false);\r\n    \t\tpopupPanel.setMaximumSize(new Dimension(250, 300));\r\n    \t\t\r\n    \r\n    \t\tJButton button = new JButton(&quot;HI there!&quot;);   // the button does nothing but is nice to spot\r\n    \t\tbutton.setForeground(Color.WHITE);\r\n    \t\tpopupPanel.add(button );\r\n    \r\n    \t\treturn popupPanel;\r\n    \t}\r\n    \r\n    \r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew OverlayoutTest();\r\n    \t}\r\n    }\r\n\r\n\r\nI am using OpenJDK version &quot;11&quot; 2018-09-25, build 11+28 and Java3D 1.7.0","title":"Why is JPanel still painted?","body":"<p>I am actually trying to create a JPanel, containing a bunch of ui elements for the user to manipulate the application. This panel is placed on top of Java3D scene. Therefore, I wanted the background of this JPanel to be transparent. Neither <code>panel.setBackground(new Color(0,0,0,0))</code> nor <code>popupPanel.setOpaque(false)</code> nor both calls made the panel background transparent. So I decided to sub-class JPanel and play with paintComponent. No effect. Then I tried paint. Nothing. Then I got confused. So I overwrote literally every method I know of, related to painting a JPanel and left each method body blanc (see below). When I run the application, I still get the panel. How can that be? I placed some System.out.println to be sure that the class is the right one, and is called. It is the right one. Despite all this missing code, the only difference to a normal JPanel is that the button is only painted if the mouse enters the button bounds. What am I missing?</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Graphics;\nimport java.awt.Rectangle;\n\nimport javax.swing.JPanel;\n\npublic class TransparentPanel extends JPanel {\n\n    protected Color bg = new Color(0,0,0,0);\n\n    public TransparentPanel() {\n        super();\n        setOpaque(false);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) { }\n    \n    @Override\n    public void paint(Graphics g) {\n        System.out.println(System.getProperty(&quot;java.vendor&quot;));\n        System.out.println(System.getProperty(&quot;java.version&quot;));\n        for(Component c: getComponents()) {\n            System.out.println(c.toString());\n        }\n    }\n    \n    @Override\n    public void repaint(Rectangle r) {}\n    \n    @Override\n    public void repaint(long tm,int x,int y,int width, int height) {}\n    \n    @Override\n    protected void paintChildren(Graphics g) {}\n    \n    @Override\n    protected void paintBorder(Graphics g) {}\n    \n    @Override\n    public void paintImmediately(int x,int y,int width, int height) {}\n    \n    @Override\n    public void paintImmediately(Rectangle r) {}\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\n\nimport javax.swing.JButton;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.OverlayLayout;\n\npublic class OverlayoutTest extends JFrame {\n\n\n    public OverlayoutTest() {\n        super(&quot;Test&quot;);\n\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(new Dimension(400, 300));\n\n        add(createPanel());\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n\n    private  JPanel createPanel() {\n        JPanel mainPanel = new JPanel(){\n            @Override\n            public boolean isOptimizedDrawingEnabled() {\n                return false;\n            }\n        };\n        mainPanel.setLayout(new OverlayLayout(mainPanel));\n\n        \n        JComponent popupPanel = createPopupPanel();\n        popupPanel.setAlignmentX(1.0f);\n        popupPanel.setAlignmentY(0.0f);\n        mainPanel.add(popupPanel);\n\n        SpatialView view = new SpatialView(null);       // A class extending JPanel containing a Java3D Canvas3D in a BorderLayout\n        mainPanel.add(view);\n        view.addScaledPlanetModel();\n\n        return mainPanel;\n    }\n    \n    \n\n    private JComponent createPopupPanel() {\n        TransparentPanel popupPanel = new TransparentPanel();\n//      popupPanel.setBackground(new Color(0,0,0,0));\n//      popupPanel.setOpaque(false);\n        popupPanel.setMaximumSize(new Dimension(250, 300));\n        \n\n        JButton button = new JButton(&quot;HI there!&quot;);   // the button does nothing but is nice to spot\n        button.setForeground(Color.WHITE);\n        popupPanel.add(button );\n\n        return popupPanel;\n    }\n\n\n    \n    \n    public static void main(String[] args) {\n        new OverlayoutTest();\n    }\n}\n</code></pre>\n<p>I am using OpenJDK version &quot;11&quot; 2018-09-25, build 11+28 and Java3D 1.7.0</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639677579,"creation_date":1639677579,"answer_id":70383625,"question_id":70380296,"body_markdown":"This code may help you:\r\n\r\n    import org.mapstruct.*;\r\n    import org.springframework.stereotype.Component; \r\n\r\n    @Component\r\n    @Mapper(componentModel = &quot;spring&quot;, builder = @Builder(disableBuilder = true))\r\n    public abstract class EntityMapper{\r\n\r\n        public abstract E map(D dto);\r\n        public abstract D map(E entity);\r\n     }\r\n","title":"Erasure error, while using generic types in methods with similar signature","body":"<p>This code may help you:</p>\n<pre><code>import org.mapstruct.*;\nimport org.springframework.stereotype.Component; \n\n@Component\n@Mapper(componentModel = &quot;spring&quot;, builder = @Builder(disableBuilder = true))\npublic abstract class EntityMapper{\n\n    public abstract E map(D dto);\n    public abstract D map(E entity);\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4152830,"reputation":617,"user_id":3404777,"display_name":"Conscript"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639679953,"creation_date":1639679953,"answer_id":70384062,"question_id":70380296,"body_markdown":"The problem is that both `map(D dto)` and `map(E entity)`, essentially have the same signature. being `map(Object dto)` and `map(Object entity)`. And there is no way for java to determine which method is being called when you call `entityMapper.map(something);`\r\nSo, you need to define your method as follows:\r\n\r\n    public abstract class EntityMapper{\r\n       public abstract &lt;E extends AbstractEntity, D extends AbstractDto&gt; E map(D dto);\r\n       public abstract &lt;E extends AbstractEntity, D extends AbstractDto&gt; D map(E entity);\r\n    }","title":"Erasure error, while using generic types in methods with similar signature","body":"<p>The problem is that both <code>map(D dto)</code> and <code>map(E entity)</code>, essentially have the same signature. being <code>map(Object dto)</code> and <code>map(Object entity)</code>. And there is no way for java to determine which method is being called when you call <code>entityMapper.map(something);</code>\nSo, you need to define your method as follows:</p>\n<pre><code>public abstract class EntityMapper{\n   public abstract &lt;E extends AbstractEntity, D extends AbstractDto&gt; E map(D dto);\n   public abstract &lt;E extends AbstractEntity, D extends AbstractDto&gt; D map(E entity);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23975014,"reputation":11,"user_id":17963233,"display_name":"Sascha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642499691,"creation_date":1642499691,"answer_id":70753559,"question_id":70380296,"body_markdown":"This should work, too:\r\n```\r\npublic interface EntityMapper&lt;D extends AbstractDTO, E extends AbstractEntity&gt; {\r\n    E map(D dto);\r\n    D map(E entity);\r\n}\r\n```","title":"Erasure error, while using generic types in methods with similar signature","body":"<p>This should work, too:</p>\n<pre><code>public interface EntityMapper&lt;D extends AbstractDTO, E extends AbstractEntity&gt; {\n    E map(D dto);\n    D map(E entity);\n}\n</code></pre>\n"}],"owner":{"account_id":2996926,"reputation":2436,"user_id":2724879,"accept_rate":59,"display_name":"Yamen Nassif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70384062,"answer_count":3,"score":2,"last_activity_date":1642499691,"creation_date":1639663285,"question_id":70380296,"body_markdown":"I want to have the following:\r\n\r\nUser\r\nUserDto\r\nUserMapper\r\n\r\n    userDto = userMapper.map(user);\r\n    user = userMapper.map(userDto);\r\n\r\n\r\nMy idea is to have a class similar to this:\r\n\r\n    public interface EntityMapper&lt;E, D&gt; {\r\n        E map(D dto);\r\n        D map(E entity);\r\n    }\r\n\r\nbut i am getting the following error:\r\n\r\n&gt; &#39;map(D)&#39; clashes with &#39;map(E)&#39;; both methods have same erasure\r\n\r\n\r\nHow can i achieve this without having 2 functions to map?\r\n\r\n\r\n","title":"Erasure error, while using generic types in methods with similar signature","body":"<p>I want to have the following:</p>\n<p>User\nUserDto\nUserMapper</p>\n<pre><code>userDto = userMapper.map(user);\nuser = userMapper.map(userDto);\n</code></pre>\n<p>My idea is to have a class similar to this:</p>\n<pre><code>public interface EntityMapper&lt;E, D&gt; {\n    E map(D dto);\n    D map(E entity);\n}\n</code></pre>\n<p>but i am getting the following error:</p>\n<blockquote>\n<p>'map(D)' clashes with 'map(E)'; both methods have same erasure</p>\n</blockquote>\n<p>How can i achieve this without having 2 functions to map?</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642493060,"post_id":70752039,"comment_id":125078147,"body_markdown":"Note that although the return _type_ is `String` (as per your description) it actually represents JSON and thus you need to parse that JSON. I assume this method actually does a webservice call or something similar and thus returns a JSON - if it is creating the JSON internally and you have to parse that again when doing a local call I&#39;d consider this bad design.","body":"Note that although the return <i>type</i> is <code>String</code> (as per your description) it actually represents JSON and thus you need to parse that JSON. I assume this method actually does a webservice call or something similar and thus returns a JSON - if it is creating the JSON internally and you have to parse that again when doing a local call I&#39;d consider this bad design."}],"answers":[{"tags":[],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642493403,"creation_date":1642492992,"answer_id":70752113,"question_id":70752039,"body_markdown":"I would recommend to use [org.json][1] library that is very easy.\r\n\r\nAfter that something like this\r\n\r\n    import org.json.*;\r\n    \r\n    String jsonString = ... ; //assign your JSON String here\r\n    JSONArray arr = new JSONArray(jsonString);\r\n    for (int i = 0; i &lt; arr.length(); i++)\r\n    {\r\n        String paymentType = arr.getJSONObject(i).getString(&quot;paymentType&quot;);\r\n    }\r\n    \r\n\r\n  [1]: https://github.com/stleary/JSON-java","title":"Extracting the value of attribute from a given string","body":"<p>I would recommend to use <a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow noreferrer\">org.json</a> library that is very easy.</p>\n<p>After that something like this</p>\n<pre><code>import org.json.*;\n\nString jsonString = ... ; //assign your JSON String here\nJSONArray arr = new JSONArray(jsonString);\nfor (int i = 0; i &lt; arr.length(); i++)\n{\n    String paymentType = arr.getJSONObject(i).getString(&quot;paymentType&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1607873,"reputation":39,"user_id":1487544,"accept_rate":100,"display_name":"Naresh Saxena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642493127,"answer_count":1,"score":0,"last_activity_date":1642499599,"creation_date":1642492628,"question_id":70752039,"body_markdown":"I have a method named `getPayDetails()` which return type is a string \r\n\r\n`pay.getPaymentDetails()` of which return type is a string and it returns the below string \r\n\r\n```\r\n[\r\n   {\r\n      &quot;mcTtid&quot;:201657083281,\r\n      &quot;cardLast4Digits&quot;:&quot;0887&quot;,\r\n      &quot;paymentType&quot;:&quot;CREDIT CARD&quot;,\r\n      &quot;originalPaymentCategory&quot;:{\r\n         &quot;code&quot;:&quot;Q&quot;,\r\n         &quot;name&quot;:&quot;CREDIT CARD&quot;\r\n      }\r\n   },\r\n   {\r\n      &quot;veTtid&quot;:21656148003,\r\n      &quot;cardLast4Digits&quot;:&quot;4777&quot;,\r\n      &quot;paymentType&quot;:&quot;GIFT CARD&quot;,\r\n      &quot;originalPaymentCategory&quot;:{\r\n         &quot;code&quot;:&quot;Q&quot;,\r\n         &quot;name&quot;:&quot;GIFT CARD&quot;\r\n      }\r\n   },\r\n   {\r\n      &quot;mcTtid&quot;:201625819,\r\n      &quot;cardLast4Digits&quot;:&quot;8388&quot;,\r\n      &quot;paymentType&quot;:&quot;GIFT CARD&quot;,\r\n      &quot;originalPaymentCategory&quot;:{\r\n         &quot;code&quot;:&quot;w&quot;,\r\n         &quot;name&quot;:&quot;GIFT CARD&quot;\r\n      }\r\n   }\r\n]\r\n```\r\n\r\nI need to extract the value of the attribute paymentType from the above string so the value of attribute paymentType in the above string is CREDIT CARD in a separate string variable. how can I do this?","title":"Extracting the value of attribute from a given string","body":"<p>I have a method named <code>getPayDetails()</code> which return type is a string</p>\n<p><code>pay.getPaymentDetails()</code> of which return type is a string and it returns the below string</p>\n<pre><code>[\n   {\n      &quot;mcTtid&quot;:201657083281,\n      &quot;cardLast4Digits&quot;:&quot;0887&quot;,\n      &quot;paymentType&quot;:&quot;CREDIT CARD&quot;,\n      &quot;originalPaymentCategory&quot;:{\n         &quot;code&quot;:&quot;Q&quot;,\n         &quot;name&quot;:&quot;CREDIT CARD&quot;\n      }\n   },\n   {\n      &quot;veTtid&quot;:21656148003,\n      &quot;cardLast4Digits&quot;:&quot;4777&quot;,\n      &quot;paymentType&quot;:&quot;GIFT CARD&quot;,\n      &quot;originalPaymentCategory&quot;:{\n         &quot;code&quot;:&quot;Q&quot;,\n         &quot;name&quot;:&quot;GIFT CARD&quot;\n      }\n   },\n   {\n      &quot;mcTtid&quot;:201625819,\n      &quot;cardLast4Digits&quot;:&quot;8388&quot;,\n      &quot;paymentType&quot;:&quot;GIFT CARD&quot;,\n      &quot;originalPaymentCategory&quot;:{\n         &quot;code&quot;:&quot;w&quot;,\n         &quot;name&quot;:&quot;GIFT CARD&quot;\n      }\n   }\n]\n</code></pre>\n<p>I need to extract the value of the attribute paymentType from the above string so the value of attribute paymentType in the above string is CREDIT CARD in a separate string variable. how can I do this?</p>\n"},{"tags":["java","string","data-structures"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1642487492,"post_id":70751176,"comment_id":125076514,"body_markdown":"What is a &quot;HashSet String?&quot;  Please include some actual Java code here.","body":"What is a &quot;HashSet String?&quot;  Please include some actual Java code here."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1642487547,"post_id":70751176,"comment_id":125076529,"body_markdown":"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#joining()","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#joining()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642487659,"post_id":70751176,"comment_id":125076552,"body_markdown":"Does this string result from calling `toString()` on a `HashSet`? If so, don&#39;t do that but construct the String yourself by concatenating the values without the comma.","body":"Does this string result from calling <code>toString()</code> on a <code>HashSet</code>? If so, don&#39;t do that but construct the String yourself by concatenating the values without the comma."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1642487850,"post_id":70751176,"comment_id":125076603,"body_markdown":"Are you asking how to remove commas from the result of a `HashSet`&#39;s `toString()`, e.g. `&quot;[&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]&quot;`?","body":"Are you asking how to remove commas from the result of a <code>HashSet</code>&#39;s <code>toString()</code>, e.g. <code>&quot;[&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]&quot;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":22499793,"reputation":1,"user_id":16696267,"display_name":"Manikanta B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642487977,"creation_date":1642487977,"answer_id":70751264,"question_id":70751176,"body_markdown":"You just have to use String.join() as followed\r\n\r\n    System.out.println(String.join(&quot;&quot;,h));","title":"How to remove comma from HashSet String java","body":"<p>You just have to use String.join() as followed</p>\n<pre><code>System.out.println(String.join(&quot;&quot;,h));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7532544,"reputation":914,"user_id":5720118,"accept_rate":92,"display_name":"Binyamin Regev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642489749,"creation_date":1642489749,"answer_id":70751513,"question_id":70751176,"body_markdown":"If you are using **Java 8** or later then you can use **Java Stream API**, or *Iterable.forEach()*:\r\n\r\n    public class HashSetExample {\r\n        public static void main(String[] args) {\r\n            Set&lt;String&gt; set = new HashSet&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;));\r\n            System.out.println(&quot;System.out.println(set): &quot; + set);\r\n            System.out.print(&quot;Using .forEach() method: &quot;);\r\n            set.forEach(System.out::print);\r\n            System.out.println();\r\n            System.out.print(&quot;Using Stream API: &quot;);\r\n            set.stream().forEach(System.out::print);\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n\r\nThe output will be:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p4Onq.png","title":"How to remove comma from HashSet String java","body":"<p>If you are using <strong>Java 8</strong> or later then you can use <strong>Java Stream API</strong>, or <em>Iterable.forEach()</em>:</p>\n<pre><code>public class HashSetExample {\n    public static void main(String[] args) {\n        Set&lt;String&gt; set = new HashSet&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;));\n        System.out.println(&quot;System.out.println(set): &quot; + set);\n        System.out.print(&quot;Using .forEach() method: &quot;);\n        set.forEach(System.out::print);\n        System.out.println();\n        System.out.print(&quot;Using Stream API: &quot;);\n        set.stream().forEach(System.out::print);\n        System.out.println();\n    }\n}\n</code></pre>\n<p>The output will be:</p>\n<p><a href=\"https://i.stack.imgur.com/p4Onq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p4Onq.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23973139,"reputation":1,"user_id":17961549,"display_name":"Gurucharan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1642499464,"creation_date":1642487372,"question_id":70751176,"body_markdown":"I have a HashSet String  [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;].  How can I print the String `abc`?\r\n\r\nMy code:\r\n\r\n```\r\nimport java.util.*;\r\npublic class Main\r\n{\r\n    public static void main(String[] args) {\r\n\r\n        HashSet&lt;Character&gt;h=new HashSet&lt;&gt;();\r\n        h.add(&#39;a&#39;);\r\n        h.add(&#39;b&#39;);\r\n        h.add(&#39;c&#39;);\r\n\r\n        // if here i am print HashSet element then print \r\n\r\n        System.out.println(h); //[a,b,c]\r\n\r\n       // now i HashSet convert in String \r\n\r\n        String res=h.toString();    \r\n\r\n        // when i try to print String then print [a,b,c]\r\n\r\n        System.out.println(res);        // [a,b,c] \r\n      //but i am not interest in this result becuase i wnat to print only  abc remove all brackets [] ,and , commas \r\n}\r\n```","title":"How to remove comma from HashSet String java","body":"<p>I have a HashSet String  ['a','b','c'].  How can I print the String <code>abc</code>?</p>\n<p>My code:</p>\n<pre><code>import java.util.*;\npublic class Main\n{\n    public static void main(String[] args) {\n\n        HashSet&lt;Character&gt;h=new HashSet&lt;&gt;();\n        h.add('a');\n        h.add('b');\n        h.add('c');\n\n        // if here i am print HashSet element then print \n\n        System.out.println(h); //[a,b,c]\n\n       // now i HashSet convert in String \n\n        String res=h.toString();    \n\n        // when i try to print String then print [a,b,c]\n\n        System.out.println(res);        // [a,b,c] \n      //but i am not interest in this result becuase i wnat to print only  abc remove all brackets [] ,and , commas \n}\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle","android-appcompat"],"comments":[{"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"score":0,"creation_date":1642499200,"post_id":70753330,"comment_id":125080568,"body_markdown":"please post errors instead of links, and content of app&#39;s build.gradle file.","body":"please post errors instead of links, and content of app&#39;s build.gradle file."}],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642499371,"creation_date":1642499371,"answer_id":70753486,"question_id":70753330,"body_markdown":"Please change `compileSdkVersion` in your project&#39;s app module `build.gradle` file to 31:\r\n\r\n    android {\r\n        compileSdkVersion 31\r\n        ...\r\n    }","title":"How do I add a library (androidx.appcompat:appcompat:1.4.1) in Android Studio","body":"<p>Please change <code>compileSdkVersion</code> in your project's app module <code>build.gradle</code> file to 31:</p>\n<pre><code>android {\n    compileSdkVersion 31\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":22051984,"reputation":3,"user_id":16316140,"display_name":"Kousal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1642504959,"accepted_answer_id":70753486,"answer_count":1,"score":-4,"last_activity_date":1642499371,"creation_date":1642498694,"question_id":70753330,"body_markdown":"I created a **Basic activity** in **Android Studio** and tried to run it on my **Physical Device** but while building the application is show an error under *The minCompileSdk (31) specified in a*:\r\n`The minCompileSdk (31) specified in a`https://pastebin.com/x0PH4aQC\r\n\r\nThe *Build* error:\r\n`Build:failed`https://pastebin.com/CTiV72eK","title":"How do I add a library (androidx.appcompat:appcompat:1.4.1) in Android Studio","body":"<p>I created a <strong>Basic activity</strong> in <strong>Android Studio</strong> and tried to run it on my <strong>Physical Device</strong> but while building the application is show an error under <em>The minCompileSdk (31) specified in a</em>:\n<code>The minCompileSdk (31) specified in a</code>https://pastebin.com/x0PH4aQC</p>\n<p>The <em>Build</em> error:\n<code>Build:failed</code>https://pastebin.com/CTiV72eK</p>\n"},{"tags":["java","iterator","generator"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1496963877,"post_id":44446785,"comment_id":75891332,"body_markdown":"`Iterator` is an interface. To create a new type of iterator, you *have* to create a new class, even if just an anonymous one.","body":"<code>Iterator</code> is an interface. To create a new type of iterator, you <i>have</i> to create a new class, even if just an anonymous one."},{"owner":{"account_id":7531965,"reputation":835,"user_id":5719764,"accept_rate":50,"display_name":"Morphing Coffee"},"score":0,"creation_date":1496966186,"post_id":44446785,"comment_id":75891865,"body_markdown":"@Andreas true - I guess I meant avoiding definitions somewhere outside my main function, as I want to maintain readability of the code.","body":"@Andreas true - I guess I meant avoiding definitions somewhere outside my main function, as I want to maintain readability of the code."}],"answers":[{"tags":[],"owner":{"account_id":8174210,"reputation":110,"user_id":6153557,"display_name":"redbaron"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1607892353,"creation_date":1496963084,"answer_id":44446867,"question_id":44446785,"body_markdown":"Use the index modulo array length:\r\n\r\n    for( int i = 0; i &lt; K; i++ ) {\r\n       list[ i % list.length ];\r\n    }\r\n\r\nWhen it comes to first index (here it&#39;s named `i`) greater or equal to list length, it will &quot;reset&quot; it, because operation modulo (`%`) returns the remainder after integer division.\r\n\r\nThe solution does not introduce any classes.\r\n","title":"Circular iterator / generator for list of custom class items","body":"<p>Use the index modulo array length:</p>\n<pre><code>for( int i = 0; i &lt; K; i++ ) {\n   list[ i % list.length ];\n}\n</code></pre>\n<p>When it comes to first index (here it's named <code>i</code>) greater or equal to list length, it will &quot;reset&quot; it, because operation modulo (<code>%</code>) returns the remainder after integer division.</p>\n<p>The solution does not introduce any classes.</p>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1496964235,"creation_date":1496964235,"answer_id":44447020,"question_id":44446785,"body_markdown":"Try this.\r\n\r\n    static &lt;T&gt; Iterator&lt;T&gt; circularIterator(List&lt;T&gt; list, int count) {\r\n        int size = list.size();\r\n        return new Iterator&lt;T&gt;() {\r\n\r\n            int i = 0;\r\n\r\n            @Override\r\n            public boolean hasNext() {\r\n                return i &lt; count;\r\n            }\r\n\r\n            @Override\r\n            public T next() {\r\n                return list.get(i++ % size);\r\n            }\r\n        };\r\n    }\r\n\r\nAnd\r\n\r\n    List&lt;String&gt; list = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    for (Iterator&lt;String&gt; i = circularIterator(list, 5); i.hasNext();) {\r\n        String s = i.next();\r\n        System.out.println(s);\r\n    }\r\n\r\nresult:\r\n\r\n    a\r\n    b\r\n    c\r\n    a\r\n    b\r\n","title":"Circular iterator / generator for list of custom class items","body":"<p>Try this.</p>\n\n<pre><code>static &lt;T&gt; Iterator&lt;T&gt; circularIterator(List&lt;T&gt; list, int count) {\n    int size = list.size();\n    return new Iterator&lt;T&gt;() {\n\n        int i = 0;\n\n        @Override\n        public boolean hasNext() {\n            return i &lt; count;\n        }\n\n        @Override\n        public T next() {\n            return list.get(i++ % size);\n        }\n    };\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(\"a\", \"b\", \"c\");\nfor (Iterator&lt;String&gt; i = circularIterator(list, 5); i.hasNext();) {\n    String s = i.next();\n    System.out.println(s);\n}\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>a\nb\nc\na\nb\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4808206,"reputation":1497,"user_id":8020142,"display_name":"German"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1496967483,"creation_date":1496965715,"answer_id":44447207,"question_id":44446785,"body_markdown":"A simple way to do this is:\r\n\r\n    import com.google.common.collect.Iterables\r\n    import com.google.common.collect.Iterators;\r\n\r\n    Integer[] arr = {1,2,3,4,5};\r\n    Iterator&lt;Integer&gt; iter = Iterators.limit(Iterables.cycle(arr).iterator(),7) ;\r\n","title":"Circular iterator / generator for list of custom class items","body":"<p>A simple way to do this is:</p>\n\n<pre><code>import com.google.common.collect.Iterables\nimport com.google.common.collect.Iterators;\n\nInteger[] arr = {1,2,3,4,5};\nIterator&lt;Integer&gt; iter = Iterators.limit(Iterables.cycle(arr).iterator(),7) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591127870,"creation_date":1496966623,"answer_id":44447337,"question_id":44446785,"body_markdown":"Here&#39;s a Java 8 friendly way:\r\n\r\n    IntStream.range(0, K)\r\n        .mapToObj(i -&gt; list[i % list.length])\r\n        .forEach(cc -&gt; /* play with CustomClass cc instance */);","title":"Circular iterator / generator for list of custom class items","body":"<p>Here's a Java 8 friendly way:</p>\n\n<pre><code>IntStream.range(0, K)\n    .mapToObj(i -&gt; list[i % list.length])\n    .forEach(cc -&gt; /* play with CustomClass cc instance */);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":164351,"reputation":5883,"user_id":387048,"accept_rate":100,"display_name":"Omid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642499114,"creation_date":1642260545,"answer_id":70722821,"question_id":44446785,"body_markdown":"In order to have a cyclic iterator, you could use Apache `commons-collections4`&#39;s [`LoopingIterator`][1] or [`LoopingListIterator`][2]:\r\n\r\n&gt;  The iterator will loop continuously around the provided elements, unless there are no elements in the collection to begin with, or all the elements have been removed.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Iterator;\r\n    import org.apache.commons.collections4.iterators.LoopingIterator;\r\n\r\n    void circularIterator() {\r\n      CustomClass[] list = new CustomClass[]{\r\n          new CustomClass(&quot;Item 1&quot;, &quot;data&quot;),\r\n          new CustomClass(&quot;Item 2&quot;, &quot;data&quot;),\r\n          new CustomClass(&quot;Item 3&quot;, &quot;data&quot;),\r\n          new CustomClass(&quot;Item 4&quot;, &quot;data&quot;),\r\n          new CustomClass(&quot;Item 5&quot;, &quot;data&quot;),\r\n      };\r\n    \r\n      final Iterator&lt;CustomClass&gt; circularIterator =\r\n          new LoopingIterator(Arrays.asList(list));\r\n      while (circularIterator.hasNext()) {\r\n        CustomClass next = circularIterator.next();\r\n        System.out.println(next.getName());\r\n      }\r\n    }\r\n\r\nThe code produces:\r\n\r\n    Item 1\r\n    Item 2\r\n    Item 3\r\n    Item 4\r\n    Item 5\r\n    Item 1\r\n    Item 2\r\n    Item 3\r\n    Item 4\r\n    Item 5\r\n    Item 1\r\n    Item 2\r\n    Item 3\r\n    Item 4\r\n    Item 5\r\n    Item 1\r\n    ...\r\n    // This would never end\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/iterators/LoopingIterator.html\r\n  [2]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/iterators/LoopingListIterator.html","title":"Circular iterator / generator for list of custom class items","body":"<p>In order to have a cyclic iterator, you could use Apache <code>commons-collections4</code>'s <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/iterators/LoopingIterator.html\" rel=\"nofollow noreferrer\"><code>LoopingIterator</code></a> or <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/iterators/LoopingListIterator.html\" rel=\"nofollow noreferrer\"><code>LoopingListIterator</code></a>:</p>\n<blockquote>\n<p>The iterator will loop continuously around the provided elements, unless there are no elements in the collection to begin with, or all the elements have been removed.</p>\n</blockquote>\n<pre><code>import java.util.Arrays;\nimport java.util.Iterator;\nimport org.apache.commons.collections4.iterators.LoopingIterator;\n\nvoid circularIterator() {\n  CustomClass[] list = new CustomClass[]{\n      new CustomClass(&quot;Item 1&quot;, &quot;data&quot;),\n      new CustomClass(&quot;Item 2&quot;, &quot;data&quot;),\n      new CustomClass(&quot;Item 3&quot;, &quot;data&quot;),\n      new CustomClass(&quot;Item 4&quot;, &quot;data&quot;),\n      new CustomClass(&quot;Item 5&quot;, &quot;data&quot;),\n  };\n\n  final Iterator&lt;CustomClass&gt; circularIterator =\n      new LoopingIterator(Arrays.asList(list));\n  while (circularIterator.hasNext()) {\n    CustomClass next = circularIterator.next();\n    System.out.println(next.getName());\n  }\n}\n</code></pre>\n<p>The code produces:</p>\n<pre><code>Item 1\nItem 2\nItem 3\nItem 4\nItem 5\nItem 1\nItem 2\nItem 3\nItem 4\nItem 5\nItem 1\nItem 2\nItem 3\nItem 4\nItem 5\nItem 1\n...\n// This would never end\n</code></pre>\n"}],"owner":{"account_id":7531965,"reputation":835,"user_id":5719764,"accept_rate":50,"display_name":"Morphing Coffee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4314,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1642499114,"creation_date":1496962522,"question_id":44446785,"body_markdown":"Say I have a custom class:\r\n    \r\n    public class CustomClass {\r\n        private String name;\r\n        private String data;\r\n    \r\n        public CustomClass(String name, String data) {\r\n            this.name = name;\r\n            this.data = data;\r\n        }\r\n    }\r\n    \r\nI also have a list of my custom class objects:\r\n    \r\n    CustomClass[] list = new CustomClass[] {\r\n        new CustomClass(&quot;Item 1&quot;, &quot;data&quot;),\r\n        new CustomClass(&quot;Item 2&quot;, &quot;data&quot;),\r\n        new CustomClass(&quot;Item 3&quot;, &quot;data&quot;),\r\n        new CustomClass(&quot;Item 4&quot;, &quot;data&quot;),\r\n        new CustomClass(&quot;Item 5&quot;, &quot;data&quot;),\r\n    };\r\n\r\nHow can I create an iterator (or, rather, generator) to iterate through the list K times (K &gt; list.length) giving me next element every time?\r\n\r\n**I prefer an &quot;inline&quot; solution (without creating any new classes).**\r\n\r\nSay, I need to get my CustomClass list items one after another K = 7 times. The solution should retrieve me following CustomClass objects:  \r\n  \r\n* Item 1  \r\n* Item 2  \r\n* Item 3  \r\n* Item 4  \r\n* Item 5  \r\n* Item 1  \r\n* Item 2  \r\n\r\n","title":"Circular iterator / generator for list of custom class items","body":"<p>Say I have a custom class:</p>\n<pre><code>public class CustomClass {\n    private String name;\n    private String data;\n\n    public CustomClass(String name, String data) {\n        this.name = name;\n        this.data = data;\n    }\n}\n</code></pre>\n<p>I also have a list of my custom class objects:</p>\n<pre><code>CustomClass[] list = new CustomClass[] {\n    new CustomClass(&quot;Item 1&quot;, &quot;data&quot;),\n    new CustomClass(&quot;Item 2&quot;, &quot;data&quot;),\n    new CustomClass(&quot;Item 3&quot;, &quot;data&quot;),\n    new CustomClass(&quot;Item 4&quot;, &quot;data&quot;),\n    new CustomClass(&quot;Item 5&quot;, &quot;data&quot;),\n};\n</code></pre>\n<p>How can I create an iterator (or, rather, generator) to iterate through the list K times (K &gt; list.length) giving me next element every time?</p>\n<p><strong>I prefer an &quot;inline&quot; solution (without creating any new classes).</strong></p>\n<p>Say, I need to get my CustomClass list items one after another K = 7 times. The solution should retrieve me following CustomClass objects:</p>\n<ul>\n<li>Item 1</li>\n<li>Item 2</li>\n<li>Item 3</li>\n<li>Item 4</li>\n<li>Item 5</li>\n<li>Item 1</li>\n<li>Item 2</li>\n</ul>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8321,"page":1671,"page_size":100}
